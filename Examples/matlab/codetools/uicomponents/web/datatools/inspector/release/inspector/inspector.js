//>>built
/*
 Copyright 2013-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2012-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2013-2016 The MathWorks, Inc.
 @module MW/dialog/DialogUtils

 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.

 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.

 Copyright 2014 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2017 MathWorks, Inc.
 Copyright 2014 MathWorks, Inc.
 Copyright 2014 MathWorks, Inc.
 Copyright 2016 MathWorks, Inc.
 Copyright 2016 MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description Dialogs is a factory module which used to create a basic dialog framework
 @module mw-dialogs/Dialogs
 Copyright 2016 The MathWorks, Inc.
 @description This module is a newable object which contains the dialog creation life cycle and
 its APIs
 @module mw-dialogs/Dialog
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description Resizable provides API to make a widget resizable
 @module mw-dialogs/controller/Resizable
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description ButtonBar is a module which used to create button bar for a dialog
 @module mw-dialogs/view/ButtonBar
 Copyright 2016 The MathWorks, Inc.
 @description Enumeration of Buttons and Button types. <br />
 There are five types of commit buttons, the framework will
 place the buttons in the Commit Button Area in the following order from left-to-right:
  1. [Do It]
  2. [Don't Do It]
  3. [Cancel]
  4. [Apply]
  5. [Revert]

 Only allow one same type of buttons could exist, if several same type of buttons be
 specified, it will accept the first one. <br />

 Expand the Members to see enumerations of ButtonEnum and TYPE.
 @module mw-dialogs/ButtonEnum
 Copyright 2016 The MathWorks, Inc.
 @description ContentWidget is a module which used to render content for a dialog
 @module mw-dialogs/view/ContentWidget
 Copyright 2016 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2013-2014 The MathWorks, Inc.
 @class ClientPeerView
 Copyright 2013-2014 The MathWorks, Inc.
 @class ClientArrayView
 Copyright 2013-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class _EditorBase
 Copyright 2015 The MathWorks, Inc.
 @class _RendererBase
 Copyright 2013-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 @class ClientArrayView
 Copyright 2015 The MathWorks, Inc.
 @class StringArrayView
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class CellArrayView
 Copyright 2015 The MathWorks, Inc.
 @class VectorStructureArrayView
 Copyright 2013 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class InspectorViewModel
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
*/
require({cache:{"variableeditor/ClientPeerManagerFactory":function(){define("variableeditor/ClientPeerManagerFactory",["variableeditor/ClientPeerManager","variableeditor/VariableEditorUtils","mw-log/Log","dojo/topic"],function(k,d,e,c){function b(){l||(l=new k({channel:"/VariableEditorManager"}),m[l.channel]=l,l.manager.addEventListener("rootSet",function(b){d.logDebug("VE: Factory Root Set");var g=b.target;b=g.getProperty("Debug");void 0!==b&&d.setDebug(b.Debug);g.addEventListener("propertySet",
function(a){a.data&&a.data.key&&"Managers"===a.data.key?d.logDebug("VE: Factory Managers Updated"):a.data&&(a.data.key&&"Debug"===a.data.key)&&d.setDebug(a.data.newValue.Debug)});g.addEventListener("peerEvent",function(b){b.data.type&&"FactoryInitialized"===b.data.type?(d.logDebug("VE: Factory Initialized"),a()):b.data.type&&"ManagerCreated"===b.data.type?b.data.Channel&&(m[b.data.Channel]&&m[b.data.Channel].start&&m[b.data.Channel].autoStart)&&(m[b.data.Channel].start(),d.logDebug("VE: Factory Auto Starting Manager ("+
b.data.Channel+")")):b.data.type&&"log"===b.data.type&&b.data.message&&d.logDebug("VE: Server Log ("+b.data.message+")")});c.subscribe("variableeditor/isDebug",function(a){var b=g.getProperty("Debug");a&&(void 0!==a.Debug&&b&&a.Debug!==b.Debug)&&g.setProperty("Debug",{Debug:a.Debug,Source:"client"})});g&&(g.getProperty("Initialized")&&g.getProperty("Initialized").Initialized)&&a()}));return l}function a(){l&&l.getRoot()&&(h.forEach(function(a,b,g){b=l.getRoot();d.logDebug("VE: Factory Create Manager From Queue ("+
a.channel+")");b.dispatchEvent("peerEvent",b,a)}),h=[])}function f(b){b&&!b.isError&&(g=!0,a())}var l,m={},h=[],g=!1,p=0;return{createManager:function(a){b();a.channel||(p+=1,a.channel="/VE_"+p);if(m&&m[a.channel]&&!a.forceNewManager)return m[a.channel];var g=m,c=a.channel,f;if(a){var l=b();a.manager&&(l=a.manager);f=a.channel;var d=a.ignoreUpdates||!1;l||(l=b());(l=l.getRoot())?l.dispatchEvent("peerEvent",l,{type:"CreateManager",channel:f,ignoreUpdates:d||!1}):h.push({type:"CreateManager",channel:f,
ignoreUpdates:d||!1});f=new k(a)}else f=null;g[c]=f;return m[a.channel]},deleteManager:function(a){if(!a&&a.channel)return null;var g=b(),c=a.channel;g||(g=b());(g=g.getRoot())?g.dispatchEvent("peerEvent",g,{type:"DeleteManager",channel:c}):h.push({type:"DeleteManager",channel:c});m[a.channel]=null},start:function(a){a?d.runFactoryInitInMATLAB("internal.matlab.variableeditor.peer.PeerManagerFactory.startup",f):g=!0;b().start()},isStarted:function(){return g}}})},"variableeditor/ClientPeerManager":function(){define("variableeditor/ClientPeerManager",
"dojo/_base/declare dojo/_base/connect mw-peermodel/PeerModelManager mw-peermodel/Observable datatoolsservices/ActionService/ActionDataServiceFactory datatoolsservices/ContextMenuService/ContextMenuManager variableeditor/ClientPeerDocument variableeditor/ContextUpdateManager variableeditor/VariableEditorUtils dojo/topic mw-log/Log".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){var p="";return k("variableeditor.ClientPeerManager",[c.Impl],{constructor:function(a){this.channel="/VariableEditorManager";
this.editable=!0;this.cssSpecifier="mw_type_VariableEditorTable";this.defaultContextId="variable";a&&(this.messageService=a.messageService,this.executionService=a.executionService,this.helpDataService=a.helpDataService,this.channel=a.channel||"/VariableEditorManager",this.editable=void 0===a.editable?!0:a.editable,this.ignoreUpdates=void 0===a.ignoreUpdates?!1:a.ignoreUpdates,this.cssSpecifier=a.cssSpecifier||"mw_type_VariableEditorTable",this.allArgs=a,this.autoStart=void 0===a.autoStart?!0:a.autoStart);
this.topicBase="/ML/"+this.channel;this.allArgs.topicBase=this.topicBase;this.contextUpdateChannel=this.allArgs.contextUpdateChannel=this.topicBase+"/ContextUpdate";this.contextId=this.allArgs.contextId="VariableEditor";d.subscribe("/nonModalDialogClose",this,"purgeAll");this.manager=e.getInstance(this.channel);this.peerDocuments=[];this.variableListeners=[];this.hasFocus=!1;this.contextUpdateManager=this.contextMenuManager=this.actionDataService=this.focusedDocument=null;this.contextNameSpace=this.actionNameSpace=
"";this.managerListeners=[];this._init()},_addDocument:function(a){try{if(a.hasProperty("docID")){this.contextUpdateManager||(this.contextUpdateManager=new l({defaultContextId:this.defaultContextId,contextId:this.contextId,contextUpdateChannel:this.contextUpdateChannel,managerChannel:this.channel}));this.allArgs=m.mergeObjects(this.allArgs,{documentNode:a,rootNode:a&&a.getRoot?a.getRoot():void 0,clientPeerManager:this});var b=a.hasProperty("userContext")?a.getProperty("userContext"):null;if(b&&"string"===
typeof b&&"{"===b.charAt(0))try{b=JSON.parse(a.getProperty("userContext"))}catch(h){g.error(h),g.error(h.stack)}a.getProperty("docID")&&this.peerDocuments[a.getProperty("docID")]?this.peerDocuments[a.getProperty("docID")].init(this.allArgs):b&&b.veTempID&&this.peerDocuments[b.veTempID]?(this.peerDocuments[a.getProperty("docID")]=this.peerDocuments[b.veTempID],this.peerDocuments[a.getProperty("docID")].init(this.allArgs),delete this.peerDocuments[b.veTempID]):this.peerDocuments[a.getProperty("docID")]=
new f(this.allArgs);this.dispatchEvent("variableAdded",this,{peerDoc:this.peerDocuments[a.getProperty("docID")]})}else g.error("Variable Editor Peer Document missing docID properties in childAdded")}catch(c){g.error(c),g.error(c.stack)}},_init:function(){var a=this;this.manager.addEventListener("rootSet",function(b){b=b.target;a.dispatchEvent("managerReady",a,{peerManager:a});b.addEventListener("childAdded",function(b){a._addDocument(b.data.child)});if(b.getChildren&&0<b.getChildren().length)for(var h=
0;h<b.getChildren().length;h+=1){var c=b.getChildren()[h];a._addDocument(c)}b.addEventListener("childRemoved",function(b){if(b.data.child.hasProperty("docID")){b=b.data.child.getProperty("docID");var h=a.peerDocuments[b];delete a.peerDocuments[b];a.dispatchEvent("variableRemoved",a,{peerDoc:h})}else g.error("Variable Editor Peer Document missing docID properties in childRemoved")});b.addEventListener("peerEvent",function(a){a.data.type&&"errormsg"===a.data.type&&(a.data.message?m.displayErrorMessage(a.data.message):
g.warn("VE Server error with no message."))});b.addEventListener("propertySet",function(b){a._handlePropertySet(b)},b);b.hasProperty("ActionsInitialized")&&!a.actionDataService&&(h=b.getProperty("ActionsInitialized"),a._initActionService(h.ActionsInitialized,"ActAsClient"));b.hasProperty("ContextMenuInitialized")&&!a.contextMenuManager&&(b=b.getProperty("ContextMenuInitialized"),a._initContextMenuManager(b.ContextMenuInitialized,"ActAsClient"))})},getRoot:function(){return this.manager.getRoot()},
_initActionService:function(a,g){this.actionNameSpace=a;this.actionDataService=b.getInstance({nameSpace:a,mode:g})},_initContextMenuManager:function(b,g){this.contextNameSpace=b;this.contextMenuManager=new a({namespace:b,mode:g,contextAppID:this.channel})},_handlePropertySet:function(a){if(!a.data||!a.data.newValue||!(a.data.newValue.Source&&"server"!==a.data.newValue.Source)){if("ActionsInitialized"===a.data.key&&!this.actionDataService)namespace=a.data.newValue,namespace.ActionsInitialized&&(namespace=
namespace.ActionsInitialized),this._initActionService(namespace,"ActAsClient");else if("ContextMenuInitialized"===a.data.key&&!this.contextMenuManager)contextnamespace=a.data.newValue,contextnamespace.ContextMenuInitialized&&(contextnamespace=contextnamespace.ContextMenuInitialized),this._initContextMenuManager(contextnamespace,"ActAsClient");else if("HasFocus"===a.data.key){var b=a.data.newValue;void 0!==b.HasFocus&&(this.hasFocus=b.HasFocus,this.dispatchEvent("managerFocusChanged",this,{peerManager:this,
hasFocus:this.hasFocus}))}else if("FocusedDocument"===a.data.key)if((a=a.data.newValue.FocusedDocument)&&this.peerDocuments){for(b in this.peerDocuments)if(this.peerDocuments.hasOwnProperty(b)&&this.peerDocuments[b].varDocID===a){this.focusedDocument=this.peerDocuments[b];break}this.dispatchEvent("variableFocusGained",this,{peerDoc:this.focusedDocument})}else this.focusedDocument&&this.dispatchEvent("variableFocusLost",this,{peerDoc:this.focusedDocument}),this.focusedDocument=null;this.hasFocus&&
(this.focusedDocument&&this.focusedDocument.focus)&&this.focusedDocument.focus()}},setFocusedDocument:function(a){this.focusedDocument=a;this.hasFocus||(p!==a.clientPeerManager.channel&&(h.publish("/datatools/selectionChanged",""),p=a.clientPeerManager.channel),this.manager.getRoot().setProperty("HasFocus",{HasFocus:!0,Source:"client",Channel:this.manager.channel,Document:a.varName}));this.manager.getRoot().setProperty("FocusedDocument",{HasFocus:!0,Source:"client",Channel:this.manager.channel,Document:a.varDocID});
this.hasFocus=!0;this.dispatchEvent("managerFocusChanged",this,{peerManager:this,hasFocus:!0})},removeFocusedDocument:function(a){this.focusedDocument===a&&(this.focusedDocument=[],this.hasFocus&&this.manager.getRoot().setProperty("HasFocus",{HasFocus:!1,Source:"client",Channel:this.manager.channel,Document:a.varName}),this.hasFocus=!1,this.dispatchEvent("managerFocusChanged",this,{peerManager:this,hasFocus:!1}))},openDocument:function(a,b){m.logDebug("VE: Open Document");if(this.peerDocuments[a])return this.peerDocuments[a];
var g=null,g=new f(b);return this.peerDocuments[a]=g},openVariable:function(a,b,g,h){m.logDebug("VE: Open Variable");var c=null;if(!this.ignoreUpdates)for(var l in this.peerDocuments)if(this.peerDocuments.hasOwnProperty(l)){var d=this.peerDocuments[l];a===d.varName&&(c=d)}c||(c=new f,c.varName=a,this._lastTempID||(this._lastTempID=1),this._lastTempID+=1,c.tempID="_temp_id_"+this._lastTempID,this.peerDocuments[c.tempID]=c);l=b||{};l.veTempID=c.tempID;b=this.manager.getRoot();a={type:"OpenVariable",
variable:a,userContext:l};g&&(a.value=g);h&&(a.workspace=h);b&&b.dispatchEvent("peerEvent",b,a);return c},closeVariable:function(a){m.logDebug("VE: Close Variable");var b=this.manager.getRoot();b.dispatchEvent("peerEvent",b,{type:"RemoveDocument",variable:a,userContext:this.userContext})},closeAllVariables:function(){m.logDebug("VE: Close All Variables");var a=this.manager.getRoot();a.dispatchEvent("peerEvent",a,{type:"CloseAll",userContext:this.userContext})},purgeAll:function(){this.closeFcn()},
start:function(){this.manager.setSyncEnabled(!0)},stop:function(){this.manager.setSyncEnabled(!1);var a=this.manager.getRoot();a&&a.destroy&&a.destroy()},destroy:function(){this.inherited(arguments);var a=this;require(["variableeditor/ClientPeerManagerFactory"],function(b){b.deleteManager(a)})}})})},"mw-peermodel/PeerModelManager":function(){define(["dojo/_base/declare","./PropSetPeerSynchronizer","./PeerNode","./PeerSynchronizer","./Observable"],function(k,d,e,c,b){var a=k([b],{getNamespace:function(){},
move:function(a,b,g,c){},setRoot:function(a,b,g){},getRoot:function(){},hasRoot:function(){},hasById:function(a){},getById:function(a){},setSyncEnabled:function(a,b){},isSyncEnabled:function(){},getByType:function(a,b){},getByProperty:function(a,b,g){}}),f=k([a,b.Syncable],{setRootWithId:function(a,b,g,c){}}),l=k([f,b.Impl],{constructor:function(){this._root=null;this._sync=!1;this._idCache={}},setRootWithId:function(a,b,g,c){if(this.hasRoot())throw Error("Root node already exists.");a=new e.Impl(a,
b,g,this._idCache);this._setRoot(a,c);return a},setRoot:function(a,b,g){if(this.hasRoot())throw Error("Root node already exists.");a=e.Impl.createNode(a,b,this._idCache);this._setRoot(a,g);return a},_setRoot:function(a,b){this._root=a;var g=this;this._root.destroy=function(a){g.dispatchEvent("rootDestroyed",this,void 0,a);e.Impl.prototype.destroy.call(this,a);g._root=null;g.dispatchEvent("rootUnset",this,void 0,a)};this.dispatchEvent("rootSet",this._root,void 0,b);return this._root},getRoot:function(){return this._root},
hasRoot:function(){return!!this._root},hasById:function(a){return this._idCache.hasOwnProperty(a)},getById:function(a){if(this._idCache.hasOwnProperty(a))return this._idCache[a];throw Error("No root node exists");},move:function(a,b,g,c){if(a.getRoot()!==b.getRoot())throw Error("Can not move a node to a different peer model");if(a===b||a.hasDescendant(a.getId()))throw Error("Can not move a node to be a child or descendant of itself");var f,l;if(a.hasParent())f=a.getParent(),l=f.getChildIndex(a);else throw Error("Only un-orphaned nodes can be moved.");
if(l!==g||f!==b)f._removeChild(a),g=b._addChild(a,g),this.dispatchEvent("childMoved",a,{oldParent:f,oldIndex:l,newParent:b,newIndex:g},c)},setSyncEnabled:function(a,b){this._sync!==a&&(this._sync=a,this.dispatchEvent("syncChanged",this,{syncEnabled:this._sync},b))},isSyncEnabled:function(){return this._sync},getByType:function(a,b){var g=[];b||(b=this.getRoot());b&&b.accept(function(b){b.getType()===a&&g.push(b)});return g},getByProperty:function(a,b,g){var c=[];g||(g=this.getRoot());g&&g.accept(function(g){g.hasProperty(a)&&
g.getProperty(a)===b&&c.push(g)});return c}});a._clientPropSet=!0;a.setClientPropSetEnabled=function(b){a._clientPropSet=b};a.clearInstances=function(){a._instances={};a._serverInstances={}};a.clearInstances();a.getInstance=a.getClientInstance=function(b,h){if(!this._instances[b]){var g=new l,f;f=a._clientPropSet?new d(b,g,h):new c(b,g,h);this._instances[b]={manager:g,synchronizer:f}}return this._instances[b].manager};a.getServerInstance=function(b,h){if(!this._serverInstances[b]){var g=new l,f;f=
a._clientPropSet?new d(b,g,h,!1):new c(b,g,h,!1);this._serverInstances[b]={manager:g,synchronizer:f}}return this._serverInstances[b].manager};a.cleanup=function(b){a._instances[b]&&(a._instances[b].manager.setSyncEnabled(!1),a._instances[b].manager.hasRoot()&&a._instances[b].manager.getRoot().destroy(),delete a._instances[b])};a.Impl=l;return a})},"mw-peermodel/PropSetPeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./PeerSynchronizer".split(" "),
function(k,d,e,c,b,a){return k([a],{propertiesSetObserver:function(a){if(a.originator!==this._originator&&(Object.keys(a.data.newValues).forEach(function(b){this.updateVersionVector(b,a.target)},this),this.shouldSync()&&this.isReady())){var b=this.createNewMessage();b.targetId=a.target.getId();var m=a.data.newValues,h=a.data.oldValues;Object.keys(m).forEach(function(g){if(c.isImageData(m[g])){var d=h[g];delete a.data.newValues[g];if(!this.isClient&&c.isImageData(d)){var e=this.createNewMessage();
e.targetId=a.target.getId();e.key=g;e.newValue=this.imageDifferencer.computeImageDataDifferences(d,m[g]);this.publish(this.getChannel("imageUpdate"),b)}}else(null===m[g]||void 0===m[g])&&delete a.data.newValues[g]},this);0<Object.keys(m).length&&(b.properties=a.data.newValues,b.versionVector=d.clone(a.target._versionVector),this.publish(this.getChannel(a.type),b))}},propertiesSetSubscriber:function(a){this.log("propertiesSetSubscriber",a);var b=a.data,c=b.targetId;if(this.manager.hasById(c))try{var h=
this.manager.getById(c),g;for(g in b.properties)b.properties.hasOwnProperty(g)&&(b.properties[g]instanceof Image?(this.imageDifferencer.updatePropertyWithImage(h,g,b.properties[g]),delete b.properties[g]):this.shouldUpdateProperties(g,h,a.data.versionVector)||delete b.properties[g],a.data.versionVector&&this.mergeVersionVectors(g,h,a.data.versionVector));h.setProperties(b.properties,this._originator);this._updateNodePagedData(h)}catch(d){this._error("Error while trying set properties.",a,d)}},shouldUpdateProperties:function(a,
b,c){return this.isClient?!(b._versionVector&&b._versionVector[a]&&(!c||!c[a])):!c||!c[a]||!b._versionVector||!b._versionVector[a]||b._versionVector[a][this.clientId]<=c[a][this.clientId]},updateVersionVector:function(a,b){this.isClient&&(!b._versionVector||!b._versionVector[a])?(b._versionVector=b._versionVector||{},b._versionVector[a]={},Object.keys(this.syncEnabled).forEach(function(c){b._versionVector[a][c]=1})):b._versionVector&&b._versionVector[a]&&(b._versionVector[a][this.clientId]+=1)},mergeVersionVectors:function(a,
b,c){if(c&&c[a]){if(!b._versionVector||!b._versionVector[a])b._versionVector=b._versionVector||{},b._versionVector[a]={};Object.keys(c[a]).forEach(function(h){b._versionVector[a][h]=Math.max(c[a][h],b._versionVector[a][h]||1)})}},convertNode:function(a){var b=this.inherited(arguments);b.versionVectors=a._versionVector;return b},updateNodeRecursive:function(a,b){b.versionVectors&&Object.keys(b.versionVectors).forEach(function(c){this.mergeVersionVectors(c,a,b.versionVectors)},this);this.inherited(arguments)}})})},
"mw-log/Log":function(){define(["dojo/date/locale"],function(k){return function(){function d(g){l&&(m||!a||!a.log)&&l.apply(b,g)}function e(g){f[g]=function(){if(0!==h&&a&&a[g])if("assert"===g){if(!arguments[0])if(b.ScriptEngine){var c=Array.prototype.slice.call(arguments);c.shift();a[g](!1,c)}else a[g].apply(a,arguments)}else if(b.ScriptEngine)if(-1!==g.indexOf("profile"))a[g]();else a[g](arguments[0]);else a[g].apply(a,arguments)}}function c(c,m){f[m]=function(){var f=Array.prototype.slice.call(arguments),
l=k.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),e=[m].concat(f),f=[l].concat(f);g.push(e);g.length>p&&g.shift();d(e);if(a&&(0<h?h>c:n.length+h<=c))if(a.firebug&&"error"!==m)a[m].apply(b,f);else if(a[m])a[m](f);else a.log(f)}}var b=this,a=b.console,f={},l,m,h=9,g=[],p=25,n=["error","warn","info","debug","log"],s="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),r;for(r=s.length;0<=(r-=1);)e(s[r]);for(r=n.length;0<=
(r-=1);)c(r,n[r]);f.setLevel=function(a){h="number"===typeof a?a:9};f.setCallback=function(a,b,h){var c=g.length;l=a||null;m="boolean"===typeof b?b:!1;for(a=c-("number"===h?h:c);a<c;)d(g[a+=1])};return f}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(k,d,e,c,b,a,f,l,m){function h(a,b,g,h){return h.replace(/([a-z])\1*/ig,function(m){var l,d,p=m.charAt(0);m=m.length;
var e=["abbr","wide","narrow"];switch(p){case "G":l=b[4>m?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":l=a.getFullYear();switch(m){case 1:break;case 2:if(!g.fullYear){l=String(l);l=l.substr(l.length-2);break}default:d=!0}break;case "Q":case "q":l=Math.ceil((a.getMonth()+1)/3);d=!0;break;case "M":case "L":l=a.getMonth();3>m?(l+=1,d=!0):(p=["months","L"==p?"standAlone":"format",e[m-3]].join("-"),l=b[p][l]);break;case "w":l=n._getWeekOfYear(a,0);d=!0;break;case "d":l=a.getDate();d=!0;
break;case "D":l=n._getDayOfYear(a);d=!0;break;case "e":case "c":if(l=a.getDay(),2>m){l=(l-c.getFirstDayOfWeek(g.locale)+8)%7;break}case "E":l=a.getDay();3>m?(l+=1,d=!0):(p=["days","c"==p?"standAlone":"format",e[m-3]].join("-"),l=b[p][l]);break;case "a":p=12>a.getHours()?"am":"pm";l=g[p]||b["dayPeriods-format-wide-"+p];break;case "h":case "H":case "K":case "k":d=a.getHours();switch(p){case "h":l=d%12||12;break;case "H":l=d;break;case "K":l=d%12;break;case "k":l=d||24}d=!0;break;case "m":l=a.getMinutes();
d=!0;break;case "s":l=a.getSeconds();d=!0;break;case "S":l=Math.round(a.getMilliseconds()*Math.pow(10,m-3));d=!0;break;case "v":case "z":if(l=n._getZone(a,!0,g))break;m=4;case "Z":p=n._getZone(a,!1,g);p=[0>=p?"+":"-",f.pad(Math.floor(Math.abs(p)/60),2),f.pad(Math.abs(p)%60,2)];4==m&&(p.splice(0,0,"GMT"),p.splice(3,0,":"));l=p.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+h);}d&&(l=f.pad(l,m));return l})}function g(a,b,g,h){var c=function(a){return a};b=b||c;
g=g||c;h=h||c;var m=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);d.forEach(m,function(a,h){a?(m[h]=(f?g:b)(a.replace(/''/g,"'")),f=!f):m[h]=""});return h(m.join(""))}function p(b,g,h,c){c=a.escapeString(c);h.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(a){var c;c=a.charAt(0);var m=a.length,f="",l="";h.strict?(1<m&&(f="0{"+(m-1)+"}"),2<m&&(l="0{"+(m-2)+"}")):(f="0?",l="0{0,2}");switch(c){case "y":c="\\d{2,4}";break;case "M":case "L":c=2<m?"\\S+?":"1[0-2]|"+f+"[1-9]";break;
case "D":c="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+l+"[1-9]";break;case "d":c="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":c="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":c=".+?";break;case "h":c="1[0-2]|"+f+"[1-9]";break;case "k":c="1[01]|"+f+"\\d";break;case "H":c="1\\d|2[0-3]|"+f+"\\d";break;case "K":c="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":c="[0-5]\\d";break;case "S":c="\\d{"+m+"}";break;case "a":m=h.am||g["dayPeriods-format-wide-am"];f=h.pm||g["dayPeriods-format-wide-pm"];
c=m+"|"+f;h.strict||(m!=m.toLowerCase()&&(c+="|"+m.toLowerCase()),f!=f.toLowerCase()&&(c+="|"+f.toLowerCase()),-1!=c.indexOf(".")&&(c+="|"+c.replace(/\./g,"")));c=c.replace(/\./g,"\\.");break;default:c=".*"}b&&b.push(a);return"("+c+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};k.setObject(m.id.replace(/\//g,"."),n);n._getZone=function(a,b,g){return b?e.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(a,c){c=c||{};var m=b.normalizeLocale(c.locale),f=c.formatLength||"short",m=n._getGregorianBundle(m),
l=[],d=k.hitch(this,h,a,m,c);if("year"==c.selector)return g(m["dateFormatItem-yyyy"]||"yyyy",d);var p;"date"!=c.selector&&(p=c.timePattern||m["timeFormat-"+f])&&l.push(g(p,d));"time"!=c.selector&&(p=c.datePattern||m["dateFormat-"+f])&&l.push(g(p,d));return 1==l.length?l[0]:m["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return l[b]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(a){a=a||{};var h=b.normalizeLocale(a.locale),h=n._getGregorianBundle(h),
c=a.formatLength||"short",m=a.datePattern||h["dateFormat-"+c],f=a.timePattern||h["timeFormat-"+c],c="date"==a.selector?m:"time"==a.selector?f:h["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[f,m][b]}),l=[];return{regexp:g(c,k.hitch(this,p,l,h,a)),tokens:l,bundle:h}};n.parse=function(a,b){var g=/[\u200E\u200F\u202A\u202E]/g,h=n._parseInfo(b),c=h.tokens,m=h.bundle,g=RegExp("^"+h.regexp.replace(g,"")+"$",h.strict?"":"i").exec(a&&a.replace(g,""));if(!g)return null;var f=["abbr","wide",
"narrow"],l=[1970,0,1,0,0,0,0],p="",g=d.every(g,function(a,g){if(!g)return!0;var h=c[g-1],e=h.length,h=h.charAt(0);switch(h){case "y":if(2!=e&&b.strict)l[0]=a;else if(100>a)a=Number(a),h=""+(new Date).getFullYear(),e=100*h.substring(0,2),h=Math.min(Number(h.substring(2,4))+20,99),l[0]=a<h?e+a:e-100+a;else{if(b.strict)return!1;l[0]=a}break;case "M":case "L":if(2<e){if(e=m["months-"+("L"==h?"standAlone":"format")+"-"+f[e-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),e=d.map(e,function(a){return a.replace(".",
"").toLowerCase()})),a=d.indexOf(e,a),-1==a)return!1}else a--;l[1]=a;break;case "E":case "e":case "c":e=m["days-"+("c"==h?"standAlone":"format")+"-"+f[e-3]].concat();b.strict||(a=a.toLowerCase(),e=d.map(e,function(a){return a.toLowerCase()}));a=d.indexOf(e,a);if(-1==a)return!1;break;case "D":l[1]=0;case "d":l[2]=a;break;case "a":e=b.am||m["dayPeriods-format-wide-am"];h=b.pm||m["dayPeriods-format-wide-pm"];if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();e=e.replace(n,"").toLowerCase();h=
h.replace(n,"").toLowerCase()}if(b.strict&&a!=e&&a!=h)return!1;p=a==h?"p":a==e?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;l[3]=a;break;case "m":l[4]=a;break;case "s":l[5]=a;break;case "S":l[6]=a}return!0}),h=+l[3];"p"===p&&12>h?l[3]=h+12:"a"===p&&12==h&&(l[3]=0);h=new Date(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);b.strict&&h.setFullYear(l[0]);var r=c.join(""),s=-1!=r.indexOf("d"),r=-1!=r.indexOf("M");if(!g||r&&h.getMonth()>l[1]||s&&h.getDate()>l[2])return null;if(r&&
h.getMonth()<l[1]||s&&h.getDate()<l[2])h=e.add(h,"hour",1);return h};var s=[],r={};n.addCustomFormats=function(a,b){s.push({pkg:a,name:b});r={}};n._getGregorianBundle=function(a){if(r[a])return r[a];var g={};d.forEach(s,function(h){h=b.getLocalization(h.pkg,h.name,a);g=k.mixin(g,h)},this);return r[a]=g};n.addCustomFormats(m.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,b,g,h){var c;h=n._getGregorianBundle(h);a=[a,g,b];"standAlone"==g&&(g=a.join("-"),c=h[g],1==c[0]&&(c=void 0));
a[1]="format";return(c||h[a.join("-")]).concat()};n.isWeekend=function(a,b){var g=c.getWeekend(b),h=(a||new Date).getDay();g.end<g.start&&(g.end+=7,h<g.start&&(h+=7));return h>=g.start&&h<=g.end};n._getDayOfYear=function(a){return e.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var g=(new Date(a.getFullYear(),0,1)).getDay(),h=Math.floor((n._getDayOfYear(a)+(g-b+7)%7-1)/7);g==b&&h++;return h};return n})},"dojo/date":function(){define(["./has",
"./_base/lang"],function(k,d){var e={getDaysInMonth:function(c){var b=c.getMonth();return 1==b&&e.isLeapYear(c)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(c){c=c.getFullYear();return!(c%400)||!(c%4)&&!!(c%100)},getTimezoneName:function(c){var b=c.toString(),a="",f=b.indexOf("(");if(-1<f)a=b.substring(++f,b.indexOf(")"));else if(f=/([A-Z\/]+) \d{4}$/,b=b.match(f))a=b[1];else if(b=c.toLocaleString(),f=/ ([A-Z\/]+)$/,b=b.match(f))a=b[1];return"AM"==a||"PM"==a?"":a},compare:function(c,
b,a){c=new Date(+c);b=new Date(+(b||new Date));"date"==a?(c.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==a&&(c.setFullYear(0,0,0),b.setFullYear(0,0,0));return c>b?1:c<b?-1:0},add:function(c,b,a){var f=new Date(+c),l=!1,m="Date";switch(b){case "day":break;case "weekday":var h;(b=a%5)?h=parseInt(a/5):(b=0<a?5:-5,h=0<a?(a-5)/5:(a+5)/5);var g=c.getDay(),d=0;6==g&&0<a?d=1:0==g&&0>a&&(d=-1);g+=b;if(0==g||6==g)d=0<a?2:-2;a=7*h+b+d;break;case "year":m="FullYear";l=!0;break;case "week":a*=7;break;case "quarter":a*=
3;case "month":l=!0;m="Month";break;default:m="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(m)f["set"+m](f["get"+m]()+a);l&&f.getDate()<c.getDate()&&f.setDate(0);return f},difference:function(c,b,a){b=b||new Date;a=a||"day";var f=b.getFullYear()-c.getFullYear(),l=1;switch(a){case "quarter":c=c.getMonth();b=b.getMonth();c=Math.floor(c/3)+1;b=Math.floor(b/3)+1;l=b+4*f-c;break;case "weekday":f=Math.round(e.difference(c,b,"day"));a=parseInt(e.difference(c,b,"week"));l=f%7;if(0==l)f=5*a;else{var m=
0,h=c.getDay();b=b.getDay();a=parseInt(f/7);l=f%7;c=new Date(c);c.setDate(c.getDate()+7*a);c=c.getDay();if(0<f)switch(!0){case 6==h:m=-1;break;case 0==h:m=0;break;case 6==b:m=-1;break;case 0==b:m=-2;break;case 5<c+l:m=-2}else if(0>f)switch(!0){case 6==h:m=0;break;case 0==h:m=1;break;case 6==b:m=2;break;case 0==b:m=1;break;case 0>c+l:m=2}f=f+m-2*a}l=f;break;case "year":l=f;break;case "month":l=b.getMonth()-c.getMonth()+12*f;break;case "week":l=parseInt(e.difference(c,b,"day")/7);break;case "day":l/=
24;case "hour":l/=60;case "minute":l/=60;case "second":l/=1E3;case "millisecond":l*=b.getTime()-c.getTime()}return Math.round(l)}};d.mixin(d.getObject("dojo.date",!0),e);return e})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(k,d){var e={};k.setObject("dojo.cldr.supplemental",e);e.getFirstDayOfWeek=function(c){c={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,
ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[e._region(c)];return void 0===c?1:c};e._region=function(c){c=d.normalizeLocale(c);c=c.split("-");var b=c[1];b?4==b.length&&(b=c[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",
bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",
kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",
sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",
bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",
ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",
mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",
sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[c[0]];return b};e.getWeekend=function(c){var b=e._region(c);
c={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===c&&(c=6);void 0===b&&(b=0);return{start:c,end:b}};return e})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(k,d){var e={};d.setObject("dojo.regexp",e);e.escapeString=function(c,b){return c.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&
-1!=b.indexOf(a)?a:"\\"+a})};e.buildGroupRE=function(c,b,a){if(!(c instanceof Array))return b(c);for(var f=[],l=0;l<c.length;l++)f.push(b(c[l]));return e.group(f.join("|"),a)};e.group=function(c,b){return"("+(b?"?:":"")+c+")"};return e})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(k,d){var e=/[&<>'"\/]/g,c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};d.setObject("dojo.string",b);b.escape=function(a){return!a?
"":a.replace(e,function(a){return c[a]})};b.rep=function(a,b){if(0>=b||!a)return"";for(var c=[];;){b&1&&c.push(a);if(!(b>>=1))break;a+=a}return c.join("")};b.pad=function(a,c,l,m){l||(l="0");a=String(a);c=b.rep(l,Math.ceil((c-a.length)/l.length));return m?a+c:c+a};b.substitute=function(a,b,c,m){m=m||k.global;c=c?d.hitch(m,c):function(a){return a};return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,g,p){if(""==g)return"$";a=d.getObject(g,!1,b);p&&(a=d.getObject(p,!1,m).call(m,a,g));
return c(a,g).toString()})};b.trim=String.prototype.trim?d.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return b})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(k,d,e){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(c){var b=16*Math.random()|0;return("x"===c?b:b&3|8).toString(16)}).toUpperCase()},isImageData:function(c){return!!c&&
(d.global.ImageData&&c instanceof d.global.ImageData||c.hasOwnProperty("width")&&c.hasOwnProperty("height")&&c.hasOwnProperty("data"))},isArray:function(c){e.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(c)},getArrayLength:function(c){var b=0;if(!k.isArray(c))return!1;c.forEach(function(a){a&&(b+=1)});return b},isWhitespace:function(c){return/^\s+$/.test(c)},removeSurroundingNewLines:function(c){for(;"\n"===c.charAt(0);)c=c.substring(1);
for(;"\n"===c.charAt(c.length-1);)c=c.substring(0,c.length-1);return c},getFirstUniqueElement:function(c,b){var a=null;b.some(function(b){if(-1===c.indexOf(b))return a=b,!0});return a},unionOfWordSets:function(c,b,a){c=this._stringToArray(c);b=this._stringToArray(b);c=this.unionOfArrays(c,b);return a?c.join(" "):c},intersectionOfWordSets:function(c,b,a){c=this._stringToArray(c);b=this._stringToArray(b);c=this.intersectionOfArrays(c,b);return a?c.join(" "):c},differenceOfWordSets:function(c,b,a){c=
this._stringToArray(c);b=this._stringToArray(b);c=this.unique(this.differenceOfArrays(c,b));return a?c.join(" "):c},unionOfArrays:function(c,b){return this.unique(c.concat(b))},intersectionOfArrays:function(c,b){return this.nonunique(c.concat(b))},differenceOfArrays:function(c,b){if(void 0===window.Map)return this._legacyDifferenceOfArrays(c,b);var a,f,l,m=new Map,h=[];for(l=0;l<b.length;l++)m.set(b[l],null);for(l=0;l<c.length;l++)f=c[l],(a=m.has(f))||h.push(f);return h},_legacyDifferenceOfArrays:function(c,
b){return this.unique(c.filter(function(a){return-1===b.indexOf(a)}))},unique:function(c){return c.filter(function(b,a){return c.indexOf(b)===a})},nonunique:function(c){return this.unique(c.filter(function(b,a){return c.indexOf(b)!==a}))},arrayEquals:function(c,b,a){if(c===b)return!0;if(c.length!==b.length)return!1;a||(a=function(a,b){return a===b});for(var f=0,l=c.length;f<l;f++)if(!a(c[f],b[f]))return!1;return!0},removeEmptyElements:function(c){return c.filter(function(b){return!(""===b||null===
b||void 0===b)})},_stringToArray:function(c){return!this._isString(c)?c:this.removeEmptyElements(c.split(" "))},_isString:function(c){return"string"===typeof c||c instanceof String}}})},"mw-utils/deprecation":function(){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/_base/config","mw-log/Log"],function(d,e){var c={deprecated:function(b){var a,
c;if((d.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(b))c=window.showDeprecationsAsErrors||b.deprecationLevel===this.ERROR?this.ERROR:this.WARN,a="DEPRECATED: ",b.deprecated&&(a+=b.deprecated.module,b.deprecated.method&&(a+="."+b.deprecated.method+"()"),a+="."),b.replacement&&(a+=" Use "+b.replacement.module,b.replacement.method&&(a+="."+b.replacement.method+"()"),a+=" instead."),b.removalVersion&&(a+=" Will be removed in version: "+b.removalVersion+"."),b.geckNumber&&(a+=" Please use g"+
b.geckNumber+" to track latest information regarding this deprecation"),b.additionalInformation&&(a+=" "+b.additionalInformation),e[c](a)},_isConfigValid:function(b){var a=!!b.deprecated&&"object"===k(b.deprecated)&&b.deprecated.hasOwnProperty("module");b.replacement&&(a=a&&"object"===k(b.replacement)&&b.replacement.hasOwnProperty("module"));b.geckNumber&&(a=a&&"number"===typeof b.geckNumber);a||e.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");
return a}};Object.defineProperties(c,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return c})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),function(k,d,e,c,b,a){var f=new c;c={messageService:f,subscribe:k.hitch(f,"subscribe"),unsubscribe:k.hitch(f,"unsubscribe"),publish:k.hitch(f,"publish"),
start:k.hitch(f,"start"),stop:k.hitch(f,"stop"),isRunning:k.hitch(f,"isStarted"),isStarted:k.hitch(f,"isStarted"),isConnected:k.hitch(f,"isConnected"),isFatallyDisconnected:k.hitch(f,"isFatallyDisconnected"),isDisconnected:k.hitch(f,"isDisconnected"),setLatency:k.hitch(f,"setLatency"),setErrorRate:k.hitch(f,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:k.hitch(f,"handleMessage"),
internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};d.after(f,"onConnected",k.hitch(c,"onConnected"),!0);d.after(f,"onDisconnected",k.hitch(c,"onDisconnected"),!0);d.after(f,"onReconnected",k.hitch(c,"onReconnected"),!0);d.after(f,"onFatallyDisconnected",k.hitch(c,"onFatallyDisconnected"),!0);d.after(f,"onNotConnected",k.hitch(c,"onNotConnected"),
!0);var l=a.enableServerOnWorkerAsync;a.enableServerOnWorkerAsync=function(){l();f.setDelegate(new e(a))};var m=a.disableServerOnWorkerAsync;a.disableServerOnWorkerAsync=function(){m();f.setDelegate(new b(a,f))};a.isServerOnWorkerAsyncEnabled()?a.enableServerOnWorkerAsync():a.disableServerOnWorkerAsync();return c})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(k,d,e,c,b,a,f,l,m){var h;a.JSON.toJSON=c.stringify;a.JSON.fromJSON=c.parse;var g=0,p=0,n={};setInterval(function(){g+=200;Object.keys(n).forEach(function(a){var b=n[a];b.execTime<=g&&(b.func(),delete n[a])})},200);var s=function(b,h,c){var l=new a.LongPollingTransport,l=a.Transport.derive(l);l.xhrSend=function(a){var b=h.sendMessage(a.body,a.url,{headers:a.headers});b.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){b.cancel()}}};var d=new a.Cometd(b),e=a.Utils.setTimeout;
a.Utils.setTimeout=function(a,b,h){if(0===h)return e(a,b,h);p+=1;n[p]={func:function(){try{b()}catch(a){d._debug("Exception invoking timed function",b,a)}},execTime:g+h};return p};a.Utils.clearTimeout=function(a){delete n[a]};a.WebSocket=m.WebSocket;m.WebSocket.proxyClient=h;d.registerExtension("ack",new f);c.websocket&&d.registerTransport("websocket",new a.WebSocketTransport,0);d.registerTransport("long-polling",l,1);return d};h=k([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(a,b,g,h){this.remote=a;this.constructCometD=b||s;this.cometdProperties=h||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};a=["maxNetworkDelay","connectTimeout","logLevel"];if(b=d.cometdProperties)for(h=0;h<a.length;h+=1){var c=a[h];void 0!==b[c]&&(this.cometdProperties[c]=b[c])}this.workerProxyAsyncClient=g||new m("remoteWorkerAsyncProducer");
var f=this;e.after(this.workerProxyAsyncClient,"onError",function(a){f.cometd&&(f.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to IFrame error."),f.cometd.disconnect());f.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){f._deferredCleanup=!1;f.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=h.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var a={};h.enableWebsocket&&this._webSocket.try?a.websocket=!0:(a.websocket=!1,this._webSocket.try=!1);var g=this.constructCometD("messageService",this.workerProxyAsyncClient,a);this.cometd=g;this.logCometdLifecycle&&l.info("MessageServiceAsync constructing new cometd instance.");a=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var c=this,m=new b;a.then(function(a){c.logCometdLifecycle&&l.info("MessageServiceAsync cometd handshake successful.",a,g.getClientId(),g);g.isDisconnected()?(l.error("MessageServiceAsync cometd handshake successful but still disconnected!"),g.disconnect(),m.reject(a)):("websocket"===g.getTransport().getType()&&(c._webSocket.connectedAtLeastOnce=!0),m.resolve(a))},function(a){c.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
a,g.getClientId(),g);g.disconnect();if(a.request&&a.request.supportedConnectionTypes){var b=a.request.supportedConnectionTypes;1<b.length&&("websocket"===b[0]&&!c._webSocket.connectedAtLeastOnce)&&(c._webSocket.try=!1)}m.reject(a)});this.cometdProperties.url=this._getEndpoint();g.init(this.cometdProperties);return m.promise},disconnect:function(){this.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var g=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return g},doSubscribe:function(a){this.logCometdSubscriptions&&
l.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(a){if(this.subscriptions[a]){this.logCometdSubscriptions&&l.info("MessageServiceAsync unsubscribing cometd from channel: "+a);var g=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[a]);delete this.subscriptions[a];
return g}return(new b).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(a){var g=new b;this._addOneShotListener(a,function(a){a.successful?g.resolve(a):(l.warn("Message failed: ",a),g.reject(a))});return g.promise},_addOneShotListener:function(a,b){var g=this,h=this.cometd,c;c=this.cometd.addListener(a,function(a){h.removeListener(c);b.apply(g,arguments)})},_createListenerForUnknownClient:function(){var a=
this.cometd,b=this;a.addListener("/meta/connect",function(g){!g.successful&&(g.advice&&"handshake"===g.advice.reconnect)&&(a.disconnect(),b.onConnectionError(g.error))})},_getEndpoint:function(){return this.routingHost+this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});h.enableWebsocket=!1;h.workerHostOverride=!1;0<=
location.search.indexOf("websocket\x3don")&&(h.enableWebsocket=!0);return h})},"dojox/cometd/cometd":function(){define(function(){var k=this.org=this.org||{};k.cometd={};k.cometd.JSON={};k.cometd.JSON.toJSON=k.cometd.JSON.fromJSON=function(d){throw"Abstract";};k.cometd.Utils={};k.cometd.Utils.isString=function(d){return void 0===d||null===d?!1:"string"===typeof d||d instanceof String};k.cometd.Utils.isArray=function(d){return void 0===d||null===d?!1:d instanceof Array};k.cometd.Utils.inArray=function(d,
e){for(var c=0;c<e.length;++c)if(d===e[c])return c;return-1};k.cometd.Utils.setTimeout=function(d,e,c){return window.setTimeout(function(){try{e()}catch(b){d._debug("Exception invoking timed function",e,b)}},c)};k.cometd.Utils.clearTimeout=function(d){window.clearTimeout(d)};k.cometd.TransportRegistry=function(){var d=[],e={};this.getTransportTypes=function(){return d.slice(0)};this.findTransportTypes=function(c,b,a){for(var f=[],l=0;l<d.length;++l){var m=d[l];!0===e[m].accept(c,b,a)&&f.push(m)}return f};
this.negotiateTransport=function(c,b,a,f){for(var l=0;l<d.length;++l)for(var m=d[l],h=0;h<c.length;++h)if(m===c[h]){var g=e[m];if(!0===g.accept(b,a,f))return g}return null};this.add=function(c,b,a){for(var f=!1,l=0;l<d.length;++l)if(d[l]===c){f=!0;break}f||("number"!==typeof a?d.push(c):d.splice(a,0,c),e[c]=b);return!f};this.find=function(c){for(var b=0;b<d.length;++b)if(d[b]===c)return e[c];return null};this.remove=function(c){for(var b=0;b<d.length;++b)if(d[b]===c)return d.splice(b,1),b=e[c],delete e[c],
b;return null};this.clear=function(){d=[];e={}};this.reset=function(){for(var c=0;c<d.length;++c)e[d[c]].reset()}};k.cometd.Transport=function(){var d,e;this.registered=function(c,b){d=c;e=b};this.unregistered=function(){e=d=null};this._debug=function(){e._debug.apply(e,arguments)};this._mixin=function(){return e._mixin.apply(e,arguments)};this.getConfiguration=function(){return e.getConfiguration()};this.getAdvice=function(){return e.getAdvice()};this.setTimeout=function(c,b){return k.cometd.Utils.setTimeout(e,
c,b)};this.clearTimeout=function(c){k.cometd.Utils.clearTimeout(c)};this.convertToMessages=function(c){if(k.cometd.Utils.isString(c))try{return k.cometd.JSON.fromJSON(c)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+c+'"'),b;}if(k.cometd.Utils.isArray(c))return c;if(void 0===c||null===c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c;};this.accept=function(c,b,a){throw"Abstract";};this.getType=function(){return d};this.send=
function(c,b){throw"Abstract";};this.reset=function(){this._debug("Transport",d,"reset")};this.abort=function(){this._debug("Transport",d,"aborted")};this.toString=function(){return this.getType()}};k.cometd.Transport.derive=function(d){function e(){}e.prototype=d;return new e};k.cometd.RequestTransport=function(){function d(a){for(;0<g.length;){var b=g[0],h=b[0],b=b[1];if(h.url===a.url&&h.sync===a.sync)g.shift(),a.messages=a.messages.concat(h.messages),this._debug("Coalesced",h.messages.length,"messages from request",
b.id);else break}}function e(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var g=this.getConfiguration().maxNetworkDelay,h=g;!0===b.metaConnect&&(h+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",h,"ms for the response, maxNetworkDelay",g);var c=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var g="Request "+b.id+" of transport "+c.getType()+" exceeded "+h+" ms max network delay";c._debug(g);c.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,
a.messages,"timeout",g)},h)}}function c(a){var b=++l,c={id:b,metaConnect:!1};h.length<this.getConfiguration().maxConnections-1?(h.push(c),e.call(this,a,c)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),g.push([a,c]))}function b(a,b){var m=k.cometd.Utils.inArray(a,h);0<=m&&h.splice(m,1);if(0<g.length){var m=g.shift(),f=m[0],l=m[1];this._debug("Transport dequeued request",l.id);if(b)this.getConfiguration().autoBatch&&d.call(this,f),c.call(this,f),this._debug("Transport completed request",
a.id,f);else{var e=this;this.setTimeout(function(){e.complete(l,!1,l.metaConnect);f.onFailure(l.xhr,f.messages,"error","Previous request failed")},0)}}}var a=new k.cometd.Transport,f=k.cometd.Transport.derive(a),l=0,m=null,h=[],g=[];f.complete=function(a,g,h){if(h){a=a.id;this._debug("Transport",this.getType(),"metaConnect complete, request",a);if(null!==m&&m.id!==a)throw"Longpoll request mismatch, completing request "+a;m=null}else b.call(this,a,g)};f.transportSend=function(a,b){throw"Abstract";
};f.transportSuccess=function(a,b,g){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),g&&0<g.length)a.onSuccess(g);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};f.transportFailure=function(a,b,g,h){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,g,h))};f.send=function(a,b){if(b){if(null!==m)throw"Concurrent metaConnect requests not allowed, request id\x3d"+m.id+" not yet completed";var g=++l;this._debug("Transport",
this.getType(),"metaConnect send, request",g,"envelope",a);g={id:g,metaConnect:!0};e.call(this,a,g);m=g}else c.call(this,a)};f.abort=function(){a.abort();for(var b=0;b<h.length;++b){var g=h[b];this._debug("Aborting request",g);g.xhr&&g.xhr.abort()}m&&(this._debug("Aborting metaConnect request",m),m.xhr&&m.xhr.abort());this.reset()};f.reset=function(){a.reset();m=null;h=[];g=[]};return f};k.cometd.LongPollingTransport=function(){var d=new k.cometd.RequestTransport,e=k.cometd.Transport.derive(d),c=
!0;e.accept=function(b,a,f){return c||!a};e.xhrSend=function(b){throw"Abstract";};e.transportSend=function(b,a){this._debug("Transport",this.getType(),"sending request",a.id,"envelope",b);var f=this;try{var l=!0;a.xhr=this.xhrSend({transport:this,url:b.url,sync:b.sync,headers:this.getConfiguration().requestHeaders,body:k.cometd.JSON.toJSON(b.messages),onSuccess:function(h){f._debug("Transport",f.getType(),"received response",h);var g=!1;try{var m=f.convertToMessages(h);0===m.length?(c=!1,f.transportFailure(b,
a,"no response",null)):(g=!0,f.transportSuccess(b,a,m))}catch(l){f._debug(l),g||(c=!1,f.transportFailure(b,a,"bad response",l))}},onError:function(h,g){c=!1;l?f.setTimeout(function(){f.transportFailure(b,a,h,g)},0):f.transportFailure(b,a,h,g)}});l=!1}catch(m){c=!1,this.setTimeout(function(){f.transportFailure(b,a,"error",m)},0)}};e.reset=function(){d.reset();c=!0};return e};k.cometd.CallbackPollingTransport=function(){var d=new k.cometd.RequestTransport,d=k.cometd.Transport.derive(d);d.accept=function(d,
c,b){return!0};d.jsonpSend=function(d){throw"Abstract";};d.transportSend=function(d,c){for(var b=this,a=0,f=d.messages.length,l=[];0<f;){var m=k.cometd.JSON.toJSON(d.messages.slice(a,a+f)),m=d.url.length+encodeURI(m).length;if(2E3<m){if(1===f){var h="Bayeux message too big ("+m+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){b.transportFailure(d,c,"error",h)},0);return}--f}else l.push(f),a+=f,f=d.messages.length-a}var g=d;if(1<l.length){a=0;f=l[0];this._debug("Transport",
this.getType(),"split",d.messages.length,"messages into",l.join(" + "));g=this._mixin(!1,{},d);g.messages=d.messages.slice(a,f);g.onSuccess=d.onSuccess;g.onFailure=d.onFailure;for(m=1;m<l.length;++m){var p=this._mixin(!1,{},d),a=f,f=f+l[m];p.messages=d.messages.slice(a,f);p.onSuccess=d.onSuccess;p.onFailure=d.onFailure;this.send(p,c.metaConnect)}}this._debug("Transport",this.getType(),"sending request",c.id,"envelope",g);try{var n=!0;this.jsonpSend({transport:this,url:g.url,sync:g.sync,headers:this.getConfiguration().requestHeaders,
body:k.cometd.JSON.toJSON(g.messages),onSuccess:function(a){var h=!1;try{var m=b.convertToMessages(a);0===m.length?b.transportFailure(g,c,"no response"):(h=!0,b.transportSuccess(g,c,m))}catch(f){b._debug(f),h||b.transportFailure(g,c,"bad response",f)}},onError:function(a,h){n?b.setTimeout(function(){b.transportFailure(g,c,a,h)},0):b.transportFailure(g,c,a,h)}});n=!1}catch(s){this.setTimeout(function(){b.transportFailure(g,c,"error",s)},0)}};return d};k.cometd.WebSocketTransport=function(){function d(){var a=
f.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,g=null,h=f.getConfiguration().connectTimeout;0<h&&(g=this.setTimeout(function(){g=null;n||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",h,"ms"),b.onClose(1002,"Connect Timeout"))},h));var c=new k.cometd.WebSocket(a),m=function(a){var h=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",h,"/",a,c);g&&(b.clearTimeout(g),g=null);if(c!==p)b._debug("Ignoring close event, WebSocket",
p);else b.onClose(h,a)};c.onopen=function(){b._debug("WebSocket opened",c);g&&(b.clearTimeout(g),g=null);if(c!==p)b._debug("Ignoring open event, WebSocket",p);else b.onOpen()};c.onclose=m;c.onerror=function(){m({code:1002})};c.onmessage=function(a){b._debug("WebSocket message",a,c);if(c!==p)b._debug("Ignoring message event, WebSocket",p);else b.onMessage(a)};p=c;this._debug("Transport",this.getType(),"configured callbacks on",c)}function e(a,b){var h=k.cometd.JSON.toJSON(a.messages);p.send(h);this._debug("Transport",
this.getType(),"sent",a,"metaConnect \x3d",b);var c=h=this.getConfiguration().maxNetworkDelay;b&&(c+=this.getAdvice().timeout,s=!0);for(var m=[],f=0;f<a.messages.length;++f){var l=a.messages[f];if(l.id){m.push(l.id);var d=p;g[l.id]=this.setTimeout(function(){d&&d.close(1E3,"Timeout")},c)}}this._debug("Transport",this.getType(),"waiting at most",c,"ms for messages",m,"maxNetworkDelay",h,", timeouts:",g)}function c(a,b){try{null===p?d.call(this):n&&e.call(this,a,b)}catch(g){var h=p;this.setTimeout(function(){a.onFailure(h,
a.messages,"error",g)},0)}}var b=new k.cometd.Transport,a=k.cometd.Transport.derive(b),f,l=!0,m=!1,h={},g={},p=null,n=!1,s=!1,r;a.onOpen=function(){this._debug("Transport",this.getType(),"opened",p);m=n=!0;this._debug("Sending pending messages",h);for(var a in h){var b=h[a],g=b[0],b=b[1];r=g.onSuccess;e.call(this,g,b)}};a.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,p);var b=!1;a=this.convertToMessages(a.data);for(var c=[],m=0;m<a.length;++m){var f=a[m];
if((/^\/meta\//.test(f.channel)||void 0===f.data)&&f.id){c.push(f.id);var l=g[f.id];l&&(this.clearTimeout(l),delete g[f.id],this._debug("Transport",this.getType(),"removed timeout for message",f.id,", timeouts",g))}"/meta/connect"===f.channel&&(s=!1);"/meta/disconnect"===f.channel&&!s&&(b=!0)}m=!1;for(f=0;f<c.length;++f){var d=c[f],e;for(e in h){var l=e.split(","),n=k.cometd.Utils.inArray(d,l);if(0<=n){m=!0;l.splice(n,1);d=h[e][0];n=h[e][1];delete h[e];0<l.length&&(h[l.join(",")]=[d,n]);break}}}m&&
this._debug("Transport",this.getType(),"removed envelope, envelopes",h);r.call(this,a);b&&p.close(1E3,"Disconnect")};a.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,p);l=m;for(var c in g)this.clearTimeout(g[c]);g={};for(var f in h)c=h[f][0],h[f][1]&&(s=!1),c.onFailure(p,c.messages,"closed "+a+"/"+b);h={};null!==p&&n&&p.close(1E3,"Close");n=!1;p=null};a.registered=function(a,g){b.registered(a,g);f=g};a.accept=function(a,b,g){return l&&!!k.cometd.WebSocket&&!1!==f.websocketEnabled};
a.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect \x3d",b);for(var g=[],m=0;m<a.messages.length;++m){var f=a.messages[m];f.id&&g.push(f.id)}h[g.join(",")]=[a,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",h);c.call(this,a,b)};a.abort=function(){b.abort();if(null!==p)try{p.close(1001)}catch(a){this._debug(a)}this.reset()};a.reset=function(){b.reset();null!==p&&n&&p.close(1E3,"Reset");l=!0;m=!1;g={};h={};p=null;n=!1;r=null};return a};k.cometd.Cometd=
function(d){function e(a){return k.cometd.Utils.isString(a)}function c(a){return void 0===a||null===a?!1:"function"===typeof a}function b(a,b){if(window.console){var g=window.console[a];c(g)&&g.apply(window.console,b)}}function a(){for(var a in $)for(var b=$[a],g=b.length-1;0<=g;--g){var h=b[g];h&&!h.listener&&(b.splice(g,1),E._debug("Removed subscription",h,"for channel",a))}}function f(a){Q!==a&&(E._debug("Status",Q,"-\x3e",a),Q=a)}function l(){return"disconnecting"===Q||"disconnected"===Q}function m(a,
b,g,h,m){try{return b.call(a,h)}catch(f){E._debug("Exception during execution of extension",g,f);a=E.onExtensionException;if(c(a)){E._debug("Invoking extension exception callback",g,f);try{a.call(E,f,g,m,h)}catch(l){E._info("Exception during execution of exception callback in extension",g,l)}}return h}}function h(a){for(var b=0;b<V.length&&!(void 0===a||null===a);++b){var g=V[b],h=g.extension.outgoing;c(h)&&(g=m(g.extension,h,g.name,a,!0),a=void 0===g?a:g)}return a}function g(a,b){var g=$[a];if(g&&
0<g.length)for(var h=g.length-1;0<=h;--h){var m=g[h];try{m.callback.call(m.scope,b)}catch(f){E._debug("Exception during notification",m,b,f);var l=E.onListenerException;if(c(l)){E._debug("Invoking listener exception callback",m,f);try{l.call(E,f,m.handle,m.listener,b)}catch(d){E._info("Exception during execution of listener callback",m,d)}}}}}function p(a,b){g(a,b);for(var h=a.split("/"),c=h.length-1,m=c;0<m;--m){var f=h.slice(0,m).join("/")+"/*";m===c&&g(f,b);f+="*";g(f,b)}}function n(){null!==aa&&
k.cometd.Utils.clearTimeout(aa);aa=null}function s(a){n();var b=X.interval+U;E._debug("Function scheduled in",b,"ms, interval \x3d",X.interval,"backoff \x3d",U,a);aa=k.cometd.Utils.setTimeout(E,a,b)}function r(a,b,g,m){for(var f=0;f<b.length;++f){var l=b[f];l.id=""+ ++Z;R&&(l.clientId=R);var d=void 0;c(l._callback)&&(d=l._callback,delete l._callback);l=h(l);void 0!==l&&null!==l?(b[f]=l,d&&(L[l.id]=d)):b.splice(f--,1)}0!==b.length&&(f=T.url,T.appendMessageTypeToURL&&(f.match(/\/$/)||(f+="/"),m&&(f+=
m)),a={url:f,sync:a,messages:b,onSuccess:function(a){try{fa.call(E,a)}catch(b){E._debug("Exception during handling of messages",b)}},onFailure:function(a,b,g,h){try{da.call(E,a,b,g,h)}catch(c){E._debug("Exception during handling of failure",c)}}},E._debug("Send",a),N.send(a,g))}function q(a){0<P||!0===W?Y.push(a):r(!1,[a],!1)}function t(){var a=Y;Y=[];0<a.length&&r(!1,a,!1)}function u(){f("connecting");s(function(){if(!l()){var a={channel:"/meta/connect",connectionType:N.getType()};ea||(a.advice=
{timeout:0});f("connecting");E._debug("Connect sent",a);r(!1,[a],!0,"connect");f("connected")}})}function w(a){a&&(X=E._mixin(!1,{},T.advice,a),E._debug("New advice",X))}function v(a){n();a&&N.abort();R=null;f("disconnected");U=P=0;0<Y.length&&(da.call(E,void 0,Y,"error","Disconnected"),Y=[])}function x(b){R=null;a();l()?(O.reset(),w(T.advice)):w(E._mixin(!1,X,{reconnect:"retry"}));P=0;W=!0;ba=b;b=O.findTransportTypes("1.0",S,T.url);var g=E._mixin(!1,{},ba,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",
supportedConnectionTypes:b,advice:{timeout:X.timeout,interval:X.interval}});N=O.negotiateTransport(b,"1.0",S,T.url);E._debug("Initial transport is",N.getType());f("handshaking");E._debug("Handshake sent",g);r(!1,[g],!1,"handshake")}function z(){f("handshaking");W=!0;s(function(){x(ba)})}function y(a){p("/meta/handshake",a);p("/meta/unsuccessful",a);!l()&&"none"!==X.reconnect?(U<T.maxBackoff&&(U+=T.backoffIncrement),z()):v(!1)}function B(a){p("/meta/connect",a);p("/meta/unsuccessful",a);a=l()?"none":
X.reconnect;switch(a){case "retry":u();U<T.maxBackoff&&(U+=T.backoffIncrement);break;case "handshake":O.reset();U=0;z();break;case "none":v(!1);break;default:throw"Unrecognized advice action"+a;}}function C(a){v(!0);p("/meta/disconnect",a);p("/meta/unsuccessful",a)}function A(a){p("/meta/subscribe",a);p("/meta/unsuccessful",a)}function D(a){p("/meta/unsubscribe",a);p("/meta/unsuccessful",a)}function F(a){var b=L[a.id];c(b)&&(delete L[a.id],b.call(E,a))}function G(a){F(a);p("/meta/publish",a);p("/meta/unsuccessful",
a)}function I(a){for(var b=0;b<V.length&&!(void 0===a||null===a);++b){var g=V[T.reverseIncomingExtensions?V.length-1-b:b],h=g.extension.incoming;c(h)&&(g=m(g.extension,h,g.name,a,!1),a=void 0===g?a:g)}if(!(void 0===a||null===a))switch(w(a.advice),a.channel){case "/meta/handshake":if(a.successful){R=a.clientId;b=O.negotiateTransport(a.supportedConnectionTypes,a.version,S,T.url);if(null===b)throw"Could not negotiate transport with server; client "+O.findTransportTypes(a.version,S,T.url)+", server "+
a.supportedConnectionTypes;N!==b&&(E._debug("Transport",N,"-\x3e",b),N=b);W=!1;t();a.reestablish=ca;ca=!0;p("/meta/handshake",a);a=l()?"none":X.reconnect;switch(a){case "retry":U=0;u();break;case "none":v(!1);break;default:throw"Unrecognized advice action "+a;}}else y(a);break;case "/meta/connect":if(ea=a.successful)switch(p("/meta/connect",a),a=l()?"none":X.reconnect,a){case "retry":U=0;u();break;case "none":v(!1);break;default:throw"Unrecognized advice action "+a;}else B(a);break;case "/meta/disconnect":a.successful?
(v(!1),p("/meta/disconnect",a)):C(a);break;case "/meta/subscribe":a.successful?p("/meta/subscribe",a):A(a);break;case "/meta/unsubscribe":a.successful?p("/meta/unsubscribe",a):D(a);break;default:void 0===a.successful?void 0!==a.data&&null!==a.data?p(a.channel,a):E._debug("Unknown message",a):a.successful?(F(a),p("/meta/publish",a)):G(a)}}function M(a){if(a=$[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function K(a,b){var g={scope:a,method:b};if(c(a))g.scope=void 0,g.method=a;else if(e(b)){if(!a)throw"Invalid scope "+
a;g.method=a[b];if(!c(g.method))throw"Invalid callback "+b+" for scope "+a;}else if(!c(b))throw"Invalid callback "+b;return g}function J(a,b,g,h){b=K(b,g);E._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);h={channel:a,scope:b.scope,callback:b.method,listener:h};b=$[a];b||(b=[],b.subscriptionCounter=0,$[a]=b);b.push(h);g=b.subscriptionCounter;b.subscriptionCounter+=1;h.id=g;h.handle=[a,g];E._debug("Added listener",h,"for channel",a,"having id \x3d",g);return h.handle}var E=
this,H=d||"default",S=!1,O=new k.cometd.TransportRegistry,N,Q="disconnected",Z=0,R=null,P=0,Y=[],W=!1,$={},U=0,aa=null,V=[],X={},ba,L={},ca=!1,ea=!1,T={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,b,g){for(var h=b||{},c=2;c<arguments.length;++c){var m=arguments[c];if(!(void 0===m||
null===m))for(var f in m){var l=m[f],d=h[f];l!==b&&void 0!==l&&(h[f]=a&&"object"===typeof l&&null!==l?l instanceof Array?this._mixin(a,d instanceof Array?d:[],l):this._mixin(a,"object"===typeof d&&!(d instanceof Array)?d:{},l):l)}}return h};this._warn=function(){b("warn",arguments)};this._info=function(){"warn"!==T.logLevel&&b("info",arguments)};this._debug=function(){"debug"===T.logLevel&&b("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var fa,da;this.send=
q;this.receive=I;fa=function(a){E._debug("Received",a);for(var b=0;b<a.length;++b)I(a[b])};da=function(a,b,g,h){E._debug("handleFailure",a,b,g,h);for(g=0;g<b.length;++g){var c=b[g];switch(c.channel){case "/meta/handshake":y({successful:!1,failure:!0,channel:"/meta/handshake",request:c,xhr:a,advice:{reconnect:"retry",interval:U}});break;case "/meta/connect":h=a;ea=!1;B({successful:!1,failure:!0,channel:"/meta/connect",request:c,xhr:h,advice:{reconnect:"retry",interval:U}});break;case "/meta/disconnect":C({successful:!1,
failure:!0,channel:"/meta/disconnect",request:c,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":A({successful:!1,failure:!0,channel:"/meta/subscribe",request:c,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":D({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:c,xhr:a,advice:{reconnect:"none",interval:0}});break;default:G({successful:!1,failure:!0,channel:c.channel,request:c,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=
function(a,b,g){if(g=O.add(a,b,g))this._debug("Registered transport",a),c(b.registered)&&b.registered(a,this);return g};this.getTransportTypes=function(){return O.getTransportTypes()};this.unregisterTransport=function(a){var b=O.remove(a);null!==b&&(this._debug("Unregistered transport",a),c(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=function(){O.clear()};this.findTransport=function(a){return O.find(a)};this.configure=function(a){E._debug("Configuring cometd object with",
a);e(a)&&(a={url:a});a||(a={});T=E._mixin(!1,T,a);if(!T.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(T.url);a=b[8];var g=b[9];S=E._isCrossDomain(b[2]);T.appendMessageTypeToURL&&(void 0!==g&&0<g.length?(E._info("Appending message type to URI "+a+g+" is not supported, disabling 'appendMessageTypeToURL' configuration"),T.appendMessageTypeToURL=!1):(b=a.split("/"),g=b.length-
1,a.match(/\/$/)&&(g-=1),0<=b[g].indexOf(".")&&(E._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),T.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){f("disconnected");ca=!1;x(a)};this.disconnect=function(a,b){if(!l()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var g=this._mixin(!1,{},b,{channel:"/meta/disconnect"});f("disconnecting");r(!0===a,[g],!1,"disconnect")}};
this.startBatch=function(){++P};this.endBatch=function(){--P;if(0>P)throw"Calls to startBatch() and endBatch() are not paired";0===P&&(!l()&&!W)&&t()};this.batch=function(a,b){var g=K(a,b);this.startBatch();try{g.method.call(g.scope),this.endBatch()}catch(h){throw this._debug("Exception during execution of batch",h),this.endBatch(),h;}};this.addListener=function(a,b,g){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(a))throw"Illegal argument type: channel must be a string";
return J(a,b,g,!0)};this.removeListener=function(a){if(!k.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=$[a[0]],g;if(0<b.length){g=a[1];a:{for(var h=0;h<b.length;){if(b[h].id===g){g=h;break a}h+=1}g=-1}-1!==g&&(b.splice(g,1),E._debug("Removed listener",a))}};this.clearListeners=function(){$={}};this.subscribe=function(a,b,g,h){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(a))throw"Illegal argument type: channel must be a string";
if(l())throw"Illegal state: already disconnected";c(b)&&(h=g,g=b,b=void 0);var m=!M(a),f=J(a,b,g,!1);m&&(m=this._mixin(!1,{},h,{channel:"/meta/subscribe",subscription:a}),q(m));return f};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(l())throw"Illegal state: already disconnected";this.removeListener(a);var g=a[0];M(g)||(g=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:g}),q(g))};this.clearSubscriptions=function(){a()};
this.publish=function(a,b,g,h){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!e(a))throw"Illegal argument type: channel must be a string";if(l())throw"Illegal state: already disconnected";c(b)?(h=b,b=g={}):c(g)&&(h=g,g={});var m=this._mixin(!1,{},g,{channel:a,data:b,_callback:h});q(m)};this.getStatus=function(){return Q};this.isDisconnected=l;this.setBackoffIncrement=function(a){T.backoffIncrement=a};this.getBackoffIncrement=function(){return T.backoffIncrement};
this.getBackoffPeriod=function(){return U};this.setLogLevel=function(a){T.logLevel=a};this.registerExtension=function(a,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(a))throw"Illegal argument type: extension name must be a string";for(var g=!1,h=0;h<V.length;++h)if(V[h].name===a){g=!0;break}if(g)return this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1;V.push({name:a,extension:b});
this._debug("Registered extension",a);c(b.registered)&&b.registered(a,this);return!0};this.unregisterExtension=function(a){if(!e(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,g=0;g<V.length;++g){var h=V[g];if(h.name===a){V.splice(g,1);b=!0;this._debug("Unregistered extension",a);a=h.extension;c(a.unregistered)&&a.unregistered();break}}return b};this.getExtension=function(a){for(var b=0;b<V.length;++b){var g=V[b];if(g.name===a)return g.extension}return null};this.getName=
function(){return H};this.getClientId=function(){return R};this.getURL=function(){return T.url};this.getTransport=function(){return N};this.getConfiguration=function(){return this._mixin(!0,{},T)};this.getAdvice=function(){return this._mixin(!0,{},X)};k.cometd.WebSocket=window.WebSocket;k.cometd.WebSocket||(k.cometd.WebSocket=window.MozWebSocket)};return k.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(k){return k.AckExtension=function(){var d,e=!1,c=-1;this.registered=
function(b,a){d=a;d._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){d._debug("AckExtension: executing unregistration callback",void 0);d=null};this.incoming=function(b){var a=b.channel;if("/meta/handshake"==a)e=b.ext&&b.ext.ack,d._debug("AckExtension: server supports acks",e);else if(e&&"/meta/connect"==a&&b.successful&&(a=b.ext)&&"number"===typeof a.ack)c=a.ack,d._debug("AckExtension: server sent ack id",c);return b};this.outgoing=function(b){var a=b.channel;
"/meta/handshake"==a?(b.ext||(b.ext={}),b.ext.ack=d&&!1!==d.ackEnabled,c=-1):e&&"/meta/connect"==a&&(b.ext||(b.ext={}),b.ext.ack=c,d._debug("AckExtension: client sending ack id",c));return b}}})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),function(k,d,e,c,b,a,f,l,m,h){var g=this,p=d([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",
REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,b,g,h,c){a=this._combineUriPaths(a||"","/");b=b||"";c=c||this.LATEST_VERSION;h=h||"";this.computeToken=g;a===this._host&&b===this._key&&h===this._proxyUrl&&c===this._version||(this._errorLoading=this._loaded=!1,this._host=
a,this._key=b,this._version=c,this._proxyUrl=h,a=this._calculateUrls(a,b,c,h),this._createIframe(a))},_calculateUrls:function(a,b,g,h){var c=this.REMOTE_PROXY+g+"/iframeProxyRelease.html";g=this.REMOTE_PROXY+g+"/CheckJsFile.js";h&&(c=h);c=this._combineUriPaths(a,c).split("?")[0];c+=b?"?routingkey\x3d"+b:"";g=this._combineUriPaths(a,g);g=b?g+("?routingkey\x3d"+b):g+("?time\x3d"+(new Date).getTime());return{fastFailUrl:g,iFrameUrl:c}},_createIframe:function(a){var c=a.fastFailUrl,l=this;this._url=a.iFrameUrl;
this.remoteIframe&&f.destroy(this.remoteIframe);m.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=f.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});this._checkUrl=(new h(c)).then(function(){},b.hitch(l,"_handleLoadTimeoutHitch"));this._loadTimeoutHandle=setTimeout(function(){l._handleLoadTimeoutHitch()},this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||
(this._messageConnection=k.connect(g,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{clearTimeout(this._loadTimeoutHandle);var a=(parseFloat(this._version)-0.1).toFixed(1).toString();m.info("Unable to load proxy version "+this._version+", trying "+a+".");this.setRemotePageHost(this._host,this._key,this.computeToken,this._proxyUrl,a)}},createUploadIframeTarget:function(a,g,h){this._uploadTargetCallbacks[a]=
b.hitch(h||this,g);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(a,b,g){var h=this,f;this.computeToken&&(g=g||{},g.headers=g.headers||{},g.headers.computeToken=this.computeToken);f=this._getNewMessageId();b="sendMessage;"+f+";"+b+";"+(g?c.toJson(g):"{}");b+=";"+a;a={deferred:new e(function(){"1.0"===h._version?m.warn("Cancelling is not supported by the 1.0 remote proxy."):
h._postMessage("abort;"+f)}),id:f};this._errorLoading?a.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[f]=a,this._postMessage(b));return a.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){var b,g;if(a.source===this.remoteIframe.contentWindow){g=a.data.indexOf(";");b=a.data.substring(0,g);if(!b)throw Error("Client unable to parse message, no action specified: "+
a.data);switch(b){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,g);break;case "uploadIframeMessage":b=a.data.indexOf(";",g+1);g=a.data.substring(g+1,b);a=a.data.substring(b+1,a.data.length);this._uploadTargetCallbacks[g](a);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(g+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=
a.data.substring(g+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+b+", data: "+a.data);}}},_sendMessageResponse:function(a,b){var g,h,m=a.data.indexOf(";",b+1);g=a.data.indexOf(";",m+1);var f=a.data.substring(b+1,m),l=a.data.substring(m+1,g),m=a.data.substring(g+1,a.data.length);if(!f||!l)throw Error("Invalid message from remote iframe: "+a.data);g=this._transactions[f];if(!g)throw Error("Unknown transaction id: "+
f+", from remote iframe: "+a.data);delete this._transactions[f];if(!g.deferred.isCanceled())if("success"===l){try{h=m&&c.fromJson(m)}catch(d){h=m}h=""===h?{}:h;g.deferred.resolve(h)}else"fault"===l&&m&&(h=m.split(";"),f=h.length-1,1<=f&&(m.statusCode=h[f])),this.onError(m),g.deferred.reject(m)},_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=
this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,b;this._cleanupFailureChecks();if(!this._loaded)for(b in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,this._transactions={},a)a.hasOwnProperty(b)&&a[b].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(a){function b(){if(0<g._errorRate&&Math.random()<g._errorRate&&
0===a.indexOf("sendMessage;")){if(h=a.split(";",2)[1],c=g._transactions[h])delete g._transactions[h],m.error("Generating simulated error. Request was: ",a),g.onError("403 Forbidden;403"),c.deferred.reject("403 Forbidden;403")}else g.remoteIframe.contentWindow.postMessage(a,g._url)}var g=this,h,c;this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},
onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){if(0===a.length)return b;0<b.length&&("/"===b[0]&&a.lastIndexOf("/")===a.length-1?b=b.substring(1):"/"!==b[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+b})}});p.WebSocket=d([],{constructor:function(b){var g=this;this.proxyClient=p.WebSocket.proxyClient;this.proxyClient.computeToken&&
0<=b.indexOf("?")&&(b=b+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+b);a.after(this.proxyClient,"onWebsocketOpen",function(){g.onopen.apply(g,arguments)},!0);a.after(this.proxyClient,"onWebsocketMsg",function(){g.onmessage.apply(g,arguments)},!0);a.after(this.proxyClient,"onWebsocketClose",function(){g.onclose.apply(g,arguments)},!0);a.after(this.proxyClient,"onWebsocketError",function(){g.onerror.apply(g,arguments)},!0)},onopen:function(){},
onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return p})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(k,d,e,c,b){return function(a){var f,l,m;if(!a)throw Error("Expected a valid url in urlToEmptyJsFile");f={framedoc:null};l=c.get(a,f,!0);f=d.byId(l.id,
f.frameDoc);m=e(f,"error",function(h){b.info("CheckUrlService detected an error accessing url: "+a);l.handleResponse(null,h);m.remove()});return l.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){function p(a,b){a.canDelete&&t._remove(a.id,b.options.frameDoc,!0)}function n(a){y&&y.length&&(b.forEach(y,function(a){t._remove(a.id,a.frameDoc);
a.frameDoc=null}),y=[]);return a.options.jsonp?!a.data:!0}function s(a){return!!this.scriptLoaded}function r(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function q(a,b){if(this.canDelete){var g=this.response.options;y.push({id:this.id,frameDoc:g.ioArgs?g.ioArgs.frameDoc:g.frameDoc});g.ioArgs&&(g.ioArgs.frameDoc=null);g.frameDoc=null}b?this.reject(b):this.resolve(a)}function t(b,g,h){var c=e.parseArgs(b,e.deepCopy({},g));b=c.url;g=c.options;var m=e.deferred(c,p,
n,g.jsonp?null:g.checkString?r:s,q);a.mixin(m,{id:u+w++,canDelete:!1});g.jsonp&&(RegExp("[?\x26]"+g.jsonp+"\x3d").test(b)||(b+=(~b.indexOf("?")?"\x26":"?")+g.jsonp+"\x3d"+(g.frameDoc?"parent.":"")+u+"_callbacks."+m.id),m.canDelete=!0,z[m.id]=function(a){c.data=a;m.handleResponse(c)});e.notify&&e.notify.emit("send",c,m.promise.cancel);if(!g.canAttach||g.canAttach(m)){var l=t._attach(m.id,b,g.frameDoc);if(!g.jsonp&&!g.checkString)var k=f(l,v,function(a){if("load"===a.type||x.test(l.readyState))k.remove(),
m.scriptLoaded=a})}f.once(l,"error",function(a){m.reject(a);t._remove(m.id,g.frameDoc,!0)});d(m);return h?m:m.promise}h.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=k.id.replace(/[\/\.\-]/g,"_"),w=0,v=h("script-readystatechange")?"readystatechange":"load",x=/complete|loaded/,z=c.global[u+"_callbacks"]={},y=[];t.get=t;t._attach=function(a,b,h){h=h||g.doc;
var c=h.createElement("script");c.type="text/javascript";c.src=b;c.id=a;c.async=!0;c.charset="utf-8";return h.getElementsByTagName("head")[0].appendChild(c)};t._remove=function(a,b,g){m.destroy(l.byId(a,b));z[a]&&(g?z[a]=function(){delete z[a]}:delete z[a])};t._callbacksProperty=u+"_callbacks";return t})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),
function(k,d,e,c,b,a,f,l){return k([l],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(a){this.inherited(arguments);c.after(this._delegate,"onMessage",e.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var g=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return g}return this._queuePublish(a,this.serialize(b))},
subscribe:function(a,b,g){this.logSubscriptions&&f.info("MessageService subscribe: "+a,b,g);this._addHandler(this.channelSubscriptions,a,b,g);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,b,g),this._deferProcessQueue(),a):this._queueSubscribe(a,b,g)},unsubscribe:function(a,h,g){this.logSubscriptions&&f.info("MessageService unsubscribe: "+a,h,g);if(this._removeHandler(this.channelSubscriptions,a,h,g))return this.isConnected()||"resubscribing"===this._currentState?
(a=this._queueUnsubscribe(a,h,g),this._deferProcessQueue(),a):(new b).resolve();f.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new b).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&
this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,
h){var g=new b;this._queuedOps.push({type:"publish",channel:a,data:h,deferred:g});return g.promise},_queueSubscribe:function(a,h,g){var c=new b;this._queuedOps.push({type:"subscribe",channel:a,handler:h,scope:g,deferred:c});return c.promise},_queueUnsubscribe:function(a,h,g){for(var c=new b,f,l=0;l<this._queuedOps.length;l++)if(f=this._queuedOps[l],"subscribe"===f.type&&f.channel===a&&f.handler===h&&f.scope===g)return this._queuedOps.splice(l,1),f.deferred.resolve(),(new b).resolve();this._queuedOps.push({type:"unsubscribe",
channel:a,handler:h,scope:g,deferred:c});return c.promise},_processQueue:function(){var a=this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,
a.scope));b.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new b).resolve();var h=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return h},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?
(new b).resolve():this._delegate.doUnsubscribe(a)},handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var g=a.channel.split("/");for(b=1;b<=g.length;b+=1)this._callHandlers(this.channelSubscriptions,g.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,g.slice(0,g.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,g.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},
registerMessageHandler:function(a,b,g){f.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(a,b,g){f.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,g){this.typeSerializers.push({typeMatcher:a,type:b,serializer:g})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return e.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||e.isString(a)?a:
this._serializeObject(a)},deserialize:function(a){return e.isArray(a)?this._deserializeArray(a):a instanceof Number||a instanceof Boolean||e.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,g,c){var l;c=c||this;"string"===typeof g&&"function"!==typeof c[g]?f.warn("Not adding invalid handler: "+g):(l=a[b],l||(l=[],a[b]=l),a={channel:b,handler:g,scope:c},l.push(a),l.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,g,c){var f;f=a[b];g=this._getHandlerIndex(f,
{handler:g,scope:c||this});0<=g&&f.splice(g,1);(!f||0===f.length)&&delete a[b];return 0<=g},_callHandlers:function(a,b,g){var c;if(a.hasOwnProperty(b)){a=a[b];for(c=0;c<a.length;c+=1)try{"string"===typeof a[c].handler?a[c].scope[a[c].handler].call(a[c].scope,g):a[c].handler.call(a[c].scope,g)}catch(l){f.error("Error while executing message handler on channel: "+b+", message: "+d.toJson(g)+", error: "+l)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var g;for(g=0;g<a.length;g+=1)if(b.handler===
a[g].handler&&b.scope===a[g].scope)return g;return-1},_serializeObject:function(a){var b,g;for(g=0;g<this.typeSerializers.length;g+=1){var c=this.typeSerializers[g];if(c.typeMatcher(a))return{__type__:c.type,__value__:c.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,g=a.length;for(b=0;b<g;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===
a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,a.__value__)}catch(g){f.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,g=a.length;for(b=0;b<g;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],
function(k,d){return k([],{constructor:function(e){e.stateMachine=this;this.state=new d(e)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(d,c){this.state.enter(d,c)},onEnterState:function(d){},onExitState:function(d){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(k,d,e,c,b,a,f,l){var m;return m=
k([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?
(a=this.namespace.split("."),a=a.pop()):e.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var b={},c,f;for(c in a)a.hasOwnProperty(c)&&(f=a[c],f.name&&f.name!==c&&e.error("State: error constructing substate: "+c+", the specified names don't match: "+f.name),f.name=c,f.namespace=f.namespace||[this.namespace,this.name].join("."),f.stateMachine=f.stateMachine||this.stateMachine,f.context=f.context||this.context,b[f.name]=new m(f));this.substates=b},constructTriggersAndTransitions:function(a){var b,
c={},f=[],m;for(b in a)a.hasOwnProperty(b)&&((m=this.constructTrigger(b))&&f.push(m),c[b]=this.constructTransition(b,a[b]));this.transitions=c;this.triggers=f},constructTrigger:function(h){var g,m,l;g=h.split(" ");if(2===g.length)"subscribe"===g[0]?l=b:"response"===g[0]||"fault"===g[0]?l=a:"timeout"===g[0]&&(l=f);else if("onEnterState"!==h||"onExitState"!==h)l=c;l&&(m=new l({name:h,context:this.context,triggerHandler:d.hitch(this,this.handleTrigger)}));return m},constructTransition:function(a,b){var c;
if(d.isFunction(b)||d.isString(b)||d.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=""):(c=b,b={},b.target=c);b.state=this;return new l(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});
this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))d.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();
this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(k,d,e,c,b){return k(b,{constructor:function(){this.connection={}},enable:function(){d.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=e.after(this.context,this.name,d.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],
function(k){return k([],{constructor:function(d){this.name="";this.context={};this.triggerHandler=d.triggerHandler||function(){};k.safeMixin(this,d)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(k,d,e,c,b){return k(b,{constructor:function(){var a=this.name.split(" ");(2>a.length||"subscribe"!==a[0])&&c.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");
this.messageId=a[1]||"";this.subscrition={}},enable:function(){this.subscription=e.subscribe(this.messageId,d.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(k,d,e,c,b){return k(b,{constructor:function(){var a=this.name.split(" ");(2>a.length||"response"!==a[0]&&"fault"!==a[0])&&e.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!c.registerResponseHandler||!c.registerFaultHandler)&&e.error("The remote package is not available, this type of trigger will not work.");this.messageId=a[1]||"";this.handlerType=a[0]},enable:function(){"response"===this.handlerType?c.registerResponseHandler(this.messageId,d.hitch(null,this.triggerHandler,this.name)):c.registerFaultHandler(this.messageId,d.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?c.deregisterResponseHandler(this.messageId):c.deregisterFaultHandler(this.messageId)}})})},
"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){var p=this,n;n={reset:function(){var s=[],r=new b,q=new f({faultManager:r}),t=new a({responseManager:q});n.faultManager=r;n.responseManager=q;n.requestManager=t;n._serviceRegistryLookup=
g;n._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var u=n.proxyClient=new e;n.createUploadIframeTarget=k.hitch(u,u.createUploadIframeTarget);n.cancelUpload=k.hitch(u,u.cancelUpload);m.setIframeProxyClientForEndPoint(m.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,u);m.setIframeProxyClientForEndPoint(m.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,u);l.construct=function(a){a=a||{};m.getRoutingHost(m.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||n.setEndpoint();
a.allowedMessages=s;a.sendMessage=n.sendMessage;a.computeSessionId=n.getComputeSessionId;return new c(a)};n.registerEndpointLevelFaultHandler=k.hitch(r,r.registerEndpointLevelFaultHandler);n.sendMessage=k.hitch(t,t.sendMessage);n.registerDefaultMessageFactory=k.hitch(t,t.registerDefaultMessageFactory);n.deregisterDefaultMessageFactory=k.hitch(t,t.deregisterDefaultMessageFactory);n.registerResponseHandler=k.hitch(q,q.registerResponseHandler);n.deregisterResponseHandler=k.hitch(q,q.deregisterResponseHandler);
n.registerFaultHandler=k.hitch(r,r.registerFaultHandler);n.deregisterFaultHandler=k.hitch(r,r.deregisterFaultHandler);n.registerTopLevelFaultHandler=k.hitch(r,r.registerTopLevelFaultHandler);n.deregisterTopLevelFaultHandler=k.hitch(r,r.deregisterTopLevelFaultHandler);n.setServiceEndPoint=function(a,b,g){m.setRoutingHostAndRoutingKey(a,b,g)};n.setServicePathSuffixForEndPoint=function(a,b){m.setPathSuffixForEndPoint(a,b)};n.ignoreTopLevelFault=n.registerTopLevelFaultHandler;n.setComputeToken=function(a){n._uploadIframeProxyUrlParameters[1]=
a.computeSessionId;t.computeToken=a};n.setWorkerEndpoint=function(a,b){n._uploadIframeProxyUrlParameters[3]=b;m.setRoutingHostAndRoutingKey(m.getEndPointNames().WORKER_ENDPOINT,a,b)};n.setEndpoint=function(a){a||(a=n._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(h.info("ServiceRegistryLookup is empty, falling back to localhost"),a="/"));if(!a||"/"===a)a=p.location.protocol+"//"+p.location.host+"/";m.setRoutingHostAndRoutingKey(m.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,a);
m.setRoutingHostAndRoutingKey(m.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);u.setRemotePageHost(a)};n.setAllowedMessages=function(a){s=a};n.allowAllMessages=function(){s=[]};n.getEndPoint=function(){return m.getRoutingHost(m.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};n.getUploadIframeProxyUrl=function(){var a=n.getWorkerRoutingHost();"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+u.getUploadIframeProxyUrlPath()+n._uploadIframeProxyUrlParameters.join("")};n.getComputeSessionId=function(){return t.computeToken?
t.computeToken.computeSessionId:12345};n.getWorkerRoutingHost=function(){var a=m.getRoutingHost(m.getEndPointNames().WORKER_ENDPOINT);return a?a:location.protocol+"//"+location.host+"/"};n.getWorkerRoutingKey=function(){return m.getRoutingKey(m.getEndPointNames().WORKER_ENDPOINT)};n.getServiceRegistryEndpoint=function(a){return n._serviceRegistryLookup.getServiceRegistryEndpoint(a)};n.enableServerOnWorkerAsync=function(){m.enableEndPoint(m.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.disableServerOnWorkerAsync=
function(){m.disableEndPoint(m.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.isServerOnWorkerAsyncEnabled=function(){return m.isEndPointEnabled(m.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.enableServerOnWorker=function(){m.enableEndPoint(m.getEndPointNames().WORKER_ENDPOINT)};n.disableServerOnWorker=function(){m.disableEndPoint(m.getEndPointNames().WORKER_ENDPOINT)};n.isWorkerEndpointEnabled=function(){return m.isEndPointEnabled(m.getEndPointNames().WORKER_ENDPOINT)};n.setWorkerOnlyMessageTypes=
function(a){m.setMessageTypesToEndPoint(m.getEndPointNames().WORKER_ENDPOINT,a)};d.after(u,"onError",function(a){a&&r.handleNonTransactionFault(a)},!0)}};n.reset();return n})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare","mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(k,d,e){return k([d],{constructor:function(c){c=c||{};this.proxyClient=c.proxyClient;this.workerProxyClient=c.workerProxyClient;this.routingHost=c.routingHost;this.routingKey=
c.routingKey;this.computeSessionId=c.computeSessionId},_doSend:function(c){return e.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(c,e.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),function(k,d,e,c,b,a){return k(a,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var c=
null;b.isEndpointMessageContainerBased(this.endPointName)?(c={uuid:this.uuid,messages:a},this.computeToken&&(c.computeToken=this.computeToken)):Object.keys(a).forEach(function(b){c=a[b]});this._sanitizeForJson(c);return e.toJson(c)},_sanitizeForJson:function(a){var b;if(c.isArray(a))a.forEach(this._sanitizeForJson,this);else if(c.isObject(a))for(b in a)a.hasOwnProperty(b)&&(void 0===a[b]?delete a[b]:(c.isObject(a[b])||c.isArray(a[b]))&&this._sanitizeForJson(a[b]))},_doSend:function(a){return d.post({url:this._getEndpoint(),
contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],
function(k){var d=null;null===d&&(d=new k);return d})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(k,d,e){return k([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),
iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},
WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,
enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(c,b,a,f,l){this.endPointsCollection[c]={routingHost:"",routingKey:"",pathSuffix:a,enabled:b,messages:[],iframeProxy:null,iframeProxyName:f,acceptsMessageContainerMessages:l}},getPathSuffixForEndPoint:function(c){return this.endPointsCollection[c].pathSuffix},setPathSuffixForEndPoint:function(c,
b){this.endPointsCollection[c].pathSuffix=b},getEndPointNames:function(){var c={},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(c[b]=b);return c},setRoutingHostAndRoutingKey:function(c,b,a){b&&b.lastIndexOf("/")!==b.length-1&&(b+="/");this.endPointsCollection[c].routingHost=b;a&&(this.endPointsCollection[c].routingKey=a);b&&this._setIframeRoutingHostAndRoutingkey(c)},_setIframeRoutingHostAndRoutingkey:function(c){var b=this.getIframeProxyClientForEndPoint(c);b&&
b.setRemotePageHost(this.endPointsCollection[c].routingHost,this.endPointsCollection[c].routingKey,null,this.endPointsCollection[c].iframeProxyUrl)},getRoutingHost:function(c){return this.endPointsCollection[c].routingHost},getRoutingKey:function(c){return this.endPointsCollection[c].routingKey},getMessageTypesMappedToEndPoint:function(c){return this.endPointsCollection[c].messages},isEndPointEnabled:function(c){return this.endPointsCollection[c].enabled},setMessageTypesToEndPoint:function(c,b){this.endPointsCollection[c].messages=
b},enableEndPoint:function(c){this.endPointsCollection[c].enabled=!0},disableEndPoint:function(c){this.endPointsCollection[c].enabled=!1},getEndPointForMessageType:function(c){var b=null,a;for(a in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(a)&&(b=-1<d.lastIndexOf(this.endPointsCollection[a].messages,c)?a:b))if(this.isEndPointEnabled(b))break;else b=null;return b?b:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(c){var b=this.endPointsCollection[c].routingHost+
this.endPointsCollection[c].pathSuffix;this.endPointsCollection[c].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[c].routingKey);return b},setIframeProxyClientForEndPoint:function(c,b){this.endPointsCollection[c].iframeProxy=b},getIframeProxyClientForEndPoint:function(c){var b=this.endPointsCollection[c].iframeProxy;b||(b=new e(this.endPointsCollection[c].iframeProxyName),this.endPointsCollection[c].iframeProxy=b);return b},isEndpointMessageContainerBased:function(c){return c&&this.endPointsCollection[c]?
this.endPointsCollection[c].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(c,b){this.endPointsCollection[c]&&-1===this.endPointsCollection[c].messages.indexOf(b)&&this.endPointsCollection[c].messages.push(b)},removeMessageTypesFromEndPoint:function(c,b){if(this.endPointsCollection[c]){var a=this.endPointsCollection[c].messages.indexOf(b);-1<a&&this.endPointsCollection[c].messages.splice(a,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred",
"dojo/_base/lang","mw-remote/RemoteEndPointsManager","mw-utils/Utils"],function(k,d,e,c,b){return k([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(a,
b,l){if(b){var m=c.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[a]||(this.requestMessages[a]=[]);e.isArray(b)?b.forEach(function(b){this.addRequestMessage(a,b,l)},this):m?(b.uuid=b.uuid||this._generateUuid(),l&&(this.uuidClassifierMap[b.uuid]=l),this.requestMessages[a].push(b)):this.requestMessages[a]=b;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(c){if(0===this.allowedMessages.length||
0<=this.allowedMessages.indexOf(c))b[c]=a[c]},this);return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();
this._isEmpty(this.requestMessages)?(this.deferred=new d,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var c in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(c)&&(b&&this.uuidClassifierMap[c]===b)&&this.ignoreMessageTypes.push(a+
":"+b);else this.ignoreMessageTypes.push(a)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&e.isArray(this.requestMessages[a])&&0===b.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return b.generateUuid()}})})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(k,d,e,c){return d([],{constructor:function(b){b=b||{};this.faultHandlers=b.faultHandlers||{};this.topLevelHandlers=b.topLevelHandlers||[];this.endPointLevelHandlers=b.endPointLevelHandlers||{}},registerFaultHandler:function(b,a,c){c&&(a=e.hitch(c,a));this.faultHandlers[b]=a},deregisterFaultHandler:function(b){delete this.faultHandlers[b]},registerTopLevelFaultHandler:function(b,a,c){c&&(a=e.hitch(c,a));if(e.isString(b)){if("*"===
b)return b={matcher:b,handler:a},this.defaultTopLevelHandler=a,b;b=this._constructMatcherFromQuery(b)}b={matcher:b,handler:a};this.topLevelHandlers.push(b);return b},registerEndpointLevelFaultHandler:function(b,a,c,l){l&&(c=e.hitch(l,c));e.isString(a)&&(a=this._constructMatcherFromQuery(a));a={matcher:a,handler:c};this.endPointLevelHandlers[b]||(this.endPointLevelHandlers[b]=[]);this.endPointLevelHandlers[b].push(a);return a},deregisterTopLevelFaultHandler:function(b){var a=this.topLevelHandlers.indexOf(b);
-1<a?this.topLevelHandlers.splice(a,1):"*"===b.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(b){var a=[];b.split("||").forEach(function(b){b=e.trim(b);b=b.replace(/([\.])/g,"\\$1");b=b.replace(/\*/g,".*");a.push(RegExp("^"+b+"$"))});return function(b){return k.some(a,function(a){return a.test(b.faultCode||b.code||"")})}},handleFault:function(b){var a,c=function(a,c){var g;if(g=b.getMessageClassifier(c))if(g=[a,g].join(":"),this.faultHandlers[g])this.faultHandlers[g](b.fault,
b.context)};for(a in b.requestMessages)if(b.requestMessages.hasOwnProperty(a)){if(this.faultHandlers[a])this.faultHandlers[a](b.fault,b.context);var l=b.requestMessages[a];Array.isArray(l)&&l.forEach(e.hitch(this,c,a))}if(this.faultHandlers["*"])this.faultHandlers["*"](b.fault,b.context);this.endPointLevelHandlers[b.endPointName]?this._handleEndpointLevelFault(b):this._handleTopLevelFault(b)},_handleEndpointLevelFault:function(b){var a=!1,c=k.filter(this.endPointLevelHandlers[b.endPointName],function(a){return a.matcher.call(this,
b.fault,b.context)},this);0<c.length&&c[0].handler&&(a=!0,c[0].handler.call(this,b.fault,b.context,b));return a},_handleTopLevelFault:function(b){var a=k.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,b.fault,b.context)},this);(a=0<a.length?a[0].handler:this.defaultTopLevelHandler)&&a.call(this,b.fault,b.context,b)},handleNonTransactionFault:function(b){var a=k.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,b)},this);(a=0<a.length?a[0].handler:this.defaultTopLevelHandler)&&
a.call(this,b)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),function(k,d,e,c,b,a,f){return d([],{defaultMapping:a,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(a,
b,h){h&&(b=c.hitch(h,b));this.defaultFactories[a]=b},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(a,b,h){var g=this;b=c.hitch(h||this,b);this.mockHandlers[a]=function(a,c){var h,l=f.construct(c);h=b(a,l);h||(h=new e,h.callback());h.addCallback(function(){g.responseManager._processResult(l)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},sendMessage:function(a,b,c){var g={},f={};b=b||{};this._createAndFillTransactions(a,
b,c,g,f);a=Object.keys(g);for(b=0;b<a.length;b+=1)c=a[b],this._callMocks(f[c]),g[c].send(),this.responseManager.handleTransaction(g[c])},_getTransaction:function(a,b){return f.construct({context:b,computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,b,c){return f.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:c})},_createAndFillTransactions:function(a,c,h,g,f){var d,e,r=function(a){var h,l,d,e,n;h=b.getEndPointForMessageType(a);e=g[h];n=f[h];e||
(e=this._getTransaction(h,c),n=this._getMockTransaction(h,c,e.uuid),g[h]=e,f[h]=n);if(this.defaultFactories[a]&&(h=this.defaultFactories[a](e.context)))l=a.split(":"),d=l[0],l=l.slice(1,l.length).join(":"),this.mockHandlers[a]||e.addRequestMessage(d,h,l),n.addRequestMessage(d,h,l)},q,t;for(d in a)a.hasOwnProperty(d)&&(e=b.getEndPointForMessageType(d),q=f[e],t=g[e],g[e]||(t=this._getTransaction(e,c),q=this._getMockTransaction(e,c,t.uuid),g[e]=t,f[e]=q),e=[d,h].join(":"),!this.mockHandlers[d]&&!this.mockHandlers[e]&&
t.addRequestMessage(d,a[d],h),q.addRequestMessage(d,a[d],h),this.mapping[e]?this.mapping[e].forEach(r,this):this.mapping[d]&&this.mapping[d].forEach(r,this))},_callMocks:function(a){var b,h,g=a.context;delete a.context;var f=function(a,g){var c;if(c=b.getMessageClassifier(g))if(c=[a,c].join(":"),this.mockHandlers[c])this.mockHandlers[c]([g],b)};for(h in a.requestMessages)if(a.requestMessages.hasOwnProperty(h)){b=c.mixin({},a);b.context=g;if(this.mockHandlers.hasOwnProperty(h))this.mockHandlers[h](b.requestMessages[h],
b);Array.isArray(b.requestMessages[h])?b.requestMessages[h].forEach(c.hitch(this,f,h)):f(h,b.requestMessages[h])}if(this.mockHandlers["*"])this.mockHandlers["*"](h,b.requestMessages[h],b)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],
"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},
"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),function(k,d,e,c,b,a,f){return d([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(a,c,h){h&&(c=b.hitch(h,c));this.responseHandlers[a]=c},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},
handleTransaction:function(a){this.transactions.push(a);a.deferred.addCallback(b.hitch(this,this._processAll,a));a.deferred.addCallback(b.hitch(this,this._processResult,a));a.deferred.addErrback(b.hitch(this,this._processAll,a));a.deferred.addErrback(b.hitch(this,this._processFault,a))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},_processResult:function(b){b.getResponseMessageTypes().forEach(function(f){var h=b.responseMessages[f],g=[];try{if(Array.isArray(h)){h.forEach(function(a){var c,
h=b.getMessageClassifier(a);if(h){c=[f,h].join(":");var d=this,p=!1;b.getRequestMessageTypes().forEach(function(g){g=b.requestMessages[g];Array.isArray(g)?g.forEach(function(g){d.responseHandlers[c]&&g.uuid===a.uuid&&(d.responseHandlers[c]([a],b.context),p=!0)}):d.responseHandlers[c]&&g.uuid===a.uuid&&(d.responseHandlers[c]([a],b.context),p=!0)});p||g.push(a)}else g.push(a)},this);if(0<g.length&&this.responseHandlers[f])this.responseHandlers[f](g,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](f,
b.responseMessages[f],b.context)}}catch(d){a.error("Remote: Fault occurred while processing response.\nMessage: "+d.message+"\nType: "+f+"\nResponse: "+c.toJson(h))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(a){if(!f.isEndpointMessageContainerBased(a.endPointName)){var b=Object.keys(a.requestMessages)[0];if(this.responseHandlers[b])this.responseHandlers[b](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)}})})},
"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(k,d){var e=!1,c={_serviceData:{},getServiceRegistryEndpoint:function(b){if(c._serviceData.serviceregistry){var a,f;a=c._serviceData.serviceregistry.length;for(f=0;f<a;f+=1)if(c._serviceData.serviceregistry[f].name===b)return c._serviceData.serviceregistry[f].endpoint}return""}};return{load:function(b,a,f){e?f(c):k("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!a.async}).then(function(a){c._serviceData=
a;e=!0;f(c)},function(a){c._serviceData={};e=!0;f(c)})}}})},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(k,d,e,c){return k(c,{constructor:function(){var b=this.name.split(" ");(2>b.length||"timeout"!==b[0])&&e.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(b[1]);this.handlerType=b[0]},enable:function(){this.disable();this.timeoutHandle=
setTimeout(d.hitch(null,this.triggerHandler,this.name),1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(k,d,e){return k([],{constructor:function(c){this.state={};this.target="";this.action=this.condition=null;k.safeMixin(this,c)},handleTrigger:function(c,b){var a="";this.checkCondition(c,b)&&
(this.runAction(c,b),a=this.getTarget(c,this.target,b));return a},checkCondition:function(c,b){return!this.condition?!0:d.hitch(this.state.context,this.condition).apply(null,[c,this.state.data].concat(b))},runAction:function(c,b){var a;this.action&&(a=d.hitch(this.state.context,this.action),a.apply(null,[c,this.state.data].concat(b)))},getTarget:function(c,b,a){var f,l,m;if(d.isString(b))l=b;else if(d.isFunction(b))b=d.hitch(this.state.context,b),l=b.apply(null,[c,this.state.data].concat(a));else if(d.isArray(b))for(f=
0;f<b.length;f+=1){l=this.getTarget(c,b[f],a);if(d.isString(l)){l={target:l};d.mixin(l,m);break}if(l&&l.target){d.mixin(l,m);break}m=l||{}}else e.warn("Transition: improper target: ",b);return l}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(k,d,e,c,b,a,f){return k([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions=
{context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",
_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,
stop:"disconnected"}}}}},setDelegate:function(b){if(this._delegate!==b){this._delegate=b;var c=this;e.after(b,"onConnectionError",function(){f.warn("MessageService received connection error, reconnecting");c._reconnect()},!0);this._states=new a(this._stateOptions);e.after(this._states,"onEnterState",d.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var b=this._currentState;this._currentState=a;this.logStateChanges&&f.info("MessageService state change: "+
b+" -\x3e "+a);if("connected"===b)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;f.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&f.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(f.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function a(b){g.push(this._delegate.doSubscribe(b.channel))}
var c,h,g=[];this._delegate.doStartBatch();for(c in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(c)&&(h=this.channelSubscriptions[c],h.forEach(a,this),this.channelSubscriptions[c].subscribed=!0);this._delegate.doEndBatch();b(g).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&f.info("Successfully connected."),
this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(k,d,e){var c=k.some;return function(b){var a,f;b instanceof Array?f=b:b&&"object"===typeof b&&
(a=b);var l,m=[];if(a){f=[];for(var h in a)Object.hasOwnProperty.call(a,h)&&(m.push(h),f.push(a[h]));l={}}else f&&(l=[]);if(!f||!f.length)return(new d).resolve(l);var g=new d;g.promise.always(function(){l=m=null});var p=f.length;c(f,function(b,c){a||m.push(c);e(b,function(a){g.isFulfilled()||(l[m[c]]=a,0===--p&&g.resolve(l))},g.reject);return g.isFulfilled()});return g.promise}})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred",
"mw-log/Log"],function(k,d,e){return k([],{pollDelay:50,constructor:function(c,b){this.remote=c;this.messageService=b;this.pending=0;c.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);c.registerResponseHandler("OpaqueMessageResponse",function(a){this.pending-=1;a.forEach(function(a){try{a.opaqueMessageDOs&&a.opaqueMessageDOs.forEach(b.handleMessage,b)}catch(c){e.error("Error while handling message: "+c)}});this.poll()},this)},onMessage:function(c){},
onConnectionError:function(c){},connect:function(){this.enabled=!0;this.poll();return(new d).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new d).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var c=this;this.timeout=setTimeout(function(){c.pending+=1;c.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});c.timeout=null},this.pollDelay)}},doPublish:function(c,b){clearTimeout(this.timeout);
this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:c,data:b}]}})},doSubscribe:function(c){},doUnsubscribe:function(c){},doStartBatch:function(){},doEndBatch:function(){}})})},"mw-peermodel/PeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./ImageDifferencer ./PagedData ./Serializers".split(" "),function(k,d,e,c,b,a,f,l,m){var h;h=k(null,{_MAX_RETRIES:3,constructor:function(g,
h,l,s,r){this.namespace=g;this.manager=h;this.messageService=l||a.messageService;m.setupSerializers(this.messageService);this._originator={};this.messageCount=0;this.syncEnabled={};this.isClient=void 0===s?!0:!!s;this.clientId="string"===typeof r?r:b.generateUuid();this.imageDifferencer=new f(this._originator);this._queue=[];e.after(this.messageService,"onConnected",d.hitch(this,this._handleConnected));e.after(this.messageService,"onNotConnected",d.hitch(this,this._handleNotConnected));this.messageService.isConnected()?
this._handleConnected():this._handleNotConnected();try{this.addManagerListeners(),this.addMessageSubscriptions()}catch(q){c.error("Not able to create peer synchronizer: "+q)}},remove:function(){this._handleNotConnected();this.removeMessageSubscriptions();this.removeManagerListeners()},_handleNotConnected:function(){this.log("Not connected");this._handshook=this._connected=!1},_handleConnected:function(){this.log("Connected");this._connected=!0;this._startHandshake()},_startHandshake:function(){this.log("Starting handshake");
var a=this.createNewMessage();a.clientId=this.clientId;a.syncEnabled=this.manager.isSyncEnabled();this.publish(this.getChannel("getStatus"),a)},_handshakeComplete:function(){this.log("Handshake complete");this._handshook=!0;this._processQueue()},_processQueue:function(){var a=this._queue;this._queue=[];this.log("Processing queue",a);a.forEach(function(a){this.publish(a.channel,a.message)},this)},shouldSync:function(a){return this.manager.isSyncEnabled()&&(!a||a.originator!==this._originator)},isReady:function(){return this._connected&&
this._handshook},syncChangedObserver:function(){this.syncEnabled[this.clientId]=this.manager.isSyncEnabled();this.manager.isSyncEnabled()?(this.addSyncMessageSubscriptions(),this.addSyncManagerListeners(),this._connected&&this._startHandshake()):(this.removeSyncMessageSubscriptions(),this.removeSyncManagerListeners(),this._handshook=!1)},getStatusSubscriber:function(a){this.log("getStatusSubscriber",a);var b=this.createNewMessage();b.syncEnabled=this.manager.isSyncEnabled();b.clientId=this.clientId;
this.publish(this.getChannel("status"),b);this.statusSubscriber(a)},statusSubscriber:function(a){this.log("Status received",a);this.syncEnabled[a.data.clientId]=a.data.syncEnabled;this.isClient&&this.manager.isSyncEnabled()&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},getFullUpdateSubscriber:function(){this.log("getFullUpdate requested");if(this.manager.isSyncEnabled()){var a=this.createNewMessage();this.manager.hasRoot()&&(a.root=this.convertNodesRecursive(this.manager.getRoot(),
0));this.publish(this.getChannel("fullUpdate"),a);this._handshakeComplete()}},fullUpdateSubscriber:function(a){this.log("fullUpdate received",a);if(this.shouldSync())try{var b=a.data.root;b?(this.manager.hasRoot()&&(b.id!==this.manager.getRoot().getId()||b.type!==this.manager.getRoot().getType())&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete(),this.manager.hasRoot()||this.manager.setRootWithId(b.id,b.type,b.properties,this._originator),this.updateNodeRecursive(this.manager.getRoot(),
b)):(this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete())}catch(c){this._error("Error while trying to do a full update.",a,c)}},rootSetObserver:function(a){this.addNodeListeners(a.target);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.target=this.convertNode(a.target);this.publish(this.getChannel(a.type),b)}},rootSetSubscriber:function(a){this.log("rootSetSubscriber",a);if(this.shouldSync())try{var b=a.data.target;this.manager.hasRoot()&&
this.manager.getRoot().destroy(this._originator);var c=this.manager.setRootWithId(b.id,b.type,b.properties,this._originator);this.updateNodeRecursive(c,b)}catch(h){this._error("Error setting new root.",a,h)}},rootDestroyedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.targetId=a.target.getId();this.publish(this.getChannel(a.type),b)}},rootDestroyedSubscriber:function(a){this.log("rootDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.hasRoot()&&
this.manager.getRoot().getId()===a.data.targetId?this.manager.getRoot().destroy(this._originator):this._error("Tried to unset the wrong root.",a)}catch(b){this._error("Error destroying root.",a,b)}},childMovedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.targetId=a.target.getId();b.oldParentId=a.data.oldParent.getId();b.oldIndex=a.data.oldIndex;b.newParentId=a.data.newParent.getId();b.newIndex=a.data.newIndex;this.publish(this.getChannel(a.type),b)}},
childMovedSubscriber:function(a){this.log("childMovedSubscriber",a);if(this.shouldSync())try{var b=a.data,c=this.manager.getById(b.targetId),h=this.manager.getById(b.newParentId);this.manager.move(c,h,b.newIndex,this._originator)}catch(f){this._error("Error while trying to move.",a,f)}},childAddedObserver:function(a){var b=a.data.child;this.addNodeListeners(b);if(this.shouldSync(a)&&this.isReady()){var c=this.createNewMessage();c.parentId=a.target.getId();c.child=this.convertNode(b);c.index=a.data.index;
this.publish(this.getChannel("subTreeAdded"),c)}},subTreeAddedSubscriber:function(a){this.log("subTreeAddedSubscriber",a);if(this.shouldSync())try{var b=a.data.child,c=this.manager.getById(a.data.parentId).addChildWithId(b.id,b.type,b.properties,a.data.index,this._originator);this.updateNodeRecursive(c,b)}catch(h){this._error("Error while trying to add a subtree of nodes.",a,h)}},childDetachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=a.data.child.getId();
this.publish(this.getChannel(a.type),b)}},childDetachedSubscriber:function(a){this.log("childDetachedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).detach(this._originator)}catch(b){this._error("Error while trying to detach.",a,b)}},childReattachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=a.data.child.getId();b.index=a.data.index;this.publish(this.getChannel(a.type),b)}},childReattachedSubscriber:function(a){this.log("childReattachedSubscriber",
a);if(this.shouldSync())try{var b=a.data;this.manager.getById(b.childId).reattach(b.index,this._originator)}catch(c){this._error("Error while trying to reattach.",a,c)}},subTreeDestroyedObserver:function(a){var b=a.data.child;this.removeNodeListenersRecursive(b);if(this.shouldSync(a)&&this.isReady()){var c=this.createNewMessage();c.childId=b.getId();this.publish(this.getChannel(a.type),c)}},subTreeDestroyedSubscriber:function(a){this.log("subTreeDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).destroy(this._originator)}catch(b){this._error("Error while trying to destroy subtree.",
a,b)}},propertiesSetObserver:function(a){if(this.shouldSync(a)&&this.isReady()&&!this.isClient){var c=[],h=this.createNewMessage(),f;h.targetId=a.target.getId();var m=a.data.newValues,l=a.data.oldValues;for(f in m)if(m.hasOwnProperty(f)&&b.isImageData(m[f])){var d=l[f];if(d&&b.isImageData(d)){c.push(f);var e=this.createNewMessage();e.targetId=a.target.getId();e.key=f;e.newValue=this.imageDifferencer.computeImageDataDifferences(d,m[f]);this.publish(this.getChannel("imageUpdate"),h)}}c.forEach(function(b){delete a.data.newValues[b]});
h.properties=a.data.newValues;this.publish(this.getChannel(a.type),h)}},propertiesSetSubscriber:function(a){this.log("propertiesSetSubscriber",a);if(this.shouldSync()||this.isClient)try{var b=a.data,c=this.manager.getById(b.targetId),h;for(h in b.properties)b.properties.hasOwnProperty(h)&&(b.properties[h]instanceof Image?this.imageDifferencer.updatePropertyWithImage(c,h,b.properties[h]):(c.setProperty(h,b.properties[h],this._originator),this._updateNodePagedData(c)))}catch(f){this._error("Error while trying to update properties.",
a,f)}},imageUpdateSubscriber:function(a){this.log("imageUpdateSubscriber",a);if(this.shouldSync())try{var b=a.data,c=this.manager.getById(b.targetId);this.imageDifferencer.applyImageDifferences(c,b.key,b.newValue)}catch(h){this._error("Error while trying to update images.",a,h)}},propertiesUnsetObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b,c=this.createNewMessage();c.targetId=a.target.getId();c.keys=[];for(b in a.data.oldValues)a.data.oldValues.hasOwnProperty(b)&&c.keys.push(b);
this.publish(this.getChannel(a.type),c)}},propertiesUnsetSubscriber:function(a){this.log("propertiesUnsetSubscriber",a);if(this.shouldSync())try{var b=a.data;this.manager.getById(b.targetId).unsetProperties(b.keys,this._originator)}catch(c){this._error("Error while trying to unset properties.",a,c)}},peerEventObserver:function(a){var b=this.createNewMessage();b.targetId=a.target.getId();b.data=a.data;var c=this.getChannel(a.type);this.shouldSync(a)&&(this.isReady()?this.publish(c,b):this._queue.push({channel:c,
message:b}))},peerEventSubscriber:function(a){this.log("peerEventSubscriber",a);if(this.shouldSync())try{var b=a.data,c=this.manager.getById(b.targetId);c.dispatchEvent("peerEvent",c,b.data,this._originator)}catch(h){this._error("Error while trying dispatch a peer event.",a,h)}},publish:function(a,b,h){this.log("Publishing message",a,b);var f=this.messageService.publish(a,b),m=this;h=void 0===h?this._MAX_RETRIES:h;f.then(void 0,function(){0<h?(c.warn("Error sending message (will retry "+h+"): ",a,
b),m.publish(a,b,h-1)):m._error("Error sending message, retry didn't work.",a,b)})},getChannel:function(a){return"/peermodel"+this.namespace+"/"+a},createNewMessage:function(){this.messageCount+=1;return{message:this.messageCount}},log:function(){if(this.namespace===h.debugNamespace){var a=Array.prototype.slice.call(arguments),a=["PeerSynchronizer ("+this.namespace+")"].concat(a);c.info.apply(c,a)}},convertNodesRecursive:function(a,b){var c=this.convertNode(a,b),h=[],f=a.getChildren(),m;for(m=0;m<
f.length;m+=1)h.push(this.convertNodesRecursive(f[m],m));c.children=h;return c},convertNode:function(a,b){b=b||0;return{id:a.getId(),type:a.getType(),index:b,properties:a.getProperties()}},updateNodeRecursive:function(a,b){for(var c,h,f,m,l,d=a?[a]:[],e=b?[b]:[];0<e.length;){a=d.pop();b=e.pop();c=this._getFilteredPropertyKeys(b.properties);if(!a._handled){a._handled=!0;h=a.getProperties();f=Object.keys(h);l=f.length;for(m=0;m<l;m+=1)c.filtered[f[m]]=h[f[m]]}a.replaceProperties(c.filtered,this._originator);
this._updateNodePagedData(a,h);this._updateNodeImageProperties(a,b.properties,c.images);this._destroyOldChildren(a,b);this._addNewChildren(a,b);this._updateChildIndices(a,b);d=d.concat(a.getChildren());b.children&&(e=e.concat(b.children))}},_destroyOldChildren:function(a,b){var c,h=a.getChildren();for(c=0;c<h.length;c+=1)this._dataHasChild(b,h[c])||h[c].destroy(this._originator)},_addNewChildren:function(a,b){var c,h,f;if(b.children)for(c=0;c<b.children.length;c+=1)h=b.children[c],a.hasChild(h.id)||
(f=this._getFilteredPropertyKeys(h.properties),a.addChildWithId(h.id,h.type,f.filtered,c,this._originator))},_updateChildIndices:function(a,b){var c,h;if(b.children)for(c=0;c<b.children.length;c+=1)h=b.children[c],h=a.getChild(h.id),a.getChildIndex(h)!==c&&this.manager.move(h,a,c,this._originator)},_dataHasChild:function(a,b){var c;if(a.children)for(c=0;c<a.children.length;c+=1)if(a.children[c].id===b.getId()&&a.children[c].type===b.getType())return!0;return!1},_error:function(a,b,h){c.error(a,b,
h);this.manager.isSyncEnabled()&&this.isClient&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},_getFilteredPropertyKeys:function(a){var b={},c=[],h;for(h in a)a.hasOwnProperty(h)&&(null!==a[h]&&void 0!==a[h])&&(a[h]instanceof Image?c.push(h):b[h]=a[h]);return{filtered:b,images:c}},_updateNodePagedData:function(a,b){var c;b||(b=a.getProperties());for(c in b)b.hasOwnProperty(c)&&b[c]instanceof l&&b[c].setPeerNode(a,c)},_updateNodeImageProperties:function(a,b,c){var h;for(h=
0;h<c.length;h+=1)this.imageDifferencer.updatePropertyWithImage(a,c[h],b[c[h]])},addMessageSubscriptions:function(){this._messageSubscribed||(this._onConnectedSub=e.after(this.messageService,"onReconnected",d.hitch(this,"syncChangedObserver")),this.messageService.subscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!0);this.manager.isSyncEnabled()&&this.addSyncMessageSubscriptions()},removeMessageSubscriptions:function(){this._messageSubscribed&&(this._onConnectedSub.remove(),
this.messageService.unsubscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!1);this.removeSyncMessageSubscriptions()},syncMessageChannels:"status getFullUpdate fullUpdate rootSet rootDestroyed childMoved childDetached childReattached subTreeAdded subTreeDestroyed propertiesSet propertiesUnset imageUpdate peerEvent".split(" "),addSyncMessageSubscriptions:function(){this._syncMessageSubscribed||(this.log("addSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.subscribe(this.getChannel(a),
a+"Subscriber",this)},this),this._syncMessageSubscribed=!0)},removeSyncMessageSubscriptions:function(){this._syncMessageSubscribed&&(this.log("removeSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.unsubscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!1)},addManagerListeners:function(){this._managerListeners||(this.manager.addSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!0);this.manager.isSyncEnabled()&&
this.addSyncManagerListeners()},removeManagerListeners:function(){this._managerListeners&&(this.manager.removeSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!1);this.removeSyncManagerListeners()},addSyncManagerListeners:function(){this._syncManagerListeners||(this.manager.addSyncEventListener("rootSet","rootSetObserver",this),this.manager.addSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.addSyncEventListener("childMoved","childMovedObserver",
this),this.manager.hasRoot()&&this.addNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!0)},removeSyncManagerListeners:function(){this._syncManagerListeners&&(this.manager.removeSyncEventListener("rootSet","rootSetObserver",this),this.manager.removeSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.removeSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.removeNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=
!1)},nodeEvents:"childAdded subTreeDestroyed childDetached childReattached propertiesSet propertiesUnset peerEvent partialUpdate".split(" "),addNodeListeners:function(a){this.nodeEvents.forEach(function(b){a.addSyncEventListener(b,b+"Observer",this)},this)},removeNodeListeners:function(a){this.nodeEvents.forEach(function(b){a.removeSyncEventListener(b,b+"Observer",this)},this)},addNodeListenersRecursive:function(a){this.addNodeListeners(a);var b=a.getChildren();for(a=0;a<b.length;a+=1)this.addNodeListenersRecursive(b[a])},
removeNodeListenersRecursive:function(a){this.removeNodeListeners(a);var b=a.getChildren();for(a=0;a<b.length;a+=1)this.removeNodeListenersRecursive(b[a])}});h.debugNamespace="/change this to debug something";return h})},"mw-peermodel/ImageDifferencer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mw-utils/Deferred mw-utils/DeferredList mw-log/Log".split(" "),function(k,d,e,c,b,a){return k([],{_updateQueue:{},constructor:function(a){this._canvas=e.create("canvas");this._context=
this._canvas.getContext("2d");this._originator=a},computeImageDataDifferences:function(a,b){return[{x:0,y:0,image:b}]},applyImageDifferences:function(c,l,m){var h,g=m.length,d=this;if(0!==g){var e=this._createQueuedDeferred(c,l);e.name="applyImageDifferences deferred";var s=[];for(h=0;h<g;h+=1)s.push(this._wrapImageInDeferred(m[h].image));h=new b(s,!1,!0,!1);var r=d._updateQueue[c.getId()+l][d._updateQueue[c.getId()+l].length-2];h.then(function(){r?r.then(function(){d._applyLoadedImageDifferences(c,
l,m,e)}):d._applyLoadedImageDifferences(c,l,m,e)},function(){a.log("rejecting deferred applyImageDifferences");e.reject();d._cancelQueuedDeferreds(c,l)});return e}},updatePropertyWithImage:function(a,b,c){var h=this._wrapImageInDeferred(c),g=this._createQueuedDeferred(a,b);g.name="updateImage deferred";var d=this;h.then(function(){d._canvas.width=c.width;d._canvas.height=c.height;d._context.drawImage(c,0,0,c.width,c.height);var h=d._context.getImageData(0,0,d._canvas.width,d._canvas.height);a.setProperty(b,
h,d._originator);d._cancelQueuedDeferreds(a,b,g);g.isCanceled()||g.resolve()},function(){g.isCanceled()||g.reject()});return g},_applyLoadedImageDifferences:function(a,b,c,h){var g=a.getProperty(b);this._canvas.width=g.width;this._canvas.height=g.height;this._context.putImageData(g,0,0);for(g=0;g<c.length;g+=1)this._context.beginPath(),this._context.clearRect(c[g].x,c[g].y,c[g].image.width,c[g].image.height),this._context.closePath(),this._context.drawImage(c[g].image,c[g].x,c[g].y);c=this._context.getImageData(0,
0,this._canvas.width,this._canvas.height);a.setProperty(b,c,this._originator);h.resolve()},_wrapImageInDeferred:function(b){var l=new c;l.name="wrapImage deferred";var m=function(){setTimeout(function(){b.onload&&(l.resolve(),b.onload=null,b.onerror=null)},0)};b.onload=m;b.onerror=function(){a.log("Error loading image");l.reject();b.onload=null;b.onerror=null};b.complete&&0<b.src.length&&m();return l},_createQueuedDeferred:function(a,b){var m;m=new c;var h=d.hitch(this,this._removeDeferredFromQueue,
a,b,m);m.then(h,h);this._updateQueue[a.getId()+b]=this._updateQueue[a.getId()+b]||[];this._updateQueue[a.getId()+b].push(m);return m},_removeDeferredFromQueue:function(a,b,c){void 0===this._updateQueue[a.getId()+b]?delete this._updateQueue[a.getId()+b]:(c=this._updateQueue[a.getId()+b].indexOf(c),0<=c&&this._updateQueue[a.getId()+b].splice(c,1),0===this._updateQueue[a.getId()+b].length&&(this._updateQueue[a.getId()+b]=void 0,delete this._updateQueue[a.getId()+b]))},_cancelQueuedDeferreds:function(a,
b,c){for(var h=this._updateQueue[a.getId()+b];h&&0<h.length;){var g=h.shift();if(c&&g===c)return;g.cancel("Queued deferreds cancelled")}this._updateQueue[a.getId()+b]=void 0;delete this._updateQueue[a.getId()+b]}})})},"mw-utils/Deferred":function(){define([],function(){var k=function(){this._state=0;this._callbacks=[];this._errbacks=[]};k.prototype.then=function(d,e){1===this._state&&d?d():2===this._state&&e?e():(d&&this._callbacks.push(d),e&&this._errbacks.push(e));return this};k.prototype.resolve=
function(){if(0===this._state){for(this._state=1;this._callbacks.length;)this._callbacks.pop()();this._callbacks=[];this._errbacks=[]}};k.prototype.reject=function(){if(0===this._state){for(this._state=2;this._errbacks.length;)this._errbacks.pop()();this._callbacks=[];this._errbacks=[]}};k.prototype.cancel=function(){0===this._state&&(this._state=3,this._callbacks=[],this._errbacks=[])};k.prototype.isCanceled=function(){return 3===this._state};return k})},"mw-utils/DeferredList":function(){define(["./Deferred"],
function(k){var d=function(d){k.apply(this);this._successes=0;this._total=d.length;var c;for(c=0;c<this._total;c+=1)d[c].then(this._callback.bind(this),this.reject.bind(this))};d.prototype=new k;d.prototype.constructor=d;d.prototype._callback=function(){this._successes+=1;this._successes===this._total&&this.resolve()};return d})},"mw-peermodel/PagedData":function(){define(["dojo/_base/declare"],function(k){return k([],{constructor:function(d){d=d||{};this._peerNode=d.peerNode;this._propertyKey=d.propertyKey;
this._partialData=d.partialData||[];this._rowCount=d.rowCount||0;this._columnCount=d.columnCount||0;this._currentStartRow=d.currentStartRow||0;this._currentEndRow=d.currentEndRow||0;this._currentStartCol=d.currentStartCol||0;this._currentEndCol=d.currentEndCol||0;this._queuedOperations=[]},setPeerNode:function(d,e){this._peerNode=d;this._propertyKey=e;var c;for(c=0;c<this._queuedOperations.length;c+=1)this._queuedOperations[c].apply(this);this._queuedOperations=[]},getPartialData:function(){return this._partialData},
getRowCount:function(){return this._rowCount},getColumnCount:function(){return this._columnCount},getCurrentStartRow:function(){return 0<=this._currentStartRow?this._currentStartRow:0},getCurrentEndRow:function(){return this.getCurrentStartRow()+this._partialData.length},getCurrentStartCol:function(){return 0<=this._currentStartCol?this._currentStartCol:0},getCurrentEndCol:function(){return 0<this._partialData.length?Array.isArray(this._partialData[0])?this.getCurrentStartCol()+this._partialData[0].length:
1:0<=this._currentEndCol?this._currentEndCol:0},changeData:function(d,e,c){if(this._peerNode){var b,a;for(b=0;b<c.length;b+=1){var f=this._partialData[d-this._currentStartRow+b],l=c[b];for(a=0;a<l.length;a+=1)f[e-this._currentStartCol+a]=l[a]}var m=this;setTimeout(function(){m._peerNode.dispatchEvent("peerEvent",m._peerNode,{type:"changeData",key:m._propertyKey,startRow:d,startCol:e,newData:c})},0)}else this._queuedOperations.push(function(){this.changeData(d,e,c)})},updatePartialData:function(d,
e,c,b){if(!(d===this._currentStartRow&&c===this._currentStartCol&&e===this._currentEndRow&&b===this._currentEndCol))if(this._peerNode){if("undefined"===typeof c||"undefined"===typeof b)b=c=-1;this._peerNode.dispatchEvent("peerEvent",this._peerNode,{type:"partialUpdate",key:this._propertyKey,startRow:d,startCol:c,endRow:e,endCol:b})}else this._queuedOperations.push(function(){this.updatePartialData(d,e,c,b)})}})})},"mw-peermodel/Serializers":function(){define(["mw-utils/Utils","./PagedData"],function(k,
d){var e={imageSerializer:function(c){this._serializerCanvas||(this._serializerCanvas=document.createElement("canvas"),this._serializerContext=this._serializerCanvas.getContext("2d"));if(this._serializerCanvas.width!==c.width||this._serializerCanvas.height!==c.height)this._serializerCanvas.width=c.width,this._serializerCanvas.height=c.height;this._serializerContext.putImageData(c,0,0);return this._serializerCanvas.toDataURL()},imageDeserializer:function(c){var b=new Image;b.src=c;return b},pagedDataSerializer:function(c){return{rowCount:c.getRowCount(),
columnCount:c.getColumnCount(),currentStartRow:c.getCurrentStartRow(),currentEndRow:c.getCurrentEndRow(),currentStartCol:c.getCurrentStartCol(),currentEndCol:c.getCurrentEndCol(),partialData:c.getPartialData()}},pagedDataDeserializer:function(c){c=e.messageService.deserialize(c);return new d(c)},setupSerializers:function(c){e.messageService=c;c._peerModelSerializersSetup||(c.registerTypeSerializer(k.isImageData,"image",e.imageSerializer),c.registerTypeDeserializer("image",e.imageDeserializer),c.registerTypeSerializer(function(b){return b instanceof
d},"pagedData",e.pagedDataSerializer),c.registerTypeDeserializer("pagedData",e.pagedDataDeserializer));c._peerModelSerializersSetup=!0}};return e})},"mw-peermodel/PeerNode":function(){define("dojo/_base/declare dojo/_base/lang ./Observable ./PeerEventObservable mw-utils/Utils mw-log/Log".split(" "),function(k,d,e,c,b,a){var f=k([c],{getId:function(){},getType:function(){},setProperty:function(a,b,c){},getProperty:function(a){},hasProperty:function(a){},unsetProperty:function(a,b){},setProperties:function(a,
b){},unsetProperties:function(a,b){},replaceProperties:function(a,b){},getProperties:function(){},addChild:function(a,b,c,f){},hasChild:function(a){},getChild:function(a){},getChildIndex:function(a){},getChildren:function(){},hasDescendant:function(a){},getDescendant:function(a){},getNumberOfChildren:function(){},hasDetachedChildren:function(){},getDetachedChildren:function(){},detach:function(a){},reattach:function(a,b){},isDetached:function(){},isAncestorDetached:function(){},destroy:function(a){},
remove:function(){},hasParent:function(){},getParent:function(){},getRoot:function(){},accept:function(a){}}),l;l=k([f,c.Impl,e.Syncable],{constructor:function(a,b,c,f){if(!d.isString(a)||!d.isString(b))throw Error("Node type and ID must be strings");this._type=b;this._id=a;this._idCache=f||{};this._idCache[a]=this;this._properties={};c&&this._setProperties(c,void 0,!0);this._children=[];this._detached=[]},getId:function(){return this._id},getType:function(){return this._type},setProperty:function(a,
b,c){if(null===b||void 0===b)throw Error("Illegal argument. Value must not be null or undefined.");var f=this._setPropertyAndDispatchPropertySetEvent(a,b,c);this._dispatchSinglePropertiesSetEvent(a,f,b,c)},_setPropertyAndDispatchPropertySetEvent:function(a,b,c,f){var l=this._properties[a];l!==b&&(this._properties[a]=b,f||this.dispatchEvent("propertySet",this,{key:a,oldValue:l,newValue:b},c));return l},_dispatchSinglePropertiesSetEvent:function(a,b,c,f){if(b!==c){var l={oldValues:{},newValues:{}};
l.oldValues[a]=b;l.newValues[a]=c;this.dispatchEvent("propertiesSet",this,l,f)}},unsetProperty:function(a,b){var c=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b);this._dispatchSinglePropertiesUnsetEvent(a,c,b)},unsetProperties:function(a,b){var c={oldValues:{}};a.forEach(function(a){c.oldValues[a]=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b)},this);this.dispatchEvent("propertiesUnset",this,c,b)},_unsetPropertyAndDispatchPropertyUnsetEvent:function(a,b){var c;this.hasProperty(a)&&(c=
this._properties[a],delete this._properties[a],this.dispatchEvent("propertyUnset",this,{key:a,oldValue:c},b));return c},_dispatchSinglePropertiesUnsetEvent:function(a,b,c){var f={oldValues:{}};f.oldValues[a]=b;this.dispatchEvent("propertiesUnset",this,f,c)},hasProperty:function(a){return this._properties.hasOwnProperty(a)},getProperty:function(a){return this._properties[a]},setProperties:function(a,b){this._setProperties(a,b,!1)},_setProperties:function(b,c,g){var f,l,d;for(f in b)b.hasOwnProperty(f)&&
(l=b[f],(null===l||void 0===l)&&a.warn("Illegal argument. Property value must not be null or undefined. This will become an exception in the future."));var e=!1,q={oldValues:{},newValues:{}};for(f in b)b.hasOwnProperty(f)&&(l=b[f],d=this._setPropertyAndDispatchPropertySetEvent(f,l,c,g),d!==l&&(e=!0,q.oldValues[f]=d,q.newValues[f]=l));e&&!g&&this.dispatchEvent("propertiesSet",this,q,c)},replaceProperties:function(a,b){var c;this.setProperties(a,b);for(c in this._properties)this._properties.hasOwnProperty(c)&&
!a.hasOwnProperty(c)&&this.unsetProperty(c,b)},getProperties:function(){var a,b={};for(a in this._properties)this._properties.hasOwnProperty(a)&&this.hasProperty(a)&&(b[a]=this.getProperty(a));return b},addChild:function(a,b,c,f){"number"===typeof b&&(c=b,b=null);a=l.createNode(a,b,this._idCache);c=this._addChild(a,c);this.dispatchEvent("childAdded",this,{child:a,index:c},f);return a},addChildWithId:function(a,b,c,f,d){a=new l(a,b,c,this._idCache);f=this._addChild(a,f);this.dispatchEvent("childAdded",
this,{child:a,index:f||0},d);return a},hasChild:function(a){if(d.isString(a)){var b,c,f=this._children.length;for(b=0;b<f;b+=1)if(c=this._children[b],c.getId()===a)return!0;return!1}a=this.getChildIndex(a);return 0<=a&&this._children[a]},getChild:function(a){if(d.isString(a)){var b,c,f=this._children.length;for(b=0;b<f;b+=1)if(c=this._children[b],c.getId()===a)return c;throw Error("No child found with id: "+a);}return this._children[a]},getChildIndex:function(a){var b,c=this._children.length;for(b=
0;b<c;b+=1)if(this._children[b].getId()===a.getId())return b;return-1},getChildren:function(){return this._children.map(function(a){return a})},hasDescendant:function(a){var b,c,f=this._children.length;for(b=0;b<f;b+=1)if(c=this._children[b],c.getId()===a||c.hasDescendant(a))return!0;f=this._detached.length;for(b=0;b<f;b+=1)if(c=this._detached[b],c.getId()===a||c.hasDescendant(a))return!0;return!1},getDescendant:function(a){var b,c,f=this._children.length;for(b=0;b<f;b+=1){c=this._children[b];if(c._id===
a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}f=this._detached.length;for(b=0;b<f;b+=1){c=this._detached[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}throw Error("No descendant found with id: "+a);},getNumberOfChildren:function(){return this._children.length},hasDetachedChildren:function(){return 0<this._detached.length},getDetachedChildren:function(){return this._detached.map(function(a){return a})},detach:function(a){if(!this.isDetached()){var b={child:this,
index:this.getParent().getChildIndex(this)},c=this.getParent();this.getParent()._detachChild(this);c.dispatchEvent("childRemoved",c,b,a);c.dispatchEvent("childDetached",c,b,a)}},_detachChild:function(a){this._removeChild(a);this._detached.push(a)},reattach:function(a,b){this.isDetached()&&(a=0<=a?a:this.getParent().getNumberOfChildren(),a=this.getParent()._reattachChild(this,a),this.getParent().dispatchEvent("childReattached",this.getParent(),{child:this,index:a},b))},_reattachChild:function(a,b){var c=
this._detached.indexOf(a);this._detached.splice(c,1);return this._addChild(a,b)},isDetached:function(){return this.hasParent()&&0<=this.getParent().getDetachedChildren().indexOf(this)},isAncestorDetached:function(){return this.hasParent()&&(this.getParent().isDetached()||this.getParent().isAncestorDetached())},destroy:function(a){this.hasParent()&&this.getParent().dispatchEvent("subTreeDestroyed",this.getParent(),{child:this},a);this._destroyNodesRecursive(a)},remove:function(){this.destroy()},_destroyNodesRecursive:function(a){try{this.getChildren().forEach(function(b){b._destroyNodesRecursive(a)});
var b,c;this.hasParent()&&(c=this.getParent(),b=c.getChildIndex(this),c._removeChild(this),this._setParent(null),c.dispatchEvent("childRemoved",c,{child:this,index:b},a),c.dispatchEvent("childDestroyed",c,{child:this,index:b},a));this.dispatchEvent("destroyed",this,void 0,a)}finally{delete this._idCache[this._id]}},hasParent:function(){return!!this._parent},getParent:function(){return this._parent},getRoot:function(){return this.hasParent()?this.getParent().getRoot():this},accept:function(a){a(this);
this._children.forEach(function(b){b.accept(a)});this._detached.forEach(function(b){b.accept(a)})},_addChild:function(a,b){b=this._checkIndex(b);a._setParent(this);this._children.splice(b,0,a);return b},_removeChild:function(a){var b;"number"===typeof a?(b=a,a=this._children[b]):b=this.getChildIndex(a);b=this._checkIndex(b);a&&this._children.splice(b,1)},_checkIndex:function(a){if(void 0===a||null===a)a=this._children.length;return Math.max(0,Math.min(a,this._children.length))},_setParent:function(a){this._parent=
a},toString:function(a){a=a||0;var b,c,f,l="";for(f=0;f<a;f+=1)l+="    ";l+="{id\x3d'"+this._id+"'";l+=", type\x3d'"+this._type+"'";l+=", properties\x3d{";for(c in this._properties)if(this._properties.hasOwnProperty(c)){try{b=dojo.toJson(this._properties[c])}catch(d){b=this._properties[c].toString()}40<b.length&&(b=b.slice(0,40)+"...");l+=c+": "+b+", "}l=l.slice(0,l.length-2);l+="}, children\x3d[";for(f=0;f<this._children.length;f+=1)l+="\n"+this._children[f].toString(a+1);l+="], detached\x3d[";for(f=
0;f<this._detached.length;f+=1)l+="\n"+this._detached[f].toString(a+1);return l+"]}"},equals:function(a){var b;if(!a)return!1;if(this===a)return!0;if(this._id!==a._id)return!1;if(this._parent&&a._parent){if(this._parent.getId()!==a._parent.getId())return!1}else if(this._parent!==a._parent)return!1;if(!this._propertiesEqual(this,a)||this._type!==a._type||this._children.length!==a._children.length||this._detached.length!==a._detached.length)return!1;for(b=0;b<this._children.length;b+=1)if(!this._children[b].equals(a._children[b]))return!1;
for(b=0;b<this._detached.length;b+=1)if(!this._detached[b].equals(a._detached[b]))return!1;return!0},_propertiesEqual:function(a,b){return a._properties!==b._properties?!1:!0}});f.createNode=l.createNode=function(a,c,g){var f=b.generateUuid();return new l(f,a,c,g)};f.Impl=l;return f})},"mw-peermodel/Observable":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(k,d,e){var c=k([],{addEventListener:function(b,a,c){},removeEventListener:function(b,a,c){},hasEventListener:function(b,
a,c){},dispatchEvent:function(b,a,c,l){}});c.Syncable=k([],{addSyncEventListener:function(b,a,c){},removeSyncEventListener:function(b,a,c){}});c.Impl=k([c,c.Syncable],{constructor:function(){this._listeners={};this._syncListeners={}},addEventListener:function(b,a,c){this._addEventListener(this._listeners,b,a,c)},addSyncEventListener:function(b,a,c){this._addEventListener(this._syncListeners,b,a,c)},_addEventListener:function(b,a,c,l){l=l||this;b[a]=b[a]||[];var d={scope:l,callback:c};0>this._getEventListenerIndex(b,
a,c,l)&&b[a].push(d)},hasEventListener:function(b,a,c){return 0<=this._getEventListenerIndex(this._listeners,b,a,c)},removeEventListener:function(b,a,c){this._removeEventListener(this._listeners,b,a,c)},removeSyncEventListener:function(b,a,c){this._removeEventListener(this._syncListeners,b,a,c)},_removeEventListener:function(b,a,c,l){c=this._getEventListenerIndex(b,a,c,l||this);if(0<=c)b[a].splice(c,1);else throw Error("Listener does not exist");},_getEventListenerIndex:function(b,a,c,l){l=l||this;
if(b=b[a]){var d=b.length;for(a=0;a<d;a+=1)if(b[a].scope===l&&b[a].callback===c)return a}return-1},dispatchEvent:function(b,a,c,l){this._dispatchEvent(this._syncListeners,b,a,c,l);this._dispatchEvent(this._listeners,b,a,c,l)},_dispatchEvent:function(b,a,c,l,m){if(void 0!==l&&(d.isArray(l)||d.isString(l)||null===l||"number"===typeof l||"boolean"===typeof l))throw Error("Invalid event data, must be object");var h=b[a];if(h){var h=h.slice(0),g=h.length;for(b=0;b<g;b+=1)try{var p={type:a,target:c||this,
data:l||{},originator:m};"string"===typeof h[b].callback?h[b].scope[h[b].callback].call(h[b].scope,p):h[b].callback.call(h[b].scope,p)}catch(n){e.error("Error while dispatching event handler of type: "+a+", message: "+n)}}}});return c})},"mw-peermodel/PeerEventObservable":function(){define(["dojo/_base/declare","./Observable"],function(k,d){var e=k([d],{addPeerEventListener:function(c,b,a){},removePeerEventListener:function(c,b,a){},hasPeerEventListener:function(c,b,a){},dispatchPeerEvent:function(c,
b,a,f){}});e.Impl=k([d.Impl],{addPeerEventListener:function(c,b,a){var f=function(f){f.data.type&&f.data.type===c&&b.call(a,f)};f.type=c;f.callback=b;f.scope=a;this.addEventListener("peerEvent",f)},hasPeerEventListener:function(c,b,a){return!!this._getPeerEventObserver(c,b,a)},removePeerEventListener:function(c,b,a){if(c=this._getPeerEventObserver(c,b,a))this.removeEventListener("peerEvent",c.callback,c.scope);else throw Error("Listener does not exist");},_getPeerEventObserver:function(c,b,a){return this._listeners.peerEvent?
this._listeners.peerEvent.filter(function(f){return f.callback.callback&&f.callback.type===c&&f.callback.callback===b&&f.callback.scope===a})[0]:null},dispatchPeerEvent:function(c,b,a,f){a||(a={});a.type=c;this.dispatchEvent("peerEvent",b,a,f)}});return e})},"datatoolsservices/ActionService/ActionDataServiceFactory":function(){define("datatoolsservices/ActionService/ActionDataServiceFactory",["dojo/_base/declare","datatoolsservices/ActionService/ActionDataServiceProvider"],function(k,d){var e={};
return{getInstance:function(c){var b=null,a=c.nameSpace;e[a]?b=e[a]:(b=new d(c),e[a]=b);return b}}})},"datatoolsservices/ActionService/ActionDataServiceProvider":function(){define("datatoolsservices/ActionService/ActionDataServiceProvider",["dojo/_base/declare","datatoolsservices/ActionService/Action","mw-actiondataservice/ActionDataService"],function(k,d,e){return k("datatoolsservices.ActionService.ActionDataServiceProvider",[e],{constructor:function(c){this.allArgs=c;this._actionMap={}},onActionRemove:function(c){(c=
c.id)&&this._actionMap[c]&&delete this._actionMap[c]},onChildAdd:function(c){var b=c.data.child,a=null,f={};if(b){f=b.getProperties();b.hasProperty("id")||b.setProperty("id",b.getId());var a=new d(f),l=this;a.execute=function(b){l.executeAction(a.getProperty("id"))};this._actionMap[b.getProperty("id")]=a}this.inherited(arguments)},onActionChange:function(c){if(c.id&&this._actionMap[c.id]){var b=this._actionMap[c.id];b._updateProperty(c.key,c.newValue);var a="on"+c.key+"Change";if(b.hasOwnProperty(a)&&
"function"===typeof b[a])b[a](c)}},getActionMap:function(){return this._actionMap},getAction:function(c){if(c)return this._actionMap[c]}})})},"datatoolsservices/ActionService/Action":function(){define("datatoolsservices/ActionService/Action",["dojo/_base/declare","dojo/_base/lang"],function(k,d){return k("datatoolsservices.ActionService.Action",[],{constructor:function(e){this._actionProps={};e&&(this._actionProps=d.mixin({},e))},_updateProperty:function(d,c){d&&(this._actionProps[d]=c)},getProperty:function(d){if(this._actionProps&&
this._actionProps.hasOwnProperty(d))return this._actionProps[d]}})})},"mw-actiondataservice/ActionDataService":function(){define(["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","mw-peermodel/_PropertyIndexerMixin","mw-utils/Utils"],function(k,d,e,c,b){return k([e,c],{constructor:function(a){a=a||{};this._mode=a.mode||"StandAlone";this._nameSpace=a.nameSpace||"/actions/"+b.generateUuid();this._setupPeerModel();this._callbacks={};this._actionChangeCallbacks=
{};this._propertyToIndex="id"},_setupPeerModel:function(){switch(this._mode){case "StandAlone":this._peerModelManager=d.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsServer":this._peerModelManager=d.getServerInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsClient":this._peerModelManager=d.getClientInstance(this._nameSpace);
this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);break;default:throw Error("The mode provided is not valid! Please use one of the following: StandAlone, ActAsServer or ActAsClient");}},onPropertySet:function(a){this.onActionChange({id:a.target.getProperty("id"),key:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})},onChildAdd:function(a){a.data.child.getProperty("id")||a.data.child.setProperty("id",a.data.child.getId());this.onActionAdd({id:a.data.child.getProperty("id")})},
loadActions:function(a){Array.isArray(a)&&a.forEach(function(a){this.addAction(a)},this)},addAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be added while in ActAsClient Mode!");var b;a=a||{};if(a.id&&this._getPeerNodeIdForIndexedProperty(a.id))throw Error("Action id must be unique!");b=this._peerModelManager.getRoot().addChild("Action",a);a.id||b.setProperty("id",b.getId());a.callback&&this.addActionCallback(b.getProperty("id"),a.callback);return b.getId()},getAction:function(a){return(a=
this._actionById(a))?a.getProperties():null},getAllActions:function(){return this._peerModelManager.getRoot().getChildren().map(function(a){return a.getProperties()})},removeAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be removed while in ActAsClient Mode!");var b=this._getPeerNodeIdForIndexedProperty(a);if(b&&this._peerModelManager.hasById(b))this._peerModelManager.getById(b).destroy(),delete this._callbacks[a];else throw Error("This is not a valid action id!");},
enableAction:function(a){this.updateAction(a,{enabled:!0})},disableAction:function(a){this.updateAction(a,{enabled:!1})},updateAction:function(a,b,c){var d=this._actionById(a);d&&(b.callback&&this.addActionCallback(a,b.callback),d.setProperties(b,c))},actionHasProperty:function(a,b){return this._actionById(a).hasProperty(b)},executeAction:function(a,b){var c;b=b||{};c=this._actionById(a);!0===c.getProperty("enabled")&&c.dispatchEvent("peerEvent",c,b)},addActionCallback:function(a,b,c){var d=this._actionById(a),
h;this.removeActionCallback(a);h=function(a){delete a.data.type;b.call(c||d.getProperties(),a.data)};this._callbacks[a]={callback:h,scope:c};d.addEventListener("peerEvent",h,c)},removeActionCallback:function(a){var b=this._actionById(a),c;if(c=this._callbacks[a])b.removeEventListener("peerEvent",c.callback,c.scope),delete this._callbacks[a]},addActionChangeCallback:function(a,b,c){var d=this._actionById(a),h;this.removeActionChangeCallback(a);h=function(a){b.call(c,{property:a.data.key,oldValue:a.data.oldValue,
newValue:a.data.newValue},a.originator)};this._actionChangeCallbacks[a]={callback:h,scope:c};d.addEventListener("propertySet",h,c)},removeActionChangeCallback:function(a){var b=this._actionById(a);this._actionChangeCallbacks[a]&&(b.removeEventListener("propertySet",this._actionChangeCallbacks[a].callback,this._actionChangeCallbacks[a].scope),delete this._actionChangeCallbacks[a])},onActionChange:function(a){},onActionAdd:function(a){},_actionById:function(a){var b;(a=this._getPeerNodeIdForIndexedProperty(a))&&
this._peerModelManager.hasById(a)&&(b=this._peerModelManager.getById(a));return b},destroy:function(){d.cleanup(this._nameSpace)}})})},"mw-peermodel/_PeerModelListenerMixin":function(){define(["dojo/_base/declare"],function(k){return k([],{start:function(d){d=d||this.manager;d.setSyncEnabled(!0)},stop:function(d){d=d||this.manager;d.setSyncEnabled(!1)},addManagerListeners:function(d){d=d||this.manager;d.addEventListener("rootSet",this.rootSetObserver,this);d.addEventListener("rootUnset",this.rootUnsetObserver,
this);d.addEventListener("childMoved",this.childMovedObserver,this)},removeManagerListeners:function(d){d=d||this.manager;d.removeEventListener("rootSet",this.rootSetObserver,this);d.removeEventListener("rootUnset",this.rootUnsetObserver,this);d.removeEventListener("childMoved",this.childMovedObserver,this)},addNodeListeners:function(d){d.addEventListener("childAdded",this.childAddedObserver,this);d.addEventListener("childDestroyed",this.childDestroyedObserver,this);d.addEventListener("propertySet",
this.propertySetObserver,this);d.addEventListener("peerEvent",this.peerEventObserver,this)},removeNodeListeners:function(d){d.removeEventListener("childAdded",this.childAddedObserver,this);d.removeEventListener("childDestroyed",this.childDestroyedObserver,this);d.removeEventListener("propertySet",this.propertySetObserver,this);d.removeEventListener("peerEvent",this.peerEventObserver,this)},rootSetObserver:function(d){this.addNodeListeners(d.target)},rootUnsetObserver:function(d){this.removeNodeListeners(d.target)},
childMovedObserver:function(d){this.onChildMove(d)},childAddedObserver:function(d){this.addNodeListeners(d.data.child);this.onChildAdd(d)},childDestroyedObserver:function(d){this.removeNodeListeners(d.data.child);this.onChildDestroy(d)},propertySetObserver:function(d){this.onPropertySet(d)},peerEventObserver:function(d){this.onPeerEvent(d)},onPeerEvent:function(d){},onChildAdd:function(d){},onChildDestroy:function(d){},onPropertySet:function(d){},onChildMove:function(d){}})})},"mw-peermodel/_PropertyIndexerMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect"],function(k,d,e){return k([],{constructor:function(){this._propertyIndexMap={};e.before(this,"onChildAdd",d.hitch(this,function(c){var b=c.data.child.getProperty(this._propertyToIndex);b&&(this._propertyIndexMap[b]=c.data.child.getId())}));e.before(this,"onPropertySet",d.hitch(this,function(c){c.data.key===this._propertyToIndex&&c.data.newValue&&(this._propertyIndexMap[c.data.newValue]=c.target.getId())}));e.before(this,"onChildDestroy",d.hitch(this,function(c){delete this._propertyIndexMap[c.data.child.getProperty(this._propertyToIndex)]}))},
_getPeerNodeIdForIndexedProperty:function(c){return this._propertyIndexMap[c]}})})},"datatoolsservices/ContextMenuService/ContextMenuManager":function(){define("datatoolsservices/ContextMenuService/ContextMenuManager","dojo/_base/declare datatoolsservices/ContextMenuService/ContextMenuBuilder mw-menu/ContextMenu MW/uiframework/contextmanager/ContextManagerFactory datatoolsservices/ActionService/ActionDataServiceFactory mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin MW/uiframework/UIBuilderFactory".split(" "),
function(k,d,e,c,b,a,f,l){return k("datatoolsservices.ContextMenuService.ContextMenuManager",[f],{constructor:function(a){a=a||{};this.mode=a.mode||"ActAsClient";this.namespace=a.namespace||"/ContextMenuManager";this.contextAppID=a.contextAppID||"";this.previousContext="";this._cacheUpdated=!1;this.contextWatchHandle=null;this._contextMenuMap={};this._initProps={};this._startPeerModelService();this._initOnContextChange()},_initServices:function(){this.actionService=b.getInstance({mode:this.mode,nameSpace:this._initProps.actionNamespace});
this.contextMenuBuilder=new d({actionService:this.actionService,namespace:this.namespace})},_startPeerModelService:function(){this._peerModelManager=this._getPeerModelInstance(this.namespace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);var a=this;this._peerModelManager.addEventListener("rootSet",function(b){var c=b.target;b=c.getProperty("actionNamespace");c=c.getProperty("queryString");a._initProps={actionNamespace:b,queryString:c};a._initServices()})},_initOnContextChange:function(){var a=
this;this.contextWatchHandle=this._getDefaultContextManager().watch("currentContext",function(b,c,f){c=f.appId;"currentContext"===b&&(c&&c===a.contextAppID)&&(!a._cacheUpdated&&a._peerModelManager)&&(b=a._peerModelManager.getRoot(),c=a._getPeerModelInstance(a._initProps.actionNamespace).getRoot(),b&&(0<b._children.length&&c)&&(a.createContextMenu(b),a.contextWatchHandle.unwatch()))})},createContextMenu:function(a){var b=this._initProps.queryString;this._contextMenuMap=this.contextMenuBuilder.constructMenuItems(a);
this._contextMenu=new e({targetNodes:[b]});this._addContextMenuCallBack();this._cacheUpdated=!0},_addContextMenuCallBack:function(){var a=this;this._contextMenu.willOpenCallback=function(){var b=a._getDefaultContextManager().get("currentContext"),c=b.contextIdList.toString();if(c!==a.previousContext){var f=a._contextMenu;f.hasChildren()&&f.getChildren().forEach(function(a){f.removeChild(a)});a._getMenuItemsForContext(b.contextIdList).forEach(function(a){f.addChild(a)});a.previousContext=c}}},_getDefaultContextManager:function(){var a=
null;try{a=c.getInstance()}catch(b){}null===a&&"/WSBContextMenuManager"===this.namespace&&(l.getInstance({actionService:null}).create({tag:"motwToolstrip",type:"Toolstrip"}),a=c.getInstance({parentAppId:"motw",toolstripTag:"motwToolstrip",toolstripId:"toolstripId",uiContainer:null,qabContextualControlsActionMap:{}}));return a},_getPeerModelInstance:function(b){var c=null;return c="ActAsServer"===this.mode?a.getServerInstance(b):a.getClientInstance(b)},_getMenuItemsForContext:function(a){var b=this._contextMenuMap[this.namespace],
c=[],f;for(f in b)if(b.hasOwnProperty(f)&&b[f].MatchContext){var l=b[f].MatchContext.split(",");b[f].ExactMatch?("global"===a[0]&&a.shift(),this.compareArrayValues(a,l)&&(c=c.concat(b[f].ContextMenuItems))):l.every(function(b){return-1<a.indexOf(b)})&&(c=c.concat(b[f].ContextMenuItems))}return c.slice()},destroy:function(){a.cleanup(this.namespace)},compareArrayValues:function(a,b){return!a||!b||a.length!==b.length?!1:a.every(function(a,c){var f=!1;b.forEach(function(b,c){a===b&&(f=!0)});return f})}})})},
"datatoolsservices/ContextMenuService/ContextMenuBuilder":function(){define("datatoolsservices/ContextMenuService/ContextMenuBuilder","dojo/_base/declare dojo/_base/lang datatoolsservices/ContextMenuService/ActionMenuItem datatoolsservices/ContextMenuService/ActionPopupMenuItem mw-menu/Menu mw-menu/MenuSeparator dojo/on".split(" "),function(k,d,e,c,b,a,f){return k("datatoolsservices.ContextMenuService.ContextMenuBuilder",[],{constructor:function(a){this.actionService=a.actionService;this._contextMenuMap=
{};this._contextMap={};this.namespace=a.namespace},constructMenuItems:function(a){if(a)return this._contextMap[this.namespace]={},this.parseNodes(a),this._contextMap},parseNodes:function(a){var b=this;a.getChildren().forEach(function(c){var g=c.getType(),f=a.getProperty("ID"),e=c.getProperty("ID"),s=b._getContextMenuFromParent(f);"Action"===g?(c=b._constructSubMenuItem(c,a))&&s.push(c):"ActionGroup"===g?(b._createActionGroupItem(f,s,c),b.parseNodes(c)):"Context"===g?(b._contextMap[b.namespace][e]=
d.mixin(c.getProperties(),{ContextMenuItems:[]}),b.parseNodes(c)):"MenuSeparator"===g&&b._createMenuSeparator(f,s)})},_createMenuSeparator:function(b,c){var h=new a({tag:"ContextMenuSeparator"}),g=this._contextMenuMap[b];g&&g.popUpMenu?(g=g.popUpMenu.menu,this._isValidPosForSeparator(g.getChildren())&&g.addChild(h)):this._isValidPosForSeparator(c)&&c.push(h)},_isValidPosForSeparator:function(a){return 0<a.length&&"ContextMenuSeparator"!==a[a.length-1].Tag},_createActionGroupItem:function(a,b,c){var g=
c.getProperty("ID"),f=this._contextMenuMap[a]?this._contextMenuMap[a].popUpMenu:null;this._contextMenuMap[g]={menuItems:b,popUpMenu:f};c.hasProperty("Expanded")&&!c.getProperty("Expanded")&&(f=this._createPopUpMenuItem(c,a),(a=this._contextMenuMap[a])&&a.popUpMenu?a.popUpMenu.menu.addChild(f):b.push(f))},_createPopUpMenuItem:function(a){a=this._getNodeAttributes(a);var f=new b({}),f=new c({Id:a.menuId,text:a.displayName,action:a.menuAction,menu:f});return this._contextMenuMap[a.menuId].popUpMenu=
f},_getContextMenuFromParent:function(a){var b=this._contextMap[this.namespace];if(b){if(b[a])return b[a].ContextMenuItems;if(this._contextMenuMap[a]&&this._contextMenuMap[a].menuItems)return this._contextMenuMap[a].menuItems}},_constructSubMenuItem:function(a,b){var c=this._getNodeAttributes(a),g=b.getProperty("ID"),c=this._createMenu(c.menuId,c.displayName,c.menuAction);if(this._contextMenuMap[g]&&this._contextMenuMap[g].popUpMenu)this._contextMenuMap[g].popUpMenu.menu.addChild(c);else return c},
_getNodeAttributes:function(a){var b=a.getProperty("ID");a=a.getProperty("DisplayName")||b;var c=this.actionService.getAction(b);return{menuId:b,displayName:a,menuAction:c}},_createMenu:function(a,b,c){b=new e({action:c,Id:a,text:b});return this._contextMenuMap[a]=b}})})},"datatoolsservices/ContextMenuService/ActionMenuItem":function(){define("datatoolsservices/ContextMenuService/ActionMenuItem","dojo/_base/declare dojo/_base/lang mw-menu/MenuItem mw-menu/Menu mw-menu/MenuSeparator dojo/on".split(" "),
function(k,d,e,c,b,a){return k("datatoolsservices.ContextMenuService.ActionMenuItem",[e],{constructor:function(a){this.allArgs=a},postCreate:function(a){this.inherited(arguments);if(this.action){this.on("click",d.hitch(this,"_executeMenuAction"));var b=this;this.action.onenabledChange=function(a){b.disabled=!a.newValue;b._setStateClass();b._onEnabledStateChanged&&b._onEnabledStateChanged(a)};this.disabled=!this.action.getProperty("enabled")}this._setStateClass()},_executeMenuAction:function(a){(a=
dijit.getEnclosingWidget(a.target))&&a.Id&&this.action.execute()}})})},"mw-menu/MenuItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuItem.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A){return k(C.validate([d,e,c,b,a,l,m,h,g,p,n,s,r,q,t,u,w,v,f,x,z,y,B]),{baseClass:"mwWidget mwSharedMenuItem mwMenuItem",templateString:A,closeMenuOnClick:!0,_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},_qeClick:function(){this._emitClickEvent()}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y){function B(a){return function(b){l[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}n.add("dijit-legacy-requires",!s.isAsync);n("dijit-legacy-requires")&&t(0,function(){k(["dijit/_base/manager"])});var C={};return a("dijit._WidgetBase",[u,x],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:B("lang"),dir:"",_setDirAttr:B("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:c.blankGif||k.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},g;for(g in b.attributeMap)c.push(g);for(g in b)/^on/.test(g)&&(a[g.substring(2).toLowerCase()]=g),/^_set[A-Z](.*)Attr$/.test(g)&&(g=g.charAt(4).toLowerCase()+g.substr(5,
g.length-9),(!b.attributeMap||!(g in b.attributeMap))&&c.push(g))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=f.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);a&&(this.params=a,r.mixin(this,a));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=
this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=v.body(this.ownerDocument);y.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var g=this.srcNodeRef;g&&(g.parentNode&&this.domNode!==g)&&(g.parentNode.replaceChild(this.domNode,g),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);
d.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(d.map(a,function(a){return a+"Rtl"})));m.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=
!0,d.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&r.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();d.forEach(this._connects,r.hitch(this,"disconnect"));d.forEach(this._supportingWidgets,b);this.domNode&&d.forEach(y.findWidgets(this.domNode,
this.containerNode),b);this.destroyRendering(a);y.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?l.remove(this.domNode,"widgetId"):h.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||h.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){d.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=
this.domNode;r.isObject(a)?p.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,c){c=3<=arguments.length?c:this.attributeMap[a];d.forEach(r.isArray(c)?c:[c],function(c){var g=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":r.isFunction(b)&&(b=r.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;g.tagName?l.set(g,c,b):g.set(c,b);break;case "innerText":g.innerHTML="";g.appendChild(this.ownerDocument.createTextNode(b));
break;case "textContent":g.textContent=b;break;case "innerHTML":g.innerHTML=b;break;case "class":m.replace(g,b,this[a]);break;case "toggleClass":m.toggle(g,c.className||a,b)}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var g=this[c.s];if(r.isFunction(g))var h=g.apply(this,Array.prototype.slice.call(arguments,1));else{var g=this.focusNode&&
!r.isFunction(this.focusNode)?"focusNode":"domNode",f=this[g]&&this[g].tagName,d;if(d=f)if(!(d=C[f])){d=this[g];var l={},m;for(m in d)l[m.toLowerCase()]=!0;d=C[f]=l}m=d;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:m&&c.l in m&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?g:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return h||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-
1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;if(this._created&&!(c===b||c!==c&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var g,h=this["on"+a];
h&&(g=h.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&q.emit(this.domNode,a.toLowerCase(),b);return g},on:function(a,b){var c=this._onMap(a);return c?e.after(this,c,b,!0):this.own(q(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},g;for(g in b.prototype)/^on/.test(g)&&(c[g.replace(/^on/,"").toLowerCase()]=g)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+
"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,g){return this.own(b.connect(a,c,this,g))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(w.subscribe(a,r.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():g.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&
"none"!=p.get(this.domNode,"display")},placeAt:function(a,b){var c=!a.tagName&&y.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c&&"domNode"in c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:f.byId(a,this.ownerDocument),h.place(this.domNode,c,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(r.hitch(this,function(){c&&(c=null,this._destroyed||r.hitch(this,a)())}),b||0);return{remove:function(){c&&
(clearTimeout(c),c=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(k,d,e,c){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(b){var a=this._attrPairNames;return a[b]?a[b]:a[b]={s:"_"+b+"Setter",g:"_"+b+"Getter"}},postscript:function(b){b&&this.set(b)},_get:function(b,a){return"function"===typeof this[a.g]?this[a.g]():this[b]},get:function(b){return this._get(b,this._getAttrNames(b))},set:function(b,
a){if("object"===typeof b){for(var f in b)b.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,b[f]);return this}f=this._getAttrNames(b);var d=this._get(b,f);f=this[f.s];var m;"function"===typeof f?m=f.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=a;if(this._watchCallbacks){var h=this;c(m,function(){h._watchCallbacks(b,d,a)})}return this},_changeAttrValue:function(b,a){var c=this.get(b);this[b]=a;this._watchCallbacks&&this._watchCallbacks(b,c,a);return this},watch:function(b,a){var c=
this._watchCallbacks;if(!c)var d=this,c=this._watchCallbacks=function(a,b,h,m){var e=function(c){if(c){c=c.slice();for(var f=0,m=c.length;f<m;f++)c[f].call(d,a,b,h)}};e(c["_"+a]);m||e(c["*"])};!a&&"function"===typeof b?(a=b,b="*"):b="_"+b;var m=c[b];"object"!==typeof m&&(m=c[b]=[]);m.push(a);var h={};h.unwatch=h.remove=function(){var b=e.indexOf(m,a);-1<b&&m.splice(b,1)};return h}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(k,d,e){return e("dijit.Destroyable",
null,{destroy:function(c){this._destroyed=!0},own:function(){var c=["destroyRecursive","destroy","remove"];k.forEach(arguments,function(b){function a(){l.remove();k.forEach(m,function(a){a.remove()})}var f,l=d.before(this,"destroy",function(a){b[f](a)}),m=[];b.then?(f="cancel",b.then(a,a)):k.forEach(c,function(c){"function"===typeof b[c]&&(f||(f=c),m.push(d.after(b,c,a,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(k,
d,e){var c={},b={},a={length:0,add:function(a){if(b[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");b[a.id]=a;this.length++},remove:function(a){b[a]&&(delete b[a],this.length--)},byId:function(a){return"string"==typeof a?b[a]:a},byNode:function(a){return b[a.getAttribute("widgetId")]},toArray:function(){var a=[],c;for(c in b)a.push(b[c]);return a},getUniqueId:function(a){var d;do d=a+"_"+(a in c?++c[a]:c[a]=0);while(b[d]);return"dijit"==e._scopeName?
d:e._scopeName+"_"+d},findWidgets:function(a,c){function d(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var f=a.getAttribute("widgetId");f?(f=b[f])&&h.push(f):a!==c&&d(a)}}var h=[];d(a);return h},_destroyAll:function(){e._curFocus=null;e._prevFocus=null;e._activeStack=[];k.forEach(a.findWidgets(d.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var c=1==a.nodeType&&a.getAttribute("widgetId");
if(c)return b[c];a=a.parentNode}return null},_hash:b};return e.registry=a})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(k,d,e,c,b,a,f,l){var m=d("dijit._TemplatedMixin",l,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,d=this;return f.substitute(a,this,function(a,h){"!"==h.charAt(0)&&(a=
c.getObject(h.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+" template:"+h);return null==a?"":"!"==h.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=k(this.templatePath,{sanitize:!0}));var a=m.getCachedTemplate(this.templateString,this._skipNodeCache,
this.ownerDocument),b;if(c.isString(a)){if(b=e.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});m._templateCache={};m.getCachedTemplate=function(a,b,c){var d=m._templateCache,l=a,r=d[l];if(r){try{if(!r.ownerDocument||
r.ownerDocument==(c||document))return r}catch(q){}e.destroy(r)}a=f.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return d[l]=a;b=e.toDom(a,c);if(1!=b.nodeType)throw Error("Invalid template: "+a);return d[l]=b};a("ie")&&b(window,"unload",function(){var a=m._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&e.destroy(c);delete a[b]}});return m})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(k){return k.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has",
"./request"],function(k,d,e,c){var b;b=function(a,b,f){c(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(f)};var a={},f=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},l={},m={};k.cache=function(c,g,l){var m;"string"==typeof c?/\//.test(c)?(m=c,l=g):m=d.toUrl(c.replace(/\./g,"/")+(g?"/"+g:"")):(m=c+"",l=g);c=void 0!=l&&"string"!=typeof l?l.value:l;l=l&&l.sanitize;
if("string"==typeof c)return a[m]=c,l?f(c):c;if(null===c)return delete a[m],null;m in a||b(m,!0,function(b){a[m]=b});return l?f(a[m]):a[m]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),f=c[0];return(/^\./.test(f)?b(f):f)+(c[1]?"!"+c[1]:"")},load:function(c,g,d){c=c.split("!");var e=1<c.length,s=c[0],r=g.toUrl(c[0]);c="url:"+r;var q=l,t=function(a){d(e?f(a):a)};s in a?q=a[s]:g.cache&&c in g.cache?q=g.cache[c]:r in a&&(q=a[r]);if(q===l)if(m[r])m[r].push(t);else{var u=m[r]=[t];b(r,!g.async,
function(b){a[s]=a[r]=b;for(var c=0;c<u.length;)u[c++](b);delete m[r]})}else t(q)}}})},"dojo/request":function(){define(["./request/default!"],function(k){return k})},"dojo/request/default":function(){define(["exports","require","../has"],function(k,d,e){var c=e("config-requestProvider");c||(c="./xhr");k.getPlatformDefaultId=function(){return"./xhr"};k.load=function(b,a,f,l){d(["platform"==b?"./xhr":c],function(a){f(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(k,d,e,c,b,a,f,l,m){var h=b.delegate(l,{mouseenter:a.enter,mouseleave:a.leave,keypress:e._keypress}),g;e=c("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,c,g){var h=!0,f=this.attachScope||this,d=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(d)for(var l=d.split(/\s*,\s*/);d=l.shift();)b.isArray(f[d])?f[d].push(a):f[d]=a,h="containerNode"!=d,this._attachPoints.push(d);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){d=c.split(/\s*,\s*/);for(l=b.trim;c=d.shift();)if(c){var m=
null;-1!=c.indexOf(":")?(m=c.split(":"),c=l(m[0]),m=l(m[1])):c=l(c);m||(m=c);this._attachEvents.push(g(a,c,b.hitch(f,m)))}}return h},_attach:function(a,b,c){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?g||(g=k("./a11yclick")):h[b]||b;return f(a,b,c)},_detachTemplateNodes:function(){var a=this.attachScope||this;d.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];d.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});b.extend(m,{dojoAttachEvent:"",dojoAttachPoint:""});return e})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(k,d,e,c,b,a,f,l,m,h){function g(b,c,g){return r&&g?function(b,c){return a(b,g,c)}:t?function(g,h){var f=a(g,c,function(a){h.call(this,a);D=(new Date).getTime()}),d=a(g,b,function(a){(!D||(new Date).getTime()>D+1E3)&&h.call(this,a)});return{remove:function(){f.remove();
d.remove()}}}:function(c,g){return a(c,b,g)}}function p(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function n(b,g,f){if(!l.isRight(b)){var d=p(b.target);if(w=!b.target.disabled&&d&&d.dojoClick)if(x=(v="useTarget"==w)?d:b.target,v&&b.preventDefault(),z=b.changedTouches?b.changedTouches[0].pageX-h.global.pageXOffset:b.clientX,y=b.changedTouches?b.changedTouches[0].pageY-h.global.pageYOffset:b.clientY,B=("object"==typeof w?w.x:"number"==typeof w?w:0)||4,C=("object"==typeof w?w.y:"number"==
typeof w?w:0)||4,!u){u=!0;var m=function(a){w=v?e.isDescendant(h.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-h.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-h.global.pageYOffset:a.clientY),x):w&&(a.changedTouches?a.changedTouches[0].target:a.target)==x&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-h.global.pageXOffset:a.clientX)-z)<=B&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-h.global.pageYOffset:a.clientY)-y)<=C};h.doc.addEventListener(g,
function(a){l.isRight(a)||(m(a),v&&a.preventDefault())},!0);h.doc.addEventListener(f,function(b){if(!l.isRight(b)&&(m(b),w)){A=(new Date).getTime();var c=v?x:b.target;"LABEL"===c.tagName&&(c=e.byId(c.getAttribute("for"))||c);var g=b.changedTouches?b.changedTouches[0]:b,h=function(a){var c=document.createEvent("MouseEvents");c._dojo_click=!0;c.initMouseEvent(a,!0,!0,b.view,b.detail,g.screenX,g.screenY,g.clientX,g.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);return c},f=h("mousedown"),d=
h("mouseup"),p=h("click");setTimeout(function(){a.emit(c,"mousedown",f);a.emit(c,"mouseup",d);a.emit(c,"click",p);A=(new Date).getTime()},0)}},!0);b=function(a){h.doc.addEventListener(a,function(b){var g=b.target;w&&(!b._dojo_click&&(new Date).getTime()<=A+1E3&&!("INPUT"==g.tagName&&c.contains(g,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=g.tagName||"radio"==g.type&&(c.contains(g,"dijitCheckBoxInput")||c.contains(g,"mblRadioButton"))||
"checkbox"==g.type&&(c.contains(g,"dijitCheckBoxInput")||c.contains(g,"mblCheckBox")))&&"TEXTAREA"!=g.tagName&&"AUDIO"!=g.tagName&&"VIDEO"!=g.tagName)&&b.preventDefault())},!0)};b("click");b("mousedown");b("mouseup")}}}var s=5>f("ios"),r=f("pointer-events")||f("MSPointer"),q=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=f("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),t=f("touch-events"),u,w,v=!1,x,z,y,B,C,A,D,F;f("touch")&&(r?
m(function(){h.doc.addEventListener(q.down,function(a){n(a,q.move,q.up)},!0)}):m(function(){function c(a){var g=b.delegate(a,{bubbles:!0});6<=f("ios")&&(g.touches=a.touches,g.altKey=a.altKey,g.changedTouches=a.changedTouches,g.ctrlKey=a.ctrlKey,g.metaKey=a.metaKey,g.shiftKey=a.shiftKey,g.targetTouches=a.targetTouches);return g}F=h.body();h.doc.addEventListener("touchstart",function(b){D=(new Date).getTime();var c=F;F=b.target;a.emit(c,"dojotouchout",{relatedTarget:F,bubbles:!0});a.emit(F,"dojotouchover",
{relatedTarget:c,bubbles:!0});n(b,"touchmove","touchend")},!0);a(h.doc,"touchmove",function(b){D=(new Date).getTime();var g=h.doc.elementFromPoint(b.pageX-(s?0:h.global.pageXOffset),b.pageY-(s?0:h.global.pageYOffset));g&&(F!==g&&(a.emit(F,"dojotouchout",{relatedTarget:g,bubbles:!0}),a.emit(g,"dojotouchover",{relatedTarget:F,bubbles:!0}),F=g),a.emit(g,"dojotouchmove",c(b))||b.preventDefault())});a(h.doc,"touchend",function(b){D=(new Date).getTime();var g=h.doc.elementFromPoint(b.pageX-(s?0:h.global.pageXOffset),
b.pageY-(s?0:h.global.pageYOffset))||h.body();a.emit(g,"dojotouchend",c(b))})}));d={press:g("mousedown","touchstart",q.down),move:g("mousemove","dojotouchmove",q.move),release:g("mouseup","dojotouchend",q.up),cancel:g(l.leave,"touchcancel",r?q.cancel:null),over:g("mouseover","dojotouchover",q.over),out:g("mouseout","dojotouchout",q.out),enter:l._eventHandler(g("mouseover","dojotouchover",q.over)),leave:l._eventHandler(g("mouseout","dojotouchout",q.out))};return k.touch=d})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){d=d("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);k.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(b){this.watch(b,a.hitch(this,"_setStateClass"))},this);for(var b in this.cssStateNodes||{})this._trackMouseState(this[b],this.cssStateNodes[b]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(k.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,g={};k.forEach(c.className.split(" "),function(a){g[a]=!0});"_stateClasses"in this&&k.forEach(this._stateClasses,function(a){delete g[a]});k.forEach(b,
function(a){g[a]=!0});var h=[],f;for(f in g)h.push(f);c.className=h.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,g){function h(g){c.toggle(a,b+"Active",g)}if(!this.disabled&&!this.readOnly)switch(g.type){case "mouseover":case "MSPointerOver":case "pointerover":c.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":c.toggle(a,b+"Hover",!1);h(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":h(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":h(!1);break;case "focus":case "focusin":c.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":c.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});l(function(){function a(b,c,g){if(!g||!e.isDescendant(g,c))for(;c&&c!=g;c=c.parentNode)if(c._cssState){var h=p.getEnclosingWidget(c);h&&(c==h.domNode?h._cssMouseEvent(b):h._subnodeCssMouseEvent(c,c._cssState,b))}}var b=h.body(),c;f(b,
m.over,function(b){a(b,b.target,b.relatedTarget)});f(b,m.out,function(b){a(b,b.target,b.relatedTarget)});f(b,g.press,function(b){c=b.target;a(b,c)});f(b,g.release,function(b){a(b,c);c=null});f(b,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=p.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return d})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(k,d,e,c){function b(a){if((a.keyCode===
k.ENTER||a.keyCode===k.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var a;e(document,"keydown",function(c){b(c)?(a=c.target,c.preventDefault()):a=null});e(document,"keyup",function(c){b(c)&&c.target==a&&(a=null,e.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var f=function(a,b){a.dojoClick=!0;return e(a,"click",b)};f.click=f;f.press=function(a,
b){var h=e(a,c.press,function(a){("mousedown"!=a.type||d.isLeft(a))&&b(a)}),g=e(a,"keydown",function(a){(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&b(a)});return{remove:function(){h.remove();g.remove()}}};f.release=function(a,b){var h=e(a,c.release,function(a){("mouseup"!=a.type||d.isLeft(a))&&b(a)}),g=e(a,"keyup",function(a){(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&b(a)});return{remove:function(){h.remove();g.remove()}}};f.move=c.move;return f})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(k,d){return k("dijit._Contained",null,{_getSibling:function(d){var c=this.getParent();return c&&c._getSiblingOfChild&&c._getSiblingOfChild(this,"previous"==d?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var d=this.getParent();return!d||!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare",
"dojo/_base/lang"],function(k,d,e,c){c.extend(d,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return e("dijit._FocusMixin",null,{_focusManager:k})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(k,
d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){var u,w,v=new (d([p,f],{curNode:null,activeStack:[],constructor:function(){var b=l.hitch(this,function(a){e.isDescendant(this.curNode,a)&&this.set("curNode",null);e.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});k.before(a,"empty",b);k.before(a,"destroy",b)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,h=a.document&&a.document.body;if(h){var f=g("pointer-events")?"pointerdown":g("MSPointer")?
"MSPointerDown":g("touch-events")?"mousedown, touchstart":"mousedown",d=m(a.document,f,function(a){if(!a||!(a.target&&null==a.target.parentNode))c._onTouchNode(b||a.target,"mouse")}),l=m(h,"focusin",function(a){if(a.target.tagName){var g=a.target.tagName.toLowerCase();"#document"==g||"body"==g||(r.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),e=m(h,"focusout",function(a){c._onBlurNode(b||a.target)});return{remove:function(){d.remove();l.remove();e.remove();h=d=
l=e=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(l.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<w+100||(this._clearActiveWidgetsTimer=setTimeout(l.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,g){w=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);b.contains(a,"dijitPopup")&&(a=a.firstChild);var h=[];try{for(;a;){var f=c.get(a,"dijitPopupParent");if(f)a=q.byId(f).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===n.body())break;a=s.get(a.ownerDocument).frameElement}else{var d=a.getAttribute&&a.getAttribute("widgetId"),l=d&&q.byId(d);l&&!("mouse"==g&&l.get("disabled"))&&h.unshift(d);a=a.parentNode}}}catch(m){}this._setStack(h,
g)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,g=c.length-1,h=a.length-1;if(a[h]!=c[g]){this.set("activeStack",a);var f;for(f=g;0<=f&&c[f]!=a[f];f--)if(g=q.byId(c[f]))g._hasBeenBlurred=!0,g.set("focused",!1),g._focusManager==this&&g._onBlur(b),
this.emit("widget-blur",g,b);for(f++;f<=h;f++)if(g=q.byId(a[f]))g.set("focused",!0),g._focusManager==this&&g._onFocus(b),this.emit("widget-focus",g,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));h(function(){var a=v.registerWin(s.get(document));g("ie")&&m(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){v.focus(a)};for(var x in v)/^_/.test(x)||(t.focus[x]="function"==typeof v[x]?l.hitch(v,x):v[x]);v.watch(function(a,b,c){t.focus[a]=c});return v})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(k,d,e,c,b,a,f){var l={_isElementShown:function(a){var b=c.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=e.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return e.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(f){try{b=a.contentWindow.document.body}catch(d){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return e.get(a,"disabled")?void 0:e.has(a,"tabIndex")?+e.get(a,"tabIndex"):l.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=l.effectiveTabIndex(a)},isFocusable:function(a){return-1<=l.effectiveTabIndex(a)},_getTabNavigable:function(b){function c(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var g,f,d,s,r,q,t={},u=l._isElementShown,k=l.effectiveTabIndex,v=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=a("ie")&&"HTML"!==b.scopeName||!u(b))){var l=k(b);if(0<=l){if(0==l)g||(g=b),f=b;else if(0<l){if(!d||l<s)s=l,d=b;if(!r||l>=q)q=l,r=b}l=c(b);e.get(b,"checked")&&l&&(t[l]=b)}"SELECT"!=b.nodeName.toUpperCase()&&v(b)}};u(b)&&v(b);return{first:t[c(g)]||g,last:t[c(f)]||f,lowest:t[c(d)]||d,highest:t[c(r)]||r}},getFirstInTabbingOrder:function(a,
b){var c=l._getTabNavigable(d.byId(a,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,b){var c=l._getTabNavigable(d.byId(a,b));return c.last?c.last:c.highest}};b.mixin(f,l);return l})},"mw-menu/mixins/MenuItemTextColorMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin","mw-menu/mixins/property/ShowDescriptionMixin"],function(k,d,e){k=k(null,{_setDescriptionAttr:function(c){this.inherited(arguments);""!==c?this.textNode.classList.add("mwBlueText"):
this.textNode.classList.remove("mwBlueText")},_setShowDescriptionAttr:function(c){this.inherited(arguments);c?this.textNode.classList.add("mwBlueText"):this.textNode.classList.remove("mwBlueText")},postCreate:function(){this.inherited(arguments);(this.get("showDescription")&&""===this.get("description")||!this.get("showDescription")&&""!==this.get("description"))&&this.textNode.classList.remove("mwBlueText")}});k._dependencies=[{mixin:d,orderDependent:!0},{mixin:e,orderDependent:!0}];return k})},
"mw-mixins/property/DescriptionMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize"],function(k,d){return k(null,{description:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDescriptionMixin");this.set("description",this.get("description"))},_setDescriptionAttr:function(d){if("string"!==typeof d)throw Error("'description' property expects a literal string!");this._updateDescription(d);this._set("description",d)},_updateDescription:function(d){this._lastKnownDescription=
d;if(this.descriptionNode)this.descriptionNode.textContent=d,!1===this.get("showDescription")?this.domNode.classList.add("mwHideDescription"):""===d?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");else{var c=this;setTimeout(function(){c._destroyed||c._updateTitle(d)},200)}},_updateTitle:function(e,c){var b;c?(""!==e&&void 0!==e&&(e=""===this._lastKnownDescription?e:" ("+e+")"),b=this._lastKnownDescription+e):b=this.get("shortcut")?e?e+" ("+d.getPlatformSpecificString(this.get("shortcut"))+
")":d.getPlatformSpecificString(this.get("shortcut")):e;this.domNode.setAttribute("title",b)}})})},"mw-event-utils/platformize":function(){define(["dojo/sniff"],function(k){var d=[{regExp:/ctrl|cntrl|control/gi,macString:"\u2303",otherPlatformsString:"Ctrl"},{regExp:/meta/gi,macString:"\u2318",otherPlatformsString:"Ctrl"},{regExp:/shift/gi,macString:"\u21e7",otherPlatformsString:"Shift"},{regExp:/alt/gi,macString:"\u2325",otherPlatformsString:"Alt"},{regExp:/enter/gi,macString:"\u23ce",otherPlatformsString:"Enter"},
{regExp:/delete/gi,macString:"\u2326",otherPlatformsString:"Delete"},{regExp:/del/gi,macString:"\u2326",otherPlatformsString:"Del"},{regExp:/Spacebar/gi,macString:"\u2423",otherPlatformsString:"Spacebar"},{regExp:/space/gi,macString:"\u2423",otherPlatformsString:"Space"},{regExp:/up/gi,macString:"\u2191",otherPlatformsString:"Up"},{regExp:/down/gi,macString:"\u2193",otherPlatformsString:"Down"},{regExp:/left/gi,macString:"\u2190",otherPlatformsString:"Left"},{regExp:/right/gi,macString:"\u2192",otherPlatformsString:"Right"}];
return{getPlatformSpecificString:function(e,c){c=c||{};e=e.replace(/ /g,"");e=e.replace(/_/g,"+");e=e.toUpperCase();d.forEach(function(b){var a;k("mac")?(a=b.macString,!c.dontConvertCtrlToCmd&&"\u2303"===a&&(a="\u2318")):a=b.otherPlatformsString;e=e.replace(b.regExp,a)});return e=k("mac")?e.replace(/\+(?!$)/g,""):e}}})},"mw-menu/mixins/property/ShowDescriptionMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{showDescription:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowDescriptionMixin")},_setShowDescriptionAttr:function(d){if("boolean"!==typeof d)throw Error("'showDescription' property expects a Boolean!");!1===d?this.domNode.classList.add("mwHideDescription"):this.descriptionNode&&""===this.descriptionNode.textContent?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");this._set("showDescription",d)}})})},"mw-mixins/property/TagMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,
{tag:"",_setTagAttr:function(d){if("string"!==typeof d)throw Error("tag property expects a 'String'");this.domNode.setAttribute("data-tag",d);this._set("tag",d)},postCreate:function(){this.inherited(arguments);this.set("tag",this.get("tag"))}})})},"mw-menu/mixins/property/CloseMenuOnClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/popup"],function(k,d,e,c){return k(null,{closeMenuOnClick:!1,postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,
"change",d.hitch(this,"_onChange")));this.domNode.classList.add("mwCloseMenuOnClickMixin");this.set("closeMenuOnClick",this.get("closeMenuOnClick"))},_setCloseMenuOnClickAttr:function(b){if("boolean"!==typeof b)throw Error("'closeMenuOnClick' property expects a Boolean!");this._set("closeMenuOnClick",b);b?this.domNode.classList.add("mwClosePopupOnClick"):this.domNode.classList.remove("mwClosePopupOnClick")},_onChange:function(){this.get("closeMenuOnClick")&&(c.close(),this.emit("closeRequest"))}})})},
"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){function t(){this._popupWrapper&&(a.destroy(this._popupWrapper),delete this._popupWrapper)}e=e(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=
this._firstAroundPosition,b=f.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var h=this._stack[b].wrapper.style;h.top=parseFloat(h.top)+a+"px";"auto"==h.right?h.left=parseFloat(h.left)+c+"px":h.right=parseFloat(h.right)-c+"px"}}this._aroundMoveListener=setTimeout(g.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(b){var c=b._popupWrapper,g=b.domNode;c||(c=a.create("div",{"class":"dijitPopup",style:{display:"none"},
role:"region","aria-label":b["aria-label"]||b.label||b.name||b.id},b.ownerDocumentBody),c.appendChild(g),g=g.style,g.display="",g.visibility="",g.position="",g.top="0px",b._popupWrapper=c,d.after(b,"destroy",t,!0),"ontouchend"in document&&p(c,"touchend",function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}),c.dojoClick=!0);return c},moveOffScreen:function(a){var b=this._createWrapper(a);a=f.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};
c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";l.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);l.set(b,{display:"none",height:"auto",overflowY:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(a){var d=this._stack,e=a.popup,q=e.domNode,t=a.orient||["below","below-alt","above","above-alt"],k=a.parent?a.parent.isLeftToRight():
f.isBodyLtr(e.ownerDocument),B=a.around,C=a.around&&a.around.id?a.around.id+"_dropdown":"popup_"+this._idGen++;if(!a.doNotClose)for(;d.length&&(!a.parent||!c.isDescendant(a.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);var A=this.moveOffScreen(e);e.startup&&!e._started&&e.startup();var D,F=f.position(q);if("maxHeight"in a&&-1!=a.maxHeight)D=a.maxHeight||Infinity;else{D=r.getEffectiveBox(this.ownerDocument);var G=B?f.position(B,!1):{y:a.y-(a.padding||0),h:2*(a.padding||
0)};D=Math.floor(Math.max(G.y,D.h-(G.y+G.h)))}F.h>D&&(F=l.getComputedStyle(q),l.set(A,{overflowY:"scroll",height:D+"px",border:F.borderLeftWidth+" "+F.borderLeftStyle+" "+F.borderLeftColor}),q._originalStyle=q.style.cssText,q.style.border="none");b.set(A,{id:C,style:{zIndex:this._beginZIndex+d.length},"class":"dijitPopup "+(e.baseClass||e["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:a.parent?a.parent.id:""});0==d.length&&B&&(this._firstAroundNode=B,this._firstAroundPosition=f.position(B,!0),
this._aroundMoveListener=setTimeout(g.hitch(this,"_repositionAll"),50));m("config-bgIframe")&&!e.bgIframe&&(e.bgIframe=new s(A));C=e.orient?g.hitch(e,"orient"):null;t=B?n.around(A,B,t,k,C):n.at(A,a,"R"==t?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding,C);A.style.visibility="visible";q.style.visibility="visible";q=[];q.push(p(A,"keydown",g.hitch(this,function(b){if(b.keyCode==h.ESCAPE&&a.onCancel)b.stopPropagation(),b.preventDefault(),a.onCancel();else if(b.keyCode==h.TAB&&(b.stopPropagation(),
b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));e.onCancel&&a.onCancel&&q.push(e.on("cancel",a.onCancel));q.push(e.on(e.onExecute?"execute":"change",g.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));d.push({widget:e,wrapper:A,parent:a.parent,onExecute:a.onExecute,onCancel:a.onCancel,onClose:a.onClose,handlers:q});if(e.onOpen)e.onOpen(t);return t},close:function(a){for(var b=this._stack;a&&k.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=
b.pop(),g=c.widget,h=c.onClose;g.bgIframe&&(g.bgIframe.destroy(),delete g.bgIframe);if(g.onClose)g.onClose();for(var f;f=c.handlers.pop();)f.remove();g&&g.domNode&&this.hide(g);h&&h()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return q.popup=new e})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(k,d,e,c,b,a,f){function l(c,g,f,l){var m=a.getEffectiveBox(c.ownerDocument);(!c.parentNode||"body"!=String(c.parentNode.tagName).toLowerCase())&&b.body(c.ownerDocument).appendChild(c);var r=null;k.some(g,function(a){var b=a.corner,g=a.pos,e=0,q={w:{L:m.l+m.w-g.x,R:g.x-m.l,M:m.w}[b.charAt(1)],h:{T:m.t+m.h-g.y,B:g.y-m.t,M:m.h}[b.charAt(0)]},t=c.style;t.left=t.right="auto";f&&(e=f(c,a.aroundCorner,b,q,l),e="undefined"==typeof e?0:e);var k=c.style,C=k.display,A=k.visibility;"none"==k.display&&
(k.visibility="hidden",k.display="");t=d.position(c);k.display=C;k.visibility=A;C={L:g.x,R:g.x-t.w,M:Math.max(m.l,Math.min(m.l+m.w,g.x+(t.w>>1))-t.w)}[b.charAt(1)];A={T:g.y,B:g.y-t.h,M:Math.max(m.t,Math.min(m.t+m.h,g.y+(t.h>>1))-t.h)}[b.charAt(0)];g=Math.max(m.l,C);k=Math.max(m.t,A);C=Math.min(m.l+m.w,C+t.w);A=Math.min(m.t+m.h,A+t.h);C-=g;A-=k;e+=t.w-C+(t.h-A);if(null==r||e<r.overflow)r={corner:b,aroundCorner:a.aroundCorner,x:g,y:k,w:C,h:A,overflow:e,spaceAvailable:q};return!e});r.overflow&&f&&f(c,
r.aroundCorner,r.corner,r.spaceAvailable,l);g=r.y;var q=r.x,t=b.body(c.ownerDocument);/relative|absolute/.test(e.get(t,"position"))&&(g-=e.get(t,"marginTop"),q-=e.get(t,"marginLeft"));t=c.style;t.top=g+"px";t.left=q+"px";t.right="auto";return r}var m={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return f.place={at:function(a,b,c,f,d){c=k.map(c,function(a){var c={corner:a,aroundCorner:m[a],pos:{x:b.x,y:b.y}};f&&(c.pos.x+="L"==a.charAt(1)?f.x:-f.x,c.pos.y+="T"==a.charAt(0)?f.y:-f.y);return c});return l(a,c,d)},
around:function(a,b,f,m,s){function r(a,b){A.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+B,M:z+(B>>1)}[a.charAt(1)],y:{T:y,B:y+C,M:y+(C>>1)}[a.charAt(0)]}})}var q;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(q=d.position(b,!0),/^(above|below)/.test(f[0])){var t=d.getBorderExtents(b),u=b.firstChild?d.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},w=d.getBorderExtents(a),v=a.firstChild?d.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};q.y+=Math.min(t.t+u.t,w.t+v.t);q.h-=
Math.min(t.t+u.t,w.t+v.t)+Math.min(t.b+u.b,w.b+v.b)}}else q=b;if(b.parentNode){t="absolute"==e.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=d.position(b,!0);w=e.getComputedStyle(b);/relative|absolute/.test(w.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(w.overflow)){var v=Math.min(q.y+q.h,u.y+u.h),x=Math.min(q.x+q.w,u.x+u.w);q.x=Math.max(q.x,u.x);q.y=Math.max(q.y,u.y);q.h=v-q.y;q.w=x-q.x}"absolute"==w.position&&(t=!0);b=b.parentNode}}var z=q.x,y=q.y,
B="w"in q?q.w:q.w=q.width,C="h"in q?q.h:(c.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+y+", height:"+q.height+", width:"+B+" } has been deprecated.  Please use { x:"+z+", y:"+y+", h:"+q.height+", w:"+B+" }","","2.0"),q.h=q.height),A=[];k.forEach(f,function(a){var b=m;switch(a){case "above-centered":r("TM","BM");break;case "below-centered":r("BM","TM");break;case "after-centered":b=!b;case "before-centered":r(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":r(b?
"TL":"TR",b?"TR":"TL");r(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":r(b?"BL":"BR",b?"TL":"TR");r(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":r(b?"TL":"TR",b?"BL":"BR");r(b?"TR":"TL",b?"BR":"BL");break;default:r(a.aroundCorner,a.corner)}});a=l(a,A,s,{w:B,h:C});a.aroundNodePos=q;return a}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(k,d,e,c,b){var a=new k,f;e(function(){var l=b.getBox();
a._rlh=d(window,"resize",function(){var c=b.getBox();l.h==c.h&&l.w==c.w||(l=c,a.emit("resize"))});if(8==c("ie")){var m=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=m&&(m=screen.deviceXDPI,a.emit("resize"))},500)}c("ios")&&(d(document,"focusin",function(a){f=a.target}),d(document,"focusout",function(a){f=null}))});a.getEffectiveBox=function(a){a=b.getBox(a);var d=f&&f.tagName&&f.tagName.toLowerCase();if(c("ios")&&f&&!f.readOnly&&("textarea"==d||"input"==d&&/^(color|email|number|password|search|tel|text|url)$/.test(f.type)))a.h*=
0==orientation||180==orientation?0.66:0.4,d=f.getBoundingClientRect(),a.h=Math.max(a.h,d.top+d.height);return a};return a})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(k,d,e,c,b,a,f,l){l.add("config-bgIframe",l("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||l("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var m=new function(){var a=[];this.pop=function(){var g;
a.length?(g=a.pop(),g.style.display=""):(9>l("ie")?(g="\x3ciframe src\x3d'"+(e.dojoBlankHtmlUrl||k.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",g=document.createElement(g)):(g=c.create("iframe"),g.src='javascript:""',g.className="dijitBackgroundIframe",g.setAttribute("role","presentation"),b.set(g,"opacity",0.1)),g.tabIndex=-1);return g};this.push=function(b){b.style.display=
"none";a.push(b)}};d.BackgroundIframe=function(c){if(!c.id)throw Error("no id");if(l("config-bgIframe")){var g=this.iframe=m.pop();c.appendChild(g);7>l("ie")||l("quirks")?(this.resize(c),this._conn=f(c,"resize",a.hitch(this,"resize",c))):b.set(g,{width:"100%",height:"100%"})}};a.extend(d.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),
m.push(this.iframe),delete this.iframe)}});return d.BackgroundIframe})},"mw-mixins/property/DisabledMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{disabled:!1,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDisabledMixin");this.set("disabled",this.get("disabled"))},startup:function(){this.inherited(arguments);this.get("disabled")&&(this.domNode.dojoClick=!1)},_disableInteractionHandler:function(d){d.preventDefault();d.stopImmediatePropagation();
d.stopPropagation()},_addDisableInteractions:function(d){null!==d&&(d.addEventListener("mousedown",this._disableInteractionHandler,!0),d.addEventListener("click",this._disableInteractionHandler,!0))},_removeDisableInteractions:function(d){null!==d&&(d.removeEventListener("mousedown",this._disableInteractionHandler,!0),d.removeEventListener("click",this._disableInteractionHandler,!0))},_getDisabledNode:function(){return this.domNode},_updateDisableNode:function(d){var e=this._getDisabledNode();d?(this.domNode.classList.add("mwDisabled"),
this.domNode.classList.remove("mwEnabled"),this._addDisableInteractions(e)):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"),this._removeDisableInteractions(e))},_setDisabledAttr:function(d){if("boolean"!==typeof d)throw Error("'disabled' property expects a boolean!");this._set("disabled",d);this._updateDisableNode(d);this.set("hovering",!1);this.set("active",!1);this._setAriaDisabled();this.baseClass.split(" ").forEach(function(e){d?this.domNode.classList.add(e+
"Disabled"):this.domNode.classList.remove(e+"Disabled")}.bind(this));d?this.domNode.classList.add("dijitDisabled"):this.domNode.classList.remove("dijitDisabled");this._setTabIndexOnNode(this.focusNode)},_setTabIndexOnNode:function(d){this.get("disabled")&&!this.get("dropDownNeverDisabled")?d.removeAttribute("tabIndex"):d.setAttribute("tabIndex","0")},_setAriaDisabled:function(){(this.disabledNode?this.disabledNode:this.domNode).setAttribute("aria-disabled",this.get("disabled")&&!this.get("dropDownNeverDisabled")?
"true":"false")}})})},"mw-mixins/property/IconMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/on"],function(k,d,e,c){return k(null,{_iconTypes:{DATA_URI:"data_uri",CSS_CLASS:"css_class"},icon:"",_lastIconApplied:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconMixin");this.set("icon",this.get("icon"))},_setIconAttr:function(b){if("string"!==typeof b)throw Error("'icon' property expects a literal string!");this._set("icon",
b);this._updateDOM(b)},_updateDOM:function(b){this._removeOldIcon();this._applyNewIcon(b)},_removeOldIcon:function(){var b=this._lastIconApplied,a=this._getIconType(b);a===this._iconTypes.DATA_URI?this._removeImageStyles(this.iconNode):a===this._iconTypes.CSS_CLASS&&""!==b&&b.trim().split(" ").forEach(function(a){this.iconNode.classList.remove(a)},this)},_applyNewIcon:function(b){var a=this._getIconType(b);if(a===this._iconTypes.DATA_URI){var f=e.create("img",{src:b});this.own(c.once(f,"load",d.hitch(this,
function(){this._applyImageStyles(this.iconNode,b,f);this.emit("iconapplied");this.emit("updatelayout");e.destroy(f)})))}else a===this._iconTypes.CSS_CLASS&&""!==b&&b.trim().split(" ").forEach(function(a){this.iconNode.classList.add(a)},this);0===b.length?this.domNode.classList.add("mwNoIcon"):this.domNode.classList.remove("mwNoIcon");this._lastIconApplied=b},_getIconType:function(b){var a="";return a=-1<b.indexOf("data:")?this._iconTypes.DATA_URI:this._iconTypes.CSS_CLASS},_applyImageStyles:function(b,
a,c){b.style.backgroundImage="url("+a+")";b.style.width=c.width+"px";b.style.height=c.height+"px"},_removeImageStyles:function(b){b.style.backgroundImage="";b.style.width="";b.style.height=""}})})},"mw-mixins/property/ShortcutMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize","mw-mixins/property/DescriptionMixin"],function(k,d,e){k=k(null,{shortcut:"",platformizeShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShortcutMixin");this.set("shortcut",
this.get("shortcut"))},_setShortcutAttr:function(c){if("string"!==typeof c)throw Error("'shortcut' property expects a literal string!");this._updateShortcut(c);this._set("shortcut",c)},_updateShortcut:function(c){this.shortcutKeyNode?(this.shortcutKeyNode.textContent=this._getPlatformizedShortcut(c),!1===this.get("showShortcut")?this.domNode.classList.add("mwHideShortcut"):""===c?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut")):this._updateTitle(this._getPlatformizedShortcut(c),
!0)},_getPlatformizedShortcut:function(c){return this.get("platformizeShortcut")?d.getPlatformSpecificString(c):c},_setPlatformizeShortcutAttr:function(c){if("boolean"!==typeof c)throw Error("'platformizeShortcut' property expects a boolean value!");this._set("platformizeShortcut",c);this._updateShortcut(this.get("shortcut"))}});k._dependencies=[{mixin:e,orderDependent:!0,type:"shortcut"}];return k})},"mw-menu/mixins/property/ShowIconMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,
{showIcon:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowIconMixin")},_setShowIconAttr:function(d){if("boolean"!==typeof d)throw Error("'showIcon' property expects a Boolean!");d?this.domNode.classList.remove("mwHideIcon"):this.domNode.classList.add("mwHideIcon");this._set("showIcon",d)}})})},"mw-menu/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{showText:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowTextMixin")},
_setShowTextAttr:function(d){if("boolean"!==typeof d)throw Error("'showText' property expects a Boolean!");d?this.domNode.classList.remove("mwHideText"):this.domNode.classList.add("mwHideText");this._set("showText",d)}})})},"mw-menu/mixins/property/ShowShortcutMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{showShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowShortcutMixin")},_setShowShortcutAttr:function(d){if("boolean"!==typeof d)throw Error("'showShortcut' property expects a Boolean!");
!1===d?this.domNode.classList.add("mwHideShortcut"):this.shortcutNode&&""===this.shortcutNode.textContent?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut");this._set("showShortcut",d)}})})},"mw-mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this.set("text",this.get("text"))},_setTextAttr:function(d){if("string"!==
typeof d)throw Error("'text' property expects a literal string!");this._updateTextInDOM(d);this._set("text",d)},_updateTextInDOM:function(d){this._placeTextInNode(d);0===this._getTextForDOM(d).length?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(d,e){void 0===e&&(e=this.textNode);for(;e.firstChild;)e.removeChild(e.firstChild);var c=this._getTextForDOM(d,e);if(0<c.length){var b=document.createElement("span");b.classList.add("mwTextLine");
b.textContent=c;e.appendChild(b);e.classList.remove("mwEmptyNode")}else e.classList.add("mwEmptyNode")},_getTextForDOM:function(d){return d}})})},"mw-menu/mixins/SingleLineTextMixin":function(){define(["dojo/_base/declare","mw-mixins/property/TextMixin"],function(k,d){var e=k(null,{_getTextForDOM:function(c){c=this.inherited(arguments);return c=c.replace(/\n/g," ")}});e._dependencies=[{mixin:d,orderDependent:!0}];return e})},"mw-mixins/property/VisualFamilyMixin":function(){define(["dojo/_base/declare"],
function(k){return k(null,{visualFamily:"default",_setVisualFamilyAttr:function(d){if("string"!==typeof d||0===d.length)throw Error("'visualFamily' property expects a literal non-empty string!");var e=this._getClassNameForVisualFamily(this.get("visualFamily"));this.domNode.classList.remove(e);e=this._getClassNameForVisualFamily(d);this.domNode.classList.add(e);this._set("visualFamily",d)},_getClassNameForVisualFamily:function(d){return"mw"+d.charAt(0).toUpperCase()+d.slice(1)+"VisualFamily"}})})},
"mw-mixins/AccessibilityClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys"],function(k,d,e,c){return k(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",d.hitch(this,function(b){b.keyCode===c.SPACE&&-1===Array.prototype.slice.call(this.domNode.classList).indexOf("mwComboBox")&&b.preventDefault();setTimeout(d.hitch(this,function(){if(!0!==this.get("disabled"))switch(b.keyCode){case c.ENTER:this._emitClickEvent(b);break;
case c.SPACE:this._emitClickEvent(b)}}),0)})));this.own(e(this.domNode,"keyup",d.hitch(this,function(b){var a=b.keyCode===c.ENTER||b.keyCode===c.SPACE,f=/input|button|textarea/i.test(b.target.nodeName);a&&!f&&b.stopPropagation()})))},_emitClickEvent:function(b){e.emit(b.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:b.keyCode},_dojo_click:!0})},_qeClick:function(){this.emit("click")}})})},"mw-mixins/PreventSelectionMixin":function(){define(["dojo/_base/declare","dojo/on"],function(k,
d){return k(null,{postCreate:function(){this.inherited(arguments);this._getNonSelectableNodes().forEach(function(e){d(e,"selectstart",function(c){if((document.documentMode||"Netscape"===navigator.appName&&-1===navigator.appVersion.indexOf("Trident"))&&("INPUT"!==c.target.nodeName||"TEXTAREA"!==c.target.nodeName))return!1;c.preventDefault()})})},_getNonSelectableNodes:function(){return[this.domNode]}})})},"mw-menu/mixins/FocusableMenuChildMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom dojo/on dojo/mouse dojo/touch dijit/focus dijit/registry mw-dom-utils/domUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k(null,{postCreate:function(){this.inherited(arguments);var c=e("touch")&&!window.PointerEvent;this.own(b(this.domNode,"click",d.hitch(this,"_onMouseClick")),b(this.domNode,c?f.release:"mouseup",d.hitch(this,"_onMouseUp")),b(this.domNode,a.enter,d.hitch(this,"_onMouseEnter")),b(this.domNode,"focusout",d.hitch(this,"_focusLost")));this.domNode.classList.add("mwFocusableMenuChildMixin")},_focusLost:function(a){setTimeout(d.hitch(this,function(){var b,f=h.parseFocusEvent(a).gainedFocusNode,
d=m.getEnclosingWidget(f);if(d&&(b=d.focusNode||d.domNode)&&b.hasAttribute("data-composite-child"))if(d=m.getEnclosingWidget(c.byId(b.getAttribute("data-composite-primary-id"))),d===this)return;this!==d&&(b=this.getParentWidget(),(null==d||h.isFocusable(f))&&(b&&b._focusChange)&&b._focusChange(d),this.focusLost&&this.focusLost(d))}),0)},_onMouseClick:function(a){a.mwEventData?(this.focus(),this.closeMenuOnClick&&this._requestClose(!1)):(a.preventDefault(),a.stopImmediatePropagation())},_onMouseEnter:function(a){this.focusNode&&
h.isFocusable(this.focusNode)&&this.focus()},_onMouseUp:function(a){a.preventDefault();a.stopPropagation();!(this.getParentWidget()&&!0===this.getParentWidget()._mouseDownTriggered)&&h.isFocusable(this.focusNode)&&this._emitClickEvent&&(h.isLeftMouseButton(a)||"dojotouchend"===a.type)&&this._emitClickEvent(a)},_requestClose:function(a){var b=this.getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},focus:function(){this.inherited(arguments);
h.isFocusable(this.focusNode)&&(l.focus(this.focusNode||this.domNode),(this.focusNode||this.domNode).focus())},getParentWidget:function(a){if(null==a)if(this.domNode)a=this.domNode;else return null;a.domNode&&(a=a.domNode);if(a.parentNode)a=h.getParent(a);else return null;return m.getEnclosingWidget(a)}})})},"mw-dom-utils/domUtils":function(){define(["dojo/sniff"],function(k){var d={},e={INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",
INVALID_BOOLEAN:"The input parameter must be of type 'boolean'.",INVALID_OBJECT:"The input parameter must be of type 'object'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},c=function(a){if(!(a instanceof
Element))throw Error(e.INVALID_ELEMENT);},b=function(a){if(-1===["String","string"].indexOf(typeof a))throw Error(e.INVALID_STRING);},a=function(a){if(-1===["Boolean","boolean"].indexOf(typeof a))throw Error(e.INVALID_BOOLEAN);},f=function(a){if(-1===["Object","object"].indexOf(typeof a))throw Error(e.INVALID_OBJECT);};d._qeSetup=function(){d._qeTools={};d._qeTools.errorMessages=e;d._qeTools.validateElement=c;d._qeTools.validateString=b;d._qeTools.validateBoolean=a;d._qeTools.validateObject=f;d._qeTools.overrideErrorMessaged=
function(a){e=a};d._qeTools.overrideValidateElement=function(a){c=a};d._qeTools.overrideValidateString=function(a){b=a};d._qeTools.overrideValidateBoolean=function(b){a=b};d._qeTools.overrideValidateObject=function(a){f=a}};d.isLeftMouseButton=function(a){return!0===a.synthetic&&k("trident")?1===a.button:0===a.button};d.parseFocusEvent=function(a){if(!(a instanceof FocusEvent))throw Error(e.INVALID_FOCUS_EVENT);var b={};b.lostFocusNode=a.target;b.gainedFocusNode=k("chrome")||k("safari")?a.relatedTarget:
document.activeElement;b.type=a.type;b.eventdata=a;return b};d.getParent=function(a){c(a);return a.parentNode};d.findParentNode=function(a,b,c){var g=null,f;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(c){if(a.hasAttribute(b)&&a.getAttribute(b)===c){g=a;break}}else{if(a.hasAttribute(b)){g=a;break}if(a.classList.contains(b)){g=a;break}}a=(f=a.getAttribute("dijitpopupparent"))?document.getElementById(f):a.parentNode}return g};d.getNodeType=function(a){c(a);return{1:"Element",3:"Text",7:"Processing Instruction",
8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[a.nodeType]};d.getById=function(a){b(a);return window.document.getElementById(a)};d.getByClass=function(a){b(a);return window.document.getElementsByClassName(a)};d.getByAttr=function(a){b(a);return window.document.querySelectorAll("["+a+"]")};d.getByAttrValue=function(a,c){b(a);b(c);return window.document.querySelectorAll("["+a+"\x3d"+c.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")};d.getByName=function(a){b(a);return window.document.getElementById("[name\x3d"+
a+"]")};d.getByTag=function(a){b(a);return window.document.getElementsByTagName(a)};d.matchesSelector=function(a,f){if(!a||!f)return!1;c(a);b(f);return a[a.msMatchesSelector?"msMatchesSelector":"matches"](f)};d.getComputedStyle=function(a,f){c(a);return f?(b(f),window.getComputedStyle(a,null)[f]):window.getComputedStyle(a,null)};d.getStyle=function(a,f){c(a);b(f);if(void 0===a.style[f])throw Error(e.INVALID_STYLE);return a.style[f]};d.setStyle=function(a,f,h){c(a);b(f);b(h);a.style[f]=h;if(a.style[f]!==
h)throw Error(e.INVALID_VALUE);};d.hasAttr=function(a,f){c(a);b(f);return a.hasAttribute(f)};d.hasAttrValue=function(a,f,h){c(a);b(f);b(h);return a.hasAttribute(f)&&a.getAttribute(f)===h};d.getAttr=function(a,f){c(a);b(f);return a.getAttribute(f)};d.setAttr=function(a,f,h){c(a);b(f);b(h);a.setAttribute(f,h)};d.addAttr=function(a,f){c(a);b(f);a.setAttribute(f,"")};d.removeAttr=function(a,f){c(a);b(f);a.removeAttribute(f)};d.getClasses=function(a){c(a);return a.classList?a.classList:{_element:a,_getClassArray:function(){return this._element.className.split(" ")},
_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:a.className.split(" ").length,item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),
!1;this.add(a);return!0}}};d.getClass=function(a,b){if(null==b||"number"!==typeof b||0>b||0!==b%1)throw Error(e.INTEGER_INDEX);return d.getClasses(a).item(b)};d.addClass=function(a,b){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return d.getClasses(a).add(b)};d.removeClass=function(a,b){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return d.getClasses(a).remove(b)};d.toggleClass=function(a,b,c){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return c?d.getClasses(a).toggle(b,
c):d.getClasses(a).toggle(b)};d.containsClass=function(a,b){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return d.getClasses(a).contains(b)};d.classCount=function(a){return d.getClasses(a).length};d.getChildCount=function(a){c(a);return a.childElementCount};d.getChildren=function(a){c(a);return a.children};d.isDescendant=function(a,b,h){c(a);c(b);if(h&&a===b)return!0;for(;a&&a!==window.document;)if(a=d.getParent(a),a===b)return!0;return!1};d.isDescendantOrInLaw=function(a,b,c,g){var f;
if("function"!==typeof c)throw Error(e.SPOUSE_NODE);f=d.isDescendant(a,b,g);!1===f&&(a=c(a)||a.parentNode)&&a!==window.document&&(f=d.isDescendantOrInLaw(a,b,c,g));return f};d.getFirstChild=function(a){c(a);return!d.isContainer(a)||1>d.getChildCount(a)?null:d.getChildren(a)[0]};d.getLastChild=function(a){var b;c(a);b=d.getChildCount(a);return!d.isContainer(a)||1>b?null:d.getChildren(a)[b-1]};d.isContainer=function(a){c(a);return 0<d.getChildCount(a)};d.getAdjacentElement=function(a,b){c(a);if(!b||
0>["next","previous"].indexOf(b))b="next";return a=a[b+"Sibling"]};d.getElementPositionInViewPort=function(a){c(a);a=a.getBoundingClientRect();return{x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top}};d.getElementPositionOnPage=function(a){c(a);a=d.getElementPositionInViewPort(a);a.x+=window.pageXOffset;a.y+=window.pageYOffset;return a};d.setPositionExtents=function(a,b){f(b);var c={};c.top=b.t?b.t:b.top?b.top:"auto";c.right=b.r?b.r:b.right?b.right:"auto";c.bottom=b.b?b.b:b.bottom?b.bottom:"auto";
c.left=b.l?b.l:b.left?b.left:"auto";["top","right","bottom","left"].forEach(function(b){d.setStyle(a,b,c[b])})};d.isFocusable=function(a){c(a);return a&&!a.hasAttribute("disabled")&&(!a.hasAttribute("aria-disabled")||"true"!==a.getAttribute("aria-disabled"))&&"none"!==a.style.display&&!a.hasAttribute("data-refuse-key-nav")};d.isElementInViewport=function(a,b){var h,g,f,d;c(a);h=a.getBoundingClientRect();g=window.innerWidth||document.documentElement.clientWidth;f=window.innerHeight||document.documentElement.clientHeight;
d=function(a,b){return document.elementFromPoint(a,b)};return 0>=h.width||0>=h.height||0>h.right||0>h.bottom||h.left>g||h.top>f?!1:2>h.width&&2>h.height?(g=h.left+(h.right-h.left)/2,f=h.top+(h.bottom-h.top)/2,a.contains(d(g,f))):2>h.width?(g=h.left+(h.right-h.left)/2,b?a.contains(d(g,h.top+1))&&a.contains(d(g,h.bottom-1)):a.contains(d(g,h.top+1))||a.contains(d(g,h.bottom-1))):2>h.height?(f=h.top+(h.bottom-h.top)/2,b?a.contains(d(h.left+1,f))&&a.contains(d(h.right-1,f)):a.contains(d(h.left+1,f))||
a.contains(d(h.right-1,f))):b?a.contains(d(h.left+1,h.top+1))&&a.contains(d(h.right-1,h.top+1))&&a.contains(d(h.right-1,h.bottom-1))&&a.contains(d(h.left+1,h.bottom-1)):a.contains(d(h.left+1,h.top+1))||a.contains(d(h.right-1,h.top+1))||a.contains(d(h.right-1,h.bottom-1))||a.contains(d(h.left+1,h.bottom-1))};d._obscuredProps={};d._obscuredProps.sawPosAbsolute=!1;d._obscuredProps.elementPosition=null;d.isElementObscuredByParent=function(a,b){var h,g,f,e;c(a);e=!1;if(f=d.getParent(a))if(b||(d._obscuredProps.elementPosition=
d.getElementPositionOnPage(a),d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(a,null).position),h=d._obscuredProps.elementPosition,g=d._obscuredProps.sawPosAbsolute,f&&"Element"===d.getNodeType(f)&&"BODY"!==f.nodeName){var s=d.getElementPositionOnPage(f);f=window.getComputedStyle(f,null);/relative|absolute/.test(f.position)&&(g=d._sawPosAbsolute=!1);!g&&/hidden|auto|scroll/.test(f.overflow)&&(e=h.y<s.y||h.y+h.h>s.y+s.h||h.x<s.x||h.x+h.w>s.x+s.w)}return e};d.isElementObscuredByAncestor=
function(a){var b,h;c(a);b=!1;d._obscuredProps.elementPosition=d.getElementPositionOnPage(a);for(d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(a,null).position;(h=d.getParent(a))&&"Element"===d.getNodeType(h)&&"BODY"!==h.nodeName;)b=d.isElementObscuredByParent(a,!0),a=h;return b};return d})},"mw-menu/mixins/MenuChildResizeMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(k,d){var e="icon text shortcut description showIcon showText showShortcut showDescription".split(" ");
return k(null,{postCreate:function(){this.inherited(arguments);this.watch(d.hitch(this,function(c,b,a){-1<e.indexOf(c)&&("icon"!==c||this._getIconType(a)!==this._iconTypes.DATA_URI)&&this.emit("updatelayout")}));this.domNode.classList.add("mwMenuChildResizeMixin")}})})},"mw-mixins/mixinDependencyValidator":function(){define([],function(){return{validate:function(k){return k}}})},"mw-menu/Menu":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/DestroyedMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return k(r.validate([e,a,c,b,p,f,l,m,h,g,n,s]),{baseClass:"mwWidget mwMenu",templateString:q,_getTargetNode:function(a){a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));return a},isMenuOpen:function(){return this.domNode&&this.domNode.parentElement?"none"!==this.domNode.parentElement.style.display:!1}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct",
"dojo/_base/kernel"],function(k,d,e,c){return d("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(b,a){var c=this.containerNode;if(0<a){for(c=c.firstChild;0<a;)1==c.nodeType&&a--,c=c.nextSibling;c?a="before":(c=this.containerNode,a="last")}e.place(b.domNode,c,a);this._started&&!b._started&&b.startup()},removeChild:function(b){"number"==typeof b&&(b=this.getChildren()[b]);b&&(b=b.domNode)&&b.parentNode&&
b.parentNode.removeChild(b)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(b,a){var c=this.getChildren(),d=k.indexOf(c,b);return c[d+a]},getIndexOfChild:function(b){return k.indexOf(this.getChildren(),b)}})})},"mw-menu/mixins/KeyNavMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys","mw-menu/mixins/ContainerFocusMixin"],function(k,d,e,c,b){k=k(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",
d.hitch(this,"_onKeyDown")),e(this.domNode,"synkeydown",d.hitch(this,"_onKeyDown")))},_onKeyDown:function(a){a.keyCode===c.DOWN_ARROW?(this._handleFocusNext(a.target),a.preventDefault()):a.keyCode===c.UP_ARROW?(this._handleFocusPrevious(a.target),a.preventDefault()):a.keyCode===c.PAGE_UP||a.keyCode===c.HOME?(this._moveToFirstChild(a.target),a.preventDefault()):a.keyCode===c.PAGE_DOWN||a.keyCode===c.END?(this._moveToLastChild(a.target),a.preventDefault()):a.keyCode===c.TAB&&(this._handleFocusNext(a.target),
a.preventDefault())},_handleFocusNext:function(a){(null===a||this._isActiveElement(a))&&this.focusNext(this._getTargetNode(a))},_handleFocusPrevious:function(a){(null===a||this._isActiveElement(a))&&this.focusPrevious(this._getTargetNode(a))},_moveToFirstChild:function(){this.focusFirst()},_moveToLastChild:function(){this.focusLast()},_getTargetNode:function(a){return a},_isActiveElement:function(a){return a.hasAttribute("data-composite-primary")?a.contains(document.activeElement):a===document.activeElement}});
k._dependencies=[{mixin:b,orderDependent:!1}];return k})},"mw-menu/mixins/ContainerFocusMixin":function(){define(["dojo/_base/declare","mw-dom-utils/domUtils","dijit/focus"],function(k,d,e){return k(null,{isCyclic:!0,_setIsCyclicAttr:function(c){if("boolean"!==typeof c)throw Error("'isCyclic' property expects a boolean value.");this._set("isCyclic",c)},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwContainerFocusMixin");this.focusNode=this.focusNode||this.domNode},focus:function(c){this.inherited(arguments);
c?this._focusNearestFocusableNode(c,!0,"next"):this.focusNode&&d.isFocusable(this.focusNode)&&e.focus(this.focusNode)},focusNext:function(c){this.inherited(arguments);c||(c=document.activeElement&&d.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(c,!1,"next")},focusPrevious:function(c){this.inherited(arguments);c||(c=document.activeElement&&d.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);
this._focusNearestFocusableNode(c,!1,"previous")},focusFirst:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"next")},focusLast:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"previous")},_focusNearestFocusableNode:function(c,b,a){c=this._getAppropriateNodeFromInput(c);if(0<d.getChildren(this.domNode).length&&(null==c||d.isDescendant(c,this.domNode,!0)))c=this._findFocusableChild(c,b,a),null!==c&&(d.isElementInViewport(c)||c.scrollIntoView(!0),
e.focus(c))},_findFocusableChild:function(c,b,a){var f=!1,l,m=!1;c=this._getAppropriateNodeFromInput(c);null==b&&(b=!0);if(!a||0>["next","previous"].indexOf(a))a="next";if(c===this.domNode)f=!0;else for((l=c)&&!b&&(l=d.getAdjacentElement(l,a));l&&!d.isFocusable(l);){if(l===c){if(m)return null;m=!0}l=d.getAdjacentElement(l,a)}if(f||!l&&this.isCyclic||null==c){switch(a){case "next":l=d.getFirstChild(this.domNode);break;case "previous":l=d.getLastChild(this.domNode)}l=this._findFocusableChild(l,!0,a)}l&&
(c=this._getAppropriateNodeFromInput(l));return c},_getAppropriateNodeFromInput:function(c){if(null==c)return null;c=c.focusNode||c.domNode||c;if(!(c instanceof Element))throw Error("Input argument expects a Widget or DOM node.");return c}})})},"mw-menu/mixins/OnOpenMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry"],function(k,d,e){return k(null,{_focusOnOpen:!0,_matchMinWidthToInvokingWidget:!0,onOpen:function(){setTimeout(d.hitch(this,function(){if(this._focusOnOpen&&
this.focus){var c=window.pageXOffset,b=window.pageYOffset;this.focus();window.scrollTo(c,b)}}),0);this._emitOpenEvent();this._updateLayout()},_updateLayout:function(){this._removeAllWidths();this._matchMinWidthToInvokingWidget&&this._updateWidth();this._updateHeight()},_removeAllWidths:function(){this.domNode.style.width="";this.getChildren().forEach(function(c){c.domNode.style.width=""})},_updateWidth:function(){if(this._invokingWidget&&this.domNode.offsetWidth<this._invokingWidget.domNode.offsetWidth){var c=
0;this.domNode.parentElement&&(c=e.getMarginBox(this.domNode.parentElement).w-e.getMarginBox(this.domNode).w);this.domNode.style.width=this._invokingWidget.domNode.offsetWidth-c+"px"}},_updateHeight:function(){if(this.domNode&&this.domNode.parentElement&&this.domNode.parentElement.classList&&this.domNode.parentElement.classList.contains("dijitPopup")){var c,b=this.domNode,a=b.parentElement;c=window.getComputedStyle(b,null);var f=window.getComputedStyle(a,null),f=parseInt(c.borderTopWidth)+parseInt(c.borderBottomWidth)+
parseInt(f.borderTopWidth)+parseInt(f.borderBottomWidth);c="ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints?window.innerHeight||document.documentElement.clientHeight:document.documentElement.clientHeight;""!==b.style.height&&(b.style.height="");a.offsetTop+b.clientHeight>c&&(b.style.height=c-a.offsetTop-f+"px");a.style.overflow="hidden";a.style.overflowX="hidden";a.style.overflowY="hidden"}},_setFocusOnOpenAttr:function(c){if("boolean"!==
typeof c)throw Error("'focusOnOpen' property expects a boolean value.");this._set("_focusOnOpen",c)},_emitOpenEvent:function(){this.emit("open",{})}})})},"mw-menu/mixins/OnCloseMixin":function(){define(["dojo/_base/declare","mw-menu/mixins/OnOpenMixin"],function(k,d){var e=k(null,{_closeEventData:{},onClose:function(){this._emitCloseEvent();this._closeEventData={}},_emitCloseEvent:function(){this.emit("close",this._closeEventData)}});e._dependencies=[{mixin:d,orderDependent:!1}];return e})},"mw-menu/mixins/MenuFocusMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/has dojo/touch dojo/keys dijit/popup dijit/registry mw-dom-utils/domUtils mw-utils/widgetUtils mw-menu/mixins/ContainerFocusMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g){var p=c("touch")&&!window.PointerEvent;k=k(null,{postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwMenuFocusMixin");this.focusNode=this.focusNode||this.domNode;this.own(e(this.domNode,"close",d.hitch(this,this._handleClose)))},focus:function(){this.inherited(arguments);this._addFocusListeners()},_focusLost:function(a){setTimeout(d.hitch(this,function(){if(h.isMenuOpen(this)){var b=a instanceof FocusEvent?l.getEnclosingWidget(m.parseFocusEvent(a).gainedFocusNode):
l.getEnclosingWidget(a.target),c,g,f;(c=b?b.focusNode&&b.focusNode instanceof Element?b.focusNode:b.domNode?b.domNode:null:null)&&c.hasAttribute("data-composite-child")&&(b=l.getEnclosingWidget(document.getElementById(c.getAttribute("data-composite-primary-id"))));c=this.isDescendant(b,this);g=b&&b.domNode&&-1<[].slice.call(document.querySelectorAll(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu *")).indexOf(b.domNode);f=this._invokingWidget&&b===this._invokingWidget;(!b||!c&&!g&&!f)&&
this._focusChange(b)}}),0)},_handleKeydown:function(b){b.keyCode===a.ESCAPE&&this._focusLost(b)},_handleClose:function(){this._removeFocusListeners()},_addFocusListeners:function(){this.focusNode&&(this._focusNodeBlurListener=e(this.focusNode,"blur",d.hitch(this,"_focusLost")),this.own(this._focusNodeBlurListener),this._windowBlurListener=e(window,"blur",d.hitch(this,"_focusLost")),this.own(this._windowBlurListener),this._documentClickListener=e(document.body,p?b.press:"mousedown",d.hitch(this,"_focusLost")),
this.own(this._documentClickListener),this._escapeKeydownListener=e(document.body,"keydown",d.hitch(this,"_handleKeydown")),this.own(this._escapeKeydownListener))},_removeFocusListeners:function(){this._focusNodeBlurListener&&(this._focusNodeBlurListener.remove(),delete this._focusNodeBlurListener);this._windowBlurListener&&(this._windowBlurListener.remove(),delete this._windowBlurListener);this._documentClickListener&&(this._documentClickListener.remove(),delete this._documentClickListener);this._escapeKeydownListener&&
(this._escapeKeydownListener.remove(),delete this._escapeKeydownListener)},_focusChange:function(a){this._closeEventData={mwEventData:{gainedFocusWidget:a}};null==a?this.closeRequest(!1):!this.isInvokingWidget(a)&&!this.isDescendant(a,this)&&this.closeRequest(!1)},closeRequest:function(a){if(null==a||0>[!0,!1].indexOf(a))a=!0;this.close&&this.close();this._invokingWidget&&this._invokingWidget.isMenuOpen()&&this._invokingWidget.closeMenu(a);h.isMenuOpen(this)&&f.close(this)},isInvokingWidget:function(a){if(null==
a)return!1;a instanceof HTMLElement&&(a=l.getEnclosingWidget(a));return a===this._invokingWidget},isDescendant:function(a,b){if(null==a)return!1;a.domNode&&(a=a.domNode);null==b?b=this.domNode:b.domNode&&(b=b.domNode);return m.isDescendantOrInLaw(a,b,function(a){return a.hasAttribute("dijitpopupparent")?document.getElementById(a.getAttribute("dijitpopupparent")):null},!0)}});k._dependencies=[{mixin:g,orderDependent:!0}];return k})},"mw-utils/widgetUtils":function(){define(["dijit/registry","mw-utils/domUtils"],
function(k,d){var e={findParentWidget:function(c,b){var a=null,f;for(c instanceof HTMLElement&&(c=k.getEnclosingWidget(c));c;){if(c.get("type")===b){a=c;break}if(d.containsClass(c.domNode,b)){a=c;break}c=(f=d.getAttr(c.domNode.parentNode,"dijitpopupparent"))?k.byId(f):c.getParent()}return a},isMenuChild:function(c){return null!=d.findParentNode(c,"dijitPopup")},getParentMenu:function(c){c=d.findParentNode(c,"dijitPopup");return!c?null:k.getEnclosingWidget(c.children[0])},isInvokingWidget:function(c,
b){return b?e.getMenuWidget(c)===b:null!=e.getMenuWidget(c)},getInvokingWidget:function(c){if(c._invokingWidget)return c._invokingWidget;c=d.findParentNode(c,"dijitPopup");return!c?null:k.getEnclosingWidget(document.getElementById(c.getAttribute("dijitpopupparent")))},getMenuWidget:function(c){return c.menu||c.dropDown},isMenuOpen:function(c){if(null==c)return!1;var b=c;c.domNode&&c.domNode.hasAttribute("data-composite-child")&&(c=document.getElementById(c.domNode.getAttribute("data-composite-primary-id")),
b=k.getEnclosingWidget(c));return b&&b.dropDown&&(d.containsClass(b.domNode,"dijitOpened")||d.containsClass(b.domNode,"dijitHasDropDownOpen"))||b&&b.isMenuOpen&&b.isMenuOpen()||b&&b.domNode&&d.findParentNode(b,"dijitPopup")&&(b.getParent&&b.getParent()&&b.getParent().isMenuOpen&&b.getParent().isMenuOpen()||"none"!==d.getStyle(d.findParentNode(b,"dijitPopup"),"display"))},isDescendant:function(c,b){if(null==c)return!1;c.domNode&&(c=c.domNode);if(null==b)return!1;b.domNode&&(b=b.domNode);return d.isDescendantOrInLaw(c,
b,function(a){if((a=k.getEnclosingWidget(a))&&e.isMenuChild(a)&&e.isMenuOpen(a))if((a=e.getInvokingWidget(a))&&a.domNode)return a.domNode;return null},!0)},getPrimaryWidget:function(c){var b;if(c.domNode)b=c.domNode;else if(c instanceof HTMLElement)b=c;else throw Error("The input value must be a widget or HTML Element.");return b&&b.hasAttribute("data-composite-child")?k.getEnclosingWidget(d.getById(b.getAttribute("data-composite-primary-id"))):c}};return e})},"mw-utils/domUtils":function(){define(["dojo/sniff"],
function(k){var d={messages:{INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},
_validateElement:function(e){if(!(e instanceof Element))throw Error(d.messages.INVALID_ELEMENT);},_validateString:function(e){if("String"===typeof e)throw Error(d.messages.INVALID_STRING);},isLeftMouseButton:function(d){return!0===d.synthetic&&k("ie")?1===d.button:0===d.button},parseFocusEvent:function(e){if(!(e instanceof FocusEvent))throw Error(d.messages.INVALID_FOCUS_EVENT);var c={};c.lostFocusNode=e.target;c.gainedFocusNode=k("chrome")||k("safari")?e.relatedTarget:document.activeElement;c.type=
e.type;c.eventdata=e;return c},getParent:function(e){d._validateElement(e);return e.parentNode},findParentNode:function(e,c,b){var a=null,f;e.domNode&&(e=e.domNode);for(;e&&e!==window.document;){if(d.hasAttr(e,c)){a=e;break}if(d.hasAttrValue(e,c,b)){a=e;break}if(d.containsClass(e,c)){a=e;break}e=(f=d.getAttr(e,"dijitpopupparent"))?d.getById(f):e.parentNode}return a},getNodeType:function(e){d._validateElement(e);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",
11:"Document Fragment"}[e.nodeType]},getById:function(e){d._validateString(e);return window.document.getElementById(e)},getByClass:function(e){d._validateString(e);return window.document.getElementsByClassName(e)},getByAttr:function(e){d._validateString(e);return window.document.querySelectorAll("["+e+"]")},getByAttrValue:function(e,c){d._validateString(e);d._validateString(c);return window.document.querySelectorAll("["+e+"\x3d"+c.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")},getByName:function(e){d._validateString(e);
return window.document.getElementById("[name\x3d"+e+"]")},getByTag:function(e){d._validateString(e);return window.document.getElementsByTagName(e)},getComputedStyle:function(e,c){d._validateElement(e);return c?(d._validateString(c),window.getComputedStyle(e,null)[c]):window.getComputedStyle(e,null)},getStyle:function(e,c){d._validateElement(e);d._validateString(c);if(void 0===e.style[c])throw Error(d.messages.INVALID_STYLE);return e.style[c]},setStyle:function(e,c,b){d._validateElement(e);d._validateString(c);
d._validateString(b);e.style[c]=b;if(e.style[c]!==b)throw Error(d.messages.INVALID_VALUE);},hasAttr:function(e,c){d._validateElement(e);d._validateString(c);return e.hasAttribute(c)},hasAttrValue:function(e,c,b){d._validateElement(e);d._validateString(c);d._validateString(b);return e.hasAttribute(c)&&e.getAttribute(c)===b},getAttr:function(e,c){d._validateElement(e);d._validateString(c);return e.getAttribute(c)},setAttr:function(e,c,b){d._validateElement(e);d._validateString(c);d._validateString(b);
e.setAttribute(c,b)},addAttr:function(e,c){d._validateElement(e);d._validateString(c);e.setAttribute(c,"")},removeAttr:function(e,c){d._validateElement(e);d._validateString(c);e.removeAttribute(c)},getClasses:function(e){d._validateElement(e);return e.classList?e.classList:{_element:e,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(c){this._element.className=c.join(" ");this.length=c.length},length:e.className.split(" ").length,item:function(c){return this._getClassArray()[c]},
contains:function(c){for(var b=this._getClassArray(),a=0;a<b.length;a++)if(b[a]===c)return!0;return!1},add:function(c){var b=this._getClassArray();b.push(c);this._updateClassName(b)},remove:function(c){var b=this._getClassArray();c=b.indexOf(c);0<=c&&(b.splice(c,1),this._updateClassName(b))},toggle:function(c){if(this.contains(c))return this.remove(c),!1;this.add(c);return!0}}},getClass:function(e,c){if(null==c||"number"!==typeof c||0>c||0!==c%1)throw Error(d.messages.INTEGER_INDEX);return d.getClasses(e).item(c)},
addClass:function(e,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).add(c)},removeClass:function(e,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).remove(c)},toggleClass:function(e,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).toggle(c)},containsClass:function(e,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).contains(c)},
classCount:function(e){return d.getClasses(e).length},getChildCount:function(e){d._validateElement(e);return e.childElementCount},getChildren:function(e){d._validateElement(e);return e.children},isDescendant:function(e,c,b){d._validateElement(e);d._validateElement(c);if(b&&e===c)return!0;for(;e&&e!==window.document;)if(e=d.getParent(e),e===c)return!0;return!1},isDescendantOrInLaw:function(e,c,b,a){var f;if("function"!==typeof b)throw Error(d.messages.SPOUSE_NODE);f=d.isDescendant(e,c,a);!1===f&&(e=
b(e)||e.parentNode)&&e!==window.document&&(f=d.isDescendantOrInLaw(e,c,b,a));return f},getFirstChild:function(e){d._validateElement(e);return!d.isContainer(e)||1>d.getChildCount(e)?null:d.getChildren(e)[0]},getLastChild:function(e){var c;d._validateElement(e);c=d.getChildCount(e);return!d.isContainer(e)||1>c?null:d.getChildren(e)[c-1]},isContainer:function(e){d._validateElement(e);return 0<d.getChildCount(e)},getAdjacentElement:function(e,c){d._validateElement(e);if(!c||0>["next","previous"].indexOf(c))c=
"next";return e=e[c+"Sibling"]},getElementPositionInViewPort:function(e){d._validateElement(e);e=e.getBoundingClientRect();return{x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top}},getElementPositionOnPage:function(e){d._validateElement(e);e=d.getElementPositionInViewPort(e);e.x+=window.pageXOffset;e.y+=window.pageYOffset;return e},isFocusable:function(e){d._validateElement(e);return e&&!e.hasAttribute("disabled")&&(!e.hasAttribute("aria-disabled")||"true"!==e.getAttribute("aria-disabled"))&&"none"!==
e.style.display&&!e.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(e){var c,b,a,f;d._validateElement(e);c=e.getBoundingClientRect();b=window.innerWidth||doc.documentElement.clientWidth;a=window.innerHeight||doc.documentElement.clientHeight;f=function(a,b){return document.elementFromPoint(a,b)};return 0>c.right||0>c.bottom||c.left>b||c.top>a?!1:e.contains(f(c.left,c.top))||e.contains(f(c.right,c.top))||e.contains(f(c.right,c.bottom))||e.contains(f(c.left,c.bottom))},_obscuredProps:{}};
d._obscuredProps.sawPosAbsolute=!1;d._obscuredProps.elementPosition=null;d.isElementObscuredByParent=function(e,c){var b,a,f,l;d._validateElement(e);l=!1;if(f=d.getParent(e))if(c||(d._obscuredProps.elementPosition=d.getElementPositionOnPage(e),d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(e,null).position),b=d._obscuredProps.elementPosition,a=d._obscuredProps.sawPosAbsolute,f&&"Element"===d.getNodeType(f)&&"BODY"!==f.nodeName){var m=d.getElementPositionOnPage(f);f=window.getComputedStyle(f,
null);/relative|absolute/.test(f.position)&&(a=d._sawPosAbsolute=!1);!a&&/hidden|auto|scroll/.test(f.overflow)&&(l=b.y<m.y||b.y+b.h>m.y+m.h||b.x<m.x||b.x+b.w>m.x+m.w)}return l};d.isElementObscuredByAncestor=function(e){var c,b;d._validateElement(e);c=!1;d._obscuredProps.elementPosition=d.getElementPositionOnPage(e);for(d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(e,null).position;(b=d.getParent(e))&&"Element"===d.getNodeType(b)&&"BODY"!==b.nodeName;)c=d.isElementObscuredByParent(e,
!0),e=b;return c};return d})},"mw-menu/mixins/property/MaxHeightMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{maxHeight:800,_setMaxHeightAttr:function(d){if("number"!==typeof d)throw Error("'MaxHeight' property expects a Number!");this.domNode.style.maxHeight=d+"px";this._set("maxHeight",d)}})})},"mw-mixins/property/DestroyedMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_destroyed:!1,destroy:function(){this._set("_destroyed",!0);this.inherited(arguments)},
isDestroyed:function(){return this.get("_destroyed")}})})},"mw-menu/MenuSeparator":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/PreventFocusMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuSeparator.html".split(" "),function(k,d,e,c,b,a,f,l,m){return k(l.validate([d,e,c,b,a,f]),{baseClass:"mwWidget mwMenuSeparator",templateString:m})})},"mw-mixins/PreventFocusMixin":function(){define(["dojo/_base/declare",
"dojo/on"],function(k,d){return k(null,{postCreate:function(){this.inherited(arguments);this._getNonFocusableNodes().forEach(function(e){d(e,"mousedown",function(c){c.preventDefault()})})},_getNonFocusableNodes:function(){return[this.domNode]}})})},"datatoolsservices/ContextMenuService/ActionPopupMenuItem":function(){define("datatoolsservices/ContextMenuService/ActionPopupMenuItem",["dojo/_base/declare","dojo/_base/lang","mw-menu/PopupMenuItem","dojo/on"],function(k,d,e,c){return k("datatoolsservices.ContextMenuService.ActionPopupMenuItem",
[e],{constructor:function(b){this.allArgs=b},postCreate:function(){this.inherited(arguments);this._initActionsForMenu();this._setStateClass()},_initActionsForMenu:function(){var b=this;if(this.menu){var a=this.menu.addChild;this.menu.addChild=function(c){a.apply(this,[c]);b._ToggleActionGroupEnabled();c.action&&(c._onEnabledStateChanged=function(a){b._ToggleActionGroupEnabled()})}}},_ToggleActionGroupEnabled:function(){var b=this.menu;if(b&&0<b.getChildren().length){for(var b=b.getChildren(),a=!1,
c=0;c<b.length;c++)if(b[c].action&&b[c].action.getProperty("enabled")){a=!0;break}this.disabled=!a;this._setStateClass()}}})})},"mw-menu/PopupMenuItem":function(){define("dojo/_base/declare dijit/focus dojo/on dojo/keys dojo/dom-geometry dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PopupMenuItem.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I,M,K,J,E){return k(J.validate([f,l,m,h,g,p,n,s,r,q,t,u,G,w,v,x,z,y,B,C,A,D,F,M,K,I]),{baseClass:"mwWidget mwSharedMenuItem mwPopupMenuItem",templateString:E,_focusSubMenuOnOpen:!1,menuOrientation:"horizontal",keyPressButtons:"right_arrow_a11y",postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",a.hitch(this,"_handleRightArrow")))},_setFocusSubMenuOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'doFocus' argument expects a boolean value.");
this._set("_focusSubMenuOnOpen",a)},_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},focusLost:function(a){this.get("menu")&&(this.get("menu").isDescendant&&!this.get("menu").isDescendant(a,this.get("menu")))&&(this.get("menu")._closeEventData={mwEventData:{gainedFocusWidget:a}},this.closeMenu(!1))},focus:function(){this.inherited(arguments);this.get("disabled")||this.openMenu()},_handleRightArrow:function(a){a.keyCode===c.RIGHT_ARROW&&(this.isMenuOpen()?
this.get("menu").focusFirst():(this.set("_focusSubMenuOnOpen",!0),this.openMenu()))},_showMenu:function(){var b=this.get("menu");null!==b&&(!this._doNotOpen&&!this.isMenuOpen())&&(b._leftArrowListener=e(b.domNode,"keydown",a.hitch(b,this._handleLeftArrow)),b._menuCloseListener=e(b.domNode,"close",a.hitch(b,this._handleCloseMenu)),b._storeFocusOnOpen=b.get("_focusOnOpen"),b._storeOnOpen=b.onOpen,b._storeMatchMinWidthToInvokingWidget=b.get("_matchMinWidthToInvokingWidget"),b.set("_focusOnOpen",this.get("_focusSubMenuOnOpen")),
b.onOpen=this.onOpen,b._matchMinWidthToInvokingWidget=!1,b.domNode.classList.add("mwPopupMenuItemPopup"),this.inherited(arguments))},_handleCloseMenu:function(a){if(a&&a.mwEventData&&a.mwEventData.hasOwnProperty("gainedFocusWidget")){var b=this._invokingWidget.getParentWidget();a=a.mwEventData.gainedFocusWidget;!b.isInvokingWidget(a)&&!b.isDescendant(a,b)&&(this._leftArrowListener&&this._leftArrowListener.remove(),this._menuCloseListener&&this._menuCloseListener.remove(),delete this._leftArrowListener,
delete this._menuCloseListener,this._focusOnOpen=this._storeFocusOnOpen,this.onOpen=this._storeOnOpen,this._matchMinWidthToInvokingWidget=this._storeMatchMinWidthToInvokingWidget,this.domNode.classList.remove("mwPopupMenuItemPopup"),b._focusChange(a))}},_handleLeftArrow:function(a){a.keyCode===c.LEFT_ARROW&&(this._doNotOpen=!0,this._invokingWidget.focus(),this._doNotOpen=!1)},onOpen:function(){this.inherited(arguments);this._emitOpenEvent();this._updateLayout();b.position(this.domNode).x>b.position(this._invokingWidget.domNode).x?
(this.domNode.classList.add("mwPopupMenuItemPopupRight"),this.domNode.classList.remove("mwPopupMenuItemPopupleft"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentLeft")):(this.domNode.classList.add("mwPopupMenuItemPopupLeft"),this.domNode.classList.remove("mwPopupMenuItemPopupRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentLeft"));
this.domNode.parentElement.classList.add("mwPopupMenuItemParent");0<this.getChildren().length&&(this._focusOnOpen&&this.focusFirst)&&(this._storeFocus=this.focus,this.focus=function(){this.focusFirst();this.focus=this._storeFocus;delete this._storeFocus});this._invokingWidget.set("_focusSubMenuOnOpen",!1)},_closeMenuOnParentClick:function(){return!1},_updateWidth:function(){}})})},"mw-mixins/property/MenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-geometry dojo/has dojo/keys dojo/on dojo/touch dijit/focus dijit/popup dijit/Viewport dijit/_WidgetBase".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){var s={left:[0],center:[1],right:[2],all:[0,1,2],none:[]},r=function(a){if(!0===a.synthetic&&window.syn&&-1!==a.type.indexOf("mouse"))switch(a.button){case window.syn.mouse.browser.left[a.type].button:return 0;case window.syn.mouse.browser.right[a.type].button:return 2;default:return 1}else return a.button},q={down_arrow:[f.DOWN_ARROW],right_arrow:[f.RIGHT_ARROW],left_arrow:[f.LEFT_ARROW],up_arrow:[f.UP_ARROW],enter:[f.ENTER],space:[f.SPACE],a11y:[f.ENTER,f.SPACE],
down_arrow_a11y:[f.DOWN_ARROW,f.ENTER,f.SPACE],right_arrow_a11y:[f.RIGHT_ARROW,f.ENTER,f.SPACE],left_arrow_a11y:[f.LEFT_ARROW,f.ENTER,f.SPACE],up_arrow_a11y:[f.UP_ARROW,f.ENTER,f.SPACE],none:[]},t={below:["below","below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]};return k(null,{menu:null,menuNode:null,aroundNode:null,_clickButtons:s.left,_keyPressButtons:q.a11y,_menuOrientation:t.vertical,_setMenuAttr:function(a){this._validateMenuAttr(a);this._set("menu",
a)},_validateMenuAttr:function(a){if(null!==a&&!(a instanceof n))throw Error("'menu' property expects a widget");},_setMenuNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'menuNode' property expects a DOM node.");a?this._set("menuNode",a):this._set("menuNode",this.focusNode||this.domNode)},_setAroundNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'aroundNode' property expects a DOM node.");a?this._set("aroundNode",a):this._set("aroundNode",this.domNode)},_setClickButtonsAttr:function(a){if("string"!==
typeof a||-1===s.hasOwnProperty(a))throw Error("'clickButtons' property expects one of these values: "+Object.keys(s));this._set("_clickButtons",s[a])},_setKeyPressButtonsAttr:function(a){if("string"!==typeof a||-1===q.hasOwnProperty(a))throw Error("'keyPressButtons' property expects one of these values: "+Object.keys(q));this._set("_keyPressButtons",q[a])},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===t.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+
Object.keys(t));this._set("_menuOrientation",t[a])},postCreate:function(){var b;this.inherited(arguments);this.domNode.classList.add("mwMenuMixin");this.menuNode=this.menuNode||this.focusNode||this.domNode;this.aroundNode=this.aroundNode||this.domNode;b=a("touch")&&!window.PointerEvent;this.own(l(this.menuNode,b?m.press:"mousedown",d.hitch(this,"_onPress")),l(this.menuNode,"mousedown",d.hitch(this,"_onMouseDown")),l(this.menuNode,"keydown",d.hitch(this,"_onKeyDown")),l(this.menuNode,"keyup",d.hitch(this,
"_onKeyUp")),l(this.domNode,"click",d.hitch(this,"_onMouseClick")),this.watch("disabled",d.hitch(this,function(a,b,c){c&&this._handleClosingPopup(!1)})))},_onPress:function(a){var b=-1<this._clickButtons.indexOf(r(a))||"touchstart"===a.type,c=!this.isMenuOpen()||this._closeMenuOnParentClick();this.get("menu")&&(this.get("menu")._lastPressEvent=a);b&&c?(this.get("menu")&&(this.get("menu")._mouseDownTriggered=!0,setTimeout(d.hitch(this,function(){this.get("menu")&&"_mouseDownTriggered"in this.get("menu")&&
delete this.get("menu")._mouseDownTriggered}),300)),this.toggleMenu(a.target)):this.isMenuOpen()&&(a.preventDefault(),a.stopImmediatePropagation())},_onMouseDown:function(a){this.inherited(arguments);var b=this.get("menu")&&"_mouseDownTriggered"in this.get("menu"),c=this.get("menu")&&"_lastPressEvent"in this.get("menu")&&"touchstart"===this.get("menu")._lastPressEvent.type;if(this.isMenuOpen()||b&&c)a.preventDefault(),a.stopImmediatePropagation()},_onMouseClick:function(a){this.get("menu")&&"_mouseDownTriggered"in
this.get("menu")&&delete this.get("menu")._mouseDownTriggered;this.inherited(arguments);c.isDescendant(a.target,this.menuNode)&&a.stopImmediatePropagation()},_onKeyDown:function(a){this.inherited(arguments);if(!this.get("disabled")||this.get("dropDownNeverDisabled"))if(a.keyCode===f.ESCAPE)this.domNode.classList.contains("mwFocusableMenuChildMixin")?this.closeMenu(!1):this.closeMenu(!0);else if(-1<this._keyPressButtons.indexOf(a.keyCode)&&(!this.isMenuOpen()||this._closeMenuOnParentClick()&&this.isMenuOpen()))this._toggleOnKeyUp=
!0},_onKeyUp:function(a){this.inherited(arguments);this._toggleOnKeyUp&&(delete this._toggleOnKeyUp,(!this.isMenuOpen()||this.closeMenuOnClick)&&this.toggleMenu(a.target))},_onBlur:function(){this.isMenuOpen()&&(this.get("menu")._invokingWidget===this&&!this.get("menu").domNode.classList.contains("mwMenu")&&!this.get("menu").domNode.classList.contains("mwSectionPopup"))&&(c.isDescendant(document.activeElement,this.domNode)?this.closeMenu(!0):this.closeMenu(!1));this.inherited(arguments)},_qeDropDownClick:function(){this.toggleMenu()},
toggleMenu:function(a){a=a||this.menuNode;a=a.domNode||a;c.isDescendant(a,this.menuNode)&&(this.isMenuOpen()?this.closeMenu(!0):this.openMenu())},openMenu:function(){this._showMenu()},_showMenu:function(){null!=this.get("menu")&&setTimeout(d.hitch(this,function(){var a,c,h=this;if(null!=h.get("menu")){null==this.aroundNode&&(c=a=0);"_invokingWidget"in this.get("menu")&&this.get("menu")._invokingWidget&&(this.get("menu")._lastInvokingWidget=this.get("menu")._invokingWidget);this.get("menu")._invokingWidget=
this;this.domNode.classList.add("mwHasMenuOpened");this.get("menu")._onPositionListener=e.around(b,"position",function(a){return function(b,c){var g="ontouchstart"in window||navigator.maxTouchPoints,h=document.body.clientWidth>window.innerWidth;return c&&g&&h?a(b,!1):a(b,c)}});this.get("menu").own(this.get("menu")._onPositionListener);g.open({parent:this,popup:h.get("menu"),x:a,y:c,around:h.aroundNode,orient:h._menuOrientation,maxHeight:h.get("maxHeight"),onCancel:function(){if(h.domNode.classList.contains("mwFocusableMenuChildMixin")){var a=
h.getParent();h.closeMenu(!1);a._closeEventData={mwEventData:{gainedFocusWidget:null}};a.closeRequest(!1)}else h.closeMenu(!0)},onClose:function(){h.get("menu")&&"_lastInvokingWidget"in h.get("menu")?(null!=h.get("menu")._lastInvokingWidget&&h._cleanUpAfterClose(h,!0),delete h.get("menu")._lastInvokingWidget):h._cleanUpAfterClose(h,!1);h.get("menu")&&"_onPositionListener"in h.get("menu")&&(h.get("menu")._onPositionListener.remove(),delete h.get("menu")._onPositionListener)}});var f=h.own(l(p,"resize",
function(){h.getParentWidget?h.closeMenu(!1):h.closeMenu(!0);f.length?[].slice.call(f).forEach(function(a){a.remove()}):f.remove()}))}}),0)},closeMenu:function(a){var b=this._handleClosingPopup(a);this._handleFocusOnClose(a,b)},_handleClosingPopup:function(a){if(this.isMenuOpen()){if(this.get("menu")){this.get("menu").getChildren().forEach(function(b){"menu"in b&&b.isMenuOpen()&&(b.get("menu")._closeEventData=this._closeEventData,b.closeMenu(a))},this);var b=this.get("menu")._closeEventData;g.close(this.get("menu"));
return b}}else if(this.get("menu"))return this.get("menu")._closeEventData},_handleFocusOnClose:function(a,b){!0===a?this.focus?this.focus():h.focus(this.focusNode||this.domNode):b&&"mwEventData"in b&&"gainedFocusWidget"in b.mwEventData&&b.mwEventData.gainedFocusWidget?h.focus(b.mwEventData.gainedFocusWidget.focusNode||b.mwEventData.gainedFocusWidget.domNode):h.focus(document.body)},startup:function(){if(!this._started){if(!this.get("menu")&&this.srcNodeRef){var a=query("[widgetId]",this.srcNodeRef)[0];
a&&this.set("menu",registry.byNode(a))}this.get("menu")&&g.hide(this.get("menu"));this.inherited(arguments)}},destroy:function(){this.isMenuOpen()&&this.closeMenu(!0);this.inherited(arguments)},_closeMenuOnParentClick:function(){return!0},_cleanUpAfterClose:function(a,b){!b&&a.get("menu")&&delete a.get("menu")._invokingWidget;a.domNode&&a.domNode.classList.remove("mwHasMenuOpened")},isMenuOpen:function(){return this.get("menu")&&this.get("menu")._invokingWidget&&this.get("menu")._invokingWidget===
this&&this.get("menu").domNode&&this.get("menu").domNode.parentElement&&this.get("menu").domNode.parentElement.classList.contains("dijitPopup")?"none"!==this.get("menu").domNode.parentElement.style.display:!1}})})},"mw-mixins/property/HasDynamicMenuMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/MenuMixin"],function(k,d,e){k=k(null,{hasDynamicMenu:!1,_setHasDynamicMenuAttr:function(c){this._set("hasDynamicMenu",c)},postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwHasDynamicMenuMixin");this.set("hasDynamicMenu",this.get("hasDynamicMenu"))},openMenu:function(){this.get("hasDynamicMenu")?this.emit("dropdownclick",{}):this._showMenu()},showMenu:function(){this._showMenu();var c=this.menu.on("updatelayout",d.hitch(this.menu,function(){this._updateLayout&&this._updateLayout()})),b=this.menu.on("close",function(){c.remove();b.remove()})}});k._dependencies=[{mixin:e,orderDependent:!0}];return k})},"mw-menu/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dijit/focus dojo/keys dojo/on dojo/query dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){return k(v.validate([m,p,h,g,n,s,r,q,t,u,w]),{baseClass:"mwWidget mwContextMenu",disabled:!1,templateString:x,postCreate:function(){this.inherited(arguments);this._activeEventListeners=[];this._onOpenEventListenersInfo=[{event:"wheel",target:document.body,callback:d.hitch(this,"_onWheel")},{event:"mousewheel",target:document.body,callback:d.hitch(this,"_onWheel")},{event:"mousedown",target:document.body,callback:d.hitch(this,function(a){this._shouldCloseMenu(a.target)&&
this.closeMenu()}),useCapture:!0},{event:"mouseenter",target:document.body,callback:d.hitch(this,this._onMouseMovement),useCapture:!0},{event:"mouseover",target:document.body,callback:d.hitch(this,this._onMouseMovement),useCapture:!0},{event:"keydown",target:this.domNode,callback:d.hitch(this,function(a){a.keyCode===c.ESCAPE&&(this.closeMenu(),document.body.classList.contains("mwHasFocusManager")?this.emit("restorefocus"):e.focus(this._previousFocusNode))})},{event:"change",target:this.domNode,callback:d.hitch(this,
function(a){a=f.getEnclosingWidget(a.target);a.domNode.hasAttribute("data-composite-child")&&(a=f.byNode(document.getElementById(a.domNode.getAttribute("data-composite-primary-id"))));(a.get("closeMenuOnClick")||void 0===a.get("closeMenuOnClick"))&&this.closeMenu()})},{event:"close",target:this.domNode,callback:d.hitch(this,this._cleanupOnClose)}];this.own(b(this.domNode,"open",d.hitch(this,this._handleOpen)));this.set("disabled",this.disabled)},_setDisabledAttr:function(a){if("boolean"===typeof value)throw Error("Expected 'disabled' property to be a boolean");
a?this._removeRightClickEventListener():this._addRightClickEventListener();this._set("disabled",a)},_addRightClickEventListener:function(){this._rightClickListener||(this._rightClickListener=b(document.body,"contextmenu",d.hitch(this,this._createCallback(d.hitch(this,this._onContextMenu),d.hitch(this,this._onDoubleContextMenu),200,!0))),this.own(this._rightClickListener))},_removeRightClickEventListener:function(){this._rightClickListener&&(this._rightClickListener.remove(),delete this._rightClickListener)},
_addOnOpenEventListeners:function(){if(this._activeEventListeners.length<this._onOpenEventListenersInfo.length)for(var a=0;a<this._onOpenEventListenersInfo.length;a++)this._onOpenEventListenersInfo[a].useCapture?(this._onOpenEventListenersInfo[a].target.addEventListener(this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback,!0),this._activeEventListeners[a]=[{target:this._onOpenEventListenersInfo[a].target,event:this._onOpenEventListenersInfo[a].event,callback:this._onOpenEventListenersInfo[a].callback,
useCapture:!0}]):this._activeEventListeners[a]=this.own(b(this._onOpenEventListenersInfo[a].target,this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback))},_removeOnOpenEventListeners:function(){if(0<this._activeEventListeners.length)for(;0<this._activeEventListeners.length;){var a=this._activeEventListeners.pop()[0];a.useCapture?a.target.removeEventListener(a.event,a.callback,!0):a.remove()}},_onWheel:function(a){this.isDescendant(a.target)||this.closeMenu()},isMenuOpen:function(){return this.domNode&&
this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display},open:function(a){this.openMenu(a)},openMenu:function(a){if(!this.get("disabled")){this._computeTargetNodes(a);a.doNotClose=this._nodeMatchesSelector(a.target,".galleryPopup, .galleryPopup  *, .mwSectionPopup, .mwSectionPopup *");if(a.target){var b=f.getEnclosingWidget(a.target);b&&b.id&&this.domNode.setAttribute("data-target-id",b.id)}if("contextmenu"===a.type)this._handleRightClick(a);else if(a.target instanceof HTMLElement&&
isNaN(a.x)&&isNaN(a.y))this._handleOpenWithDomNode(a);else if(!a.target&&!isNaN(a.x)&&!isNaN(a.y))this._handleOpenWithXY(a);else throw Error("Invalid parameters passed");}},_onMouseMovement:function(a){this.isDescendant(a.target)||(a.stopImmediatePropagation(),a.preventDefault())},_nodeMatchesSelector:function(a,b){var c=!1;a&&b&&(a.matches?c=a.matches(b):a.matchesSelector?c=a.matchesSelector(b):a.webkitMatchesSelector?c=a.webkitMatchesSelector(b):a.mozMatchesSelector?c=a.mozMatchesSelector(b):a.msMatchesSelector?
c=a.msMatchesSelector(b):a.oMatchesSelector&&(c=a.oMatchesSelector(b)));return c},_handleRightClick:function(a){var b;if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(b=this.willOpenCallback({target:a.target,x:a.clientX,y:a.clientY})))return;this._previousFocusNode=a.target;1>a.pageX&&1>a.pageY?this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose}):this._showMenu({x:a.pageX,y:a.pageY,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithDomNode:function(a){var b;
if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(b=this.willOpenCallback({target:a})))return;this._previousFocusNode=a.target;this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithXY:function(a){var b;if(this.willOpenCallback&&(b=this.willOpenCallback({target:a.target})))return;this._showMenu({x:a.x,y:a.y,popup:this})},_showMenu:function(a){l.open(a)},_handleOpen:function(){this._addOnOpenEventListeners();this._handleEmptyContextMenu()},_handleEmptyContextMenu:function(){0===
this.domNode.children.length?this.domNode.parentElement&&(this.domNode.parentElement.style.display="none"):this.domNode.parentElement&&(this.domNode.parentElement.style.display="")},close:function(){this.closeMenu()},closeMenu:function(){l.close(this)},_cleanupOnClose:function(){this._removeOnOpenEventListeners();this.domNode&&(this.domNode.removeAttribute("data-target-id"),this.domNode.parentNode&&(this.domNode.parentNode.style.overflowX="visible",this.domNode.parentNode.style.overflowY="visible"))},
_shouldCloseMenu:function(a){var b=!0;if(!this.isMenuOpen())return!1;if(a&&(this.isDescendant(a)||this.targetNodes&&0<=this.targetNodes.indexOf(a)))b=!1;return b},_setTargetNodesAttr:function(a){if(null===a||void 0===a)a=[];this._set("targetNodes",a)},_computeTargetNodes:function(b){this._contextMenuNodes=[];this.targetNodes&&this.targetNodes.forEach(function(c){"string"===typeof c?a(c).forEach(function(a){var b=a.querySelectorAll("*");Object.keys(b).forEach(function(a){this._contextMenuNodes.push(b[a])},
this);this._contextMenuNodes.push(a)},this):"function"===typeof c?(c=c(b))&&(1<c.length?c.forEach(function(a){this._contextMenuNodes.push(a)}.bind(this)):this._contextMenuNodes.push(c)):this._contextMenuNodes.push(c)},this);return this._contextMenuNodes},_onContextMenu:function(a){a.preventDefault();this.openMenu(a)},_onDoubleContextMenu:function(a){a.preventDefault()},_getTargetNode:function(a){null!==a&&a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));
return a},_createCallback:function(a,b,c,g){var h=0,f;void 0===c&&(c=200);return function(d){!0===g&&-0<=this._computeTargetNodes(d).indexOf(d.target)&&d.preventDefault();h+=1;1===h?f=setTimeout(function(){h=0;a(d)},c):2===h&&(clearTimeout(f),h=0,b(d))}},destroy:function(){this._removeOnOpenEventListeners();this.inherited(arguments)}})})},"MW/uiframework/contextmanager/ContextManagerFactory":function(){define(["./ContextManager"],function(k){var d=null;return{getInstance:function(e){d||(d=new k(e));
return d},destroy:function(){d&&(d.cleanup(),d=null)}}})},"MW/uiframework/contextmanager/ContextManager":function(){define("dojo/_base/declare dojo/Stateful ./PanelManager ./QuickAccessActionManager ./TabGroupManager MW/uiframework/UIBuilderFactory".split(" "),function(k,d,e,c,b,a){return k([d],{currentContext:null,constructor:function(f){this.parentAppId=f.parentAppId;this.alternativeContextMemory=!!f.alternativeContextMemory;this._uiBuilder=f.uiBuilder||a.getInstance();this.toolstripId=this._uiBuilder.tagToId(f.toolstripTag);
if(!this.toolstripId)throw Error('No toolstrip with tag "'+f.toolstripTag+'" exists!');this._panelManager=new e({contextManagerImpl:this,uiContainer:f.uiContainer});this._quickAccessActionManager=new c({contextManagerImpl:this,uiBuilder:this._uiBuilder,qabContextualControlsActionMap:f.qabContextualControlsActionMap});this._tabGroupManager=new b({contextManagerImpl:this,uiBuilder:this._uiBuilder})},register:function(a,b){switch(a){case "TabGroups":this._tabGroupManager.registerTabGroups(b);break;case "QuickAccessAction":this._quickAccessActionManager.registerQuickAccessAction(b);
break;case "Panels":this._panelManager.registerPanels(b);break;default:throw Error("This is not a valid type to register!");}},unregister:function(a,b){switch(a){case "TabGroups":this._tabGroupManager.unregisterTabGroups(b);break;case "QuickAccessAction":this._quickAccessActionManager.unregisterQuickAccessAction(b);break;case "Panels":this._panelManager.unregisterPanels(b);break;default:throw Error("This is not a valid type to unregister!");}},resetLastSelectedTab:function(a){this._tabGroupManager.resetLastSelectedTab(a)},
removeAllContextualTabGroups:function(){this._tabGroupManager.removeAllContextualTabGroups()},removeContextualTabGroupsOfAppId:function(a){this._tabGroupManager.removeContextualTabGroupsOfAppId(a)},cleanup:function(){this._quickAccessActionManager.cleanup();this._tabGroupManager.cleanup();this._panelManager.cleanup()},_currentContextSetter:function(a){a&&a.appId&&(!a.contextIdList||0===a.contextIdList.length?a.contextIdList=["global"]:0<a.contextIdList.length&&-1===a.contextIdList.indexOf("global")&&
a.contextIdList.splice(0,0,"global"));this.currentContext=a}})})},"MW/uiframework/contextmanager/PanelManager":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(k,d){return k(null,{constructor:function(e){this._contextManager=e.contextManagerImpl;this._uiContainer=e.uiContainer;this._registeredPanels={};this._currentContextualPanelIds=[];this._stateForContext={};this._handles=[];this._handles.push(this._contextManager.watch("currentContext",d.hitch(this,this._currentContextChangedCallback)))},
registerPanels:function(d){this._registeredPanels[d.appId]||(this._registeredPanels[d.appId]={});this._registeredPanels[d.appId][d.contextId]||(this._registeredPanels[d.appId][d.contextId]={});d.panelIds&&(this._registeredPanels[d.appId][d.contextId].panels=d.panelIds)},unregisterPanels:function(d){this._registeredPanels[d.appId]&&(this._registeredPanels[d.appId][d.contextId]?delete this._registeredPanels[d.appId][d.contextId]:delete this._registeredPanels[d.appId])},getContextualStates:function(){var d=
this._contextManager.get("currentContext");d&&!this._isAppContext(d)&&(this._stateForContext[this._generateContextKey(d)]=this._uiContainer._getContextualState(d.appId));return this._stateForContext},setContextualStates:function(e){d.mixin(this._stateForContext,e)},_currentContextChangedCallback:function(e,c,b){if(this._uiContainer&&!(null===b||void 0===b||JSON.stringify(c)===JSON.stringify(b))){var a=this;this._isAppContext(c)||(this._stateForContext[this._generateContextKey(c)]=this._uiContainer._getContextualState(c.appId));
var f=this._getPanelIdsForContext(b);e=this._uiContainer.getOccupiedBorders();var l=this._stateForContext[this._generateContextKey(b)];l&&e.length&&(l=d.clone(l),e.forEach(function(a){l[a]&&l[a].border&&delete l[a].border}));var m=c&&b&&c.appId!==b.appId;this._currentContextualPanelIds.forEach(function(b){(m||0>f.indexOf(b))&&a._uiContainer._removeFromLayout(b)});f.forEach(function(c){(m||0>a._currentContextualPanelIds.indexOf(c))&&a._uiContainer._addToLayout(c,b.appId)});l&&this._uiContainer._setContextualState(l,
b.appId);this._currentContextualPanelIds=f}},_isAppContext:function(d){return!d||d.appId===this._contextManager.parentAppId},_getPanelIdsForContext:function(d){var c=[],b=this._registeredPanels[d.appId];b&&d.contextIdList.forEach(function(a){(a=b[a].panels)&&(c=c.concat(a))});return c},_generateContextKey:function(d){var c="null";d&&(c=d.appId,d.contextIdList.forEach(function(b){"global"!==b&&(c+="_"+b)}));return c},cleanup:function(){this._handles.forEach(function(d){d.remove()})}})})},"MW/uiframework/contextmanager/QuickAccessActionManager":function(){define(["dojo/_base/declare",
"dojo/_base/lang","MW/uiframework/UIBuilderFactory"],function(k,d,e){return k(null,{constructor:function(c){this._contextManagerImpl=c.contextManagerImpl;this._qabContextualControlsActionMap=c.qabContextualControlsActionMap;this._registeredQuickAccessActions={};this._uiBuilder=c.uiBuilder||e.getInstance();this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",d.hitch(this,this._currentContextChangedCallback)))},registerQuickAccessAction:function(c){this._registeredQuickAccessActions[c.appId]||
(this._registeredQuickAccessActions[c.appId]={});this._registeredQuickAccessActions[c.appId][c.contextId]||(this._registeredQuickAccessActions[c.appId][c.contextId]={});c.quickAccessControlTag&&c.actionId&&(this._registeredQuickAccessActions[c.appId][c.contextId][c.quickAccessControlTag]=c.actionId)},unregisterQuickAccessAction:function(c){this._registeredQuickAccessActions[c.appId]&&this._registeredQuickAccessActions[c.appId][c.contextId]&&(this._registeredQuickAccessActions[c.appId][c.contextId][c.quickAccessControlTag]?
delete this._registeredQuickAccessActions[c.appId][c.contextId][c.quickAccessControlTag]:delete this._registeredQuickAccessActions[c.appId][c.contextId])},_currentContextChangedCallback:function(c,b,a){null===a||(void 0===a||JSON.stringify(b)===JSON.stringify(a))||(Object.keys(this._qabContextualControlsActionMap).forEach(function(a){var b=this._uiBuilder.tagToId(a);this._uiBuilder.exists(b)&&this._uiBuilder.set(b,"actionId",this._qabContextualControlsActionMap[a])},this),this._contextManagerImpl.parentAppId&&
this._applyQuickAccessActions(this._contextManagerImpl.parentAppId,"global"),this._registeredQuickAccessActions[a.appId]&&(a.appId!==this._contextManagerImpl.parentAppId&&this._applyQuickAccessActions(a.appId,"global"),a.contextIdList&&a.contextIdList.forEach(function(b){"global"!==b&&this._applyQuickAccessActions(a.appId,b)},this)))},_applyQuickAccessActions:function(c,b){this._registeredQuickAccessActions[c]&&this._registeredQuickAccessActions[c][b]&&Object.keys(this._registeredQuickAccessActions[c][b]).forEach(function(a){var f=
this._uiBuilder.tagToId(a);this._uiBuilder.exists(f)&&this._uiBuilder.set(f,"actionId",this._registeredQuickAccessActions[c][b][a])},this)},cleanup:function(){this._handles.forEach(function(c){c.remove()})}})})},"MW/uiframework/UIBuilderFactory":function(){define(["./UIBuilder","mw-actiondataservice/ActionDataService"],function(k,d){var e={};return{getInstance:function(c){c=c||{};c.channel=c.channel||"/DefaultUIBuilderPeerModelChannel";c.enableQABCustomization=c.enableQABCustomization||!1;e[c.channel]||
(c.isMATLABDriven=!!c.isMATLABDriven,c.actionService=c.actionService||new d({nameSpace:c.channel+"_Action",mode:c.isMATLABDriven?"ActAsClient":"StandAlone"}),e[c.channel]=new k(c));return e[c.channel]},destroyInstance:function(c){c=c||"/DefaultUIBuilderPeerModelChannel";e[c]&&(e[c].cleanup(),delete e[c])}}})},"MW/uiframework/UIBuilder":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry ./constants/TypeConstants ./managers/ModelManager ./managers/WidgetManager ./supportedUIBuilderFunctions".split(" "),
function(k,d,e,c,b,a,f){return k(null,{constructor:function(l){var m,h;m=new b(l);h=new a({modelManager:m});f.fromModelManager.forEach(function(a){this[a]=d.hitch(m,m[a])},this);f.fromWidgetManager.forEach(function(a){this[a]=d.hitch(h,h[a])},this);this.cleanup=function(){m.cleanup();h.cleanup()};l.manageTabGroupsOutsidePeerModel&&(this.add=function(a,b,f){(f=m.manager.getById(a))&&f.getType()===c.TAB_GROUP?h.addOutsidePeerModel(a,b):m.add(a,b,indes)},this.remove=function(a){var b=m.manager.getById(a);
b&&b.getType()===c.TAB_GROUP?h.removeOutsidePeerModel(a):m.remove(a)},this.get=function(a,b){if("selectedTab"===b&&m.manager.getById(a).getType()===c.TOOLSTRIP){var h=e.byId(a);return h?h.get(b):""}return m.get(a,b)},this.set=function(a,b,h){if("selectedTab"===b&&m.manager.getById(a).getType()===c.TOOLSTRIP)(a=e.byId(a))&&a.set(b,h);else return m.set(a,b,h)},this.getChildrenIds=function(a){if(m.manager.getById(a).getType()===c.TOOLSTRIP){a=e.byId(a).getChildren();var b=[];b.length=a.length;for(var h=
0;h<b.length;h++)b[h]=a[h].id;return b}return m.getChildrenIds(a)},this.isAnOrphan=function(a){return m.manager.getById(a).getType()===c.TAB?(a=e.byId(a),!(a&&a.getParent()&&a.getParent().getParent())):m.isAnOrphan(a)},this.selectFirstTabInTabGroup=function(a,b){var c=m.tagToPeerNodeIdMap[a];if(c&&(c=m.manager.getById(c))&&0<c.getChildren().length){var h=e.byId(b);h&&(h.set("selectedTab",""),h.set("selectedTab",c.getChildren()[0].getId()))}},this.addPropertySetCallback=function(a,b,h){return m.manager.getById(a).getType()===
c.TOOLSTRIP?(a=e.byId(a))?a.watch(function(a,c,g){b({property:a,oldValue:c,newValue:g})}):null:m.addPropertySetCallback(a,b,h)})}})})},"MW/uiframework/constants/TypeConstants":function(){define(["dojo/_base/lang","MW/toolstrip/constants/TypeConstants"],function(k,d){var e={ROOT:"Root",ORPHAN_ROOT:"OrphanRoot"};k.mixin(e,d);return e})},"MW/toolstrip/constants/TypeConstants":function(){define([],function(){return{TOOLSTRIP_ROOT:"ToolstripRoot",QAB_ROOT:"QABRoot",POPUP_ROOT:"PopupRoot",GALLERY_ROOT:"GalleryRoot",
GALLERY_POPUP_ROOT:"GalleryPopupRoot",GALLERY_FAVORITE_CATEGORY_ROOT:"GalleryFavoriteCategoryRoot",TOOLSTRIP:"Toolstrip",QAB:"QuickAccessBar",QA_GROUP:"QuickAccessGroup",TAB_GROUP:"TabGroup",TAB:"Tab",SECTION:"Section",PANEL:"Panel",COLUMN:"Column",COLOR_PICKER_BUTTON:"ColorPickerButton",GRID_PICKER_BUTTON:"GridPickerButton",PUSH_BUTTON:"PushButton",DROP_DOWN_BUTTON:"DropDownButton",SPLIT_BUTTON:"SplitButton",TOGGLE_BUTTON:"ToggleButton",POPUP_LIST:"PopupList",LIST_ITEM:"ListItem",POPUP_LIST_PANEL:"PopupListPanel",
LIST_ITEM_WITH_CHECKBOX:"ListItemWithCheckBox",LIST_ITEM_WITH_TEXTFIELD:"ListItemWithTextField",LIST_ITEM_WITH_RADIO_BUTTON:"ListItemWithRadioButton",LIST_ITEM_WITH_POPUP:"ListItemWithPopup",POPUP_LIST_SEPARATOR:"PopupListSeparator",POPUP_LIST_HEADER:"PopupListHeader",COMBO_BOX:"ComboBox",LIST:"List",LABEL:"Label",EMPTY_CONTROL:"EmptyControl",TEXT_FIELD:"TextField",TEXT_AREA:"TextArea",SPINNER:"Spinner",HORIZONTAL_SLIDER:"HorizontalSlider",RADIO_BUTTON:"RadioButton",CHECK_BOX:"CheckBox",TOGGLE_SPLIT_BUTTON:"ToggleSplitButton",
FOOTER:"Footer",FOOTER_CELL:"FooterCell",QAB_PUSH_BUTTON:"QABPushButton",QAB_DROP_DOWN_BUTTON:"QABDropDownButton",QAB_SPLIT_BUTTON:"QABSplitButton",QAB_TOGGLE_BUTTON:"QABToggleButton",QAB_TOGGLE_SPLIT_BUTTON:"QABToggleSplitButton",QAB_FLOATING_PANE_DOCK:"QABFloatingPaneDock",MENUBAR_WRAPPER:"MenubarWrapper",TOOLBAR_WRAPPER:"ToolbarWrapper",GALLERY:"Gallery",GALLERY_POPUP:"GalleryPopup",GALLERY_CATEGORY:"GalleryCategory",GALLERY_FAVORITE_CATEGORY:"GalleryFavoriteCategory",GALLERY_ITEM:"GalleryItem",
TOGGLE_GALLERY_ITEM:"ToggleGalleryItem"}})},"MW/uiframework/managers/ModelManager":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/dom dojo/dom-attr mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin ../constants/TypeConstants ../hashes/ComponentPropertiesHash ../hashes/IconPropertiesSupportingBase64 ../hashes/ComponentsWithNoParent MW/toolstrip/hashes/ComponentsSupportedByFooterCell MW/toolstrip/hashes/ComponentsEligibleForQAB MW/toolstrip/ToolstripUtils ../../toolstrip/hashes/listOfNewWidgets MW/toolstrip/hashes/DefaultGalleryItemWidths mw-log/Log".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){return k([f],{constructor:function(a){a=a||{};this.isMATLABDriven=a.isMATLABDriven;this._channel=a.channel;this.actionService=a.actionService;this.enableQABCustomization=a.enableQABCustomization;this._autoGeneratedActions={};this.tagToPeerNodeIdMap={};this._typeToRootNodeMap={};this._setupPeerModelManager()},_setupPeerModelManager:function(){var b;this.manager=a.getInstance(this._channel);this.addManagerListeners();this.isMATLABDriven?this.start():(this._root=
this.manager.setRoot(l.ROOT),this._root.addChild(l.ORPHAN_ROOT),this._root.addChild(l.TOOLSTRIP_ROOT),this._root.addChild(l.POPUP_ROOT),this._root.addChild(l.QAB_ROOT),b=this._root.addChild(l.GALLERY_ROOT),b.addChild(l.GALLERY_POPUP_ROOT),b.addChild(l.GALLERY_FAVORITE_CATEGORY_ROOT))},create:function(a){var b,c,g,h;this._supportBase64URL(a);c=d.clone(a);g=c.parentId;b=this._verifyProperties(c);if(s.supportsAction(a.type))if(a.actionId){if(h=this.actionService.getAction(a.actionId))this._supportBase64URL(h),
this._convertPopupTagToId(h),Object.keys(m[a.type]).forEach(function(c){m[a.type][c].notInAction||this._isAValidValue(h[c],m[a.type][c],m[a.type])||(h[c]=b.actionNodeProps[c])},this),this.actionService.updateAction(a.actionId,h)}else b.viewNodeProps.actionId=this.actionService.addAction(b.actionNodeProps),this._autoGeneratedActions[b.viewNodeProps.actionId]=!0;c=this._getCorrespondingParentNode(b.type,g);s.isAFooterCell(c.getType())&&-1===p.indexOf(a.type)&&t.error(a.type+" is not supported by Footer Cell");
c=c.addChild(b.type,b.viewNodeProps);"Toolstrip"===b.type&&g&&this.placeToolstripById(c.getId(),g);this._postProcessing(c);return c.getId()},_getCorrespondingParentNode:function(a,b){var c;switch(a){case l.TOOLSTRIP:c=this._getRootNodeByType(l.TOOLSTRIP_ROOT);break;case l.QAB:c=this._getRootNodeByType(l.QAB_ROOT);break;case l.POPUP_LIST:c=this.exists(b)?this.manager.getById(b):this._getRootNodeByType(l.POPUP_ROOT);break;case l.GALLERY_POPUP:c=this._getRootNodeByType(l.GALLERY_POPUP_ROOT);break;case l.GALLERY_FAVORITE_CATEGORY:c=
this._getRootNodeByType(l.GALLERY_FAVORITE_CATEGORY_ROOT);break;default:c=this.exists(b)?this.manager.getById(b):this._getRootNodeByType(l.ORPHAN_ROOT)}return c},_findAncestorTabGroupId:function(a){for(;this.get(a,"type")!==l.TAB_GROUP;)if(null===a||this._root===this.manager.getById(a)){a=null;break}else a=this.getParentId(a);return a},_createCorrespondingComponentInQAB:function(a,b){var c=this._findAncestorTabGroupId(a);if(null!==c){var c=this.get(c,"QAGroupId"),g=this.get(a,"actionId"),h=this.get(a,
"tag")+"_qab",f=[];this.manager.getByType(l.QA_GROUP).forEach(function(a){f=f.concat(this.manager.getByProperty("actionId",g,a))},this);0===f.length&&(a=this.create({type:n[this.get(a,"type")],tag:h,actionId:g,parentId:c}),b&&this.move(a,c,0),this._hookupRemoveFromQABListener(a));return a}},_hookupAddToQABListener:function(a){var b=this.get(a,"actionId");this.actionService._actionById(b).addEventListener("propertySet",function(b){"isInQAB"===b.data.key&&!0===b.data.newValue&&this._createCorrespondingComponentInQAB(a,
!0)},this)},_hookupRemoveFromQABListener:function(a){var b=this.get(a,"actionId");this.actionService._actionById(b).addEventListener("propertySet",function(b){"isInQAB"===b.data.key&&!1===b.data.newValue&&this.exists(a)&&this.destroy(a)},this)},_postProcessing:function(a){var b,c;-1<Object.keys(n).indexOf(a.getType())&&(this._hookupAddToQABListener(a.getId()),!0===this.get(a.getId(),"isInQAB")&&this._createCorrespondingComponentInQAB(a.getId()));switch(a.getType()){case l.TOOLSTRIP:b=this.create({type:l.QAB});
this.set(a.getId(),"QABId",b);break;case l.TAB_GROUP:c=a.getParent();c.getType()===l.TOOLSTRIP&&(b=c.getProperty("QABId"));c=this.get(a.getId(),"tag");b=this.create({type:l.QA_GROUP,parentId:b,tag:c?c+"_qaGroup":""});this.set(a.getId(),"QAGroupId",b);break;case l.GALLERY_POPUP:b=this.create({type:l.GALLERY_FAVORITE_CATEGORY});this.set(a.getId(),"favCategoryId",b);break;case l.GALLERY:this.set(a.getId(),"currentColumnCount",this.get(a.getId(),"maxColumnCount"));break;case l.GALLERY_CATEGORY:this.addEventCallback(a.getId(),
function(b){"categoryMoved"===b.eventType&&(a.setProperty("animation",{shouldAnimate:!0,startId:"",endId:""}),this.manager.move(a,a.getParent(),0))},this);break;case l.QA_GROUP:case l.GALLERY_FAVORITE_CATEGORY:this.addEventCallback(a.getId(),function(b){"itemMoved"===b.eventType&&this.manager.move(this.manager.getById(b.itemId),a,b.newIndex)},this);break;case l.GALLERY_ITEM:case l.TOGGLE_GALLERY_ITEM:this.addEventCallback(a.getId(),function(b){var c;"favButtonPushed"===b.eventType&&(b=a.getProperty("tag"),
c=a.getProperty("actionId"),(c=this.actionService.getAction(c).isFavorite)?this.removeGalleryItemFromFavorites(b,!0,a.getId()):this.addGalleryItemToFavorites(b,!0,a.getId()))},this)}},addGalleryItemToFavorites:function(a,b,c){var g,h,f;b=b?!0:!1;if(f=this._peerNodeByTag(a,this._getRootNodeByType(l.GALLERY_POPUP_ROOT)))h=f.getParent(),a=f.getProperty("actionId"),g=this.actionService.getAction(a).isFavorite,g||(g=h.getParent().getProperty("favCategoryId"),this.create({type:f.getType(),tag:f.getProperty("tag"),
actionId:a,parentId:g,animation:{shouldAnimate:b,startId:c?c:f.getId(),endId:""}}),this.actionService.updateAction(a,{isFavorite:!0}))},removeGalleryItemFromFavorites:function(a,b,c){var g,h,f,d;b=b?!0:!1;this.exists(c)&&(f=this.manager.getById(c));if(a=this._peerNodeByTag(a,this._getRootNodeByType(l.GALLERY_POPUP_ROOT)))if(f=f?f.getParent():a.getParent(),a=a.getProperty("actionId"),g=this.actionService.getAction(a).isFavorite)f.getType()===l.GALLERY_FAVORITE_CATEGORY?(h=f.getId(),d=this.manager.getByProperty("actionId",
a,this.manager.getByProperty("favCategoryId",h,this._getRootNodeByType(l.GALLERY_POPUP_ROOT))[0])[0].getId()):f.getType()===l.GALLERY_CATEGORY&&(h=f.getParent().getProperty("favCategoryId"),d=c),c=this.manager.getByProperty("actionId",a,this.manager.getById(h))[0],c.setProperty("animation",{shouldAnimate:b,startId:"",endId:d}),this.destroy(c.getId()),this.actionService.updateAction(a,{isFavorite:!1})},add:function(a,b,c){var g,h;if(this._getRootNodeByType(l.ORPHAN_ROOT).hasDescendant(a))if(g=this.manager.getById(a),
h=this.manager.getById(b),t.assert(h,"The parentId provided is not valid!"),"FooterCell"===h._type&&-1===p.indexOf(g._type))t.warn(g._type+" is not supported by Footer Cell");else{if(0>c||c>h.getChildren().length)c=h.getChildren().length;this.manager.move(g,h,c);this.get(a,"type")===l.TAB_GROUP&&this.get(b,"type")===l.TOOLSTRIP&&(a=this.get(a,"QAGroupId"),b=this.get(b,"QABId"),this.add(a,b,this.manager.getById(b).getNumberOfChildren()-c))}else t.assert(!1,"The child being added should be an orphan!")},
remove:function(a){var b;this.exists(a)?(b=this.manager.getById(a),this.manager.move(b,this._getRootNodeByType(l.ORPHAN_ROOT)),this.get(a,"type")===l.TAB_GROUP&&this.remove(this.get(a,"QAGroupId"))):t.assert(!1,"The node does not exist!")},destroy:function(a){var b;this.exists(a)?(a=this.manager.getById(a),b=a.getProperty("actionId"),a.destroy(),this._autoGeneratedActions[b]&&0===this.manager.getByProperty("actionId",b).length&&(this.actionService.removeAction(b),delete this._autoGeneratedActions[b])):
t.assert(!1,"The node does not exist!")},get:function(a,b){var c,g;if(this.exists(a))return c=this.manager.getById(a),"type"===b?g=c.getType():m[c.getType()][b].notInAction?(t.assert(c.hasProperty(b),"This is not a valid property!"),g=c.getProperty(b)):s.supportsAction(c.getType())?(c=c.getProperty("actionId"),t.assert(this.actionService.actionHasProperty(c,b),"This is not a valid property!"),g=this.actionService.getAction(c)[b]):t.assert(!1,"This is not a valid property!"),g;t.assert(!1,"The node does not exist!")},
getChildrenIds:function(a){if(this.exists(a))return a=this.manager.getById(a),a.getChildren().map(function(a){return a.getId()});t.assert(!1,"The node does not exist!")},exists:function(a){return this.manager.hasById(a)},indexOf:function(a){var b=-1,c;c=this.manager.getById(a);this.getParentId(a)&&(b=c.getParent().getChildIndex(c));return b},isAnOrphan:function(a){return this._getRootNodeByType(l.ORPHAN_ROOT).hasDescendant(a)},getParentId:function(a){var b;if(!this.exists(a))return t.assert(!1,"A component with the given id does not exist!"),
null;b=this.manager.getById(a);return!this._getRootNodeByType(l.ORPHAN_ROOT).hasChild(a)&&-1===g.indexOf(b.getType())?b.getParent().getId():null},set:function(a,b,c,g){var h,f={};this.exists(a)?(a=this.manager.getById(a),h=m[a.getType()],h[b]&&this._isAValidValue(c,h[b],b)&&(h[b].notInAction?a.setProperty(b,c,g):s.supportsAction(a.getType())?(a=a.getProperty("actionId"),f[b]=c,this.actionService.updateAction(a,f,g)):t.assert(!1,"This is not a valid property!"))):t.assert(!1,"The node does not exist!")},
move:function(a,b,c){a=this.manager.getById(a);t.assert(a,"The node being moved does not exist!");b=this.manager.getById(b);t.assert(b,"The new parent node does not exist!");if(0>c||c>b.getChildren().length)c=b.getChildren().length;this.manager.move(a,b,c)},getAllProperties:function(a){var b,c,g;b=this.manager.getById(a);c=b.getProperties();if(s.supportsAction(b.getType())&&(a=b.getProperty("actionId")))(g=this.actionService.getAction(a))&&Object.keys(g).forEach(d.hitch(this,function(a){m[b.getType()][a]||
delete g[a]})),c=d.mixin(c,g);return c},_supportBase64URL:function(a){var b;Object.keys(h).forEach(d.hitch(this,function(c){c in a&&(b=a[c],"string"===typeof b&&0===b.indexOf("url(")&&(a[c]=this._stripURL(b)))}))},_stripURL:function(a){a=a.slice(4);return a.slice(0,a.length-1)},_verifyProperties:function(a){var b={},c,g,h={viewNodeProps:{},actionNodeProps:{}};t.assert(a.type,"Type needs to be provided for all components!");c=m[a.type];h.type=a.type;this._convertPopupTagToId(a);Object.keys(c).forEach(function(g){this._isAValidValue(a[g],
c[g],g)?b[g]=a[g]:c[g].required?t.error(g+" needs to be provided for component of type "+a.type):b[g]=c[g].defaultValue},this);Object.keys(b).forEach(function(a){c[a].notInAction?h.viewNodeProps[a]=b[a]:h.actionNodeProps[a]=b[a]});h.type===l.GALLERY_POPUP?h.viewNodeProps.galleryItemWidth||(h.viewNodeProps.galleryItemWidth=q[h.viewNodeProps.galleryItemRowCount][h.viewNodeProps.galleryItemTextLineCount]):h.type===l.GALLERY&&(g=this.manager.getById(h.viewNodeProps.galleryPopupId),h.viewNodeProps.galleryItemWidth=
g.getProperty("galleryItemWidth"),h.viewNodeProps.galleryItemRowCount=g.getProperty("galleryItemRowCount"),h.viewNodeProps.galleryItemTextLineCount=g.getProperty("galleryItemTextLineCount"),h.viewNodeProps.scrollToSelection=g.getProperty("scrollToSelection"));return h},_convertPopupTagToId:function(a){var b,c={},g={popupTag:"popupId",galleryPopupTag:"galleryPopupId"};Object.keys(g).forEach(function(h){b=g[h];a[h]&&((h=this.tagToId(a[h]))&&(a[b]=h),c[b]=a[b],c[b]&&this.actionService.updateAction(a.id,
c))},this)},_isAValidValue:function(a,b,c){var g,h=!0;void 0===a||null===a?h=!1:"Array"===b.type?Array.isArray(a)||(t.warn(c+" property default type is "+b.type+" but you have passed "+typeof a),h=!1):(g=b.type.toLowerCase(),typeof a!==g&&(h=!1,a=Array.isArray(a)?"Array":typeof a,t.warn(c+" property default type is "+b.type+" but you have passed "+a)));return h},selectTab:function(a){var b;this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]),b=a.getParent(),this._widgetByPeerNode(b).set("selectedTab",
a.getId()))},selectFirstTabInTabGroup:function(a){if(this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]))&&0<a.getChildren().length)this.set(this.getParentId(a.getId()),"selectedTab",""),this.set(this.getParentId(a.getId()),"selectedTab",a.getChildren()[0].getId())},placeToolstripAt:function(a,b){var c=this.widgetByTag(a);c.placeAt(b);c.startup()},placeToolstripById:function(a,b){var c=this.widgetById(a);c.placeAt(b);c.startup()},widgetByTag:function(a){return e.byId(this.tagToId(a))},
widgetById:function(a){return e.byId(a)},_widgetByPeerNode:function(a){return e.byId(a.getId().toString())},_peerNodeByTag:function(a,b){b=b||this._getRootNodeByType(l.ROOT);return this.manager.getByProperty("tag",a,b)[0]},showPopup:function(a,g){var h=e.byId(a.toString());h&&c.byId(b.get(h.domNode,"widgetid"))&&(-1<r.indexOf(h.type)?(g&&h.set("menuId",g),h.showMenu()):(h.set("popupId",g),s.isAListItemWithPopup(h.get("type"))?h.getParent().hover_timer=h.getParent().defer(function(){h.getParent()._openItemPopup(h)},
h.getParent().popupDelay):h.toggleDropDown()))},addEventCallback:function(a,b,c){var g,h,f,d;t.assert(this.exists(a),"The node does not exist!");g=this.manager.getById(a);h=function(a){delete a.data.type;b.call(c||g.getProperties(),a.data)};g.addEventListener("peerEvent",h,c);s.supportsAction(g.getType())&&(a=g.getProperty("actionId"),f=this.actionService._actionById(a),d=function(a){delete a.data.type;b.call(c||f.getProperties(),a.data)},f.addEventListener("peerEvent",d,c));return{remove:function(){g.removeEventListener("peerEvent",
h,c);s.supportsAction(g.getType())&&f.removeEventListener("peerEvent",d,c)}}},addPropertySetCallback:function(a,b,c){var g,h,f,d=this;t.assert(this.exists(a),"The node does not exist!");h=this.manager.getById(a);f=function(a){a.originator&&"UI"===a.originator.source&&b.call(c||h.getProperties(),{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})};a=function(a,g){g&&"UI"===g.source&&b.call(c,a)};h.addEventListener("propertySet",f,c);s.supportsAction(h.getType())&&(g=h.getProperty("actionId"),
this.actionService.addActionChangeCallback(g,a,c));return{remove:function(){h.removeEventListener("propertySet",f,c);s.supportsAction(h.getType())&&d.actionService.removeActionChangeCallback(g)}}},tagToId:function(a){if(a)return this.tagToPeerNodeIdMap[a]},createPopupsFromConfig:function(a){a.popups.forEach(function(a){this._addConfigItem(a)},this)},createGalleryPopupFromConfig:function(a){this._addConfigItem(a)},addToolstripFromConfig:function(a){this.create(a)},addTabGroupFromConfig:function(a,
b,c){this._addConfigItem(this._findInConfig(a,b),c)},_addConfigItem:function(a,b){e.byId(a.id)?this.add(a.id,a.parentId):(b&&(a.parentId=this.tagToId(b)),a.id=this.create(a),a.children&&this._addChildren(a.id,a.children))},_addChildren:function(a,b){b.forEach(function(b){b.parentId=a;this._addConfigItem(b)},this)},_findInConfig:function(a,b){function c(a,b){a.tag===b?g=a:a.children&&a.children.forEach(function(a){c(a,b)})}var g;c(a,b);return g},cleanup:function(){this.isMATLABDriven||this._getRootNodeByType(l.ROOT).destroy();
this.actionService.destroy();a.cleanup(this._channel)},_getRootNodeByType:function(a){var b=null;if(this._typeToRootNodeMap[a])b=this._typeToRootNodeMap[a];else{var c=this.manager.getByType(a);c&&(b=c[0]);this._typeToRootNodeMap[a]=b}return b},getAllCategoriesInDescendingOrder:function(a){var b=[];a=a.getChildren();for(var c=a.pop();c;)b.push(c),c=a.pop();return b},getGalleryState:function(a){var b,c=[],g;a=this.tagToId(a);g={items:{tags:[],isFavorite:[]},categories:{tags:[]}};if(this.exists(a))return a=
this.manager.getById(a),b=this.manager.getById(a.getProperty("favCategoryId")),b=b.getChildren(),a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){c.push(a)})}),b.concat(c).forEach(function(a){var b;b=a.getProperty("actionId");a=a.getProperty("tag");b=this.actionService.getAction(b).isFavorite;-1===g.items.tags.indexOf(a)&&(g.items.tags.push(a),g.items.isFavorite.push(b))},this),g.categories.tags=a.getChildren().map(function(a){return a.getProperty("tag")}),a.setProperty("state",
g),g;t.assert(!1,"The node does not exist!")},setGalleryState:function(a,b){var c,g,h,f,d,l,m=0,e=this.tagToId(a);this.exists(e)?(c=this.manager.getById(e),f=c.getProperty("favCategoryId"),d=this.manager.getById(f),d.getChildren().forEach(function(a){-1!==b.items.tags.indexOf(a.getProperty("tag"))&&(this.actionService.updateAction(a.getProperty("actionId"),{isFavorite:!1}),a.destroy())},this),b.items.tags.forEach(function(a,h){var d;b.items.isFavorite[h]&&(g=this.manager.getByProperty("tag",a,c),
0<g.length&&(l=g[0].getProperty("actionId"),d=this.create({type:g[0].getType(),tag:a,actionId:l}),this.add(d,f,m),m+=1,this.actionService.updateAction(l,{isFavorite:!0})))},this),b.categories.tags.forEach(function(a,b){h=this.tagToId(a);this.exists(h)&&this.move(h,e,b)},this)):t.assert(!1,"The node does not exist!")},getQABState:function(a){var b=[];a=this.get(this.tagToId(a),"QABId");this.getChildrenIds(a).forEach(function(a){this.getChildrenIds(a).forEach(function(a){var c={};c.tag=this.get(a,"tag");
c.showText=this.get(a,"showText");b.push(c)},this)},this);return b},setQABState:function(a,b,c){this.get(this.tagToId(a),"QABId");if(!Array.isArray(b)&&void 0!==b){var g=[];Object.keys(b).forEach(function(a){var c={};c.tag=a;c.showText=b[a].showText;g.push(c)});b=g}void 0===b||0===b.length?c.forEach(function(a){a=this.create(a);this.set(a,"isInQAB",!0);this._hookupRemoveFromQABListener(a)},this):b.forEach(function(a){var b=a.tag,g=!1,h=!!a.showText;c.forEach(function(a){a.tag===b&&(g=!0,a.showText=
h,a=this.create(a),this.set(a,"isInQAB",!0),this._hookupRemoveFromQABListener(a))},this);if(!g)if(a=b.replace("_qab",""),a=this.tagToId(a),-1<Object.keys(n).indexOf(this.get(a,"type"))&&!1===this.get(a,"isInQAB")){var f=this._createCorrespondingComponentInQAB(a);this.set(f,"showText",h);this.set(a,"isInQAB",!0)}else(a=this.tagToId(b))&&this.set(a,"showText",h)},this)}})})},"MW/uiframework/hashes/ComponentPropertiesHash":function(){define("dojo/_base/lang MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties MW/toolstrip/hashes/componentproperties/containers/QABProperties MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabProperties MW/toolstrip/hashes/componentproperties/containers/ColumnProperties MW/toolstrip/hashes/componentproperties/containers/SectionProperties MW/toolstrip/hashes/componentproperties/containers/PanelProperties MW/toolstrip/hashes/componentproperties/containers/FooterProperties MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/LabelProperties MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/GalleryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I,M,K,J,E,H,S,O,N,Q,Z,R,P,Y,W,$,U,aa,V,X,ba,L){var ca={};Array.prototype.slice.call(arguments).forEach(function(a,b){0<b&&k.mixin(ca,a)});return ca})},"MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/DisplayStateConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c,b){var a={};a[d.TOOLSTRIP]=
k.mixin({displayState:{type:"string",notInAction:!0,defaultValue:e.EXPANDED},QABId:{type:"string",notInAction:!0,defaultValue:""},selectedTab:{type:"String",notInAction:!0,defaultValue:""}},c,b);return a})},"MW/toolstrip/constants/DisplayStateConstants":function(){define([],function(){return{COLLAPSED:"collapsed",EXPANDED:"expanded",EXPANDED_ON_TOP:"expanded_on_top"}})},"MW/toolstrip/hashes/componentproperties/properties/TypeProperty":function(){define(["./VerifyComponentProperty"],function(k){return{type:new k({type:"string",
defaultValue:"",notInAction:!0,required:!0})}})},"MW/toolstrip/hashes/componentproperties/properties/VerifyComponentProperty":function(){define(["mw-log/Log"],function(k){return function(d){d=d||{};"string"!==typeof d.type&&k.error(d.type,"Type property is required");"boolean"!==typeof d.notInAction&&k.error(d.notInAction,"NotInAction property is required");"boolean"!==typeof d.required&&k.error(d.required,"Required property is required");void 0===d.defaultValue&&k.error(d.defaultValue,"DefaultValue  property is required");
return d}})},"MW/toolstrip/hashes/componentproperties/properties/TagProperty":function(){define(["./VerifyComponentProperty"],function(k){return{tag:new k({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/QABProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.QAB]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.QA_GROUP]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.TAB_GROUP]=k.mixin({selectedTab:{type:"string",notInAction:!0,defaultValue:""},QAGroupId:{type:"string",notInAction:!0,
defaultValue:""}},e,c);return b})},"MW/toolstrip/hashes/componentproperties/containers/TabProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/MnemonicProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),function(k,d,e,c,b,a,f,l){var m={};m[d.TAB]=k.mixin({},e,c,b,a,f,l);return m})},"MW/toolstrip/hashes/componentproperties/properties/TitleProperty":function(){define(["./VerifyComponentProperty"],
function(k){return{title:new k({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MnemonicProperty":function(){define(["./VerifyComponentProperty"],function(k){return{mnemonic:new k({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemovableProperty":function(){define(["./VerifyComponentProperty"],function(k){return{removable:new k({type:"boolean",defaultValue:!1,notInAction:!0,
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemoveMessageProperty":function(){define(["./VerifyComponentProperty"],function(k){return{removeMessage:new k({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/ColumnProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/AlignmentConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c,
b){var a={};a[d.COLUMN]=k.mixin({horizontalAlignment:{type:"string",notInAction:!0,defaultValue:e.LEFT},width:{type:"number",notInAction:!0,defaultValue:0},extraColumnGap:{type:"boolean",notInAction:!0,defaultValue:!1}},c,b);return a})},"MW/toolstrip/constants/AlignmentConstants":function(){define([],function(){return{LEFT:"left",RIGHT:"right",CENTER:"center"}})},"MW/toolstrip/hashes/componentproperties/containers/SectionProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants",
"../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(k,d,e,c,b){var a={};a[d.SECTION]=k.mixin({collapsePriority:{type:"number",notInAction:!0,defaultValue:0}},e,c,b);return a})},"MW/toolstrip/hashes/componentproperties/containers/PanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.PANEL]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/containers/FooterProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.FOOTER]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.FOOTER_CELL]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.PUSH_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/properties/IconProperty":function(){define(["./VerifyComponentProperty"],function(k){return{icon:new k({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/QuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],function(k){return{quickAccessIcon:new k({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IconOverrideProperty":function(){define(["./VerifyComponentProperty"],function(k){return{iconOverride:new k({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextProperty":function(){define(["./VerifyComponentProperty"],function(k){return{text:new k({type:"string",defaultValue:"",notInAction:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextOverrideProperty":function(){define(["./VerifyComponentProperty"],
function(k){return{textOverride:new k({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/EnabledProperty":function(){define(["./VerifyComponentProperty"],function(k){return{enabled:new k({type:"boolean",shouldBeFlipped:!0,notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionProperty":function(){define(["./VerifyComponentProperty"],function(k){return{description:new k({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionOverrideProperty":function(){define(["./VerifyComponentProperty"],function(k){return{descriptionOverride:new k({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ShortcutProperty":function(){define(["./VerifyComponentProperty"],function(k){return{shortcut:new k({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},
"MW/toolstrip/hashes/componentproperties/properties/ActionIdProperty":function(){define(["./VerifyComponentProperty"],function(k){return{actionId:new k({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IsInQABProperty":function(){define(["./VerifyComponentProperty"],function(k){return{isInQAB:new k({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){var w={};w[d.TOGGLE_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u);return w})},"MW/toolstrip/hashes/componentproperties/properties/SelectedProperty":function(){define(["./VerifyComponentProperty"],function(k){return{selected:new k({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ButtonGroupNameProperty":function(){define(["./VerifyComponentProperty"],function(k){return{buttonGroupName:new k({type:"string",
defaultValue:"",required:!1,notInAction:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){var z={};z[d.DROP_DOWN_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x);return z})},"MW/toolstrip/hashes/componentproperties/properties/PopupIdProperty":function(){define(["./VerifyComponentProperty"],function(k){return{popupId:new k({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HasDynamicPopupProperty":function(){define(["./VerifyComponentProperty"],function(k){return{hasDynamicPopup:new k({type:"boolean",
notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ErrorTextProperty":function(){define(["./VerifyComponentProperty"],function(k){return{errorText:new k({type:"string",notInAction:!1,defaultValue:"This component is in error state",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/WarningTextProperty":function(){define(["./VerifyComponentProperty"],function(k){return{warningText:new k({type:"string",notInAction:!1,defaultValue:"This component is in Warning state",
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ValidationStateProperty":function(){define(["./VerifyComponentProperty"],function(k){return{validationState:new k({type:"string",notInAction:!1,defaultValue:"normal",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z){var y={};y[d.SPLIT_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z);return y})},"MW/toolstrip/hashes/componentproperties/properties/DropDownAlwaysEnabledProperty":function(){define(["./VerifyComponentProperty"],function(k){return{dropDownAlwaysEnabled:new k({type:"boolean",shouldBeFlipped:!1,notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B){var C={};C[d.TOGGLE_SPLIT_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B);return C})},"MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.COLOR_PICKER_BUTTON]=k.mixin({},{selectedColor:{type:"string",defaultValue:"#ff0000",notInAction:!0,required:!1},closeOnColorSelection:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showPreview:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showRecentColors:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showCustomPicker:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,
r,q);return t})},"MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){var r={};r[d.GRID_PICKER_BUTTON]=k.mixin({},{maxRows:{type:"number",defaultValue:5,notInAction:!0,required:!1},maxColumns:{type:"number",defaultValue:5,notInAction:!0,required:!1},occupancy:{type:"number",defaultValue:0,notInAction:!0,required:!1},fillOrder:{type:"string",defaultValue:"rowMajor",notInAction:!0,required:!1},selection:{type:"Object",defaultValue:{},notInAction:!0,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s);return r})},"MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/ShowTextProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){var s={};s[d.QAB_PUSH_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n);return s})},"MW/toolstrip/hashes/componentproperties/properties/ShowTextProperty":function(){define(["./VerifyComponentProperty"],function(k){return{showText:new k({type:"boolean",defaultValue:!1,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.QAB_DROP_DOWN_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){var u={};u[d.QAB_FLOATING_PANE_DOCK]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t);return u})},"MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.QAB_SPLIT_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.QAB_TOGGLE_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){var x={};x[d.QAB_TOGGLE_SPLIT_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v);return x})},"MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/TextProperty ../properties/ItemsProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.COMBO_BOX]=k.mixin({},{selectedItem:{type:"string",defaultValue:"",notInAction:!1,required:!1},editable:{type:"boolean",notInAction:!1,defaultValue:!1,required:!1},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""}},e,c,b,a,f,l,m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/properties/ItemsProperty":function(){define(["./VerifyComponentProperty"],function(k){return{items:new k({type:"Array",notInAction:!1,
defaultValue:[],required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/PlaceholderTextProperty":function(){define(["./VerifyComponentProperty"],function(k){return{placeholderText:new k({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ItemsProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.LIST]=k.mixin({},{selectedItems:{type:"Array",defaultValue:[],notInAction:!1,required:!1},selectionMode:{type:"string",defaultValue:"single",notInAction:!1,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/properties/CompactProperty":function(){define(["./VerifyComponentProperty"],function(k){return{compact:new k({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/PopupListProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.POPUP_LIST]=k.mixin({},{maxHeight:{type:"number",defaultValue:600,notInAction:!0,required:!1}},e,c);return b})},"MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.POPUP_LIST_PANEL]=k.mixin({},
{maxHeight:{type:"number",defaultValue:100,notInAction:!0,required:!1}},e,c);return b})},"MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(k,d,e,c,b){var a={};a[d.POPUP_LIST_HEADER]=k.mixin({},e,c,b);return a})},"MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.POPUP_LIST_SEPARATOR]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.TEXT_AREA]=k.mixin({},{},e,c,b,a,f,l,m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/properties/EditableProperty":function(){define(["./VerifyComponentProperty"],function(k){return{editable:new k({type:"boolean",notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.TEXT_FIELD]=k.mixin({},{},e,c,b,a,f,l,m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.HORIZONTAL_SLIDER]=k.mixin({},{value:{type:"number",defaultValue:5,notInAction:!1,required:!1},minimum:{type:"number",defaultValue:-10,notInAction:!1,required:!1},maximum:{type:"number",defaultValue:10,notInAction:!1,required:!1},steps:{type:"number",defaultValue:10,notInAction:!1,required:!1},numberOfTicks:{type:"number",defaultValue:10,notInAction:!1,required:!1},labels:{type:"Array",notInAction:!1,required:!1,defaultValue:[]}},e,c,b,a,f,l,
m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/properties/ValueProperty":function(){define(["./VerifyComponentProperty"],function(k){return{value:new k({notInAction:!1,type:"number",defaultValue:5,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MinimumProperty":function(){define(["./VerifyComponentProperty"],function(k){return{minimum:new k({type:"number",notInAction:!1,defaultValue:-20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MaximumProperty":function(){define(["./VerifyComponentProperty"],
function(k){return{maximum:new k({type:"number",notInAction:!1,defaultValue:20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty MW/toolstrip/hashes/listOfNewWidgets".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){var u={};u[d.SPINNER]=k.mixin({},{editable:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1},minorStepSize:{type:"number",defaultValue:5,notInAction:!1,required:!1},majorStepSize:{type:"number",defaultValue:10,notInAction:!1,required:!1},errorText:{type:"string",notInAction:!1,defaultValue:"The value entered is not in range",required:!1}},-1===t.indexOf(d.SPINNER)?{}:{format:{type:"string",defaultValue:"",notInAction:!0,required:!1}},e,c,b,a,f,
l,m,h,g,p,n,s,r,q);return u})},"MW/toolstrip/hashes/listOfNewWidgets":function(){define(["../constants/TypeConstants"],function(k){return[k.LABEL,k.PUSH_BUTTON,k.TOGGLE_BUTTON,k.DROP_DOWN_BUTTON,k.SPLIT_BUTTON,k.TOGGLE_SPLIT_BUTTON,k.TEXT_FIELD,k.TEXT_AREA,k.CHECK_BOX,k.RADIO_BUTTON,k.COMBO_BOX,k.SPINNER,k.LIST,k.LIST_ITEM,k.LIST_ITEM_WITH_CHECKBOX,k.LIST_ITEM_WITH_RADIO_BUTTON,k.LIST_ITEM_WITH_POPUP,k.LIST_ITEM_WITH_TEXTFIELD,k.POPUP_LIST,k.POPUP_LIST_PANEL,k.POPUP_LIST_SEPARATOR,k.POPUP_LIST_HEADER,
k.QAB_PUSH_BUTTON,k.QAB_TOGGLE_BUTTON,k.QAB_DROP_DOWN_BUTTON,k.QAB_SPLIT_BUTTON,k.QAB_TOGGLE_SPLIT_BUTTON,k.COLOR_PICKER_BUTTON,k.GRID_PICKER_BUTTON]})},"MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.RADIO_BUTTON]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.CHECK_BOX]=k.mixin({},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/controls/LabelProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IconProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){var n={};n[d.LABEL]=k.mixin({},e,c,b,a,f,l,m,h,g,p);return n})},"MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(k,d,e,c){var b={};b[d.EMPTY_CONTROL]=k.mixin({},e,c);return b})},"MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h){var g={};g[d.MENUBAR_WRAPPER]=k.mixin({},{},e,c,b,a,f,l,m,h);return g})},"MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h){var g={};g[d.TOOLBAR_WRAPPER]=k.mixin({},e,c,b,a,f,l,m,h);return g})},"MW/toolstrip/hashes/componentproperties/controls/GalleryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/ScrollToSelectionProperty ../properties/HideDisabledItemsProperty ../properties/MnemonicProperty ../properties/OpenIfEmptyProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){b={};b[d.GALLERY]=k.mixin({},{galleryPopupId:{type:"string",notInAction:!0,required:!0},minColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:3},maxColumnCount:{type:"number",notInAction:!0,defaultValue:7},currentColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:7},textOverlay:{type:"string",notInAction:!0,required:!1,defaultValue:""},displayState:{type:"string",notInAction:!0,required:!1,defaultValue:"normal"},shouldRefresh:{type:"boolean",
notInAction:!0,defaultValue:!0,required:!1},enabled:{type:"boolean",shouldBeFlipped:!0,notInAction:!0,defaultValue:!0,required:!1}},e,c,a,f,l,m,h,g,p);return b})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemRowCountProperty":function(){define(["./VerifyComponentProperty"],function(k){return{galleryItemRowCount:new k({type:"number",notInAction:!0,defaultValue:1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemTextLineCountProperty":function(){define(["./VerifyComponentProperty"],
function(k){return{galleryItemTextLineCount:new k({type:"number",notInAction:!0,defaultValue:2,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemWidthProperty":function(){define(["./VerifyComponentProperty"],function(k){return{galleryItemWidth:new k({type:"number",notInAction:!0,defaultValue:0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ScrollToSelectionProperty":function(){define(["./VerifyComponentProperty"],function(k){return{scrollToSelection:new k({type:"boolean",
notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HideDisabledItemsProperty":function(){define(["./VerifyComponentProperty"],function(k){return{hideDisabledItems:new k({type:"boolean",notInAction:!0,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/OpenIfEmptyProperty":function(){define(["./VerifyComponentProperty"],function(k){return{openIfEmpty:new k({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},
"MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/DisplayStateProperty ../properties/ScrollToSelectionProperty dojo/i18n!l10n/nls/toolstrip".split(" "),function(k,d,e,c,b,a,f,l,m,h){var g={};g[d.GALLERY_POPUP]=k.mixin({},
{columnCount:{type:"number",notInAction:!0,required:!1,defaultValue:0},favCategoryId:{type:"string",notInAction:!0,required:!1,defaultValue:""},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""},placeholderText:{type:"string",notInAction:!0,required:!1,defaultValue:h.gallerySearch},showHeader:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0},userCustomizable:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0}},e,c,b,a,f,l,m);return g})},"MW/toolstrip/hashes/componentproperties/properties/DisplayStateProperty":function(){define(["../../../constants/gallery/GalleryViewConstants",
"./VerifyComponentProperty"],function(k,d){return{displayState:new d({type:"string",notInAction:!0,defaultValue:k.ICON,required:!1})}})},"MW/toolstrip/constants/gallery/GalleryViewConstants":function(){define([],function(){return{ICON:"icon_view",LIST:"list_view"}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/DisplayStateProperty ../properties/AnimationProperty".split(" "),
function(k,d,e,c,b,a,f){var l={};l[d.GALLERY_CATEGORY]=k.mixin({},e,c,b,a,f);return l})},"MW/toolstrip/hashes/componentproperties/properties/AnimationProperty":function(){define(["./VerifyComponentProperty"],function(k){return{animation:new k({type:"object",notInAction:!0,defaultValue:{shouldAnimate:!1,startId:"",endId:""},required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty",
"../properties/TagProperty","../properties/DisplayStateProperty"],function(k,d,e,c,b){var a={};a[d.GALLERY_FAVORITE_CATEGORY]=k.mixin({},{title:{type:"string",notInAction:!0,required:!1,defaultValue:"FAVORITES"}},e,c,b);return a})},"MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){var w={};w[d.GALLERY_ITEM]=k.clone(k.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u));w[d.GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return w})},"MW/toolstrip/hashes/componentproperties/properties/ClosePopupOnClickProperty":function(){define(["./VerifyComponentProperty"],function(k){return{closePopupOnClick:new k({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/SelectedProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ButtonGroupNameProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){var x={};x[d.TOGGLE_GALLERY_ITEM]=k.clone(k.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v));x[d.TOGGLE_GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return x})},"MW/toolstrip/hashes/componentproperties/controls/ListItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty ../properties/RemovableProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){var w={};w[d.LIST_ITEM]=k.mixin({},{showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u);return w})},"MW/toolstrip/hashes/componentproperties/properties/ShowDescriptionProperty":function(){define(["./VerifyComponentProperty"],function(k){return{showDescription:new k({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/UseQuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],
function(k){return{useQuickAccessIcon:new k({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.LIST_ITEM_WITH_CHECKBOX]=k.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty ../properties/ButtonGroupNameProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){var t={};t[d.LIST_ITEM_WITH_RADIO_BUTTON]=k.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r,q);return t})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/EditableProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){var q={};q[d.LIST_ITEM_WITH_TEXTFIELD]=k.mixin({},{label:{type:"string",defaultValue:"",notInAction:!1,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r);return q})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/HasDynamicPopupProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){var w={};w[d.LIST_ITEM_WITH_POPUP]=k.mixin({},{popupId:{type:"string",defaultValue:"",notInAction:!1,required:!1},showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1,description:"Using this you can toggle the visibility of the icon on the list item."},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u);return w})},"MW/uiframework/hashes/IconPropertiesSupportingBase64":function(){define({icon:!0,
iconClass:!0,quickAccessIcon:!0})},"MW/uiframework/hashes/ComponentsWithNoParent":function(){define(["../constants/TypeConstants"],function(k){return[k.TOOLSTRIP,k.POPUP_LIST,k.GALLERY_POPUP,k.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/ComponentsSupportedByFooterCell":function(){define(["../constants/TypeConstants"],function(k){return[k.PUSH_BUTTON,k.TOGGLE_BUTTON,k.RADIO_BUTTON,k.TEXT_FIELD,k.LABEL,k.CHECK_BOX]})},"MW/toolstrip/hashes/ComponentsEligibleForQAB":function(){define(["../constants/TypeConstants"],
function(k){var d={};d[k.PUSH_BUTTON]=k.QAB_PUSH_BUTTON;d[k.DROP_DOWN_BUTTON]=k.QAB_DROP_DOWN_BUTTON;d[k.SPLIT_BUTTON]=k.QAB_SPLIT_BUTTON;d[k.TOGGLE_BUTTON]=k.QAB_TOGGLE_BUTTON;d[k.TOGGLE_SPLIT_BUTTON]=k.QAB_TOGGLE_SPLIT_BUTTON;return d})},"MW/toolstrip/ToolstripUtils":function(){define("dijit/registry dojo/_base/kernel dojo/_base/window dojo/dom-geometry dojo/dom-construct ./constants/TypeConstants ./hashes/ComponentsThatDontSupportAction ./hashes/PeerNodeTypesWithNoCorrespondingWidget ./hashes/ComponentsThatSupportAnimation".split(" "),
function(k,d,e,c,b,a,f,l,m){return{isGalleryPopupAttachedWithGallery:function(a){return a.domNode.classList.contains("gallery")},isAPopupList:function(b){return b===a.POPUP_LIST},isAListItemWithPopup:function(b){return b===a.LIST_ITEM_WITH_POPUP},isAMenubarWrapper:function(b){return b===a.MENUBAR_WRAPPER},isAToolbarWrapper:function(b){return b===a.TOOLBAR_WRAPPER},isAColumn:function(b){return b===a.COLUMN},isAPanel:function(b){return b===a.PANEL},supportsAction:function(a){return-1===f.indexOf(a)},
isAFooterCell:function(b){return b===a.FOOTER_CELL},hasNoCorrespondingWidget:function(a){return-1<l.indexOf(a)},supportsAnimation:function(a){return-1<m.indexOf(a)},findParent:function(a,b){for(var c=null,f;a;){f=null;if(a.get("type")===b){c=a;break}a.domNode.parentNode&&(f=a.domNode.parentNode.getAttribute("dijitpopupparent"));a=f?k.byId(f):a.getParent()}return c},findParentToolstrip:function(b){return this.findParent(b,a.TOOLSTRIP)},findParentSection:function(b){return this.findParent(b,a.SECTION)},
getClosestValue:function(a,b){for(var c=-1,f=a.length,d;1<f-c;)d=Math.round((c+f)/2),a[d]<=b?c=d:f=d;a[c]===b&&(f=c);return[a[c],a[f]]},computeWidth:function(a,b,c){return parseInt(this._computeStyle(a,null,b,c).width)},computeHeight:function(a,b,c){return parseInt(this._computeStyle(a,b,null,c).height)},_computeStyle:function(a,c,f,d){null==c&&(c="auto");null==f&&(f="auto");null==d&&(d="");d=-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf((navigator.language||navigator.userLanguage).toLowerCase())?b.create("div",
{"class":"dijitOffScreen",style:'font-size: 13px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+d},e.body()):b.create("div",{"class":"dijitOffScreen",style:'font-size: 11px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+d},e.body());d.style.width=c;d.style.height=f;d.textContent=a;a=window.getComputedStyle(d,null);a={width:a.width,height:a.height};b.destroy(d);return a}}})},"MW/toolstrip/hashes/ComponentsThatDontSupportAction":function(){define(["../constants/TypeConstants"],
function(k){return[k.TOOLSTRIP,k.QAB,k.QA_GROUP,k.TAB_GROUP,k.TAB,k.SECTION,k.COLUMN,k.PANEL,k.EMPTY_CONTROL,k.POPUP_LIST,k.POPUP_LIST_PANEL,k.POPUP_LIST_HEADER,k.POPUP_LIST_SEPARATOR,k.FOOTER,k.FOOTER_CELL,k.GALLERY,k.GALLERY_POPUP,k.GALLERY_CATEGORY,k.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/PeerNodeTypesWithNoCorrespondingWidget":function(){define(["MW/uiframework/constants/TypeConstants"],function(k){return[k.ROOT,k.ORPHAN_ROOT,k.TOOLSTRIP_ROOT,k.POPUP_ROOT,k.QAB_ROOT,"QAGroupRoot",
k.GALLERY_ROOT,k.GALLERY_POPUP_ROOT,k.GALLERY_FAVORITE_CATEGORY_ROOT]})},"MW/toolstrip/hashes/ComponentsThatSupportAnimation":function(){define(["../constants/TypeConstants"],function(k){return[k.GALLERY_FAVORITE_CATEGORY,k.GALLERY_CATEGORY]})},"MW/toolstrip/hashes/DefaultGalleryItemWidths":function(){define([],function(){return{1:{"0":68,1:68,2:68},2:{"0":52,1:102},3:{"0":52,1:98}}})},"MW/uiframework/managers/WidgetManager":function(){define("dojo/aspect dojo/debounce dojo/_base/lang dojo/_base/declare dijit/registry dijit/popup ../constants/TypeConstants ../WidgetFactory ../hashes/ControlEventsHash ../hashes/ComponentPropertiesHash ../hashes/PeerNodeWidgetPropertiesHash ../../toolstrip/hashes/listOfNewWidgets ../../toolstrip/hashes/PeerNodeWidgetEventsHash MW/toolstrip/hashes/ToolstripCollapseTriggers MW/toolstrip/constants/DisplayStateConstants MW/toolstrip/ToolstripUtils mw-log/Log".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){return c(null,{constructor:function(a){var b=this;a=a||{};t.assert(a.modelManager,"Model Manager needs to be passed in!");this._modelManager=a.modelManager;this._openPopups=[];this._galleryRefreshMap={};this._aspects=[k.after(this._modelManager,"onChildAdd",function(a){b.childAddedObserver(a)},!0),k.after(this._modelManager,"onChildDestroy",function(a){b.childDestroyedObserver(a)},!0),k.after(this._modelManager,"onPropertySet",function(a){b.propertySetObserver(a)},
!0),k.after(this._modelManager,"onChildMove",function(a){b.childMovedObserver(a)},!0),k.after(this._modelManager,"onPeerEvent",function(a){b.peerEventObserver(a)},!0),k.after(this._modelManager.actionService,"onActionChange",e.hitch(this,this._onActionChange),!0),k.after(this._modelManager.actionService,"onActionAdd",e.hitch(this,this._onActionAdd),!0),k.after(this._modelManager.actionService,"onPeerEvent",e.hitch(this,this._onActionPeerEvent),!0)]},childAddedObserver:function(a){var c,g,h,l,m,e,
p,n=this;c=a.data.child;g=a.target;q.hasNoCorrespondingWidget(c.getType())||(m=this._getWidgetProperties(c),p=c.getId(),m.id=p.toString(),b.byId(m.id)||(""!==m.tag&&(this._modelManager.tagToPeerNodeIdMap[m.tag]=p),h=this._buildWidget(m,c),l=this._getWidgetForPeerNode(g),h.get("type")===f.GALLERY?(n.refreshGallery(c.getId()),n._modelManager.addEventCallback(c.getId(),d(function(a){"refresh"===a.eventType&&n.refreshGallery(c.getId())},100))):h.get("type")===f.GALLERY_POPUP&&this._modelManager.manager.getByProperty("galleryPopupId",
h.id).forEach(function(a){b.byId(a.getId()).setupGalleryPopupListener(h)}),e=function(){l&&l.addChild(h,a.data.index)},g=c.getProperty("animation"),q.supportsAnimation(a.target.getType())&&g&&!0===g.shouldAnimate?l.animate({type:"childAdd",childWidget:h,startId:g.startId,endId:g.endId,onEnd:function(){e();c.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):e()))},addOutsidePeerModel:function(a,c){var g=this._modelManager.manager.getById(a),h=this._modelManager.manager.getById(c),
f=this._getWidgetProperties(g);f.id=g.getId().toString();g=b.byId(f.id)||this._buildWidget(f,g);(h=this._getWidgetForPeerNode(h))&&h.addChild(g)},removeOutsidePeerModel:function(a){a=this._modelManager.manager.getById(a);a=this._getWidgetForPeerNode(a);var b=a.getParent();b&&b.removeChild(a)},_buildWidget:function(a,b){if(a.type===f.TOOLSTRIP||a.type===f.QA_GROUP)a.enableQABCustomization=this._modelManager.enableQABCustomization;var c=l.create(a),g=this;this._addWatchToWidgetProperties(c,b);this._attachPopupMonitor(c);
this._hookupEvents(c,b);this._listenForToolstripCollapseTrigger(c);this._aspects.push(k.after(c,"removeChild",function(a){g._resetStateRecursive(a)},!0));return c},_listenForToolstripCollapseTrigger:function(a){var b=this,c=s[a.get("type")];c&&(c.events.forEach(function(c){if(-1<p.indexOf(a.type))a.on(n[a.type][c],function(){b._collapseParents(a)});else a.own(k.after(a,c,function(){b._collapseParents(a)}))}),a.watch(function(g){-1<c.properties.indexOf(g)&&b._collapseParents(a)}))},_collapseParents:function(a){this._collapseParentSection(a);
this._collapseParentToolstrip(a)},_collapseParentSection:function(a){(a=q.findParentSection(a))&&a.closePopup()},_collapseParentToolstrip:function(a){var b=q.findParentToolstrip(a);b&&(b.get("displayState")===r.EXPANDED_ON_TOP&&"FooterCell"!==a.getParent().type)&&b.set("displayState",r.COLLAPSED)},_attachPopupMonitor:function(a){var b=this,c;switch(a.get("type")){case f.POPUP_LIST:c=a;break;case f.COMBO_BOX:c=a.dropDown;break;case f.GALLERY_POPUP:c=a;break;case f.SECTION:c=a.getPopup()}c&&(this._aspects.push(k.after(c,
"onOpen",function(){b._onPopupOpen(c)})),this._aspects.push(k.after(c,"onClose",function(){b._onPopupClose()})))},_getWidgetProperties:function(a){var b=this._modelManager.getAllProperties(a.getId()),c,f;Object.keys(b).forEach(function(d){if((c=g[a.getType()])&&c[d])f=h[a.getType()][d],b[c[d]]=f.shouldBeFlipped?!b[d]:e.clone(b[d]),delete b[d]});b.type=a.getType();return b},childDestroyedObserver:function(a){var b,c,g,h,f,d;g=a.data.child;h=a.target;d=g.getId();if(b=this._getWidgetForPeerNode(g))Object.keys(this._modelManager.tagToPeerNodeIdMap).forEach(e.hitch(this,
function(a){this._modelManager.tagToPeerNodeIdMap[a]===d&&delete this._modelManager.tagToPeerNodeIdMap[a]})),c=this._getWidgetForPeerNode(h),f=function(){(q.isAMenubarWrapper(b.get("type"))||q.isAToolbarWrapper(b.get("type")))&&b.getChildren().forEach(function(a){b.removeChild(a)});c&&c.removeChild(b);b.destroyRecursive()},h=g.getProperty("animation"),q.supportsAnimation(a.target.getType())&&h&&!0===h.shouldAnimate?c.animate({type:"childRemove",childWidget:b,startId:h.startId,endId:h.endId,onEnd:function(){f();
g.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):f()},childMovedObserver:function(a){var b,c,g,h,f,d;g=this._getWidgetForPeerNode(a.target);b=this._getWidgetForPeerNode(a.data.oldParent);c=this._getWidgetForPeerNode(a.data.newParent);h=function(){c&&c.addChild(g,a.data.newIndex)};f=function(){b&&b.removeChild(g)};(d=a.target.getProperty("animation"))&&!0===d.shouldAnimate?q.supportsAnimation(a.target.getType())?g.animate({type:"move",oldIndex:a.data.oldIndex,newIndex:a.data.newIndex,
onEnd:function(){f();h();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):q.supportsAnimation(a.data.newParent.getType())?c.animate({type:"childAdd",childWidget:g,startId:d.startId,endId:d.endId,onEnd:function(){f();h();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):q.supportsAnimation(a.data.oldParent.getType())&&b.animate({type:"childRemove",childWidget:g,startId:d.startId,endId:d.endId,onEnd:function(){f();h();a.target.setProperty("animation",
{shouldAnimate:!1,startId:"",endId:""})}}):(f(),h())},propertySetObserver:function(a){var b=this._getWidgetForPeerNode(a.target),c,g,h;b&&("tag"===a.data.key&&(g=b.get("tag"),h=this._modelManager.tagToPeerNodeIdMap[g],delete this._modelManager.tagToPeerNodeIdMap[g],this._modelManager.tagToPeerNodeIdMap[a.data.newValue]=h),this._setWidgetProperty(b,a.data.key,a.data.newValue),"actionId"===a.data.key&&(c=this._getWidgetProperties(a.target),Object.keys(c).forEach(function(g){c=this._getWidgetProperties(a.target);
b.set(g,c[g])},this)))},_getWidgetsWithActionId:function(a){return b.toArray().filter(function(b){return b.actionId===a&&h[b.type]})},_onActionChange:function(a){"id"!==a.key&&this._getWidgetsWithActionId(a.id).forEach(function(b){b._destroyed||this._setWidgetProperty(b,a.key,a.newValue)},this)},_onActionAdd:function(a){if(this._modelManager.isMATLABDriven){var b=this._modelManager.actionService.getAction(a.id),c=Object.keys(b);this._getWidgetsWithActionId(a.id).forEach(function(a){c.forEach(function(c){a._destroyed||
this._setWidgetProperty(a,c,b[c])},this)},this)}},_setWidgetProperty:function(a,b,c){var f=b,d=g[a.get("type")];-1!==Object.keys(h[a.type]).indexOf(b)&&(d&&d[b]&&(f=d[b]),b=h[a.type][b],b.shouldBeFlipped?a.set(f,!c):a.set(f,c))},peerEventObserver:function(a){switch(a.data.eventType){case "placeToolStrip":this._modelManager.placeToolstripById(a.target.getId(),a.data.hostId);break;case "showPopup":this._modelManager.showPopup(a.target.getId(),a.data.popupId);break;case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},
_refreshGalleryFromMATLAB:function(a){this._galleryRefreshMap[a]=this._galleryRefreshMap[a]?this._galleryRefreshMap[a]+1:1;2===this._galleryRefreshMap[a]&&(this.refreshGallery(a),delete this._galleryRefreshMap[a])},_onActionPeerEvent:function(a){switch(a.data.eventType){case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},_addWatchToWidgetProperties:function(a,b){var c,f=this,d,l=g[b.getType()],m=h[b.getType()];a.watch(function(a,g,e){f._modelManager.exists(b.getId())&&(c=a,l&&
l[a]&&(c=l[a]),-1!==Object.keys(m).indexOf(c)&&(d=h[b.getType()][c],d.shouldBeFlipped&&(e=!e),f._modelManager.set(b.getId(),c,e,{source:"UI"})))})},_hookupEvents:function(a,b){function c(f,d){var l="aspect";-1<p.indexOf(h)&&(l="on");f.forEach(function(c){function f(a){var h={};"aspect"===l?h=a||{}:a&&a.mwEventData&&e.mixin(h,a.mwEventData);h.eventType=c;"action"===d?g._modelManager.actionService.executeAction(b.getProperty("actionId"),h):b.dispatchEvent("peerEvent",b,h)}if("aspect"===l)a.own(k.after(a,
c,f,!0));else{var m=c;n[h]&&n[h][c]&&(m=n[h][c]);a.on(m,f)}})}var g=this,h=b.getType(),f=m[h];f&&(c(f.actionEvents,"action"),c(f.componentEvents,"peerNode"))},_getWidgetForPeerNode:function(a){return b.byId(a.getId().toString())},_onPopupClose:function(){this._openPopups.pop();this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},_onPopupOpen:function(a){this._openPopups.push(a);this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},onOpenPopupCountChange:function(a,
b){},isAnyPopupOpen:function(){return 0<a._stack.length&&this._modelManager.exists(a._stack[0].widget.id)},closeAllOpenPopups:function(){this.isAnyPopupOpen()&&a.close()},_resetStateRecursive:function(a){["hovering","active"].forEach(function(b){!0===a.get(b)&&a.set(b,!1)});a.getChildren&&0<a.getChildren().length&&this._resetStateOfChildren(a)},_resetStateOfChildren:function(a){a.getChildren().forEach(function(a){this._resetStateRecursive(a)},this)},refreshGallery:function(a){var c=b.byId(a);if(c){if(this._modelManager.isMATLABDriven){var g=
this._modelManager.get(a,"galleryPopupId");if(g){if(!this._modelManager.manager.hasById(g))return;g=this._modelManager.manager.getById(g);if(this._modelManager.manager.getByType(f.GALLERY_ITEM,g).concat(this._modelManager.manager.getByType(f.TOGGLE_GALLERY_ITEM,g)).some(function(a){return!this._modelManager.actionService.getAction(a.getProperty("actionId"))},this))return}}!1!==c.get("shouldRefresh")&&(g=[],!0===c.get("hideDisabledItems")?(g=this._getUniqueGalleryItems(a,!0),0===g.length&&(g=this._getUniqueGalleryItems(a))):
g=this._getUniqueGalleryItems(a),c.destroyDescendants(),g.forEach(function(a){var b=this._getWidgetProperties(a);a=this._buildWidget(b,a);c.addChild(a)},this),0===g.length&&c.closeDropDown())}},_getUniqueGalleryItems:function(a,b){function c(a){p=!l.some(function(b){return b.getProperty("actionId")===a.getProperty("actionId")});b&&(p=p&&!0===this._modelManager.get(a.getId(),"enabled"));p&&l.push(a)}function g(){for(m=this._modelManager.getAllCategoriesInDescendingOrder(d);0<m.length;)e=m.pop().getChildren(),
e.forEach(c,this)}function h(){for(var a=0,b=l.length,c=null;a<b;){if(!0===this._modelManager.get(l[a].getId(),"selected")){c={peerNode:l[a],index:a};break}a+=1}return c}var f,d,l=[],m,e,p;f=this._modelManager.manager.getById(a);d=this._modelManager.manager.getById(f.getProperty("galleryPopupId"));f=f.getProperty("currentColumnCount")*f.getProperty("galleryItemRowCount");var n=d.getProperty("favCategoryId");this._modelManager.exists(n)&&(l=this._modelManager.manager.getById(n).getChildren());b&&(l=
l.filter(function(a){return!0===this._modelManager.get(a.getId(),"enabled")},this));if(this._modelManager.get(a,"scrollToSelection")){g.call(this);if(n=h.call(this)){var r=n.peerNode.getId(),r=this._modelManager.getParentId(r),r=l.indexOf(this._modelManager.manager.getById(this._modelManager.getChildrenIds(r)[0]));n.index>r+f-1&&(r=n.index-f+1);r+f>l.length&&(r=l.length-f);0>r&&(r=0);return l.splice(r,f)}return l.slice(0,f)}l.length<f&&g.call(this);return l.slice(0,f)},cleanup:function(){this._aspects.forEach(function(a){a.remove()})}})})},
"dojo/debounce":function(){define([],function(){return function(k,d){var e;return function(){e&&clearTimeout(e);var c=this,b=arguments;e=setTimeout(function(){k.apply(c,b)},d)}}})},"MW/uiframework/WidgetFactory":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/WidgetClassHash","mw-log/Log"],function(k,d,e){return{create:function(c){var b;d[c.type]?b=new d[c.type](c):e.error("No corresponding constructor found for the given type!");return b}}})},"MW/toolstrip/hashes/WidgetClassHash":function(){define("../constants/TypeConstants ../widgets/Toolstrip ../widgets/QAB ../widgets/QAGroup ../widgets/TabGroup ../widgets/Tab ../widgets/Section ../widgets/Panel ../widgets/Column ../menu/PopupListPanel ../widgets/Footer ../widgets/FooterCell ../widgets/gallery/Gallery ../widgets/gallery/GalleryPopup ../widgets/gallery/GalleryCategory ../form/PushButton ../form/DropDownButton ../form/SplitButton ../form/ToggleButton ../form/ColorPickerButton ../form/GridPickerButton ../qab/QABPushButton ../qab/QABDropDownButton ../qab/QABSplitButton ../qab/QABToggleButton ../qab/QABToggleSplitButton ../widgets/qabcontrols/QABFloatingPaneDock ../form/ToggleSplitButton ../menu/PopupList ../menu/ListItem ../menu/ListItemWithPopup ../menu/ListItemWithCheckBox ../menu/ListItemWithTextField ../menu/ListItemWithRadioButton ../menu/PopupListSeparator ../menu/PopupListHeader ../form/ComboBox ../form/ListBox ../form/Label ../widgets/EmptyControl ../form/TextField ../form/TextArea ../form/Spinner ../widgets/HorizontalSlider ../form/RadioButton ../form/CheckBox ../widgets/ToolbarWrapper ../widgets/MenubarWrapper ../widgets/gallery/GalleryItem ../widgets/gallery/ToggleGalleryItem".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I,M,K,J,E,H,S,O,N,Q,Z,R,P,Y,W,$,U,aa,V,X,ba){var L={};L[k.TOOLSTRIP]=d;L[k.QAB]=e;L[k.QA_GROUP]=c;L[k.TAB_GROUP]=b;L[k.TAB]=a;L[k.SECTION]=f;L[k.PANEL]=l;L[k.POPUP_LIST_PANEL]=h;L[k.COLUMN]=m;L[k.GALLERY]=n;L[k.GALLERY_POPUP]=s;L[k.GALLERY_CATEGORY]=r;L[k.GALLERY_FAVORITE_CATEGORY]=r;L[k.FOOTER]=g;L[k.FOOTER_CELL]=p;L[k.PUSH_BUTTON]=q;L[k.DROP_DOWN_BUTTON]=t;L[k.SPLIT_BUTTON]=u;L[k.TOGGLE_BUTTON]=w;L[k.COLOR_PICKER_BUTTON]=v;L[k.GRID_PICKER_BUTTON]=
x;L[k.QAB_PUSH_BUTTON]=z;L[k.QAB_DROP_DOWN_BUTTON]=y;L[k.QAB_SPLIT_BUTTON]=B;L[k.QAB_TOGGLE_BUTTON]=C;L[k.QAB_TOGGLE_SPLIT_BUTTON]=A;L[k.QAB_FLOATING_PANE_DOCK]=D;L[k.TOGGLE_SPLIT_BUTTON]=F;L[k.POPUP_LIST]=G;L[k.LIST_ITEM]=I;L[k.LIST_ITEM_WITH_POPUP]=M;L[k.LIST_ITEM_WITH_CHECKBOX]=K;L[k.LIST_ITEM_WITH_TEXTFIELD]=J;L[k.LIST_ITEM_WITH_RADIO_BUTTON]=E;L[k.POPUP_LIST_SEPARATOR]=H;L[k.POPUP_LIST_HEADER]=S;L[k.COMBO_BOX]=O;L[k.LIST]=N;L[k.LABEL]=Q;L[k.EMPTY_CONTROL]=Z;L[k.TEXT_FIELD]=R;L[k.TEXT_AREA]=P;
L[k.SPINNER]=Y;L[k.HORIZONTAL_SLIDER]=W;L[k.RADIO_BUTTON]=$;L[k.CHECK_BOX]=U;L[k.MENUBAR_WRAPPER]=V;L[k.TOOLBAR_WRAPPER]=aa;L[k.GALLERY_ITEM]=X;L[k.TOGGLE_GALLERY_ITEM]=ba;return L})},"MW/toolstrip/widgets/Toolstrip":function(){define("dojo/aspect dojo/on dojo/dom dojo/topic dojo/keys dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/kernel dijit/Viewport dojo/query dojo/dom-geometry ../ToolstripUtils dojo/i18n!l10n/nls/toolstrip dojo/_base/event dijit/registry dijit/popup dojo/text!./templates/Toolstrip.html dijit/_WidgetBase dijit/_Container dijit/_TemplatedMixin ./TabContainer mw-form/PushButton mw-menu/ContextMenu mw-menu/MenuItem mw-menu/MenuSeparator ../hashes/ComponentsEligibleForQAB ../constants/TypeConstants ../constants/DisplayStateConstants ../constants/MiscConstants ./_WidgetMixin mw-event-utils/doubleClickHandler mw-utils/widgetUtils MW/layout/ConfirmationDialog mw-mixins/PreventSelectionMixin MW/uiframework/MnemonicsStates".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I,M,K,J,E,H,S){return a([w,v,x,M,H],{templateString:u,constructor:function(){this._shouldSetSelectedTab=!0;this._previousSelectedChild=null;this._tabGroupListeners={};k.before(this,"addChild",this._beforeAddChild)},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","refuse");var a=this;this.tabContainer=new z({"class":"tabContainer"},this.toolstripTabContainer);this.tabContainer.tablist.onkeydown=
function(){};this._supportingWidgets.push(this.tabContainer);this.own(k.after(this,"placeAt",function(){c.publish("/Toolstrip/toolstripPlaced",{toolstripId:this.id});a.toolstripPlaced();a.resize()}));this.collapseButton=(new y({"class":"collapseButton",icon:"smallCollapse",showText:!1,width:20,height:20})).placeAt(this.collapseButtonContainer);this.collapseButton.on("click",l.hitch(this,this._expandCollapse));this.tabContainer.tablist.tablistWrapper.children[0].dojoClick=!1;this._setTooltipforExpandCollapseButton();
this._supportingWidgets.push(this.collapseButton);this.hostId&&(this.placeAt(this.hostId),this.resize(),this.startup());this.connect(this.tabContainer,"selectChild",function(a){this.set("selectedTab",a.id)});this.own(h.on("resize",l.hitch(this,function(){this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null);this._resizeTimeout=setTimeout(l.hitch(this,function(){this.resize()}),500)})));this.own(d(this.domNode,".dijitTab:click",K.createCallback(function(b){var c=q.getEnclosingWidget(b.target);
a.displayState===G.COLLAPSED?a.set("displayState",G.EXPANDED_ON_TOP):a.displayState===G.EXPANDED_ON_TOP&&S.getCurrentMnemonicsState()!==S.CONTROL_TAB&&a._previousSelectedChild&&e.isDescendant(b.target,a._previousSelectedChild.domNode)&&a.set("displayState",G.COLLAPSED);a._previousSelectedChild=c},function(){a._expandCollapse()})),d(document.body,"click",function(b){a.displayState===G.EXPANDED_ON_TOP&&(!J.isDescendant(b.target,a.domNode)&&b.target!==document.body)&&a.set("displayState",G.COLLAPSED)}));
this._setupContextMenu();this._setLocaleOnDomNode()},_setLocaleOnDomNode:function(){-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf(m.locale)&&this.domNode.classList.add("isCJK")},_setupContextMenu:function(){var a='[id\x3d"'+this.id+'"]',b=function(a){var b=a.target||document.activeElement,c;g("[dijitpopupparent]").some(function(a){return"none"!==a.style.display&&b&&a.contains(b)?(c=a,!0):!1});if(b&&c&&this._findParentNode(b,"id",this.id)){if(a=g('[id\x3d"'+c.id+'"] *'),a.push(c),-1<a.indexOf(b))return a}else return null}.bind(this);
this._contextMenu=new B({willOpenCallback:l.hitch(this,this._updateContextMenu),targetNodes:[a,a+" *",b]});this._contextMenu.domNode.classList.add("mwToolstripPopupContextMenu");this.own(this._contextMenu)},_findParentNode:function(a,b,c){var g=null,h;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(c){if(a.hasAttribute(b)&&a.getAttribute(b)===c){g=a;break}}else{if(a.hasAttribute(b)){g=a;break}if(a.classList.contains(b)){g=a;break}}a=(h=a.getAttribute("dijitpopupparent"))?document.getElementById(h):
a.parentNode}return g},_updateContextMenu:function(a){this._contextMenu.getChildren().forEach(function(a){this._contextMenu.removeChild(a);a.destroyRecursive()},this);var b;if(b=a.target.classList.contains("toolstripComponentWrapper")?q.getEnclosingWidget(a.target.children[0]):q.getEnclosingWidget(a.target))if(("GalleryItem"===b.type||"ToggleGalleryItem"===b.type)&&!0===b.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(b),b.page&&"Tab"===b.page.type&&!0===b.page.get("removable"))this._addRemoveWidgetMenuItemToContextMenu(b.page);
else{for(a=b;a&&"Tab"!==a.type;)a=a.domNode&&a.domNode.parentElement&&a.domNode.parentElement.hasAttribute("dijitpopupparent")?q.byId(a.domNode.parentElement.getAttribute("dijitpopupparent")):a.getParent();a&&!0===a.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(a)}if(this.enableQABCustomization){-1<Object.keys(D).indexOf(b.get("type"))&&!b.get("hasDynamicMenu")&&(a=new C({text:s.addToQAB,tag:"addToQAB",disabled:b.get("isInQAB")}),this._contextMenu.addChild(a),a.on("click",function(){b.set("isInQAB",
!0)}));switch(b.get("type")){case F.QAB_PUSH_BUTTON:case F.QAB_TOGGLE_BUTTON:case F.QAB_SPLIT_BUTTON:case F.QAB_DROP_DOWN_BUTTON:case F.QAB_TOGGLE_SPLIT_BUTTON:!0===b.get("isInQAB")&&(a=new C({text:s.removeFromQAB,tag:"removeFromQAB"}),this._contextMenu.addChild(a),a.on("click",function(){b.set("isInQAB",!1)}));this._setShowHideLabelMenuItem(b);break;case F.QAB_FLOATING_PANE_DOCK:this._setShowHideLabelMenuItem(b)}this._isDescendantOfQAB(b)&&(a=new C({text:s.restoreFactoryControls,tag:"restoreFactoryControls"}),
this._contextMenu.addChild(a),a.on("click",l.hitch(this,function(){var a=new E({title:s.restoreFactoryControlsDialogTitle,message:s.restoreFactoryControlsDialogMessage});a.on("success",l.hitch(this,function(){this._QABWidget.restoreFactoryControls()}));a.open()})))}this._contextMenu.hasChildren()&&this._contextMenu.addChild(new A);a=new C({text:this.get("displayState")!==G.EXPANDED?s.restoreToolstrip:s.minimizeToolstrip,tag:"minimizeRestoreToolstrip"});this._contextMenu.addChild(a);a.on("click",l.hitch(this,
this._expandCollapse))},_setShowHideLabelMenuItem:function(a){var b=new C({text:a.get("showText")?s.hideLabel:s.showLabel,tag:"showHideLabel"});this._contextMenu.addChild(b);b.on("click",function(){a.set("showText",!a.get("showText"))})},_addRemoveWidgetMenuItemToContextMenu:function(a){var c,g=function(c){"keydown"===c.type&&0>[b.ENTER,b.SPACE].indexOf(c.keyCode)||(a._emitRemoveEvent?a._emitRemoveEvent():a.emit("remove"),t.close())};c=a.get("removeMessage");if(!c)switch(a.get("type")){case F.TAB:c=
s.closeWidget.replace(/\$\{0}/g,a.get("title"));break;case F.GALLERY_ITEM:case F.TOGGLE_GALLERY_ITEM:c=s.removeWidget.replace(/\$\{0}/g,a.get("text"))}c=new C({text:c,tag:"removeWidget"});this._contextMenu.addChild(c);c.on("mouseup",g);c.on("keydown",g)},_isDescendantOfQAB:function(a){var b=!1;if(a===this._QABWidget)b=!0;else for(;a&&a.getParent&&a.getParent()!==this;){if(a.getParent()===this._QABWidget){b=!0;break}a=a.getParent()}return b},_getToolstripWidth:function(){return p.getMarginBox(this.domNode).w},
_getTopRightContainerWidth:function(){return p.getMarginBox(this.topRightContainer).w},_getTabsWidth:function(a){var b=0;a.forEach(function(a){b+=p.getMarginBox(a).w});return b},_getTabMargin:function(a){if(0<a.length)return p.getMarginBox(a[0]).w-p.position(a[0]).w},_getTabPadding:function(a){if(0<a.length)return 20},_shrinkTabs:function(a){var b=a.length,c=this,g=this._getTabMargin(a),h=this._getTabPadding(a);a.forEach(function(f,d){a[d].style.width=c._availableWidthForTabs/b-h-g+"px";f.classList.add("noMinWidth")})},
_expandTabs:function(a){var b,c,g=this,h=0,f=a.length,d,l=[],m=this._getTabMargin(a);this._getTabPadding(a);a.forEach(function(b,c){d=n.computeWidth(a[c].textContent);d<I.TAB_WIDTH&&(d=I.TAB_WIDTH);d+=m;h+=d;l.push(d)});h<g._getToolstripWidth()-g._getTopRightContainerWidth()?a.forEach(function(b,c){b.classList.remove("noMinWidth");a[c].style.width="auto"}):a.forEach(function(h,d){b=parseFloat(a[d].style.width);c=b+g._availableWidth/f;c<l[d]?(a[d].style.width=c+"px",h.classList.add("noMinWidth")):
a[d].style.width=l[d]-m+"px"})},_setPreventResizeAttr:function(a){this._ignoreResize=this._doNotResize=a},resize:function(){this.inherited(arguments);if(!this._destroyed&&!this._doNotResize&&(this.tabContainer._started&&this.tabContainer.resize(),this.domNode.parentElement)){var a,b=this,c,h,f=0,d,l,m;a=g("[data-dojo-attach-point\x3d'titleNode,innerDiv,tabContent']",this.domNode);f=this._getTabsWidth(a);m=this._getToolstripWidth();l=this._getTopRightContainerWidth();h={QABContainer:this._getQABWidth(),
logoutContainer:this._getLogoutButtonWidth(),searchContainer:this._getSearchBoxWidth(),tabs:this._getTabsWidth(a)};c=["searchContainer","QABContainer","logoutContainer","tabs"];f+l>m?(d=f+l-m,c.forEach(function(c){l=b._getTopRightContainerWidth();m=b._getToolstripWidth();d=f+l-m;0<d&&("tabs"===c?(b._availableWidthForTabs=m-l,b._shrinkTabs(a)):("searchContainer"===c&&b.searchPopupContainer.classList.remove("dijitOffScreen"),g("."+c,b.domNode)[0].classList.add("dijitOffScreen")))})):(this._availableWidth=
m-(f+l),c.reverse().forEach(function(c){l=b._getTopRightContainerWidth();m=b._getToolstripWidth();f=b._getTabsWidth(a);b._availableWidth=m-(f+l);0<b._availableWidth&&("tabs"===c?b._expandTabs(a):h[c]<b._availableWidth&&(g("."+c,b.domNode)[0].classList.remove("dijitOffScreen"),g("."+c,b.domNode)[0].style.display="inline-block","searchContainer"===c&&b.searchPopupContainer.classList.add("dijitOffScreen")))}))}},_getLogoutButtonWidth:function(){return p.getMarginBox(this.logoutContainer).w},_getQABWidth:function(){return p.getMarginBox(this.QABContainer).w},
_getSearchBoxWidth:function(){return p.getMarginBox(this.searchContainer).w},startup:function(){this.inherited(arguments);this._adjustHostHeight();var a=this.domNode.parentNode;a&&(a.style.zIndex=20);this.tabContainer.startup();this.collapseButton.startup();this._QABWidget&&this._QABWidget.startup()},_expandCollapse:function(){var a=this.displayState;a===G.COLLAPSED||a===G.EXPANDED_ON_TOP?a=G.EXPANDED:a===G.EXPANDED&&(a=G.COLLAPSED);this.set("displayState",a);t.close()},addTab:function(a,b){this._shouldSetSelectedTab=
!1;this.tabContainer.addChild(a,b);this._shouldSetSelectedTab=!0},removeChild:function(a){a.tabs.forEach(function(a){this.removeTab(a)},this);this.inherited(arguments);this.resize();Object.keys(this._tabGroupListeners).forEach(function(a){this._tabGroupListeners[a].forEach(function(a){a.remove()})},this)},_beforeAddChild:function(a,b){var c=b,g=this.getChildren().length;!b&&0!==b&&(c=g);return[a,c]},addChild:function(a,b){var c=0,g=0,h,f;for(h=this.getChildren();c<b;)g+=h[c].tabs.length,c+=1;a.tabs.forEach(function(a,
b){this.addTab(a,g+b)},this);this.inherited(arguments);this.set("selectedTab",a.get("selectedTab"));this.resize();this._removeUnSelectableAttribute();c=a.on("childadded",l.hitch(this,this.resize));h=a.on("childremoved",l.hitch(this,this.resize));f=a.on("childadded",l.hitch(this,this._removeUnSelectableAttribute));this._tabGroupListeners[a.id]=[c,h,f]},_removeUnSelectableAttribute:function(){g(".tabLabel",this.domNode).forEach(function(a){e.setSelectable(a,!0)},this)},_setSelectedTabAttr:function(a){if(this._shouldSetSelectedTab){var b=
q.byId(a.toString());if(b&&(this.selectedTab!==a||!this.tabContainer.selectedChildWidget||this.tabContainer.selectedChildWidget.get("id")!==a))this._set("selectedTab",a),this.selectTab(b),this.getChildren().forEach(function(b){b.tabs.some(function(b){return b.id===a})&&b.set("selectedTab",a)})}},_setDisplayStateAttr:function(a){this._set("displayState",a);this._setTooltipforExpandCollapseButton();this._adjustHostHeight()},_setTooltipforExpandCollapseButton:function(){this.collapseButton&&(this.displayState===
G.COLLAPSED||this.displayState===G.EXPANDED_ON_TOP?this.collapseButton.set("description",s.restoreToolstrip):this.collapseButton.set("description",s.minimizeToolstrip))},_adjustHostHeight:function(){var a,b;if(a=this.domNode.parentElement)switch(b=q.getEnclosingWidget(a.parentElement),this.displayState){case G.COLLAPSED:this.domNode.classList.remove("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="28px";a.style.overflow="hidden";this.collapseButton&&
this.collapseButton.set("icon","smallExpand");break;case G.EXPANDED:this.domNode.classList.add("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="121px";a.style.overflow="hidden";this.collapseButton&&this.collapseButton.set("icon","smallCollapse");this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize();break;case G.EXPANDED_ON_TOP:this.domNode.classList.add("toolstripNotCollapsed"),this.domNode.classList.add("toolstripExpandedOnTop"),
a.style.height="28px",a.style.overflow="visible",this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize()}b&&b.resize&&b.resize()},removeTab:function(a){this._shouldSetSelectedTab=!1;this.tabContainer.removeChild(a);this._shouldSetSelectedTab=!0},selectTab:function(a){this.tabContainer.selectChild(a);this.set("selectedTab",a.id)},_setQABIdAttr:function(a){var b=q.byId(a);b&&(this._QABWidget=b,f.place(b.domNode,this.QABContainer),this._started&&this._QABWidget.startup(),
this.own(b));this._set("QABId",a)},toolstripPlaced:function(){}})})},"MW/toolstrip/widgets/TabContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/layout/TabContainer","dijit/layout/ScrollingTabController"],function(k,d,e,c){return k(e,{postMixInProperties:function(){this.inherited(arguments);this.controllerWidget=k(c,{resize:function(){},onAddChild:function(b,a){var c=new (d.isString(this.buttonWidget)?d.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+b.id,
name:this.id+"_"+b.id,label:b.title,disabled:b.disabled,ownerDocument:this.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir||this.textDir,showLabel:b.showTitle,iconClass:b.iconClass,closeButton:b.closable,title:b.tooltip,page:b});this.addChild(c,a);b.controlButton=c;if(!this._currentChild)this.onSelectChild(b);c=b._wrapper.getAttribute("aria-labelledby")?b._wrapper.getAttribute("aria-labelledby")+" "+c.id:c.id;b._wrapper.removeAttribute("aria-label");b._wrapper.setAttribute("aria-labelledby",
c)}})},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var b=this.selectedChildWidget;b&&this._showChild(b)}(b=this.selectedChildWidget)&&b.resize()}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(k,d,e,c,b){return d("dijit.layout.TabContainer",e,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(a){var b=this.baseClass+"-tabs"+(this.doLayout?
"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?k.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":b,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},a)},postMixInProperties:function(){this.inherited(arguments);
this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?b:c)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),function(k,d,e,c,b,a,f,l){return k("dijit.layout._TabContainerBase",[b,f],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:l,
postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&c.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||d.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(d.add(this.domNode,"dijitTabContainerNested"),d.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),
d.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),d.add(this.containerNode,"dijitTabPaneWrapperNested")):d.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){d.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var b=this.selectedChildWidget;if(this.doLayout){var c=this.tabPosition.replace(/-h/,
"");this.tablist.region=c;c=[this.tablist,{domNode:this.tablistSpacer,region:c},{domNode:this.containerNode,region:"center"}];a.layoutChildren(this.domNode,this._contentBox,c);this._containerContentBox=a.marginBox2contentBox(this.containerNode,c[2]);b&&b.resize&&b.resize(this._containerContentBox)}else{if(this.tablist.resize){c=this.tablist.domNode.style;c.width="0";var g=e.getContentBox(this.domNode).w;c.width="";this.tablist.resize({w:g})}b&&b.resize&&b.resize()}}},destroy:function(a){this.tablist&&
this.tablist.destroy(a);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){a("dijit-legacy-requires")&&m(0,function(){require(["dijit/layout/StackController"])});e=e("dijit.layout.StackContainer",s,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",
buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();k.forEach(a,this._setupChild,this);this.persist?this.selectedChildWidget=p.byId(d(this.id+"_selectedChild")):k.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var b=this.selectedChildWidget;!b&&
a[0]&&(b=this.selectedChildWidget=a[0],b.selected=!0);h.publish(this.id+"-startup",{children:a,selected:b,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var c=a.domNode,g=b.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),h=a["aria-label"]||a.title||a.label;h&&g.setAttribute("aria-label",
h);b.place(c,g);a._wrapper=g;this.inherited(arguments);"none"==c.style.display&&(c.style.display="block");a.domNode.removeAttribute("title")},addChild:function(a,b){this.inherited(arguments);this._started&&(h.publish(this.id+"-addChild",a,b),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var c=k.indexOf(this.getChildren(),a);this.inherited(arguments);b.destroy(a._wrapper);delete a._wrapper;this._started&&h.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===
a&&(this.selectedChildWidget=void 0,this._started)){var g=this.getChildren();g.length&&this.selectChild(g[Math.max(c-1,0)])}this._started&&this.layout()}},selectChild:function(a,b){var c;a=p.byId(a);this.selectedChildWidget!=a&&(c=this._transition(a,this.selectedChildWidget,b),this._set("selectedChildWidget",a),h.publish(this.id+"-selectChild",a,this._focused),this.persist&&d(this.id+"_selectedChild",this.selectedChildWidget.id));return g(c||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=
this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=k.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(a){h.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;
a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&c.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&c.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){if(!a.onClose||a.onClose(this,a))this.removeChild(a),
a.destroyRecursive()},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;k.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});e.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(n,e.ChildWidgetProperties);return e})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(k,d){k.cookie=function(e,c,b){var a=
document.cookie,f;if(1==arguments.length)f=(f=a.match(RegExp("(?:^|; )"+d.escapeString(e)+"\x3d([^;]*)")))?decodeURIComponent(f[1]):void 0;else{b=b||{};a=b.expires;if("number"==typeof a){var l=new Date;l.setTime(l.getTime()+864E5*a);a=b.expires=l}a&&a.toUTCString&&(b.expires=a.toUTCString());c=encodeURIComponent(c);var a=e+"\x3d"+c,m;for(m in b)a+="; "+m,l=b[m],!0!==l&&(a+="\x3d"+l);document.cookie=a}return f};k.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return k.cookie})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(k,d,e,c,b,a,f,l,m){return a("dijit.layout._LayoutWidget",[d,e,c],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,
_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(b.on("resize",k.hitch(this,"resize")))}},resize:function(a,b){var c=this.domNode;a&&l.setMarginBox(c,a);var f=b||{};k.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=k.mixin(l.getMarginBox(c),f);var d=m.getComputedStyle(c),e=l.getMarginExtents(c,
d),q=l.getBorderExtents(c,d),f=this._borderBox={w:f.w-(e.w+q.w),h:f.h-(e.h+q.h)},e=l.getPadExtents(c,d);this._contentBox={l:m.toPixelValue(c,d.paddingLeft),t:m.toPixelValue(c,d.paddingTop),w:f.w-e.w,h:f.h-e.h};this.layout()},layout:function(){},_setupChild:function(a){f.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){f.remove(a.domNode,this.baseClass+
"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n){function s(){}function r(a){return function(b,c,g,h){return b&&"string"==typeof c&&b[c]==s?b.on(c.substring(2).toLowerCase(),
f.hitch(g,h)):a.apply(e,arguments)}}k.around(e,"connect",r);a.connect&&k.around(a,"connect",r);k=c("dijit._Widget",[g,p,n],{onClick:s,onDblClick:s,onKeyDown:s,onKeyPress:s,onKeyUp:s,onMouseDown:s,onMouseMove:s,onMouseOut:s,onMouseOver:s,onMouseLeave:s,onMouseEnter:s,onMouseUp:s,constructor:function(a){this._toConnect={};for(var b in a)this[b]===s&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,
this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===s?e.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(b,c){a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(b,c)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){a.deprecated(this.declaredClass+
"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?l("[widgetId]",this.containerNode).map(h.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&m(0,function(){require(["dijit/_base"])});return k})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(k,d,e,c,b,a){k=c("dijit._OnDijitClickMixin",
null,{connect:function(b,c,d){return this.inherited(arguments,[b,"ondijitclick"==c?a:c,d])}});k.a11yclick=a;return k})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(k,d,e,c,b){var a=b.doc.documentElement;b=c("ie");var f=c("trident"),l=c("opera"),m=Math.floor,h=c("ff"),g=k.boxModel.replace(/-/,""),l={dj_quirks:c("quirks"),dj_opera:l,dj_khtml:c("khtml"),dj_webkit:c("webkit"),dj_safari:c("safari"),dj_chrome:c("chrome"),dj_edge:c("edge"),
dj_gecko:c("mozilla"),dj_ios:c("ios"),dj_android:c("android")};b&&(l.dj_ie=!0,l["dj_ie"+m(b)]=!0,l.dj_iequirks=c("quirks"));f&&(l.dj_trident=!0,l["dj_trident"+m(f)]=!0);h&&(l["dj_ff"+m(h)]=!0);l["dj_"+g]=!0;var p="",n;for(n in l)l[n]&&(p+=n+" ");a.className=d.trim(a.className+" "+p);e(function(){if(!k.isBodyLtr()){var b="dj_rtl dijitRtl "+p.replace(/ /g,"-rtl ");a.className=d.trim(a.className+" "+b+"dj_rtl dijitRtl "+p.replace(/ /g,"-rtl "))}});return c})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(k,d,e,c){e(function(){d("highcontrast")&&k.add(c.body(),"dijit_a11y")});return d})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(k,d,e,c,b,a,f){b.add("highcontrast",function(){var a=f.doc.createElement("div");try{a.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(d.blankGif||
k.toUrl("./resources/blank.gif"))+'");';f.body().appendChild(a);var m=c.getComputedStyle(a),h=m.backgroundImage;return m.borderTopColor==m.borderRightColor||h&&("none"==h||"url(invalid-url:)"==h)}catch(g){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+g.toString()),!1}finally{8>=b("ie")?a.outerHTML="":f.body().removeChild(a)}});a(function(){b("highcontrast")&&e.add(f.body(),"dj_a11y")});return b})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(k,d,e,c,b){function a(a,c){var h=a.resize?a.resize(c):e.setMarginBox(a.domNode,c);h?b.mixin(a,h):(b.mixin(a,e.getMarginBox(a.domNode)),b.mixin(a,c))}var f={marginBox2contentBox:function(a,b){var h=c.getComputedStyle(a),g=e.getMarginExtents(a,h),f=e.getPadBorderExtents(a,h);return{l:c.toPixelValue(a,h.paddingLeft),t:c.toPixelValue(a,h.paddingTop),w:b.w-(g.w+f.w),h:b.h-(g.h+f.h)}},layoutChildren:function(c,f,h,g,e){f=
b.mixin({},f);d.add(c,"dijitLayoutContainer");h=k.filter(h,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(k.filter(h,function(a){return"center"==a.region||"client"==a.layoutAlign}));k.forEach(h,function(b){var c=b.domNode,h=b.region||b.layoutAlign;if(!h)throw Error("No region setting for "+b.id);var l=c.style;l.left=f.l+"px";l.top=f.t+"px";l.position="absolute";d.add(c,"dijitAlign"+(h.substring(0,1).toUpperCase()+h.substring(1)));c={};g&&g==b.id&&(c["top"==b.region||"bottom"==
b.region?"h":"w"]=e);"leading"==h&&(h=b.isLeftToRight()?"left":"right");"trailing"==h&&(h=b.isLeftToRight()?"right":"left");"top"==h||"bottom"==h?(c.w=f.w,a(b,c),f.h-=b.h,"top"==h?f.t+=b.h:l.top=f.t+f.h+"px"):"left"==h||"right"==h?(c.h=f.h,a(b,c),f.w-=b.w,"left"==h?f.l+=b.w:l.left=f.l+f.w+"px"):("client"==h||"center"==h)&&a(b,f)})}};b.setObject("dijit.layout.utils",f);return f})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){b=k("dijit.layout._TabButton",l.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:p,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);d.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(b){this._set("closeButton",b);c.toggle(this.domNode,"dijitClosable",
b);this.closeNode.style.display=b?"":"none";b&&(b=a.getLocalization("dijit","common"),this.closeNode&&e.set(this.closeNode,"title",b.itemClose))},_setDisabledAttr:function(b){this.inherited(arguments);if(this.closeNode)if(b)e.remove(this.closeNode,"title");else{var c=a.getLocalization("dijit","common");e.set(this.closeNode,"title",c.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=f.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});k=k("dijit.layout.TabController",l,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:b,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var b=new h({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return c.contains(a,"dijitClosable")&&
!c.contains(a,"dijitTabDisabled")}});this.own(b);var f=a.getLocalization("dijit","common"),d=this;b.addChild(new g({label:f.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=m.byNode(this.getParent().currentTarget);d.onCloseButtonClick(a.page)}}))}});k.TabButton=b;return k})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){c=d("dijit.layout._StackButton",s,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});d=d("dijit.layout.StackController",[g,p,n],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:c,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return h.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(l.subscribe(this.containerId+"-startup",a.hitch(this,"onStartup")),l.subscribe(this.containerId+"-addChild",a.hitch(this,"onAddChild")),l.subscribe(this.containerId+"-removeChild",a.hitch(this,"onRemoveChild")),l.subscribe(this.containerId+"-selectChild",a.hitch(this,"onSelectChild")),l.subscribe(this.containerId+"-containerKeyDown",a.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(f(this.containerNode,"click",
a.hitch(this,function(a){var b=h.getEnclosingWidget(a.target);if(b!=this.containerNode&&!b.disabled&&b.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(e.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(b.page);break}else if(a==b.domNode){this.onButtonClick(b.page);break}})))},onStartup:function(b){this.textDir=b.textDir;k.forEach(b.children,this.onAddChild,this);if(b.selected)this.onSelectChild(b.selected);var c=h.byId(this.containerId).containerNode,g=a.hitch(this,"pane2button");
b={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var d=function(a,b){return f(c,"attrmodified-"+a,function(a){var c=g(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},l;for(l in b)this.own(d(l,b[l]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(b,c){var g=new (a.isString(this.buttonWidget)?a.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+b.id,name:this.id+"_"+b.id,label:b.title,disabled:b.disabled,ownerDocument:this.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir||this.textDir,showLabel:b.showTitle,iconClass:b.iconClass,closeButton:b.closable,title:b.tooltip,page:b});this.addChild(g,c);b.controlButton=g;if(!this._currentChild)this.onSelectChild(b);g=b._wrapper.getAttribute("aria-labelledby")?b._wrapper.getAttribute("aria-labelledby")+" "+g.id:g.id;b._wrapper.removeAttribute("aria-label");b._wrapper.setAttribute("aria-labelledby",
g)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var b=this.pane2button(this._currentChild.id);b.set("checked",!1);b.focusNode.setAttribute("tabIndex","-1")}b=this.pane2button(a.id);b.set("checked",!0);this._currentChild=a;b.focusNode.setAttribute("tabIndex","0");h.byId(this.containerId)}},onButtonClick:function(a){var b=this.pane2button(a.id);
m.focus(b.focusNode);this._currentChild&&this._currentChild.id===a.id&&b.set("checked",!0);h.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){h.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&m.focus(a.focusNode||a.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),c=k.indexOf(b,this.pane2button(this._currentChild.id)),g=b[c],h;do c=
(c+(a?1:b.length-1))%b.length,h=b[c];while(h.disabled&&h!=g);return h},onkeydown:function(a,c){if(!this.disabled&&!a.altKey){var g=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case b.LEFT_ARROW:case b.UP_ARROW:a._djpage||(g=!1);break;case b.PAGE_UP:a.ctrlKey&&(g=!1);break;case b.RIGHT_ARROW:case b.DOWN_ARROW:a._djpage||(g=!0);break;case b.PAGE_DOWN:a.ctrlKey&&(g=!0);break;case b.HOME:for(var h=this.getChildren(),f=0;f<h.length;f++){var d=h[f];if(!d.disabled){this.onButtonClick(d.page);break}}a.stopPropagation();
a.preventDefault();break;case b.END:h=this.getChildren();for(f=h.length-1;0<=f;f--)if(d=h[f],!d.disabled){this.onButtonClick(d.page);break}a.stopPropagation();a.preventDefault();break;case b.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==b.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case b.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==g&&(this.onButtonClick(this.adjacent(g).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});d.StackButton=c;return d})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin","../_mw/utils/deprecation"],function(k,d,e,c,b){b.deprecated({deprecated:{module:"dijit/form/ToggleButton"},replacement:{module:"mw-form/ToggleButton"},geckNumber:1352405});return k("dijit.form.ToggleButton",[e,c],{baseClass:"dijitToggleButton",
setChecked:function(a){d.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../_mw/utils/deprecation ../a11yclick".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){g.deprecated({deprecated:{module:"dijit/form/Button"},replacement:{module:"mw-form/PushButton"},
geckNumber:1352405});c("dijit-legacy-requires")&&f(0,function(){k(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return d("dijit.form.Button",[l,m],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:h,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&
!this.label&&(this.label=a.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(a){this.containerNode&&e.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},onLabelSet:function(){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=a.trim(this.containerNode.innerText||
this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(k,d,e,c,b,a,f,l){d("dijit-legacy-requires")&&c(0,function(){require(["dijit/form/_FormValueWidget"])});return k("dijit.form._FormWidget",[b,f,a,l],{setDisabled:function(a){e.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",
a)},setValue:function(a){e.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!d("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return d("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?e.set(this.focusNode,"disabled",a):this.focusNode.setAttribute("aria-disabled",a?"true":"false");this.valueNode&&
e.set(this.valueNode,"disabled",a);a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",k.forEach(b.isArray(a)?a:[a],function(a){a=this[a];l("webkit")||h.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(f(this.focusNode,
"focus",function(){d.remove();c.remove()}))[0],h=l("pointer-events")?"pointerup":l("MSPointer")?"MSPointerUp":l("touch-events")?"touchend, mouseup":"mouseup",d=this.own(f(this.ownerDocumentBody,h,b.hitch(this,function(a){d.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){m.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=c.get(this.domNode,
"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,
this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},
"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(k,d,e,c){return k("dijit.form._ButtonMixin",null,{label:"",type:"button",__onClick:function(b){b.stopPropagation();b.preventDefault();this.disabled||this.valueNode.click(b);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var a=b.defaultPrevented;if(!a&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=
this.domNode;f.parentNode;f=f.parentNode){var d=c.byNode(f);if(d&&"function"==typeof d._onSubmit){d._onSubmit(b);b.preventDefault();a=!0;break}}return!a},postCreate:function(){this.inherited(arguments);d.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b;this.onLabelSet()},onLabelSet:function(){}})})},"dijit/_mw/utils/deprecation":function(){define(["dojo/_base/config"],function(k){var d={warn:function(c){console&&
console.warn&&console.warn(c)},error:function(c){console&&console.error&&console.error(c)}},e={deprecated:function(c){var b,a;if((k.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c))a=window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",c.deprecated&&(b+=c.deprecated.module,c.deprecated.method&&(b+="."+c.deprecated.method+"()"),b+="."),c.replacement&&(b+=" Use "+c.replacement.module,c.replacement.method&&(b+="."+c.replacement.method+
"()"),b+=" instead."),c.removalVersion&&(b+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(b+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),c.additionalInformation&&(b+=" "+c.additionalInformation),d[a](b)},_isConfigValid:function(c){var b=!!c.deprecated&&"object"===typeof c.deprecated&&c.deprecated.hasOwnProperty("module");c.replacement&&(b=b&&"object"===typeof c.replacement&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(b=
b&&"number"===typeof c.geckNumber);b||d.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(e,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return e})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(k,d){return k("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",
_onClick:function(d){var c=this.checked;this._set("checked",!c);var b=this.inherited(arguments);this.set("checked",b?this.checked:c);return b},_setCheckedAttr:function(e,c){this._set("checked",e);var b=this.focusNode||this.domNode;this._created&&d.get(b,"checked")!=!!e&&d.set(b,"checked",!!e);b.setAttribute(this._aria_attr,String(e));this._handleOnChange(e,c)},postCreate:function(){this.inherited(arguments);var d=this.focusNode||this.domNode;this.checked&&d.setAttribute("checked","checked");void 0===
this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){g("dijit-legacy-requires")&&q(0,function(){k(["dijit/MenuItem",
"dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return e("dijit.Menu",r,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):d.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return n.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||
a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=c.byId(a,this.ownerDocument);var g;if("iframe"==a.tagName.toLowerCase()){var f=a;g=this._iframeContentWindow(f);g=p.body(g.document)}else g=a==p.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var d={node:a,iframe:f};b.set(a,"_dijitMenu"+this.id,
this._bindings.push(d));var e=m.hitch(this,function(a){var b=this.selector,c=b?function(a){return h.selector(b,a)}:function(a){return a},g=this;return[h(a,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<g._lastKeyDown+500||g._scheduleOpen(this,f,{x:a.pageX,y:a.pageY},a.target)}),h(a,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==l.F10||g.leftClickToOpen&&a.keyCode==l.SPACE)a.stopPropagation(),a.preventDefault(),
g._scheduleOpen(this,f,null,a.target),g._lastKeyDown=(new Date).getTime()})]});d.connects=g?e(g):[];f&&(d.onloadHandler=m.hitch(this,function(){var a=this._iframeContentWindow(f),a=p.body(a.document);d.connects=e(a)}),f.addEventListener?f.addEventListener("load",d.onloadHandler,!1):f.attachEvent("onload",d.onloadHandler))},unBindDomNode:function(a){var g;try{g=c.byId(a,this.ownerDocument)}catch(h){return}a="_dijitMenu"+this.id;if(g&&b.has(g,a)){for(var f=b.get(g,a)-1,d=this._bindings[f],l;l=d.connects.pop();)l.remove();
(l=d.iframe)&&(l.removeEventListener?l.removeEventListener("load",d.onloadHandler,!1):l.detachEvent("onload",d.onloadHandler));b.remove(g,a);delete this._bindings[f]}},_scheduleOpen:function(a,b,c,g){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:g,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(b){function h(){q.refocus&&k&&k.focus();s.close(q)}var d=b.target,l=b.iframe,m=b.coords,e=!m;this.currentTarget=b.delegatedTarget;
if(m){if(l){b=a.position(l,!0);var d=this._iframeContentWindow(l),d=a.docScroll(d.document),p=f.getComputedStyle(l),n=f.toPixelValue,r=(g("ie")&&g("quirks")?0:n(l,p.paddingLeft))+(g("ie")&&g("quirks")?n(l,p.borderLeftWidth):0),l=(g("ie")&&g("quirks")?0:n(l,p.paddingTop))+(g("ie")&&g("quirks")?n(l,p.borderTopWidth):0);m.x+=b.x+r-d.x;m.y+=b.y+l-d.y}}else m=a.position(d,!0),m.x+=10,m.y+=10;var q=this,l=this._focusManager.get("prevNode");b=this._focusManager.get("curNode");var k=!b||c.isDescendant(b,
this.domNode)?l:b;s.open({popup:this,x:m.x,y:m.y,onExecute:h,onCancel:h,orient:this.isLeftToRight()?"L":"R"});this.focus();e||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);s.close(this)}},destroy:function(){d.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(k,
d,e,c){return k("dijit.DropDownMenu",c,{templateString:e,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(b){this._moveToPopup(b);b.stopPropagation();b.preventDefault()},_onLeftArrow:function(b){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else b.stopPropagation(),b.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){return d("dijit._MenuBase",[p,r,s,n],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){b.toggle(this.domNode,"dijitMenuActive",a);b.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=g.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var b=this,c="string"==typeof this.childSelector?this.childSelector:a.hitch(this,"childSelector");this.own(l(this.containerNode,l.selector(c,f.enter),function(){b.onItemHover(g.byNode(this))}),l(this.containerNode,l.selector(c,f.leave),function(){b.onItemUnhover(g.byNode(this))}),l(this.containerNode,l.selector(c,h),function(a){b.onItemClick(g.byNode(this),a);a.stopPropagation()}),
l(this.containerNode,l.selector(c,"focusin"),function(){b._onItemFocus(g.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,g){this.inherited(arguments);if(a&&(-1==g||a.popup&&1==g))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(b,c){if(b!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var g=b.popup;g.parentMenu=this;this.own(this._mouseoverHandle=l.once(g.domNode,"mouseover",a.hitch(this,"_onPopupHover")));var h=this;b._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){c&&
h.focusChild(b);h._cleanUp()},onExecute:a.hitch(this,"_cleanUp",!0),onClose:function(){h._mouseoverHandle&&(h._mouseoverHandle.remove(),delete h._mouseoverHandle)}},c);this.currentPopupItem=b}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(c.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return d("dijit._KeyNavContainer",[m,h,l],{connectKeyNavHandlers:function(c,h){var f=this._keyNavCodes={},d=a.hitch(this,"focusPrev"),l=a.hitch(this,"focusNext");k.forEach(c,function(a){f[a]=d});k.forEach(h,function(a){f[a]=l});f[b.HOME]=a.hitch(this,"focusFirstChild");f[b.END]=a.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){c.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);k.forEach(this.getChildren(),
a.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
f.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(k,d,e,c,b,a,f,l){return d("dijit._KeyNavMixin",l,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);e.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var d=this._keyNavCodes={};d[c.HOME]=b.hitch(this,"focusFirstChild");d[c.END]=b.hitch(this,
"focusLastChild");d[this.isLeftToRight()?c.LEFT_ARROW:c.RIGHT_ARROW]=b.hitch(this,"_onLeftArrow");d[this.isLeftToRight()?c.RIGHT_ARROW:c.LEFT_ARROW]=b.hitch(this,"_onRightArrow");d[c.UP_ARROW]=b.hitch(this,"_onUpArrow");d[c.DOWN_ARROW]=b.hitch(this,"_onDownArrow")}var h=this,d="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(a(this.domNode,"keypress",b.hitch(this,"_onContainerKeypress")),a(this.domNode,"keydown",b.hitch(this,"_onContainerKeydown")),a(this.domNode,
"focus",b.hitch(this,"_onContainerFocus")),a(this.containerNode,a.selector(d,"focusin"),function(a){h._onChildFocus(f.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},
focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"))},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){e.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){e.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex",
"-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,b,c,f){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,b){var c=a.domNode,c=(a.label||(c.focusNode?
c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&c==b?-1:0},_onContainerKeydown:function(a){var b=this._keyNavCodes[a.keyCode];b?(b(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode==c.SPACE&&(this._searchTimer&&!a.ctrlKey&&!a.altKey&&!a.metaKey)&&(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))},_onContainerKeypress:function(a){a.charCode<=c.SPACE||(a.ctrlKey||
a.altKey||a.metaKey)||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase()))},_keyboardSearch:function(a,c){var g=null,f,d=0;b.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=c;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;f=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var b=this.focusedChild||
null;if(1==a||!b)if(b=this._getNextFocusableChild(b,1),!b)return;a=b;do{var l=this._keyboardSearchCompare(b,f);l&&0==d++&&(g=b);if(-1==l){d=-1;break}b=this._getNextFocusableChild(b,1)}while(b&&b!=a)})();this.onKeyboardSearch(g,a,f,d)},_onChildBlur:function(){},_getNextFocusableChild:function(a,b){var c=a;do{if(a)a=this._getNext(a,b);else if(a=this[0<b?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(a,b){if(a)for(a=a.domNode;a;)if((a=a[0>b?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=f.byNode(a);if(c)return c}return null}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){return k("dijit.MenuItem",[l,m,h,g],{templateString:p,baseClass:"dijitMenuItem",
label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c,g=a;"object"===typeof g&&(g=g.label||g.value);"string"===typeof g&&(c=g.search(/{\S}/),0<=c?(b=g.charAt(c+1),a=g.substr(0,c),g=g.substr(c+3),c=a+b+g,a=a+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+g):c=g,this.domNode.setAttribute("aria-label",c+" "+this.accelKey));this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",
disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);e.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&e.set(this.accelKeyNode,"id",this.id+"_accel");d.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==a("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(b){}},_setSelected:function(a){c.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,e.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){p=d("dijit.layout.ScrollingTabController",[s,q],{baseClass:"dijitTabController dijitScrollingTabController",templateString:p,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",e.add(a,"tabStrip-disabled"));e.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);b.set(this.domNode,"visibility","");this._postStartup=!0;this.own(l(this.containerNode,"attrmodified-label, attrmodified-iconclass",f.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,c){this.inherited(arguments);b.set(this.containerNode,"width",b.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=m("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=c.getMarginSize(a).w,!0;b.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var c=this._getTabsWidth();a=a||b.get(this.scrollNode,"width");return 0<c&&a<c},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=r.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;c.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";r.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>h("ie")||h("trident")&&h("quirks")||h("webkit")?this.scrollNode.scrollLeft:b.get(this.containerNode,"width")-b.get(this.scrollNode,"width")+(h("trident")||h("edge")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>h("ie")||h("trident")&&h("quirks")||h("webkit"))return a;var c=b.get(this.containerNode,"width")-b.get(this.scrollNode,"width");return(h("trident")||
h("edge")?-1:1)*(a-c)},onSelectChild:function(a,c){var g=this.pane2button(a.id);if(g){var h=g.domNode;if(h!=this._selectedTab&&(this._selectedTab=h,this._postResize)){var f=this._getScroll();f>h.offsetLeft||f+b.get(this.scrollNode,"width")<h.offsetLeft+b.get(h,"width")?(h=this.createSmoothScroll(),c&&(h.onEnd=function(){g.focus()}),h.play()):c&&g.focus()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),c=b.get(this.scrollNode,"width"),g=b.get(this.containerNode,"width")-
c,h=this._getTabsWidth();if(a.length&&h>c)return{min:this.isLeftToRight()?0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-c:g};a=this.isLeftToRight()?0:g;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,c=b.get(this.scrollNode,"width"),g=this._getScrollBounds(),a=a.offsetLeft+b.get(a,"width")/2-c/2;return a=Math.min(Math.max(a,g.min),g.max)},createSmoothScroll:function(b){if(0<arguments.length){var c=
this._getScrollBounds();b=Math.min(Math.max(b,c.min),c.max)}else b=this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var g=this,h=this.scrollNode,f=new a.Animation({beforeBegin:function(){this.curve&&delete this.curve;var c=h.scrollLeft,d=g._convertToScrollLeft(b);f.curve=new a._Line(c,d)},onAnimate:function(a){h.scrollLeft=a}});this._anim=f;this._setButtonClass(b);return f},_getBtnNode:function(a){for(a=a.target;a&&!e.contains(a,"tabStripButton");)a=a.parentNode;
return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,c){if(!c||!e.contains(c,"dijitTabDisabled")){var g=0.75*b.get(this.scrollNode,"width")*a,g=this._getScroll()+g;this._setButtonClass(g);this.createSmoothScroll(g).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});n=d("dijit.layout._ScrollingTabControllerButtonMixin",
null,{baseClass:"dijitTab tabStripButton",templateString:n,tabIndex:"",isFocusable:function(){return!1}});d("dijit.layout._ScrollingTabControllerButton",[w,n]);d("dijit.layout._ScrollingTabControllerMenuButton",[w,v,n],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new t({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=g.byId(this.containerId);k.forEach(b.getChildren(),function(a){var c=
new u({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return p})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect",
"dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(k,d,e,c,b){return e("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var a=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);b.parse(a,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,
scope:"dojo"}).then(c.hitch(this,function(a){this._startupWidgets=a;for(var b=0;b<a.length;b++)this._processTemplateNode(a[b],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(a,b,c){return b(a,"dojoType")||b(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){k.forEach(this._startupWidgets,function(a){a&&(!a._started&&a.startup)&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(k,
d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){function t(a){return eval("("+a+")")}function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<v){var b=a._nameCaseMap={},g;for(g in c)"_"!==g.charAt(0)&&(b[g.toLowerCase()]=g);b._extendCnt=v}return b}function w(a,b){b||(b=k);var c=b._dojoParserCtorMap||(b._dojoParserCtorMap={}),g=a.join();if(!c[g]){for(var h=[],f=0,d=a.length;f<d;f++){var l=a[f];h[h.length]=c[l]=c[l]||e.getObject(l)||~l.indexOf("/")&&b(l)}f=h.shift();c[g]=h.length?f.createSubclass?f.createSubclass(h):
f.extend.apply(f,h):f}return c[g]}new Date("X");var v=0;m.after(e,"extend",function(){v++},!0);var x={_clearCache:function(){v++;_ctorMap={}},_functionFromScript:function(a,b){var g="",h="",f=a.getAttribute(b+"args")||a.getAttribute("args"),d=a.getAttribute("with"),f=(f||"").split(/\s*,\s*/);d&&d.length&&c.forEach(d.split(/\s*,\s*/),function(a){g+="with("+a+"){";h+="}"});return new Function(f,g+a.innerHTML+h)},instantiate:function(a,b,g){b=b||{};g=g||{};var h=(g.scope||d._scopeName)+"Type",f="data-"+
(g.scope||d._scopeName)+"-",l=f+"type",m=f+"mixins",e=[];c.forEach(a,function(a){var c=h in b?b[h]:a.getAttribute(l)||a.getAttribute(h);if(c){var g=a.getAttribute(m),c=g?[c].concat(g.split(/\s*,\s*/)):[c];e.push({node:a,types:c})}});return this._instantiate(e,b,g)},_instantiate:function(a,b,g,f){function d(a){!b._started&&!g.noStart&&c.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=c.map(a,function(a){var c=a.ctor||w(a.types,g.contextRequire);if(!c)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(c,a.node,b,g,a.scripts,a.inherited)},this);return f?h(a).then(d):d(a)},construct:function(a,b,h,f,p,q){function k(a){S&&e.setObject(S,a);for(E=0;E<R.length;E++)m[R[E].advice||"after"](a,R[E].method,e.hitch(a,R[E].func),!0);for(E=0;E<P.length;E++)P[E].call(a);for(E=0;E<Y.length;E++)a.watch(Y[E].prop,Y[E].func);for(E=0;E<W.length;E++)r(a,W[E].event,W[E].func);return a}var x=a&&a.prototype;f=f||{};var v={};f.defaults&&e.mixin(v,f.defaults);q&&e.mixin(v,q);var w;
n("dom-attributes-explicit")?w=b.attributes:n("dom-attributes-specified-flag")?w=c.filter(b.attributes,function(a){return a.specified}):(q=(/^input$|^img$/i.test(b.nodeName)?b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=c.map(q.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var K=f.scope||d._scopeName;
q="data-"+K+"-";var J={};"dojo"!==K&&(J[q+"props"]="data-dojo-props",J[q+"type"]="data-dojo-type",J[q+"mixins"]="data-dojo-mixins",J[K+"type"]="dojotype",J[q+"id"]="data-dojo-id");for(var E=0,H,K=[],S,O;H=w[E++];){var N=H.name,Q=N.toLowerCase();H=H.value;switch(J[Q]||Q){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":O=H;break;case "data-dojo-id":case "jsid":S=H;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=H;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=
H;break;case "class":v["class"]=b.className;break;case "style":v.style=b.style&&b.style.cssText;break;default:if(N in x||(N=u(a)[Q]||N),N in x)switch(typeof x[N]){case "string":v[N]=H;break;case "number":v[N]=H.length?Number(H):NaN;break;case "boolean":v[N]="false"!=H.toLowerCase();break;case "function":""===H||-1!=H.search(/[^\w\.]+/i)?v[N]=new Function(H):v[N]=e.getObject(H,!1)||new Function(H);K.push(N);break;default:Q=x[N],v[N]=Q&&"length"in Q?H?H.split(/\s*,\s*/):[]:Q instanceof Date?""==H?new Date(""):
"now"==H?new Date:g.fromISOString(H):Q instanceof l?d.baseUrl+H:t(H)}else v[N]=H}}for(w=0;w<K.length;w++)J=K[w].toLowerCase(),b.removeAttribute(J),b[J]=null;if(O)try{O=t.call(f.propsThis,"{"+O+"}"),e.mixin(v,O)}catch(Z){throw Error(Z.toString()+" in data-dojo-props\x3d'"+O+"'");}e.mixin(v,h);p||(p=a&&(a._noScript||x._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",b));var R=[],P=[],Y=[],W=[];if(p)for(E=0;E<p.length;E++)J=p[E],b.removeChild(J),h=J.getAttribute(q+"event")||J.getAttribute("event"),f=
J.getAttribute(q+"prop"),O=J.getAttribute(q+"method"),K=J.getAttribute(q+"advice"),w=J.getAttribute("type"),J=this._functionFromScript(J,q),h?"dojo/connect"==w?R.push({method:h,func:J}):"dojo/on"==w?W.push({event:h,func:J}):v[h]=J:"dojo/aspect"==w?R.push({method:O,advice:K,func:J}):"dojo/watch"==w?Y.push({prop:f,func:J}):P.push(J);a=(p=a.markupFactory||x.markupFactory)?p(v,b,a):new a(v,b);return a.then?a.then(k):k(a)},scan:function(a,b){function g(a){if(!a.inherited){a.inherited={};var b=a.node,c=
g(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(q)||c.textDir},h;for(h in b)b[h]&&(a.inherited[h]=b[h])}return a.inherited}var h=[],f=[],l={},m=(b.scope||d._scopeName)+"Type",e="data-"+(b.scope||d._scopeName)+"-",r=e+"type",q=e+"textdir",e=e+"mixins",s=a.firstChild,t=b.inherited;if(!t){var u=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&u(a.parentNode,b)},t={dir:u(a,"dir"),lang:u(a,"lang"),textDir:u(a,q)},x;for(x in t)t[x]||
delete t[x]}for(var t={inherited:t},v,O;;)if(s)if(1!=s.nodeType)s=s.nextSibling;else if(v&&"script"==s.nodeName.toLowerCase())(N=s.getAttribute("type"))&&/^dojo\/\w/i.test(N)&&v.push(s),s=s.nextSibling;else if(O)s=s.nextSibling;else{var N=s.getAttribute(r)||s.getAttribute(m);x=s.firstChild;if(!N&&(!x||3==x.nodeType&&!x.nextSibling))s=s.nextSibling;else{O=null;if(N){var Q=s.getAttribute(e);v=Q?[N].concat(Q.split(/\s*,\s*/)):[N];try{O=w(v,b.contextRequire)}catch(Z){}O||c.forEach(v,function(a){~a.indexOf("/")&&
!l[a]&&(l[a]=!0,f[f.length]=a)});Q=O&&!O.prototype._noScript?[]:null;t={types:v,ctor:O,parent:t,node:s,scripts:Q};t.inherited=g(t);h.push(t)}else t={node:s,scripts:v,parent:t};v=Q;O=s.stopParser||O&&O.prototype.stopParser&&!b.template;s=x}}else{if(!t||!t.node)break;s=t.node.nextSibling;O=!1;t=t.parent;v=t.scripts}var R=new p;f.length?(n("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+f.join(", ")),(b.contextRequire||k)(f,function(){R.resolve(c.filter(h,function(a){if(!a.ctor)try{a.ctor=
w(a.types,b.contextRequire)}catch(c){}for(var g=a.parent;g&&!g.types;)g=g.parent;var h=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(h&&h.stopParser&&!b.template);a.instantiate=!g||g.instantiate&&g.instantiateChildren;return a.instantiate}))})):R.resolve(h);return R.promise},_require:function(a,b){var c=t("{"+a.innerHTML+"}"),g=[],h=[],f=new p,d=b&&b.contextRequire||k,l;for(l in c)g.push(l),h.push(c[l]);d(h,function(){for(var a=0;a<g.length;a++)e.setObject(g[a],arguments[a]);f.resolve(arguments)});
return f.promise},_scanAmd:function(a,b){var c=new p,g=c.promise;c.resolve(!0);var h=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){g=g.then(function(){return h._require(a,b)});a.parentNode.removeChild(a)});return g},parse:function(b,c){b&&("string"!=typeof b&&!("nodeType"in b))&&(c=b,b=c.rootNode);var g=b?a.byId(b):f.body();c=c||{};var h=c.template?{template:!0}:{},d=[],l=this,m=this._scanAmd(g,c).then(function(){return l.scan(g,c)}).then(function(a){return l._instantiate(a,h,c,!0)}).then(function(a){return d=
d.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});e.mixin(d,m);return d}};d.parser=x;b.parseOnLoad&&q(100,x,"parse");return x})},"dojo/_base/url":function(){define(["./kernel"],function(k){var d=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,e=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,c=function(){for(var b=arguments,a=[b[0]],f=1;f<b.length;f++)if(b[f]){var l=new c(b[f]+""),a=new c(a[0]+"");if(""==l.path&&!l.scheme&&
!l.authority&&!l.query)null!=l.fragment&&(a.fragment=l.fragment),l=a;else if(!l.scheme&&(l.scheme=a.scheme,!l.authority&&(l.authority=a.authority,"/"!=l.path.charAt(0)))){for(var a=(a.path.substring(0,a.path.lastIndexOf("/")+1)+l.path).split("/"),m=0;m<a.length;m++)"."==a[m]?m==a.length-1?a[m]="":(a.splice(m,1),m--):0<m&&(!(1==m&&""==a[0])&&".."==a[m]&&".."!=a[m-1])&&(m==a.length-1?(a.splice(m,1),a[m-1]=""):(a.splice(m-1,2),m-=2));l.path=a.join("/")}a=[];l.scheme&&a.push(l.scheme,":");l.authority&&
a.push("//",l.authority);a.push(l.path);l.query&&a.push("?",l.query);l.fragment&&a.push("#",l.fragment)}this.uri=a.join("");b=this.uri.match(d);this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(e),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};c.prototype.toString=function(){return this.uri};return k._Url=c})},
"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(k,d){var e={};k.setObject("dojo.date.stamp",e);e.fromISOString=function(c,b){e._isoRegExp||(e._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var a=e._isoRegExp.exec(c),f=null;if(a){a.shift();a[1]&&a[1]--;a[6]&&(a[6]*=1E3);b&&(b=new Date(b),d.forEach(d.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return b["get"+
a]()}),function(b,c){a[c]=a[c]||b}));f=new Date(a[0]||1970,a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0);100>a[0]&&f.setFullYear(a[0]||1970);var l=0,m=a[7]&&a[7].charAt(0);"Z"!=m&&(l=60*(a[8]||0)+(Number(a[9])||0),"-"!=m&&(l*=-1));m&&(l-=f.getTimezoneOffset());l&&f.setTime(f.getTime()+6E4*l)}return f};e.toISOString=function(c,b){var a=function(a){return 10>a?"0"+a:a};b=b||{};var f=[],d=b.zulu?"getUTC":"get",m="";"time"!=b.selector&&(m=c[d+"FullYear"](),m=["0000".substr((m+"").length)+m,a(c[d+"Month"]()+
1),a(c[d+"Date"]())].join("-"));f.push(m);if("date"!=b.selector){m=[a(c[d+"Hours"]()),a(c[d+"Minutes"]()),a(c[d+"Seconds"]())].join(":");d=c[d+"Milliseconds"]();b.milliseconds&&(m+="."+(100>d?"0":"")+a(d));if(b.zulu)m+="Z";else if("time"!=b.selector)var d=c.getTimezoneOffset(),h=Math.abs(d),m=m+((0<d?"-":"+")+a(Math.floor(h/60))+":"+a(h%60));f.push(m)}return f.join("T")};return e})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return k("dijit._HasDropDown",q,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(g.once(this.ownerDocument,p.release,h.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(c){var g=this.dropDown,h=!1;if(c&&this._opened){var f=a.position(this._buttonNode,!0);if(!(c.pageX>=f.x&&c.pageX<=f.x+f.w)||!(c.pageY>=f.y&&c.pageY<=f.y+f.h)){for(f=c.target;f&&!h;)b.contains(f,"dijitPopup")?h=!0:f=f.parentNode;if(h){f=c.target;if(g.onItemClick){for(var d;f&&!(d=n.byNode(f));)f=f.parentNode;if(d&&d.onClick&&d.getParent)d.getParent().onItemClick(d,c)}return}}}if(this._opened){if(g.focus&&(!1!==g.autoFocus||"mouseup"==c.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){g.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(g(this._buttonNode,p.press,h.hitch(this,"_onDropDownMouseDown")),g(this._buttonNode,"click",h.hitch(this,"_onDropDownClick")),g(a,"keydown",h.hitch(this,"_onKey")),g(a,"keyup",h.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),a.preventDefault();else if(b&&this._opened&&a.keyCode==m.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==m.DOWN_ARROW||(a.keyCode==m.ENTER||a.keyCode==m.SPACE&&(!this._searchTimer||
a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(h.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=
new d,b=h.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var g=this.dropDown,f=g.domNode,d=this._aroundNode||this.domNode,l=this,m=r.open({parent:this,popup:g,around:d,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){l.closeDropDown(!0)},onCancel:function(){l.closeDropDown(!0)},
onClose:function(){c.set(l._popupStateNode,"popupActive",!1);b.remove(l._popupStateNode,"dijitHasDropDownOpen");l._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&d.offsetWidth>g._popupWrapper.offsetWidth){var d=d.offsetWidth-g._popupWrapper.offsetWidth,e={w:g.domNode.offsetWidth+d};this._origStyle=f.style.cssText;h.isFunction(g.resize)?g.resize(e):a.setMarginBox(f,e);"R"==m.corner[1]&&(g._popupWrapper.style.left=g._popupWrapper.style.left.replace("px","")-d+"px")}c.set(this._popupStateNode,
"popupActive","true");b.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",g.id);"presentation"!==f.getAttribute("role")&&!f.getAttribute("aria-labelledby")&&f.setAttribute("aria-labelledby",this.id);return m},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded",
"false"),a&&this.focus&&this.focus(),r.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,delete this._origStyle)}})})},"mw-form/PushButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PushButton.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){return k(v.validate([e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w]),{baseClass:"mwWidget mwPushButton",templateString:x,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/HorizontalAlignmentMixin":function(){define(["dojo/_base/declare"],function(k){var d=["left","center","right"],e={};Object.keys(d).forEach(function(c){e[d[c]]="mwHorizontalAlignment"+(d[c].charAt(0).toUpperCase()+d[c].slice(1))});return k(null,{horizontalAlignment:"center",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwHorizontalAlignmentMixin")},_setHorizontalAlignmentAttr:function(c){if(-1===
d.indexOf(c))throw Error("'Vertical alignment' property expects '' one of these values: "+d);this._applyHorizontalAlignmentClass(c);this._set("horizontalAlignment",c)},_applyHorizontalAlignmentClass:function(c){var b;b=this.get("horizontalAlignment");(b=e[b])&&this.domNode.classList.remove(b);this.domNode.classList.add(e[c])}})})},"mw-mixins/property/IconAlignmentMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/IconMixin"],function(k,
d,e,c){k=k(null,{CLASS_NAME_PREFIX:"mwIconAlignment",constructor:function(){this.ICON_ALIGNMENT_CONFIGURATION={top:{className:this.CLASS_NAME_PREFIX+"Top",textNodeLocation:"after"},right:{className:this.CLASS_NAME_PREFIX+"Right",textNodeLocation:"before"},bottom:{className:this.CLASS_NAME_PREFIX+"Bottom",textNodeLocation:"before"},left:{className:this.CLASS_NAME_PREFIX+"Left",textNodeLocation:"after"}}},iconAlignment:"left",_supportedValues:["top","right","bottom","left"],postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwIconAlignmentMixin")},_setIconAlignmentAttr:function(b){if(!(this.get("iconAlignment")===b&&this._started)){if(-1===this._supportedValues.indexOf(b))throw Error("'iconAlignment' property expects one of these values: "+this._supportedValues);var a=this.ICON_ALIGNMENT_CONFIGURATION[this.get("iconAlignment")].className;this.domNode.classList.remove(a);this.domNode.classList.add(this.ICON_ALIGNMENT_CONFIGURATION[b].className);d.place(this.textNode,this.iconNode,this.ICON_ALIGNMENT_CONFIGURATION[b].textNodeLocation);
this._set("iconAlignment",b)}}});k._dependencies=[{mixin:e,orderDependent:!1},{mixin:c,orderDependent:!1}];return k})},"mw-mixins/property/SizeMixin":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(k,d){return d(null,{width:"auto",height:"auto",_allowedValues:["auto"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwSizeMixin");this.on("updatelayout",k.hitch(this,this._updateLayout))},startup:function(){this.inherited(arguments);this._updateLayout()},
_updateLayout:function(){this._setWidthAttr(this.get("width"));this._setHeightAttr(this.get("height"))},_setWidthAttr:function(d){this._setSize("width",d)},_setHeightAttr:function(d){this._setSize("height",d)},_validateSizeInput:function(d){if(!("string"===typeof d&&"auto"===d||"number"===typeof d&&0<d))throw Error(" Property should either be 'auto' or a positive integer");},_setSize:function(d,c){this._validateSizeInput(c);this._set(d,c);if(this._started){var b="",b=0<=this._allowedValues.indexOf(c)?
c:this._getAdjustedSize(d,c,this.domNode);this.domNode.style[d]=b}},_getAdjustedSize:function(d,c,b){return c+"px"}})})},"mw-mixins/property/VerticalAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/SizeMixin"],function(k,d){var e=["top","middle","bottom"],c={};Object.keys(e).forEach(function(a){c[e[a]]="mwVerticalAlignment"+(e[a].charAt(0).toUpperCase()+e[a].slice(1))});var b=k(null,{verticalAlignment:"middle",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwVerticalAlignmentMixin")},
_setVerticalAlignmentAttr:function(a){if(-1===e.indexOf(a))throw Error("'Vertical alignment' property expects '' one of these values: "+e[a]);this._applyVerticalAlignmentClass(a);this._set("verticalAlignment",a)},_applyVerticalAlignmentClass:function(a){var b;b=this.get("verticalAlignment");(b=c[b])&&this.domNode.classList.remove(b);this.domNode.classList.add(c[a])}});b._dependencies=[{mixin:d,orderDependent:!0}];return b})},"mw-mixins/IconAndTextSizingMixin":function(){define(["dojo/_base/declare",
"dojo/dom-style","mw-mixins/property/SizeMixin"],function(k,d,e){k=k(null,{_paddingAndBorder:6,_setSize:function(c,b){this.inherited(arguments);if(this._started){var a="";"auto"===b?this._setSpecialSizeOnAdditionalNodes(c,"none"):(a=this._getAdjustedSize(c,b,this.domNode),this._setSpecialSizeOnAdditionalNodes(c,parseInt(a)-this._paddingAndBorder+"px"));this.contentWrapperNode.style[c]="100%"}},_setSpecialSizeOnAdditionalNodes:function(c,b){"width"===c?this.iconAndTextContainerNode.style.maxWidth=
b:"height"===c&&(this.textNode.style.maxHeight=b)}});k._dependencies=[{mixin:e,orderDependent:!0}];return k})},"MW/toolstrip/constants/MiscConstants":function(){define([],function(){return{DO_NOT_DISPLAY:"ToolstripDoNotDisplay",TAB_WIDTH:102}})},"MW/toolstrip/widgets/_WidgetMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{postCreate:function(){this.inherited(arguments);this._addDataAttribute("tag");this._addDataAttribute("type")},_addDataAttribute:function(d,e){e=e||this[d];
this.domNode&&this.domNode.setAttribute("data-"+d,e)},_setTagAttr:function(d){this._addDataAttribute("tag",d);this._set("tag",d)},_setTypeAttr:function(d){this._addDataAttribute("type",d);this._set("type",d)}})})},"mw-event-utils/doubleClickHandler":function(){define({createCallback:function(k,d,e){var c=0,b;void 0===e&&(e=200);return function(a){c+=1;1===c?b=setTimeout(function(){c=0;k(a)},e):2===c&&(clearTimeout(b),c=0,a.syntheticEvent||d(a))}}})},"MW/layout/ConfirmationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/has dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ConfirmationDialog.html mw-dialog-utils/DialogUtils dojo/i18n!l10n/nls/confirmationDialog".split(" "),
function(k,d,e,c,b,a,f,l,m){var h=["warning","question"],g=function(a,b){this.emit(a.name);b.onClose()},p={question:{icon:"icon_dialog_question_32",buttons:[{name:"failure",label:m.no},{name:"success",label:m.yes}]},warning:{icon:"icon_dialog_warning_32",buttons:[{name:"failure",label:m.cancel},{name:"success",label:m.ok}]}};c("mac")&&Object.keys(p).forEach(function(a){p[a].buttons.reverse()});return k([b,a],{baseClass:"mwConfirmationDialog",templateString:f,title:"I am the Title",message:"I am the message.",
type:"warning",postCreate:function(){this.inherited(arguments);e.add(this.iconNode,p[this.type].icon);this.messageNode.textContent=this.message},_setTypeAttr:function(a){if(-1===h.indexOf(a))throw Error("The 'type' property can only be one of: "+h);this._checkAndSetProperty("type",a)},_setTitleAttr:function(a){this._checkAndSetProperty("title",a)},_setMessageAttr:function(a){this._checkAndSetProperty("message",a)},_checkAndSetProperty:function(a,b){if(this._created)throw Error("The '"+a+"' can only be set during construction!");
this._set(a,b)},open:function(){var a=p[this.type].buttons;a.forEach(function(a){a.buttonHandler={handler:d.hitch(this,g)}},this);l.displayModalDialog(this,this.title,a,{dialogClass:"mwConfirmationDialogContainer"})}})})},"mw-dialog-utils/DialogUtils":function(){define("dijit/_Widget dijit/form/Button dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on ./DialogDisplayManager mw-log/Log mw-utils/Utils dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){s.deprecated({deprecated:{module:"MW/dialog/DialogUtils"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});var r={dismiss:function(a,b){b.close()}},q=e(k,{constructor:function(a){a=a||{};a.message=a.message||"This space intentionally left blank";a.buttons=a.buttons||{name:"ok",label:this._getLocalizedName("ok"),buttonHandler:{handler:"dismiss"}};a.options=a.options||{};c.isArray(a.buttons)||(a.buttons=[a.buttons])},buildRendering:function(){this.inherited(arguments);
this._setDialogOptions(this.options);this._addMessage(this.message);this._addButtons(this.buttons)},startup:function(){c.isFunction(this.message.startup)&&this.message.startup();this.buttonWidgets.forEach(function(a){a.startup()})},destroy:function(){m.emit(this.domNode,"restorefocus",{bubbles:!0});this.inherited(arguments);if(this.message&&c.isFunction(this.message.onClose))this.message.onClose()},destroyRecursive:function(){this.inherited(arguments);delete this.message;this.buttonWidgets&&delete this.buttonWidgets},
_setDialogOptions:function(c){a.add(this.domNode,c.dialogClass||"messageDialog");c&&c["data-test-id"]&&b.set(this.domNode,"data-test-id",c["data-test-id"])},_addMessage:function(a){c.isString(a)?(b.set(this.domNode,"innerHTML",a),l.set(this.domNode,"whiteSpace","pre-line")):c.isFunction(a.placeAt)?a.placeAt(this.domNode,"first"):f.place(a,this.domNode,"first")},_addButtons:function(a){this.buttonWidgets=[];"none"!==this.buttons.toString().toLowerCase()&&(this.buttonContainer=this._createButtons(a),
f.place(this.buttonContainer,this.domNode,"last"))},_createButtons:function(a){var c=f.create("div",{"class":"buttonContainer"});a=this._convertButtonsToNewFormat(a);a.forEach(function(a){var g=this._createButton(a);a["data-testid"]&&b.set(g.domNode,"data-testid",a["data-testid"]);g.placeAt(c,"last");this.buttonWidgets.push(g)},this);return c},_convertButtonsToNewFormat:function(a){var b=[],c;a.forEach(function(a){var h;if(!a.name||!a.buttonHandler||!a.buttonHandler.handler){g.warn("buttons format is deprecated: "+
a+' expected format: {name: "ok", label: "OK", buttonHandler: {handler: function(){}, scope:}}');c={};for(h in a)a.hasOwnProperty(h)&&(c.name=h,c.buttonHandler={},c.buttonHandler.handler=a[h]);b.push(c)}else b.push(a)});return b},_createButton:function(a){var b=a.label||this._getLocalizedName(a.name);a=this._getHandlerFunction(a);return new d({label:b,onClick:a})},_getLocalizedName:function(a){return c.getObject(a,!1,n)||a},_getHandlerFunction:function(a){var b=a.buttonHandler.handler,g=a.buttonHandler.scope,
h;if(c.isString(b))if(r.hasOwnProperty(b))h=r[b];else throw Error("Unknown button handler: "+h);else h=b;return h=g?c.hitch(g,h,a,this):c.hitch(this,h,a,this)}}),t=e(k,{constructor:function(a){this.message=a},buildRendering:function(){this.inherited(arguments);this._addMessage(this.message)},_addMessage:function(a){b.set(this.domNode,"innerHTML",a);l.set(this.domNode,"whiteSpace","pre-line")}});k=null;return k=new (e([],{constructor:function(a){this.layoutInstance=null},_getLayoutInstance:function(){this.layoutInstance||
(this.layoutInstance=new h);return this.layoutInstance},setLayout:function(a){this.layoutInstance=a},_displayWidget:function(a,b,g){var h,f,d=this;b={title:b};h=g.layoutId||g.type+p.generateUuid();f=g.layoutId||g.type;c.mixin(b,g);if("string"===typeof a||!a)a=new t(a);g.dismissOnClick&&m(a,"click",function(){a.close()});a.onClose=function(){g.closeCallBack&&"function"===typeof g.closeCallBack&&g.closeCallBack();d._getLayoutInstance().removeWidget(h);return!0};a.onCancel=function(){g.cancelCallBack&&
"function"===typeof g.cancelCallBack&&g.cancelCallBack();a.close()};this._getLayoutInstance().addWidget(h,f,a,b);return a},displayModalDialog:function(a,b,c,g){g=g||{};"fault"===g.dialogType?(g.dialogClass=g.dialogClass||"faultMessage",g.layoutId=g.layoutId||"faultDialog"):"warn"===g.dialogType?(g.dialogClass=g.dialogClass||"warnMessage",g.layoutId=g.layoutId||"warnDialog"):g.dialogType=g.dialogType||"messageDialog";a=new q({message:a,buttons:c,options:g});g.isModal=!0;g.type=g.dialogType;return this._displayWidget(a,
b,g)},displayNonModalDialog:function(a,b,c){c=c||{};c.type="floatingPane";return this._displayWidget(b,a,c,c.type)},_getModalDialogWidget:function(){return q}}))})},"mw-dialog-utils/DialogDisplayManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr mw-store-utils/InMemoryStore ./DialogDisplayUtilities mw-deprecation-utils/deprecation".split(" "),function(k,d,e,c,b,a,f){f.deprecated({deprecated:{module:"MW/dialog/DialogDisplayManager"},replacement:{module:"mw-dialogs/Dialogs"},
geckNumber:1471429});return d([a],{constructor:function(a){this.dialogWidgetStore=new b},addWidget:function(a,b,c,g){b={};b.widget=c;b.position=g.position;b.closable=!1===g.closable?!1:!0;b.autofocus=!0;b.title=g.title;b.id=a;b.style=g.style;b.dialogClass=g.dialogClass;b.parentDiv=g.parentDiv;b["data-testid"]=g["data-testid"];g.isModal?this._displayModalDialog(b):(b.resizable=g.resizable,this._displayNonModalDialog(b));this.dialogWidgetStore.newItem(b)},_displayModalDialog:function(a){a.wrapper=this.createModalDialogWrapper(a);
a.wrapper.show();a.widget.startup()},_displayNonModalDialog:function(a){a.wrapper=this.createNonModalDialogWrapper(a);a.widget.close||(a.widget.close=function(){a.wrapper.close()});this.startNonModalDialogAndAddResizeHandlers(a.wrapper)},removeWidget:function(a){var b=null;this.dialogWidgetStore.fetch({query:{id:a},onItem:function(a){b=a}});b&&(b.wrapper.destroyRecursive(),this.dialogWidgetStore.deleteItem(b))},removeWidgetsWithParentId:function(){},removeWidgetsWithLayoutId:function(){},showWidget:function(){},
focusWidget:function(){},disableWidget:function(){},enableWidget:function(){},updateWidget:function(){},updateWidgetsWithLayoutId:function(){},ensureParentExistsInStore:function(){}})})},"mw-store-utils/InMemoryStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/data/util/filter","dojo/data/util/simpleFetch","mw-utils/Utils"],function(k,d,e,c,b){k=k([],{_storeRef:"_S",_timestampProp:"_timestamp",constructor:function(a){a=a||{};this.items=[];a.items&&a.items.forEach(function(a){this.newItem(a)},
this)},_fetchItems:function(a,b){var c=[],d,h,g,p,n,s,r={};if(a.query){h=a.queryOptions?a.queryOptions.ignoreCase:!1;for(d in a.query)a.query.hasOwnProperty(d)&&(s=a.query[d],"string"===typeof s&&/[\*\?]+/.test(s)?r[d]=e.patternToRegExp(s,h):s instanceof RegExp&&(r[d]=s));n=this.items.length;for(h=0;h<n;h+=1){g=!0;p=this.items[h];if(null===p)g=!1;else for(d in a.query)a.query.hasOwnProperty(d)&&(s=a.query[d],this._containsValue(p,d,s,r[d])||(g=!1));g&&c.push(p)}}else this.items&&this.items.forEach(function(a){null!==
a&&c.push(a)});b(c,a)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Write":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Identity":!0}},getAttributes:function(a){this._assertIsItem(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&(c!==this._storeRefPropName&&c!==this._loadedPropName&&c!==this._filePathPropName)&&b.push(c);return b},isItem:function(a){return a&&a[this._storeRef]===this},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(){},getValues:function(a,
b){this._assertIsItem(a);if(!d.isString(b))throw Error("MW.utils.InMemoryStore: invalid attribute");return a.hasOwnProperty(b)?[a[b]]:[]},getValue:function(a,b){var c=this.getValues(a,b);return 0===c.length?void 0:c[0]},hasAttribute:function(a,b){return 0<this.getValues(a,b).length},containsValue:function(a,b,c){var d;"string"===typeof c&&(d=e.patternToRegExp(c,!1));return this._containsValue(a,b,c,d)},_containsValue:function(a,b,c,m){var h=this.getValues(a,b),g=h.length;for(a=0;a<g;a+=1)if(b=h[a],
m&&!d.isObject(b)&&null!==b&&b.toString().match(m)||c===b)return!0;return!1},setValues:function(a,b,c){var m;this._assertIsItem(a);if(!d.isString(b))throw Error("MW.utils.InMemoryStore: invalid attribute");m=a[b];if(m!==c||"store"===b)a[b]=c,this.onSet(a,b,m,c)},setValue:function(a,b,c){this.setValues(a,b,c)},newItem:function(a){var c={id:b.generateUuid()};c[this._timestampProp]=new Date;c[this._storeRef]=this;d.mixin(c,a);this.items.push(c);this.onNew(c);return c},deleteItem:function(a){var b;this._assertIsItem(a);
b=this.items.indexOf(a);0<=b&&this.items.splice(b,1);this.onDelete(a)},getIdentity:function(a){return a.id},save:function(a){},revert:function(){return!1},isDirty:function(a){return!1},onNew:function(){},onDelete:function(){},onSet:function(){},_assertIsItem:function(a){if(!this.isItem(a))throw Error("MW.utils.InMemoryStore: Invalid argument, item is not in the store.");}});d.extend(k,c);return k})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(k){var d={};k.setObject("dojo.data.util.filter",
d);d.patternToRegExp=function(d,c){for(var b="^",a=null,f=0;f<d.length;f++)switch(a=d.charAt(f),a){case "\\":b+=a;f++;b+=d.charAt(f);break;case "*":b+=".*";break;case "?":b+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":b+="\\";default:b+=a}b+="$";return c?RegExp(b,"mi"):RegExp(b,"m")};return d})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(k,d,e){var c={};k.setObject("dojo.data.util.simpleFetch",
c);c.errorHandler=function(b,a){a.onError&&a.onError.call(a.scope||d.global,b,a)};c.fetchHandler=function(b,a){var c=a.abort||null,l=!1,m=a.start?a.start:0,h=a.count&&Infinity!==a.count?m+a.count:b.length;a.abort=function(){l=!0;c&&c.call(a)};var g=a.scope||d.global;a.store||(a.store=this);a.onBegin&&a.onBegin.call(g,b.length,a);a.sort&&b.sort(e.createSortFunction(a.sort,this));if(a.onItem)for(var p=m;p<b.length&&p<h;++p){var n=b[p];l||a.onItem.call(g,n,a)}a.onComplete&&!l&&(p=null,a.onItem||(p=b.slice(m,
h)),a.onComplete.call(g,p,a))};c.fetch=function(b){b=b||{};b.store||(b.store=this);this._fetchItems(b,k.hitch(this,"fetchHandler"),k.hitch(this,"errorHandler"));return b};return c})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(k){var d={};k.setObject("dojo.data.util.sorter",d);d.basicComparator=function(d,c){var b=-1;null===d&&(d=void 0);null===c&&(c=void 0);if(d==c)b=0;else if(d>c||null==d)b=1;return b};d.createSortFunction=function(e,c){function b(a,b,c,g){return function(h,
d){var f=g.getValue(h,a),l=g.getValue(d,a);return b*c(f,l)}}for(var a=[],f,l=c.comparatorMap,m=d.basicComparator,h=0;h<e.length;h++){f=e[h];var g=f.attribute;if(g){f=f.descending?-1:1;var p=m;l&&("string"!==typeof g&&"toString"in g&&(g=g.toString()),p=l[g]||m);a.push(b(g,f,p,c))}}return function(b,c){for(var g=0;g<a.length;){var h=a[g++](b,c);if(0!==h)return h}return 0}};return d})},"mw-dialog-utils/DialogDisplayUtilities":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/keys dojo/on dojo/window ./Dialog ./FloatingPane mw-dnd/BoundedMover mw-deprecation-utils/deprecation".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){s.deprecated({deprecated:{module:"MW/dialog/DialogDisplayUtilities"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return d([],{constructor:function(a){},createModalDialogWrapper:function(a){var c;a.dialogClass&&(a.dialogClass=e.trim(a.dialogClass)+"Box dialog");c=new g({title:a.title||"",id:a.id+"Dialog",style:a.style,"class":(a.dialogClass||"dialog")+(a["class"]?" "+a["class"]:""),closable:a.closable,duration:1,refocus:!1!==a.refocus,autofocus:!1!==
a.autofocus});c._onKey=function(){this.inherited("_onKey",arguments)};c.show=function(){var b;a.position&&(0<=a.position.x&&0<=a.position.y)&&this.placeDialogAt(a.position);f.set(this.domNode,{opacity:0,display:""});b=this.inherited("show",arguments);this.closable||f.set(this.closeButtonNode,{display:"none"});this.dombody=document.body;this.handleBodyKeyPress=m(this.dombody,"click",e.hitch(this,this.handleFocus));this._dialogShowPromise=b;b.then(function(){a.wrapper.closeButtonNode.setAttribute("tabindex",
"0")});return b};a.widget&&(a.widget.close=function(){c._dialogShowPromise&&!c._dialogShowPromise.isResolved()?c._dialogShowPromise.then(function(){c.hide()}):c.hide()});this._addWrapperAndWidgetEvents(c,a.widget);c.set("content",a.widget);a["data-testid"]&&b.set(c.domNode,"data-testid",a["data-testid"]);c.onHide=function(){c.onClose()};return c},createNonModalDialogWrapper:function(g,h,d,f){g.parentDiv=h||g.parentDiv||g.id+"floatingParentDiv";c.byId(g.parentDiv)||a.create("div",{id:g.parentDiv},
document.body);g.dialogClass&&(g.dialogClass=e.trim(g.dialogClass));h=new p({title:g.title||"","class":g.dialogClass||"",id:f||g.id,resizable:!1!==g.resizable,dockable:!1,style:d||g.style},c.byId(g.parentDiv));h.duration=500;this._addWrapperAndWidgetEvents(h,g.widget);h.set("content",g.widget);g["data-testid"]&&b.set(h.domNode,"data-testid",g["data-testid"]);return h},startNonModalDialogAndAddResizeHandlers:function(a){var b;a.startup();a.bringToTop();a.show();b=h.getBox();a._moveable.mover=n;a._resizeHandle&&
(a._resizeHandle.constrainMax=!0,a._resizeHandle.maxSize=b)},_addWrapperAndWidgetEvents:function(a,b){a.onClose=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return b.onClose&&b.onClose(arguments)};a.onCancel=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return b.onCancel&&b.onCancel(arguments)};a.onShow=function(){return b.onShow&&b.onShow(arguments)};a.onFocus=function(){return b.onFocus&&b.onFocus(arguments)};a.onBlur=function(){return b.onBlur&&b.onBlur(arguments)}}})})},
"mw-dialog-utils/Dialog":function(){define("dijit/Dialog dijit/focus dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dnd/Moveable dojo/dom-geometry dojo/on dojo/window mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){p.deprecated({deprecated:{module:"MW/dialog/Dialog"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return e([k],{_userPreferredPosition:null,_setTitleAttr:{node:"titleNode",type:"textContent"},
postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary");this.closeButtonNode.title=g.close},setMover:function(a){this._mover=a},_setup:function(){this.inherited(arguments);this.titleBar&&this.draggable&&(this._moveable.destroy(),this._moveable=new a(this.domNode,{handle:this.titleNode}),b.after(this._moveable,"onMoveStop",c.hitch(this,"_endDrag"),!0))},show:function(){var a=this.inherited(arguments);this._moveable.mover=this._mover||h;this.own(l(this.domNode,
"click",c.hitch(this,this.handleFocus)));return a},isTop:function(){return k._DialogLevelManager.isTop(this)},handleFocus:function(){this.open&&(this.isTop()&&(!this.focused||!d.curNode))&&this.focus()},placeDialogAt:function(a){a&&(this._relativePosition={x:a.x,y:a.y})},resize:function(){var a,b,c=m.getBox(this.ownerDocument);b=f.position(this.domNode);if(this._userPreferredPosition=this._relativePosition?this._relativePosition:this._userPreferredPosition)a=this._userPreferredPosition.x+b.w,b=this._userPreferredPosition.y+
b.h,a>c.w||b>c.h?delete this._relativePosition:this._relativePosition=this._userPreferredPosition;this.inherited("resize",arguments)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I){function M(){}var K=new b;K.resolve(!0);x=c("dijit._DialogBase",[y,C,A,B],{templateString:I,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:x.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=g.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){m.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);e.after(this,"onExecute",n.hitch(this,"hide"),!0);e.after(this,"onCancel",n.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&E.isTop(this)&&
(this._getFocusItems(),v.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();v.focus(this._firstFocusItem)},_endDrag:function(){var a=l.position(this.domNode),b=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==q("ie")?w:u)(a,{handle:this.titleBar}),e.after(this._moveable,
"onMoveStop",n.hitch(this,"_endDrag"),!0)):f.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":d.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:n.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!f.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=t.getBox(this.ownerDocument),c=this._relativePosition,g=l.position(a),h=Math.floor(b.l+(c?Math.min(c.x,b.w-g.w):(b.w-
g.w)/2)),b=Math.floor(b.t+(c?Math.min(c.y,b.h-g.h):(b.h-g.h)/2));m.set(a,{left:h+"px",top:b+"px"})}},_onKey:function(a){if(a.keyCode==p.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(v.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(v.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==
p.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return K.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),E.hide(this));var a=t.get(this.ownerDocument);this._modalconnects.push(s(a,"scroll",n.hitch(this,"resize",null)));this._modalconnects.push(s(this.domNode,"keydown",n.hitch(this,"_onKey")));m.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var c;this._fadeInDeferred=new b(n.hitch(this,function(){c.stop();delete this._fadeInDeferred}));this._fadeInDeferred.then(void 0,M);a=this._fadeInDeferred.promise;c=h.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:n.hitch(this,function(){E.show(this,this.underlayAttrs)}),onEnd:n.hitch(this,function(){this.autofocus&&E.isTop(this)&&(this._getFocusItems(),v.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);
delete this._fadeInDeferred})}).play();return a},hide:function(){if(!this._alreadyInitialized||!this.open)return K.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new b(n.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(void 0,M);this._fadeOutDeferred.then(n.hitch(this,"onHide"));var c=this._fadeOutDeferred.promise;a=h.fadeOut({node:this.domNode,duration:this.duration,onEnd:n.hitch(this,function(){this.domNode.style.display=
"none";E.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var g;g=this._modalconnects.pop();)g.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return c},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle),d.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(a){a&&m.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=t.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var c=l.position(this.domNode);c.w>=b.w||c.h>=b.h?(a={w:Math.min(c.w,b.w),h:Math.min(c.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(a){l.setMarginBox(this.domNode,a);b=[];this.titleBar&&b.push({domNode:this.titleBar,
region:"top"});this.actionBarNode&&b.push({domNode:this.actionBarNode,region:"bottom"});c={domNode:this.containerNode,region:"center"};b.push(c);var g=G.marginBox2contentBox(this.domNode,a);G.layoutChildren(this.domNode,g,b);this._singleChild?(b=G.marginBox2contentBox(this.containerNode,c),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!q("touch")&&!a&&this._position()}},_layoutChildren:function(){d.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();E.hide(this);this.inherited(arguments)}});var J=c("dijit.Dialog",[F,x],{});J._DialogBase=x;var E=J._DialogLevelManager={_beginZIndex:950,show:function(a,b){H[H.length-1].focus=v.curNode;var c=H[H.length-1].dialog?H[H.length-1].zIndex+2:J._DialogLevelManager._beginZIndex;
m.set(a.domNode,"zIndex",c);D.show(b,c-1);H.push({dialog:a,underlayAttrs:b,zIndex:c})},hide:function(b){if(H[H.length-1].dialog==b){H.pop();var c=H[H.length-1];1==H.length?D.hide():D.show(c.underlayAttrs,c.zIndex-1);if(b.refocus){b=c.focus;if(c.dialog&&(!b||!a.isDescendant(b,c.dialog.domNode)))c.dialog._getFocusItems(),b=c.dialog._firstFocusItem;if(b)try{b.focus()}catch(g){}}}else c=d.indexOf(d.map(H,function(a){return a.dialog}),b),-1!=c&&H.splice(c,1)},isTop:function(a){return H[H.length-1].dialog==
a}},H=J._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];v.watch("curNode",function(a,b,c){a=H[H.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==a.domNode||f.contains(c,"dijitPopup"))return;while(c=c.parentNode);a.focus()}});q("dijit-legacy-requires")&&r(0,function(){k(["dijit/TooltipDialog"])});return J})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){return d("dojo.dnd.Moveable",[a],{handle:"",delay:0,skip:!1,constructor:function(a,b){this.node=c.byId(a);b||(b={});this.handle=b.handle?c.byId(b.handle):null;this.handle||(this.handle=this.node);this.delay=0<b.delay?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:g;this.events=[f(this.handle,m.press,e.hitch(this,"onMouseDown")),f(this.handle,"dragstart",e.hitch(this,"onSelectStart")),f(this.handle,"selectstart",e.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,c){return new c(b,a)},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!h.isFormElement(a)){if(this.delay)this.events.push(f(this.handle,m.move,e.hitch(this,"onMouseMove")),f(this.handle.ownerDocument,m.release,e.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-
this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!h.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){l.publish("/dnd/move/start",a);b.add(p.body(),"dojoMove");b.add(this.node,"dojoMoveItem")},onMoveStop:function(a){l.publish("/dnd/move/stop",
a);b.remove(p.body(),"dojoMove");b.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(k,d,e,c){var b=e.getObject("dojo.dnd",!0);b.getCopyKeyState=function(a){return a[k("mac")?"metaKey":"ctrlKey"]};b._uniqueId=0;b.getUniqueId=function(){var a;
do a=d._scopeName+"Unique"+ ++b._uniqueId;while(c.byId(a));return a};b._empty={};b.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return b})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n){return d("dojo.dnd.Mover",
[m],{constructor:function(b,c,d){function f(a){a.preventDefault();a.stopPropagation()}this.node=a.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=d;b=b.ownerDocument;this.events=[h(b,g.move,e.hitch(this,"onFirstMove")),h(b,g.move,e.hitch(this,"onMouseMove")),h(b,g.release,e.hitch(this,"onMouseUp")),h(b,"dragstart",f),h(b.body,"selectstart",f)];n.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;
this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(c("webkit")&&c("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var c=this.node.style,g,h=this.host;switch(c.position){case "relative":case "absolute":g=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=f.getMarginBox(this.node);
g=b.doc.body;var d=l.getComputedStyle(g),m=f.getMarginBox(g,d),d=f.getContentBox(g,d);g=c.l-(d.l-m.l);c=c.t-(d.t-m.t)}this.marginBox.l=g-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(h&&h.onFirstMove)h.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){k.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(k,d,e,c,b,a){var f={};k.setObject("dojo.dnd.autoscroll",f);f.getViewport=a.getBox;f.V_TRIGGER_AUTOSCROLL=32;f.H_TRIGGER_AUTOSCROLL=32;f.V_AUTOSCROLL_VALUE=16;f.H_AUTOSCROLL_VALUE=16;var l,m=e.doc,h=Infinity,g=Infinity;f.autoScrollStart=function(b){m=b;l=a.getBox(m);b=e.body(m).parentNode;h=Math.max(b.scrollHeight-l.h,0);g=Math.max(b.scrollWidth-l.w,0)};f.autoScroll=function(b){var c=l||a.getBox(m),d=e.body(m).parentNode,r=0,q=0;b.clientX<f.H_TRIGGER_AUTOSCROLL?r=-f.H_AUTOSCROLL_VALUE:b.clientX>
c.w-f.H_TRIGGER_AUTOSCROLL&&(r=Math.min(f.H_AUTOSCROLL_VALUE,g-d.scrollLeft));b.clientY<f.V_TRIGGER_AUTOSCROLL?q=-f.V_AUTOSCROLL_VALUE:b.clientY>c.h-f.V_TRIGGER_AUTOSCROLL&&(q=Math.min(f.V_AUTOSCROLL_VALUE,h-d.scrollTop));window.scrollBy(r,q)};f._validNodes={div:1,p:1,td:1};f._validOverflow={auto:1,scroll:1};f.autoScrollNodes=function(a){for(var g,h,l,m,k,u,w=0,v=0,x=a.target;x;){if(1==x.nodeType&&x.tagName.toLowerCase()in f._validNodes){l=b.getComputedStyle(x);m=l.overflow.toLowerCase()in f._validOverflow;
k=l.overflowX.toLowerCase()in f._validOverflow;u=l.overflowY.toLowerCase()in f._validOverflow;if(m||k||u)g=c.getContentBox(x,l),h=c.position(x,!0);if(m||k){l=Math.min(f.H_TRIGGER_AUTOSCROLL,g.w/2);k=a.pageX-h.x;if(d("webkit")||d("opera"))k+=e.body().scrollLeft;w=0;0<k&&k<g.w&&(k<l?w=-l:k>g.w-l&&(w=l),x.scrollLeft+=w)}if(m||u){m=Math.min(f.V_TRIGGER_AUTOSCROLL,g.h/2);u=a.pageY-h.y;if(d("webkit")||d("opera"))u+=e.body().scrollTop;v=0;0<u&&u<g.h&&(u<m?v=-m:u>g.h-m&&(v=m),x.scrollTop+=v)}if(w||v)return}try{x=
x.parentNode}catch(z){x=null}}f.autoScroll(a)};return f})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(k,d){var e=d.prototype.onMove;return k("dojo.dnd.TimedMoveable",d,{timeout:40,constructor:function(c,b){b||(b={});b.timeout&&("number"==typeof b.timeout&&0<=b.timeout)&&(this.timeout=b.timeout)},onMoveStop:function(c){c._timer&&(clearTimeout(c._timer),e.call(this,c,c._leftTop));d.prototype.onMoveStop.apply(this,arguments)},onMove:function(c,b){c._leftTop=
b;if(!c._timer){var a=this;c._timer=setTimeout(function(){c._timer=null;e.call(a,c,c._leftTop)},this.timeout)}}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(k,d,e,c,b){var a={};k.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(b){a[b]=c[b]});e.mixin(a,{defaultDuration:d.defaultDuration||200});e.mixin(b,a);return b})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(k,d,e,c,b,a){return d("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];k.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return b},reset:function(){k.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var b=!1;return k.every(k.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var d=c.disabled||!c.validate||
c.validate();!d&&!b&&(a.scrollIntoView(c.containerNode||c.domNode),c.focus(),b=!0);return d}),function(a){return a})},setValues:function(a){e.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){var b={};k.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(b[a.name]||(b[a.name]=[])).push(a)});for(var d in b)if(b.hasOwnProperty(d)){var h=b[d],g=c.getObject(d,!1,a);void 0!==g&&(g=[].concat(g),
"boolean"==typeof h[0].checked?k.forEach(h,function(a){a.set("value",-1!=k.indexOf(g,a._get("value")))}):h[0].multiple?h[0].set("value",g):k.forEach(h,function(a,b){a.set("value",g[b])}))}},getValues:function(){e.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var a={};k.forEach(this._getDescendantFormWidgets(),function(b){var d=b.name;if(d&&!b.disabled){var h=b.get("value");"boolean"==typeof b.checked?
/Radio/.test(b.declaredClass)?!1!==h?c.setObject(d,h,a):(h=c.getObject(d,!1,a),void 0===h&&c.setObject(d,null,a)):(b=c.getObject(d,!1,a),b||(b=[],c.setObject(d,b,a)),!1!==h&&b.push(h)):(b=c.getObject(d,!1,a),"undefined"!=typeof b?c.isArray(b)?b.push(h):c.setObject(d,[b,h],a):c.setObject(d,h,a))}});return a},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=k.map(this._descendants,function(a){return a.get("state")||""});return 0<=k.indexOf(a,"Error")?
"Error":0<=k.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();k.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(b(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,c){this.onValidStateChange(""==c)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(k,d){return k("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var e=d._getTabNavigable(this.domNode);this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){var n=k("dijit.DialogUnderlay",[l,m],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){c.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(a(this.domNode,"keydown",d.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=f.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new h(this.domNode);var b=f.get(this.ownerDocument);this._modalConnects=[g.on("resize",d.hitch(this,"layout")),a(b,"scroll",
d.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});n.show=function(a,c){var g=n._singleton;!g||g._destroyed?g=p._underlay=n._singleton=new n(a):a&&g.set(a);b.set(g.domNode,"zIndex",c);g.open||g.show()};n.hide=function(){var a=
n._singleton;a&&!a._destroyed&&a.hide()};return n})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return m("dijit.layout.ContentPane",[e,c,b],{href:"",content:"",extractContent:!1,parseOnLoad:!0,
parserScope:k._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,
b,c){var g=new c(a,b);return!g.href&&g._contentSetter&&g._contentSetter.parseDeferred&&!g._contentSetter.parseDeferred.isFulfilled()?g._contentSetter.parseDeferred.then(function(){return g}):g},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=g.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=d.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var b=
r.getLocalization("dijit","loading",this.lang);this.loadingMessage=a.substitute(this.loadingMessage,b);this.errorMessage=a.substitute(this.errorMessage,b)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=
!0)},this)},_startChildren:function(){l.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){k.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();
this.onLoadDeferred=new h(d.hitch(this,"cancel"));this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){k.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new h(d.hitch(this,"cancel"));this._created&&
this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&
!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new h(d.hitch(this,"cancel"));this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};d.isObject(this.ioArgs)&&d.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||
s.get)(b),g;c.then(function(b){g=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return g});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;l.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(l.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||
n.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){a=this.preprocessContent(a);this.destroyDescendants();var c=this._contentSetter;c&&c instanceof f._ContentSetter||(c=this._contentSetter=new f._ContentSetter({node:this.containerNode,_onError:d.hitch(this,this._onError),onContentError:d.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));var g=
d.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),g=c.set(d.isObject(a)&&a.domNode?a.domNode:a,g),h=this;return q(g&&g.then?g:c.parseDeferred,function(){delete h._contentSetterParams;b||(h._started&&(h._startChildren(),h._scheduleLayout()),h._onLoadHandler(a))})},preprocessContent:function(a){return a},_onError:function(a,
b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return d("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(m.on("resize",a.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;f("\x3e *",this.containerNode).some(function(c){var h=
l.byNode(c);h&&h.resize?a.push(h):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;e.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,d){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
b&&c.setMarginBox(this.domNode,b);var f=this.containerNode;if(f===this.domNode){var l=d||{};a.mixin(l,b||{});if(!("h"in l)||!("w"in l))l=a.mixin(c.getMarginBox(f),l);this._contentBox=h.marginBox2contentBox(f,l)}else this._contentBox=c.getContentBox(f);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||c.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),
b,h=0;b=a[h++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!e.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(k,d,e,c,b,a,f){var l=0,m={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:a.empty,_setNodeContent:function(b,c){a.empty(b);if(c)if("number"==typeof c&&(c=c.toString()),"string"==typeof c&&(c=a.toDom(c,b.ownerDocument)),!c.nodeType&&d.isArrayLike(c))for(var f=c.length,l=0;l<c.length;l=f==c.length?l+1:0)a.place(c[l],b,"last");else a.place(c,b,"last");return b},_ContentSetter:c("dojo.html._ContentSetter",null,{node:"",
content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:k._scopeName,startup:!0,constructor:function(a,c){d.mixin(this,a||{});c=this.node=b.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",l++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=
m._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(d){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+d.message,d)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(e.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);a.empty(this.node)},onBegin:function(){var a=
this.content;if(d.isString(a)&&(this.cleanContent&&(a=m._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+
a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};e.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=f.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&m._setNodeContent(this.node,a,!0)}}),set:function(a,b,c){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),b="");"number"==typeof b&&(b=b.toString());return c?(new m._ContentSetter(d.mixin(c,{content:b,node:a}))).set():m._setNodeContent(a,b,!0)}};d.setObject("dojo.html",m);return m})},"mw-dnd/BoundedMover":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/dnd/Mover",
"dojo/dom-geometry","dojo/window"],function(k,d,e,c,b){return k([e],{onMouseMove:function(a){var f=this.marginBox,l=c.position(this.host.node),m=b.getBox(),f={l:f.l+a.pageX,t:f.t+a.pageY};f.l=Math.max(0,Math.min(f.l,m.w-l.w));f.t=Math.max(0,Math.min(f.t,m.h-l.h));this.host.onMove(this,f,a);d.stop(a)}})})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],function(k,d){var e={deprecated:function(c){var b,a;if((k.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c))a=
window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",c.deprecated&&(b+=c.deprecated.module,c.deprecated.method&&(b+="."+c.deprecated.method+"()"),b+="."),c.replacement&&(b+=" Use "+c.replacement.module,c.replacement.method&&(b+="."+c.replacement.method+"()"),b+=" instead."),c.removalVersion&&(b+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(b+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),
c.additionalInformation&&(b+=" "+c.additionalInformation),d[a](b)},_isConfigValid:function(c){var b=!!c.deprecated&&"object"===typeof c.deprecated&&c.deprecated.hasOwnProperty("module");c.replacement&&(b=b&&"object"===typeof c.replacement&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(b=b&&"number"===typeof c.geckNumber);b||d.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};
Object.defineProperties(e,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return e})},"mw-dialog-utils/FloatingPane":function(){define("dojo/_base/declare dojo/_base/fx dojo/_base/lang dojo/dnd/Moveable dojo/dom-geometry dojo/dom-style dojo/topic dojo/on dojo/Evented dojo/window dojo/touch dojox/layout/FloatingPane dijit/_Widget mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog dojo/text!./floatingPaneTemplate.html".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){m={isOnTop:!1,
attributeMap:e.delegate(n.prototype.attributeMap,{title:{type:"textContent",node:"titleNode"}}),startup:function(){this.inherited(arguments);this._checkResizeConstraints();this.resizable&&this.connect(this._resizeHandle.domNode,g.press,"bringToTop");this.connect(this.focusNode,g.press,function(){this.domNode.focus()});this._resizeHandle&&this.connect(this._resizeHandle.domNode,g.press,function(){this.domNode.focus()});this.domNode.focus()},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this._moveable.destroy();this._moveable=new c(this.domNode,{handle:this.titleNode});this._moveable.mover=s;this.dockable&&(this.own(f.subscribe("/floatingPaneDockUpdate",e.hitch(this,function(a){this.dockTo=a.newWidget}))),this.dockTo.addItem(this));this.closeNode.title=r.close;this.closeNode.setAttribute("tabindex","0");this.maxNode.title=r.maximize;this.dockNode.title=r.minimize},templateString:q,hide:function(a){var c,g;"function"===typeof a?(c=a,g=e.hitch(this,function(){c();this.onClose();
this.emit("onClose")}),this.inherited(arguments,[g])):"boolean"===typeof a?(this.paneOriginalPosition=b.position(this.domNode),d.animateProperty({node:this.domNode,properties:{top:b.position(this.dockTo.domNode).y,left:b.position(this.dockTo.domNode).x,height:0,width:b.position(this.dockTo.domNode).w,opacity:0},onEnd:e.hitch(this,function(){this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null)}),duration:this.duration}).play()):this.inherited(arguments)},
close:function(){l.emit(this.domNode,"restorefocus",{bubbles:!0});this.closeAlreadyInvoked||(this.closeAlreadyInvoked=!0,this.inherited(arguments))},show:function(){this.onTop||(this.paneOriginalPosition&&(this.domNode.style.top=this.paneOriginalPosition.y+"px",this.domNode.style.left=this.paneOriginalPosition.x+"px",this.domNode.style.width=this.paneOriginalPosition.w-a.get(this.domNode,"borderLeftWidth")-a.get(this.domNode,"borderRightWidth")+"px",this.domNode.style.height=this.paneOriginalPosition.h-
a.get(this.domNode,"borderLeftWidth")-a.get(this.domNode,"borderRightWidth")+"px"),delete this.closeAlreadyInvoked,this._isMinimized=!1,this.inherited(arguments))},onClose:function(){},resize:function(c){c||(this._naturalState=b.position(this.domNode),this._naturalState.w-=a.get(this.domNode,"borderLeftWidth")+a.get(this.domNode,"borderRightWidth"),this._naturalState.h-=a.get(this.domNode,"borderTopWidth")+a.get(this.domNode,"borderBottomWidth"));this.inherited(arguments)},minimize:function(){this._isDocked||
(this.hide(!0),this.onTop=!1,this.onMinimize())},bringToTop:function(){this._isMinimized||(this.inherited(arguments),this.onTop=!0,this.onBringToTop())},onBringToTop:function(){},onMinimize:function(){this._isMinimized=!0},forceClose:function(){this.dockable&&this.dockTo.removeItem(this);this.inherited("close",arguments)},_dock:function(){!this._isDocked&&this.dockable&&(this.dockTo.addItem(this),this._isDocked=!0)},_checkResizeConstraints:function(){var c;this._resizeHandle&&(c=e.hitch(this._resizeHandle,
this._resizeHandle._checkConstraints),this._resizeHandle._checkConstraints=function(g,d){var f,l,m,e={},p,n;f=c(g,d);l=b.position(this.targetDomNode);p=2*(a.get(this.targetDomNode,"borderTopWidth")+a.get(this.targetDomNode,"borderBottomWidth"));n=2*(a.get(this.targetDomNode,"borderLeftWidth")+a.get(this.targetDomNode,"borderRightWidth"));m=h.getBox();e.w=Math.min(f.w,Math.floor(m.w-(l.x+n)));e.h=Math.min(f.h,Math.floor(m.h-(l.y+p)));return e})}};return k([p],m)})},"dojox/layout/FloatingPane":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/touch dijit/_TemplatedMixin dijit/_Widget dijit/BackgroundIframe dijit/registry dojo/dnd/Moveable ./ContentPane ./ResizeHandle dojo/text!./resources/FloatingPane.html ./Dock".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y){k.experimental("dojox.layout.FloatingPane");return c("dojox.layout.FloatingPane",[v,r],{closable:!0,dockable:!0,resizable:!1,maxable:!1,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:z,attributeMap:d.delegate(q.prototype.attributeMap,{title:{type:"innerHTML",node:"titleNode"}}),postCreate:function(){this.inherited(arguments);
this._moveable=new w(this.domNode,{handle:this.focusNode});this.dockable||(this.dockNode.style.display="none");this.closable||(this.closeNode.style.display="none");this.maxable||(this.maxNode.style.display="none",this.restoreNode.style.display="none");this.resizable?this.domNode.style.width=p.getContentBox(this.domNode).w+"px":this.resizeHandle.style.display="none";this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new t(this.domNode);this._naturalState=p.position(this.domNode)},
startup:function(){if(!this._started){this.inherited(arguments);this.resizable&&(l("ie")?this.canvas.style.overflow="auto":this.containerNode.style.overflow="auto",this._resizeHandle=new x({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle));if(this.dockable){var a=this.dockTo;this.dockTo=this.dockTo?u.byId(this.dockTo):u.byId("dojoxGlobalFloatingDock");if(!this.dockTo){var b;a?(b=a,a=h.byId(a)):(a=n.create("div",null,e.body()),g.add(a,"dojoxFloatingDockDefault"),b="dojoxGlobalFloatingDock");
this.dockTo=new y({id:b,autoPosition:"south"},a);this.dockTo.startup()}("none"==this.domNode.style.display||"hidden"==this.domNode.style.visibility)&&this.minimize()}this.connect(this.focusNode,s.press,"bringToTop");this.connect(this.domNode,s.press,"bringToTop");b=p.getContentBox(this.domNode);this.resize(d.mixin(p.position(this.domNode),{w:b.w,h:b.h}));this._started=!0}},setTitle:function(a){k.deprecated("pane.setTitle","Use pane.set('title', someTitle)","2.0");this.set("title",a)},close:function(){this.closable&&
(a.unsubscribe(this._listener),this.hide(d.hitch(this,function(){this.destroyRecursive()})))},hide:function(a){b.fadeOut({node:this.domNode,duration:this.duration,onEnd:d.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);a&&a()})}).play()},show:function(a){b.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:d.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility=
"visible";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);"function"==typeof a&&a();this._isDocked=!1;this._dockNode&&(this._dockNode.destroy(),this._dockNode=null)})}).play();var c=p.getContentBox(this.domNode);this.resize(d.mixin(p.position(this.domNode),{w:c.w,h:c.h}));this._onShow()},minimize:function(){this._isDocked||this.hide(d.hitch(this,"_dock"))},maximize:function(){this._maximized||(this._naturalState=p.position(this.domNode),this._isDocked&&(this.show(),setTimeout(d.hitch(this,
"maximize"),this.duration)),g.add(this.focusNode,"floatingPaneMaximized"),this.resize(m.getBox()),this._maximized=!0)},_restore:function(){this._maximized&&(this.resize(this._naturalState),g.remove(this.focusNode,"floatingPaneMaximized"),this._maximized=!1)},_dock:function(){!this._isDocked&&this.dockable&&(this._dockNode=this.dockTo.addNode(this),this._isDocked=!0)},resize:function(a){this._naturalState=a=a||this._naturalState;var b=this.domNode.style;"t"in a?b.top=a.t+"px":"y"in a&&(b.top=a.y+"px");
"l"in a?b.left=a.l+"px":"x"in a&&(b.left=a.x+"px");b.width=a.w+"px";b.height=a.h+"px";a={l:0,t:0,w:a.w,h:a.h-this.focusNode.offsetHeight};p.setMarginBox(this.canvas,a);this._checkIfSingleChild();this._singleChild&&this._singleChild.resize&&this._singleChild.resize(a)},bringToTop:function(){var a=f.filter(this._allFPs,function(a){return a!==this},this);a.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex});a.push(this);f.forEach(a,function(a,b){a.domNode.style.zIndex=this._startZ+
2*b;g.remove(a.domNode,"dojoxFloatingPaneFg")},this);g.add(this.domNode,"dojoxFloatingPaneFg")},destroy:function(){this._allFPs.splice(f.indexOf(this._allFPs,this),1);this._resizeHandle&&this._resizeHandle.destroy();this.inherited(arguments)}})})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(k,d,e,c,b){return b("dojox.layout.ContentPane",e,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,
executeScripts:!0,scriptHasHooks:!1,ioMethod:d.get,ioArgs:{},onExecError:function(a){},_setContent:function(a){var b=this._contentSetter;b&&b instanceof c._ContentSetter||(b=this._contentSetter=new c._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&
(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments)},destroy:function(){var a=this._contentSetter;a&&a.tearDown();this.inherited(arguments)}})})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){var n=b.getObject("dojox.html",!0);if(l("ie"))var s=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var r=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,q=n._adjustCssPaths=function(a,b){if(b&&a)return s&&(b=b.replace(s,function(b,c,g,h,d){return c+(new m(a,"./"+h)).toString()+d})),b.replace(r,function(b,c,g,h,d,f){return g?'@import "'+(new m(a,"./"+g)).toString()+
'"'+f:"url("+(new m(a,"./"+d)).toString()+")"+f})},t=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,u=n._adjustHtmlPaths=function(a,b){var c=a||"./";return b.replace(t,function(a,b,g,h,d,f,l,e){return b+(g?g+"\x3d"+h+(new m(c,d)).toString()+h:"style\x3d"+f+q(c,l)+f)+e})},w=n._snarfStyles=function(a,b,c){c.attributes=[];b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return b.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(b,g,h,d,f,l){b=(g||d||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");h?h=c.push(a?q(a,h):h):(h=c.push('@import "'+l+'";'),b=b.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(b){b=b.split(/\s+/);l={};d=0;for(f=b.length;d<f;d++)g=b[d].split("\x3d"),l[g[0]]=g[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");c.attributes[h-1]=l}return""})},v=n._snarfScripts=
function(a,b){function c(a){b.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"\x26"+b+";"}}),h.get({url:a,sync:!0,load:function(a){""!==b.code&&(a="\n"+a);b.code+=a+";"},error:b.errBack}))}b.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,g,h,d){h?c(h):(""!==b.code&&(d="\n"+d),b.code+=d+";");return""})},x=n.evalInGlobal=function(a,b){b=b||p.doc.body;var c=b.ownerDocument.createElement("script");c.type="text/javascript";b.appendChild(c);c.text=a};n._ContentSetter=k(c._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var b,c,g,h=this.node.ownerDocument,d=h.getElementsByTagName("head")[0],f=0,l=a.length;f<
l;f++){g=a[f];c=a.attributes[f];b=h.createElement("style");b.setAttribute("type","text/css");for(var m in c)b.setAttribute(m,c[m]);this._styleNodes.push(b);d.appendChild(b);b.styleSheet?b.styleSheet.cssText=g:b.appendChild(h.createTextNode(g))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var b=this.content,c=this._styles;this._code=null;if(a.isString(b)){this.adjustPaths&&this.referencePath&&(b=u(this.referencePath,b));
if(this.renderStyles||this.cleanContent)b=w(this.referencePath,b,c);if(this.executeScripts){var g=this,c={downloadRemote:!0,errBack:function(a){g._onError.call(g,"Exec",'Error downloading remote script in "'+g.id+'"',a)}},b=v(b,c);this._code=c.code}}this.content=b},onEnd:function(){var b=this._code,c=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)e.destroy(this._styleNodes.pop());this.renderStyles&&(c&&c.length)&&this._renderStyles(c);var h=new d,l=this.getInherited(arguments),
m=arguments,c=a.hitch(this,function(){l.apply(this,m);g(this.parseDeferred,function(){h.resolve()})});if(this.executeScripts&&b){this.cleanContent&&(b=b.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(b=b.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{x(b,this.node)}catch(p){this._onError("Exec","Error eval script in "+this.id+", "+p.message,p)}f(c)}else c();return h.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&
this._styleNodes.length)for(;this._styleNodes.length;)e.destroy(this._styleNodes.pop());delete this._styleNodes;a.mixin(this,n._ContentSetter.prototype)}});n.set=function(b,g,h){return h?(new n._ContentSetter(a.mixin(h,{content:g,node:b}))).set():c._setNodeContent(b,g,!0)};return n})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/declare dojo/touch dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){k.experimental("dojox.layout.ResizeHandle");var u=n("dojox.layout._ResizeHelper",q,{show:function(){p.set(this.domNode,"display","")},hide:function(){p.set(this.domNode,"display","none")},resize:function(a){g.setMarginBox(this.domNode,a)}});return n("dojox.layout.ResizeHandle",[q,t],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,s.press,"_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=r.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new u({id:"dojoxGlobalResizeHelper"})).placeAt(f.body()),
h.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var a=d.partial(h.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;a("dojoxResizeNW");break;case "x":this._resizeX=!0;a("dojoxResizeW");break;case "y":this._resizeY=!0,a("dojoxResizeN")}},_beginSizing:function(a){if(!this._isSizing&&
(e.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=r.byId(this.targetId))?this.targetWidget.domNode:m.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var c=g.position(this.targetDomNode,!0);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:c.x,t:c.y})}this._isSizing=!0;this.startPoint={x:a.clientX,y:a.clientY};
var c=p.getComputedStyle(this.targetDomNode),h="border-model"===g.boxModel?{w:0,h:0}:g.getPadBorderExtents(this.targetDomNode,c),d=g.getMarginExtents(this.targetDomNode,c);this.startSize={w:p.get(this.targetDomNode,"width",c),h:p.get(this.targetDomNode,"height",c),pbw:h.w,pbh:h.h,mw:d.w,mh:d.h};!this.isLeftToRight()&&"absolute"==p.get(this.targetDomNode,"position")&&(c=g.position(this.targetDomNode,!0),this.startPosition={l:c.x,t:c.y});this._pconnects=[e.connect(f.doc,s.move,this,"_updateSizing"),
e.connect(f.doc,s.release,this,"_endSizing")];b.stop(a)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(g){return!1}this._activeResizeLastEvent=a;var h=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),d=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
h:0);d=this._checkConstraints(a,this.startSize.h-(this._resizeY?d:0));if((c=c||this.startPosition)&&this._resizeX)d.l=c.l+h,d.w!=a&&(d.l+=a-d.w),d.t=c.t;switch(b){case "margin":d.w+=this.startSize.mw;d.h+=this.startSize.mh;break;case "border":d.w+=this.startSize.pbw,d.h+=this.startSize.pbh}return d},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=
this.startSize.w,g=this.startSize.h,h=c*b-g*a;0>h?a=b*c/g:0<h&&(b=a*g/c)}return{w:a,h:b}},_changeSizing:function(b){var c=this.targetWidget&&d.isFunction(this.targetWidget.resize),g=this._getNewCoords(b,c&&"margin");if(!1!==g&&(c?this.targetWidget.resize(g):this.animateSizing?l[this.animateMethod]([a.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:g.w}},duration:this.animateDuration}),a.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,
end:g.h}},duration:this.animateDuration})]).play():p.set(this.targetDomNode,{width:g.w+"px",height:g.h+"px"}),this.intermediateChanges))this.onResize(b)},_endSizing:function(a){c.forEach(this._pconnects,e.disconnect);var b=d.partial(e.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(a){}})})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g){e.isAsync||h(0,function(){g(["./fx/Toggler"])});e=e.fx={};h={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var p=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;c.forEach(this._animations,function(a){a&&("undefined"!=typeof a.duration&&(this.duration+=a.duration),a.delay&&(this.duration+=a.delay))},this)};p.prototype=new d;k.extend(p,{_onAnimate:function(){this._fire("onAnimate",
arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=b.after(this._current,"onAnimate",k.hitch(this,"_onAnimate"),!0),this._onEndCtx=b.after(this._current,"onEnd",k.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,c){this._current||(this._current=this._animations[this._index=0]);if(!c&&"playing"==
this._current.status())return this;var g=b.after(this._current,"beforeBegin",k.hitch(this,function(){this._fire("beforeBegin")}),!0),h=b.after(this._current,"onBegin",k.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),d=b.after(this._current,"onPlay",k.hitch(this,function(a){this._fire("onPlay",arguments);g.remove();h.remove();d.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=b.after(this._current,"onAnimate",k.hitch(this,"_onAnimate"),!0);this._onEndCtx&&
this._onEndCtx.remove();this._onEndCtx=b.after(this._current,"onEnd",k.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=b.after(this._current,"onPause",k.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var g=this.duration*a;this._current=null;c.some(this._animations,function(a,b){if(g<=a.duration)return this._current=a,this._index=
b,!0;g-=a.duration;return!1},this);this._current&&this._current.gotoPercent(g/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var c=b.after(this._current,"onStop",k.hitch(this,function(a){this._fire("onStop",arguments);c.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():
"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});k.extend(p,h);e.chain=function(a){return new p(k.isArray(a)?a:Array.prototype.slice.call(a,0))};var n=function(g){this._animations=g||[];this._connects=[];this.duration=this._finished=0;c.forEach(g,function(a){var c=a.duration;a.delay&&(c+=a.delay);this.duration<c&&(this.duration=c);this._connects.push(b.after(a,"onEnd",k.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=
new a.Animation({curve:[0,1],duration:this.duration});var h=this;c.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){h._connects.push(b.after(h._pseudoAnimation,a,function(){h._fire(a,arguments)},!0))})};k.extend(n,{_doAction:function(a,b){c.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,
b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var g=this.duration*a;c.forEach(this._animations,function(a){a.gotoPercent(a.duration<g?1:g/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},
destroy:function(){this.stop();c.forEach(this._connects,function(a){a.remove()})}});k.extend(n,h);e.combine=function(a){return new n(k.isArray(a)?a:Array.prototype.slice.call(a,0))};e.wipeIn=function(c){var g=c.node=f.byId(c.node),h=g.style,d;c=a.animateProperty(k.mixin({properties:{height:{start:function(){d=h.overflow;h.overflow="hidden";if("hidden"==h.visibility||"none"==h.display)return h.height="1px",h.display="",h.visibility="",1;var a=l.get(g,"height");return Math.max(a,1)},end:function(){return g.scrollHeight}}}},
c));var m=function(){h.height="auto";h.overflow=d};b.after(c,"onStop",m,!0);b.after(c,"onEnd",m,!0);return c};e.wipeOut=function(c){var g=(c.node=f.byId(c.node)).style,h;c=a.animateProperty(k.mixin({properties:{height:{end:1}}},c));b.after(c,"beforeBegin",function(){h=g.overflow;g.overflow="hidden";g.display=""},!0);var d=function(){g.overflow=h;g.height="auto";g.display="none"};b.after(c,"onStop",d,!0);b.after(c,"onEnd",d,!0);return c};e.slideTo=function(c){var g=null,h=null,d=function(a){return function(){var b=
l.getComputedStyle(a),c=b.position;g="absolute"==c?a.offsetTop:parseInt(b.top)||0;h="absolute"==c?a.offsetLeft:parseInt(b.left)||0;"absolute"!=c&&"relative"!=c&&(b=m.position(a,!0),g=b.y,h=b.x,a.style.position="absolute",a.style.top=g+"px",a.style.left=h+"px")}}(c.node=f.byId(c.node));d();c=a.animateProperty(k.mixin({properties:{top:c.top||0,left:c.left||0}},c));b.after(c,"beforeBegin",d,!0);return c};return e})},"dojox/layout/Dock":function(){define("dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/on dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){d=e("dojox.layout.Dock",[s,n],{templateString:'\x3cdiv class\x3d"dojoxDock"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"dojoxDockList"\x3e\x3c/ul\x3e\x3c/div\x3e',_docked:[],_inPositioning:!1,autoPosition:!1,addNode:function(a){var b=p.create("li",null,this.containerNode);a=new r({title:a.title,paneRef:a},b);a.startup();return a},startup:function(){if("dojoxGlobalFloatingDock"==this.id||this.isFixedDock)this.own(b(window,"resize",k.hitch(this,
"_positionDock")),b(window,"scroll",k.hitch(this,"_positionDock"))),f("ie")&&this.own(b(this.domNode,"resize",k.hitch(this,"_positionDock")));this._positionDock(null);this.inherited(arguments)},_positionDock:function(a){this._inPositioning||"south"==this.autoPosition&&this.defer(function(){this._inPositiononing=!0;var a=l.getBox(),b=this.domNode.style;b.left=a.l+"px";b.width=a.w-2+"px";b.top=a.h+a.t-this.domNode.offsetHeight+"px";this._inPositioning=!1},125)}});var r=e("dojox.layout._DockNode",[s,
n],{title:"",paneRef:null,templateString:'\x3cli data-dojo-attach-event\x3d"onclick: restore" class\x3d"dojoxDockNode"\x3e\x3cspan data-dojo-attach-point\x3d"restoreNode" class\x3d"dojoxDockRestoreButton" data-dojo-attach-event\x3d"onclick: restore"\x3e\x3c/span\x3e\x3cspan class\x3d"dojoxDockTitleNode" data-dojo-attach-point\x3d"titleNode"\x3e${title}\x3c/span\x3e\x3c/li\x3e',restore:function(){this.paneRef.show();this.paneRef.bringToTop();this.destroy()}});return d})},"MW/uiframework/MnemonicsStates":function(){define(["dojo/dom-class",
"MW/uiframework/FocusManager"],function(k,d){return{_currentMnemonicsState:void 0,_toolstrip:void 0,NULL_NULL:1,NULL_CONTROL:2,NULL_TAB:3,CONTROL_TAB:4,TAB_TAB:5,getCurrentMnemonicsState:function(){return this._currentMnemonicsState},setCurrentMnemonicsState:function(d,c){this._currentMnemonicsState=d;("undefined"!==typeof c?c:1)&&this._manageToolstripFocus(d)},setToolstrip:function(d){this._toolstrip=d},_manageToolstripFocus:function(e){e===this.NULL_NULL?d.refuseFocus(this._toolstrip.domNode):d.temporaryFocus(this._toolstrip.domNode);
k.toggle(document.body,"mnemonicsMode",e!==this.NULL_NULL)}}})},"MW/uiframework/FocusManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/query dijit/popup dijit/registry".split(" "),function(k,d,e,c,b,a,f,l){var m=function(a){for(;a;){if(a.getAttribute&&"refuse"===a.getAttribute("data-focus")||"refuse"===c.get(a,"data-focus"))return!0;a=a.parentNode}return!1},h=function(a){for(;a;){if("temporary"===c.get(a,"data-focus"))return!0;a=a.parentNode}return!1},
g=function(b){for(var g=a("[data-tag\x3d'motwToolstrip.figureTab.menuAndToolbars.menubarWrapper']"),g=0<g.length?g[0]:null;b&&!("accept"===c.get(b,"data-focus")||g&&e.isDescendant(b,g));){if("refuse"===c.get(b,"data-focus"))return!1;b=b.parentNode}return!0},p=null,n=null,s=null,r=k(null,{_restoreFocusToLastNonRefuseElementHandler:function(){r.restoreToLastNonRefuseElement()},_restoreFocusHandler:function(){r.restoreFocus()},_blurHandler:function(){r._windowBlurred=!0},_mouseDownHandler:function(a){!h(a.target)&&
!g(a.target)&&(m(a.target)?setTimeout(function(){0===f._stack.length&&(l.getEnclosingWidget(n)&&l.getEnclosingWidget(n).set("focused",!0),n&&n.focus())},0):0<f._stack.length?setTimeout(function(){n&&n.focus()},0):n=a.target)},_focusHandler:function(a){if("IFRAME"!==a.target.tagName)if(!0===r._windowBlurred)r._windowBlurred=!1,r.restoreFocus();else if(p=a.target,!m(p)&&!h(p)&&(s=a.target),!(p.getAttribute&&"temporary"===p.getAttribute("data-focus")||"temporary"===c.get(p,"data-focus"))&&!h(p))g(p)?
a.target!==document.body&&(n=a.target):m(p)?n?setTimeout(function(){var c;if(!(c=0===f._stack.length&&n))a:{for(c=a.target;c;){if(b.contains(c,"dijitPopup")){c=!0;break a}c=c.parentNode}c=!1}c&&n.focus()},0):document.activeElement.blur():a.target!==document.body&&(n=a.target)},_closeHandler:function(a){a.target.contains(document.activeElement)&&n&&n.focus()},constructor:function(a,b){r._instantiated=!0;b&&r.refuseFocus(b.domNode);document.addEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);
document.addEventListener("restorefocus",this._restoreFocusHandler);window.addEventListener("blur",this._blurHandler);window.addEventListener("focus",this._focusHandler,!0);document.addEventListener("mousedown",this._mouseDownHandler,!0);document.addEventListener("close",this._closeHandler,!0);document.body.classList.add("mwHasFocusManager")},destroy:function(){document.removeEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);document.removeEventListener("restorefocus",
this._restoreFocusHandler);window.removeEventListener("blur",this._blurHandler);window.removeEventListener("focus",this._focusHandler,!0);document.removeEventListener("mousedown",this._mouseDownHandler,!0);document.body.classList.remove("mwHasFocusManager")}});r.refuseFocus=function(a){a.setAttribute("data-focus","refuse")};r.acceptFocus=function(a){a.setAttribute("data-focus","accept")};r.temporaryFocus=function(a){a.setAttribute("data-focus","temporary")};r.restoreFocus=function(a){a?n.focus():
setTimeout(function(){n&&n.focus()},0)};r.restoreToLastNonRefuseElement=function(){setTimeout(d.hitch(this,function(){s&&s.focus()},0))};r.isAvailable=function(){return!0===r._instantiated?!0:!1};return r})},"MW/toolstrip/widgets/QAB":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAB.html ./_WidgetMixin dojo/aspect".split(" "),function(k,d,e,c,b,a,f){return k([d,e,c,a],{templateString:b,constructor:function(){this.own(f.before(this,
"addChild",function(a,b){var c=0;0<=b&&(c=b);return[a,c]}),f.after(this,"addChild",function(){this.refresh()}),f.after(this,"removeChild",function(){this.refresh()}))},postCreate:function(){this.inherited(arguments);this.refresh()},refresh:function(){this.showHideQAB();this.showHideQAGroups();this.showHideSeparators()},showHideQAB:function(){var a=0;this.getChildren().forEach(function(b){a+=b.getChildren().length});this.domNode.style.display=0===a?"none":"block"},showHideQAGroups:function(){this.getChildren().forEach(function(a){0===
a.getChildren().length?a.domNode.style.display="none":a.domNode.style.display="inline-block"},this)},showHideSeparators:function(){this.getChildren().forEach(function(a,b){this._isFirstVisibleQAGroup(a,b)?a.separatorNode.style.display="none":a.separatorNode.style.display="inline-block"},this)},_isFirstVisibleQAGroup:function(a,b){var c=this.getChildren(),g,d=!1;g=0;if(0===b)return!0;for(;g<=b-1;)"none"===c[g].domNode.style.display&&(d=!0),g+=1;return d},restoreFactoryControls:function(){}})})},"MW/toolstrip/widgets/QAGroup":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAGroup.html ./_WidgetMixin ./_ChildrenWrapperMixin ../utils/DragSorter dojo/aspect".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k([e,c,b,f,l],{templateString:a,constructor:function(){var a=this;this.own(h.before(this,"addChild",function(a,b){var c=0;0<=b&&(c=b);return[a,c]}),h.after(this,"addChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}),h.after(this,"removeChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}))},postCreate:function(){this.inherited(arguments);this.enableQABCustomization&&(this._dragSorter=new m({containerNode:this.containerNode}),
this._dragSorter.on("nodemoved",d.hitch(this,function(a){this.itemMoved({itemId:this.getChildren()[a.oldIndex].id,newIndex:a.newIndex})})))},destroy:function(){this.enableQABCustomization&&this._dragSorter.destroy();this.inherited(arguments)},itemMoved:function(){}})})},"MW/toolstrip/widgets/_ChildrenWrapperMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(k,d){return k(null,{constructor:function(){this._wrappers={};this._childrenWidgets=[]},addChild:function(e,c){var b=
d.create("div",{id:e.id+"_wrapper","class":"toolstripComponentWrapper"},this.containerNode,c);0<=c?this._childrenWidgets.splice(c,0,e):this._childrenWidgets.push(e);this.own(e);d.place(e.domNode,b);this._started&&!e._started&&e.startup();this._wrappers[e.id]=b},removeChild:function(e){var c,b=this._wrappers[e.id];this._childrenWidgets.forEach(function(a,b){e.id===a.id&&(c=b)});this._childrenWidgets.splice(c,1);b&&(e.domNode&&b.removeChild(e.domNode),d.destroy(b),delete this._wrappers[e.id])},getChildren:function(){return this._childrenWidgets}})})},
"MW/toolstrip/utils/DragSorter":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/Evented dojo/dom-construct dojo/dom-geometry".split(" "),function(k,d,e,c,b,a,f){var l=["-webkit-","-moz-","-ms-",""];return k([b],{constructor:function(b){if(void 0===b.containerNode||1!==b.containerNode.nodeType)throw Error("A containerNode needs to be provided and it should be a DOM Node!");this._dragSorterContainerNode=b.containerNode;this._currentTarget=null;this._previousPageX=0;this._dragSorterContainerNode.classList.add("mwDragSortContainer");
this._dragSortOverlay=a.create("div",{"class":"mwDragSortContainerOverlay"},document.body);this._mouseDownListenerHandle=e(this._dragSorterContainerNode,"mousedown",d.hitch(this,this._mouseDownListener));this._mouseUpListenerHandle=e(window,"mouseup",d.hitch(this,this._mouseUpListener))},_mouseDownListener:function(a){if(c.isLeft(a)&&(this._currentTarget=this._getAncestorWhichIsADirectChildOfContainerNode(a.target),null!==this._currentTarget&&1<this._dragSorterContainerNode.children.length)){var b=
f.position(this._currentTarget);this._mouseMoveListenerHandle=e(document.body,"mousemove",d.hitch(this,this._mouseMoveListener,{index:this._getIndexOfNode(this._currentTarget),position:b,leftOffset:a.pageX-b.x,rightOffset:b.x+b.w-a.pageX,mouseDownCoords:{x:a.pageX,y:a.pageY}}));this._windowSelectStartHandle=e(window,"selectstart",function(a){a.preventDefault()})}},_mouseMoveListener:function(a,b){if(!(5>=Math.abs(a.mouseDownCoords.x-b.pageX)&&5>=Math.abs(a.mouseDownCoords.y-b.pageY))){this._mouseMoveHappened=
!0;var c=f.position(this._dragSorterContainerNode),d=f.getPadBorderExtents(this._dragSorterContainerNode),l=c.x+a.leftOffset+d.l,d=c.x+c.w-a.rightOffset-d.r,e=b.pageX,c=null;this._currentTarget.classList.add("mwDragTarget");document.body.classList.add("mwDragging");e<l?e=l:e>d&&(e=d);this._currentTarget.style.left=e-a.position.x-a.leftOffset+"px";c=b.pageX>this._previousPageX?"r":"l";this._previousPageX=b.pageX;l=this._findNodesOnEitherSide(c);for(d=0;d<this._dragSorterContainerNode.children.length;d++)if(e=
this._dragSorterContainerNode.children[d],e!==this._currentTarget){var r=f.position(e),k=f.position(this._currentTarget);"r"===c?d>=a.index?k.x+k.w>=r.x+r.w/2&&this._applyTranslateX(e,-k.w):-1<l.left.indexOf(e)&&"0"!==e.getAttribute("data-translated")&&this._applyTranslateX(e,0):"l"===c&&(d<=a.index?k.x<=r.x+r.w/2&&this._applyTranslateX(e,k.w):-1<l.right.indexOf(e)&&"0"!==e.getAttribute("data-translated")&&this._applyTranslateX(e,0))}}},_mouseUpListener:function(){this._mouseMoveListenerHandle&&this._mouseMoveListenerHandle.remove();
this._windowSelectStartHandle&&this._windowSelectStartHandle.remove();if(this._mouseMoveHappened){if(null!==this._currentTarget){var a=this._getIndexOfNode(this._currentTarget);this._moveCurrentTargetToNewLocation();this._currentTarget.style.left="";this._currentTarget.classList.remove("mwDragTarget");document.body.classList.remove("mwDragging");this._resetAllSiblingTranslateX();this.emit("nodemoved",{node:this._currentTarget,oldIndex:a,newIndex:this._getIndexOfNode(this._currentTarget)});this._currentTarget=
null}this._mouseMoveHappened=!1}},_findNodesOnEitherSide:function(a){var b={left:[],right:[]},c=f.position(this._dragSorterContainerNode),d=f.getPadBorderExtents(this._dragSorterContainerNode),l=f.position(this._currentTarget);2>=l.x-c.x-d.l?b.right=this._getCurrentTargetSiblings():2>=c.x+c.w-l.x-l.w-d.l?b.left=this._getCurrentTargetSiblings():this._getCurrentTargetSiblings().forEach(function(c){var g=f.position(c);("l"===a?l.x:l.x+l.w)>=g.x+g.w/2?b.left.push(c):b.right.push(c)});return b},_getIndexOfNode:function(a){return Array.prototype.indexOf.call(this._dragSorterContainerNode.children,
a)},_getCurrentTargetSiblings:function(){return[].slice.call(this._dragSorterContainerNode.children).filter(function(a){return a!==this._currentTarget},this)},_getAncestorWhichIsADirectChildOfContainerNode:function(a){var b=null;if(a!==this._dragSorterContainerNode)for(b=a;b.parentNode!==this._dragSorterContainerNode;)b=b.parentNode;return b},_moveCurrentTargetToNewLocation:function(){var b=null,c=f.position(this._dragSorterContainerNode),g=f.getPadBorderExtents(this._dragSorterContainerNode),d=f.position(this._currentTarget),
l=d.x-(c.x+g.l),c=l;this._getCurrentTargetSiblings().forEach(function(a){var c=f.position(a),c=Math.abs(d.x-(c.x+c.w));c<l&&(b=a,l=c)});l===c?a.place(this._currentTarget,this._dragSorterContainerNode,"first"):a.place(this._currentTarget,b,"after")},_applyTranslateX:function(a,b){a.setAttribute("data-translated",b);l.forEach(function(c){a.style[c+"transform"]="translate("+b+"px, 0)"})},_resetAllSiblingTranslateX:function(){this._getCurrentTargetSiblings().forEach(function(a){a.classList.add("mwNoTransition");
this._applyTranslateX(a,0);a.offsetHeight;a.classList.remove("mwNoTransition")},this)},destroy:function(){this._mouseDownListenerHandle.remove();this._mouseUpListenerHandle.remove();this._dragSorterContainerNode.classList.remove("mwDragSortContainer");a.destroy(this._dragSortOverlay)}})})},"MW/toolstrip/widgets/TabGroup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/TabGroup.html dijit/_Contained dijit/registry ./_WidgetMixin".split(" "),function(k,
d,e,c,b,a,f){return k([d,e,b,f],{templateString:c,constructor:function(){this.tabs=[]},addChild:function(a,b){var c=0,g=null,d,f=0,e,r;!b&&0!==b&&(b=this.tabs.length);this.tabs.splice(b,0,a);if(d=this.getParent()){r=d.getChildren();for(e=r.length;f<e;){if(this===r[f]){0<=b&&(g=c+b);break}c+=r[f].tabs.length;f+=1}d.addTab(a,g)}this.emit("childadded")},removeChild:function(a){var b=this.getParent(),c;c=this.tabs.indexOf(a);-1<c&&this.tabs.splice(c,1);0===this.tabs.length&&this.set("selectedTab","");
b&&b.removeTab(a);this.emit("childremoved")},_setSelectedTabAttr:function(b){var c=this.getParent(),d=a.byId(b);c&&b&&(c.selectTab(d),c.getChildren().forEach(function(a){a!==this&&a.set("selectedTab","")},this));this._set("selectedTab",b)}})})},"MW/toolstrip/widgets/Tab":function(){define("dojo/_base/declare dojo/dom-construct dijit/layout/ContentPane dijit/registry dojo/query dojo/dom-geometry MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(k,d,
e,c,b,a,f,l){return k([e,f,l],{constructor:function(){this["class"]="tabContentPane"},postCreate:function(){this.containerNode=d.create("span",{"class":"sectionContainer"},this.domNode)},resize:function(){if(!this.getParent().getParent()._ignoreResize){this.inherited(arguments);var b,c,g,d,f,l,e,k=0;if(!this._destroyed)if(this.inherited(arguments),l=this._getAllDescendantGalleries(),e=l.length,c=this.getChildren(),g=c.length,c.sort(function(a,b){var c=0;a.collapsePriority>b.collapsePriority?c=-1:
a.collapsePriority<b.collapsePriority&&(c=1);return c}),d=this._getWidthOfAllSections(),f=a.position(this.domNode).w,f<d){for(b=e-1;0<=b;){for(;f<d;){if(!l[b].shrink()){k+=1;break}d=this._getWidthOfAllSections();f=a.position(this.domNode).w}b-=1}if(k===e){for(b=g-1;0<=b&&f<d;)c[b].hideDescendantLabels(),d=this._getWidthOfAllSections(),f=a.position(this.domNode).w,b-=1;for(b=g-1;0<=b&&f<d;)c[b].collapse(),d=this._getWidthOfAllSections(),f=a.position(this.domNode).w,b-=1}}else{for(b=0;b<g&&f>d;){c[b].expand();
d=this._getWidthOfAllSections();f=a.position(this.domNode).w;if(f<d){c[b].collapse();break}b+=1}for(b=0;b<g&&f>d;){c[b].showDescendantLabels();d=this._getWidthOfAllSections();f=a.position(this.domNode).w;if(f<d){c[b].hideDescendantLabels();break}b+=1}if(b===g){l=this._getAllDescendantGalleries();e=l.length;for(b=0;b<e;){for(;f>d;)if(l[b].grow()){if(d=this._getWidthOfAllSections(),f=a.position(this.domNode).w,f<d){l[b].shrink();break}}else break;b+=1}}}}},_getAllDescendantGalleries:function(){return b(".gallery",
this.domNode).map(function(a){return c.byNode(a)})},_getWidthOfAllSections:function(){var b,c,g,d=0;b=this.getChildren();c=b.length;for(g=0;g<c;g++)d+=a.position(b[g].domNode).w;return d+20}})})},"MW/toolstrip/mixins/property/RemovableMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_removable:!1,_removeMessage:"",_getRemovableAttr:function(){return this.get("_removable")},_setRemovableAttr:function(d){if("boolean"!==typeof d)throw Error("'removable' property expected a boolean value.");
this._set("_removable",d)},_getRemoveMessageAttr:function(){return this.get("_removeMessage")},_setRemoveMessageAttr:function(d){if("string"!==typeof d)throw Error("'_removeMessage' property expected a string value.");this._set("_removeMessage",d)},_emitRemoveEvent:function(){this.emit("remove");this.remove()},remove:function(){}})})},"MW/toolstrip/widgets/Section":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Section.html ./_WidgetMixin MW/toolstrip/form/SectionDropDownButton ./SectionPopup mw-mixins/ResizeMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){var s=["PushButton","DropDownButton","SplitButton","ToggleButton","ToggleSplitButton"];return k([a,f,l,h,n],{templateString:m,constructor:function(){this._isCollapsed=!1},_createSectionPopup:function(){this._sectionPopup=new p;this.own(this._sectionPopup);this._sectionDropDownButton=new g({menu:this._sectionPopup,label:this.get("title")});this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1");this.own(this._sectionDropDownButton);this.own(e.after(this._sectionDropDownButton,
"openDropDown",d.hitch(this,function(){})));this.own(e.after(this._sectionDropDownButton,"closeDropDown",d.hitch(this,function(){this.emit("restorefocus")})));this._sectionPopup.domNode.setAttribute("data-focus","temporary");this._sectionDropDownButton.placeAt(this.sectionDropDownContainer);this._sectionDropDownButton.startup();this._sectionDropDownButton.set("text",this.title)},_setTitleAttr:function(a){this.titleNode.textContent=a;this._sectionDropDownButton&&this._sectionDropDownButton.set("label",
a);this._set("title",a)},collapse:function(){this._sectionPopup||this._createSectionPopup();var a;this._isCollapsed||-1===this.collapsePriority?a=!1:(this._isCollapsed=a=!0,this.sectionWrapper.style.display="none",this.sectionDropDownContainer.style.display="inline-block",c.place(this.columnContainerWrapper,this._sectionDropDownButton.menu.domNode),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1"));return a},expand:function(){var a;this._isCollapsed?(a=!0,this._isCollapsed=!1,this.sectionWrapper.style.display=
"inline-block",this.sectionDropDownContainer.style.display="none",c.place(this.columnContainerWrapper,this.sectionWrapper,"first"),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","0")):a=!1;return a},showDescendantLabels:function(){this.domNode.classList.remove("mwHideDescendantLabels");this._updateDescendantTitle(!0)},hideDescendantLabels:function(){this.domNode.classList.add("mwHideDescendantLabels");this._updateDescendantTitle(!1)},getPopup:function(){return this._sectionPopup},closePopup:function(){this.isPopupOpen()&&
this._sectionDropDownButton.closeMenu()},addChild:function(a){this.inherited(arguments);"Column"===a.type&&a.updateChildrenOrientations()},isPopupOpen:function(){return!this._sectionPopup?!1:this._sectionDropDownButton.menu.domNode.parentNode&&"none"!==this._sectionDropDownButton.menu.domNode.parentNode.style.display},_updateDescendantTitle:function(a){var c,g;s.forEach(d.hitch(this,function(d){g=this.domNode.querySelectorAll("[data-type\x3d"+d+"]");for(c=0;c<g.length;++c)d=b.getEnclosingWidget(g[c]),
"Horizontal"===d.orientation&&(a?d._updateTitle(d.get("description")):d._updateTitle(d.get("text")))}))}})})},"MW/toolstrip/form/SectionDropDownButton":function(){define("dojo/_base/declare MW/toolstrip/form/DropDownButton ../mixins/property/IconOverrideMixin ../mixins/property/OrientationMixin ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/property/ShortcutMixin ../mixins/property/MenuIdMixin mw-mixins/mixinDependencyValidator".split(" "),function(k,d,e,c,b,a,f,l,m){return k(m.validate([d,
e,c,b,a,f,l]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionDropDownButton",type:"SectionDropDownButton",minWidth:38,orientation:"Vertical",verticalHeight:92,doNotSize:!0,postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},_setLabelAttr:function(a){if("string"!==typeof a)throw Error("'label' property must be of type string.");this.set("text",a);this.focusNode.setAttribute("title",a)},_setDescriptionAttr:function(){},_setShortcutAttr:function(){},_setPlatformizeShortcutAttr:function(){},
_getLabelAttr:function(){return this.get("text")},_getTextForDOM:function(a){return a}})})},"MW/toolstrip/form/DropDownButton":function(){define("dojo/_base/declare mw-form/DropDownButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TypeMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){return k(t.validate([d,e,c,b,a,f,l,m,h,g,p,n,s,r,q]),{visualFamily:"toolstrip",minWidth:38})})},"mw-form/DropDownButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/DropDownButton.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A){return k(C.validate([d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B]),{baseClass:"mwWidget mwDropDownButton",templateString:A})})},"mw-mixins/property/ArrowModeMixin":function(){define(["dojo/_base/declare"],function(k){var d=["auto","inline","block"];return k(null,{arrowMode:"auto",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwArrowModeMixin")},_setArrowModeAttr:function(e){if("string"!==typeof e||-1===d.indexOf(e))throw Error("'arrowMode' property expects one of these values: "+
d);this.domNode.classList.add("mwArrowMode"+this._capitalize(e));d.forEach(function(c){c!==e&&this.domNode.classList.remove("mwArrowMode"+this._capitalize(c))},this);this._set("arrowMode",e)},_capitalize:function(d){return d.charAt(0).toUpperCase()+d.slice(1)}})})},"mw-mixins/property/ValidationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(k,d,e,c,b,
a,f,l,m){var h=k([l,m],{templateString:'\x3cdiv class\x3d"mwValidationTooltipDialog"\x3e\x3cdiv class\x3d"mwArrowNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwContentsNode" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',_setTextAttr:function(a){this.textNode.textContent=a;this._set("text",
a)}}),g=["error","warning","normal"];return k(null,{warningText:"",errorText:"",validationState:"normal",_setErrorTextAttr:function(a){if("string"!==typeof a)throw Error("errorText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("errorText",a)},_setWarningTextAttr:function(a){if("string"!==typeof a)throw Error("warningText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("warningText",a)},_setValidationStateAttr:function(a){if("string"!==
typeof a)throw Error("validationState property expects a 'string'!");if(-1===g.indexOf(a.toLowerCase()))throw Error("validationState property expects the value to be 'normal', 'error' or 'warning'!");this._set("validationState",a);var b=!1,c=!1;"error"===a.toLowerCase()?(c=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("errorText"))):"warning"===a.toLowerCase()&&(b=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("warningText")));this.validationTooltip&&
(this.domNode.classList.contains("mwWidgetFocused")&&(this.validationTooltip.domNode.classList.add("mwValidationFocused"),this._placeTooltip()),c?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):(this._getDomNodeForValidationClasses().classList.remove("mwValidationError"),this.validationTooltip.domNode.classList.remove("mwErrorTooltip")),b?this.validationTooltip.domNode.classList.add("mwWarningTooltip"):this.validationTooltip.domNode.classList.remove("mwWarningTooltip"),
"normal"===a.toLowerCase()&&(this.validationTooltip.domNode.style.visibility="hidden"))},_createValidationTooltip:function(){this.validationTooltip||(this.validationTooltip=new h,this.validationTooltip.startup(),this.own(this.validationTooltip),this._addTooltipEvents())},_flipDomOrder:function(a){var c=a.children[1];b.place(a.children[0],b.place(c,a),"after");b.place(c.children[0],b.place(c.children[1],c),"after")},_tooltipOrientation:function(){return this.validationTooltip.domNode.classList.contains("mwTooltipLeft")?
"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){b.place(this.validationTooltip.domNode,f.body());var a=c.position(this.domNode),g,d,h,l,e,m,k,v=!1;g=a.x;d=a.y;h=a.w;"error"===this.validationState?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.set("text",this.errorText),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):
"warning"===this.validationState&&(this.validationTooltip.set("text",this.warningText),this.validationTooltip.domNode.classList.add("mwWarningTooltip"));this.validationTooltip.domNode.style.visibility="visible";m=c.position(this.validationTooltip.domNode).h/2;e=c.position(this.domNode).h/2;a=this.validationTooltip.domNode;k=c.position(f.body()).w;l=this._calculateTooltipWidth();var x=(document.documentElement||document.body.parentNode||document.body).scrollTop;g+h+l>k?(v=!0,g=g-l+"px",d=d+e-m+x+"px",
a.children[0].classList.contains("mwArrowNode")&&this._flipDomOrder(a)):(g=g+h+"px",d=d+e-m+x+"px");v?(this.validationTooltip.domNode.classList.add("mwTooltipLeft"),this.validationTooltip.domNode.classList.remove("mwTooltipRight")):(this.validationTooltip.domNode.classList.remove("mwTooltipLeft"),this.validationTooltip.domNode.classList.add("mwTooltipRight"));this.validationTooltip.domNode.style.left=g;this.validationTooltip.domNode.style.top=d}},_calculateTooltipWidth:function(){this.validationTooltip.domNode.classList.add("mwTooltipLeft");
var a=c.position(this.validationTooltip.domNode).w;this.validationTooltip.domNode.classList.remove("mwTooltipLeft");return a},_addTooltipEvents:function(){this.own(a(this,e.enter,d.hitch(this,function(){this._placeTooltip()})),a(this,e.leave,d.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.style.visibility="hidden")})),a(this.focusNode,"focus",d.hitch(this,function(){this._placeTooltip();this.validationTooltip&&("error"===this.get("validationState")||"warning"===this.get("validationState"))&&
this.validationTooltip.domNode.classList.add("mwValidationFocused")})),a(this.focusNode,"blur",d.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.classList.remove("mwValidationFocused"),this.validationTooltip.domNode.style.visibility="hidden")})))}})})},"mw-form/mixins/property/DropDownButtonIconAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconAlignmentMixin","mw-mixins/property/ArrowModeMixin","mw-form/mixins/property/DropDownButtonArrowModeMixin"],
function(k,d,e,c){k=k(null,{_supportedValues:["left","top"],_setIconAlignmentAttr:function(){this.inherited(arguments);this.set("arrowMode",this.get("arrowMode"))}});k._dependencies=[{mixin:d,orderDependent:!0},{mixin:e,orderDependent:!1},{mixin:c,orderDependent:!1}];return k})},"mw-form/mixins/property/DropDownButtonArrowModeMixin":function(){define(["dojo/_base/declare","mw-mixins/property/ArrowModeMixin","mw-mixins/property/TextMixin","mw-form/mixins/property/DropDownButtonTextMixin"],function(k,
d,e,c){k=k(null,{_setArrowModeAttr:function(){this.inherited(arguments);this.set("text",this.get("text"))}});k._dependencies=[{mixin:d,orderDependent:!0},{mixin:e,orderDependent:!1},{mixin:c,orderDependent:!1}];return k})},"mw-form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(k,d,e,c,b){k=k(null,{_updateTextInDOM:function(a){this.inherited(arguments);
this._placeTextAndResize(a)},_placeTextAndResize:function(a){var b=this._getPeerAndPosition();d.place(this.textNode,b.peer,b.position);this._placeTextInNode(a,this.lastTextLineNode);this.set("width",this.get("width"));this.set("height",this.get("height"))},_getPeerAndPosition:function(){var a={};this._isInline()?(a.peer=this.arrowNode,a.position="before"):(a.peer=this.iconNode,a.position="after");return a},_getSplitTextAtLastNewLineCharacter:function(a){var b={};if(this._isInline()){var c=a.lastIndexOf("\n");
0<=c?(b.mainText=a.substring(0,c),b.lastTextLine=a.substring(c+1,a.length)):"left"===this.get("iconAlignment")?(b.mainText="",b.lastTextLine=a):(b.mainText=a,b.lastTextLine="")}else b.mainText=a,b.lastTextLine="";return b},_isInline:function(){return"inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")&&"top"===this.get("iconAlignment")},_getTextForDOM:function(a,b){a=this.inherited(arguments);var c=this._getSplitTextAtLastNewLineCharacter(a);return b===this.textNode?c.mainText:b===this.lastTextLineNode?
c.lastTextLine:a}});k._dependencies=[{mixin:e,orderDependent:!0},{mixin:c,orderDependent:!1},{mixin:b,orderDependent:!1}];return k})},"mw-form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-mixins/property/SizeMixin"],function(k,d,e){k=k(null,{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,doNotSize:!1,_setSize:function(c,b){this.inherited(arguments);if(this._started&&!this.doNotSize){var a="";if("auto"!==b){var f,l,e;l=d.getMarginBox(this.get("iconNode"));
var h=d.getMarginBox(this.get("textNode"));e=d.getMarginBox(this.get("arrowNode"));a=parseFloat(this._getAdjustedSize(c,b,this.domNode));if("width"===c&&"left"===this.get("iconAlignment")&&"inline"===this.get("arrowMode"))f=l.w+e.w,a<f?(f=a/2,a/=2):(l=f/2-l.w,e=f/2-e.w,f=a/2-l,a=a/2-e),this._setDomStyles("width",f,a);else if("height"===c&&"top"===this.get("iconAlignment")&&("inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")))f=l.h+h.h+e.h+1,0>f&&(f=0),a<f?(f=a/2,a/=2):(l=f/2-l.h,e=f/
2-(h.h+e.h),f=a/2-l+1,a=a/2-e-1),this._setDomStyles("height",f,a);else if("width"===c&&"left"===this.get("iconAlignment")&&("block"===this.get("arrowMode")||"auto"===this.get("arrowMode")))f=a-e.w,a=e.w,this._setDomStyles("width",f,a);else if("height"===c&&"top"===this.get("iconAlignment")&&"block"===this.get("arrowMode"))f=a-e.h-3,a=e.h+1,this._setDomStyles("height",f,a);else if("width"===c)a=(a<this.maxWidth?a:this.maxWidth)>this.minWidth?a:this.minWidth,this._setDomStyles("width",a,a);else if("height"===
c)a=(a<this.maxHeight?a:this.maxHeight)>this.minHeight?a:this.minHeight,this._setDomStyles("height",a,a);else throw Error("Invalid property value. The size type property expects one of these values: {'width', 'height', 'auto'}");}else this.domNode.style["min"+this._capitalize(c)]=this["min"+this._capitalize(c)]+"px";this._set(c,b)}},_setDomStyles:function(c,b,a){this.buttonNode.style[c]=b+"px";this.buttonNode.style["max"+this._capitalize(c)]=b+"px";this.dropDownNode.style[c]=a+"px";this.dropDownNode.style["max"+
this._capitalize(c)]=a+"px"},_capitalize:function(c){return c.charAt(0).toUpperCase()+c.slice(1)}});k._dependencies=[{mixin:e,orderDependent:!0}];return k})},"MW/toolstrip/mixins/property/MnemonicMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{mnemonic:"",postCreate:function(){this.inherited(arguments);this._updateMnemonicInDOM(this.get("mnemonic"))},_setMnemonicAttr:function(d){if("string"!==typeof d)throw Error("mnemonic property expects a String!");this._started&&this._updateMnemonicInDOM(d);
this._set("mnemonic",d)},_updateMnemonicInDOM:function(d){if(0<d.length){if(d.split("").some(function(d){return 65>d.charCodeAt(0)||90<d.charCodeAt(0)}))throw Error("mnemonic property should be a String of uppercase characters!");this.focusNode.setAttribute("data-mnemonic",d)}}})})},"MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin":function(){define(["dojo/_base/declare"],function(k){var d=["all","none","horizontal","vertical"];return k(null,{mnemonicKeyNavDirection:"all",postCreate:function(){this.inherited(arguments);
this._updateMnemonicKeyNavDirectionInDOM(this.get("mnemonicKeyNavDirection"))},_setMnemonicKeyNavDirectionAttr:function(e){if(-1===d.indexOf(e))throw Error("'mnemonicKeyNavDirection' property expects one of these values: "+d);this._started&&this._updateMnemonicKeyNavDirectionInDOM(e);this._set("mnemonicKeyNavDirection",e)},_updateMnemonicKeyNavDirectionInDOM:function(d){this.focusNode.setAttribute("data-mnemonic-key-nav-direction",d)}})})},"MW/toolstrip/mixins/property/IconOverrideMixin":function(){define(["dojo/_base/declare",
"mw-mixins/property/IconMixin"],function(k,d){var e=k(null,{iconOverride:"",iconProp:"icon",postCreate:function(){this.inherited(arguments);this.set("iconOverride",this.get("iconOverride"))},_setIconOverrideAttr:function(c){if("string"!==typeof c)throw Error("'iconOverride' property expects a literal string!");this._removeOldIcon(this.get("iconOverride"));this._set("iconOverride",c);this._updateDOM(c)},_updateDOM:function(c){c=""!==this.iconOverride?this.iconOverride:this[this.iconProp]?this[this.iconProp]:
this.icon;arguments[0]=c;this.inherited(arguments)},_setIconPropAttr:function(c){this._set("iconProp",c);this._updateDOM(c)}});e._dependencies=[{mixin:d,orderDependent:!0}];return e})},"MW/toolstrip/mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this._addTextContentClass();this.set("text",this.get("text"))},_addTextContentClass:function(){(this.textNode||
this.domNode).classList.add("mwTextContent")},_getTextForDOM:function(d,e){return d},_placeTextInNode:function(d,e){e=e||this.textNode;this.textNode.setAttribute("data-text-content",this._getTextForDOM(d,e))}})})},"MW/toolstrip/mixins/property/SizeMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{postCreate:function(){this.inherited(arguments);this.height=this.width="auto"},_setHeightAttr:function(d){},_getHeightAttr:function(){return"Horizontal"===this.get("orientation")?
22:72}})})},"MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/SizeMixin"],function(k,d){var e=k(null,{_setSize:function(){}});e._dependencies=[{mixin:d,orderDependent:!0}];return e})},"MW/toolstrip/form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","MW/toolstrip/mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(k,
d,e,c){k=k(null,{_addTextContentClass:function(){},_getTextForDOM:function(b,a){var c,d,e=this._getTextNodes();if(a===e.inlineTextElement||a===e.lastTextLineElement){-1<(d=b.lastIndexOf("\n"))?(c=b.substring(0,d),d=b.substring(d+1,b.length)):(c=b,d="");if(a===e.inlineTextElement)return c;if(a===e.lastTextLineElement)return d}else return b},_placeTextInNode:function(b){this._getTextNodes().forEach(function(a){a.setAttribute("data-text-content",this._getTextForDOM(b,a))}.bind(this))},_getTextNodes:function(){var b=
[this.textLine,this.inlineTextLine,this.lastTextLine];b.textElement=b[0];b.inlineTextElement=b[1];b.lastTextLineElement=b[2];return b}});k._dependencies=[{mixin:d,orderDependent:!0},{mixin:e,orderDependent:!1},{mixin:c,orderDependent:!1}];return k})},"MW/toolstrip/mixins/property/OrientationMixin":function(){define(["dojo/_base/declare"],function(k){var d=["Horizontal","Vertical"];return k(null,{orientation:"Horizontal",horizontalHeight:22,verticalHeight:72,_setOrientationAttr:function(e){if(-1===
d.indexOf(e))throw Error("'orientation' property expects one of these values: "+d);this.domNode.classList.remove(this._getClassNameForOrientation(this.get("orientation")));this.domNode.classList.add(this._getClassNameForOrientation(e));"Horizontal"===e?this.set("iconProp","quickAccessIcon"):"Vertical"===e&&this.set("iconProp","icon");this._set("orientation",e)},_getClassNameForOrientation:function(d){return"mw"+d+"Orientation"}})})},"MW/toolstrip/mixins/property/TextOverrideMixin":function(){define(["dojo/_base/declare",
"MW/toolstrip/constants/MiscConstants","MW/toolstrip/mixins/property/TextMixin"],function(k,d,e){k=k(null,{textOverride:"",postCreate:function(){this.inherited(arguments);this.set("textOverride",this.get("textOverride"))},_setTextAttr:function(c){this.inherited(arguments);this._updateNoTextClass()},_setTextOverrideAttr:function(c){if("string"!==typeof c)throw Error("'textOverride' property expects a literal string!");this._placeTextInNode(c,void 0,"textOverride setter");this._set("textOverride",c);
this._updateNoTextClass()},_updateNoTextClass:function(){""===this.get("textOverride")&&""===this.get("text")||this.get("textOverride")===d.DO_NOT_DISPLAY?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(c,b,a){"textOverride setter"===a?c===d.DO_NOT_DISPLAY?c="":""===c&&(c=this.text):""!==this.textOverride&&(c=this.textOverride===d.DO_NOT_DISPLAY?"":this.textOverride);arguments[0]=c;arguments[1]=b;this.inherited(arguments)}});k._dependencies=
[{mixin:e,orderDependent:!0}];return k})},"MW/toolstrip/mixins/property/DescriptionOverrideMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin"],function(k,d){var e=k(null,{descriptionOverride:"",postCreate:function(){this.inherited(arguments);this.set("descriptionOverride",this.get("descriptionOverride"))},_setDescriptionOverrideAttr:function(c){if("string"!==typeof c)throw Error("'description' property expects a literal string!");this._updateDescription(c,!0);this._set("descriptionOverride",
c)},_updateDescription:function(c,b){b?""===c&&(c=this.description):""!==this.descriptionOverride&&(c=this.descriptionOverride);arguments[0]=c;this.inherited(arguments)}});e._dependencies=[{mixin:d,orderDependent:!0}];return e})},"MW/toolstrip/mixins/property/TypeMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{type:"",_setTypeAttr:function(d){if("string"!==typeof d)throw Error("type property expects a 'String'");this.domNode.setAttribute("data-type",d);this._set("type",
d)},postCreate:function(){this.inherited(arguments);this.set("type",this.get("type"))}})})},"MW/toolstrip/mixins/property/MenuIdMixin":function(){define(["dojo/_base/declare","dijit/registry","mw-menu/Menu","MW/toolstrip/widgets/gallery/GalleryPopup"],function(k,d,e,c){return k(null,{menuId:"",_setMenuIdAttr:function(b){this._set("menuId",b);this._syncAttributes()},_setMenuAttr:function(b){this.set("menuId",b.get("id"))},_getMenuIdAttr:function(){this._syncAttributes();return this._get("menuId")},
_getMenuAttr:function(){this._syncAttributes();return this._get("menu")},_syncAttributes:function(){var b=d.byId(this._get("menuId"))||null;this._get("menu")!==b&&(this._validateMenuAttr(b),this._set("menu",b))}})})},"MW/toolstrip/widgets/gallery/GalleryPopup":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/keys dojo/query dojo/dom-geometry dojo/_base/lang dojo/_base/window dojo/aspect dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/i18n!l10n/nls/toolstrip dojo/text!./templates/GalleryPopup.html mw-form/TextField mw-form/ToggleButton mw-form/PushButton MW/toolstrip/widgets/_PopupBase MW/toolstrip/constants/OrientationConstants MW/toolstrip/GalleryFilter MW/toolstrip/constants/TypeConstants MW/toolstrip/constants/gallery/GalleryViewConstants MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin MW/toolstrip/form/SearchTextField MW/toolstrip/ToolstripUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I){return k([n,s,r,x,A,D,F],{templateString:t,showHeader:!0,constructor:function(){this.searchBox=new G({value:""});this.own(this.searchBox);this._searchBoxValue="";this._handleCloseButtonClick=l.hitch(this,function(){p.close(this)})},buildRendering:function(){this.inherited(arguments);this.searchBox.placeAt(this.searchTextFieldContainerNode)},postCreate:function(){var a=this;this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this.galleryItemFilters={};this._createSearchBoxAndButtons();this.own(h.after(this,"addChild",function(b){b.set("displayState",a.displayState);b.set("userCustomizable",a.userCustomizable);a.galleryStateChanged()},!0));this.own(h.after(this,"removeChild",function(){a.galleryStateChanged()},!0));this._handleFocusChange=function(a){a.target&&(a.target instanceof Element&&this.domNode&&this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display&&!this.domNode.contains(a.target)&&
this.domNode!==a.target)&&p.close(this);this._handleWindowBlur(a)}.bind(this);this._handleWindowBlur=function(a){(a.target===window||a.target===document.documentElement)&&p.close(this)}.bind(this);this.domNode.style.display="none";d.place(this.domNode,m.body());this.noSearchMatchNode.style.display="none";this.noSearchMatchNode.textContent=q.noSearchMatchNode;this._buildAndAddFilters();this._startupHeaderWidgets()},_buildAndAddFilters:function(){var a=this;this.galleryItemFilters.search=new y({id:"search",
checkerFunction:function(b){var c,g;c=a._searchBoxValue;g=RegExp(a._escapeRegExp(c),"i");return""===c||g.test(b.get("text"))||g.test(b.get("description"))||g.test(b.getParent().get("title"))}});this.galleryItemFilters.onlyShowEnabled=new y({id:"onlyShowEnabled",disabled:!0,checkerFunction:function(a){return!1===a.get("disabled")}})},_checkForPopupListInFooter:function(){var b;if(this.footerContainer&&(b=0<a(".toolstripPopupList",this.footerContainer).length?!0:!1))b=a(".toolstripPopupList",this.footerContainer)[0],
b=b.getAttribute("widgetid"),b=g.byId(b),b.onOpen()},enforceFilters:function(){var b,c;c=this.getChildren();this._favCategoryWidget&&c.push(this._favCategoryWidget);c.forEach(function(c){b=c.getChildren();b.forEach(function(a){e.remove(a.domNode,"hideFromView");Object.keys(this.galleryItemFilters).forEach(function(b){b=this.galleryItemFilters[b];!b.disabled&&!b.checkerFunction(a)&&e.add(a.domNode,"hideFromView")},this)},this);a(".hideFromView",c.domNode).length>=b.length?e.add(c.domNode,"hideFromView"):
e.remove(c.domNode,"hideFromView")},this);this._toggleDisplay(this.noSearchMatchNode,a(".Category.hideFromView",this.domNode).length===c.length)},_setUserCustomizableAttr:function(a){e.remove(this.domNode,"favoritesEnabled");e.remove(this.domNode,"favoritesDisabled");!0===a?e.add(this.domNode,"favoritesEnabled"):e.add(this.domNode,"favoritesDisabled");this._set("userCustomizable",a)},_setShowHeaderAttr:function(a){!1===a?(this.header.style.display="none",this.header.classList.remove("margin")):!0===
a&&(this.header.style.display=null,this.header.classList.add("margin"));this._set("showHeader",a)},_setDisplayStateAttr:function(a){e.remove(this.domNode,C.ICON);e.remove(this.domNode,C.LIST);e.add(this.domNode,a);this._favCategoryWidget&&this._favCategoryWidget.set("displayState",a);this.getChildren().forEach(function(b){b.set("displayState",a)});this._set("displayState",a);this._updateToggleButtons()},_updateToggleButtons:function(){this.displayState===C.ICON?this.iconViewButton&&!this.iconViewButton.checked&&
this.iconViewButton.set("checked",!0):this.listViewButton&&!this.listViewButton.checked&&this.listViewButton.set("checked",!0)},_setFooterIdAttr:function(a){var b=g.byId(a);b?(0===b.getChildren().length&&(b.domNode.style.display="none"),d.place(b.domNode,this.footerContainer),b.startup(),this.footerContainer.style.display="block"):this.footerContainer.style.display="none";this._set("footerId",a)},_setFavCategoryIdAttr:function(a){var b=g.byId(a);b&&(this._favCategoryWidget=b,0===b.getChildren().length&&
e.add(b.domNode,"hideFromView"),b.set("isFavoriteCategory",!0),b.set("galleryPopupId",this.id),d.place(b.domNode,this.favCategoryContainer),this.own(b),b.set("displayState",this.displayState));this._set("favCategoryId",a)},_setPlaceholderTextAttr:function(a){this.searchBox.set("placeholder",a)},_getPlaceholderTextAttr:function(){return this.searchBox.getAttribute("placeholder")},_toggleDisplay:function(a,b){a.style.display=b?"block":"none"},_handleSearchKeyDown:function(a){a.keyCode===b.ESCAPE&&""!==
a.target.value&&(this._resetSearchBoxValue(),a.stopPropagation())},_handleSearchBoxTyping:function(a){this._searchBoxValue=a.mwEventData.currentContent;this.enforceFilters()},_createSearchBoxAndButtons:function(){var a=this;this.searchBox.on("typing",l.hitch(this,this._handleSearchBoxTyping));this.searchBox.on("keydown",l.hitch(this,this._handleSearchKeyDown));this.listViewButton=new w({icon:"icon_view_list_16",tag:"listViewButton",buttonGroup:"galleryPopupView_"+this.id});this.own(this.listViewButton);
this.listViewButton.placeAt(this.listViewButtonContainerNode);this.listViewButton.on("click",l.hitch(this,function(){this.focus()}));this.iconViewButton=new w({icon:"icon_view_icon_16",tag:"iconViewButton",buttonGroup:"galleryPopupView_"+this.id,checked:!0});this.own(this.iconViewButton);this.iconViewButton.placeAt(this.iconViewButtonContainerNode);this.iconViewButton.on("click",l.hitch(this,function(){this.focus()}));c(this.closeButtonNode,"click",this._handleCloseButtonClick);this.listViewButton.on("change",
function(b){"checked"===b.mwEventData.propertyName&&!0===b.mwEventData.newValue&&a.set("displayState",C.LIST)});this.iconViewButton.on("change",function(b){"checked"===b.mwEventData.propertyName&&!0===b.mwEventData.newValue&&a.set("displayState",C.ICON)});this._updateToggleButtons()},_calculateSearchBoxWidth:function(){var a=f.getContentBox(this.domNode),b=f.getMarginBox(this.buttonWrapper),c=f.getMarginExtents(this.searchTextFieldContainerNode);this.searchBox.set("width",a.w-b.w-(c.l+c.r))},_calculateSelfMaxHeight:function(){var a=
window.innerHeight-this.domNode.getBoundingClientRect().top;this.domNode.style.maxHeight=a+"px"},_resetSearchBoxValue:function(){this.searchBox.set("value","");this._searchBoxValue="";this.enforceFilters()},_resizeContainerNode:function(a){this.domNode.style.width=a*this.galleryItemWidth+"px"},focus:function(){this.searchBox.focusNode.focus()},_startupHeaderWidgets:function(){this.searchBox.startup();this.listViewButton.startup();this.iconViewButton.startup()},_setColumnCountAttr:function(a){if("number"!==
typeof a||0>a)throw Error("'columnCount' property expects a positive integer number!");this._set("columnCount",a)},_calculateSelfWidth:function(){var a;a=this.get("columnCount")||7;this._resizeContainerNode(a)},onOpen:function(){this.inherited(arguments);this.domNode.parentNode.classList.add("galleryPopupWrapper");this.domNode.parentNode.style.height="auto";this._calculateSearchBoxWidth();this._calculateSelfMaxHeight();this._invokingGallery||this._calculateSelfWidth();this._checkForPopupListInFooter();
this._toggleDisplay(this.noSearchMatchNode,!1);setTimeout(function(){this.focus();setTimeout(function(){document.addEventListener("mousedown",this._handleFocusChange);document.addEventListener("pointerdown",this._handleFocusChange);window.addEventListener("blur",this._handleWindowBlur);this.globalListenersCreated=!0}.bind(this),0)}.bind(this),0)},onClose:function(){this.inherited(arguments);this._resetSearchBoxValue();document.removeEventListener("mousedown",this._handleFocusChange);document.removeEventListener("pointerdown",
this._handleFocusChange);window.removeEventListener("blur",this._handleWindowBlur);delete this.globalListenersCreated;this.emit("restorefocus")},destroy:function(){this.inherited(arguments);this.globalListenersCreated&&(document.removeEventListener("mousedown",this._handleFocusChange),document.removeEventListener("pointerdown",this._handleFocusChange),window.removeEventListener("blur",this._handleWindowBlur))},galleryStateChanged:function(){},onExecute:function(){},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26")},_qeTyping:function(a){this.searchBox._qeTyping(a)},_qeCloseClick:function(){this._handleCloseButtonClick()}})})},"mw-form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin dojo/text!./templates/TextField.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y){return k(v.validate([c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,x,z]),{baseClass:"mwWidget mwTextField",templateString:y,horizontalAlignment:"left",width:150,height:22,constructor:function(){this._addKeysThatPreventTypingEvent([e.ENTER])},_handleEnterKey:function(){var a,b;a=this.inputNode.value;b=this.get("value");this.set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a);this.domNode.classList.add("mwTextFieldHighlight");this.defer(d.hitch(this,
function(){this.domNode.classList.remove("mwTextFieldHighlight")}),200)},_onKeyUp:function(a){this.inherited(arguments);a.keyCode===e.ENTER&&this._handleEnterKey()},_qeTypeOverWithEnter:function(a){var b=this.get("value");this.set("value",a);this._triggerChangeEvent("value",b,a)},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"mw-mixins/property/EditableMixin":function(){define(["dojo/_base/declare"],
function(k){return k(null,{editable:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"))},_setEditableAttr:function(d){this.inputNode.readOnly=!d;d?this.domNode.classList.remove("mwNonEditable"):this.domNode.classList.add("mwNonEditable");this._set("editable",d)}})})},"mw-mixins/property/TextInputValueMixin":function(){define(["dojo/_base/declare","dojo/on"],function(k,d){return k(null,{value:"",postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwTextInputValueMixin");this._setValueAttr(this.get("value"));this._stopChangeEventBubbling()},_setValueAttr:function(d){this.setValueInDom(d);this._set("value",d)},_stopChangeEventBubbling:function(){this.own(d(this.inputNode,"change",function(d){d.stopPropagation()}))},setValueInDom:function(d){this.inputNode.value=d}})})},"mw-form/mixins/SharedTextInputMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_FocusMixin mw-mixins/property/PlaceholderMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin".split(" "),
function(k,d,e,c,b,a,f){93;e.TAB;return k([c,b,a,f],{constructor:function(){this._preventTypingEventForKeys=[e.UP_ARROW,e.DOWN_ARROW,e.RIGHT_ARROW,e.LEFT_ARROW,e.PAGE_DOWN,e.PAGE_UP,e.HOME,e.END,e.ESCAPE,e.CAPS_LOCK,16,17,18,91,92,93]},_addKeysThatPreventTypingEvent:function(a){if(!Array.isArray(a))throw"Input to _addKeysThatPreventTypingEvent was not an array";this._preventTypingEventForKeys=this._preventTypingEventForKeys.concat(a)},postCreate:function(){this.inherited(arguments);this.on("keyup",
d.hitch(this,"_onKeyUp"))},_onKeyUp:function(a){0<=this._preventTypingEventForKeys.indexOf(a.keyCode)||this._triggerTypingEvent(this.inputNode.value)},_onBlur:function(){var a,b;a=this.inputNode.value;b=this.get("value");this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a);this.inherited(arguments)}})})},"mw-mixins/property/PlaceholderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on dijit/focus mw-mixins/property/TextInputValueMixin".split(" "),
function(k,d,e,c,b,a,f){k=k(null,{placeholder:"",_setPlaceholderAttr:function(a){if("string"!==typeof a)throw Error("'placeholder' property expects a literal string!");this.inputNode.placeholder=a;this._set("placeholder",a)}});k._dependencies=[{mixin:f,orderDependent:!1}];return k})},"mw-mixins/event/ChangeEventMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(k,d){return k(null,{_triggerChangeEvent:function(d,c,b){this.emit("change",{mwEventData:{propertyName:d,oldValue:c,
newValue:b}})},_qeTypeOverWithEnter:function(d){var c=this.get("value");this.set("value",d);this._triggerChangeEvent("value",c,d)},postCreate:function(){this.inherited(arguments);this.own(this.on("change",d.hitch(this,function(d){d.preventDefault();d.mwEventData||(d.stopPropagation(),this._triggerChangeEvent("checked",!this.get("checked"),this.get("checked")))})))}})})},"mw-mixins/event/TypingEventMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_triggerTypingEvent:function(d){this.emit("typing",
{mwEventData:{currentContent:d}})},_qeTyping:function(d){this.inputNode.value=d;this._triggerTypingEvent(d)}})})},"mw-form/ToggleButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/ToggleButton.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B){return k(y.validate([e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z]),{baseClass:"mwWidget mwToggleButton",templateString:B,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}}})})},"mw-mixins/property/CheckedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-mixins/event/ChangeEventMixin"],function(k,d,e,c){k=k(null,{checked:!1,checkableNode:null,postCreate:function(){this.get("checkableNode")||this.set("checkableNode",this.domNode);this.inherited(arguments);this.domNode.classList.add("mwCheckedMixin");this.own(e(this.get("checkableNode"),"click",d.hitch(this,"_onClick")))},_setCheckedAttr:function(b){this._set("checked",b);
this._setAriaPressed();this._setAriaChecked();this.baseClass.split(" ").forEach(function(a){b?this.domNode.classList.add(a+"Checked"):this.domNode.classList.remove(a+"Checked")},this)},_setCheckableNodeAttr:function(b){this.checkableNode=b||this.domNode},_setAriaPressed:function(){var b=this.focusNode?this.focusNode:this.domNode;b.hasAttribute("aria-pressed")&&b.setAttribute("aria-pressed",this.get("checked"))},_setAriaChecked:function(){var b=this.focusNode?this.focusNode:this.domNode;b.hasAttribute("aria-checked")&&
b.setAttribute("aria-checked",this.get("checked"))},_onClick:function(){var b=this.get("checked"),a=!this.get("checked");this.set("checked",a,!0);this._triggerChangeEvent("checked",b,a)}});k._dependencies=[{mixin:c,orderDependent:!1}];return k})},"mw-mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare","dojo/query","dijit/registry","mw-mixins/property/CheckedMixin","mw-mixins/event/ChangeEventMixin"],function(k,d,e,c,b){k=k(null,{buttonGroup:"",postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwButtonGroupMixin")},_setButtonGroupAttr:function(a){if("string"!==typeof a)throw Error("'buttonGroup' property expects a literal string!");0<a.length?this.domNode.setAttribute("data-mw-buttongroup",a):this.domNode.removeAttribute("data-mw-buttongroup");this._set("buttonGroup",a)},_setCheckedAttr:function(a,b){this.inherited(arguments);a&&this.get("buttonGroup")&&e.toArray().forEach(function(a){this._shouldUncheckWidget(a)&&(a.set("checked",!1),b&&a._triggerChangeEvent("checked",
!0,!1))},this)},_shouldUncheckWidget:function(a){return a.get("buttonGroup")===this.get("buttonGroup")&&a!==this&&a.get("checked")},_onClick:function(a){if(this.get("checked")&&this.get("buttonGroup"))return a.stopPropagation(),a.preventDefault(),!1;this.inherited(arguments)}});k._dependencies=[{mixin:c,orderDependent:!0},{mixin:b,orderDependent:!1}];return k})},"MW/toolstrip/widgets/_PopupBase":function(){define(["dojo/_base/declare"],function(k){return k(null,{onOpen:function(){this.isShowingNow=
!0},onClose:function(){this.isShowingNow=!1}})})},"MW/toolstrip/constants/OrientationConstants":function(){define([],function(){return{VERTICAL:"Vertical",HORIZONTAL:"Horizontal"}})},"MW/toolstrip/GalleryFilter":function(){define(["dojo/_base/declare","mw-log/Log"],function(k,d){return k(null,{constructor:function(e){e=e||{};d.assert(e.id,"An id is required for a filter!");d.assert(e.checkerFunction,"A checker function is required for a filter!");this.id=e.id;this.disabled=!!e.disabled;this.checkerFunction=
e.checkerFunction}})})},"MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(k,d){return k(null,{_setGalleryItemRowCountAttr:function(e){d.remove(this.domNode,"oneRow");d.remove(this.domNode,"twoRow");d.remove(this.domNode,"threeRow");1===e?d.add(this.domNode,"oneRow"):2===e?d.add(this.domNode,"twoRow"):3===e&&d.add(this.domNode,"threeRow");this._set("galleryItemRowCount",e)}})})},"MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin":function(){define(["dojo/_base/declare",
"dojo/dom-class"],function(k,d){return k(null,{_setGalleryItemTextLineCountAttr:function(e){d.remove(this.domNode,"zeroLine");d.remove(this.domNode,"oneLine");d.remove(this.domNode,"twoLine");0===e?d.add(this.domNode,"zeroLine"):1===e?d.add(this.domNode,"oneLine"):2===e&&d.add(this.domNode,"twoLine");this._set("galleryItemTextLineCount",e)}})})},"MW/toolstrip/form/SearchTextField":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","mw-form/TextField"],function(k,
d,e,c,b){return k(b,{baseClass:"mwWidget mwTextField mwSearchTextField",postCreate:function(){this.inherited(arguments);this.clearLink=d.create("div",{"class":"clearTextContainerNode"},this.domNode,"first");this._toggleSearchBoxIcon();this.on("typing",e.hitch(this,this._toggleSearchBoxIcon));this.watch("value",e.hitch(this,this._toggleSearchBoxIcon));this.own(c(this.clearLink,"click",e.hitch(this,this._onClickClearButtonHandler)))},_toggleSearchBoxIcon:function(){""!==this.inputNode.value?this.clearLink.classList.add("clearTextIconVisible"):
this.clearLink.classList.remove("clearTextIconVisible")},_onClickClearButtonHandler:function(){this.set("value","");this._triggerTypingEvent("");this._toggleSearchBoxIcon()}})})},"MW/toolstrip/mixins/property/MenuMixin":function(){define(["dojo/_base/declare","dijit/focus","MW/uiframework/FocusManager","mw-dom-utils/domUtils"],function(k,d,e,c){return k(null,{postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},closeMenu:function(b){this.domNode.classList.contains("mwPopupMenuItem")||
(e.isAvailable()&&!c.findParentNode(this.domNode,"mwSectionPopup")?(this.emit("restorefocus"),this._handleClosingPopup(b)):this.inherited(arguments))}})})},"MW/toolstrip/widgets/SectionPopup":function(){define("dojo/_base/declare mw-menu/Menu mw-mixins/ResizeMixin ../mixins/property/TypeMixin ../mixins/ScrollbarMixin mw-mixins/mixinDependencyValidator".split(" "),function(k,d,e,c,b,a){return k(a.validate([d,e,c,b]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionPopup"})})},"mw-mixins/ResizeMixin":function(){define(["dojo/_base/declare"],
function(k){return k(null,{_isResized:!1,startup:function(){this.inherited(arguments);if(!this._isResized){for(var d={parentNode:this.domNode},e=!0;(d=d.parentNode)&&d!==document;)if("none"===d.style.display){e=!1;break}e&&this.resize()}},resize:function(){this.inherited(arguments);this.getChildren&&this.getChildren().forEach(function(d){d.resize&&d.resize()},this);this._isResized=!0}})})},"MW/toolstrip/mixins/ScrollbarMixin":function(){define(["dojo/_base/declare","dojo/sniff"],function(k,d){return k(null,
{postCreate:function(){this.inherited(arguments);d("mac")||this.domNode.classList.add("mwScrollbarMixin")}})})},"MW/toolstrip/widgets/Panel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Panel.html ./_WidgetMixin mw-mixins/ResizeMixin".split(" "),function(k,d,e,c,b,a,f){return k([d,e,c,a,f],{templateString:b,addChild:function(a){this.inherited(arguments);var b=this.getParent();b&&"Column"===b.type&&b.updateChildrenOrientations()}})})},
"MW/toolstrip/widgets/Column":function(){define("dojo/aspect dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/Column.html ./_WidgetMixin ./_ChildrenWrapperMixin mw-mixins/ResizeMixin MW/toolstrip/hashes/listOfNewWidgets MW/toolstrip/constants/OrientationConstants".split(" "),function(k,d,e,c,b,a,f,l,m,h){return d([e,c,a,f,l],{templateString:b,constructor:function(){var a=this;this._wrappers={};this.own(k.after(this,"addChild",function(b){a._wrappers[b.id].style.textAlign=
a.horizontalAlignment;a.get("width")&&(-1!==m.indexOf(b.type)?b._allowedValues&&-1!==b._allowedValues.indexOf("100%")&&b.set("width","100%"):b.set("width","100%"))},!0))},_setHorizontalAlignmentAttr:function(a){Object.keys(this._wrappers).forEach(function(b){this._wrappers[b].style.textAlign=a},this);this._set("horizontalAlignment",a)},_setWidthAttr:function(a){0<a&&(this.domNode.style.width=a+"px",this._set("width",a),this.getChildren().forEach(function(a){a.set("width","100%")}))},_setExtraColumnGapAttr:function(a){this._set("extraColumnGap",
a);a?this.domNode.classList.add("extraColumnGap"):this.domNode.classList.remove("extraColumnGap")},resize:function(){this.inherited(arguments);var a=this.getChildren();a&&a.forEach(function(a){a.resize?a.resize():a.set("height",a.get("height"))},this)},addChild:function(a){this.inherited(arguments);this.updateChildrenOrientations()},removeChild:function(a){this.inherited(arguments);this.updateChildrenOrientations()},updateChildrenOrientations:function(){var a=this.getParent();a&&("Section"===a.type?
this._updateChildrenOrientations():"Panel"===a.type&&(a=a.getParent())&&"Column"===a.type&&a.updateChildrenOrientations())},_updateChildrenOrientations:function(){var a=this.getChildren();1===a.length?"Panel"===a[0].type?a[0].getChildren().forEach(function(a){a=a.getChildren();var b=1===a.length?h.VERTICAL:h.HORIZONTAL;a.forEach(function(a){a.get("orientation")&&a.set("orientation",b)})}):a[0].set("orientation",h.VERTICAL):a.forEach(function(a){"Panel"===a.type?a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){a.get("orientation")&&
a.set("orientation",h.HORIZONTAL)})}):a.get("orientation")&&a.set("orientation",h.HORIZONTAL)})}})})},"MW/toolstrip/menu/PopupListPanel":function(){define(["dojo/_base/declare","mw-menu/MenuPanel","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(k,d,e,c){return k(c.validate([d,e]),{visualFamily:"toolstrip"})})},"mw-menu/MenuPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/registry mw-menu/mixins/KeyNavMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-mixins/PreventFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuPanel.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k(n.validate([d,c,a,f,l,m,e,g,h,p]),{baseClass:"mwWidget mwMenuPanel",templateString:s,maxHeight:100,closeRequest:function(a){var b=this._getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},_focusChange:function(a){var b=this._getParentWidget();null!=b&&b._focusChange&&(b._closeEventData={mwEventData:{gainedFocusWidget:a}},b._focusChange(a))},_getParentWidget:function(){return b.getEnclosingWidget(this.domNode.parentNode)}})})},
"MW/toolstrip/widgets/Footer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/Footer.html".split(" "),function(k,d,e,c,b,a){return k([d,e,c,b],{templateString:a,baseClass:"footer"})})},"MW/toolstrip/widgets/FooterCell":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/FooterCell.html ./_ChildrenWrapperMixin".split(" "),function(k,d,e,
c,b,a,f){return k([d,e,c,f,b],{templateString:a,baseClass:"footerCell"})})},"MW/toolstrip/widgets/gallery/Gallery":function(){define("dojo/_base/declare dojo/debounce dojo/dom-geometry dojo/aspect dojo/touch dojo/_base/lang dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/_HasDropDown dijit/registry dijit/_CssStateMixin dojo/text!./templates/Gallery.html ../../constants/gallery/GalleryViewConstants ../_WidgetMixin ./GalleryItemRowCountMixin ./GalleryItemTextLineCountMixin ./ScrollToSelectionMixin ./HideDisabledItemsMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/uiframework/FocusManager dojo/i18n!l10n/nls/toolstrip".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D){return k([m,h,g,s,p,t,u,w,v,x,z,y,B,C],{templateString:r,baseClass:"mwWidget mwGallery",visualFamily:"toolstrip",dropDownPosition:["below"],openIfEmpty:!0,postCreate:function(){this.inherited(arguments);this._focusManager={};this.own(c.after(this,"addChild",function(a){a.set("displayState",q.ICON)},!0),f(this.openPopupDiv,"click",function(a){this.isDropDownOpen()||this._onDropDownMouseDown(a)}.bind(this)),f(this.domNode,"keyup",function(a){(a.keyCode===
l.ENTER||a.keyCode===l.SPACE)&&this.openDropDown()}.bind(this)));var a=n.byId(this.galleryPopupId);a&&this.setupGalleryPopupListener(a);this.openPopupDiv.setAttribute("title",D.showMore)},openDropDown:function(){var b,c=n.byId(this.galleryPopupId);if(this.openIfEmpty||!(c.domNode.querySelectorAll(".Category.hideFromView").length>c.getChildren().length))b=c.columnCount?Math.max(c.columnCount,this.currentColumnCount):this.currentColumnCount,b=3>b?3*this.galleryItemWidth:b*this.galleryItemWidth,c.domNode.style.width=
b+30+"px",this.set("dropDown",c),this.setupGalleryPopupListener(c),this.inherited(arguments),this._handleWindowResizeHandler=a.hitch(this,"_handleWindowResize"),window.addEventListener("resize",this._handleWindowResizeHandler)},_shouldCloseDropDown:function(a,b){return a===window?!0:this.domNode&&this.domNode.contains(a)&&a.classList.contains("dijitDownArrowButton")&&(!b.domNode||!b.domNode.parentElement||"none"!==b.domNode.parentElement.style.display)||b.domNode&&b.domNode.contains(a)?!1:a.matches?
!a.matches(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.matchesSelector?!a.matchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.webkitMatchesSelector?!a.webkitMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.mozMatchesSelector?!a.mozMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.msMatchesSelector?!a.msMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):
a.oMatchesSelector?!a.oMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):!0},closeDropDown:function(){window.removeEventListener("resize",this._handleWindowResizeHandler);if(!this.dropDown&&(this.dropDown=n.byId(this.galleryPopupId),!this.dropDown))return;this.inherited(arguments)},_handleWindowResize:function(){this.closeDropDown()},_qeDropDownClick:function(){this.toggleDropDown()},_onDropDownMouseDown:function(a){a instanceof MouseEvent&&0!==a.button||this.inherited(arguments)},
setupGalleryPopupListener:function(a){a._invokingGallery=this;var b=this;this._galleryPopupListener&&(this._galleryPopupListener.remove(),this._galleryPopupListener=null);this._galleryPopupListener=c.after(a,"galleryStateChanged",function(){b.refresh()})},shrink:function(){var a;this.currentColumnCount>this.minColumnCount?(this.set("currentColumnCount",this.currentColumnCount-1),a=!0):a=!1;return a},grow:function(){var a;this.currentColumnCount<this.maxColumnCount?(this.set("currentColumnCount",this.currentColumnCount+
1),a=!0):a=!1;return a},_setCurrentColumnCountAttr:function(a){this._set("currentColumnCount",a);this._resizeContainerNode();this.refresh()},_setOpenIfEmptyAttr:function(a){if("boolean"!==typeof a)throw Error("'openIfEmpty' property expected a boolean value");this._set("openIfEmpty",a)},_resizeContainerNode:function(){var a=this.currentColumnCount*this.galleryItemWidth+"px";this.containerNode.style.width=a;this.textOverlayWrapperNode.style.width=a},_setGalleryItemWidthAttr:function(a){0<a&&(this._set("galleryItemWidth",
a),this._resizeContainerNode())},_setDisplayStateAttr:function(a){var b=e.position(this.domNode);this._set("displayState",a);this.domNode.classList.remove("busy");this.set("disabled",!1);"busy"===a?(this.busyLayer.style.height=b.h+"px",this.busyLayer.style.width=b.w+"px",this.domNode.classList.add("busy")):"blocked"===a&&this.set("disabled",!0)},_setTextOverlayAttr:function(a){this._set("textOverlay",a);a?(this.textOverlayWrapperNode.style.display="table",this.textOverlayNode.textContent=a):(this.textOverlayWrapperNode.style.display=
"none",this.textOverlayNode.textContent="")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},refresh:function(){},destroy:function(){this._galleryPopupListener.remove();this.inherited(arguments)},isDropDownOpen:function(){var a=n.byId(this.galleryPopupId);return!(a&&a.domNode&&(!a.domNode.parentElement.classList.contains("dijitPopup")&&"none"===a.domNode.style.display||a.domNode.parentElement&&"none"===a.domNode.parentElement.style.display))}})})},"MW/toolstrip/widgets/gallery/ScrollToSelectionMixin":function(){define(["dojo/_base/declare"],
function(k){return k(null,{scrollToSelection:!1})})},"MW/toolstrip/widgets/gallery/HideDisabledItemsMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{hideDisabledItems:!0})})},"MW/toolstrip/widgets/gallery/GalleryCategory":function(){define("dojo/_base/declare dojo/aspect dojo/dom-construct dojo/on dojo/dnd/Source dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/dnd/Manager mw-dnd/DnDUtils dojo/text!./templates/GalleryCategory.html ../../constants/gallery/GalleryViewConstants ./_GalleryCategoryAnimationMixin ../_WidgetMixin ./GalleryItemAvatar".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return k([f,l,m,s,r],{templateString:p,userCustomizable:!0,postCreate:function(){var a=this;this.inherited(arguments);this.own(c(this.moveTopButtonNode,"click",function(){a.categoryMoved()}));this.own(d.after(this,"addChild",function(b,c){var g=this.getParent();c=0<=c?c:this.getChildren().length-1;g&&g.galleryStateChanged();b.set("displayState",a.displayState);a.dndSource&&a.dndSource.insertNodes(!1,[b.domNode],!1,this.getChildren()[c].domNode);this.showHideCategory()},
!0));this.own(d.after(this,"removeChild",function(a){(a=this.getParent())&&a.galleryStateChanged();this.showHideCategory()},!0));this.showHideCategory()},showHideCategory:function(){0===this.getChildren().length?this.domNode.classList.add("hideFromView"):this.domNode.classList.remove("hideFromView")},_setIsFavoriteCategoryAttr:function(a){a?this.titleIconNode.classList.add("starTitle"):this.titleIconNode.classList.remove("starTitle");this._set("isFavoriteCategory",a);this._createDndSource(this.displayState)},
_setDisplayStateAttr:function(a){this.getChildren().forEach(function(b){b.set("displayState",a)});this._createDndSource(a);this._set("displayState",a)},_setTitleAttr:function(a){""===a&&(this.header.style.display="none");this.titleNode.textContent=a;this._set("title",a)},_setUserCustomizableAttr:function(a){!1===a?this.moveTopNode.style.display="none":!0===a&&(this.moveTopNode.style.display=null);this._set("userCustomizable",a)},_createDndSource:function(a){var c=this,h={};this.isFavoriteCategory&&
(a===n.ICON&&(h={horizontal:!0}),this.dndSource&&(g.unregisterMakeAvatar(this.dndSource),this.dndSource.destroy()),this.dndSource=new b(this.containerNode,h),g.registerMakeAvatar(c.dndSource,function(){return new q(this)}),this.own(d.after(this.dndSource,"onDrop",function(a,b){c._onDropHandler(a,b)},!0)))},_onDropHandler:function(b,c){var g,d;d=a.byNode(c[0]);g=this.getIndexOfChild(d);this.itemMoved({itemId:d.id,newIndex:g})},_qeMoveToTopClick:function(){this.categoryMoved()},categoryMoved:function(){},
itemMoved:function(){}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){e.isAsync||l(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var n=d("dojo.dnd.Source",g,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,
constructor:function(a,g){c.mixin(this,c.mixin({},g));var d=this.accept;if(d.length){this.accept={};for(var h=0;h<d.length;++h)this.accept[d[h]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&b.add(this.node,"dojoDndSource");this.targetState="";this.accept&&b.add(this.node,"dojoDndTarget");this.horizontal&&b.add(this.node,"dojoDndHorizontal");this.topics=[m.subscribe("/dnd/source/over",c.hitch(this,
"onDndSourceOver")),m.subscribe("/dnd/start",c.hitch(this,"onDndStart")),m.subscribe("/dnd/drop",c.hitch(this,"onDndDrop")),m.subscribe("/dnd/cancel",c.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var g=a.getItem(b[c].id).type,d=!1,h=0;h<g.length;++h)if(g[h]in this.accept){d=!0;break}if(!d)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==p.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;
return!1},destroy:function(){n.superclass.destroy.call(this);k.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(b){if(!(this.isDragging&&"Disabled"==this.targetState)){n.superclass.onMouseMove.call(this,b);var c=p.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)){var g=this.getSelectedNodes();g.length&&c.startDrag(this,g,this.copyState(h.getCopyKeyState(b),!0))}if(this.isDragging){g=
!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=a.position(this.current,!0);g=this.horizontal?b.pageX-this.targetBox.x<this.targetBox.w/2==a.isBodyLtr(this.current.ownerDocument):b.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||g!=this.before)this._markTargetAnchor(g),c.canDrop(!this.current||c.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||
!h.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,n.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,n.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=p.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&
this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&p.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,g){if(this==g)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target",
"")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,b,c){var g=this._normalizedCreator;this._normalizedCreator=this.creator?function(b,c){return g.call(this,a.getItem(b.id).data,c)}:c?function(b){var c=a.getItem(b.id);b=b.cloneNode(!0);b.id=h.getUniqueId();return{node:b,data:c.data,type:c.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,data:c.data,type:c.type}};this.selectNone();!c&&!this.creator&&a.selectNone();
this.insertNodes(!0,b,this.before,this.current);!c&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=g},onDropInternal:function(a,b){var c=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return c.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=h.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=
function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=c}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){n.superclass.onOverEvent.call(this);p.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){n.superclass.onOutEvent.call(this);p.manager().outSource(this);if(this.isDragging&&"Disabled"!=
this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=
null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!f.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(b.contains(a,"dojoDndHandle"))return!0;if(b.contains(a,"dojoDndItem")||b.contains(a,"dojoDndIgnore"))break}return!1}});return n})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){var n=d("dojo.dnd.Selector",p,{constructor:function(a,b){b||(b={});this.singular=b.singular;this.autoSync=b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(m(this.node,h.press,c.hitch(this,"onMouseDown")),m(this.node,h.release,c.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new l,c=g._empty,d;for(d in this.selection)d in c||a.push(b.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,c){this._addItemClass(b.byId(c),"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var c=g._empty,d;for(d in this.selection)if(!(d in c)){var h=b.byId(d);this.delItem(d);a.destroy(h)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||e.global;var c=this.selection,d=g._empty,h;for(h in c)h in d||a.call(b,this.getItem(h),h,this)},sync:function(){n.superclass.sync.call(this);
this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=g._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);k.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,g){var d=this._normalizedCreator;this._normalizedCreator=function(b,c){var g=d.call(this,b,c);a?(this.anchor?this.anchor!=g.node&&(this._removeItemClass(g.node,"Anchor"),this._addItemClass(g.node,"Selected")):(this.anchor=g.node,this._removeItemClass(g.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[g.node.id]=1):(this._removeItemClass(g.node,"Selected"),this._removeItemClass(g.node,"Anchor"));return g};n.superclass.insertNodes.call(this,b,c,g);this._normalizedCreator=d;return this},destroy:function(){n.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!g.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,f.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){g.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,d;c<b.length&&!(d=b[c],d==this.anchor||d==this.current);++c);for(++c;c<b.length;++c){d=b[c];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=
1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?g.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):g.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):
(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&
(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=m(this.node,h.move,c.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=g._empty,c;for(c in this.selection)if(!(c in a)){var d=b.byId(c);d&&this._removeItemClass(d,"Selected")}this.selection=
{};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return n})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){d=d("dojo.dnd.Container",m,{skipForm:!1,allowNested:!1,constructor:function(b,d){this.node=a.byId(b);
d||(d={});this.creator=d.creator||null;this.skipForm=d.skipForm;this.parent=d.dropParent&&a.byId(d.dropParent);this.map={};this.current=null;this.containerState="";f.add(this.node,"dojoDndContainer");(!d||!d._skipStartup)&&this.startup();this.events=[g(this.node,n.over,c.hitch(this,"onMouseOver")),g(this.node,n.out,c.hitch(this,"onMouseOut")),g(this.node,"dragstart",c.hitch(this,"onSelectStart")),g(this.node,"selectstart",c.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},
setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||e.global;var c=this.map,g=s._empty,d;for(d in c)d in g||a.call(b,c[d],d,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return p((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=s.getUniqueId();var c=b.getAttribute("dndType"),
g=b.getAttribute("dndData");a[b.id]={data:g||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var g;if(c)for(b=0;b<a.length;++b)g=this._normalizedCreator(a[b]),this.setItem(g.node.id,{data:g.data,type:g.type}),c.parentNode.insertBefore(g.node,c);else for(b=0;b<a.length;++b)g=this._normalizedCreator(a[b]),this.setItem(g.node.id,{data:g.data,type:g.type}),this.parent.appendChild(g.node);
return this},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=s._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&
b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||
!s.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,g=a.toLowerCase()+"State";f.replace(this.node,c+b,c+this[g]);this[g]=b},_addItemClass:function(a,b){f.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){f.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&f.contains(a,"dojoDndItem"))return a;
return null},_normalizedCreator:function(a,b){var g=(this.creator||this.defaultCreator).call(this,a,b);c.isArray(g.type)||(g.type=["text"]);g.node.id||(g.node.id=s.getUniqueId());f.add(g.node,"dojoDndItem");return g}});s._createNode=function(a){return!a?s._createSpan:function(b){return l.create(a,{innerHTML:b})}};s._createTrTd=function(a){var b=l.create("tr");l.create("td",{innerHTML:a},b);return b};s._createSpan=function(a){return l.create("span",{innerHTML:a})};s._defaultCreatorNodes={ul:"li",ol:"li",
div:"div",p:"div"};s._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?s._createTrTd:s._createNode(s._defaultCreatorNodes[a]);return function(a,g){var d=a&&c.isObject(a),h,f;d&&a.tagName&&a.nodeType&&a.getAttribute?(h=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],f=a):(h=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],f=("avatar"==g?s._createSpan:b)(String(h)));f.id||(f.id=s.getUniqueId());return{node:f,data:h,type:d}}};
return d})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){var r=d("dojo.dnd.Manager",[a],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:f("touch")?4:16,OFFSET_Y:f("touch")?4:16,overSource:function(a){this.avatar&&
(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());h.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),h.publish("/dnd/source/over",null)):h.publish("/dnd/source/over",null)},startDrag:function(a,d,f){function l(a){a.preventDefault();a.stopPropagation()}n.autoScrollStart(c.doc);this.source=a;this.nodes=d;this.copy=Boolean(f);this.avatar=this.makeAvatar();
c.body().appendChild(this.avatar.node);h.publish("/dnd/start",a,d,this.copy);this.events=[m(c.doc,g.move,e.hitch(this,"onMouseMove")),m(c.doc,g.release,e.hitch(this,"onMouseUp")),m(c.doc,"keydown",e.hitch(this,"onKeyDown")),m(c.doc,"keyup",e.hitch(this,"onKeyUp")),m(c.doc,"dragstart",l),m(c.body(),"selectstart",l)];b.add(c.body(),"dojoDnd"+(f?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){b.remove(c.body(),
["dojoDndCopy","dojoDndMove"]);k.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new s(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;b&&(n.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(p.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));
f("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(p.getCopyKeyState(a)));h.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);h.publish("/dnd/drop",this.source,this.nodes,b,this.target,a)}else h.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case l.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case l.ESCAPE:h.publish("/dnd/cancel"),
this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==l.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();b.replace(c.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});p._manager=null;r.manager=p.manager=function(){p._manager||(p._manager=new r);return p._manager};return r})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(k,d,e,c,b,a,f,l){return k("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var b=a.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),d=this.manager.source,g,l=a.create("tbody",null,b),e=a.create("tr",null,l),k=a.create("td",null,e),r=Math.min(5,this.manager.nodes.length),q=0;f("highcontrast")&&a.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},k);a.create("span",{innerHTML:d.generateText?
this._generateText():""},k);for(c.set(e,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});q<r;++q)d.creator?g=d._normalizedCreator(d.getItem(this.manager.nodes[q].id).data,"avatar").node:(g=this.manager.nodes[q].cloneNode(!0),"tr"==g.tagName.toLowerCase()&&(e=a.create("table"),a.create("tbody",null,e).appendChild(g),g=e)),g.id="",e=a.create("tr",null,l),k=a.create("td",null,e),k.appendChild(g),c.set(e,{"class":"dojoDndAvatarItem",style:{opacity:(9-q)/10}});this.node=b},destroy:function(){a.destroy(this.node);
this.node=!1},update:function(){b.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(f("highcontrast")){var a=e.byId("a11yIcon"),c="+";this.manager.canDropFlag&&!this.manager.copy?c="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?c="o":this.manager.canDropFlag||(c="x");a.innerHTML=c}l("tr.dojoDndAvatarHeader td span"+(f("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"mw-dnd/DnDUtils":function(){define(["dojo/_base/declare","dojo/aspect","dojo/dnd/Manager","mw-utils/Utils"],function(k,d,e,c){var b={},a=function(a){var c=-1;Object.keys(b).some(function(d,h,g){return b[d].dndSource===a?(c=d,!0):!1});return c};d.around(e.manager(),"makeAvatar",function(a){return function(){var c=e.manager(),d;!1===Object.keys(b).some(function(a,g,f){return b[a].dndSource===c.source?(d=b[a].makeAvatarFunc.call(c),!0):!1})&&(d=a.call(c));return d}});return{registerMakeAvatar:function(d,
l){var e=a(d);-1===e&&(e=c.generateUuid());b[e]={dndSource:d,makeAvatarFunc:l}},unregisterMakeAvatar:function(c){c=a(c);-1!==c&&delete b[c]},destroy:function(a){a&&a.remove()}}})},"MW/toolstrip/widgets/gallery/_GalleryCategoryAnimationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/_base/fx dojo/fx dojo/query dijit/registry ../../constants/gallery/GalleryViewConstants".split(" "),function(k,d,e,c,b,a,f,l,m,h){return k(null,{animate:function(a){switch(a.type){case "move":this._animateCategoryMove(a);
break;case "childAdd":if(this.get("isFavoriteCategory"))this._animateFavoriteItemAdd(a);else a.onEnd();break;case "childRemove":if(this.get("isFavoriteCategory"))this._animateFavoriteItemRemove(a);else a.onEnd()}},_animateCategoryMove:function(a){var c,d,h,l;d=b.position(this.domNode);l=this._createCategoryClone(this);c=b.position(this._getGalleryPopupWidget().getChildren()[0].domNode).y;h=this._getGalleryPopupPos();c-=h.y;d.x-=h.x;d.y-=h.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&
(c=0);f.slideTo({node:l,duration:this._calculateDuration(0,d.y,0,c),left:d.x,top:c,onEnd:function(){e.destroy(l);a.onEnd()}}).play()},_animateFavoriteItemAdd:function(a){var c,d=this,l,r,k,t,u=0,w=0,v,x,z=!0;v=this._getGalleryPopupPos();x=b.position(this.domNode);l=m.byId(a.startId);r=b.position(l.domNode);c=this._createItemClone(l);l=this.getChildren().filter(function(a){return!a.domNode.classList.contains("hideFromView")});t=l.length;0===t?k=r:(l=l[t-1],l=b.position(l.domNode),this.displayState===
h.ICON?(v.w-(l.x-v.x+l.w)<l.w&&(z=!1),z?(k=l,u=l.w):(k=x,w=x.h)):this.displayState===h.LIST&&(k=l,w=l.h));this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});k.x-=v.x;k.y-=v.y;r.x-=v.x;r.y-=v.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&(w=k.y=0);r=this._calculateDuration(r.x,r.y,k.x,k.y);f.slideTo({node:c,duration:r,left:k.x+u,top:k.y+w,onEnd:function(){e.destroy(c);a.onEnd();d._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},
_animateFavoriteItemRemove:function(a){var c,d,h=this,l,k;k=this._getGalleryPopupPos();c=a.childWidget;l=b.position(c.domNode);d=this._createItemClone(c);c=m.byId(a.endId);c=b.position(c.domNode);c.x-=k.x;c.y-=k.y;l.x-=k.x;l.y-=k.y;c.y+c.h>k.h+this._getGalleryPopupWidget().categoryContainer.scrollTop&&(c.y=k.h-c.h);this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});l=this._calculateDuration(l.x,l.y,c.x,c.y);f.slideTo({node:d,duration:l,left:c.x+0,top:c.y+0,onEnd:function(){e.destroy(d);
a.onEnd();h._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},_getAllItemWidgets:function(){var a=[];m.byId(this.galleryPopupId).getChildren().forEach(function(b){a=a.concat(b.getChildren())});return a},_calculateDuration:function(a,b,c,d){return Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2))/0.7},_getGalleryPopupWidget:function(){return this.get("isFavoriteCategory")?m.byId(this.get("galleryPopupId")):this.getParent()},_getGalleryPopupPos:function(){return b.position(this._getGalleryPopupWidget().domNode)},
_createCategoryClone:function(a){a=this._createClone(a);l(".moveTopNode",a)[0].style.display="none";return a},_createItemClone:function(a){a=this._createClone(a);l(".favButton",a)[0].style.display="none";c.remove(a,"dojoDndItemAnchor");c.remove(a,"dojoDndItemOver");return a},_createClone:function(a){var c,h,f;f=this._getGalleryPopupPos();c=d.clone(a.domNode);h=b.position(a.domNode);a=b.getContentBox(a.domNode);h.x-=f.x;h.y-=f.y;e.place(c,this._getGalleryPopupWidget().domNode);c.style.position="absolute";
c.style.top=h.y+"px";c.style.left=h.x+"px";c.style.width=a.w+"px";c.style.height=a.h+"px";c.style.zIndex=5;return c}})})},"MW/toolstrip/widgets/gallery/GalleryItemAvatar":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/query dijit/registry".split(" "),function(k,d,e,c,b,a){return k([],{constructor:function(a){this.manager=a;this.construct()},construct:function(){var f,l,m;f=this.manager.nodes[0];l=f.cloneNode(!0);m=e.position(f);l.style.width=m.w+"px";
l.style.height=m.h+"px";m=b(".itemWrapper",l)[0];f=a.getEnclosingWidget(f).getParent();f=a.byId(f.get("galleryPopupId"));f=c.create("div",{"class":f.domNode.getAttribute("class")});d.remove(f,"galleryPopup");f.style.position="absolute";f.style.zIndex="1999";f.opacity=0.7;d.remove(l,"dojoDndItemOver dojoDndItem dojoDndItemAnchor");d.add(l,"galleryItemAvatar");d.remove(m);d.add(m,"itemWrapper");c.place(l,f);this.node=f},destroy:function(){c.destroy(this.node);this.node=!1},update:function(){d.toggle(this.node,
"dojoDndAvatarCanDrop",this.manager.canDropFlag)}})})},"MW/toolstrip/form/PushButton":function(){define("dojo/_base/declare mw-form/PushButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/QuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k(s.validate([d,e,c,b,a,f,l,m,h,g,p,n]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/QuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(k,d){var e=k(null,{quickAccessIcon:"",postCreate:function(){this.inherited(arguments);this.set("quickAccessIcon",this.get("quickAccessIcon"))},_setQuickAccessIconAttr:function(c){if("string"!==typeof c)throw Error("'quickAccessIcon' property expects a literal string!");
this._set("quickAccessIcon",c);this._updateDOM(c)},_updateDOM:function(c){""===c?c=this.icon:""!==this.quickAccessIcon&&(c=this.quickAccessIcon);this._removeOldIcon(this.get("quickAccessIcon"));arguments[0]=c;this.inherited(arguments)}});e._dependencies=[{mixin:d,orderDependent:!0}];return e})},"MW/toolstrip/form/SplitButton":function(){define("dojo/_base/declare mw-form/SplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){return k(u.validate([d,e,c,b,a,f,l,m,h,g,p,n,t,s,r,q]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/SplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-mixins/ResizeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I){return k(G.validate([d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F]),{baseClass:"mwWidget mwSplitButton",templateString:I,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/TabIndexNodesMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/DisabledMixin"],function(k,d,e){var c=function(b){if(("object"!==typeof b||
b.constructor!==Array)&&0<b.length&&b[0].constructor!==HTMLDivElement)throw Error("'tabIndexNodes' property expects an array of DOM nodes as input.");};k=k(null,{tabIndexNodes:[],addTabIndexNodes:function(b){c(b);this.set("tabIndexNodes",this.get("tabIndexNodes").concat(b))},removeTabIndexNodes:function(b){c(b);var a,d,l,e=this.get("tabIndexNodes");b.forEach(function(b){l=e.indexOf(b);-1===l?(a=e,d=[]):(a=e.slice(0,l),d=e.slice(l+1,l+1+(e.length-l)));e=a.concat(d);b.removeAttribute("tabIndex")});
this.set("tabIndexNodes",e)},_setTabIndexNodesAttr:function(b){c(b);this._set("tabIndexNodes",b);this._updateTabIndices()},_setDisabledAttr:function(b){this.inherited(arguments);this._updateTabIndices()},_updateTabIndices:function(){this.get("tabIndexNodes").forEach(d.hitch(this,function(b){this._setTabIndexOnNode(b)}))}});k._dependencies=[{mixin:e,orderDependent:!0}];return k})},"mw-form/mixins/property/DropDownNeverDisabledMixin":function(){define("dojo/_base/declare dojo/dom-geometry mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/TextMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonSizeMixin".split(" "),
function(k,d,e,c,b,a,f,l){k=k(null,{dropDownNeverDisabled:!1,_laskKnownDisabledNode:null,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDropDownNeverDisabledMixin");this.set("dropDownNeverDisabled",this.get("dropDownNeverDisabled"))},_setDropDownNeverDisabledAttr:function(a){if("boolean"!==typeof a)throw Error("'dropDownNeverDisabled' property expects a boolean!");this._set("dropDownNeverDisabled",a);a?this.domNode.classList.add("mwDropDownNeverDisabledTrue"):this.domNode.classList.remove("mwDropDownNeverDisabledTrue");
this._updateInteractions(a);this._setAriaDisabled();this._setTabIndexOnNode(this.focusNode)},_updateInteractions:function(a){a=this._getDisabledNode();this._removeDisableInteractions(this._laskKnownDisabledNode);this._addDisableInteractions(a);this._updateLastKnownDisabledNode(a)},_updateDisableNode:function(a){a?(this.domNode.classList.add("mwDisabled"),this.domNode.classList.remove("mwEnabled")):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"));this._updateInteractions(a)},
_updateLastKnownDisabledNode:function(a){this._laskKnownDisabledNode=a},_getDisabledNode:function(){var a;this.get("disabled")?this.dropDownNeverDisabled?a=this.buttonNode:this.dropDownNeverDisabled||(a=this.domNode):a=null;return a},_getOverlayPositionExtents:function(){var a=d.getBorderExtents(this.domNode);if(this.get("dropDownNeverDisabled")){var b=d.getMarginBox(this.focusNode);"left"===this.get("iconAlignment")?a.r=-b.w:"top"===this.get("iconAlignment")&&(a.b=-b.h)}return{t:-a.t+"px",r:-a.r+
"px",b:-a.b+"px",l:-a.l+"px"}}});k._dependencies=[{mixin:e,orderDependent:!0},{mixin:c,orderDependent:!0},{mixin:b,orderDependent:!0},{mixin:a,orderDependent:!0},{mixin:f,orderDependent:!0},{mixin:l,orderDependent:!0}];return k})},"mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on mw-dom-utils/domUtils mw-utils/widgetUtils mw-mixins/property/MenuMixin".split(" "),function(k,d,e,c,b,a,f,l){k=k(null,{buildRendering:function(){this.inherited(arguments);
c.place(this.buttonNode,this.focusNode,"before")},_onMouseClick:function(a){this.inherited(arguments);e.isDescendant(a.target,this.buttonNode)&&this.isMenuOpen()&&this.closeMenu(!1)}});k._dependencies=[{mixin:l,orderDependent:!0}];return k})},"mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-dom-utils/domUtils"],function(k,d,e,c){return k(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"mousedown",
d.hitch(this,function(b){this.buttonNode.contains(b.target)&&setTimeout(d.hitch(this,function(){this.focusNode.focus()}),0)})),e(this.focusNode,"focus",d.hitch(this,"_handleFocus")),e(this.focusNode,"blur",d.hitch(this,"_handleBlur")))},_handleFocus:function(){this.baseClass.split(" ").forEach(d.hitch(this,function(b){c.toggleClass(this.domNode,b+"Focused",!0)}))},_handleBlur:function(){this.baseClass.split(" ").forEach(d.hitch(this,function(b){c.toggleClass(this.domNode,b+"Focused",!1)}))}})})},
"MW/toolstrip/form/ToggleButton":function(){define("dojo/_base/declare mw-form/ToggleButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/IconOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k(s.validate([d,e,c,b,a,f,l,m,h,g,p,n]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_shouldUncheckWidget:function(d){return d.get("buttonGroup")===this.get("buttonGroup")&&d!==this&&d.get("checked")&&(!d.get("actionId")||d.get("actionId")!==this.get("actionId"))}})})},"MW/toolstrip/form/ColorPickerButton":function(){define("dijit/focus dojo/aspect dojo/_base/declare dojo/_base/lang dojo/keys dojo/query MW/toolstrip/form/SplitButton mw-menu/Menu mw-mixins/event/ChangeEventMixin mw-colorpicker/ColorPicker mw-colorpicker/ColorPalette mw-colorpicker/MColor mw-dom-utils/domUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){return e([f,m],{baseClass:"mwWidget mwSplitButton mwColorPickerButton",visualFamily:"toolstrip",selectedColor:"#ff0000",closeOnColorSelection:!0,showPreview:!0,showRecentColors:!0,showCustomPicker:!0,constructor:function(){this.standardColors=p.getStandardLightThemeColors();this._colorPickerMenu=new l;this._colorPicker=new h({showPreview:!0,showCustomPicker:!0,showRecentColors:!0,standardColors:this.standardColors});this.recentColors=this._colorPicker.get("recentlyUsedColors");
this._swatchNode=document.createElement("div");this.own(this._colorPickerMenu);this.own(this._colorPicker)},buildRendering:function(){this.inherited(arguments);this._colorPickerMenu.addChild(this._colorPicker);this._swatchNode.classList.add("mwColorSwatchNode");this.iconNode.appendChild(this._swatchNode);this.set("menu",this._colorPickerMenu)},_setSelectedColorAttr:function(a){if("string"!==typeof a)throw Error("'selectedColor' property expects a literal string!");this._validateColor(a);this._swatchNode.style.backgroundColor=
a;this._set("selectedColor",a);this._updatePreview()},_getSelectedColorAttr:function(){return this._get("selectedColor")},_setShowPreviewAttr:function(a){this._colorPicker.set("showPreview",a);this._set("showPreview",a)},_getShowPreviewAttr:function(){return this._colorPicker.get("showPreview")},_setShowRecentColorsAttr:function(a){this._colorPicker.set("showRecentColors",a);this._set("showRecentColors",a)},_getShowRecentColorsAttr:function(){return this._colorPicker.get("showRecentColors")},_setShowCustomPickerAttr:function(a){this._colorPicker.set("showCustomPicker",
a);this._set("showCustomPicker",a)},_getShowCustomPickerAttr:function(){return this._colorPicker.get("showCustomPicker")},_setRecentColorsAttr:function(a){this._validateRecentColors(a);this._colorPicker.set("recentlyUsedColors",a);this._set("recentColors",a)},_getRecentColorsAttr:function(){return this._colorPicker.get("recentlyUsedColors")},_setStandardColorsAttr:function(a){this._validateStandardColors(a);this._set("standardColors",a);this._colorPicker.paletteNode.destroyRecursive();this._colorPicker.paletteNode=
new g({palette:[this.standardColors[0],this.standardColors[1],this.standardColors[2]]});this._colorPicker.paletteNode.domNode.classList.add(this._colorPicker.baseClass+"Palette");this._colorPicker.paletteNode.placeAt(this._colorPicker,"first").startup();this.own(this._colorPicker.paletteNode.set("onChange",c.hitch(this._colorPicker,"_updateWidgetValues",!1,!0,!0,!0)))},_getStandardColorsAttr:function(){return this._colorPicker.get("standardColors")},postCreate:function(){this.inherited(arguments);
this.own(d.after(this._colorPicker.paletteNode,"_onCellClick",c.hitch(this,"_updateSelectedColor")));this.own(d.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",c.hitch(this,"_updateSelectedColor")));this.menu.domNode.addEventListener("open",this._handleMenuCloseOnFocusOut.bind(this));this.menu.domNode.addEventListener("keydown",this._handleMenuKeyDown.bind(this));this._colorPicker.domNode.addEventListener("keydown",this._handleColorPickerKeyDown.bind(this));this.buttonNode.addEventListener("click",
this._handleButtonClick.bind(this))},_handleButtonClick:function(){var a=this.get("selectedColor");this._triggerChangeEvent("selectedColor",a,a)},_handleMenuCloseOnFocusOut:function(){var a=k.watch("curNode",c.hitch(this,function(b,c,g){if(null===g||!n.findParentNode(g,"mwMenu"))a.unwatch(),this._updatePreview(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(a){a.keyCode===b.DOWN_ARROW||a.keyCode===b.UP_ARROW?this._colorPicker.paletteNode.focus():a.keyCode===b.TAB&&a.stopPropagation()},
_closeMenuOnColorSelection:function(){this.closeOnColorSelection&&this.closeMenu()},_handleColorPickerKeyDown:function(a){"INPUT"===a.target.tagName&&(a.keyCode===b.ENTER?this._updateSelectedColor():a.keyCode===b.ESCAPE&&this.set("selectedColor",this.get("selectedColor")))},_updatePreview:function(){this.get("selectedColor")!==this._colorPicker.value&&this._colorPicker.set("value",this.get("selectedColor"),!1)},_updateRecentColors:function(){var a=this.get("selectedColor"),b=this._colorPicker.recentlyUsedColors,
g=b.indexOf(a);-1!==g&&8>g&&b.splice(g,1);b.unshift(a);this._colorPicker.set("recentlyUsedColors",b);this.own(d.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",c.hitch(this,"_updateSelectedColor")))},_updateSelectedColor:function(){var a=this.get("selectedColor");this.set("selectedColor",this._colorPicker.value);var b=this.get("selectedColor");this._updateRecentColors();this._closeMenuOnColorSelection();this._triggerChangeEvent("selectedColor",a,b)},_validateStandardColors:function(a){var b=
a.length;if(3<b)throw Error("StandardColors can consist of maximum 3 rows of colors");for(var c=0;c<b;c++)for(var g=a[c],d=0;d<g.length;d++){if("hex"!==this._isRGBOrHex(g[d]))throw Error("Color type invalid. Only hex color values allowed!");this._validateColor(g[d])}},_validateRecentColors:function(a){var b=a.length;if(8<b)throw Error("RecentColors should be 1x8 array");for(var c=0;c<b;c++){var g=a[c];if("hex"!==this._isRGBOrHex(g))throw Error("Color type invalid. Only hex color values allowed!");
this._validateColor(g)}},_validateColor:function(a){var b=this._isRGBOrHex(a);if("invalid"===b)throw Error("'color' invalid value!");if("hex"===b){if(!/[0-9a-f]{6}/i.test(a))throw Error("'color' invalid value!");}else if("rgb"===b){var c;a=a.substring(4,a.length-1);a=a.split(",");if(3!==a.length)throw Error("'color' invalid value!");a.forEach(function(a){a=parseFloat(a);0!==a%1&&(c=!0)});if(c){if(this._checkRGBDouble(a))throw Error("'color' invalid value!");}else if(this._checkRGBInt(a))throw Error("''color' invalid value!");
}},_isRGBOrHex:function(a){return 0===a.indexOf("#")?"hex":0===a.indexOf("rgb")?"rgb":"invalid"},_checkRGBDouble:function(a){for(var b=0;3>b;b++){var c=parseFloat(a[b]);if(0>c||1<c)return!0}},_checkRGBInt:function(a){for(var b=0;3>b;b++){var c=parseInt(a[b]);if(0>c||255<c)return!0}}})})},"mw-colorpicker/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ColorPalette ./ColorSpinner ./MColor dojo/text!./templates/ColorPicker.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){return k([b,a,f],{value:"#ff0000",showRecentColors:!0,showPreview:!0,showCustomPicker:!0,recentlyUsedColors:[],standardColors:[],_parsedStandardColors:"",_previewTitle:p.preview,templateString:g,baseClass:"mwColorPicker",constructor:function(){this._set("recentlyUsedColors","#ff0000 #ff00ff #ffff00 #00ff00 #ffffff #00ffff #0000ff #000000".split(" "));this._set("standardColors",h.getStandardLightThemeColors());this.inherited(arguments)},postMixInProperties:function(){this._set("_parsedStandardColors",
JSON.stringify(this.get("standardColors")));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.paletteNode.set("onChange",d.hitch(this,this._updateWidgetValues,!1,!0,!0,!0));this.spinnerNode.set("onChange",d.hitch(this,this._updateWidgetValues,!0,!1,!0,!0))},_setValueAttr:function(a,b){this._updateWidgetValues(!0,!0,!0,b,a)},_updateWidgetValues:function(a,b,c,g,d){var h=this.get("value");this._set("value",d);this._setPreviewColor(d);a&&this.paletteNode.set("value",d,!1);
b&&this.spinnerNode.set("value",d,!1);c&&this.recentColorsWidgetNode&&this.recentColorsWidgetNode.set("value",d,!1);(g||void 0===g)&&this.emit("change",{mwEventData:{propertyName:"value",oldValue:h,newValue:this.get("value")}})},_setPreviewColor:function(a){c.set(this.previewColorNode,"background",a)},_updateRecentColorsWidget:function(){this.recentColorsWidgetNode&&(this.recentColorsWidgetNode.destroy(),e.empty(this.recentColorsNode));this.recentColorsWidgetNode=new l({palette:[this.recentlyUsedColors.slice(0,
4),this.recentlyUsedColors.slice(4,8)],title:p.recentColors,value:this.value});this.recentColorsWidgetNode.set("onChange",d.hitch(this,this._updateWidgetValues,!0,!0,!1,!0));this.recentColorsWidgetNode.placeAt(this.recentColorsNode).startup()},_setRecentlyUsedColorsAttr:function(a){this._set("recentlyUsedColors",a);this._updateRecentColorsWidget()},_setShowRecentColorsAttr:function(a){this._set("showRecentColors",a);!1===a?(c.set(this.recentColorsNode,"display","none"),c.set(this.previewNode,"padding-left",
"10px"),c.set(this.previewColorNode,"width","202px")):(c.set(this.recentColorsNode,"display",""),c.set(this.previewNode,"padding-left",""),c.set(this.previewColorNode,"width",""))},_setShowPreviewAttr:function(a){this._set("showPreview",a);!1===a?c.set(this.previewNode,"display","none"):c.set(this.previewNode,"display","")},_setShowCustomPickerAttr:function(a){this._set("showCustomPicker",a);!1===a?c.set(this.spinnerNode.domNode,"display","none"):c.set(this.spinnerNode.domNode,"display","")}})})},
"mw-colorpicker/ColorPalette":function(){define("dojo/_base/declare dojo/dom-construct dojo/string dojo/dom-attr dijit/_PaletteMixin dijit/_TemplatedMixin dijit/_WidgetBase ./MColor dojo/text!./templates/ColorPalette.html dojo/text!./templates/ColorPaletteSwatch.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){var p=k([f,a,b],{palette:[],title:g.standardColors,_setTitleAttr:{node:"titleNode",type:"innerText"},baseClass:"mwColorPalette",templateString:m,constructor:function(){this._set("palette",
l.getStandardLightThemeColors());this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.dyeClass=p._Color;this._preparePalette(this.palette,{})}});p._Color=k([l],{template:h,getValue:function(){return this.toHex()},fillCell:function(a){var b=e.substitute(this.template,{color:this.toHex(),title:this.toMATLABFriendlyName()});c.set(a,"title",this.toMATLABFriendlyName());d.place(b,a)}});return p})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g){return k("dijit._PaletteMixin",l,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(b){return new ("string"==typeof this.dyeClass?a.getObject(this.dyeClass):this.dyeClass)(b)},_preparePalette:function(d,h){this._cells=[];var l=this._blankGif;this.own(f(this.gridNode,m,a.hitch(this,"_onCellClick")));for(var e=0;e<d.length;e++)for(var k=c.create("tr",{tabIndex:"-1",role:"row"},
this.gridNode),t=0;t<d[e].length;t++){var u=d[e][t];if(u){var w=this._dyeFactory(u,e,t,h[u]),u=c.create("td",{"class":this.cellClass,tabIndex:"-1",title:h[u],role:"gridcell"},k);w.fillCell(u,l);u.idx=this._cells.length;this._cells.push({node:u,dye:w})}}this._xDim=d[0].length;this._yDim=d.length;var v={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},x;for(x in v)this.own(g.addKeyListener(this.domNode,{keyCode:b[x],ctrlKey:!1,altKey:!1,
shiftKey:!1},this,function(){var a=v[x];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){h.focus(this._currentFocus)},_onCellClick:function(a){for(var b=a.target;"TD"!=b.tagName;){if(!b.parentNode||b==this.gridNode)return;b=b.parentNode}var c=this._getDye(b).getValue();this._setCurrent(b);h.focus(b);this._setValueAttr(c,!0);a.stopPropagation();a.preventDefault()},
_setCurrent:function(a){"_currentFocus"in this&&d.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=a)&&d.set(a,"tabIndex",this.tabIndex)},_setValueAttr:function(a,b){0<=this._selectedCell&&e.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");this._selectedCell=-1;if(a)for(var c=0;c<this._cells.length;c++)if(a==this._cells[c].dye.getValue()){this._selectedCell=c;e.add(this._cells[c].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);
if(b||void 0===b)this.onChange(a)},onChange:function(){},_navigateByKey:function(b,c){if(-1!=c){var g=this._currentFocus.idx+b;g<this._cells.length&&-1<g&&(g=this._cells[g].node,this._setCurrent(g),this.defer(a.hitch(h,"focus",g)))}},_getDye:function(a){return this._cells[a.idx].dye}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(k,d,e,c,b,a){var f=a.typematic={_fireEventAndReload:function(){this._timer=
null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(e.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,c,g,d,f,k,r){if(d!=this._obj){this.stop();this._initialDelay=k||500;this._subsequentDelay=f||0.9;this._minDelay=r||10;this._obj=d;this._node=c;this._count=
this._currentTimeout=-1;this._callback=e.hitch(b,g);this._evt={faux:!0};for(var q in a)"layerX"!=q&&"layerY"!=q&&(b=a[q],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[q]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(a,b,h,g,p,n,s){var r="keyCode"in b?"keyCode":"charCode"in b?"charCode":"charOrCode",q=[c(a,"keyCode"in b?"keydown":"charCode"in
b?"keypress":d._keypress,e.hitch(this,function(c){c[r]==b[r]&&(void 0===b.ctrlKey||b.ctrlKey==c.ctrlKey)&&(void 0===b.altKey||b.altKey==c.altKey)&&(void 0===b.metaKey||b.metaKey==(c.metaKey||!1))&&(void 0===b.shiftKey||b.shiftKey==c.shiftKey)?(c.stopPropagation(),c.preventDefault(),f.trigger(c,h,a,g,b,p,n,s)):f._obj==b&&f.stop()})),c(a,"keyup",e.hitch(this,function(){f._obj==b&&f.stop()}))];return{remove:function(){k.forEach(q,function(a){a.remove()})}}},addMouseListener:function(a,d,h,g,p,n){var s=
[c(a,"mousedown",e.hitch(this,function(b){b.preventDefault();f.trigger(b,d,a,h,a,g,p,n)})),c(a,"mouseup",e.hitch(this,function(a){this._obj&&a.preventDefault();f.stop()})),c(a,"mouseout",e.hitch(this,function(a){this._obj&&a.preventDefault();f.stop()})),c(a,"dblclick",e.hitch(this,function(c){c.preventDefault();9>b("ie")&&(f.trigger(c,d,a,h,a,g,p,n),setTimeout(e.hitch(this,f.stop),50))}))];return{remove:function(){k.forEach(s,function(a){a.remove()})}}},addListener:function(a,b,c,g,d,f,e,r){var q=
[this.addKeyListener(b,c,g,d,f,e,r),this.addMouseListener(a,g,d,f,e,r)];return{remove:function(){k.forEach(q,function(a){a.remove()})}}}};return f})},"mw-colorpicker/MColor":function(){define(["dojo/_base/declare","dojo/_base/Color"],function(k,d){var e=k([d],{toDoubleRGBString:function(){var c=this.toDoubleRGB();return"["+c[0].toFixed(2)+" "+c[1].toFixed(2)+" "+c[2].toFixed(2)+"]"},toMATLABFriendlyName:function(){var c=e.namedMATLABColors[this.toHex().toLowerCase()];return c?this.toDoubleRGBString()+
" - "+c:this.toDoubleRGBString()},toDoubleRGB:function(){return[this.r/255,this.g/255,this.b/255]}});e.fromDoubleRGB=function(c){c=c.map(function(b){return Math.round(255*b)});return new e(c)};e.namedMATLABColors={"#ff0000":"red (r)","#ff00ff":"magenta (m)","#ffff00":"yellow (y)","#00ff00":"green (g)","#00ffff":"cyan (c)","#0000ff":"blue (b)","#000000":"black (k)","#ffffff":"white (w)"};e.getStandardLightThemeColors=function(){return["#0073bd #d9541a #edb021 #7d2e8f #78ab30 #4dbfed #a3142e".split(" "),
"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};e.getStandardDarkThemeColors=function(){return["#ffff11 #139fff #ff6929 #64d413 #b746ff #0fffff #ff13a6".split(" "),"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};return e})},"mw-colorpicker/ColorSpinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/NumberSpinner dijit/form/ValidationTextBox ./MColor ./ToggleButtonGroup dojo/text!./templates/ColorSpinner.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){var s={value:0,smallDelta:0.01,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:1,strict:!0,places:"0,2"}},r={value:0,smallDelta:1,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:255,fractional:!1,strict:!0,places:"0"}},q={pattern:"^#[0-9a-f]{6}",required:!0,selectOnClick:!0,
intermediateChanges:!0,style:"width: 120px; height: 20px; font-size: 13px;"};return k([b,a,f],{onChange:function(){},value:"#000000",baseClass:"mwColorSpinner",templateString:p,_redTitle:n.redTitle,_greenTitle:n.greenTitle,_blueTitle:n.blueTitle,_hexTitle:n.hexTitle,postCreate:function(){this.inherited(arguments);this.redDoubleSpinner.set(s);this.greenDoubleSpinner.set(s);this.blueDoubleSpinner.set(s);this.redDoubleSpinner.set("onChange",d.hitch(this,this._doubleSpinnerChange));this.greenDoubleSpinner.set("onChange",
d.hitch(this,this._doubleSpinnerChange));this.blueDoubleSpinner.set("onChange",d.hitch(this,this._doubleSpinnerChange));this.redIntSpinner.set(r);this.greenIntSpinner.set(r);this.blueIntSpinner.set(r);this.redIntSpinner.set("onChange",d.hitch(this,this._intSpinnerChange));this.greenIntSpinner.set("onChange",d.hitch(this,this._intSpinnerChange));this.blueIntSpinner.set("onChange",d.hitch(this,this._intSpinnerChange));this.hexSpinner.set(q);this.hexSpinner.set("onChange",d.hitch(this,this._hexSpinnerChange));
this.toggleButton.onChange=d.hitch(this,this._handleToggleChange);this.toggleButton.set("buttonText",["[0-1]","[0-255]",n.hexTitle]);this.toggleButton.set("value",2);this.toggleButton.set("value",1);this._updateSpinnerValues(new h(this.value),!0,!0,!0,!1)},_setValueAttr:function(a,b){var c=new h(a);this._updateSpinnerValues(c,!0,!0,!0,b)},_updateSpinnerValues:function(a,b,c,g,d){this._set("value",a.toHex());b&&(b=a.toDoubleRGB(),this._setSpinnerValueWithoutFiringEvent(this.redDoubleSpinner,b[0]),
this._setSpinnerValueWithoutFiringEvent(this.greenDoubleSpinner,b[1]),this._setSpinnerValueWithoutFiringEvent(this.blueDoubleSpinner,b[2]));c&&(c=a.toRgb(),this._setSpinnerValueWithoutFiringEvent(this.redIntSpinner,c[0]),this._setSpinnerValueWithoutFiringEvent(this.greenIntSpinner,c[1]),this._setSpinnerValueWithoutFiringEvent(this.blueIntSpinner,c[2]));g&&this._setSpinnerValueWithoutFiringEvent(this.hexSpinner,a.toHex());if(d||void 0===d)this.onChange(this.get("value"))},_isSpinnerValid:function(a,
b,c){if(!0===a._beingDestroyed||!0===b._beingDestroyed||!0===c._beingDestroyed||!0===a._destroyed||!0===b._destroyed||!0===c._destroyed||!a.isValid()||!b.isValid()||!c.isValid())return!1;a=a.get("value");b=b.get("value");c=c.get("value");return isNaN(a)||void 0===a||isNaN(b)||void 0===b||isNaN(c)||void 0===c?!1:[a,b,c]},_doubleSpinnerChange:function(){var a=this._isSpinnerValid(this.redDoubleSpinner,this.greenDoubleSpinner,this.blueDoubleSpinner);!1!==a&&(a=h.fromDoubleRGB(a),this._updateSpinnerValues(a,
!1,!0,!0,!0))},_intSpinnerChange:function(){var a=this._isSpinnerValid(this.redIntSpinner,this.greenIntSpinner,this.blueIntSpinner);if(!1!==a){var b=new h;b.setColor(a);this._updateSpinnerValues(b,!0,!1,!0,!0)}},_hexSpinnerChange:function(a){this.hexSpinner.isValid()&&(a=new h(a),this._updateSpinnerValues(a,!0,!0,!1,!0))},_handleToggleChange:function(a){var b=[this.doubleSpinners,this.intSpinners,this.hexSpinners];b.forEach(function(a){c.set(a,"display","none")});c.set(b[a-1],"display","")},_setSpinnerValueWithoutFiringEvent:function(a,
b){a.set("intermediateChanges",!1);a.set("value",b,!1);a.set("intermediateChanges",!0)}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(k,d,e,c){return k("dijit.form.NumberSpinner",[e,c.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(b,a){var c=this.constraints,d=isNaN(b),e=!isNaN(c.max),h=!isNaN(c.min);d&&0!=a&&(b=0<a?h?c.min:e?c.max:0:e?this.constraints.max:h?c.min:0);var g=b+a;if(d||isNaN(g))return b;
e&&g>c.max&&(g=c.max);h&&g<c.min&&(g=c.min);return g},_onKeyDown:function(b){if(!this.disabled&&!this.readOnly&&(b.keyCode==d.HOME||b.keyCode==d.END)&&!b.ctrlKey&&(!b.altKey&&!b.metaKey)&&"undefined"!=typeof this.get("value")){var a=this.constraints[b.keyCode==d.HOME?"min":"max"];"number"==typeof a&&this._setValueAttr(a,!1);b.stopPropagation();b.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k("dijit.form._Spinner",l,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:m,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(a){return a},_arrowPressed:function(a,b,c){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),b*c),!1),h.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(a,b,c){var h=this.smallDelta;b==this.textbox&&(b=c.keyCode,h=b==d.PAGE_UP||b==d.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==d.UP_ARROW||b==d.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==a?this._arrowReleased(b):this._arrowPressed(b,b==this.upArrowNode?1:-1,h)},_wheelTimer:null,_mouseWheeled:function(a){if(this.focused){a.stopPropagation();a.preventDefault();var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?
1:-1);a=a.detail?-1*a.detail:b;if(0!==a){var c=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(c,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(c)},50)}}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,b.wheel,e.hitch(this,"_mouseWheeled")),f.addListener(this.upArrowNode,this.textbox,{keyCode:d.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),f.addListener(this.downArrowNode,
this.textbox,{keyCode:d.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),f.addListener(this.upArrowNode,this.textbox,{keyCode:d.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),f.addListener(this.downArrowNode,this.textbox,{keyCode:d.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(k,d,e){return k("dijit.form.RangeBoundTextBox",e,{rangeMessage:"",rangeCheck:function(c,b){return("min"in b?0<=this.compare(c,b.min):!0)&&("max"in b?0>=this.compare(c,b.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var c=
this.get("value");if(null==c)return!1;var b=!1;"min"in this.constraints&&(b=this.constraints.min,b=0>this.compare(c,"number"==typeof b&&0<=b&&0!=c?0:b));!b&&"max"in this.constraints&&(b=this.constraints.max,b=0<this.compare(c,"number"!=typeof b||0<b?b:0));return b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(c){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(c))},getErrorMessage:function(c){var b=
this.get("value");return null!=b&&""!==b&&("number"!=typeof b||!isNaN(b))&&!this.isInRange(c)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=d.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(k,d,e,c){return k("dijit.form.MappedTextBox",
c,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(b){return b.toString?b.toString():""},toString:function(){var b=this.filter(this.get("value"));return null!=b?"string"==typeof b?b:this.serialize(b,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=e.place("\x3cinput type\x3d'hidden'"+(this.name&&
!d("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(k,d,e,c,b,a,f){var l=k("dijit.form.ValidationTextBox",b,{templateString:f,required:!1,promptMessage:"",
invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=l.prototype[a]&&(d.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",
a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a=
"$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),
f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(b){b&&
this.focused?a.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):a.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=e.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",
a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre=
"^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=c.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=
!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){a.hide(this.domNode);this.inherited(arguments)}});return l})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main ../_mw/utils/deprecation".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){p.deprecated({deprecated:{module:"dijit/form/TextBox"},
replacement:{module:"mw-form/TextField"},geckNumber:1352405});k=k("dijit.form.TextBox",[l,m],{templateString:h,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:f("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>f("ie")&&this.defer(function(){try{var a=e.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(g){}})},_setPlaceHolderAttr:function(c){this._set("placeHolder",c);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=d.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(a(this._phspan,"mousedown",function(a){a.preventDefault()}),a(this._phspan,"touchend, pointerup, MSPointerUp",b.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(c));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){c.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){c.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),f("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>f("ie")&&(k.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},g._setSelectionRange=m._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});return k})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(k,d,e,c){return k("dijit.form._FormValueWidget",[e,c],{_layoutHackIE7:function(){if(7==d("ie"))for(var b=this.domNode,a=b.parentNode,c=b.firstChild||b,l=c.style.filter,e=this;a&&0==a.clientHeight;)(function(){var b=
e.connect(a,"onscroll",function(){e.disconnect(b);c.style.filter=(new Date).getMilliseconds();e.defer(function(){c.style.filter=l})})})(),a=a.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(k,d,e,c,b,a){return k("dijit.form._FormValueMixin",a,{readOnly:!1,_setReadOnlyAttr:function(a){d.set(this.focusNode,"readOnly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);
void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(k,d,e,c,b,a,f,l){var m=d("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):"",0!=this.compare(d,this.filter(this.parse(c,this.constraints)))&&(c=null)));
if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},_onInput:function(a){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||a);delete this._lastInputProducingEvent;this.intermediateChanges&&this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);this.own(f(this.textbox,"keydown, keypress, paste, cut, compositionend",a.hitch(this,function(d){var g;if("keydown"==d.type&&229!=d.keyCode){g=d.keyCode;switch(g){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!d.ctrlKey&&!d.metaKey&&!d.altKey){switch(g){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=
g&&90>=g||48<=g&&57>=g||g==b.SPACE)return;g=!1;for(var l in b)if(b[l]===d.keyCode){g=!0;break}if(!g)return}}(g=32<=d.charCode?String.fromCharCode(d.charCode):d.charCode)||(g=65<=d.keyCode&&90>=d.keyCode||48<=d.keyCode&&57>=d.keyCode||d.keyCode==b.SPACE?String.fromCharCode(d.keyCode):d.keyCode);g||(g=229);if("keypress"==d.type){if("string"!=typeof g)return;if("a"<=g&&"z">=g||"A"<=g&&"Z">=g||"0"<=g&&"9">=g||" "===g)if(d.ctrlKey||d.metaKey||d.altKey)return}var e={faux:!0},m;for(m in d)/^(layer[XY]|returnValue|keyLocation)$/.test(m)||
(l=d[m],"function"!=typeof l&&"undefined"!=typeof l&&(e[m]=l));a.mixin(e,{charOrCode:g,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;d.preventDefault()},stopPropagation:function(){d.stopPropagation()}});this._lastInputProducingEvent=e;!1===this.onInput(e)&&(e.preventDefault(),e.stopPropagation());if(!e._wasConsumed&&9>=c("ie"))switch(d.keyCode){case b.TAB:case b.ESCAPE:case b.DOWN_ARROW:case b.UP_ARROW:case b.LEFT_ARROW:case b.RIGHT_ARROW:break;default:if(d.keyCode==b.ENTER&&"textarea"!=
this.textbox.tagName.toLowerCase())break;this.defer(function(){this.textbox.value!==this._lastInputEventValue&&f.emit(this.textbox,"input",{bubbles:!0})})}})),f(this.textbox,"input",a.hitch(this,"_onInput")),f(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(b){if(null===b)return this._blankValue;if("string"!=typeof b)return b;this.trim&&(b=a.trim(b));this.uppercase&&(b=b.toUpperCase());this.lowercase&&(b=b.toLowerCase());this.propercase&&(b=b.replace(/[^\s]+/g,
function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return b},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(b){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==b&&(this._selectOnClickHandle=f.once(this.domNode,"mouseup, touchend",a.hitch(this,function(a){this._isTextSelected()||
m.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});m._setSelectionRange=l._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};m.selectInputText=l.selectInputText=function(a,b,c){a=e.byId(a);isNaN(b)&&(b=0);isNaN(c)&&
(c=a.value?a.value.length:0);try{a.focus(),m._setSelectionRange(a,b,c)}catch(d){}};return m})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){function w(){}var v=d("dijit._MasterTooltip",[s,
r],{duration:p.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new q(this.domNode);this.fadeIn=e.fadeIn({node:this.domNode,duration:this.duration,onEnd:l.hitch(this,"_onShow")});this.fadeOut=e.fadeOut({node:this.domNode,duration:this.duration,onEnd:l.hitch(this,"_onHide")})},show:function(a,b,c,g,d,h,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=
arguments;else{this.containerNode.innerHTML=a;d&&this.set("textDir",d);this.containerNode.align=g?"right":"left";var m=n.around(this.domNode,b,c&&c.length?c:x.defaultPosition,!g,l.hitch(this,"orient")),p=m.aroundNodePos;"M"==m.corner.charAt(0)&&"M"==m.aroundCorner.charAt(0)?(this.connectorNode.style.top=p.y+(p.h-this.connectorNode.offsetHeight>>1)-m.y+"px",this.connectorNode.style.left=""):"M"==m.corner.charAt(1)&&"M"==m.aroundCorner.charAt(1)?this.connectorNode.style.left=p.x+(p.w-this.connectorNode.offsetWidth>>
1)-m.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");f.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=h||w;this.onMouseLeave=e||w}},orient:function(b,c,d,h,f){this.connectorNode.style.top="";var l=h.h;h=h.w;b.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+"-"+d];this.domNode.style.width="auto";var e=a.position(this.domNode);if(g("ie")||g("trident"))e.w+=2;var m=Math.min(Math.max(h,1),e.w);a.setMarginBox(this.domNode,{w:m});"B"==d.charAt(0)&&"B"==c.charAt(0)?(b=a.position(b),c=this.connectorNode.offsetHeight,b.h>l?(this.connectorNode.style.top=l-(f.h+c>>1)+"px",this.connectorNode.style.bottom=""):
(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-c/2,0),b.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,e.w-h)},_onShow:function(){g("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=w},_onHide:function(){this.domNode.style.cssText=
"";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});u.showTooltip=function(a,b,c,g,d,h,f){c&&(c=k.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));x._masterTT||(u._masterTT=x._masterTT=new v);return x._masterTT.show(a,b,c,g,d,h,f)};u.hideTooltip=function(a){return x._masterTT&&x._masterTT.hide(a)};var x=d("dijit.Tooltip",s,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){k.forEach(this._connections||
[],function(a){k.forEach(a,function(a){a.remove()})},this);this._connectIds=k.filter(l.isArrayLike(a)?a:a?[a]:[],function(a){return c.byId(a,this.ownerDocument)},this);this._connections=k.map(this._connectIds,function(a){a=c.byId(a,this.ownerDocument);var b=this.selector,g=b?function(a){return h.selector(b,a)}:function(a){return a},d=this;return[h(a,g(m.enter),function(){d._onHover(this)}),h(a,g("focusin"),function(){d._onHover(this)}),h(a,g(m.leave),l.hitch(d,"_onUnHover")),h(a,g("focusout"),l.hitch(d,
"set","state","DORMANT"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==k.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=k.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;k.forEach(l.isArrayLike(a)?
a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(x.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=
this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}x.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,l.hitch(this,"set","state","SHOWING"),l.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",
a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");k.forEach(this._connections||[],function(a){k.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});x._MasterTooltip=v;x.show=u.showTooltip;x.hide=u.hideTooltip;x.defaultPosition=["after-centered","before-centered"];return x})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(k,d,e,c,b,a){var f=function(a){a=a||{};var b=e.getLocalization("dojo.cldr","number",e.normalizeLocale(a.locale)),c=a.pattern?a.pattern:b[(a.type||"decimal")+"Format"];a="number"==typeof a.places?
a.places:"string"===typeof a.places&&0<a.places.length?a.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:b.decimal,places:a}},l=k("dijit.form.NumberTextBoxMixin",null,{pattern:function(a){return"("+(this.focused&&this.editOptions?this._regExpGenerator(d.delegate(a,this.editOptions))+"|":"")+this._regExpGenerator(a)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:b.format,_regExpGenerator:b.regexp,_decimalInfo:f(),postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},_setConstraintsAttr:function(a){var b="number"==typeof a.places?a.places:0;b&&b++;"number"!=typeof a.max&&(a.max=9*Math.pow(10,15-b));"number"!=typeof a.min&&(a.min=-9*Math.pow(10,15-b));this.inherited(arguments,[a]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=f(a)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var a=this.get("value");"number"==typeof a&&!isNaN(a)&&(a=this.format(a,this.constraints),
void 0!==a&&(this.textbox.value=a));this.inherited(arguments)}},format:function(a,b){var c=String(a);if("number"!=typeof a)return c;if(isNaN(a))return"";if(!("rangeCheck"in this&&this.rangeCheck(a,b))&&!1!==b.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(b=d.mixin({},b,this.editOptions));return this._formatter(a,b)},_parser:b.parse,parse:function(a,b){var c=d.mixin({},b,this.editOptions&&this.focused?this.editOptions:{});if(this.focused&&null!=c.places){var f=c.places,
f="number"===typeof f?f:Number(f.split(",").pop());c.places="0,"+f}c=this._parser(a,c);this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(a,b));return c},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(a){if(null==a||"string"==typeof a&&""==a)return NaN;"number"==typeof a&&(!isNaN(a)&&0!=a)&&(a=b.round(a,this._decimalInfo.places));return this.inherited(arguments,[a])},serialize:function(a,b){return"number"!=typeof a||
isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var a=d.hitch(d.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(a,!0)},_setValueAttr:function(a,b,c){if(void 0!==a&&void 0===c)if(c=String(a),"number"==typeof a)if(isNaN(a))c="";else{if("rangeCheck"in this&&this.rangeCheck(a,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else a?a=void 0:(c="",a=NaN);this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var a=this.inherited(arguments);
if(isNaN(a)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+b._realNumberRegexp(d.delegate(this.constraints))+"$").test(this.textbox.value))return a=Number(this.textbox.value),isNaN(a)?void 0:a}else return a},isValid:function(a){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&this.rangeCheck(b,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?
!0:this.inherited(arguments):!1},_isValidSubset:function(){var a="number"==typeof this.constraints.min,b="number"==typeof this.constraints.max,g=this.get("value");if(isNaN(g)||!a&&!b)return this.inherited(arguments);var d=g|0,f=0>g,l=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),e=(this.maxLength||20)-this.textbox.value.length,k=l?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",d=l?d+"."+k:d+"",e=c.rep("9",e),l=g;f?l=Number(d+e):g=Number(d+e);return!(a&&g<this.constraints.min||
b&&l>this.constraints.max)}});k=k("dijit.form.NumberTextBox",[a,l],{baseClass:"dijitTextBox dijitNumberTextBox"});k.Mixin=l;return k})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(k,d,e,c,b){var a={};k.setObject("dojo.number",a);a.format=function(b,c){c=k.mixin({},c||{});var h=d.normalizeLocale(c.locale),h=d.getLocalization("dojo.cldr","number",h);c.customs=h;h=c.pattern||h[(c.type||"decimal")+"Format"];return isNaN(b)||Infinity==
Math.abs(b)?null:a._applyPattern(b,h,c)};a._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;a._applyPattern=function(b,c,d){d=d||{};var g=d.customs.group,f=d.customs.decimal;c=c.split(";");var e=c[0];c=c[0>b?1:0]||"-"+e;if(-1!=c.indexOf("%"))b*=100;else if(-1!=c.indexOf("\u2030"))b*=1E3;else if(-1!=c.indexOf("\u00a4"))g=d.customs.currencyGroup||g,f=d.customs.currencyDecimal||f,c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,b,c,g){a=d[["symbol","currency","displayName"][c.length-1]]||d.currency||
"";return!a?"":b+a+g});else if(-1!=c.indexOf("E"))throw Error("exponential notation not supported");var k=a._numberPatternRE,e=e.match(k);if(!e)throw Error("unable to find a number expression in pattern: "+c);!1===d.fractional&&(d.places=0);return c.replace(k,a._formatAbsolute(b,e[0],{decimal:f,group:g,places:d.places,round:d.round}))};a.round=function(a,b,c){c=10/(c||10);return(c*+a).toFixed(b)/c};if(0==(0.9).toFixed()){var f=a.round;a.round=function(a,b,c){var g=Math.pow(10,-b||0),d=Math.abs(a);
if(!a||d>=g)g=0;else if(d/=g,0.5>d||0.95<=d)g=0;return f(a,b,c)+(0<a?g:-g)}}a._formatAbsolute=function(b,d,f){f=f||{};!0===f.places&&(f.places=0);Infinity===f.places&&(f.places=6);d=d.split(".");var g="string"==typeof f.places&&f.places.indexOf(","),e=f.places;g?e=f.places.substring(g+1):0<=e||(e=(d[1]||[]).length);0>f.round||(b=a.round(b,e,f.round));b=String(Math.abs(b)).split(".");var n=b[1]||"";d[1]||f.places?(g&&(f.places=f.places.substring(0,g)),g=void 0!==f.places?f.places:d[1]&&d[1].lastIndexOf("0")+
1,g>n.length&&(b[1]=c.pad(n,g,"0",!0)),e<n.length&&(b[1]=n.substr(0,e))):b[1]&&b.pop();e=d[0].replace(",","");g=e.indexOf("0");-1!=g&&(g=e.length-g,g>b[0].length&&(b[0]=c.pad(b[0],g)),-1==e.indexOf("#")&&(b[0]=b[0].substr(b[0].length-g)));var e=d[0].lastIndexOf(","),k,r;-1!=e&&(k=d[0].length-e-1,d=d[0].substr(0,e),e=d.lastIndexOf(","),-1!=e&&(r=d.length-e-1));d=[];for(e=b[0];e;)g=e.length-k,d.push(0<g?e.substr(g):e),e=0<g?e.slice(0,g):"",r&&(k=r,delete r);b[0]=d.reverse().join(f.group||",");return b.join(f.decimal||
".")};a.regexp=function(b){return a._parseInfo(b).regexp};a._parseInfo=function(c){c=c||{};var f=d.normalizeLocale(c.locale),f=d.getLocalization("dojo.cldr","number",f),h=c.pattern||f[(c.type||"decimal")+"Format"],g=f.group,e=f.decimal,n=1;if(-1!=h.indexOf("%"))n/=100;else if(-1!=h.indexOf("\u2030"))n/=1E3;else{var k=-1!=h.indexOf("\u00a4");k&&(g=f.currencyGroup||g,e=f.currencyDecimal||e)}f=h.split(";");1==f.length&&f.push("-"+f[0]);f=b.buildGroupRE(f,function(d){d="(?:"+b.escapeString(d,".")+")";
return d.replace(a._numberPatternRE,function(b){var d={signed:!1,separator:c.strict?g:[g,""],fractional:c.fractional,decimal:e,exponent:!1};b=b.split(".");var f=c.places;1==b.length&&1!=n&&(b[1]="###");1==b.length||0===f?d.fractional=!1:(void 0===f&&(f=c.pattern?b[1].lastIndexOf("0")+1:Infinity),f&&void 0==c.fractional&&(d.fractional=!0),!c.places&&f<b[1].length&&(f+=","+b[1].length),d.places=f);b=b[0].split(",");1<b.length&&(d.groupSize=b.pop().length,1<b.length&&(d.groupSize2=b.pop().length));return"("+
a._realNumberRegexp(d)+")"})},!0);k&&(f=f.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,d,g,f){a=b.escapeString(c[["symbol","currency","displayName"][g.length-1]]||c.currency||"");if(!a)return"";d=d?"[\\s\\xa0]":"";f=f?"[\\s\\xa0]":"";return!c.strict?(d&&(d+="*"),f&&(f+="*"),"(?:"+d+a+f+")?"):d+a+f}));return{regexp:f.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:g,decimal:e,factor:n}};a.parse=function(b,c){var d=a._parseInfo(c),g=RegExp("^"+d.regexp+"$").exec(b);if(!g)return NaN;var f=g[1];if(!g[1]){if(!g[2])return NaN;
f=g[2];d.factor*=-1}f=f.replace(RegExp("["+d.group+"\\s\\xa0]","g"),"").replace(d.decimal,".");return f*d.factor};a._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var d=a._integerRegexp(c),f=b.buildGroupRE(c.fractional,function(a){var b="";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?
"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),g=b.buildGroupRE(c.exponent,function(b){return b?"([eE]"+a._integerRegexp({signed:c.eSigned})+")":""}),d=d+f;f&&(d="(?:(?:"+d+")|(?:"+f+"))");return d+g};a._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var c=b.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),d=b.buildGroupRE(a.separator,function(c){if(!c)return"(?:\\d+)";c=b.escapeString(c);" "==c?
c="\\s":"\u00a0"==c&&(c="\\s\\xa0");var d=a.groupSize,f=a.groupSize2;return f?(c="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+c+"]\\d{"+f+"})*["+c+"]\\d{"+d+"})",0<d-f?"(?:"+c+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":c):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+c+"]\\d{"+d+"})*)"},!0);return c+d};return a})},"mw-colorpicker/ToggleButtonGroup":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ToggleButton".split(" "),function(k,d,e,
c,b,a,f){return k([c,b,a],{onChange:function(){},value:1,buttonText:["Option1","Option2"],baseClass:"mwToggleButtonGroup",postMixInProperties:function(){this.inherited(arguments);var a="";this.buttonText.forEach(function(b,c,d){var f="";0===c?f="firstToggle":c===d.length-1&&(f="lastToggle");a+=e.substitute('\x3ctd\x3e\x3cbutton class\x3d"${className}" data-dojo-type\x3d"dijit/form/ToggleButton" data-dojo-attach-point\x3d"${attachPoint}" data-test-id\x3d"${dataTestId}"\x3e${buttonText}\x3c/button\x3e\x3c/td\x3e',
{className:f,attachPoint:"button"+(c+1),buttonText:b,dataTestId:"toggleGroup_button"+(c+1)})});this.templateString='\x3ctable class\x3d"${baseClass}"\x3e\x3ctr class\x3d"${baseClass}Buttons"\x3e'+a+"\x3c/tr\x3e\x3c/table\x3e"},buildRendering:function(){this.inherited(arguments);this.buttonWidgets=[];this.buttonText.forEach(d.hitch(this,function(a,b,c){a=this["button"+(b+1)];this.buttonWidgets.push(a);a.set("onChange",d.hitch(this,this._handleToggleChange,b+1))}))},postCreate:function(){this.inherited(arguments)},
_setValueAttr:function(a,b){this.buttonWidgets.forEach(function(a){a.set("checked",!1,!1)});this.buttonWidgets[a-1].set("checked",!0,!1);if(this.get("value")!==a&&(this._set("value",a),b||void 0===b))this.onChange(this.get("value"))},_handleToggleChange:function(a){this.set("value",a)},_setButtonTextAttr:function(a){a.forEach(d.hitch(this,function(a,b){this.buttonWidgets[b].set("label",a)}))}})})},"MW/toolstrip/form/GridPickerButton":function(){define("dijit/focus dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dojo/keys MW/GridPicker MW/toolstrip/form/DropDownButton mw-menu/Menu mw-dom-utils/domUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return d([l,b],{baseClass:"mwWidget mwDropDownButton mwGridPickerButton",visualFamily:"toolstrip",maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",constructor:function(a){a=a||{};this.maxRows=a.maxRows?a.maxRows:this.maxRows;this.maxColumns=a.maxColumns?a.maxColumns:this.maxColumns;this.occupancy=a.occupancy?a.occupancy:this.occupancy;this.fillOrder=a.fillOrder?a.fillOrder:this.fillOrder;this._gridPicker=new f({maxRows:this.maxRows,maxColumns:this.maxColumns,occupancy:this.occupancy,
fillOrder:this.fillOrder});this._gridPickerMenu=new m;this.selection={};this.own(this._gridPicker);this.own(this._gridPickerMenu)},buildRendering:function(){this.inherited(arguments);this._gridPickerMenu.addChild(this._gridPicker);this.set("menu",this._gridPickerMenu)},_setSelectionAttr:function(a){0!==Object.keys(a).length&&this._gridPicker.getLastSelectedRowCount()!==a.row&&this._gridPicker.getLastSelectedColumnCount()!==a.column&&this._gridPicker.highlightCells(a.row-1,a.column-1);this._set("selection",
a)},_setMaxRowsAttr:function(a){if(this._created)throw Error("Max Rows can only be set at construction time");this._set("maxRows",a)},_setMaxColumnsAttr:function(a){if(this._created)throw Error("Max Columns can only be set at construction time");this._set("maxColumns",a)},_setOccupancyAttr:function(a){this._gridPicker.set("occupancy",a);this._set("occupancy",a)},_setFillOrderAttr:function(a){this._gridPicker.set("fillOrder",a);this._set("fillOrder",a)},postCreate:function(){this.inherited(arguments);
this._gridPicker.on(f.SELECTION_CHANGED,this._handleGridSelection.bind(this));this.menu.on("keydown",this._handleMenuKeyDown.bind(this));this.menu.on("open",this._handleMenuCloseOnFocusOut.bind(this))},_handleGridSelection:function(a){var b={};b.row=a.rows;b.column=a.columns;this.set("selection",b);this.closeMenu()},_handleMenuCloseOnFocusOut:function(){var a=k.watch("curNode",e.hitch(this,function(b,c,d){if(null===d||!h.findParentNode(d,"mwMenu"))a.unwatch(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(b){b.keyCode===
a.TAB&&b.stopPropagation();this._gridPicker.navigate(b)}})})},"MW/GridPicker":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/Evented dojo/keys dojo/on dojo/touch dijit/_WidgetBase".split(" "),function(k,d,e,c,b,a,f,l,m){k=k([m,b],{maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",_highlightedRows:0,_highlightedColumns:0,_lastSelectedRows:0,_lastSelectedColumns:0,buildRendering:function(){this.inherited(arguments);this.domNode.classList.add("gridPicker");
this.domNode.setAttribute("tabindex",0);this._createGrid()},postCreate:function(){this.inherited(arguments);this.domNode.addEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.addEventListener("click",this._commitSelection.bind(this));this.domNode.addEventListener("mouseleave",this._clearHighlighting.bind(this))},getLastSelectedRowCount:function(){return this._lastSelectedRows},getLastSelectedColumnCount:function(){return this._lastSelectedColumns},navigate:function(b){var c=
!1,d=!1;0!==this._highlightedRows&&0!==this._highlightedColumns&&(c=!0);switch(b.keyCode){case a.DOWN_ARROW:c?this.highlightCells(this._highlightedRows,this._highlightedColumns-1):this.highlightCells(0,0);d=!0;break;case a.UP_ARROW:c&&this.highlightCells(this._highlightedRows-2,this._highlightedColumns-1);d=!0;break;case a.RIGHT_ARROW:c&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns);d=!0;break;case a.LEFT_ARROW:c&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns-
2);d=!0;break;case a.ENTER:this._commitSelection();this._clearHighlighting();d=!0;break;case a.TAB:c?this._highlightedColumns<this.maxColumns?this.highlightCells(this._highlightedRows-1,this._highlightedColumns):this._highlightedRows<this.maxRows&&this.highlightCells(this._highlightedRows,0):this.highlightCells(0,0);d=!0;break;case a.ESCAPE:this._clearHighlighting()}return d},highlightCells:function(a,b){var c,d,f=0;if(void 0!==a&&void 0!==b)if(this._highlightedRows=a+1,this._highlightedColumns=b+
1,"rowMajor"===this.fillOrder)for(c=0;c<this.maxRows;c++)for(d=0;d<this.maxColumns;d++)c<=a&&d<=b?(this._cells[c][d].classList.add("selected"),f<this.occupancy?this._cells[c][d].classList.add("occupied"):this._cells[c][d].classList.remove("occupied"),f++):this._cells[c][d].classList.remove("selected");else for(d=0;d<this.maxColumns;d++)for(c=0;c<this.maxRows;c++)c<=a&&d<=b?(this._cells[c][d].classList.add("selected"),f<this.occupancy?this._cells[c][d].classList.add("occupied"):this._cells[c][d].classList.remove("occupied"),
f++):this._cells[c][d].classList.remove("selected")},_createGrid:function(){var a,b,c;this._cells=[];this._cells.length=this.maxRows;for(a=0;a<this.maxRows;a++){this._cells[a]=[];this._cells[a].length=this.maxColumns;for(b=0;b<this.maxColumns;b++)c=document.createElement("button"),c.setAttribute("id",this.id+"Cell"+a+"_"+b),c.setAttribute("tabindex","0"),this.domNode.appendChild(c),c.classList.add("cell"),c.row=a,c.col=b,this._cells[a][b]=c;a<this.maxRows&&(b=document.createElement("br"),this.domNode.appendChild(b))}},
_highlightSelection:function(a){this.highlightCells(a.target.row,a.target.col)},_clearHighlighting:function(){var a,b;for(a=0;a<this._highlightedRows;a++)for(b=0;b<this._highlightedColumns;b++)this._cells[a][b].classList.remove("selected");this._highlightedColumns=this._highlightedRows=0},_commitSelection:function(){this._lastSelectedRows=this._highlightedRows;this._lastSelectedColumns=this._highlightedColumns;this.emit("gridSelectionChanged",{rows:this._lastSelectedRows,columns:this._lastSelectedColumns})},
startup:function(){this.inherited(arguments)},destroy:function(){this.domNode.removeEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.removeEventListener("click",this._commitSelection.bind(this));this.domNode.removeEventListener("mouseleave",this._clearHighlighting.bind(this));this.inherited(arguments)}});k.ROW_MAJOR="rowMajor";k.COLUMN_MAJOR="columnMajor";k.SELECTION_CHANGED="gridSelectionChanged";return k})},"MW/toolstrip/qab/QABPushButton":function(){define(["dojo/_base/declare",
"../form/PushButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(k,d,e,c){return k([d,e,c],{})})},"MW/toolstrip/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","mw-mixins/property/DescriptionMixin","mw-mixins/property/ShortcutMixin"],function(k,d,e,c){k=k(null,{showText:!0,_setShowTextAttr:function(b){if("boolean"!==typeof b)throw Error("'showText' property expects a boolean!");this._set("showText",
b);this._updateTooltip(b)},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setDescriptionAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setShortcutAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_updateTooltip:function(b){var a=this.get("text");a&&(a=a.replace(/\n/g," "));b=b?this.get("description"):a;this.get("shortcut")&&(b=b?b+" ("+this._getPlatformizedShortcut(this.get("shortcut"))+
")":this._getPlatformizedShortcut(this.get("shortcut")));this.domNode.setAttribute("title",b);this._updateTextInDOM(this.get("text"))},_getTextForDOM:function(){return this.get("showText")?this.inherited(arguments):""}});k._dependencies=[{mixin:d,orderDependent:!0},{mixin:e,orderDependent:!0},{mixin:c,orderDependent:!0}];return k})},"MW/toolstrip/qab/QABDropDownButton":function(){define(["dojo/_base/declare","../form/DropDownButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],
function(k,d,e,c){return k([d,e,c],{})})},"MW/toolstrip/qab/QABSplitButton":function(){define(["dojo/_base/declare","../form/SplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(k,d,e,c){return k([d,e,c],{})})},"MW/toolstrip/qab/QABToggleButton":function(){define(["dojo/_base/declare","../form/ToggleButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(k,d,e,c){return k([d,e,c],{})})},"MW/toolstrip/qab/QABToggleSplitButton":function(){define(["dojo/_base/declare",
"../form/ToggleSplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(k,d,e,c){return k([d,e,c],{})})},"MW/toolstrip/form/ToggleSplitButton":function(){define("dojo/_base/declare mw-form/ToggleSplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){return k(u.validate([d,e,c,a,f,l,m,h,g,b,p,n,t,s,r,q]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/ToggleSplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I,M,K){return k(M.validate([d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G,I]),{baseClass:"mwWidget mwToggleSplitButton",templateString:K,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},postCreate:function(){this.set("checkableNode",this.buttonNode);this.inherited(arguments)}})})},"MW/toolstrip/widgets/qabcontrols/QABFloatingPaneDock":function(){define("dojo/_base/declare dojo/topic dijit/registry MW/toolstrip/constants/TypeConstants MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash MW/toolstrip/menu/PopupList MW/toolstrip/menu/ListItem MW/toolstrip/qab/QABDropDownButton".split(" "),
function(k,d,e,c,b,a,f,l){return k([l],{postCreate:function(){this.text=this[b[c.QAB_FLOATING_PANE_DOCK].text];this.inherited(arguments);d.publish("/floatingPaneDockUpdate",{newWidget:this});e.byId("dockDropDownMenu")?this._popupList=e.byId("dockDropDownMenu"):this._popupList=new a({id:"dockDropDownMenu"});this.set("menuId","dockDropDownMenu")},addItem:function(a){var b=new f({guiId:a.id,text:a.title});a.watch("title",function(){b.set("text",a.title)});b.on("click",function(){a.show();a.bringToTop()});
this._popupList.addChild(b);this._toggleSelectDisplayAndReset()},_findMenuItemForGuiId:function(a){var b=null;this._popupList.getChildren().some(function(c){b=c;return c.guiId===a});return b},removeItem:function(a){a=this._findMenuItemForGuiId(a.id);this._popupList.removeChild(a);a.destroyRecursive();this._destroyed||this._toggleSelectDisplayAndReset()},startup:function(){this.inherited(arguments);this._toggleSelectDisplayAndReset()},_toggleSelectDisplayAndReset:function(){0<this._popupList.getChildren().length?
this.set("disabled",!1):this.set("disabled",!0)},_positionDock:function(){}})})},"MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","../constants/TypeConstants","MW/toolstrip/hashes/listOfNewWidgets"],function(k,d,e){var c={},b,a,f,l;a={enabled:"disabled"};b=k.mixin({text:"label"},a);f=k.mixin({text:"label",showText:"showLabel",shortcut:"accelKey"},a);l=k.mixin({popupId:"menuId",hasDynamicPopup:"hasDynamicMenu"},a);c[d.PUSH_BUTTON]=-1===e.indexOf(d.PUSH_BUTTON)?
b:a;c[d.TOGGLE_BUTTON]=k.mixin({selected:"checked"},-1===e.indexOf(d.TOGGLE_BUTTON)?b:a,-1===e.indexOf(d.TOGGLE_BUTTON)?{}:{buttonGroupName:"buttonGroup"});c[d.TOGGLE_SPLIT_BUTTON]=k.mixin({selected:"checked"},-1===e.indexOf(d.TOGGLE_SPLIT_BUTTON)?a:l,-1===e.indexOf(d.TOGGLE_SPLIT_BUTTON)?{}:{buttonGroupName:"buttonGroup"},-1===e.indexOf(d.TOGGLE_SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});c[d.DROP_DOWN_BUTTON]=-1===e.indexOf(d.DROP_DOWN_BUTTON)?b:l;c[d.SPLIT_BUTTON]=k.mixin(-1===
e.indexOf(d.SPLIT_BUTTON)?b:l,-1===e.indexOf(d.SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});c[d.COLOR_PICKER_BUTTON]=a;c[d.GRID_PICKER_BUTTON]=a;c[d.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=b;c[d.LIST_ITEM]=-1===e.indexOf(d.LIST_ITEM)?f:a;c[d.LIST_ITEM_WITH_CHECKBOX]=k.mixin({selected:"checked"},-1===e.indexOf(d.LIST_ITEM_WITH_CHECKBOX)?f:a,-1===e.indexOf(d.LIST_ITEM_WITH_CHECKBOX)?{}:{closePopupOnClick:"closeMenuOnClick"});c[d.LIST_ITEM_WITH_RADIO_BUTTON]=k.mixin({selected:"checked"},
-1===e.indexOf(d.LIST_ITEM_WITH_RADIO_BUTTON)?f:a,-1===e.indexOf(d.LIST_ITEM_WITH_RADIO_BUTTON)?{}:{closePopupOnClick:"closeMenuOnClick",buttonGroupName:"buttonGroup"});c[d.LIST_ITEM_WITH_TEXTFIELD]=k.mixin(-1===e.indexOf(d.LIST_ITEM_WITH_TEXTFIELD)?{editable:"readOnly"}:{placeholderText:"placeholder"},{text:"value"},a);c[d.LIST_ITEM_WITH_POPUP]=-1===e.indexOf(d.LIST_ITEM_WITH_POPUP)?f:l;c[d.POPUP_LIST_HEADER]=k.mixin({title:-1===e.indexOf(d.POPUP_LIST_HEADER)?"label":"text"});c[d.SPINNER]=k.mixin({minorStepSize:-1===
e.indexOf(d.SPINNER)?"smallDelta":"step",majorStepSize:-1===e.indexOf(d.SPINNER)?"largeDelta":"step"},-1===e.indexOf(d.SPINNER)?{editable:"readOnly"}:{},a);c[d.TEXT_FIELD]=k.mixin({text:"value"},-1===e.indexOf(d.TEXT_FIELD)?{placeholderText:"placeHolder_asdfasdf",editable:"readOnly"}:{placeholderText:"placeholder"},a);c[d.TEXT_AREA]=k.mixin({text:"value"},-1===e.indexOf(d.TEXT_AREA)?{editable:"readOnly"}:{},a);c[d.RADIO_BUTTON]=k.mixin(-1===e.indexOf(d.RADIO_BUTTON)?{text:"label"}:{buttonGroupName:"buttonGroup"},
{selected:"checked"},a);c[d.LABEL]=k.mixin({},a);c[d.CHECK_BOX]=k.mixin(-1===e.indexOf(d.CHECK_BOX)?{text:"label"}:{},{selected:"checked"},a);c[d.COMBO_BOX]=k.mixin(-1===e.indexOf(d.COMBO_BOX)?{editable:"readOnly"}:{selectedItem:"value",placeholderText:"placeholder"},a);c[d.LIST]=k.mixin(-1===e.indexOf(d.LIST)?{}:{selectedItems:"value"},a);c[d.HORIZONTAL_SLIDER]=a;c[d.GALLERY]=a;c[d.GALLERY_ITEM]=a;c[d.TOGGLE_GALLERY_ITEM]=k.mixin({selected:"checked",buttonGroupName:"buttonGroup"},a);c[d.QAB_PUSH_BUTTON]=
c[d.PUSH_BUTTON];c[d.QAB_DROP_DOWN_BUTTON]=c[d.DROP_DOWN_BUTTON];c[d.QAB_FLOATING_PANE_DOCK]=b;c[d.QAB_SPLIT_BUTTON]=c[d.SPLIT_BUTTON];c[d.QAB_TOGGLE_BUTTON]=c[d.TOGGLE_BUTTON];c[d.QAB_TOGGLE_SPLIT_BUTTON]=c[d.TOGGLE_SPLIT_BUTTON];Object.keys(c).forEach(function(a){Object.keys(c[a]).forEach(function(b){c[a][c[a][b]]=b})});return c})},"MW/toolstrip/menu/PopupList":function(){define(["dojo/_base/declare","mw-menu/Menu","../mixins/property/TypeMixin","../mixins/ScrollbarMixin","mw-mixins/mixinDependencyValidator"],
function(k,d,e,c,b){return k(b.validate([d,e,c]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary")}})})},"MW/toolstrip/menu/ListItem":function(){define("dojo/_base/declare mw-menu/MenuItem MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin MW/toolstrip/mixins/property/QuickAccessIconMixin MW/toolstrip/mixins/property/RemovableMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k(h.validate([d,e,c,b,a,f,l,m]),{visualFamily:"toolstrip",_setRemovableAttr:function(a){this.inherited(arguments);if(a){this.domNode.classList.add("removableTrue");this._removeNode=document.createElement("div");this._removeNode.classList.add("mwRemoveNode");var b=document.createElement("div");b.classList.add("clear_all");this._removeNode.appendChild(b);this.domNode.appendChild(this._removeNode);this._handleKeyupForRemove=function(a){46===a.keyCode&&(this._emitRemoveEvent(),
a.stopPropagation())}.bind(this);this.domNode.addEventListener("keyup",this._handleKeyupForRemove);this._removeNode.addEventListener("click",this._handleRemoveNodeClick.bind(this));this._removeNode.addEventListener("mouseup",this._handleRemoveNodeMouseup)}else this._removeNode&&(this.domNode.classList.remove("removableTrue"),this.domNode.removeChild(this._removeNode),this._removeNode=null,this.domNode.removeEventListener("keyup",this._handleKeyupForRemove));this._set("removable",a)},_handleRemoveNodeClick:function(a){this._emitRemoveEvent();
a.stopPropagation()},_handleRemoveNodeMouseup:function(a){a.stopPropagation()}})})},"MW/toolstrip/mixins/property/UseQuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(k,d){var e=k(null,{useQuickAccessIcon:!1,postCreate:function(){this.inherited(arguments);this.set("useQuickAccessIcon",this.get("useQuickAccessIcon"))},_setUseQuickAccessIconAttr:function(c){if("boolean"!==typeof c)throw Error("'useQuickAccessIcon' property expects a boolean!");this._set("useQuickAccessIcon",
c);c?this.set("iconProp","quickAccessIcon"):this.set("iconProp","icon")}});e._dependencies=[{mixin:d,orderDependent:!1}];return e})},"MW/toolstrip/menu/ListItemWithPopup":function(){define("dojo/_base/declare mw-menu/PopupMenuItem MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m){return k(m.validate([d,e,c,b,a,f,l]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/ListItemWithCheckBox":function(){define("dojo/_base/declare mw-menu/CheckBoxMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),function(k,d,e,c,b,a){return k(a.validate([d,e,c,b]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.checkBox.set("visualFamily",
"toolstrip")}})})},"mw-menu/CheckBoxMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/CheckBox mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F){return k(D.validate([e,c,b,a,f,x,z,m,h,g,p,s,r,q,t,u,w,n,v,y,B,C,A]),{baseClass:"mwWidget mwSharedMenuItem mwCheckBoxMenuItem",templateString:F,constructor:function(){this.checkBox=new l({text:""});this.own(this.checkBox)},_setCheckedAttr:function(a){this.inherited(arguments);this.checkBox.set("checked",a);this.get("closeMenuOnClick")&&(a?(this.checkBox.domNode.classList.add("mwSpecialCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwNoCheckBoxIcon")):
(this.checkBox.domNode.classList.add("mwNoCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwSpecialCheckBoxIcon")))},buildRendering:function(){this.inherited(arguments);this.checkBox.placeAt(this.domNode,"first")},postCreate:function(){this.inherited(arguments);this.checkBox._triggerChangeEvent=function(){};this.checkBox._onClick=function(){};this.domNode.setAttribute("data-composite-primary","");(this.checkBox.focusNode||this.checkBox.domNode).setAttribute("data-composite-child","");(this.checkBox.focusNode||
this.checkBox.domNode).setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.checkBox.startup()},_onClick:function(){this.inherited(arguments);this.checkBox.set("checked",this.get("checked"))},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/CheckBox":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBox.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){return k(w.validate([e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u]),{baseClass:"mwWidget mwCheckBox",templateString:v,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())}})})},"mw-form/mixins/CheckBoxRadioButtonTextSizingMixin":function(){define(["dojo/_base/declare",
"dojo/dom-geometry"],function(k,d){return k(null,{_setWidthAttr:function(){this.inherited(arguments);if(this._started)if("auto"!==this.get("width")){var e=d.position(this.checkBoxRadioIconNode),c=d.getMarginExtents(this.textNode);this.textNode.style.width=this.width-(e.w+c.l)+"px"}else this.textNode.style.width="auto"}})})},"MW/toolstrip/menu/ListItemWithTextField":function(){define("dojo/_base/declare dojo/_base/lang mw-menu/TextFieldMenuItem ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a){return k(a.validate([e,c,b]),{visualFamily:"toolstrip",constructor:function(){this.textField._triggerTypingEvent=function(a){this.emit("typing",{mwEventData:{text:a}})}},_setLabelAttr:function(a){this.set("text",a);this._set("label",a)},getLabelAttr:function(){this.get("text")},postCreate:function(){this.inherited(arguments);this.textField.set("visualFamily","toolstrip");this.watch("text",d.hitch(this,"_updateLabel"))},_updateLabel:function(a,b,c){this.set("label",c)},_onFocus:function(){this.inherited(arguments);
this.emit("focusgained",{mwEventData:{text:this.textField.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.textField.inputNode.value}})}})})},"mw-menu/TextFieldMenuItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-dom-utils/domUtils mw-form/TextField mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-mixins/property/ValidationMixin dojo/text!./templates/TextFieldMenuItem.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D){return k(C.validate([a,f,l,m,h,q,t,w,u,v,n,s,r,x,z,y,B,A]),{baseClass:"mwWidget mwSharedMenuItem mwTextFieldMenuItem",templateString:D,closeOnEnter:!0,editable:!0,placeholder:"",constructor:function(){this.textField=new p({value:""});this.own(this.textField)},_setPlaceholderAttr:function(a){this.textField.set("placeholder",a);this._set("placeholder",a)},_getPlaceholderAttr:function(a){return this.textField.get("placeholder")},_setValueAttr:function(a){this.textField.set("value",
a);this._set("value",a)},_setEditableAttr:function(a){this.textField.set("editable",a);this._set("editable",a)},_getValueAttr:function(){return this.textField.get("value")},_getEditableAttr:function(){return this.textField.get("editable")},buildRendering:function(){this.inherited(arguments);this.textField.placeAt(this.shortcutKeyNode,"before");this.inputNode=this.textField.inputNode},postCreate:function(){this.inherited(arguments);this.textField.on("change",d.hitch(this,function(a){this.get("value")!==
a.mwEventData.newValue&&this.set("value",a.mwEventData.newValue)}));this.own(e(this.textField.focusNode,"change",d.hitch(this,"_onChange")),e(this.textField.focusNode,"keydown",d.hitch(this,"_onKeyDown")),e(this.domNode,"focus",d.hitch(this,"_focusGained")));this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"));this._setPlaceholderAttr(this.get("placeholder"));this.domNode.setAttribute("data-composite-primary","");this.domNode.setAttribute("spellcheck","false");
(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-child","");(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-primary-id",this.get("id"));this.textField.domNode.setAttribute("data-composite-child","");this.textField.domNode.setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.textField.startup()},_getDomNodeForValidationClasses:function(){return this.textField.domNode},_focusGained:function(a){this.focus&&
g.isFocusable(this.focusNode||this.domNode)&&this.focus()},focus:function(){var a=this.focusNode||this.domNode;a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));g.isFocusable(a)&&b.focus(this.getFocusNode())},getFocusNode:function(){return this.textField.focusNode},_onKeyDown:function(a){if(a.keyCode===c.TAB)a.preventDefault(),a.stopPropagation(),this.emit("synkeydown",{keyCode:c.TAB});else if(a.keyCode===c.ESCAPE)this.textField.inputNode.value=
this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),a.preventDefault(),a.stopPropagation(),this._requestClose(!1);else if(a.keyCode===c.ENTER){a=this.get("value");var b=this.textField.inputNode.value;a===b?this.emit("recommit",{mwEventData:{propertyName:"value",value:b}}):(this.emit("commit",{mwEventData:{propertyName:"value",value:b}}),this.set("value",b),this.textField._triggerChangeEvent("value",a,b));this.closeOnEnter&&!0===this.closeOnEnter&&this._requestClose(!1)}else(a.keyCode===
c.HOME||a.keyCode===c.END)&&a.stopPropagation()},_handleInputNodeClick:function(){!1!==this.textField.get("editable")&&this.textField.inputNode.select()},_emitClickEvent:function(a){this.emit("click",{mwEventData:{value:this.get("value")},_dojo_click:!0});a.target!==this.inputNode&&this.emit("itempushed")},_qeTypeOverWithEnter:function(a){this.textField._qeTypeOverWithEnter(a)},_qeTyping:function(a){this.textField._qeTyping(a)}})})},"MW/toolstrip/menu/ListItemWithRadioButton":function(){define("dojo/_base/declare mw-menu/RadioButtonMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin ../mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f){return k(f.validate([d,e,c,b,a]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.radioButton.set("visualFamily","toolstrip")}})})},"mw-menu/RadioButtonMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/RadioButton mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G){return k(F.validate([e,c,b,a,f,z,y,n,r,q,t,u,w,v,s,x,m,h,B,C,g,p,A,D]),{baseClass:"mwWidget mwSharedMenuItem mwRadioButtonMenuItem",templateString:G,constructor:function(){this.radioButton=new l({text:""});this.own(this.radioButton)},_setCheckedAttr:function(a){this.inherited(arguments);this.radioButton.set("checked",a)},buildRendering:function(){this.inherited(arguments);this.radioButton.placeAt(this.domNode,"first")},startup:function(){this.inherited(arguments);
this.radioButton.startup()},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/RadioButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/RadioButton.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){return k(v.validate([e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w]),{baseClass:"mwWidget mwRadioButton",templateString:x,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())},_onClick:function(){!0===
!this.get("checked")&&this.inherited(arguments)}})})},"MW/toolstrip/menu/PopupListSeparator":function(){define(["dojo/_base/declare","mw-menu/MenuSeparator","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(k,d,e,c){return k(c.validate([d,e]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/PopupListHeader":function(){define(["dojo/_base/declare","mw-menu/MenuHeader","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(k,d,e,c){return k(c.validate([d,
e]),{visualFamily:"toolstrip"})})},"mw-menu/MenuHeader":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/PreventFocusMixin mw-mixins/PreventSelectionMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuHeader.html".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){return k(h.validate([d,e,c,b,a,f,l,m]),{baseClass:"mwWidget mwMenuHeader",templateString:g})})},
"MW/toolstrip/form/ComboBox":function(){define("dojo/_base/declare dojo/keys mw-form/ComboBox dijit/registry ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){return k([e,b,a,f,l,m,h,g,p],{visualFamily:"toolstrip",height:22,mnemonicKeyNavDirection:"none",
_setEditableAttr:function(a){this.inherited(arguments);!1===a?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.arrowNode.setAttribute("data-focus","refuse"))},postCreate:function(){this._textField.set("visualFamily","toolstrip");this.menu.set("visualFamily","toolstrip");this.inherited(arguments);!1===this.get("editable")?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.get("menu").domNode.setAttribute("data-focus",
"refuse"));this.get("menu").domNode.setAttribute("data-focus","temporary")},_handleTextFieldKeyDown:function(a){a.keyCode===d.ESCAPE&&(this.emit("textcancelled",{mwEventData:{text:this.inputNode.value}}),this.emit("restorefocustolastnonrefuseelement"));if(a.keyCode===d.ENTER){if(this.get("value")===this.inputNode.value){var b=this._getSelectedItemFromValue(this.get("value"));b&&b.label===this.inputNode.value&&void 0!==b.value?this.emit("recommit",{mwEventData:{value:b.value}}):this.emit("recommit",
{mwEventData:{text:this.get("value")}})}this.emit("restorefocustolastnonrefuseelement")}this.inherited(arguments)},_handleMenuClick:function(a){var b=this._getSelectedItemFromLabel(a.target.textContent);this.get("value")===b.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}});this.inherited(arguments)},_initMenuItems:function(a){this.inherited(arguments);this._started&&a.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},resize:function(){var a=this.get("width"),
b=2;"100%"===a&&(a=this.domNode.getBoundingClientRect().width-b,b=0);this._textField.domNode.style.width="calc("+a+"px - 22px - 2px - 1px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+b+"px)"},startup:function(){this.inherited(arguments);this.items.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},_openComboBoxMenu:function(){this.inherited(arguments);this.emit("dropdownclick",{})},closeMenu:function(){this.inherited(arguments);this.emit("restorefocustolastnonrefuseelement")},
_setItemsAttr:function(){this.inherited(arguments);this.menu.getChildren().forEach(function(a){a.classList.remove("mwDefaultVisualFamily");a.classList.add("mwToolstripVisualFamily")})},_setFooterIdAttr:function(a){var b=c.byId(a);b&&(this._createFooterNode(),b.placeAt(this.footerNode),b.startup());this._set("footerId",a)},_createFooterNode:function(){if(this.footerNode){var a=c.byId(this.get("footerId"));a&&a.destroyRecursive()}else this.footerNode=document.createElement("div"),this.get("menu").domNode.appendChild(this.footerNode)}})})},
"mw-form/ComboBox":function(){define("dojo/_base/declare dojo/on dojo/_base/lang dojo/keys dijit/popup dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin dijit/focus dojo/mouse mw-mixins/AccessibilityClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-mixins/property/VisualFamilyMixin mw-mixins/ResizeMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/TextField dijit/_Container mw-mixins/KeyNavMixin mw-dom-utils/domUtils mw-mixins/mixinDependencyValidator dojo/text!./templates/ComboBox.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A,D,F,G){var I=k([a,h,l,C,A,v],{baseClass:"mwWidget mwComboBoxPopup",templateString:'\x3cdiv tabindex\x3d"0"\x3e\x3cdiv data-dojo-attach-point\x3d"menuItemsNode"\x3e\x3c/div\x3e\x3c/div\x3e',getChildren:function(){return Array.prototype.slice.call(this.menuItemsNode.childNodes)}});return k(F.validate([a,f,l,m,h,n,s,r,q,t,u,w,v,x,z,y]),{baseClass:"mwWidget mwComboBox",templateString:G,editable:!1,text:"",height:22,width:150,maxHeight:500,ORIENTATION_VALUES:{below:["below",
"below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]},constructor:function(a){a=a||{};this._textField=new B({editable:!1,disabled:!0});this.own(this._textField);this.own(d(this._textField,"typing",e.hitch(this,"_handleTextFieldTyping")),d(this._textField,"keydown",e.hitch(this,"_handleTextFieldKeyDown")));this.menu=new I({});this.own(this.get("menu"));this._isTextEmpty=!0;this._pendingValue=null;if(a&&!1===this.get("editable")&&a.value&&!a.items)throw Error("Value cannot be set on a non-editable combo box without having items");
},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"mousedown",e.hitch(this,"focus")),d(this._textField.inputNode,"blur",e.hitch(this,"_handleTextFieldBlur"),!0),d(this.domNode,"blur",e.hitch(this,"_handleDomNodeBlur"),!0),d(this.domNode,"keydown",e.hitch(this,"_handleDomNodeKeyDown")),d(this.get("menu").menuItemsNode,"click",e.hitch(this,"_handleMenuClick")),d(this.get("menu").menuItemsNode,"keydown",e.hitch(this,"_handleMenuKeyDown")));this._menuNodeMouseDownHandler||(this._menuNodeMouseDownHandler=
e.hitch(this,"_handleArrowNodeMouseDown"),this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("disabled")&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null);this.menu.domNode.addEventListener("blur",e.hitch(this,"_handleMenuBlur"),!0);(void 0===this.get("items")||0===this.get("items").length)&&this.set("items",[]);this.set("menuOrientation","vertical")},startup:function(){this.inherited(arguments);
this.menu.startup();this._textField.startup();this._isResized||this.resize()},destroy:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.textFieldContainerNode);this.inputNode=this._textField.inputNode;this.focusNode=this.domNode},_isDescendant:function(a,b){if(a===b)return!0;for(var c=b.parentNode;null!=c;){if(c===a)return!0;c=c.parentNode}return!1},_handleArrowNodeMouseDown:function(a){!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():
this.closeMenu()},closeMenu:function(){!0===!this._destroyed&&this.domNode.classList.remove("mwHasMenuOpened");b.close(this.menu);this._comboBoxMenuOpened=!1;this.menu&&(this.menu.domNode&&this.menu.domNode.parentNode)&&(this.menu.domNode.parentNode.style.overflowX="visible",this.menu.domNode.parentNode.style.overflowY="visible")},_closeMenuOnBlur:function(a){setTimeout(e.hitch(this,function(){if(!this._isDescendant(this.domNode,document.activeElement)&&!this._isDescendant(this.menu.domNode,document.activeElement)){this.closeMenu();
var a=this._getSelectedItemFromLabel(this.inputNode.value);a||(a={label:"",value:""});!0===this.get("editable")&&""!==this.inputNode.value&&this.inputNode.value!==a.label&&this.inputNode.value!==this.get("value")?a&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value):""===this.inputNode.value&&(""!==this.get("value")&&!0===this.get("editable"))&&this.set("value","")}},0))},_handleMenuBlur:function(a){this._closeMenuOnBlur(a)},_handleMenuItemMouseEnter:function(a){D.isFocusable(a.target)&&
g.focus(a.target)},_handleTextFieldBlur:function(a){!0===this.get("editable")&&this._closeMenuOnBlur(a)},_handleDomNodeBlur:function(a){!1===this.get("editable")&&this._closeMenuOnBlur(a)},_handleUpAndDownArrow:function(a){var b=this.get("menu").getChildren(),d=void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;if(a.keyCode===c.DOWN_ARROW){for(d=d&&void 0!==d.index?(d.index+1)%b.length:0;d<b.length;d++)if(this._isKeyboardNav(b[d])){g.focus(b[d]);break}this._comboBoxMenuOpened||
this._openComboBoxMenu();a.preventDefault()}else if(a.keyCode===c.UP_ARROW){for(d=d&&void 0!==d.index?(d.index-1)%b.length:b.length-1;0<=d;d--)if(this._isKeyboardNav(b[d])){g.focus(b[d]);break}this._comboBoxMenuOpened||this._openComboBoxMenu();a.preventDefault()}},_handleDomNodeKeyDown:function(a){if(!1===this.get("editable")&&!0===!this.get("disabled")&&(this._handleUpAndDownArrow(a),a.keyCode===c.SPACE||a.keyCode===c.ENTER))!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():this.closeMenu(),
a.stopPropagation(),a.preventDefault();a.keyCode===c.ESCAPE&&(!0===this._comboBoxMenuOpened&&(a.stopPropagation(),a.preventDefault()),this.closeMenu())},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?(this._menuNodeMouseDownHandler&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null),this.closeMenu()):this.menuNode&&null===this._menuNodeMouseDownHandler&&(this._menuNodeMouseDownHandler=e.hitch(this,"_handleArrowNodeMouseDown"),
this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("editable")&&this._textField.set("disabled",a)},_handleTextFieldKeyDown:function(a){!0===this.get("editable")&&this._handleUpAndDownArrow(a);!0===this.get("editable")&&a.keyCode===c.ENTER&&(a=this.inputNode.value,this._isTextEmpty=!0,(a=this._getSelectedItemFromLabel(a))&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value),this.closeMenu())},_openComboBoxMenu:function(a){var c=
void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==c&&0<this.get("menu").getChildren().length&&(this.get("menu").getChildren()[c.index].classList.add("mwComboBoxSelectedMenuItem"),this.get("menu").getChildren()[c.index].focus());(!a||!a.typing)&&this.get("menu").getChildren().forEach(function(a,b){"none"===a.style.display&&(a.style.display="")});b.open({parent:this,popup:this.menu,around:this.domNode,orient:this.menuOrientation});this.domNode.classList.add("mwHasMenuOpened");
this._comboBoxMenuOpened=!0;this.menu.domNode.parentElement.classList.contains("mwComboBoxPopupParent")||this.menu.domNode.parentElement.classList.add("mwComboBoxPopupParent")},_handleTextFieldTyping:function(a){var b=a.mwEventData.currentContent,c=RegExp(this._escapeRegExp(b),"i");this.get("menu").getChildren().forEach(e.hitch(this,function(a,d){if(this._isSeparator(a))a.style.display="none";else{var g=a.textContent;if(0===g.toLowerCase().indexOf(b.toLowerCase())){if(""!==b||c.test(g))a.style.display=
""}else a.style.display="none"}}));var d=0;this.get("menu").getChildren().forEach(e.hitch(this,function(a){this._isSeparator(a)&&0<d?(a.style.display="block",d=0):!this._isSeparator(a)&&"none"!==a.style.display&&d++}));this._comboBoxMenuOpened||this._openComboBoxMenu({typing:!0})},_handleMenuKeyDown:function(a){a.keyCode===c.BACKSPACE&&(a.preventDefault(),g.focus(this._textField.focusNode));(a.keyCode===c.ENTER||a.keyCode===c.SPACE)&&!this.get("disabled")&&d.emit(a.target,"click",{bubbles:!0,cancelable:!0,
mwEventData:{keyCode:a.keyCode},_dojo_click:!0});(a.keyCode===c.LEFT_ARROW||a.keyCode===c.RIGHT_ARROW)&&this.editable&&g.focus(this._textField.focusNode);a.keyCode===c.ESCAPE&&(this.closeMenu(),g.focus(this.focusNode),a.stopPropagation(),a.preventDefault())},_handleMenuClick:function(a){this._isSeparator(a.target)?a.preventDefault():(a=this._getSelectedItemFromLabel(a.target.textContent).value,this.set("value",a),this.closeMenu())},_removeSelectedMenuItemColor:function(){var a=void 0!==this._get("value")?
this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==a&&0<this.get("menu").getChildren().length&&this.get("menu").getChildren()[a.index].classList.remove("mwComboBoxSelectedMenuItem")},_onMouseDown:function(){this.inherited(arguments);g.focus(this.get("menu").focusNode)},_getParentPopup:function(a){for(;a;){if(a.classList&&a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=this.get("width"),b=2;"auto"===a&&(a=this.domNode.getBoundingClientRect().width,
b=0);this._textField.domNode.style.width="calc("+a+"px - 22px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+b+"px)"},focus:function(){if(!this.disabled&&this.focusNode.focus)try{setTimeout(e.hitch(this,function(){g.focus(this.focusNode)}),0)}catch(a){}},_setMaxHeightAttr:function(a){if("number"!==typeof a)throw Error("'MaxHeight' property expects a Number!");this.menu.domNode.style.maxHeight=a+"px";this._set("maxHeight",a)},_setValueAttr:function(a){var b=this._getSelectedItemFromValue(a);
if(("number"===typeof a?a.toString():a)&&b&&void 0!==b.index)this._textField.set("value",b.label),this._isTextEmpty=!0,this._removeSelectedMenuItemColor(),0<this.get("menu").getChildren().length&&void 0!==b.index&&this.get("menu").getChildren()[b.index].classList.add("mwComboBoxSelectedMenuItem");else if(("number"===typeof a?a.toString():a)&&!b)if(this.get("editable"))this._removeSelectedMenuItemColor(),this._textField.set("value",a),this._isTextEmpty=!1;else{if(!this.get("items")||0===this.get("items").length){this._pendingValue=
a;return}throw Error("Value must match an existing item for non-editable combo box");}else""===a&&(this._textField.set("value",""),void 0!==this._get("value")&&(this._removeSelectedMenuItemColor(),this._isTextEmpty=!0),""!==this.get("text")&&(this._isTextEmpty=!1));!0===this._isTextEmpty?this.set("text",""):this.set("text",a);b=this.get("value");this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a)},_getValueAttr:function(){return this._get("value")},_setItemsAttr:function(a){a&&
0<a.length?(this.set("value",""),this._initMenuItems(a)):(this.set("value",""),this._destroyMenuItems());this._set("items",a);!1===this.get("editable")&&null!=this._pendingValue&&(this.set("value",this._pendingValue),this._pendingValue=null)},_initMenuItems:function(a){0<this.get("menu").getChildren().length&&this._destroyMenuItems();a.forEach(function(a,b){var c=document.createElement("div");if(a.type&&"separator"===a.type)c.setAttribute("data-refuse-key-nav",!0),c.setAttribute("data-menu-item-type",
"separator"),c.classList.add("mwMenuSeparator"),this.get("menu").menuItemsNode.appendChild(c);else{c.setAttribute("tabIndex","0");"mwDefaultVisualFamily mwTextMixin mwTextMixin mwWidget mwSharedMenuItem mwMenuItem".split(" ").forEach(function(a){c.classList.add(a)});var d=document.createElement("div");d.textContent=a.label;d.classList.add("mwTextNode");c.appendChild(d);this.get("menu").menuItemsNode.appendChild(c);c.addEventListener("mouseover",e.hitch(this,"_handleMenuItemMouseEnter"))}},this)},
_getItemsAttr:function(){return this._get("items")},_setEditableAttr:function(a){a?(this.domNode.classList.add("mwEditableComboBox"),this.domNode.classList.remove("mwNonEditable"),this.focusNode=this._textField.focusNode,this._toggleTextField(!0),this._textField.focusNode.setAttribute("tabIndex","0"),this.menuNode=this.arrowNode,this._set("editable",!0)):(this.domNode.classList.add("mwNonEditable"),this.domNode.classList.remove("mwEditableComboBox"),this.focusNode=this.domNode,this._toggleTextField(!1),
this._textField.focusNode.setAttribute("tabIndex","-1"),this.menuNode=this.domNode,this._set("editable",!1))},_setTextAttr:function(a){!1===this._isTextEmpty||(""===this.get("value")||void 0===this.get("value"))&&""!==a?(this.get("editable")&&void 0===this._getSelectedItemFromValue(a)?(this._set("text",a),this._isTextEmpty=!1):(this._isTextEmpty=!0,this._set("text","")),this._textField.set("value",a)):this._set("text","")},_getTextAttr:function(a){return this._get("text")},_toggleTextField:function(a){this._textField.set("editable",
a);this._textField.set("disabled",!a)},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===this.ORIENTATION_VALUES.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+Object.keys(this.ORIENTATION_VALUES));this._set("menuOrientation",this.ORIENTATION_VALUES[a])},_setWidthAttr:function(a){this.inherited(arguments);(void 0!==this._started||!0===this._started)&&this.resize()},_setPlaceholderAttr:function(a){this._textField.set("placeholder",a);this._set("placeholder",
a)},_getPlaceholderAttr:function(){return this._textField.get("placeholder")},_destroyMenuItems:function(){for(;this.get("menu").menuItemsNode.firstChild;)this.get("menu").menuItemsNode.firstChild.removeEventListener("mouseover",e.hitch(this,"_handleMenuItemMouseEnter")),this.get("menu").menuItemsNode.removeChild(this.get("menu").menuItemsNode.firstChild)},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")},_getSelectedItemFromLabel:function(a){var b={};if(this.get("items")&&
0<this.get("items").length)for(var c=0;c<this.get("items").length;c++){var d=this.get("items")[c];if(void 0!==d.label&&d.label===a){b.label=d.label;b.value=d.value;b.index=c;break}}return void 0!==b.index?b:void 0},_getSelectedItemFromValue:function(a){var b={};if(this.get("items")&&0<this.get("items").length)for(var c=0;c<this.get("items").length;c++){var d=this.get("items")[c];if(void 0!==d.value&&(d.value===a||"object"===typeof d.value&&JSON.stringify(d.value)===JSON.stringify(a))){b.label=d.label;
b.value=d.value;b.index=c;break}}return void 0!==b.index?b:void 0},_isSeparator:function(a){return a&&a.getAttribute("data-menu-item-type")&&"separator"===a.getAttribute("data-menu-item-type")},_isKeyboardNav:function(a){return"none"!==a.style.display&&!this._isSeparator(a)},_qeSelectItemByLabel:function(a){a=this._getSelectedItemFromLabel(a).value;this.set("value",a)},_qeSelectItemByIndex:function(a){a=this.get("items")[a].value;this.set("value",a)}})})},"mw-mixins/KeyNavMixin":function(){define("dojo/_base/declare dijit/registry dijit/focus dojo/_base/lang dojo/on dojo/keys".split(" "),
function(k,d,e,c,b,a){return k(null,{postCreate:function(){this.inherited(arguments);this.own(b(this,"keydown",c.hitch(this,"_handleKeyBoardNavigation")))},_handleKeyBoardNavigation:function(b){var c=e.curNode;if(b.keyCode===a.DOWN_ARROW)this._handleDownArrow(c),b.preventDefault();else if(b.keyCode===a.UP_ARROW)this._handleUpArrow(c),b.preventDefault();else if(b.keyCode===a.PAGE_UP||b.keyCode===a.HOME)this._moveToFirstChild(c),b.preventDefault();else if(b.keyCode===a.PAGE_DOWN||b.keyCode===a.END)this._moveToLastChild(c),
b.preventDefault()},_handleDownArrow:function(a){a=a.parentElement.lastChild===a?a.parentElement.firstChild:a.nextSibling;a=this._moveToNextFocusableNode(a);a.focus()},_handleUpArrow:function(a){a=a.parentElement.firstChild===a?a.parentElement.lastChild:a.previousSibling;a=this._moveToPreviousFocusableNode(a);a.focus()},_moveToNextFocusableNode:function(a){for(var b;a;)if(b=d.getEnclosingWidget(a),a.getAttribute("data-refuse-key-nav")||b&&b.get("disabled")||"none"===a.style.display)a=a.nextSibling?
a.nextSibling:this._moveToFirstChild(a);else break;return a},_moveToPreviousFocusableNode:function(a){for(var b;a;)if(b=d.getEnclosingWidget(a),a.getAttribute("data-refuse-key-nav")||b&&b.get("disabled")||"none"===a.style.display)a=a.previousSibling?a.previousSibling:this._moveToLastChild(a);else break;return a},_moveToFirstChild:function(a){for(a=a.parentElement.firstChild;a;)if(a.getAttribute("data-refuse-key-nav"))a=a.nextSibling;else break;return a},_moveToLastChild:function(a){for(a=a.parentElement.lastChild;a;)if(a.getAttribute("data-refuse-key-nav"))a=
a.previousSibling;else break;return a}})})},"MW/toolstrip/mixins/AcceptFocusMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","accept")}})})},"MW/toolstrip/mixins/ColumnWidthMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_allowedValues:["auto","100%"],_validateSizeInput:function(d){"100%"!==d&&this.inherited(arguments)},_setSize:function(d,e){this._validateSizeInput(e);
this._set(d,e);if(this._started){"100%"===e&&this.getParent()&&(e=this.getParent().get("width"));var c="",c=0<=this._allowedValues.indexOf(e)?e:this._getAdjustedSize(d,e,this.domNode);this.domNode.style[d]=c}}})})},"MW/toolstrip/form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dojo/on mw-form/ListBox ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/AcceptFocusMixin ../mixins/ScrollbarMixin ../widgets/_ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return k(q.validate([b,a,f,l,m,h,g,p,n,s,r]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"horizontal",_setItemsAttr:function(a){this.inherited(arguments);this._started&&this._handleSelection(a)},_handleSelection:function(a){var b=[];a.forEach(function(a){!0===a.selected&&b.push(a.value)},this);0<b.length&&("single"===this.get("selectionMode")?this.set("value",[b[b.length-1]]):this.set("value",b))},postCreate:function(a){this.inherited(arguments);
this.own(c(this.containerNode,"keydown",d.hitch(this,"_handleKeyDownEvent")))},startup:function(){this.inherited(arguments);this._handleSelection(this.get("items"))},_handleKeyDownEvent:function(a){this.inherited(arguments);a.keyCode===e.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===e.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))}})})},"mw-form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/query dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/Destroyable dijit/Tooltip mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-html-utils/HtmlUtils dojo/text!./templates/ListBox.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z){h=k(h,{constructor:function(a){this.widget=a;this.own(b(a.containerNode,"mousedown",d.hitch(this,"_handleMouseDown")),b(a.containerNode,"keydown",d.hitch(this,"_handleKeyDown")))},_handleMouseDown:function(a){if(a.target.classList.contains("mwListItem")){var b=Number(a.target.getAttribute("data-mw-index")),c=this.widget._selectedIndices.indexOf(b);a=this._getNewSelectedIndexOnMouseDown(a,b,c);this._setSelectedItems(a)}},_handleKeyDown:function(a){a=
this._getNewSelectedIndexOnKeyDown(a);-1!==a&&(this._setSelectedItems(a),this.widget.scrollToIndex(a[0]))},_setSelectedItems:function(a){if(-1!==a){var b=[],c=this.widget.get("value");a.forEach(function(a){b.push(this.widget._indexValueMap[a])},this);this.widget.set("value",b);this.widget._triggerChangeEvent("value",c,b)}},_getNewSelectedIndexOnKeyDown:function(b){if(0===this.widget.items.length)return-1;var c=this.widget._selectedIndices[0],d=this.widget._getIndexes(),g=Math.min.apply(null,d),d=
Math.max.apply(null,d),f=[];switch(b.keyCode){case a.UP_ARROW:f=c===g||void 0===c&&this._anchorIndex===g?[g]:void 0===c&&void 0===this._anchorIndex?[d]:void 0===c&&void 0!==this._anchorIndex?[this._anchorIndex-1]:[c-1];b.stopPropagation();b.preventDefault();break;case a.DOWN_ARROW:f=c===d||void 0===c&&this._anchorIndex===d?[d]:void 0===c&&void 0===this._anchorIndex?[g]:void 0===c&&void 0!==this._anchorIndex?[this._anchorIndex+1]:[c+1];b.stopPropagation();b.preventDefault();break;default:f=-1}return f}});
var y=k(h,{_getNewSelectedIndexOnMouseDown:function(a,b,c){var d=[b];0<=c&&(d=a.ctrlKey||a.metaKey?[]:-1);this._anchorIndex=b;return d}}),B=k(h,{constructor:function(){this._anchorIndex=this.widget._selectedIndices[0]||1},_getNewSelectedIndexOnMouseDown:function(a,b,c){var d=[b],g;if(0<=c)a.shiftKey?d=this._getRangeOfIndices(b):(a.ctrlKey||a.metaKey?(d=this.widget._selectedIndices.slice(0),d.splice(c,1)):1===this.widget._selectedIndices.length&&(d=-1),g=!1);else if(a.shiftKey)d=this._getRangeOfIndices(b);
else if(g=!1,a.ctrlKey||a.metaKey)d=this.widget._selectedIndices.slice(0),d.push(b);!1===g&&(this._anchorIndex=b);return d},_getRangeOfIndices:function(a){var b,c=[],d=this._anchorIndex;if(a<=d)for(b=a;b<=d;b+=1)c.push(b);else for(b=d;b<=a;b+=1)c.push(b);return c}});return k(v.validate([f,l,m,p,n,s,r,q,t,u,w]),{templateString:z,baseClass:"mwWidget mwListBox",selectionMode:"single",constructor:function(){this._indexValueMap={};this._valueIndexMap={};this.items=[];this.value=[];this._selectedIndices=
[]},scrollToValue:function(a){this.scrollToIndex(this._valueIndexMap[a])},scrollToIndex:function(a){var b=this._getItemNodes().filter(function(b){return Number(b.getAttribute("data-mw-index"))===a},this)[0];if(b){var c=this.domNode;b.offsetTop+b.offsetHeight>c.offsetHeight+c.scrollTop?this.domNode.scrollTop=b.offsetTop+b.offsetHeight-this.domNode.offsetHeight:b.offsetTop<c.scrollTop&&(this.domNode.scrollTop=b.offsetTop)}},postCreate:function(){this.inherited(arguments);this.set("items",this.get("items"));
this.set("value",this.get("value"));this.own(b(this.containerNode,"mouseover",d.hitch(this,function(a){var b=this._getEscapedToolTipString(a);b&&0<b.length&&g.show(b,a.srcElement)})),b(this.containerNode,"mouseout",function(a){g.hide(a.srcElement)}));this._selectionStrategy=new this._selectionStrategyModule(this)},_getEscapedToolTipString:function(a){var b="";a=a.srcElement.getAttribute("data-mw-tooltiptext");null!==a&&(b=x.escapeHtml(a));return b},startup:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},
_setSelectionModeAttr:function(a){if(0===a.toLowerCase().indexOf("single"))this._selectionStrategyModule=y;else if(0===a.toLowerCase().indexOf("multiple"))this._selectionStrategyModule=B;else throw Error("Selection Mode should be one of: single, multiple");this._created&&(this._selectionStrategy.destroy(),this._selectionStrategy=new this._selectionStrategyModule(this));this._set("selectionMode",a)},_setItemsAttr:function(a){this._validateItemsArray(a);var b=this._getItemsListAndInitInternalDs(a);
this._updateDom(b);this._created&&this.set("value",[]);this._set("items",a);this._updateTooltipForClippedItems()},_setWidthAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_setHeightAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_validateItemsArray:function(a){if(Array.isArray(a))a.forEach(function(a){if(void 0===a.label||void 0===a.value)throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');
});else throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');},_setValueAttr:function(a){this._validateValueArray(a);this._set("value",a);var b=[];a.forEach(function(a){b.push(this._valueIndexMap[a])},this);this._setSelectedIndex(b)},_validateValueArray:function(a){if(Array.isArray(a)){if("single"===this.get("selectionMode")&&
1<a.length)throw Error("'value' property must be a single element array in single selection mode.");a.forEach(function(a){if(!this.items.some(function(b){return b.value===a}))throw Error("'value' must be a subset of the items' values.");},this)}else throw Error("'value' property expects an array.");},_setSelectedIndex:function(a){var b=this._getItemNodes();b.forEach(function(a){a.classList.remove("mwListItemSelected")});this._selectedIndices=a;0!==a.length&&b.forEach(function(b){var c=Number(b.getAttribute("data-mw-index"));
a.forEach(function(a){a===c&&b.classList.add("mwListItemSelected")})})},_getItemsListAndInitInternalDs:function(a){var b=[],c=a.length,d;this._indexValueMap={};this._valueIndexMap={};if(0<c)for(d=0;d<c;d+=1){var g=d+1;b[d]={index:g,label:a[d].label,value:a[d].value};this._indexValueMap[g]=a[d].value;this._valueIndexMap[a[d].value]=g}else b=[];return b},_updateDom:function(a){e.empty(this.containerNode);0<a.length&&a.forEach(function(a){e.create("li",{textContent:a.label,"data-mw-index":a.index,"data-mw-tooltiptext":"",
"class":"mwListItem"},this.containerNode)},this)},_updateTooltipForClippedItems:function(){this._getItemNodes().forEach(function(a){a.offsetWidth<a.scrollWidth?a.setAttribute("data-mw-tooltiptext",a.textContent):a.setAttribute("data-mw-tooltiptext","")})},_getIndexes:function(){var a=[];this._getItemNodes().forEach(function(b){a.push(Number(b.getAttribute("data-mw-index")))});return a},_getItemNodes:function(){return c("li",this.containerNode)},_qeSelectItemsByLabel:function(a){var b=this.get("items").filter(function(b){return-1<
a.indexOf(b.label)}).map(function(a){return a.value});this.set("value",b)},_qeSelectItemsByIndex:function(a){var b=this.get("items").filter(function(b,c){return-1<a.indexOf(c)}).map(function(a){return a.value});this.set("value",b)}})})},"mw-html-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query","mw-deprecation-utils/deprecation"],function(k,d,e,c){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,
STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var b=k.global.location.search.substr(1,k.global.location.search.length);return this._parseQueryString(b)},_parseQueryString:function(b){return e.queryToObject(b)},parseUrl:function(b){var a=document.createElement("a");a.display="none";a.href=b||window.location.href;a.href=a.href;a={protocol:a.protocol,hostname:a.hostname,port:a.port,pathname:a.pathname,
search:a.search,hash:a.hash};if(("https:"===a.protocol||"http:"===a.protocol)&&0!==a.pathname.indexOf("/"))a.pathname="/"+a.pathname;"https:"===a.protocol&&("443"===a.port&&0!==b.indexOf("https://"+a.hostname+":443"))&&(a.port="");return a},escapeHtml:function(b){var a=k.global.document.createElement("div");b=k.global.document.createTextNode(b);a.appendChild(b);a=a.innerHTML;b="";for(var c=0;c<a.length;c+=1){var d=a.charCodeAt(c);b=128<d?b+"\x26#"+d+";":b+a.charAt(c)}return b},escapeLinksAndHtml:function(b,
a){c.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var d="",l=b.split(this.HYPERLINK_ESCAPE_REGEXP),e=b.match(this.HYPERLINK_ESCAPE_REGEXP),h="",g=this,p=0,n=function(a,b,c,d){a=g.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=g.escapeHtml(b);d=g._strongNotEscaped(d,!0);h='\x3ca href\x3d"'+b+'"\x3e'+d+"\x3c/a\x3e"};if(a)d=this.escapeHtml(b),d=this.escapeWhitespace(d);
else if(""!==l[0]&&(d=this._strongNotEscaped(l[0],!0)),null!==e&&0!==e.length)for(p=0;p<e.length;p+=1)e[p].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,n),""!==l[p+1]&&(l[p+1]=this._strongNotEscaped(l[p+1],!0)),d+=h+l[p+1];return d},treatHtmlLikeCommandWindow:function(b,a,c){if("string"!==typeof b)return"";var d="",e=b.split(this.HYPERLINK_ESCAPE_REGEXP),h=b.match(this.HYPERLINK_ESCAPE_REGEXP),g="",p=this,n=0;c=c?c:{};var k=function(a,b,c,d){a=p.parseUrl(b).protocol;var f="";"http:"!==a&&
("https:"!==a&&"matlab:"!==a)&&(b="#");b=p.escapeHtml(b);d=p._strongNotEscaped(d,!1);p.BOLD_LINK_ATTRIBUTE_REGEX.test(c)&&(f=' style\x3d"font-weight:bold"');g='\x3ca href\x3d"'+b+'"'+f+"\x3e"+d+"\x3c/a\x3e"};if(a)d=this.escapeHtml(b);else if(""!==e[0]&&(d=this._strongNotEscaped(e[0],!1)),null!==h&&0!==h.length)for(n=0;n<h.length;n+=1)h[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,k),""!==e[n+1]&&(e[n+1]=this._strongNotEscaped(e[n+1],!1)),d+=g+e[n+1];c.addPreTagToPreserveWhiteSpace&&(d=
'\x3cspan style\x3d"white-space: pre"\x3e'+d+"\x3c/span\x3e");return d},_strongNotEscaped:function(b,a){var c="",d=b.match(this.STRONG_ESCAPE_REGEXP),e=b.split(this.STRONG_ESCAPE_REGEXP),h=function(a){return a};a&&(h=this.escapeWhitespace);var g=0;if(null!==d&&0!==d.length){c=h(this.escapeHtml(e[0]));for(g=0;g<d.length;g+=1)c+=d[g]+h(this.escapeHtml(e[g+1]))}else c=h(this.escapeHtml(b));return c},escapeWhitespace:function(b){c.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},
replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(b||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(b,a){if(a.target.href){d.stop(a);var c=a.target.href;-1!==c.indexOf("matlab:")?"matlab:"===c.substring(0,7)&&(c=a.target.href.substring(7),b(k.global.unescape(c))):k.global.open(a.target.href)}},isElementOverflown:function(b){return b.scrollHeight>b.clientHeight||
b.scrollWidth>b.clientWidth}}})},"MW/toolstrip/mixins/property/CompactMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_setCompactAttr:function(d){var e=!0===d?42:66;this.get("height")!==e&&this.set("height",e);this._set("compact",d)}})})},"MW/toolstrip/widgets/_ValidationMixin":function(){define("dojo/_base/declare dojo/dom-class dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window ./Tooltip".split(" "),function(k,d,e,c,b,a,f,l){return k(null,{_createValidationtooltip:function(){this.validationTooltip||
(this.validationTooltip=new l({}),this.own(this.validationTooltip),b.place(this.validationTooltip.domNode,f.body()),this._addTooltipEvents())},_setErrorTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("errorText",a)},_setWarningTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("warningText",a)},_setValidationStateAttr:function(a){var b=!1,c=!1;"error"===a.toLowerCase()?(c=!0,this._createValidationtooltip(),
this.validationTooltip.textNode.textContent=this.errorText):"warning"===a.toLowerCase()&&(b=!0,this._createValidationtooltip(),this.validationTooltip.textNode.textContent=this.warningText);this.validationTooltip&&(d.toggle(this._getDomNodeForValidationClasses(),"has-error",c),d.toggle(this.validationTooltip.domNode,"error-tooltip",c),d.toggle(this.validationTooltip.domNode,"warning-tooltip",b),this.validationTooltip.domNode.style.visibility="hidden");this._set("validationState",a)},_flipDomOrder:function(a){var c=
a.children[1];b.place(a.children[0],b.place(c,a),"after");b.place(c.children[0],b.place(c.children[1],c),"after")},_tooltipOrientation:function(){return d.contains(this.validationTooltip.domNode,"dijitTooltipLeft")?"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_getFocusWidget:function(){return this},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){var a=c.position(this.domNode),b,g,e,l,k,r,q,t=
!1;b=a.x;g=a.y;e=a.w;"error"===this.validationState?(d.add(this._getDomNodeForValidationClasses(),"has-error"),this.validationTooltip.textNode.textContent=this.errorText,d.add(this.validationTooltip.domNode,"error-tooltip")):"warning"===this.validationState&&(this.validationTooltip.textNode.textContent=this.warningText,d.add(this.validationTooltip.domNode,"warning-tooltip"));this.validationTooltip.domNode.style.visibility="visible";r=c.position(this.validationTooltip.domNode).h/2;k=c.position(this.domNode).h/
2;a=this.validationTooltip.domNode;q=c.position(f.body()).w;l=this._calculateTooltipWidth();b+e+l>q?(t=!0,b=b-l+"px",g=g+k-r+document.body.scrollTop+"px",d.contains(a.children[0],"tooltipConnector")&&this._flipDomOrder(a)):(b=b+e+"px",g=g+k-r+document.body.scrollTop+"px");d.toggle(this.validationTooltip.domNode,"tooltipLeft",t);d.toggle(this.validationTooltip.domNode,"tooltipRight",!t);this.validationTooltip.domNode.style.left=b;this.validationTooltip.domNode.style.top=g}},_calculateTooltipWidth:function(){d.add(this.validationTooltip.domNode,
"tooltipLeft");var a=c.position(this.validationTooltip.domNode).w;d.remove(this.validationTooltip.domNode,"tooltipLeft");return a},_addTooltipEvents:function(){var b=this;this.own(a(this,e.enter,function(){b._placeTooltip()}),a(this,e.leave,function(){b.validationTooltip&&(b.validationTooltip.domNode.style.visibility="hidden")}),a(this._getFocusWidget(),"focus",function(){b._placeTooltip();b.validationTooltip&&("error"===b.get("validationState")||"warning"===b.get("validationState"))&&d.add(b.validationTooltip.domNode,
"validationFocused")}),a(this._getFocusWidget(),"blur",function(){b.validationTooltip&&(d.remove(b.validationTooltip.domNode,"validationFocused"),b.validationTooltip.domNode.style.visibility="hidden")}))}})})},"MW/toolstrip/widgets/Tooltip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","./_TooltipMixin","dijit/_TemplatedMixin","dojo/text!./templates/Tooltip.html"],function(k,d,e,c,b){return k([d,c,e],{templateString:b})})},"MW/toolstrip/widgets/_TooltipMixin":function(){define(["dojo/_base/declare",
"dojo/aspect","./_DescriptionMixin","mw-event-utils/platformize"],function(k,d,e,c){return k([e],{_updateDescription:function(){this.inherited(arguments);this._updateTooltip()},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip()},_setShortcutAttr:function(b){this._set("shortcut",b);this._updateTooltip()},_updateTooltip:function(){var b="",a="",c="",d="",e="";this.textOverride?b=this.textOverride.replace(/\n/g," "):this.text&&(b=this.text.replace(/\n/g," "));this.shortcut&&(a=this._getPlatformSpecificShortcutString());
this.descriptionOverride?c=this.descriptionOverride:this.description&&(c=this.description);!b&&a&&c?(b=c,c="",d=" "):b&&(a&&(d=" "),c&&(e=" - "));this.domNode.setAttribute("title",b+d+a+e+c)},_getPlatformSpecificShortcutString:function(){return"("+c.getPlatformSpecificString(this.shortcut)+")"}})})},"MW/toolstrip/widgets/_DescriptionMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_setDescriptionAttr:function(d){this._set("description",d);this._updateDescription()},_setDescriptionOverrideAttr:function(d){this._set("descriptionOverride",
d);this._updateDescription()},_updateDescription:function(){var d="";this.descriptionOverride?d=this.descriptionOverride:this.description&&(d=this.description);this.descriptionNode&&(this.descriptionNode.textContent=d)}})})},"MW/toolstrip/form/Label":function(){define("dojo/_base/declare mw-form/Label MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m){return k(m.validate([d,e,c,b,a,f,l]),{visualFamily:"toolstrip",height:22,_setTabIndexOnNode:function(){}})})},"mw-form/Label":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/AccessibilityClickMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Label.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){return k(v.validate([d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w]),{baseClass:"mwWidget mwLabel",templateString:x,_paddingAndBorder:0,_setTabIndexOnNode:function(){}})})},"MW/toolstrip/widgets/EmptyControl":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/EmptyControl.html","./_WidgetMixin"],function(k,d,e,c,b){return k([d,e,b],{templateString:c})})},"MW/toolstrip/form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/on dojo/keys mw-form/TextField MW/uiframework/utils ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return k(q.validate([a,l,m,h,g,p,n,s,r]),{visualFamily:"toolstrip",width:150,height:22,mnemonicKeyNavDirection:"vertical",_onKeyUp:function(a){a.keyCode===b.ESCAPE?(this.inputNode.value=this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement")):a.keyCode===b.ENTER&&(this.get("value")===this.inputNode.value&&this.emit("recommit",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),
this.emit("commit",{}));this.inherited(arguments)},_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("spellcheck","false");this.own(c(this.inputNode,"focus",d.hitch(this,"_handleInputNodeFocus")))},_handleInputNodeFocus:function(a){!1!==this.get("editable")&&(f.detectIE()?setTimeout(d.hitch(this,function(){this.inputNode.select();return!1},0)):this.inputNode.select())},_onFocus:function(){this.inherited(arguments);
this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})}})})},"MW/uiframework/utils":function(){define([],function(){return{detectIE:function(){var k=window.navigator.userAgent,d=k.indexOf("MSIE ");if(0<d)return parseInt(k.substring(d+5,k.indexOf(".",d)),10);if(0<k.indexOf("Trident/"))return d=k.indexOf("rv:"),parseInt(k.substring(d+3,k.indexOf(".",d)),10);d=k.indexOf("Edge/");
return 0<d?parseInt(k.substring(d+5,k.indexOf(".",d)),10):!1}}})},"MW/toolstrip/form/TextArea":function(){define("dojo/_base/declare dojo/keys mw-form/TextArea ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/ScrollbarMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k(s.validate([e,c,b,a,f,l,m,h,g,p,n]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"none",_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},_onFocus:function(){this.inherited(arguments);this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})},_onKeyUp:function(a){a.keyCode===d.ESCAPE&&
this.emit("restorefocustolastnonrefuseelement");this.inherited(arguments)}})})},"mw-form/TextArea":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/TextArea.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){return k(v.validate([d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w]),{baseClass:"mwWidget mwTextArea",templateString:x,horizontalAlignment:"left",width:150,height:66,_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"MW/toolstrip/form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys mw-form/Spinner ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin mw-mixins/property/DescriptionMixin ../mixins/property/DescriptionOverrideMixin ../mixins/AcceptFocusMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){return k(n.validate([c,b,a,f,l,m,h,g,p]),{visualFamily:"toolstrip",width:70,mnemonicKeyNavDirection:"none",postCreate:function(){this.inherited(arguments);this._textField.set("visualFamily","toolstrip")},_setMinimumAttr:function(a){this.set("limits",{minimum:a,maximum:this.limits.maximum});this._set("minimum",a)},_setMaximumAttr:function(a){this.set("limits",{minimum:this.limits.minimum,maximum:a});this._set("maximum",a)},_setValueAttr:function(a){a<this.get("limits").minimum||
a>this.get("limits").maximum||(this._checkValueInLimits(a),this._textField.set("value",a+""),this._set("value",a))},_onKeyDown:function(a){this.inherited(arguments);a.keyCode===e.ENTER?(this.get("value")+""===this._textField.inputNode.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{})):a.keyCode===e.ESCAPE&&this.emit("restorefocustolastnonrefuseelement")},resize:function(){this.containerNode.style.width="calc(100% -  21px)";
this._textField.domNode.style.width="100%"}})})},"mw-form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-form/TextField mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/FormatMixin mw-mixins/property/SizeMixin mw-mixins/property/ValidationMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/ResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Spinner.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A){var D=Number.MAX_VALUE,F=Number.NEGATIVE_INFINITY;return k(C.validate([l,m,h,g,p,s,r,q,t,u,w,v,x,z,y,B]),{baseClass:"mwWidget mwSpinner",templateString:A,width:150,height:22,value:100,step:1,errorText:"",horizontalAlignment:"right",_preventClick:!1,includeMinimum:!0,includeMaximum:!0,constructor:function(){this._textField=new n({horizontalAlignment:"right"});this.focusNode=this._textField.focusNode;this.inputNode=this._textField.inputNode;
this.own(this._textField);this.limits={minimum:0,maximum:Number.POSITIVE_INFINITY};this.own(this._textField.watch("value",d.hitch(this,function(a,b,c){isNaN(parseFloat(c))||this._set("value",parseFloat(c))})))},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.containerNode,"first")},_setEditableAttr:function(a){if("boolean"!==typeof a)throw Error("Editable property expects a boolean");this._textField.set("editable",a);a?this.domNode.classList.remove("mwNonEditable"):
this.domNode.classList.add("mwNonEditable");this._set("editable",a)},_setDisabledAttr:function(a){this.inherited(arguments);this._textField.set("disabled",a)},_setHorizontalAlignmentAttr:function(a){this.inherited(arguments);this._textField.set("horizontalAlignment",a)},_setStepAttr:function(a){if("number"!==typeof a)throw Error("'step' property expects a Number!");this._set("step",a)},_setValueAttr:function(a){if(a<this.get("limits").minimum||a>this.get("limits").maximum)throw Error("'Value' must be numeric and fall within the range of 'Limits'.");
this._checkValueInLimits(a);this._textField.set("value",a+"");this._set("value",a)},_checkValueInLimits:function(a){if(this._rangeCheck(a)){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");if(this.get("includeMaximum"))parseFloat(a)===this.get("limits").maximum&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled");else{var b=this._calculateIncrement(this.get("limits").maximum,-0.1);parseFloat(a)===
this.get("limits").maximum+b&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")}this.get("includeMinimum")?parseFloat(a)===this.get("limits").minimum&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):(b=this._calculateIncrement(this.get("limits").minimum,0.1),parseFloat(a)===this.get("limits").minimum+b&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"))}else if(this.get("includeMaximum")&&parseFloat(a)===this.get("limits").maximum||!this.get("includeMaximum")&&
parseFloat(a)<=this.get("limits").maximum)this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");else if(this.get("includeMinimum")&&parseFloat(a)===this.get("limits").minimum||!this.get("includeMinimum")&&parseFloat(a)>=this.get("limits").minimum)this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")},_getValueAttr:function(){return parseFloat(this._textField.get("value"))},
_setWidthAttr:function(a){this.inherited(arguments);this.resize()},_setLimitsAttr:function(a){if("object"!==typeof a)throw Error("'IncludeMinimum' property expects an 'Object'!");this._validateLimits(a);this._set("limits",a);this._applyConstraintsToValue()},_validateLimits:function(a){if("number"!==typeof a.maximum||"number"!==typeof a.minimum)throw Error("'Limits' expects an Object of numbers!");if(a.minimum>a.maximum)throw Error("'Minimum' should be less than maximum");},_setIncludeMinimumAttr:function(a){if("boolean"!==
typeof a)throw Error("'IncludeMinimum' property expects a 'Boolean'!");this._set("includeMinimum",a);this._applyConstraintsToValue()},_setIncludeMaximumAttr:function(a){if("boolean"!==typeof a)throw Error("'IncludeMaximum' property expects a 'Boolean'!");this._set("includeMaximum",a);this._applyConstraintsToValue()},_applyConstraintsToValue:function(){var a=this.get("includeMaximum")?this.get("limits").maximum:this.get("limits").maximum-this.get("step"),b=this.get("includeMinimum")?this.get("limits").minimum:
this.get("limits").minimum+this.get("step");this.get("limits").maximum<this.get("value")&&this.set("value",a);this.get("limits").minimum>this.get("value")&&this.set("value",b)},_getDomNodeForValidationClasses:function(){return this.domNode},postCreate:function(){this.inherited(arguments);this.set("value",this.value);this.own(a(this.domNode,"keydown",d.hitch(this,"_onKeyDown")),a(this.incrementButtonNodeWrapper,"click",d.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));
this._handleIncrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,b)}})),a(this.decrementButtonNodeWrapper,"click",d.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,b)}})),a(this.incrementButtonNodeWrapper,"mousedown",d.hitch(this,this._onIncrementButtonMouseDown)),a(this.decrementButtonNodeWrapper,
"mousedown",d.hitch(this,this._onDecrementButtonMouseDown)),a(this.incrementButtonNodeWrapper,"mouseup, mouseout",d.hitch(this,this._onButtonMouseUp)),a(this.decrementButtonNodeWrapper,"mouseup, mouseout",d.hitch(this,this._onButtonMouseUp)),a(this._textField,"focusin",d.hitch(this._textField,function(){this.inputNode.select()})));this._textField.on("change",d.hitch(this,function(a){this._onChangeHandler(a)}));this._textField.on("typing",d.hitch(this,function(a){this._handleValidation(a.mwEventData.currentContent)}))},
_onChangeHandler:function(a){var b;a.preventDefault();a.stopPropagation();"normal"!==this.get("validationState")?this._revertToOldValue(a.mwEventData.oldValue):(b=a.mwEventData.oldValue,a=a.mwEventData.newValue,this._triggerChangeEvent("value",this._isNumeric(b)?parseFloat(b):b,this._isNumeric(a)?parseFloat(a):a),this._checkValueInLimits(a),this.set("value",this._isNumeric(a)?parseFloat(a):a))},startup:function(){this._textField.startup();this.inherited(arguments)},_getParentPopup:function(a){for(;a;){if(a.classList&&
a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=c.position(this.domNode).w,b=c.position(this.buttonsContainerNode).w;if(0===b){var d=this._getParentPopup(this.buttonsContainerNode);if(null!==d){d.classList.add("dijitOffScreen");var g=e.get(d,"display");d.style.display="block";b=c.position(this.buttonsContainerNode).w;d.style.display=g}}c.getPadBorderExtents(this._textField.domNode);d=c.getPadBorderExtents(this.buttonsContainerNode);d=d.l+d.r;this.containerNode.style.width=
a-b+"px";this._textField.domNode.style.width=a-b-d+"px";this.inherited(arguments)},_onIncrementButtonMouseDown:function(){this._delayStart=setTimeout(d.hitch(this,function(){this._valueChangeTimer=setInterval(d.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleIncrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,b)}),100);this._preventClick=!0}),300)},_triggerChangingEvent:function(a,b,c){this.emit("changing",
{mwEventData:{propertyName:a,oldValue:b,newValue:c}})},_onDecrementButtonMouseDown:function(){this._delayStart=setTimeout(d.hitch(this,function(){this._valueChangeTimer=setInterval(d.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,b)}),100);this._preventClick=!0}),300)},_onButtonMouseUp:function(){clearInterval(this._valueChangeTimer);clearTimeout(this._delayStart);
this._preventClick=!1},_onKeyDown:function(a){a.keyCode===f.UP_ARROW?(a.preventDefault(),this._handleIncrement(this.get("step"))):a.keyCode===f.DOWN_ARROW?(a.preventDefault(),this._handleDecrement(this.get("step"))):a.keyCode===f.PAGE_UP?a.preventDefault():a.keyCode===f.PAGE_DOWN&&a.preventDefault()},_handleIncrement:function(a){var b;b=parseFloat(this._textField.get("value"))+a;this._rangeCheck(b)?(this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMaximum")?this.get("limits").maximum===b?this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"):this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMaximum")?(this._textField.set("value",this.get("limits").maximum),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").maximum))):
(b=this._calculateIncrement(this.get("limits").maximum,-0.1),b=this.get("limits").maximum+b,this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(b))),this._disableIncrementButton(b,a))},_handleDecrement:function(a){var b;b=parseFloat(this._textField.get("value"))-a;this._rangeCheck(b)?(this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMinimum")?this.get("limits").minimum===b?this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMinimum")?(this._textField.set("value",this.get("limits").minimum),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").minimum))):
(b=this._calculateIncrement(this.get("limits").minimum,0.1),b=this.get("limits").minimum+b,this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(b))),this._disableDecrementButton(b,a))},_calculateIncrement:function(a,b){var c=b;if(a===D||a===F||Infinity===a)return 0;for(;!1===this._rangeCheck(a+c,this.constraints);)c/=10;return c},_disableIncrementButton:function(a,b){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");
this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a+b)?(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled")):this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")},_disableDecrementButton:function(a,b){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a-
b)?(this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")):this.decrementButtonNode.classList.add("mwDecrementButtonDisabled")},_rangeCheck:function(a){a=parseFloat(a);var b=!1===this.get("includeMinimum")?a>this.get("limits").minimum:a>=this.get("limits").minimum;a=!1===this.get("includeMaximum")?a<this.get("limits").maximum:a<=this.get("limits").maximum;return b&&a},_setRevertTimeout:function(a){return a||2E3},
_revertToOldValue:function(a){this._hiddenDiv=b.create("div",{},this.domNode);var g=c.getBorderExtents(this.domNode);this._hiddenDiv.style.top=-g.t+"px";this._hiddenDiv.style.right=-g.r+"px";this._hiddenDiv.style.bottom=-g.b+"px";this._hiddenDiv.style.left=-g.l+"px";this._hiddenDiv.style.position="absolute";this._hiddenDiv.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation()});setTimeout(d.hitch(this,function(){!0!==this._destroyed&&(this._textField.set("value",a),this._handleDisplayFormat(),
this.set("validationState","normal"),b.destroy(this._hiddenDiv))}),this._setRevertTimeout())},_handleValidation:function(a){parseFloat(a)<=this.get("limits").minimum&&!this.get("includeMinimum")||parseFloat(a)<this.get("limits").minimum&&this.get("includeMinimum")||parseFloat(a)>this.get("limits").maximum&&this.get("includeMaximum")||parseFloat(a)>=this.get("limits").maximum&&!this.get("includeMaximum")||this._containsNonNumericCharacter(a)||isNaN(parseFloat(a))?this.set("validationState","error"):
(this.set("validationState","normal"),this.validationTooltip&&this.validationTooltip.domNode.classList.remove("mwValidationFocused"))},_containsNonNumericCharacter:function(a){return a.split("").some(function(a){return-1==="0123456789.".indexOf(a)})},_isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},_isInt:function(a){return Number(a)===a&&0===a%1},_formatShort:function(a){return a.toFixed(4)},_qeTypeOverWithEnter:function(a){var b=this.get("value");this.set("value",a);this._triggerChangeEvent("value",
b,a)}})})},"mw-mixins/property/FormatMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_FocusMixin"],function(k,d,e){k=k(null,{format:"",constructor:function(){this.displayValueFormatter=null},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwFormatMixin");this.set("format",this.get("format"))},startup:function(){this.inherited(arguments);this._handleDisplayFormat()},_setFormatAttr:function(c){if("string"!==typeof c)return Error("Format property expects a ''string");
this._set("format",c);this._handleDisplayFormat()},_handleDisplayFormat:function(){var c=this.get("format"),b=parseFloat(this._textField.get("value"));if(b||0===b)if(c.match("%*[0-9|.]d")||0<=c.indexOf("%i"))this._textField.setValueInDom(parseFloat(b).toFixed(4)+c.substr(c.indexOf("d")+1,c.length));else if(c.match("%*[0-9|.]f")){var a=parseFloat(c.replace(/(.*\.)(.*)(f.*)/,"$2"));a&&this._textField.setValueInDom(b.toFixed(a)+c.substr(c.indexOf("f")+1,c.length))}else this.displayValueFormatter&&this.displayValueFormatter(this.get("value")).then(d.hitch(this,
function(a){this._textField.setValueInDom(a)}))},_onBlur:function(){this.inherited(arguments);"normal"===this.get("validationState")&&this._handleDisplayFormat();this._formattedValueSet=!0},_onFocus:function(){this.inherited(arguments);this.get("disabled")||(!this._isInt(this.get("value"))||!this._isInt(this.get("step")))&&"normal"===this.get("validationState")&&this._textField.setValueInDom(this.get("value").toFixed(4));this._formattedValueSet=!1}});k._dependencies=[{mixin:e,orderDependent:!1}];
return k})},"MW/toolstrip/widgets/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dojo/query ./_SliderPropertyMixin ./_SliderKeyBoardEventMixin ../ToolstripUtils ./external/HorizontalSlider ./_TooltipMixin ./_WidgetMixin ./_ValidationMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin MW/uiframework/FocusManager".split(" "),function(k,d,e,c,b,
a,f,l,m,h,g,p,n,s,r,q,t){return k([m,a,f,h,g,p,n,s,r,q],{width:150,mnemonicKeyNavDirection:"vertical",_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=(this.maximum-this.minimum)/this.steps,g=[];a=Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum);for(b=this.minimum;b<=this.maximum;b+=d)g.push(b);d=l.getClosestValue(g,a);a=a-d[0]>d[1]-a?d[1]:d[0];this._setValueAttr(a,c)}},_setWidthAttr:function(a){this._set("width",a);this._sliderResize()},
_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._sliderResize()},_sliderResize:function(){var a,c,d;d=this.get("width");"100%"===d?void 0===this.majorTickLabels?this.getParent()&&(c=this.getParent().get("width"),this._setWidthOnChildren(c)):0<this.majorTickLabels.length?(a=b(".vc-MajorTickLabels",this.containerNode)[0],c=a.childElementCount,d=a.children[0],a=a.children[c-1],d=l.computeWidth(d.textContent),a=l.computeWidth(a.textContent),d/=2,a/=2,c=this.getParent().get("width"),
this.domNode.style.marginLeft=d+"px",this.domNode.style.marginRight=a+"px",this.domNode.style.width=c+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%",this._set("width",c)):(c=this.getParent().get("width"),this.domNode.style.marginLeft="5px",this.domNode.style.marginRight="5px",this.domNode.style.width=c+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%"):this._setWidthOnChildren(d)},_setWidthOnChildren:function(a){this.sliderTrackNode.style.width=
a-5+"px";this.containerNode.style.width=a-5+"px";this.domNode.style.marginLeft="5px";this.domNode.style.marginRight="5px"},_getDomNodeForValidationClasses:function(){return this.sliderTrackNode},constrainTicksToScaleLimits:function(a,b,c){var d=[],g=[],f;void 0===a.length&&(a=[a]);for(f=0;f<a.length;f+=1)a[f]>=b[0]&&a[f]<=b[1]&&(d[d.length]=a[f],void 0!==c&&(g[g.length]=c[f]));return void 0!==c?{ticks:d,labels:g}:{ticks:d}},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&b(".dijitRuleLabelContainerH",
this.majorTickLabelDijit.domNode).forEach(function(a){var b=-1*(l.computeWidth(a.children[0].innerHTML)/2);a.style.marginLeft=b+"px"})},postCreate:function(){this.inherited(arguments);this.own(e(this,"mouseup",d.hitch(this,function(){this.valueChanged({value:this.value});this._mouseUp=!0})));this.own(e(this,"mouseout",d.hitch(this,function(){this._mouseUp=!1})));this.own(e(this,"mousedragreleased",d.hitch(this,function(){this._emittedValue!==this.value&&!this._mouseUp&&(this.valueChanged({value:this.value}),
this._emittedValue=this.value)})));this.own(e(this,"keydown",d.hitch(this,this._handleKeyDown)))},_handleKeyDown:function(a){this.inherited(arguments);a.keyCode===c.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===c.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))},valueChanged:function(a){}})})},"MW/toolstrip/widgets/_SliderPropertyMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{_setStepsAttr:function(d){this._set("steps",
d)},_setNumberOfTicksAttr:function(d){this._set("numberOfTicks",d);var e=this.minimum,c=[];if(1<d){for(;c.length<d-1;)c.push(e),e+=(this.maximum-this.minimum)/(this.numberOfTicks-1);c.push(this.maximum);this.set("minorTicks",c)}else 1===d?(c.push((this.maximum+this.minimum)/2),this.set("minorTicks",c)):this.set("minorTicks",[])},_setLabelsAttr:function(d){var e=this.minimum,c=[];this._set("labels",d);if(0<d.length){if(1===d.length)c.push((this.minimum+this.maximum)/2);else for(;e<=this.maximum;)c.push(e),
e+=(this.maximum-this.minimum)/(this.labels.length-1);this.set("majorTicks",c);this.set("majorTickLabels",d)}else this.set("majorTicks",[]),this.set("majorTickLabels",[])}})})},"MW/toolstrip/widgets/_SliderKeyBoardEventMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/aspect","dojo/keys","../ToolstripUtils"],function(k,d,e,c,b){return k(null,{constructor:function(){this.own(e.after(this,"postCreate",this._attachKeyBoardEvent,!0))},_attachKeyBoardEvent:function(){var a;this.own(d(this,
"keyup",function(d){if(!this.get("disabled")){var e=[],m;m=[];e=(this.maximum-this.minimum)/this.steps;for(a=this.minimum;a<=this.maximum;a+=e)m.push(a);d.keyCode===c.LEFT_ARROW||d.keyCode===c.PAGE_DOWN?(e=b.getClosestValue(m,this.get("value"))[0],d=m.indexOf(e),m=0===d?m[0]:m[d-1],this.set("value",m)):d.keyCode===c.RIGHT_ARROW||d.keyCode===c.PAGE_UP?(e=b.getClosestValue(m,this.get("value"))[1],d=m.indexOf(e),m=0===d?m[1]:d===m.length-1?m[m.length-1]:m[d+1],this.set("value",m)):d.keyCode===c.END?
(m=m[m.length-1],this.set("value",m)):d.keyCode===c.HOME&&(m=m[0],this.set("value",m))}}))}})})},"MW/toolstrip/widgets/external/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/query ./_AbstractSlider ./HorizontalRule ./HorizontalRuleLabels".split(" "),function(k,d,e,c,b,a,f){return k(b,{baseClass:"vc-slider vc-horizontalSlider",width:200,height:6,_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_thumbPositionParam1:"width",_thumbPositionParam2:"left",
_isScaleDirectionReverse:!1,orientation:"horizontal",getRuleLabelConstructor:function(){return f},_setWidthAttr:function(a){this.sliderTrackNode.style.width=a+"px";this.containerNode.style.width=a+"px";this._set("width",a)},getRuleConstructor:function(){return a},postCreate:function(){this.inherited(arguments);this.own(this.watch("width",d.hitch(this,"_adjustThumbPosition")),this.watch("fontSize",d.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontWeight",d.hitch(this,"_adjustLabelContainerPositioning")),
this.watch("fontFamily",d.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontStyle",d.hitch(this,"_adjustLabelContainerPositioning")))},_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._adjustLabelContainerPositioning()},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&c(".dijitRuleLabelContainerH",this.majorTickLabelDijit.domNode).forEach(function(a){var b=-1*(e.position(a).w/2);a.style.marginLeft=b+"px"})},_computePreferredWidth:function(){var a,
b;a=this.width+this.sliderThumbSize.w;b=this._computePreferredWidthOfMajorTickLabels();return Math.max(a,b)},_computePreferredX:function(){var a=this._adjustTrackAndContainerOffset();return this.location[0]-a},_computePreferredHeight:function(){var a=this._getDomNodeOfWidgetAtEnd();a&&(this._bottomWidgetPosition=e.position(a));return(a?this._bottomWidgetPosition.y+this._bottomWidgetPosition.h:this.sliderThumbSize.y+this.sliderThumbSize.h)-this.sliderThumbSize.y},_computePreferredY:function(){var a;
a=e.position(this.sliderTrackNode);this._bottomWidgetPosition?(a=this._bottomWidgetPosition.y-a.y-a.h+this._bottomWidgetPosition.h,this._bottomWidgetPosition=null):a=this.sliderThumbSize.h/3;return this.location[1]-a},_computePreferredWidthOfMajorTickLabels:function(){var a=0;if(this.majorTickLabelDijit)var a=c(".dijitRuleLabel",this.containerNode),b=0,b=e.position(a[0]),d=e.position(this.sliderTrackNode),b=b.x<d.x-this.sliderThumbSize.w/2?b.x:d.x-this.sliderThumbSize.w/2,a=e.position(a[a.length-
1]),a=a.x-b+a.w;return a},_adjustTrackAndContainerOffset:function(){var a=c(".dijitRuleLabel",this.containerNode),b=this.sliderThumbSize.w/2;if(0===a.length)b=this.sliderThumbSize.w/2;else{for(var d=[],g=0;g<a.length;g+=1)d[g]=e.position(a[g]).x;d=Math.min.apply(null,d);a=e.position(this.sliderTrackNode);d<a.x-this.sliderThumbSize.w/2&&(b=a.x-d)}this.sliderTrackNode.style.left=b+"px";this.containerNode.style.left=b+"px";return b}})})},"MW/toolstrip/widgets/external/_AbstractSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/_base/event dijit/focus dijit/form/_FormValueWidget dijit/_Container dojo/text!./templates/Slider.html dojo/dnd/Moveable ./_SliderThumbMover".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k([a,f],{templateString:l,sliderTrackNode:null,sliderThumbNode:null,value:0,maximum:100,minimum:0,THUMB_WIDTH:14,preferredSize:{width:0,height:0,left:0,bottom:0},_setHeightAttr:function(a){this.sliderTrackNode.style.height=a+"px";this._set("height",a)},_setOuterWidthAttr:function(a){this.domNode.style.width=a+"px"},_setOuterHeightAttr:function(a){this.domNode.height=a+"px"},_setLocationAttr:function(a){this._set("location",a)},_setPixelValue:function(a,b,c){!this.disabled&&
!this.readOnly&&this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum),c)},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.inherited(arguments)},_setMinimumAttr:function(a){this._set("minimum",a)},_setMaximumAttr:function(a){this._set("maximum",a)},_setMajorTicksAttr:function(a){if(this.majorTickDijit&&(this.majorTickDijit.destroy(),this.majorTickDijit=null,0===a.length)){this._set("majorTicks",a);return}var b=this.constrainTicksToScaleLimits(a,
[this.get("minimum"),this.get("maximum")]),c=this.getRuleConstructor();0===b.ticks.length?this._set("majorTicks",a):(this._set("majorTicks",b.ticks.slice(0)),this.majorTickDijit=new c({"class":"vc-MajorTickMarks",ticks:this.majorTicks,minimum:this.minimum,maximum:this.maximum,count:this.majorTicks.length}),this.majorTickDijit.placeAt(this.containerNode))},_setMinorTicksAttr:function(a){if(this.minorTickDijit&&(this.minorTickDijit.destroy(),this.minorTickDijit=null,0===a.length)){this._set("minorTicks",
a);return}var b=this.constrainTicksToScaleLimits(a,[this.get("minimum"),this.get("maximum")]),c=this.getRuleConstructor();0===b.ticks.length?this._set("minorTicks",a):(this._set("minorTicks",b.ticks.slice(0)),this.minorTickDijit=new c({"class":"vc-MinorTickMarks",count:this.minorTicks.length,ticks:this.minorTicks,minimum:this.minimum,maximum:this.maximum}),this.minorTickDijit.placeAt(this.containerNode))},_setMajorTickLabelsAttr:function(a){this.majorTickLabelDijit&&(this.majorTickLabelDijit.destroy(),
this.majorTickLabelDijit=null);if(0===a.length||0===a.join("").trim().length)this._set("majorTickLabels",a);else{var b=this.constrainTicksToScaleLimits(this.get("majorTicks"),[this.get("minimum"),this.get("maximum")],a),c=this.getRuleLabelConstructor();0===b.labels.length?this._set("majorTickLabels",a):(this._set("majorTickLabels",b.labels.slice(0)),this.majorTickLabelDijit=new c({"class":"vc-MajorTickLabels",minimum:this.minimum,maximum:this.maximum,labels:this.majorTickLabels,count:this.majorTickLabels.length,
ticks:this.majorTicks}),this.majorTickLabelDijit.placeAt(this.containerNode))}},_onTrackClick:function(a){if(!this.disabled&&!(this.readOnly||a.target===this.sliderThumbNode)){b.focus(this.sliderThumbNode);c.stop(a);var d=e.position(this.sliderTrackNode),f=a[this._mousePixelCoord]-d[this._startingPixelCoord];this._isScaleDirectionReverse&&(f=d[this._pixelCount]-f);this._setPixelValue(f,d[this._pixelCount],!0);this.emit("mouseclicked");this._thumbMoveable.onMouseDown(a)}},postCreate:function(){this.inherited(arguments);
var a=k(h,{widget:this});this._thumbMoveable=new m(this.sliderThumbNode,{mover:a});this.own(this.watch("value",d.hitch(this,"_adjustThumbPosition")));this.own(this.watch("minimum",d.hitch(this,"_adjustThumbPosition")));this.own(this.watch("maximum",d.hitch(this,"_adjustThumbPosition")));this._adjustThumbPosition()},_adjustThumbPosition:function(){var a=(this.value-this.minimum)/(this.maximum-this.minimum),a=100*a-100*(this.THUMB_WIDTH/this[this._thumbPositionParam1]/2);this.sliderThumbNode.style[this._thumbPositionParam2]=
a+"%"},computePreferredSize:function(){var a,b,c,d;this.sliderThumbSize=e.position(this.sliderThumbNode);c=this._computePreferredWidth();a=this._computePreferredX();d=this._computePreferredHeight();b=this._computePreferredY();this.set("preferredSize",{width:c,height:d,left:a,bottom:b})},_getDomNodeOfWidgetAtEnd:function(){var a;this.majorTickLabelDijit?a=this.majorTickLabelDijit.domNode:this.majorTickDijit?a=this.majorTickDijit.domNode:this.minorTickDijit&&(a=this.minorTickDijit.domNode);return a}})})},
"MW/toolstrip/widgets/external/_SliderThumbMover":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dnd/Mover"],function(k,d,e){return k(e,{onMouseMove:function(c){var b=this.widget,a=b._sliderTrackDimensions;a||(a=b._sliderTrackDimensions=d.position(b.sliderTrackNode,!0));c=c[b._mousePixelCoord]-a[b._startingPixelCoord];b._isScaleDirectionReverse&&(c=a[b._pixelCount]-c);b._setPixelValue(c,a[b._pixelCount],!1);this._wasDragged=!0;b.emit("mousedragging")},onMouseUp:function(){var c=
this.widget;this._wasDragged?(c.emit("mousedragreleased"),this._wasDragged=!1):c.emit("mouseclicked");this.inherited(arguments)},destroy:function(){this.widget._sliderTrackDimensions=null;this.inherited(arguments)}})})},"MW/toolstrip/widgets/external/HorizontalRule":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(k,d,e){return k("dijit.form.HorizontalRule",[d,e],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,
container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',ticks:null,minimum:0,maximum:100,_isHorizontal:!0,isAddQeIdForTickBased:!0,_qeIdSuffix:"id\x3d",_genHTML:function(c,b){var a="";this.isAddQeIdForTickBased&&this.ticks&&(a='"'+this._qeIdSuffix+'"'+this["class"]+"_"+this.ticks[b]);return this._positionPrefix+c+this._positionSuffix+this.ruleStyle+a+this._suffix},buildRendering:function(){this.inherited(arguments);
var c="",b,a;if(this.ticks){a=this.maximum-this.minimum;for(b=0;b<this.count;b+=1)c+=this._genHTML(100*((this.ticks[b]-this.minimum)/a),b)}else{c=this._genHTML(0,0);a=100/(this.count-1);for(b=1;b<this.count-1;b+=1)c+=this._genHTML(a*b,b);c+=this._genHTML(100,this.count-1)}this.domNode.innerHTML=c}})})},"MW/toolstrip/widgets/external/HorizontalRuleLabels":function(){define(["dojo/_base/declare","dojo/number","dojo/query","./HorizontalRule"],function(k,d,e,c){return k("dijit.form.HorizontalRuleLabels",
c,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"',_suffix:"\x3c/div\x3e\x3c/div\x3e",_qeIdSuffix:"id\x3d",_calcPosition:function(b){return b},_genHTML:function(b,
a){var c=this._qeIdSuffix+'"'+this["class"]+"_"+this.labels[a]+'"\x3e';return this._positionPrefix+this._calcPosition(b)+this._positionSuffix+this.labelStyle+this._labelPrefix+c+this.labels[a]+this._suffix},getLabels:function(){var b=this.labels,a,c,l;!b.length&&this.srcNodeRef&&(b=e("\x3e li",this.srcNodeRef).map(function(a){return String(a.innerHTML)}));if(!b.length&&1<this.count){a=this.minimum;c=(this.maximum-a)/(this.count-1);for(l=0;l<this.count;l+=1)b.push(l<this.numericMargin||l>=this.count-
this.numericMargin?"":d.format(a,this.constraints)),a+=c}return b},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length}})})},"MW/toolstrip/form/RadioButton":function(){define("dojo/_base/declare mw-form/RadioButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g){return k(g.validate([d,e,c,b,a,f,l,m,h]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/form/CheckBox":function(){define("dojo/_base/declare mw-form/CheckBox MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k(h.validate([d,e,c,b,a,f,l,m]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/widgets/ToolbarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/ToolbarWrapper.html ./_WidgetMixin".split(" "),function(k,d,e,c,b,a){return k([d,e,c,a],{templateString:b})})},"MW/toolstrip/widgets/MenubarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/MenubarWrapper.html ./_WidgetMixin".split(" "),
function(k,d,e,c,b,a){return k([d,e,c,a],{templateString:b})})},"MW/toolstrip/widgets/gallery/GalleryItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-geometry dojo/dom-construct dojo/_base/window dojo/on dojo/mouse dojo/touch dijit/popup dijit/_WidgetBase dijit/_CssStateMixin dijit/_TemplatedMixin dojo/text!./templates/GalleryItem.html ../../constants/gallery/GalleryViewConstants ../../constants/gallery/ItemLocationConstants ../../constants/TypeConstants mw-mixins/property/IconMixin ../_TooltipMixin ../_WidgetMixin mw-mixins/event/ChangeEventMixin mw-mixins/property/DisabledMixin mw-mixins/AccessibilityClickMixin MW/toolstrip/ToolstripUtils MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A){return k([g,p,n,u,w,v,x,z,y,C,A],{baseClass:"mwWidget mwGalleryItem",templateString:s,constructor:function(a){a=a||{};this.disabled=!!a.disabled;this._favButtonClickConnection=null;this._handleFavButtonClick=d.hitch(this,function(){this.favButtonPushed()})},postCreate:function(){var a=this;this.own(f(this.itemWrapperNode,"click",function(){a.disabled||a.itemPushed()}));this.inherited(arguments);this.attachFavButtonClickHandler()},_setIsFavoriteAttr:function(a){a?
this.domNode.classList.add("isFavorite"):this.domNode.classList.remove("isFavorite");this._set("isFavorite",a)},_setDisplayStateAttr:function(a){var b=this.getParent(),b=b&&b.getParent();if(!b||!(b.get("type")===t.GALLERY_POPUP&&b.get("displayState")!==a))this._set("displayState",a),this._updateItemDimensions(),this._updateText(),"DATA_URI"===this._getIconType(this.icon)&&this._updateIconNodeSize()},_updateItemDimensions:function(){this.displayState===r.LIST?this.domNode.style.width="auto":this._getPropertyFromAncestor("galleryItemWidth")&&
(this.domNode.style.width=this._getPropertyFromAncestor("galleryItemWidth")+"px")},attachFavButtonClickHandler:function(){this._favButtonClickConnection=f(this.favButtonNode,"click",this._handleFavButtonClick)},detachFavButtonClickHandler:function(){this._favButtonClickConnection&&(this._favButtonClickConnection.remove(),this._favButtonClickConnection=null)},_setTextAttr:function(a){this._set("text",a);this._updateText()},_setTextOverrideAttr:function(a){this._set("textOverride",a);this._updateText()},
_updateText:function(){var a;this.textOverride?a=this.textOverride:this.text&&(a=this.text);a&&(this.displayState===r.LIST&&(a=a.replace(/\n/g," "),this.shortcut&&(a=a+" "+this.shortcut)),this.labelNode.textContent=a,this._updateTooltip())},_getLocation:function(){var a=this.getParent(),b=!1;if(a)switch(a.type){case t.GALLERY_CATEGORY:b=q.CATEGORY;break;case t.GALLERY_FAVORITE_CATEGORY:b=q.FAVORITES;break;case t.GALLERY:b=q.GALLERY}return b},_getPropertyFromAncestor:function(a){var b=!1,c=this._getLocation();
if(c===q.GALLERY)b=this.getParent()[a];else if(c===q.CATEGORY||c===q.FAVORITES)this.getParent().getParent()&&(b=this.getParent().getParent()[a]);return b},itemPushed:function(){!1!==this.get("closePopupOnClick")&&h.close()},favButtonPushed:function(){},_setIconAttr:function(a){this.inherited(arguments);this.iconNode.classList.remove("dijitInline");"DATA_URI"===this._getIconType(a)&&this._updateIconNodeSize()},_updateIconNodeSize:function(){var a,c,d,g;this.icon&&1===this._getPropertyFromAncestor("galleryItemRowCount")&&
(g=this.iconNode,a=b.create("img",{src:this.icon.replace(/"/g,"").replace(/url\(|\)$/ig,"")}),c=this._getPropertyFromAncestor("galleryItemWidth"),e.after(a,"onload",function(){d=a.width>c-4?c-4:a.width;g.style.width=d+"px";g.style.height=a.height+"px"}))},_qeClick:function(){this.itemPushed()},_qeFavoriteClick:function(){this._handleFavButtonClick()}})})},"MW/toolstrip/constants/gallery/ItemLocationConstants":function(){define([],function(){return{GALLERY:"Gallery",FAVORITES:"Favorites",CATEGORY:"Category"}})},
"MW/toolstrip/widgets/gallery/ToggleGalleryItem":function(){define("dojo/_base/declare ./GalleryItem ../../constants/TypeConstants mw-mixins/event/ChangeEventMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(k,d,e,c,b,a,f,l){return k([d,c,b,a,f,l],{baseClass:"mwWidget mwToggleGalleryItem",postCreate:function(){this.set("checkableNode",this.itemWrapperNode);this.inherited(arguments)},
_setCheckedAttr:function(){this.inherited(arguments);if(!this._destroyed){var a=this.getParent(),b=null;a&&(a.type===e.GALLERY&&a.scrollToSelection?a.getChildren().some(function(a){return!0===a.get("checked")},this)||a.refresh():(b=a.getParent())&&b.type===e.GALLERY_POPUP&&b.scrollToSelection&&this.checked&&!b._invokingGallery.getChildren().some(function(a){return a.get("actionId")===this.get("actionId")},this)&&b.galleryStateChanged())}}})})},"MW/uiframework/hashes/ControlEventsHash":function(){define(["dojo/_base/lang",
"MW/toolstrip/hashes/ControlEventsHash"],function(k,d){var e={};k.mixin(e,d);return e})},"MW/toolstrip/hashes/ControlEventsHash":function(){define(["../constants/TypeConstants"],function(k){var d={};d[k.TOOLSTRIP]={actionEvents:[],componentEvents:["toolstripPlaced"]};d[k.TAB]={actionEvents:[],componentEvents:["remove"]};d[k.PUSH_BUTTON]={actionEvents:["buttonPushed"],componentEvents:[]};d[k.QAB]={actionEvents:[],componentEvents:["restoreFactoryControls"]};d[k.QAB_PUSH_BUTTON]=d[k.PUSH_BUTTON];d[k.TOGGLE_BUTTON]=
{actionEvents:[],componentEvents:[]};d[k.QAB_TOGGLE_BUTTON]=d[k.TOGGLE_BUTTON];d[k.DROP_DOWN_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};d[k.QAB_DROP_DOWN_BUTTON]=d[k.DROP_DOWN_BUTTON];d[k.SPLIT_BUTTON]={actionEvents:["buttonPushed"],componentEvents:["dropDownPerformed"]};d[k.COLOR_PICKER_BUTTON]={actionEvents:["valueChanged"],componentEvents:[]};d[k.QAB_SPLIT_BUTTON]=d[k.SPLIT_BUTTON];d[k.TOGGLE_SPLIT_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};d[k.QAB_TOGGLE_SPLIT_BUTTON]=
d[k.TOGGLE_SPLIT_BUTTON];d[k.COMBO_BOX]={actionEvents:"dropDownPerformed focusGained focusLost typing textCancelled recommit".split(" "),componentEvents:[]};d[k.POPUP_LIST]={actionEvents:[],componentEvents:["onOpen","onClose"]};d[k.LIST_ITEM]={actionEvents:["itemPushed"],componentEvents:["remove"]};d[k.LIST_ITEM_WITH_POPUP]={actionEvents:[],componentEvents:["dropDownPerformed"]};d[k.LIST_ITEM_WITH_CHECKBOX]={actionEvents:[],componentEvents:["closeRequest"]};d[k.TEXT_FIELD]={actionEvents:["focusGained",
"focusLost","typing","textCancelled","recommit"],componentEvents:[]};d[k.TEXT_AREA]={actionEvents:["focusGained","focusLost"],componentEvents:[]};d[k.LIST_ITEM_WITH_TEXTFIELD]={actionEvents:"focusGained focusLost typing commit recommit textCancelled itemPushed".split(" "),componentEvents:[]};d[k.HORIZONTAL_SLIDER]={actionEvents:["valueChanged"],componentEvents:[]};d[k.SPINNER]={actionEvents:["valueChanged","recommit"],componentEvents:[]};d[k.GALLERY]={actionEvents:[],componentEvents:["refresh"]};
d[k.GALLERY_POPUP]={actionEvents:[],componentEvents:["galleryStateChanged"]};d[k.GALLERY_CATEGORY]={actionEvents:[],componentEvents:["categoryMoved"]};d[k.GALLERY_FAVORITE_CATEGORY]={actionEvents:[],componentEvents:["itemMoved"]};d[k.GALLERY_ITEM]={actionEvents:["itemPushed"],componentEvents:["favButtonPushed","remove"]};d[k.TOGGLE_GALLERY_ITEM]={actionEvents:[],componentEvents:["favButtonPushed","remove"]};d[k.QA_GROUP]={actionEvents:[],componentEvents:["itemMoved"]};d[k.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=
d[k.SPLIT_BUTTON];return d})},"MW/uiframework/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash"],function(k,d){var e={};k.mixin(e,d);Object.keys(e).forEach(function(c){Object.keys(e[c]).forEach(function(b){e[c][e[c][b]]=b})});return e})},"MW/toolstrip/hashes/PeerNodeWidgetEventsHash":function(){define(["../constants/TypeConstants"],function(k){var d={};d[k.PUSH_BUTTON]={buttonPushed:"click"};d[k.DROP_DOWN_BUTTON]={dropDownPerformed:"dropdownclick"};
d[k.SPLIT_BUTTON]={dropDownPerformed:"dropdownclick",buttonPushed:"click"};d[k.COLOR_PICKER_BUTTON]={valueChanged:"change"};d[k.TOGGLE_SPLIT_BUTTON]={dropDownPerformed:"dropdownclick"};d[k.QAB_PUSH_BUTTON]=d[k.PUSH_BUTTON];d[k.QAB_DROP_DOWN_BUTTON]=d[k.DROP_DOWN_BUTTON];d[k.QAB_SPLIT_BUTTON]=d[k.SPLIT_BUTTON];d[k.QAB_TOGGLE_SPLIT_BUTTON]=d[k.TOGGLE_SPLIT_BUTTON];d[k.TEXT_FIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",textCancelled:"textcancelled"};d[k.TEXT_AREA]={focusGained:"focusgained",
focusLost:"focuslost"};d[k.COMBO_BOX]={focusGained:"focus",focusLost:"blur",typing:"typing",textCancelled:"textcancelled",dropDownPerformed:"dropdownclick"};d[k.POPUP_LIST]={onOpen:"open",onClose:"close"};d[k.SPINNER]={valueChanged:"change"};d[k.LIST_ITEM]={itemPushed:"click"};d[k.LIST_ITEM_WITH_TEXTFIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",commit:"commit",recommit:"recommit",textCancelled:"textcancelled",itemPushed:"itempushed"};d[k.LIST_ITEM_WITH_POPUP]={dropDownPerformed:"dropdownclick"};
d[k.LIST_ITEM_WITH_CHECKBOX]={closeRequest:"closeRequest"};return d})},"MW/toolstrip/hashes/ToolstripCollapseTriggers":function(){define(["../constants/TypeConstants"],function(k){var d={};d[k.PUSH_BUTTON]={events:["buttonPushed"],properties:[]};d[k.SPLIT_BUTTON]={events:["buttonPushed"],properties:[]};d[k.TOGGLE_BUTTON]={events:[],properties:["checked"]};d[k.LIST_ITEM]={events:["itemPushed"],properties:[]};d[k.LIST_ITEM_WITH_CHECKBOX]={events:["closeRequest"],properties:[]};d[k.COMBO_BOX]={events:[],
properties:["value"]};d[k.CHECK_BOX]={events:[],properties:["checked"]};d[k.RADIO_BUTTON]={events:[],properties:["checked"]};d[k.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]={events:["buttonPushed"],properties:[]};d[k.GALLERY_ITEM]={events:["itemPushed"],properties:[]};d[k.TOGGLE_GALLERY_ITEM]={events:[],properties:["checked"]};return d})},"MW/uiframework/supportedUIBuilderFunctions":function(){define({fromModelManager:"create destroy add remove get set exists indexOf getChildrenIds getParentId isAnOrphan addEventCallback addPropertySetCallback createPopupsFromConfig addTabGroupFromConfig createGalleryPopupFromConfig addGalleryItemToFavorites removeGalleryItemFromFavorites getGalleryState setGalleryState getQABState setQABState widgetByTag tagToId showPopup addToolstripFromConfig placeToolstripAt selectTab selectFirstTabInTabGroup getMenubarWrapperWidget getToolbarWrapperWidget".split(" "),
fromWidgetManager:["refreshGallery","isAnyPopupOpen","closeAllOpenPopups"]})},"MW/uiframework/contextmanager/TabGroupManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/dom-class","MW/uiframework/UIBuilderFactory"],function(k,d,e,c,b){return k(null,{constructor:function(a){this._contextManagerImpl=a.contextManagerImpl;this._toolstripId=a.contextManagerImpl.toolstripId;this._toolstripWidget=e.byId(this._toolstripId);this._uiBuilder=a.uiBuilder||b.getInstance();
this._registeredTabGroups={};this._lastSelectedTabId=this._lastValidContext=null;this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",d.hitch(this,this._currentContextChangedCallback)));this._handles.push(this._uiBuilder.addPropertySetCallback(this._toolstripId,d.hitch(this,this._selectedTabChangedCallback)))},registerTabGroups:function(a){this._registeredTabGroups[a.appId]||(this._registeredTabGroups[a.appId]={});this._registeredTabGroups[a.appId][a.contextId]||(this._registeredTabGroups[a.appId][a.contextId]=
{});this._registeredTabGroups[a.appId][a.contextId].tabGroupTags=a.tabGroupTags;a.appId===this._contextManagerImpl.parentAppId&&"global"===a.contextId&&this._addTabGroups(a.appId,a.contextId)},unregisterTabGroups:function(a){this._registeredTabGroups[a.appId]&&(this._registeredTabGroups[a.appId][a.contextId]?delete this._registeredTabGroups[a.appId][a.contextId]:delete this._registeredTabGroups[a.appId])},resetLastSelectedTab:function(a){this._registeredTabGroups[a.appId]&&(this._registeredTabGroups[a.appId][a.contextId]?
this._registeredTabGroups[a.appId][a.contextId].lastSelectedTabId=null:Object.keys(this._registeredTabGroups[a.appId]).forEach(function(b){this._registeredTabGroups[a.appId][b].lastSelectedTabId=null},this))},_currentContextChangedCallback:function(a,b,c){this._previouslySelectedTabId=this._uiBuilder.get(this._toolstripId,"selectedTab");if(!(JSON.stringify(b)===JSON.stringify(c)||null===c||void 0===c)&&this._registeredTabGroups[c.appId])this._lastValidContext=this._contextManagerImpl.get("currentContext"),
this._registeredTabGroupsForNewApp=d.clone(this._registeredTabGroups[c.appId]),this.removeAllContextualTabGroups(),c.contextIdList&&c.contextIdList.forEach(function(a){c.appId===this._contextManagerImpl.parentAppId&&"global"===a||this._addTabGroups(c.appId,a);this._contextManagerImpl.alternativeContextMemory||this._selectAppropriateTab(c.appId,a)},this),this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(c.appId)},removeAllContextualTabGroups:function(){this._ignoreSelectedTabChange=
!0;this._toolstripWidget._ignoreResize=!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(a){this._isAGlobalTabGroupOfParentApp(a)||this._uiBuilder.remove(a)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,"global")},removeContextualTabGroupsOfAppId:function(a){this._ignoreSelectedTabChange=!0;this._toolstripWidget._ignoreResize=
!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(b){-1<this._getAllRegisteredTabGroupTags(a).indexOf(this._uiBuilder.get(b,"tag"))&&this._uiBuilder.remove(b)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,"global")},_getAllRegisteredTabGroupTags:function(a){var b=[];this._registeredTabGroups[a]&&
Object.keys(this._registeredTabGroups[a]).forEach(function(c){b=b.concat(this._registeredTabGroups[a][c].tabGroupTags)},this);return b},_addTabGroups:function(a,b){this._registeredTabGroups[a]&&this._registeredTabGroups[a][b]&&(this._ignoreSelectedTabChange=!0,this._toolstripWidget._ignoreResize=!0,this._registeredTabGroups[a][b].tabGroupTags.forEach(function(a){this._uiBuilder.add(this._uiBuilder.tagToId(a),this._toolstripId)},this),this._ignoreSelectedTabChange=!1,this._toolstripWidget._ignoreResize=
!1,a===this._contextManagerImpl.parentAppId&&"global"===b||this._registeredTabGroups[a][b].tabGroupTags.forEach(d.hitch(this,function(a){a=this._uiBuilder.tagToId(a);this._uiBuilder.getChildrenIds(a).forEach(function(a){c.add(e.byId(a).controlButton.domNode,"toolstripContextualTab")})})))},_selectAppropriateTab:function(a,b){if(this._registeredTabGroups[a])if(this._contextManagerImpl.alternativeContextMemory)this._lastSelectedTabId&&!this._uiBuilder.isAnOrphan(this._lastSelectedTabId)?(this._uiBuilder.set(this._toolstripId,
"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",this._lastSelectedTabId)):this._registeredTabGroups[a].global&&(this._registeredTabGroups[a].global.tabGroupTags&&0<this._registeredTabGroups[a].global.tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[a].global.tabGroupTags[0],this._toolstripId);else if(this._registeredTabGroups[a][b]){var c=this._registeredTabGroupsForNewApp&&this._registeredTabGroupsForNewApp[b].lastSelectedTabId;!c||this._uiBuilder.isAnOrphan(c)?
this._registeredTabGroups[a]&&(this._registeredTabGroups[a][b]&&this._registeredTabGroups[a][b].tabGroupTags&&0<this._registeredTabGroups[a][b].tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[a][b].tabGroupTags[0],this._toolstripId):this._isAGlobalTab(this._previouslySelectedTabId,a)?this._isAGlobalTab(c,a)?this._uiBuilder.set(this._toolstripId,"selectedTab",this._previouslySelectedTabId):this._uiBuilder.set(this._toolstripId,"selectedTab",c):(this._uiBuilder.set(this._toolstripId,
"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",c))}},_selectedTabChangedCallback:function(a){!this._ignoreSelectedTabChange&&"selectedTab"===a.property&&(this._contextManagerImpl.alternativeContextMemory?this._lastSelectedTabId=a.newValue:this._lastValidContext&&(this._registeredTabGroups[this._lastValidContext.appId]&&this._lastValidContext.contextIdList)&&this._lastValidContext.contextIdList.forEach(function(b){this._registeredTabGroups[this._lastValidContext.appId][b]&&this._registeredTabGroups[this._lastValidContext.appId][b].tabGroupTags&&
(this._registeredTabGroups[this._lastValidContext.appId][b].lastSelectedTabId=a.newValue)},this))},_isAGlobalTabGroupOfParentApp:function(a){var b=!1;a=this._uiBuilder.get(a,"tag");this._contextManagerImpl.parentAppId&&this._registeredTabGroups[this._contextManagerImpl.parentAppId]&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags&&(b=-1<this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags.indexOf(a));
return b},_isAGlobalTab:function(a,b){var c=!1;return c=this._contextManagerImpl.parentAppId?this._isAChildOfRegisteredTabGroups(a,this._contextManagerImpl.parentAppId,"global"):this._isAChildOfRegisteredTabGroups(a,b,"global")},_isAChildOfRegisteredTabGroups:function(a,b,c){var d=!1;this._registeredTabGroups[b][c].tabGroupTags&&(a=this._uiBuilder.getParentId(a),a=this._uiBuilder.get(a,"tag"),-1<this._registeredTabGroups[b][c].tabGroupTags.indexOf(a)&&(d=!0));return d},cleanup:function(){this._handles.forEach(function(a){a.remove()})}})})},
"variableeditor/ClientPeerDocument":function(){define("variableeditor/ClientPeerDocument","dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dijit/layout/ContentPane variableeditor/VariableEditorUtils variableeditor/ContextPublishingUtils variableeditor/_ArgumentsMixin mw-peermodel/Observable mw-log/Log dojo/dom-construct dojo/dom-class dojo/dom-style dojo/query dojo/dom-geometry dojo/Deferred dojo/topic mw-browser-utils/BrowserUtils dojo/on variableeditor/views/SummaryBar datatoolsservices/CmdLineCodePublishService dojo/text!variableeditor/ClientPeerDocument.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){return k("variableeditor.ClientPeerDocument",[c,f,e,l.Impl],{allArgs:{},varName:"",varDocID:"",userContext:{},clientPeerView:null,viewListeners:[],clientPeerManager:[],dataTagRoot:"",resizeBehaviour:"default",summaryBar:null,showSummaryBar:!0,templateString:x,varSize:"",varType:"",varSecondaryType:"",varSecondaryStatus:"",requestFocusOnStart:!0,cmdLineCodePublishSvc:null,cmdLineCodeEnabled:!1,constructor:function(a){this.allArgs={};this.userContext=
{};this.clientPeerView=null;this.viewListeners=[];this.clientPeerManager=[];this.varType=this.varSize=this.varName=this.dataTagRoot="";this.init(a)},init:function(c){if(c&&(this.allArgs=c,this.contextChannel=c.contextUpdateChannel||"",this.currentContext=c.contextId||"",this.setArgument("documentNode",this.allArgs),this.setArgument("rootNode",this.allArgs),this.setArgument("executionService",this.allArgs),this.allArgs.resizeBehaviour||(this.allArgs.resizeBehaviour=this.resizeBehaviour),this.setArgumentWithDefault("editable",
this.allArgs,!0),this.setArgumentWithDefault("resizeBehaviour",this.allArgs,"default"),this.setArgumentWithDefault("requestFocusOnStart",this.allArgs,!0),this.setArgumentWithDefault("showSummaryBar",this.allArgs,!0),this.setArgumentWithDefault("cssSpecifier",this.allArgs,""),this.setArgumentWithDefault("userContext",this.allArgs,{}),this.setArgumentWithDefault("clientPeerManager",this.allArgs,{}),this.setArgumentWithDefault("dataTagRoot",this.allArgs,""),c.rootNode&&c.rootNode.getProperty)){var f=
c.rootNode.getProperty("VECmdLineCodeGenEnabled");this.cmdLineCodeEnabled=f&&f.VECmdLineCodeGenEnabled?f.VECmdLineCodeGenEnabled:!1;c.rootNode.addEventListener("propertySet",d.hitch(this,"_handleRootPropertySet"))}var h=this;if(h.documentNode&&h.documentNode.hasProperty("name")&&h.documentNode.hasProperty("docID")){h.varName=h.documentNode.getProperty("name");h.varSize=h.documentNode.getProperty("size");h.varType=h.documentNode.getProperty("type");h.varSecondaryType=h.documentNode.getProperty("secondaryType");
h.varSecondaryStatus=h.documentNode.getProperty("secondaryStatus");h.varDocID=h.documentNode.getProperty("docID");h.userContext=h.documentNode.hasProperty("userContext")?h.documentNode.getProperty("userContext"):{};h.onClose=function(){b.logDebug("VE: Document Closed");h.clientPeerManager&&h.clientPeerManager.removeFocusedDocument(h);h.rootNode.dispatchEvent("peerEvent",h.rootNode,{type:"RemoveDocument",variable:h.varName,workspace:h.documentNode.getProperty("workspace")})};h.onShow=function(){h.domNode&&
!h.domNode.hasAttribute("data-tag")&&(h.dataTagRoot?h.domNode.setAttribute("data-tag",b.concatenateDataTagStrings(h.dataTagRoot,"document",h.varName)):h.domNode.setAttribute("data-tag",b.createDataTag("document",h.varName)));h.clientPeerManager&&(h.requestFocusOnStart&&h.clientPeerManager.setFocusedDocument(h),h.domNode.setAttribute("data-ManagerChannel",h.clientPeerManager.channel))};h.onFocus=function(){if(h.clientPeerManager){var b=[h.currentContext];h.varType&&b.push(h.varType);a.addToContext(h.contextChannel,
b,!1);h.clientPeerManager.setFocusedDocument(h)}};h.onBlur=function(){h.clientPeerManager&&h.clientPeerManager.removeFocusedDocument(h)};h.documentNode.addEventListener("childAdded",function(a){var b=a.data.child;a=a.target.getProperty("name");var c=b.getProperty("Editor");h._addView(c,h,b,a)});if(h.documentNode.getChildren&&0<h.documentNode.getChildren().length){c=h.documentNode.getChildren()[0];var f=h.documentNode.getProperty("name"),e=c.getProperty("Editor");h._addView(e,h,c,f)}h.documentNode.addEventListener("childRemoved",
function(a){h._removeView(h,a.data.child)});h.showSummaryBar&&(h.documentNode.addEventListener("propertySet",d.hitch(h,"_handlePropertySet")),h.summaryBar&&(h.summaryBar.setName(h.varName),h.summaryBar.setSize(h.varSize),h.summaryBar.setSecondaryType(h.varSecondaryType),h.summaryBar.setType(h.varType),h.summaryBar.setStatus(h.varSecondaryStatus),h.summaryBar.setStatusRef(h.varSecondaryStatus),h.summaryBar.initServices(h.allArgs.executionService,h.allArgs.helpDataService)));this.domNode&&g.add(this.domNode,
"fullWidthHeight")}},_updateCssStyle:function(){var a=this.domNode.getElementsByClassName("clientPeerViewDiv")[0];g.add(a,"hasSummaryBar")},_addView:function(a,c,d,g,f){try{b.logDebug("VE: Attempting module load of "+a),require([a],function(e){b.logDebug("VE: Loaded class "+a);c.clientPeerView=new e;var l=c.domNode.getElementsByClassName("clientPeerViewDiv");e=c;l&&l.hasOwnProperty(0)&&(l=l[0],e={domNode:l,addChild:function(a){h.place(a.domNode,l,"last")}});c.allArgs=b.mergeObjects(c.allArgs,{peerNode:d,
varName:g,container:e});c.clientPeerView.init(c.allArgs);c.resize();b.logDebug("VE: Dispatching Event viewAdded ");c.dispatchEvent("viewAdded",c.domNode,{peerDoc:c,peerView:c.clientPeerView});f&&f("success");c.cmdLineCodePublishSvc=new v({executionService:c.executionService,context:"VariableEditor/"+g,enabled:c.cmdLineCodeEnabled})}),b.logDebug("VE: Passed required module load.")}catch(e){m.error(e),m.error(e.stack),f&&f("error",e)}},_removeView:function(a,c){b.logDebug("VE: childRemoved listener fired");
a.dispatchEvent("viewRemoved",a.domNode,{peerDoc:a,peerView:a.clientPeerView});a&&a.clientPeerView&&(b.logDebug("VE: destroying the clientPeerView"),a.clientPeerView.destroy(),b.logDebug("VE: destroyed the clientPeerView"));if(a.domNode){var d=a.domNode.getElementsByClassName("clientPeerViewDiv");d&&d.hasOwnProperty(0)&&(d=d[0],h.empty(d))}c&&c.destroy();this.cmdLineCodePublishSvc&&this.cmdLineCodePublishSvc.unregister();a.clientPeerView={}},postCreate:function(){var a=this;this.own(u(window,"resize",
function(){a.resize&&a.resize()}));this.showSummaryBar&&(this.setSummaryBar(),this._updateCssStyle())},getView:function(a){if(a)return this.clientPeerView;var b=!1,c=new r(function(){b=!0});if(this.clientPeerView)c.resolve(this.clientPeerView);else{var d=this,g=function(){d.removeEventListener("viewAdded",g,this);b||c.resolve(d.clientPeerView)};this.addEventListener("viewAdded",g)}return c},focus:function(){var a=this;a.id&&require(["dijit/focus","dojo/dom","dojo/domReady!"],function(b,c){var d=c.byId(a.id);
c.isDescendant(b.curNode,d)||b.focus(c.byId(a.id))})},resize:function(){var a=300,b=300,c=0;switch(this.resizeBehaviour){case "fixed":this.allArgs.size&&(a=this.allArgs.size.width,b=this.allArgs.size.height);break;case "data":c=n(".dataBody",this.domNode);if(0===c.length)break;a=c[0];p.set(a,"min-width","initial");p.set(a,"min-height","initial");c=s.position(a);this.clientPeerView&&this.clientPeerView.table&&this.clientPeerView.table.defaultProperties?(b=c.h+this.clientPeerView.table.rowHeight+2,
a=c.w+this.clientPeerView.table.rowHeaderWidth+2):(b=c.h+20,a=c.w+32);c=this.limitSize(a,b);b=c.height;a=c.width;break;case "window":a=window.innerWidth;b=window.innerHeight;c=this.limitSize(a,b);b=c.height;a=c.width;break;case "container":a=this.domNode.parentElement;if(!a){this.inherited(arguments);return}c=s.position(a);if(0>=c.w||0>=c.h){this.inherited(arguments);return}a=c.w;b=c.h;c=this.limitSize(a,b);b=c.height;a=c.width;break;default:this.inherited(arguments);return}p.set(this.domNode,"width",
a+"px");p.set(this.domNode,"height",b+"px");this.inherited(arguments)},limitSize:function(a,b){this.allArgs.maxSize&&(this.allArgs.maxSize.width&&a>this.allArgs.maxSize.width&&(b+=t.getScrollbarWidth()),this.allArgs.maxSize.height&&b>this.allArgs.maxSize.height&&(a+=t.getScrollbarWidth()),this.allArgs.maxSize.width&&(a=Math.min(this.allArgs.maxSize.width,a)),this.allArgs.maxSize.height&&(b=Math.min(this.allArgs.maxSize.height,b)));this.allArgs.minSize&&(this.allArgs.minSize.width&&(a=Math.max(this.allArgs.minSize.width,
a)),this.allArgs.minSize.height&&(b=Math.max(this.allArgs.minSize.height,b)));return{width:a,height:b}},_handlePropertySet:function(a){a&&(a.data&&"size"===a.data.key)&&(this.varSize=a.data.newValue,this.summaryBar.setSize(a.data.newValue),q.publish("/datatools/sizeChanged",{doc:this,size:a.data.newValue}));a&&(a.data&&"type"===a.data.key)&&this.summaryBar.setType(a.data.newValue)},_handleRootPropertySet:function(a){a&&(a.data&&"VECmdLineCodeGenEnabled"===a.data.key)&&this.cmdLineCodePublishSvc.setEnabled(a.data.newValue.VECmdLineCodeGenEnabled)},
setSummaryBar:function(){this.documentNode&&(this.varName=this.documentNode.getProperty("name"),this.varSize=this.documentNode.getProperty("size"),this.varType=this.documentNode.getProperty("type"),this.varSecondaryStatus=this.documentNode.getProperty("secondaryStatus"),this.varSecondaryType=this.documentNode.getProperty("secondaryType"));if(this.showSummaryBar){this.summaryBar=new w(this.varName,this.varSize,this.varType,this.varSecondaryType,this.varSecondaryStatus,this.allArgs.executionService,
this.allArgs.helpDataService);this.summaryBar.startup();var b=this.domNode.getElementsByClassName("summaryBarDiv");b&&b.hasOwnProperty(0)&&(b=b[0],h.place(this.summaryBar.domNode,b,"last"));var c=this;u(b,"click",function(b){a.addToContext(c.contextChannel,["SummaryBar"],!0)})}}})})},"variableeditor/VariableEditorUtils":function(){define("variableeditor/VariableEditorUtils","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/topic mw-remote/Remote mw-log/Log dojo/has mw-dialog-utils/DialogUtils mw-notifications/Notifications dojo/i18n!variableeditor/app/l10n/nls/app mw-messageservice/MessageService dojo/dnd/Target dijit/focus dojo/dom-geometry dojo/dom-style".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){function u(a,b){var c,d;if(!a||!b||a.length!==b.length)return!1;c=0;for(d=a.length;c<d;c+=1)if(a[c]instanceof Array&&b[c]instanceof Array){if(!u(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0}function w(a){for(var b=a,c=1;c<arguments.length;c+=1)b=arguments[c]instanceof Object&&arguments[c].length?b+"."+w.apply(this,arguments[c]):b+"."+arguments[c];return b}function v(a,b,c){try{if(void 0!==a.selectionStart)a.selectionStart=b,a.selectionEnd=c,
r.curNode!==a&&r.focus(a);else if(a.createTextRange){var d=a.createTextRange();d.collapse(!0);d.moveStart("character",b);d.moveEnd("character",c);d.select();r.curNode!==a&&r.focus(a)}else a.setSelectionRange&&(r.curNode!==a&&r.focus(a),a.setSelectionRange(b,c))}catch(g){l.log(g)}}function x(a){v(a,0,a.value.length)}var z=0,y=0,B=null;n.subscribe("/VELogChannel",function(a){"setLogFlagFromServer"===a.data.eventType&&(y=a.data.flag)});var C=k(s,{onSelectStart:function(a){}});return{mergeObjects:function(a,
b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c},addToClassList:function(a,b){void 0!==a&&(null!==a&&void 0!==b&&null!==b)&&c.add(a,b)},removeFromClassList:function(a,b){void 0!==a&&(null!==a&&void 0!==b&&null!==b)&&c.remove(a,b)},runFactoryInitInMATLAB:function(a,b,c){try{z+=1;var d="VariableEditorUtilsResponse_"+z;b&&f.registerResponseHandler("EvalResponse:"+d,b,this);c&&f.registerFaultHandler("Eval:"+d,c,this);a.endsWith(";")&&(a=a.substring(0,
a.length-1));f.sendMessage({FEval:{"function":a,nargout:0,dequeMode:"idle"}},{},d)}catch(g){l.error(g),l.trace(g.stack)}},compareArrays:u,createDataTag:function(){return w("datatools.variableeditor",arguments)},concatenateDataTagStrings:w,displayErrorMessage:function(a,b,c){c={icon:c?c:"error","data-test-id":"fileDataServiceFaultDialog"};b||(b=p.errorDialogTitle);g.displayAlertDialog(b,a,c)},displayErrorMessageWithSpecifiedWidth:function(a,b,c,d){b=b?b:300;d={icon:d?d:"error","data-test-id":"fileDataServiceFaultDialog"};
c||(c=p.errorDialogTitle);a=g.displayAlertDialog(c,a,d);t.set(a.domNode,"min-width",b+"px");t.set(a.domNode,"width",b+"px");return a},DEFAULT_VE_DATA_TAG_ROOT:"datatools.variableeditor",isDebug:function(){return y&2},setDebug:function(a){a?this.addLogLevel(2):this.isDebug()&&this.removeLogLevel(2);this.publishLogLevel(y)},logDebug:function(a){this.isDebug()&&l.debug(a)},isPerformance:function(){return y&1},isInfo:function(){return y&4},setLogLevel:function(a){y=a;this.publishLogLevel(y)},addLogLevel:function(a){y|=
a},removeLogLevel:function(a){a<=y&&(y^=a)},publishLogLevel:function(a){try{n.publish("/VELogChannel",{eventType:"setLogFlagFromClient",LogLevel:a})}catch(b){}},getLogicalValue:function(a,b){var c=void 0!==b?!0===b:!1;"string"===typeof a||a instanceof String?(a=a.toLowerCase(),c="false"===a||"0"===a||"off"===a||"no"===a?!1:"true"===a||"1"===a||"on"===a||"yes"===a?!0:void 0!==b?!0===b:!0):"boolean"===typeof a?c=a:"number"===typeof a&&(c=0!==a);return c},getStackTrace:function(){var a=[];try{throw Error("Generating Stack");
}catch(b){if(b.stack){for(var c=b.stack.split("\n"),d=0;d<c.length;d++){var g=c[d].split("at").join("").trim();a.push(g)}a.shift()}}a.shift();return a},logDebugStackTraceMessage:function(){if(this.isDebug()){var a=this.getStackTrace();a.shift();a=a.join("\n");l.debug("VECallStack: "+a)}},logDebugStackTraceArray:function(){if(this.isDebug()){var a=this.getStackTrace();a.shift();l.debug(a)}},stripOuterSingleQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/^\s*'/,""),
a=a.replace(/'\s*$/,"");return a},stripOuterDoubleQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/^\s*"/,""),a=a.replace(/"\s*$/,"");return a},handleFormatting:function(a,b,c){var d=null,g=null;"newLine"===c?d="\n":"tab"===c&&(d="\t");a&&(c=a[0],a=a[1],g=b.slice(0,a>c?c:a)+d+b.slice(a,b.length),g=g.replace(/\u21b5/g,"\n"),g=g.replace(/\u0009/g,"\t"));return g},formatString:function(a,b){if(a&&(-1<a.indexOf("\n")||-1<a.indexOf("\t")))a=a.replace(/\n/g,"\u21b5"),a=a.replace(/\t/g,
"\t");return a},unescapeMatlabQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/\'\'/g,"'");return a},deselectTextInBrowser:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection.createRange&&(document.selection.createRange(),document.selection.empty())},selectTextInNode:function(a){if(document.selection){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else window.getSelection&&(b=document.createRange(),b.selectNodeContents(a),
window.getSelection().removeAllRanges(),window.getSelection().addRange(b))},createSelectableDnDTarget:function(a,b){var c=new C(a,b);b&&b.dropCallback&&(c.onDrop=b.dropCallback);b&&b.checkAcceptanceCallback&&(c.checkAcceptance=b.checkAcceptanceCallback);return c},selectAll:x,selectAllText:function(a){a&&a.value&&(!/^\".*\"$/.test(a.value)&&!/^\'.*\'$/.test(a.value)?x(a):v(a,1,a.value.length-1))},selectRange:v,getSelectionStart:function(a){if(void 0!==a.selectionStart&&null!==a.selectionStart)return a.selectionStart;
if(a.createTextRange){var b=document.selection.createRange().duplicate();b.moveEnd("character",a.value.length);return""===b.text?a.value.length:a.value.lastIndexOf(b.text)}},getSelectionEnd:function(a){if(void 0!==a.selectionStart&&null!==a.selectionStart)return a.selectionEnd;if(a.createTextRange){var b=document.selection.createRange().duplicate();b.moveStart("character",-a.value.length);return b.text.length}},getClassList:function(a){return a.className.split(" ")},getClassNameForIconList:function(a){-1<
a.indexOf("sparse")?a="sparse":-1<a.indexOf("complex")?a="complex":""===a.trim()&&(a="novardisplay");return a},compareValues:function(a,b){a instanceof Array&&(a=a.toString());b instanceof Array&&(b=b.toString());return JSON.stringify(a)===JSON.stringify(b)},getStylesFromClasses:function(a,d){var g=b.create("div",{style:"display: none; width: 0px; height: 0px;"});if(a)for(var h=0;h<a.length;h+=1)c.add(g,a[h]);b.place(g,document.body,"last");var f=window.getComputedStyle(g),e={};if(f&&d)for(h=0;h<
d.length;h+=1){var l=d[h];e[l]=f.getPropertyValue(l)}b.destroy(g);return e},createDebounceFn:function(a,b,c){var d=null;return function(){clearTimeout(d);d=setTimeout(function(){if(a.domNode)for(var c=0;c<b.length;c++)b[c].apply(a)},c)}},getComputedColumnHeaderWidth:function(a,b){if(a&&b){var c=document.createElement("canvas").getContext("2d");c.font=b;return parseInt(c.measureText(a).width)}return 0},getBrowserScrollBarWidth:function(a){if(!B)if(m("mac")){a=document.createElement("div");a.className=
"scrollbar-measure";a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="-9999px";document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;document.body.removeChild(a);B=b+2;setTimeout(function(){B=null},500)}else B=a.scrollbarWidth;return B},getColumnHeaderPositions:function(a){var b=HTMLElement.prototype.getBoundingClientRect;HTMLElement.prototype.getBoundingClientRect=function(){try{return b.apply(this,arguments)}catch(a){return{left:0,
right:0,top:0,bottom:0,height:0,width:0}}};if(null===a)return[];for(var c=[],d=0;d<a.length;d++)c[d]=a[d].getBoundingClientRect();HTMLElement.prototype.getBoundingClientRect=b;return c},preventDefaultMouseClick:function(a){a.preventDefault()},filterFloat:function(a){if("string"===typeof a){var b=parseFloat(a).toString();if(0===a.indexOf(b)&&a.length!=b.length)for(b=b.length;b<a.length;b+=1)if("0"!==a.charAt(b))return NaN}return parseFloat(a)}}})},"mw-notifications/Notifications":function(){define("dojo/_base/window dojo/_base/kernel dojo/dom-style dojo/html dojo/window dojo/dom-class mw-utils/HtmlUtils ./IconAndMessageWidget ./BannerWidget ./ProgressBar mw-dialogs/Dialogs mw-dialogs/ButtonEnum".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){var n=function(a,b){"string"===typeof b&&(b=f.escapeWhitespace(b));c.set(a,b,{parseContent:!0})};return{displayAlertDialog:function(a,b,c){c=c||{};b=this._createIconAndMessageWidget(b,"error",c);this._setupIconAndMessageWidget(b);var d=[p.OK];d[0]["data-test-id"]="AlertDialogButton1";var h=c.closeCallback?c.closeCallback:function(){},f={eventName:"AlertDialogClosed",dialogTitle:a,response:1,buttonText:d[0].label};a=g.createDialog({title:a,content:b,dialogType:!1===
c.modal?g.MODELESS:g.MODAL,buttons:d,draggable:!0,"data-test-id":c["data-test-id"]?c["data-test-id"]:"AlertDialog",className:"mwAlertDialog"});a.on("close",function(){h(f)});a.addButtonEventListener(p.OK,null,!0);return a},_createIconAndMessageWidget:function(a,b,c){return new l({message:a,icon:c.icon?c.icon:b})},_setupIconAndMessageWidget:function(a){var c=b.getBox(),c=Math.max(80,Math.min(0.4*c.h,300));e.set(a.messageNode,"max-height",c+"px")},_resizeToFitOversizeButtons:function(a){400<parseInt(e.getComputedStyle(a.domNode).width)&&
(a.domNode.querySelector(".mwDialogBody").style.maxWidth="none")},displayConfirmDialog:function(a,b,c){c=c||{};b=this._createIconAndMessageWidget(b,"question",c);this._setupIconAndMessageWidget(b);var d=[],h=[p.TYPE.DO_IT,p.TYPE.DONT_DO_IT,p.TYPE.CANCEL,p.TYPE.APPLY,p.TYPE.REVERT];if(c.buttonText&&1<=c.buttonText.length)for(var f=0;f<c.buttonText.length&&5>f;f++)d.push({type:h[f],label:c.buttonText[f],"data-test-id":"ConfirmDialogButton"+(f+1)});else d=[{type:p.TYPE.DO_IT,label:"OK","data-test-id":"ConfirmDialogButton1"},
{type:p.TYPE.CANCEL,label:"Cancel","data-test-id":"ConfirmDialogButton2"}];var e=c.closeCallback?c.closeCallback:function(){},l={eventName:"ConfirmDialogClosed",dialogTitle:a,response:1,buttonText:d[0].label},m=c.defaultCancelButton<=d.length?c.defaultCancelButton:d.length,n=g.createDialog({title:a,dialogType:g.MODAL,content:b,buttons:d,draggable:!0,className:"mwConfirmDialog","data-test-id":c["data-test-id"]?c["data-test-id"]:"ConfirmDialog",defaultActionButton:c.defaultAcceptButton<=d.length?d[c.defaultAcceptButton-
1]:d[0]});n.on("close",function(){l.response=m;l.buttonText=d[m-1].label;e(l)});d.forEach(function(a,b){n.addButtonEventListener(a,function(){l.response=b+1;l.buttonText=a.label;e(l);n.destroy()},!1)});this._resizeToFitOversizeButtons(n);return n},displayProgressDialog:function(a,b,c){c=c||{};var d=void 0===c.className?"":" "+c.className,f=new l({message:'\x3cdiv class\x3d"mwProgressDialogMessage" data-test-id\x3d"progress-message-node"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwProgressDialogProgressBar"\x3e\x3c/div\x3e',
icon:c.icon?c.icon:"none"}),e=f.messageNode.children[1],m=f.messageNode.children[0];n(m,b);b=new h({indeterminate:void 0===c.indeterminate?!1:c.indeterminate,value:void 0===c.value?0:c.value,colorStyle:void 0===c.colorStyle?"Info":c.colorStyle,showPercentage:void 0===c.showPercentage?!1:c.showPercentage,"data-test-id":"ProgressDialogProgressBar"});b.placeAt(e);b.startup();b.resize({w:"none"===f.icon?360:317});this._setupIconAndMessageWidget(f);var k=[];if(e=void 0===c.showCancelButton?!1:c.showCancelButton)k=
[p.CANCEL],k[0].label=void 0===c.cancelButtonText?p.CANCEL.label:c.cancelButtonText,k[0]["data-test-id"]="ProgressDialogButton1";d=g.createDialog({title:a,dialogType:g.MODAL,content:f,buttons:k,draggable:!0,closeOnEscape:e,hideCloseButton:!e,className:"mwProgressDialog"+d,"data-test-id":c["data-test-id"]?c["data-test-id"]:"ProgressDialog"});if(e){var z={eventName:"ProgressDialogClosed",dialogTitle:a,response:"cancel",buttonText:k[0].label,dialog:d},y=c.cancelCallback?c.cancelCallback:function(){};
a=function(){y(z)};d.on("close",a);d.addButtonEventListener(p.CANCEL,a,!1);d._destroyCache=d.destroy;d.destroy=function(){};d.closeProgressDialog=function(){this.destroy=this._destroyCache;this.destroy()};d.disableCancelButton=function(){this.disableButton(k[0])};d.enableCancelButton=function(){this.enableButton(k[0])}}else d.closeProgressDialog=function(){this.destroy()};d.progressBar=b;d.progressMessageNode=m;d.updateMessage=function(a){n(this.progressMessageNode,a)};return d}}})},"mw-utils/HtmlUtils":function(){define(["dojo/_base/window",
"dojo/_base/event","dojo/io-query","mw-utils/deprecation"],function(k,d,e,c){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var b=k.global.location.search.substr(1,k.global.location.search.length);return this._parseQueryString(b)},
_parseQueryString:function(b){return e.queryToObject(b)},parseUrl:function(b){var a=document.createElement("a");a.display="none";a.href=b||window.location.href;a.href=a.href;a={protocol:a.protocol,hostname:a.hostname,port:a.port,pathname:a.pathname,search:a.search,hash:a.hash};if(("https:"===a.protocol||"http:"===a.protocol)&&0!==a.pathname.indexOf("/"))a.pathname="/"+a.pathname;"https:"===a.protocol&&("443"===a.port&&0!==b.indexOf("https://"+a.hostname+":443"))&&(a.port="");return a},escapeHtml:function(b){var a=
k.global.document.createElement("div");b=k.global.document.createTextNode(b);a.appendChild(b);a=a.innerHTML;b="";for(var c=0;c<a.length;c+=1){var d=a.charCodeAt(c);b=128<d?b+"\x26#"+d+";":b+a.charAt(c)}return b},escapeLinksAndHtml:function(b,a){c.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var d="",e=b.split(this.HYPERLINK_ESCAPE_REGEXP),m=b.match(this.HYPERLINK_ESCAPE_REGEXP),h="",
g=this,p=0,n=function(a,b,c,d){a=g.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=g.escapeHtml(b);d=g._strongNotEscaped(d,!0);h='\x3ca href\x3d"'+b+'"\x3e'+d+"\x3c/a\x3e"};if(a)d=this.escapeHtml(b),d=this.escapeWhitespace(d);else if(""!==e[0]&&(d=this._strongNotEscaped(e[0],!0)),null!==m&&0!==m.length)for(p=0;p<m.length;p+=1)m[p].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,n),""!==e[p+1]&&(e[p+1]=this._strongNotEscaped(e[p+1],!0)),d+=h+e[p+1];return d},treatHtmlLikeCommandWindow:function(b,
a,c){if("string"!==typeof b)return"";var d="",e=b.split(this.HYPERLINK_ESCAPE_REGEXP),h=b.match(this.HYPERLINK_ESCAPE_REGEXP),g="",p=this,n=0;c=c?c:{};var k=function(a,b,c,d){a=p.parseUrl(b).protocol;var h="";"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=p.escapeHtml(b);d=p._strongNotEscaped(d,!1);p.BOLD_LINK_ATTRIBUTE_REGEX.test(c)&&(h=' style\x3d"font-weight:bold"');g='\x3ca href\x3d"'+b+'"'+h+"\x3e"+d+"\x3c/a\x3e"};if(a)d=this.escapeHtml(b);else if(""!==e[0]&&(d=this._strongNotEscaped(e[0],
!1)),null!==h&&0!==h.length)for(n=0;n<h.length;n+=1)h[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,k),""!==e[n+1]&&(e[n+1]=this._strongNotEscaped(e[n+1],!1)),d+=g+e[n+1];c.addPreTagToPreserveWhiteSpace&&(d='\x3cspan style\x3d"white-space: pre"\x3e'+d+"\x3c/span\x3e");return d},_strongNotEscaped:function(b,a){var c="",d=b.match(this.STRONG_ESCAPE_REGEXP),e=b.split(this.STRONG_ESCAPE_REGEXP),h=function(a){return a};a&&(h=this.escapeWhitespace);var g=0;if(null!==d&&0!==d.length){c=h(this.escapeHtml(e[0]));
for(g=0;g<d.length;g+=1)c+=d[g]+h(this.escapeHtml(e[g+1]))}else c=h(this.escapeHtml(b));return c},escapeWhitespace:function(b){c.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(b||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(b,a){if(a.target.href){d.stop(a);var c=a.target.href;
-1!==c.indexOf("matlab:")?"matlab:"===c.substring(0,7)&&(c=a.target.href.substring(7),b(k.global.unescape(c))):k.global.open(a.target.href)}},isElementOverflown:function(b){return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth}}})},"mw-notifications/IconAndMessageWidget":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-attr dojo/dom-construct dojo/dom-class dojo/html mw-html-utils/HtmlUtils".split(" "),function(k,d,e,c,b,a,f,l,m){return k([e,
c],{templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3cimg class\x3d"${baseClass}Icon" src\x3d"" draggable\x3d"false"  ondragstart\x3d"return false;" data-dojo-attach-point\x3d"iconNode"\x3e\x3cdiv class\x3d"${baseClass}Message" data-test-id\x3d"message-node" data-dojo-attach-point\x3d"messageNode"\x3e${!message}\x3c/div\x3e\x3c/div\x3e',baseClass:"mwIconAndMessageWidget",icon:"error",message:"",_setIconAttr:function(a){var c="";a||(a="error");this._set("icon",a);this.iconNode.src=this._ICON_blank;
f.remove(this.iconNode);f.add(this.iconNode,this.baseClass+"Icon");a.match(/^(error|warning|info|question|success|none)$/)?(f.add(this.iconNode,["mwAlertIcon32",this._getIconClassName(this.icon)]),c=a):a.match(/^(data:image\/)/i)?(c="customDataURI",this.iconNode.src=a):(c="customCSSClass",f.add(this.iconNode,a));b.set(this.iconNode,"data-icon-id",c)},_getIconClassName:function(a){return"mwAlertIcon"+a.charAt(0).toUpperCase()+a.slice(1)},_setMessageAttr:function(a){this._set("message",a);"string"===
typeof a&&(a=m.escapeWhitespace(a));l.set(this.messageNode,a,{parseContent:!0})},_ICON_blank:"data:image/gif;base64,R0lGODlhAQABAJAAAP8AAAAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw\x3d\x3d"})})},"mw-notifications/BannerWidget":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-attr dojo/_base/lang dojo/fx".split(" "),function(k,d,e,c,b,a){return k([d,e],{templateString:'\x3cdiv class\x3d"${baseClass}" style\x3d"display:none;"\x3e\x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3cdiv class\x3d"${baseClass}Title" data-dojo-attach-point\x3d"titleNode"\x3e${!title}\x3c/div\x3e\x3cdiv class\x3d"${baseClass}Content" data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
baseClass:"mwBanner","data-test-id":"",title:"Banner Title",content:"This is the Banner Content Area",duration:4E3,wipeInDuration:500,wipeOutDuration:350,_hideTimer:0,isVisible:!1,onHide:function(){},postCreate:function(){c.set(this.domNode,"data-test-id",this["data-test-id"])},_setContentAttr:function(a){b.isString(a)?this.contentNode.innerHTML=a:(a.placeAt(this.contentNode),a.startup())},show:function(){this.isVisible||(this.set("isVisible",!0),a.wipeIn({node:this.domNode,duration:this.wipeInDuration}).play());
if(0<this.duration){var c=setTimeout(b.hitch(this,this.hide),this.duration);this.set("_hideTimer",c)}},hide:function(){this.isVisible&&(this.set("isVisible",!1),clearTimeout(this._hideTimer),a.wipeOut({node:this.domNode,duration:this.wipeOutDuration,onEnd:this.onHide}).play())}})})},"mw-notifications/ProgressBar":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dijit/_TemplatedMixin dijit/_WidgetBase ./_ProgressMixin dojo/text!./templates/ProgressBar.html".split(" "),
function(k,d,e,c,b,a,f,l,m){return k([f,a,l],{baseClass:"mwProgressBar",templateString:m,resize:function(a){a=a&&a.w?a.w:b.getContentBox(this.domNode.parentNode).w;if(NaN===a||0===a)a=100;e.set(this.gutterNode,"transform","scaleX("+a/100+")")},startup:function(){this.inherited(arguments);this.resize()},_setValueAttr:function(a){this.inherited(arguments);e.set(this.progressNode,"transform","translateX("+(this.value-100)+"px)")},_showAnimationWave:function(a){var b=this.baseClass+"NoWave";!1===a?c.add(this.domNode,
b):c.remove(this.domNode,b)}})})},"mw-notifications/_ProgressMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class"],function(k,d,e){return k([],{value:0,indeterminate:!1,showPercentage:!0,colorStyle:"Info","data-test-id":"",constructor:function(){this["data-test-id"]=this.baseClass.substring(2)},_setValueAttr:function(c){c=Math.min(Math.max(parseInt(c),0),100);this._set("value",c);this.progressTextNode.textContent=this.value+"%";d.set(this.domNode,"data-value",this.value)},
_setIndeterminateAttr:function(c){this._set("indeterminate",c);c=this.baseClass+"Indeterminate";this.indeterminate?e.add(this.domNode,c):e.remove(this.domNode,c)},_setShowPercentageAttr:function(c){this._set("showPercentage",c);c=this.baseClass+"Invisible";this.showPercentage?e.remove(this.progressTextNode,c):e.add(this.progressTextNode,c)},_setColorStyleAttr:function(c){var b="Info";switch(c.toLowerCase()){case "error":b="Error";break;case "warning":b="Warning";break;case "success":b="Success";break;
case "info":b="Info";break;default:b="Info"}c=this.get("colorStyle");this._set("colorStyle",b);e.replace(this.domNode,this.baseClass+b,this.baseClass+c)}})})},"mw-dialogs/Dialogs":function(){define(["dojo/_base/lang","dojo/keys","dojo/on","mw-dialogs/view/Dialog","mw-utils/Utils"],function(k,d,e,c,b){return{MODAL:"modal",MODELESS:"modeless",createDialog:function(a){a.id=a.id?a.id:"dialog_"+b.generateUuid();a.className="string"===typeof a.className?k.trim(a.className):"";a.dialogType="modal"===a.dialogType?
"modal":"modeless";a.hideCloseButton="boolean"===typeof a.hideCloseButton?a.hideCloseButton:!1;a.closeOnEscape="boolean"===typeof a.closeOnEscape?a.closeOnEscape:!0;a.resizable="boolean"===typeof a.resizable?a.resizable:!1;a.draggable="boolean"===typeof a.draggable?a.draggable:"modeless"===a.dialogType;return new c(a)}}})},"mw-dialogs/view/Dialog":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=
!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-style dojo/has dojo/keys dojo/on dojo/touch mw-dialogs/controller/DialogController mw-dialogs/controller/Draggable mw-dialogs/controller/Resizable mw-dialogs/controller/Focus mw-dialogs/controller/stopEvent mw-dialogs/view/ButtonBar mw-dialogs/view/ContentWidget mw-dialogs/utils/preventShortCutKeys".split(" "),function(d,e,c,b,a,f,l,
m,h,g,p,n,s,r,q,t){var u=function(b){return l(b,!a("mozilla")?"mousewheel":"DOMMouseScroll",function(a){var c="DOMMouseScroll"===a.type?-40*a.detail:a.wheelDelta,d=0<c;!d&&-c>b.scrollHeight-b.clientHeight-b.scrollTop?(b.scrollTop=b.scrollHeight,s(a)):d&&c>b.scrollTop&&(b.scrollTop=0,s(a))})},w=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._eventSignals=[];this.domNode=this._createDomNodes(b.id);this.domNode.widget=this;this._buildDialog(b);
this._renderDialog(b.title);this._show();return this}k(a,[{key:"addButtonEventListener",value:function(a,b,c){r.addButtonEventListener(this,a,b,c)}},{key:"enableButton",value:function(a){r.enableButton(this,a)}},{key:"disableButton",value:function(a){r.disableButton(this,a)}},{key:"on",value:function(a,b){var c=l(this.domNode,a,b);this._eventSignals.push(c)}},{key:"close",value:function(){l.emit(this.domNode,"close",{bubbles:!1,cancelable:!0});this.destroy()}},{key:"destroy",value:function(){this._isModal?
this._allModalDialogs.splice(d.indexOf(this._allModalDialogs,this),1):this._allModelessDialogs.splice(d.indexOf(this._allModelessDialogs,this),1);this._focusHandle&&this._focusHandle.unwatch();this._eventSignals.forEach(function(a){a.remove()});this._eventSignals=[];var a=void 0;for(a in this._buttonEventHandlers)this._buttonEventHandlers[a].remove();this._buttonEventHandlers={};this._resizeEventSignals&&p.disable(this);this._contentWidget&&this._contentWidget.destroyRecursive();document.body.removeChild(this.domNode);
if(!0===this._isModal){document.body.removeChild(this._underlay);var b=this._allModalDialogs;1<b.length&&b.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex});1<=b.length&&(b[b.length-1]._underlay.style.opacity=1)}for(a in this)this.hasOwnProperty(a)&&delete this[a]}},{key:"moveTo",value:function(a){h.moveTo(this,a)}},{key:"bringToTop",value:function(){var a=[],b=this;this._isModal?(a=d.filter(this._allModalDialogs,function(a){return a!==b},this),a.sort(function(a,b){return a.domNode.style.zIndex-
b.domNode.style.zIndex}),a.push(this),d.forEach(a,function(d,g){d.domNode.style.zIndex=b._startZ+2*g;d._underlay.style.zIndex=d.domNode.style.zIndex-1;g!==a.length-1&&(d._underlay.style.opacity=0);c.remove(d.domNode,"mwModalDialogFg")},this),c.add(this.domNode,"mwModalDialogFg")):(a=d.filter(this._allModelessDialogs,function(a){return a!==b},this),a.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex}),a.push(this),d.forEach(a,function(a,d){a.domNode.style.zIndex=b._startZ+2*d;
c.remove(a.domNode,"mwModelessDialogFg")},this),c.add(this.domNode,"mwModelessDialogFg"))}},{key:"_show",value:function(){b.set(this.domNode,"visibility","visible");this.moveTo(this._specifiedPosition);n.focus(this);this._contentWidget&&this._contentWidget.startup();l.emit(this.domNode,"show",{bubbles:!1,cancelable:!0})}},{key:"_trackEventListener",value:function(a){this._eventSignals.push(a);return a}},{key:"_removeEventListener",value:function(a){var b=this._eventSignals.indexOf(a);-1<b&&(this._eventSignals.splice(b,
1),a.remove())}},{key:"_createDomNodes",value:function(a){var b=document.createElement("div");b.id=a;b.className="mwDialog";b.tabIndex=0;a=this._titleBar=document.createElement("div");a.className="mwDialogTitleBar";e.set(a,"data-test-id","dialog-title-bar");var c=this._titleBar._titleNode=document.createElement("span");c.className="mwTitleNode";e.set(c,"data-test-id","dialog-title-node");var d=this._contentArea=document.createElement("div");d.className="mwDialogBody";e.set(d,"data-test-id","dialog-content-area");
a.appendChild(c);b.appendChild(a);b.appendChild(d);return b}},{key:"_buildDialog",value:function(a){var b=this;a.className&&c.add(this.domNode,a.className);if(!a.hideCloseButton){var d=this._titleBar.closeNode=document.createElement("span");d.className="mwCloseNode";e.set(d,"data-test-id","dialog-close-node");this._titleBar.appendChild(d);this._trackEventListener(l(d,"click",function(){b.close()}))}if(a.closeOnEscape)this.on("keydown",function(a){a.keyCode===f.ESCAPE&&(b.close(),s(a))});a.content&&
(this._contentWidget=new q({widget:a.content,contentArea:this._contentArea}),h.selectionWithinDialogBounds(this));a.buttons&&Array.isArray(a.buttons)&&0<a.buttons.length?(d=r.createButtonBar(this,a.buttons,a.defaultActionButton),this.domNode.appendChild(d)):c.add(this._contentArea,"mwNoButtons");"modal"===a.dialogType?(this._isModal=!0,this._startZ=this._modalDialogBeginZIndex,c.add(this.domNode,"mwModalDialog"),d=document.createElement("div"),d.className="mwUnderlay",document.body.appendChild(d),
this._underlay=d,t.prevent(this)):(this._startZ=this._modelessDialogBeginZIndex,c.add(this.domNode,"mwModelessDialog"));a["data-test-id"]&&e.set(this.domNode,"data-test-id",a["data-test-id"]);a.bindingNode&&(this._bindingNode=a.bindingNode);a.position&&(this._specifiedPosition=a.position);a.specifiedFocusItem&&(this.specifiedFocusItem=a.specifiedFocusItem);this._addControllers(a)}},{key:"_renderDialog",value:function(a){document.body.appendChild(this.domNode);this._isModal?this._allModalDialogs.push(this):
this._allModelessDialogs.push(this);this._buttonBar&&b.get(this.domNode,"min-width")<this._buttonBar._buttonBarWidth&&b.set(this.domNode,"min-width",this._buttonBar._buttonBarWidth+"px");b.get(this.domNode,"width")>document.documentElement.clientWidth?b.set(this.domNode,"width",document.documentElement.clientWidth+"px"):b.set(this.domNode,"width",b.get(this.domNode,"width")+"px");b.get(this.domNode,"height")>document.documentElement.clientHeight?b.set(this.domNode,"height",document.documentElement.clientHeight+
"px"):b.set(this.domNode,"height",b.get(this.domNode,"height")+"px");this.title=a}},{key:"_addControllers",value:function(a){var b=this,d=this;this._scrollWheelListener=null;a.draggable?g.draggable({dialog:this,bindingNode:this._bindingNode}):this._titleBar.style.cursor="default";a.resizable&&(p.enable({widget:this,bindingNode:this._bindingNode}),this._resizeHandlers.forEach(function(a){d._resizeEventSignals.push(l(a,m.press,function(){d.bringToTop()}))}),this._resizeEventSignals.push(l(this.domNode,
p.resizeEvent,function(a){d._isCenter=!1;d._specifiedPosition={x:a.dimension.x,y:a.dimension.y};d._resolveScrollBar();d._titleBar._titleNode.title=d._titleBar._titleNode.offsetWidth<d._titleBar._titleNode.scrollWidth?d.title:"";d._contentArea.scrollHeight>d._contentArea.clientHeight?c.add(b._contentArea,"mwOverflow"):c.remove(b._contentArea,"mwOverflow")})));this.on(m.press,function(){d.bringToTop()});this._resolveScrollBar();h.addScrollHandler(this);h.addBrowserResizeHandler(this)}},{key:"_resolveScrollBar",
value:function(){0<this._contentArea.scrollHeight-this._contentArea.clientHeight?(0<this._contentArea.offsetWidth-this._contentArea.scrollWidth&&b.set(this._contentArea,"padding-right",this._standardContentPadding-(this._contentArea.offsetWidth-this._contentArea.scrollWidth)+"px"),this._scrollWheelListener||(this._scrollWheelListener=this._trackEventListener(u(this._contentArea)))):(b.set(this._contentArea,"padding-right",this._standardContentPadding+"px"),this._scrollWheelListener&&(this._removeEventListener(this._scrollWheelListener),
this._scrollWheelListener=null))}},{key:"title",set:function(a){this._titleText="";a&&"string"===typeof a&&(this._titleText=a);this._titleBar._titleNode.textContent=this._titleText;this._titleBar._titleNode.offsetWidth<this._titleBar._titleNode.scrollWidth&&(this._titleBar._titleNode.title=this._titleText)},get:function(){return this._titleText}}]);return a}();w.prototype._modalDialogBeginZIndex=950;w.prototype._modelessDialogBeginZIndex=100;w.prototype._standardContentPadding=20;w.prototype._allModalDialogs=
[];w.prototype._allModelessDialogs=[];return w})},"mw-dialogs/controller/DialogController":function(){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/dom-geometry","dojo/on","dojo/window","./stopEvent"],function(d,e,c,b){var a=function(a,b,c,d,f){var e={};f?(e.l=Math.max(f.x,Math.min(f.x+b.x,f.x+f.w-c.w)),e.t=Math.max(f.y,
Math.min(f.y+b.y,f.y+f.h-c.h)),a._specifiedPosition={x:e.l-f.x,y:e.t-f.y}):(e.l=Math.max(0,Math.min(b.x,d.w-c.w)),e.t=Math.max(0,Math.min(b.y,d.h-c.h)),a._specifiedPosition={x:e.l,y:e.t});a._isCenter=!1;return e},f=function(a,b,c,d,f){b={};f?(b.l=c.w>=f.x+f.w||c.w>=d.w-f.x||c.w>=f.w?Math.max(0,f.x):(0<=f.x?f.x:0)+(f.x+f.w<=d.w?f.w/2:(d.w-f.x)/2)-c.w/2,b.t=c.h>=f.y+f.h||c.h>=d.h-f.y||c.h>=f.h?Math.max(0,f.y):(0<=f.y?f.y:0)+(f.y+f.h<=d.h?f.h/2:(d.h-f.y)/2)-c.h/2):(b.l=Math.max(0,d.w/2-c.w/2),b.t=Math.max(0,
d.h/2-c.h/2));a._isCenter=!0;return b},l=function(a,b,c,d,f,e,l){a={};l?(a.l=Math.max(l.x,Math.min(b.x-c+d,l.x+l.w-b.w)),a.t=Math.max(l.y,Math.min(b.y-f+e,l.y+l.h-b.h))):(a.l=b.x,a.t=b.y);return a},m=function(a,b,c,d){var f={};d?a._isCenter?(f.l=Math.max(0,Math.max(d.x,Math.min(c.w-b.w,Math.min(d.x+d.w/2-b.w/2,d.x+d.w-b.w)))),f.t=Math.max(0,Math.max(d.y,Math.min(c.h-b.h,Math.min(d.y+d.h/2-b.h/2,d.y+d.h-b.h))))):(f.l=Math.max(0,Math.max(d.x,Math.min(c.w-b.w,Math.min(a._specifiedPosition.x+d.x,d.x+
d.w-b.w)))),f.t=Math.max(0,Math.max(d.y,Math.min(c.h-b.h,Math.min(a._specifiedPosition.y+d.y,d.y+d.h-b.h))))):a._isCenter?(f.l=Math.max(0,Math.min(c.w/2-b.w/2,c.w-b.w)),f.t=Math.max(0,Math.min(c.h/2-b.h/2,c.h-b.h))):(f.l=Math.max(0,Math.min(a._specifiedPosition.x,c.w-b.w)),f.t=Math.max(0,Math.min(a._specifiedPosition.y,c.h-b.h)));return f};return{moveTo:function(b,g){var e=d.position(b.domNode),l={},l=c.getBox();if("object"===k(b._bindingNode))var m=d.position(b._bindingNode),l=g?a(b,g,e,l,m):f(b,
g,e,l,m);else l=g?a(b,g,e,l):f(b,g,e,l);b.domNode.style.left=l.l+"px";b.domNode.style.top=l.t+"px"},addScrollHandler:function(a){var b=window.pageYOffset,c=window.pageXOffset;a._trackEventListener(e(document,"scroll",function(){var f=window.pageYOffset,e=window.pageXOffset,m=d.position(a.domNode),q={};"object"===k(a._bindingNode)?(q=d.position(a._bindingNode),q=l(a,m,e,c,f,b,q)):q=l(a,m,e,c,f,b);a.domNode.style.left=q.l+"px";a.domNode.style.top=q.t+"px";b=f;c=e}))},addBrowserResizeHandler:function(a){a._trackEventListener(e(window,
"resize",function(){var b=d.position(a.domNode),f=c.getBox(),e={};"object"===k(a._bindingNode)?(e=d.position(a._bindingNode),e=m(a,b,f,e)):e=m(a,b,f);a.domNode.style.left=e.l+"px";a.domNode.style.top=e.t+"px"}))},selectionWithinDialogBounds:function(a){var c=void 0;a._trackEventListener(e(document,"mousedown",function(b){b.target===a._contentWidget.domNode&&(c=!0)}));a._trackEventListener(e(document,"mouseup",function(){c=!1}));a._trackEventListener(e(document,"mousemove",function(d){c&&d.target!==
a._contentWidget.domNode&&b(d)}))}}})},"mw-dialogs/controller/stopEvent":function(){define([],function(){return function(k){k.stopPropagation();k.preventDefault();return!1}})},"mw-dialogs/controller/Draggable":function(){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/dom-geometry","dojo/on","dojo/window","./stopEvent"],function(d,
e,c,b){var a=function(a,b,c,d,g,e){var k={};e?(k.t=g.yLocked?a.y:Math.max(0,Math.max(e.y,Math.min(b.h-a.h,Math.min(c.pageY-d.y,e.y+e.h-a.h)))),k.l=g.xLocked?a.x:Math.max(0,Math.max(e.x,Math.min(b.w-a.w,Math.min(c.pageX-d.x,e.x+e.w-a.w))))):(k.l=Math.max(0,Math.min(c.pageX-d.x,b.w-a.w)),k.t=Math.max(0,Math.min(c.pageY-d.y,b.h-a.h)));return k};return{dragEvent:"move",draggable:function(f){var l=this,m=f.dialog,h=f.bindingNode,g=m._titleBar,p=!1,n={x:0,y:0},s={l:0,t:0},r={xLocked:!1,yLocked:!1},q=void 0,
t=void 0,u=void 0;(function(){m._trackEventListener(e(g,"mousedown",function(a){m.bringToTop();if(0===a.button&&a.target!==g.closeNode){b(a);p=!0;t=c.getBox();q=d.position(m.domNode);if("object"===("undefined"===typeof h?"undefined":k(h)))u=d.position(h),r.xLocked=q.w>=u.x+u.w||q.w>=t.w-u.x||q.w>=u.w,r.yLocked=q.h>=u.y+u.h||q.h>=t.h-u.y||q.h>=u.h;n.x=a.pageX-q.x;n.y=a.pageY-q.y}}));m._trackEventListener(e(document,"mouseup",function(a){b(a);p=!1}));m._trackEventListener(e(document,"mousemove",function(c){p&&
(b(c),q=d.position(m.domNode),"object"===("undefined"===typeof h?"undefined":k(h))?(s=a(q,t,c,n,r,u),m._specifiedPosition={x:s.l-u.x,y:s.t-u.y}):(s=a(q,t,c,n),m._specifiedPosition={x:s.l,y:s.t}),m.domNode.style.left=s.l+"px",m.domNode.style.top=s.t+"px",m._isCenter=!1,e.emit(m.domNode,l.dragEvent,{bubbles:!1,position:{x:s.l,y:s.t}}))}))})()}}})},"mw-dialogs/controller/Resizable":function(){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&
"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define("dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on dojo/query dojo/window ./stopEvent".split(" "),function(d,e,c,b,a,f,l,m){var h=function(a,c,d,g,f,h){var e=void 0;return e=h?Math.max(b.get(a.domNode,"min-width"),Math.min(f.w-c.x,Math.min(d.pageX-g.x-c.x,Math.min(b.get(a.domNode,"max-width")?b.get(a.domNode,"max-width"):h.w+h.x-c.x,h.w+h.x-c.x)))):Math.max(b.get(a.domNode,"min-width"),
Math.min(d.pageX-g.x-c.x,Math.min(b.get(a.domNode,"max-width")?b.get(a.domNode,"max-width"):f.w-c.x,f.w-c.x)))},g=function(a,c,d,g,f,h){f=void 0;return f=h?Math.max(b.get(a.domNode,"min-width"),Math.min(c.x+c.w,Math.min(c.x+c.w-(d.pageX-g.x),Math.min(b.get(a.domNode,"max-width")?b.get(a.domNode,"max-width"):c.x+c.w-h.x,c.x+c.w-h.x)))):Math.max(b.get(a.domNode,"min-width"),Math.min(c.x+c.w-(d.pageX-g.x),Math.min(b.get(a.domNode,"max-width")?b.get(a.domNode,"max-width"):c.x+c.w,c.x+c.w)))},p=function(a,
c,d,g,f,h){var e=void 0;return e=h?Math.max(b.get(a.domNode,"min-height"),Math.min(f.h-c.y,Math.min(d.pageY-g.y-c.y,Math.min(b.get(a.domNode,"max-height")?b.get(a.domNode,"max-height"):h.h+h.y-c.y,h.h+h.y-c.y)))):Math.max(b.get(a.domNode,"min-height"),Math.min(d.pageY-g.y-c.y,Math.min(b.get(a.domNode,"max-height")?b.get(a.domNode,"max-height"):f.h-c.y,f.h-c.y)))},n=function(a,c,d,g,f,h){f=void 0;return f=h?Math.max(b.get(a.domNode,"min-height"),Math.min(c.y+c.h,Math.min(c.y+c.h-(d.pageY-g.y),Math.min(b.get(a.domNode,
"max-height")?b.get(a.domNode,"max-height"):c.y+c.h-h.y,c.y+c.h-h.y)))):Math.max(b.get(a.domNode,"min-height"),Math.min(c.y+c.h-(d.pageY-g.y),Math.min(b.get(a.domNode,"max-height")?b.get(a.domNode,"max-height"):c.y+c.h,c.y+c.h)))},s=function(b,d,f,e,l,s,x,z){m(f);var y,B,C,A;"object"===("undefined"===typeof s?"undefined":k(s))?(s=c.position(s),"e"===x?y=h(b,d,f,e,l,s):"w"===x&&(y=g(b,d,f,e,l,s)),"s"===z?B=p(b,d,f,e,l,s):"n"===z&&(B=n(b,d,f,e,l,s))):("e"===x?y=h(b,d,f,e,l):"w"===x&&(y=g(b,d,f,e,l)),
"s"===z?B=p(b,d,f,e,l):"n"===z&&(B=n(b,d,f,e,l)));"w"===x&&(C=d.x+d.w-y);"n"===z&&(A=d.y+d.h-B);f={};e=void 0;if("e"===x||"w"===x)b.domNode.style.width=y+"px";"w"===x&&(b.domNode.style.left=C+"px");if("s"===z||"n"===z)b.domNode.style.height=B+"px";"n"===z&&(b.domNode.style.top=A+"px");d=c.position(b.domNode);b._contentArea&&(e=c.position(b._contentArea),f={w:e.w,h:e.h});a.emit(b.domNode,"resize",{bubbles:!1,dimension:d,contentSize:f})};return{resizeEvent:"resize",enable:function(b){var g=b.widget,
h=b.bindingNode;g._resizeEventSignals=[];var p=void 0,k=void 0,n={x:0,y:0};(function(){var b=!1,r=!1,y=!1,B=!1,C=!1,A=!1,D=!1,F=!1;g._resizeHandlers=[];var G=document.createElement("div");d.add(G,"mwResizableHandle mwResizable-e");e.place(G,g.domNode,"last");g._resizeHandlers.push(G);var I=document.createElement("div");d.add(I,"mwResizableHandle mwResizable-s");e.place(I,g.domNode,"last");g._resizeHandlers.push(I);var M=document.createElement("div");d.add(M,"mwResizableHandle mwResizable-w");e.place(M,
g.domNode,"last");g._resizeHandlers.push(M);var K=document.createElement("div");d.add(K,"mwResizableHandle mwResizable-n");e.place(K,g.domNode,"last");g._resizeHandlers.push(K);var J=document.createElement("div");d.add(J,"mwResizableHandle mwResizable-se");e.place(J,g.domNode,"last");g._resizeHandlers.push(J);var E=document.createElement("div");d.add(E,"mwResizableHandle mwResizable-ne");e.place(E,g.domNode,"last");g._resizeHandlers.push(E);var H=document.createElement("div");d.add(H,"mwResizableHandle mwResizable-sw");
e.place(H,g.domNode,"last");g._resizeHandlers.push(H);var S=document.createElement("div");d.add(S,"mwResizableHandle mwResizable-nw");e.place(S,g.domNode,"last");g._resizeHandlers.push(S);g._resizeHandlers.forEach(function(d){g._resizeEventSignals.push(a(d,"mousedown",function(a){0===a.button&&(m(a),p=l.getBox(),k=c.position(g.domNode),d===G?(b=!0,n.x=a.pageX-(k.x+k.w),f("*")[0].style.cursor="ew-resize"):d===I?(r=!0,n.y=a.pageY-(k.y+k.h),f("*")[0].style.cursor="ns-resize"):d===M?(y=!0,n.x=a.pageX-
k.x,f("*")[0].style.cursor="ew-resize"):d===K?(B=!0,n.y=a.pageY-k.y,f("*")[0].style.cursor="ns-resize"):d===J?(C=!0,n.x=a.pageX-(k.x+k.w),n.y=a.pageY-(k.y+k.h),f("*")[0].style.cursor="nwse-resize"):d===E?(A=!0,n.x=a.pageX-(k.x+k.w),n.y=a.pageY-k.y,f("*")[0].style.cursor="nesw-resize"):d===H?(D=!0,n.x=a.pageX-k.x,n.y=a.pageY-(k.y+k.h),f("*")[0].style.cursor="nesw-resize"):d===S&&(F=!0,n.x=a.pageX-k.x,n.y=a.pageY-k.y,f("*")[0].style.cursor="nwse-resize"))}))});g._resizeEventSignals.push(a(document,
"mouseup",function(){F=D=A=C=B=y=r=b=!1;f("*")[0].style.cursor=""}));g._resizeEventSignals.push(a(document,"mousemove",function(a){b?s(g,k,a,n,p,h,"e"):r?s(g,k,a,n,p,h,null,"s"):y?s(g,k,a,n,p,h,"w"):B?s(g,k,a,n,p,h,null,"n"):C?s(g,k,a,n,p,h,"e","s"):A?s(g,k,a,n,p,h,"e","n"):D?s(g,k,a,n,p,h,"w","s"):F&&s(g,k,a,n,p,h,"w","n")}))})()},disable:function(a){a._resizeEventSignals.forEach(function(a){a.remove()});a._resizeEventSignals=[];a._resizeHandlers.forEach(function(a){e.destroy(a)});a._resizeHandlers=
[]}}})},"mw-dialogs/controller/Focus":function(){define("dojo/on dojo/dom dojo/dom-attr dojo/dom-class dojo/keys dojo/query dijit/a11y dijit/focus mw-log/Log ./stopEvent".split(" "),function(k,d,e,c,b,a,f,l,m,h){return{_activeClass:"active",_focusedClass:"focused",_defaultButtonClass:"mwDefaultButton",focus:function(a){var b=this,h=this;a._firstFocusItem=null;a._lastFocusItem=null;this._getFocusItems(a);a._focusHandle=l.watch("curNode",function(b,e,l){null===l?(a._defaultButton&&(c.remove(a._defaultButton,
h._defaultButtonClass),c.remove(a._defaultButton,h._activeClass)),e&&c.remove(e,h._activeClass),c.remove(a.domNode,h._focusedClass)):(b=h._isPopupDescendant(l,a._contentArea))&&f.isFocusable(l)?(a._latestFocusedItem=b,c.add(a.domNode,h._focusedClass)):a._contentArea&&d.isDescendant(l,a._contentArea)&&f.isFocusable(l)?(a._latestFocusedItem=l,a._defaultButton&&c.add(a._defaultButton,h._defaultButtonClass),c.add(a.domNode,h._focusedClass)):a._buttonBar&&d.isDescendant(l,a._buttonBar)&&f.isFocusable(l)?
(a._latestFocusedItem=l,a._defaultButton&&c.remove(a._defaultButton,h._defaultButtonClass),c.add(a.domNode,h._focusedClass)):a._firstFocusItem?c.remove(a.domNode,h._focusedClass):(a._latestFocusedItem=l,c.add(a.domNode,h._focusedClass))});this.focusItem(a);a.on("click",function(){b._getFocusItems(a);a._latestFocusedItem&&a._latestFocusedItem!==a.domNode&&"true"!==e.get(a._latestFocusedItem,"aria-disabled")?l.focus(a._latestFocusedItem):a._firstFocusItem?l.focus(a._firstFocusItem):l.focus(a.domNode)});
a._underlay&&a._trackEventListener(k(a._underlay,"click",function(){a._firstFocusItem?l.focus(a._latestFocusedItem):l.focus(a.domNode)}));a._keyDownReady=!1;a.on("keydown",function(b){h._onKeyDown(b,a)});a.on("keyup",function(b){h._onKeyUp(b,a)})},_getFocusItems:function(a){a._firstFocusItem=f.getFirstInTabbingOrder(a.domNode);a._lastFocusItem=f.getLastInTabbingOrder(a.domNode)||a._firstFocusItem},_isPopupDescendant:function(a,b){try{for(var d=null;a;){if(c.contains(a,"dijitPopup")){var f=e.get(a,
"dijitPopupParent");f&&(d=a=document.getElementById(f))}if(a===b)return d;a=a.parentNode}}catch(h){}return!1},focusItem:function(a){if(a.specifiedFocusItem){var b=d.byId(a.specifiedFocusItem);null===b?(m.log("specifiedFocusItem couldn't be found"),this._focusDefaultItem(a)):d.isDescendant(b,a.domNode)?f.isFocusable(b)?l.focus(b):(b=f.getFirstInTabbingOrder(b),void 0!==b?l.focus(b):(m.log("specifiedFocusItem is not focusable"),this._focusDefaultItem(a))):(m.log("specifiedFocusItem should be an id"),
this._focusDefaultItem(a))}else this._focusDefaultItem(a);a.bringToTop()},_focusDefaultItem:function(a){a._firstFocusItem?a._buttonBar&&a._defaultButton&&d.isDescendant(a._firstFocusItem,a._buttonBar)&&a._defaultButton!==a._firstFocusItem&&"true"!==e.get(a._defaultButton,"aria-disabled")?l.focus(a._defaultButton):l.focus(a._firstFocusItem):l.focus(a.domNode)},_onKeyDown:function(a,e){e._keyDownReady=!0;if(a.keyCode===b.TAB){this._getFocusItems(e);var m=a.target;e._firstFocusItem===e._lastFocusItem?
h(a):m===e._firstFocusItem&&a.shiftKey?(l.focus(e._lastFocusItem),h(a)):m===e._lastFocusItem&&!a.shiftKey&&(l.focus(e._firstFocusItem),h(a))}else a.keyCode===b.SPACE?e._buttonBar&&(d.isDescendant(l.curNode,e._buttonBar)&&f.isFocusable(l.curNode))&&(h(a),c.add(l.curNode,"active")):a.keyCode===b.ENTER&&(e._contentArea&&e._defaultButton&&d.isDescendant(l.curNode,e._contentArea)&&f.isFocusable(l.curNode)&&l.curNode.tagName&&"input"===l.curNode.tagName.toLowerCase()&&"text"===l.curNode.getAttribute("type").toLowerCase()?
(h(a),c.add(e._defaultButton,"active")):e._buttonBar&&(d.isDescendant(l.curNode,e._buttonBar)&&f.isFocusable(l.curNode))&&(h(a),c.add(l.curNode,"active")))},_onKeyUp:function(a,e){e._keyDownReady&&(a.keyCode===b.SPACE?e._buttonBar&&(d.isDescendant(l.curNode,e._buttonBar)&&f.isFocusable(l.curNode))&&(c.remove(l.curNode,"active"),h(a),l.curNode.click(a)):a.keyCode===b.ENTER&&(e._contentArea&&e._defaultButton&&d.isDescendant(l.curNode,e._contentArea)&&f.isFocusable(l.curNode)&&l.curNode.tagName&&"input"===
l.curNode.tagName.toLowerCase()&&"text"===l.curNode.getAttribute("type").toLowerCase()?(c.remove(e._defaultButton,"active"),h(a),e._defaultButton.click(a)):e._buttonBar&&(d.isDescendant(l.curNode,e._buttonBar)&&f.isFocusable(l.curNode))&&(c.remove(l.curNode,"active"),h(a),l.curNode.click(a))))}}})},"mw-dialogs/view/ButtonBar":function(){define("dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/on dojo/query mw-dialogs/ButtonEnum mw-log/Log".split(" "),function(k,d,e,c,b,a,f){function l(b,g,f){var e=
document.createElement("div");e.className="mwActionButtonBar";d.set(e,"data-test-id","dialog-action-button-bar");var l=[],m;for(m in s){l[m]=[];for(var p in g)g[p].type===s[m]&&l[m].push(g[p])}g=[];for(var k in l)0!==l[k].length&&g.push(l[k][0]);var l=void 0,n;for(n in g){l=document.createElement("span");l.className="mwButton";l.tabIndex="0";l.textContent=g[n].label;d.set(l,"data-button-type",g[n].type);d.set(l,"aria-disabled","false");g[n]["data-test-id"]&&d.set(l,"data-test-id",g[n]["data-test-id"]);
b._trackEventListener(c(l,"click",h(g[n].type+"ButtonClick",b)));if(f===g[n].type||f===g[n]||void 0===f&&f!==a.NO_DEFAULT_ACTION&&"0"===n)b._defaultButton=l;e.appendChild(l);b._buttonBar._buttonBarWidth+=r}return e}function m(a,b){var g=document.createElement("div");g.className="mwSplButtonBar";d.set(g,"data-test-id","dialog-supplemental-button-bar");var f=void 0,e;for(e in b)f=document.createElement("span"),f.className="mwButton",f.tabIndex="0",f.textContent=b[e].label,d.set(f,"data-button-type",
b[e].type),d.set(f,"aria-disabled","false"),b[e]["data-test-id"]&&d.set(f,"data-test-id",b[e]["data-test-id"]),a._trackEventListener(c(f,"click",h(b[e].type+"ButtonClick",a))),g.appendChild(f),a._buttonBar._buttonBarWidth+=r;return g}function h(a,b){var d=function(){b.close()};return function(){c.emit(b.domNode,a,{bubbles:!1,close:d})}}function g(a,b){return c(a.domNode,b+"ButtonClick",function(c){var d=!1;a._buttonEvents[b].forEach(function(a){"function"===typeof a.func&&a.func();d=d||a.dismiss});
a.domNode&&d&&c.close()})}function p(a){var b="";return b=a.hasOwnProperty("type")?a.type:a}var n=[a.TYPE.HELP,a.TYPE.SPL1,a.TYPE.SPL2],s=[a.TYPE.DO_IT,a.TYPE.DONT_DO_IT,a.TYPE.CANCEL,a.TYPE.APPLY,a.TYPE.REVERT],r=96;return{addButtonEventListener:function(a,b,c,d){try{var h=p(b);void 0===a._buttonEvents[h]&&(a._buttonEvents[h]=[]);a._buttonEvents[h].push({func:c,dismiss:d});a._buttonEventHandlers[h]&&a._buttonEventHandlers[h].remove();a._buttonEventHandlers[h]=g(a,h)}catch(e){f.log("Button or type of button is invalid.")}},
enableButton:function(a,c){var f=p(c);a._buttonEventHandlers[f]&&a._buttonEventHandlers[f].remove();a._buttonEventHandlers[f]=g(a,f);f=b("span[data-button-type\x3d"+f+"]",a._buttonBar)[0];e.remove(f,"mwDisabled");d.set(f,"tabIndex",0);d.set(f,"aria-disabled","false")},disableButton:function(a,c){var g=p(c);a._buttonEventHandlers[g]&&a._buttonEventHandlers[g].remove();g=b("span[data-button-type\x3d"+g+"]",a._buttonBar)[0];e.add(g,"mwDisabled");d.set(g,"tabIndex",-1);d.set(g,"aria-disabled","true")},
createButtonBar:function(a,b,c){var g=a._buttonBar=document.createElement("div");g.className="mwDialogButtonBar";d.set(g,"data-test-id","dialog-button-bar");a._buttonEvents={};a._buttonEventHandlers={};a._buttonBar._buttonBarWidth=10;var f=!1,h=!1,p=[],k=[];b.forEach(function(a){-1!==n.indexOf(a.type)?k.push(a):-1!==s.indexOf(a.type)&&p.push(a)});0<k.length?(h=!0,g.appendChild(m(a,k))):e.add(g,"mwNoSplBtn");0<p.length&&(f=!0,g.appendChild(l(a,p,c)));!0===f&&!0===h&&(a._buttonBar._buttonBarWidth+=
10);return g}}})},"mw-dialogs/ButtonEnum":function(){define(["dojo/i18n!./l10n/nls/dialog"],function(k){var d={HELP:"Help",SPL1:"Spl1",SPL2:"Spl2",DO_IT:"DoIt",DONT_DO_IT:"DontDoIt",CANCEL:"Cancel",APPLY:"Apply",REVERT:"Revert"};k={NO_DEFAULT_ACTION:"NoDefaultAction",TYPE:d,HELP:{type:d.HELP,label:k.help,"data-test-id":"HelpButton"},OK:{type:d.DO_IT,label:k.ok,"data-test-id":"OkButton"},YES:{type:d.DO_IT,label:k.yes,"data-test-id":"YesButton"},SUBMIT:{type:d.DO_IT,label:k.submit,"data-test-id":"SubmitButton"},
SAVE:{type:d.DO_IT,label:k.save,"data-test-id":"SaveButton"},FIND:{type:d.DO_IT,label:k.find,"data-test-id":"FindButton"},CREATE:{type:d.DO_IT,label:k.create,"data-test-id":"CreateButton"},DONT_SAVE:{type:d.DONT_DO_IT,label:k.dontSave,"data-test-id":"DontSaveButton"},NO:{type:d.DONT_DO_IT,label:k.no,"data-test-id":"NoButton"},CANCEL:{type:d.CANCEL,label:k.cancel,"data-test-id":"CancelButton"},CLOSE:{type:d.CANCEL,label:k.close,"data-test-id":"CloseButton"},APPLY:{type:d.APPLY,label:k.apply,"data-test-id":"ApplyButton"},
REVERT:{type:d.REVERT,label:k.revert,"data-test-id":"RevertButton"}};Object.freeze(k);Object.freeze(d);return k})},"mw-dialogs/view/ContentWidget":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["dojo/_base/lang","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","mw-dialogs/utils/mixinDijitLifecycleMethods"],
function(d,e,c,b,a){return function(){function f(b){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.widget=b.widget;this.contentArea=b.contentArea;a(this);this._addWidget(this.widget)}k(f,[{key:"_addWidget",value:function(a){if(d.isString(a)){var f=c.create("div");f.className="mwContentMessage";e.set(f,"textContent",a);e.set(f,"data-test-id","dialog-content-widget");b.set(f,"whiteSpace","pre-line");c.place(f,this.contentArea,"first");this.domNode=f}else d.isFunction(a.placeAt)?
(e.set(a.domNode,"data-test-id","dialog-content-widget"),a.placeAt(this.contentArea,"first"),this.domNode=a.domNode):(e.set(a,"data-test-id","dialog-content-widget"),c.place(a,this.contentArea,"first"),this.domNode=a)}}]);return f}()})},"mw-dialogs/utils/mixinDijitLifecycleMethods":function(){define(["dojo/_base/lang"],function(k){return function(d){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.widget,c=function(){};k.isFunction(e.startup)?d.startup=function(){e.startup()}:d.startup=
c;k.isFunction(e.destroyRecursive)?d.destroyRecursive=function(b){e.destroyRecursive(b)}:d.destroyRecursive=c;k.isFunction(e.destroy)?d.destroy=function(b){e.destroy(b)}:d.destroy=c}})},"mw-dialogs/utils/preventShortCutKeys":function(){define([],function(){function k(e){e.metaKey?d(e):0>navigator.platform.toUpperCase().indexOf("MAC")&&e.ctrlKey&&d(e)}function d(d){switch(d.keyCode){case 65:if(d.target.value)d.target.setSelectionRange(0,d.target.value.length);else{var c=d.target,b=void 0,a=void 0;
document.body.createTextRange?(b=document.body.createTextRange(),b.moveToElementText(c),b.select()):window.getSelection&&(a=window.getSelection(),b=document.createRange(),b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b))}d.preventDefault()}}return{prevent:function(d){var c=document.onkeydown;d.on("show",function(){document.body.style.cursor="default";document.onkeydown=k});d.on("close",function(){document.body.style.cursor="initial";document.onkeydown=c})}}})},"dojo/dnd/Target":function(){define(["../_base/declare",
"../dom-class","./Source"],function(k,d,e){return k("dojo.dnd.Target",e,{constructor:function(){this.isSource=!1;d.remove(this.node,"dojoDndSource")}})})},"variableeditor/ContextPublishingUtils":function(){define("variableeditor/ContextPublishingUtils",["dojo/_base/declare","dojo/topic"],function(k,d){return{addToContext:function(e,c,b){if(e){var a={};b?a.subContext=c:a.mainContext=c;d.publish(e,a)}},removeFromContext:function(e,c){if(e){var b={};c?b.subContext=[]:b.mainContext=[];d.publish(e,b)}}}})},
"variableeditor/_ArgumentsMixin":function(){define("variableeditor/_ArgumentsMixin",["dojo/_base/declare"],function(k){return k("variableeditor._ArgumentsMixin",[],{setArgument:function(d,e){void 0!==e&&null!==e&&void 0!==e[d]&&null!==e[d]&&(this[d]=e[d])},setArgumentWithDefault:function(d,e,c){void 0!==e&&null!==e&&(this[d]=void 0!==e[d]&&null!==e[d]?e[d]:c)}})})},"mw-browser-utils/BrowserUtils":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/dom-class"],function(k,d,e){var c=this,
b=null;return{supportsLocalStorage:function(){var a=c&&void 0!==typeof c.localStorage&&null!==c.localStorage;if(a)try{c.localStorage.setItem("motw.test.local.storage","0"),c.localStorage.removeItem("motw.test.local.storage")}catch(b){a=!1}return a},_hasNewIE:function(a){return a&&!d("ie")&&0<d("trident")?parseFloat(a.split("rv:")[1]):a&&0<a.indexOf("Edge")?"Edge "+parseFloat(a.split("Edge/")[1]):""},_getBrowserInfo:function(a){var b={BROWSER:"OTHER",BROWSER_VER:"OTHER"},c,e={IE:"Microsoft Internet Explorer",
FF:"Mozilla Firefox",Chrome:"Google Chrome",Safari:"Apple Safari"};if(a=this._hasNewIE(a))b.BROWSER=e.IE,b.BROWSER_VER=a.toString();else for(c in e)if(e.hasOwnProperty(c)&&d(c.toLowerCase())){a=d(c.toLowerCase());b.BROWSER=e[c];b.BROWSER_VER=a.toString();if("Chrome"===c||"Safari"===c)b.WEBKIT_VER=d("webkit").toString();break}return b},getSystemInfo:function(){var a={},b={};try{a.DEVICE="",a.LOCALE=c.navigator.language,a.OS=c.navigator.platform,a.PLATFORM=c.navigator.platform,a.SCREEN_RESOLUTION=c.screen.width+
"x"+c.screen.height,a.WINDOW_RESOLUTION=c.innerWidth+"x"+c.innerHeight,a.USER_AGENT=c.navigator.userAgent,b=this._getBrowserInfo(c.navigator.appVersion),a=k.mixin(a,b)}catch(d){}return a},setClassName:function(a,b){e.add(a,"mw_type_"+(b.type||"unknownType"));e.add(a,"mw_type_Component");if(b.name){var c="mw_name_"+(b.name.trim().replace(/[^a-zA-Z0-9]/g,"_")||"NO_NAME");e.contains(a,c)||(a.className=a.className.replace(/mw_name_[^ ]*/,""),e.add(a,c))}},isInFocus:function(a){return"unknown"!==typeof c.document.activeElement?
a===c.document.activeElement:!1},getScrollbarWidth:function(){if(null===b){var a=document.createElement("div");a.className="scrollbar-measure";a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="-9999px";document.body.appendChild(a);var c=a.offsetWidth-a.clientWidth;document.body.removeChild(a);b=c+2}return b}}})},"variableeditor/views/SummaryBar":function(){define("variableeditor/views/SummaryBar","dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/dom dojo/query dojo/dom-class variableeditor/constants/ClassTypeMaps variableeditor/constants/CssClassConstants variableeditor/VariableEditorUtils dojo/text!variableeditor/views/SummaryBar.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){return k("variableeditor.views.SummaryBar",[e,c],{name:"",size:"",type:"",link:"",secondaryType:"",status:"",statuslink:"",templateString:p,constructor:function(a,b,c,d,g,f,h){this.name=a||"";this.size=b||"";this.type=c||"";this.secondaryType=d||"";this.status=g||"";this.executionService=f||"";this.helpDataService=h||""},postCreate:function(){this.setName(this.name);this.setSize(this.size);this.setType(this.type);this.setSecondaryType(this.secondaryType);this.setStatus(this.status);
this.setStatusRef(this.status);this._handleDocLink()},initServices:function(a,b){this.executionService=a;this.helpDataService=b},_handleDocLink:function(){var a=this,c=function(b,c,d){"statuslink"===d&&a.helpDataService?(c=a.helpDataService.addMOQueryParameter(c),a.helpDataService.iframeContainer.showIframe({host:c,name:"MATLAB Online Help",maximizeUrl:a.helpDataService.getMaximizeUrl(c)})):a.executionService&&a.executionService.executionEval("doc "+c);b.preventDefault()};b(this.summaryBarLink,"click",
d.hitch(this,function(b){c(b,a.type,"status")}));b(this.summaryBarStatusLink,"click",d.hitch(this,function(b){c(b,a.statuslink,"statuslink")}))},updateIconClass:function(){var a=f(".summaryBarSize",this.domNode)[0],b=g.getClassNameForIconList(this.type),c=b;this.secondaryType&&(c=b+"_"+this.secondaryType);g.removeFromClassList(a,m.ClassArray);g.addToClassList(a,h.VE_RENDERERS);m.IconTypeMap.hasOwnProperty(c)?g.addToClassList(a,m.IconTypeMap[c]):m.IconTypeMap.hasOwnProperty(b)?g.addToClassList(a,m.IconTypeMap[b]):
g.addToClassList(a,m.IconTypeMap.UNKNOWN)},setName:function(a){this.name=a||""},setSize:function(a){this.size=a||"";"0"===a&&(this.size=this.name);f(".summaryBarSize",this.domNode)[0].textContent=this.size},setType:function(a){var b=null;if(a){var c=a,b=a,d=a.split(/[.]+/);d&&1<d.length?c=d.pop():(a=a.split(/[ ]+/))&&1<a.length&&(b=a.pop());this.type=b}else this.resetToDefault();f(".summaryBarRef",this.domNode)[0].textContent=c;this.updateIconClass()},resetToDefault:function(){this.link=this.type=
" "},setStatus:function(a){this.status=a||"";a=f(".summaryBarStatus",this.domNode)[0];!this.hasStatusHyperlink()&&this.status&&0<this.status.length?a.textContent="("+this.status+")":a.textContent=""},setStatusRef:function(a){this.status=a||"";a=f(".summaryBarStatusRef",this.domNode)[0];this.hasStatusHyperlink()&&this.status&&0<this.status.length?(this.statuslink=this.getStatusHyperlink(),a.textContent=" ("+this.status+")"):a.textContent=""},hasStatusHyperlink:function(){return this.type&&"tall"===
this.type},getStatusHyperlink:function(){var a;switch(this.type){case "tall":a="https://www.mathworks.com/help/matlab/import_export/deferred-evaluation-of-tall-arrays.html"}return a},setSecondaryType:function(a){this.secondaryType=a||"";a=this.domNode.getElementsByClassName("summaryBarSecondaryType");a=a[0];a.textContent=this.secondaryType}})})},"variableeditor/constants/ClassTypeMaps":function(){define(["variableeditor/constants/TypeConstants","variableeditor/constants/CssClassConstants"],function(k,
d){return{ClassTypeMap:function(){var e={};e[k.DOUBLE]=d.MATRIX;e[k.SINGLE]=d.MATRIX;e[k.UINT8]=d.MATRIX;e[k.UINT16]=d.MATRIX;e[k.UINT32]=d.MATRIX;e[k.UINT64]=d.MATRIX;e[k.INT8]=d.MATRIX;e[k.INT16]=d.MATRIX;e[k.INT32]=d.MATRIX;e[k.INT64]=d.MATRIX;e[k.COMPLEX]=d.MATRIX;e[k.CHAR]=d.CHAR;e[k.STRING]=d.STRING;e[k.CELL]=d.CELL;e[k.LOGICAL]=d.LOGICAL;e[k.STRUCT]=d.STRUCT;e[k.TIMESERIES]=d.TIMESERIES;e[k.TIMETABLE]=d.TIMETABLE;e[k.SPARSE]=d.SPARSE;e[k.DATETIME]=d.DATETIME;e[k.DURATION]=d.DURATION;e[k.CALENDAR_DURATION]=
d.CALENDAR_DURATION;e[k.OBJECT]=d.OBJECT;e[k.TALL]=d.TALL;e[k.TALL_DOUBLE]=d.TALL_MATRIX;e[k.TALL_UINT8]=d.TALL_MATRIX;e[k.TALL_UINT16]=d.TALL_MATRIX;e[k.TALL_UINT32]=d.TALL_MATRIX;e[k.TALL_UINT64]=d.TALL_MATRIX;e[k.TALL_INT8]=d.TALL_MATRIX;e[k.TALL_INT16]=d.TALL_MATRIX;e[k.TALL_INT32]=d.TALL_MATRIX;e[k.TALL_INT64]=d.TALL_MATRIX;e[k.TALL_SINGLE]=d.TALL_MATRIX;e[k.TALL_CELL]=d.TALL_CELL;e[k.TALL_LOGICAL]=d.TALL_LOGICAL;e[k.TALL_OBJECT]=d.TALL_OBJECT;e[k.TALL_SPARSE]=d.TALL_SPARSE;e[k.TALL_CHAR]=d.TALL_CHAR;
e[k.TALL_STRUCT]=d.TALL_STRUCT;e[k.TALL_TIMETABLE]=d.TALL_TIMETABLE;e[k.TALL_MATLAB_TABLE]=d.TALL_MATLAB_TABLE;e[k.TALL_CATEGORICAL]=d.TALL_CATEGORICAL;e[k.TALL_ORDINAL]=d.TALL_CATEGORICAL;e[k.TALL_NOMINAL]=d.TALL_CATEGORICAL;e[k.TALL_DATETIME]=d.TALL_DATETIME;e[k.TALL_DURATION]=d.TALL_DURATION;e[k.TALL_CALENDAR_DURATION]=d.TALL_CALENDAR_DURATION;e[k.TALL_STRING]=d.TALL_STRING;e[k.MIXED]=d.MIXED;e[k.UNKNOWN]=d.OBJECT;e[k.DEFAULT]=d.OBJECT;e[k.NOVARDISPLAY]=d.NOVARDISPLAY;return e}(),IconTypeMap:function(){var e=
{};e[k.DOUBLE]=d.MATRIX_ICON;e[k.SINGLE]=d.MATRIX_ICON;e[k.UINT8]=d.MATRIX_ICON;e[k.UINT16]=d.MATRIX_ICON;e[k.UINT32]=d.MATRIX_ICON;e[k.UINT64]=d.MATRIX_ICON;e[k.INT8]=d.MATRIX_ICON;e[k.INT16]=d.MATRIX_ICON;e[k.INT32]=d.MATRIX_ICON;e[k.INT64]=d.MATRIX_ICON;e[k.COMPLEX]=d.MATRIX_ICON;e[k.CHAR]=d.CHAR_ICON;e[k.STRING]=d.STRING_ICON;e[k.CELL]=d.CELL_ICON;e[k.LOGICAL]=d.LOGICAL_ICON;e[k.STRUCT]=d.STRUCT_ICON;e[k.TIMESERIES]=d.TIMESERIES_ICON;e[k.TIMETABLE]=d.TIMETABLE_ICON;e[k.SPARSE]=d.SPARSE_ICON;e[k.OBJECT]=
d.OBJECT_ICON;e[k.MATLAB_TABLE]=d.TABLE_ICON;e[k.DATASET]=d.TABLE_ICON;e[k.CATEGORICAL]=d.CATEGORICAL_ICON;e[k.ORDINAL]=d.CATEGORICAL_ICON;e[k.NOMINAL]=d.CATEGORICAL_ICON;e[k.DATETIME]=d.DATETIME_ICON;e[k.DURATION]=d.DURATION_ICON;e[k.CALENDAR_DURATION]=d.CALENDAR_DURATION_ICON;e[k.TALL]=d.TALL_ICON;e[k.TALL_DOUBLE]=d.TALL_MATRIX_ICON;e[k.TALL_UINT8]=d.TALL_MATRIX_ICON;e[k.TALL_UINT16]=d.TALL_MATRIX_ICON;e[k.TALL_UINT32]=d.TALL_MATRIX_ICON;e[k.TALL_UINT64]=d.TALL_MATRIX_ICON;e[k.TALL_INT8]=d.TALL_MATRIX_ICON;
e[k.TALL_INT16]=d.TALL_MATRIX_ICON;e[k.TALL_INT32]=d.TALL_MATRIX_ICON;e[k.TALL_INT64]=d.TALL_MATRIX_ICON;e[k.TALL_SINGLE]=d.TALL_MATRIX_ICON;e[k.TALL_CELL]=d.TALL_CELL_ICON;e[k.TALL_LOGICAL]=d.TALL_LOGICAL_ICON;e[k.TALL_OBJECT]=d.TALL_OBJECT_ICON;e[k.TALL_SPARSE]=d.TALL_SPARSE_ICON;e[k.TALL_CHAR]=d.TALL_CHAR_ICON;e[k.TALL_STRUCT]=d.TALL_STRUCT_ICON;e[k.TALL_TIMETABLE]=d.TALL_TIMETABLE_ICON;e[k.TALL_MATLAB_TABLE]=d.TALL_MATLAB_TABLE_ICON;e[k.TALL_CATEGORICAL]=d.TALL_CATEGORICAL_ICON;e[k.TALL_DATETIME]=
d.TALL_DATETIME_ICON;e[k.TALL_DURATION]=d.TALL_DURATION_ICON;e[k.TALL_CALENDAR_DURATION]=d.TALL_CALENDAR_DURATION_ICON;e[k.TALL_STRING]=d.TALL_STRING_ICON;e[k.TALL_ORDINAL]=d.TALL_CATEGORICAL_ICON;e[k.TALL_NOMINAL]=d.TALL_CATEGORICAL_ICON;e[k.MIXED]=d.MIXED_ICON;e[k.UNKNOWN]=d.OBJECT_ICON;e[k.DEFAULT]=d.OBJECT_ICON;e[k.NOVARDISPLAY]=d.NOVARDISPLAY_ICON;return e}(),ClassArray:function(){var e=[],c;for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);return e}()}})},"variableeditor/constants/TypeConstants":function(){define([],
function(){return{CHAR:"char",STRING:"string",DOUBLE:"double",CELL:"cell",LOGICAL:"logical",STRUCT:"struct",TIMESERIES:"timeseries",TIMETABLE:"timetable",SPARSE:"sparse",COMPLEX:"complex",MATLAB_TABLE:"table",DATASET:"dataset",CATEGORICAL:"categorical",ORDINAL:"ordinal",NOMINAL:"nominal",DATETIME:"datetime",DURATION:"duration",CALENDAR_DURATION:"calendarDuration",UINT8:"uint8",UINT16:"uint16",UINT32:"uint32",UINT64:"uint64",INT8:"int8",INT16:"int16",INT32:"int32",INT64:"int64",SINGLE:"single",OBJECT:"object",
TALL:"tall",TALL_DOUBLE:"tall_double",TALL_CELL:"tall_cell",TALL_LOGICAL:"tall_logical",TALL_OBJECT:"tall_object",TALL_SPARSE:"tall_sparse",TALL_CHAR:"tall_char",TALL_STRUCT:"tall_struct",TALL_TIMETABLE:"tall_timetable",TALL_MATLAB_TABLE:"tall_table",TALL_CATEGORICAL:"tall_categorical",TALL_DATETIME:"tall_datetime",TALL_DURATION:"tall_duration",TALL_CALENDAR_DURATION:"tall_calendarDuration",TALL_STRING:"tall_string",TALL_UINT8:"tall_uint8",TALL_UINT16:"tall_uint16",TALL_UINT32:"tall_uint32",TALL_UINT64:"tall_uint64",
TALL_INT8:"tall_int8",TALL_INT16:"tall_int16",TALL_INT32:"tall_int32",TALL_INT64:"tall_int64",TALL_SINGLE:"tall_single",TALL_ORDINAL:"tall_ordinal",TALL_NOMINAL:"tall_nominal",UNKNOWN:"UNKNOWN",DEFAULT:"default",MIXED:"mixed",NOVARDISPLAY:"novardisplay"}})},"variableeditor/constants/CssClassConstants":function(){define([],function(){return{MGG_CELL:"cell",VE_RENDERERS:"variableEditorRenderers",IS_METADATA:"variableEditorIsMetaData",NOT_EDITABLE:"variableEditorNotEditable",TEMPORARY:"variableEditorTemporary",
MATRIX:"variableEditorMatrix",CHAR:"variableEditorChar",STRING:"variableEditorString",CELL:"variableEditorCell",LOGICAL:"variableEditorLogic",STRUCT:"variableEditorStruct",TIMESERIES:"variableEditorTimeseries",TIMETABLE:"variableEditorTimetable",SPARSE:"variableEditorSparse",DATETIME:"variableEditorDatetime",DURATION:"variableEditorDuration",CALENDAR_DURATION:"variableEditorCalendarDuration",OBJECT:"variableEditorObject",MIXED:"variableEditorMixed",TALL:"variableEditorTall",TALL_MATRIX:"variableEditorTallMatrix",
TALL_CELL:"variableEditorTallCell",TALL_LOGICAL:"variableEditorTallLogical",TALL_OBJECT:"variableEditorTallObject",TALL_SPARSE:"variableEditorTallSparse",TALL_CHAR:"variableEditorTallChar",TALL_STRUCT:"variableEditorTallStruct",TALL_TIMETABLE:"variableEditorTallTimetable",TALL_MATLAB_TABLE:"variableEditorTallMatlabTable",TALL_CATEGORICAL:"variableEditorTallCategorical",TALL_DATETIME:"variableEditorTallDatetime",TALL_DURATION:"variableEditorTallDuration",TALL_CALENDAR_DURATION:"variableEditorTallCalendarDuration",
TALL_STRING:"variableEditorTallString",MATRIX_ICON:"iconVariableEditorMatrix",CHAR_ICON:"iconVariableEditorChar",STRING_ICON:"iconVariableEditorString",CELL_ICON:"iconVariableEditorCell",LOGICAL_ICON:"iconVariableEditorLogic",STRUCT_ICON:"iconVariableEditorStruct",TIMESERIES_ICON:"iconVariableEditorTimeseries",TIMETABLE_ICON:"iconVariableEditorTimetable",SPARSE_ICON:"iconVariableEditorSparse",OBJECT_ICON:"iconVariableEditorObject",TABLE_ICON:"iconVariableEditorMatlabTable",CATEGORICAL_ICON:"iconVariableEditorCategorical",
DATETIME_ICON:"iconVariableEditorDatetime",DURATION_ICON:"iconVariableEditorDuration",CALENDAR_DURATION_ICON:"iconVariableEditorCalendarDuration",MIXED_ICON:"iconVariableEditorMixed",TALL_ICON:"iconVariableEditorTall",TALL_MATRIX_ICON:"iconVariableEditorTallMatrix",TALL_CELL_ICON:"iconVariableEditorTallCell",TALL_LOGICAL_ICON:"iconVariableEditorTallLogical",TALL_OBJECT_ICON:"iconVariableEditorTallObject",TALL_SPARSE_ICON:"iconVariableEditorTallSparse",TALL_CHAR_ICON:"iconVariableEditorTallChar",TALL_STRUCT_ICON:"iconVariableEditorTallStruct",
TALL_TIMETABLE_ICON:"iconVariableEditorTallTimetable",TALL_MATLAB_TABLE_ICON:"iconVariableEditorTallMatlabTable",TALL_CATEGORICAL_ICON:"iconVariableEditorTallCategorical",TALL_DATETIME_ICON:"iconVariableEditorTallDatetime",TALL_DURATION_ICON:"iconVariableEditorTallDuration",TALL_CALENDAR_DURATION_ICON:"iconVariableEditorTallCalendarDuration",TALL_STRING_ICON:"iconVariableEditorTallString",NOVARDISPLAY_ICON:"iconVariableEditorNoVarDisplay"}})},"datatoolsservices/CmdLineCodePublishService":function(){define("datatoolsservices/CmdLineCodePublishService",
["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-messageservice/MessageService","dojo/domReady!"],function(k,d,e,c){return k("datatoolsservices.CmdLineCodePublishService",[],{executionService:[],context:"",enabled:!1,codeObj:[],constructor:function(b){this.executionService=b.executionService;this.context=b.context;b.enabled&&(this.enabled=b.enabled);c.subscribe("/DataToolsCodePubChannel/"+this.context,"_publishCode",this)},unregister:function(){c.unsubscribe("/DataToolsCodePubChannel/"+this.context,
"_publishCode",this)},_publishCode:function(b){if(b&&b.data){this.codeObj=b=JSON.parse(b.data);if(this.executionService._setExecutionState)var a=e.after(this.executionService,"_setExecutionState",d.hitch(this,function(b,c){if(b&&"ready"===b){a.remove();var d=this.executionService.historyStore.items.length;this.executionService.historyStore.items[d-1].isError&&(d=this.executionService.historyStore.items[d-1].value.trim().split("\n"),d=this.codeObj.errorFcn.replace("%1$s",d[d.length-1]),this.executionService.executionEval(d))}}),
!0);if(b.code)if(Array.isArray(b.code))for(var c=0;c<b.code.length;c+=1)this._executeCode(b.code[c]);else this._executeCode(b.code)}},_executeCode:function(b){this.enabled?this.executionService.authoringEval(b):this.executionService.executionEval(b)},setEnabled:function(b){this.enabled=b}})})},"variableeditor/ContextUpdateManager":function(){define("variableeditor/ContextUpdateManager",["dojo/_base/declare","dojo/_base/lang","dojo/topic","MW/uiframework/contextmanager/ContextManagerFactory","MW/uiframework/UIBuilderFactory"],
function(k,d,e,c,b){return k("variableeditor.ContextUpdateManager",[],{constructor:function(a){this.defaultContextId=a.defaultContextId||"";this.contextChannel=a.contextUpdateChannel||"";this.managerChannel=a.managerChannel||"";this.contextManager=null;this.currentContext=[];this.init()},init:function(){try{this.contextManager=c.getInstance()}catch(a){}null===this.contextManager&&"/WorkspaceBrowser"===this.managerChannel&&(b.getInstance({actionService:null}).create({tag:"motwToolstrip",type:"Toolstrip"}),
this.contextManager=c.getInstance({parentAppId:"motw",toolstripTag:"motwToolstrip",toolstripId:"toolstripId",uiContainer:null,qabContextualControlsActionMap:{}}));this._setUpContextWatch();var d=this;this.contextManager&&e.subscribe(this.contextChannel,function(a){a.subContext&&d._updateSubContext(a)})},_setUpContextWatch:function(){if(this.contextManager){var a=this,b=this.defaultContextId;this.contextManager.watch("currentContext",function(c,d,h){var g=h.appId;"currentContext"===c&&(g&&g===b&&d!==
h)&&a.setCurrentContext(a.currentContext.slice())})}},setCurrentContext:function(a){var b=this.managerChannel;a&&(this.contextManager&&this.contextManager.set)&&this.contextManager.set("currentContext",{appId:b,contextIdList:a})},_updateSubContext:function(a){0<a.subContext.length?(this.currentContext=a.subContext,this.setCurrentContext(a.subContext)):this.setCurrentContext(this.currentContext)}})})},"variableeditor/views/ViewManifest":function(){define("variableeditor/views/ViewManifest","dojo/_base/declare variableeditor/views/UnknownView variableeditor/views/NumericArrayView variableeditor/views/CharArrayView variableeditor/views/StringArrayView variableeditor/views/StructureArrayView variableeditor/views/CategoricalView variableeditor/views/TableArrayView variableeditor/views/CellArrayView variableeditor/views/VectorStructureArrayView variableeditor/views/DatetimeArrayView variableeditor/views/DurationArrayView variableeditor/views/CalendarDurationArrayView variableeditor/views/UITableArrayView variableeditor/views/UITableTableView variableeditor/views/editors/TextBoxEditor variableeditor/views/editors/ArrayOfValuesTextBoxEditor variableeditor/views/editors/ArrayOfStringsTextBoxEditor variableeditor/views/editors/LogicalEditor variableeditor/views/editors/NumericEditor variableeditor/views/editors/NumericTextEditor variableeditor/views/editors/UITableEditor variableeditor/views/editors/UITableStringEditor variableeditor/views/editors/UITableLogicalEditor variableeditor/views/editors/UITableMWComboBox variableeditor/views/editors/UITableNonEditableComboboxEditor variableeditor/views/editors/ComboBoxEditor variableeditor/views/editors/FontNameEditor variableeditor/views/editors/StringEditor variableeditor/views/editors/CharEditor variableeditor/views/editors/CheckBoxEditor variableeditor/views/editors/TextAreaEditor variableeditor/views/editors/BinaryToggleButtonEditor variableeditor/views/editors/ToggleButtonGroupEditor variableeditor/views/editors/ScaleColorsTextBoxEditor variableeditor/views/editors/PopupVariableEditor variableeditor/views/editors/ColorEditor variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/editors/ColormapEditor variableeditor/views/editors/RGBColorEditor variableeditor/views/renderers/ColorOrderRenderer variableeditor/views/editors/ColorOrderEditor variableeditor/views/editors/DatetimeEditor variableeditor/views/editors/DisplayFormatTextBoxEditor variableeditor/views/editors/FilePickerEditor variableeditor/views/editors/IconTextBoxEditor variableeditor/views/editors/OpenvarEditor variableeditor/views/editors/_VEEditorConverterMixin variableeditor/views/renderers/_VERendererMixin variableeditor/views/renderers/_VERendererStyleMixin variableeditor/views/renderers/GroupedColumnRenderer variableeditor/views/renderers/VERendererFactory".split(" "),
function(k){return k("variableeditor.views.ViewManifest",[],{constructor:function(d){}})})},"variableeditor/views/UnknownView":function(){define("variableeditor/views/UnknownView",["dojo/_base/declare","dojo/dom-geometry","dojo/dom-class","mw-form/TextArea","variableeditor/views/ClientPeerView"],function(k,d,e,c,b){return k("variableeditor.views.UnknownView",[b],{textArea:null,init:function(a){this.inherited(arguments);if(a&&a.container){var b=new c({name:"UnsupportedTextArea_"+this.varName,value:"",
width:"auto",height:"auto",readOnly:!0,editable:!1});e.add(b.domNode,"UnknownViewerTextArea");b.startup();this.textArea=b;this.peerNode.addPeerEventListener("setData",function(a){a.data.data&&a.data.data!==b.value&&b.set("value",a.data.data)});e.add(a.container.domNode,"unsupportedView");this.peerNode.dispatchEvent("peerEvent",this.peerNode,{type:"getData"});a.container.addChild(this.textArea)}}})})},"variableeditor/views/ClientPeerView":function(){define("variableeditor/views/ClientPeerView",["dojo/_base/declare",
"dojo/Deferred","variableeditor/VariableEditorUtils","mw-peermodel/Observable","mw-log/Log"],function(k,d,e,c,b){return k("variableeditor.views.ClientPeerView",[c.Impl],{allArgs:{},peerNode:null,varName:null,editable:!0,cssSpecifier:"",userContext:{},viewListeners:[],constructor:function(a){this.init(a)},init:function(a){this.allArgs={};this.peerNode=null;this.userContext={};this.viewListeners=[];a&&(this.peerNode=a.peerNode,this.varName=a.varName,this.editable=a.editable,this.cssSpecifier=a.cssSpecifier,
this.userContext=a.userContext||{},this.allArgs=a)},destroy:function(){e.logDebug("VE: ClientPeerView : destroy");this.peerNode=null},addViewListener:function(a){this.viewListeners.push(a)},removeViewListener:function(a){a=this.viewListeners.indexof(a);0<=a&&this.viewListeners.splice(a,1)},_fireViewReady:function(a){this.viewListeners.forEach(function(c){if(c.viewReady)try{c.viewReady(a)}catch(d){b.error(d),b.error(d.stack)}})},getProperty:function(a,b){var c=new d(function(){});c.reject("Getting property "+
a+"  not supported.");return c},setProperty:function(a,b,c){b=new d(function(){});b.reject("Setting property "+a+" is not supported.");return b}})})},"variableeditor/views/NumericArrayView":function(){define("variableeditor/views/NumericArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.NumericArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new e(c)}})})},
"variableeditor/views/ClientArrayView":function(){define("variableeditor/views/ClientArrayView","dojo/_base/declare dojo/Deferred dojo/dom-geometry dojo/dom-class dijit/registry mw-log/Log variableeditor/VariableEditorUtils variableeditor/views/ClientPeerView".split(" "),function(k,d,e,c,b,a,f,l){return k("variableeditor.views.ClientArrayView",[l],{table:null,constructor:function(a){this.table={}},init:function(a){this.inherited(arguments);var b=this;if(a&&a.container){b.allArgs=a;b.peerNode.addEventListener("childAdded",
function(c){b._addGrid(a,c.data.child);b._initializeExistingModelProperties()});if(b.peerNode.getChildren&&0<b.peerNode.getChildren().length){var c=b.peerNode.getChildren()[0];b._addGrid(a,c)}this._initializeModelProperties()}},_refreshTable:function(){this.table&&this.table.updateModelProperties&&this.table.updateModelProperties(!0)},_updateModelProperties:function(a,b,c){void 0===c&&(c=!0);this[a]=JSON.parse(b);f.logDebug("Setting "+a+":");f.logDebug(this[a]);if(this.table&&(this.table[a]=this[a],
c)){var d=this;this._propertyTimer&&clearTimeout(this._propertyTimer);this._propertyTimer=setTimeout(function(){d._refreshTable()},50)}this.dispatchEvent("modelPropertiesSet",this,{type:a})},_initializeExistingModelProperties:function(){this.peerNode&&this.peerNode.hasProperty&&(this.peerNode.hasProperty("CellModelProperties")&&this._updateModelProperties("CellModelProperties",this.peerNode.getProperty("CellModelProperties"),!1),this.peerNode.hasProperty("TableModelProperties")&&this._updateModelProperties("TableModelProperties",
this.peerNode.getProperty("TableModelProperties"),!1),this.peerNode.hasProperty("RowModelProperties")&&this._updateModelProperties("RowModelProperties",this.peerNode.getProperty("RowModelProperties"),!1),this.peerNode.hasProperty("ColumnModelProperties")&&this._updateModelProperties("ColumnModelProperties",this.peerNode.getProperty("ColumnModelProperties"),!1));this._refreshTable()},_initializeModelProperties:function(){this._initializeExistingModelProperties();var b=this;b.peerNode.addEventListener("propertySet",
function(c){try{c&&c.data&&"CellModelProperties"===c.data.key?b._updateModelProperties("CellModelProperties",c.data.newValue,!0):c&&c.data&&"TableModelProperties"===c.data.key?b._updateModelProperties("TableModelProperties",c.data.newValue,!0):c&&c.data&&"RowModelProperties"===c.data.key?b._updateModelProperties("RowModelProperties",c.data.newValue,!0):c&&(c.data&&"ColumnModelProperties"===c.data.key)&&b._updateModelProperties("ColumnModelProperties",c.data.newValue,!0)}catch(d){a.error(d)}})},getTable:function(){return this.table},
_mapClientSideProperties:function(a,b){var c={backgroundcolor:"backgroundColor",color:"color",fontfamily:"fontFamily",fontsize:"fontSize",fontstyle:"fontStyle",fontweight:"fontWeight",style:"style",renderer:"renderer",editor:"editor",inplaceeditor:"inPlaceEditor"};return"HeaderName"===a&&b&&b.row&&-1!==b.row?"RowName":"HeaderNumber"===a&&b&&b.row&&-1!==b.row?"RowNumber":c.hasOwnProperty(a.toLowerCase())?c[a.toLowerCase()]:a},_getPropertiesFunction:function(a,b,c,d){var f=b?void 0!==b.row?b.row:-1:
-1,e=b?void 0!==b.column?b.column:-1:-1;b=!0;var l;-1!==f&&-1!==e?(b="CellModelProperties",l="set"===a?"setCellModelProperty":"getCellPropertyValue",c=[f,e,c]):-1!==e?(b="ColumnModelProperties",l="set"===a?"setColumnModelProperty":"getColumnModelProperty",c=[e,c]):-1!==f?(b="RowModelProperties",l="set"===a?"setRowModelProperty":"getRowModelProperty",c=[f,c]):(b="TableModelProperties",l="set"===a?"setTableModelProperty":"getTableModelProperty",c=[c]);"set"===a&&c.push(d);return{propertiesSet:b,valueFunction:l,
valueFunctionArgs:c}},getProperty:function(a,b){var c=new d(function(){});a=this._mapClientSideProperties(a,b);var f=this._getPropertiesFunction("get",b,a),e=f.propertiesSet,l=f.valueFunction,k=f.valueFunctionArgs;if(this.table&&this.table[e])f=this.table[l].apply(this.table,k),c.resolve(f);else{var q=this,t=function(a){try{if(a&&a.data&&a.data.type===e){q.removeEventListener("modelPropertiesSet",t,this);var b=q.table[l].apply(q.table,k);c.resolve(b)}}catch(d){c.reject(d.message)}};q.addEventListener("modelPropertiesSet",
t)}return c},setProperty:function(a,b,c){var f=new d(function(){});a=this._mapClientSideProperties(a,c);a=this._getPropertiesFunction("set",c,a,b);var e=a.propertiesSet,l=a.valueFunction,k=a.valueFunctionArgs;if(this.table&&this.table[e])this[l].apply(this,k),this.table.updateModelProperties&&this.table.updateModelProperties(!0),f.resolve(b);else{var q=this,t=function(a){try{a&&(a.data&&a.data.type===e)&&(q.removeEventListener("modelPropertiesSet",t,this),q[l].apply(q,k),q.table.updateModelProperties(!0),
f.resolve(b))}catch(c){f.reject(c.message)}};q.addEventListener("modelPropertiesSet",t)}return f},_addGrid:function(d,h){try{var g=d.position;if(d&&(d.container&&d.container.domNode)&&!d.position)var l=e.position(d.container.domNode),g={height:l.h,width:l.w};h&&h.setProperty&&h.setProperty("editable",d.editable);try{this.peerNode.getProperty("CellModelProperties")&&this.table&&(this.CellModelProperties=JSON.parse(this.peerNode.getProperty("CellModelProperties"))),this.peerNode.getProperty("TableModelProperties")&&
this.table&&(this.TableModelProperties=JSON.parse(this.peerNode.getProperty("TableModelProperties"))),this.peerNode.getProperty("RowModelProperties")&&this.table&&(this.RowModelProperties=JSON.parse(this.peerNode.getProperty("RowModelProperties"))),this.peerNode.getProperty("ColumnModelProperties")&&this.table&&(this.ColumnModelProperties=JSON.parse(this.peerNode.getProperty("ColumnModelProperties")))}catch(k){a.error(k)}this.allArgs=f.mergeObjects(this.allArgs,{peerViewModel:this,peerNode:h,position:g,
CellModelProperties:this.CellModelProperties,TableModelProperties:this.TableModelProperties,RowModelProperties:this.RowModelProperties,ColumnModelProperties:this.ColumnModelProperties});if(h&&h.getId){var s=b.byId("mgg_"+h.getId());s&&(a.warning("Found existing widget for table, trying to delete."),s.destroyRecursive?(a.warning("Calling destroyRecursive"),s.destroyRecursive()):a.error("Can't find destroyRecursive method of widget."))}this.table=this.createTable(this.allArgs);this.table.startup();
this.table&&(this.table.cssSpecifier&&this.table.domNode)&&c.add(this.table.domNode,this.table.cssSpecifier);d.container&&this.table&&d.container.addChild(this.table);var r=this;h&&h.addEventListener&&h.addEventListener("propertySet",function(a){a&&(a.data&&"dataModel"===a.data.key)&&r.dispatchEvent("viewReady",r.table.domNode,{peerView:r})},h);h&&h.hasProperty&&h.hasProperty("dataModel")&&h.getProperty("dataModel")&&!(0===h.getProperty("dataModel")._partialData.length&&0!==h.getProperty("dataModel")._rowCount)&&
r.dispatchEvent("viewReady",r.table.domNode,{peerView:r});h&&(h.getProperty&&h.getProperty("rowHeaderWidth"))&&(this.table.rowHeaderWidth=h.getProperty("rowHeaderWidth"));d.container&&d.container.resize&&d.container.resize()}catch(q){a.error(q),a.error(q.stack)}},_dispatchPropertySetEvent:function(a,b){this.dispatchEvent("propertySet",this,b)},setCellModelProperty:function(a,b,c,d){var f=this.table.CellModelProperties;if(!f||0===f.length){var f=[],e,l;for(e=this.table.dataModel.getCurrentStartRow();e<
this.table.dataModel.getCurrentEndRow();e+=1){f[e]=[];for(l=this.table.dataModel.getCurrentStartCol();l<this.table.dataModel.getCurrentEndCol();l+=1)f[e][l]={}}}f[a][b][c]=d;this.table.CellModelProperties=f;this.peerNode.setProperty("CellModelProperty",{row:a,column:b,property:c,value:d});this._dispatchPropertySetEvent(c,{row:a,column:b,propertyName:c,value:d})},setTableModelProperty:function(a,b){var c=Array({});this.table.TableModelProperties&&(c=this.table.TableModelProperties);c[a]=b;this.table.TableModelProperties=
c;this.peerNode.setProperty("TableModelProperty",{property:a,value:b});this._dispatchPropertySetEvent(a,{propertyName:a,value:b})},setColumnModelProperty:function(a,b,c){var d=this.table.ColumnModelProperties;if(!d||0===d.length){var d=[],f;for(f=this.table.dataModel.getCurrentStartCol();f<this.table.dataModel.getCurrentEndCol();f+=1)d[f]={}}d.hasOwnProperty(a)&&(d[a][b]=c,this.table.ColumnModelProperties=d,this.peerNode.setProperty("ColumnModelProperty",{column:a,property:b,value:c}),this._dispatchPropertySetEvent(b,
{column:a,propertyName:b,value:c}))},setRowModelProperty:function(a,b,c){var d=this.table.RowModelProperties;if(!d||0===d.length){var d=[],f;for(f=this.table.dataModel.getCurrentStartRow();f<this.table.dataModel.getCurrentEndRow();f+=1)d[f]={}}d.hasOwnProperty(a)&&(d[a][b]=c,this.table.RowModelProperties=d,this.peerNode.setProperty("RowModelProperty",{row:a,property:b,value:c}),this._dispatchPropertySetEvent(b,{row:a,propertyName:b,value:c}))},destroy:function(){f.logDebug("VE: ClientArrayView destroy");
this.table&&this.table.destroyRecursive&&(f.logDebug("VE: ClientArrayView destroyRecursive"),this.table.destroyRecursive());this.inherited(arguments)}})})},"variableeditor/views/table/ArrayTable":function(){define("variableeditor/views/table/ArrayTable","dojo/_base/declare variableeditor/views/table/VariableEditorTable dojo/_base/lang dojo/on dojo/dom dojo/dom-style dojo/dom-geometry variableeditor/views/renderers/VERendererFactory variableeditor/VariableEditorUtils variableeditor/ContextPublishingUtils mw-log/Log dojo/topic dojo/dom-class dojo/query dijit/registry dojo/keys variableeditor/views/table/BlockSelection dojo/i18n!variableeditor/app/l10n/nls/app dojo/string dojo/has dojo/sniff dijit/focus mw-messageservice/MessageService".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y){var B=k("variableeditor.views.table.ArrayTable",[d],{mouseMotionHandler:null,mouseUpHandler:null,mouseDownColumnHandler:null,mouseDownRowHandler:null,mouseDownHandler:null,anchorRow:-1,anchorColumn:-1,mouseColumnHeaderMotionHandler:null,mouseRowHeaderMotionHandler:null,isCellEnterListenerPaused:!0,lastSelectedHeaderCol:-1,lastSelectedHeaderRow:-1,mouseUpColumnHeaderHandler:null,mouseUpRowHeaderHandler:null,editable:!0,tableRowOffset:2,tableColumnOffset:2,
sendSelectionRanges:!0,paddingPagedRows:40,tolerancePagedRows:20,paddingPagedColumns:15,tolerancePagedCols:7,blockSelection:new t,columnHeaderMouseDown:!1,rowHeaderMouseDown:!1,maxHeight:-1,selectable:!0,TableModelProperties:{},RowModelProperties:{},ColumnModelProperties:{},showSelectionBorder:!0,selectionUpdated:!1,cellsDragged:!1,resizeBehaviour:"default",peerViewModel:{},_selectingColumn:void 0,_selectingRow:void 0,lineSpacing:1.5,minRowHeight:18,rightClickKeyCode:3,TABLE_DEFAULT_FONT:"12px Helvetica, Helvetica, sans-serif",
COLUMN_HEADER_ATTACH_POINT:"variableEditorColumnHeaders",constructor:function(a){this.pagedDataUpdateDelay=0;a.position&&(this.position=a.position);this.editable=void 0===a.editable||null===a.editable?!0:a.editable;!1===a.selectable&&(this.selectable=!1);a.peerViewModel&&(this.peerViewModel=a.peerViewModel);void 0!==a.sendSelectionRanges&&(this.sendSelectionRanges=a.sendSelectionRanges);this.blockSelection.setIndexedRows(!this.sendSelectionRanges);this.RendererName="variableeditorrenderer_"+B._RenderCounter;
B._RenderCounter+=1;this.VariableEditorRenderer=new l(this);this.cellTypes[this.RendererName]=this.VariableEditorRenderer;a.resizeBehaviour&&(this.resizeBehaviour=a.resizeBehaviour);a.contextId&&(this.contextId=a.contextId)},postCreate:function(){this.inherited(arguments);var a=this;c(this.dataScrollerNode,"mouseup",e.hitch(this,"_onMouseDragUp"));this.mouseDownHandler=c.pausable(this.dataScrollerNode,"mousedown",e.hitch(this,"_onMouseDown"));this.mouseDownColumnHandler=c.pausable(this.columnHeaderNode,
"mousedown",e.hitch(this,"_onHeaderColumnMouseDown"));c(this.columnHeaderScrollerNode,"scroll",function(b){a.columnHeaderScrollerNode.scrollLeft=a.dataScrollerNode.scrollLeft});c(this.rowHeaderScrollerNode,"scroll",function(b){a.rowHeaderScrollerNode.scrollTop=a.dataScrollerNode.scrollTop});this.mouseDownRowHandler=c.pausable(this.rowHeaderNode,"mousedown",e.hitch(this,"_onHeaderRowMouseDown"));this.own(this.mouseDownColumnHandler);this.mouseMotionHandler=c.pausable(window,"mousemove",e.hitch(this,
"_onMouseMove"));this.own(this.mouseMotionHandler);this.mouseMotionHandler.pause();c(this.cornerSpacerNode,"mousedown",e.hitch(this,"_onCornerMouseDown"));this.own(c(window,"mouseup",e.hitch(this,"_onWindowMouseUp")));this.peerNode.addEventListener("peerEvent",function(b){a.handlePeerEvent(b)},this.peerNode);this.peerNode.addEventListener("propertySet",function(b){a.handlePropertySet(b)},this.peerNode);n.add(this.domNode,"mgg");"/VariableEditor"===this.channel&&n.add(this.domNode,"mw_type_VariableEditorTable");
0>this.maxHeight?n.add(this.domNode,"arrayTable"):null!==this.dataModel&&(this.dataModel.getRowCount()*this.rowHeight>this.maxHeight?n.add(this.domNode,"arrayTableMaxHeight"):n.add(this.domNode,"arrayTableMaxHeightScaled"));this.domNode.setAttribute("data-tag",m.createDataTag("views","table"));this._attachListenersForContextUpdate();y.subscribe("/VElogmessage",e.hitch(this,function(a){a.data.eventType&&(m.logDebug("VE: "+a.data.eventType),"log"===a.data.eventType&&a.data.message&&m.logDebug("VE: Server Log ("+
a.data.message+")"))}))},_attachListenersForContextUpdate:function(){var a=["Header","Row"],b=["Header","Column"];this.rowHeaderScrollerNode&&this._handleContextUpdate(this.rowHeaderScrollerNode,a);this.columnHeaderScrollerNode&&this._handleContextUpdate(this.columnHeaderScrollerNode,b)},_handleContextUpdate:function(a,b){var d=this;c(a,"click",function(a){h.addToContext(d.contextUpdateChannel,b,!0)})},_getCellType:function(){return this.VariableEditorRenderer},_onColumnsSet:function(){this._updateColumnHeaderNames();
this.inherited(arguments)},_renderCell:function(a,b){var c=this._getCellType(a);if(c&&c.type&&0===c.type.indexOf("variableeditorrenderer")){var d=document.createElement("div");d.setAttribute("class","cell");d.setAttribute("data-tag",m.concatenateDataTagStrings("datatools","variableeditor","views","table","cell"));var g=this;this.cellTypes[c.type]&&this.cellTypes[c.type].create&&this.cellTypes[c.type].create(c,b,function(f){d.appendChild(f);g.cellTypes[c.type]&&g.cellTypes[c.type].startup&&g.cellTypes[c.type].startup(f,
a,b,d)});return d}this.inherited(arguments)},_updateCell:function(a,b,c,d){var g=r.getEnclosingWidget(a.firstChild);if(void 0!==c&&null!==c){var f=null;try{f=JSON.parse(c)}catch(h){f=c}if(g&&g.isEditing&&g.isEditing()){if(g.setEditable){var e=g.getCellIndices(f);g.setEditable(this.getCellPropertyValue(e.row,e.column,"Editable",f))}return}}var l=this._getCellType(b);if(l&&l.type&&0===l.type.indexOf("variableeditorrenderer")){var m=this;if(this.cellTypes[l.type]&&this.cellTypes[l.type].update){var p=
a.firstChild;this.cellTypes[l.type].update(p,l,c,function(g){g&&p&&g!==p?(a.replaceChild(g,p),r.getEnclosingWidget(p).destroy()):g&&!p&&a.appendChild(g);m.cellTypes[l.type]&&m.cellTypes[l.type].startup&&m.cellTypes[l.type].startup(g,b,c,d)})}}else this.inherited(arguments)},_setEmptyBlockSelection:function(){this.blockSelection.isEmpty()||(this.blockSelection=new t({source:"client",indexedRows:!this.sendSelectionRanges}),this._renderSelection(),this.setServerSelection(!0))},_onColumnMouseUp:function(a){this.inherited(arguments);
this.setServerSelection(!0);void 0!==this._resizingColumn&&this.columns&&(this._setColumnWidthOnTable(this._resizingColumn,this.columns[this._resizingColumn].width),this.setColumnModelProperty(this._resizingColumn,"ColumnWidth",this.columns[this._resizingColumn].width),this._updateDataStyles(),this.setColumnModelProperty(this._resizingColumn,"ColumnResized",!0));this._resizingColumn=void 0},_setColumnWidthOnTable:function(){},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=
null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);var c=-1,d=-1;b.domNode&&b.domNode.dataset&&(d=this._getRowColumnFromNode(b.domNode),c=d.row,d=d.col);var g=a.data.newValue;b.convert&&(g=b.convert(a.data.newValue));this.dataModel&&this.dataModel.changeData&&this.dataModel.changeData(c,d,[[g]])}},onEditingStarted:function(){this.mouseMotionHandler.pause()},onMouseDown:function(a){v("mac")&&Object.defineProperty(a.data,"ctrlKey",{value:!1});this.contextMenu&&this.contextMenu.close();
if(this.selectable){this.cellsDragged=this.isCellEnterListenerPaused=!1;this.mouseMotionHandler.resume();var b=-1,c=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(c=this._getRowColumnFromNode(a.data.renderer.domNode),b=c.row,c=c.col);this.isCellDraggable(b,c)&&this.isCellSelected(b,c)&&!a.data.ctrlKey&&!a.data.metaKey&&!a.data.shiftKey?this.selectionUpdated=!1:(this._updateAndRenderSelection(b,c,a.data),this.selectionUpdated=!0)}},_updateAndRenderSelection:function(a,b,c){this._setLeadCellPosition(a,
b);this.anchorRow=a;this.anchorColumn=b;this.blockSelection.isEmpty()&&this._resetShiftKeyPivot();var d;d="extended"===this.selectionMode&&(c.ctrlKey||c.metaKey)&&!c.shiftKey?this.blockSelection.clone():new t({indexedRows:!this.sendSelectionRanges});d=this._updateBlockSelection(a,b,d,c);this.blockSelection.matchingSelection(d)||(this.blockSelection=d,this._renderSelection())},_updateBlockSelection:function(a,b,c,d){"none"!==this.selectionType&&"none"!==this.selectionMode&&(d&&d.shiftKey?(d=null,d=
this.getShiftKeyPivot(),0>d[0]&&0>d[1]?c.add(0,a,0,b):c.add(d[0],a,d[1],b)):d.ctrlKey||d.metaKey?(this._setShiftKeyPivot(a,b),!c.containsRow(a)||!c.containsColumn(b)?c.addCell(a,b):c.removeRows(a,a)):(this._setShiftKeyPivot(a,b),c.addCell(a,b)));return c},onMouseEnter:function(a){if(this.selectable&&!this.isCellEnterListenerPaused){var b=-1,c=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(c=this._getRowColumnFromNode(a.data.renderer.domNode),b=c.row,c=c.col);this._updateSelection(b,c,
a)}},onMouseUp:function(){this.selectable&&this.setServerSelection(!0);this.isCellEnterListenerPaused=!0;this.mouseMotionHandler.pause()},onEditingStopped:function(){this.mouseDownColumnHandler&&this.mouseDownColumnHandler.resume()},_getRowColumnFromNode:function(a){a&&a.dataset?(row=parseInt(a.dataset.row),column=parseInt(a.dataset.col)):(row=parseInt(a.getAttribute("data-row")),column=parseInt(a.getAttribute("data-col")));return{row:row,col:column}},_convertPxToRows:function(a,b,c){return Math.floor((a-
b.y+c)/this.rowHeight)},_onMouseDown:function(a){if(!n.contains(a.target,"dataScrollerNode")){var b=f.position(this.dataScrollerNode),c=this._convertPxToRows(a.pageY,b,this.dataScrollerNode.scrollTop);a=this._convertPxToCols(0,a.pageX-b.x+this.dataScrollerNode.scrollLeft);c>this.getRowCount()-1||a>this.getColumnCount()-1?(h.addToContext(this.contextUpdateChannel,[this.contextId,"EmptySpace"],!0),this.blockSelection.isEmpty()||this._clearBlockSelection()):h.addToContext(this.contextUpdateChannel,[this.contextId,
"DataVariable"],!0)}},_clearBlockSelection:function(){this.blockSelection=new t({source:"client",indexedRows:!this.sendSelectionRanges});this._setLeadCellPosition(-1,-1);this._renderSelection();this.mouseMotionHandler.resume()},_onMouseMove:function(a){a.preventDefault();if(!this.blockSelection.isEmpty()){var b=f.position(this.dataScrollerNode),c=this._convertPxToRows(a.pageY,b,this.dataScrollerNode.scrollTop),b=this._convertPxToCols(0,a.pageX-b.x+this.dataScrollerNode.scrollLeft),c=Math.max(0,Math.min(c,
this.getRowCount()-1)),b=Math.max(0,Math.min(b,this.getColumnCount()-1));this.scrollToCell(c,b);this._updateSelection(c,b,a)}},_updateSelection:function(a,b,c){var d,g;this._setLeadCellPosition(a,b);c=c.ctrlKey||c.metaKey?this.blockSelection.clone():new t({indexedRows:!this.sendSelectionRanges});d=Math.min(this.anchorRow,a);a=Math.max(this.anchorRow,a);g=Math.min(this.anchorColumn,b);b=Math.max(this.anchorColumn,b);c.add(d,a,g,b);this.blockSelection=c;this._renderSelection()},getRowCount:function(){return this.dataModel?
this.dataModel.getRowCount():0},getColumnCount:function(){return this.dataModel?this.dataModel.getColumnCount():0},_onDataChange:function(){},resize:function(){if(!this._noAutoSizing){var a=f.position(this.domNode);this.position={width:a.w,height:a.h};this.debounceRedraw()}},handlePropertySet:function(a){"Selection"===a.data.key?(a=a.data.newValue,a.source&&"client"===a.source||a.selectionSource&&"client"===a.selectionSource||(a=new t(a),a.setIndexedRows(!this.sendSelectionRanges),this.blockSelection=
a,this._renderSelection())):"editable"===a.data.key?this.domNode&&("false"===a.data.newValue?(this.domNode.className=this.domNode.className?this.domNode.className+" readonly":"readonly",n.toggle(this.domNode,"hideVerticalScroll",!0),n.toggle(this.domNode,"hideHorizontalScroll",!0)):(this._updateScrollerStyles(),this.domNode.className=this.domNode.className?this.domNode.className.replace(/\breadonly\b/,""):"")):"dataModel"===a.data.key&&(this.pagedDataUpdateDelay=100)},_onCornerMouseDown:function(a){a.preventDefault();
a=new t({indexedRows:!this.sendSelectionRanges});var b=this.getRowCount(),c=this.getColumnCount();a.add(0,b-1,0,c-1);null===this.getLeadNode()&&this._setLeadCellPosition(0,0);this.blockSelection=a;this._renderSelection()},_onMouseDragUp:function(a){v("mac")&&(a.ctrlKey&&Object.defineProperty(a,"which",{value:3}),Object.defineProperty(a,"ctrlKey",{value:!1}));this.anchorColumn=this.anchorRow=-1;this.mouseMotionHandler&&this.mouseMotionHandler.pause();if(a&&a.renderer&&a.renderer.domNode){h.removeFromContext(this.contextUpdateChannel,
!0);var b=this._getRowColumnFromNode(a.renderer.domNode);!this.selectionUpdated&&(!this.cellsDragged&&a.which!==this.rightClickKeyCode)&&(this._updateAndRenderSelection(b.row,b.col,a),this.selectionUpdated=!0)}this.cellsDragged=!1},_onHeaderRowMouseDown:function(a,b){if(this.selectable){var d=null,g;try{g=this.getEnclosingHeaderWidget(a.target)}catch(f){g={index:-1}}0<=g.index&&(d=g.index);this._selectingRow=d;this.mouseRowHeaderMotionHandler?this.mouseRowHeaderMotionHandler.resume():(this.mouseRowHeaderMotionHandler=
c.pausable(window,"mousemove",e.hitch(this,"_onRowHeaderSelection")),this.own(this.mouseRowHeaderMotionHandler));if(b||void 0===b)d=this.getLeadNode().getElementsByTagName("input")[0],z.focus(d);a.preventDefault()}},_onTableHeaderKeyDown:function(a){var b=this.getLeadNode();z.focus(b.getElementsByTagName("input")[0]);r.getEnclosingWidget(b)._handleKeyboardEvent(a)},_onHeaderRowMouseUp:function(){this.selectable&&(this.lastSelectedHeaderRow=-1,this.mouseUpRowHeaderHandler&&this.mouseUpRowHeaderHandler.pause(),
this.mouseRowHeaderMotionHandler&&this.mouseRowHeaderMotionHandler.pause(),0<this.getRowCount()&&0<this.getColumnCount()&&this.setServerSelection(!0),this._selectingRow=void 0)},_onRowHeaderSelection:function(a){if(this.selectable){a.preventDefault();var b=f.position(this.dataScrollerNode),c=null;if(a.pageX<b.x+b.w&&a.pageX>b.x&&a.pageY<b.y+b.h&&a.pageY>b.y){var d;try{d=this._getCellFromNode(a.target)}catch(g){d={row:-1}}0<=d.row&&(c=d.row)}c||(c=Math.floor((a.pageY-b.y+this.dataScrollerNode.scrollTop)/
this.rowHeight),c=Math.min(Math.max(0,c),this.getRowCount()-1),this.scrollToRow(c));0>this.lastSelectedHeaderRow&&(this.lastSelectedHeaderRow=c);a=this.blockSelection.getColumnCount()===this.getColumnCount();if(this.blockSelection.containsRow(c)&&a){if(this.lastSelectedHeaderRow!==c)if(c<this.lastSelectedHeaderRow)for(a=this.lastSelectedHeaderRow;a>c;a-=1)this.blockSelection.containsRow(a)&&this.blockSelection.removeRows(a,a);else for(a=this.lastSelectedHeaderRow;a<c;a+=1)this.blockSelection.containsRow(a)&&
this.blockSelection.removeRows(a,a)}else if(c>=this.lastSelectedHeaderRow)for(a=this.lastSelectedHeaderRow;a<=c;a+=1)this.blockSelection.containsRow(a)||this.blockSelection.add(a,a,0,this.getColumnCount()-1);else for(a=c;a<=this.lastSelectedHeaderRow;a+=1)this.blockSelection.containsRow(a)||this.blockSelection.add(a,a,0,this.getColumnCount()-1);this.lastSelectedHeaderRow=c;this._setLeadCellPosition(this.lastSelectedHeaderRow,0);0<this.getColumnCount()?this._renderSelection():this._updateHeaderStyle()}},
_onHeaderColumnMouseDown:function(a,b){if(this.selectable&&(!a||!a.target||!(a.target.className&&-1!==a.target.className.toLowerCase().indexOf("drag")))){var d=null,g;try{g=this.getEnclosingHeaderWidget(a.target)}catch(f){g={index:-1}}0<=g.index&&(d=g.index);this._selectingColumn=d;this.mouseUpColumnHeaderHandler?this.mouseUpColumnHeaderHandler.resume():this.mouseUpColumnHeaderHandler=c.pausable(this.columnHeaderNode,"mouseup",e.hitch(this,"_onHeaderColumnMouseUp"));this.mouseColumnHeaderMotionHandler?
this.mouseColumnHeaderMotionHandler.resume():(this.mouseColumnHeaderMotionHandler=c.pausable(window,"mousemove",e.hitch(this,"_onColumnHeaderSelection")),this.own(this.mouseColumnHeaderMotionHandler));if(b||void 0===b)d=this.getLeadNode().getElementsByTagName("input")[0],z.focus(d);a.preventDefault()}},_onRowMouseDown:function(a){if(this.selectable&&"single"!==this.selectionMode){var b;try{b=this.getEnclosingHeaderWidget(a.target)}catch(c){b={index:-1}}if(!(0>b.index)){b=b.index;this.blockSelection.isEmpty()&&
this._resetShiftKeyPivot();var d=new t({indexedRows:!this.sendSelectionRanges});if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey)&&!a.shiftKey)d=this.blockSelection.clone();d=this._updateRowSelection(b,d,a);this.blockSelection.matchingSelection(d)||(0>this.lastSelectedHeaderRow&&(this.lastSelectedHeaderRow=b),this.blockSelection=d,this._setLeadCellPosition(this.lastSelectedHeaderRow,0),0<this.getColumnCount()?this._renderSelection():this._updateHeaderStyle())}}},_updateRowSelection:function(a,
b,c){var d=this.getColumnCount()-1;if("none"!==this.selectionType&&"none"!==this.selectionMode)if(c.shiftKey){var g=null;c=this.getShiftKeyPivot();0>c[0]?g=0:g=c[0];b.add(g,a,0,d)}else c.ctrlKey||c.metaKey?(this._setShiftKeyPivot(a,d),b.containsRow(a)?b.removeRows(a,a):b.add(a,a,0,d)):(this._setShiftKeyPivot(a,d),b.add(a,a,0,d));return b},_onColumnMouseDown:function(a){if(this.selectable&&"single"!==this.selectionMode){var b;try{b=this.getEnclosingHeaderWidget(a.target)}catch(c){b={index:-1}}if(!(0>
b.index)){b=b.index;var d=new t({indexedRows:!this.sendSelectionRanges});if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))d=this.blockSelection.clone();"none"!==this.selectionType&&"none"!==this.selectionMode&&(a.shiftKey&&!d.isEmpty()?(a=d.getLeadCell(),d.add(0,this.getRowCount()-1,a[1],b)):a.ctrlKey||a.metaKey?d.containsColumn(b)?d.removeColumns(b,b):d.add(0,this.getRowCount()-1,b,b):d.add(0,this.getRowCount()-1,b,b));this.blockSelection.matchingSelection(d)||(0>this.lastSelectedHeaderCol&&
(this.lastSelectedHeaderCol=b),this.blockSelection=d,this._setLeadCellPosition(0,this.lastSelectedHeaderCol),this._renderSelection())}}},_onHeaderColumnMouseUp:function(){this.selectable&&(this.lastSelectedHeaderCol=-1,this.mouseColumnHeaderMotionHandler&&this.mouseColumnHeaderMotionHandler.pause(),this.mouseUpColumnHeaderHandler&&this.mouseUpColumnHeaderHandler.pause(),0<this.getRowCount()&&0<this.getColumnCount()&&this.setServerSelection(!0),this._selectingColumn=void 0)},_onColumnHeaderSelection:function(a,
b){if(this.selectable){!1!==b&&a.preventDefault();var c;c=f.position(this.dataScrollerNode);var d=null;if(a.pageX<c.x+c.w&&a.pageX>c.x&&a.pageY<c.y+c.h&&a.pageY>c.y){var g;try{g=this._getCellFromNode(a.target)}catch(h){g={column:-1}}0<=g.column&&(d=g.column)}d||(d=this._convertPxToCols(0,a.pageX-c.x+this.dataScrollerNode.scrollLeft),d=Math.min(Math.max(0,d),this.getColumnCount()-1),this.scrollToColumn(d));if(d!==this.lastSelectedHeaderCol){0>this.lastSelectedHeaderCol&&(this.lastSelectedHeaderCol=
d);c=this.blockSelection.containsColumn(d);g=this.blockSelection.getRowCount()===this.getRowCount();if(c&&g){if(this.lastSelectedHeaderCol!==d)if(d<this.lastSelectedHeaderCol)for(c=this.lastSelectedHeaderCol;c>d;c-=1)this.blockSelection.containsColumn(c)&&this.blockSelection.removeColumns(c,c);else for(c=this.lastSelectedHeaderCol;c<d;c+=1)this.blockSelection.containsColumn(c)&&this.blockSelection.removeColumns(c,c)}else if(d>=this.lastSelectedHeaderCol)for(c=this.lastSelectedHeaderCol;c<=d;c+=1)this.blockSelection.containsColumn(c)||
this.blockSelection.add(0,this.getRowCount()-1,c,c);else for(c=d;c<=this.lastSelectedHeaderCol;c+=1)this.blockSelection.containsColumn(c)||this.blockSelection.add(0,this.getRowCount()-1,c,c);this.lastSelectedHeaderCol=d;this._setLeadCellPosition(0,this.lastSelectedHeaderCol);this._renderSelection()}}},_onWindowMouseUp:function(a,b){this._onHeaderColumnMouseUp();this._onHeaderRowMouseUp();this._onTableMouseUp(a,b);this.mouseMotionHandler&&this.mouseMotionHandler.pause();this.mouseColumnHeaderMotionHandler&&
this.mouseColumnHeaderMotionHandler.pause();this.mouseRowHeaderMotionHandler&&this.mouseRowHeaderMotionHandler.pause();this._selectingRow=this._selectingColumn=void 0;this.anchorColumn=this.anchorRow=-1;this.isCellEnterListenerPaused=!0},_onTableMouseUp:function(a,c){if(b.isDescendant(a.target,this.domNode)&&this.leadCell&&!this.columnHeaderNode.contains(a.target)&&!this.rowHeaderNode.contains(a.target)){var d=".row_"+this.leadCell.row+".col_"+this.leadCell.column;-1<this.leadCell.index&&(d=d+".idx_"+
this.leadCell.index);d=s(d,this.domNode)[0];if((d=r.getEnclosingWidget(d))&&d._handleMouseUp)d._handleMouseUp(),a&&(a.target&&!d.domNode.contains(a.target)&&d.domNode.contains(z.curNode))&&z.focus(this.domNode)}return!0},_cancelCurrentEditor:function(a,b){var c=s(".row_"+a+".col_"+b,this.domNode)[0];(c=r.getEnclosingWidget(c))&&c.cancelEditing&&c.cancelEditing()},_revertCurrentEditorChanges:function(a,b){var c=s(".cellRenderer.row_"+a+".col_"+b,this.domNode)[0];(c=r.getEnclosingWidget(c))&&c._revert&&
c._revert()},_cancelCurrentRowHeaderEditor:function(a){a=s(".EditableHeader",this.rowHeaderNode)[a+(this.rowView.end-this.rowView.start)-this.rowView.end];a=r.getEnclosingWidget(a);this._handleDuplicateRowHeaderValues(a)},_cancelCurrentColumnHeaderEditor:function(a,b){var c=s(".EditableHeader",this.columnHeaderNode)[a+(this.colView.end-this.colView.start)-this.colView.end],c=r.getEnclosingWidget(c);this._handleColumnHeaderError(c,b)},_forceRowUpdate:function(a,b){if(0<=a&&0<=b){var c=this.getCellSelector(a,
b);if(c=s(c)[0]){var d=this.dataModel.getPartialData()[a-this.rowView.start];this._updateRow(c.parentNode,d,d,this.colView.start,this.colView.end,this.oldColView.start,this.oldColView.end)}}},_clearRendererCache:function(a,b){if(0<=a&&0<=b){var c=this.getCellSelector(a,b);if(c=s(c)[0]){var d=this.dataModel.getPartialData()[a-this.dataModel._currentStartRow],g=this._getCellType(b);this.cellTypes[g.type].clearCache&&this.cellTypes[g.type].clearCache(c.firstElementChild,b,d[b])}}},getEnclosingHeaderWidget:function(a){for(;!n.contains(a,
"EditableHeader")&&!n.contains(a,"NonEditableHeader");)a=a.parentElement;return r.getEnclosingWidget(a)},_handleDataChangeStatus:function(a){m.logDebug("VE: Server data change status: "+a.data.status);if(a.data.status&&"success"===a.data.status){var b=s(".cellRenderer.row_"+row+".col_"+column,this.domNode)[0];(b=r.getEnclosingWidget(b))&&(b.setValue&&a.data&&a.dispValue)&&b.setValue(a.data.dispValue,a.data.source,a.data.dispValue)}else this._clearRendererCache(a.data.row,a.data.column),this._revertCurrentEditorChanges(a.data.row,
a.data.column),a.data.status&&"noChange"===a.data.status||(a.data.message?m.displayErrorMessage(a.data.message):g.warn("VE: Server error with no message."))},handlePeerEvent:function(a){m.logDebug("VE: Peer Event: "+a.data.type);a.data.type&&"ErrorDuplicateColumnHeader"===a.data.type?this._cancelCurrentColumnHeaderEditor(a.data.index):a.data.type&&"ColumnHeaderError"===a.data.type?this._cancelCurrentColumnHeaderEditor(a.data.index,a.data.message):a.data.type&&"ErrorDuplicateRowHeader"===a.data.type?
this._cancelCurrentRowHeaderEditor(a.data.index):a.data.type&&"errormsg"===a.data.type?(m.logDebug("VE: Server error: "+a.data.message),this._cancelCurrentEditor(a.data.row,a.data.column),a.data.message?m.displayErrorMessage(a.data.message):g.warn("VE: Server error with no message.")):a.data.type&&"dataChangeStatus"===a.data.type&&this._handleDataChangeStatus(a)}});B._RenderCounter=0;B._forTestingOnly={contextPublishingUtils:h};return B})},"variableeditor/views/table/VariableEditorTable":function(){define("variableeditor/views/table/VariableEditorTable",
"dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin variableeditor/views/table/tableBase/_TableBase variableeditor/views/table/_VETableHeaders variableeditor/views/table/tableBase/_TableHeaderSelection variableeditor/views/table/_VETableSelection variableeditor/views/table/_VEModelProperties variableeditor/views/table/tableBase/_TableColumnWidth variableeditor/views/table/tableBase/_PropTypeHandler variableeditor/VariableEditorUtils dojo/text!variableeditor/views/table/VariableEditorTemplate.html dojo/dnd/Source".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){return k("variableeditor.views.table.VariableEditorTable",[f,n,l,p,m,h,g,a],{templateString:r,container:null,curRowCount:0,curColCount:0,dndSource:null,constructor:function(a){a=a||{};this.componentData=a.widgetData;this.container=a.container;this.useDojoDnD=a.useDojoDnd||!1},startup:function(a){this.inherited(arguments);if(this.useDojoDnD&&null===this.dndSource&&this.getDndItemSelector&&this.getDndHandleSelector&&this.getSelectedFields){var g=this;a=a||{};
d.mixin(a,{dropCallback:function(){},checkAcceptanceCallback:function(a,b){return a.node!==g.dataScrollerNode}});this._attachDndHandles();a.creator=function(a,d){var f=dojo.doc.createElement("span");f.id=dojo.dnd.getUniqueId();c.add(f,"dojoDndItem");if("avatar"===d&&a){var h=g._createDummyNodeToEnableAvatars(a);b.place(h,f,"last")}else return g._dndSource?g._dndSource.defaultCreator(a,d):{node:null,data:null,type:null};return{node:f,data:a,type:["text"]}};this.dndSource=s.createSelectableDnDTarget(this.dataScrollerNode,
a);this.dndSource.getSelectedNodes=function(){var a=e.NodeList(),b=g.getSelectedFields();if(b)for(var b=b.split(","),c=0;c<b.length;c+=1){var d=b[c],f=e('[dnddata\x3d"'+d+'"]')[0];f?(a.push(f),this.getItem(f.id)||this.setItem(f.id,{data:d,type:["text"]})):(f=g._createDummyNodeToEnableAvatars(d),this.setItem(f.id,{data:d,type:["text"]}),a.push(f))}return a};this.dndSource.allowNested=!0;this.dndSource.isSource=!0;this.dndSource.copyOnly=!0;this.dndSource.withHandles=!0}},_createDummyNodeToEnableAvatars:function(a){var b=
document.createElement("input");b.setAttribute("class","structNameColumn dojoDndItem dojoDndHandle DojoDndItemSelected variableEditorRenderers iconVariableEditorMatrix dojoDndItemOver dojoDndItemAnchor");b.setAttribute("dnddata",a);b.setAttribute("dndtype","text");b.setAttribute("id",a);b.value=a;return b},_attachDndHandles:function(){if(this.useDojoDnD){var a=this.getDndItemSelector(),b=this.getDndHandleSelector();e(a,this.domNode).forEach(function(a,d,g){for(i=0;i<b.length;i++)(d=e(b[i],a)[0])&&
c.add(d,"dojoDndHandle")})}},_onDataModelSet:function(a){this.inherited(arguments);if(a._rowCount!=this.curRowCount||a._columnCount!=this.curColCount)this.curRowCount=a._rowCount,this.curColCount=a._columnCount,this.container&&this.container.resize&&this.container.resize();this.dndSource&&this.dndSource.clearItems&&this.dndSource.clearItems()},_onColumnsSet:function(){this.inherited(arguments);this.container&&this.container.resize&&this.container.resize()}})})},"variableeditor/views/table/tableBase/_TableBase":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/on dojo/keys dijit/_WidgetBase mw-browser-utils/BrowserUtils ./_ListBase dojo/topic variableeditor/VariableEditorUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k([p,h],{scrollbarWidth:0,headerPadding:2,defaultColumnWidth:75,totalColumnWidth:0,paddingViewColumns:4,toleranceViewCols:2,paddingPagedColumns:30,tolerancePagedCols:15,colView:{start:0,end:0},oldColView:{start:0,end:0},pageDataCols:{},constructor:function(a){this.scrollbarWidth=g.getScrollbarWidth();this.defaultProperties=e.delegate(this.defaultProperties,{columns:[],showCellBorders:!0})},postCreate:function(){this.inherited(arguments);this.own(l(this.dataScrollerNode,
"change",e.hitch(this,"_onDataChange")));this.own(l(this.dataScrollerNode,"keydown",e.hitch(this,"_onCommit")))},setColumnWidth:function(a,b){if(0<=a&&a<this.columns.length&&10<b){var c=e.clone(this.columns);c[a].width=b;this.peerNode.setProperty("columns",c)}},scrollToColumn:function(a){a=Math.max(0,Math.min(a,this.dataModel.getColumnCount()));var b=0,c=(this.columns[a]?this.columns[a].width:this.defaultColumnWidth)/2,d;for(d=0;d<a;d+=1)c+=this.columns[d]?this.columns[d].width:this.defaultColumnWidth;
d=f.position(this.dataScrollerNode).w;var g=(d-this.scrollbarWidth)/1.3;a=g+this.dataScrollerNode.scrollLeft;d=d-g+this.dataScrollerNode.scrollLeft;c>a?b=c-a:c<d&&(b=c-d);this.dataScrollerNode.scrollLeft=b+this.dataScrollerNode.scrollLeft},scrollToCell:function(a,b){this.scrollToRow(a);this.scrollToColumn(b)},getColumnSelector:function(a){return"#"+this.id+" .dataBody .cell:nth-child("+(a-this.colView.start+2)+")"},getCellSelector:function(a,b){return this.getRowSelector(a)+".cell:nth-child("+(b-
this.colView.start+2)+")"},_onColumnsSet:function(){this._updateTotalColumnWidth(this.columns.length);this._renderViewData(!0)},_updateTotalColumnWidth:function(a){this.totalColumnWidth=0;var b;for(b=0;b<a;b+=1)if(this.columns[b])if(0<=this.columns[b].width)this.totalColumnWidth+=this.columns[b].width;else{var c=this.getColumnModelProperty(b,"ColumnWidth"),d=parseInt(c,10);null!==c&&void 0!==c&&0<=d?(this.totalColumnWidth+=d,this.columns[b].width=d):(this.totalColumnWidth+=this.defaultColumnWidth,
this.columns[b].width=this.defaultColumnWidth)}},_onShowCellBordersSet:function(){a.toggle(this.domNode,"showCellBorders",this.showCellBorders)},_onDataScroll:function(){this.inherited(arguments)},_onDataChange:function(a){var b=this._getCellFromNode(a.target);if(!(0>b.row||0>b.column)){var c=b.node,d=b.row,b=b.column,g=this.oldViewData[d-this.rowView.start][b-this.colView.start],f=this._getCellType(this.columns[b]);this.cellTypes[f.type].getCellValue&&(a=this.cellTypes[f.type].getCellValue(c.firstChild,
a.target,f,g),void 0!==a&&this.dataModel.changeData(d,b,[[a]]))}},_onCommit:function(a){a.keyCode===m.ENTER&&this._onDataChange(a)},_throttledRender:function(a,b){var c=this;this._renderTimer&&clearTimeout(this._renderTimer);this._renderTimer=setTimeout(function(){c._renderViewDataImpl(a);b&&b();c._renderSelection()},10)},_renderViewData:function(a,b){this._throttledRender(a,b)},_renderViewDataImpl:function(a){if(this.domNode){var b=window.performance.now();if(this.dataModel&&this.position){this._updatePagedData();
if(!a&&this.dataModel===this.oldDataModel&&!this.rowView.changed&&!this.colView.changed)return;this._onViewRangeUpdated();var c=this.rowView.start-this.dataModel.getCurrentStartRow();a=this.rowView.end-this.dataModel.getCurrentStartRow();for(var d=this.colView.start-this.dataModel.getCurrentStartCol(),g=this.colView.end-this.dataModel.getCurrentStartCol(),f=this.dataModel.getPartialData(),h=[];c<a;c+=1)h.push(f[c].slice(d,g));var e=this;this._incrementalUpdateNode({node:this.dataNode,data:h,oldData:this.oldViewData,
start:this.rowView.start,end:this.rowView.end,oldStart:this.oldRowView.start,oldEnd:this.oldRowView.end,update:function(a,b,c){e._updateRow(a,b,c,e.colView.start,e.colView.end,e.oldColView.start,e.oldColView.end)},create:function(a){return e._renderRow(a,e.colView.start,e.colView.end)}});this.oldRowView=this.rowView;this.oldColView=this.colView;this.oldViewData=h;this.oldDataModel=this.dataModel}this._updateDataStyles();a=window.performance.now();this.emit("view-updated");s.isPerformance()&&n.publish("variableeditor/renderTimeChannel",
{time:a-b,numRows:this.rowView.end-this.rowView.start,numCols:this.colView.end-this.colView.start})}},_renderRow:function(a,b,c){var d=document.createElement("div");d.setAttribute("class","row");var g=document.createElement("div");g.setAttribute("class","cell spacer leftSpacer");d.appendChild(g);g=c-b;for(c=0;c<g;c+=1)d.appendChild(this._renderCell(this.columns[c+b],a[c]));a=document.createElement("div");a.setAttribute("class","cell spacer rightSpacer");d.appendChild(a);return d},_updateRow:function(a,
b,c,d,g,f,h){var e=this;this._incrementalUpdateNode({node:a,data:b,oldData:c,start:d,end:g,oldStart:f,oldEnd:h,update:function(a,b,c,d){e._updateCell(a,e.columns[d],b,c)},create:function(a,b){return e._renderCell(e.columns[b],a)}})},_getCellFromNode:function(a){for(var b=null,c=-1,d=-1;a.getAttribute&&"datatools.variableeditor.views.table.cell"!==a.getAttribute("data-tag")&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute&&"datatools.variableeditor.views.table.cell"===a.getAttribute("data-tag")){b=
a;for(d=this.colView.start-1;a.previousElementSibling;)d+=1,a=a.previousElementSibling;a=a.parentNode;for(c=this.rowView.start-1;a.previousElementSibling;)c+=1,a=a.previousElementSibling}return{node:b,row:c,column:d}},_onViewRangeUpdated:function(a,b,c,d){var g;for(g=this.leftSpaceWidth=0;g<this.colView.start;g+=1)this.leftSpaceWidth+=this.columns[g]&&null!==this.columns[g].width&&0<=this.columns[g].width?this.columns[g].width:this.defaultColumnWidth;this.inherited(arguments)},_updatePagedData:function(){if(this.domNode){var a=
this._convertPxToCols(0,this._getScrollLeft()),b=this._convertPxToCols(a,this.position.width)+1,c=a+b;this.colView=this._updateArrayBounds(a,a+b,this.dataModel.getCurrentStartCol(),this.dataModel.getCurrentEndCol(),this.paddingViewColumns,this.toleranceViewCols,this.oldColView,c);this.pagedDataCols=this._updateArrayBounds(a,a+b,0,this.dataModel.getColumnCount(),this.paddingPagedColumns,this.tolerancePagedCols,this.oldPagedDataCols,c);this.inherited(arguments)}},_getScrollLeft:function(){return this.dataScrollerNode.scrollLeft},
_updateDataStyles:function(){this.inherited(arguments);this.dataModel&&(this.rowHeight&&this.position)&&(this._updateScrollerStyles(),this.styleManager.updateStyleRules("spacerLeft",{".row .spacer.leftSpacer":"width: "+this.leftSpaceWidth+"px;"}),this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: "+this.totalColumnWidth+"px;"}))},_updateCurrentPosition:function(){var a=f.position(this.domNode);this.position={width:a.w,height:a.h}},_updateColumnStyles:function(){var a=this.columns.slice(this.colView.start,
this.colView.end),b,c={},d;for(b=0;b<a.length;b+=1)d=this._getCellType(a[b]),d=this._getColumnStyles(d),d+="width: "+(a[b]&&null!==a[b].width&&0<=a[b].width?a[b].width:this.defaultColumnWidth)+"px;",c[".dataColumn .cell:nth-child("+(b+2)+")"]=d;this.styleManager.updateStyleRules("columns",c)},_updateScrollerStyles:function(){var b=this.dataModel.getRowCount()*this.rowHeight>=this.position.height,c=this.totalColumnWidth>=this.position.width;a.toggle(this.domNode,"hideVerticalScroll",!b);a.toggle(this.domNode,
"hideHorizontalScroll",!c)},_convertPxToCols:function(a,b){var c,d=0;for(c=a;c<this.dataModel.getColumnCount();c+=1)if(d+=this.columns[c]&&this.columns[c].width||this.defaultColumnWidth,b<=d)return c-a;return c}})})},"variableeditor/views/table/tableBase/_ListBase":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/on dojo/sniff dijit/_WidgetBase mw-browser-utils/BrowserUtils mw-style-utils/StyleUtils variableeditor/VariableEditorUtils ./tableCellRenderers".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k([h],{peerNode:null,defaultProperties:{renderer:{type:"default"},rowHeight:18,dataModel:null,visibility:!0},position:{width:0,height:0},paddingViewRows:10,toleranceViewRows:5,paddingPagedRows:80,tolerancePagedRows:40,pagedDataUpdateDelay:100,leftSpaceWidth:0,viewData:[],oldViewData:[],rowView:{start:0,end:0},oldRowView:{start:0,end:0},pagedDataRows:{start:0,end:0,changed:!1},pagedDataCols:{start:0,end:1,changed:!1},cellTypes:s,constructor:function(a){a=
a||{};this.peerNode=a.peerNode;a.id="mgg_"+a.peerNode.getId();this.styleManager=new p.StyleManager("#"+a.id);this.own(this.styleManager);m("mac")?this.debounceRedraw=n.createDebounceFn(this,[this._renderViewData,this._updateScrollerStyles],1E3):this.debounceRedraw=n.createDebounceFn(this,[this._renderViewData,this._updateScrollerStyles],500)},postCreate:function(){this.inherited(arguments);this.domNode.id=this.id;g.setClassName(this.domNode,{type:this.peerNode.getType(),name:this.peerNode.getProperty("name")});
e.mixin(this,this.defaultProperties);var a=e.delegate(this.defaultProperties,this.peerNode.getProperties()),b;for(b in a)"function"!==typeof a[b]&&this._onPropertySet({target:this.peerNode,data:{key:b,oldValue:null,newValue:a[b]}});this.peerNode.addEventListener("propertySet",this._onPropertySet,this);this.own(l(this.dataScrollerNode,"scroll",e.hitch(this,"_onDataScroll")))},startup:function(){this.inherited(arguments);this.position||(this.position=f.position(this.domNode),this._renderViewData(!0))},
resize:function(){this._noAutoSizing||(this.position=f.position(this.domNode),this.debounceRedraw())},destroyRecursive:function(){this.peerNode.hasEventListener("propertySet")&&this.peerNode.removeEventListener("propertySet",this._onPropertySet,this);this.inherited(arguments)},scrollToRow:function(a){var b=this.rowHeight;a=Math.max(0,Math.min(a,this.dataModel.getRowCount()));var c=0,d=f.position(this.dataScrollerNode).h,g=(d-b)/1.1,h=g+this.dataScrollerNode.scrollTop,d=d-g+this.dataScrollerNode.scrollTop;
a*=b;a>h?c=a-h:a<d&&(c=a-d);this.dataScrollerNode.scrollTop=c+this.dataScrollerNode.scrollTop},getRowSelector:function(a){return"#"+this.id+" .dataBody .row:nth-child("+(a-this.rowView.start+2)+")"},_onPropertySet:function(a){var b=a.data.key;this[b]=a.data.newValue;b="_on"+(b.charAt(0).toUpperCase()+b.substring(1,b.length))+"Set";if(this[b]&&void 0!==a.data.newValue&&null!==a.data.newValue)this[b](a.data.newValue,a.data.oldValue)},_onPositionSet:function(a){b.set(this.domNode,{position:"absolute",
left:a.x+"px",top:a.y+"px",width:a.width+"px",height:a.height+"px"});this._noAutoSizing=!0;this._updateDataStyles()},_onBackgroundSet:function(){b.set(this.domNode,{backgroundColor:"rgb("+this.background.join(", ")+")"})},_onBorderTypeSet:function(){this._updateBorderStyles()},_onBorderWidthSet:function(){this._updateBorderStyles()},_onBorderColorSet:function(){this._updateBorderStyles()},_updateBorderStyles:function(){if("LineBorder"===this.borderType){var a={};if(this.borderColor){var c=this.borderColor.map(function(a){return Math.floor(255*
a)});a.borderColor="rgb("+c.join(",")+")"}this.borderWidth&&(a.borderWidth=this.borderWidth+"px",a.borderStyle="solid");b.set(this.domNode,a)}},_onVisibilitySet:function(){b.set(this.domNode,{display:this.visibility?"":"none"})},_onRowHeightSet:function(){this._updateDataStyles()},_preDataModelSet:function(a,b){return!(0===a._partialData.length&&(0!==a._rowCount||0!==a._columnCount))},_onDataModelSet:function(){!this.oldPagedDataRows&&this.dataModel&&(this.oldPagedDataRows={start:this.dataModel.getCurrentStartRow(),
end:this.dataModel.getCurrentEndRow()});!this.oldPagedDataCols&&this.dataModel&&(this.oldPagedDataCols={start:this.dataModel.getCurrentStartCol(),end:this.dataModel.getCurrentEndCol()});0===this.dataModel._rowCount&&(this._updatePagedData(),this.colView.changed&&this._updateColumnHeaderNames(),this._setEmptyBlockSelection());this._renderViewData(!0)},_onDataScroll:function(){this.pauseScrollEvents||this.debounceRedraw()},_renderViewData:function(a){if(this.dataModel&&this.position){this._updatePagedData();
if(!a&&this.dataModel===this.oldDataModel&&!this.rowView.changed)return;this._onViewRangeUpdated();a=this.dataModel.getPartialData().slice(this.rowView.start-this.dataModel.getCurrentStartRow(),this.rowView.end-this.dataModel.getCurrentStartRow());var b=this;this._incrementalUpdateNode({node:this.dataNode,data:a,oldData:this.oldViewData,start:this.rowView.start,end:this.rowView.end,oldStart:this.oldRowView.start,oldEnd:this.oldRowView.end,update:function(a,c,d){b._updateCell(a,b,c,d)},create:function(a){a=
b._renderCell(b,a);a.setAttribute("class","row cell");return a}});this.oldRowView=this.rowView;this.oldViewData=a;this.oldDataModel=this.dataModel}this._updateDataStyles()},_renderCell:function(a,b){var c=document.createElement("div");c.setAttribute("class","cell");var d=this._getCellType(a),g=this.cellTypes[d.type].create(d,b);c.appendChild(g);this.cellTypes[d.type].startup&&this.cellTypes[d.type].startup(g,a,b,c);return c},_updateCell:function(a,b,c,d){var g=this._getCellType(b),f;if(this.cellTypes[g.type].update){var h=
a.firstChild;(f=this.cellTypes[g.type].update(h,g,c))&&f!==h&&a.replaceChild(f,h)}else f=this.cellTypes[g.type].create(g,c),f!==a.firstChild&&a.replaceChild(f,a.firstChild);this.cellTypes[g.type].startup&&this.cellTypes[g.type].startup(f,b,c,d)},_getCellType:function(a){var b;a&&a.renderer&&"label"===a.renderer.type&&(!a.editor||"text"!==a.editor.type)?b=a.renderer:a&&a.renderer&&a.editor&&a.renderer.type===a.editor.type?b=a.renderer:a&&a.renderer&&"cell"===a.renderer.type?b=a.renderer:a&&a.editor&&
a.editor.type&&"default"!==a.editor.type&&this.cellTypes[a.editor.type]?b=a.editor:a&&a.renderer&&a.renderer.type&&this.cellTypes[a.renderer.type]?(b=e.clone(a.renderer),b.enabled=a.editable&&b.enabled):b={type:"default"};return b},_getCellFromNode:function(a){for(var b,c=-1;(!a.getAttribute("class")||0>a.getAttribute("class").indexOf("cell"))&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute("class")&&0<=a.getAttribute("class").indexOf("cell")){b=a;for(c=this.rowView.start-1;a.previousElementSibling;)c+=
1,a=a.previousElementSibling}return{node:b,row:c}},_onViewRangeUpdated:function(){},_updatePagedData:function(){var a=Math.floor(this._getScrollTop()/this.rowHeight),b=Math.floor(this.position.height/this.rowHeight),c=a+Math.floor(this.position.height/this.rowHeight);this.rowView=this._updateArrayBounds(a,a+b,this.dataModel.getCurrentStartRow(),this.dataModel.getCurrentEndRow(),this.paddingViewRows,this.toleranceViewRows,this.oldRowView,c);this.pagedDataRows=this._updateArrayBounds(a,a+b,0,this.dataModel.getRowCount(),
this.paddingPagedRows,this.tolerancePagedRows,{start:this.dataModel.getCurrentStartRow(),end:this.dataModel.getCurrentEndRow()},c);this._updateLoadingIndicator();this._doPagedDataUpdate()},_getScrollTop:function(){return this.dataScrollerNode.scrollTop},_updateLoadingIndicator:function(){var b=(this.pagedDataRows.changed||this.pagedDataCols.changed)&&(this.pagedDataRows.start!==this.dataModel.getCurrentStartRow()||this.pagedDataRows.end!==this.dataModel.getCurrentEndRow()||this.pagedDataCols.start!==
this.dataModel.getCurrentStartCol()||this.pagedDataCols.end!==this.dataModel.getCurrentEndCol());a.toggle(this.domNode,"dataLoading",b);b?this.domNode.addEventListener("contextmenu",n.preventDefaultMouseClick,!1):this.domNode.removeEventListener("contextmenu",n.preventDefaultMouseClick,!1)},_doPagedDataUpdate:function(){if((this.pagedDataRows.changed||this.pagedDataCols.changed)&&!this._requestUpdateTimeout){var a=this,b=function(){a.oldPagedDataRows=a.pagedDataRows;a.oldPagedDataCols=a.pagedDataCols;
a._requestUpdateTimeout=null;a.dataModel.updatePartialData(a.pagedDataRows.start,a.pagedDataRows.end,a.pagedDataCols.start,a.pagedDataCols.end)};0===this.pagedDataUpdateDelay?b():this._requestUpdateTimeout=setTimeout(b,this.pagedDataUpdateDelay)}},_updateArrayBounds:function(a,b,c,d,g,f,h,e){a=Math.max(a-g,c);b=Math.max(a,Math.min(b+g,d));g=!1;g=e?a===c&&a!==h.start||b===d&&b!==h.end||e>h.end||a<h.start||e>b||0===this.dataModel._partialData.length&&(0!==this.dataModel._rowCount||0!==this.dataModel._columnCount):
a===c&&a!==h.start||b===d&&b!==h.end||Math.abs(a-h.start)>f||Math.abs(b-h.end)>f;return{start:g?a:h.start,end:g?b:h.end,changed:g}},_updateDataStyles:function(){this.dataModel&&this.rowHeight&&(this.styleManager.updateStyleRules("spacerTop",{".body .spacer.topSpacer":"height: "+this.rowView.start*this.rowHeight+"px;"}),this.styleManager.updateStyleRules("dataHeight",{".spacer.dataHeight":"height: "+this.dataModel.getRowCount()*this.rowHeight+"px;",".row":"height: "+this.rowHeight+"px;",".row.verticalScrollSpacer":"height: 100%"}),
this._updateColumnStyles())},_updateColumnStyles:function(){var a=this._getCellType(this);this.styleManager.updateStyleRules("columns",{".dataColumn .cell":this._getColumnStyles(a)})},_getColumnStyles:function(a){return this.cellTypes[a.type].getColumnStyles?this.cellTypes[a.type].getColumnStyles(a):""},_incrementalUpdateNode:function(a){for(var b,c=a.node.firstElementChild,d=a.start,g=a.oldStart;null!==c.nextElementSibling&&(d<a.end||g<a.oldEnd);)c=c.nextElementSibling,g===d&&g<a.oldEnd&&d<a.end?
(a.update(c,a.data[d-a.start],a.oldData[g-a.oldStart],d),g+=1,d+=1):(d<g||d>=a.oldEnd)&&d<a.end?(b=a.create(a.data[d-a.start],d),a.node.insertBefore(b,c),c=b,d+=1):g<a.oldEnd&&(b=c.previousElementSibling,a.destroy&&a.destroy(c,g),a.node.removeChild(c),c=b,g+=1)}})})},"mw-style-utils/StyleUtils":function(){define(["dojo/_base/declare"],function(k){var d;k=k([],{constructor:function(b){this.styleGroups={};this.baseSelector=b},remove:function(){Object.keys(this.styleGroups).forEach(function(b){this["_"+
b+"Rules"]&&(this["_"+b+"Rules"].forEach(function(a){a.remove()}),delete this["_"+b+"Rules"])},this);this.styleGroups={}},updateStyleRules:function(b,a){var c=this.styleGroups[b],e=Object.keys(a),m,h=!1;if(c){var g=Object.keys(this.styleGroups[b]);if(g.length===e.length){g.sort();e.sort();for(m=0;m<g.length;m+=1)if(g[m]!==e[m]||c[e[m]]!==a[e[m]]){h=!0;break}}else h=!0}else h=!0;h&&(this.styleGroups[b]=a,c=e.map(function(b){return d.addRule(this.baseSelector+" "+b,a[b])},this),this["_"+b+"Rules"]&&
this["_"+b+"Rules"].forEach(function(a){a.remove()}),this["_"+b+"Rules"]=c)}});var e=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(e);var e=e.sheet,c=[];return d={addRule:function(b,a){var d=c.length;c[d]=e.cssRules.length;e.insertRule(b+"{"+a+"}",c[d]);var l=this;return{remove:function(){l.removeRule(d)}}},removeRule:function(b){var a=c[b];if(void 0!==a){e.deleteRule(a);for(c[b]=void 0;b<c.length;b+=1)c[b]>a&&(c[b]-=1)}},StyleManager:k}})},"variableeditor/views/table/tableBase/tableCellRenderers":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/dom-style","./TextUtils"],function(k,d,e,c){function b(){var a=document.createElement("div");a.setAttribute("class","verticalSpacer");return a}function a(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function f(a){var b=c.getTextStyleDashes(a||{});b.display=a&&!1===a.visible?"none":void 0;var d;a="";for(d in b)b.hasOwnProperty(d)&&b[d]&&(a+=d+":"+b[d]+";");return a}var l;return l={"default":{getColumnStyles:f,create:function(a,c){var d=document.createElement("div");d.setAttribute("class",
"plainText");var f=document.createElement("span");f.appendChild(document.createTextNode(c||""));d.appendChild(f);d.appendChild(b());return d},update:function(a,b,c){if("div"!==a.nodeName.toLowerCase()||!a.getAttribute("class")||"plainText"!==a.getAttribute("class"))return this.create(b,c);a.firstElementChild.firstChild.nodeValue=c}},checkbox:{getColumnStyles:f,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,
c);a.type="checkbox";!0===c||"true"===c?(a.setAttribute("checked",""),a.checked=!0):(a.removeAttribute("checked"),a.checked=!1);a.disabled=void 0===b.enabled?!1:!b.enabled},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"checkbox"===a.type)return a.checked?a.setAttribute("checked",""):a.removeAttribute("checked"),!!a.checked}},text:{getColumnStyles:f,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,
c);a.type="text";a.value=c;!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"text"===a.type)return a.value}},numeric:{getColumnStyles:f,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,c);a.type="text";a.value=c;!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===
a.nodeName.toLowerCase()&&"text"===a.type)return a.value}},color:{getColumnStyles:f,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,c);a.type="text";a.value="["+c[0].toFixed(3)+", "+c[1].toFixed(3)+", "+c[2].toFixed(3)+"]";!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"text"===a.type)return a=a.value.replace(/[\s\[\]]*/g,
"").split(","),[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])]}},list:{getColumnStyles:f,create:function(a,b){var c=document.createElement("select");this.update(c,a,b);return c},update:function(a,b,c){if("select"!==a.nodeName.toLowerCase())return this.create(b,c);this._addOptions(a,b,c);a.disabled=void 0===b.enabled?!1:!b.enabled},getCellValue:function(a,b,c){if("select"===a.nodeName.toLowerCase())return b=c.listValues[a.selectedIndex],this._addOptions(a,c,b),b},_addOptions:function(b,c,d){var f,
e,l;e=!1;if(c.listValues.length===b.children.length){for(f=0;f<c.listValues.length;f+=1)if(l=b.children[f],l.value!==c.listValues[f]||l.hasAttribute("selected")!==(l.value===d)){e=!0;break}if(!e)return}a(b);for(f=0;f<c.listValues.length;f+=1)e=c.listValues[f],l=document.createElement("option"),l.value=e,l.text=e,d===e&&l.setAttribute("selected",""),b.add(l)}},label:{getColumnStyles:f,create:function(a,b){var c=document.createElement("div");c.setAttribute("class","label");this.update(c,a,b);return c},
update:function(c,d,g){if("div"!==c.nodeName.toLowerCase()||"label"!==c.getAttribute("class"))return this.create(d,g);g.background&&c.setAttribute("style","background: rgb("+g.background.join(",")+")");a(c);g.icon&&c.appendChild(g.icon.cloneNode());d=document.createElement("label");"string"===typeof g.value?this._setLabel(d,g.value):"string"===typeof g&&this._setLabel(d,g);c.appendChild(d);c.appendChild(b())},_setLabel:function(a,b){var c=b.trim();0===c.indexOf("\x3chtml\x3e")?a.innerHTML=c.substring(6,
c.length-7):a.appendChild(document.createTextNode(b))}},expand:{create:function(a,b){var c=document.createElement("div");c.setAttribute("class","expand");var d=document.createElement("div"),f=document.createElement("div");c.appendChild(d);c.appendChild(f);this.update(c,a,b);return c},update:function(b,c,d){if("div"!==b.nodeName.toLowerCase()||"expand"!==b.getAttribute("class"))return this.create(c,d);c=b.firstChild;b=c.nextElementSibling;a(c);a(b);if(d.expandable){var f=document.createElement("button");
d.expanded&&f.setAttribute("class","expanded");c.appendChild(f)}f="";for(c=0;c<d.depth;c+=1)f+="  ";b.appendChild(document.createTextNode(f+d.text))}},prop:{create:function(a,b){var c=document.createElement("div");c.setAttribute("class","prop");var d=document.createElement("div"),f=document.createElement("div"),e=document.createElement("div");c.appendChild(d);c.appendChild(f);c.appendChild(e);this.update(c,a,b);return c},update:function(b,c,d){if("div"!==b.nodeName.toLowerCase()||"prop"!==b.getAttribute("class"))return this.create(c,
d);b=b.firstChild;c=b.nextElementSibling;var f=c.nextElementSibling;a(b);a(c);a(f);this["_"+d.leftType](b,"left",d);this["_"+d.middleType](c,"middle",d);this["_"+d.rightType](f,"right",d)},getCellValue:function(a,b,c,f){if(f&&"text"===f.middleType)return a=d.clone(f),a.middleText=b.value,a},_label:function(a,b,c){if(c[b+"Text"]){var d=document.createTextNode(c[b+"Text"]);a.appendChild(d)}this._appendIcon(a,c[b+"Icon"])},_text:function(a,b,c){var d=document.createElement("input");d.type="text";d.value=
c[b+"Text"];a.appendChild(d)},_button:function(a,b,c){var d=document.createElement("button");c[b+"Text"]&&d.appendChild(document.createTextNode(c[b+"Text"]));this._appendIcon(d,c[b+"Icon"]);a.appendChild(d)},_dropdown:function(a,b,c){var d=document.createElement("button");c[b+"Text"]&&d.appendChild(document.createTextNode(c[b+"Text"]));this._appendIcon(d,c[b+"Icon"]);a.appendChild(d)},_space:function(){},_appendIcon:function(a,b){"string"===typeof b?a.setAttribute("class",b+"Icon"):b instanceof Image&&
a.appendChild(b.cloneNode())}},cell:{create:function(a,b){var c=b&&b.renderer&&b.renderer.type,c=c&&l[c]?l[c].create(b.renderer,b.value):l["default"].create(b.renderer,b.value);this._updateNode(c,b.renderer);return c},update:function(a,b,c){if((b=c&&c.renderer&&c.renderer.type)&&l[b])if(l[b].update){if(b=l[b].update(a,c.renderer,c.value),!b){this._updateNode(a,c.renderer);return}}else b=l[b].create(c.renderer,c.value);else b=l["default"].create(c.renderer,c.value);this._updateNode(b,c.renderer);return b},
getCellValue:function(a,b,c,f){if((c=f.renderer.type)&&l[c]&&l[c].getCellValue){var e=d.clone(f);e.value=l[c].getCellValue(a,b,f.renderer,f.value);return e}},_updateNode:function(a,b){var c=b&&b.type;c&&l[c].getColumnStyles?a.setAttribute("style",l[c].getColumnStyles(b)):l["default"].getColumnStyles&&a.setAttribute("style",l["default"].getColumnStyles(b))}}}})},"variableeditor/views/table/tableBase/TextUtils":function(){define([],function(){var k={size:"fontSize",family:"fontFamily",style:"fontStyle",
weight:"fontWeight",align:"textAlign",valign:"verticalAlign",color:"color"},d={size:"font-size",family:"font-family",style:"font-style",weight:"font-weight",align:"text-align",valign:"vertical-align",color:"color"};return{getTextStyle:function(d){return this._getTextStyle(d,k)},getTextStyleDashes:function(e){return this._getTextStyle(e,d)},_getTextStyle:function(d,c){var b=null,a={Dialog:"Helvetica",DialogInput:"Monaco",Monospaced:"monospace",Serif:"serif",SansSerif:"sans-serif",Helvetica:"Helvetica"},
b=!1===d.enabled?[128,128,128]:d.fontColor,f={};f[c.size]=d.fontSize?d.fontSize+"px":void 0;f[c.family]=d.fontName?a[d.fontName]:void 0;f[c.style]=d.fontItalic?"italic":void 0;f[c.weight]=d.fontBold?"bolder":void 0;f[c.align]=d.horizontalAlignment||d.textAlign;f[c.valign]=d.verticalAlignment;f[c.color]=b?"rgb("+b.join(",")+")":"";return f}}})},"variableeditor/views/table/_VETableHeaders":function(){define("variableeditor/views/table/_VETableHeaders","dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys variableeditor/views/table/tableBase/_TableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){return k([h],{pseudoStyleForFirstColumnHeaderCell:"content: ''; position: absolute; width: 3px; left: 32px; background-color: rgb(192, 192, 192); height: 36px;",_updateHeaderStyles:function(){var a=n.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),b=n.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),c=this.getTableModelProperty("ShowHeaderIcons");this.inherited(arguments);if(this.dataModel){var d="22px;";a&&b?d=
"36px;":void 0!==c&&(d="30px;");this.pseudoStyleForFirstColumnHeaderCell="content: ''; position: absolute; width: 3px; left: 32px; background-color: rgb(192, 192, 192); height: "+d;this.styleManager.updateStyleRules("columnHeader",{".row.dataWidth.spacer":"height: "+d});this.styleManager.updateStyleRules("cornerSpaceHeader",{".inline.row.cornerSpacer.rowHeaderColumn.rowHeadersWrapper.topRowHeaderWrapper":"height: "+d});a=this._isHorizontalScrollBarShown()?this.scrollbarWidth:0;b=n.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),
!0)?d:"0px";this.styleManager.updateStyleRules("rows",{".body":"padding-top: "+b+"margin-top: "+("-"+d),".body .rowHeadersWrapper":"padding-bottom: "+a+"px;"})}},_updateCornerSpacerLabel:function(a){var b=this.getTableModelProperty("CornerSpacerTitle");if(void 0!==b){var c=document.createElement("div");n.addToClassList(c,"cornerSpacer rowHeaderColumn topRowHeaderWrapper label");var d=document.createElement("span");d.appendChild(document.createTextNode(b));c.appendChild(d);a.insertBefore(c,a.firstChild)}else if(void 0!==
a.firstChild.className&&(a=document.getElementsByClassName("cornerSpacer rowHeaderColumn topRowHeaderWrapper label"),0!==a.length))for(b=0;b<a.length;b++)a[b].parentNode.removeChild(a[b].parentNode.firstChild)},_addHeaderIconCSS:function(a,b){n.addToClassList(b,"icon");var c=p.IconTypeMap.hasOwnProperty(a)?p.IconTypeMap[a]:p.IconTypeMap.object;b.className.match(/iconVariableEditor([a-zA-Z]+)/)?b.className=b.className.replace(/iconVariableEditor([a-zA-Z]+)/,c):n.addToClassList(b,"variableEditorRenderers "+
c)}})})},"variableeditor/views/table/tableBase/_TableHeaders":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style ./tableCellRenderers variableeditor/views/table/_HeadersBase variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/table/VariableEditorColumnHeader.html dojo/text!variableeditor/views/table/VariableEditorRowHeader.html dijit/registry variableeditor/VariableEditorUtils".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){return k([f],{oldColumnData:[],
oldRowData:[],constructor:function(){this.defaultProperties=d.delegate(this.defaultProperties,{tableHeader:!1,showRowHeaders:!1,rowHeaderWidth:30,rows:[]})},_onDataScroll:function(){this.inherited(arguments);this.scrollbarWidth=g.getBrowserScrollBarWidth(this);this.columnHeaderScrollerNode.scrollLeft=this.dataScrollerNode.scrollLeft;this.rowHeaderScrollerNode.scrollTop=this.dataScrollerNode.scrollTop},_onViewRangeUpdated:function(){this.inherited(arguments);this._renderRowHeader();this._renderColumnHeader();
this._updateHeaderStyles()},_renderColumnHeader:function(){var a=this.columns.slice(this.colView.start,this.colView.end);this._updateCornerSpacerLabel(this.cornerSpacerNode);if(a.length===this.colView.end-this.colView.start){var b=this;this._incrementalUpdateNode({node:this.columnHeaderNode,data:a,oldData:this.oldColumnData,start:this.colView.start,end:this.colView.end,oldStart:0,oldEnd:this.oldColumnData.length,update:function(a,c){b._updateColumnNode(a,c)},create:function(a){return b._createColumnNode(a)}});
this.oldColumnData=a}},_updateColumnNode:function(a,b){var c=h.getEnclosingWidget(a);e.replace(a,"header_"+b.labelIndex,"header_"+c.indexValue);b.labelIndex?(c.setIndexValue(b.labelIndex),c.setIndexProperty(parseInt(b.labelIndex)-1),c.setNodeDisplay("headerIndex",!0)):c.setNodeDisplay("headerIndex",!1)},_createColumnNode:function(b){b=new a({templateString:l,indexValue:b.labelIndex?b.labelIndex:""});b.startup();b.setNodeDisplay("headerIndex",!0);return b.domNode},_renderRowHeader:function(){var a=
this.rows.slice(this.rowView.start,this.rowView.end);if(a.length===this.rowView.end-this.rowView.start){var b=this;this._incrementalUpdateNode({node:this.rowHeaderNode,data:a,oldData:this.oldRowData,start:this.rowView.start,end:this.rowView.end,oldStart:0,oldEnd:this.oldRowData.length,update:function(a,c,d,g){b._updateRowNode(a,c,d,g)},create:function(a,c){return b._createRowNode(a,c)}});this.oldRowData=a}},_updateRowNode:function(a,b,c,d){c=h.getEnclosingWidget(a);e.replace(a,"header_"+b.labelIndex,
"header_"+c.indexValue);b.labelIndex?(c.setIndexProperty(parseInt(b.labelIndex)-1),c.setIndexValue(b.labelIndex),c.setNodeDisplay("headerIndex",!0)):c.setNodeDisplay("headerIndex",!1)},_createRowNode:function(b,c){var d=this.domNode.getElementsByClassName("variableEditorRowHeaders header_"+(void 0===b?c:b.labelIndex));d.parentNode&&d.parentNode.removeChild(d);d=new a({templateString:m,indexValue:void 0===b?c:b.labelIndex});d.startup();d.setNodeDisplay("headerIndex",!0);return d.domNode},_updateHeaderStyles:function(){if(this.dataModel){this.tableHeader=
g.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0);var a=(this.showRowHeaders=g.getLogicalValue(this.getTableModelProperty("ShowRowHeaders"),!0))?this.rowHeaderWidth:0,b=this._isVerticalScrollBarShown()?this.scrollbarWidth:0,c=this._isHorizontalScrollBarShown()?this.scrollbarWidth:0,d=this.showRowHeaders?this.headerPadding:0;this.styleManager.updateStyleRules("rowHeader",{".rowHeaderColumn .row":"width: "+a+"px;",".headerWrapper":"padding-right: "+(a+d+b)+"px; margin-right: "+-(a+
d+b)+"px;",".dataBodyWrapper":"padding-right: "+(a+d)+"px; margin-right: "+-(a+d)+"px;"});a=this.tableHeader?this.rowHeight+this.headerPadding:0;this.styleManager.updateStyleRules("rows",{".body":"padding-top: "+a+"px;margin-top: "+-a+"px;",".body .rowHeadersWrapper":"padding-bottom: "+c+"px;"})}},_isVerticalScrollBarShown:function(){var a=this.tableHeader?this.rowHeight:0;return this.dataModel.getRowCount()*this.rowHeight>=this.position.height-a},_isHorizontalScrollBarShown:function(){return this.totalColumnWidth>=
this.position.width-(this.showRowHeaders?this.rowHeaderWidth:0)},_updateScrollerStyles:function(){e.toggle(this.domNode,"hideVerticalScroll",!this._isVerticalScrollBarShown());e.toggle(this.domNode,"hideHorizontalScroll",!this._isHorizontalScrollBarShown())}})})},"variableeditor/views/table/_HeadersBase":function(){define("variableeditor/views/table/_HeadersBase","dojo/_base/declare dojo/string dojo/_base/lang dojo/_base/Color dojo/dom-style variableeditor/VariableEditorUtils variableeditor/constants/TypeConstants variableeditor/views/editors/_EditorBase dojo/parser dojo/dom-construct dojo/keys dojo/on variableeditor/views/editors/TextBoxEditor variableeditor/views/renderers/_TemplateMixin dijit/layout/ContentPane variableeditor/views/renderers/_VERendererMixin dojo/i18n!variableeditor/app/l10n/nls/app dojo/text!variableeditor/views/table/DefaultHeaderTemplate.html dojo/dom-class".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w){return k("variableeditor.views.table._HeadersBase",[r,l,s],{_inputBoxIndex:null,_inputBoxLabel:null,labelValue:null,indexValue:null,CHANNEL_DuplicateRowHeader:"ErrorDuplicateRowHeader",CHANNEL_DuplicateColumnHeader:"ErrorDuplicateColumnHeader",HEADER_INDEX_ATTACH_POINT:"headerIndex",HEADER_LABEL_ATTACH_POINT:"headerLabel",HEADER_BREAK_ATTACH_POINT:"lineBreak",constructor:function(a){this.templateString=u;this.editable=!1;a&&(this._allArgs=a,this.init(a));
m.parse()},init:function(a){this._allArgs=e.mixin({},a);this.templateString=a.templateString?a.templateString:u;this.editable=a.editable||!1;this.showLabels=a.showLabels||!1;this.showIndices=a.showIndices?a.showIndices:!0;this.editOnKeyPress=a.editOnKeyPress||!1;this.editOnSingleClick=a.editOnSingleClick||!1;this.labelValue=a.labelValue?a.labelValue:"";this.indexValue=a.indexValue?a.indexValue:""},setLabelValue:function(a){this._inputBoxLabel.setValue(a);this._inputBoxLabel.setEditValue(a);this.labelValue=
this._inputBoxLabel.value=a;this._inputBoxLabel.domNode.querySelector("input").setAttribute("value",this._inputBoxLabel.domNode.querySelector("input").value)},setIndexValue:function(a){this._inputBoxIndex.setValue(a);this.indexValue=this._inputBoxIndex.value=a},setIndexProperty:function(a){this._inputBoxIndex.index=a;this._inputBoxLabel.index=a},setNodeDisplay:function(a,c){var d=this._getAttachNode(a);d&&(c?b.set(d,"display",""):b.set(d,"display","none"));a===this.HEADER_INDEX_ATTACH_POINT?this.showIndices=
c:a===this.HEADER_LABEL_ATTACH_POINT&&(this.showLabels=c)},_isValidHeaderName:function(a){return 0<a.length},_handleError:function(b){var c=this._inputBoxLabel,g=c._value;c._revert();b?a.displayErrorMessage(b):a.displayErrorMessage(d.substitute(t.duplicateVariableNames,{varName:"'"+g+"'"}))},postCreate:function(){this._setupInputBoxIndex();this._setupInputBoxLabel()},_setupInputBoxIndex:function(){var a=this._getAttachNode(this.HEADER_INDEX_ATTACH_POINT);a&&(this._inputBoxIndex=new n({value:this.indexValue,
index:parseInt(this.indexValue)-1}),k.safeMixin(this._inputBoxIndex,new q),this._inputBoxIndex.addCSSClasses("NonEditableHeader"),h.place(this._inputBoxIndex.domNode,a,"last"),w.add(this.domNode,"header_"+this.indexValue))},_setupInputBoxLabel:function(){var a=this._getAttachNode(this.HEADER_LABEL_ATTACH_POINT);a&&(this._inputBoxLabel=new n({value:this.labelValue,editable:this.editable,editOnKeyPress:this.editOnKeyPress,editOnSingleClick:this.editOnSingleClick,index:parseInt(this.indexValue)-1}),
k.safeMixin(this._inputBoxLabel,new q),this._setEditable(this._inputBoxLabel,this.editable),h.place(this._inputBoxLabel.domNode,a,"last"))},_setEditable:function(a,b){a.setEditable(b);(a._commitOnBlur=b)?(a.setInPlaceEditor(a),a.removeCSSClasses("NonEditableHeader"),a.addCSSClasses("EditableHeader")):(a.setInPlaceEditor(""),a.removeCSSClasses("EditableHeader"),a.addCSSClasses("NonEditableHeader"))},_setReadOnly:function(a){}})})},"variableeditor/views/editors/_EditorBase":function(){define("variableeditor/views/editors/_EditorBase",
"dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/keys dojo/dom-class dojo/dom-construct dojo/dom dijit/focus variableeditor/views/renderers/_RendererBase mw-peermodel/Observable".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){return k("variableeditor.views.editors._EditorBase",[h,g.Impl],{_renderer:void 0,_editing:!1,_commitOnBlur:!0,_originalValue:void 0,_originalState:void 0,_blurListeners:void 0,_notEditableCSSClass:"venoteditable",constructor:function(a){this._editing=!1;this._commitOnBlur=
!0;this._renderer=void 0;a&&this.init(a);this._blurListeners={}},destroy:function(){this.inherited(arguments);this.commitOnBlur=this._commitOnBlur=null;delete this._allArgs.commitOnBlur;this._allArgs.commitOnBlur=null},init:function(a){a&&(this._allArgs=d.mixin({},a),this._renderer=a.renderer||this,this._commitOnBlur=void 0!==a.commitOnBlur?a.commitOnBlur:void 0!==a.editable?a.editable:!0,this._originalValue=a.value,this._originalState=a.state,this._value=a.value,this._state=a.state,this._editable=
this._getPossibleBooleanFunctionValue(a.editable));this.inherited(arguments)},setRenderer:function(a){this._renderer=a},postCreate:function(){this.inherited(arguments)},_setupBlurListener:function(){this._changeObjectListenersState(this._blurListeners,"remove");var a=e(m,"widget-blur",this._handleBlurEvent.bind(this));this._blurListeners.widgetBlur=a},_handleBlurEvent:function(a){a===this&&(this._clickCount=0,this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&this._editing?this.stopEditing():
this._editing&&this.cancelEditing())},_changeListenerState:function(a){a&&"string"===typeof a&&(this.inherited(arguments),this._changeObjectListenersState(this._blurListeners,a))},_handleMouseEvent:function(a){if(this._renderer===this)this.inherited(arguments);else{var b=a;b.renderer=this;this.dispatchEvent(a.type,this,b);a.stopPropagation()}},_handleKeyboardEvent:function(a){this.isEditing()||this.inherited(arguments)},_focus:function(a){a&&a.isFocusable&&a.isFocusable()&&a.focusNode?m.focus(a.focusNode):
a&&(a.domNode&&a.domNode.focus)&&a.domNode.focus()},_swapOutRenderer:function(){this._renderer&&this._renderer!==this&&(this._renderer.domNode&&this.domNode)&&(f.place(this.domNode,this._renderer.domNode,"replace"),this._resumeListeners());(!this.application||"EmbeddedInspectorInRichEditor"!==this.application)&&this._focus(this)},_swapInRenderer:function(){this._renderer&&this._renderer!==this&&(this._renderer.domNode&&this.domNode)&&(f.place(this._renderer.domNode,this.domNode,"replace"),this._pauseListeners());
(!this.application||"EmbeddedInspectorInRichEditor"!==this.application)&&this._focus(this._renderer)},edit:function(){this._editing||(this.addCSSClasses("Editing"),this._originalValue=this._value,this._originalState=this.getState(),this._editing=!0,this._swapOutRenderer(),this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state}));this._changeObjectListenersState(this._mouseListeners,"pause");this._setupBlurListener();this._keyboardListeners.keypress.pause()},
editOverride:function(a){this._editing||(this.addCSSClasses("Editing"),this._originalValue=this._value,this._originalState=this.getState(),this._editing=!0,this._swapOutRenderer(),this.dispatchEvent("editingStarted",this,{editor:this,overrideValue:a,currentValue:this._value,currentState:this._state}));this._changeObjectListenersState(this._mouseListeners,"pause");this._setupBlurListener();this._keyboardListeners.keypress.pause()},stopEditing:function(){this._editing&&(this.removeCSSClasses("Editing"),
this._commit(),this._clickCount=0,this._originalState=this.getState(),this._editing=!1,this._swapInRenderer(),this.dispatchEvent("editingStopped",this,{editor:this,value:this._value,state:this._state}));this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._blurListeners,"remove");this._keyboardListeners.keypress.resume()},cancelEditing:function(){this._editing&&(this.removeCSSClasses("Editing"),this._value=this._originalValue,this._state=this._originalState,
this.dispatchEvent("editingCanceled",this,{editor:this}),this.stopEditing())},isEditing:function(){return this._editing},setEditable:function(a){this._getPossibleBooleanFunctionValue(this._editable)!==this._getPossibleBooleanFunctionValue(a)&&(this._editable=a,a=this._getPossibleBooleanFunctionValue(this._editable),this.domNode&&(a||this.isEditing()&&this.cancelEditing(),this._setReadOnly(!a)))},_getUIValue:function(){return"Method must be overridden"},_setUIValue:function(){return"Method must be overridden"},
_commit:function(){var a=this._getUIValue();null!==a&&void 0!==a&&this.hasValueChanged(a)?this.setValue(a,"client"):this._setUIValue(this._originalValue)},_revert:function(){this._setUIValue(this._originalValue);this._value=this._originalValue;this._state=this._originalState}})})},"variableeditor/views/renderers/_RendererBase":function(){define("variableeditor/views/renderers/_RendererBase","dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/keys dojo/dom-class dojo/dom dijit/focus dijit/_WidgetBase variableeditor/constants/ClassTypeMaps variableeditor/constants/CssClassConstants variableeditor/VariableEditorUtils mw-log/Log mw-peermodel/Observable".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k("variableeditor.views.renderers._RendererBase",[m,s.Impl],{_editable:!1,_editOnSingleClick:!1,_editOnKeyPress:!0,_editor:void 0,_inPlaceEditor:void 0,_value:void 0,_editValue:void 0,_state:void 0,_mouseListeners:{},_keyboardListeners:{},_allArgs:{},_lastEditTimeStamp:(new Date).getTime(),_clickCount:0,_doubleClickTimer:void 0,_doubleClickDuration:300,_editorListenersPaused:!1,_rendererBlurListeners:null,constructor:function(a){this._editOnSingleClick=
this._editable=!1;this._editOnKeyPress=!0;this._state=this._editValue=this._value=this._inPlaceEditor=this._editor=void 0;this._mouseListeners={};this._keyboardListeners={};this._allArgs=d.mixin({},a);this._lastEditTimeStamp=(new Date).getTime();this._clickCount=0;a&&this.init(a)},init:function(a){a&&(this.setEditable(void 0!==a.editable?this._getPossibleBooleanFunctionValue(a.editable,!1):!1),this.setEditOnSingleClick(void 0!==a.editOnSingleClick?this._getPossibleBooleanFunctionValue(a.editOnSingleClick,
!1):!1),this.setEditOnKeyPress(void 0!==a.editOnKeyPress?this._getPossibleBooleanFunctionValue(a.editOnKeyPress,!0):!0),this.setValue(a.value),this.setEditValue(a.editValue),this.setState(a.state),this.setInPlaceEditor(a.inPlaceEditor),this.setEditor(a.editor))},postCreate:function(){this._setupKeyboardListeners();this._setupMouseListeners();void 0!==this._allArgs.value&&this.setValue(this._allArgs.value);void 0!==this._allArgs.state&&this.setState(this._allArgs.state);void 0!==this._allArgs.cssSpecifier&&
this.addCSSClasses(this._allArgs.cssSpecifier)},destroy:function(){this._removeListeners();this._editor&&void 0===this._editor._destroyed&&(this._editor.destroy(),this._editor=null);this._inPlaceEditor=this._renderer=null;this._rendererBlurListeners&&this._rendererBlurListeners.widgetBlur&&(this._rendererBlurListeners.widgetBlur.remove(),delete this._rendererBlurListeners.widgetBlur,this._rendererBlurListeners=null,delete this._rendererBlurListeners);this.inherited(arguments)},_setupRendererBlurListeners:function(){var a=
d.hitch(this,"_handleRendererBlurEvent");this._rendererBlurListeners={widgetBlur:e.pausable(l,"widget-blur",a)}},_handleRendererBlurEvent:function(a){a===this&&(this._clickCount=0,this._rendererBlurListeners&&this._rendererBlurListeners.widgetBlur&&(this._rendererBlurListeners.widgetBlur.remove(),this._rendererBlurListeners=null))},_setupMouseListeners:function(){this._changeObjectListenersState(this._mouseListeners,"remove");var a=d.hitch(this,"_handleMouseEvent");this._mouseListeners.mousedown=
e.pausable(this.domNode,"mousedown",a);this._mouseListeners.mouseup=e.pausable(this.domNode,"mouseup",a);this._mouseListeners.click=e.pausable(this.domNode,"click",a);this._mouseListeners.dblclick=e.pausable(this.domNode,"dblclick",a);this._mouseListeners.mousemove=e.pausable(this.domNode,"mousemove",a);this._mouseListeners.mouseover=e.pausable(this.domNode,"mouseover",a);this._mouseListeners.mouseout=e.pausable(this.domNode,"mouseout",a);this._mouseListeners.mouseenter=e.pausable(this.domNode,"mouseenter",
a);this._mouseListeners.mouseleave=e.pausable(this.domNode,c.leave,a)},_handleMouseEvent:function(a){a.renderer=this;this.dispatchEvent(a.type,this,a);"dblclick"===a.type&&(!a.metaKey&&!a.ctrlKey)&&(this._doubleClickTimer&&(clearTimeout(this._doubleClickTimer),this._doubleClickTimer=void 0),this._edit(),this._clickCount=0);"mouseup"===a.type&&(this._setupRendererBlurListeners(),!this._editOnSingleClick&&this._inPlaceEditor===this&&this._focus());if(this.isEditable()){if("mouseup"===a.type){if(this._handleMouseUp){!this._editOnSingleClick&&
this._inPlaceEditor===this&&this._handleMouseUp();return}a.stopPropagation()}if("click"===a.type){this._clickCount+=1;var b=d.hitch(this,this._delayedInPlaceEdit);this._editOnSingleClick?void 0===this._doubleClickTimer&&(!a.metaKey&&!a.ctrlKey)&&(this._doubleClickTimer=setTimeout(b,this._doubleClickDuration)):void 0===this._doubleClickTimer&&2===this._clickCount&&(!a.metaKey&&!a.ctrlKey)&&(this._doubleClickTimer=setTimeout(b,this._doubleClickDuration));a.stopPropagation()}("mousedown"===a.type||"dblclick"===
a.type)&&a.stopPropagation()}},_delayedInPlaceEdit:function(){this._inPlaceEdit();this._doubleClickTimer=void 0;this._clickCount=0},_edit:function(){var a=(new Date).getTime()-this._lastEditTimeStamp>=this._doubleClickDuration;this._editor&&this._editor.edit&&(!this.isEditing()||!a)?(this._editor!==this&&(this._editor.setValue(this._value),this._editor.setEditValue(this._editValue),this._editor.setState(this._state)),this._editor.edit(),this._lastEditTimeStamp=(new Date).getTime()):this._inPlaceEdit()},
edit:function(){this._inPlaceEditor?this._inPlaceEdit():this._edit()},stopEditing:function(){this.isEditing()&&(this._inPlaceEditor&&this._inPlaceEditor.stopEditing&&this._inPlaceEditor.stopEditing(),this._editor&&this._editor.stopEditing&&this._editor.stopEditing())},cancelEditing:function(){this.isEditing()&&(this._inPlaceEditor&&this._inPlaceEditor.cancelEditing&&this._inPlaceEditor.cancelEditing(),this._editor&&this._editor.cancelEditing&&this._editor.cancelEditing())},_inPlaceEdit:function(){this.isEditable()&&
(this._inPlaceEditor&&this._inPlaceEditor.edit&&!this.isEditing())&&(this._inPlaceEditor!==this&&(this._editorListenersPaused=!0,this._inPlaceEditor.setValue(this._value),this._inPlaceEditor.setEditValue(this._editValue),this._inPlaceEditor.setState(this._state),this._editorListenersPaused=!1),this._lastEditTimeStamp=(new Date).getTime(),this._inPlaceEditor.edit())},_setupKeyboardListeners:function(){this._changeObjectListenersState(this._keyboardListeners,"remove");var a=d.hitch(this,"_handleKeyboardEvent");
this._keyboardListeners.keydown=e.pausable(this.domNode,"keydown",a);this._keyboardListeners.keyup=e.pausable(this.domNode,"keyup",a);this._keyboardListeners.keypress=e.pausable(this.domNode,"keypress",a)},_handleKeyboardEvent:function(a){a.renderer=this;this.dispatchEvent(a.type,this,a);if(this.isEditable()&&this._isValidKeyDownEvent(a)&&this.isEditOnKeyPress()){var c=this._getKeyCode(a);this._inPlaceEditor&&(this._inPlaceEditor.editOverride&&null!==c&&c!==b.ENTER)&&(this._inPlaceEditor.editOverride(this._getStringForEvent(a)),
a.preventDefault())}8===this._getKeyCode(a)&&a.preventDefault()},_setupEventListeners:function(a){this.addEventListener&&(this.addEventListener("valueChanged",d.hitch(a,a.onValueChanged)),this.addEventListener("editingStarted",d.hitch(a,a.onEditingStarted)),this.addEventListener("editingStopped",d.hitch(a,a.onEditingStopped)),this.addEventListener("mousedown",d.hitch(a,a.onMouseDown)),this.addEventListener("mouseenter",d.hitch(a,a.onMouseEnter)),this.addEventListener("mouseup",d.hitch(a,a.onMouseUp)))},
setEditable:function(a){this._editable=a},_getPossibleBooleanFunctionValue:function(a,b){if("function"===typeof a)return a.call(this,this._state,this._value);void 0===b&&(b=!0);return p.getLogicalValue(a,b)},isEditable:function(){return this._getPossibleBooleanFunctionValue(this._editable)},setEditOnSingleClick:function(a){this._editOnSingleClick=a},isEditOnSingleClick:function(){return this._getPossibleBooleanFunctionValue(this._editOnSingleClick)},setEditOnKeyPress:function(a){this._editOnKeyPress=
a},isEditOnKeyPress:function(){return this._getPossibleBooleanFunctionValue(this._editOnKeyPress)},setEditor:function(a,b){var c=this;a===this?this._editor=this:this._createEditor(a,"_editor",function(a){c._editor=a.editor;c._setupEditorListeners("_editor");b&&"function"===typeof b&&b({renderer:a.renderer,editor:a.editor})})},getEditor:function(){return this._editor},setInPlaceEditor:function(a,b){var c=this;a===this?this._inPlaceEditor=this:""===a||null===a||void 0===a?this._setReadOnly&&this._setReadOnly(!0):
this._createEditor(a,"_inPlaceEditor",function(a){c._inPlaceEditor=a.editor;c._setupEditorListeners("_inPlaceEditor");b&&"function"===typeof b&&b({renderer:a.renderer,inPlaceEditor:a.editor})})},getInPlaceEditor:function(){return this._inPlaceEditor},_createEditor:function(a,b,c){if(a&&"string"===typeof a){var g=this;try{require([a],function(a){try{if(g.isInstanceOf(a))g[b]=g,g._renderer=g;else{var f=g[b];if(f&&f.isInstanceOf(a))f.setValue(g._value),f.setEditValue(g._editValue),f.setState(g._state);
else{var h=d.mixin(g._allArgs,{renderer:g,value:g.getValue(),state:g._state,inPlaceEditor:void 0,editor:void 0}),e=new a(h);e.startup&&e.startup();g.own(e);g._createEditor(e,b,c)}}}catch(l){n.error(l)}})}catch(f){n.error(f)}}else c&&"function"===typeof c&&c({renderer:this,editor:a})},_setupEditorListeners:function(a){if(a=this[a])a.addEventListener("valueChanged",d.hitch(this,"_editorValueChanged")),a.addEventListener("stateChanged",d.hitch(this,"_editorStateChanged")),a.addEventListener("editingStarted",
d.hitch(this,"_handleEditorEditingStarted")),a.addEventListener("editingStopped",d.hitch(this,"_handleEditorEditingStopped")),a.addEventListener("editingCanceled",d.hitch(this,"_handleEditorEditingCanceled"))},_handleEditorEditingStarted:function(a){a=d.mixin(a.data,{renderer:this});this.dispatchEvent("editingStarted",this,a);this._changeObjectListenersState(this._mouseListeners,"pause");this._changeObjectListenersState(this._keyboardListeners,"pause")},_handleEditorEditingStopped:function(a){a=d.mixin(a.data,
{renderer:this});this.dispatchEvent("editingStopped",this,a);this._clickCount=0;this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._keyboardListeners,"resume")},_handleEditorEditingCanceled:function(a){a=d.mixin(a.data,{renderer:this});this.dispatchEvent("editingCanceled",this,a);this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._keyboardListeners,"resume")},_editorValueChanged:function(a){this._editorListenersPaused||
this.setValue(a.data.newValue)},_editorStateChanged:function(a){this._editorListenersPaused||this.setState(a.data.newState)},setValue:function(a,b,c){p.compareValues(this._value,a)||(void 0===b&&(b="client"),this._originalValue=c=this._value,this._value=a,this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setValue)&&this._inPlaceEditor.setValue(a),this.dispatchEvent("valueChanged",this,{renderer:this,oldValue:c,newValue:a,source:b}))},getValue:function(){return this._value},hasValueChanged:function(a){return this._originalValue!==
a&&this._editValue!==a},setEditValue:function(a,b){if(JSON.stringify(this._editValue)!==JSON.stringify(a)){var c=this._editValue;this._editValue=a;void 0===b&&(b="client");this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setEditValue)&&this._inPlaceEditor.setEditValue(a);this.dispatchEvent("editValueChanged",this,{renderer:this,oldValue:c,newValue:a,source:b})}},getEditValue:function(){return this._editValue},setState:function(a,b){if(JSON.stringify(this._state)!==JSON.stringify(a)){var c=
this.getState();this._state=a;this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setState)&&this._inPlaceEditor.setState(a);this._editor&&(this._editor!==this&&this._editor.setState)&&this._editor.setState(a);void 0===b&&(b="client");this.dispatchEvent("stateChanged",this,{renderer:this,oldState:c,newState:a,source:b})}},getState:function(){void 0===this._state&&(this._state=this._getDefaultState());return this._state},_pauseListeners:function(){this._changeListenerState("pause")},
_resumeListeners:function(){this._changeListenerState("resume")},_removeListeners:function(){this._changeListenerState("remove");this._mouseListeners={};this._keyboardListeners={}},_changeListenerState:function(a){a&&"string"===typeof a&&(this._changeObjectListenersState(this._mouseListeners,a),this._changeObjectListenersState(this._keyboardListeners,a))},_changeObjectListenersState:function(a,b){if(a)for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d&&d[b])d[b]()}},_applyCssClass:function(a,
b,c,d){a=p.getClassNameForIconList(void 0===a?"object":a);d||(d=this.domNode);this.removeCSSClasses(h.ClassArray,d);b?(this.addCSSClasses(g.MGG_CELL,d),this.addCSSClasses(g.TEMPORARY,d)):(this.addCSSClasses(g.VE_RENDERERS,d),c?(h.IconTypeMap.hasOwnProperty(a)?p.addToClassList(d,h.IconTypeMap[a]):p.addToClassList(d,h.IconTypeMap.object),this.addCSSClasses("icon",d)):(this.addCSSClasses(g.MGG_CELL,d),this.addCSSClasses(h.ClassTypeMap[a],d)))},createDataTag:function(){return p.createDataTag("views",
"renderers",arguments)},_isValidKeyDownEvent:function(a){var c=this._getOriginalKeyCode(a);return 64<c&&91>c&&(a.ctrlKey||a.metaKey)?!1:47<c&&58>c||32===c||13===c||64<c&&91>c||95<c&&112>c||185<c&&193>c||218<c&&223>c&&c!==b.CTRL&&c!==b.META},_getKeyCode:function(a){a=this._getOriginalKeyCode(a);95<a&&106>a&&(a-=48);return a},_getOriginalKeyCode:function(a){return a.which?a.which:a.keyCode?a.keyCode:a.charCode?a.charCode:a.key?a.key:null},_getStringForEvent:function(a){var b=this._getKeyCode(a);222===
a.which&&0===a.charCode&&(b=39);if(190===b||110===b)b=46;b=String.fromCharCode(b);b=b.trim();a.shiftKey||(b=b.toLocaleLowerCase());return b},addCSSClasses:function(b,c){if(b)if(c||(c=this.domNode),Array.isArray(b))for(var d=0;d<b.length;d+=1)a.add(c,b[d]);else a.add(c,b)},removeCSSClasses:function(b,c){if(b)if(c||(c=this.domNode),Array.isArray(b))for(var d=0;d<b.length;d+=1)a.remove(c,b[d]);else a.remove(c,b)},replaceCSSClasses:function(a,b,c){c||(c=this.domNode);a&&this.removeCSSClasses(a,c);b&&
this.addCSSClasses(b,c)},_getDefaultState:function(){return{}},isEditing:function(){var a=this.isEditable(),b=this._editor&&this._editor.isEditing&&this._editor.isEditing(),c=this._inPlaceEditor&&this._inPlaceEditor.isEditing&&this._inPlaceEditor.isEditing();return a&&(b||c)},_setReadOnly:function(a){},getStyleNode:function(a){return this.domNode}})})},"variableeditor/views/editors/TextBoxEditor":function(){define("variableeditor/views/editors/TextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dojo/on dojo/dom-class variableeditor/VariableEditorUtils variableeditor/constants/CssClassConstants variableeditor/views/editors/_EditorBase mw-form/TextField dijit/focus".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g){return k("variableeditor.views.editors.TextBoxEditor",[m],{_inputBox:void 0,_removeQuotes:!1,_originalEditValue:void 0,formattedVal:"",setValue:function(a,b,c){a=this._applyFormatting(a,b);if(a===this._value)this._value=""+this._value;else{var d=c||this.formattedVal?c||this.formattedVal:a;this.formattedVal=null;a&&a.hasOwnProperty("value")&&(d=a.value);this._inputBox&&this._setUIValue(d);f.compareValues(this._value,d)||this.inherited(arguments)}},startup:function(){this._setReadOnly(!0)},
setEditValue:function(a,b,c){a=this._applyFormatting(a,b);if(!f.compareValues(this._editValue,a)){this.inherited(arguments);var d=this._editValue;this._editValue=c||this.formattedVal?c||this.formattedVal:a;this.formattedVal=null;void 0===b&&(b="client");this.dispatchEvent("editValueChanged",this,{renderer:this,oldValue:d,newValue:a,source:b})}},setState:function(a){this.domNode&&(this._inputBox||this._setupInputNode(),this._setupDomClasses(a),this._inputBox.inputNode.setAttribute("data-tag",this.createDataTag("value")),
this.inherited(arguments),void 0!==a.isMetaData&&(this._state.isMetaData=f.getLogicalValue(a.isMetaData,!1)),this._state.isMetaData&&(this._commitOnBlur=!1),void 0===a.doCommitEmptyMetaData&&(this._state.doCommitEmptyMetaData=!0))},_setupDomClasses:function(a){var b=a?a.dataType?a.dataType:a["class"]?a["class"]:"char":"char",c=a?a.isTemporaryValue:!1;a=f.getLogicalValue(a?a.isMetaData:!1,!1);this._applyCssClass(b,c,!1,this._inputBox.domNode);this._applyCssClass(b,c,!1,this._inputBox.inputNode);this.addCSSClasses("cellRenderer",
this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode);e.set(this._inputBox.inputNode,"width","inherit");a&&f.addToClassList(this._inputBox.inputNode,l.IS_METADATA)},_handleKeyboardEvent:function(a){if(this.isEditing()){"keypress"===a.type?this._handleKeyPress(a):"keydown"===a.type&&this._handleKeyDown(a);var b=a;b.editor=this;this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},
_handleStringFormatting:function(a){var b=this.getCursorPosition(),c=this._getUIValue(),d=null;this._handleFormatting?d=this._handleFormatting(b,c,a):this._state&&(this._state.dataType&&"string"===this._state.dataType)&&(d=f.handleFormatting(b,c,a));d&&(a=f.formatString(d,"client"),this.formattedVal=d,this._setUIValue(a),this.setCursorPosition(b[0]+1,b[0]+1))},_handleKeyDown:function(a){if(a){var b=this._getKeyCode(a);null!==b&&b===c.ESCAPE?(this.cancelEditing(),a.preventDefault()):b===c.TAB?this._handleStringFormatting("tab"):
null!==b&&b===c.ENTER&&(a.altKey?this._handleStringFormatting("newLine"):(this.formattedVal&&(this.setValue(this.formattedVal,"client",this._getUIValue()),this.formattedVal=""),this.stopEditing(),this.addCSSClasses("Editing"),this._setupBlurListener(),a.preventDefault()))}},_handleKeyPress:function(a){if(a){var b=this._getKeyCode(a);null!==b&&b===c.ENTER&&(this.stopEditing(),a.preventDefault())}},_handleMouseUp:function(){this.isEditable()&&this.isEditOnSingleClick()&&this._setReadOnly(!1);this._focus()},
_setupInputNode:function(){this._inputBox=new h({readOnly:!0,value:this._value,editable:this._allArgs.editable});this.own(this._inputBox);this._setupInputNodeListeners(this._inputBox);this._inputBox._handleEnterKey=function(){};this.domNode.appendChild(this._inputBox.domNode);this.focusNode=this._inputBox.focusNode},_editOnFocus:function(){!this.isEditing()&&(this.isEditOnSingleClick()&&this.isEditable())&&(this._inPlaceEditor===this||!this._inPlaceEditor?this.edit():this._inPlaceEditor&&this._inPlaceEditor.edit&&
this._inPlaceEditor.edit())},_setupInputNodeListeners:function(){var a=this,c=d.hitch(this,"_handleKeyboardEvent");this._inputNodeListeners={};this._inputNodeListeners.keypress=b(this._inputBox.domNode,"keypress",c);this._inputNodeListeners.keydown=b(this._inputBox.domNode,"keydown",c);this._inputNodeListeners.mouseup=this._inputBox.on("mouseup",function(){var b=a._inputBox.inputNode.selectionStart,c=a._inputBox.inputNode.selectionEnd;a._inputBox.set("cursorPosition",[b,c]);a.set("cursorPosition",
[b,c])});this._inputNodeListeners.focus=g.on("widget-focus",function(b){b===a._inputBox&&a._editOnFocus()})},getCursorPosition:function(){return[f.getSelectionStart(this._inputBox.inputNode),f.getSelectionEnd(this._inputBox.inputNode)]},setCursorPosition:function(a,b){f.selectRange(this._inputBox.inputNode,a,b)},_getDefaultState:function(){return{isMetaData:!1,doCommitEmptyMetaData:!0,editorValue:""}},postCreate:function(){this._inputBox||this._setupInputNode();this.inherited(arguments)},stopEditing:function(){this.isEditing()&&
(this._setReadOnly(!0),this.setCursorPosition(-1,-1),this.inherited(arguments))},edit:function(){if(!this.isEditing()){this._setReadOnly(!1);this.inherited(arguments);this._editValue?(this._setUIValue(this._editValue),this.setCursorPosition(this._editValue.length,this._editValue.length)):this.setCursorPosition(this._value.length,this._value.length);var a=this._getUIValue();void 0!==a&&(null!==a&&"undefined"!==a)&&this.setCursorPosition(a.length,a.length);this.getState().isMetaData&&this._setUIValue("");
!1===this._editOnSingleClick&&f.selectAllText(this._inputBox.inputNode)}},editOverride:function(a){this.isEditing()||(this._setReadOnly(!1),this.inherited(arguments),this._setUIValue(a),this.setCursorPosition(a.length,a.length))},cancelEditing:function(){this.isEditing()&&(this.formattedVal&&(this.formattedVal=""),this._setUIValue(this._originalValue),this.inherited(arguments))},hasValueChanged:function(a){var b=this.inherited(arguments),c=this._getPossibleBooleanFunctionValue(this.getState().isMetaData),
d=this._getPossibleBooleanFunctionValue(this.getState().doCommitEmptyMetaData);!0===c&&!1===d&&(b=b&&""!==a);return b},_commit:function(){if(this.formattedVal)this.setValue(this.formattedVal,"client",this._getUIValue()),this.formattedVal="";else{var a=this._getUIValue();null!==a&&void 0!==a&&this.hasValueChanged(a)?(this.setValue(a,"client"),this._originalEditValue=this._editValue,this._editValue=a):this._setUIValue(this._originalValue)}},_revert:function(){this.inherited(arguments);this._editValue=
this._originalEditValue},_getUIValue:function(){return this._inputBox.inputNode.value},_setUIValue:function(a){a!==this._getUIValue("value")&&(this._inputBox.set("value",a+" "),Array.isArray(a)&&0===a.length&&(a="[ ]"),this._inputBox.set("value",a))},setEditable:function(a){this.inherited(arguments);this._inputBox&&(this._inputBox.set("editable",this.isEditable()),this.isEditable()?this.removeCSSClasses(this._notEditableCSSClass,this._inputBox.inputNode):this.addCSSClasses(this._notEditableCSSClass,
this._inputBox.inputNode))},_setReadOnly:function(a){this._inputBox&&(!0===a?this._inputBox.set("readOnly",!0):this._inputBox.set("readOnly",!1))},_focus:function(){this._inputBox&&this._inputBox.focusNode&&this._inputBox.focusNode.focus&&g.curNode!==this._inputBox.focusNode&&g.focus(this._inputBox.focusNode)},setRemoveQuotes:function(a){this._removeQuotes=a},getRemoveQuotes:function(){return this._getPossibleBooleanFunctionValue(this._removeQuotes,!1)},_applyFormatting:function(a,b){var c=a;if("server"===
b){if(!0===this.getRemoveQuotes())c=f.stripOuterSingleQuotes(a);else{var d=f.stripOuterSingleQuotes(a);a!==d&&(c="'"+d.replace(/\'/g,"''")+"'")}this._state&&"string"===this._state.dataType&&(this.formattedVal=f.formatString(a,b))}return c},getStyleNode:function(a){return"backgroundColor"===a?this.domNode:this.focusNode},destroy:function(){this._changeObjectListenersState(this._inputNodeListeners,"remove");this.inherited(arguments)},_handleBlurEvent:function(a){a===this&&(this.removeCSSClasses("Editing"),
this.inherited(arguments))}})})},"variableeditor/views/renderers/_TemplateMixin":function(){define("variableeditor/views/renderers/_TemplateMixin",["dojo/_base/declare","dojo/_base/lang","dijit/_TemplatedMixin"],function(k,d,e){return k("variableeditor.views.renderers._TemplateMixin",[e],{_getAttachNode:function(c){c=this._getAttachNodes(c);return null===c?null:c[0]},_getAttachNodes:function(c){return!this.domNode?null:(c=this.domNode.querySelectorAll('[data-datatools-renderer-attach-point\x3d"'+
c+'"]'))&&c.length&&0<c.length?c:null}})})},"variableeditor/views/renderers/_VERendererMixin":function(){define("variableeditor/views/renderers/_VERendererMixin","dojo/_base/declare dojo/_base/lang mw-log/Log variableeditor/VariableEditorUtils variableeditor/views/renderers/_TooltipMixin variableeditor/views/renderers/_VERendererStyleMixin".split(" "),function(k,d,e,c,b,a){return k("variableeditor.views.renderers._VERendererMixin",[b,a],{_setRendererProperties:function(a,b,d){if(!a.isInvalidCache){var h=
this.getCellIndices(a),g=h.row,h=h.column;this.setRow&&this.setRow(g);this.setColumn&&this.setColumn(h);this.setToolTipText&&this.setToolTipText(b.getCellPropertyValue(g,h,"tooltip",a),d);this.updateCellStyles&&this.updateCellStyles(g,h,a,b);this.setEditable&&this.setEditable(c.getLogicalValue(b.getCellPropertyValue(g,h,"Editable",a)));this.setRemoveQuotes&&this.setRemoveQuotes(b.getCellPropertyValue(g,h,"RemoveQuotedStrings",a));this.setEditorConverter&&this.setEditorConverter(b.getCellPropertyValue(g,
h,"EditorConverter",a));this.setValue&&this.setValue(b.getCellPropertyValue(g,h,"value",a),d);this.setEditValue&&this.setEditValue(b.getCellPropertyValue(g,h,"editValue",a),d);this.getState&&(d=this.populateRendererState(g,h,a,b),this.setState(d));this.setInPlaceEditor&&this.setInPlaceEditor(b.getCellPropertyValue(g,h,"inplaceeditor",a));this.setEditor&&this.setEditor(b.getCellPropertyValue(g,h,"editor",a))}},populateRendererState:function(a,b,c,d){var g=this.getState();if(void 0!==g)for(var e in g)g[e]=
d.getCellPropertyValue(a,b,e,c);else g={};g.dataType=d.getCellPropertyValue(a,b,"class",c);return g},getCellIndices:function(a){var b=-1,c=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));return{row:b,column:c}},_setupDOMRowCol:function(a){var b=a.row;a=a.column;this.domNode&&(0<=b&&0<=a)&&(this.domNode.setAttribute("data-row",b),this.domNode.setAttribute("data-col",a),c.addToClassList(this.domNode,"row_"+b),c.addToClassList(this.domNode,"col_"+a))}})})},"variableeditor/views/renderers/_TooltipMixin":function(){define("variableeditor/views/renderers/_TooltipMixin",
["dojo/_base/declare","dojo/on","dijit/Tooltip"],function(k,d,e){return k("variableeditor.views.renderers._TooltipMixin",[],{_tooltipWidget:null,setToolTipText:function(c){void 0!==c&&(null!==c&&""!==c)&&(this._tooltip=c,this._updateTooltip())},_getTooltipText:function(){var c="";this._tooltip&&(c="function"===typeof this._tooltip?this._tooltip():this._tooltip);return c},_getNewTooltip:function(c,b){return new e({connectId:[c],label:b,hideDelay:100,showDelay:1500,position:["below","after","above",
"before"]})},_updateTooltip:function(){var c=this._getTooltipText();this._tooltipWidget&&this._tooltipWidget.destroy();this._tooltipWidget=this._getNewTooltip(this.domNode,c);var b=this;d(this.domNode,"focusin",function(){b._tooltipWidget.set("state","DORMANT")})}})})},"variableeditor/views/renderers/_VERendererStyleMixin":function(){define("variableeditor/views/renderers/_VERendererStyleMixin",["dojo/_base/declare","dojo/dom-class","variableeditor/VariableEditorUtils"],function(k,d,e){return k("variableeditor.views.renderers._VERendererStyleMixin",
[],{_classListKey:"classList",updateCellStyles:function(c,b,a,d){var e=this._getCellModelStyle(c,b,a,d);if(e)for(var m in e)if(e.hasOwnProperty(m)){var h=this.getStyleNode(m);h&&h.style[m]!==e[m]&&(h.style[m]=e[m])}this._updateNodeClasses(c,b,a,h,d)},_updateTableClasses:function(c,b){if(c&&b&&b.getTableModelProperty){var a=b.getTableModelProperty(this._classListKey);this._modifyCellClassList(c,a,c._previousTableClassList);c._previousTableClassList=a}},_updateRowClasses:function(c,b,a){c&&(a&&a.getRowModelProperty&&
0<=b)&&(b=a.getRowModelProperty(b,this._classListKey),this._modifyCellClassList(c,b,c._previousRowClassList),c._previousRowClassList=b)},_updateColumnClasses:function(c,b,a){c&&(a&&a.getColumnModelProperty&&0<=b)&&(b=a.getColumnModelProperty(b,this._classListKey),this._modifyCellClassList(c,b,c._previousColumnClassList),c._previousColumnClassList=b)},_updateCellClasses:function(c,b,a,d,e){c&&(0<=b&&0<=a&&d&&e&&e.getCellPropertyValue)&&(b=e.getCellPropertyValue(b,a,this._classListKey,d),this._modifyCellClassList(c,
b,c._previousCellClassList),c._previousCellClassList=b)},_updateNodeClasses:function(c,b,a,d,e){this._updateTableClasses(d,e);this._updateRowClasses(d,c,e);this._updateColumnClasses(d,b,e);this._updateCellClasses(d,c,b,a,e)},_modifyCellClassList:function(c,b,a){a||(a=[]);b&&Array.isArray(b)&&d.add(c,b);(classesToRemove=this._getDifferenceBetweenClassLists(a,b))&&Array.isArray(classesToRemove)&&d.remove(c,classesToRemove)},_getDifferenceBetweenClassLists:function(c,b){classesToRemove=[];return c&&
b?c.filter(function(a){return 0>b.indexOf(a)}):classesToRemove},_getCellModelStyle:function(c,b,a,d){var e={};if(d&&d.getCellPropertyValue&&0<=c&&0<=b){var m=d.getCellPropertyValue(c,b,"fontFamily",a),h=d.getCellPropertyValue(c,b,"fontSize",a),g=d.getCellPropertyValue(c,b,"fontStyle",a),k=d.getCellPropertyValue(c,b,"fontWeight",a),n=d.getCellPropertyValue(c,b,"color",a),s=d.getCellPropertyValue(c,b,"backgroundColor",a);c=d.getCellPropertyValue(c,b,"style",a);d.rowHeight=Math.max(h?parseInt(h)*d.lineSpacing:
d.rowHeight,d.minRowHeight);e={fontFamily:m||"",fontSize:h||"",fontStyle:g||"",fontWeight:k||"",color:n||"",backgroundColor:s||""};c&&c.split(";").forEach(function(a){(a=a.split(":"))&&(a[0]&&a[1])&&(e[a[0]]=a[1])})}return e}})})},"variableeditor/views/table/tableBase/_TableHeaderSelection":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/on"],function(k,d,e,c){var b=this;return k([],{postCreate:function(){this.inherited(arguments);this.own(c(this.columnHeaderNode,
"mousedown",e.hitch(this,"_onColumnMouseDown")));this.own(c(this.columnHeaderNode,"click",e.hitch(this,"_onHeaderClick")));this.own(c(this.columnHeaderNode,"dblclick",e.hitch(this,"_onColumnDoubleClick")));this.own(c(this.columnHeaderNode,"contextmenu",e.hitch(this,"_onColumnRightClick")));this.own(c(this.rowHeaderNode,"mousedown",e.hitch(this,"_onRowMouseDown")));this.own(c(this.rowHeaderNode,"click",e.hitch(this,"_onHeaderClick")));this.own(c(this.rowHeaderNode,"dblclick",e.hitch(this,"_onRowDoubleClick")));
this.own(c(this.rowHeaderNode,"contextmenu",e.hitch(this,"_onRowRightClick")))},_onRowRightClick:function(a){b.contextMenuPosition={x:a.pageX,y:a.pageY};var c=this._getCellFromNode(a.target);0<=c.row&&0<=c.column&&(d.stop(a),this.peerNode.dispatchPeerEvent("rowContextMenu",this.peerNode,{row:c.row}))},_onColumnRightClick:function(a){b.contextMenuPosition={x:a.pageX,y:a.pageY};var c=this._getCellFromNode(a.target);0<=c.row&&0<=c.column&&(d.stop(a),this.peerNode.dispatchPeerEvent("columnContextMenu",
this.peerNode,{column:c.column}))},_onRowDoubleClick:function(a){var b=this._getCellFromNode(a.target);0<=b.row&&0<=b.column&&(d.stop(a),this.peerNode.dispatchPeerEvent("rowDoubleClick",this.peerNode,{row:b.row}))},_onColumnDoubleClick:function(a){var b=this._getCellFromNode(a.target);0<=b.row&&0<=b.column&&(d.stop(a),this.peerNode.dispatchPeerEvent("columnDoubleClick",this.peerNode,{column:b.column}))},_onHeaderClick:function(a){a=a.target;if(0<document.getSelection().rangeCount){for(a=document.getSelection().getRangeAt(0).commonAncestorContainer;a.parentNode&&
(!a.getAttribute||"cell"!==a.getAttribute("class")&&"header cell"!==a.getAttribute("class"));)a=a.parentNode;(!a||!a.getAttribute||"cell"!==a.getAttribute("class")&&"header cell"!==a.getAttribute("class"))&&document.getSelection().removeAllRanges()}},_onRowMouseDown:function(a){var b,c;if(!("column"===this.selectionType||"single"===this.selectionMode)){var d=this._getCellFromNode(a.target);if(!(0>d.row)){var h=d.row,d=[];if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))d=e.clone(this.peerNode.getProperty("selectedIndices")),
0<d.length&&("row"===this.selectionType&&"number"!==typeof d[0]?d=[]:"cell"===this.selectionType&&!e.isArray(d[0])&&(d=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(a.shiftKey&&0<d.length){a=d[d.length-1];d=[];for(b=h;b<=a[0];b+=1)for(c=0;c<=this.dataModel.getColumnCount();c+=1)d.push([b,c]);for(b=h;b>=a[0];b-=1)for(c=0;c<=this.dataModel.getColumnCount();c+=1)d.push([b,c])}else if(a.ctrlKey||a.metaKey)if(a=d.filter(function(a){return a[0]!==h}),
a.length===d.length)for(b=0;b<this.dataModel.getColumnCount();b+=1)d.push([h,b]);else d=a;else for(b=0;b<this.dataModel.getColumnCount();b+=1)d.push([h,b]);else if(a.shiftKey&&0<d.length){a=d[d.length-1];d=[];for(b=h;b<=a;b+=1)d.push(b);for(b=h;b>=a;b-=1)d.push(b)}else a.ctrlKey||a.metaKey?(b=d.indexOf(h),0<=b?d.splice(b,1):d.push(h)):d.push(h);this.peerNode.setProperty("selectedIndices",d)}}},_onColumnMouseDown:function(a){var b,c;if(!("row"===this.selectionType||"single"===this.selectionMode)){var d=
this._getCellFromNode(a.target);if(!(0>d.column)){var h=d.column,d=[];if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))d=e.clone(this.peerNode.getProperty("selectedIndices")),0<d.length&&("column"===this.selectionType&&"number"!==typeof d[0]?d=[]:"cell"===this.selectionType&&!e.isArray(d[0])&&(d=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(a.shiftKey&&0<d.length){a=d[d.length-1];d=[];for(b=h;b<=a[1];b+=1)for(c=0;c<=this.dataModel.getRowCount();c+=
1)d.push([c,b]);for(b=h;b>=a[1];b-=1)for(c=0;c<=this.dataModel.getRowCount();c+=1)d.push([c,b])}else if(a.ctrlKey||a.metaKey)if(a=d.filter(function(a){return a[1]!==h}),a.length===d.length)for(b=0;b<this.dataModel.getRowCount();b+=1)d.push([b,h]);else d=a;else for(b=0;b<this.dataModel.getRowCount();b+=1)d.push([b,h]);else if(a.shiftKey&&0<d.length){a=d[d.length-1];d=[];for(b=h;b<=a;b+=1)d.push(b);for(b=h;b>=a;b-=1)d.push(b)}else a.ctrlKey||a.metaKey?(b=d.indexOf(h),0<=b?d.splice(b,1):d.push(h)):d.push(h);
this.peerNode.setProperty("selectedIndices",d)}}}})})},"variableeditor/views/table/_VETableSelection":function(){define("variableeditor/views/table/_VETableSelection","dojo/_base/declare dojo/_base/lang dojo/query dojo/NodeList dojo/dom dojo/topic variableeditor/views/table/tableBase/_TableSelection variableeditor/views/table/BlockSelection variableeditor/VariableEditorUtils dojo/dom-class".split(" "),function(k,d,e,c,b,a,f,l,m,h){return k("variableeditor.views.table._VETableSelection",[f],{leadCell:{row:-1,
column:-1},shiftKeyPivot:{row:-1,column:-1},leadCellStyle:"background-color: rgb(255, 255, 255);",selectedCellStyle:"background-color: rgb(217, 240, 255);",selectedBorderColor:"rgb(0, 153, 255)",selectedBorderStyle:"1px solid",blockSelection:new l,constructor:function(){this._updateFromExistingSelection();this.leadCell={row:-1,column:-1};this._getSelectionStyles()},_getSelectionStyles:function(){var a=m.getStylesFromClasses(["variableEditorSelectionBackgroundColor","variableEditorSelectionBorder"],
["background-color","border-left-color","border-left-width","border-left-style"]);this.selectedCellStyle="background-color: "+a["background-color"]+";";this.selectedBorderColor=a["border-left-color"];this.selectedBorderStyle=a["border-left-width"]+" "+a["border-left-style"];a=m.getStylesFromClasses(["variableEditorLeadCellBackgroundColor"],["background-color"]);this.leadCellStyle="background-color: "+a["background-color"]+";"},_updateFromExistingSelection:function(){var a;this.peerNode&&this.peerNode.getProperty&&
(a=this.peerNode.getProperty("Selection"));this.blockSelection=new l(a)},_setLeadCellPosition:function(a,b){this.leadCell={row:Math.min(a,this.getRowCount()-1),column:Math.min(b,this.getColumnCount()-1)}},_setShiftKeyPivot:function(a,b){this.shiftKeyPivot={row:a,column:b}},_resetShiftKeyPivot:function(){this.shiftKeyPivot={row:-1,column:-1}},getRowSelector:function(a){return"#"+this.id+" .dataBody .row:nth-of-type("+(a-this.rowView.start+2)+")"},getCellSelector:function(a,b){return this.getRowSelector(a)+
" .cell:nth-of-type("+(b-this.colView.start+2)+")"},getLeadNode:function(){if(0>this.leadCell.row||0>this.leadCell.column||this.leadCell.row>=this.getRowCount()||this.leadCell.column>=this.getColumnCount())return null;var a=this.getCellSelector(this.leadCell.row,this.leadCell.column);return e(a)[0]},getShiftKeyPivot:function(){return[this.shiftKeyPivot.row,this.shiftKeyPivot.column]},_isLeadNodeInDom:function(){var a=this.getLeadNode();return this.domNode&&a&&b.isDescendant(a,this.domNode)},selectCell:function(a,
b){this.selectable&&(this.blockSelection.addCell(a,b),this._renderSelection(),this.setServerSelection(!0))},deselectCell:function(a,b){this.selectable&&(this.blockSelection.removeCell(a,b),this._renderSelection(),this.setServerSelection(!0))},selectRow:function(a){this.selectable&&(this.blockSelection.add(a,a,0,this.getColumnCount()-1),this._renderSelection(),this.setServerSelection(!0))},deselectRow:function(a){this.selectable&&(this.blockSelection.removeRows(a,a),this._renderSelection(),this.setServerSelection(!0))},
selectColumn:function(a){this.selectable&&this.selectable&&(this.blockSelection.add(0,this.getRowCount()-1,a,a),this._renderSelection(),this.setServerSelection(!0))},deselectColumn:function(a){this.selectable&&(this.blockSelection.removeColumns(a,a),this._renderSelection(),this.setServerSelection(!0))},isCellSelected:function(a,b){return this.blockSelection.containsCell(a,b)},isColumnSelected:function(a){return this.blockSelection.containsColumn(a)},isRowSelected:function(a){return this.blockSelection.containsRow(a)},
_renderSelection:function(){null!==this.dataModel&&(this._updateSelectionAndSelectionBorderStyle(),this._updateLeadCellStyle(),this._updateHeaderStyle())},_updateSelectionAndSelectionBorderStyle:function(){var a,b,d,f;a=this._getCurrentViewportSelection();f=a.selectedRows;d=a.selectedColumns;if(this.blockSelection.isEmpty())e(".highlightSelected",this.domNode).removeClass("highlightSelected borderLeft borderRight borderTop borderBottom GroupedBorder".split(" "));else{e(".highlightSelected",this.domNode).removeClass("highlightSelected borderLeft borderRight borderTop borderBottom GroupedBorder".split(" "));
var h=[],l=[],m=[],k=[],w=[],v=[];for(a=0;a<f.length;a+=1){Math.max(1,f[a].start+this.tableRowOffset-this.rowView.start);Math.max(1,f[a].end+this.tableRowOffset-this.rowView.start);for(b=0;b<d.length;b+=1){Math.max(1,d[b].start+this.tableColumnOffset-this.colView.start);Math.max(1,d[b].end+this.tableColumnOffset-this.colView.start,1);for(var x=f[a].start;x<=f[a].end;x++)for(var z=d[b].start;z<=d[b].end;z++){var y=this.domNode.getElementsByClassName("cellRenderer row_"+x+" col_"+z)[0];y&&(y=this._getCellFromNode(y).node,
this.showSelectionBorder?(h.push(y),this._isGroupedCol(z)&&v.push(y),z===d[b].start&&l.push(y),z===d[b].end&&m.push(y),x===f[a].start&&k.push(y),x===f[a].end&&w.push(y)):y&&h.push(y))}}}0<h.length&&(c(h).addClass("highlightSelected"),this.showSelectionBorder&&(c(l).addClass("borderLeft"),c(m).addClass("borderRight"),c(k).addClass("borderTop"),c(w).addClass("borderBottom"),c(v).addClass("GroupedBorder")))}},_isGroupedCol:function(a){a=this.getColumnModelProperty(a,"GroupColumnSize");return 1<parseInt(a,
10)},_updateHeaderStyle:function(){var a=[],b=[],d=this._getCurrentViewportSelection();this.blockSelection.isEmpty()||d.selectedRows.forEach(dojo.hitch(this,function(f){d.selectedColumns.forEach(dojo.hitch(this,function(d){for(var h=f.start+1;h<=f.end+1;h++){var e=this.domNode.getElementsByClassName("variableEditorRowHeaders header_"+h)[0];e&&a.push(e)}for(h=d.start+1;h<=d.end+1;h++)(e=this.domNode.getElementsByClassName("variableEditorColumnHeaders header_"+h)[0])&&b.push(e);if(0<a.length||0<b.length)c(a).addClass("highlightSelected"),
c(b).addClass("highlightSelected")}))}))},_getCurrentViewportSelection:function(){minStartRow=this.dataModel.getCurrentStartRow();maxEndRow=this.dataModel.getCurrentEndRow();minStartCol=this.dataModel.getCurrentStartCol();maxEndCol=this.dataModel.getCurrentEndCol();var a=JSON.parse(JSON.stringify(this.blockSelection));a.selectedRows.forEach(function(a){a.end-a.start>maxEndRow-minStartRow&&(a.start=minStartRow,a.end=maxEndRow)});a.selectedColumns.forEach(function(a){a.end-a.start>maxEndCol-minStartCol&&
(a.start=minStartCol,a.end=maxEndCol)});return a},_updateLeadCellStyle:function(){var a=e(".leadCell",this.domNode);0!=a.length&&a.removeClass("leadCell");this._isLeadNodeInDom()&&(a=this.getLeadNode(),a=this._getCellFromNode(a),this.blockSelection.isEmpty()||(a=this.domNode.getElementsByClassName("cellRenderer row_"+a.row+" col_"+a.column)[0])&&h.add(a,"leadCell"))},setServerSelection:function(b){m.logDebugStackTraceMessage();m.logDebugStackTraceArray();var c;c=0>=arguments.length?!1:b;var d=this.peerNode.getProperty("Selection");
d||(d={selectedRows:[],selectedColumns:[]});if(!c||!this.blockSelection.matchingSelection(new l(d)))c&&a.publish("/datatools/selectionChanged",""),this.peerNode.setProperty("Selection",this.blockSelection.createSourcedCopy("client"))}})})},"dojo/NodeList":function(){define(["./query"],function(k){return k.NodeList})},"variableeditor/views/table/tableBase/_TableSelection":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/on"],function(k,d,e,c){return k([],{constructor:function(){this.defaultProperties=
e.delegate(this.defaultProperties,{selectionType:"row",selectionMode:"none",selectedIndices:[]})},postCreate:function(){this.inherited(arguments);this.own(c(this.dataScrollerNode,"dblclick",e.hitch(this,"_onDataDoubleClick")));this.own(c(this.dataScrollerNode,"contextmenu",e.hitch(this,"_onRightClick")))},selectCell:function(b,a){var c=e.clone(this.selectedIndices);switch(this.selectionType){case "cell":c.push([b,a]);break;case "row":c.push(b);break;case "column":c.push(a)}this.peerNode.setProperty("selectedIndices",
c)},deselectCell:function(b,a){var c=e.clone(this.selectedIndices);switch(this.selectionType){case "cell":c=c.filter(function(c){return c[0]!==b||c[1]!==a});break;case "row":c=c.filter(function(a){return a!==b});break;case "column":c=c.filter(function(b){return b!==a})}this.peerNode.setProperty("selectedIndices",c)},selectRow:function(b){var a,c=e.clone(this.selectedIndices);switch(this.selectionType){case "cell":for(a=0;a<this.dataModel.getColumnCount();a+=1)c.push([b,a]);break;case "row":c.push(b)}this.peerNode.setProperty("selectedIndices",
c)},deselectRow:function(b){var a=e.clone(this.selectedIndices);switch(this.selectionType){case "cell":a=a.filter(function(a){return a[0]!==b});break;case "row":a=a.filter(function(a){return a!==b})}this.peerNode.setProperty("selectedIndices",a)},selectColumn:function(b){var a,c=e.clone(this.selectedIndices);switch(this.selectionType){case "cell":for(a=0;a<this.dataModel.getRowCount();a+=1)c.push([a,b]);break;case "column":c.push(b)}this.peerNode.setProperty("selectedIndices",c)},deselectColumn:function(b){var a=
e.clone(this.selectedIndices);switch(this.selectionType){case "cell":a=a.filter(function(a){return a[1]!==b});break;case "column":a=a.filter(function(a){return a!==b})}this.peerNode.setProperty("selectedIndices",a)},isCellSelected:function(b,a){switch(this.selectionType){case "cell":return this.selectedIndices.some(function(c){return c[0]===b&&c[1]===a});case "row":return this.selectedIndices.some(function(a){return a===b});case "column":return this.selectedIndices.some(function(b){return b===a});
default:return!1}},isRowSelected:function(b){function a(a){return function(c){return c[0]===b&&c[1]===a}}switch(this.selectionType){case "cell":var c,d=b<this.dataModel.getRowCount();for(c=0;c<this.dataModel.getColumnCount();c+=1)d=d&&this.selectedIndices.some(a(c));return d;case "row":return this.selectedIndices.some(function(a){return a===b});default:return!1}},isColumnSelected:function(b){function a(a){return function(c){return c[0]===a&&c[1]===b}}switch(this.selectionType){case "cell":var c,d=
b<this.dataModel.getColumnCount();for(c=0;c<this.dataModel.getRowCount();c+=1)d=d&&this.selectedIndices.some(a(c));return d;case "row":return this.selectedIndices.some(function(a){return a===c});default:return!1}},_onRightClick:function(b){b.preventDefault()},_onDataDoubleClick:function(b){var a=this._getCellFromNode(b.target);0<=a.row&&(d.stop(b),this.peerNode.dispatchPeerEvent("doubleClick",this.peerNode,{row:a.row,column:a.column}))},_onSelectionTypeSet:function(){this._renderSelection()},_onSelectionModeSet:function(){this._renderSelection()},
_onSelectedIndicesSet:function(){this._renderSelection()},_onDataClick:function(b){b=b.target;if(0<document.getSelection().rangeCount){for(b=document.getSelection().getRangeAt(0).commonAncestorContainer;b.parentNode&&(!b.getAttribute||"cell"!==b.getAttribute("class"));)b=b.parentNode;(!b||!b.getAttribute||"cell"!==b.getAttribute("class"))&&document.getSelection().removeAllRanges()}},_onDataMouseDown:function(b){var a,c,d=this._getCellFromNode(b.target);if(!(0>d.row||0>d.column)){var m=d.row,h=d.column,
d=[];if("extended"===this.selectionMode&&(b.ctrlKey||b.metaKey||b.shiftKey))d=e.clone(this.selectedIndices),0<d.length&&(("row"===this.selectionType||"column"===this.selectionType)&&"number"!==typeof d[0]?d=[]:"cell"===this.selectionType&&!e.isArray(d[0])&&(d=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(b.shiftKey&&0<d.length){b=d[d.length-1];d=[];for(a=m;a<=b[0];a+=1){for(c=h;c<=b[1];c+=1)d.push([a,c]);for(c=h;c>=b[1];c-=1)d.push([a,c])}for(a=
m;a>=b[0];a-=1){for(c=h;c<=b[1];c+=1)d.push([a,c]);for(c=h;c>=b[1];c-=1)d.push([a,c])}}else b.ctrlKey||b.metaKey?(b=d.filter(function(a){return a[0]!==m||a[1]!==h}),b.length===d.length?d.push([m,h]):d=b):d.push([m,h]);else if(c="row"===this.selectionType?m:h,b.shiftKey&&0<d.length){b=d[d.length-1];d=[];for(a=c;a<=b;a+=1)d.push(a);for(a=c;a>=b;a-=1)d.push(a)}else b.ctrlKey||b.metaKey?(a=d.indexOf(c),0<=a?d.splice(a,1):d.push(c)):d.push(c);this.peerNode.setProperty("selectedIndices",d)}},_renderSelection:function(){var b=
{};"none"!==this.selectionMode&&("row"===this.selectionType?this.selectedIndices.forEach(function(a){a>=this.rowView.start&&a<this.rowView.end&&(b[".dataBody .row:nth-child("+(a-this.rowView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this):"column"===this.selectionType?this.selectedIndices.forEach(function(a){a>=this.colView.start&&a<this.colView.end&&(b[".dataBody .row .cell:nth-child("+(a-this.colView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this):"cell"===this.selectionType&&
this.selectedIndices.forEach(function(a){a[0]>=this.rowView.start&&(a[0]<this.rowView.end&&a[1]>=this.colView.start&&a[1]<this.colView.end)&&(b[".dataBody .row:nth-child("+(a[0]-this.rowView.start+2)+") .cell:nth-child("+(a[1]-this.colView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this));this.styleManager.updateStyleRules("selection",b)}})})},"variableeditor/views/table/BlockSelection":function(){define("variableeditor/views/table/BlockSelection",["dojo/_base/declare"],function(k){return k("variableeditor.views.table.BlockSelection",
null,{source:"server",selectedRows:[],selectedColumns:[],indexedRows:!1,indexedColumns:!1,constructor:function(d){this.selectedRows=[];this.selectedColumns=[];d?(d.selectedRows&&(this.selectedRows=Array.isArray(d.selectedRows)?d.selectedRows:JSON.parse(d.selectedRows)),d.selectedColumns&&(this.selectedColumns=Array.isArray(d.selectedColumns)?d.selectedColumns:JSON.parse(d.selectedColumns)),d.source&&(this.source=d.source),void 0!==d.indexedRows&&(this.indexedRows=d.indexedRows),void 0!==d.indexedColumns&&
(this.indexedColumns=d.indexedColumns)):(this.selectedRows=[],this.selectedColumns=[])},setIndexedRows:function(d){this.indexedRows=d},containsColumn:function(d){return this.selectedColumns.some(function(e){return e.start<=d&&e.end>=d})},containsRow:function(d){return this.selectedRows.some(function(e){return e.start<=d&&e.end>=d})},getRowCount:function(){var d=0;this.selectedRows.forEach(function(e){d=d+e.end-e.start+1});return d},flipRowCount:function(d){this.selectedRows.forEach(function(e){var c=
e.end;e.end=d-1-e.start;e.start=d-1-c})},getColumnCount:function(){var d=0;this.selectedColumns.forEach(function(e){d=d+e.end-e.start+1});return d},isEmpty:function(){return 0===this.getColumnCount()||0===this.getRowCount()},containsCell:function(d,e){return this.containsColumn(e)&&this.containsRow(d)},getOverlappingCells:function(d,e,c,b){for(var a,f=[];d<=e;d+=1)for(a=c;a<=b;a+=1)this.containsCell(d,a)&&f.push([d,a]);return f},clone:function(){var d=dojo.clone(this);d.selectedRows=[];d.selectedColumns=
[];this.selectedRows.forEach(dojo.hitch(this,function(e){d.selectedRows.push({start:e.start,end:e.end})}));this.selectedColumns.forEach(dojo.hitch(this,function(e){d.selectedColumns.push({start:e.start,end:e.end})}));d.source=this.source;return d},createSourcedCopy:function(d){var e=this.clone();e.source=d;return e},add:function(d,e,c,b){var a;d>e&&(a=d,d=e,e=a);c>b&&(a=c,c=b,b=a);if(this.indexedRows)for(;d<=e;d+=1)this.selectedRows.push({start:d,end:d});else this.selectedRows.push({start:d,end:e});
this.selectedColumns.push({start:c,end:b});this.reconcile()},addCell:function(d,e){this.selectedRows.push({start:d,end:d});this.selectedColumns.push({start:e,end:e});this.reconcile()},removeCell:function(d,e){var c=this.containsColumn(e)&&1===this.getColumnCount(),b=this.containsRow(d)&&1===this.getRowCount();c&&!b?this.removeRows(d,d):!c&&b?this.removeColumns(e,e):this.remove(d,d,e,e);this.reconcile()},getLeadCell:function(){return this.isEmpty()?null:[this.selectedRows[this.selectedRows.length-
1].end,this.selectedColumns[this.selectedColumns.length-1].end]},getFirstCellFromLastRow:function(){return this.isEmpty()?null:[this.selectedRows[this.selectedRows.length-1].end,this.selectedColumns[this.selectedColumns.length-1].start]},matchingSelection:function(d){if(d.selectedRows.length!==this.selectedRows.length||d.selectedColumns.length!==this.selectedColumns.length)return!1;var e;for(e=0;e<this.selectedRows.length;e+=1)if(this.selectedRows[e].start!==d.selectedRows[e].start||this.selectedRows[e].end!==
d.selectedRows[e].end)return!1;for(e=0;e<this.selectedColumns.length;e+=1)if(this.selectedColumns[e].start!==d.selectedColumns[e].start||this.selectedColumns[e].end!==d.selectedColumns[e].end)return!1;return!0},removeRows:function(d,e){var c=[],b=[];this.selectedRows.forEach(function(a){d<=a.start&&e>=a.end?c.push(a):d>a.start&&e<a.end?(c.push(a),b.push({start:a.start,end:d-1}),b.push({start:e+1,end:a.end})):d<=a.start&&e>=a.start?a.start=e+1:d<=a.end&&e>=a.end&&(a.end=d-1)});c.forEach(dojo.hitch(this,
function(a){a=this.selectedRows.indexOf(a);0<=a&&this.selectedRows.splice(a,1)}));b.forEach(dojo.hitch(this,function(a){this.selectedRows.push(a)}));this.reconcile()},removeColumns:function(d,e){var c=[],b=[];this.selectedColumns.forEach(function(a){d<=a.start&&e>=a.end?c.push(a):d>a.start&&e<a.end?(c.push(a),b.push({start:a.start,end:d-1}),b.push({start:e+1,end:a.end})):d<=a.start&&e>=a.start?a.start=e+1:d<=a.end&&e>=a.end&&(a.end=d-1)});c.forEach(dojo.hitch(this,function(a){a=this.selectedColumns.indexOf(a);
0<=a&&this.selectedColumns.splice(a,1)}));b.forEach(dojo.hitch(this,function(a){this.selectedColumns.push(a)}));this.reconcile()},remove:function(d,e,c,b){this.removeRows(d,e);this.removeColumns(c,b)},_isInterectingRows:function(d){var e=this.selectedRows.slice();e.sort(function(b,a){return b.start-a.start});var c=1;d&&(c=0);for(d=1;d<e.length;d+=1)if(e[d].start<=e[d-1].end+c)return!0;return!1},_isInterectingColumns:function(d){var e=this.selectedColumns.slice();e.sort(function(b,a){return b.start-
a.start});var c=1;d&&(c=0);for(d=1;d<e.length;d+=1)if(e[d].start<=e[d-1].end+c)return!0;return!1},reconcile:function(){var d,e=this._isInterectingColumns(this.indexedColumns);d=this._isInterectingRows(this.indexedRows);if(e||d){if(d){this.selectedRows.sort(dojo.hitch(this,function(b,a){return b.start-a.start}));var c=[this.selectedRows[0]];for(d=1;d<this.selectedRows.length;d+=1)!this.indexedRows&&this.selectedRows[d].start<=c[c.length-1].end+1?c[c.length-1].end=Math.max(this.selectedRows[d].end,
c[c.length-1].end):this.indexedRows&&this.selectedRows[d].start===c[c.length-1].start&&this.selectedRows[d].end===c[c.length-1].end?c[c.length-1].end=Math.max(this.selectedRows[d].end,c[c.length-1].end):c.push(this.selectedRows[d]);this.selectedRows=c}if(e){this.selectedColumns.sort(dojo.hitch(this,function(b,a){return b.start-a.start}));e=[this.selectedColumns[0]];for(d=1;d<this.selectedColumns.length;d+=1)this.selectedColumns[d].start<=e[e.length-1].end+1?e[e.length-1].end=this.selectedColumns[d].end>=
e[e.length-1].end?this.selectedColumns[d].end:e[e.length-1].end:e.push(this.selectedColumns[d]);this.selectedColumns=e}}}})})},"variableeditor/views/table/_VEModelProperties":function(){define("variableeditor/views/table/_VEModelProperties","dojo/_base/declare dojo/_base/lang dojo/query dojo/dom dojo/dom-class dojo/topic mw-log/Log dijit/registry variableeditor/VariableEditorUtils".split(" "),function(k,d,e,c,b,a,f,l,m){return k("variableeditor.views.table._VEModelProperties",[],{defaultRowHeaderWidth:30,
maxLabelWidth:25,notEditableCSSClass:"venoteditable",notSelectableCSSClass:"venotselectable",maxIndexWidth:null,constructor:function(a){var b={};this.TableModelProperties={};this.RowModelProperties=[];this.ColumnModelProperties=[];this.CellModelProperties=[];a&&(this.TableModelProperties=b.TableModelProperties=a.TableModelProperties||{},this.RowModelProperties=b.RowModelProperties=a.RowModelProperties||[],this.ColumnModelProperties=b.ColumnModelProperties=a.ColumnModelProperties||[],this.CellModelProperties=
b.CellModelProperties=a.CellModelProperties||[],d.mixin(a,b),this.editable=void 0===a.editable||null===a.editable?void 0!==this.TableModelProperties.Editable?m.getLogicalValue(this.TableModelProperties.Editable):!0:a.editable);void 0!==this.TableModelProperties.Editable&&this.editable!==m.getLogicalValue(this.TableModelProperties.Editable)?this.editable=m.getLogicalValue(this.TableModelProperties.Editable):void 0===this.TableModelProperties.Editable&&(this.updateEditableFlag=!0)},updateModelProperties:function(b){var c=
window.performance.now();m.logDebug("_VEModelProperties: updateModelProperties");this._updateTableModelProperties();this._updateTableHeaders();this._updateModelStyles();b&&this._renderViewData(!0);b=window.performance.now()-c;m.isPerformance()&&a.publish("variableeditor/updateModelPropsChannel",{time:b})},_updateTableModelProperties:function(){m.logDebug("_VEModelProperties: _updateTableModelProperties");this.TableModelProperties&&(this._updateTableEditable(),this._updateTableSelectable(),this._updateTableRowHeight())},
_updateTableRowHeight:function(){var a=this.getTableModelProperty("fontSize"),a=Math.max(a?parseInt(a)*this.lineSpacing:this.rowHeight,this.minRowHeight);a!==this.rowHeight&&(this.rowHeight=a)},_updateTableEditable:function(){m.logDebug("_VEModelProperties: _updateTableEditable");this.updateEditableFlag&&(void 0!==this.TableModelProperties.Editable&&this.setTableModelProperty)&&(this.setTableModelProperty("Editable",this.editable?"true":"false"),this.updateEditableFlag=!1);var a=this.getTableModelProperty("Editable");
void 0===a?(a=this.editable,this.setTableModelProperty("Editable",a)):this.editable=m.getLogicalValue(a,!0)},_updateTableSelectable:function(){m.logDebug("_VEModelProperties: _updateTableSelectable");var a=this.getTableModelProperty("Selectable");void 0===a?(a=this.selectable,this.setTableModelProperty("Selectable",a)):(this.selectable=m.getLogicalValue(a,!0),this.selectable||(this.blockSelection.selectedRows=[],this.blockSelection.selectedColumns=[],this._renderSelection(),this._setLeadCellPosition(-1,
-1)));this.domNode&&(this.selectable?b.remove(this.domNode,this.notSelectableCSSClass):b.add(this.domNode,this.notSelectableCSSClass))},_updateModelStyles:function(){m.logDebug("_VEModelProperties: _updateModelStyles");if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow){var a=e("input.cell.variableEditorRenderers",this.domNode);this._updateNodeStyles(a)}},_updateNodeStyles:function(a){if(a)for(var b=
e.NodeList(),c=e.NodeList(),d,f=0;f<a.length;f+=1){d=a[f].getAttribute("data-tag")?a[f]:a[f].querySelector("input");var m=a[f].getAttribute("data-row"),k=a[f].getAttribute("data-col");if(d){if(void 0!==m&&void 0!==k){var t=l.getEnclosingWidget(d);t&&t.updateCellStyles&&t.updateCellStyles(m,k);t&&t.updateCellDraggability&&t.updateCellDraggability(m,k);(m=this.isCellEditable(m,k,d))?b.push(d):c.push(d)}}else d=this.getCellSelector(m,k),e(d)[0].firstChild&&(d=e(d)[0].firstChild,(m=this.isCellEditable(m,
k,d))?b.push(d):c.push(d))}},isCellDraggable:function(a,b,c){return m.getLogicalValue(this.getCellPropertyValue(a,b,"Draggable",c),!1)},getTextDataTransferValue:function(){var a=[];if(this.blockSelection&&this.blockSelection.selectedRows&&this.blockSelection.selectedColumns)for(var b=0;b<this.blockSelection.selectedRows.length;b+=1)for(var c=0;c<this.blockSelection.selectedColumns.length;c+=1)for(var d=this.blockSelection.selectedRows[b],f=this.blockSelection.selectedColumns[c],m=d.start;m<=d.end;m+=
1)for(var k=f.start;k<=f.end;k+=1)if(this.isCellDraggable(m,k)){var t=this.getCellSelector(m,k),u=e(t)[0],t=this.getCellPropertyValue(m,k,"DragValue");if(void 0===t&&u&&(u&&u.querySelectorAll)&&(u=u.querySelectorAll('[data-tag*\x3d".cell.'+m.toString()+"."+k.toString()+'"]')))for(var w=0;w<u.length;w+=1){var v=l.getEnclosingWidget(u[w]);v&&v.veEditor&&(t=v.veEditor.editorValue)}void 0!==t&&a.push(t)}return a.toString()},getDragValue:function(a){a||(a="text");return"text"===a?this.getTextDataTransferValue():
""},isCellEditable:function(a,b,c){var d=m.getLogicalValue(this.getCellModelProperty(a,b,"Editable"),!0),f=m.getLogicalValue(this.getColumnModelProperty(b,"Editable"),!0),k=m.getLogicalValue(this.getRowModelProperty(a,"Editable"),!0);void 0===c&&(a=this.getCellSelector(a,b),c=e(a)[0]);a=l.getEnclosingWidget(c);return this.editable&&d&&f&&k&&a&&a.veInplaceEditor&&a.veInplaceEditor.edit},isCellEditableFromObj:function(a,b,c){b=m.getLogicalValue(this.getColumnModelProperty(b,"Editable"),!0);a=m.getLogicalValue(this.getRowModelProperty(a,
"Editable"),!0);return this.editable&&b&&a&&c&&c.inplaceeditor},isNodeEditable:function(a){try{var b=this._getCellFromNode(a);if(0<=b.row&&0<=b.column)return this.isCellEditable(b.row,b.column,a)}catch(c){m.logDebug(c)}return!1},getColumnModelProperties:function(a){a-=this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0;return!this.ColumnModelProperties||!this.ColumnModelProperties.hasOwnProperty(a)?{}:this.ColumnModelProperties[a]},getColumnModelProperty:function(a,
b){var c=this.getColumnModelProperties(a);return!c.hasOwnProperty(b)?void 0:c[b]},setColumnModelProperty:function(a,b,c){var d=a-(this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0);if(!this.ColumnModelProperties||0===this.ColumnModelProperties.length){this.ColumnModelProperties=[];var f;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol)for(f=0;f<this.dataModel.getCurrentEndCol()-this.dataModel.getCurrentStartCol();f+=1)this.ColumnModelProperties[f]=
{}}this.ColumnModelProperties.hasOwnProperty(d)&&(this.ColumnModelProperties[d][b]=c);this.peerViewModel&&this.peerViewModel.setColumnModelProperty&&this.peerViewModel.setColumnModelProperty(a,b,c);this._updateColumnHeaderNames();this._updateColumnWidths();this._updateModelStyles()},getRowModelProperties:function(a){a-=this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0;return!this.RowModelProperties||!this.RowModelProperties.hasOwnProperty(a)?{}:this.RowModelProperties[a]},
getRowModelProperty:function(a,b){var c=this.getRowModelProperties(a);return!c.hasOwnProperty(b)?void 0:c[b]},setRowModelProperty:function(a,b,c){var d=a-(this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0);if(!this.RowModelProperties||0===this.RowModelProperties.length){this.RowModelProperties=[];var f;if(this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow)for(f=0;f<this.dataModel.getCurrentEndRow()-this.dataModel.getCurrentStartRow();f+=
1)this.RowModelProperties[f]={}}this.RowModelProperties.hasOwnProperty(d)&&(this.RowModelProperties[d][b]=c);this.peerViewModel&&this.peerViewModel.setRowModelProperty&&this.peerViewModel.setRowModelProperty(a,b,c);this._updateRowHeaderNames();this._updateModelStyles()},getTableModelProperty:function(a){return!this.TableModelProperties||!this.TableModelProperties.hasOwnProperty(a)?void 0:this.TableModelProperties[a]},setTableModelProperty:function(a,b){this.TableModelProperties||(this.TableModelProperties=
{});this.TableModelProperties[a]=b;this.peerViewModel&&this.peerViewModel.setTableModelProperty&&this.peerViewModel.setTableModelProperty(a,b);this._updateTableSelectable();this._updateModelStyles()},setCellModelProperty:function(a,b,c,d){var f=a-(this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0),e=b-(this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0);if(!this.CellModelProperties||0===this.CellModelProperties.length){this.CellModelProperties=
[];var l;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow)for(l=0;l<this.dataModel.getCurrentEndRow()-this.dataModel.getCurrentStartRow();l+=1){this.CellModelProperties[l]=[];var m;for(m=0;m<this.dataModel.getCurrentEndCol()-this.dataModel.getCurrentStartCol();m+=1)this.CellModelProperties[l][m]={}}}this.CellModelProperties.hasOwnProperty(f)&&this.CellModelProperties[f].hasOwnProperty(e)&&(this.CellModelProperties[f][e][c]=
d);this.peerViewModel&&this.peerViewModel.setCellModelProperty&&this.peerViewModel.setCellModelProperty(a,b,c,d);this._updateModelStyles()},getCellModelProperty:function(a,b,c){var d;0<=a&&(0<=b&&this.CellModelProperties&&this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentStartRow&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()]&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()]&&this.CellModelProperties[a-
this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c])&&(d=this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c]);return d},getCellPropertyValue:function(a,b,c,d){var f;if(d&&d.hasOwnProperty(c))f=d[c];else if(0<=a&&0<=b&&this.CellModelProperties&&this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentStartCol&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()]&&this.CellModelProperties[a-
this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()]&&(this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c]||this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c]===Boolean(0)))f=this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c];else if(0<=b&&this.ColumnModelProperties&&this.dataModel&&this.dataModel.getCurrentStartCol&&
this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()]&&(this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][c]||this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][c]===Boolean(0)))f=this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][c];else if(0<=a&&this.RowModelProperties&&this.dataModel&&this.dataModel.getCurrentStartRow&&this.RowModelProperties[a-this.dataModel.getCurrentStartRow()]&&(this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][c]||
this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][c]===Boolean(0)))f=this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][c];else if(this.TableModelProperties&&(this.TableModelProperties[c]||this.TableModelProperties[c]===Boolean(0)))f=this.TableModelProperties[c];return f},_updateTableHeaders:function(){m.logDebug("_VEModelProperties: _updateTableHeaders");this.ColumnModelProperties&&(this._updateColumnHeaderNames(),this._updateColumnWidths(),this._updateColumnHeaderDisplay());
this.RowModelProperties&&(this._updateRowHeaderNames(),this._updateRowHeaderDisplay())},_updateRowHeaderDisplay:function(){this.domNode&&(m.getLogicalValue(this.getTableModelProperty("ShowRowHeaders"),!0)?b.remove(this.domNode,"hideRowHeaders"):b.add(this.domNode,"hideRowHeaders"))},_updateColumnHeaderDisplay:function(){this.domNode&&(m.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0)?b.remove(this.domNode,"hideColumnHeaders"):b.add(this.domNode,"hideColumnHeaders"))},_updateRowHeaderNames:function(){m.logDebug("_VEModelProperties: _updateRowHeaderNames");
if(this.RowModelProperties){var a,b=this.defaultRowHeaderWidth,c=0,d=this.getTableModelProperty("CornerSpacerTitle");d&&(b=Math.max(7*d.length)+20,this.peerNode.setProperty("rowHeaderWidth",b));if(this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow){var d=m.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),!0),f=m.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1),e=m.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),
!0);a=this.dataModel.getCurrentStartRow();var l;l=this.dataModel.getCurrentEndRow();for(l=0==l&&this.dataModel.getCurrentStartRow()===l&&0!==this.getRowCount()?this.RowModelProperties.length:l;a<l;a+=1){this.rows[a]||(this.rows[a]={label:"",labelIndex:null});var k=e?this.getRowModelProperty(a,"RowName"):"",u=f?this.getRowModelProperty(a,"RowNumber"):"";k?(this.rows[a].labelIndex=f?parseInt(u):a+1,this.rows[a].label=k):(this.rows[a].labelIndex=d?a+1:"",this.rows[a].label="");c=Math.max(c,7*(this.rows[a].labelIndex.toString().length+
2));b=Math.max(b,7*(Math.min(this.maxLabelWidth,this.rows[a].label.length)+this.rows[a].labelIndex.toString().length+2))}null!=c&&(this.maxIndexWidth=c);this.peerNode.setProperty("rowHeaderWidth",b)}}},_updateColumnHeaderNames:function(){m.logDebug("_VEModelProperties: _updateColumnHeaderNames");if(this.ColumnModelProperties){var a;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol){var b=m.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),
c=m.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),d=m.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),f=this.getTableModelProperty("ShowHeaderIcons");this.getTableModelProperty("CornerSpacerTitle");for(a=this.dataModel.getCurrentStartCol();a<this.dataModel.getCurrentEndCol();a+=1){this.columns[a]||(this.columns[a]={label:"",labelIndex:null});var e=d?this.getColumnModelProperty(a,"HeaderName"):"",l=c?this.getColumnModelProperty(a,"HeaderNumber"):
(a+1).toString(),k=f?this.getColumnModelProperty(a,"icon"):"";k&&(this.columns[a].icon=k);e?(this.columns[a].labelIndex=c?parseInt(l):a+1,this.columns[a].label=e):(this.columns[a].labelIndex=b?a+1:"",this.columns[a].label="")}}}},_updateColumnWidths:function(){m.logDebug("_VEModelProperties: _updateColumnWidths");if(this.ColumnModelProperties){var a=d.clone(this.columns),b,c=!1;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&0<this.columns.length)for(b=this.dataModel.getCurrentStartCol();b<
this.dataModel.getCurrentEndCol();b+=1)if(this.columns[b]||(this.columns[b]={width:0}),this.columns[b]&&this.columns[b]!==this._resizingColumn)try{var e=this._getColumnWidthOnTable?this._getColumnWidthOnTable(b):null,l=e?e:this.getColumnModelProperty(b,"ColumnWidth"),k=parseInt(l,10);null!==l&&(void 0!==l&&0<=k)&&(this._currentColumns&&this._currentColumns[b]&&this._currentColumns[b].width===k?a[b].width=this._currentColumns[b].width:(c=!0,a[b].width=k))}catch(q){f.error(q),f.error(q.stack)}(c||this.dataModel&&
this.columns&&this.dataModel.getColumnCount&&this.columns.length!==this.dataModel.getColumnCount())&&0!==a.length&&this.peerNode.setProperty("columns",a);if(a&&(c||!this._currentColumns))this._currentColumns=a}}})})},"variableeditor/views/table/tableBase/_TableColumnWidth":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/on dojo/dom-geometry dojo/dom-style dojo/dom-class".split(" "),function(k,d,e,c,b,a,f){return k([],{postCreate:function(){this.inherited(arguments);this.own(c(this.columnHeaderNode,
"mousedown",e.hitch(this,"_onColumnResizeMouseDown")))},_onColumnResizeMouseDown:function(a){if(a.target.getAttribute&&a.target.getAttribute("class")&&(-1!==a.target.getAttribute("class").indexOf("drag")||-1!==a.target.getAttribute("class").indexOf("firstHalfOfDrag")||-1!==a.target.getAttribute("class").indexOf("secondHalfOfDrag")||-1!==a.target.getAttribute("class").indexOf("dragBorder"))){f.add(this.domNode,"resizing");var m=this._getHeaderFromNode(a.target).column,h=this.columns[m];if(h&&(void 0===
h.resizable||h.resizable))this._tablePos=b.position(this.columnResizerNode.parentNode),this._resizingColumn=m,this._originalResizeWidth=h.width||0,this._minResizeWidth=h.minWidth?h.minWidth:10,this._maxResizeWidth=h.maxWidth?h.maxWidth:1E3,this._splitterNode=a.target,"drag"===a.target.getAttribute("class")&&(this._splitterNode=a.target.firstChild.nextElementSibling),"firstHalfOfDrag"===a.target.getAttribute("class")&&(this._splitterNode=a.target.nextElementSibling),"secondHalfOfDrag"===a.target.getAttribute("class")&&
(this._splitterNode=a.target.previousElementSibling),this._originalSplitterPos=b.position(this._splitterNode),this._updateColumnResizerNode(this._originalSplitterPos.x),this._mouseMoveListener=c(document,"mousemove",e.hitch(this,"_onColumnMouseMove")),this._mouseUpListener=c(document,"mouseup",e.hitch(this,"_onColumnMouseUp")),document.addEventListener("selectstart",d.stop,!0)}},_getHeaderFromNode:function(a){for(var b=null,c=-1,d=-1;a.getAttribute&&"datatools.variableeditor.views.table.variableEditorColumnHeaders"!==
a.getAttribute("data-tag")&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute&&"datatools.variableeditor.views.table.variableEditorColumnHeaders"===a.getAttribute("data-tag")){b=a;for(d=this.colView.start-1;a.previousElementSibling;)d+=1,a=a.previousElementSibling;a=a.parentNode;for(c=this.rowView.start-1;a.previousElementSibling;)c+=1,a=a.previousElementSibling}return{node:b,row:c,column:d}},_onColumnMouseMove:function(a){this._updateColumnResizerNode(a.pageX);d.stop(a)},_onColumnMouseUp:function(b){d.stop(b);
f.remove(this.domNode,"resizing");b=b.pageX-this._originalSplitterPos.x+this._originalResizeWidth;b=Math.min(Math.max(this._minResizeWidth,b),this._maxResizeWidth);var c=e.clone(this.columns);c[this._resizingColumn].width=b;this.peerNode.setProperty("columns",c);a.set(this.columnResizerNode,{display:"none"});this._mouseMoveListener.remove();this._mouseUpListener.remove();document.removeEventListener("selectstart",d.stop,!0)},_updateColumnResizerNode:function(b){b=b-this._originalSplitterPos.x+this._originalResizeWidth;
b=Math.min(Math.max(this._minResizeWidth,b),this._maxResizeWidth);a.set(this.columnResizerNode,{display:"inherit",left:this._originalSplitterPos.x-this._tablePos.x+b-this._originalResizeWidth+"px"})}})})},"variableeditor/views/table/tableBase/_PropTypeHandler":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on"],function(k,d,e){return k([],{postCreate:function(){this.inherited(arguments);this.own(e(this.dataScrollerNode,e.selector("button","click"),d.hitch(this,"_onCellButtonClick")))},
_onCellButtonClick:function(c){var b=this._getCellFromNode(c.target);0<=b.row&&0<=b.column&&this.peerNode.dispatchPeerEvent("cellEvent",this.peerNode,{cellEventType:"buttonClick",row:b.row,column:b.column,buttonClass:c.target.getAttribute("class")})}})})},"variableeditor/views/renderers/VERendererFactory":function(){define("variableeditor/views/renderers/VERendererFactory","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/mouse dojo/on dojo/dom dojo/touch dojo/dom-geometry dijit/registry variableeditor/views/renderers/_VERendererMixin variableeditor/views/editors/_VEEditorConverterMixin mw-log/Log require variableeditor/VariableEditorUtils".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){return k("variableeditor.views.renderers.VERendererFactory",[],{table:{},type:"cellrennderer",constructor:function(a){this.table=a;this.type=a.RendererName;this.dragImageUrl=s.toUrl("../../../images-variableeditor/ico_drag_workspace.png")},create:function(a,b,c){var d;d=document.createElement("input");if(b&&1<=b.length&&"{"===b.charAt(0)){var f=JSON.parse(b),h=this.getCellIndices(f),e=h.row,h=h.column,l=this;this.createRendererObject(f,"renderer",{node:d,column:a,
renderedObject:f,table:l.table},l.table,function(a){var b=a.declaredClass;a._setupEventListeners(l.table);a.isInstanceOf(g)||k.safeMixin(a,new g);a.isInstanceOf(p)||k.safeMixin(a,new p);a.declaredClass=b;d=a.domNode;a._setRendererProperties(f,l.table,"server");a.domNode.setAttribute("data-tag",a.createDataTag("CellRenderer","cell"));a._setupDOMRowCol(a.getCellIndices(f));c&&"function"===typeof c&&c(d)});d&&this.updateCellDraggability(e,h,d,b)}else d.value=b;return d},startup:function(a){a&&(a.nodeName&&
"input"===a.nodeName.toLowerCase())&&(a.value=a.value);h.getEnclosingWidget(a).startup()},getCellIndices:function(a){var b=-1,c=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));return{row:b,column:c}},createRendererObject:function(a,b,c,d,g){var f=null,h=this.getCellIndices(a);d=h.row;h=h.column;try{var e=this.table.getCellPropertyValue(d,h,b,a);if(e)s([e],function(a){f=new a(c);g&&"function"===typeof g&&g(f)});else return null}catch(l){n.error(l)}return f},update:function(a,
b,c,d){var g=null;if(c&&1<=c.length&&"{"===c.charAt(0)){g=JSON.parse(c);if(g.isInvalidCache)return;var f=this.getCellIndices(g),e=f.row,f=f.column;a=h.getEnclosingWidget(a);var l="";a&&(l=a.declaredClass);e=this.table.getCellPropertyValue(e,f,"renderer",g);this.comparePathToDeclaredClass(e,l)?(a._setRendererProperties(g,this.table,"server"),a._setupDOMRowCol(a.getCellIndices(g)),g=a.domNode,d&&"function"===typeof d&&d(g)):(g=this.create(b,c,d),a&&a.destroy())}else a&&(a.value=c,g=a);return g},updateCellDraggability:function(a,
b,c,d){c||(c=this.domNode);d||(d=this.renderedObject);this.table&&this.table.useDojoDnD?this.updateDojoDraggability(a,b,c,d):this.updateDefaultCellDraggability(a,b,c,d)},updateDojoDraggability:function(b,c,d,g){if(this.table&&this.table.isCellDraggable){var f=this;this.table.isCellDraggable(b,c,g)&&(a(d,l.press,function(a){f.redispatchMouseEvent(a,"mousedown")}),a(d,l.release,function(a){f.redispatchMouseEvent(a,"mouseup");f.table&&f.table.dataScrollerNode&&f.table._onMouseDragUp(a)}),r.addToClassList(d,
"dojoDndItem"),g&&(1<=g.length&&"{"===g.charAt(0))&&(g=JSON.parse(g)),g.value&&(d.setAttribute("dndData",g.value),d.setAttribute("dndType","text")))}},redispatchMouseEvent:function(a,b){var c=dijit.registry.byNode(a.currentTarget);a.renderer=c;c.dispatchEvent(b,c,a)},updateDefaultCellDraggability:function(b,c,g,f){this.table&&this.table.isCellDraggable&&(b=this.table.isCellDraggable(b,c,f),g.setAttribute("draggable",b),c=h.getEnclosingWidget(g),b&&(c.dragStartListener||(c.dragStartListener=a(g,"dragstart",
d.hitch(this,"onDragStart")),c.dragOverListener=a(g,"dragover",d.hitch(this,"onDragOver")),c.dropListener=a(g,"drop",d.hitch(this,"onDrop"))),this.dragImage=this.preloadDragImage()))},preloadDragImage:function(){var a=document.createElement("img");a.setAttribute("src",this.dragImageUrl);return a},onDragOver:function(a){a.preventDefault&&a.preventDefault();a.dataTransfer.dropEffect="copy";return!1},onDragStart:function(a){if(this.table&&this.table.getSelectedFields){var b=this.table.getSelectedFields();
a.dataTransfer.setData("text/plain",b);a.dataTransfer.setData("text/workspacebrowser",b);if(a.dataTransfer.setDragImage){var c=this.dragImage;c.setAttribute("alt",b);a.dataTransfer.setDragImage(c,0,0)}a.target.style.cursor="move";a.dataTransfer.effectAllowed="copyMove"}return!1},onDrop:function(a){a.preventDefault&&a.preventDefault();return!1},clearCache:function(a,b,c){if(c&&1<=c.length&&"{"===c.charAt(0)){var g=JSON.parse(c),f=h.getEnclosingWidget(a),e={};f&&(e={veInplaceEditor:f.veInplaceEditor,
veEditor:f.veEditor});(g=this.createRendererObject(g,"renderer",{node:a,column:b,renderedObject:g,table:this.table},this.table,function(g){g&&g.clearCache&&g.clearCache(a,b,c);d.mixin(g,e)}))&&g.clearCache&&g.clearCache(a,b,c)}},getCellValue:function(a){a=h.getEnclosingWidget(a);return a.getValue?a.getValue():null},comparePathToDeclaredClass:function(a,b){var c=a.split("/"),d=b.split("."),g=!0;if(c.length===d.length)for(var f=0;f<c.length&&g;f+=1)g=c[f]===d[f];else g=!1;return g}})})},"variableeditor/views/editors/_VEEditorConverterMixin":function(){define("variableeditor/views/editors/_VEEditorConverterMixin",
["dojo/_base/declare","dojo/_base/lang"],function(k,d){return k("variableeditor.views.editors._VEEditorConverterMixin",[],{_converter:null,setEditorConverter:function(e){null!==e&&void 0!==e&&(this._converter=d.hitch(this,e))},convert:function(d){var c=d;null!==this._converter&&(c=this._converter(d));return c},addSingleQuotesConverter:function(d){return"'"+d+"'"},datetimeConverter:function(d){var c=d;if(void 0===d||null===d||""===d)c="NaT";return this.addSingleQuotesConverter(c)}})})},"variableeditor/views/CharArrayView":function(){define("variableeditor/views/CharArrayView",
["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.CharArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new e(c)}})})},"variableeditor/views/StringArrayView":function(){define("variableeditor/views/StringArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.StringArrayView",
[d],{constructor:function(){this.table={}},createTable:function(c){return new e(c)}})})},"variableeditor/views/StructureArrayView":function(){define("variableeditor/views/StructureArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/StructureTable","dojo/dom-geometry"],function(k,d,e,c,b){return k("variableeditor.views.StructureArrayView",[e],{createTable:function(a){a.sortAscending=this.peerNode.getProperty("SortAscending");a.sortableColumn=
this.peerNode.getProperty("SortableColumn");a.clientSortHandler=d.hitch(this,function(a){this.peerNode.setProperty("SortAscending",{SortAscending:a,source:"client"})});var b=new c(a);this.peerNode.addEventListener("propertySet",function(a){"SortAscending"===a.data.key&&"server"===a.data.newValue.source&&b._swapSortIcon(null,a.data.newValue.SortAscending)},this.peerNode);return b},getSelectedFields:function(){if(this.table&&this.table.getSelectedFields)return this.table.getSelectedFields()}})})},"variableeditor/views/table/StructureTable":function(){define("variableeditor/views/table/StructureTable",
"dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom dojo/dom-construct dojo/query dojo/dom-style dojo/dom-attr dojo/dom-geometry dijit/registry dojo/domReady! datatoolsservices/TestingHooksUtils datatoolsservices/TestingPropConstants variableeditor/views/table/ArrayTable variableeditor/views/table/HeaderContextMenu variableeditor/VariableEditorUtils variableeditor/views/renderers/_TemplateMixin variableeditor/views/table/_VEColumnHeaders dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){return k("variableeditor.views.table.StructureTable",[r,u,w],{_ascending:!0,_clientSortHandler:null,_sortableColumnLabel:null,_fixedColumnWidths:!0,_lastSortTime:new Date,_contextMenu:null,cellColor:"rgb(166, 220, 255);",defaultProperties:{renderer:{type:"default"},rowHeight:22,dataModel:null,visibility:!0},rowHeight:22,initColumnWidthSet:!1,NAME_COLUMN:"Name",FIELD_COLUMN:"Field",PROPERTY_COLUMN:"Property",VALUE_COLUMN:"Value",SIZE_COLUMN:"Size",
CLASS_COLUMN:"Class",Width_Adjustment:20,constructor:function(a){this.inherited(arguments);this.defaultProperties.showCellBorders=!1;this._setDefaultLeadCellStyle();a.sortAscending&&a.sortAscending.hasOwnProperty("SortAscending")?this._ascending=a.sortAscending.SortAscending:this._ascending=!0;this._sortableColumnLabel=a.sortableColumn;this._clientSortHandler=a.clientSortHandler;this._fixedColumnWidths=void 0===a.fixedColumnWidths?!0:a.fixedColumnWidths;this.showSelectionBorder=this.sendSelectionRanges=
!1;this.rowHeight=22;this.selectedCellStyle="background-color: "+this.cellColor+"z-index:5;";this.debounceResize=t.createDebounceFn(this,[this._updateWidthOnResize],500)},postCreate:function(){this.blockSelection&&this.blockSelection.setIndexedRows(!0);this.inherited(arguments);this._updateTableHeaders();c.add(this.domNode,"StructureTable")},_updateHeaderStyle:function(){},_getLabelProperties:function(){var a={},b=this.getTableModelProperty("ColumnHeaderList"),c=this.getTableModelProperty("ColumnHeaderListPropertyName");
if(!b||!c||b.length!==c.length)return a;a.labels=[];for(var d=0;d<b.length;d++){var g=b[d],f=c[d],h,e;f===this.NAME_COLUMN||f===this.FIELD_COLUMN||f===this.PROPERTY_COLUMN?e=h=!0:(h=t.getLogicalValue(this.getTableModelProperty(c[d]),!0),e=!1);a.labels.push({label:g,checked:h,disabled:e,propertyName:f})}n.getInstance().setPropertyVal(s.HEADER_CONTEXTMENU_LABELS_SET,!0);return a},_attachListeners:function(a){a.addEventListener("headerSelectionChanged",d.hitch(this,"_headerMenuSelectionChanged"));a.addEventListener("headerMenuShown",
d.hitch(this,"_updateHeaderMenuState"))},_createContextMenu:function(a){var b="#"+this.domNode.getAttribute("id")+" .columnHeaderScrollerNode";a=new q({targetNodes:[b],labelProperties:a});a.domNode.setAttribute("data-tag",t.concatenateDataTagStrings("datatools","variableeditor","contextMenu"));return a},_setupColumnSelectionContextMenu:function(){var a=this._getLabelProperties();try{this.contextMenu=this._createContextMenu(a.labels),this.contextMenu.startup(),this._attachListeners(this.contextMenu),
n.getInstance().setPropertyVal(s.HEADER_CONTEXTMENU_INITIALIZED,!0)}catch(b){t.logDebug(b)}},_updateHeaderMenuState:function(a){var b=this._getLabelProperties(),b=b.labels;this.contextMenu.hasSubMenuItems()||this.contextMenu.createSubMenuItems(b);for(var c=0;c<b.length;c++){var d=b[c];a.target.setLabelState(d.label,d.checked)}},_headerMenuSelectionChanged:function(a){this._toggleHeaderColumn(a.data.text);var b=this.blockSelection;!b.isEmpty()&&(a.data.checked&&b.selectedColumns&&b.selectedColumns[0]&&
b.selectedColumns[0].end<=this.getColumnCount()-1)&&(b.selectedColumns[0].end+=1,this.blockSelection=b,this._renderSelection())},_getColumnHeaderPropertyName:function(a){for(var b=this._getLabelProperties(),c=0;c<b.labels.length;c++)if(b.labels[c].label===a)return b.labels[c].propertyName},_toggleHeaderColumn:function(a){a=this._getColumnHeaderPropertyName(a);"undefined"!=typeof a&&(t.getLogicalValue(this.getTableModelProperty(a),!0)?this.peerViewModel.setTableModelProperty(a,!1):this.peerViewModel.setTableModelProperty(a,
!0))},_onDataModelSet:function(){this.inherited(arguments);this.updateModelProperties(!0);this._addDataValueTags()},startup:function(){this.inherited(arguments);this._setupColumnSelectionContextMenu();this._attachDndListeners()},_attachDndListeners:function(){this.dragEnterListener=e(this.domNode,"dragenter",d.hitch(this,this._onDragEnter));this.dragOverListener=e(this.domNode,"dragover",d.hitch(this,this._onDragOver));this.dragLeaveListener=e(this.domNode,"dragleave",d.hitch(this,this._onDragLeave));
this.dropListener=e(this.domNode,"drop",d.hitch(this,this._onDrop))},_onDragEnter:function(a){return!1},_onDragOver:function(a){return!1},_onDragLeave:function(a){return!1},_onDrop:function(a){return!1},_onKeyDown:function(a){65===a.keyCode&&a.ctrlKey&&a.preventDefault()},_setInitialColumnSize:function(){var a=d.clone(this.columns),b=f("\x3ediv.cell:not(.spacer)",this.columnHeaderNode),c=h.position(this.container.domNode),g=c.w/a.length,c=c.w/this.Width_Adjustment,e;for(e=0;e<b.length;e+=1){var l=
h.position(b[e]);a[e].width=this._fixedColumnWidths?l.w:g;if(!this._fixedColumnWidths){if(0===e||1===e)a[e].width+=c;if(2===e||3===e)a[e].width-=c}this.setColumnModelProperty(e,"ColumnWidth",a[e].width);this._setColumnWidthOnTable(e,a[e].width);this.initColumnWidthSet=!0}},resize:function(){if(!this._noAutoSizing){var a=h.position(this.domNode);this.position={width:a.w,height:a.h};this.debounceResize()}this.inherited(arguments)},_updateWidthOnResize:function(){if(this._isColumnWidthInitial()){this.totalColumnWidth=
this.position.width;for(var a=this.totalColumnWidth/this.columns.length,b=this.totalColumnWidth/this.Width_Adjustment,c=a+b,a=a-b,b=0;b<this.columns.length;b++){if(0===b||1===b)this.columns[b].width=c,this._setColumnWidthOnTable(b,c);if(2===b||3===b)this.columns[b].width=a,this._setColumnWidthOnTable(b,a)}}},_onColumnsSet:function(){this._updateColumnHeaderNames();this.totalColumnWidth=0;var a,b=this.ColumnModelProperties.length;for(a=0;a<b;a+=1)if(this.columns[a]){var c=this._getColumnWidthOnTable?
this._getColumnWidthOnTable(a):null,c=c?c:this.getColumnModelProperty(a,"ColumnWidth"),d=parseInt(c,10);null!==c&&void 0!==c&&0<=d?(this.totalColumnWidth+=d,this.columns[a].width||(this.columns[a].width=d)):(this.totalColumnWidth+=this.defaultColumnWidth,this.columns[a].width=this.defaultColumnWidth)}this._renderViewData(!0)},_setColumnWidthOnTable:function(a,b){var c=this._getHeaderNameWithIndex(a);null!=c&&this.setTableModelProperty(c+"ColumnWidth",b)},_getColumnWidthOnTable:function(a){a=this._getHeaderNameWithIndex(a)+
"ColumnWidth";return this.getTableModelProperty(a)},getSelectedFields:function(){return this.getTableModelProperty("SelectedFields")},getDndItemSelector:function(){return".dataBody div.row:not(.spacer)"},getDndHandleSelector:function(){return[".structNameColumn",".structSizeColumn",".structClassColumn"]},_renderViewData:function(a){var b=this;this._throttledRender(a,function(){!b.initColumnWidthSet&&(b.container&&0<h.position(b.container.domNode).w)&&(b._setInitialColumnSize(),n.getInstance().setPropertyVal(s.STRUCT_RENDERED,
!0));b._attachDndHandles();b._addDataValueTags()})},_getStructNameColumnWidget:function(a){return g.getEnclosingWidget(a)},_addDataValueTags:function(){if(this.domNode){var a=this.domNode.querySelectorAll('[class\x3d"row"]'),b=this.getDndHandleSelector();if((b=this.domNode.querySelectorAll(b[0]))&&a)for(var c=0;c<b.length;c+=1){var d=this._getStructNameColumnWidget(b[c]);if(d&&d.getValue&&(d=d.getValue())&&a[c])a[c].dataset.structVarName=d}}},_getColumnTag:function(a){switch(a){case v.structNameColumn:a=
"Name";break;case v.structFieldColumn:a="Field";break;case v.structValueColumn:a="Value";break;case v.structSizeColumn:a="Size";break;case v.structClassColumn:a="Class"}return a},_getColumnDataTag:function(a){a=a.label;return a=this._getColumnTag(a)},_renderSelection:function(){var a=this.blockSelection.selectedRows,b="",c=this.getDndHandleSelector()[0];if(!this.blockSelection.isEmpty()&&null!==this.dataModel){for(var d=0;d<a.length;d+=1){Math.max(1,a[d].start+this.tableRowOffset-this.rowView.start);
Math.max(1,a[d].end+this.tableRowOffset-this.rowView.start);this.getDndHandleSelector();for(var f=a[d].start;f<=a[d].end;f++){var h=this.domNode.getElementsByClassName(c.substring(1,c.length)+" row_"+f);h&&h[0]&&(h=g.getEnclosingWidget(h[0]))&&(b=b+h._value+",")}}b=b.slice(0,-1);b.split(",").length===this.blockSelection.getRowCount()&&this.setTableModelProperty("SelectedFields",b);this._setDefaultLeadCellStyle();a=this.blockSelection.getFirstCellFromLastRow();this._setLeadCellPosition(a[0],a[1])}this.inherited(arguments)},
_flipSelection:function(a){"dataModel"===a.data.key?(this.peerNode.removeEventListener("propertySet",this._flipSelection,this),this.blockSelection.flipRowCount(this.getRowCount()),this._renderSelection()):"Selection"===a.data.key&&this.peerNode.removeEventListener("propertySet",this._flipSelection,this)},_sort:function(a,b){this._ascending!==b&&(this._swapSortIcon(a,b),2<=this.getRowCount()&&this.peerNode.addEventListener("propertySet",this._flipSelection,this),this._clientSortHandler(this._ascending))},
_updateSortIcon:function(a){this._ascending?(c.remove(a,"sortDown"),c.add(a,"sortUp")):(c.remove(a,"sortUp"),c.add(a,"sortDown"))},_swapSortIcon:function(a,b){this._ascending!==b&&(this._ascending=b,a||(a=this._getSortIconNode()),c.contains(a,"sortableColumn")&&(a=a.getElementsByClassName("sortIcon")[0]),this._updateSortIcon(a))},_getSortIconNode:function(){return this._getSortColumnTextDOMNode(this.domNode)},_toggleSort:function(a){1===a.data.which&&(a.target&&a.target.domNode)&&(a=a.target.domNode,
this._isDragNode(a)||this._sort(a,!this._ascending))},_isDragNode:function(a){return c.contains(a,"drag")||c.contains(a,"firstHalfOfDrag")||c.contains(a,"dragBorder")||c.contains(a,"secondHalfOfDrag")},_updateSortableNode:function(b){b=g.getEnclosingWidget(b);c.add(this.columnHeaderScrollerNode,"contextMenuContainer");if(b._inputBoxLabel._value===this.sortableColumn){b=b._getAttachNode(b.HEADER_LABEL_ATTACH_POINT).querySelectorAll(".NonEditableHeader")[0];var f=b.getElementsByClassName("sortIcon"),
h=this.getEnclosingHeaderWidget(b);if(0<f.length)f=f[0];else{var f=a.create("div",null,b,"last"),e=h._inputBox.value.toUpperCase(),e=t.getComputedColumnHeaderWidth(e,"9px Helvetica, Helvetica, sans-serif")+8+"px";c.add(b,"sortableColumn");c.add(f,"sortable");c.add(f,"sortIcon");c.add(f,"sortUp");h.domNode.setAttribute("data-tag",t.createDataTag("sortableColumn"));l.set(h._inputBox.domNode,"max-width",e)}!this.hasOwnProperty("sortListener")&&!h._listeners.mousedown&&h.addEventListener("mousedown",
d.hitch(this,"_toggleSort"));this._updateSortIcon(f)}},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateSortableNode(b);return b},_updateColumnNode:function(a,b){this.inherited(arguments);this._updateSortableNode(a)},_getSortColumnTextDOMNode:function(a){a=g.getEnclosingWidget(a);a=a._getAttachNode(a.HEADER_LABEL_ATTACH_POINT).querySelectorAll(".sortable.sortIcon");var b;for(b=0;b<a.length;b+=1){var c=g.getEnclosingWidget(a[b]);if(this._sortableColumnLabel===c._value)return a[b]}},
onEditingStarted:function(){this.leadCellStyle="background-color: rgb(255, 255, 255);opacity: 1.0;";this._updateSelectionAndSelectionBorderStyle();this._updateLeadCellStyle()},onEditingStopped:function(){this.showSelectionBorder=!1;this._setDefaultLeadCellStyle();this._updateLeadCellStyle();this._updateSelectionAndSelectionBorderStyle()},_updateBlockSelection:function(a,b,c,d){return c=this._updateRowSelection(a,c,d)},onMouseEnter:function(a){},_onColumnMouseDown:function(a){a.preventDefault()},selectColumn:function(){},
deselectColumn:function(){},_onHeaderColumnMouseDown:function(a){a.preventDefault()},_onMouseMove:function(){this.focused||this.domNode.focus();this.cellsDragged=!0},handlePropertySet:function(a){this.inherited(arguments);"dataModel"===a.data.key&&(this.leadCellStyle={},this._updateLeadCellStyle())},_setDefaultLeadCellStyle:function(){this.leadCellStyle="background-color: "+this.cellColor+"opacity: 1.0;"},_updateDataStyles:function(){this._fixedColumnWidths?this.inherited(arguments):this.dataModel&&
(this.rowHeight&&this.position)&&(this._updateScrollerStyles(),this.styleManager.updateStyleRules("spacerLeft",{".row .spacer.leftSpacer":"width: "+this.leftSpaceWidth+"px;"}),this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: 100%;"}),this._updateColumnStyles())},_updateColumnStyles:function(){if(this._fixedColumnWidths)this.inherited(arguments);else{this.styleManager.updateStyleRules("spacerTop",{".body .spacer.topSpacer":"height: "+this.rowView.start*this.rowHeight+"px;"});
this.styleManager.updateStyleRules("dataHeight",{".spacer.dataHeight":"height: "+this.dataModel.getRowCount()*this.rowHeight+"px;",".row":"height: "+this.rowHeight+"px;"});var a=this.totalColumnWidth;this.container&&(this.container.containerNode&&this.container.containerNode.getBoundingClientRect())&&(a=this.container.containerNode.getBoundingClientRect().width);var b=this.columns.slice(this.colView.start,this.colView.end),c=this._isColumnWidthInitial(),d,g={},f,h=a;for(d=0;d<b.length;d+=1){f=this._getCellType(b[d]);
f=this._getColumnStyles(f);if(b[d]&&b[d].width&&!c)d<b.length-1?(f+="width: "+b[d].width+"px;",h-=b[d].width):f+="width: "+h+"px;";else{if(0===d||1===d)f+="width: "+Math.floor(100/b.length+100/this.Width_Adjustment)+"%;";if(2===d||3===d)f+="width: "+Math.floor(100/b.length-100/this.Width_Adjustment)+"%;"}g[".dataColumn .cell:nth-child("+(d+2)+")"]=f}c||this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: "+a+"px;"});this.styleManager.updateStyleRules("columns",g)}},_isColumnWidthInitial:function(){var a=
!0;if(this._fixedColumnWidths)a=!1;else for(var b=0;b<this.columns.length;b+=1)if(this.getColumnModelProperty(b,"ColumnResized")){a=!1;break}return a},_createCustomColumnHeader:function(a,b,d){node=this.inherited(arguments);columnModelProperties=this.ColumnModelProperties;for(var g=0;g<columnModelProperties.length;g++)columnModelProperties[g].HeaderName&&columnModelProperties[g].classList&&d==columnModelProperties[g].HeaderName&&c.add(node,columnModelProperties[g].classList);return node},_getHeaderNameWithIndex:function(a){return 0===
a?this.NAME_COLUMN:a===this._getValueColumnIndex()?this.VALUE_COLUMN:a===this._getSizeColumnIndex()?this.SIZE_COLUMN:a===this._getClassColumnIndex()?this.CLASS_COLUMN:null},_getValueColumnIndex:function(){return!this.getTableModelProperty("ShowValueColumn")?-1:1},_getSizeColumnIndex:function(){return!this.getTableModelProperty("ShowSizeColumn")?-1:this.getTableModelProperty("ShowValueColumn")?2:1},_getClassColumnIndex:function(){if(!this.getTableModelProperty("ShowClassColumn"))return-1;var a=this.getTableModelProperty("ShowValueColumn"),
b=this.getTableModelProperty("ShowSizeColumn");return a&&b?3:a||b?2:1}})})},"datatoolsservices/TestingHooksUtils":function(){define("datatoolsservices/TestingHooksUtils",["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","datatoolsservices/TestingPropConstants"],function(k,d,e,c){var b=[],a=k("datatoolsservices.TestingHooksUtils",[e],{constructor:function(a){this.namespace=a&&a.namespace?a.namespace:"/TestingHooks";this.manager=null;this.manager=d.getClientInstance(this.namespace);
this.addManagerListeners(this.manager);this._initTestingHooks=!1;this.start(this._peerModelManager);this._propRequests=[];this._init()},_init:function(){var a=this;this.manager.addEventListener("rootSet",function(b){if((b=b.target)&&b.hasProperty(c.TESTING_INITIALIZED))a._initTestingHooks=b.getProperty(c.TESTING_INITIALIZED),0<a._propRequests.length&&a._dequeuePropSetRequests()})},createRoot:function(a,b){this.hasRoot()||this.manager.setRoot(a,b)},getRoot:function(){return this.manager.getRoot()},
hasRoot:function(){return this.manager.hasRoot()},setPropertyVal:function(a,b){this.manager&&this.hasRoot()&&this._initTestingHooks&&b?this.getRoot().setProperty(a,b):this._queuePropSetRequests({prop:a,val:b})},_queuePropSetRequests:function(a){this._propRequests&&this._propRequests.push(a)},_dequeuePropSetRequests:function(){this._propRequests.forEach(function(a){this.setPropertyVal(a.prop,a.val)},this);this._propRequests=[]},getPropertyVal:function(a){if(this.manager.hasRoot()){var b=this.getRoot();
if(b.hasProperty(a))return b.getProperty(a)}return null},resetProperties:function(){if(this.hasRoot()){var a=this.getRoot(),b=a.getProperties(),c;for(c in b)a.unsetProperty(c)}},cleanup:function(){d.cleanup(this.namespace)}});a.getInstance=function(c){var d=c&&c.namespace?c.namespace:"/TestingHooks";b[d]||(b[d]=new a(c));return b[d]};return{getInstance:a.getInstance}})},"datatoolsservices/TestingPropConstants":function(){define([],function(){return{TESTING_INITIALIZED:"InitTestingHooks",HEADER_CONTEXTMENU_LABELS_SET:"HeaderContextMenuLabelsSet",
STRUCT_RENDERED:"StructRendererd",HEADER_CONTEXTMENU_INITIALIZED:"HeaderContextMenusInitialized"}})},"variableeditor/views/table/HeaderContextMenu":function(){define("variableeditor/views/table/HeaderContextMenu","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on mw-log/Log mw-menu/ContextMenu mw-menu/CheckBoxMenuItem mw-menu/mixins/property/CloseMenuOnClickMixin mw-peermodel/Observable dojo/domReady! variableeditor/VariableEditorUtils".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){return k("variableeditor.views.table.HeaderContextMenu",
[a,m.Impl],{_labelProperties:void 0,_menuHash:{},VALUE_COLUMNTAG:"Value",SIZE_COLUMNTAG:"Size",CLASS_COLUMNTAG:"Class",VALUECOLUMN_PROPERTYNAME:"ShowValueColumn",SIZECOLUMN_PROPERTYNAME:"ShowSizeColumn",CLASSCOLUMN_PROPERTYNAME:"ShowClassColumn",constructor:function(a){this._labelProperties=a&&a.labelProperties?a.labelProperties:[];this.targetNodes=a.targetNodes;this.willOpenCallback=a.willOpenCallback?a.willOpenCallback:d.hitch(this,"_openCallback")},_openCallback:function(){this.dispatchEvent("headerMenuShown",
this)},postCreate:function(){this.inherited(arguments);this.createSubMenuItems(this._labelProperties)},createSubMenuItems:function(a){a&&0<a.length&&this._addSubMenuItems(a)},hasSubMenuItems:function(){return 0<Object.keys(this._menuHash).length},_addCheckedMenuItem:function(a,b,c){b=new f({text:a,checked:b,closeMenuOnClick:!0});b.on("change",d.hitch(this,"_dispatchHeaderColumnSet"));b.domNode.setAttribute("data-tag",g.concatenateDataTagStrings("datatools","variableeditor","regularContextMenuItem",
c));this.addChild(b);this._menuHash[a]=b},_addDisabledCheckedMenuItem:function(a,b){var c=new f({text:a,checked:!0,disabled:!0,closeMenuOnClick:!0});c.domNode.setAttribute("data-tag",g.concatenateDataTagStrings("datatools","variableeditor","defaultContextMenuItem",b));this.addChild(c);e.add(c.domNode,"disabledContextMenu")},_addSubMenuItems:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.label,f=c.checked,h=c.disabled,c=c.propertyName;g.compareValues(c,this.VALUECOLUMN_PROPERTYNAME)?c=this.VALUE_COLUMNTAG:
g.compareValues(c,this.SIZECOLUMN_PROPERTYNAME)?c=this.SIZE_COLUMNTAG:g.compareValues(c,this.CLASSCOLUMN_PROPERTYNAME)&&(c=this.CLASS_COLUMNTAG);h?this._addDisabledCheckedMenuItem(d,c):this._addCheckedMenuItem(d,f,c)}},setLabelState:function(a,b){this._menuHash.hasOwnProperty(a)&&this._menuHash[a].set("checked",b)},_dispatchHeaderColumnSet:function(a){var b=dijit.getEnclosingWidget(a.target);this.dispatchEvent("headerSelectionChanged",this,{target:a.target,text:b.text,checked:b.checked})}})})},"variableeditor/views/table/_VEColumnHeaders":function(){define("variableeditor/views/table/_VEColumnHeaders",
"dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys dijit/registry variableeditor/views/table/_VETableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor dojo/i18n!variableeditor/app/l10n/nls/app variableeditor/views/renderers/_VERendererMixin mw-messageservice/MessageService dojo/text!variableeditor/views/table/VariableEditorColumnHeader.html variableeditor/views/table/_HeadersBase".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){return k([g],{ms:u.messageService,CHANNEL_DuplicateColumnHeader:"ErrorDuplicateColumnHeader",subscriptionCallback:null,subscription:null,pauseValueChangedListener:!1,COLUMN_HEADER_CHANNEL:"/VEColumnHeaderName",_createColumnNode:function(a){var b=new v({templateString:w,editable:s.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),!1),showLabels:s.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),showIndices:s.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),
!0)||s.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),labelValue:void 0!==a.label?a.label:void 0===this.getColumnModelProperty(parseInt(a.labelIndex)-1,"HeaderName")?"":this.getColumnModelProperty(parseInt(a.labelIndex)-1,"HeaderName"),indexValue:a.labelIndex});a.icon&&this.getTableModelProperty("ShowHeaderIcons")&&this._addHeaderIconCSS(a.icon,b._inputBoxLabel.domNode);b.setNodeDisplay(b.HEADER_INDEX_ATTACH_POINT,b.showIndices);b.setNodeDisplay(b.HEADER_LABEL_ATTACH_POINT,
b.showLabels);b._inputBoxLabel.isEditable()&&this._attachColumnHeaderListeners(b);b.startup();return b.domNode},_attachColumnHeaderListeners:function(a){var b=this;a._inputBoxLabel.addEventListener("valueChanged",d.hitch(b,"_columnValueChanged",a));a._inputBoxLabel.addEventListener("mousedown",d.hitch(b,"_columnMouseDown"));a._inputBoxLabel.addEventListener("mouseup",d.hitch(b,"_columnMouseUp"));a._inputBoxLabel.addEventListener("click",d.hitch(b,"_columnMouseClick"));a._inputBoxLabel.addEventListener("mousemove",
d.hitch(b,"_columnMouseMove",a._inputBoxLabel));a._inputBoxLabel.addEventListener("editingStarted",d.hitch(b,"_columnEditingStarted"));a._inputBoxLabel.addEventListener("editingStopped",d.hitch(b,"_columnEditingStopped"));this.own(l(a._inputBoxLabel._renderer.domNode,"keydown",d.hitch(b,function(c){!a._inputBoxLabel.isEditing()&&13!==c.keyCode&&b._onTableHeaderKeyDown(c)})))},_removeColumnHeaderListeners:function(a){},_updateColumnNode:function(b,c){var d=h.getEnclosingWidget(b);a.replace(b,"header_"+
c.labelIndex,"header_"+d.indexValue);this._updateColumnNumber(d,c);this._updateColumnLabel(d,c);c.icon&&this.getTableModelProperty("ShowHeaderIcons")&&this._addHeaderIconCSS(c.icon,d._inputBoxLabel.domNode);d=this._getColumnDataTag(c);b.dataset.columnHeaderName=d},_updateColumnNumber:function(a,b){b.labelIndex&&(s.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0)||s.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1))?(a.setIndexProperty(parseInt(b.labelIndex)-
1),this.pauseValueChangedListener=!0,a.setIndexValue(b.labelIndex),a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!0),this.pauseValueChangedListener=!1,b.label&&s.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0)?a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!0):a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1)):(a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!1),a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1))},_updateColumnLabel:function(a,b){b.label&&s.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),
!0)?(this._updateHeaderEditablity(a),this.pauseValueChangedListener=!0,a.setLabelValue(b.label),a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):(a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!1),a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1))},_updateHeaderEditablity:function(a){a._inputBoxLabel.isEditable()!==s.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),!1)&&(a._setEditable(a._inputBoxLabel,s.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),
!1)),a._inputBoxLabel.isEditable()?this._attachColumnHeaderListeners(a):this._removeColumnHeaderListeners(a))},_getColumnDataTag:function(a){return a.label},_columnValueChanged:function(a,b){!0!==this.pauseValueChangedListener&&this._isValidColumnHeaderName(a,b.data.newValue)&&this.setColumnModelProperty(a._inputBoxLabel.index,"HeaderName",b.data.newValue)},_handleColumnHeaderError:function(a,b){var c=h.getEnclosingWidget(a.domNode.parentElement);this.setColumnModelProperty(a.index,"HeaderName",a._originalValue);
c&&c._handleError(b)},_isValidHeaderSyntax:function(a){return/^[a-zA-Z][a-zA-Z0-9_]*$/.test(a)},_isValidColumnHeaderName:function(a,b){var c=a._inputBoxLabel;if(a._isValidHeaderName(b)&&64>=b.length&&this._isValidHeaderSyntax(b))return!0;c.cancelEditing(c);s.displayErrorMessage(e.substitute(q.invalidHeaderName,{varName:"'"+b+"'"}));return!1},_columnMouseDown:function(a){this._onColumnMouseDown(a.data);this._onHeaderColumnMouseDown(a.data,!1)},_columnMouseUp:function(a){this._onHeaderColumnMouseUp(a.data);
this._onWindowMouseUp(a.data,!1);void 0!==this._resizingColumn&&this._onColumnMouseUp(a.data);a.data.stopPropagation()},_columnMouseClick:function(a){this._onHeaderClick(a.data);a.data.stopPropagation()},_columnMouseMove:function(a,b){void 0!==this._resizingColumn&&this._onColumnMouseMove(b.data);void 0!==this._selectingColumn&&(a.isEditing()?this._onColumnHeaderSelection(b.data,!1):this._onColumnHeaderSelection(b.data))},_columnEditingStarted:function(a){this.mouseDownColumnHandler.pause()},_columnEditingStopped:function(a){this.mouseDownColumnHandler.resume()}})})},
"variableeditor/views/CategoricalView":function(){define("variableeditor/views/CategoricalView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.CategoricalView",[d],{createTable:function(c){return new e(c)}})})},"variableeditor/views/TableArrayView":function(){define("variableeditor/views/TableArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/MatlabTable",
"dojo/dom-geometry"],function(k,d,e,c,b){return k("variableeditor.views.TableArrayView",[e],{createTable:function(a){return new c(a)}})})},"variableeditor/views/table/MatlabTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-geometry dojo/store/Memory dojo/dom dojo/query dijit/registry dojo/keys variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/ArrayTable".split(" "),function(k,d,e,c,b,a,f,l,m,h,
g,p,n){return k("variableeditor.views.table.MatlabTable",[n,g,p],{lastClickNode:null,constructor:function(a){this.inherited(arguments)},updateModelProperties:function(){this.inherited(arguments);var a=!1;this.dataModel||(this.dataModel=this.peerNode.getProperty("dataModel"),a=!0);this.dataModel&&this.ColumnModelProperties&&this._updateColumnWidths();a&&(this.dataModel=null)},onMouseDown:function(a){this.inherited(arguments);var b=-1,c=-1,d=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode&&
a.data.renderer.domNode.dataset)&&(b=parseInt(a.data.renderer.domNode.dataset.row),c=parseInt(a.data.renderer.domNode.dataset.col),d=parseInt(a.data.renderer.domNode.dataset.idx));this._setLeadCellPosition(b,c,d)},onMouseEnter:function(a){this.inherited(arguments);if(this.selectable&&!this.isCellEnterListenerPaused){var b=-1,c=-1,d=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode&&a.data.renderer.domNode.dataset)&&(b=parseInt(a.data.renderer.domNode.dataset.row),c=parseInt(a.data.renderer.domNode.dataset.col),
d=parseInt(a.data.renderer.domNode.dataset.idx));this._setLeadCellPosition(b,c,d)}},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);b.oldValue=a.data.oldValue;var c=-1,d=-1,g=-1;b.domNode&&b.domNode.dataset&&(c=parseInt(b.domNode.dataset.row),d=parseInt(b.domNode.dataset.col),g=parseInt(b.domNode.dataset.idx));var f=a.data.newValue;!isNaN(c)&&(!isNaN(d)&&!isNaN(g))&&(b.convert&&(f=b.convert(a.data.newValue)),
this.peerNode.getParent().dispatchEvent("peerEvent",this.peerNode.getParent(),{type:"groupedColumnSetData",row:c,column:d,columnIndex:g,data:f}))}},getCellSelector:function(a,b,c){return this.getRowSelector(a)+" .cell:nth-of-type("+(b-this.colView.start+2)+") .idx_"+c},_setLeadCellPosition:function(a,b,c){this.ColumnModelProperties[b]&&(c=this.ColumnModelProperties[b].GroupColumnSize?this.ColumnModelProperties[b].GroupColumnSize-1:c);this.leadCell={row:Math.min(a,this.getRowCount()-1),column:Math.min(b,
this.getColumnCount()-1),index:isNaN(c)?0:c};this._updateLeadCellStyle()},getLeadNode:function(){if(0>this.leadCell.row||0>this.leadCell.column||0>this.leadCell.index||this.leadCell.row>=this.getRowCount()||this.leadCell.column>=this.getColumnCount())return null;var a=this.getCellSelector(this.leadCell.row,this.leadCell.column,this.leadCell.index);return l(a)[0]},_updateLeadCellStyle:function(){var a={};if(this._isLeadNodeInDom()){var b=this.getLeadNode();if((b=this._getCellFromNode(b))&&!this.isCellSelected(b.row,
b.column)){this.styleManager.updateStyleRules("selectionLeadCell",[]);return}this.blockSelection.isEmpty()||(a[".body .dataBodyWrapper .dataRow .dataBody .row:nth-of-type("+(b.row-this.rowView.start+2)+") .cell:nth-of-type("+(b.column-this.colView.start+2)+") .idx_"+this.leadCell.index]=this.leadCellStyle)}this.styleManager.updateStyleRules("selectionLeadCell",a)},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateColumnNode(b,a);return b},_createRowNode:function(a){var b=this.inherited(arguments);
this._updateRowNode(b,a);return b},_updateColumnWidths:function(){if(this.ColumnModelProperties){this.inherited(arguments);var a,b=!1;if(this.dataModel&&this.columns)for(a=this.dataModel.getCurrentStartCol();a<this.dataModel.getCurrentEndCol();a+=1)if(this.columns[a])try{var c=this.getColumnModelProperty(a,"GroupColumnSize");if(c){var g=parseInt(c,10),f=this.getColumnModelProperty(a,"ColumnWidth"),h=parseInt(f,10);if(null!==f&&void 0!==f&&0<=h&&this._currentColumns&&this._currentColumns[a]&&(this._currentColumns[a].groupColumnSize!==
g||this.columns[a].width!==h*g)){this.columns[a].groupColumnSize=g;var e=this.defaultColumnWidth*g;h>e&&(e=h);this.columns[a].width=e;b=!0}}}catch(l){}b&&(a=d.clone(this.columns),this.peerNode.setProperty("columns",a));this._currentColumns=this.columns}}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(k,d,e){return k("dojo.store.Memory",null,{constructor:function(c){for(var b in c)this[b]=c[b];this.setData(this.data||[])},data:null,
idProperty:"id",index:null,queryEngine:e,get:function(c){return this.data[this.index[c]]},getIdentity:function(c){return c[this.idProperty]},put:function(c,b){var a=this.data,d=this.index,e=this.idProperty,e=c[e]=b&&"id"in b?b.id:e in c?c[e]:Math.random();if(e in d){if(b&&!1===b.overwrite)throw Error("Object already exists");a[d[e]]=c}else d[e]=a.push(c)-1;return e},add:function(c,b){(b=b||{}).overwrite=!1;return this.put(c,b)},remove:function(c){var b=this.index,a=this.data;if(c in b)return a.splice(b[c],
1),this.setData(a),!0},query:function(c,b){return d(this.queryEngine(c,b)(this.data))},setData:function(c){c.items?(this.idProperty=c.identifier||this.idProperty,c=this.data=c.items):this.data=c;this.index={};for(var b=0,a=c.length;b<a;b++)this.index[c[b][this.idProperty]]=b}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(k,d,e){var c=function(b){function a(a){b[a]=function(){var d=arguments,h=e(b,function(b){Array.prototype.unshift.call(d,
b);return c(k[a].apply(k,d))});if("forEach"!==a||f)return h}}if(!b)return b;var f=!!b.then;f&&(b=d.delegate(b));a("forEach");a("filter");a("map");null==b.total&&(b.total=e(b,function(a){return a.length}));return b};d.setObject("dojo.store.util.QueryResults",c);return c})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(k){return function(d,e){function c(a){a=k.filter(a,d);var b=e&&e.sort;b&&a.sort("function"==typeof b?b:function(a,c){for(var d,e=0;d=b[e];e++){var l=
a[d.attribute],k=c[d.attribute],l=null!=l?l.valueOf():l,k=null!=k?k.valueOf():k;if(l!=k)return!!d.descending==(null==l||l>k)?-1:1}return 0});if(e&&(e.start||e.count)){var c=a.length;a=a.slice(e.start||0,(e.start||0)+(e.count||Infinity));a.total=c}return a}switch(typeof d){default:throw Error("Can not query with a "+typeof d);case "object":case "undefined":var b=d;d=function(a){for(var c in b){var d=b[c];if(d&&d.test){if(!d.test(a[c],a))return!1}else if(d!=a[c])return!1}return!0};break;case "string":if(!this[d])throw Error("No filter function "+
d+" was found in store");d=this[d];case "function":}c.matches=d;return c}})},"variableeditor/views/table/_VERowHeaders":function(){define("variableeditor/views/table/_VERowHeaders","dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys dijit/registry variableeditor/views/table/_VETableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor dojo/i18n!variableeditor/app/l10n/nls/app variableeditor/views/renderers/_VERendererMixin mw-messageservice/MessageService variableeditor/views/table/_HeadersBase dojo/text!variableeditor/views/table/VariableEditorRowHeader.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){return k([g],{ms:u.messageService,CHANNEL_DuplicateRowHeader:"ErrorDuplicateRowHeader",subscriptionCallback:null,subscription:null,pauseValueChangedListener:!1,ROW_HEADER_CHANNEL:"/VERowHeaderName",_createRowNode:function(a,b){var c=new w({templateString:v,editable:s.getLogicalValue(this.getTableModelProperty("EditableRowHeaderLabels"),!0),showLabels:s.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),!0),showIndices:s.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),
!0)||s.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1),labelValue:void 0!==a.label?a.label:void 0===this.getRowModelProperty(parseInt(a.labelIndex)-1,"RowName")?"":this.getRowModelProperty(parseInt(a.labelIndex)-1,"RowName"),indexValue:a.labelIndex});c.setNodeDisplay(c.HEADER_INDEX_ATTACH_POINT,c.showIndices);c.setNodeDisplay(c.HEADER_LABEL_ATTACH_POINT,c.showLabels);c._inputBoxLabel.isEditable()&&this._attachRowHeaderListeners(c);null!=this.maxIndexWidth&&c.domNode.getElementsByClassName("rowIndex")[0].setAttribute("style",
"width:"+this.maxIndexWidth+"px;");c.startup();return c.domNode},_attachRowHeaderListeners:function(a){var b=this;a._inputBoxLabel.addEventListener("valueChanged",d.hitch(b,"_rowValueChanged",a));a._inputBoxLabel.addEventListener("mousedown",d.hitch(b,"_rowMouseDown"));a._inputBoxLabel.addEventListener("mouseup",d.hitch(b,"_rowMouseUp"));a._inputBoxLabel.addEventListener("click",d.hitch(b,"_rowMouseClick"));a._inputBoxLabel.addEventListener("mousemove",d.hitch(b,"_rowMouseMove",a._inputBoxLabel));
a._inputBoxLabel.addEventListener("editingStarted",d.hitch(b,"_rowEditingStarted"));a._inputBoxLabel.addEventListener("editingStopped",d.hitch(b,"_rowEditingStopped"));a._inputBoxLabel._handleKeyDown=function(c){var d=this._getKeyCode(c);null!==d&&d===m.ENTER&&b._isValidRowHeaderName(a,c.target.value)}},_updateRowNode:function(b,c,d,g){d=h.getEnclosingWidget(b);a.replace(b,"header_"+c.labelIndex,"header_"+d.indexValue);this._updateRowNumber(d,c);this._updateRowLabel(d,c)},_updateRowNumber:function(a,
b){b.labelIndex&&(s.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),!0)||s.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1))?(a.setIndexProperty(parseInt(b.labelIndex)-1),this.pauseValueChangedListener=!0,a.setIndexValue(b.labelIndex),a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!1)},_updateRowLabel:function(a,b){b.label&&s.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),
!0)?(this.pauseValueChangedListener=!0,a._inputBoxLabel.index=parseInt(b.labelIndex)-1,a.setLabelValue(b.label),a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!1)},_rowValueChanged:function(a,b){!0!==this.pauseValueChangedListener&&(0<b.data.newValue.length&&this._isValidRowHeaderName(a,b.data.newValue)?this.setRowModelProperty(a._inputBoxLabel.index,"RowName",b.data.newValue):a._inputBoxLabel._setUIValue(b.data.oldValue))},
_handleDuplicateRowHeaderValues:function(a){var b=h.getEnclosingWidget(a.domNode.parentElement);this.setRowModelProperty(a.index,"RowName",a._originalValue);b&&b._handleDuplicateValues()},_isValidRowHeaderName:function(a,b){var c=a._inputBoxLabel;if(a._isValidHeaderName(b))return!0;c.cancelEditing(c);s.displayErrorMessage(e.substitute(q.invalidHeaderName,{varName:"'"+b+"'"}));return!1},_rowMouseDown:function(a){this._onRowMouseDown(a.data);this._onHeaderRowMouseDown(a.data,!1)},_rowMouseUp:function(a){this._onHeaderRowMouseUp(a.data);
this._onWindowMouseUp(a.data)},_rowMouseClick:function(a){this._onHeaderClick(a.data)},_rowMouseMove:function(a,b){void 0!==this._selectingRow&&(a.isEditing()?this._onRowHeaderSelection(b.data,!1):this._onRowHeaderSelection(b.data))},_rowEditingStarted:function(a){this.mouseDownRowHandler.pause()},_rowEditingStopped:function(a){this.mouseDownRowHandler.resume()}})})},"variableeditor/views/CellArrayView":function(){define("variableeditor/views/CellArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView",
"variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.CellArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new e(c)}})})},"variableeditor/views/VectorStructureArrayView":function(){define("variableeditor/views/VectorStructureArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/StructureArrayTable"],function(k,d,e){return k("variableeditor.views.VectorStructureArrayView",[d],{constructor:function(c){this.table=
{}},createTable:function(c){return new e(c)}})})},"variableeditor/views/table/StructureArrayTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-geometry dojo/store/Memory dojo/dom dojo/query dijit/registry dojo/keys variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/ArrayTable".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){return k("variableeditor.views.table.StructureArrayTable",[p,g],{constructor:function(a){this.inherited(arguments)}})})},
"variableeditor/views/DatetimeArrayView":function(){define("variableeditor/views/DatetimeArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.DatetimeArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new e(c)}})})},"variableeditor/views/DurationArrayView":function(){define("variableeditor/views/DurationArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView",
"variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.DurationArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new e(c)}})})},"variableeditor/views/CalendarDurationArrayView":function(){define("variableeditor/views/CalendarDurationArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(k,d,e){return k("variableeditor.views.CalendarDurationArrayView",[d],{constructor:function(c){this.table=
{}},createTable:function(c){return new e(c)}})})},"variableeditor/views/UITableArrayView":function(){define("variableeditor/views/UITableArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/UITable","dojo/dom-geometry"],function(k,d,e,c,b){return k("variableeditor.views.UITableArrayView",[e],{createTable:function(a){return new c(a)}})})},"variableeditor/views/table/UITable":function(){define("dojo/_base/declare dojo/dom-geometry dojo/store/Memory variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/ArrayTable variableeditor/VariableEditorUtils dojo/_base/lang variableeditor/views/table/BlockSelection".split(" "),
function(k,d,e,c,b,a,f,l,m){return k("variableeditor.views.table.UITable",[a,c,b],{minimumColumnHeaderWidth:75,ColumnNameWidthPadding:8,paddingViewRows:5,paddingPagedRows:5,paddingViewColumns:1,paddingPagedColumns:1,constructor:function(a){this.computedColumnNameWidth=[];this.computedAutoColumnWidths=[]},postCreate:function(){this.inherited(arguments);this.mouseDownRowHandler=this.mouseDownColumnHandler=null},getColumnHeaderPositions:function(){var a=this._getAttachNodes(this.COLUMN_HEADER_ATTACH_POINT);
return f.getColumnHeaderPositions(a)},_onDataModelSet:function(){this.inherited(arguments);this._updateTableHeaders()},_updateColumnHeaderNames:function(){if(this.dataModel&&(this.dataModel.getCurrentStartCol&&this.ColumnModelProperties&&0!==this.ColumnModelProperties.length)&&this.dataModel.getCurrentStartCol()+1===this.ColumnModelProperties[0].ColumnNumber)if(this._computeColumnNameWidthsFromView(),this._hasMoreColumnHeaderThanColumnData()){if(f.logDebug("_VEModelProperties: _updateColumnHeaderNames"),
this.ColumnModelProperties){var a;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol){var b=f.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),c=f.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),d=f.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),e=this.getTableModelProperty("ShowHeaderIcons");this.getTableModelProperty("CornerSpacerTitle");var l=this._getColumnHeaderLength();for(a=
this.dataModel.getCurrentStartCol();a<l;a+=1){this.columns[a]||(this.columns[a]={label:"",labelIndex:null});var m=d?this.getColumnModelProperty(a,"HeaderName"):"",k=c?this.getColumnModelProperty(a,"HeaderNumber"):(a+1).toString(),u=e?this.getColumnModelProperty(a,"icon"):"";u&&(this.columns[a].icon=u);m?(this.columns[a].labelIndex=c?parseInt(k):a+1,this.columns[a].label=m):(this.columns[a].labelIndex=b?a+1:"",this.columns[a].label="")}}}}else this.inherited(arguments)},_updateColumnWidths:function(){if(this.dataModel&&
(this.dataModel.getCurrentStartCol&&this.ColumnModelProperties&&0!==this.ColumnModelProperties.length)&&this.dataModel.getCurrentStartCol()+1===this.ColumnModelProperties[0].ColumnNumber){var a=this._applyAutoColumnWidth(),b=!1;if(a.length===this.columns.length)for(var c=0;c<a.length;c++){if(a[c]!==this.columns[c].width){b=!0;break}}else b=!0;if(b&&(0!=a.length&&(this.computedAutoColumnWidths=a),f.logDebug("_VEModelProperties: _updateColumnWidths"),this.ColumnModelProperties)){a=l.clone(this.columns);
c=!1;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.columns){for(var d=this._hasMoreColumnHeaderThanColumnData()?this._getColumnHeaderLength():this.dataModel.getCurrentEndCol(),b=this.dataModel.getCurrentStartCol();b<d;b+=1)if(a[b]||(a[b]={width:0}),a[b]&&a[b]!==this._resizingColumn)try{this._getColumnWidthOnTable&&this._getColumnWidthOnTable(b);var e=this.computedAutoColumnWidths[b],m=parseInt(e,10);null!==e&&(void 0!==e&&0<=m)&&(this._currentColumns&&
this._currentColumns[b]&&this._currentColumns[b].width===m?a[b].width=this._currentColumns[b].width:(c=!0,a[b].width=m))}catch(k){Log.error(k),Log.error(k.stack)}a=a.slice(0,this._getColumnHeaderLength())}this._currentColumns&&a.length!==this._currentColumns.length&&(c=!0);c&&0!==a.length&&this.peerNode.setProperty("columns",a);if(a&&(c||!this._currentColumns))this._currentColumns=a}}},getColumnModelProperties:function(a){if(!this._hasMoreColumnHeaderThanColumnData())return this.inherited(arguments);
var b=a;return!this.ColumnModelProperties||!this.ColumnModelProperties.hasOwnProperty(b)?{}:this.ColumnModelProperties[b]},_renderColumnHeader:function(){if(this._hasMoreColumnHeaderThanColumnData()){var a=this.columns.slice(0);this._updateCornerSpacerLabel(this.cornerSpacerNode);var b=this;this._incrementalUpdateNode({node:this.columnHeaderNode,data:a,oldData:this.oldColumnData,start:this.colView.start,end:this.columns.length,oldStart:this.oldColView.start,oldEnd:this.oldColumnData.length,update:function(c,
d,f,e){b._updateColumnNode(c,a[e])},create:function(c,d){return b._createColumnNode(a[d])}});this.oldColumnData=a;this._updateDataStyles()}else this.inherited(arguments)},_updateTableEditable:function(){},_updateColumnStyles:function(){if(this._isPagedData()||this.dataModel.getCurrentEndCol()===this.dataModel.getColumnCount())if(!this._hasMoreColumnHeaderThanColumnData()&&this._isPagedData())this.inherited(arguments);else{var a=this.columns.slice(this.colView.start,this._getColumnHeaderLength()),
b,c={},d;for(b=0;b<a.length;b+=1)d=this._getCellType(a[b]),d=this._getColumnStyles(d),d+="width: "+(a[b]&&null!==a[b].width&&0<=a[b].width?a[b].width:this.defaultColumnWidth)+"px;",c[".dataColumn .cell:nth-child("+(b+2)+")"]=d;this.styleManager.updateStyleRules("columns",c)}},_getColumnHeaderLength:function(){var a=this.dataModel?this.dataModel.getColumnCount():0,b=a;if(f.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0)&&!this._isNumberedColumnName())for(;a<this.ColumnModelProperties.length;a++){var c=
this.ColumnModelProperties[a].HeaderName;"undefined"!=typeof c&&""!=c&&(b=a+1)}return b},_hasMoreColumnHeaderThanColumnData:function(){return!this.dataModel?!1:this._getColumnHeaderLength()<=this.dataModel.getColumnCount()?!1:!0},_computeColumnNameWidthsFromView:function(){if(this.dataModel){var a=f.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0),b=f.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),c=this.dataModel.getCurrentStartCol(),d=this._isPagedData()?
this.dataModel.getCurrentEndCol():this._getColumnHeaderLength();if(a)for(a=0;a<d;a++)this.computedColumnNameWidth[c+a]=f.getComputedColumnHeaderWidth(this.ColumnModelProperties[a]&&b?this.ColumnModelProperties[a].HeaderName:"","12px Helvetica, Helvetica, sans-serif");else this.computedColumnNameWidth=[]}},_applyAutoColumnWidth:function(){var a=[],b=0,c=0,d=[],f=this._getColumnHeaderLength();if(0===f)return[];for(var e=0;e<f;e++){var l=this.getColumnModelProperty(e,"ColumnWidth");l&&0<=l?(a[e]=l,b+=
a[e]):(a[e]=isNaN(this.computedColumnNameWidth[e])?this.minimumColumnHeaderWidth:Math.max(this.computedColumnNameWidth[e]+this.ColumnNameWidthPadding,this.minimumColumnHeaderWidth),d.push({index:e,width:a[e]}),c+=a[e])}var f=this.position.width,e=this._getRowHeaderWidth(),l=this._getVerticalScrollbarWidth(),m=this._getViewportPadding(),f=f-m-e-l;c<f-b&&0!==d.length&&(d.sort(function(a,b){return a.width===b.width?b.index-a.index:a.width-b.width}),this._equallyExpand(d,d.length-1,f-b));for(e=0;e<d.length;e++)a[d[e].index]=
d[e].width;return a},_isPagedData:function(){var a=this._convertPxToCols(0,this.position.width)+1;return this.dataModel.getColumnCount()>a},_isNumberedColumnName:function(){return f.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0)},_getRowHeaderWidth:function(){return this.showRowHeaders?this.rowHeaderWidth:0},_getVerticalScrollbarWidth:function(){return this._isVerticalScrollBarShown()?this.scrollbarWidth-2:0},_getViewportPadding:function(){return this.showRowHeaders?4:2},
_equallyExpand:function(a,b,c){if(c<a[b].width*(b+1))for(var d=b;a[d-1];d--){if(a[d].width!==a[d-1].width){this._equallyExpand(a,d-1,c-a[d].width*(b-d+1));break}}else{var f=parseInt(c/(b+1));c=parseInt(c%(b+1));for(d=0;d<c;d++)a[d].width=f+1;for(d=c;d<=b;d++)a[d].width=f}},resize:function(){this.inherited(arguments);this._updateColumnWidths()},_updateTotalColumnWidth:function(a){this.totalColumnWidth=0;var b;for(b=0;b<a;b+=1)if(this.columns[b])if(0<=this.columns[b].width)this.totalColumnWidth+=this.columns[b].width;
else{var c=this.computedAutoColumnWidths[b]?this.computedAutoColumnWidths[b]:this.getColumnModelProperty(b,"ColumnWidth"),d=parseInt(c,10);null!==c&&void 0!==c&&0<=d?(this.totalColumnWidth+=d,this.columns[b].width=d):(this.totalColumnWidth+=this.defaultColumnWidth,this.columns[b].width=this.defaultColumnWidth)}},_updateTableHeaders:function(){f.logDebug("_VEModelProperties: _updateTableHeaders");this.RowModelProperties&&(this._updateRowHeaderNames(),this._updateRowHeaderDisplay());this.ColumnModelProperties&&
(this._updateColumnHeaderNames(),this._updateColumnWidths(),this._updateTotalColumnWidth(this.columns.length),this._updateColumnHeaderDisplay())},_onRowMouseDown:function(){},_onColumnMouseDown:function(){},_onHeaderColumnMouseDown:function(a){a.preventDefault()},_onHeaderRowMouseDown:function(a){a.preventDefault()},_onCornerMouseDown:function(){},onMouseDown:function(a){this.contextMenu&&this.contextMenu.close();if(this.selectable){this.cellsDragged=this.isCellEnterListenerPaused=!1;this.mouseMotionHandler.resume();
var b=-1,c=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(c=this._getRowColumnFromNode(a.data.renderer.domNode),b=c.row,c=c.col);this.isCellDraggable(b,c)&&this.isCellSelected(b,c)&&!a.data.shiftKey?this.selectionUpdated=!1:(this._updateAndRenderSelection(b,c,a.data),this.selectionUpdated=!0)}},_updateAndRenderSelection:function(a,b,c){this._setLeadCellPosition(a,b);this.anchorRow=a;this.anchorColumn=b;this.blockSelection.isEmpty()&&this._resetShiftKeyPivot();var d=new m({indexedRows:!this.sendSelectionRanges}),
d=this._updateBlockSelection(a,b,d,c);this.blockSelection.matchingSelection(d)||(this.blockSelection=d,this._renderSelection(),this.setServerSelection(!1))},_updateBlockSelection:function(a,b,c,d){"none"!==this.selectionType&&"none"!==this.selectionMode&&(d&&d.shiftKey?(d=null,d=this.getShiftKeyPivot(),0>d[0]&&0>d[1]?c.add(0,a,0,b):c.add(d[0],a,d[1],b)):(this._setShiftKeyPivot(a,b),c.addCell(a,b)));return c},_updateSelection:function(a,b,c){var d,f;this._setLeadCellPosition(a,b);c=new m({indexedRows:!this.sendSelectionRanges});
d=Math.min(this.anchorRow,a);a=Math.max(this.anchorRow,a);f=Math.min(this.anchorColumn,b);b=Math.max(this.anchorColumn,b);c.add(d,a,f,b);this.blockSelection=c;this._renderSelection()}})})},"variableeditor/views/UITableTableView":function(){define("variableeditor/views/UITableTableView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/UITableTable","dojo/dom-geometry"],function(k,d,e,c,b){return k("variableeditor.views.UITableTableView",[e],
{createTable:function(a){return new c(a)}})})},"variableeditor/views/table/UITableTable":function(){define("dojo/_base/declare dojo/dom-geometry dojo/store/Memory variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/UITable variableeditor/VariableEditorUtils dojo/_base/lang variableeditor/views/table/BlockSelection".split(" "),function(k,d,e,c,b,a,f,l,m){return k("variableeditor.views.table.UITableTable",a,{updateModelProperties:function(){this.inherited(arguments);
var a=!1;this.dataModel||(this.dataModel=this.peerNode.getProperty("dataModel"),a=!0);this.dataModel&&this.ColumnModelProperties&&(this._updateColumnWidths(),this._updateColumnHeaderNames());a&&(this.dataModel=null)},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateColumnNode(b,a);return b},_createRowNode:function(a){var b=this.inherited(arguments);this._updateRowNode(b,a);return b},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=null;a.data.editor?
b=a.data.editor:a.data.renderer&&(b=a.data.renderer);b.oldValue=a.data.oldValue;var c=-1,d=-1,f=-1;b.domNode&&b.domNode.dataset&&(c=parseInt(b.domNode.dataset.row),d=parseInt(b.domNode.dataset.col),f=parseInt(b.domNode.dataset.idx));var e=a.data.newValue;!isNaN(c)&&(!isNaN(d)&&!isNaN(f))&&(b.convert&&(e=b.convert(a.data.newValue)),this.peerNode.getParent().dispatchEvent("peerEvent",this.peerNode.getParent(),{type:"groupedColumnSetData",row:c,column:d,columnIndex:f,data:e}))}}})})},"variableeditor/views/editors/ArrayOfValuesTextBoxEditor":function(){define("variableeditor/views/editors/ArrayOfValuesTextBoxEditor",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),function(k,d,e,c,b,a){return k("variableeditor.views.editors.ArrayOfValuesTextBoxEditor",[a],{_applyFormatting:function(a,c){var d=null;if("client"===!c)return a;if(!Array.isArray(a)&&"string"===typeof a){try{d=JSON.parse(a),d instanceof Array||(d=[d])}catch(e){0===a.indexOf("[")&&a.lastIndexOf("]")===a.length-1&&(a=a.substring(1,a.length-1)),d=a.replace(/,/g,
" ").split(/\s+/)}var g=!0;if("categorical"===this._state.classname||"datetime"==this._state.classname||"duration"==this._state.classname)g=!1;g&&(d=d.map(function(a){var c=b.filterFloat(a);return c!==c?a:c}.bind(this)));return d}return a},setCursorPosition:function(){var a=this._getUIValue().length;b.selectRange(this._inputBox.inputNode,a,a)}})})},"variableeditor/views/editors/ArrayOfStringsTextBoxEditor":function(){define("variableeditor/views/editors/ArrayOfStringsTextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),
function(k,d,e,c,b,a){return k("variableeditor.views.editors.ArrayOfStringsTextBoxEditor",[a],{_commit:function(){var a=this._getUIValue();""===a?a=[]:(0==a.indexOf("{")&&a.indexOf("}")==a.length-1&&(a=a.substring(1,a.length-1).replace(/'/g,"")),a=a.split(","),1==a.length&&0<a[0].indexOf(";")&&(a=a[0].split(";")),a=a.map(function(a){return a.trim()}));null!==a&&void 0!==a&&this.hasValueChanged(a)?this.setValue(a,"client"):this._setUIValue(this._originalValue);a=this._getUIValue();null!==a&&(void 0!==
a&&this.hasValueChanged(a))&&(this._originalEditValue=this._editValue,this._editValue=a)},setCursorPosition:function(){var a=this._getUIValue().length;b.selectRange(this._inputBox.inputNode,a,a)}})})},"variableeditor/views/editors/LogicalEditor":function(){define("variableeditor/views/editors/LogicalEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/keys variableeditor/views/editors/TextBoxEditor".split(" "),function(k,d,e,c,b,a){return k("variableeditor.views.editors.LogicalEditor",
[a],{_handleKeyPress:function(a){this.inherited(arguments);var c=this._getKeyCode(a);null!==c&&c!==b.ENTER||this.makeLogical()},makeLogical:function(){var a=this._getUIValue(),b=a;this._inputBox&&void 0!==a&&(b=this.isNumeric(a)?0===parseInt(a)?"0":"1":"true"===a.toLowerCase()||"yes"===a.toLowerCase()||"on"===a.toLowerCase()?"1":"false"===a.toLowerCase()||"no"===a.toLowerCase()||"off"===a.toLowerCase()?"0":a);this._setUIValue(b)},setValue:function(a,b,c){"0"!==a&&"1"!==a&&(a="logical("+a+")");this.inherited(arguments)},
_setUIValue:function(a){0<=a.indexOf("logical(")&&0<=a.indexOf(")")&&(a=a.substring(8,a.length-1));this.inherited(arguments)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},stopEditing:function(){this.makeLogical();this.inherited(arguments)}})})},"variableeditor/views/editors/NumericEditor":function(){define("variableeditor/views/editors/NumericEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(k,d,e,
c,b){return k("variableeditor.views.editors.NumericEditor",[b],{_setUIValue:function(a){var b=a;try{if(null!==a&&void 0!==a&&""!==a){var c=parseInt(a);parseFloat(a)===c&&(b=c);if(this.isHex(a)||this.isRational(a))b=a;this.isComplex(a)&&(b=a)}else b="0"}catch(d){}this._inputBox.set("value",b)},isComplex:function(a){return String(a).replace(/\s+/g,"").match(/^([-+]?(?:\d+|\d*\.\d+))?[-+]?(\d+|\d*\.\d+)?[ij]$/i)},isHex:function(a){return/[0-9A-Fa-f]{16}/g.test(a)},isRational:function(a){return/[0-9]\/[0-9]/.test(a)}})})},
"variableeditor/views/editors/NumericTextEditor":function(){define("variableeditor/views/editors/NumericTextEditor",["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],function(k,d){return k("variableeditor.views.editors.NumericTextEditor",[d],{hasValueChanged:function(d){var c=this.inherited(arguments);try{"string"===typeof d&&"number"===typeof this._originalValue&&"number"===typeof this._editValue&&this._originalValue.toString()===d&&this._editValue.toString()===d&&(c=!1)}catch(b){}return c}})})},
"variableeditor/views/editors/UITableEditor":function(){define("variableeditor/views/editors/UITableEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(k,d,e,c,b){return k("variableeditor.views.editors.UITableEditor",[b],{_setUIValue:function(a){var b=a;try{if(null===a||void 0===a)b=""}catch(c){}this._inputBox.set("value",b)}})})},"variableeditor/views/editors/UITableStringEditor":function(){define("variableeditor/views/editors/UITableStringEditor",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/StringEditor".split(" "),function(k,d,e,c,b,a){return k("variableeditor.views.editors.UITableStringEditor",[a],{setValue:function(a,c){var d=b.stripOuterDoubleQuotes(a);this.inherited(arguments,[d,c])},_setUIValue:function(a){var c=b.stripOuterDoubleQuotes(a);this.inherited(arguments,[c])},setEditValue:function(a,c){var d=b.stripOuterDoubleQuotes(a);this.inherited(arguments,
[d,c])},_handleFormatting:function(a,c,d){var e=b.stripOuterDoubleQuotes(c);return this.inherited(arguments,[a,e,d])}})})},"variableeditor/views/editors/StringEditor":function(){define("variableeditor/views/editors/StringEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),function(k,d,e,c,b,a){return k("variableeditor.views.editors.StringEditor",[a],{setValue:function(a,c){var d=b.formatString(a,
c);this.inherited(arguments,[a,c,d])},setEditValue:function(a,c){var d=b.formatString(a,c);this.inherited(arguments,[a,c,d])},_handleKeyDown:function(a){a&&(this._getKeyCode(a)===c.TAB?(this._handleStringFormatting("tab"),a.preventDefault()):this.inherited(arguments))},_handleFormatting:function(a,c,d){return b.handleFormatting(a,c,d)}})})},"variableeditor/views/editors/UITableLogicalEditor":function(){define("variableeditor/views/editors/UITableLogicalEditor",["dojo/_base/declare","dojo/_base/lang",
"dojo/dom-style","dojo/keys","variableeditor/views/editors/UITableEditor"],function(k,d,e,c,b){return k("variableeditor.views.editors.UITableLogialEditor",[b],{_setUIValue:function(a){var b=a;try{"1"===a?b="true":"0"===a&&(b="false")}catch(c){}this._inputBox.set("value",b)}})})},"variableeditor/views/editors/UITableMWComboBox":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-form/ComboBox","mw-mixins/mixinDependencyValidator"],function(k,d,e,c){return k(c.validate([e]),{_isMenuOpenable:!1,
_handleArrowNodeMouseDown:function(b){this._isMenuOpenable&&this.inherited(arguments)}})})},"variableeditor/views/editors/UITableNonEditableComboboxEditor":function(){define("variableeditor/views/editors/UITableNonEditableComboboxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/on variableeditor/views/editors/_EditorBase variableeditor/views/editors/UITableMWComboBox variableeditor/VariableEditorUtils dojo/store/Memory".split(" "),function(k,d,e,c,b,a,f,l,m){return k("variableeditor.views.editors.UITableNonEditableComboboxEditor",
[a],{_comboBox:void 0,_categories:[],_onChangeListener:void 0,_onMouseDownListener:void 0,setValue:function(a,b){a&&a.hasOwnProperty("value");this.inherited(arguments)},setState:function(a){if(this.domNode){if(a&&a.categories){this._categories=[];for(var b=0;b<a.categories.length;b+=1)this._categories.push({label:a.categories[b],value:a.categories[b]});this._createComboBox()}this.inherited(arguments)}},_setupDomClasses:function(){this.addCSSClasses(["variableEditorRenderers","cell","cellRenderer"],
this.domNode);this.addCSSClasses("UITableNonEditable",this.domNode)},_createComboBox:function(){this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(f)?(this._setUIItems(this._categories),this._setUIValue(this._value)):(this._comboBox=new f({items:this._categories,editable:!1}),this._setupDomClasses(),this._setReadOnly(!0),this._setUIValue(this._value),this._onChangeListener=b.pausable(this._comboBox,"change",d.hitch(this,"_onChangeHandler")),c.empty(this.domNode),this.domNode.appendChild(this._comboBox.domNode),
this._comboBox.startup())},postCreate:function(){this._comboBox||this._createComboBox();this.inherited(arguments)},stopEditing:function(){},edit:function(){},_getDefaultState:function(){return{categories:[],isProtected:!0}},_onChangeHandler:function(a){this._onChangeListener.pause();this.setValue(a.mwEventData.newValue,"client");this._onChangeListener.resume()},_getUIValue:function(){return this._comboBox.value},_setUIValue:function(a){this._comboBox&&this._onChangeListener&&(this._onChangeListener.pause(),
"\x3cundefined\x3e"===a?this._comboBox.set("placeholder",a):a!==this._getUIValue()&&this._comboBox.set("value",a),this._onChangeListener.resume())},_setUIItems:function(a){this._onChangeListener.pause();this._comboBox.set("items",this._categories);this._onChangeListener.resume()},getStyleNode:function(a){if("backgroundColor"===a)return this.domNode},_setReadOnly:function(a){this._comboBox&&(this._comboBox._isMenuOpenable=!a,a?this.addCSSClasses(this._notEditableCSSClass,this._comboBox.domNode):this.removeCSSClasses(this._notEditableCSSClass,
this._comboBox.domNode))}})})},"variableeditor/views/editors/ComboBoxEditor":function(){define("variableeditor/views/editors/ComboBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/mouse dojo/keys dojo/on variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase dijit/form/ComboBox dijit/form/FilteringSelect dojo/store/Memory dijit/focus".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k("variableeditor.views.editors.ComboBoxEditor",
[h],{_comboBox:void 0,_isProtected:!1,_isOverrideMode:!1,_showUndefined:!0,_categories:[],_comboChangeListeners:void 0,_showDropDownArrow:!0,_doubleClickDuration:0,_clientValidation:!0,setValue:function(a,b){var c=a;a&&a.hasOwnProperty("value")&&(c=a.value);this.inherited(arguments);this.domNode&&(this._comboBox||this._createComboBox(),this._value=""+c,this._comboBox.set("value",c),this._comboBox.set("displayedValue",c))},startup:function(){this._setReadOnly(!0)},_focus:function(){this._comboBox&&
this._comboBox.focusNode&&this._comboBox.focusNode.focus&&s.curNode!==this._comboBox.focusNode&&s.focus(this._comboBox.focusNode)},setState:function(a){this.domNode&&(a&&(this._clientValidation=void 0!==a.clientValidation?a.clientValidation:!0,this._isProtected=void 0!==a.isProtected?a.isProtected:!1,this._showUndefined=void 0!==a.showUndefined?a.showUndefined:!0,this._categories=a.categories?a.categories:this._categories,this._showDropDownArrow=void 0!==a.showDropDownArrow?this._getPossibleBooleanFunctionValue(a.showDropDownArrow):
this.isEditable(),this._createComboBox(),this._comboBox.textbox.setAttribute("data-tag",this.createDataTag("value")),this._setupDomClasses(a)),this.inherited(arguments))},_setupDomClasses:function(a){this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode)},getStore:function(){var a=this._categories,b=new n;if(a){for(var c=0;c<a.length;c+=1)b.put({name:a[c],id:a[c]});
this._getPossibleBooleanFunctionValue(this._showUndefined,!1)&&b.put({name:"\x3cundefined\x3e",id:"\x3cundefined\x3e"})}return b},updateStore:function(a){var b=this.getStore();if(!(0<b.query({name:a}).length)){b.put({name:a,id:a});a=b.query({});for(var b=[],c=0;c<a.length;c+=1)b[c]=a[c].name;this._updateCategories(b)}},_updateCategories:function(a){var b=this.getState(),c={isProtected:this._isProtected,showUndefined:this._showUndefined};b&&(c=d.clone(b));c.categories=a;this.setState(c)},isInStore:function(a){return 0<
this.getStore().query({name:a}).length},_createComboBox:function(){var a=this._getPossibleBooleanFunctionValue(this._isProtected,!1);if(a?this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(p):this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(g))this._comboBox.store=this.getStore(),this._comboBox.set("value",this._value),this._comboBox.set("displayedValue",this._value),this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",
this._comboBox.domNode);else{var f="";this._comboBox&&this._comboBox.focusNode&&(f=this._comboBox.focusNode.getAttribute("style"));this._comboBox&&this._comboBox.destroyRecursive&&this._comboBox.destroyRecursive();var e=m.mergeObjects(this._allArgs,{"class":"vecombobox",value:this._value,displayedValue:this._value,store:this.getStore(),autoComplete:!0,searchAttribute:"name",invalidMessage:"",missingMessage:"",readOnly:!0,commitOnBlur:null});a?(e.name="categories",this._comboBox=this._clientValidation?
new p(e,"vecombobox"):new g(e,"vecombobox")):this._comboBox=new g(e,"vecombobox");this.addCSSClasses(["variableEditorRenderers","cell","vecombobox"],this._comboBox.domNode);this._comboBox.focusNode.style=f;a=d.hitch(this,"_handleKeyboardEvent");l(this._comboBox.domNode,"keypress",a);this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode);this._comboChangeListeners||(this._comboChangeListeners={});this._comboChangeListeners._onChangeListener=
l.pausable(this._comboBox,"change",d.hitch(this,"_comboBoxChanged"));this._changeObjectListenersState(this._comboChangeListeners,"pause");var h=this,k=this._comboBox.openDropDown;this._comboBox.openDropDown=function(){k.apply(this);h.addCSSClasses("DropDownOpen");h._isOverrideMode||h._selectAllText();var a=[];h._allArgs.cssSpecifier&&a.push(h._allArgs.cssSpecifier);a.push("variableEditorRenderers");a.push("veComboBoxDropDown");h.addCSSClasses(a,h._comboBox.dropDown.domNode);h._comboBox.dropDown.domNode.parentNode&&
"scroll"===c.get(h._comboBox.dropDown.domNode.parentNode,"overflow-y")&&c.set(h._comboBox.dropDown.domNode.parentNode,"border","1px solid rgb(126, 171, 205)");l(h._comboBox.dropDown,"close",d.hitch(this,function(){h.removeCSSClasses("DropDownOpen")}))};this._comboBox.startup();b.empty(this.domNode);this.domNode.appendChild(this._comboBox.domNode);this.own(this._comboBox)}},_handleKeyboardEvent:function(a){if(this.isEditing()){"keypress"===a.type?this._handleKeyPress(a):"keydown"===a.type&&this._handleKeyDown(a);
var b=d.mixin({editor:this},a);this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===f.ESCAPE)&&this.cancelEditing()},_handleKeyPress:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===f.ENTER)&&(!this._clientValidation&&!this.isInStore(this._getUIValue())?this.cancelEditing():this.stopEditing())},_handleBlurEvent:function(a){a===this&&(this.isEditing()&&(!this._clientValidation&&!this.isInStore(this._getUIValue()))&&
this.cancelEditing(),this.inherited(arguments))},postCreate:function(){this._comboBox||this._createComboBox();this._setReadOnly(!0);this.inherited(arguments)},stopEditing:function(){this._changeObjectListenersState(this._comboChangeListeners,"pause");this._comboBox&&this._comboBox.closeDropDown();this.inherited(arguments);this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode);this._setReadOnly(!0)},edit:function(){this.inherited(arguments);
this.removeCSSClasses("noArrow",this._comboBox.domNode);this._setReadOnly(!1);this._comboBox.loadAndOpenDropDown();this._comboBox.dropDown&&(this._comboChangeListeners._onDDChangeListener||(this._comboChangeListeners._onDDChangeListener=l.pausable(this._comboBox.dropDown,"change",d.hitch(this,"_comboBoxChanged"))),this._comboChangeListeners._onDDSelectListener||(this._comboChangeListeners._onDDSelectListener=l.pausable(this._comboBox.dropDown,"select",d.hitch(this,"_comboBoxChanged"))));this._changeObjectListenersState(this._comboChangeListeners,
"resume")},_getDefaultState:function(){return{categories:[],showDropDownArrow:!0,showUndefined:!0,isProtected:!1}},_handleMouseUp:function(){this._comboBox.textbox.focus()},_handleMouseEvent:function(a){this._editOnSingleClick&&(a&&"mouseover"===a.type?this.removeCSSClasses("noArrow",this._comboBox.domNode):a&&"mouseout"===a.type&&(this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode)));this.inherited(arguments)},_comboBoxChanged:function(a){this.isEditing()&&
(a&&a.textContent&&(a=a.textContent),0<a.trim().length&&(this._setUIValue(a),this.updateStore(a),this.stopEditing()))},editOverride:function(a){this.isEditing()||(a&&this._comboBox&&this._comboBox.textbox&&this._comboBox.textbox?(this._isOverrideMode=!0,this._comboBox.textbox.value=a,this.edit()):(this.edit(),this._selectAllText()))},cancelEditing:function(){this.isEditing()&&this._setUIValue(this._originalValue);this.inherited(arguments)},_selectAllText:function(){this._comboBox&&(this._comboBox.textbox&&
this._comboBox.textbox.select)&&this._comboBox.textbox.select()},_getUIValue:function(){return this._comboBox.textbox.value},_setUIValue:function(a){return this._comboBox.set("value",a)},setEditable:function(a){this.inherited(arguments);this._comboBox&&(this.isEditable()?this.removeCSSClasses(this._notEditableCSSClass,this._comboBox.textbox):this.addCSSClasses(this._notEditableCSSClass,this._comboBox.textbox))},_setReadOnly:function(a){this._comboBox&&(!0===a?this._comboBox.set("readOnly",!0):this._comboBox.set("readOnly",
!1))},getStyleNode:function(a){return"backgroundColor"===a?this.domNode:this._comboBox.focusNode},hasValueChanged:function(a){var b=this._originalValue!==a&&this._editValue!==a;return!this._isProtected||!this._clientValidation?b:b&&this.isInStore(a)}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(k,d,e){return k("dijit.form.ComboBox",[d,e],{})})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(k,d,e,c,b,a,f,l,m){return k("dijit.form.ComboBoxMixin",[l,a],{dropDownClass:f,hasDownArrow:!0,templateString:m,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||c.mixin(a,{_oldAPI:!0,get:function(a){var b=new d;this.fetchItemByIdentity({identity:a,
onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,f){var e=new d(function(){h.abort&&h.abort()});e.total=new d;var h=this.fetch(c.mixin({query:a,onBegin:function(a){e.total.resolve(a)},onComplete:function(a){e.resolve(a)},onError:function(a){e.reject(a)}},f));return b(e)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&
!this.store._oldAPI){var b=this.declaredClass;c.mixin(this.store,{getValue:function(a,c){e.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[c]},getLabel:function(a){e.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){e.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],
c.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list")}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){return d("dijit.form._AutoCompleterMixin",g,{item:null,
autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(l("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(d){}}return b},_setCaretPos:function(a,b){b=parseInt(b);h.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);
this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==c.ALT||b==c.CTRL||b==c.META||b==c.SHIFT)){var d=this.dropDown,g=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(g=d.getHighlightedOption()),b){case c.PAGE_DOWN:case c.DOWN_ARROW:case c.PAGE_UP:case c.UP_ARROW:this._opened&&this._announceOption(g);a.stopPropagation();a.preventDefault();break;case c.ENTER:if(g){if(g==
d.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(g==d.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case c.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;g&&this._selectOption(g);case c.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},
_autoCompleteText:function(a){var b=this.focusNode;h.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0==a[c](0).indexOf(this.focusNode.value[c](0))?(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length&&(b.value=a,h.selectInputText(b,c))):(b.value=a,h.selectInputText(b))},_openResultList:function(a,c,d){var g=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==d.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=
b.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,d,b.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in d?(d.direction?this.dropDown.highlightFirstOption():d.direction||this.dropDown.highlightLastOption(),g&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(c[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},
_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,
!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==
this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",e.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);
this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var c=this.id+"_popup";this.dropDown=new (b.isString(this.dropDownClass)?b.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:b.hitch(this,this._selectOption),id:c,
dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new m({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var c=a('label[for\x3d"'+this.id+'"]');c.length&&
(c[0].id||(c[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",c[0].id));this.inherited(arguments);k.after(this,"onSearch",b.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?
"g":""),d=this.queryExpr.indexOf("${0}");b=f.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,
b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}})})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(k,d,e,c,b,a){function f(a){return{id:a.value,value:a.value,name:e.trim(a.innerText||a.textContent||"")}}return k("dijit.form.DataList",
b,{constructor:function(b,m){this.domNode=d.byId(m);e.mixin(this,b);this.id&&a.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:c("option",this.domNode).map(f)}])},destroy:function(){a.remove(this.id)},fetchSelectedItem:function(){var a=c("\x3e option[selected]",this.domNode)[0]||c("\x3e option",this.domNode)[0];return a&&f(a)}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),
function(k,d,e,c,b,a,f){return k("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(a){this._set("list",a)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(a){return RegExp("^"+a.replace(/(\\.)|(\*)|(\?)|\W/g,function(a,b,c,d){return c?".*":d?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&
(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(a){if(!this.disabled&&!this.readOnly){a=a.charOrCode;var b=!1;this._prev_key_backspace=!1;switch(a){case d.DELETE:case d.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=
!0;break;default:b="string"==typeof a||229==a}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(c){this._abortQuery();var d=this,f=e.clone(this.query),g={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},k=b.substitute(this.queryExpr,[c.replace(/([\\\*\?])/g,"\\$1")]),n,s=function(){var b=d._fetchHandle=d.store.query(f,
g);!d.disabled&&!(d.readOnly||n!==d._lastQuery)&&a(b,function(c){d._fetchHandle=null;!d.disabled&&(!d.readOnly&&n===d._lastQuery)&&a(b.total,function(a){c.total=a;var b=d.pageSize;if(isNaN(b)||b>c.total)b=c.total;c.nextPage=function(a){g.direction=a=!1!==a;g.count=b;a?(g.start+=c.length,g.start>=c.total&&(g.count=0)):(g.start-=b,0>g.start&&(g.count=Math.max(b+g.start,0),g.start=0));0>=g.count?(c.length=0,d.onSearch(c,f,g)):s()};d.onSearch(c,f,g)})},function(a){d._fetchHandle=null;d._cancelingQuery||
console.error(d.declaredClass+" "+a.toString())})};e.mixin(g,this.fetchProperties);this.store._oldAPI?n=k:(n=this._patternToRegExp(k),n.toString=function(){return k});this._lastQuery=f[this.searchAttr]=n;this._queryDeferHandle=this.defer(s,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var a=this.list;a&&(this.store=f.byId(a))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),
function(k,d,e,c,b,a,f,l){return k("dijit.form._ComboBoxMenu",[b,a,l,f],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(d.add(this.previousButton,"dijitMenuItemRtl"),d.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){d.add(a,"dijitMenuItemHover")},onUnhover:function(a){d.remove(a,
"dijitMenuItemHover")},onSelect:function(a){d.add(a,"dijitMenuItemSelected")},onDeselect:function(a){d.remove(a,"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,d=e.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<d;){var f=this.getHighlightedOption();if(a){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=
this.domNode.scrollTop;b+=(f-c)*(a?-1:1);c=f}},handleKey:function(a){switch(a.keyCode){case c.DOWN_ARROW:return this.selectNextNode(),!1;case c.PAGE_DOWN:return this._page(!1),!1;case c.UP_ARROW:return this.selectPreviousNode(),!1;case c.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(k,d,e,c,b){return d("dijit.form._ComboBoxMenuMixin",
null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=b.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(a){this._set("value",a);this.onChange(a)},onClick:function(a){if(a==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(a==this.nextButton)this._setSelectedAttr(null),
this.onPage(1);else this.onChange(a)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(a,b){var c=this._createMenuItem(),d=b(a);d.html?c.innerHTML=d.label:c.appendChild(c.ownerDocument.createTextNode(d.label));""==c.innerHTML&&(c.innerHTML="\x26#160;");return c},createOptions:function(a,b,c){this.items=a;this.previousButton.style.display=0==b.start?"none":"";e.set(this.previousButton,"id",this.id+"_prev");k.forEach(a,function(a,b){var d=
this._createOption(a,c);d.setAttribute("item",b);e.set(d,"id",this.id+b);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var d=!1;a.total&&!a.total.then&&-1!=a.total?b.start+b.count<a.total?d=!0:b.start+b.count>a.total&&b.count==a.length&&(d=!0):b.count==a.length&&(d=!0);this.nextButton.style.display=d?"":"none";e.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var a=this.containerNode;2<a.childNodes.length;)a.removeChild(a.childNodes[a.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare",
"dojo/on","dojo/touch","./_ListBase"],function(k,d,e,c){return k("dijit.form._ListMouseMixin",c,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(b,a){this._setSelectedAttr(a,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=
this.defer(function(){this._deferredClick=null;this.onClick(a)})},_onMouseDown:function(b,a){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(a,!1)},_onMouseUp:function(b,a){this._isDragging=!1;var c=this.selected,d=this._hoveredNode;c&&a==c?this.defer(function(){this._onClick(b,c)}):d&&this.defer(function(){this._onClick(b,d)})},_onMouseOut:function(b,a){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=
null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(b,a){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=a;this.onHover(a);this._isDragging&&this._setSelectedAttr(a,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(k,d,e){return k("dijit.form._ListBase",null,{selected:null,_listConnect:function(c,b){var a=this;return a.own(d(a.containerNode,
d.selector(function(a,b,c){return a.parentNode==c},c),function(c){a[b](c,this)}))},selectFirstNode:function(){for(var c=this.containerNode.firstChild;c&&"none"==c.style.display;)c=c.nextSibling;this._setSelectedAttr(c,!0)},selectLastNode:function(){for(var c=this.containerNode.lastChild;c&&"none"==c.style.display;)c=c.previousSibling;this._setSelectedAttr(c,!0)},selectNextNode:function(){var c=this.selected;if(c){for(c=c.nextSibling;c&&"none"==c.style.display;)c=c.nextSibling;c?this._setSelectedAttr(c,
!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var c=this.selected;if(c){for(c=c.previousSibling;c&&"none"==c.style.display;)c=c.previousSibling;c?this._setSelectedAttr(c,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(c,b){if(this.selected!=c){var a=this.selected;if(a)this.onDeselect(a);c&&(b&&e.scrollIntoView(c),this.onSelect(c));this._set("selected",c)}else if(c)this.onSelect(c)}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(k,d,e,c,b){return k("dijit.form.FilteringSelect",[c,b],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(a,b,c,d){b&&b[this.searchAttr]!==this._lastQuery||!b&&a.length&&this.store.getIdentity(a[0])!=this._lastQuery||
(a.length?this.set("item",a[0],d):this.set("value","",d||void 0===d&&!this.focused,this.textbox.value,null))},_openResultList:function(a,b,c){b[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(a,b,c,m){this._onChangeActive||(b=null);if(void 0===m){if(null===a||""===a)if(a="",!d.isString(c)){this._setDisplayedValueAttr(c||"",b);
return}var h=this;this._lastQuery=a;e(this.store.get(a),function(a){h._callbackSetLabel(a?[a]:[],void 0,void 0,b)})}else this.valueNode.value=a,this.inherited(arguments,[a,b,c,m])},_setItemAttr:function(a,b,c){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(a){return a.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(a,b){null==a&&(a="");if(!this._created){if(!("displayedValue"in this.params))return;b=!1}if(this.store){this.closeDropDown();
var c=d.clone(this.query),m=this._getDisplayQueryString(a),h;this.store._oldAPI?h=m:(h=this._patternToRegExp(m),h.toString=function(){return m});this._lastQuery=c[this.searchAttr]=h;this._lastDisplayedValue=this.textbox.value=a;this._set("displayedValue",a);var g=this,k={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};d.mixin(k,this.fetchProperties);this._fetchHandle=this.store.query(c,k);e(this._fetchHandle,function(a){g._fetchHandle=null;g._callbackSetLabel(a||[],c,k,b)},function(a){g._fetchHandle=
null;g._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"variableeditor/views/editors/FontNameEditor":function(){define("variableeditor/views/editors/FontNameEditor",["dojo/_base/lang","dojo/_base/declare","variableeditor/views/editors/ComboBoxEditor","variableeditor/VariableEditorUtils","variableeditor/views/editors/FontNameHelper"],function(k,d,e,c,b){var a;return d("variableeditor.views.editors.ComboBoxEditor",
[e],{constructor:function(){a||this._getMATLABFontList()},postCreate:function(){this.inherited(arguments);a&&this._updateCategories(a)},_getMATLABFontList:function(){(new b).getFonts().then(k.hitch(this,function(a){this._setMATLABFontNames(a)}))},_setMATLABFontNames:function(b){!b||!b[0]?c.logDebug("Error getting font list."):(a=b=b[0],this._updateCategories(b))}})})},"variableeditor/views/editors/FontNameHelper":function(){define(["dojo/_base/declare","dojo/Deferred","mw-remote/Remote"],function(k,
d,e){return k(null,{_CLASSIFIER:"FEvalFontNameHelperGetFonts",constructor:function(){e.registerResponseHandler("FEvalResponse:"+this._CLASSIFIER,this._handleEvalResponse,this);e.registerFaultHandler("FEval:"+this._CLASSIFIER,this._handleEvalError,this)},getFonts:function(){var c=new d;e.sendMessage({FEval:{"function":"listfonts",arguments:[],nargout:1,priority:1,dequeMode:"ppe"}},c,this._CLASSIFIER);return c.promise},_handleEvalError:function(c,b){this._implementsDeferred(b)&&b.reject(c)},_handleEvalResponse:function(c,
b){1===c[0].results.length?c[0].isError?b.reject(c[0].messageFaults[0].message):b.resolve(c[0].results):b.reject("Error: Expected 1 result message back from getFonts, received: "+c.length)}})})},"variableeditor/views/editors/CharEditor":function(){define("variableeditor/views/editors/CharEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(k,d,e,c,b){return k("variableeditor.views.editors.CharEditor",[b],{_applyFormatting:function(a,
b){if(a&&(-1<a.indexOf("\n")||-1<a.indexOf("\t"))&&"server"===b)a=a.replace(/\n/g,"\u21b5"),a=a.replace(/\t/g,"\t");return a}})})},"variableeditor/views/editors/CheckBoxEditor":function(){define("variableeditor/views/editors/CheckBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/keys dojo/on variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase mw-form/CheckBox variableeditor/constants/ClassTypeMaps dijit/focus".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){return k("variableeditor.views.editors.CheckBoxEditor",[m],{_checkBox:void 0,setValue:function(a){var b=a;if(a&&a.hasOwnProperty("value")&&(b=a.value,this._value===b))return;a=b=l.getLogicalValue(b,!1);this._checkBox&&this._setCheckboxValue(b);this.inherited(arguments)},_handleMouseUp:function(){this._focus()},_focus:function(){this._checkBox&&(this._checkBox.focusNode&&this._checkBox.focusNode.focus)&&(p.curNode!==this._checkBox.focusNode&&p.focus(this._checkBox.focusNode),
this._checkBox.focusNode.focus())},edit:function(){},_inPlaceEdit:function(){},setState:function(a){this.domNode&&(this._checkBox||this._setupCheckBox(),this._setupDomClasses(a),this.inherited(arguments))},_setCheckboxValue:function(a){this._checkBox.set("checked",a);this._checkBox.set("value",a);this._checkBox.focusNode&&this._checkBox.focusNode.setAttribute("value",a)},_setupDomClasses:function(a){var b=a?a.dataType?a.dataType:a["class"]:"logical";this._applyCssClass(b,a?a.isTemporaryValue:!1,!1,
this._checkBox.domNode);this.addCSSClasses(g.ClassTypeMap[b],this.domNode);this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode)},_setupCheckBox:function(){this._checkBox=new h({checked:l.getLogicalValue(this._value,!1),disabled:void 0!==this._editable?!this._editable:!1,tag:this.createDataTag("CheckBoxRenderer","cell"),width:16,height:16});this.isEditable();this._checkBox.on("click",
d.hitch(this,"_commitValue"));b.empty(this.domNode);this.domNode.appendChild(this._checkBox.domNode);this._checkBox.startup();this.own(this._checkBox)},postCreate:function(){this._checkBox||this._setupCheckBox();this.inherited(arguments)},_commitValue:function(a){!0!==this._beingDestroyed&&this.setValue(this._checkBox.get("checked"))},editOverride:function(a){this._editing||(a=l.getLogicalValue(a,!1),this._setCheckboxValue(a),this.edit())},cancelEditing:function(){if(this._editing){var a=l.getLogicalValue(this._originalValue,
!1);this._setCheckboxValue(a);this.inherited(arguments)}},_getUIValue:function(){return this._checkBox.get("checked")},_setUIValue:function(a){this._setCheckboxValue(a)},_setReadOnly:function(a){this._checkBox&&(!0===a?this._checkBox.set("disabled",!0):this._checkBox.set("disabled",!1))}})})},"variableeditor/views/editors/TextAreaEditor":function(){define("variableeditor/views/editors/TextAreaEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dijit/focus variableeditor/views/editors/_EditorBase variableeditor/views/editors/TextArea variableeditor/VariableEditorUtils".split(" "),
function(k,d,e,c,b,a,f,l){k=k("variableeditor.views.editors.TextAreaEditor",[a],{_textArea:void 0,_inputType:"",_outputType:void 0,_delimiters:[",",";"],setValue:function(a){var b=a;a&&a.hasOwnProperty("value")&&(b=a.value);this._textArea&&this._textArea.set("value",b);this.inherited(arguments);this._value=String(this._value)},setState:function(a){this.domNode&&(this._textArea||this._setupInputNode(),a&&a.outputType&&(this._outputType=a.outputType),a&&a.delimiters&&(this._delimiters=a.delimiters),
this._setupDomClasses(a),this.inherited(arguments))},_setupDomClasses:function(a){this._applyCssClass(a?a.dataType?a.dataType:a["class"]:"char",a?a.isTemporaryValue:!1,!1,this._textArea.domNode);this.renderer&&this.renderer.isEditable()?(this.removeCSSClasses("variableEditorNotEditable",this._textArea.domNode),this.removeCSSClasses("variableEditorNotEditable",this._textArea.inputNode)):(this.addCSSClasses("variableEditorNotEditable",this._textArea.domNode),this.addCSSClasses("variableEditorNotEditable",
this._textArea.inputNode));this.addCSSClasses("veTextAreaEditor")},_handleKeyboardEvent:function(a){if(this._editing){"keydown"===a.type&&this._handleKeyDown(a);var b=d.mixin({editor:this},a);this.dispatchEvent(a.type,this.domNode,b)}else this.inherited(arguments)},_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===c.ESCAPE)&&this.cancelEditing()},_commitValue:function(a){var b=this._getContent(a);b!==this._originalValue?b!==this._getContent(this._editValue)?(this.dispatchEvent("valueChanged",
this,{editor:this,oldValue:this._originalValue,newValue:a}),this._value=this._getContent(a),this._editValue=a,this._originalValue=this._getContent(a),this._textArea.set("value",this._getContent(a)),this._renderer._originalValue=a,this.renderer._editValue=this._editValue):this._revertChanges():this._textArea.set("value",this._originalValue);this.stopEditing()},_getContent:function(a){return"string"===typeof a?0===a.indexOf("[")||0===a.indexOf("{")?a.substring(1,a.length-1):a:JSON.stringify(a)},_getNumericArrayCommitValues:function(a){var b=
[];a=a.replace(/\[|\]/g,"");0<a.length&&a.split(",").forEach(function(a){a=a.replace(/inf(\s*)/ig,"Infinity");b.push(parseFloat(a))});return b},_focus:function(){this._textArea&&this._textArea.focusNode&&this._textArea.focusNode.focus&&b.curNode!==this._textArea.focusNode&&b.focus(this._textArea.focusNode)},_getCommitValue:function(){var a;if(this._textArea){var b=this._textArea.get("value"),c=this._outputType||this._inputType;if(this._delimiters&&this._delimiters.length)for(var d=0;d<this._delimiters.length;d+=
1)b=b.replace(RegExp(this._delimiters[d],"g"),"\n");if("cell"===c||"char"===c&&-1!==b.indexOf("\n"))a=this._getCellArrayValue(b);else if("char"===c)a=this._getCharArrayValue(b);else if("numericArrayStr"===c)a=this._getNumericArrayValue(b);else if("numericArray"===c)a=this._getNumericArrayValue(b),a=this._getNumericArrayCommitValues(a);else if("array"===c){if(""===b)return[];a=b.split(/\r\n|\r|\n/g)}}return a},_handleBlurEvent:function(a){if(a===this&&this._getPossibleBooleanFunctionValue(this._commitOnBlur,
!0)&&(!this.domNode.contains(document.activeElement)||-1===b.activeStack.indexOf(this.domNode.id))){var c=this._getCommitValue();c&&this._commitValue(c);this.inherited(arguments)}},_setupInputNode:function(){this._textArea=new f({value:this._value,readOnly:!0,tag:this.createDataTag("TextBoxRenderer","cell"),style:{resize:"none"}});this.domNode.appendChild(this._textArea.domNode)},postCreate:function(){this._textArea||this._setupInputNode();this.inherited(arguments)},_revertChanges:function(){this._value=
this._originalValue},stopEditing:function(){this._editing&&(this._setReadOnly(!0),this._textArea.set("value",this._originalValue),this.inherited(arguments))},edit:function(){if(!this._editing&&(this._setReadOnly(!1),this.inherited(arguments),this._textArea&&this._textArea.inputNode&&this._textArea.inputNode.focus(),void 0!==this._editValue)){var a=this._getMultiLineEditValue(this._editValue);this._textArea.set("value",a);this._textArea.startup();this._textArea.inputNode.scrollTop=0;l.selectRange(this._textArea.inputNode,
0,0);a=d.hitch(this,"_getFocus");setTimeout(a,0)}},_setReadOnly:function(a){this._textArea&&(!0===a?this._textArea.set("readOnly",!0):this._textArea.set("readOnly",!1))},_getFocus:function(){b.focus(this._textArea.inputNode)},_getMultiLineEditValue:function(a){if("string"===typeof a){if("{}"===a)return this._inputType="cell","";if("[]"===a)return this._inputType="numericArrayStr","";if(0===a.indexOf("{")){this._inputType="cell";if(-1===a.indexOf("'"))return a.substring(1,a.length-1);var b="["+(this._delimiters?
this._delimiters.join(""):",;")+"]";return a.replace(RegExp("(['\"][ ]*"+b+"[ ]*['\"])|([ ]*"+b+"[ ]*['\"])|(['\"][ ]*"+b+"[ ]*)","g"),"\n").replace(/(\{[ ]*['"])|(['"][ ]*\})/g,"")}if(-1!==a.indexOf("'"))return this._inputType="char",a.replace(/'/g,"");0<=a.indexOf("[")&&0<=a.indexOf("]")?this._inputType="numericArrayStr":this._inputType="array";return a.replace("[","").replace("]","").replace(/,/g,"\n").replace(/;/g,"\n")}b=JSON.stringify(a);-1!==b.indexOf('"')?this._inputType="array":this._inputType=
"numericArray";for(var c="",d=0;d<a.length;d+=1)c=c+a[d]+"\n";return"numericArray"===this._inputType&&(c=c.replace(/Infinity/gi,"inf"),""===c&&"number"===typeof a)?b:c.trim()},_getCellArrayValue:function(a){var b=a;0===a.trim().length?b="{}":(b=a.replace(/\'/g,"''").replace(/\n/g,"';'"),-1===a.indexOf("{")&&(b="{'"+b),-1===a.indexOf("'}")&&(b+="'}"));return b},_getCharArrayValue:function(a){var b=a;0===a.trim().length?b="''":(b=a.replace(/\n/g,"';'"),0!==a.indexOf("'")&&(b="'"+b),a.lastIndexOf("'")!==
a.length-1&&(b+="'"));return b},_getNumericArrayValue:function(a){var b;if(0===a.trim().length)b="[]";else{for(b=a.trim().replace(/\n/g,",");-1!==b.indexOf(",,");)b=b.replace(/,,/g,",");-1===a.indexOf("[")&&(b="["+b);-1===a.indexOf("]")&&(b+="]")}return b},editOverride:function(a){this._editing||(this._textArea.set("value",a),this.edit())},cancelEditing:function(){this._editing&&(this._textArea.set("value",this._originalValue),this.inherited(arguments))},_getUIValue:function(){return this._textArea.get("value")},
_setUIValue:function(a){var b=this._outputType||this._inputType;!a&&"numericArray"===b?a="[ ]":!a&&"cell"===b&&(a="{ }");this._textArea.set("value",a)},setOutputType:function(a){this._outputType=a},getOutputType:function(){return this._outputType}});k.INPUT_TYPE_CELL_ARRAY="cell";k.INPUT_TYPE_CHAR_ARRAY="char";k.INPUT_TYPE_NUMERIC_ARRAY_STRING="numericArrayStr";k.INPUT_TYPE_NUMERIC_ARRAY="numericArray";k.INPUT_TYPE_JS_ARRAY="array";return k})},"variableeditor/views/editors/TextArea":function(){define(["dojo/_base/declare",
"dojo/dom-geometry","mw-form/TextArea","mw-mixins/mixinDependencyValidator"],function(k,d,e,c){return k(c.validate([e]),{width:"100%",height:60,_validateSizeInput:function(b){"string"===typeof b&&"%"===b.charAt(b.length-1)||this.inherited(arguments)},_getAdjustedSize:function(b,a,c){if(("width"===b||"height"===b)&&"string"===typeof a){if("%"===a.charAt(a.length-1))return a}else return this.inherited(arguments)}})})},"variableeditor/views/editors/BinaryToggleButtonEditor":function(){define(["dojo/_base/declare",
"variableeditor/views/editors/_EditorBase","mw-form/ToggleButton","variableeditor/views/renderers/_TemplateMixin","dojo/text!variableeditor/views/editors/templates/binaryToggleButtonEditor.html"],function(k,d,e,c,b){return k([d,c],{templateString:b,_enumeratedValues:null,_icon:null,_button:null,setState:function(a){this.inherited(arguments);if(!a.enumeratedValues)throw"Expected enumeratedValues for Editor State";if(!a.icon)throw"Expected icons for Editor State";if(2!==a.enumeratedValues.length)throw"Expected enumeratedValues to be exactly two";
this._editable=this._commitOnBlur=!1;this._enumeratedValues=this._state.enumeratedValues;this._icon=this._state.icon;this._createButton()},postCreate:function(){this.inherited(arguments);this._createButton()},setValue:function(a,b,c){this._value=a;this._setUIValue(a,b,c)},_setUIValue:function(a){this._button&&this._button.set("checked",this._enumeratedValues[1]===a)},_getUIValue:function(){return this._value},_createButton:function(){this._icon&&(!this._button&&this.domNode)&&(this._button=new e({icon:this._icon.IconURL,
checked:this._value===this._enumeratedValues[1],description:"'"+this._enumeratedValues[1]+"'"}),this._button.domNode.setAttribute("data-tag",this.createDataTag("BinaryToggleButton")),this.own(this._button,this._button.on("change",function(a){this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});a.mwEventData.newValue!==this._value&&(a=this._button.get("checked")?this._enumeratedValues[1]:this._enumeratedValues[0],this.dispatchEvent("valueChanged",
this,{renderer:this,oldValue:this._value,newValue:a}))}.bind(this))),this._button.placeAt(this.domNode),this._button.startup())}})})},"variableeditor/views/editors/ToggleButtonGroupEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/_EditorBase","mw-form/ToggleButton","variableeditor/views/renderers/_TemplateMixin","dojo/text!variableeditor/views/editors/templates/toggleButtonGroupEditor.html"],function(k,d,e,c,b){var a=0;return k([d,c],{templateString:b,_enumeratedValues:null,
_icons:null,_buttonsMap:null,setState:function(a){this.inherited(arguments);if(!a.enumeratedValues)throw"Expected enumeratedValues for Editor State";if(!a.icons)throw"Expected icons for Editor State";if(2>a.icons.length||a.icons.length!==a.enumeratedValues.length)throw"Expected icons and enumeratedValues to be equal length arrays with 2 or more elements";this._editable=this._commitOnBlur=!1;this._enumeratedValues=this._state.enumeratedValues;this._icons=this._state.icons;this._createAllButtons()},
postCreate:function(){this.inherited(arguments);this._createAllButtons()},setValue:function(a,b,c){this._value=a;this._setUIValue(a,b,c)},_setUIValue:function(a){this._buttonsMap&&this._buttonsMap[a].set("checked",!0)},_getUIValue:function(){return this._value},_createAllButtons:function(){if(this._icons&&!this._buttonsMap&&this.domNode){this._buttonsMap={};var b="variable_editor_toggle_button_group_"+a;a+=1;for(var c=0;c<this._icons.length;c++){var d=this._enumeratedValues[c];this._buttonsMap[d]=
this._createSingleButton(d,this._icons[c].IconURL,b);this._buttonsMap[d].placeAt(this.domNode);this._buttonsMap[d].startup()}}},_createSingleButton:function(a,b,c){b=new e({icon:b,buttonGroup:c,checked:this._value===a,description:"'"+a+"'"});b.domNode.setAttribute("data-tag",this.createDataTag("ToggleButtonGroupEditor.Button",a));this.own(b,b.on("change",function(b){this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});b.mwEventData.newValue&&a!==
this._value&&this.dispatchEvent("valueChanged",this,{renderer:this,oldValue:this._value,newValue:a})}.bind(this)));return b}})})},"variableeditor/views/editors/ScaleColorsTextBoxEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],function(k,d){return k([d],{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-tag","datatools.variableeditor.views.editors.ScaleColorsTextBoxEditor")},setValue:function(d){var c=function(b){return b.map(function(a){return Math.round(100*
a)/100}).join()};d instanceof Array&&(d=d[0]instanceof Array?d.map(c).join(";"):c(d));this.inherited(arguments)},setEditValue:function(d){d=this._value;this.inherited(arguments)},setState:function(d){d&&(d.isMetaData=!1);this.inherited(arguments)}})})},"variableeditor/views/editors/PopupVariableEditor":function(){define("variableeditor/views/editors/PopupVariableEditor","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-style dojo/keys variableeditor/views/editors/_EditorBase dijit/Dialog variableeditor/ClientPeerManagerFactory mw-messageservice/MessageService".split(" "),
function(k,d,e,c,b,a,f,l,m){return k("variableeditor.views.editors.PopupVariableEditor",[a],{_dialog:void 0,_contentPane:void 0,_manager:void 0,constructor:function(a){this._manager=this._dialog=void 0;a&&this.init(a)},init:function(){this.inherited(arguments);this._dialog=new f({title:"",style:"width: 600px; height: 300px;","class":"variableEditorPopupEditor"});this._dialogClosedListener=e(this._dialog,"hide",d.hitch(this,"stopEditing"))},setValue:function(a){a&&a.hasOwnProperty("value");this.inherited(arguments)},
stopEditing:function(){this._editing&&(this._manager&&l.deleteManager(this._manager),this.dispatchEvent("editingStopped",this,{editor:this,value:this._value,state:this._state}),this._editing=!1)},_setReadOnly:function(){},edit:function(){if(!this._editing){this._editing=!0;this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});this._dialog.set("title",this.propertyName);var a="caller";this._allArgs&&(this._allArgs.valueObject&&this._allArgs.valueObject.workspace)&&
(a=this._allArgs.valueObject.workspace);var b=this._value;this._allArgs&&(this._allArgs.valueObject&&this._allArgs.valueObject.editorValue)&&(b=this._allArgs.valueObject.editorValue);this._manager=l.createManager({messageService:m.messageService,ignoreUpdates:!1,editable:!0,resizeBehaviour:"fixed",size:{width:575,height:250}});var c=this;this._manager&&(this._manager.addEventListener("managerReady",function(d){d=d.data.peerManager.openVariable(b,null,null,a);c._dialog.set("content",d)}),this._dialog.show())}}})})},
"variableeditor/views/editors/ColorEditor":function(){define("dojo/_base/Color dojo/_base/declare dojo/dom-class dojo/on mw-colorpicker/ColorPicker ./_ColorStylesSwatch dojo/text!variableeditor/views/editors/templates/ColorEditor.html dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(k,d,e,c,b,a,f,l,m){function h(a){"none"!==a&&("auto"!==a&&"flat"!==a&&"interp"!==a&&"texturemap"!==a)&&(a=(new k(a)).toHex());return a}return d([l,m],{value:null,showColorStyles:!1,templateString:f,colorStyleOptions:[],
COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(){this.colorStylesSwatch=this.colorPicker=null;this.value=arguments[0].value;this.colorStyleOptions=arguments[0].colorStyleOptions;this.inherited(arguments)},_setValueAttr:function(a){a=h(a);a!==this.get("value")&&this._setValue(a)},_setValue:function(a){this._set("value",a);a===this.COLOR_NONE?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!0),this.colorStylesSwatch.set("autoColorSelected",
!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_AUTO?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!0),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",
!1)),this._unselectColorPicker(a)):a===this.COLOR_FLAT?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!0),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_INTERP?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",
!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!0),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_TEXTUREMAP?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",
!0)),this._unselectColorPicker(a)):(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1),e.remove(this.colorPicker.previewColorNode,"mwColorPickerNonePreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerAutoPreview"),e.remove(this.colorPicker.previewColorNode,
"mwColorPickerFlatPreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerInterpPreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerTextureMapPreview")),this.colorPicker.set("value",a,!1))},forceSetValue:function(a){a=h(a);this._setValue(a)},_getValueAttr:function(){return this.colorPicker.get("value")},_setShowColorStylesAttr:function(a){a&&!this.colorStylesSwatch&&this._showColorStyelsSwatch()},buildRendering:function(){this.inherited(arguments);this.colorPicker=new b({showPreview:!0,
showCustomPicker:!0,showRecentColors:!1,value:this.value});this.colorPicker.placeAt(this.domNode)},postCreate:function(){this.inherited(arguments);setTimeout(function(){this.colorPicker&&this.colorPicker.own(c(this.colorPicker,"change",this._handleChange.bind(this)))}.bind(this),0)},startup:function(){this.inherited(arguments);this.colorPicker.startup();this.colorStylesSwatch&&this.colorStylesSwatch.startup()},destroy:function(){this.colorPicker&&this.colorPicker.destroy();this.colorStylesSwatch&&
this.colorStylesSwatch.destroy();this.colorStylesSwatch=this.colorPicker=null;this.inherited(arguments)},_handleChange:function(a){a.mwEventData&&(a=a.mwEventData.newValue,this._set("value",a,!1),this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),e.remove(this.colorPicker.previewColorNode,
"mwColorPickerNonePreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerAutoPreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerFlatPreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerInterpPreview"),e.remove(this.colorPicker.previewColorNode,"mwColorPickerTextureMapPreview"),this.emit("update-color",{newColorValue:a}),this._enableColorSpinner())},_handleUpdateColor:function(a){if(a.newColorValue===this.COLOR_NONE||a.newColorValue===this.COLOR_AUTO||a.newColorValue===
this.COLOR_FLAT||a.newColorValue===this.COLOR_INTERP||a.newColorValue===this.COLOR_TEXTUREMAP)this.colorPicker&&this._unselectColorPicker(a.newColorValue),this.emit("update-color",a)},_showColorStyelsSwatch:function(){this.colorStylesSwatch||(this.colorStylesSwatch=new a({colorStyleOptions:this.colorStyleOptions}),this.colorStylesSwatch.placeAt(this.domNode,"first"),this.colorStylesSwatch.own(c(this.colorStylesSwatch,"update-color",this._handleUpdateColor.bind(this))))},_unselectColorPicker:function(a){var b=
this.colorPicker.paletteNode.gridNode.querySelector(".dijitPaletteCellSelected"),c=this.colorPicker.recentColorsNode.querySelector(".dijitPaletteCellSelected");b&&b.classList.remove("dijitPaletteCellSelected");c&&c.classList.remove("dijitPaletteCellSelected");this.colorPicker.previewColorNode.classList.remove("mwColorPickerNonePreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerAutoPreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerFlatPreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerInterpPreview");
this.colorPicker.previewColorNode.classList.remove("mwColorPickerTextureMapPreview");a===this.COLOR_NONE?this.colorPicker.previewColorNode.classList.add("mwColorPickerNonePreview"):a===this.COLOR_AUTO?this.colorPicker.previewColorNode.classList.add("mwColorPickerAutoPreview"):a===this.COLOR_FLAT?this.colorPicker.previewColorNode.classList.add("mwColorPickerFlatPreview"):a===this.COLOR_INTERP?this.colorPicker.previewColorNode.classList.add("mwColorPickerInterpPreview"):a===this.COLOR_TEXTUREMAP&&this.colorPicker.previewColorNode.classList.add("mwColorPickerTextureMapPreview");
this._disableColorSpinner()},_disableColorSpinner:function(){var a=this.colorPicker.spinnerNode.domNode.querySelectorAll(".dijitTextBox");[].slice.call(a).forEach(function(a){e.add(a,"disableInput");a=a.querySelectorAll("input[type\x3d'text']");[].slice.call(a).forEach(function(a){a.tabIndex=-1;a.value=""})})},_enableColorSpinner:function(){var a=this.colorPicker.spinnerNode.domNode.querySelectorAll(".dijitTextBox");[].slice.call(a).forEach(function(a){e.remove(a,"disableInput");a=a.querySelectorAll("input[type\x3d'text']");
[].slice.call(a).forEach(function(a){a.tabIndex=0})})},_setReadOnly:function(){}})})},"variableeditor/views/editors/_ColorStylesSwatch":function(){define("dojo/_base/declare dojo/dom-class dojo/text!variableeditor/views/editors/templates/_ColorStylesSwatch.html dojo/i18n!variableeditor/app/l10n/nls/app dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(k,d,e,c,b,a){return k([b,a],{title:c.colorPickerColorStylesSwatchTitle,noneColorSelected:!0,autoColorSelected:!0,flatColorSelected:!0,interpColorSelected:!0,
texturemapColorSelected:!0,templateString:e,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(a){this.colorStyleOptions=a.colorStyleOptions;this._noneStyleCellNode=this._renderStyleCell(this.COLOR_NONE,"mwColorPaletteSwatch mwColorPickerNoneColorSwatch");this._autoStyleCellNode=this._renderStyleCell(this.COLOR_AUTO,"mwColorPaletteSwatch mwColorPickerAutoColorSwatch");this._flatStyleCellNode=this._renderStyleCell(this.COLOR_FLAT,
"mwColorPaletteSwatch mwColorPickerFlatColorSwatch");this._interpStyleCellNode=this._renderStyleCell(this.COLOR_INTERP,"mwColorPaletteSwatch mwColorPickerInterpColorSwatch");this._texturemapStyleCellNode=this._renderStyleCell(this.COLOR_TEXTUREMAP,"mwColorPaletteSwatch mwColorPickerTextureMapColorSwatch")},_setNoneColorSelectedAttr:function(a){a?d.add(this._noneStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._noneStyleCellNode,"dijitPaletteCellSelected");this._set("noneColorSelected",a)},
_setFlatColorSelectedAttr:function(a){a?d.add(this._flatStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._flatStyleCellNode,"dijitPaletteCellSelected");this._set("flatColorSelected",a)},_setAutoColorSelectedAttr:function(a){a?d.add(this._autoStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._autoStyleCellNode,"dijitPaletteCellSelected");this._set("autoColorSelected",a)},_setInterpColorSelectedAttr:function(a){a?d.add(this._interpStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._interpStyleCellNode,
"dijitPaletteCellSelected");this._set("interpColorSelected",a)},_setTexturemapColorSelectedAttr:function(a){a?d.add(this._texturemapStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._texturemapStyleCellNode,"dijitPaletteCellSelected");this._set("texturemapColorSelected",a)},postCreate:function(){this.inherited(arguments);this._renderStyleCells()},_renderStyleCells:function(){this.colorStyleOptions.map(function(a){switch(a){case this.COLOR_AUTO:this.colorStyleNodes.appendChild(this._autoStyleCellNode);
break;case this.COLOR_NONE:this.colorStyleNodes.appendChild(this._noneStyleCellNode);break;case this.COLOR_FLAT:this.colorStyleNodes.appendChild(this._flatStyleCellNode);break;case this.COLOR_INTERP:this.colorStyleNodes.appendChild(this._interpStyleCellNode);break;case this.COLOR_TEXTUREMAP:this.colorStyleNodes.appendChild(this._texturemapStyleCellNode)}}.bind(this))},_renderStyleCell:function(a,b){var c=document.createElement("div");c.setAttribute("tabindex","0");c.setAttribute("class",b);var d=
document.createElement("div");d.setAttribute("class","dijitPaletteCell");d.setAttribute("title",a);d.appendChild(c);d.onclick=this._handleSelect.bind(this);d.onkeypress=this._handlePress.bind(this);return d},_handlePress:function(a){32===a.keyCode&&this._handleSelect(a)},_handleSelect:function(a){if(a.currentTarget.children&&a.currentTarget.children[0]&&a.currentTarget.children[0].classList)if(a=a.currentTarget.children[0].classList,a.contains("mwColorPickerAutoColorSwatch")){if(!this.autoColorSelected||
!this._autoStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._autoStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!0),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"auto"})}else if(a.contains("mwColorPickerNoneColorSwatch")){if(!this.noneColorSelected||!this._noneStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._noneStyleCellNode.classList.add("dijitPaletteCellSelected"),
this.set("noneColorSelected",!0),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"none"})}else if(a.contains("mwColorPickerFlatColorSwatch")){if(!this.flatColorSelected||!this._flatStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._flatStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",
!1),this.set("flatColorSelected",!0),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"flat"})}else if(a.contains("mwColorPickerInterpColorSwatch")){if(!this.interpColorSelected||!this._interpStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._interpStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",
!0),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"interp"})}else if(a.contains("mwColorPickerTextureMapColorSwatch")&&(!this.texturemapColorSelected||!this._texturemapStyleCellNode.classList.contains("dijitPaletteCellSelected")))this._texturemapStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",
!0),this.emit("update-color",{newColorValue:"texturemap"})}})})},"variableeditor/views/editors/ColorTextBoxEditor":function(){define("variableeditor/views/editors/ColorTextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils dojo/parser dojo/dom-construct dojo/sniff dijit/focus dojo/keys dojo/on variableeditor/views/editors/TextBoxEditor variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/editors/templates/ColorTextBoxEditor.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){k=k("variableeditor.views.editors.ColorTextBoxEditor",[a,f,r],{_hasStyle:!1,_hasAlpha:!1,_inputBox:null,_alpha:1,_valueIsAdjusting:!1,_rangeZeroToOne:!0,_doubleClickDuration:0,_inputValueChangeListener:void 0,constructor:function(a){this.templateString=q;this._rangeZeroToOne=a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;a&&(this._allArgs=a,this.init(a));l.parse()},_setUIColor:function(a,b){var c=this._getColorValues(a),c=c.color;(b||void 0===
b)&&this._setForegroundValues(c,a)},_getUIColor:function(){return this._value===f.COLOR_AUTO||this._value===f.COLOR_FLAT||this._value===f.COLOR_NONE||this._value===f.COLOR_INTERP||this._value===f.COLOR_TEXTUREMAP||"string"===typeof this._value&&"3 double"===this._value.slice(-8)?this._value:new e(this._value)},_setForegroundValues:function(a,b){this._value=b;if(b===f.COLOR_AUTO||b===f.COLOR_FLAT||b===f.COLOR_NONE||b===f.COLOR_INTERP||b===f.COLOR_TEXTUREMAP||"string"===typeof b&&"3 double"===b.slice(-8))this._inputBox.setValue(b),
this._inputBox.setEditValue(b),this._inputBox._setUIValue(b);else{var c=this._rangeZeroToOne?255:1,d,g,e;this._rangeZeroToOne?(d=(Math.round(100*(a.r/c))/100).toFixed(2),g=(Math.round(100*(a.g/c))/100).toFixed(2),c=(Math.round(100*(a.b/c))/100).toFixed(2),e=(Math.round(100*a.a)/100).toFixed(2)):(d=a.r.toString(),g=a.g.toString(),c=a.b.toString(),e=a.a.toString());this._inputValueChangeListener.pause();this._inputBox.setValue(d+","+g+","+c+(this._hasAlpha?","+e:""));this._inputBox.setEditValue(d+","+
g+","+c+(this._hasAlpha?","+e:""));this._inputBox._setUIValue(d+","+g+","+c+(this._hasAlpha?","+e:""));this._inputValueChangeListener.resume()}},_setupDomClasses:function(a,b){a&&this.addCSSClasses("veDiagonalStrikeout");this._applyCssClass(b?b.dataType?b.dataType:b["class"]:"color",b?b.isTemporaryValue:!1,!1);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable"):this.addCSSClasses("variableEditorNotEditable")},setValue:function(a){if(this.domNode){var b=!1,c=a;a&&a.hasOwnProperty("value")&&
(c=a.value);c||(c=f.WHITE.toCss(!0),b=!0);this.removeCSSClasses("veDiagonalStrikeout");this._setupDomClasses(b,a);this.domNode.setAttribute("data-tag",this.createDataTag("ColorRenderer","cell"));this._setUIColor(c);this.inherited(arguments)}else this._value=a},postCreate:function(){this._setupInputBoxNode();this._hasStyle=this._state?b.getLogicalValue(this._state.showStyle,!1):!1;this._hasAlpha=this._state?b.getLogicalValue(this._state.showAlpha,!1):!1;this.inherited(arguments);this.addCSSClasses("veColorRenderer");
h("mac")&&this.addCSSClasses("macScrollBarWidth")},_setupInputBoxNode:function(){var a=this._getAttachNode("colorValue");if(a){this._inputBox=new s({value:this._value,state:this._state,editable:this._editable,editOnSingleClick:!0});m.place(this._inputBox.domNode,a,"last");this._inputValueChangeListener=n.pausable(this._inputBox,"valueChanged",d.hitch(this,"_inputBoxValueChanged"));this._inputBox.addEventListener("click",d.hitch(this,"_inputMouseClick"));this._inputBox.addEventListener("editingStarted",
d.hitch(this,"_reDispatchEvent"));this._inputBox.addEventListener("editingStopped",d.hitch(this,"_reDispatchEvent"));var b=this,c=this._inputBox._handleKeyDown;this._inputBox._handleKeyDown=function(a){b._ignoreInvalidKeys(a);c.apply(b._inputBox,[a]);b._inputBoxKeyDown(a)};this._inputBox._handleBlurEvent=function(a){a===this&&b._handleBlurEvent(a)};var g=this._inputBox.edit,f=this;this._inputBox.edit=function(){f._originalValue=f._value;f.isEditable()&&(f._setUIColor(f._value),f.focusTextBox(!0));
g.apply(b._inputBox)}}a=d.hitch(this,"_handleKeyboardEvent");n(this.domNode,"keypress",a);this.focusNode=this._inputBox.focusNode},_reDispatchEvent:function(a){this.dispatchEvent(a.type,this,a.data)},_changeListenerState:function(a){a&&"string"===typeof a&&(this.inherited(arguments),this._inputBox._changeListenerState(a))},_swatchMouseClick:function(a){this._handleMouseEvent(a)},_inputMouseClick:function(a){this._inputBox.edit();this._handleMouseEvent(a.data)},_ignoreInvalidKeys:function(a){var b=
this._getKeyCode(a);b!==p.ESCAPE&&b!==p.ENTER&&(b===p.LEFT_ARROW||b===p.LEFT||b===p.RIGHT_ARROW||b===p.RIGHT||b===p.TAB||b===p.UP_ARROW||b===p.DOWN_ARROW||48<=b&&57>=b||188==b||190==b||62===b||b==p.DELETE||b==p.BACKSPACE||219==b||221==b||8==b||46==b||65<=b&&90>=b||b!=p.SPACE&&a.preventDefault())},_inputBoxKeyDown:function(a){a=this._getKeyCode(a);a===p.ESCAPE?this.cancelEditing():a===p.ENTER&&this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"keyDown")},_colorChanged:function(a,
b){this._isInvalidColor(a)?this.cancelEditing():this._colorsEqual(a,this._value)?(this._setUIColor(a),this.stopEditing()):this._commitNewValue(a,b)},_isInvalidColor:function(a){return a.constructor===Array?(a=a.filter(function(a){return!isNaN(a)&&0<=a&&255>=a}),3>a.length):!1},_commitNewValue:function(a,c){var d=this._value;this._value=this._getColorCommitValue(a);this._setUIColor(this._value,!1);b.removeFromClassList(this.domNode,"veDiagonalStrikeout");this.stopEditing();var g=this._getColorValues(this._value),
g=g&&g.color||f.WHITE;this._setUIColor(this._value);this._colorsEqual(d,this._value)||this.dispatchEvent("valueChanged",this,{editor:this,oldValue:this._originalValue,newValue:this._value,newColor:g,eventTriggerInfo:c})},_getNumericColorArrayValues:function(a){if(a===f.COLOR_AUTO||a===f.COLOR_FLAT||a===f.COLOR_NONE||a===f.COLOR_INTERP||a===f.COLOR_TEXTUREMAP||"string"===typeof a&&"3 double"===a.slice(-8))return a;var b=[];if(a){var c=this._rangeZeroToOne?255:1;a=a.split(/^\[|,| |\]$/g).filter(function(a){return 0!==
a.length});b=a.map(function(a){a=parseFloat(a)*c;return Math.round(Math.max(0,Math.min(255,a)))});3<b.length&&(b[3]=parseFloat(a[3]))}return b},_inputBoxValueChanged:function(a){var b=a.data.newValue,c=this._value;b&&(b=this._getNumericColorArrayValues(b))&&b.length&&(c=new e(b));this._valueIsAdjusting?(c=c||f.WHITE,this.dispatchEvent("valueAdjusting",this,{editor:this,oldValue:a.data.oldValue,newValue:c.toCss(!0),newColor:c})):this._colorChanged(c)},_handleBlurEvent:function(a){a=document.activeElement;
if(this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(!this.domNode.contains(a)||-1===g.activeStack.indexOf(this.domNode.id))&&this._renderer&&this._renderer.domNode&&a!==this._renderer.domNode)this._editing=!0,this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"widgetBlur")},_handleColorBlur:function(a){this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._editing&&a&&a.target&&!this.domNode.contains(a.target)&&this._renderer&&this._renderer.domNode&&
a.target!==this._renderer.domNode)&&this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"widgetBlur")},focusTextBox:function(a){a&&this._inputBox._focus()},stopEditing:function(){this.isEditing()&&this._inputBox&&(this._inputBox.stopEditing(),this._inputBox.setCursorPosition(0,0));this.inherited(arguments)},cancelEditing:function(){var a=this.isEditing();a&&this._inputBox&&this._inputBox.cancelEditing();this._setUIColor(this._originalValue);this._editing=a;this.inherited(arguments)},
_getUIValue:function(){var a=this._getUIColor();return a===f.COLOR_AUTO||a===f.COLOR_FLAT||a===f.COLOR_NONE||a===f.COLOR_INTERP||a===f.COLOR_TEXTUREMAP||"string"===typeof a&&"3 double"===a.slice(-8)?a:a.toCss(!0)},_setReadOnly:function(a){this._inputBox&&this._inputBox._setReadOnly&&this._inputBox._setReadOnly(a)},destroy:function(){this._inputBox.destroy();this.inherited(arguments)}});k.COLOR_VALUE_0_TO_1_INCREMENT=0.01;k.COLOR_VALUE_0_TO_255_INCREMENT=1;return k})},"variableeditor/views/editors/_ColorUtils":function(){define("variableeditor/views/editors/_ColorUtils",
["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/_base/Color"],function(k,d,e,c,b){var a=new b([255,255,255,1]);k=k("variableeditor.views.editors._ColorUtils",[],{_getColorStringFromValue:function(c){return"auto"===c||"flat"===c||"none"===c||"interp"===c||"texturemap"===c?a.toCss(!0):c&&c.toCss?c.toCss(!0):(new b(c)).toCss(!0)},_getColorValues:function(c){var d=c;c&&c.value&&(d=c.value);d||(d=a);var e={value:a.toCss(!0),alpha:1,color:a},h=a;"auto"===c||"flat"===c||"none"===
c||"interp"===c||"texturemap"===c?e.value=c:(Array.isArray(d)?(Array.isArray(d[0])&&(d[0]=255,d[1]=255,d[2]=255,d[3]=1),h=new b(d)):h=d.toRgba&&d.toCss?d:new b(d),e.value=h.toCss(!0),e.alpha=h.a);e.color=h;return e},_colorsEqual:function(a,c){var d=new b,e=new b;if(!a&&c||a&&!c)return!1;if("auto"===a||"flat"===a||"none"===a||"interp"===a||"texturemap"===a||"auto"===c||"flat"===c||"none"===c||"interp"===c||"texturemap"===c)return a===c;d=a&&a.toRgba&&a.toCss?a:new b(a);e=c&&c.toRgba&&c.toCss?c:new b(c);
return d.toCss(!0)===e.toCss(!0)},_getJSColorValuesFromMATLABStringArray:function(a,b){var c=a;void 0===b&&(b=!0);var d=b?255:1;if("string"===typeof a||a instanceof String)"["!==a.substr(0,1)&&(a="["+a+"]"),c=JSON.parse(a.replace(/, /g,",").replace(/ /g,",").replace(/\[/g,"[[").replace(/\]/g,"]]").replace(/;/g,"],["));if(Array.isArray(c)){if(0<c.length&&!Array.isArray(c[0])){var g=[];g[0]=c;c=g}c=c.map(function(a){var b=a.map(function(a){return Math.round(a*d)});4<=b.length&&(b[3]=a[3]);return b})}return c},
_getColorCommitValue:function(a){"auto"===a||("flat"===a||"none"===a||"interp"===a||"texturemap"===a)||(a=new b(a),a.a=this._alpha,a=a.toCss(!0));return a},_createColorGradientCss:function(a){var b="",c=this;a&&a.length&&(a=this._getJSColorValuesFromMATLABStringArray(a).map(function(a){return c._getColorStringFromValue(a)}).join(","),b="background: -webkit-linear-gradient(left,"+a+"); /* For Safari 5.1 to 6.0 */\nbackground: -o-linear-gradient(right,"+a+"); /* For Opera 11.1 to 12.0 */\nbackground: -moz-linear-gradient(right,"+
a+"); /* For Firefox 3.6 to 15 */\nbackground: linear-gradient(to right,"+a+"); /* Standard syntax */\n");return b},_isNone:function(a){return"string"===typeof a&&"none"===a.toLowerCase()}});k.WHITE=a;k.COLOR_AUTO="auto";k.COLOR_FLAT="flat";k.COLOR_NONE="none";k.COLOR_INTERP="interp";k.COLOR_TEXTUREMAP="texturemap";return k})},"variableeditor/views/editors/ColormapEditor":function(){define("variableeditor/views/editors/ColormapEditor","dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/on dojo/aspect variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/renderers/_TemplateMixin mw-form/ComboBox variableeditor/views/renderers/ColorOrderRenderer dijit/focus dojo/text!./templates/ColormapEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){var r={value:"custom",label:s.colormapEditorCustom},q=["parula","jet",{value:"hsv",label:"HSV"},"hot","cool","spring","summer","autumn","winter","gray","bone","copper","pink","lines","colorcube","prism","flag","white"];return k("variableeditor.views.editors.ColormapEditor",[l,m],{templateString:n,_select:void 0,_selectChangeListeners:void 0,_customValue:!1,_customRenderers:void 0,_resizeTimeouts:void 0,_buttonColormapNodes:void 0,_colormapList:q,_doubleClickDuration:0,
postCreate:function(){this.inherited(arguments);this._setupSelect()},_setupSelect:function(){this._select?this._setSelectItems():(this._select=new h(f.mergeObjects(this._allArgs,{editable:!1,disabled:!this.isEditable(),value:void 0,width:"100%",height:"100%",_validateSizeInput:function(a){"string"===typeof a&&"%"===a.charAt(a.length-1)||this.inherited(arguments)},_getAdjustedSize:function(a,b,c){if(("width"===a||"height"===a)&&"string"===typeof b){if("%"===b.charAt(b.length-1))return b}else return this.inherited(arguments)}})),
this.own(this._select),a.before(this._select,"_getSelectedItemFromLabel",function(a){return[this._fixLabel(a)]}.bind(this)),this._customRenderers={button:this._getNewCustomColormapRenderer(),menuItem:this._getNewCustomColormapRenderer()},this._addColormapToButton(),this._setSelectItems(),this._selectChangeListeners={_onChangeListener:b.pausable(this._select,"change",d.hitch(this,"_commitValue"))},this._resizeTimeouts={},this.own(b(window,"resize",d.hitch(this,"_resizeSelect"))),a.before(this._select,
"_openComboBoxMenu",function(){this._resizeMenu()}.bind(this)),this._select.startup(),e.empty(this.domNode),this.domNode.appendChild(this._select.domNode),this._resizeSelect())},destroy:function(){this.inherited(arguments);this._resizeTimeouts&&(this._resizeTimeouts.menu&&clearTimeout(this._resizeTimeouts.menu),this._resizeTimeouts.button&&clearTimeout(this._resizeTimeouts.button))},_commitValue:function(){!0!==this._beingDestroyed&&this.setValue(this._getUIValue())},_resizeSelect:function(){this.domNode&&
(c.position(this.domNode).h?(this._resizeTimeouts.button||(this._resizeTimeouts.button=setTimeout(d.hitch(this,"_resizeButton"),10)),this._resizeTimeouts.menu&&clearTimeout(this._resizeTimeouts.menu),this._resizeTimeouts.menu=setTimeout(d.hitch(this,"_resizeMenu"),100)):setTimeout(d.hitch(this,"_resizeSelect"),16))},_resizeButton:function(){this._resizeTimeouts.button=null;this._updateColorOrderRendererValue(this._customRenderers.button)},_resizeMenu:function(){this._resizeTimeouts.menu=null;if(this._select.domNode&&
this._select.get("menu")&&this._select.get("menu").domNode){var a=c.getContentBox(this._select.domNode).w;c.setContentSize(this._select.get("menu").domNode,{w:a})}this._updateColorOrderRendererValue(this._customRenderers.menuItem)},_getNewCustomColormapRenderer:function(){var a=f.mergeObjects(this._allArgs,{value:void 0,inPlaceEditor:null,editor:null}),a=new g(a);this.addCSSClasses(this._getIconClasses("custom"),a.domNode);this._customValue&&a.setValue(this._customValue);a.startup();return a},_addColormapToButton:function(){var a=
this._select.inputNode;this.addCSSClasses(["colormapItem","colormapButton"],a.parentNode);this.addCSSClasses(["colormapLabel","colormapButton"],a);this._buttonColormapNodes={icon:e.create("div",null,a,"before"),custom:e.place(this._customRenderers.button.domNode,a,"before")};this.addCSSClasses(["colormapIcon","colormapButton"],this._buttonColormapNodes.icon);this._setButtonNodeVisible(this._buttonColormapNodes.icon,!1);this.addCSSClasses(["colormapIcon","colormapButton"],this._buttonColormapNodes.custom);
this._setButtonNodeVisible(this._buttonColormapNodes.custom,!1)},_setSelectItems:function(){this._selectChangeListeners&&this._selectChangeListeners._onChangeListener&&this._selectChangeListeners._onChangeListener.pause();var a=this._getItems();this._select.set("items",a);var b=this._select.get("menu").domNode.childNodes[0];this.addCSSClasses("colormapMenu",b);for(var b=b.childNodes,c=0;c<b.length;c++)this._setupItemNode(b[c],a[c].value);this._setUIValue(this._value);this._selectChangeListeners&&
this._selectChangeListeners._onChangeListener&&this._selectChangeListeners._onChangeListener.resume()},_setupItemNode:function(a,b){this.addCSSClasses("colormapItem",a);var c=a.childNodes[0];this.addCSSClasses("colormapLabel",c);"custom"===b?e.place(this._customRenderers.menuItem.domNode,c,"before"):(c=e.create("div",null,c,"before"),this.addCSSClasses(this._getIconClasses(b),c))},setValue:function(a){var b=a;a&&a.hasOwnProperty("value")&&(b=a.value);this.inherited(arguments);this._setCustomValue(b);
this._select&&this._setUIValue(b)},_setCustomValue:function(a){if(this._isValidCustomValue(a)&&!f.compareValues(a,this._customValue)){var b=this.getState(),b=b?d.clone(b):{};b.customValue=a;this.setState(b);a&&this._customRenderers&&(this._updateColorOrderRendererValue(this._customRenderers.button,a),this._updateColorOrderRendererValue(this._customRenderers.menuItem,a))}},_updateColorOrderRendererValue:function(a,b){var c=void 0!==b;b=b||this._customValue;if(a&&b&&this._isValidCustomValue(b)){var d=
this._getColormapWidth(),d=Math.min(14>d?14:d,b.length);if(c||!a._value||a._value.length!==d)if(b.length>d){for(var c=[],d=(b.length-1)/(d-1),g=0;g<b.length;g+=d)c.push(b[Math.round(g)]);a.setValue(c)}else a.setValue(b)}},_getColormapWidth:function(){try{var a=c.getContentBox(this._select.domNode).w,b=c.position(this._select.arrowNode).w,d=c.position(this._select.inputNode).w,g=c.getPadBorderExtents(this._customRenderers.button.domNode).w+c.getMarginExtents(this._customRenderers.button.domNode).w;
return a-b-d-g}catch(f){return 0}},setState:function(a){this.domNode&&(a&&(void 0!==a.customValue&&(this._customValue=a.customValue),this._colormapList=this._fixColormapList(a.colormapList||this._colormapList),this._setupSelect()),this.inherited(arguments))},_getDefaultState:function(){return{customValue:!1,colormapList:q}},_getUIValue:function(){var a=this._select.get("value");return void 0===a||"custom"===a?this._customValue:a},_setUIValue:function(a){this._isUIOption(a)?("string"!==typeof a&&(a=
"custom"),this._select.set("value",a),this._setButtonColormap(a)):(a=this._getItems(),this.setValue(0<a.length?a[0].value:void 0))},_isUIOption:function(a){return this._isValidValue(a)&&(this._customValue||"string"===typeof a)},_setButtonColormap:function(a){if(this._buttonColormapNodes){var b="custom"===a,c=this._buttonColormapNodes.icon;c&&(this.replaceCSSClasses(this._getIconClasses(),this._getIconClasses(a),c),this._setButtonNodeVisible(c,!b));(a=this._buttonColormapNodes.custom)&&this._setButtonNodeVisible(a,
b)}},_setButtonNodeVisible:function(a,b){b?this.removeCSSClasses("hiddenColormapIcon",a):this.addCSSClasses("hiddenColormapIcon",a)},_setReadOnly:function(a){this._select&&this._select.set("disabled",a)},_focus:function(){this._select&&this._select.focusNode&&this._select.focusNode.focus&&p.curNode!==this._select.focusNode&&p.focus(this._select.focusNode)},hasValueChanged:function(a){return!f.compareValues(this._originalValue,a)},_getItems:function(a){a=a||this._colormapList;return a.map(function(a){var b=
a.value||a;return{value:b,label:this._fixLabel(a.label||b.charAt(0).toUpperCase()+b.slice(1))}}.bind(this))},_isValidValue:function(a){return!a?!1:"string"===typeof a?this._getItems().some(function(b){return b.value===a}):this._isValidCustomValue(a)},_isValidCustomValue:function(a){if(!1===a)return!0;if(!(a instanceof Array&&0<a.length))return!1;for(var b=0;b<a.length;b++){if(3!==a[b].length)return!1;for(var c=0;3>c;c++)if("number"!==typeof a[b][c]||0>a[b][c]||1<a[b][c])return!1}return!0},_fixColormapList:function(a){a=
a||this._colormapList;-1!==a.indexOf("all")&&(a=a.concat(q));var b=this._getItems(this._customValue?[r].concat(q):q);a=a.filter(function(a){return b.some(function(b){return!b.seen&&(b.value===a||b.value===a.value)?b.seen=!0:!1})});var c=a.some(function(a){return"custom"===a||"custom"===a.value});return this._customValue&&!c?[r].concat(a):a},_getIconClasses:function(a){a=a||this._getItems(["custom"].concat(q));"string"===typeof a?a=[{value:a}]:void 0!==a.value&&(a=[a]);for(var b=["colormapIcon"],c=
0;c<a.length;c++)b.push("cmap-"+a[c].value);return b},_fixLabel:function(a){return a.replace(/^[ \n\.]+/g,"")}})})},"variableeditor/views/renderers/ColorOrderRenderer":function(){define("variableeditor/views/renderers/ColorOrderRenderer","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/dom-class dojo/parser variableeditor/views/renderers/_RendererBase variableeditor/views/editors/_ColorUtils variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/renderers/templates/ColorOrderRenderer.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g){k=k("variableeditor.views.renderers.ColorOrderRenderer",[l,m,h],{_rangeZeroToOne:!0,constructor:function(a){this.templateString=g;this._rangeZeroToOne=a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;a&&(this._allArgs=a,this.init(a));f.parse()},postCreate:function(){this.inherited(arguments);this._updateDomColors()},_createColorDivs:function(c,d){if(c&&d)for(var g=this._getJSColorValuesFromMATLABStringArray(c,this._rangeZeroToOne),f=100/g.length,e=0;e<
g.length;e+=1){var h=this._getColorStringFromValue(g[e]),h="width: "+f.toPrecision(4).toString()+"%;background: "+h+";",h=b.create("div",{style:h,innerHTML:"."});a.add(h,"colorDiv");b.place(h,d,"last")}},_updateDomColors:function(){if(this.domNode&&this._value){var a=this.domNode,c=this._getAttachNode("colorSwatch");a.removeChild(c);b.empty(c);this._createColorDivs(this._value,c);b.place(c,a,"last")}},setValue:function(a){this.inherited(arguments);this.domNode&&this._updateDomColors()},_setReadOnly:function(){}});
k.COLOR_SWATCH_ATTACH_POINT="colorSwatch";return k})},"variableeditor/views/editors/RGBColorEditor":function(){define("dojo/_base/declare mw-colorpicker/MColor variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/editors/ColorDropDownEditor variableeditor/views/renderers/_TemplateMixin variableeditor/VariableEditorUtils dojo/text!./templates/RGBColorEditor.html".split(" "),function(k,d,e,c,b,a,f,l,m){k=
k([e,c,f],{templateString:m,_showColorStyles:!1,_colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",_hasStyle:!1,_hasAlpha:!1,_inputBox:null,_alpha:1,_valueIsAdjusting:!1,_rangeZeroToOne:!0,_doubleClickDuration:0,_inputValueChangeListener:void 0,constructor:function(){this._colorTextBox=this._colorDropDown=null;this._showColorStyles=this._configValue();this._createColorDropDown();this._createColorTextBox()},postCreate:function(){this.inherited(arguments);
this._colorDropDown.startup();this._colorTextBox.startup();this._colorTextBox.placeAt(this.domNode);this._colorDropDown.placeAt(this.domNode);this._addListnersToComponents()},_configValue:function(){return this._allArgs&&this._allArgs.state&&this._allArgs.state.showStyle&&!0===this._allArgs.state.showStyle?(this._allArgs.state.styleOptions&&(Array.isArray(this._allArgs.state.styleOptions)&&0<this._allArgs.state.styleOptions.length)&&(this._colorStyleOptions=this._allArgs.state.styleOptions.slice()),
!0):!1},_createColorDropDown:function(){this._colorDropDown=new a({color:this._allArgs.value,showColorStyles:this._showColorStyles,colorStyleOptions:this._colorStyleOptions});this.own(this._colorDropDown)},_createColorTextBox:function(){var a=this._allArgs;a.inPlaceEditor=void 0;this._colorTextBox=new b(a);this._colorTextBox.setEditable(!0);var c=this._colorTextBox._isInvalidColor;this._colorTextBox._isInvalidColor=function(a){return this._isStyle(a)?this._isValidStyle(a)&&this._showColorStyles?!1:
!0:"string"===typeof a&&"3 double"===a.slice(-8)?!0:c.apply(this._colorTextBox,arguments)}.bind(this);this.own(this._colorTextBox)},_isValidStyle:function(a){var b=!1;-1<this._colorStyleOptions.indexOf(this.COLOR_AUTO)&&(b=b||this._isAuto(a));-1<this._colorStyleOptions.indexOf(this.COLOR_NONE)&&(b=b||this._isNone(a));-1<this._colorStyleOptions.indexOf(this.COLOR_FLAT)&&(b=b||this._isFlat(a));-1<this._colorStyleOptions.indexOf(this.COLOR_INTERP)&&(b=b||this._isInterp(a));-1<this._colorStyleOptions.indexOf(this.COLOR_TEXTUREMAP)&&
(b=b||this._isTextureMap(a));return b},_isStyle:function(a){return this._isNone(a)||this._isAuto(a)||this._isFlat(a)||this._isInterp(a)||this._isTextureMap(a)},_addListnersToComponents:function(){this._colorDropDown.on("color-changed",this._handleColorDropDownValueChange.bind(this));this._colorDropDown.on("dropdownclick",this._handleDropDownClick.bind(this));this._colorTextBox.addEventListener("editingStarted",this._reDispatchEvent.bind(this));this._colorTextBox.addEventListener("editingStopped",
this._reDispatchEvent.bind(this));this._colorTextBox.addEventListener("valueChanged",this._handleTextBoxValueChange.bind(this));this._colorTextBox.addEventListener("valueAdjusting",this._handleTextBoxValueChange.bind(this))},_handleDropDownClick:function(a){this.dispatchEvent("editingStarted",this,{})},_handleColorDropDownValueChange:function(a){var b=null,b=this._isNone(a.newColorValue)?this.COLOR_NONE:this._isAuto(a.newColorValue)?this.COLOR_AUTO:this._isFlat(a.newColorValue)?this.COLOR_FLAT:this._isInterp(a.newColorValue)?
this.COLOR_INTERP:this._isTextureMap(a.newColorValue)?this.COLOR_TEXTUREMAP:(new d(a.newColorValue)).toCss();this._colorsEqual(this._value,b)||(this._colorChanged(b),this._colorTextBox.setValue(this._value))},_reDispatchEvent:function(a){this.dispatchEvent(a.type,this,a.data)},_handleTextBoxValueChange:function(a){var b=null,b=this._isNone(a.data.newValue)?this.COLOR_NONE:this._isAuto(a.data.newValue)?this.COLOR_AUTO:this._isFlat(a.data.newValue)?this.COLOR_FLAT:this._isInterp(a.data.newValue)?this.COLOR_INTERP:
this._isTextureMap(a.data.newValue)?this.COLOR_TEXTUREMAP:(new d(a.data.newValue)).toCss();this._colorsEqual(this._value,b)||(this._editing=!1,this._colorChanged(b),this._colorDropDown.set("color",b))},setValue:function(a,b,c){this._setUIValue(a,b,c)},getValue:function(){return this._getUIValue()},_setUIValue:function(a){var b=null;"string"===typeof a&&"3 double"===a.slice(-8)?(this._editValue=this._value=a,this._colorDropDown&&this._colorDropDown.set("color","rgb(245, 245, 245)"),this._colorTextBox&&
this._colorTextBox.setValue(a)):(this._isNone(a)?this._editValue=this._value=this.COLOR_NONE:this._isAuto(a)?this._editValue=this._value=this.COLOR_AUTO:this._isFlat(a)?this._editValue=this._value=this.COLOR_FLAT:this._isInterp(a)?this._editValue=this._value=this.COLOR_INTERP:this._isTextureMap(a)?this._editValue=this._value=this.COLOR_TEXTUREMAP:(b=new d(a),this._value=b.toCss(),this._editValue=b.toCss()),this._colorDropDown&&this._colorDropDown.set("color",this._value),this._colorTextBox&&this._colorTextBox.setValue(this._value))},
_getUIValue:function(){return this._value},_isNone:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_NONE},_isAuto:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_AUTO},_isFlat:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_FLAT},_isInterp:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_INTERP},_isTextureMap:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_TEXTUREMAP},_colorChanged:function(a){this._commitNewValue(a);
this._editValue=this._value=a},setState:function(a){this.inherited(arguments);void 0!==a.isMetaData&&(this._colorTextBox&&this._colorTextBox._inputBox&&this._colorTextBox._inputBox._state)&&(this._colorTextBox._inputBox._state.isMetaData=l.getLogicalValue(a.isMetaData,!1))},_commitNewValue:function(a){var b=this._value;this.stopEditing();this.dispatchEvent("valueChanged",this,{editor:this,oldValue:b,newValue:a})},_setReadOnly:function(){}});k.CSS_SELECTOR="colorEditorWithTextBox";return k})},"variableeditor/views/editors/ColorDropDownEditor":function(){define("dojo/_base/declare dojo/query dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/dom-class dojo/_base/Color dojo/on dojo/_base/lang ./ColorEditor mw-form/DropDownButton dijit/TooltipDialog dojo/text!variableeditor/views/editors/templates/ColorDropDownEditor.html dijit/_WidgetBase dijit/_TemplatedMixin MW/toolstrip/widgets/_WidgetMixin dijit/_WidgetsInTemplateMixin dijit/_base/focus dojo/dom".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w){return k([s,r,t,q],{color:"#FF0000",templateString:n,showColorStyles:!1,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(){this._colorEditor=this._dropDownButtonNode=null;this.color=arguments[0].color;this.colorStyleOptions=arguments[0].colorStyleOptions;this.inherited(arguments)},destroy:function(){this.inherited(arguments)},_setColorAttr:function(a){a!==
this.COLOR_AUTO&&(a!==this.COLOR_NONE&&a!==this.COLOR_FLAT&&a!==this.COLOR_INTERP&&a!==this.COLOR_TEXTUREMAP)&&(a=(new f(a)).toHex());a!==this.get("color")&&(this._set("color",a),this._updateDropDownColor(this.get("color")),this._colorEditor&&this._colorEditor.set("value",a,!1))},_setShowColorStylesAttr:function(a){a&&this._colorEditor&&this._colorEditor.set("showColorStyles",!0)},buildRendering:function(){this.inherited(arguments);this._dropDownButtonNode=new g({hasDynamicMenu:!0});this.own(this._dropDownButtonNode);
this._colorSwatchInButton=this._dropDownButtonNode.iconNode;a.add(this._dropDownButtonNode.domNode,"colorDropDownEditor-dropDownButton");this._updateDropDownColor(this.get("color"));this._dropDownButtonNode.placeAt(this.domNode);this._updateDropDownColor(this.color)},postCreate:function(){this.inherited(arguments);this._dropDownButtonNode.on("dropdownclick",this._handleDropDownClick.bind(this))},startup:function(){this.inherited(arguments);this._dropDownButtonNode.startup()},_handleDropDownClick:function(b){this._colorEditor||
(this._colorEditor=new h({showColorStyles:this.showColorStyles,value:this.color,colorStyleOptions:this.colorStyleOptions}),this.own(this._colorEditor),this._tooltipDialogWithColorPicker=this._createTooltipDialogWithColorPicker(this._colorEditor),this._dropDownButtonNode.set("menu",this._tooltipDialogWithColorPicker),this._dropDownButtonNode.set("_menuOrientation","below below-alt above above-alt after before above-centered below-centered before-centered after-centered".split(" ")),this.own(this._tooltipDialogWithColorPicker),
this._tooltipDialogWithColorPicker.startup(),this._colorEditor.startup(),this._colorEditor.on("update-color",this._handleUpdateColor.bind(this)));this._colorEditor.forceSetValue(this.color);this._dropDownButtonNode.showMenu();this.defer(function(){this._tooltipDialogWithColorPicker.domNode.focus()}.bind(this));d(".colorEditor").forEach(function(b){a.remove(b,"colorDropDownEditor-dropDownButton-opened")});a.add(this._colorEditor.domNode,"colorDropDownEditor-dropDownButton-opened");this.emit("dropdownclick")},
_handleUpdateColor:function(a){a.newColorValue===this.COLOR_NONE?(this._updateDropDownColor(this.COLOR_NONE),this._set("color",this.COLOR_NONE)):a.newColorValue===this.COLOR_AUTO?(this._updateDropDownColor(this.COLOR_AUTO),this._set("color",this.COLOR_AUTO)):a.newColorValue===this.COLOR_FLAT?(this._updateDropDownColor(this.COLOR_FLAT),this._set("color",this.COLOR_FLAT)):a.newColorValue===this.COLOR_INTERP?(this._updateDropDownColor(this.COLOR_INTERP),this._set("color",this.COLOR_INTERP)):a.newColorValue===
this.COLOR_TEXTUREMAP?(this._updateDropDownColor(this.COLOR_TEXTUREMAP),this._set("color",this.COLOR_TEXTUREMAP)):(this._updateDropDownColor(a.newColorValue),this._set("color",a.newColorValue));this.emit("color-changed",a)},_updateDropDownColor:function(c){c&&(a.remove(this._colorSwatchInButton,"mwColorPickerNoneColorSwatch"),a.remove(this._colorSwatchInButton,"mwColorPickerAutoColorSwatch"),a.remove(this._colorSwatchInButton,"mwColorPickerFlatColorSwatch"),a.remove(this._colorSwatchInButton,"mwColorPickerInterpColorSwatch"),
a.remove(this._colorSwatchInButton,"mwColorPickerTextureMapColorSwatch"),c===this.COLOR_NONE?a.add(this._colorSwatchInButton,"mwColorPickerNoneColorSwatch"):c===this.COLOR_AUTO?a.add(this._colorSwatchInButton,"mwColorPickerAutoColorSwatch"):c===this.COLOR_FLAT?a.add(this._colorSwatchInButton,"mwColorPickerFlatColorSwatch"):c===this.COLOR_INTERP?a.add(this._colorSwatchInButton,"mwColorPickerInterpColorSwatch"):c===this.COLOR_TEXTUREMAP?a.add(this._colorSwatchInButton,"mwColorPickerTextureMapColorSwatch"):
b.set(this._colorSwatchInButton,"backgroundColor",c))},_createTooltipDialogWithColorPicker:function(a){return new p({content:a,"class":"ColorEditorTooltipDialog"})}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p,n){return k("dijit.TooltipDialog",[l,g,h,
m],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:p,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"keydown",b.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];d.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();f.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,
a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==c.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==
c.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(f.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(f.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}})})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),
function(k,d,e,c,b,a,f,l){a.focus=function(c){if(c){var d="node"in c?c.node:c,g=c.bookmark;c=c.openedForWindow;var f=g?g.isCollapsed:!1;if(d){var e="iframe"==d.tagName.toLowerCase()?d.contentWindow:d;if(e&&e.focus)try{e.focus()}catch(k){}a._onFocusNode(d)}if(g&&b.withGlobal(c||b.global,l.isCollapsed)&&!f){c&&c.focus();try{b.withGlobal(c||b.global,l.moveToBookmark,null,[g])}catch(r){}}}};a.watch("curNode",function(a,b,d){l._curFocus=d;l._prevFocus=b;d&&c.publish("focusNode",d)});a.watch("activeStack",
function(a,b,c){l._activeStack=c});a.on("widget-blur",function(a,b){c.publish("widgetBlur",a,b)});a.on("widget-focus",function(a,b){c.publish("widgetFocus",a,b)});e.mixin(l,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return l.getBookmark().isCollapsed},getBookmark:function(){return(b.global==window?f:new f.SelectionManager(b.global)).getBookmark()},moveToBookmark:function(a){return(b.global==window?f:new f.SelectionManager(b.global)).moveToBookmark(a)},getFocus:function(c,f){var g=!a.curNode||
c&&d.isDescendant(a.curNode,c.domNode)?l._prevFocus:a.curNode;return{node:g,bookmark:g&&g==a.curNode&&b.withGlobal(f||b.global,l.getBookmark),openedForWindow:f}},_activeStack:[],registerIframe:function(b){return a.registerIframe(b)},unregisterIframe:function(a){a&&a.remove()},registerWin:function(b,c){return a.registerWin(b,c)},unregisterWin:function(a){a&&a.remove()}});return l})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
function(k,d,e,c,b,a){var f=function(f){var h=f.document;this.getType=function(){if(h.getSelection){var a="text",b;try{b=f.getSelection()}catch(c){}b&&1==b.rangeCount&&(b=b.getRangeAt(0),b.startContainer==b.endContainer&&(1==b.endOffset-b.startOffset&&3!=b.startContainer.nodeType)&&(a="control"));return a}return h.selection.type.toLowerCase()};this.getSelectedText=function(){if(h.getSelection){var a=f.getSelection();return a?a.toString():""}return"control"==this.getType()?null:h.selection.createRange().text};
this.getSelectedHtml=function(){if(h.getSelection){var a=f.getSelection();if(a&&a.rangeCount){var b,c="";for(b=0;b<a.rangeCount;b++){var d=a.getRangeAt(b).cloneContents(),e=h.createElement("div");e.appendChild(d);c+=e.innerHTML}return c}return null}return"control"==this.getType()?null:h.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(h.getSelection){var a=f.getSelection();return a.anchorNode.childNodes[a.anchorOffset]}if((a=h.selection.createRange())&&
a.item)return h.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(h.getSelection){if(a=h.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=h.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var b=
this.getSelectedElement()||this.getParentElement();return this.getParentOfType(b,arguments)};this.isTag=function(a,b){if(a&&a.tagName)for(var c=a.tagName.toLowerCase(),d=0;d<b.length;d++){var f=String(b[d]).toLowerCase();if(c==f)return f}return""};this.getParentOfType=function(a,b){for(;a;){if(this.isTag(a,b).length)return a;a=a.parentNode}return null};this.collapse=function(a){if(h.getSelection){var b=f.getSelection();b.removeAllRanges?a?b.collapseToStart():b.collapseToEnd():b.collapse(a)}else b=
h.selection.createRange(),b.collapse(a),b.select()};this.remove=function(){var a=h.selection;h.getSelection?(a=f.getSelection(),a.deleteFromDocument()):"none"!=a.type.toLowerCase()&&a.clear();return a};this.selectElementChildren=function(a,b){var e;a=d.byId(a);if(h.getSelection){var l=f.getSelection();c("opera")?(e=l.rangeCount?l.getRangeAt(0):h.createRange(),e.setStart(a,0),e.setEnd(a,3==a.nodeType?a.length:a.childNodes.length),l.addRange(e)):l.selectAllChildren(a)}else if(e=a.ownerDocument.body.createTextRange(),
e.moveToElementText(a),!b)try{e.select()}catch(k){}};this.selectElement=function(a,f){var e;a=d.byId(a);if(h.getSelection){var l=h.getSelection();e=h.createRange();l.removeAllRanges&&(c("opera")&&l.getRangeAt(0)&&(e=l.getRangeAt(0)),e.selectNode(a),l.removeAllRanges(),l.addRange(e))}else try{l=a.tagName?a.tagName.toLowerCase():"",e="img"===l||"table"===l?b.body(h).createControlRange():b.body(h).createRange(),e.addElement(a),f||e.select()}catch(m){this.selectElementChildren(a,f)}};this.inSelection=
function(a){if(a){var b,c;if(h.getSelection){var d=f.getSelection();d&&0<d.rangeCount&&(c=d.getRangeAt(0));if(c&&c.compareBoundaryPoints&&h.createRange)try{if(b=h.createRange(),b.setStart(a,0),1===c.compareBoundaryPoints(c.START_TO_END,b))return!0}catch(e){}}else{c=h.selection.createRange();try{b=a.ownerDocument.body.createTextRange(),b.moveToElementText(a)}catch(l){}if(c&&b&&1===c.compareEndPoints("EndToStart",b))return!0}}return!1};this.getBookmark=function(){var b,c,d=h.selection,e=a.curNode;if(h.getSelection){if(d=
f.getSelection())if(d.isCollapsed){if(b=e?e.tagName:"")if(b=b.toLowerCase(),"textarea"==b||"input"==b&&(!e.type||"text"==e.type.toLowerCase()))return d={start:e.selectionStart,end:e.selectionEnd,node:e,pRange:!0},{isCollapsed:d.end<=d.start,mark:d};b={isCollapsed:!0};d.rangeCount&&(b.mark=d.getRangeAt(0).cloneRange())}else c=d.getRangeAt(0),b={isCollapsed:!1,mark:c.cloneRange()}}else if(d){b=e?e.tagName:"";b=b.toLowerCase();if(e&&b&&("button"==b||"textarea"==b||"input"==b)){if(d.type&&"none"==d.type.toLowerCase())return{isCollapsed:!0,
mark:null};c=d.createRange();return{isCollapsed:c.text&&c.text.length?!1:!0,mark:{range:c,pRange:!0}}}b={};try{c=d.createRange(),b.isCollapsed=!("Text"==d.type?c.htmlText.length:c.length)}catch(l){return b.isCollapsed=!0,b}if("CONTROL"==d.type.toUpperCase())if(c.length){b.mark=[];d=0;for(e=c.length;d<e;)b.mark.push(c.item(d++))}else b.isCollapsed=!0,b.mark=null;else b.mark=c.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return b};this.moveToBookmark=
function(a){if(a=a.mark)if(h.getSelection){var b=f.getSelection();b&&b.removeAllRanges?a.pRange?(b=a.node,b.selectionStart=a.start,b.selectionEnd=a.end):(b.removeAllRanges(),b.addRange(a)):console.warn("No idea how to restore selection for this browser!")}else if(h.selection&&a){var c;a.pRange?c=a.range:e.isArray(a)?(c=h.body.createControlRange(),k.forEach(a,function(a){c.addElement(a)})):(c=h.body.createTextRange(),c.moveToBookmark(a));c.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},
l=new f(window);l.SelectionManager=f;return l})},"variableeditor/views/editors/ColorOrderEditor":function(){define("variableeditor/views/editors/ColorOrderEditor","dojo/_base/declare dojo/_base/lang dijit/registry dojo/_base/Color dojo/dom-style dojo/parser dojo/dom-construct dojo/dom-class dojo/keys dojo/on dojo/dnd/Source dojo/dnd/Manager dijit/focus dojo/topic dojo/window dojo/sniff mw-dialog-utils/DialogUtils variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils variableeditor/views/editors/RGBColorEditor variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/renderers/ColorOrderRenderer variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/editors/templates/ColorOrderEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x,z,y,B,C,A){k=k("variableeditor.views.editors.ColorOrderEditor",[w,v,B],{AddNewLabel:A.colorOrderEditorAddNew,_colorOrderRenderer:void 0,_valueChanged:!1,_colorChangeListeners:{},_dndSource:void 0,_avatarMap:{},_inputValueType:"string",_rangeZeroToOne:!0,constructor:function(b){this.templateString=C;this.AddNewLabel=A.colorOrderEditorAddNew;this._colorOrderRenderer=void 0;this._colorChangeListeners={};this._dndSource=void 0;this._avatarMap={};this._rangeZeroToOne=
b?this._getPossibleBooleanFunctionValue(b.rangeZeroToOne,!0):!0;a.parse();b&&(this._allArgs=b,this.init(b));this._colorChangeListeners={};this._colorChangeListeners.documentClickListener=h.pausable(document,"mouseup",d.hitch(this,"_handleColorBlur"));this.colorEditorsCreated=!1},postCreate:function(){this._createColorOrderRenderer();this._createAddNewColorButton();this._value&&this._setUIValue(this._value,!0);q("mac")&&this.addCSSClasses("macScrollBarWidth");this.inherited(arguments)},setValue:function(a){this._inputValueType=
"string"===typeof a||a instanceof String?"string":"array";this._setUIValue(a);this.inherited(arguments)},edit:function(){this.inherited(arguments);this._updateColorList(this._value);var a=this._getAttachNode("colorAddButton");a&&n.focus(a)},stopEditing:function(){var a=this._getColorWidgets();a&&a.forEach&&a.forEach(function(a){a.stopEditing&&a.stopEditing()});this._changeObjectListenersState(this._colorChangeListeners,"pause");this.inherited(arguments)},cancelEditing:function(){this._setUIValue(this._originalValue,
!0);this._valueChanged=!1;this.inherited(arguments)},_handleBlurEvent:function(){},_handleColorBlur:function(a){if(!a.target.classList.contains("mwColorPaletteSwatch")&&!a.target.classList.contains("dijitTooltipConnector")){var b=dijit.registry.getEnclosingWidget(a.target);if(!(b&&0<=b.class.indexOf("mwColor"))){try{for(var c=this._getColorWidgets(),b=0;b<c.length;b+=1){var d=c[b];if(d._colorDropDown&&d._colorDropDown._tooltipDialogWithColorPicker&&d._colorDropDown._tooltipDialogWithColorPicker.domNode&&
d._colorDropDown._tooltipDialogWithColorPicker.domNode.contains(a.target))return}}catch(g){}this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._editing&&a&&a.target&&this.domNode&&!this.domNode.contains(a.target)&&a.target!==this._renderer.domNode)&&(this._valueChanged?this.stopEditing():this.cancelEditing())}}},_changeListenerState:function(a){if(a&&"string"===typeof a){this.inherited(arguments);this._changeObjectListenersState(this._colorChangeListeners,a);var b=this._getColorWidgets();
b&&b.forEach&&b.forEach(function(b){b._changeListenerState(a)})}},_createAddNewColorButton:function(){var a=this._getAttachNode("colorAddButton");a&&(h(a,"click",d.hitch(this,"_addNewColor",v.WHITE.toRgba())),h(a,"keydown",d.hitch(this,"_handleKeyboardEvent")),this.focusNode=a)},_createColorOrderRenderer:function(){if(!this._colorOrderRenderer){this._colorOrderRenderer=new y(this._allArgs);this._colorOrderRenderer.setValue(this._value);this._colorOrderRenderer.startup();var a=this;this._colorOrderRenderer.addEventListener("click",
function(){a.stopEditing()});this._colorOrderRenderer.addEventListener("keydown",function(b){a._handleKeyDown(b.data)});var b=this._getAttachNode("colorOrderRendererDiv");f.place(this._colorOrderRenderer.domNode,b,"last")}},_updateColorOrderRenderer:function(){var a=this._getCommitValue();this._colorOrderRenderer&&this._colorOrderRenderer.setValue(a);this._renderer&&this._renderer.setValue(a)},_addNewColor:function(a){a||(a=v.WHITE.toRgba());a=this._createColorListItem(a);this._dndSource.insertNodes(!1,
[a]);this._valueChanged=!0;r.scrollIntoView(a);this._updateColorOrderRenderer()},_getColorWidgets:function(){var a=[];if(this.domNode){var b=this._getAttachNode("colorList");if(b&&(b=b.getElementsByClassName(x.CSS_SELECTOR))&&b.length)for(var c=0;c<b.length;c+=1){var d=e.getEnclosingWidget(b[c]);d&&a.push(d)}}return a},_getCommitValue:function(){var a="",b=this,a=this._getColorWidgets();"string"===this._inputValueType?(a=a.map(function(a){a=a._getUIValue();a=new c(a);var d=b._rangeZeroToOne?255:1;
return[a.r/d,a.g/d,a.b/d].join(" ")}).join(";"),a="["+a+"]"):a=a.map(function(a){a=a._getUIValue();a=new c(a);var d=b._rangeZeroToOne?255:1;return[a.r/d,a.g/d,a.b/d]});return a},_createColorList:function(a){if(this.domNode&&a&&this.isEditing()){var b=this._getAttachNode("colorListDiv"),c=this._getAttachNode("colorList");b.removeChild(c);this._destroyColorWidgets();f.empty(c);a=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne);for(var d=[],g=0;g<a.length;g+=1){var e=this._createColorListItem(a[g]);
d.push(e)}this._createDragAndDropSource(c,d);f.place(c,b,"last")}},_updateColorList:function(a){if(this.domNode&&a&&this.isEditing())if(!1===this.colorEditorsCreated)this._createColorList(this._value),this.colorEditorsCreated=!0;else{a=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne);for(var b=this._getColorWidgets(),c=0;c<b;c++)b[c].setValue(a[c])}},_createColorEditor:function(a){a=new x({value:a,editable:!0,state:this.getState(),rangeZeroToOne:this._rangeZeroToOne});a.startup();
var b=this;a.addEventListener("editingCanceled",function(){b._updateColorOrderRenderer()});a.addEventListener("valueChanged",function(){b._valueChanged=!0;b._updateColorOrderRenderer()});return a},_createColorListItem:function(a){a=this._createColorEditor(a);var b=f.create("li",{dndtype:"colorListItem",type:["colorListItem"]});l.add(b,"dojoDndItem");l.add(b,"colorListItem");var c=this.getState();!0===u.getLogicalValue(c.DnDSupported,!0)&&(c=f.create("div",{innerHTML:"."}),l.add(c,"dojoDndHandle"),
l.add(c,"colorDragHandle"),f.place(c,b,"first"));f.place(a.domNode,b,"last");c=f.create("div",{innerHTML:"."});l.add(c,"colorDeleteDiv");h(c,"click",d.hitch(this,"_deleteColorListItem",b,a));f.place(c,b,"last");b.colorEditorWidget=a;return b},_createDragAndDropSource:function(a,b){var c=this,g=u.createSelectableDnDTarget(a,{accept:["colorListItem"],checkAcceptanceCallback:function(b){c._valueChanged=!0;return b.node===a}});g.autoSync=!0;g.allowNested=!0;g.isSource=!0;g.copyOnly=!1;g.withHandles=!0;
g.creator=d.hitch(this,"_createDnDAvatar");this._dndSource=g;var f=g.onMouseMove;g.onMouseMove=function(a){c._adjustAvatarMap(g);f.call(g,a)};s.subscribe("/dnd/start",d.hitch(c,"_handleDnDTopic","pause"));s.subscribe("/dnd/drop",d.hitch(c,"_handleDnDTopic","resume"));s.subscribe("/dnd/cancel",d.hitch(c,"_handleDnDTopic","resume"));var e=g.onDrop;g.onDrop=function(a,b,d){c._valueChanged=!0;e&&(a===g||a.node===g.node)&&e.call(g,g,b,d)};g.insertNodes(!1,b);g.startup()},_handleDnDTopic:function(a){this._changeListenerState(a);
this._updateColorOrderRenderer();n.focus(this.focusNode)},_deleteColorListItem:function(a,b,c){var d=this._getAttachNode("colorAddButton");d&&n.focus(d);1<this._getColorWidgets().length?(this._dndSource.delItem(a.id),b.destroy(),f.destroy(a),this._valueChanged=!0):t.displayModalDialog(A.colorOrderEditorAtLeastOne,A.errorTitle,[{name:"ok",buttonHandler:{handler:"dismiss"}}]);c.preventDefault();c.stopPropagation();this._updateColorOrderRenderer()},_adjustAvatarMap:function(a){if(a.map)for(var b in a.map)if(a.map.hasOwnProperty(b)){var c=
a.map[b];if(c&&c.data&&"string"===typeof c.data&&(c=a.node.querySelector("#"+b))&&c.data)a.map[b].data=c.data}},_resetDojoDnDAvatarOffset:function(){var a=p.manager();a.OFFSET_X=16;a.OFFSET_Y=16},_createDnDAvatar:function(a,b){var c=f.create("span");c.id=dojo.dnd.getUniqueId();c.itemIndex=parseInt(a.data);l.add(c,"dojoDndItem");l.add(c,"colorOrderEditor");l.add(c,"colorListItemAvatar");if("avatar"===b&&a){if(a){var d=new x;d.setValue(a.getValue());d.startup();f.place(d.domNode,c,"last")}}else return c=
this._dndSource.defaultCreator(a,b),this._avatarMap[c.data]=a.colorEditorWidget,c.node.data=a.colorEditorWidget,c.data=a.colorEditorWidget,c;this._resetDojoDnDAvatarOffset();return{node:c,data:a,type:["colorListItem"]}},_handleKeyboardEvent:function(a){if(this.isEditing()){"keydown"===a.type&&this._handleKeyDown(a);var b=a;b.editor=this;this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},_handleKeyDown:function(a){if(a){var b=this._getKeyCode(a);if(null!==
b&&b===m.ESCAPE){if(a.target)for(var b=this._getColorWidgets(),c=0;c<b.length;c+=1)if(b[c].domNode.contains(a.target)){b[c].cancelEditing();n.focus(this.focusNode);return}this.cancelEditing();a.stopPropagation();a.preventDefault()}}},_getUIValue:function(){return!this._valueChanged?this._originalValue:this._getCommitValue()},_setUIValue:function(a,b){if(JSON.stringify(a)!==JSON.stringify(this._value)||b)this._updateColorList(a),this._colorOrderRenderer&&this._colorOrderRenderer.setValue(a),this._renderer&&
this._renderer.setValue(a)},_setReadOnly:function(a){var b=this._getColorWidgets();b&&b.forEach&&b.forEach(function(b){b._setReadOnly&&b._setReadOnly(a)})},destroy:function(){this._destroyColorWidgets();this.inherited(arguments)},_destroyColorWidgets:function(){var a=this._getColorWidgets();if(a)for(var b=0;b<a.length;b+=1)a[b].destroy()}});k.COLOR_LIST_DIV_ATTACH_POINT="colorListDiv";k.COLOR_LIST_ATTACH_POINT="colorList";k.COLOR_LIST_ADD_NEW_ATTACH_POINT="colorAddButton";k.COLOR_ORDER_RENDERER_DIV=
"colorOrderRendererDiv";return k})},"variableeditor/views/editors/DatetimeEditor":function(){define("variableeditor/views/editors/DatetimeEditor",["dojo/_base/declare","dojo/_base/lang","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(k,d,e,c){return k("variableeditor.views.editors.DatetimeEditor",[c],{_handleKeyDown:function(b){var a=this._getKeyCode(b);b&&(null!==a&&a===e.TAB)&&(this._handleTabKey(b.shiftKey),b.preventDefault());this.inherited(arguments)},_handleTabKey:function(b){b?
this.goToPreviousField():this.goToNextField()},goToNextField:function(){var b=this._getUIValue();if(b&&"NaT"!==b){var a=this._getNextFieldIndices(b,this._inputBox.inputNode.selectionEnd);this._inputBox.inputNode.selectionStart=a[0];this._inputBox.inputNode.selectionEnd=a[1]}return a},_getNextFieldIndices:function(b,a){var c=b.substring(a,b.length),c=c.match(/[^a-z0-9]+/i),d=-1,e=1;null!==c&&(d=a+c.index,e=c[0].length);var c=b.substring(d+e,b.length),c=c.match(/[^a-z0-9]+/i),h=b.length;null!==c&&(h=
d+e+c.index);return[d+e,h]},goToPreviousField:function(){var b=this._getUIValue();if(b&&"NaT"!==b){var a=this._getPreviousFieldIndices(b,this._inputBox.inputNode.selectionStart);this._inputBox.inputNode.selectionStart=selectionStart;this._inputBox.inputNode.selectionEnd=selectionEnd}return a},_getPreviousFieldIndices:function(b,a){var c=this._reverse(b.substr(0,a)),c=c.match(/[^a-z0-9]+/i),d=b.length,e=1;null!==c&&(d=a-1-c.index,e=c[0].length);var c=this._reverse(b.substring(0,d-e+1)),c=c.match(/[^a-z0-9]+/i),
h=-1;null!==c&&(h=d-e-c.index);selectionStart=h+1;selectionEnd=d-e+1;return[selectionStart,selectionEnd]},_reverse:function(b){for(var a="",c=b.length-1;0<=c;c-=1)a+=b[c];return a},_getUIValue:function(){var b=this._inputBox.inputNode.value;if(void 0===b||null===b||""===b)b="NaT";return b},_setUIValue:function(b){if(void 0===b||null===b||""===b)b="NaT";this._inputBox.set("value",b)}})})},"variableeditor/views/editors/DisplayFormatTextBoxEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],
function(k,d){return k([d],{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-tag","datatools.variableeditor.views.editors.DisplayFormatTextBoxEditor")},_setupInputNode:function(){this.inherited(arguments);this._inputBox.set("spellcheck",!1)},setState:function(d){d&&(d.isMetaData=!1);this.inherited(arguments)}})})},"variableeditor/views/editors/FilePickerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/aspect dijit/focus variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/renderers/_TemplateMixin variableeditor/views/editors/TextBoxEditor mw-form/ToggleButton mw-overlay-utils/BusyOverlay dojo/text!./templates/FilePickerEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){return k([l,m],{templateString:n,_textBox:void 0,_browseButton:void 0,_busyIndicator:void 0,_filterSpec:"*",_isBrowsing:!1,_doubleClickDuration:0,postCreate:function(){this.inherited(arguments);this._createTextBox();this._createBrowseButton();this._createBusyIndicator();this._addListenersToComponents()},_createTextBox:function(){this._textBox=new h(f.mergeObjects(this._allArgs,{inPlaceEditor:void 0,state:{isMetaData:!1},spellcheck:!1}));this._textBox.placeAt(this.domNode).startup();
b.after(this._textBox,"stopEditing",function(){a.curNode===this._textBox.focusNode&&a.curNode.blur()}.bind(this));this._setUIValue(this._value)},_createBrowseButton:function(){this._browseButton=new g({text:s.filePickerEditorBrowse,icon:"fileIcon",disabled:!this.isEditable()});this._browseButton.placeAt(this.domNode).startup()},_createBusyIndicator:function(){this.ownerDocumentBody?(this._busyIndicator=new p(p.SIZE.SMALL),this._busyIndicator.set("target",this.ownerDocumentBody)):setTimeout(d.hitch(this,
"_createBusyIndicator"),100)},_addListenersToComponents:function(){this._textBox.addEventListener("valueChanged",d.hitch(this,"_handleTextBoxValueChanged"));this._browseButton.on("mousedown, click",d.hitch(this,"_handleBrowseButtonClick"))},_handleTextBoxValueChanged:function(){setTimeout(function(){var a=this._getUIValue();!this._isBrowsing&&this._value!==a&&!this._isBrowse(a)?this.setValue(a):this._setUIValue(this._value)}.bind(this))},_handleBrowseButtonClick:function(a){a.preventDefault();this._isBrowsing||
(this._setUIValue(this._value),this._setBrowsing(!0),this.setValue(this._getBrowse()))},setValue:function(a){var b=this._isBrowsing&&/ $/.test(a),c=this._isBrowse(a);(b||!c)&&this._setBrowsing(!1);a=(a||"").trim();this.inherited(arguments);this._setUIValue(a)},setState:function(a){this.domNode&&(a&&(this._filterSpec=a.filterSpec||"*"),this.inherited(arguments))},setEditable:function(a){this.inherited(arguments);var b=this.isEditable();this._textBox&&this._textBox.setEditable(b);this._browseButton&&
this._browseButton.set("disabled",!b)},_getUIValue:function(){return(this._textBox?this._textBox._getUIValue():this._value).trim()},_setUIValue:function(a){a=(a||"").trim();!this._isBrowse(a)&&this._textBox&&(this._textBox.stopEditing(),this._textBox.setValue(a),this._textBox.setEditValue(a))},_setBrowsing:function(b){this._browseButton&&(this._browseButton.set("checked",b),this[b?"addCSSClasses":"removeCSSClasses"]("open",this._browseButton.domNode),a.curNode&&a.focus(b?this._browseButton.domNode:
this._textBox.domNode));this._isBrowsing=b},_getBrowse:function(){return"?"+this._filterSpec},_isBrowse:function(a){return a&&"?"===a[0]}})})},"mw-overlay-utils/BusyOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/query dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin spinner/spin mw-log/Log dojo/text!./templates/busyOverlayTemplate.html".split(" "),function(k,d,e,c,b,a,f,l,m,
h,g,p,n,s,r,q){var t={rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9,top:"50%",left:"50%"},u={lines:11,length:8,width:4,radius:12,corners:0.5,className:"spinner spinnerLarge"},w={lines:11,length:5,width:3,radius:8,corners:1,className:"spinner spinnerMedium"},v={lines:11,length:4,width:2,radius:6,corners:1,className:"spinner spinnerSmall"},x={lines:9,length:2,width:2,radius:4,corners:0,className:"spinner spinnerXSmall"};d.mixin(u,t);d.mixin(w,t);d.mixin(v,t);d.mixin(x,
t);k=k("MW.utils.BusyOverlay",[p,n],{_displayed:!1,_started:!1,_spinner:null,_size:null,target:null,_text:"",_textSpan:null,_spinnerTextNode:null,templateString:q,constructor:function(a){this._textSpan=l.create("span");this._spinnerTextNode=l.create("div");Object.defineProperty(this,"text",{set:function(a){this._text=a;this._text&&"string"===typeof this._text||(this._text="");this._textSpan.textContent=this._text;this._started&&this._updateTitle()},get:function(){return this._text},enumerable:!0,
configurable:!0});this._setSpinnerSize(a);f.add(this._spinnerTextNode,"spinnerText");a&&a.text&&this.set("text",a.text)},_setSpinnerSize:function(a){try{if(null===a||void 0===a||a.text&&!a.size)this._size=d.clone(u);else if("object"===typeof a)this._size=a.size?d.clone(a.size):d.clone(a);else throw Error("Incorrect argument passed to BusyOverlay Object.");}catch(b){r.error(b.message)}},_updateTitle:function(){f.remove(this._textSpan,"spinnerCenter");this._textSpan.offsetWidth>=this._spinnerTextNode.offsetWidth?
b.set(this._spinnerTextNode,"title",this._text):b.set(this._spinnerTextNode,"title","");f.add(this._textSpan,"spinnerCenter")},_updateTextStyle:function(){var a=m.position(this._underlayNode).h/2+2*this._size.radius+15+"px";c.set(this._spinnerTextNode,"top",a)},startup:function(){if(!this._started){this._spinner=new s(this._size);if(this.target){if("string"===typeof this.target){var a=g.byId(this.target);this.target=a?a.domNode:e.byId(this.target)}l.place(this.domNode,this.target);l.place(this._textSpan,
this._spinnerTextNode);l.place(this._spinnerTextNode,this._busyOverlayNode)}this._text&&(this._updateTitle(),this.own(h(window,"resize",this._updateTextStyle.bind(this))));this._started=!0;this.inherited(arguments)}},postCreate:function(){this._underlayNode.style.zIndex=2E9-1;this.inherited(arguments)},show:function(){this._displayed||(this._started||this.startup(),this._displayed=!0,this._busyOverlayNode.style.display="inline",this._busyOverlayNode.className="mw-busyIndicator",this._updateTextStyle(),
c.set(this._spinnerTextNode,"display","block"),this._spinner.spin(this._spinnerNode),this.onShow())},hide:function(){this._displayed&&(this._displayed=!1,this._busyOverlayNode.style.display="none",this._spinner.stop(),this._spinnerTextNode.style.display="none",this.onHide())},uninitialize:function(){this.hide();this._spinner=this.target=null;this._displayed=!1;a(".spinnerText").forEach(l.destroy);this._spinnerTextNode=this._textSpan=null;this.inherited(arguments)},isVisible:function(){return this._displayed},
onShow:function(){},onHide:function(){this.inherited(arguments)}});k.SIZE={LARGE:u,MEDIUM:w,SMALL:v,XSMALL:x};Object.freeze(k.SIZE);Object.freeze(k.SIZE.LARGE);Object.freeze(k.SIZE.MEDIUM);Object.freeze(k.SIZE.SMALL);Object.freeze(k.SIZE.XSMALL);return k})},"spinner/spin":function(){define([],function(){function k(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function d(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function e(a,b,c,d){var f=
["opacity",b,~~(100*a),c,d].join("-");c=0.01+100*(c/d);d=Math.max(1-(1-a)/b*(100-c),a);var e=g.substring(0,g.indexOf("Animation")).toLowerCase();h[f]||(p.insertRule("@"+(e&&"-"+e+"-"||"")+"keyframes "+f+"{0%{opacity:"+d+"}"+c+"%{opacity:"+a+"}"+(c+0.01)+"%{opacity:1}"+(c+b)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",p.cssRules.length),h[f]=1);return f}function c(a,b){var c=a.style,d,g;b=b.charAt(0).toUpperCase()+b.slice(1);for(g=0;g<m.length;g++)if(d=m[g]+b,void 0!==c[d])return d;if(void 0!==c[b])return b}
function b(a,b){for(var d in b)a.style[c(a,d)||d]=b[d];return a}function a(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)void 0===a[d]&&(a[d]=c[d])}return a}function f(b){this.opts=a(b||{},f.defaults,n)}function l(){function a(b,c){return k("\x3c"+b+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"spin-vml"\x3e',c)}p.addRule(".spin-vml","behavior:url(#default#VML)");f.prototype.lines=function(c,g){function f(){return b(a("group",{coordsize:l+" "+l,coordorigin:-h+" "+-h}),
{width:l,height:l})}function e(c,l,m){d(k,d(b(f(),{rotation:360/g.lines*c+"deg",left:~~l}),d(b(a("roundrect",{arcsize:g.corners}),{width:h,height:g.width,left:g.radius,top:-g.width>>1,filter:m}),a("fill",{color:"string"==typeof g.color?g.color:g.color[c%g.color.length],opacity:g.opacity}),a("stroke",{opacity:0}))))}var h=g.length+g.width,l=2*h,m=2*-(g.width+g.length)+"px",k=b(f(),{position:"absolute",top:m,left:m});if(g.shadow)for(m=1;m<=g.lines;m++)e(m,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d2,makeshadow\x3d1,shadowopacity\x3d.3)");
for(m=1;m<=g.lines;m++)e(m);return d(c,k)};f.prototype.opacity=function(a,b,c,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&b+d<a.childNodes.length&&(a=(a=(a=a.childNodes[b+d])&&a.firstChild)&&a.firstChild))a.opacity=c}}var m=["webkit","Moz","ms","O"],h={},g,p=function(){var a=k("style",{type:"text/css"});d(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,
zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};f.defaults={};a(f.prototype,{spin:function(a){this.stop();var c=this,d=c.opts,f=c.el=b(k(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});b(f,{left:d.left,top:d.top});a&&a.insertBefore(f,a.firstChild||null);f.setAttribute("role","progressbar");c.lines(f,c.opts);if(!g){var e=0,h=(d.lines-1)*(1-d.direction)/2,l,m=d.fps,p=m/d.speed,n=(1-d.opacity)/(p*d.trail/100),s=p/d.lines;(function D(){e++;for(var a=
0;a<d.lines;a++)l=Math.max(1-(e+(d.lines-a)*s)%p*n,d.opacity),c.opacity(f,a*d.direction+h,l,d);c.timeout=c.el&&setTimeout(D,~~(1E3/m))})()}return c},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,c){function f(a,d){return b(k(),{position:"absolute",width:c.length+c.width+"px",height:c.width+"px",background:a,boxShadow:d,transformOrigin:"left",transform:"rotate("+~~(360/c.lines*h+c.rotate)+"deg) translate("+
c.radius+"px,0)",borderRadius:(c.corners*c.width>>1)+"px"})}for(var h=0,l=(c.lines-1)*(1-c.direction)/2,m;h<c.lines;h++)m=b(k(),{position:"absolute",top:1+~(c.width/2)+"px",transform:c.hwaccel?"translate3d(0,0,0)":"",opacity:c.opacity,animation:g&&e(c.opacity,c.trail,l+h*c.direction,c.lines)+" "+1/c.speed+"s linear infinite"}),c.shadow&&d(m,b(f("#000","0 0 4px #000"),{top:"2px"})),d(a,d(m,f("string"==typeof c.color?c.color:c.color[h%c.color.length],"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,
b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var s=b(k("group"),{behavior:"url(#default#VML)"});!c(s,"transform")&&s.adj?l():g=c(s,"animation");return f})},"variableeditor/views/editors/IconTextBoxEditor":function(){define("variableeditor/views/editors/IconTextBoxEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","variableeditor/views/editors/TextBoxEditor"],function(k,d,e,c){return k("variableeditor.views.editors.IconTextBoxEditor",[c],{_setupDomClasses:function(b){this._applyCssClass(b?
b.dataType?b.dataType:b["class"]:"char",b?b.isTemporaryValue:!1,!0,this.domNode);this.addCSSClasses("cellRenderer",this.domNode)}})})},"variableeditor/views/editors/OpenvarEditor":function(){define("variableeditor/views/editors/OpenvarEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","variableeditor/views/editors/_EditorBase","variableeditor/VariableEditorMain"],function(k,d,e,c,b){return k("variableeditor.views.editors.OpenvarEditor",[c],{edit:function(){var a=this.getState().editorValue,
b=this.getState().workspace;this._openVariable(a,b)},_openVariable:function(a,c){b.getInstance().openVariable(a,c,void 0)},_setReadOnly:function(){}})})},"variableeditor/VariableEditorMain":function(){define("variableeditor/VariableEditorMain","dojo/_base/declare dojo/_base/lang variableeditor/ClientPeerManagerFactory variableeditor/VariableEditorUtils variableeditor/VariableEditorDnD mw-log/Log dojo/on dojo/dom mw-messageservice/MessageService dojo/dom-class".split(" "),function(k,d,e,c,b,a,f,l,
m,h){var g=k("variableeditor.VariableEditorMain",[b],{layoutService:[],clientPeerManager:{},orig_updateDataStyles:null,orig_updateColumnStyles:null,currentVariables:[],dropZoneClass:"VEDropZone",constructor:function(a){this.layoutService=[];this.executionService=[];this.helpDataService=[];this.clientPeerManager={};this.orig_updateColumnStyles=this.orig_updateDataStyles=null;this.currentVariables=[];this.focusedDocument={};this.initArgs(a);a&&(this.clientPeerManager=e.createManager({messageService:a.messageService,
executionService:a.executionService,helpDataService:a.helpDataService,channel:"/VariableEditor",ignoreUpdates:!1,editable:!0}),this.init())},initArgs:function(a){a&&(this.layoutService=a.layoutService,this.executionService=a.executionService,this.helpDataService=a.helpDataService)},init:function(){var b=this;this.clientPeerManager.addEventListener("variableAdded",function(d){try{if(d.data.peerDoc){var g=d.data.peerDoc;b.addWidget(g);b.currentVariables.push(g.varName);c.logDebug("VE: Document Added");
if(c.isPerformance())var f=(new Date).getTime();g.addEventListener("viewAdded",function(d){try{c.logDebug("VE: View Added");var g=d.data.peerView;b._attachDndHandles(d.data.peerDoc);var e=function(a){c.logDebug("VE: View Ready");var b=a.data.peerView;b.table.startup&&b.table.startup();if(c.isPerformance()&&0!==a.data.peerView.table.dataModel._partialData.length){var d=JSON.parse(a.data.peerView.table.dataModel._partialData[0][0]),g=a.data.peerView.table.dataModel._rowCount,h=a.data.peerView.table.dataModel._columnCount;
d.isTemporaryValue||(d=(new Date).getTime()-f,m.publish("/VELogChannel",{eventType:"VELoadPerformance",dataType:a.data.peerView.declaredClass,loadTime:d,rows:g,columns:h}))}b.removeEventListener("viewReady",e,this)};g.addEventListener("viewReady",e)}catch(h){a.error(h)}});g.addEventListener("viewRemoved",function(b){try{c.logDebug("VE: View Removed")}catch(d){a.error(d)}})}}catch(e){a.error(e)}});this.clientPeerManager.addEventListener("variableRemoved",function(a){a.data.peerDoc&&(a=a.data.peerDoc,
b.removeWidget(a),b.currentVariables.pop(a.varName))});this.clientPeerManager.addEventListener("variableFocusGained",function(a){a.data.peerDoc&&(a=a.data.peerDoc,b.layoutService.showWidget(a.varDocID),this.focusedDocument=a)});this.clientPeerManager.addEventListener("variableFocusLost",function(a){this.focusedDocument={}})},_attachDndHandles:function(a){this.dragEnterListener=f(a,"dragenter",d.hitch(this,this._onDragEnter,a.domNode,this.dropZoneClass));this.dragOverListener=f(a,"dragover",d.hitch(this,
this._onDragOver));this.dragLeaveListener=f(a,"dragleave",d.hitch(this,this._onDragLeave,a.domNode,this.dropZoneClass));this.dropListener=f(a,"drop",d.hitch(this,this._onDrop,a.domNode,this.dropZoneClass))},_onDrop:function(a,b,c){var d=c.dataTransfer.getData("text/workspacebrowser").split(","),g=this.clientPeerManager;d.forEach(function(a){a&&g&&g.openVariable(a)});this.inherited(arguments)},openVariable:function(a,b,c){this.clientPeerManager&&this.clientPeerManager.openVariable&&this.clientPeerManager.openVariable(a,
b,c)},closeVariable:function(a){this.clientPeerManager.closeVariable(a)},closeAllVariables:function(){this.clientPeerManager.closeAllVariables()},start:function(){this.clientPeerManager.start()},stop:function(){this.clientPeerManager.stop()},addWidget:function(a){this.layoutService.addWidget(a.varDocID,"vEditor2",a,{title:a.varName,tooltip:a.varName,userContext:a.userContext});this.layoutService.showWidget(a.varDocID)},showWidget:function(a){this.layoutService.showWidget(a.varDocID)},removeWidget:function(a){this.layoutService.removeWidget(a.varDocID)},
getVariables:function(){return this.currentVariables}});g.getInstance=function(a){if(!g._instance)return g._instance=new g(a),g._instance;a&&g._instance.initArgs(a);return g._instance};return{getInstance:g.getInstance}})},"variableeditor/VariableEditorDnD":function(){define("variableeditor/VariableEditorDnD",["dojo/_base/declare","dojo/dom-geometry","dojo/dom-class","dojo/domReady!"],function(k,d,e){return k("variableeditor.VariableEditorDnD",[],{ValidDataFlavor:"text/workspacebrowser",ValidDropEffect:"copy",
InvalidDropEffect:"none",_onDragEnter:function(c,b,a){a.preventDefault();a.stopPropagation();this.isDropZone(c,a)&&this.isValidDropObject(a)&&e.add(c,b)},isDropZone:function(c,b){var a=!1,f=d.position(c,!0);f&&(b.pageX>f.x&&b.pageX<f.x+f.w&&b.pageY>f.y&&b.pageY+5<f.y+f.h)&&(a=!0);return a},isValidDropObject:function(c){if(c.dataTransfer){if(c.dataTransfer.types.indexOf)return-1<c.dataTransfer.types.indexOf(this.ValidDataFlavor);if(c.dataTransfer.types.contains)return c.dataTransfer.types.contains(this.ValidDataFlavor)}return!1},
_onDragOver:function(c){c.preventDefault();c.stopPropagation();this.isValidDropObject(c)?c.dataTransfer.dropEffect=this.ValidDropEffect:c.dataTransfer.dropEffect=this.InvalidDropEffect;return!1},_onDragLeave:function(c,b,a){a.preventDefault();a.stopPropagation();this.isDropZone(c,a)||e.remove(c,b)},_onDrop:function(c,b,a){a.preventDefault();a.stopPropagation();e.remove(c,b);return!1}})})},"variableeditor/views/renderers/GroupedColumnRenderer":function(){define("variableeditor/views/renderers/GroupedColumnRenderer",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dojo/on dojo/dom-construct dijit/registry variableeditor/VariableEditorUtils variableeditor/views/renderers/_RendererBase variableeditor/views/renderers/_VERendererMixin variableeditor/views/editors/_VEEditorConverterMixin mw-log/Log".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){return k("variableeditor.views.renderers.GroupedColumnRenderer",[m,h],{_renderers:void 0,_rendererCompleteCallback:void 0,_savedArgs:void 0,constructor:function(a){this.addEventListener("renderersConstructed",
d.hitch(this,this._onRenderersConstructed));this._renderers=[];if(a&&a.table&&a.table.ColumnModelProperties&&a.renderedObject&&a.renderedObject.col&&a.renderedObject.value){for(var b=a.renderedObject,c=parseInt(b.row),f=parseInt(b.col),e=a.table,l=JSON.parse(b.value),m=this,b=function(a){var b=a.declaredClass;a.isInstanceOf(h)||k.safeMixin(a,new h);a.isInstanceOf(g)||k.safeMixin(a,new g);a.declaredClass=b;a._setRendererProperties(l[p],e);a._setupEventListeners(m);m._styleRendererDomNodes(a,c,f,p,
l.length);m._renderers.push(a);parseInt(a.domNode.dataset.idx)===l.length-1&&m.dispatchEvent("renderersConstructed",m,{})},p=0;p<l.length;p+=1)d.mixin(l[p],{row:c,col:f,columnIndex:p}),this._createRendererObjectForGroup(l[p],"groupedcolumnrenderer",a,e,b);this._savedArgs=a}},_createRendererObjectForGroup:function(a,b,c,d,g){var f=null,e=this.getCellIndices(a),h=e.row,e=e.column;try{var l=d.getCellPropertyValue(h,e,b,a);if(l)require([l],function(a){f=new a(c);g&&"function"===typeof g&&g(f)});else return null}catch(m){p.error(m)}return f},
setState:function(a){this.domNode&&(this._setupDomClasses(a),this.inherited(arguments))},_onRenderersConstructed:function(){0<this._renderers.length&&(this._renderersConstructed=!0);this._addRenderersToDomNode()},_addRenderersToDomNode:function(){if(0<this._renderers.length)for(var a=0;a<this._renderers.length;a+=1)this.domNode&&this._renderers[a].domNode&&(this.domNode.appendChild(this._renderers[a].domNode),this._renderers[a].startup())},_setupDomClasses:function(){this.addCSSClasses(["groupedColumnRenderer"],
this.domNode)},_setRendererProperties:function(b,c,e){if(!b.isInvalidCache){var l=this.getCellIndices(b),m=l.row,p=l.column,l=l.columnIndex,w=JSON.parse(b.value);this.setColumnIndex&&this.setColumnIndex(l);this.setRow&&this.setRow(m);this.setColumn&&this.setColumn(p);this.getState&&(l=this.populateRendererState(m,p,b,c),this.setState(l));if(0<this._renderers.length){for(var v,x=0;x<w.length;x+=1){var z=this._renderers[x],l=void 0;v="";if(z&&(l=f.getEnclosingWidget(z.domNode)))v=l.declaredClass;var y=
c.getCellPropertyValue(m,p,"groupedcolumnrenderer",b),B=d.mixin({row:m,col:p,colIndex:x},w[x]);if(this.comparePathToDeclaredClass(y,v))this._renderers[x]._setRendererProperties(B,c,e);else{var C;z&&(C=z.domNode);var A=this;this._createRendererObjectForGroup(B,"groupedcolumnrenderer",this._savedArgs,c,function(b){var d=b.declaredClass;b.isInstanceOf(h)||k.safeMixin(b,new h);b.isInstanceOf(g)||k.safeMixin(b,new g);b.declaredClass=d;b._setRendererProperties(w[x],c,e);A._renderers[x]=b;C?a.place(b.domNode,
C,"replace"):A.domNode.appendChild(b.domNode);b.startup();A._styleRendererDomNodes(b,m,p,x,w.length)});l&&l.destroy()}}if(w.length<this._renderers.length){for(b=this._renderers.length-1;b>=w.length;b-=1)this.domNode.removeChild(this._renderers[b].domNode),this._renderers.splice(b);for(b=0;b<this._renderers.length;b+=1)this._styleRendererDomNodes(this._renderers[b],m,p,b,w.length)}}}},_styleRendererDomNodes:function(a,b,c,d,g){for(var f=100/g+"%",h=0;h<this._renderers.length;h+=1)e.set(this._renderers[h].domNode,
"width",f);d===g-1&&(f=100-(g-1)*(100/g)+"%");e.set(a.domNode,"width",f);e.set(a.domNode,"height","100%");a.domNode.setAttribute("data-row",b);a.domNode.setAttribute("data-col",c);a.domNode.setAttribute("data-idx",d);l.addToClassList(a.domNode,"row_"+b);l.addToClassList(a.domNode,"col_"+c);l.addToClassList(a.domNode,"idx_"+d);l.addToClassList(a.domNode,"variableEditorTableCell");0===d&&l.addToClassList(a.domNode,"firstCell");d===g-1?(l.addToClassList(a.domNode,"lastCell"),0<d&&l.removeFromClassList(this._renderers[d-
1].domNode,"lastCell")):0<d&&l.addToClassList(a.domNode,"middleCell");l.removeFromClassList(a.domNode,"cell")},getCellIndices:function(a){var b=-1,c=-1,d=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));a&&void 0!==a.columnIndex&&(d=parseInt(a.columnIndex));return{row:b,column:c,columnIndex:d}},postCreate:function(){this._renderersConstructed&&this._addRenderersToDomNode();this.inherited(arguments);this._removeListeners()},startup:function(){if(0<this._renderers.length)for(var a=
0;a<this._renderers.length;a+=1)this._renderers[a].startup&&this._renderers[a].startup()},onValueChanged:function(a){var b=null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);null!==b&&d.mixin(a.data,{index:this._renderers.indexOf(b)});this.dispatchEvent(a.type,this,a.data)},onEditingStarted:function(a){this.dispatchEvent(a.type,this,a.data)},onEditingStopped:function(a){this.dispatchEvent(a.type,this,a.data)},onMouseDown:function(a){d.mixin(a.data,{index:this._renderers.indexOf(a.data.renderer)});
this.dispatchEvent(a.type,this,a.data)},onMouseEnter:function(a){d.mixin(a.data,{index:this._renderers.indexOf(a.data.renderer)});this.dispatchEvent(a.type,this,a.data)},onMouseUp:function(a){this.dispatchEvent(a.type,this,a.data)},_setReadOnly:function(){},comparePathToDeclaredClass:function(a,b){var c=a.split("/"),d=b.split("."),g=!0;if(c.length===d.length)for(var f=0;f<c.length&&g;f+=1)g=c[f]===d[f];else g=!1;return g}})})},"inspector/app/Main":function(){define("dojo/_base/declare inspector/peer/InspectorMain inspector/editors/EditorManifest variableeditor/views/ViewManifest mw-messageservice/MessageService dojo/dom dojo/dom-construct".split(" "),
function(k,d,e,c,b,a,f){return k(null,{constructor:function(a){this.domNode=a},start:function(){var a=b.messageService;a.start();d.getInstance({messageService:a,domNode:this.domNode}).start()}})})},"inspector/peer/InspectorMain":function(){define("inspector/peer/InspectorMain","dojo/_base/declare dojo/_base/lang inspector/peer/InspectorFactory inspector/widget/InspectorWidget variableeditor/VariableEditorUtils dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dojo/window dojo/aspect mw-log/Log mw-messageservice/MessageService mw-peermodel/Observable dojo/i18n!inspector/app/l10n/nls/app mw-dialog-utils/DialogUtils mw-overlay-utils/BusyOverlay".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){var u=k("inspector.peer.InspectorMain",[s.Impl],{inspectorManager:{},variableListeners:[],domNode:void 0,dialog:void 0,_busyIndicator:void 0,_serverCloseInitiated:!1,constructor:function(a){b.logDebug("Inspector: Constructor");this.inspectorManager={};this.variableListeners=[];this.domNode=a?a.domNode:void 0;this.allArgs=a;this.init(a)},init:function(a){b.logDebug("Inspector: initialize arguments");this.inspectorManager=e.createInspector({messageService:a?
a.messageService:n.messageService,application:c.DEFAULT_INSPECTOR_APPLICATION,channel:"/PropertyInspector",editable:!0,cssSpecifier:"mw_type_Inspector",ignoreUpdates:!1,requestFocusOnStart:!0,dataTagRoot:"mw.datatools.inspector"});this.inspectorManager.destroyRecursive=function(){};this.inspectorManager.destroy=function(){};this._addListeners()},destroy:function(){this.inspectorManager.closeAllVariables()},_addListeners:function(){var a=this;a.inspectorManager.addEventListener("inspectorReady",function(c){c.data.inspector=
a;a._busyIndicator.hide();try{a.dispatchEvent("inspectorReady",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("inspectorOpened",function(c){a._showInspector();c.data.inspector=a;try{a.dispatchEvent("inspectorOpened",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("inspectorClosed",function(c){c.data.inspector=a;try{a.dispatchEvent("inspectorClosed",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("propertyChanged",
function(c){c.data.inspector=a;try{a.dispatchEvent("propertyChanged",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("propertyAdded",function(c){a._showInspector();c.data.inspector=a;try{a.dispatchEvent("propertyAdded",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("propertyRemoved",function(c){a._showInspector();c.data.inspector=a;try{a.dispatchEvent("propertyRemoved",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("serverError",
function(c){b.displayErrorMessage(c.data.message);c.data.inspector=a;try{a.dispatchEvent("serverError",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("resetData",function(c){c.data.inspector=a;try{a.dispatchEvent("resetData",a,c.data)}catch(d){b.logDebug(d.message)}});a.inspectorManager.addEventListener("inspectorDestroyed",function(c){a._hideInspector();c.data.inspector=a;try{a.dispatchEvent("inspectorDestroyed",a,c.data)}catch(d){b.logDebug(d.message)}})},start:function(){b.runFactoryInitInMATLAB("internal.matlab.inspector.peer.DefaultPropertyInspector.startup;");
e.start();this.inspectorManager.start()},stop:function(){this.inspectorManager.stop()},_showInspector:function(){this._busyIndicator=new t;var a=this;this.domNode?(f.place(this.inspectorManager.domNode,this.domNode,"last"),a._busyIndicator.set("target",this.domNode)):(this.dialog=q.displayNonModalDialog(r.propertyInspectorTitle,this.inspectorManager,{"data-testid":"inspector-floating-pane",layoutId:"propertyInspector"}),g.after(this.dialog,"onClose",function(){a._closeInspectorManager()}),a._busyIndicator.set("target",
this.dialog.domNode));this._busyIndicator.show()},_closeInspectorManager:function(){this._serverCloseInitiated||this.inspectorManager.closeAllVariables()},inspect:function(a){this.inspectorManager.inspect(a);return this},_hideInspector:function(){this.domNode?f.empty(this.domNode):this.dialog&&(this._serverCloseInitiated=!0,this.dialog.onClose(),this._serverCloseInitiated=!1)}});u.getInstance=function(a){if(!u._instance)return u._instance=new u(a),u._instance;a&&u._instance.init(a);return u._instance};
return{getInstance:u.getInstance,inspect:function(){return u.getInstance().inspect(arguments)}}})},"inspector/peer/InspectorFactory":function(){define("inspector/peer/InspectorFactory","dojo/_base/declare inspector/peer/InspectorManager inspector/widget/InspectorWidget variableeditor/VariableEditorUtils mw-messageservice/MessageService mw-log/Log mw-peermodel/Observable dojo/topic".split(" "),function(k,d,e,c,b,a,f,l){function m(){G||(G=new d({channel:D}),I[G.channel]=G,G.manager.addEventListener("rootSet",
function(a){h(a)}));return G}function h(a){c.logDebug("Inspector: Factory Root Set");a=a.target;g(a);p(a);a.addEventListener("propertySet",s);a.addEventListener("peerEvent",r);n(a)}function g(a){var b=a.getProperty("Debug");void 0!==b&&c.setDebug(b.Debug);l.subscribe("variableeditor/isDebug",function(b){var c=a.getProperty("Debug");b&&(void 0!==b.Debug&&c&&b.Debug!==c.Debug)&&a.setProperty("Debug",{Debug:b.Debug,Source:"client"})})}function p(a){a=a.getProperty("ProxyViewMap");void 0!==a&&q(a.ProxyViewMap)}
function n(b){if(b&&(b.getProperty("Initialized")&&b.getProperty("Initialized").Initialized)&&(u(),F))try{F.dispatchEvent("Initialized",F,{})}catch(c){a.error(c)}}function s(a){a&&a.data&&a.data.key&&"Managers"===a.data.key?c.logDebug("InspectorFactory: Factory Managers Updated"):a&&a.data&&a.data.key&&"Debug"===a.data.key?c.setDebug(a.data.newValue.Debug):a&&(a.data&&a.data.key&&"ProxyViewMap"===a.data.key)&&q(a.data.newValue.ProxyViewMap)}function r(b){if(b&&b.data&&b.data.type&&"FactoryInitialized"===
b.data.type)c.logDebug("Inspector: Factory Initialized"),J=!0,u();else if(b&&b.data&&b.data.type&&"InspectorCreated"===b.data.type){if(b.data.Channel&&I[b.data.Channel]&&I[b.data.Channel].start&&I[b.data.Channel].autoStart){try{I[b.data.Channel].start()}catch(d){a.error(d)}c.logDebug("Inspector: Factory Auto Starting Manager ("+b.data.Channel+")")}}else b&&b.data&&b.data.type&&"log"===b.data.type&&b.data.message&&c.logDebug("Inspector: Server Log ("+b.data.message+")")}function q(b){b=b.replace(/\r|\n|\t|\\t/g,
"");b=JSON.parse(b);H={};for(var c=0;c<b.length;c+=1){var d=b[c],g=d.application,f=d.className,d=d.defaults,d=d.replace(/\\\"/g,""),d=JSON.parse(d);if(!g||0===g.length)g="default";if(!f||0===f.length)f="default";H.hasOwnProperty(g)||(H[g]={});H[g][f]=d}t();if(F)try{F.dispatchEvent("ProxyViewMapUpdated",F,{map:H})}catch(e){a.error(e)}}function t(){if(I)for(var b in I)if(I.hasOwnProperty(b)&&b!==D&&I[b].setProxyViews)try{I[b].setProxyViews(H)}catch(c){a.error(c)}}function u(){var b=m();b&&(b.getRoot&&
b.getRoot())&&(M.forEach(function(d){var g=b.getRoot();c.logDebug("Inspector: Factory Running Queue: "+JSON.stringify(d));try{g.dispatchEvent("peerEvent",g,d)}catch(f){a.error(f)}}),M=[])}function w(b,c,d){d||(d=m());b={type:"CreateInspector",application:b,channel:c};if(d=d.getRoot())try{d.dispatchEvent("peerEvent",d,b)}catch(g){a.error(g)}else M.push(b)}function v(b,c,d){d||(d=m());b={type:"DeleteInspector",application:b,channel:c};if(d=d.getRoot())try{d.dispatchEvent("peerEvent",d,b)}catch(g){a.error(g)}else M.push(b)}
function x(a){if(!a&&a.channel)return null;var b=m();v(a.application,a.channel,b);delete I[a.channel]}function z(a){if(!a)return null;var b=m();a.manager&&(b=a.manager);w(a.application,a.channel,b);b=new d(a);b.setProxyViews(H);return I[a.channel]=b}function y(a){m();a||(a={});a.channel||(E+=1,a.channel="/Inspector_"+E);a.application||(a.application=e.DEFAULT_INSPECTOR_APPLICATION);void 0===a.editable&&(a.editable=!0);a.messageService||(a.messageService=b.messageService);a.cssSpecifier=a.cssSpecifier||
"mw_type_Inspector";a.dataTagRoot=a.dataTagRoot||"mw.datatools.inspector";if(I&&I[a.channel]&&!a.forceNewManager)return I[a.channel];a=z(a);a.addEventListener("inspectorDestroyed",function(a){a&&(a.data&&a.data.inspector)&&x(a.data.inspector)});return a}function B(a){a&&!a.isError&&(K=!0,u())}function C(){c.runFactoryInitInMATLAB("internal.matlab.inspector.peer.InspectorFactory.startup",B)}function A(b,c,d,g){var f=m().getRoot();b={type:"RegisterInspectorView",application:c,className:b,proxyViewClass:d,
defaultObj:g};if(f)try{f.dispatchEvent("peerEvent",f,b)}catch(e){a.error(e)}else M.push(b)}var D="/InspectorPropertyManager",F,G,I={},M=[],K=!1,J=!1,E=0,H={};k=k("inspector.peer.InspectorFactory",[f.Impl],{createInspector:y,deleteInspector:x,start:function(a){b.messageService.start();a?C():K=!0;m().start()},isStarted:function(){return K},registerInspectorView:A,getDefaultsForDataType:function(a,b){if(H){var c=b,d=a;if(!b||0===b.length)c="default";if(!a||0===a.length)d="default";if(H.hasOwnProperty(c)){if(H[c].hasOwnProperty(d))return H[c][d];
if(H[c].hasOwnProperty("default"))return H[c]["default"]}if(H.hasOwnProperty("default")){if(H["default"].hasOwnProperty(d))return H["default"][d];if(H["default"].hasOwnProperty("default"))return H["default"]["default"]}}}});F||(F=new k);F.__unitTestMethods={getInspectorManager:function(){return G},setInspectorManager:function(a){G=a},getManagers:function(){return I},setManagers:function(a){I=a},getCreateQueue:function(){return M},setCreateQueue:function(a){M=a},getServerStarted:function(){return K},
setServerInitialized:function(){return J},getClientChannelCounter:function(){return E},getProxyViewMap:function(){return H},setProxyViewMap:function(a){H=a},_getInspectorFactoryManager:m,_handleRootSet:h,_setupDebugEvents:g,_setupInitialProxyViewMap:p,_checkForInitializedOnStart:n,_handlePropertySet:s,_handlePeerEvent:r,_createProxyMapFromServerJSON:q,_updateManagerProxyViews:t,_runManagerCreationQueue:u,_createServerModel:w,_deleteServerModel:v,_deleteInspectorManager:x,_createInspectorManager:z,
_getInspectorInstance:y,_serverStartedCallback:B,_startServer:C,_registerInspectorView:A,_injectMethod:function(a,b){var c=this[a];eval(a+"\x3dmethod;");return c}};return F})},"inspector/peer/InspectorManager":function(){define("inspector/peer/InspectorManager","dojo/_base/declare dojo/_base/lang mw-peermodel/PeerModelManager mw-peermodel/Observable variableeditor/ClientPeerManager variableeditor/ClientPeerDocument variableeditor/VariableEditorUtils inspector/InspectorObject inspector/widget/InspectorClientManager mw-overlay-utils/BusyOverlay".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return k("inspector.peer.InspectorManager",[m,b],{proxyViewMap:{},_busyOverlay:void 0,errorDialog:null,constructor:function(a){this.allArgs=a},setProxyViews:function(a){this.proxyViewMap=a},getDefaultsForDataType:function(a,b){if(this.proxyViewMap){var c=b,d=a;if(!b||0===b.length)c="default";if(!a||0===a.length)d="default";if(this.proxyViewMap.hasOwnProperty(c)){if(this.proxyViewMap[c].hasOwnProperty(d))return this.proxyViewMap[c][d];if(this.proxyViewMap[c].hasOwnProperty("default"))return this.proxyViewMap[c]["default"]}if(this.proxyViewMap.hasOwnProperty("default")){if(this.proxyViewMap["default"].hasOwnProperty(d))return this.proxyViewMap["default"][d];
if(this.proxyViewMap["default"].hasOwnProperty("default"))return this.proxyViewMap["default"]["default"]}}},inspect:function(a,b){if(a&&a.isInstanceOf&&a.isInstanceOf(l)){var c;if((!a.propertySheet||a.propertySheet===l.DEFAULT_PROPERTY_SHEET)&&a.className)if((c=this.getDefaultsForDataType(a.className,this.application))&&c.propertySheet)a.propertySheet=c.propertySheet;var d=!1;if((!a.objects||Array.isArray(a.objects)&&0>=a.objects.length)&&a.className)if((c=this.getDefaultsForDataType(a.className,
this.application))&&c.objects)a.objects=c.objects,d=!0;if(a.objectName||a.className||a.serverEvalFcn)if(this._requestInspectFromServer(a),c=void 0===a.objects,a.objects&&(Array.isArray(a.objects)&&0>=a.objects.length)&&(c=!0),c||d){this._showSpinner();return}}this.inherited(arguments)},_showSpinner:function(){this._busyOverlay&&this._busyOverlay.destroy&&this._busyOverlay.destroy();this._busyOverlay=new h(h.SIZE.SMALL);this._busyOverlay.set("target",this.domNode);this._busyOverlay.show()},_requestInspectFromServer:function(a){var b=
{objectName:a.objectName,workspaceID:a.workspaceID,className:a.className,serverEvalFcn:a.serverEvalFcn};f.logDebug("InspectorManager: _requestInspectFromServer");if(this.manager&&this.manager.hasRoot())a=this.manager.getRoot(),a.dispatchPeerEvent("inspect",a,b),f.logDebug("InspectorManager: remote inspect called");else if(this.manager){var c=this;c.manager.addEventListener("rootSet",function(){f.logDebug("InspectorManager: root set");var a=c.manager.getRoot();a.dispatchPeerEvent("inspect",a,b);f.logDebug("InspectorManager: remote inspect called")})}},
_init:function(){this.inherited(arguments);this.channel="/PropertyInspector";this.editable=!0;this.cssSpecifier="mw_type_Inspector";this.workspace="caller";this.requestFocusOnStart=this.ignoreUpdates=this.fixedColumnWidths=!1;this.cssSpecifier="mw_type_Inspector";this.dataTagRoot="mw.datatools.inspector";this.inspectorDocument=null;this.allArgs&&(this.messageService=this.allArgs.messageService,this.channel=this.allArgs.channel||"/PropertyInspector",this.workspace=this.allArgs.workspace||"caller",
this.editable=void 0===this.allArgs.editable?!0:this.allArgs.editable,this.ignoreUpdates=void 0===this.allArgs.ignoreUpdates?!1:this.allArgs.ignoreUpdates,this.allArgs=this.allArgs,this.dataTagRoot=this.allArgs.dataTagRoot||"mw.datatools.inspector",this.cssSpecifier=this.allArgs.cssSpecifier||"mw_type_Inspector",this.autoStart=void 0===this.allArgs.autoStart?!0:this.allArgs.autoStart,this.fixedColumnWidths=void 0===this.allArgs.fixedColumnWidths?!1:this.allArgs.fixedColumnWidths,this.requestFocusOnStart=
void 0===this.allArgs.requestFocusOnStart?!1:this.allArgs.requestFocusOnStart);this.topicBase="/ML"+this.channel;this.allArgs.topicBase=this.topicBase;this.manager=e.getInstance(this.channel);this.peerDocuments=[];this.variableListeners=[];this.hasFocus=!1;this.focusedDocument=null;this.managerListeners=[];this._setupListeners()},_loadDataFromServer:function(a){f.logDebug("InspectorManager: _loadDataFromServer");if(a&&a.data&&a.data.objectsToInspect&&a.data.propertySheet){a=new l({propertySheet:a.data.propertySheet,
objects:a.data.objectsToInspect,id:a.data.id});var b=a.compareTo(this._previousIO),c=!0;if(b&&!b.totalChange&&b.objects&&0===b.objects.addedProperties.length&&0===b.objects.removedProperties.length)for(var d=0;d<b.objects.changedProperties.length;d+=1){var e=b.objects.changedProperties[d];f.logDebug("InspectorManager: updating property ["+e+"]");c=!1;this.alphaWidget&&this.alphaWidget.updatePropertyValue(e,a.objects[0][e]);this.groupedWidget&&this.hasGroup&&this.groupedWidget.updatePropertyValue(e,
a.objects[0][e])}c?this.inspect(a):f.logDebug("InspectorManager: no change");this._busyOverlay&&this._busyOverlay.hide&&this._busyOverlay.hide()}},_serverViewAddedHandler:function(a){f.logDebug("InspectorManager: View Added");var b=this,c=a.data.peerDoc,e=a.data.peerView;e.addEventListener("viewReady",function(a){f.logDebug("InspectorManager: View Ready");b._loadDataFromServer(a);try{this.dispatchEvent("inspectorReady",c.domNode,{inspector:this,doc:c,view:e})}catch(d){f.logDebug(d.message)}});e.addEventListener("propertyChanged",
d.hitch(this,"_serverPropertyValueChanged"));e.addEventListener("propertyAdded",d.hitch(this,"_propertyAdded"));e.addEventListener("propertyRemoved",d.hitch(this,"_propertyRemoved"));e.addEventListener("serverError",d.hitch(this,"_serverError"));e.addEventListener("resetData",d.hitch(this,"_resetData"));e.addEventListener("focusLost",d.hitch(this,"_closeAlldropDowns"));e.addEventListener("resetCache",d.hitch(this,"_resetObjectCache"));e.addEventListener("selectChange",d.hitch(this,"_closedialog"))},
_closeAlldropDowns:function(a){this.alphaWidget&&this.alphaWidget.closeAlldropDowns&&this.alphaWidget.closeAlldropDowns();this.groupedWidget&&(this.hasGroup&&this.groupedWidget.closeAlldropDowns)&&this.groupedWidget.closeAlldropDowns()},_closedialog:function(a){try{this.errorDialog.close()}catch(b){}},_resetObjectCache:function(a){this.clearObjectCache()},handleError:function(a){this.errorDialog=f.displayErrorMessageWithSpecifiedWidth(a.data.message,330)},_serverError:function(a){f.logDebug("InspectorManager: Server Error: "+
a.message);try{this.dispatchEvent("serverError",this,{inspector:this,message:a.data.message})}catch(b){f.logDebug(b.message)}},_resetData:function(a){var b=a.data.oldValue;b&&("string"===typeof b&&-1!==b.indexOf("{"))&&(b=JSON.parse(b));this.alphaWidget&&this.alphaWidget.updatePropertyValue(a.data.property,b);this.groupedWidget&&this.hasGroup&&this.groupedWidget.updatePropertyValue(a.data.property,b)},_viewRestored:function(){try{this.dispatchEvent("viewRestored",inspector,{inspector:inspector,source:"server"})}catch(a){f.logDebug(a.message)}},
_setupListeners:function(){var a=this;this.addEventListener("variableAdded",function(b){b=b.data.peerDoc;a.inspectorDocument=b;f.logDebug("InspectorManager: Document Added");b.addEventListener("viewAdded",function(b){a._serverViewAddedHandler(b,a);try{a.dispatchEvent("inspectorOpened",a,{inspector:a,source:"server"})}catch(c){f.logDebug(c.message)}});b.addEventListener("viewRemoved",function(){f.logDebug("InspectorManager: View Removed");try{a.dispatchEvent("inspectorClosed",a,{inspector:a,source:"server"})}catch(b){f.logDebug(b.message)}})});
this.addEventListener("variableRemoved",function(){f.logDebug("InspectorManager: Document Removed");try{a.dispatchEvent("inspectorCleared",a,{inspector:a,source:"server"})}catch(b){f.logDebug(b.message)}})},_serverPropertyValueChanged:function(a){if(a.data.newValue&&a.data.propertyName&&(this.alphaWidget&&a.data.newValue!==this.alphaWidget.getCurrentPropertyValue(a.data.propertyName)||this.groupedWidget&&this.hasGroup&&a.data.newValue!==this.groupedWidget.getCurrentPropertyValue(a.data.propertyName))){var b=
a.data.newValue;","==b.match(",$")&&(b=b.substring(0,b.length-1));if(a.data.state){var c=JSON.parse(a.data.state);this.alphaWidget&&this.alphaWidget.updatePropertyState(a.data.propertyName,c);this.groupedWidget&&this.hasGroup&&this.groupedWidget.updatePropertyState(a.data.propertyName,c)}b=JSON.parse(b);this.alphaWidget&&this.alphaWidget.updatePropertyValue(a.data.propertyName,b);this.groupedWidget&&this.hasGroup&&this.groupedWidget.updatePropertyValue(a.data.propertyName,b);this._propertyValueChanged(a)}},
_propertyValueChanged:function(a){this.inherited(arguments);this.inspectorDocument&&this.inspectorDocument.clientPeerView&&this.inspectorDocument.clientPeerView.peerNode&&"server"!==a.data.source&&this.inspectorDocument.clientPeerView.peerNode.dispatchPeerEvent("setData",this.inspectorDocument.clientPeerView.peerNode,{property:a.data.propertyName,value:a.data.newValue})},_propertyAdded:function(a){try{this.dispatchEvent("propertyAdded",this,{inspector:this,propertyName:a.data.property})}catch(b){f.logDebug(b.message)}},
_propertyRemoved:function(a){try{this.dispatchEvent("propertyRemoved",this,{inspector:this,propertyName:a.data.property})}catch(b){f.logDebug(b.message)}},startup:function(){this.start();this.inherited(arguments)}})})},"inspector/InspectorObject":function(){define("inspector/InspectorObject",["dojo/_base/declare","dojo/i18n!inspector/app/l10n/nls/app","inspector/factory/InspectorConstants"],function(k,d,e){var c={"default":{displayName:d.defaultPropertySheetDisplayName,tooltip:d.defaultPropertySheetTooltip,
dataType:"char",renderer:"variableeditor/views/editors/TextBoxEditor",inPlaceEditor:"variableeditor/views/editors/TextBoxEditor",editor:null,editable:!0}},b={name:d.defaultGroupName,type:"group",displayName:d.defaultGroupDisplayName,tooltip:d.defaultGroupTooltip,expanded:!1,type:e.PROPERTY_ITEM_TYPE.GROUP,module:"inspector/widget/InspectorPropertyGroup"};k=k("inspector.InspectorObject",[],{objects:[],template:"inspector/templates/inspectorPropertySheetWithoutHeader.html",propertySheet:c,objectName:"",
workspaceID:void 0,className:"",serverEvalFcn:"",onPropertyValueChanged:void 0,showGroups:!0,showDefaultGroup:!0,id:"",constructor:function(a){a||(a={});this.objects=a.objects||[];this.propertySheet=a.propertySheet||c;this.objectName=a.objectName||"";this.workspaceID=a.workspaceID;this.className=a.className||"";this.serverEvalFcn=a.serverEvalFcn||"";this.onPropertyValueChanged=a.onPropertyValueChanged;this.showGroups=void 0!==a.showGroups?a.showGroups:!0;this.showDefaultGroup=void 0!==a.showDefaultGroup?
a.showDefaultGroup:!0;this.template=this._chooseObjectTemplate(a);this.id=a.id||"";for(var b in a)a.hasOwnProperty(b)&&void 0!==a[b]&&(this[b]=a[b])},_chooseObjectTemplate:function(a){var b=a&&a.template||"inspector/templates/inspectorPropertySheetWithoutHeader.html";if((!a||!a.template)&&this.propertySheet&&this.propertySheet.groups&&this.propertySheet.groups.length&&this.showGroups)b="inspector/templates/inspectorPropertySheetWithoutHeader.html";return b},getPropertyGroup:function(a){var c=this.propertySheet&&
this.propertySheet.groups;if(c)return(c=dojo.filter(c,function(b){return this._isPropInGroup(b,a)}.bind(this))[0])?c:b},_isPropInGroup:function(a,b){return!a.items?!1:a.items.some(function(a){return a.name===b})},getPropertyGroupTemplate:function(a){return a&&a.template?a.template:"inspector/templates/inspectorPropertyGroup.html"},getPropertySet:function(a){if(this.propertySheet&&this.propertySheet.properties){for(var b=0;b<this.propertySheet.properties.length;b+=1){var d=this.propertySheet.properties[b];
if(d.name&&d.name===a)return d}if(this.propertySheet["default"])return this.propertySheet["default"]}return c["default"]},compareTo:function(a){var b={totalChange:!1};if(!a||!a.objects||!this.objects||!a.propertySheet&&this.propertySheet||!this.propertySheet&&a.propertySheet)return b.totalChange=!0,b;b=this._getObjDiffs(this.objects[0],a.objects[0],"objects",b);this.propertySheet&&this.propertySheet.properties&&(b=this._getObjDiffs(this.propertySheet.properties,a.propertySheet.properties,"propertySheet_properties",
b));this.propertySheet&&this.propertySheet.groups&&(b=this._getObjDiffs(this.propertySheet.groups,a.propertySheet.groups,"propertySheet_groups",b));this.propertySheet&&this.propertySheet["default"]&&(b=this._getObjDiffs(this.propertySheet["default"],a.propertySheet["default"],"propertySheet_default",b));this.template!==a.template&&(b.template=this.template);this.objectName!==a.objectName&&(b.objectName=this.objectName);this.workspaceID!==a.workspaceID&&(b.workspaceID=this.workspaceID);this.className!==
a.className&&(b.className=this.className);this.serverEvalFcn!==a.serverEvalFcn&&(b.serverEvalFcn=this.serverEvalFcn);return b},_getObjDiffs:function(a,b,c,d){if(!a)return b;if(!b)return a;d||(d={totalChange:!1});c||(c="changes");d[c]||(d[c]={changes:[],changedProperties:[],addedProperties:[],removedProperties:[]});for(var e in a)a.hasOwnProperty(e)&&(b.hasOwnProperty(e)?JSON.stringify(a[e])!==JSON.stringify(b[e])&&(d[c].changes[e]=a[e],d[c].changedProperties.push(e)):(d[c].changes[e]=a[e],d[c].addedProperties.push(e)));
for(e in b)b.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(d[c].changes[e]=b[e],d[c].removedProperties.push(e));return d}});k.DEFAULT_GROUP_PROPERTY_SHEET_TEMPLATE="inspector/templates/inspectorPropertySheetWithoutHeader.html";k.DEFAULT_PROPERTY_GROUP_TEMPLATE="inspector/templates/inspectorPropertyGroup.html";k.DEFAULT_PROPERTY_SHEET=c;k.DEFAULT_GROUP=b;return k})},"inspector/factory/InspectorConstants":function(){define([],function(){return{PROPERTY_ITEM_TYPE:{SET:"property",EDITOR_GROUP:"editorgroup",
GROUP:"group",SUB_GROUP:"subgroup"}}})},"inspector/widget/InspectorClientManager":function(){define("inspector/widget/InspectorClientManager","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/ready dojo/parser dojo/dom-construct variableeditor/VariableEditorUtils inspector/InspectorObject inspector/widget/InspectorWidget inspector/search/InspectorToolbar dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mw-peermodel/Observable dojo/text!inspector/templates/inspectorClientWidget.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){return k("inspector.widget.InspectorClientManager",[g,p,n,s.Impl],{templateString:r,alphaWidget:{},groupedWidget:{},alphaWidgetName:"alphabeticalWidget",groupedWidgetName:"groupedWidget",_propertyValueChangedHandler:{},_viewChangedHandler:{},numOfProperties:0,hasGroup:!1,args:{},currObjectID:"",objectCache:{},constructor:function(a){a||(a={});this.numOfProperties=0;this.hasGroup=!1;this.currObjectID="";this._initWidgets(a);this.args=a},postCreate:function(){this.domNode&&
!this.domNode.hasAttribute("data-tag")&&this.domNode.setAttribute("data-tag",f.concatenateDataTagStrings(this.dataTagRoot,"inspectorClientManager"));this.domNode&&(this.cssSpecifier&&!e.contains(this.domNode,this.cssSpecifier))&&e.add(this.domNode,this.cssSpecifier)},_initWidgets:function(a){this.alphaWidget=new m({application:a.application,inspectorId:a.inspectorId,dataTagRoot:a.dataTagRoot,cssSpecifier:a.cssSpecifier,widgetName:this.alphaWidgetName,showGroups:!1,otherArgs:a});this.groupedWidget=
new m({application:a.application,inspectorId:a.inspectorId,dataTagRoot:a.dataTagRoot,cssSpecifier:a.cssSpecifier,widgetName:this.groupedWidgetName,showGroups:!0,otherArgs:a});this.toolbar=new h;this.toolbar.addEventListener("viewChange",d.hitch(this,"_handleViewChange"));this.toolbar.addEventListener("search",d.hitch(this,"_handleSearch"));this.toolbar.startup();this._propertyValueChangedHandler=d.hitch(this,"_propertyValueChanged");this._viewChangedHandler=d.hitch(this,"_viewPropertiesChanged")},
_reinitWidgets:function(){this.alphaWidget=new m({application:this.alphaWidget.application,inspectorId:this.alphaWidget.inspectorId,dataTagRoot:this.alphaWidget.dataTagRoot,cssSpecifier:this.alphaWidget.cssSpecifier,widgetName:this.alphaWidgetName,showGroups:!1,otherArgs:this.args});this.groupedWidget=new m({application:this.alphaWidget.application,inspectorId:this.alphaWidget.inspectorId,dataTagRoot:this.alphaWidget.dataTagRoot,cssSpecifier:this.alphaWidget.cssSpecifier,widgetName:this.groupedWidgetName,
showGroups:!0,otherArgs:this.args})},_viewRestored:function(){},inspect:function(b,c){this.numOfProperties=0;this.hasGroup=!1;b.propertySheet&&b.propertySheet.properties&&(this.numOfProperties=b.propertySheet.properties.length);b.propertySheet&&b.propertySheet.groups&&(this.hasGroup=Array.isArray(b.propertySheet.groups)&&0<b.propertySheet.groups.length);this.toolbar&&(this.toolbar.searchTextField&&this.toolbar.searchTextField.handleClear)&&this.toolbar.searchTextField.handleClear();this.currObjectID=
b.id?b.id:b.className;var d=!1;this.currObjectID&&0===this.currObjectID.indexOf("__pagedata__")&&(this.currObjectID=this.currObjectID.substring(12,this.currObjectID.length),d=!0);var g=!0,e=this.currObjectID in this.objectCache,h=e&&this.objectCache[this.currObjectID].numOfProperties===this.numOfProperties,l=b.objects&&b.objects.length&&1===b.objects.length;if(!e||!d){if(e&&h&&l&&!d){var m=this.objectCache[this.currObjectID];this.alphaWidget=m.alphaWidget;this.groupedWidget=m.groupedWidget;Object.keys(b.objects[0]).forEach(function(a){for(var c,
d,g=0,e=b.propertySheet.properties.length;g<e;g++)if(b.propertySheet.properties[g].name===a){c=b.propertySheet.properties[g];break}c&&(d={dataType:c.dataType,isMetaData:f.getLogicalValue(b.objects[0][a].isMetaData,!1)},c.rendererProperties&&(d=f.mergeObjects(d,c.rendererProperties)),c.editorProperties&&(d=f.mergeObjects(d,c.editorProperties)),c.inPlaceEditorProperties&&(d=f.mergeObjects(d,c.inPlaceEditorProperties)));d&&this.alphaWidget.updatePropertyState(a,d);this.alphaWidget.updatePropertyValue(a,
b.objects[0][a]);m.groupedWidget&&(d&&this.groupedWidget.updatePropertyState(a,d),this.groupedWidget.updatePropertyValue(a,b.objects[0][a]))}.bind(this));g=m.view&&"alphabetical"===m.view?!1:this.groupedWidget?!0:!1;this._viewRestored()}else this.alphaWidget&&(this._reinitWidgets(),this.alphaWidget.inspect(b,c),this.currObjectID&&l&&(this.objectCache[this.currObjectID]={alphaWidget:this.alphaWidget})),this.groupedWidget&&this.hasGroup&&(this.groupedWidget.inspect(b,c),this.currObjectID&&l&&(this.objectCache[this.currObjectID].groupedWidget=
this.groupedWidget)),this.currObjectID&&l&&(this.objectCache[this.currObjectID].numOfProperties=this.numOfProperties);if(!this.groupedWidget||!this.hasGroup)this.groupedWidget&&this.groupedWidget.domNode&&a.empty(this.groupedWidget.domNode),this.groupedWidget&&(this.groupedWidget.propertySheet&&this.groupedWidget.propertySheet.destroy)&&this.groupedWidget.propertySheet.destroy(),g=!1;this._clearOldListeners();this._setupWigetListeners();this.domNode&&a.empty(this.domNode);this.toolbar&&(this.toolbar.domNode&&
this.domNode)&&a.place(this.toolbar.domNode,this.domNode);this.groupedWidget&&this.groupedWidget.domNode&&this.domNode&&this.hasGroup&&g?a.place(this.groupedWidget.domNode,this.domNode):this.alphaWidget&&(this.alphaWidget.domNode&&this.domNode)&&a.place(this.alphaWidget.domNode,this.domNode);this._updatebuttonProperties(g);if(m&&m.scrollTop&&(d=this.domNode.querySelector(".propertySetOuterContainer")))d.scrollTop=m.scrollTop}},updatePropertyValue:function(a,b){this.alphaWidget&&this.alphaWidget.updatePropertyValue(a,
b);this.groupedWidget&&this.hasGroup&&this.groupedWidget.updatePropertyValue(a,b)},destroy:function(){this.domNode&&(this.domNode.parentNode&&this.domNode.parentNode.removeChild)&&this.domNode.parentNode.removeChild(this.domNode)},clearObjectCache:function(){Object.keys(this.objectCache).forEach(function(a){a=this.objectCache[a];a.alphaWidget&&a.alphaWidget.destroy();a.groupedWidget&&a.groupedWidget.destroy()}.bind(this));this.objectCache={}},_handleViewChange:function(b){b.data.buttonName&&(b.data.buttonName===
this.toolbar.GROUP_VIEW&&this.groupedWidget.domNode&&this.domNode.lastChild&&this.groupedWidget.domNode!==this.domNode.lastChild)&&(a.place(this.groupedWidget.domNode,this.domNode.lastChild,"replace"),this._viewPropertiesChanged({type:"viewChange",data:{view:"grouped"}}));b.data.buttonName&&(b.data.buttonName===this.toolbar.ALPHA_VIEW&&this.alphaWidget.domNode&&this.domNode.lastChild&&this.alphaWidget.domNode!==this.domNode.lastChild)&&(a.place(this.alphaWidget.domNode,this.domNode.lastChild,"replace"),
this._viewPropertiesChanged({type:"viewChange",data:{view:"alphabetical"}}))},_handleSearch:function(a){this.alphaWidget&&this.alphaWidget.propertySheet&&this.alphaWidget.propertySheet._handleSearch(a.data)},_propertyValueChanged:function(a){if(a&&a.data){if(this.hasGroup){if(a.data.newValue)var b={value:a.data.newValue,editValue:a.data.newValue};a.data.widgetName&&("alphabeticalWidget"===a.data.widgetName&&b&&a.data.propertyName)&&this.groupedWidget.updatePropertyValue(a.data.propertyName,b);a.data.widgetName&&
("groupedWidget"===a.data.widgetName&&b&&a.data.propertyName)&&this.alphaWidget.updatePropertyValue(a.data.propertyName,b)}this._redispatchEvent(a)}},_viewPropertiesChanged:function(a){a&&a.data&&this.currObjectID&&("viewPosition"===a.type&&a.data&&a.data.scrollTop?this.objectCache[this.currObjectID].scrollTop=a.data.scrollTop:"viewChange"===a.type&&(this.objectCache[this.currObjectID].view=a.data.view))},_redispatchEvent:function(a,b){if(a&&a.data){b||(b={});var c=f.mergeObjects(a.data,b);try{this.dispatchEvent(a.type,
this,c)}catch(d){f.logDebug(d.message)}}},_clearOldListeners:function(){this.alphaWidget.removeEventListener&&(this.alphaWidget&&this.alphaWidget.hasEventListener("propertyValueChanged",this._propertyValueChangedHandler)&&(this.alphaWidget.removeEventListener("propertyValueChanged",this._propertyValueChangedHandler),this.alphaWidget.removeEventListener("viewPosition",this._viewChangedHandler)),this.groupedWidget&&this.hasGroup&&this.groupedWidget.hasEventListener("propertyValueChanged",this._propertyValueChangedHandler)&&
(this.groupedWidget.removeEventListener("propertyValueChanged",this._propertyValueChangedHandler),this.groupedWidget.removeEventListener("viewPosition",this._viewChangedHandler)))},_setupWigetListeners:function(){this.alphaWidget&&this.alphaWidget.addEventListener&&(this.alphaWidget.addEventListener("propertyValueChanged",this._propertyValueChangedHandler),this.alphaWidget.addEventListener("viewPosition",this._viewChangedHandler));this.groupedWidget&&(this.hasGroup&&this.groupedWidget.addEventListener)&&
(this.groupedWidget.addEventListener("propertyValueChanged",this._propertyValueChangedHandler),this.groupedWidget.addEventListener("viewPosition",this._viewChangedHandler))},_updatebuttonProperties:function(a){0===this.numOfProperties&&this.toolbar&&(this.toolbar.updateButton(this.toolbar.GROUP_VIEW,"disabled",!0),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"disabled",!0),this.toolbar.updateButton(this.toolbar.GROUP_VIEW,"checked",!1),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"checked",
!1));0!==this.numOfProperties&&this.toolbar&&(this.hasGroup?(this.toolbar.updateButton(this.toolbar.GROUP_VIEW,"disabled",!1),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"disabled",!1),a?(this.toolbar.updateButton(this.toolbar.GROUP_VIEW,"checked",!0),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"checked",!1)):(this.toolbar.updateButton(this.toolbar.GROUP_VIEW,"checked",!1),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"checked",!0))):(this.toolbar.updateButton(this.toolbar.GROUP_VIEW,
"disabled",!0),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"disabled",!1),this.toolbar.updateButton(this.toolbar.GROUP_VIEW,"checked",!1),this.toolbar.updateButton(this.toolbar.ALPHA_VIEW,"checked",!0)))}})})},"inspector/widget/InspectorWidget":function(){define("inspector/widget/InspectorWidget","dojo/_base/declare dojo/_base/lang dojo/parser dojo/ready dojo/dom-construct dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin mw-peermodel/Observable variableeditor/VariableEditorUtils inspector/InspectorObject inspector/widget/InspectorPropertySheet dojo/text!inspector/templates/inspector.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){k=k("inspector.widget.InspectorWidget",[f,l,m.Impl],{application:"default",inspectorId:"/default_Inspector",dataTagRoot:"datatools",cssSpecifier:"propertyInspector",templateString:n,propertySheet:null,allArgs:{},_previousIO:void 0,constructor:function(a){a||(a={});this.application=a.application||"default";this.inspectorId=a.inspectorId||"/"+this.application+"_Inspector";this.dataTagRoot="datatools";this.cssSpecifier=a.cssSpecifier||a.application||"propertyInspector";
this.propertySheet=null;this.allArgs=h.mergeObjects(void 0!==a.otherArgs?a.otherArgs:a,{application:this.application,inspectorId:this.inspectorId});this._previousIO=void 0;this.widgetName=a.widgetName||"default";this.showGroups=void 0!==a.showGroups?a.showGroups:!0},postCreate:function(){a.add(this.domNode,this.application);this.domNode&&!this.domNode.hasAttribute("data-tag")&&this.domNode.setAttribute("data-tag",h.concatenateDataTagStrings(this.dataTagRoot,"inspector",this.widgetName));this.domNode&&
(this.cssSpecifier&&!a.contains(this.domNode,this.cssSpecifier))&&a.add(this.domNode,this.cssSpecifier)},inspect:function(a,b){if(a){var c=a;if(!a.isInstanceOf||!a.isInstanceOf(g))c=this._createInspectorObjectFromObjects(a);this._previousIO=c;this._asyncCreatePropertySheet(c,b)}},_createInspectorObjectFromObjects:function(a){a=h.mergeObjects(this.allArgs,{objects:a});!a.propertySheet&&this.propertySheet&&(a.propertySheet=this.propertySheet);return new g(a)},_asyncCreatePropertySheet:function(a,c){if(a&&
a.template){var d=this;require(["dojo/text!"+a.template,"dojo/domReady!"],function(g){d.domNode&&b.empty(d.domNode);d._destroyCurrentPropertySheet();g=h.mergeObjects(d.allArgs,{template:g,inspectorObject:a,_showgroups:d.showGroups});d.propertySheet=new p(g);b.place(d.propertySheet.domNode,d.domNode,"last");d.propertySheet.addEventListener("propertyValueChanged","_redispatchEvent",d);d.propertySheet.addEventListener("editingStarted","_redispatchEvent",d);d.propertySheet.addEventListener("editingStopped",
"_redispatchEvent",d);d.propertySheet.addEventListener("propertySelected","_redispatchEvent",d);d.propertySheet.addEventListener("propertyDeselected","_redispatchEvent",d);d.propertySheet.addEventListener("viewPosition","_redispatchEvent",d);d.propertySheet.startup();c&&c(d.propertySheet)})}},_destroyCurrentPropertySheet:function(){this.propertySheet&&this.propertySheet.destroy&&(this.propertySheet.hasEventListener("propertyValueChanged","_redispatchEvent",this)&&(this.propertySheet.removeEventListener("propertyValueChanged",
"_redispatchEvent",this),this.propertySheet.removeEventListener("editingStarted","_redispatchEvent",this),this.propertySheet.removeEventListener("editingStopped","_redispatchEvent",this),this.propertySheet.removeEventListener("propertySelected","_redispatchEvent",this),this.propertySheet.removeEventListener("propertyDeselected","_redispatchEvent",this),this.propertySheet.removeEventListener("viewPosition","_redispatchEvent",this)),this.propertySheet.destroy())},_redispatchEvent:function(a,b){if(a&&
a.data){a.type&&"propertyValueChanged"===a.type&&this._updatePropertyValueFromRichEditor(a);b||(b={});var c=h.mergeObjects(a.data,b),c=h.mergeObjects(c,{application:this.application,inspectorId:this.inspectorId,widgetName:this.widgetName});try{this.dispatchEvent(a.type,this,c)}catch(d){h.logDebug(d.message)}}},_updatePropertyValueFromRichEditor:function(a){if(a.data&&a.data.propertyName&&a.data.newValue&&a.data.needUpdateInPlaceEditor&&!0===a.data.needUpdateInPlaceEditor){var b=h.mergeObjects({value:a.data.newValue,
editValue:a.data.newValue,needUpdateInPlaceEditor:!0});this.updatePropertyValue(a.data.propertyName,b)}},updatePropertyValue:function(a,b){this.propertySheet&&this.propertySheet.updatePropertyValue(a,b)},updatePropertyState:function(a,b){this.propertySheet&&this.propertySheet.updatePropertyState(a,b)},closeAlldropDowns:function(){this.propertySheet&&this.propertySheet.closeAlldropDowns()},getCurrentPropertyValue:function(a){if(this.propertySheet)return this.propertySheet.getCurrentPropertyValue(a)},
getGroupExpansionStates:function(){if(this.propertySheet)return this.propertySheet.getGroupExpansionStates()},destroy:function(){try{this.dispatchEvent("inspectorDestroyed",this,{application:this.application,inspectorId:this.inspectorId,inspector:this})}catch(a){h.logDebug(a.message)}this.inherited(arguments)}});k.MULTIPLE_PROPERTIES_COMBINATION_MODE=p.MULTIPLE_PROPERTIES_COMBINATION_MODE;k.MULTIPLE_VALUES_COMBINATION_MODE=p.MULTIPLE_VALUES_COMBINATION_MODE;k.DEFAULT_INSPECTOR_APPLICATION="default";
k.DEFAULT_INSPECTOR_CHANNEL="/default_Inspector";k.DEFAULT_INSPECTOR_CSS_SPECIFIER="propertyInspector";k.DEFAULT_DATATOOLS_DATATAG_ROOT="datatools";return k})},"inspector/widget/InspectorPropertySheet":function(){define("inspector/widget/InspectorPropertySheet","dojo/_base/declare dojo/_base/lang dojo/Evented dojo/ready dojo/Deferred dojo/dom-construct dojo/dom-class dojo/promise/all dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/layout/ContentPane dijit/TitlePane inspector/InspectorObject inspector/factory/InspectorConstants inspector/renderer/InspectorRenderer mw-log/Log variableeditor/VariableEditorUtils mw-peermodel/Observable dojo/i18n!inspector/app/l10n/nls/app dojo/text!inspector/templates/inspectorPropertySheetWithoutHeader.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v,x){var z={UNION:"union",INTERSECTION:"intersection",FIRST:"first",LAST:"last"},y={ALL:"all",BLANK:"blank",FIRST:"first",LAST:"last"};k=k("inspector.widget.InspectorPropertySheet",[h,g,w.Impl],{templateString:"",propertySheet:{},allArgs:{},showGroups:!0,sortProperties:!0,groups:[],groupContainer:null,multiplePropertiesCombinationMode:z.INTERSECTION,multipleValuesCombinationMode:y.ALL,propertySets:{},lastSelectedPropertySet:null,scrollerNodeActive:!1,
numOfGroupedProperties:0,groupedProperties:[],constructor:function(a){a||(a={});this.templateString=a.template||x;this.propertySheet=a.inspectorObject||{};this.showGroups=void 0!==this.propertySheet.showGroups?this.propertySheet.showGroups&&a._showgroups:!0;this.sortProperties=void 0!==a.sortProperties?a.sortProperties:!0;this.groups=[];this.multiplePropertiesCombinationMode=a.multiplePropertiesCombinationMode||z.INTERSECTION;this.multipleValuesCombinationMode=a.multipleValuesCombinationMode||y.ALL;
this.lastSelectedPropertySet=void 0;this.createdCallBack=a.createdCallBack;this.allArgs=u.mergeObjects(a,{propertySheet:this.propertySheet,multiplePropertiesCombinationMode:this.multiplePropertiesCombinationMode,multipleValuesCombinationMode:this.multipleValuesCombinationMode});this.propertySets={};this.groupEditorsTrigger=new e;this.stateTrigger=new e;!a.template&&(this.propertySheet&&this.propertySheet.groups&&this.propertySheet.groups.length&&this.showGroups)&&(this.template=defaultInspectorGroupPropertySheetTemplate)},
postCreate:function(){this.domNode&&!this.domNode.hasAttribute("data-tag")&&this.domNode.setAttribute("data-tag",u.concatenateDataTagStrings("datatools","inspector","propertySheet"));this.domNode&&(this.allArgs.cssSpecifier&&!f.contains(this.domNode,this.allArgs.cssSpecifier))&&f.add(this.domNode,this.allArgs.cssSpecifier);this.hasGroup=this._hasGroup(this);(this.objectProps=this._updateObjectProperties(this.propertySheet.objects))&&this._createPropertySheetView();this._setupScrollerListener();this._setupScrollerListenerForWheelEvent()},
startup:function(){this.inherited(arguments);this.groupContainer&&this.groupContainer.startup&&this.groupContainer.startup();if(this.propertySets)for(var a in this.propertySets)this.propertySets.hasOwnProperty(a)&&this.propertySets[a]&&this.propertySets[a].startup&&this.propertySets[a].startup()},destroy:function(){this.inherited(arguments);var a=this.groupEditors;if(a)for(var b=0;b<Object.keys(a).length;b++)a[Object.keys(a)[b]].destroy();this.groupEditors=null;if(a=this.groups)for(b=0;b<Object.keys(a).length;b++)a[Object.keys(a)[b]].destroy();
this.stateTrigger=this.groupEditorsTrigger=this.inspectorObject=this.propertySheet=this.groups=null;this.groupContainer&&this.groupContainer.destroy&&this.groupContainer.destroy();this.groupContainer=null},_registerGroupEditorDependencies:function(a,b){a.forEach(function(a){this.own(this.groupEditorsTrigger.on(a,function(c){b.update(c.propertyValue,a)}))}.bind(this))},_registerForStateChange:function(a,b){a.forEach(function(a){this.own(this.stateTrigger.on(a+"StateUpdated",function(c){b.updateState(c.propertyState,
a)}))}.bind(this))},_hasGroup:function(a){var b=a.showGroups;a=(a=(a=a.propertySheet)&&a.propertySheet)&&a.groups;return b&&Array.isArray(a)&&0<a.length},scrollPropertySetIntoView:function(a){var b=this.propertySets[a];a=this.domNode.querySelector(".propertySetOuterContainer");if(b&&a){var b=b.domNode.getBoundingClientRect(),c=a.getBoundingClientRect();b.bottom>c.bottom?a.scrollTop=a.scrollTop+b.bottom-c.bottom:b.top<c.top&&(a.scrollTop=a.scrollTop+b.top-c.top)}},_setupScrollerListener:function(){var a=
this;if(this.domNode){var b=this.domNode.querySelector(".propertySetOuterContainer");b&&b.addEventListener("mouseup",function(b){if(b.target===this){a.scrollerNodeActive=!0;b={type:"viewPosition",data:{scrollTop:this.scrollTop}};try{a._redispatchEvent(b)}catch(c){u.logDebug(c.message)}}})}},_setupScrollerListenerForWheelEvent:function(){var a=this;if(this.domNode){var b=this.domNode.querySelector(".propertySetOuterContainer");b&&b.addEventListener("wheel",function(b){try{target=document.querySelector(".propertySheet .vecombobox.dijitHasDropDownOpen"),
dijit.registry.byNode(target).closeDropDown(!0)}catch(c){}try{target=document.querySelector(".propertySheet .mwHasMenuOpened"),dijit.registry.byNode(target).closeMenu(!0)}catch(d){}b={type:"viewPosition",data:{scrollTop:this.scrollTop}};try{a._redispatchEvent(b)}catch(g){u.logDebug(g.message)}})}},closeAlldropDowns:function(){try{var a=document.querySelector(".propertySheet .vecombobox.dijitHasDropDownOpen");dijit.registry.byNode(a).closeDropDown(!0)}catch(b){}try{a=document.querySelector(".propertySheet .mwHasMenuOpened"),
dijit.registry.byNode(a).closeMenu(!0)}catch(c){}try{dijit._masterTT&&dijit._masterTT.aroundNode&&dijit._masterTT.hide(dijit._masterTT.aroundNode)}catch(d){}},_renderPropertyItems:function(a,b,c){b.forEach(function(b){this._renderPropertyItem(a,b,c)}.bind(this))},_renderPropertyItem:function(a,b,c){var d;if(!b.type)throw"item should have 'type' property to indicate what type it is.";if(!c)throw"the placement node of item should not be undefined.";if(b.type!==r.PROPERTY_ITEM_TYPE.SET){if(!(void 0===
b.items||null===b.items||!Array.isArray(b.items)))if(b.items=b.items.filter(function(a){if(a.type===r.PROPERTY_ITEM_TYPE.SET)return this.objectProps.hasOwnProperty(a.name);var b=!1;try{(a.type===r.PROPERTY_ITEM_TYPE.SUB_GROUP||a.type===r.PROPERTY_ITEM_TYPE.EDITOR_GROUP)&&a.items.forEach(function(a){a.type===r.PROPERTY_ITEM_TYPE.SET&&this.objectProps.hasOwnProperty(a.name)&&(b=!0)}.bind(this))}catch(c){}return b}.bind(this)),0!==b.items.length){switch(b.type){case r.PROPERTY_ITEM_TYPE.GROUP:d=q.renderPropertyGroup(this,
b,c);break;case r.PROPERTY_ITEM_TYPE.SUB_GROUP:d=q.renderPropertySubGroup(this,b,c);break;case r.PROPERTY_ITEM_TYPE.EDITOR_GROUP:f.remove(this.domNode,"propertySheet-noGroupEditor"),d=q.renderPropertyEditorGroup(this,b,c)}this._renderPropertyItems(d,b.items,d.containerNode);d.startup();this.own(d)}}else b.type===r.PROPERTY_ITEM_TYPE.SET&&(d=q.renderPropertySet(this,b.name,this.objectProps[b.name],c),this.numOfGroupedProperties++,this.groupedProperties.push(b.name),d.startup(),this.own(d))},_createPropertySheetView:function(){var a,
b,c,d;a=this.showGroups;d=(c=(b=this.propertySheet)&&b.propertySheet)&&c.groups;this.numOfGroupedProperties=0;this.groupedProperties=[];if(a&&Array.isArray(d)&&0<d.length){if(this._createGroupPanel(),this._renderPropertyItems(this,d,this.groupContainer),a=0,c&&(c.properties&&Array.isArray(c.properties))&&(a=c.properties.length),0<a&&0<a-this.numOfGroupedProperties&&b.showDefaultGroup){var g=[];c.properties.forEach(function(a){-1===this.groupedProperties.indexOf(a.name)&&g.push(a.name)}.bind(this));
defaultGroup=q.renderPropertyGroup(this,s.DEFAULT_GROUP,this.groupContainer);defaultGroup.startup();this.own(defaultGroup);g.forEach(function(a){this.objectProps.hasOwnProperty(a)&&(a=q.renderPropertySet(this,a,this.objectProps[a],defaultGroup.containerNode),a.startup(),this.own(a))}.bind(this))}}else{var e=[];Object.keys(this.objectProps).forEach(function(a){e.push(a)});this.sortProperties&&(e=e.sort());f.add(this.domNode,"noGroup");e.forEach(function(a){a=q.renderPropertySet(this,a,this.objectProps[a],
this.containerNode);this.own(a)}.bind(this))}},_handleSearch:function(b){var c=this.containerNode,d=function(a,b){return!b||a&&-1!==a.toLowerCase().indexOf(b.toLowerCase())},g=function(a){for(;a.parentNode!==c;)a=a.parentNode;return a};dojo.query(".searchMatchesLabel",this.domNode).forEach(function(b){a.destroy(b)});dijit._masterTT&&dijit._masterTT.aroundNode&&dijit._masterTT.hide(dijit._masterTT.aroundNode);var f=b.substring;b=[];var e=[],h=[],l;for(l in this.propertySets)if(this.propertySets.hasOwnProperty(l)){var m=
this.propertySets[l],k=this.objectProps[l];k&&k[0]&&void 0!==k[0].value?k=k.map(function(a){return a.value}).join()+k.map(function(a){return a.editValue}).join():void 0!==k&&(k=JSON.stringify(k));k=!1;this._highlightTooltip(m.tooltip,f);l=m.propertyName;var p=m.PropertyName,n=dojo.query(".propertyName",m.inspectorPropertySet)[0],s=(m.propertySheet.tooltip||"").split("||").join(""),m=g(m.inspectorPropertySet);u.removeFromClassList(m,"notASearchResult");n.innerHTML=p;d(p,f)?(b.push({group:m,name:l}),
f&&(n.innerHTML=p.replace(RegExp("("+f+")","ig"),'\x3cspan class\x3d"searchResultHighlight"\x3e$1\x3c/span\x3e'))):d(l,f)||d(s,f)||d(k,f)?e.push({group:m,name:l}):(h.push({group:m,name:l}),u.addToClassList(m,"notASearchResult"))}d=function(a,b){return a.name<b.name?-1:a.name>b.name?1:0};b.sort(d).forEach(function(b){a.place(b.group,c)});0<e.length?(a.create("div",{"class":b.length?"searchMatchesLabel afterDirectMatches helpDocMatchesLabel":"searchMatchesLabel helpDocMatchesLabel",textContent:"Help documentation results"},
c),e.sort(d).forEach(function(b){a.place(b.group,c)})):b.length||a.create("div",{"class":"searchMatchesLabel",textContent:"No matches found"},c);h.forEach(function(b){a.place(b.group,c)})},_highlightTooltip:function(a,b){if(a&&a.label){var c=a.label.replace(/<span class="searchResultHighlight">([^<>]*)<\/span>/g,"$1");if(b){for(var d=c.match(/<[^<>]*>/g)||[],g=c.split(/<[^<>]*>/g)||[],g=g.map(function(a){return a.replace(RegExp("("+b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")+")","ig"),'\x3cspan class\x3d"searchResultHighlight"\x3e$1\x3c/span\x3e')}.bind(this)),
c="";d.length&&g.length;)c+=g.shift()+d.shift();c+=d.concat(g).join("")}a.set("label",c)}},getGroupExpansionStates:function(){for(var a={},b=this.groups,c=Object.keys(b),d=0;d<c.length;d++){var g=c[d];a[g]=b[g].titlePane.get("open")}return a},_createGroupPanel:function(){this.groupContainer||(this.groupContainer=new p,this.groupContainer.placeAt(this.containerNode))},_updateObjectProperties:function(a){var b=a;Array.isArray(a)||(b=[a]);return this._consolidateObjectProperties(b)},_consolidateObjectProperties:function(a){var b=
{};return b=this.multiplePropertiesCombinationMode===z.INTERSECTION?this._intersectObjectProperties(a):this.multiplePropertiesCombinationMode===z.FIRST?this._getFirstObjectProperties(a):this.multiplePropertiesCombinationMode===z.LAST?this._getLastObjectProperties(a):this._unionObjectProperties(a)},_unionObjectProperties:function(a){var b={};if(a){Array.isArray(a)||(a=[a]);var c;for(c=0;c<a.length;c+=1)for(var d in a[c])a[c].hasOwnProperty(d)&&(b=this._combineValues(b,d,a,c,this.multipleValuesCombinationMode))}return b},
_intersectObjectProperties:function(a){var b={};if(a){Array.isArray(a)||(a=[a]);var c,d;for(c=0;c<a.length;c+=1)for(var g in a[c])if(a[c].hasOwnProperty(g)){var f=!0;for(d=0;d<a.length;d+=1)if(!a[d].hasOwnProperty(g)){f=!1;break}f&&(b=this._combineValues(b,g,a,c,this.multipleValuesCombinationMode))}}return b},_getNthObjectProperties:function(a,b){var c={};if(a){Array.isArray(a)||(a=[a]);for(var d in a[b])if(a[b].hasOwnProperty(d))for(var g=0;g<a.length;g+=1)a[g].hasOwnProperty(d)&&(c=this._combineValues(c,
d,a,g,this.multipleValuesCombinationMode))}return c},_getFirstObjectProperties:function(a){return this._getNthObjectProperties(a,0)},_getLastObjectProperties:function(a){Array.isArray(a)||(a=[a]);return this._getNthObjectProperties(a,a.length-1)},_combineValues:function(a,b,c,d,g){a.hasOwnProperty(b)?g===y.ALL?a[b].push(c[d][b]):g===y.LAST?a[b]=[c[d][b]]:g===y.BLANK?a[b][0]!==c[d][b]&&(a[b]=[""]):g!==y.FIRST&&a[b][0]!==c[d][b]&&(a[b]=[g]):a[b]=[c[d][b]];return a},_updateObjectValues:function(a,b,
c){var d=[];if(a&&c){var g;for(g=0;g<c.length;g+=1)c[g]&&c[g].hasOwnProperty(a)&&(c[g][a]=b,d.push(c[g]))}return d},_propertyValueChanged:function(a){if(a&&a.data){var b=u.mergeObjects(a.data,{});if(this.propertySheet.onPropertyValueChanged&&"function"===typeof this.propertySheet.onPropertyValueChanged)try{this.propertySheet.onPropertyValueChanged(b)}catch(c){t.error(c)}else b=this._updateObjectValues(a.data.propertyName,a.data.newValue,this.propertySheet.objects),b=u.mergeObjects(a.data,{modifiedObjects:b});
this._redispatchEvent(a,b)}},_propertyEditingStarted:function(a){a&&a.data&&(this.lastSelectedPropertySet&&this.lastSelectedPropertySet!==a.data.propertySet&&this.lastSelectedPropertySet.stopEditing(),this.lastSelectedPropertySet=a.data.propertySet,this.scrollerNodeActive=!1,this._redispatchEvent(a))},_propertyEditingStopped:function(a){this._redispatchEvent(a)},_propertySelected:function(a){a&&a.data&&(this.lastSelectedPropertySet&&this.lastSelectedPropertySet!==a.data.propertySet&&this.lastSelectedPropertySet.stopEditing(),
this.lastSelectedPropertySet=a.data.propertySet,this.scrollerNodeActive=!1,this._redispatchEvent(a))},_propertyDeselected:function(a){this._redispatchEvent(a)},_redispatchEvent:function(a,b){if(a&&a.data){b||(b={});var c=u.mergeObjects(a.data,b),c=u.mergeObjects(c,{propertySheet:this});try{this.dispatchEvent(a.type,this,c)}catch(d){u.logDebug(d.message)}}},updatePropertyValue:function(a,b){this._updateObjectValues(a,b,this.propertySheet.objects);this.objectProps=this._updateObjectProperties(this.propertySheet.objects);
this.propertySets&&(this.propertySets.hasOwnProperty(a)&&this.propertySets[a]&&this.propertySets[a].updatePropertyValue)&&this.propertySets[a].updatePropertyValue(b);this.groupEditorsTrigger.emit(a,{propertyValue:this.objectProps[a]})},updatePropertyState:function(a,b){this.propertySets&&(this.propertySets.hasOwnProperty(a)&&this.propertySets[a]&&this.propertySets[a].updatePropertyState)&&this.propertySets[a].updatePropertyState(b);this.stateTrigger.emit(a+"StateUpdated",{propertyState:b})},getCurrentPropertyValue:function(a){if(this.propertySets&&
this.propertySets.hasOwnProperty(a)&&this.propertySets[a]&&this.propertySets[a].getCurrentPropertyValue)return this.propertySets[a].getCurrentPropertyValue()}});k.MULTIPLE_PROPERTIES_COMBINATION_MODE=z;k.MULTIPLE_VALUES_COMBINATION_MODE=y;k.INSPECTOR_SCROLLER_NODE_CLASS="propertySetOuterContainer";return k})},"dijit/TitlePane":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/fx dojo/has dojo/_base/kernel dojo/keys ./_CssStateMixin ./_TemplatedMixin ./layout/ContentPane dojo/text!./templates/TitlePane.html ./_base/manager ./a11yclick".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){return d("dijit.TitlePane",[n,p,g],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:r.defaultDuration,baseClass:"dijitTitlePane",templateString:s,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);e.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,
this.baseClass+"Title");var a=this.hideNode,b=this.wipeNode;this._wipeIn=f.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=""}});this._wipeOut=f.wipeOut({node:b,duration:this.duration,onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){k.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();
else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(c.remove(this.focusNode,"aria-controls"),c.remove(this.focusNode,
"tabIndex"),c.remove(this.focusNode,"aria-pressed"));this._set("toggleable",a);this._setCss()},_setContentAttr:function(b){!this.open||!this._wipeOut||"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),a.setMarginBox(this.wipeNode,{h:a.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display="")},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var a=
this.titleBarNode||this.focusNode,c=this._titleBarClass;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");b.replace(a,this._titleBarClass,c||"");b.replace(a,this._titleBarClass.replace("TitlePaneTitle",""),(c||"").replace("TitlePaneTitle",""));this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(a){a.keyCode==h.DOWN_ARROW&&this.open&&(this.containerNode.focus(),a.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},
setTitle:function(a){m.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",a)}})})},"inspector/renderer/InspectorRenderer":function(){define(["dojo/_base/lang","inspector/renderer/PropertyEditorGroupRenderer","inspector/renderer/PropertyGroupRenderer","inspector/renderer/PropertySetRenderer","inspector/renderer/PropertySubGroupRenderer"],function(k,d,e,c,b){var a={},a=k.mixin(a,d),a=k.mixin(a,e),a=k.mixin(a,c);return a=k.mixin(a,b)})},
"inspector/renderer/PropertyEditorGroupRenderer":function(){define(["dojo/_base/declare","dojo/Deferred","inspector/factory/InspectorFactory","variableeditor/VariableEditorUtils"],function(k,d,e,c){function b(a){for(var b=null,c=0,d=a.length;c<d;c++){var f=a[c];if(f.meta&&f.meta.inPlaceEditorProperties&&f.meta.inPlaceEditorProperties.richEditor){b=f;break}}return b?b.meta.inPlaceEditorProperties.richEditor:null}function a(a,b){b.forEach(function(b){-1==a.indexOf(b)&&a.push(b)})}function f(b){for(var c=
[],d=[],g=0,f=b.length;g<f;g++){var e=b[g];c.push(e.propertyName);e.meta&&(e.meta.inPlaceEditorProperties&&e.meta.inPlaceEditorProperties.richEditorDependencies)&&(d=e.meta.inPlaceEditorProperties.richEditorDependencies)}a(c,d);return c}return{renderPropertyEditorGroup:function(a,d,h){var g=a.propertySheet,k=e.getItemModuleByType(d.type),n=d.items.map(function(a){return{meta:g.getPropertySet(a.name),propertyName:a.name}}),s=require(k),k=b(n),r=f(n),q=new s({numberOfChild:d.items.length});q.placeAt(h);
q.startup();d=d.items.map(function(a){return a.name}).join("_");d=c.concatenateDataTagStrings("datatools","inspector","propertySheet","propertyEditorGroup",d);q.propertyGroupEditorNode.setAttribute("data-tag",d);k&&require([k],function(b){q.on("richeditoropened",function(c){if(c.editor)c.editor.onOpen();else{c=r.map(function(b){return{meta:g.getPropertySet(b),propertyName:b,values:a.objectProps[b]}});var d=new b(c);a._registerGroupEditorDependencies(r,d);a._registerForStateChange(r,d);q.addEditor(d);
d.startup();d.addEventListener("propertyValueChanged","_propertyValueChanged",a);d.own({destroy:function(){d.hasEventListener("propertyValueChanged","_propertyValueChanged",a)&&d.removeEventListener("propertyValueChanged","_propertyValueChanged",a)}})}a.propertySets&&a.propertySets[n[0].propertyName]&&a.propertySets[n[0].propertyName].selectPropertySet()}.bind(this))});return q}}})},"inspector/factory/InspectorFactory":function(){define(["inspector/factory/InspectorManifest"],function(k){return{getItemModuleByType:function(d){return k.module[d]}}})},
"inspector/factory/InspectorManifest":function(){define(["inspector/factory/InspectorConstants","inspector/editors/EditorManifest"],function(k,d){var e={module:{},renderer:{}};e.module[k.PROPERTY_ITEM_TYPE.SET]="inspector/widget/InspectorPropertySet";e.module[k.PROPERTY_ITEM_TYPE.EDITOR_GROUP]="inspector/widget/InspectorPropertyEditorGroup";e.module[k.PROPERTY_ITEM_TYPE.GROUP]="inspector/widget/InspectorPropertyGroup";e.module[k.PROPERTY_ITEM_TYPE.SUB_GROUP]="inspector/widget/InspectorPropertySubGroup";
return e})},"inspector/editors/EditorManifest":function(){define("inspector/editors/EditorManifest","dojo/_base/declare inspector/editors/LineStyleOrderEditor inspector/editors/InspectorEditor inspector/editors/PropertyFieldsEditor inspector/editors/ResetLimitsEditor inspector/editors/ScaleColorsEditor/ScaleColorsEditor inspector/editors/TicksEditor/TicksDialogEditor inspector/editors/ItemsEditor/ItemsEditor inspector/editors/DisplayFormatEditor/DisplayFormatEditor inspector/widget/InspectorPropertyGroup inspector/widget/InspectorPropertyEditorGroup inspector/widget/InspectorPropertySet inspector/widget/InspectorPropertySubGroup dojo/text!inspector/templates/inspectorPropertyGroup.html dojo/text!inspector/templates/inspectorPropertyEditorGroup.html dojo/text!inspector/templates/inspectorPropertySet.html dojo/text!inspector/templates/inspectorPropertySubGroup.html dojo/text!inspector/templates/inspectorPropertySheetWithoutHeader.html".split(" "),
function(k){return k("inspector.editors.EditorManifest",[],{constructor:function(d){}})})},"inspector/editors/LineStyleOrderEditor":function(){define("inspector/editors/LineStyleOrderEditor","dojo/_base/declare dojo/_base/lang dojo/store/Memory dojo/on dojo/keys dgrid/OnDemandGrid dgrid/Selection dgrid/Keyboard dgrid/editor dijit/form/FilteringSelect mw-form/PushButton mw-form/TextField dijit/focus dijit/registry variableeditor/VariableEditorUtils dojo/i18n!inspector/app/l10n/nls/app variableeditor/views/editors/_EditorBase".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){return k("inspector.editors.LineStyleOrderEditor",[t],{_markerStore:new e({idProperty:"name",data:[{fullname:q.markerStylePlus,value:"+",name:"+"},{fullname:q.markerStyleCircle,value:"o",name:"o"},{fullname:q.markerStyleAsterisk,value:"*",name:"*"},{fullname:q.markerStylePoint,value:".",name:"."},{fullname:q.markerStyleCross,value:"x",name:"x"},{fullname:q.markerStyleSquare,value:"s",name:"s"},{fullname:q.markerStyleDiamond,value:"d",name:"d"},{fullname:q.markerStyleUpTriangle,
value:"^",name:"^"},{fullname:q.markerStyleDownTriangle,value:"v",name:"v"},{fullname:q.markerStyleRightTriangle,value:"\x3e",name:"\x3e"},{fullname:q.markerStyleLeftTriangle,value:"\x3c",name:"\x3c"},{fullname:q.markerStylePentagram,value:"p",name:"p"},{fullname:q.markerStyleHexagram,value:"h",name:"h"},{fullname:q.markerStyleNone,value:"",name:q.markerStyleNone}]}),_styleStore:new e({idProperty:"name",data:[{fullname:q.lineStyleSolid,value:"-",name:"-"},{fullname:q.lineStyleDashed,value:"--",name:"--"},
{fullname:q.lineStyleDotted,value:":",name:":"},{fullname:q.lineStyleDashDot,value:"-.",name:"-."},{fullname:q.lineStyleNone,value:"",name:q.lineStyleNone}]}),_styleGrid:void 0,_textField:void 0,_addButton:void 0,_removeButton:void 0,_upButton:void 0,_downButton:void 0,_isUserChange:!1,_tableData:void 0,_defaultStyle:{style:"-",marker:q.markerStyleNone},_originalValue:void 0,_currentlyOpening:!1,_opened:!1,_mouseOverEditor:!1,_tagBase:"datatools.variableeditor.views.editors.lineStyleOrderEditor.",
setState:function(){if(this.domNode){if(!this._styleGrid){var a=this._setupInputNode();this.domNode.appendChild(a)}this.inherited(arguments)}},_createGrid:function(){var b=new (k([a,f,l]))({columns:[m({field:"style",label:"Line",editor:h,editorArgs:{store:this._styleStore,onChange:d.hitch(this,"_lineStyleChanged"),labelType:"html",labelFunc:d.hitch(this,"_labelFuncStyle")}}),m({field:"marker",label:"Marker",editor:h,editorArgs:{store:this._markerStore,onChange:d.hitch(this,"_markerStyleChanged"),
labelType:"html",labelFunc:d.hitch(this,"_labelFuncMarker")}})],selectionMode:"single"},"linestyleordergrid");b.domNode.id="linestyleordergrid";r.addToClassList(b.domNode,"linestyleordergrid");b._setSort=function(a,b){};b.on("dgrid-select",d.hitch(this,"_tableRowSelected"));return b},_editorMouseEnter:function(){this._mouseOverEditor=!0},_editorMouseLeave:function(){this._mouseOverEditor=!1},_labelFuncMarker:function(a,b){return'\x3cdiv class\x3d"linestyleordergrid"\x3e\x3cspan\x3e'+this._markerStore.query({name:a.name})[0].fullname+
"\x3c/span\x3e\x3c/div\x3e"},_labelFuncStyle:function(a,b){return'\x3cdiv class\x3d"linestyleordergrid"\x3e\x3cspan\x3e'+this._styleStore.query({name:a.name})[0].fullname+"\x3c/span\x3e\x3c/div\x3e"},_setupInputNode:function(){var a=document.createElement("div");this._textField=new p({name:"linestyletextbox",width:"auto",height:"auto"});this._textField.domNode.id="linestyletextbox";c(this._textField,"keydown",d.hitch(this,"_textFieldKeyPress"));c(this._textField,"blur",d.hitch(this,"_textFieldBlur"));
a.appendChild(this._textField.domNode);this._styleGrid=this._createGrid();a.appendChild(this._styleGrid.domNode);this._createAddButton();this._createRemoveButton();this._createUpButton();this._createDownButton();a.appendChild(this._addButton.domNode);a.appendChild(this._removeButton.domNode);a.appendChild(this._upButton.domNode);a.appendChild(this._downButton.domNode);this.own(this._styleGrid,this._addButton,this._removeButton,this._upButton,this._downButton,this._textField,a);this.own(c(a,"mouseenter",
d.hitch(this,"_editorMouseEnter")),c(a,"mouseleave",d.hitch(this,"_editorMouseLeave")));return a},_redisplayTable:function(){this._styleGrid.refresh();this._styleGrid.renderArray(this._tableData);this._checkSelection()},_createAddButton:function(){this._addButton=this._createLineStyleButton(q.orderButtonsAdd,"linestyleaddbutton","addLineStyleOrder")},_createLineStyleButton:function(a,b,c){a=new g({text:a,width:"auto",height:"auto",tag:this._tagBase+b,VerticalAlignment:"middle"});a.on("click",d.hitch(this,
c));a.startup();return a},addLineStyleOrder:function(){this._isUserChange=!1;var a={style:this._defaultStyle.style,marker:this._defaultStyle.marker},b=0;this._tableData?(b=this._tableData.length,this._tableData[b]=a):this._tableData=[a];this._redisplayTable();this._propertyValueChanged();this._styleGrid.select(b,b);n.focus(this._styleGrid.domNode);this._styleGrid.scrollTo({x:0,y:250})},_createRemoveButton:function(){this._removeButton=this._createLineStyleButton(q.orderButtonsRemove,"linestyleremovebutton",
"removeLineStyleOrder");this._removeButton.set("disabled",!0)},removeLineStyleOrder:function(){var a=this._getSelectedRow();-1!==a&&(this._isUserChange=!1,this._tableData.splice(a,1),this._redisplayTable(),this._propertyValueChanged(),a=Math.min(a,this._tableData.length-1),this._styleGrid.select(a,a))},_createUpButton:function(){this._upButton=this._createLineStyleButton(q.orderButtonsUp,"linestyleupbutton","moveLineStyleOrderUp");this._upButton.set("disabled",!0)},moveLineStyleOrderUp:function(){var a=
this._getSelectedRow();-1!==a&&(this._isUserChange=!1,this._tableData.splice(a-1,0,this._tableData.splice(a,1)[0]),this._redisplayTable(),this._propertyValueChanged(),this._styleGrid.select(a-1,a-1))},_createDownButton:function(){this._downButton=this._createLineStyleButton(q.orderButtonsDown,"linestyledownbutton","moveLineStyleOrderDown");this._downButton.set("disabled",!0)},moveLineStyleOrderDown:function(){var a=this._getSelectedRow();-1!==a&&(this._isUserChange=!1,this._tableData.splice(a+1,0,
this._tableData.splice(a,1)[0]),this._redisplayTable(),this._propertyValueChanged(),this._styleGrid.select(a+1,a+1))},_getSelectedRow:function(){var a=this._styleGrid.selection,b=-1,c;for(c in a)if(a.hasOwnProperty(c)){b=parseInt(c,10);break}return b},_tableRowSelected:function(){this._checkSelection();n.focus(this._styleGrid.domNode)},_checkSelection:function(){var a=this._styleGrid.selection,b,c=-1;for(b in a)a.hasOwnProperty(b)&&(c=parseInt(b,10));a=this._tableData.length;this._removeButton.set("disabled",
-1===c||1>=a);this._upButton.set("disabled",0===a||0===c||-1===c);this._downButton.set("disabled",0===a||c===a-1||-1===c)},postCreate:function(){if(!this._styleGrid){var a=this._setupInputNode();this.domNode.appendChild(a)}this.inherited(arguments)},_getLineStylesFromString:function(a){"string"===typeof a&&(a=a.replace(/'/g,""),a=0===a.indexOf("{")?-1===a.indexOf(",")?a.substring(1,a.length-1).split(";"):a.substring(1,a.length-1).split(","):-1===a.indexOf(",")?a.split(";"):a.split(","));return a},
edit:function(){if(!this._editing&&(this.inherited(arguments),this._editValue)){var a=this._getLineStylesFromString(this._editValue);this._displayTableForEdit(a)}},_displayTableForEdit:function(a){this._tableData=[];this._originalValue=this._editValue;var b=a.length,c,d,g;for(c=0;c<b;c+=1)d=this._getLineStyleFromString(a[c]),g=this._getMarkerStyleFromString(a[c]),this._tableData[c]={style:d[0].name,marker:g[0].name};this._currentlyOpening=!0;try{n.focus(this._styleGrid.domNode)}catch(f){}this._redisplayTable();
a=this._getLineStyleForTable();this._textField.set("value",this._getLineStyleString(a).replace(/,/g,", "));this._currentlyOpening=!1;this._opened=!0},_getLineStyleFromString:function(a){var b=["--","-.","-",":"],c,d="";for(c=0;c<b.length;c+=1)if(-1!==a.indexOf(b[c])){d=b[c];break}return this._styleStore.query({value:d})},_getMarkerStyleFromString:function(a){var b="+o*.xsd^v\x3e\x3cph".split("");0===a.indexOf("-.")&&(a=a.substring(2));var c,d="";for(c=0;c<b.length;c+=1)if(-1!==a.indexOf(b[c])){d=
b[c];break}return this._markerStore.query({value:d})},_markerStyleChanged:function(a){var b=this._getSelectedRow();-1!==b&&this._isUserChange&&(this._tableData[b].marker=a,this._propertyValueChanged());setTimeout(function(){this._isUserChange=!0}.bind(this),10)},_lineStyleChanged:function(a){var b=this._getSelectedRow();-1!==b&&this._isUserChange&&(this._tableData[b].style=a,this._propertyValueChanged());setTimeout(function(){this._isUserChange=!0}.bind(this),10)},_getLineStyleForTable:function(){var a,
b,c,d,g="{";for(a=0;a<this._tableData.length;a+=1)b=this._tableData[a].style,c=this._styleStore.query({name:b}),0===c.total&&(c=this._styleStore.query({fullname:b})),c=c[0].value,b=this._tableData[a].marker,d=this._markerStore.query({name:b}),0===d.total&&(d=this._markerStore.query({fullname:b})),d=d[0].value,0<a&&(g+=","),g=g+"'"+(c+" "+d).trim()+"'";return g+"}"},_getLineStyleString:function(a){a=a.substring(1,a.length-1);return a=a.replace(/'/g,"")},_propertyValueChanged:function(){var a=this._getLineStyleForTable(),
b=this._getLineStyleString(a);this._textField.set("value",b.replace(/,/g,", "));b!==this._originalValue&&(this.dispatchEvent("valueChanged",this,{editor:this,oldValue:this._originalValue,newValue:a}),this._updateLineStyleOrder(b))},_updateLineStyleOrder:function(a){try{this._renderer._editValue=a,this._renderer.editValue=a,this._renderer._value=a,this._renderer._originalValue=a,this._renderer._setUIValue(a.replace(/,/g,", ")),this._editValue=this._value=a}catch(b){}},_textFieldKeyPress:function(a){var c=
a.which?a.which:a.charCode?a.charCode:a.keyCode?a.keyCode:null;a&&null!==c&&c===b.ENTER?(a="{'"+this._textField.inputNode.value.replace(/'/g,"").replace(/\s*,\s*/g,"','")+"'}",c=this._getLineStylesFromString(a),this._displayTableForEdit(c),this.dispatchEvent("valueChanged",this,{editor:this,oldValue:this._originalValue,newValue:a}),this._updateLineStyleOrder(this._getCurrentLineStyle()),this.stopEditing(),this._opened=!1):a&&(null!==c&&c===b.ESCAPE)&&(this._textField.set("value",this._getCurrentLineStyle().replace(/,/g,
", ")),this._closeLineStyleOrderEditor())},_textFieldBlur:function(a){this._isUserChange=!1;a=this._getLineStylesFromString(this._textField.get("value").replace(/\s*,\s*/g,"','"));this._displayTableForEdit(a)},_getCurrentLineStyle:function(){var a=this._getLineStyleForTable();return this._getLineStyleString(a)},_isLineStyleButton:function(a){return a&&(a===this._upButton||a===this._downButton||a===this._removeButton||a===this._addButton)},_isLineStyleDropdown:function(a){return a&&a.hasOwnProperty("store")&&
(a.store===this._styleStore||a.store===this._markerStore)},_closeLineStyleOrderEditor:function(){this._propertyValueChanged();this.stopEditing();this._opened=!1},_commit:function(){},_handleBlurEvent:function(a){if(!this._currentlyOpening&&this._opened){try{if(this._isLineStyleButton(a)||this._isLineStyleDropdown(a)||a._createMenuItem||this.domNode.parentNode.parentNode===a.domNode||this._mouseOverEditor)return}catch(b){}a&&(a.domNode&&!this._styleGrid.domNode.contains(a.domNode))&&this._closeLineStyleOrderEditor();
n&&(n.curNode&&n.curNode.id)&&!(n.curNode.id&&"linestyleordergrid"===n.curNode.id)&&(a=s.getEnclosingWidget(n.curNode),(!a||!(a===this||this._isLineStyleButton(a)||this._isLineStyleDropdown(a)))&&this._closeLineStyleOrderEditor())}},_setReadOnly:function(){}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(k,d,e){return k([d,e],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),
function(k,d,e,c,b,a,f){function l(a,b){b&&b.nodeType&&a.appendChild(b)}function m(a,b,c,d){if(this.formatter){d=this.formatter;var f=this.grid.formatterScope;c.innerHTML="string"===typeof d&&f?f[d](b,a):this.formatter(b,a)}else null!=b&&c.appendChild(document.createTextNode(b))}var h=8>c("ie")&&!c("quirks");d=d(a,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!=typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&
a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var d=a.columnId;if(d){b=d;c=a;break}a=a.parentNode}while(a&&a!=this.domNode)}if(!c&&"undefined"!=typeof b){var f=this.row(a);if(d=f&&f.element)for(var d=d.getElementsByTagName("td"),e=0;e<d.length;e++)if(d[e].columnId==b){c=d[e];break}}if(null!=a)return{row:f||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(a,d,e,l){var m=b("table.dgrid-row-table[role\x3dpresentation]"),
k=9>c("ie")||c("quirks")?b(m,"tbody"):m,t,u,w,v,x,z,y,B,C,A;e=e||this.subRows;u=0;for(w=e.length;u<w;u++){z=e[u];t=b(k,"tr");z.className&&b(t,"."+z.className);v=0;for(x=z.length;v<x;v++){y=z[v];B=y.id;C=y.field?".field-"+f.escapeCssIdentifier(y.field,"-"):"";(A="function"===typeof y.className?y.className(l):y.className)&&(C+="."+A);C=b(a+(".dgrid-cell.dgrid-cell-padding"+(B?".dgrid-column-"+f.escapeCssIdentifier(B,"-"):"")+C.replace(/ +/g,"."))+"[role\x3d"+("th"===a?"columnheader":"gridcell")+"]");
C.columnId=B;h?(B=b(C,"!dgrid-cell-padding div.dgrid-cell-padding"),C.contents=B):B=C;if(A=y.colSpan)C.colSpan=A;if(A=y.rowSpan)C.rowSpan=A;d(B,y);t.appendChild(C)}}return m},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},renderRow:function(a,c){var d=this.createRowCells("td",function(b,d){var f=a;d.get?f=d.get(a):"field"in d&&"_item"!=d.field&&(f=
f[d.field]);d.renderCell?l(b,d.renderCell(a,f,b,c)):m.call(d,a,f,b,c)},c&&c.subRows,a);return b("div[role\x3drow]\x3e",d)},renderHeader:function(){var a=this,d=this.headerNode,f=d.childNodes.length;for(d.setAttribute("role","row");f--;)b(d.childNodes[f],"!");f=this.createRowCells("th",function(a,b){var c=b.headerNode=a;h&&(a=a.parentNode);var d=b.field;d&&(a.field=d);if(b.renderHeaderCell)l(c,b.renderHeaderCell(c));else if("label"in b||b.field)c.appendChild(document.createTextNode("label"in b?b.label:
b.field));!1!==b.sortable&&(d&&"_item"!=d)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[f.id=this.id+"-header"]=this.columns;d.appendChild(f);this._sortListener&&this._sortListener.remove();this._sortListener=e(f,"click,keydown",function(b){if("click"==b.type||32==b.keyCode||!c("opera")&&13==b.keyCode){var f=b.target,h,l,m;do if(f.sortable){m=[{attribute:h=f.field||f.columnId,descending:(l=a._sort[0])&&l.attribute==h&&!l.descending}];
h={bubbles:!0,cancelable:!0,grid:a,parentType:b.type,sort:m};e.emit(b.target,"dgrid-sort",h)&&(a._sortNode=f,a.set("sort",m));break}while((f=f.parentNode)&&f!=d)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,d;this.inherited(arguments);if(!c("ie")||7<c("ie")&&!c("quirks"))if(b.style.width="",b&&a&&(d=a.offsetWidth)!=b.offsetWidth)b.style.width=d+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(a,
b){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(a){var b=this.columns,c;for(c in b){var d=b[c];if(d.field==a)return d.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(b(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),b(this._lastSortedArrow,"!"),delete this._lastSortedArrow);c&&(this._sort=a);if(a[0]){var d=a[0].attribute,f=a[0].descending,d=this._sortNode||this._findSortArrowParent(d),e;delete this._sortNode;d&&(d=d.contents||
d,e=this._lastSortedArrow=b("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),e.innerHTML="\x26nbsp;",d.insertBefore(e,d.firstChild),b(d,f?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,b){var c=[],d=b instanceof Array;f.each(b,function(f,e){"string"==typeof f&&(b[e]=f={label:f});!d&&!f.field&&(f.field=e);e=f.id=f.id||(isNaN(e)?
e:a+e);this._configColumn&&(this._configColumn(f,e,b,a),e=f.id);d&&(this.columns[e]=f);f.grid=this;"function"===typeof f.init&&f.init();c.push(f)},this);return d?b:c},_destroyColumns:function(){var a=this.subRows,b=a&&a.length,c,d,f,e;this.cleanup();for(c=0;c<b;c++){d=0;for(e=a[c].length;d<e;d++)f=a[c][d],"function"===typeof f.destroy&&f.destroy()}},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=
this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){k.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",a)},setSubRows:function(a){k.deprecated("setSubRows(...)",
'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});d.appendIfNode=l;d.defaultRenderCell=m;return d})},"put-selector/put":function(){(function(k){var d,e=/[-+,> ]/;k([],d=function(c,b){function a(b){function d(){t&&(q&&t!=q)&&(q==b&&(k||(k=e.test(x)&&
c.createDocumentFragment()))?k:q).insertBefore(t,r||null)}for(var k,s,r,q,t,u=arguments,w=u[0],v=0;v<u.length;v++){var x=u[v];if("object"==typeof x){s=!1;if(x instanceof Array){t=c.createDocumentFragment();for(var z=0;z<x.length;z++)t.appendChild(a(x[z]));x=t}if(x.nodeType)t=x,d(),q=x,r=0;else for(z in x)t[z]=x[z]}else if(s)s=!1,t.appendChild(c.createTextNode(x));else{1>v&&(b=null);s=!0;if(w=x.replace(f,function(f,e,k,n,s,w){e&&(d(),"-"==e||"+"==e?(q=(r=t||q).parentNode,t=null,"+"==e&&(r=r.nextSibling)):
("\x3c"==e?q=t=(t||q).parentNode:(","==e?q=b:t&&(q=t),t=null),r=0),t&&(q=t));if((f=!k&&n)||!t&&(k||s))"$"==f?(f=u[++v],q.appendChild(c.createTextNode(f))):(f=f||a.defaultTag,(e=h&&u[v+1]&&u[v+1].name)&&(f="\x3c"+f+' name\x3d"'+e+'"\x3e'),t=m&&~(l=f.indexOf("|"))?c.createElementNS(m[f.slice(0,l)],f.slice(l+1)):c.createElement(f));if(k)if("$"==n&&(n=u[++v]),"#"==k)t.id=n;else if(e=(f=t.className)&&(" "+f+" ").replace(" "+n+" "," "),"."==k)t.className=f?(e+n).substring(1):n;else if("!"==x){var z;h?a("div",
t,"\x3c").innerHTML="":(z=t.parentNode)&&z.removeChild(t)}else e=e.substring(1,e.length-1),e!=f&&(t.className=e);s&&("$"==w&&(w=u[++v]),"style"==s?t.style.cssText=w:(k="!"==s.charAt(0)?(s=s.substring(1))&&"removeAttribute":"setAttribute",w=""===w?s:w,m&&~(l=s.indexOf("|"))?t[k+"NS"](m[s.slice(0,l)],s.slice(l+1),w):t[k](s,w)));return""}))throw new SyntaxError("Unexpected char "+w+" in "+x);d();q=w=t||q}}b&&k&&b.appendChild(k);return w}e=b||e;var f=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,
l,m=!1;c=c||document;var h="object"==typeof c.createElement;a.addNamespace=function(a,b){c.createElementNS?(m||(m={}))[a]=b:c.namespaces.add(a,b)};a.defaultTag="div";a.forDocument=d;return a})})(function(k,d,e){e=e||d;"function"===typeof define?define([],function(){return e()}):"undefined"==typeof window?require("./node-html")(module,e):put=e()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc ./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(k,d,e,c,b,a,f,l,m){function h(a,b){m(document.body,a,".dgrid-scrollbar-measure");var c=a["offset"+b]-a["client"+b];a.className="";document.body.removeChild(a);return c}function g(a){var b=a?"."+a.replace(u,"."):"";this._class&&(b="!"+this._class.replace(u,"!")+b);m(this.domNode,b);this._class=a}function p(){return this._class}function n(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function s(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&
(this.bodyNode.scrollTop=a.y)}l("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var r,q;b.add("dom-scrollbar-width",function(a,b,c){return h(c,"Width")});b.add("dom-scrollbar-height",function(a,b,c){return h(c,"Height")});b.add("dom-rtl-scrollbar-left",function(a,c,d){a=m("div");m(document.body,d,".dgrid-scrollbar-measure[dir\x3drtl]");m(d,a);c=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");d.className="";document.body.removeChild(d);m(a,"!");d.removeAttribute("dir");
return c});var t=0,u=/ +/g,w=7>b("ie")&&!b("quirks")?function(){var a,b,c;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||[],c[0]!==b||c[1]!==a))this.resize(),this._prevWinDims=[b,a]}:function(){this._started&&this.resize()};return d(b("touch")?f:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,b){var c=this;
(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,c){var f=this.domNode=c||m("div"),e;a?(this.params=a,d.safeMixin(this,a),e=a["class"]||a.className||f.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&
this.postMixInProperties();this.id=f.id=f.id||this.id||"dgrid_"+t++;null===this.useTouchScroll&&(this.useTouchScroll=!b("dom-scrollbar-width"));this.buildRendering();e&&g.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var d=this.domNode,f=this.addUiClasses,e=this,g,h,l,k;k=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();d.className="";m(d,"[role\x3dgrid].dgrid.dgrid-"+
this.listType+(f?".ui-widget":""));g=this.headerNode=m(d,"div.dgrid-header.dgrid-header-row"+(f?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(b("quirks")||8>b("ie"))&&m(d,"div.dgrid-spacer");h=this.bodyNode=m(d,"div.dgrid-scroller");b("ff")&&(h.tabIndex=-1);this.headerScrollNode=m(d,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(f?".ui-widget-header":""));l=this.footerNode=m("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));m(d,l);k&&(d.className+=
" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));c(h,"scroll",function(a){e.showHeader&&(g.scrollLeft=a.scrollLeft||h.scrollLeft);a.stopPropagation();c.emit(d,"scroll",{scrollTarget:h})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=m(this.bodyNode,"div.dgrid-content"+(f?".ui-widget-content":""));this._listeners.push(this._resizeHandle=c(window,"resize",a.throttleDelayed(w,this)))},postCreate:b("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:
function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var c=this.bodyNode,d=this.headerNode,f=this.footerNode,e=d.offsetHeight,g=this.showFooter?f.offsetHeight:0,h=b("quirks")||7>b("ie");this.headerScrollNode.style.height=c.style.marginTop=e+"px";c.style.marginBottom=g+"px";h&&(c.style.height="",c.style.height=Math.max(this.domNode.offsetHeight-e-g,0)+"px",g&&(f.style.bottom=
"1px",setTimeout(function(){f.style.bottom=""},0)));r||(r=b("dom-scrollbar-width"),q=b("dom-scrollbar-height"),b("ie")&&(r++,q++),a.addCssRule(".dgrid-scrollbar-width","width: "+r+"px"),a.addCssRule(".dgrid-scrollbar-height","height: "+q+"px"),17!=r&&!h&&(a.addCssRule(".dgrid-header-row","right: "+r+"px"),a.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+r+"px")));h&&(d.style.width=c.clientWidth+"px",setTimeout(function(){d.scrollLeft=c.scrollLeft},0))},addCssRule:function(b,c){var d=a.addCssRule(b,
c);this.cleanAddedRules&&this._listeners.push(d);return d},on:function(a,d){var f=c(this.domNode,a,d);b("dom-addeventlistener")||this._listeners.push(f);return f},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners}this._started=!1;this.cleanup();m(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,b,c,d,f){if(b){var e=this.insertRow(a,b,c,d,f);m(e,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){m(e,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return e}},adjustRowIndices:function(a){var b=
a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&m(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,c){function d(){var b=arguments;if(-1<s)for(var e=0;e<b.length;e++){var g=b[e],h=p[g?0:p.length-1];if(h=h&&f(h)){var m=h[g?"previousSibling":"nextSibling"];m&&(m=l.row(m));m&&m.element!=h&&(g=g?"unshift":"push",a[g](m.data),
p[g](m.element),c.count++)}}}function f(a){return!e.isDescendant(a,l.domNode)&&document.getElementById(a.id)?l.row(a.id.slice(l.id.length+5)).element:a}function g(a){q=l.insertRow(a,t,null,m++,c);q.observerIndex=s;return q}function h(a){u=a.slice(0);(n=b?b.parentNode:l.contentNode)&&n.parentNode&&(n!==l.contentNode||a.length)?(n.insertBefore(t,b||null),(q=a[a.length-1])&&l.adjustRowIndices(q)):k[s]&&l.cleanEmptyObservers&&"undefined"!==typeof s&&(k[s].cancel(),k[s]=0,l._numObservers--);p=a;r&&(r.rows=
p)}c=c||{};var l=this,m=c.start||0,k=this.observers,p,n,s;b||(this._lastCollection=a);if(a.observe){l._numObservers++;var r=a.observe(function(e,g,h){var m,k,r;-1<g&&p[g]&&(m=p.splice(g,1)[0],m.parentNode==n&&((k=m.nextSibling)&&g!=h&&k.rowIndex--,l.removeRow(m)),c.count--,l._processScroll&&l._processScroll());if(-1<h){if(p.length)if(0===h)r=(r=p[h])&&f(r);else{if(r=p[h-1])r=f(r),r=(r.connected||r).nextSibling}else r=l._getFirstRowSibling&&l._getFirstRowSibling(n);m&&(r&&m.id===r.id)&&(r=(r.connected||
r).nextSibling);r&&!r.parentNode&&(r=document.getElementById(r.id));m=b&&b.parentNode||r&&r.parentNode||l.contentNode;if(m=l.newRow(e,m,r,c.start+h,c))if(m.observerIndex=s,p.splice(h,0,m),!k||h<g)k=m.previousSibling,k=!k||k.rowIndex+1==m.rowIndex||0==m.rowIndex?m:k;c.count++}0===g?d(1,1):g===a.length-(-1===h?0:1)&&d(0,0);g!=h&&k&&l.adjustRowIndices(k);l._onNotification(p,e,g,h)},!0);s=k.push(r)-1}var t=document.createDocumentFragment(),q,u;if(a.map){if(p=a.map(g,console.error),p.then)return a.then(function(b){a=
b;return p.then(function(a){h(a);d(1,1,0,0);return u})})}else{p=[];for(var w=0,N=a.length;w<N;w++)p[w]=g(a[w])}h(p);d(1,1,0,0);return u},_onNotification:function(a,b,c,d){},renderHeader:function(){},_autoId:0,insertRow:function(a,b,c,d,f){var e=f.parentId,e=this.id+"-row-"+(e?e+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),g=document.getElementById(e),h=g&&g.previousSibling;g&&(g===c&&(c=(c.connected||c).nextSibling),this.removeRow(g));g=this.renderRow(a,f);
g.className=(g.className||"")+" dgrid-row "+(1==d%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[g.id=e]=a;b.insertBefore(g,c||null);h&&this.adjustRowIndices(h);g.rowIndex=d;return g},renderRow:function(a,b){return m("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||m(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+
5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,d){var f,g;g=f=a.element;b=b||1;do if(a=f[0>b?"previousSibling":"nextSibling"]){do if((f=a)&&-1<(f.className+" ").indexOf(c+" ")){g=f;b+=0>b?1:-1;break}while(a=(!d||!f.hidden)&&f[0>b?"lastChild":"firstChild"])}else if(f=f.parentNode,
!f||f===this.bodyNode||f===this.headerNode)break;while(b);return g},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:b("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):s.call(this,a)}:s,getScrollPosition:b("touch")?function(){return this.useTouchScroll?this.inherited(arguments):n.call(this)}:n,get:function(a){var b=
"_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:p,_setClass:g,_getClassName:p,_setClassName:g,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();
this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(c,d){var f=c[a],g=d[a];void 0===f&&(f="");void 0===g&&(g="");return f==g?0:f>g==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){k.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;m(b,(a?"!":".")+"dgrid-header-hidden");
this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){k.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;m(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(k,d){k.add("dom-contains",function(a,b,c){return!!c.contains});var e=[],c,b,a,f=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,
l={defaultDelay:15,throttle:function(a,b,c){var d=!1;c=c||l.defaultDelay;return function(){d||(d=!0,a.apply(b,arguments),setTimeout(function(){d=!1},c))}},throttleDelayed:function(a,b,c){var d=!1;c=c||l.defaultDelay;return function(){if(!d){d=!0;var f=arguments;setTimeout(function(){d=!1;a.apply(b,f)},c)}}},debounce:function(a,b,c){var d;c=c||l.defaultDelay;return function(){d&&(clearTimeout(d),d=null);var f=arguments;d=setTimeout(function(){a.apply(b,f)},c)}},each:function(a,b,c){var d,f;if(a)if("number"===
typeof a.length){d=0;for(f=a.length;d<f;d++)b.call(c,a[d],d,a)}else for(d in a)b.call(c,a[d],d,a)},contains:function(a,b){return k("dom-contains")?a.contains(b):a.compareDocumentPosition(b)&8},addCssRule:function(f,h){c||(c=d(document.getElementsByTagName("head")[0],"style"),c=c.sheet||c.styleSheet,b=c.deleteRule?"deleteRule":"removeRule",a=c.cssRules?"cssRules":"rules");var g=e.length;e[g]=(c.cssRules||c.rules).length;c.addRule?c.addRule(f,h):c.insertRule(f+"{"+h+"}",e[g]);return{get:function(b){return c[a][e[g]].style[b]},
set:function(b,d){"undefined"!==typeof e[g]&&(c[a][e[g]].style[b]=d)},remove:function(){var a=e[g],d,f;if(void 0!==a){c[b](a);e[g]=void 0;d=g+1;for(f=e.length;d<f;d++)e[d]>a&&e[d]--}}}},escapeCssIdentifier:function(a,b){return"string"===typeof a?a.replace(f,b||"\\$1"):a}};return l})},"dgrid/TouchScroll":function(){define("dojo/_base/declare dojo/on ./util/touch ./util/has-css3 put-selector/put xstyle/css!./css/TouchScroll.css".split(" "),function(k,d,e,c,b){function a(a,b,c,f){f=a.touchNode;var e=
q[a.id],g,h,l;if("object"!==typeof b)l=b,b=c,c=h=!0;else{c="x"in b;h="y"in b;if(!c||!h)g=a.getScrollPosition();l=c?b.x:g.x;b=h?b.y:g.y}f.style[D]=F+-l+"px,"+-b+"px"+G;e&&(c&&a._scrollbarXNode)&&(a._scrollbarXNode.style[D]=F+l*e.parentWidth/e.scrollWidth+"px,0"+G);e&&(h&&a._scrollbarYNode)&&(a._scrollbarYNode.style[D]=F+"0,"+b*e.parentHeight/e.scrollHeight+"px"+G);d.emit(a.touchNode.parentNode,"scroll",{scrollLeft:l,scrollTop:b})}function f(a){return q[a.id]?x.exec(window.getComputedStyle(a.touchNode)[D]):
v.exec(a.touchNode.style[D])}function l(a){var c=this.widget,c=[this.node,c._scrollbarXNode,c._scrollbarYNode],d=c.length;this.timer&&(clearTimeout(this.timer),this.timer=null);for(this.transitionHandler&&this.transitionHandler.remove();d--;)c[d]&&(c[d].style[A+"Duration"]="0");(!a||!a.preserveScrollbars)&&b(this.node.parentNode,".touchscroll-fadeout");delete this.resetEffects}function m(a){var b=a.widget,c=b.touchNode,d=b.id,g=0,h=0,l;if(e.countCurrentTouches(a,c)===b.touchesToScroll){if(l=f(b))g=
+l[1],h=+l[2];if(l=q[d])l.resetEffects&&l.resetEffects({preserveScrollbars:!0}),c.style[D]=F+g+"px,"+h+"px"+G,t[d]=l;a=a.targetTouches[0];l=q[d]={widget:b,node:c,startX:g-a.pageX,startY:h-a.pageY,lastX:g,lastY:h,pageX:a.pageX,pageY:a.pageY,tickFunc:function(){var a=q[d],b,c;a&&(b=a.node,(c=v.exec(b.style[D]))?(b=+c[1],c=+c[2],a.velX=b-a.lastX,a.velY=c-a.lastY,a.lastX=b,a.lastY=c):a.lastX=a.lastY=0,a.timer=setTimeout(a.tickFunc,s))}};l.timer=setTimeout(l.tickFunc,s)}}function h(c){var d=c.widget,f=
d.id,g=d.touchesToScroll,h=q[f],l,m;if(!h||(l=e.countCurrentTouches(c,d.touchNode))!==g)l>g&&d.cancelTouchScroll();else{l=c.targetTouches;g=l[0];if(!h.scrollbarsShown&&(t[f]||Math.abs(g.pageX-h.pageX)>d.scrollThreshold||Math.abs(g.pageY-h.pageY)>d.scrollThreshold)){var f=d.touchNode,k=f.parentNode,p=k.offsetWidth-w,n=k.offsetHeight-w,s=h.scrollWidth=f.scrollWidth,r=h.scrollHeight=f.scrollHeight,u=h.parentWidth=k.offsetWidth,v=h.parentHeight=k.offsetHeight;s>u?(d._scrollbarXNode||(m=b(k,"div.touchscroll-x")),
m=d._scrollbarXNode=d._scrollbarXNode||b(m,"div.touchscroll-bar"),m.style.width=p*p/s+"px",m.style.left=f.offsetLeft+"px",b(k,".touchscroll-scrollable-x"),h.scrollableX=!0):b(k,"!touchscroll-scrollable-x");r>v?(d._scrollbarYNode||(m=b(k,"div.touchscroll-y")),m=d._scrollbarYNode=d._scrollbarYNode||b(m,"div.touchscroll-bar"),m.style.height=n*n/r+"px",m.style.top=f.offsetTop+"px",b(k,".touchscroll-scrollable-y"),h.scrollableY=!0):b(k,"!touchscroll-scrollable-y");b(k,"!touchscroll-fadeout");h.scrollbarsShown=
!0;for(m=l.length;m--;)l[m].touchScrolled=!0}if(h.scrollbarsShown&&(h.scrollableX||h.scrollableY))c.preventDefault(),c=h.scrollableX?h.startX+g.pageX:0,g=h.scrollableY?h.startY+g.pageY:0,m=h.scrollableX?-(h.scrollWidth-h.parentWidth):0,h=h.scrollableY?-(h.scrollHeight-h.parentHeight):0,0<c?c/=2:c<m&&(c=m-(m-c)/2),0<g?g/=2:g<h&&(g=h-(h-g)/2),a(d,-c,-g)}}function g(a){var b=a.widget,c=b.id;q[c]&&e.countCurrentTouches(a,b.touchNode)==b.touchesToScroll-1&&n(c)}function p(a,b,c){function f(){delete g.transitionHandler;
g.resetEffects();delete q[a]}var g=q[a],e=g.widget,h=g.node,l=g.scrollableX?Math.max(Math.min(0,b),-(g.scrollWidth-g.parentWidth)):b,m=g.scrollableY?Math.max(Math.min(0,c),-(g.scrollHeight-g.parentHeight)):c;delete g.timer;l!=b||m!=c?(g.transitionHandler=d.once(h,y,f),h.style[A+"Duration"]=e.bounceDuration+"ms",h.style[D]=F+l+"px,"+m+"px"+G,l!=b&&g.scrollableX&&(h=g.widget._scrollbarXNode,h.style[A+"Duration"]=e.bounceDuration+"ms",h.style[D]=b>l?F+"0,0"+G:F+(h.parentNode.offsetWidth-h.offsetWidth)+
"px,0"+G),m!=c&&g.scrollableY&&(h=g.widget._scrollbarYNode,h.style[A+"Duration"]=e.bounceDuration+"ms",h.style[D]=c>m?F+"0,0"+G:F+"0,"+(h.parentNode.offsetHeight-h.offsetHeight)+"px"+G)):f()}function n(b){var c=q[b],d=t[b],f,g;delete t[b];c.timer&&clearTimeout(c.timer);c.resetEffects=l;(f=v.exec(c.node.style[D]))?(g=+f[1],f=+f[2]):g=f=0;if(!c.velX&&!c.velY||(0<=g||g<=-(c.scrollWidth-c.parentWidth))&&(0<=f||f<=-(c.scrollHeight-c.parentHeight)))p(b,g,f);else{if(d&&(d.velX||d.velY)&&(0>=c.velX&&0>=d.velX||
0<=c.velX&&0<=d.velX)&&(0>=c.velY&&0>=d.velY||0<=c.velY&&0<=d.velY))c.velX=1.15*(c.velX+d.velX),c.velY=1.15*(c.velY+d.velY);c.lastX=g;c.lastY=f;c.calcFunc=function(){var c=q[b],d,f,g,e,h,l;if(c)if(d=c.widget,h=d.glideDecel(c.velX),l=d.glideDecel(c.velY),Math.abs(h)>=u||Math.abs(l)>=u){g=c.lastX+h;e=c.lastY+l;if(0<g||g<-(c.scrollWidth-c.parentWidth))for(f=6;f--;)h=d.glideDecel(h);if(0<e||e<-(c.scrollHeight-c.parentHeight))for(f=6;f--;)l=d.glideDecel(l);a(d,-g,-e);c.lastX=g;c.lastY=e;c.velX=h;c.velY=
l;c.timer=setTimeout(c.calcFunc,r)}else p(b,c.lastX,c.lastY)};c.timer=setTimeout(c.calcFunc,r)}}var s=50,r=30,q={},t={},u=1,w=8,v=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,x=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,z=c("css-transitions"),y=c("transitionend"),B=c("css-transforms");c=c("css-transforms3d");var C,A,D,F,G;c?(F="translate3d(",G=",0)"):B&&(F="translate(",G=")");if(!z||!F)return console.warn("CSS3 features unavailable for touch scroll effects."),function(){};
D=c||B;D=!0===D?"transform":D+"Transform";A=!0===z?"transition":z+"Transition";C=!0===B?"":"-"+B.toLowerCase()+"-";return k(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments)},_initTouch:function(){function a(){f.cancelTouchScroll()}function b(c){return function(b){b.widget=f;b.cancelTouchScroll=a;c.call(this,b)}}var c=this.touchNode=this.touchNode||this.containerNode,f=this,e;!c||!c.parentNode?console.warn("TouchScroll requires a nested node upon which to operate."):
(e=c.parentNode,e.style.overflow="hidden",c.style[A+"Property"]=C+"transform",c.style[A+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)",this._touchScrollListeners=[d(e,"touchstart",b(m)),d(e,"touchmove",b(h)),d(e,"touchend,touchcancel",b(g))])},destroy:function(){for(var a=this._touchScrollListeners.length;a--;)this._touchScrollListeners[a].remove();delete q[this.id];this.inherited(arguments)},scrollTo:function(b){var c=q[this.id],d=this.touchNode,f=d.parentNode;!b.preserveMomentum&&(c&&c.resetEffects)&&
c.resetEffects();b.x&&(b.x=Math.max(0,Math.min(b.x,d.scrollWidth-f.offsetWidth)));b.y&&(b.y=Math.max(0,Math.min(b.y,d.scrollHeight-f.offsetHeight)));a(this,b)},getScrollPosition:function(){var a=f(this);return a?{x:-a[1],y:-a[2]}:{x:0,y:0}},cancelTouchScroll:function(){var a=q[this.id];a&&(a.resetEffects?a.resetEffects():(a.timer&&clearTimeout(a.timer),b(a.node.parentNode,".touchscroll-fadeout")),delete q[this.id])},glideDecel:function(a){return 0.9*a}})})},"dgrid/util/touch":function(){define(["dojo/on",
"dojo/query"],function(k,d){function e(b,a,d,e){if(!(1<d.targetTouches.length)){var m=d.changedTouches[0],h=m.screenX,g=m.screenY;e&&d.preventDefault();var p=k(b,"touchend",function(b){var d=b.changedTouches[0];b.targetTouches.length||(Math.abs(d.screenX-h)<c.tapRadius&&Math.abs(d.screenY-g)<c.tapRadius&&(e&&b.preventDefault(),a.call(this,b)),p.remove())})}}var c={tapRadius:10,dbltapTime:250,selector:function(b,a,c){return function(e,m){var h=a.bubble;h?a=h:!1!==c&&(c=!0);return k(e,a,function(a){var h=
a.target;3==h.nodeType&&(h=h.parentNode);for(;!d.matches(h,b,e);)if(h==e||!c||!(h=h.parentNode))return;return m.call(h,a)})}},countCurrentTouches:function(b,a){if(!("touches"in b))return-1;var c,d,e;for(d=c=0;e=b.touches[c];++c)a.contains(e.target)&&++d;return d},tap:function(b,a){return k(b,"touchstart",function(c){e(b,a,c)})},dbltap:function(b,a){var d,l;return k(b,"touchstart",function(m){d?e(b,function(b){if(d){var g=b.changedTouches[0];Math.abs(g.screenX-d.screenX)<c.tapRadius&&Math.abs(g.screenY-
d.screenY)<c.tapRadius&&(l&&clearTimeout(l),d=l=null,a.call(this,b))}},m,!0):e(b,function(a){d=a.changedTouches[0];l=setTimeout(function(){d=l=null},c.dbltapTime)},m)})}};return c})},"dgrid/util/has-css3":function(){define(["dojo/has"],function(k){function d(c,b){var a=c.style,d;if(b in a)return!0;b=b.slice(0,1).toUpperCase()+b.slice(1);for(d=e.length;d--;)if(e[d]+b in a)return e[d];return!1}var e=["ms","O","Moz","Webkit"];k.add("css-transitions",function(c,b,a){return d(a,"transitionProperty")});
k.add("css-transforms",function(c,b,a){return d(a,"transform")});k.add("css-transforms3d",function(c,b,a){return d(a,"perspective")});k.add("transitionend",function(){var c=k("css-transitions");return!c?!1:!0===c?"transitionend":{ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[c]});return k})},"xstyle/css":function(){define(["require"],function(k){function d(d,c,b){var a=document.documentElement;d=a.insertBefore(document.createElement(d),a.firstChild);d.id=
c;c=(d.currentStyle||getComputedStyle(d,null))[b];a.removeChild(d);return c}return{load:function(e,c,b,a){function f(a){var f=d("x-parse",null,"content"),e=a&&(a.sheet||a.styleSheet);f&&"none"!=f&&"normal"!=f?c([eval(f)],function(c){a?c.process(a,b):(c.processAll(),b(e))}):b(e)}var l=c.toUrl(e),m;l.match(/!$/)&&(m={wait:!1},l=l.slice(0,-1));var h=c.cache&&c.cache["url:"+l];if(h)h.xCss&&(h=h.cssText),k(["./core/load-css"],function(a){f(a.insertCss(h))});else{if("none"==d("div",e.replace(/\//g,"-").replace(/\..*/,
"")+"-loaded","display"))return f();k(["./core/load-css"],function(a){a(l,f,m)})}}}})},"xstyle/has-class":function(){define(["dojo/has"],function(k){var d={};return function(){for(var e,c=arguments,b=0;b<c.length;b++)if(e=c[b],!d[e]){d[e]=!0;var a=e.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),f=k(a[2]),l=-a[4];if((0<l?l<=f&&(-a[5]||l)>=f:!!f)==!a[1])document.documentElement.className+=" has-"+e}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),
function(k,d,e,c,b,a,f,l,m){return e([k,d],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:l.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var a=this;f(this.bodyNode,"scroll",l[this.pagingMethod](function(b){a._processScroll(b)},null,this.pagingDelay))},renderQuery:function(a,d){function f(a){m(v,"!");if(a)throw e._refreshDeferred&&(e._refreshDeferred.reject(a),
delete e._refreshDeferred),a;}var e=this,l=d&&d.container||this.contentNode,k={query:a,count:0,options:d},q,t=this.preload,u,w={node:m(l,"div.dgrid-preload",{rowIndex:0}),count:0,query:a,next:k,options:d};w.node.style.height="0";k.node=q=m(l,"div.dgrid-preload");k.previous=w;q.rowIndex=this.minRowsPerPage;t?((k.next=t.next)&&q.offsetTop>=t.node.offsetTop?k.previous=t:(k.next=t,k.previous=t.previous),k.previous.next=k,k.next.previous=k):this.preload=k;var v=m(q,"-div.dgrid-loading");m(v,"div.dgrid-below").innerHTML=
this.loadingMessage;d=c.mixin(this.get("queryOptions"),d,{start:0,count:this.minRowsPerPage},"level"in a?{queryLevel:a.level}:null);this._trackError(function(){return u=a(d)});if("undefined"===typeof u)f();else return b.when(e.renderArray(u,q,d),function(a){return b.when("undefined"===typeof u.total?u.length:u.total,function(b){var c=a.length,f=q.parentNode,h=e.noDataNode;m(v,"!");"queryLevel"in d||(e._total=b);0===b&&(h&&(m(h,"!"),delete e.noDataNode),e.noDataNode=h=m("div.dgrid-no-data"),f.insertBefore(h,
e._getFirstRowSibling(f)),h.innerHTML=e.noDataMessage);for(h=f=0;h<c;h++)f+=e._calcRowHeight(a[h]);c&&f&&(e.rowHeight=f/c);b-=c;k.count=b;q.rowIndex=c;b?q.style.height=Math.min(b*e.rowHeight,e.maxEmptySpace)+"px":(q.style.display="none",d.count++);e._previousScrollPosition&&(e.scrollTo(e._previousScrollPosition),delete e._previousScrollPosition);e._processScroll();e._refreshDeferred&&(e._refreshDeferred.resolve(u),delete e._refreshDeferred);return a},f)},f),u},refresh:function(a){var c=this,d=a&&
a.keepScrollPosition,e;"undefined"===typeof d&&(d=this.keepScrollPosition);d&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return d=this._refreshDeferred=new b,e=c.renderQuery(function(a){return c.store.query(c.query,a)}),"undefined"===typeof e&&d.reject(),d.then(function(a){setTimeout(function(){f.emit(c.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:c,results:a})},0);delete c._refreshDeferred;return a},function(a){delete c._refreshDeferred;
throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var b=a.nextSibling;return b&&!/\bdgrid-preload\b/.test(b.className)?b.offsetTop-a.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(a){function d(a,b,c,e){var g=l.farOffRemoval,h=a.node;if(b>2*g){for(var k,n=h[c],r=0,t=0,q=[];k=n;){var u=l._calcRowHeight(k);if(r+u+g>b||0>n.className.indexOf("dgrid-row")&&0>n.className.indexOf("dgrid-loading"))break;
n=k[c];r+=u;t+=k.count||1;l.removeRow(k,!0);q.push(k)}a.count+=t;e?(h.rowIndex-=t,f(a)):h.style.height=h.offsetHeight+r+"px";var w=m("div",q);setTimeout(function(){m(w,"!")},1)}}function f(a,b){a.node.style.height=Math.min(a.count*l.rowHeight,b?Infinity:l.maxEmptySpace)+"px"}function e(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var l=this,k=l.bodyNode;a=a&&a.scrollTop||this.getScrollPosition().y;var k=k.offsetHeight+a,q,t,u=l.preload,w=l.lastScrollTop,v=l.bufferRows*l.rowHeight,
x=v-l.rowHeight,z,y,B,C=!0;for(l.lastScrollTop=a;u&&!u.node.offsetWidth;)u=u.previous;for(;u&&u!=q;){q=l.preload;l.preload=u;t=u.node;var A=t.offsetTop;if(k+1+x<A)u=e(u,C=!1);else if(a-1-x>A+t.offsetHeight)u=e(u,C=!0);else{var D=((t.rowIndex?a-v:k)-A)/l.rowHeight,A=(k-a+2*v)/l.rowHeight,F=Math.max(Math.min((a-w)*l.rowHeight,l.maxRowsPerPage/2),l.maxRowsPerPage/-2),A=A+Math.min(Math.abs(F),10);0==t.rowIndex&&(D-=A);D=Math.max(D,0);10>D&&(0<D&&A+D<l.maxRowsPerPage)&&(A+=Math.max(0,D),D=0);A=Math.min(Math.max(A,
l.minRowsPerPage),l.maxRowsPerPage,u.count);if(0==A)u=e(u,C);else{var A=Math.ceil(A),D=Math.min(Math.floor(D),u.count-A),G=c.mixin(l.get("queryOptions"),u.options);u.count-=A;var I=t,M,K=l.queryRowsOverlap;if(F=(0<t.rowIndex||t.offsetTop>a)&&u){var J=u.previous;J&&(d(J,a-(J.node.offsetTop+J.node.offsetHeight),"nextSibling"),0<D&&J.node==t.previousSibling?(D=Math.min(u.count,D),u.previous.count+=D,f(u.previous,!0),t.rowIndex+=D,K=0):A+=D,u.count-=D);G.start=t.rowIndex-K;G.count=Math.min(A+K,l.maxRowsPerPage);
t.rowIndex=G.start+G.count}else u.next&&(d(u.next,u.next.node.offsetTop-k,"previousSibling",!0),I=t.nextSibling,I==u.next.node?(u.next.count+=u.count-D,u.next.node.rowIndex=D+A,f(u.next),u.count=D,K=0):M=!0),G.start=u.count,G.count=Math.min(A+K,l.maxRowsPerPage);M&&(I&&I.offsetWidth)&&(M=I.offsetTop);f(u);"level"in u.query&&(G.queryLevel=u.query.level);if("queryLevel"in G||!(G.start>l._total||0>G.count)){t=m(I,"-div.dgrid-loading[style\x3dheight:"+A*l.rowHeight+"px]");m(t,"div.dgrid-"+(F?"below":
"above")).innerHTML=l.loadingMessage;t.count=A;var E=u.query(G);if(void 0===l._trackError(function(){return E})){m(t,"!");return}(function(a,c,d,e){B=b.when(l.renderArray(e,a,G),function(g){y=e;I=a.nextSibling;m(a,"!");if(d&&I&&I.offsetWidth){var h=l.getScrollPosition();l.scrollTo({x:h.x,y:h.y+I.offsetTop-d,preserveMomentum:!0})}b.when(e.total||e.length,function(a){"queryLevel"in G||(l._total=a);c&&(c.count=a-c.node.rowIndex,0===c.count&&G.count++,f(c))});l._processScroll();return g},function(b){m(a,
"!");throw b;})}).call(this,t,F,M,E);u=u.previous}}}}if(B&&(z=this._refreshDeferred))delete this._refreshDeferred,b.when(B,function(){z.resolve(y)})},removeRow:function(b,c){if(b){var d=b.previousSibling,f=b.nextSibling,d=d&&(null!=d.observerIndex?d.observerIndex:d.previousObserverIndex),e=f&&(null!=f.observerIndex?f.observerIndex:f.nextObserverIndex),f=b.observerIndex;b.observerIndex=void 0;c&&(b.nextObserverIndex=e,b.previousObserverIndex=d);if(this.cleanEmptyObservers&&(-1<f&&f!==d&&f!==e)&&(d=
this.observers,e=d[f])){if(!c)for(var l=e.rows,m=0;m<l.length;m++)if(l[m]!=b&&a.isDescendant(l[m],this.domNode))return this.inherited(arguments);e.cancel();this._numObservers--;d[f]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(k,d,e,c,b,a,f){function l(a){return a}function m(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;
a.grid=this;b.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return d(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};a.before(this,"configStructure",e.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},
destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_updateNotifyHandle:function(b){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);b&&"function"===typeof b.notify&&(this._notifyHandle=a.after(b,"notify",e.hitch(this,"_onNotify"),!0),b=this.get("sort"),(!b||!b.length)&&console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},
_setStore:function(a,b,c){this._updateNotifyHandle(a);this.store=a;this.dirty={};this.set("query",b,c)},_setQuery:function(a,b){var c=b&&b.sort;this.query=void 0!==a?a:this.query;this.queryOptions=b||this.queryOptions;c?this.set("sort",c):this.refresh()},setStore:function(a,b,c){k.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",a,b,c)},setQuery:function(a,b){k.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",a,b)},_getQueryOptions:function(){var a=
e.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)a.sort=this._sort;return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?e.delegate(a,{}):a},_setSort:function(a,b){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(a,b){this.inherited(arguments);a&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var a=this.inherited(arguments);this.store||(this.noDataNode=f(this.contentNode,
"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return a},renderArray:function(){var a=this,b=this.inherited(arguments);this.store||c.when(b,function(b){b.length&&a.noDataNode&&f(a.noDataNode,"!")});return b},insertRow:function(a,b,c,d,f){var l=this.store,m=this.dirty,l=l&&l.getIdentity(a),k;l in m&&!(l in this._updating)&&(k=m[l]);k&&(a=e.delegate(a,k));return this.inherited(arguments)},updateDirty:function(a,b,c){var d=this.dirty,f=d[a];f||(f=d[a]={});f[b]=c},setDirty:function(a,
b,c){k.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(a,b,c)},save:function(){function a(e,h){return function(a){var l=b._columnsWithSet,m=b._updating,k,s;if("function"===typeof a.set)a.set(h);else for(k in h)a[k]=h[k];for(k in l)s=l[k].set(a),void 0!==s&&(a[k]=s);m[e]=!0;return c.when(d.put(a),function(){delete f[e];delete m[e]})}}var b=this,d=this.store,f=this.dirty,e=new c,l=e.promise,m=function(a){var c;return b.getBeforePut||!(c=b.row(a).data)?function(){return d.get(a)}:
function(){return c}},k;for(k in f)var u=a(k,f[k]),l=l.then(m(k)).then(u);e.resolve();return l},revert:function(){this.dirty={};this.refresh()},_trackError:function(a){var b;"string"==typeof a&&(a=e.hitch(this,a));try{b=a()}catch(d){m.call(this,d)}return c.when(b,l,e.hitch(this,m))},newRow:function(){var a=this.inherited(arguments);this.noDataNode&&(f(this.noDataNode,"!"),delete this.noDataNode);return a},removeRow:function(a,b){var c={element:a};!b&&(this.noDataMessage&&this.up(c).element===a&&this.down(c).element===
a)&&(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/aspect ./List ./util/has-pointer ./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),function(k,d,e,c,b,a,f,l,m,h){function g(a,b){for(var c=a.unselectable=b?"on":"",d=a.getElementsByTagName("*"),f=d.length;--f;)"INPUT"===
d[f].tagName||"TEXTAREA"===d[f].tagName||(d[f].unselectable=c)}function p(d,f){var e=d.bodyNode,h=f?"text":21>b("ff")?"-moz-none":"none";s&&"msUserSelect"!==s?e.style[s]=h:b("dom-selectstart")?!f&&!d._selectstartHandle?d._selectstartHandle=c(e,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):f&&d._selectstartHandle&&(d._selectstartHandle.remove(),delete d._selectstartHandle):(g(e,!f),!f&&!d._unselectableHandle?d._unselectableHandle=a.after(d,
"renderRow",function(a){g(a,!0);return a}):f&&d._unselectableHandle&&(d._unselectableHandle.remove(),delete d._unselectableHandle))}b.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});b.add("css-user-select",function(a,b,c){a=c.style;b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(c--&&(d=b[c]+"UserSelect"));return!1});b.add("dom-selectstart","undefined"!==typeof document.onselectstart);var n=b("mac")?
"metaKey":"ctrlKey",s=b("css-user-select");f=l.pointer;l=l.MSPointer;var r=f?f+(l?"Down":"down"):"mousedown",q=f?f+(l?"Up":"up"):"mouseup";return d(null,{selectionDelegate:".dgrid-row",selectionEvents:r+","+q+",dgrid-cellfocusin",selectionTouchEvents:b("touch")?m.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);
this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},
setSelectionMode:function(a){k.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?p(this,a):p(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&!("dgrid-cellfocusin"===a.type&&a.parentType===r||a.type===q&&b!=this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=
a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===r&&this.isSelected(b))this._waitForMouseUp=b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var c=a.keyCode?a.ctrlKey:a[n];this._lastSelected===b?this.select(b,null,!c||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var c=this._lastSelected,d=a.keyCode?a.ctrlKey:a[n],f;a.shiftKey||(f=d?null:
!0,c=null);this.select(b,c,f);c||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){(2===a.button?!this.isSelected(b):!(a.keyCode?a.ctrlKey:a[n]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var d=this,f=this.contentNode,e=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};b("touch")&&!b("pointer")&&this.selectionTouchEvents?(c(f,m.selector(e,this.selectionTouchEvents),
function(a){d._handleSelect(a,this);d._ignoreMouseSelect=this}),c(f,c.selector(e,this.selectionEvents),function(a){d._ignoreMouseSelect!==this?d._handleSelect(a,this):a.type===q&&(d._ignoreMouseSelect=null)})):c(f,c.selector(e,this.selectionEvents),function(a){d._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){d._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(a){a[n]&&(65==a.keyCode&&!/\bdgrid-input\b/.test(a.target.className))&&(a.preventDefault(),
d[d.allSelected?"clearSelection":"selectAll"]())});this._setStore&&a.after(this,"_setStore",function(){d._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function b(a,d,f){a=d||a&&a[c.idProperty||"id"];if(null!=a&&(d=(a=c.row(a))&&c.selection[a.id]))c[f](a,null,d)}var c=this,d=this.store,f,e;this._removeDeselectSignals&&this._removeDeselectSignals();d&&d.notify?(f=a.before(d,"notify",function(a,c){a||b(a,c,"deselect")}),e=a.after(d,"notify",function(a,
c){b(a,c,"select")},!0),this._removeDeselectSignals=function(){f.remove();e.remove()}):(f=a.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(c)}),this._removeDeselectSignals=function(){f.remove()})},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],d=this._selectionTriggerEvent,f;f={bubbles:!0,grid:this};d&&(f.parentType=d.type);f[this._selectionTargetType]=b;c.emit(this.contentNode,"dgrid-"+a,
f);this._selectionEventQueues[a]=[]},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){var d,f,e;"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a))if(d=this.selection,f=!!d[a.id],null===c&&(c=!f),e=a.element,!c&&!this.allSelected?delete this.selection[a.id]:d[a.id]=c,e&&(c?h(e,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):h(e,"!dgrid-selected!ui-state-active")),
c!==f&&e&&this._selectionEventQueues[(c?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element){d=this._determineSelectionDirection(e,b);d||(b=document.getElementById(b.id),d=this._determineSelectionDirection(e,b));for(;a.element!=b&&(a=this[d](a));)this._select(a,null,c)}}else this._lastSelected=e,console.warn("The selection range has been reset because the beginning of the selection is no longer in the DOM. If you are using OnDemandList, you may wish to increase farOffRemoval to avoid this, but note that keeping more nodes in the DOM may impact performance.")},
_determineSelectionDirection:b("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},
selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},
renderArray:function(){var a=this,b=this.inherited(arguments);e.when(b,function(b){var c=a.selection,d,f,e;for(d=0;d<b.length;d++)f=a.row(b[d]),(e=f.id in c?c[f.id]:a.allSelected)&&a._select(f,null,e);a._fireSelectionEvents()});return b}})})},"dgrid/util/has-pointer":function(){define(["dojo/has"],function(k){k.add("pointer",function(c){return"PointerEvent"in c?"pointer":"MSPointerEvent"in c?"MSPointer":!1});var d=(k=k("pointer"))&&"MS"===k.slice(0,2),e={};e.pointer=k;e.MSPointer=d;return e})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/has-pointer ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(k,d,e,c,b,a,f,l,m){function h(a){a.preventDefault()}var g={checkbox:1,radio:1,button:1},p=/\bdgrid-cell\b/,n=/\bdgrid-row\b/,s=f.pointer;f=f.MSPointer;var r=s?s+(f?"Down":"down"):"mousedown",q=k(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=c.mixin({},q.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=c.mixin({},q.defaultHeaderKeyMap))},postCreate:function(){function a(b){var c=b.target;return c.type&&
(!g[c.type]||32==b.keyCode)}function b(f){function g(){c._focusedHeaderNode&&(c._focusedHeaderNode.tabIndex=-1);if(c.showHeader){if(h)for(var a=0,b,d=c.headerNode.getElementsByTagName("th");b=d[a];++a){if(k.test(b.className)){c._focusedHeaderNode=q=b;break}}else c._focusedHeaderNode=q=c.headerNode;q&&(q.tabIndex=c.tabIndex)}}var h=c.cellNavigation,k=h?p:n,s=f===c.headerNode,q=f;s?(g(),d.after(c,"renderHeader",g,!0)):d.after(c,"renderArray",function(a){return m.when(a,function(a){var b=c._focusedNode||
q;if(k.test(b.className)&&l.contains(f,b))return a;for(var d=0,e=f.getElementsByTagName("*"),g;g=e[d];++d)if(k.test(g.className)){b=c._focusedNode=g;break}b.tabIndex=c.tabIndex;return a})});c._listeners.push(e(f,r,function(b){a(b)||c._focusOnNode(b.target,s,b)}));c._listeners.push(e(f,"keydown",function(b){if(!b.metaKey&&!b.altKey){var d=c[s?"headerKeyMap":"keyMap"][b.keyCode];d&&!a(b)&&d.call(c,b)}}))}this.inherited(arguments);var c=this;this.tabableHeader&&(b(this.headerNode),e(this.headerNode,
"dgrid-cellfocusin",function(){c.scrollTo({x:this.scrollLeft})}));b(this.contentNode)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);var b=this,c=document.activeElement===this._focusedNode,d=this[this.cellNavigation?"cell":"row"](this._focusedNode),f=d.row||d,e;a=a.element||a;if(a===f.element){e=this.down(f,!0);if(!e||e.element===a)e=this.up(f,!0);this._removedFocus={active:c,rowId:f.id,columnId:d.column&&d.column.id,siblingId:!e||e.element===a?void 0:e.id};setTimeout(function(){b._removedFocus&&
b._restoreFocus(f.id)},0);this._focusedNode=null}this.inherited(arguments)},insertRow:function(a){var b=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(b);return b},_restoreFocus:function(b){var c=this._removedFocus,d;if((b=(b=b&&this.row(b))&&b.element&&b.id===c.rowId?b:"undefined"!==typeof c.siblingId&&this.row(c.siblingId))&&b.element){if(!b.element.parentNode.parentNode){c.wait=!0;return}"undefined"!==typeof c.columnId&&(d=this.cell(b,c.columnId))&&d.element&&
(b=d);c.active&&0!==b.element.offsetHeight?this._focusOnNode(b,!1,null):(a(b.element,".dgrid-focus"),b.element.tabIndex=this.tabIndex,this._focusedNode=b.element)}delete this._removedFocus},addKeyHandler:function(a,b,c){return d.after(this[c?"headerKeyMap":"keyMap"],a,b,!0)},_focusOnNode:function(d,f,g){var h="_focused"+(f?"Header":"")+"Node";f=this[h];var l=this.cellNavigation?"cell":"row",m=this[l](d),k,s,r,q,t;if(d=m&&m.element){if(this.cellNavigation){k=d.getElementsByTagName("input");t=0;for(r=
k.length;t<r;t++)if(s=k[t],(-1!=s.tabIndex||"_dgridLastValue"in s)&&!s.disabled){8>b("ie")&&(s.style.position="relative");s.focus();8>b("ie")&&(s.style.position="");q=!0;break}}null!==g&&(g=c.mixin({grid:this},g),g.type&&(g.parentType=g.type),g.bubbles||(g.bubbles=!0));f&&(a(f,"!dgrid-focus[!tabIndex]"),8>b("ie")&&(f.style.position=""),g&&(g[l]=this[l](f),e.emit(f,"dgrid-cellfocusout",g)));f=this[h]=d;g&&(g[l]=m);h=this.cellNavigation?p:n;!q&&h.test(d.className)&&(8>b("ie")&&(d.style.position="relative"),
d.tabIndex=this.tabIndex,d.focus());a(d,".dgrid-focus");g&&e.emit(f,"dgrid-cellfocusin",g)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):this.contentNode.focus()}}),t=q.moveFocusVertical=function(a,b){var c=this.cellNavigation,d=this[c?"cell":"row"](a),d=c&&d.column.id,f=this.down(this._focusedNode,b,!0);c&&(f=this.cell(f,d));this._focusOnNode(f,!1,a);a.preventDefault()};k=q.moveFocusUp=function(a){t.call(this,
a,-1)};s=q.moveFocusDown=function(a){t.call(this,a,1)};f=q.moveFocusPageUp=function(a){t.call(this,a,-this.pageSkip)};var u=q.moveFocusPageDown=function(a){t.call(this,a,this.pageSkip)},w=q.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var c=!this.row(a);this._focusOnNode(this.right(this["_focused"+(c?"Header":"")+"Node"],b),c,a);a.preventDefault()}},v=q.moveFocusLeft=function(a){w.call(this,a,-1)},x=q.moveFocusRight=function(a){w.call(this,a,1)},z=q.moveHeaderFocusEnd=function(a,b){var c;
this.cellNavigation&&(c=this.headerNode.getElementsByTagName("th"),this._focusOnNode(c[b?0:c.length-1],!0,a));a.preventDefault()},y=q.moveHeaderFocusHome=function(a){z.call(this,a,!0)},B=q.moveFocusEnd=function(a,f){var e=this,g=this.cellNavigation,h=this.contentNode,l=h.scrollTop+(f?0:h.scrollHeight),h=h[f?"firstChild":"lastChild"],k=-1<h.className.indexOf("dgrid-preload"),p=k?h[(f?"next":"previous")+"Sibling"]:h,n=p.offsetTop+(f?0:p.offsetHeight),s;if(k){for(;p&&0>p.className.indexOf("dgrid-row");)p=
p[(f?"next":"previous")+"Sibling"];if(!p)return}!k||1>h.offsetHeight?(g&&(p=this.cell(p,this.cell(a).column.id)),this._focusOnNode(p,!1,a)):(b("dom-addeventlistener")||(a=c.mixin({},a)),s=d.after(this,"renderArray",function(b){s.remove();return m.when(b,function(b){b=b[f?0:b.length-1];g&&(b=e.cell(b,e.cell(a).column.id));e._focusOnNode(b,!1,a)})}));l===n&&a.preventDefault()},C=q.moveFocusHome=function(a){B.call(this,a,!0)};q.defaultKeyMap={32:h,33:f,34:u,35:B,36:C,37:v,38:k,39:x,40:s};q.defaultHeaderKeyMap=
{32:h,35:z,36:y,37:v,39:x};return q})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(k,d,e,c,b,a,f,l,m,h,g){function p(a,b){a.value=b;if("radio"==a.type||"checkbox"==a.type)a.checked=a.defaultChecked=!!b}function n(a,b){if("number"==typeof b)a=isNaN(a)?a:parseFloat(a);else if("boolean"==typeof b)a="true"==a?!0:"false"==a?!1:a;else if(b instanceof
Date){var c=new Date(a);a=isNaN(c.getTime())?a:c}return a}function s(a,c,d,f,e){var g,h,l;if((d&&d.valueOf())!=(f&&f.valueOf())&&(g=c.element,h=c.row,l=c.column,l.field&&h))if(c={grid:a,cell:c,rowId:h.id,oldValue:d,value:f,bubbles:!0,cancelable:!0},e&&e.type&&(c.parentType=e.type),b.emit(g,"dgrid-datachange",c))a.updateDirty?(a.updateDirty(h.id,l.field,f),l.autoSave&&setTimeout(function(){a._trackError("save")},0)):h.data[l.field]=f;else{var m;(m=g.widget)?(m._dgridIgnoreChange=!0,m.set("value",d),
setTimeout(function(){m._dgridIgnoreChange=!1},0)):(m=g.input)&&p(m,d);return d}return f}function r(a,b,c){var d=a.cell(b.domNode||b),f=d.column,e,g;g=a._activeCell;if(!b.isValid||b.isValid())if(c=s(a,d,g?a._activeValue:b._dgridLastValue,"function"==typeof b.get?n(b.get("value")):n(b["checkbox"==b.type||"radio"==b.type?"checked":"value"]),c),g?a._activeValue=c:b._dgridLastValue=c,"radio"===b.type&&b.name&&!f.editOn&&f.field)for(e in g=a.row(b),l("input[type\x3dradio][name\x3d"+b.name+"]",a.contentNode).forEach(function(c){var d=
a.row(c);c!==b&&c._dgridLastValue&&(c._dgridLastValue=!1,a.updateDirty?a.updateDirty(d.id,f.field,!1):d.data[f.field]=!1)}),a.dirty)g.id!==e&&a.dirty[e][f.field]&&a.updateDirty(e,f.field,!1)}function q(a){var c=a.editor,e=a.editOn,h=a.grid,l="string"!=typeof c,m,k,p;m=a.editorArgs||{};"function"==typeof m&&(m=m.call(h,a));if(l)k=new c(m),a=k.focusNode||k.domNode,a.className+=" dgrid-input",k.connect(k,e?"onBlur":"onChange",function(){k._dgridIgnoreChange||r(h,this,{type:"widget"})});else if(p=function(a){var b=
a.target;"_dgridLastValue"in b&&-1<b.className.indexOf("dgrid-input")&&r(h,b,a)},a.grid._hasInputListener||(h._hasInputListener=!0,h.on("change",function(a){p(a)})),k=a=g(("textarea"==c?"textarea":"input[type\x3d"+c+"]")+".dgrid-input",d.mixin({name:a.field,tabIndex:isNaN(a.tabIndex)?-1:a.tabIndex},m)),9>f("ie")||f("ie")&&f("quirks"))"radio"==c||"checkbox"==c?b(k,"click",function(a){p(a)}):b(k,"change",function(a){p(a)});return k}function t(a,c){function e(){var a=m._activeCell;s.blur();"function"===
typeof m.focus&&setTimeout(function(){m.focus(a)},k&&9>f("ie")?15:0)}var l=q(a),m=a.grid,k=l.domNode,n=l.domNode||l,s=l.focusNode||n,t=k?function(){l.set("value",l._dgridLastValue)}:function(){p(l,l._dgridLastValue);r(a.grid,l)};b(s,"keydown",function(b){b=b.keyCode||b.which;27==b?(t(),m._activeValue=l._dgridLastValue,e()):13==b&&!1!==a.dismissOnEnter&&e()});(a._editorBlurHandle=b.pausable(l,"blur",function(){var c=n.parentNode,f=c.children.length-1,e={alreadyHooked:!0},k=m.cell(n);b.emit(k.element,
"dgrid-editor-hide",{grid:m,cell:k,column:a,editor:l,bubbles:!0,cancelable:!1});a._editorBlurHandle.pause();c.removeChild(n);if(k.row){for(g(k.element,"!dgrid-cell-editing");f--;)g(c.firstChild,"!");h.appendIfNode(c,a.renderCell(a.grid.row(c).data,m._activeValue,c,m._activeOptions?d.delegate(e,m._activeOptions):e))}m._focusedEditorCell=m._activeCell=m._activeValue=m._activeOptions=null})).pause();return l}function u(a,b,c,d){var f=a.domNode;f||p(a,d);c.innerHTML="";g(c,".dgrid-cell-editing");g(c,
a.domNode||a);f&&!b.editOn?b.grid._editorsPendingStartup.push([a,b,c,d]):w(a,b,c,d)}function w(a,c,d,f){var e=c.grid;a.domNode&&(a._started||a.startup(),a._dgridIgnoreChange=!0,a.set("value",f),setTimeout(function(){a._dgridIgnoreChange=!1},0));a._dgridLastValue=f;e._activeCell&&(e._activeValue=f,b.emit(d,"dgrid-editor-show",{grid:e,cell:e.cell(d),column:c,editor:a,bubbles:!0,cancelable:!1}))}function v(a){for(var b=a._editorsPendingStartup,c=b.length;c--;)w.apply(null,b[c]);a._editorsPendingStartup=
[]}function x(a){function b(a){f.grid._activeCell=e;u(f.editorInstance,f,e,l);f._editTimer=setTimeout(function(){m.focus&&m.focus();f._editorBlurHandle&&f._editorBlurHandle.resume();f._editTimer=null;a.resolve(m)},0)}var d,f,e,g,h,l,m,k;a.column||(a=this.cell(a));if(!a||!a.element)return null;f=a.column;h=f.field;e=a.element.contents||a.element;if(m=f.editorInstance){if(f.grid._activeCell!=e&&(d=a.row,l=(g=this.dirty&&this.dirty[d.id])&&h in g?g[h]:f.get?f.get(d.data):d.data[h],!f.canEdit||f.canEdit(a.row.data,
l)))return k=new c,a=m.domNode||m,a.offsetWidth?(a.blur(),setTimeout(function(){b(k)},0)):b(k),k.promise}else if(f.editor&&(m=e.widget||e.input))return k=new c,m.focus&&m.focus(),k.resolve(m),k.promise;return null}return function(c,d,f){function g(c){var d=c.grid,f,e;d.edit||(d.edit=x,d._editorsPendingStartup=[],p.push(b(d.domNode,".dgrid-input:focusin",function(){d._focusedEditorCell=d.cell(this)})),f=d._editorFocusoutHandle=b.pausable(d.domNode,".dgrid-input:focusout",function(){d._focusedEditorCell=
null}),p.push(f),p.push(a.before(d,"removeRow",function(a){var b=d._focusedEditorCell;a=d.row(a);b&&b.row.id===a.id&&(e=b,f.pause(),setTimeout(function(){f.resume();e=null},0))})),p.push(a.after(d,"insertRow",function(a){var b=d.row(a);e&&e.row.id===b.id&&d.edit(d.cell(b,e.column.id));return a})),p.push(a.after(d,"renderArray",function(a){m(a,function(a){a.length?v(d):d._editorsPendingStartup=[]});return a})),p.push(a.after(d,"_onNotification",function(){v(d)})))}var l=c.renderCell||h.defaultRenderCell,
p=[],n;c||(c={});c.editor=d=d||c.editor||"text";c.editOn=f=f||c.editOn;n="string"!=typeof d;c.widgetArgs&&(k.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),c.editorArgs=c.widgetArgs);a.after(c,"init",f?function(){g(c);c.editorInstance=t(c,l)}:function(){var b=c.grid;g(c);n&&p.push(a.before(b,"removeRow",function(a){if(a=(a=b.cell(a,c.id).element)&&(a.contents||a).widget)b._editorFocusoutHandle.pause(),a.destroyRecursive()}))});a.after(c,"destroy",function(){e.forEach(p,
function(a){a.remove()});c._editorBlurHandle&&c._editorBlurHandle.remove();c._editTimer&&clearTimeout(c._editTimer);f&&n&&c.editorInstance.destroyRecursive();c.grid.edit=null;c.grid._editorsPendingStartup=null});c.renderCell=f?function(a,d,e,g){var h=c.grid;if(!g||!g.alreadyHooked)b("TD"==e.tagName?e:e.parentNode,f,function(){h._activeOptions=g;h.edit(this)});return l.call(c,a,d,e,g)}:function(a,b,d,f){if(!c.canEdit||c.canEdit(a,b))a=q(c),u(a,c,d,b),d[n?"widget":"input"]=a;else return l.call(c,a,
b,d,f)};return c}})},"inspector/editors/InspectorEditor":function(){define("inspector/editors/InspectorEditor","dojo/_base/declare dojo/_base/lang dojo/keys dojo/dom-construct dojo/on variableeditor/views/editors/_EditorBase".split(" "),function(k,d,e,c,b,a){return k("inspector.editors.InspectorEditor",[a],{_embeddedInspector:void 0,_currObjProperties:void 0,_keyListener:void 0,setState:function(a){this.domNode&&(this._embeddedInspector||(this._embeddedInspector=this._setupInputNode(),this.domNode.appendChild(this._embeddedInspector.domNode)),
this.inherited(arguments))},_setupInputNode:function(){var a=new (require("inspector/widget/InspectorWidget"))({application:"EmbeddedInspector",sortProperties:!1});a.addEventListener("propertyValueChanged",d.hitch(this,"_propertyValueChanged"));return a},postCreate:function(){this._embeddedInspector||(this._embeddedInspector=this._setupInputNode(),this.domNode.appendChild(this._embeddedInspector.domNode));this.inherited(arguments)},edit:function(){if(!this._editing&&(this.inherited(arguments),this._editValue)){this._currObjProperties=
this._getObjForEdit(this.state,this._editValue);if(this._embeddedInspector){var a=this._setupInputNode();c.place(a.domNode,this._embeddedInspector.domNode,"replace");this._embeddedInspector=a}else this._embeddedInspector=this._setupInputNode(),this.domNode.appendChild(this._embeddedInspector.domNode);this._embeddedInspector.inspect(this._currObjProperties);this._embeddedInspector.domNode.tabIndex=1;a=d.hitch(this,"_handleKeyDown");b(this._embeddedInspector.domNode,"keydown",a);this._embeddedInspector.domNode.focus()}},
_getObjForEdit:function(a,b){var c=parseInt(a.numElements,10),d=a.fields,e;e="string"===typeof b?JSON.parse(b):b;var k={},n;for(n=0;n<c;n+=1)if(n>=e.length)k[d[n]]=0;else{var s=e[n];s&&s.toLowerCase&&-1!==s.toLowerCase().indexOf("inf")?k[d[n]]="Inf":s&&s.toLowerCase&&-1!==s.toLowerCase().indexOf("nan")?k[d[n]]="NaN":k[d[n]]=parseFloat(s)}return k},_convertToArray:function(a,b){var c=parseInt(a.numElements,10),d=a.fields,e=[],k;for(k=0;k<c;k+=1)e[k]=b[d[k]];return e},_propertyValueChanged:function(a){if(a&&
a.data){var b=a.data.propertyName,c=this._currObjProperties,d=JSON.parse(JSON.stringify(c));(a=a.data.newValue)&&a.toLowerCase&&-1!==a.toLowerCase().indexOf("inf")?d[b]="Inf":a&&a.toLowerCase&&-1!==a.toLowerCase().indexOf("nan")?d[b]="NaN":isNaN(parseFloat(a))?d[b]=a:d[b]=parseFloat(a);b=this._convertToArray(this.state,c);c=this._convertToArray(this.state,d);this.dispatchEvent("valueChanged",this,{editor:this,oldValue:b,newValue:c});this._editValue=this._value=c;this._currObjProperties=d;this._renderer._editValue=
c;this._renderer.setValue(c);this._renderer.setEditValue(c)}},_handleKeyDown:function(a){var b=a.which?a.which:a.charCode?a.charCode:a.keyCode?a.keyCode:null;a&&(null!==b&&b===e.ESCAPE)&&this.cancelEditing()},_commit:function(){},_handleBlurEvent:function(a){a===this&&this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._embeddedInspector&&this.stopEditing(),this.inherited(arguments))},_setReadOnly:function(){}})})},"inspector/editors/PropertyFieldsEditor":function(){define(["dojo/_base/declare",
"inspector/editors/_BaseRichEditor","variableeditor/VariableEditorUtils"],function(k,d,e){return k([d],{templateString:"\x3cdiv class\x3d'propertyFieldsEditor'\x3e\x3c/div\x3e",constructor:function(c){if(1<c.length)throw"property fields editor could only handle fields for one property";this._propertySetInfo=c[0];this._inspectorWidget=new (require("inspector/widget/InspectorWidget"))({template:"inspector/templates/inspectorPropertySheetWithoutHeader.html",application:"EmbeddedInspectorInRichEditor",
sortProperties:!1});this._propertyName=this._propertySetInfo.propertyName;this._states=this._propertySetInfo.meta.richEditorProperties;this._oldValue=void 0!==this._propertySetInfo.values[0].editValue?this._propertySetInfo.values[0].editValue:this._propertySetInfo.values[0];this._value=void 0!==this._propertySetInfo.values[0].editValue?this._propertySetInfo.values[0].editValue:this._propertySetInfo.values[0];this._currObjProperties=this._getObjForEdit(this._states,this._value);this._inspectorWidget.inspect(this._currObjProperties)},
postCreate:function(){this._inspectorWidget.placeAt(this.domNode);this._inspectorWidget.addEventListener("propertyValueChanged",this._propertyValueChanged.bind(this))},updateState:function(c,b){this._states=c},_updateEditor:function(c){this._oldValue=this._value;this._value=void 0!==c[0].editValue?c[0].editValue:c[0];c=this._currObjProperties;this._currObjProperties=this._getObjForEdit(this._states,this._value);JSON.stringify(c)!==JSON.stringify(this._currObjProperties)&&this._inspectorWidget.inspect(this._currObjProperties)},
_getObjForEdit:function(c,b){var a=parseInt(c.numElements,10),d=c.fields,l;"string"===typeof b?(l=0===b.indexOf("[")&&b.indexOf("]")===b.length-1,-1!==b.indexOf('"')?(!1===l&&(b="["+b+"]"),l=JSON.parse(b)):(!0===l&&(b=b.substring(1,b.length-1)),l=b.trim().split(","))):l=b;var m=this._isNumeric(c),h={},g;for(g=0;g<a;g+=1)if(g>=l.length)h[d[g]]=0;else{var k=l[g];k&&k.toLowerCase&&"-inf"===k.toLowerCase()?h[d[g]]="-Inf":k&&k.toLowerCase&&"inf"===k.toLowerCase()?h[d[g]]="Inf":k&&k.toLowerCase&&"nan"===
k.toLowerCase()?h[d[g]]="NaN":h[d[g]]=m?e.filterFloat(k):k}return h},_isNumeric:function(c){var b=!0;if(c.classname&&("categorical"===c.classname||"datetime"==c.classname||"duration"==c.classname))b=!1;return b},_convertToArray:function(c,b){var a=parseInt(c.numElements,10),d=c.fields,e=[],m;for(m=0;m<a;m+=1)e[m]=b[d[m]];return e},_propertyValueChanged:function(c){if(c&&c.data){var b=c.data.propertyName,a=this._isNumeric(this._states),d=this._currObjProperties,l=JSON.parse(JSON.stringify(d));(c=c.data.newValue)&&
c.toLowerCase&&"-inf"===c.toLowerCase()?l[b]="-Inf":c&&c.toLowerCase&&"inf"===c.toLowerCase()?l[b]="Inf":c&&c.toLowerCase&&"nan"===c.toLowerCase()?l[b]="NaN":!a||isNaN(e.filterFloat(c))?l[b]=c:l[b]=e.filterFloat(c);b=this._convertToArray(this._states,d);a=this._convertToArray(this._states,l);this._oldValue=b;this._value=a;this._currObjProperties=l;this._commitValue(this._propertyName,b,a,"client")}}})})},"inspector/editors/_BaseRichEditor":function(){define(["dojo/_base/declare","dijit/_WidgetBase",
"dijit/_TemplatedMixin","mw-peermodel/Observable"],function(k,d,e,c){return k([d,e,c.Impl],{update:function(b,a){(!Array.isArray(b)||!(0<b.length&&b[0].needUpdateInPlaceEditor&&!0===b[0].needUpdateInPlaceEditor))&&this._updateEditor(b,a)},onOpen:function(){},_updateEditor:function(b,a){},updateState:function(b,a){},_commitValue:function(b,a,c,d){this.dispatchEvent("propertyValueChanged",this,{propertyName:b,source:d,oldValue:a,newValue:c,needUpdateInPlaceEditor:!0})},_getKeyCode:function(b){b=b.which||
b.keyCode||b.charCode||b.key||null;return 95<b&&112>b?b-48:b}})})},"inspector/editors/ResetLimitsEditor":function(){define("dojo/_base/declare dojo/on dojo/_base/lang dojo/dom-style dojo/dom-construct inspector/editors/PropertyFieldsEditor mw-form/PushButton dojo/i18n!inspector/app/l10n/nls/app".split(" "),function(k,d,e,c,b,a,f,l){return k([a],{_resetButton:null,_resetLabel:l.resetLabel,constructor:function(a){this.inherited(arguments);var b=a[0].propertyName;this._resetButton=new f({text:this._resetLabel});
this._resetButton.startup();this.own(d(this._resetButton,"click",e.hitch(this,function(){this._resetButtonClickHandler(b)})))},postCreate:function(){this.inherited(arguments);b.place(this._resetButton.domNode,this._inspectorWidget.inspectorOuterContainer,"after");c.set(this._resetButton.domNode,"margin-left","5px");this._inspectorWidget.inspect(this._currObjProperties)},_resetButtonClickHandler:function(a){this._commitValue(a+"Mode","manual","auto","client");this._inspectorWidget.inspect(this._currObjProperties)}})})},
"inspector/editors/ScaleColorsEditor/ScaleColorsEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/registry variableeditor/VariableEditorUtils inspector/editors/_BaseRichEditor inspector/editors/ScaleColorsEditor/ScaleColorsPSTable inspector/editors/_BasePSTable/_PSTableController inspector/editors/ScaleColorsEditor/ScaleColorsModel dojo/text!./ScaleColorsEditor.html dojo/NodeList-traverse".split(" "),function(k,
d,e,c,b,a,f,l,m,h,g,p,n,s){function r(a){a=void 0!==a.value?a.value:a;return!a.length||a[0]instanceof Array?a:[a]}function q(a){return a=void 0!==a.value?a.value:a}function t(a,b){return JSON.stringify(a)==JSON.stringify(b)}function u(a){return JSON.parse(JSON.stringify(a))}function w(a){return a.map(function(a){return Math.round(1E4*a)/1E4})}return k([h,p,a,f],{templateString:s,constructor:function(a){a=this._getScaleColorsInfo(a);this.model=new n(a);this.eventName="tableupdated";this.propNameInModelToGetAllItems=
"ScaleColorTableContents";a={tableData:this._getTableData()};this.table=new g(a);this.own(this.table);this._initializeView();this._hacked=this._popupOpened=!1},postCreate:function(){this.table.placeAt(this.domNode)},startup:function(){this.inherited(arguments);this.table.startup();this._addWorkaroundForFocusIssue()},_getScaleColorsInfo:function(a){var b={};a.forEach(function(a){switch(a.propertyName){case "ScaleColors":b.scaleColors=u(r(a.values[0]));break;case "ScaleColorLimits":b.scaleColorLimits=
u(r(a.values[0]));break;case "Limits":b.range=u(q(a.values[0]))}});return b},_updateEditor:function(a,b){switch(b){case "ScaleColors":var c=r(a[0]);t(this.model.getScaleColors(),c)||this.set("scaleColors",u(c));break;case "ScaleColorLimits":c=r(a[0]);t(this.model.getScaleColorLimits(),c)||this.set("scaleColorLimits",u(c));break;case "Limits":this.set("range",u(q(a[0])))}},_setScaleColorsAttr:function(a){this._modelUpdateListener.pause();this.model.setScaleColors(a);this._reloadTable();this._modelUpdateListener.resume()},
_setScaleColorLimitsAttr:function(a){this._modelUpdateListener.pause();this.model.setScaleColorLimits(a);this._reloadTable();this._modelUpdateListener.resume()},_setScaleColorsAndLimitsAttr:function(a){this._modelUpdateListener.pause();this.model.setScaleColorsAndLimits(a.scaleColors,a.scaleColorLimits);this._reloadTable();this._modelUpdateListener.resume()},_setRangeAttr:function(a){this.model.setRange(a)},_onTableEdit:function(a){var b,c;b=a.rowId;c=a.value;try{switch(a.columnId){case "0":this.model.updateScaleColor(w(c),
b);break;case "1":this.model.updateStartValue(c,b);break;case "2":this.model.updateEndValue(c,b)}this.inherited(arguments)}catch(d){if("ScaleColorLimitsException"===d.name)setTimeout(function(){this._revertTable()}.bind(this),0),m.displayErrorMessage(d.message,d.name);else throw d;}},_revertTable:function(){var a=this.model.getTableData();this.model.setTableData(a);this.table.set("tableData",a)},_onAddBtnClick:function(a){var b=a.currentSelectedRow,b=-1===b?this.model.getComponentProperty("ScaleColorTableContents").length:
b+1;this.model.addRow(b);this._reloadTable();this.inherited(arguments)},_onDeleteBtnClick:function(a){this.model.deleteRow(a.currentSelectedRow);this._reloadTable();this.inherited(arguments)},_getTableData:function(){return this.model.getComponentProperty("ScaleColorTableContents")},_handleModelUpdate:function(a){var b=a.eventData,c,d;["ScaleColors","ScaleColorLimits"].forEach(function(a){c=b[a].oldValue;d=b[a].newValue;JSON.stringify(d)!==JSON.stringify(c)&&this._commitValue(a,c,d,"client")}.bind(this))},
storePopupContainer:function(a){this._dropDown=a},_addWorkaroundForFocusIssue:function(){if(!this._hacked){var a=this._dropDown&&this._dropDown.closeMenu;a&&(this._dropDown.closeMenu=function(b){this._popupOpened||!0===this.table._isEditorShown||a.call(this._dropDown,b)}.bind(this));this._hacked=!0;e.before(this.table._ColorColumnEditor,"_openPopupMenu",function(){this._popupOpened=!0}.bind(this));e.before(this.table._ColorColumnEditor,"_closePopupMenu",function(){this._popupOpened=!1;this.domNode.focus()}.bind(this))}}})})},
"inspector/editors/ScaleColorsEditor/ScaleColorsPSTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dijit/popup dijit/TooltipDialog inspector/editors/_BasePSTable/_PSTable dojo/i18n!inspector/app/l10n/nls/app mw-colorpicker/ColorPicker mw-colorpicker/MColor dgrid/editor dojo/dom-construct inspector/editors/ScaleColorsEditor/ColorColumnEditor".split(" "),function(k,d,e,c,b,a,f,l,m,h,g,p){return k(a,{constructor:function(){this.dgridColumnconfig=this._getScaleColorTableConfig();this._IsHandlingEdits=
!0;this._isEditorShown=!1},postCreate:function(){this.inherited(arguments);this._ColorColumnEditor=new p({grid:this.grid});this._ColorColumnEditor.startup();this.own(this._ColorColumnEditor.on("color-edit",d.hitch(this,function(a){this.emit("table-edit",{columnId:a.columnId,rowId:a.rowId,value:a.value})})),this._ColorColumnEditor.on("popup-open",d.hitch(this,function(a){this._IsHandlingEdits=!1})),this._ColorColumnEditor.on("popup-close",d.hitch(this,function(a){this._IsHandlingEdits=!0})));this.grid.on("dgrid-editor-show",
function(){this._isEditorShown=!0}.bind(this));this.grid.on("dgrid-editor-hide",function(){setTimeout(function(){this._isEditorShown=!1}.bind(this),0)}.bind(this));this.deleteRowButtonWidget._setTabIndexOnNode=function(){}},_setTableDataAttr:function(){this._IsHandlingEdits&&this.inherited(arguments)},getRowToSelectPostAddition:function(a,b){return 0<=a?a+1:this.inherited(arguments)},_getScaleColorTableConfig:function(){this._startEditor=h({label:f.scaleColorTableStartColumnHeader,field:"start",editor:"text",
editOn:"dblclick",sortable:!1,autoSave:!0});this._endEditor=h({label:f.scaleColorTableEndColumnHeader,field:"end",editor:"text",editOn:"dblclick",sortable:!1,autoSave:!0});return[{label:f.scaleColorTableColorColumnHeader,renderCell:p.renderCell,field:"scaleColor",sortable:!1,autoSave:!0},this._startEditor,this._endEditor]}})})},"inspector/editors/_BasePSTable/_PSTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/keys dojo/on dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dgrid/Grid dgrid/Keyboard dgrid/Selection ./_PSTableMixin mw-form/PushButton dojo/text!./PSTable.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t){return k([m,h,g,r],{templateString:t,constructor:function(a){this.tableData=a.tableData;this.dgridColumnconfig=a.dgridColumnConfig;this._scrollPosition=null},_setTableDataAttr:function(a){var b=this._getSelectedRow(this);this.grid.clearSelection();this.grid.refresh();this.grid.renderArray(a);this._selectRowAfterTableRefresh(b,a.length)},buildRendering:function(){this.inherited(arguments);this.grid=new (k([p,n,s]))({columns:this.dgridColumnconfig,selectionMode:"single",
cellNavigation:!0,"class":"vc-pe-editableTable",deselectOnRefresh:!1});this.own(this.grid);e.place(this.grid.domNode,this.dgridContainerNode);b.set(this.grid.domNode,"tabIndex",0);this.addRowButtonWidget=new q({width:this.ADD_DELETE_BUTTON_WIDTH,height:this.ADD_DELETE_BUTTON_HEIGHT,icon:"vc-ps-table-add-icon","class":"vc-pe-addDeleteRowStatesTearawayButtons"});this.own(this.addRowButtonWidget);e.place(this.addRowButtonWidget.domNode,this.addRemoveButtonContainerNode);this.deleteRowButtonWidget=new q({width:this.ADD_DELETE_BUTTON_WIDTH,
height:this.ADD_DELETE_BUTTON_HEIGHT,icon:"vc-ps-table-remove-icon","class":"vc-pe-addDeleteRowStatesTearawayButtons"});this.own(this.deleteRowButtonWidget);e.place(this.deleteRowButtonWidget.domNode,this.addRemoveButtonContainerNode)},postCreate:function(){this.inherited(arguments);this.addRowButtonWidget.on("click",this._handlePlusButtonClick.bind(this));this.deleteRowButtonWidget.on("click",this._handleDeleteButtonClick.bind(this));this.grid.on("dgrid-datachange",d.hitch(this,function(a){this._onDgridDataModified(a.cell.column.id,
a.cell.row.id,a.value)}));this.grid.on(".dgrid-row:keypress",d.hitch(this,this._onUserEntryInDgridCell));this.grid.on(".dgrid-row:dblclick",d.hitch(this,this._onDblClickInDgridCell));this.grid.on("dgrid-select",d.hitch(this,function(a){this.emit("table-row-select",{row:a.rows[0]})}));this.grid.on("dgrid-deselect",d.hitch(this,function(){this.emit("table-row-deselect",{})}))},startup:function(){this.inherited(arguments)},_handlePlusButtonClick:function(){var a=this.getSelectedRow();this.emit("add-button-click",
{currentSelectedRow:a})},_handleDeleteButtonClick:function(){var a=this.getSelectedRow();this.emit("delete-button-click",{currentSelectedRow:a})},_onDgridDataModified:function(a,b,c){b=parseInt(b);this._scrollPosition=this.grid.getScrollPosition();this.emit("table-edit",{columnId:a,rowId:b,value:c})},getSelectedRow:function(){var a=-1,b=Object.keys(this.grid.selection);if(1===b.length)a=b.map(Number)[0];else if(1<b.length)throw Error("Muliple selection not supported");return a},selectRow:function(a,
b){if(0<=a)if(this.grid.clearSelection(),this.grid.select(a),!0===b)this._scrollPosition&&this.grid.scrollTo(this._scrollPosition);else{var c=this.grid.row(a).element;c&&this.grid.scrollTo({y:c.offsetTop})}else throw Error("Negative value for rowToSelect is not allowed");},getRowToSelectPostAddition:function(a,b){return b-1},getRowToSelectPostDeletion:function(a,b){return 0===b?-1:0<a?a-1:0}})})},"inspector/editors/_BasePSTable/_PSTableMixin":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-attr dojo/keys dojo/on dojo/_base/lang dojo/dom-style dojo/query".split(" "),
function(k,d,e,c,b,a,f,l){return k(null,{ADD_DELETE_BUTTON_WIDTH:24,ADD_DELETE_BUTTON_HEIGHT:24,_onUserEntryInDgridCell:function(a){var d=this.grid.cell(a.target);if(!(a.which===c.ESCAPE||void 0===d.column.editOn)){this.grid.edit(d);if(a.which===c.ENTER)d.column.editorInstance.select();else{var f=String.fromCharCode(a.which);d.column.editorInstance.value=f;var e=b(d.column.editorInstance,"blur",function(){d.column.editorInstance.value===f&&(l._onDgridDataModified(d.column.id,d.row.id,f),e.remove())})}var l=
this;this.own(b(d.column.editorInstance,"keypress",function(a){a.stopPropagation()}))}},_onDblClickInDgridCell:function(a){var c=a.target.childNodes[0];void 0!==c&&"INPUT"===c.nodeName&&"text"===c.type&&c.select();a=this.grid.cell(a.target);a.column.editorInstance&&this.own(b(a.column.editorInstance,"keypress",function(a){a.stopPropagation()}))},_setDisabledAttr:function(a){a?(d.add(this.domNode,"vc-pe-disabled"),e.set(this.domNode,"tabindex",-1)):(d.remove(this.domNode,"vc-pe-disabled"),e.remove(this.domNode,
"tabindex"))},addPSTableResizeMouseDownEventHandler:function(c){this.own(b(c,"mousedown",a.hitch(this,this._handleGripperMouseDown)))},_handleGripperMouseDown:function(c){this._MouseMoveListener=b(document,"mousemove",a.hitch(this,this._handleGripperMouseMove));this._MouseUpListener=b(document,"mouseup",a.hitch(this,this._handleGripperMouseUp));this._MouseDownX=c.pageX;this._MouseDownY=c.pageY;this._EditableTableTearaway=l(c.target).closest(".vc-pe-editableTableTearaway")[0];this._TableContainer=
this.domNode.getElementsByClassName("tableContainer")[0];this._GridElement=this._TableContainer.getElementsByClassName("dgrid")[0];this._GridBounds=this._GridElement.getBoundingClientRect();c.preventDefault()},_handleGripperMouseUp:function(a){this._MouseMoveListener&&this._MouseMoveListener.remove();this._MouseUpListener&&this._MouseUpListener.remove();a.preventDefault()},_handleGripperMouseMove:function(a){var b=a.pageY-this._MouseDownY,c=Math.round(this._GridBounds.width+(a.pageX-this._MouseDownX)),
b=Math.round(this._GridBounds.height+b),b=Math.max(b,66),c=Math.max(c,216);this._sizeTable(c,b);a.preventDefault()},_sizeTable:function(a,b){var c=parseInt(this._EditableTableTearaway.style.width),d=c-a;d<this.TableWithButtonsWidthDelta?f.set(this._EditableTableTearaway,"width",c+(this.TableWithButtonsWidthDelta-d)+"px"):d>this.TableWithButtonsWidthDelta&&f.set(this._EditableTableTearaway,"width",c-(d-this.TableWithButtonsWidthDelta)+"px");f.set(this._TableContainer,"width",a+"px");f.set(this._GridElement,
"width",a+"px");f.set(this._GridElement,"height",b+"px")},_getSelectedRow:function(){var a=-1,b=Object.keys(this.grid.selection);0<b.length&&(a=parseInt(b));return a},_selectRowAfterTableRefresh:function(a,b){var c=this.grid;if(-1<a&&0!==b){var d=Math.min(a,b-1);c.select(d);this._scrollToRow(d,b)}},_scrollToRow:function(a,b){if(0<b){a=Math.min(a,b);var c=this.grid.row(a).element;c&&this.grid.scrollTo({y:c.offsetTop})}}})})},"inspector/editors/ScaleColorsEditor/ColorColumnEditor":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/dom-class dojo/_base/Color dojo/on dojo/_base/lang mw-colorpicker/ColorPicker mw-colorpicker/MColor dijit/_WidgetBase dijit/_TemplatedMixin MW/toolstrip/widgets/_WidgetMixin dojo/text!./ColorColumnEditor.html dijit/_base/focus dijit/TooltipDialog dijit/popup".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){k=k([h,p,g],{templateString:n,value:"#FF0000",constructor:function(a){this.grid=a.grid;this._ColorPickerListener=this._CurrentlyEditedRow=null},postCreate:function(){this.inherited(arguments);this.DropDownColorPicker=new l({showPreview:!0,showCustomPicker:!0,showRecentColors:!1});this.ColorTooltipDialog=new r({"class":"nonModal",content:this.DropDownColorPicker,onBlur:f.hitch(this,function(){this._closePopupMenu()})});this.own(this.grid.on(".dgrid-cell:click",
f.hitch(this,function(a){var b=this.grid.cell(a);a=b.element;void 0!==a&&c.contains(a,"vc-pe-colorColumnCell")&&(b=parseInt(b.row.id,10),b===this._CurrentlyEditedRow?this._closePopupMenu():this._openPopupMenu(b,a))})))},_addColorPickerListener:function(){this._ColorPickerListener=this.DropDownColorPicker.watch("value",f.hitch(this,function(a,b,c){a=this._CurrentlyEditedRow;b=this.DropDownColorPicker.get("value");c=(new m(b)).toDoubleRGB();this.grid.cell(a,0).element.style.background=b;this.emit("color-edit",
{columnId:"0",rowId:a,value:c})}))},_openPopupMenu:function(a,b){this._CurrentlyEditedRow=a;q.open({popup:this.ColorTooltipDialog,around:b,doNotClose:!0,onCancel:function(){this._closePopupMenu();b.focus()}.bind(this)});this.DropDownColorPicker.set("value",b.style.backgroundColor);this._addColorPickerListener();this.ColorTooltipDialog.domNode.focus();this.emit("popup-open",{})},_closePopupMenu:function(){q.close(this.ColorTooltipDialog);this._CurrentlyEditedRow=void 0;this._ColorPickerListener.remove();
this.emit("popup-close",{})}});k.renderCell=function(a,b,d){c.add(d,"vc-pe-colorColumnCell");d.style.background=m.fromDoubleRGB(b).toCss()};return k})},"inspector/editors/_BasePSTable/_PSTableController":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/Destroyable"],function(k,d,e,c){return k(c,{startup:function(){this.started=!0;this.table.startup()},_reloadTable:function(){this.table.set("tableData",this._getTableData())},_initializeView:function(){this._setupListenersOnView();
this._setupListenersOnModel();this._updateAddButtonState();this._updateDeleteButtonState()},_setupListenersOnView:function(){this.own(this.table.on("add-button-click",this._onAddBtnClick.bind(this)),this.table.on("delete-button-click",this._onDeleteBtnClick.bind(this)),this.table.on("table-edit",this._onTableEdit.bind(this)),this.table.on("table-row-select",this._updateDeleteButtonState.bind(this)),this.table.on("table-row-deselect",this._updateDeleteButtonState.bind(this)))},_setupListenersOnModel:function(){this._modelUpdateListener=
e.pausable(this.model,"modelUpdated",this._handleModelUpdate.bind(this));this.own(this._modelUpdateListener)},_handleModelUpdate:function(b){this.emit("tableupdated",{mwEventData:b.eventData})},_onAddBtnClick:function(b){var a=this.model.getComponentProperty(this.propNameInModelToGetAllItems).length;b=this.table.getRowToSelectPostAddition(b.currentSelectedRow,a);this.table.selectRow(b);this._updateAddButtonState()},_onDeleteBtnClick:function(b){var a=this.model.getComponentProperty(this.propNameInModelToGetAllItems).length;
b=this.table.getRowToSelectPostDeletion(b.currentSelectedRow,a);0<=b&&this.table.selectRow(b);this._updateDeleteButtonState()},_updateAddButtonState:function(){var b=this.model.getComponentProperty(this.propNameInModelToGetAllItems).length<this.model.maximumStates;this.table.addRowButtonWidget.set("disabled",!b)},_updateDeleteButtonState:function(){var b=this.model.getComponentProperty(this.propNameInModelToGetAllItems).length>this.model.minimumStates,a=this.table.getSelectedRow();this.table.deleteRowButtonWidget.set("disabled",
!(b&&0<=a))},_getTableData:function(){},_onTableEdit:function(b){this.table.selectRow(b.rowId,!0)},setTableEnabledState:function(b){this.table.set("disabled",!b)}})})},"inspector/editors/ScaleColorsEditor/ScaleColorsModel":function(){define(["dojo/_base/declare","dojo/Evented","dojo/i18n!inspector/app/l10n/nls/app"],function(k,d,e){function c(b){var a=/[a-d|f-z]+/i.test(b);return isNaN(parseFloat(b))||!isFinite(b)||a?!1:!0}return k([d],{DEFAULT_COLOR:[1,0,0],constructor:function(b){this._scaleColors=
b.scaleColors;this._scaleColorLimits=b.scaleColorLimits;this._range=b.range;this._TableData=this._generateTableData(this._scaleColors,this._scaleColorLimits);this.minimumStates=0;this.maximumStates=Number.POSITIVE_INFINITY},_generateScaleColors:function(b){return b.map(function(a){return a.scaleColor})},_generateScaleColorLimits:function(b){return b.map(function(a){return[a.start,a.end]})},_generateTableData:function(b,a){var c=[];0<a.length&&!Array.isArray(a[0])&&(a[0]=a.slice(0),a.length=1);0<b.length&&
!Array.isArray(b[0])&&(b[0]=b.slice(0),b.length=1);for(var d=Math.min(a.length,b.length),e=0;e<d;e++)c.push({scaleColor:b[e],start:a[e][0],end:a[e][1]});return c},getTableData:function(){return this._generateTableData(this._scaleColors,this._scaleColorLimits)},setTableData:function(b){this._TableData=b},getComponentProperty:function(b){switch(b){case "ScaleColorTableContents":return this._TableData;default:throw"In this temporary workaround, the propertyName should be ScaleColorTableContents";}},
setRange:function(b){this._range=b},setScaleColors:function(b){this.setScaleColorsAndLimits(b,this._scaleColorLimits)},setScaleColorLimits:function(b){this.setScaleColorsAndLimits(this._scaleColors,b)},getScaleColors:function(){return this._scaleColors},getScaleColorLimits:function(){return this._scaleColorLimits},setScaleColorsAndLimits:function(b,a){this.emit("modelUpdated",{eventData:{ScaleColors:{newValue:b,oldValue:this._scaleColors},ScaleColorLimits:{newValue:a,oldValue:this._scaleColorLimits}}});
this._scaleColors=b;this._scaleColorLimits=a;this._TableData=this._generateTableData(b,a)},updateScaleColor:function(b,a){this._TableData[a].scaleColor=b;var c=this._generateScaleColors(this._TableData);this.setScaleColors(c)},updateStartValue:function(b,a){c(b)||this._errorThrow("ScaleColorLimitsException",e.invalidNumberMessage);var d=this._getScaleColorLimitsInRow(a);b>=d[1]&&this._errorThrow("ScaleColorLimitsException",e.invalidStartColorLimitMessage);this._TableData[a].start=parseFloat(b);d=
this._generateScaleColorLimits(this._TableData);this.setScaleColorLimits(d)},updateEndValue:function(b,a){c(b)||this._errorThrow("ScaleColorLimitsException",e.invalidNumberMessage);var d=this._getScaleColorLimitsInRow(a);b<=d[0]&&this._errorThrow("ScaleColorLimitsException",e.invalidEndColorLimitMessage);this._TableData[a].end=parseFloat(b);d=this._generateScaleColorLimits(this._TableData);this.setScaleColorLimits(d)},addRow:function(b){var a=this._range[1]-0.1*Math.abs(this._range[1]-this._range[0]);
this._TableData.splice(b,0,{start:a,end:this._range[1],scaleColor:this.DEFAULT_COLOR});b=this._generateScaleColors(this._TableData);a=this._generateScaleColorLimits(this._TableData);this.setScaleColorsAndLimits(b,a)},deleteRow:function(b){parseFloat(this._TableData[b].start);parseFloat(this._TableData[b].end);this._TableData.splice(b,1);b=this._generateScaleColors(this._TableData);var a=this._generateScaleColorLimits(this._TableData);this.setScaleColorsAndLimits(b,a)},_getScaleColorLimitsInRow:function(b){var a=
parseFloat(this._TableData[b].start);b=parseFloat(this._TableData[b].end);return[a,b]},_getIndexOfRowInModel:function(b,a,c){for(var d=0;d<c.length;d++)if(b===c[d][0]&&a===c[d][1])return d;return-1},_errorThrow:function(b,a){throw{name:b,message:a};}})})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(k,d,e){var c=k.NodeList;d.extend(c,{_buildArrayFromCallback:function(b){for(var a=[],c=0;c<this.length;c++){var d=b.call(this[c],this[c],a);d&&(a=a.concat(d))}return a},
_getUniqueAsNodeList:function(b){for(var a=[],c=0,d;d=b[c];c++)1==d.nodeType&&-1==e.indexOf(a,d)&&a.push(d);return this._wrap(a,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(b,a){var c=this._getUniqueAsNodeList(b),c=a?k._filterResult(c,a):c;return c._stash(this)},_getRelatedUniqueNodes:function(b,a){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(a),b)},children:function(b){return this._getRelatedUniqueNodes(b,function(a,b){return d._toArray(a.childNodes)})},
closest:function(b,a){return this._getRelatedUniqueNodes(null,function(c,d){do if(k._filterResult([c],b,a).length)return c;while(c!=a&&(c=c.parentNode)&&1==c.nodeType);return null})},parent:function(b){return this._getRelatedUniqueNodes(b,function(a,b){return a.parentNode})},parents:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[];a.parentNode;)a=a.parentNode,c.push(a);return c})},siblings:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[],d=a.parentNode&&
a.parentNode.childNodes,e=0;e<d.length;e++)d[e]!=a&&c.push(d[e]);return c})},next:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=a.nextSibling;c&&1!=c.nodeType;)c=c.nextSibling;return c})},nextAll:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[],d=a;d=d.nextSibling;)1==d.nodeType&&c.push(d);return c})},prev:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=a.previousSibling;c&&1!=c.nodeType;)c=c.previousSibling;return c})},
prevAll:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[],d=a;d=d.previousSibling;)1==d.nodeType&&c.push(d);return c})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(b,a){return 0!=a%2})},odd:function(){return this.filter(function(b,a){return 0==a%2})}});return c})},"inspector/editors/TicksEditor/TicksDialogEditor":function(){define("dojo/_base/declare dojo/dom-style dojo/dom-class dojo/_base/lang dojo/on dijit/_TemplatedMixin dojo/i18n!inspector/app/l10n/nls/app dojo/dom-construct dijit/layout/_LayoutWidget mw-table/Table mw-tabular-data-model/DataStore mw-form/PushButton mw-tabular-data-model/rangeUtil mw-form/TextField mw-table/editors/DefaultEditor inspector/editors/_BaseRichEditor inspector/editors/TicksEditor/TickDialogTableModel inspector/editors/TicksEditor/ReadOnlyRenderer dojo/text!inspector/templates/inspectorTicksDialog.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w){function v(a){if(Array.isArray(a))return a;if("string"===typeof a){if(0===a.indexOf("{")&&a.lastIndexOf("}")===a.length-1)return a=a.substring(1,a.length-1),a=a.replace(/'/g,""),""==a?[]:a.split(";");try{a="["!==a.substr(0,1)?JSON.parse("["+a+"]"):JSON.parse(a)}catch(b){a=a.replace(/'/g,"")}}return Array.isArray(a)?a:[a]}return k([q,a,m],{templateString:w,_pendingLabelValues:null,_tableModelUpdatedListener:null,_sizeChangedListener:null,constructor:function(a){this._props=
this._parseMetaData(a);a=this._getTicksInfo();this._ticksTableModel=new t(a);this._ticksPropName=a.ticksPropName;this._labelsPropName=a.labelsPropName;this._tickLabelsModePropName=a.tickLabelsModePropName;this._ticksModePropName=a.ticksModePropName;this._limitsPropName=a.limitsPropName;this._errorState=!1},postCreate:function(){this._initTable();this._initButtonGroup();this._createListeners()},_removeListeners:function(){this._tableModelUpdatedListener&&this._tableModelUpdatedListener.remove();this._sizeChangedListener&&
this._sizeChangedListener.remove()},_createListeners:function(){this._removeListeners();this._tableModelUpdatedListener=b(this._ticksTableModel,"tableModelUpdated",this._handleModelUpdate.bind(this));this._sizeChangedListener=b(this._ticksTableModel,"sizeChanged",this._sizeChanged.bind(this))},resize:function(){this.inherited(arguments);this._table.resizeHandler()},_parseMetaData:function(a){var b={};a.forEach(c.hitch(this,function(a){b[a.propertyName]=v(void 0!==a.values[0].editValue.value?a.values[0].editValue.value:
a.values[0].editValue);if(this._endsWith(a.propertyName,"Tick")||this._endsWith(a.propertyName,"Ticks"))b.isNumeric=a.meta.inPlaceEditorProperties.isNumeric,b.readOnlyTicksColumn=a.meta.inPlaceEditorProperties.readOnlyTicks}));return b},updateState:function(a,b){if(b===this._ticksPropName){var c=!1;if(this._props.isNumeric!==a.isNumeric||this._props.readOnlyTicksColumn!==a.readOnlyTicks)c=!0;this._props.isNumeric=a.isNumeric;this._props.readOnlyTicksColumn=a.readOnlyTicks;c&&(this._table.domNode.parentElement.removeChild(this._table.domNode),
this._table.destroy(),c=this._getTicksInfo(),this._ticksTableModel=new t(c),this._initTable(),this._createListeners())}},onOpen:function(){this._ticksTableModel.setTableData(this._getTicksInfo());this._clearErrorStyle();setTimeout(c.hitch(this,function(){this.resize()}),100)},_getTicksInfo:function(){var a={};Object.keys(this._props).forEach(c.hitch(this,function(b){switch(!0){case this._endsWith(b,"Tick")||this._endsWith(b,"Ticks"):a.ticksValue=this._props[b];a.ticksPropName=b;break;case this._endsWith(b,
"TickLabel")||this._endsWith(b,"TickLabels"):a.labelsValue=this._props[b];a.labelsPropName=b;break;case this._endsWith(b,"TickLabelMode")||this._endsWith(b,"TickLabelsMode"):a.labelMode=this._props[b][0];a.tickLabelsModePropName=b;break;case this._endsWith(b,"TickMode")||this._endsWith(b,"TicksMode"):a.ticksMode=this._props[b][0];a.ticksModePropName=b;break;case this._endsWith(b,"Lim")||this._endsWith(b,"Limits"):a.Limits=this._props[b];a.limitsPropName=b;break;case "isNumeric"==b:a.isNumeric=this._props[b]}}));
return a},_addRow:function(){var a,b;b=this._ticksTableModel.getDataStore().dataSize;a=(a=this._table.getSelection())&&0<a.length&&0<=a[0].row&&a[0].row<b.rows.end?a[0].row:b.rows.end;(b=this._table.domNode.getElementsByClassName("mw-table-row")[a])&&"rgb(255, 0, 0)"===b.firstChild.style.color||this._ticksTableModel.addRow(a+1)},_sizeChanged:function(a){var b=0;a.rowDeleted?b=a.rowDeleted-1:a.rowAdded&&(b=a.rowAdded);a=h.range().setRows(b,b);this._table.scrollTo(a);this._selectRow(b)},_selectNextRow:function(){var a=
this._table.getSelection()[0].rows.start,b=this._ticksTableModel.getDataStore().dataSize,a=a+1;a<=b.rows.end&&this._selectRow(a)},_selectRow:function(a){if(0<=a){var b=n.range().setEntireRows(a,a);this._table.setSelection([b]);this._putCellInFocus(a)}this._updateMinusButtonState()},_putCellInFocus:function(a){var b=this._table.getFocusedCell();void 0!==b.column&&(a=n.range().setRows(a,a).setColumns(b.column,b.column),this._table.setCellFocus([a]))},_deleteCurrentSelection:function(){var a;a=this._table.getSelection();
this._ticksTableModel.deleteRow(a[0].row)},storePopupContainer:function(a){this._dropDown=a},_updateMinusButtonState:function(){this._minusButton.set("disabled",0===this._ticksTableModel.getTableData().length);this._dropDown&&this._dropDown.focusNode.focus()},_updateEditor:function(a,b){var c=v(void 0!==a[0].editValue.value?a[0].editValue.value:a[0].editValue);if(JSON.stringify(this._props[b])!==JSON.stringify(c))switch(this._props[b]=c,b){case this._ticksPropName:case this._labelsPropName:this._ticksTableModel.setTableData(this._getTicksInfo());
this._updateMinusButtonState();this._clearErrorStyle();break;case this._tickLabelsModePropName:this._ticksTableModel.setTickLabelMode(c[0]);break;case this._ticksModePropName:this._ticksTableModel.setTickMode(c[0]);break;case this._limitsPropName:this._ticksTableModel.setLimits(c)}},_handleModelUpdate:function(a){a[this._ticksPropName]&&(this._props.isNumeric?this._errorState=this._flagInvalidNumericTicks(a[this._ticksPropName].value):a[this._ticksPropName].invalid&&(this._errorState=this._flagTicksAt(a[this._ticksPropName].value,
a[this._ticksPropName].invalid)),this._errorState?(this._errorPlaceHolder.innerText=f.ticksEditorErrorMsg,this._props.isNumeric||this._plusButton.set("disabled",!0)):(this._errorPlaceHolder.innerText="",this._plusButton.set("disabled",this._props.readOnlyTicksColumn)));if(this._errorState)a[this._labelsPropName]&&this._ticksTableModel.setForceUpdateRequested(!0);else{a[this._labelsPropName]&&this._ticksTableModel.setForceUpdateRequested(!1);var b=!0;Object.keys(a).forEach(c.hitch(this,function(c){this._props[c]&&
(b=b&&this._props[c].length===a[c].value.length,this._props[c]=a[c].value,this._commitValue(c,a[c].oldValue,a[c].value,"client"))}));b&&this._selectNextRow()}},_flagTicksAt:function(a,b){var d=!1;a.forEach(c.hitch(this,function(a,c){-1!==b.indexOf(c)?(this._styleCellInColor(c,"rgb(255, 0, 0)"),d=!0):this._styleCellInColor(c,"rgb(0, 0, 0)")}));return d},_flagInvalidNumericTicks:function(a){var b=!1;if(!this._props.isNumeric)return b;for(var c=0;c<a.length;c++)if("string"===typeof a[c])this._styleCellInColor(c,
"rgb(255, 0, 0)"),b=!0;else if(a[c]>=a[c+1])if(b=!0,c+1===a.length-1){this._styleCellInColor(c+1,"rgb(255, 0, 0)");break}else this._styleCellInColor(c,"rgb(255, 0, 0)");else this._styleCellInColor(c,"rgb(0, 0, 0)");return b},_styleCellInColor:function(a,b){var c=this._table.domNode.getElementsByClassName("mw-table-row")[a];c&&(c.firstChild.style.color=b)},_clearErrorStyle:function(){this._errorPlaceHolder.innerText="";this._plusButton.set("disabled",this._props.readOnlyTicksColumn);this._setFirstColumnColor("rgb(0, 0, 0)")},
_setFirstColumnColor:function(a){for(var b=this._table.domNode.getElementsByClassName("mw-table-row"),c=0;c<b.length;c++)b[c].firstChild.style.color=a},_initTable:function(){this._table=new h(this._ticksTableModel.getDataStore(),this._getTableConfig());this.own(this._table);this._table.setSelection([h.range().setEntireRows(0,0)]);l.place(this._table.domNode,this._tableContainer);this._table.domNode.focus();this._table.startup()},_getTableConfig:function(){var a={features:[h.FEATURE.SingleRowSelection,
h.FEATURE.CellFocus],columnModel:{columnConfig:[{label:this._ticksTableModel._ticksPropName,editor:r,dataIndex:0,width:{value:50,unit:"%"}},{label:this._ticksTableModel._labelsPropName,editor:r,dataIndex:1,width:{value:50,unit:"%"}}]}};this._props.readOnlyTicksColumn&&(delete a.columnModel.columnConfig[0].editor,a.columnModel.columnConfig[0].renderer=new u);return a},_stopEvent:function(a){a.preventDefault();a.stopPropagation()},_initButtonGroup:function(){this._createPlusButton();this._createMinusButton();
l.place(this._plusButton.domNode,this._ButtonContainer);l.place(this._minusButton.domNode,this._ButtonContainer);this._plusButton.set("disabled",this._props.readOnlyTicksColumn)},_createPlusButton:function(){this._plusButton=new p({width:22,height:22,"class":"ticksdialogButton"});this._plusButton.set("icon","plusIcon");this._plusButton.startup();this._plusButton.on("click",c.hitch(this,function(a){this._stopEvent(a);this._addRow()}));this.own(this._plusButton)},_createMinusButton:function(){this._minusButton=
new p({width:22,height:22,"class":"ticksdialogButton"});this._minusButton.set("icon","muinusIcon");this._minusButton.startup();this._minusButton.on("click",c.hitch(this,function(a){this._stopEvent(a);this._deleteCurrentSelection()}));this.own(this._minusButton);this._updateMinusButtonState()},_endsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)}})})},"mw-table/Table":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=
!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("dojo/on mw-table/view/TableView mw-table/viewmodel/ViewModel mw-table/controllers/scrolling/Scroll mw-table/controllers/edit/EditController mw-tabular-data-model/DataModel mw-tabular-data-model/rangeUtil mw-tabular-data-model/sort/Enum mw-table/utils/StateMutation mw-table/utils/rangeInterface mw-table/enums/PluginEnum mw-table/enums/StateEnum ./io/DataSize ./io/ViewPortGeom ./utils/Registration".split(" "),
function(d,e,c,b,a,f,l,m,h,g,p,n,s,r,q){function t(c){var d=void 0;new q;return{createtable:function(c,f,l){var k=new h(f),m=new a({dataStore:c,viewModel:f,stateMutator:k,rangeInterface:g}),p=new s(f),n=[new r({viewPortItem:f.viewPort.rangeList[0],viewModel:f,dataSize:p})],q=new b({viewPortList:n,viewModel:f});return d=new e({dataSize:p,viewPortList:n,viewModel:f,scrollController:q,options:l,dataStore:c,rangeInterface:g,stateMutator:k,editController:m})},mixinFacade:function(){d.registry.forEach(function(a){if(a[0].exposedAPI){a=
a[0].exposedAPI();for(var b in a)c[b]=a[b]}})},facadeListeners:function(){d.registry.forEach(function(a){a[0].emits&&a[0].emits.forEach(function(b){return c._eventMap[b]=a[0]})})}}}return function(){function a(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._events=[];this.resizeHandler=this.resizeHandler.bind(this);f=d.treeTableDataModel||f;var e=new f(b),g=new c(e),g=a._setViewModel(g,d),e=new t(this),
d=this._tableView=e.createtable(b,g,d);this._eventMap={};e.mixinFacade();e.facadeListeners();d.initializeTable()}k(a,[{key:"startup",value:function(){this._tableView.renderTable()}},{key:"destroy",value:function(){this._events.forEach(function(a){a.remove()});this._tableView.removeTable(this._container)}},{key:"on",value:function(a,b){var c=d(this._eventMap[a],a,b);this._events.push(c);return c}},{key:"scrollTo",value:function(a){}},{key:"resizeHandler",value:function(){this._tableView.throttledResize()}},
{key:"emits",value:function(){}},{key:"domNode",get:function(){return this._tableView.domNode}}],[{key:"_setViewModel",value:function(a,b){a.setState("lookAheadRowBuffer",b.lookAheadRowBuffer||3);a.setState("rowReloadPoint",b.rowReloadPoint||9);a.setState("translate3dThead",b.translate3dThead||"");a.viewPort=b.viewPort||{size:{left:0,top:0,width:0,height:0},rangeList:[l.range().setRows(0,11).setColumns(0,5)]};return a}},{key:"range",value:function(){return l.range()}},{key:"FEATURE",get:function(){return p.AVAILABLE}},
{key:"compare",get:function(){return m.compare}}]);return a}()})},"mw-table/view/TableView":function(){var k=function(){return function(d,c){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d)){var b=[],a=!0,f=!1,l=void 0;try{for(var k=d[Symbol.iterator](),h;!(a=(h=k.next()).done)&&!(b.push(h.value),c&&b.length===c);a=!0);}catch(g){f=!0,l=g}finally{try{if(!a&&k["return"])k["return"]()}finally{if(f)throw l;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),d=function(){function d(c,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define("../functional/FunctionalUtils ../enums/StateEnum ../utils/Geometry ../utils/Throttle ../controllers/geometry/GeometryController ../controllers/interactive/InteractiveController ../controllers/scrolling/Scroll ../controllers/resize/tableResize ../controllers/events/eventsController ../utils/initialization ../utils/Registration ../enums/PluginEnum ../enums/LogicalSizeEnum ../lifecycle/LifeCycle ../parsing/headers/ColumnHeaderState mw-tabular-data-model/rangeUtil".split(" "),
function(e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u){return function(){function b(a){var d=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.initializeTable=this.initializeTable.bind(this);this.renderTable=this.renderTable.bind(this);this._initialized=!1;var s=a.dataStore,r=a.viewModel,q=a.viewPortList,C=a.dataSize,A=a.options;a=a.editController;this._viewModel=r;var D=u.range().setRows(0,0).setColumns(0,0);r.setState(c.tableAffordanceWidth,{run:function(){return 0}});
r.setState(c.tableBottomLeftAffordanceHeight,0);r.setState(c.state.ACTIVE_CELL,!1,[D]);r.setState(c.WIDTH_CHANGED,!1);r.setState(c.colResize,!1);r.setState("setScrollTop",!1);r.setState(c.TABLE_AFFORDANCE_WIDTH,{run:function(){return 0}});var F=A=A||{},D=F.columnModel,G=F.features;r.setState(c.testId,"__MW_TABLE__"+F.dataTestId);this.viewPortList=q;var F=new f({viewModel:r}),I=new h({viewModel:r,viewPortList:q}),M=new l({viewModel:r,dataStore:s}),K=new g,D=D||{};this._headerParser=new t({dataSize:C,
columnModel:D,viewModel:r});var G=G||["SingleRowSelection"],J=this.registry=[];this._adaptorList=new n;this._adaptorList.register(a.eventList());this._adaptorList.register(F.eventList());this._adaptorList.register(I.eventList());this._adaptorList.register(K.eventList());this._adaptorList.register(M.eventList());J.push([a],[F],[I],[K],[M]);C=p.separateControllers(e.dedupe(e.flatten(G)),A._TreeTablePlugin);a=k(C,2);C=a[0];a=a[1];C.push(m);C.forEach(function(a){a=new a({viewModel:r,dataStore:s,viewPortList:q,
options:A});d._adaptorList.register(a.eventList());J.push([a])});a=p.prunePlugins(a,A._TreeTablePlugin);this._setupPlugins(a,A)}d(b,[{key:"_setupPlugins",value:function(a,b){var c=this,d=[];a.forEach(function(a){var f=void 0;"string"===typeof a.adaptor&&(f=s.EXPERIMENTAL_ADAPTORS[a.adaptor]);try{var e=void 0,g=f?f:a.adaptor,h=d.indexOf(g);0>h?(e=new g({viewModel:c._viewModel,options:b}),d.push(e)):e=d[h];c.registry.push([new a({adaptor:e}),e]);c._adaptorList.register(e.eventList())}catch(l){}})}},
{key:"initializeTable",value:function(){this._lifecycle=new q(this._viewModel,this._adaptorList,this.viewPortList)}},{key:"renderTable",value:function(){var b=this._lifecycle.mount();this.throttledResize=a(b._handleResize,1E3/60)}},{key:"removeTable",value:function(){this._lifecycle.unmount()}},{key:"domNode",get:function(){return this._lifecycle.domNode}}]);return b}()})},"mw-table/functional/FunctionalUtils":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=
a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");}k(d,null,[{key:"curry",value:function(d){return function b(){var a=arguments;return a.length>=d.length?d.apply(null,a):function(){var d=[];Array.prototype.push.apply(d,a);Array.prototype.push.apply(d,arguments);
return b.apply(null,d)}}}},{key:"find",value:function(d,c){for(var b=0;b<d.length&&!c(d[b]);)b++;return b<d.length?d[b]:null}},{key:"flatten",value:function(d){var c=[];d.forEach(function(b){b=Array.isArray(b)?b:[b];Array.prototype.push.apply(c,b)});return c}},{key:"dedupe",value:function(d){return d.reduce(function(c,b){0>c.indexOf(b)&&c.push(b);return c},[])}},{key:"getNestedProp",value:function(d,c){var b=0,a=d;if(a){for(;b<c.length;){if(!a.hasOwnProperty(c[b]))return;a=a[c[b]];b+=1}return a}}},
{key:"compose",value:function(){var d=[].concat(Array.prototype.slice.call(arguments)).reverse();return function(){for(var c=d[0].apply(this,arguments),b=1;b<d.length;b+=1)c=d[b].call(this,c);return c}}},{key:"fork",value:function(d,c,b){return function(a){return d(c(a),b(a))}}},{key:"alt",get:function(){return d.curry(function(d,c,b){return d(b)||c(b)})}}]);return d}()})},"mw-table/enums/StateEnum":function(){define([],function(){return Object.freeze({ROW_HEIGHT:"rowHeight",COL_WIDTH:"colWidth",
HEADER_MENU_AFFORDANCE:"headerMenuAffordance",EDIT_STATE:"editState",FOCUSED:"focused",SELECTED:"selected",tableFlexWidth:"tableFlexWidth",origHeaders:"origHeaders",tableBottomLeftAffordanceHeight:"tableBottomLeftAffordanceHeight",TABLE_AFFORDANCE_WIDTH:"tableAffordanceWidth",COLUMN_RESIZED:"columnResized",WIDTH_CHANGED:"widthChanged",colResize:"colResize",testId:"data-test-id",displayRowHeader:"displayRowHeader",rowHeaderWidth:"rowHeaderWidth",PIVOT:"pivot",SORTED:"_sortIndicator",INTERACTIVE_CHANGE:"interactiveChange",
ROW_HEADER_NODE:"rowHeaderNode",VIEWPORT_CHANGED:"viewportChanged",SET_SCROLL_TOP:"setScrollTop",SCROLL_COMPONENT_WIDTH:"scrollComponentWidth",SCROLL_COMPONENT_LEFT:"scrollComponentLeft",SCROLL_CONTAINER:"scrollComponent",TOTAL_COLUMN_WIDTH:"totalColumnWidth",TBODY:"tbody",TABLE_WIDTH:"tableWidth",VIEWPORT_CONTAINER:"viewportContainer",TRANSLATE_X:"translateX",LOGICAL_VIEWPORT:"logicalViewport",SORTABLE:"sortable",state:{ACTIVE_CELL:"activeCell",VIEWPORT_CHANGED:"viewportChanged",PIVOT:"pivot"},publisher:{ROW_HEADER:"rowHeader",
CELL_ENTER:"cellEnter",SCROLL_BAR_HEIGHT:"scrollBarHeight",SCROLL_BAR_WIDTH:"scrollBarWidth",TOOLTIP_DISMISS:"tooltipDismiss",HEADER_TRANSX:"headerTranslateX",CALCULATED_TABLE_WIDTH:"calculatedTableWidth"},subscriber:{ROW_HEADER_PARENT:"rowHeaderParent",TOP_LEFT:"topLeft",TOOLTIP_ENTER:"tooltipEnter",TOOLTIP_LEAVE:"tooltipLeave",TOOLTIP_GLOBAL_LEAVE:"tooltipGlobalLeave",TABLE_BOTTOM_LEFT_AFFORDANCE:"tableBottomLeftAffordance",HEADER_RIGHT_AFFORDANCE:"headerRightAffordance",TABLE_HAS_VERT_SCROLL:"tableHasVertScroll",
HEADER_TRANSFORMX:"headerTransformX",TBODY_TRANSFORM:"tbodyTransform",TABLE_WIDTH:"tableWidth",HEADER_WIDTH:"headerWidth"},treetable:{displayTreeColumn:"displayTreeColumn",treeColumnIndex:"treeColumnIndex",ComponentFactory:"ComponentFactory",PropManager:"PropManager"}})})},"mw-table/utils/Geometry":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,
c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){var d={"%":"100%",px:"0px"};return function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");}k(e,null,[{key:"getMaxWidthForUnit",value:function(c){return d[c]||"0px"}},{key:"getColUnit",value:function(c){return c&&c.width&&c.width.unit?c.width.unit:null}}]);return e}()})},"mw-table/utils/Throttle":function(){define([],function(){return function(k,d){function e(d){c=!0;f=window.setTimeout(function(){k.apply(null,
a);b=Date.now();c=!1},d)}var c=!1,b=0,a=void 0,f=-1;return function(){a=arguments;var l=d-(Date.now()-b);0>=l||l>d?(k.apply(null,arguments),b=Date.now(),window.clearTimeout(f),c=!1):c||e(l)}}})},"mw-table/controllers/geometry/GeometryController":function(){function k(d,c,b){c in d?Object.defineProperty(d,c,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[c]=b;return d}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in
f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../../enums/EventEnum","../../enums/StateEnum"],function(e,c){return function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._vm=a.viewModel;this._vm.setState(c.ROW_HEADER_NODE,{offsetWidth:0});this._publishNode={};this._subscribeNode={}}d(b,[{key:"exposedAPI",value:function(){return{}}},{key:"eventList",value:function(){var a=
this,b;return b={},k(b,e.internal.NODE_PUBLISH,function(b){return a._nodePublish(b.event)}),k(b,e.internal.NODE_SUBSCRIBE,function(b){return a._nodeSubscribe(b.event)}),k(b,e.internal.NODE_UNSUBSCRIBE,function(b){return a._nodeUnsubscribe(b.event)}),k(b,e.internal.NODE_NOTIFY,function(b){return a._notifyChannel(b.event)}),k(b,e.internal.FORCE_LAYOUT,this._notifyAll.bind(this)),b}},{key:"_nodePublish",value:function(a){this._publishNode[a.publisherId]=a.publisherFn}},{key:"_nodeSubscribe",value:function(a){this._subscribeNode[a.subscriberId]=
{subscriberFn:a.subscriberFn,publisherId:a.subscribeTo}}},{key:"_nodeUnsubscribe",value:function(a){delete this._subscribeNode[a.subscriberId]}},{key:"_notifyChannel",value:function(a){var b=a.publisherFn;a=k({},a.publisherId,b());this._notifySubscribers(a)}},{key:"_notifyAll",value:function(){var a=this,b={};Object.keys(this._publishNode).forEach(function(c){b[c]=(0,a._publishNode[c])()});this._notifySubscribers(b)}},{key:"_notifySubscribers",value:function(a){var b=this;Object.keys(this._subscribeNode).forEach(function(c){if(b._subscribeNode[c]){var d=
b._subscribeNode[c];c=d.subscriberFn;d=d.publisherId;a.hasOwnProperty(d)&&c(a[d])}})}}]);return b}()})},"mw-table/enums/EventEnum":function(){define([],function(){return Object.freeze({ScrollComponentMounted:"scrollMounted",ColResize:"colResize",ColHeaderDidMount:"colHeaderDidMount",internal:{SCROLL_COMPONENT_MOUNTED:"scrollMounted",SCROLL_COMPONENT_UPDATED:"scrollUpdated",TABLE_CELL_CLICK:"tableCellClick",INTERACTIVE_CELL_CLICK:"interactiveCellClick",TABLE_KEY_PRESS:"tableKeyPress",CELL_FOCUS_KEY:"cellFocusKeyPress",
CELL_FOCUS_CLICK:"cellFocusClick",CELL_SELECTION_CLICK:"cellSelectionClick",CELL_SELECTION_KEY:"cellSelectionKeyPress",SORT_AFFORDANCE_CLICKED:"sortAffordanceClicked",TABLE_COLUMN_SORT:"tableColumnSort",TABLE_RESIZE:"tableResized",COL_RESIZE:"colResize",COL_HEADER_MOUNT:"colHeaderDidMount",TABLE_MOUNT:"tableMounted",TABLE_SCROLL:"tableScroll",FORCE_LAYOUT:"forceLayout",NODE_PUBLISH:"nodePublish",NODE_SUBSCRIBE:"nodeSubscribe",NODE_UNSUBSCRIBE:"nodeUnsubscribe",NODE_NOTIFY:"nodeNotify",BUFFER_DATA:"viewDataChanged",
DATA_SIZE:"dataSizeChanged",ROW_META:"pagedRowMetaDataChanged",TBODY_MOUNT:"tbodyMount",COL_HEADER_UPDATE:"colHeaderUpdate",SET_LAST_COLUMN:"setLastColumn",COMPUTE_TRANSLATEX:"computeTranslateX",TABLE_WIDTH:"tableWidth",RESET_SCROLL_TO:"resetScrollTo",TABLE_DBL_CLICK:"tableDblClick",TABLE_SELECTED_ACTION:"tableSelectedAction",HEADER_RECTS:"headerRects",ROW_RECTS:"rowRects",HEADER_CLICKED:"headerClicked",TABLE_RIGHT_CLICK:"tableRightClick"},exposed:{SELECTION_CHANGED:"selectionChanged",HEADER_MENU:"headerMenuRequested",
SELECTED_ACTION:"selectedAction",CONTEXT_MENU:"contextMenu"}})})},"mw-table/controllers/interactive/InteractiveController":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var f=
b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define("../../utils/Emitter ../../enums/EventEnum ../../enums/StateEnum ../../enums/KeyCodeEnum ../../view/TableUtils mw-tabular-data-model/rangeUtil".split(" "),function(e,c,b,a,f,l){return function(e){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var b;b=(h.__proto__||
Object.getPrototypeOf(h)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=b&&("object"===typeof b||"function"===typeof b)?b:this;var c=a.dataStore;b._viewModel=a.viewModel;b._dataStore=c;return b}k(h,e);d(h,[{key:"exposedAPI",value:function(){return{}}},{key:"eventList",value:function(){var a={};a[c.internal.INTERACTIVE_CELL_CLICK]=this._handleCellClickEvent.bind(this);a[c.internal.TABLE_KEY_PRESS]=this._handleKeyPressEvent.bind(this);return a}},
{key:"_mapViewColumnsToDataColumns",value:function(a){for(var b={},c=a.columns.start;c<=a.columns.end;c++)b[this._getDataColumn(c)]=c;return b}},{key:"_convertViewRangeToDataRange",value:function(a){var b=void 0,c=this._getDataColumn(a.columns.start),d=this._getDataColumn(a.columns.end),b=Infinity===a.rows.end?this._dataStore.dataSize.rows.end:a.rows.end;return l.range().setRows(a.rows.start,b).setColumns(c,d)}},{key:"_getNewValueIfUnchecked",value:function(a,b){var c=a.handleAction({value:b,shouldUpdate:!0});
return{oldState:c?!1:!0,value:c}}},{key:"_getDataColumn",value:function(a){var b=this._viewModel.getColumnHeaders()[Number(a)].dataIndex;if(-1>=b||void 0===b)b=a;return b}},{key:"_getOldValueToToggle",value:function(a,b){for(var c=b.range,d=b.renderer,f=this._convertViewRangeToDataRange(c),c=this._mapViewColumnsToDataColumns(c),e=void 0,h=void 0,k=void 0,m=void 0,m=f.rows.start;m<=f.rows.end;m++)for(k=f.columns.start;k<=f.columns.end;k++)if(this._getNewValueIfUnchecked(d,a[0][m][k]).oldState)return h=
l.range().setRows(m,m).setColumns(k,k),e=d.handleAction({value:a[0][m][k],shouldUpdate:!0,shouldToggle:!0}),k=c[k],m=l.range().setRows(m,m).setColumns(k,k),{value:e,dataRange:h,viewRange:m}}},{key:"_updateDataStore",value:function(a,b,c){this._dataStore.update(a,[[c.newValue]]);this.emit("editCompleted",{oldValue:c.oldValue,newValue:c.newValue,viewRange:b})}},{key:"_updateToggledValues",value:function(a){var b=this,c=a.interactiveRenderer,d=a.newToggledValue,f=this,e=c.renderer;a=this._getViewandDataRange(a);
var h=a.dataRange,l=a.viewRange;a=this._convertViewRangeToDataRange(c.range);this._dataStore.getData([a]).then(function(a){if(d=d||b._getNewValueIfUnchecked(e,a[0][h.rows.start][h.columns.start]).value)(a=f._getOldValueToToggle(a,c))&&b._dataStore.update(a.dataRange,[[a.value.newValue]]),b._updateDataStore(h,l,d)})}},{key:"_getViewandDataRange",value:function(a){var b=a.viewPosition;a=a.viewRange;b&&(a=l.range().setRows(b.row,b.row).setColumns(b.column,b.column));b=this._getDataColumn(a.columns.start);
b=l.range().setRows(a.rows.start,a.rows.start).setColumns(b,b);return{viewRange:a,dataRange:b}}},{key:"_handleCellClickEvent",value:function(a){var b=this._viewModel.getStateByKey("interactiveRenderer")||{};if(b=f.getInteractiveRendererFor(b,a.event.row,a.event.column)){var c={interactiveRenderer:b,viewPosition:{row:a.event.row,column:a.event.column},newToggledValue:a.event};b.renderer.toggle?this._updateToggledValues(c):(b=this._getViewandDataRange(c),this._updateDataStore(b.dataRange,b.viewRange,
a.event))}}},{key:"_handleKeyPressEvent",value:function(c){var d=this;if(c.event.keyCode===a.ENTER||c.event.keyCode===a.SPACE){c=this._viewModel.getStateByKey(b.FOCUSED);var e=this._viewModel.getStateByKey("interactiveRenderer")||{};if(c&&c.rangeList&&0<c.rangeList.length){var h=c.rangeList[0];if(c=f.getInteractiveRendererFor(e,h.rows.start,h.columns.start)){var l=c.renderer;c={interactiveRenderer:c,viewRange:h};var k=this._getViewandDataRange(c).dataRange;l.toggle?this._updateToggledValues(c):this._dataStore.getData([k]).then(function(a){(a=
d._getNewValueIfUnchecked(l,a[0][k.rows.start][k.columns.start]).value)&&d._updateDataStore(k,h,a)})}}}}},{key:"emits",get:function(){return["editCompleted"]}}]);return h}(e)})},"mw-table/utils/Emitter":function(){define(["dojo/Evented","dojo/_base/declare"],function(k,d){var e=d([k],{});return function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=new e;this.emit=a.emit.bind(a);this.on=a.on.bind(a)}})},"mw-table/enums/KeyCodeEnum":function(){define([],
function(){return Object.freeze({BACKSPACE:8,NUM_START:48,NUM_END:57,SPACE:32,ENTER:13,ALPHA_START:65,ALPHA_END:91,NUMPAD_START:95,NUMPAD_END:112,SYM1_START:185,SYM1_END:193,SYM2_START:219,SYM2_END:222,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,CTRL:17,SHIFT:16,META:91,ALT:16})})},"mw-table/view/TableUtils":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&
(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../enums/DefaultsEnum","../enums/StateEnum","../parsing/headers/PureColumnUtils","mw-tabular-data-model/rangeUtil"],function(d,e,c,b){return function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}k(a,null,[{key:"getFocusedCell",value:function(a){var b={},c=void 0;a&&(a.rangeList&&a.rangeList[0])&&(c=a.rangeList[0]);c&&(c.rows&&
c.columns)&&(a=[c.rows.start,c.columns.start].join(),b[a]="mw-table-cell-focused");return b}},{key:"getInteractiveRendererFor",value:function(b,c,d){for(var e=b.rangeList||[],g=0;g<e.length;g++)if(a.isCellInRange(e[g],c,d)){if(b.value[g])return{renderer:b.value[g],range:e[g]};break}return null}},{key:"isCellInRange",value:function(a,b,c){return c>=a.columns.start&&c<=a.columns.end&&b>=a.rows.start&&b<=a.rows.end?!0:!1}},{key:"isInRange",value:function(a,b,c){return c>=a&&c<=b}},{key:"getMeta",value:function(b,
c,d,e){var g={};c=b+c;b-=1;if(d&&e){d=d.rangeList;for(var k=0;k<d.length;k++)for(var n=Number(d[k].rows.start),s=Number(d[k].rows.end),r=b;r<=c;r++)a.isInRange(n,s,r)&&(g[r]=g[r]||{},g[r][e]=!0)}return g}},{key:"getTableHeaderStyle",value:function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:d.dimensions.COL_WIDTH,g={};isNaN(a)&&(a=h,b="px");""===b&&(b="px");switch(b){case "percent":case "%":c.areColumnsPaged(e);g={maxWidth:"none",
width:Math.min(100,Math.abs(a))+"%"};break;case "px":a=Math.max(h,a),g={maxWidth:a,minWidth:a}}return g}},{key:"computeTableHeight",value:function(a,b){return(Math.max(a*b,1)||1)+"px"}},{key:"renderUpdate",value:function(a,b){a.viewBuffer={size:null,rangeList:[b]}}}]);return a}()})},"mw-table/enums/DefaultsEnum":function(){define([],function(){var k=Object.freeze({COL_WIDTH:82,ROW_HEIGHT:22,MIN_ROW_HEADER_WIDTH:40,TOOLTIP_MIN_WIDTH:300}),d=Object.freeze({ROW_OVERSCAN:4,COL_OVERSCAN:3,UNPAGED_COL_LIMIT:12});
return Object.freeze({dimensions:k,buffers:d,BORDER_WIDTH:1,ZERO_HEIGHT_ROWS:12,ZERO_WIDTH_COLS:12})})},"mw-table/parsing/headers/PureColumnUtils":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../../functional/FunctionalUtils","../../functional/Maybe","../../enums/DefaultsEnum",
"../../renderers/DefaultRenderer","../../editors/DefaultEditor"],function(d,e,c,b,a){var f=function(a){return 0<a.length},l=function(a){return 0<=a.dataIndex},m=function(a){return"px"===a.width.unit||"%"===a.width.unit||""===a.width.unit||!a.width.value&&!a.width.unit},h=function(a){return!isNaN(a.value)},g=function(a){return!isNaN(a.value)&&"%"!==a.unit};return function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}k(a,null,[{key:"areColumnsPaged",
value:function(a){return a>=c.buffers.UNPAGED_COL_LIMIT}},{key:"areColumnsNotPaged",value:function(b){return!a.areColumnsPaged(b)}},{key:"parseHeaderConfig",value:function(a,b){var c=b.label,c=void 0===c?"":c,d=b.dataIndex,d=void 0===d?-1:d,f=b.width,g=b.renderer,g=void 0===g?null:g,h=b.editor,h=void 0===h?null:h,k=b.interactiveRenderer,k=void 0===k?null:k,f=e.fromType(a,void 0===f?{}:f).orElse({});k&&(g=h=null);return e.fromType(l,{label:c,dataIndex:d,width:f,editor:h,renderer:g,interactiveRenderer:k}).filter(m).orElse(null)}},
{key:"initializeConfiguredHeaders",value:function(b){b=b.columnConfig;b=void 0===b?[]:b;var c=e.fromType(a.areColumnsNotPaged,b.length).chain(function(){return h}).orElse(g),l=d.curry(a.parseHeaderConfig)(c);return e.fromType(f,b).chain(function(a){return a.map(l)}).chain(function(a){return a.filter(function(a){return a})}).orElse(null)}},{key:"validateColPct",value:function(a){var b=0,c=0,d=-1;a.forEach(function(a,f){if(a.width&&!isNaN(a.width.value)&&"%"===a.width.unit){var e=Math.abs(a.width.value);
b+=e;e>c&&(d=f,c=e)}});a=100-b;1>a&&(d=-1);return[a,d]}},{key:"getTbodyHeaderClass",value:function(b){var c=b.headers;b=b.dataSize;return a.areColumnsPaged((void 0===c?[]:c).length||b)?"mw-tbody-paged-columns":"mw-tbody-all-columns"}},{key:"getTableHeaderClass",value:function(b){var c=b.headers;b=b.dataSize;return a.areColumnsPaged((void 0===c?[]:c).length||b)?"mw-table-paged-columns":""}},{key:"getPercentColumnPageWidth",value:function(b){function c(a){if(a.width)return"%"===a.width.unit}var e=b.headers,
e=void 0===e?[]:e;b=b.dataSize;return a.areColumnsNotPaged(e.length||b)&&d.find(e,c)?"100%":null}}]);return a}()})},"mw-table/functional/Maybe":function(){function k(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:b}function d(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,
{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function e(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}var c=function(){function b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}();define([],function(){var b=
function(){function b(){e(this,b)}c(b,[{key:"isNothing",get:function(){return!1}},{key:"isJust",get:function(){return!1}}],[{key:"fromType",value:function(b,c){return b(c)?new f(b,c):new a}}]);return b}(),a=function(a){function b(){e(this,b);return k(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}d(b,a);c(b,[{key:"chain",value:function(a){return this}},{key:"filter",value:function(){return this}},{key:"orElse",value:function(a){return a}},{key:"isNothing",get:function(){return!0}}]);
return b}(b),f=function(a){function f(a,b){e(this,f);var c=k(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));c._typeCheck=a;c._value=b;return c}d(f,a);c(f,[{key:"chain",value:function(a){return b.fromType(this._typeCheck,a(this._value))}},{key:"filter",value:function(a){return b.fromType(a,this._value)}},{key:"orElse",value:function(){return this._value}},{key:"isJust",get:function(){return!0}}]);return f}(b);return b})},"mw-table/renderers/DefaultRenderer":function(){var k=function(){function d(d,
c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.config=e}k(d,[{key:"getTooltip",value:function(d){return{text:d}}},{key:"getDomNode",value:function(d){var c=document.createElement("div");c.style.textAlign=
"left";c.style.textOverflow="ellipsis";c.textContent=d;c.style.overflow="hidden";c.className="mw-table-cell-content";return c}}]);return d}()})},"mw-table/editors/DefaultEditor":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["mw-table/utils/Emitter","../enums/KeyCodeEnum"],function(d,
e){return function(){function c(b,a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f=new d;void 0===b&&(b="");this.config=a;this._emit=f.emit.bind(f);this.on=f.on.bind(f);this._handleKeyDown=this._handleKeyDown.bind(this);this._handleBlur=this._handleBlur.bind(this);f=document.createElement("div");this._oldValue=b;var e=this._textField=document.createElement("input");e.input="text";e.value=b;e.tabIndex=0;f.appendChild(e);this._domNode=f;e.className="mwTableTextEditor";
this._textField.addEventListener("blur",this._handleBlur);this._textField.addEventListener("keydown",this._handleKeyDown)}k(c,[{key:"_handleBlur",value:function(){this._emit("editComplete",{newValue:this._textField.value,oldValue:this._oldValue})}},{key:"_handleKeyDown",value:function(b){b.stopPropagation();switch(b.keyCode){case 27:this._emit("editCanceled");break;case 13:this._emit("editComplete",{newValue:this._textField.value,oldValue:this._oldValue});break;case e.PAGE_UP:case e.PAGE_DOWN:b.preventDefault()}}},
{key:"setFocus",value:function(){this._textField.focus()}},{key:"getDomNode",value:function(){return this._domNode}},{key:"destroy",value:function(){this._textField.removeEventListener("blur",this._handleBlur);this._textField.removeEventListener("keydown",this._handleKeyDown);delete this._textField;delete this._domNode}},{key:"value",get:function(){return this._textField.value},set:function(b){this._textField.value=b}}]);return c}()})},"mw-tabular-data-model/rangeUtil":function(){function k(d,c){if(!(d instanceof
c))throw new TypeError("Cannot call a class as a function");}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define([],function(){var e=function(b,a){if(!(0===b||0<b))throw Error("Invalid start value set");if(!(0===a||0<a))if(0!==b||-1!==a)throw Error("Invalid end value set");var c={};Object.defineProperty(c,
"start",{value:b,enumerable:!0});Object.defineProperty(c,"end",{value:a,enumerable:!0});Object.defineProperty(c,"count",{value:a-b+1,enumerable:!0});return c},c=function(){function b(a,c,d,m){k(this,b);Object.defineProperty(this,"rows",{value:e(a,c),enumerable:!0});Object.defineProperty(this,"columns",{value:e(d,m),enumerable:!0})}d(b,[{key:"setEntireColumns",value:function(a,c){void 0===c&&(c=a);return new b(0,Infinity,a,c)}},{key:"setEntireRows",value:function(a,c){void 0===c&&(c=a);return new b(a,
c,0,Infinity)}},{key:"setColumns",value:function(a,c){return new b(this.rows.start,this.rows.end,a,c)}},{key:"setRows",value:function(a,c){return new b(a,c,this.columns.start,this.columns.end)}},{key:"column",get:function(){return this.columns.start===this.columns.end&&0===this.rows.start&&Infinity===this.rows.end?this.columns.start:null}},{key:"row",get:function(){return this.rows.start===this.rows.end&&0===this.columns.start&&Infinity===this.columns.end?this.rows.start:null}}]);return b}();Object.defineProperty(c.prototype,
"row",{enumerable:!0});Object.defineProperty(c.prototype,"column",{enumerable:!0});return function(){function b(){k(this,b)}d(b,null,[{key:"range",value:function(){return new c(0,-1,0,-1)}},{key:"doesRangeIntersect",value:function(a,b){return a.columns.start<=b.columns.end&&a.columns.end>=b.columns.start&&a.rows.start<=b.rows.end&&a.rows.end>=b.rows.start?!0:!1}},{key:"isRangeEqual",value:function(a,b){return a===b||a.columns.start===b.columns.start&&a.columns.end===b.columns.end&&a.rows.start===
b.rows.start&&a.rows.end===b.rows.end}},{key:"isRangeInside",value:function(a,b){return a===b||a.columns.start<=b.columns.start&&a.columns.end>=b.columns.end&&a.rows.start<=b.rows.start&&a.rows.end>=b.rows.end}},{key:"groupRangeListByRow",value:function(a){return b._groupRangeList(a,"rows")}},{key:"groupRangeListByColumn",value:function(a){return b._groupRangeList(a,"columns")}},{key:"_groupRangeList",value:function(a,c){var d=[],e={};a.forEach(function(a){var g=b._hashRankFromRange(a,c),k=e[g];0<=
k?d[k].push(a):(k=d.length,e[g]=k,d[k]=[a])});return d}},{key:"_hashRankFromRange",value:function(a,b){var c=a[b].start,d=a[b].end;return 0===a[b].count?-1:d*d+d+c}}]);return b}()})},"mw-table/controllers/scrolling/Scroll":function(){var k=function(){return function(d,c){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d)){var b=[],a=!0,f=!1,l=void 0;try{for(var k=d[Symbol.iterator](),h;!(a=(h=k.next()).done)&&!(b.push(h.value),c&&b.length===c);a=!0);}catch(g){f=!0,l=g}finally{try{if(!a&&
k["return"])k["return"]()}finally{if(f)throw l;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define("dojo/_base/declare ../../view/TableUtils ../../calc/BufferMath ../../parsing/headers/PureColumnUtils ../../enums/StateEnum ../../enums/EventEnum ../../enums/DefaultsEnum ../../enums/LogicalSizeEnum".split(" "),
function(e,c,b,a,f,l,m,h){return function(){function e(a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._viewPortList=a.viewPortList;this.viewModel=a.viewModel;this._geomObject={scrollLeft:0,translateX:0};this._scrollLeft=0;this._size=new h(this.viewModel);this._headerRects=function(){}}d(e,[{key:"exposedAPI",value:function(){return{}}},{key:"eventList",value:function(){var a=this,b={};b[l.internal.TABLE_SCROLL]=function(b){return a._handler(b.event)};b[l.internal.RESET_SCROLL_TO]=
function(b){return a._resetScrollTo(b.event)};b[l.internal.COMPUTE_TRANSLATEX]=function(b){return a._getTranslateX(b.event)};b[l.internal.TABLE_WIDTH]=function(b){return a._updateGeomObject(b.event)};b[l.internal.HEADER_RECTS]=function(b){return a._setHeaderNodes(b)};return b}},{key:"_setHeaderNodes",value:function(a){this._headerRects=a.event.children}},{key:"_calcMaxWidth",value:function(a,b){for(var c=this._viewPortList[0].getWidth(),d=void 0,e=0,d=a.length-1;0<=d&&!(e+=a[d].offsetWidth,e>c);d-=
1);d=Math.max(d,0);d=Math.floor(this._size.COL_WIDTH*((e-c)/a[d].offsetWidth+(d+b)));return[d+c,d]}},{key:"_allColumnsInView",value:function(b){var c=this.viewModel.dataSize.columns.count,c=this.viewModel.getColumnHeaders().length||c;if(a.areColumnsNotPaged(c))return this._geomObject.translateX=0,b.result=this._geomObject,this._geomObject.translateX}},{key:"_scrollPositionAndWidthUnchanged",value:function(a){if(this._geomObject.physScrollX===this._scrollLeft&&!a)return this._geomObject.translateX}},
{key:"_resizeAtScrollZero",value:function(a){if(a&&0===this._scrollLeft)return this._geomObject.translateX}},{key:"_scrollExceedsTableWidth",value:function(a){this._updateGeomObject(a);a=this._geomObject;var b=a.physicalWidth,c=a.childClientWidth;if(this._scrollLeft>=a.maxScroll)return this._geomObject.translateX=b-c,this._geomObject.translateX}},{key:"_setPostUpdate",value:function(a){var b=this,c=this.viewModel.getStateByKey("LastScrollColumnFn").value,d=c(this._headerRects());d!==a?setTimeout(function(){b.viewModel.deleteState("LastScrollColumn");
b.viewModel.deleteState("LastScrollColumnFn");b._viewPortList[0].setScrollLeftPx(d)},0):(this.viewModel.deleteState("LastScrollColumn"),this.viewModel.deleteState("LastScrollColumnFn"))}},{key:"_keyboardScrollTranslateX",value:function(a){var b=this._viewPortList[0].getWidth(),c=this._viewPortList[0].getScrollLeft(),d=0,e=this.viewModel.getStateByKey("LastScrollColumn");if(e)for(var e=e.value,f=this._headerRects(),g=Object.keys(f),h=0;h<g.length;h+=1){var l=g[h],d=d+f[l].width;if(Number(l)===e)return this._setPostUpdate(c),
b=Math.min(c-d+b-1,c),this._geomObject.translateX=b,a.result=this._geomObject,this._geomObject.translateX}}},{key:"_computeTranslateX",value:function(a){for(var b=a.headerList,c=this._geomObject,d=c.physScrollX,e=c.scrollWidth,f=c.scrollXPos,c=c.bufferedColCount,g=0,h=0;h<c;h+=1)b[h]&&(g+=b[h].offsetWidth-this._size.COL_WIDTH);this._geomObject.translateX=Math.floor(f-g-(e/this._size.COL_WIDTH-1)*(d%this._size.COL_WIDTH));a.result=this._geomObject;return this._geomObject.translateX}},{key:"_getTranslateX",
value:function(a){a.result=this._geomObject;return 0===this._allColumnsInView(a)?this._geomObject.translateX:this._scrollPositionAndWidthUnchanged(a.widthChanged)||this._resizeAtScrollZero(a.widthChanged)||this._scrollExceedsTableWidth(a)||this._keyboardScrollTranslateX(a)||this._computeTranslateX(a)}},{key:"_updateGeomObject",value:function(c){var d=c.headerList,e=c.headerThead,f=this.viewModel.viewBuffer.rangeList[0].columns.start,g=this._size.COL_WIDTH*f,h=this._viewPortList[0].getLastBufferedColumn(),
l=this.viewModel.dataSize.columns.count,w=this.viewModel.dataSize.columns.count-1,v=Math.min(w,b.calculateFirstVisible(this._size.COL_WIDTH,this._scrollLeft)),x=w*this._size.COL_WIDTH,z=this._viewPortList[0].getWidth(),l=this.viewModel.getColumnHeaders().length||l;if(a.areColumnsPaged(l)){var l=Math.min(Math.max(0,v-f),h),y=Infinity,B=0;Math.floor((x-z)/this._size.COL_WIDTH)-m.buffers.COL_OVERSCAN<=f&&h===w&&(w=this._calcMaxWidth(d,f),x=k(w,2),w=x[0],y=x[1],B=Math.floor(w));this._geomObject={maxScroll:y,
physicalWidth:B,childClientWidth:e.offsetWidth,scrollXPos:g,bufferedColCount:Math.min(v-f,h),scrollWidth:d[l].scrollWidth,physScrollX:this._scrollLeft,translateX:this._geomObject.translateX}}c.result=this._geomObject}},{key:"_handler",value:function(a){var b=this.viewModel.viewPort;b.rangeList[0]=this._viewPortList[0].getViewPort();this._scrollLeft=a.target.scrollLeft;this.viewModel.viewPort=b;c.renderUpdate(this.viewModel,this._viewPortList[0].getBufferedViewPort())}}]);return e}()})},"mw-table/calc/BufferMath":function(){var k=
function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../enums/DefaultsEnum"],function(d){return function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");}k(d,null,[{key:"calculateRangeEnd",value:function(c,b,a){return Number(b)+Math.ceil(a/c)}},{key:"calcVisible",
value:function(c,b){return Number(c)+Number(b)-1}},{key:"calculateFirstVisible",value:function(c,b){return Math.max(0,Math.floor(b/c))}},{key:"sum",value:function(c,b){return Number(c)+Number(b)}},{key:"roundedDivision",value:function(c,b){return Math.floor(b/c)}},{key:"calculateMaxFirstVisible",value:function(c,b){return Math.max(0,c-b)}},{key:"min2",value:function(c,b){return Math.min(c,b)}},{key:"max2",value:function(c,b){return Math.max(c,b)}}]);return d}()})},"mw-table/enums/LogicalSizeEnum":function(){var k=
function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../enums/DefaultsEnum","../enums/StateEnum"],function(d,e){return function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._viewModel=b}k(c,[{key:"COL_WIDTH",get:function(){var b=this._viewModel.getStateByKey(e.COL_WIDTH),
a=d.dimensions.COL_WIDTH;b&&b.value&&(a=b.value);return a}},{key:"ROW_HEIGHT",get:function(){var b=this._viewModel.getStateByKey(e.ROW_HEIGHT),a=d.dimensions.ROW_HEIGHT;b&&b.value&&(a=b.value);return a}}]);return c}()})},"mw-table/controllers/resize/tableResize":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&
d(e,b);return e}}();define(["../../view/TableUtils","../../enums/StateEnum","../../enums/EventEnum"],function(d,e,c){return function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.viewModel=a.viewModel;this._viewPortList=a.viewPortList}k(b,[{key:"eventList",value:function(){var a=this,b={};b[c.internal.TABLE_RESIZE]=function(b){return a.handleResize(b.event)};b[c.internal.TABLE_MOUNT]=function(b){return a.handleInit(b.event)};return b}},{key:"handleInit",
value:function(a){this._viewPortList[0].setContainer(a.table)}},{key:"handleResize",value:function(){var a=this.viewModel.viewPort;a.rangeList[0]=this._viewPortList[0].getViewPort();this.viewModel.setState(e.WIDTH_CHANGED,!0);this.viewModel.viewPort=a;d.renderUpdate(this.viewModel,this._viewPortList[0].getBufferedViewPort())}}]);return b}()})},"mw-table/controllers/events/eventsController":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../../utils/Emitter","../../enums/EventEnum","mw-tabular-data-model/rangeUtil"],
function(e,c,b){return function(a){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:this}k(e,a);d(e,[{key:"exposedAPI",value:function(){return{}}},{key:"eventList",value:function(){var a={};a[c.internal.TABLE_RIGHT_CLICK]=this._handleRightClick.bind(this);
return a}},{key:"_handleRightClick",value:function(a){var b=this._getViewRangeFromCellIndices(a.event.row,a.event.col);this.emit("contextMenu",{top:a.event.top,left:a.event.left,viewRange:b})}},{key:"_getViewRangeFromCellIndices",value:function(a,c){var d=void 0;return d=-1!==a&&-1!==c?b.range().setRows(a,a).setColumns(c,c):b.range().setRows(0,a).setColumns(0,c)}},{key:"emits",get:function(){return["contextMenu"]}}]);return e}(e)})},"mw-table/utils/initialization":function(){var k=function(){function d(d,
c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../functional/FunctionalUtils","../enums/ErrorEnum","../enums/PluginEnum"],function(d,e,c){var b=["px","%",""];return function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}k(a,null,[{key:"column",value:function(a){var c={},
k=a.label,h=a.dataIndex;a=a.width;var g=a.value,p=a.unit,p=p||"";if(isNaN(h)||0>h)throw e.error.DATA_INDEX_REQUIRED;if(null===d.find(b,function(a){return p===a}))throw e.error.INVALID_UNIT;c.name=k||"";c.dataIndex=h;c.width=g;c.unit=p;return c}},{key:"validateColPct",value:function(a){var b=0,c=0,d=-1;a.forEach(function(a,e){if(a.width&&a.width.unit&&!isNaN(a.width.value)&&"%"===a.width.unit){var f=Math.abs(a.width.value);b+=f;f>c&&(d=e,c=f)}});a=100-b;0>a&&(d=-1);return[a,d]}},{key:"separateControllers",
value:function(a,b){var d=[],e=[];b&&(c=b);c.CONTROLLERS.forEach(function(b){var c=0;b.forEach(function(b){var g=a.indexOf(b);-1<g&&(1>c++&&d.push(b),e.push(g))})});e.sort(function(a,b){return b-a}).forEach(function(b){a.splice(b,1)});return[d,a]}},{key:"prunePlugins",value:function(a,b){var d=[];b&&(c=b);c.INCOMPATIBLE.forEach(function(b){var c=0;b.forEach(function(b,e){var h=a.indexOf(b);-1<h&&0<c++&&d.push(h)})});d.forEach(function(b){a.splice(b,1)});return a}}]);return a}()})},"mw-table/enums/ErrorEnum":function(){define([],
function(){return Object.freeze({error:{INVALID_UNIT:Error("Invalid column width unit specified, only 'px' or '%' allowed"),DATA_INDEX_REQUIRED:Error("The dataIndex property is required in the column configuration")}})})},"mw-table/enums/PluginEnum":function(){define("../plugins/focus/CellFocus ../plugins/selection/SingleRowSelection ../plugins/selection/MultiRowSelection ../plugins/colresize/ColResize ../plugins/sort/SingleColumnSort ../plugins/headers/RowHeaders ../plugins/menus/HeaderMenu ../controllers/navigation/KeyController ../controllers/navigation/SimplifiedKeyController ../adaptors/CellSizingAdaptor".split(" "),
function(k,d,e,c,b,a,f,l,m,h){return Object.freeze({AVAILABLE:{CellFocus:[k,l],SingleRowSelection:[d,m],MultiRowSelection:[e,k,l],ColumnResize:c,IndividualColumnSort:b,RowHeaders:a,HeaderMenu:f},INCOMPATIBLE:[[e,d]],CONTROLLERS:[[l,m]],EXPERIMENTAL_ADAPTORS:{SizingAdaptor:h}})})},"mw-table/plugins/focus/CellFocus":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,
a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("mw-table/utils/rangeInterface mw-table/functional/FunctionalUtils mw-table/controllers/navigation/CellNavigation mw-table/utils/Emitter mw-table/adaptors/FocusAdaptor mw-table/enums/KeyCodeEnum".split(" "),function(d,e,c,b,a,f){return function(){function c(a){var d=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.adaptor=a.adaptor;this.eventCallback=a.eventCallback;var e=new b;this._emit=
e.emit.bind(e);this.on=e.on.bind(e);this._events={};a.adaptor.on("cellFocusClick",function(a){return d._rowClicked(a)});a.adaptor.on("cellFocusKeyPress",function(a){return d._keyPressed(a)})}k(c,[{key:"exposedAPI",value:function(){return{setCellFocus:this.setCellFocus.bind(this),getFocusedCell:this.getFocusedCell.bind(this)}}},{key:"_rowClicked",value:function(a){a=d.getRangeForCell(a.row,a.column);this.adaptor.setFocusState(a);this._emit("cellFocused",a)}},{key:"_keyPressed",value:function(a){this.adaptor.setFocusState(a.range)}},
{key:"setCellFocus",value:function(a){Array.isArray(a)&&this.adaptor.setFocusState(0<a.length?a[0]:null,null)}},{key:"getFocusedCell",value:function(){var a=this.adaptor.getFocusState(),b={};a&&a.rangeList[0]&&(b.row=a.rangeList[0].rows.start,b.column=a.rangeList[0].columns.start);return b}},{key:"emits",get:function(){return["cellFocused"]}},{key:"listensOn",get:function(){return["cellFocusClick","cellFocusKeyPress"]}}],[{key:"adaptor",get:function(){return a}}]);return c}()})},"mw-table/utils/rangeInterface":function(){var k=
function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["mw-tabular-data-model/rangeUtil"],function(d){return function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");}k(e,null,[{key:"addMetadataToCol",value:function(c,b,a,e){var l=[],k=[],h=b.getStateByKey(a);
h&&(k=h.value,l=h.rangeList);k.push(e);l.push(d.range().setEntireColumns(c));b.setState(a,k,l)}},{key:"addMetadataToRow",value:function(c,b,a,e){var l=[],k=[],h=b.getStateByKey(a);h&&(l=h.rangeList,k=h.value);k.push(e);l.push(d.range().setEntireRows(c));b.setState(a,k,l)}},{key:"addMetadataToRange",value:function(c,b,a,e,l,k,h){var g=[],p=[],n=l.getStateByKey(k);n&&(g=n.rangeList,p=n.value);p.push(h);g.push(d.range().setRows(c,b).setColumns(a,e));l.setState(k,p,g)}},{key:"getRangeForCell",value:function(c,
b){return d.range().setRows(c,c).setColumns(b,b)}},{key:"getRangeForRow",value:function(c){return d.range().setEntireRows(c)}},{key:"getRangeForColumn",value:function(c){return d.range().setEntireColumns(c)}},{key:"getStateForKey",value:function(c,b){var a=c.getStateByKey(b);return a?{rangeList:a.rangeList,value:a.value}:{rangeList:null,value:null}}},{key:"updateDataForCell",value:function(c,b,a,e){b=Number(b);a=Number(a);b=d.range().setRows(b,b).setColumns(a,a);c.update(b,[[e]])}}]);return e}()})},
"mw-table/controllers/navigation/CellNavigation":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("mw-tabular-data-model/rangeUtil ./UnbufferedCellNavigation ./BufferedCellNavigation ../../parsing/headers/PureColumnUtils ../../functional/Lens ../../functional/Monad ../../enums/LogicalSizeEnum ../../enums/StateEnum".split(" "),
function(d,e,c,b,a,f,l,m){return function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var d=void 0,d=new l(a);a=a.getColumnHeaders().length||a.dataSize.columns.count;d=b.areColumnsPaged(a)?c(d):e(d);this.getScrollTopPosition=d.getScrollTopPosition;this.getScrollBottomPosition=d.getScrollBottomPosition;this.getScrollLeftPosition=d.getScrollLeftPosition;this.getScrollRightPosition=d.getScrollRightPosition}k(h,[{key:"increment",value:function(a,b,
c){return Math.min(c+Number(b),a)}},{key:"decrement",value:function(a,b,c){return Math.max(c-b,a)}},{key:"setCellMeta",value:function(a,b,c,e){c=d.range().setRows(c,c).setColumns(e,e);return{scrollInPixels:{scrollLeft:b,scrollTop:a,scrollCol:e},activeRange:c}}},{key:"getCurrent",value:function(a,b){return f.maybe(a).chain(function(a){return a.currentState}).chain(function(a){return a.rangeList}).chain(function(a){return a[0]}).therefore(0,function(a){return a[b].start})}},{key:"isInRange",value:function(a,
b){return a.prev<=b.prev&&a.next>=b.next}},{key:"isNextItem",value:function(a,b){return a.next>b.prev&&a.next<=b.next}},{key:"isPreviousItem",value:function(a,b){return a.prev>b.prev&&a.prev<=b.next}},{key:"getRowPosition",value:function(b,c,d,e){c=a.map(c,[["top","prev"],["bottom","next"]]);b=a.map(b,[["top","prev"],["bottom","next"]]);return this.isNextItem(b,c)?this.getScrollBottomPosition(e,d):this.isPreviousItem(b,c)||!this.isInRange(b,c)?this.getScrollTopPosition(d):null}},{key:"getColPosition",
value:function(b,c,d,e){var f=a.map(e[b]||{},[["left","prev"],["right","next"]]);c=a.map(c,[["left","prev"],["right","next"]]);return this.isNextItem(c,f)?this.getScrollRightPosition(d,b,e):this.isPreviousItem(c,f)||!this.isInRange(c,f)?this.getScrollLeftPosition(b,e):null}}]);return h}()})},"mw-table/controllers/navigation/UnbufferedCellNavigation":function(){define(["../../enums/DefaultsEnum"],function(k){return function(d){return{getScrollLeftPosition:function(d,c){for(var b=Math.max(d,0),a=0;c[b-=
1];)a+=c[b].width;return a},getScrollRightPosition:function(d,c,b){c=Math.max(c,0);var a=0;do a+=b[c].width;while(b[c-=1]);return Math.max(0,a-d)},getScrollBottomPosition:function(e,c){return Math.max(0,(c+1)*d.ROW_HEIGHT-e)},getScrollTopPosition:function(e){return Math.max(0,e)*d.ROW_HEIGHT}}}})},"mw-table/controllers/navigation/BufferedCellNavigation":function(){define(["../../functional/Monad"],function(k){return function(d){function e(c){return Math.max(0,d.COL_WIDTH*c)}return{getScrollLeftPosition:e,
getScrollRightPosition:function(c,b,a){var f=k.maybe(a[b]).chain(function(a){return a.width}).therefore(-1,function(a){return c-a});if(0>f)return Math.max(e(b)-c,0);for(var l=0;a[b-=1]&&l<f;)l+=a[b].width;b+=1;a=Math.max(0,(l-f)/a[b].width);return Math.floor(d.COL_WIDTH*b)+Math.floor(a*d.COL_WIDTH)},getScrollBottomPosition:function(c,b){return Math.max(0,(b+1)*d.ROW_HEIGHT-c)},getScrollTopPosition:function(c){return Math.max(0,c)*d.ROW_HEIGHT}}}})},"mw-table/functional/Monad":function(){function k(d,
c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function");}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define([],function(){var e=function(){function b(){k(this,b)}d(b,null,[{key:"chain",value:function(a){return b}},{key:"therefore",value:function(a,b){return a}}]);return b}(),
c=function(){function b(){k(this,b)}d(b,null,[{key:"Something",value:function(a,b){return{chain:function(c){return a.maybe(c(b))},therefore:function(a,c){return c(b)}}}}]);return b}();return function(){function b(){k(this,b)}d(b,null,[{key:"maybe",value:function(a){return null===a||"undefined"===typeof a?e:c.Something(b,a)}}]);return b}()})},"mw-table/functional/Lens":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;
"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._mapping=e;for(var c in e)this[c]=e[c]}k(d,[{key:"get",value:function(d){return this._mapping[d]}}],[{key:"map",value:function(e,c){var b={};Array.isArray(c)&&(b=c.reduce(function(a,b){a[b[1]]=e[b[0]];return a},{}));return new d(b)}}]);
return d}()})},"mw-table/adaptors/FocusAdaptor":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("../utils/Emitter ../functional/FunctionalUtils mw-tabular-data-model/rangeUtil ./AdaptorUtils ../enums/StateEnum ../enums/EventEnum".split(" "),function(d,e,c,b,a,f){return function(){function l(a){if(!(this instanceof
l))throw new TypeError("Cannot call a class as a function");var b=new d;this._emit=b.emit.bind(b);this.on=b.on.bind(b);this.viewModel=a.viewModel;this._events={}}k(l,[{key:"eventList",value:function(){var a=this,b={};b[f.internal.TABLE_CELL_CLICK]=function(b){return a._emit(f.internal.CELL_FOCUS_CLICK,b.event)};b[f.internal.TABLE_KEY_PRESS]=function(b){return a._processAndEmitKeyPress(b)};return b}},{key:"_processAndEmitKeyPress",value:function(a){var c=a.event,d={keyCode:c.keyCode},e=b.getActiveCell(this.viewModel);
d.modifiers=c;d.dataSize={};d.viewPort={};d.dataSize=a.dataSize;d.viewPort=a.viewPort.rangeList[0];d.range=e;this._emit(f.internal.CELL_FOCUS_KEY,d)}},{key:"setFocusState",value:function(d){var f=e.curry(b.fitRangeToBounds)(this.viewModel.dataSize.rows.end,this.viewModel.dataSize.columns.end);d=c.range().setRows(d.rows.start,d.rows.start).setColumns(d.columns.start,d.columns.start);f=f(d);this.viewModel.setState(a.FOCUSED,null,[f]);this.viewModel.setState(a.state.ACTIVE_CELL,null,[f])}},{key:"getFocusState",
value:function(){var b=this.viewModel.getStateByKey(a.FOCUSED);if(b)return b||null}}]);return l}()})},"mw-table/adaptors/AdaptorUtils":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["mw-tabular-data-model/rangeUtil","../enums/StateEnum"],function(d,e){return function(){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");}k(c,null,[{key:"fitRangeToBounds",value:function(b,a,c){var e,k;if(c.rows.start>b||c.columns.start>a||0>c.rows.end||0>c.columns.end)return null;e=Math.max(Math.min(c.rows.start,b),0);k=Math.max(Math.min(c.columns.start,a),0);b=Infinity===c.rows.end?Infinity:Math.max(Math.min(c.rows.end,b),e);a=Infinity===c.columns.end?Infinity:Math.max(Math.min(c.columns.end,a),k);return d.range().setRows(e,b).setColumns(k,a)}},{key:"getActiveCell",value:function(b){return(b=
b.getStateByKey(e.state.ACTIVE_CELL))?b.rangeList[0]:[]}}]);return c}()})},"mw-table/plugins/selection/SingleRowSelection":function(){function k(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:c}function d(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["mw-tabular-data-model/rangeUtil","mw-table/utils/Emitter","mw-table/adaptors/SelectionAdaptor","../../enums/KeyCodeEnum","../../enums/EventEnum"],
function(c,b,a,f,l){return function(b){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var b=k(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));b.adaptor=a.adaptor;b._events={};a.adaptor.on(l.internal.CELL_SELECTION_CLICK,function(a){return b._rowClicked(a)});a.adaptor.on(l.internal.CELL_SELECTION_KEY,function(a){return b._keyPressed(a)});a.adaptor.on(l.internal.TABLE_SELECTED_ACTION,function(a){return b._handleSelectedAction(a)});return b}d(h,
b);e(h,[{key:"_handleSelectedAction",value:function(a){this.emit("selectedAction",a)}},{key:"emits",get:function(){return[l.exposed.SELECTION_CHANGED,"selectedAction"]}}]);e(h,[{key:"_rowClicked",value:function(a){a=[c.range().setEntireRows(Number(a.row))];this.adaptor.setSelectionState(a);this.emit(l.exposed.SELECTION_CHANGED,a)}},{key:"_keyPressed",value:function(a){if(a.ctrlKey)a.keyCode===f.SPACE&&this._rowClicked(a);else switch(a.keyCode){case f.ARROW_DOWN:case f.ARROW_UP:case f.PAGE_DOWN:case f.PAGE_UP:case f.HOME:case f.END:case f.ARROW_DOWN:case f.SPACE:this._rowClicked(a)}}},
{key:"setSelection",value:function(a){Array.isArray(a)&&(1<a.length?a.length=1:a.length,this.adaptor.setSelectionState(a))}},{key:"getSelection",value:function(){return this.adaptor.getSelectionState()}},{key:"exposedAPI",value:function(){return{setSelection:this.setSelection.bind(this),getSelection:this.getSelection.bind(this)}}}],[{key:"adaptor",get:function(){return a}}]);return h}(b)})},"mw-table/adaptors/SelectionAdaptor":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=
c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("mw-tabular-data-model/rangeUtil ../utils/Emitter ../functional/FunctionalUtils ./AdaptorUtils ../enums/StateEnum ../enums/EventEnum ../enums/KeyCodeEnum".split(" "),function(d,e,c,b,a,f,l){return function(){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var b=new e;
this._emit=b.emit.bind(b);this.on=b.on.bind(b);this.viewModel=a.viewModel;this._events={}}k(m,[{key:"_setPivot",value:function(e){var f=c.curry(b.fitRangeToBounds)(this.viewModel.dataSize.rows.end,this.viewModel.dataSize.columns.end);e=d.range().setRows(e.rows.start,e.rows.start).setColumns(e.columns.start,e.columns.start);(f=f(e))&&this.viewModel.setState(a.PIVOT,null,[f])}},{key:"_getSelectedRangeList",value:function(){var b=this.viewModel.getStateByKey(a.SELECTED);return b?b.rangeList:[]}},{key:"_getFittedRange",
value:function(a){var d=c.curry(b.fitRangeToBounds)(this.viewModel.dataSize.rows.end,this.viewModel.dataSize.columns.end);return a.map(d).filter(function(a){return null!=a})}},{key:"setContiguousRows",value:function(b){var c=this.viewModel.getStateByKey(a.PIVOT).rangeList[0],e=Math.min(c.rows.start,b.rows.start);b=Math.max(c.rows.start,b.rows.start);e=[d.range().setEntireRows(e,b)];this.viewModel.setState(a.SELECTED,null,this._getFittedRange(e))}},{key:"setIndividualRow",value:function(a){var b=d.range().setEntireRows(a.rows.start,
a.rows.start);this._setPivot(a);this.setSelectionState([b])}},{key:"setDiscontiguousRow",value:function(a){this._setPivot(a);var b=d.range().setEntireRows(a.rows.start,a.rows.start);a=this._getSelectedRangeList();var c=this.isRowSelected(b);-1<c?(b=this.splitRange(a[c],b),a.splice(c,1),a=a.concat(b)):a.push(b);this.setSelectionState(a)}},{key:"splitRange",value:function(a,b){var c=void 0,e=void 0,f=[];if(a.rows.start===a.rows.end)return[];if(a.rows.start===b.rows.start)return c=b.rows.start+1,e=a.rows.end,
f.push(d.range().setEntireRows(c,e)),f;if(a.rows.end===b.rows.start)return e=b.rows.end-1,c=a.rows.start,f.push(d.range().setEntireRows(c,e)),f;f.push(d.range().setEntireRows(a.rows.start,b.rows.start-1));f.push(d.range().setEntireRows(b.rows.end+1,a.rows.end));return f}},{key:"isRowSelected",value:function(a){var b=a.rows.start,d=a.rows.end;a=this._getSelectedRangeList();var e=-1;return c.find(a,function(a){e++;return a.rows.start<=b&&a.rows.end>=d})?e:-1}},{key:"eventList",value:function(){var a=
this,b={};b[f.internal.TABLE_CELL_CLICK]=function(b){return a._emit(f.internal.CELL_SELECTION_CLICK,b.event)};b[f.internal.TABLE_KEY_PRESS]=function(b){return a._processAndEmitKeyPress(b)};b[f.internal.TABLE_DBL_CLICK]=function(b){return a._handleDoubleClick(b)};return b}},{key:"_processAndEmitKeyPress",value:function(a){var c=a.event,d=b.getActiveCell(this.viewModel);c.modifiers=c;c.dataSize={};c.viewPort={};c.dataSize=a.dataSize;c.viewPort=a.viewPort.rangeList[0];c.row=d.rows.start;this._emit(f.internal.CELL_SELECTION_KEY,
c);c.keyCode===l.ENTER&&this._emit(f.internal.TABLE_SELECTED_ACTION,{selectedRange:this.getSelectionState()})}},{key:"_handleDoubleClick",value:function(a){this._emit(f.internal.TABLE_SELECTED_ACTION,{selectedRange:this.getSelectionState()})}},{key:"setSelectionState",value:function(b){this.viewModel.setState(a.SELECTED,null,this._getFittedRange(b))}},{key:"getSelectionState",value:function(){var b=this.viewModel.getStateByKey(a.SELECTED);return b?b.rangeList:null}}]);return m}()})},"mw-table/plugins/selection/MultiRowSelection":function(){function k(c,
b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:c}function d(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var e=function(){function c(b,a){for(var c=
0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["mw-tabular-data-model/rangeUtil","mw-table/utils/Emitter","mw-table/adaptors/SelectionAdaptor","../../enums/KeyCodeEnum","../../enums/EventEnum"],function(c,b,a,f,l){return function(b){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var b=
k(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));b.adaptor=a.adaptor;a.adaptor.on(l.internal.CELL_SELECTION_CLICK,function(a){return b._rowClicked(a)});a.adaptor.on(l.internal.CELL_SELECTION_KEY,function(a){return b._keyPressed(a)});a.adaptor.on(l.internal.TABLE_SELECTED_ACTION,function(a){return b._handleSelectedAction(a)});return b}d(h,b);e(h,[{key:"_handleSelectedAction",value:function(a){this.emit("selectedAction",a)}},{key:"emits",get:function(){return[l.exposed.SELECTION_CHANGED,"selectedAction"]}}]);
e(h,[{key:"_rowClicked",value:function(a){var b=c.range().setEntireRows(Number(a.row)),d=0>this.adaptor.isRowSelected(b);a.ctrlKey||a.meta?(this.adaptor.setDiscontiguousRow(b),d=!0):a.shiftKey?this.adaptor.setContiguousRows(b):this.adaptor.setIndividualRow(b);d&&this.emit(l.exposed.SELECTION_CHANGED,{rangeList:this.adaptor.getSelectionState()})}},{key:"_keyPressed",value:function(a){if(a.ctrlKey||a.meta)a.keyCode===f.SPACE&&this._rowClicked(a);else switch(a.keyCode){case f.ARROW_DOWN:case f.ARROW_UP:case f.PAGE_DOWN:case f.PAGE_UP:case f.HOME:case f.END:this._rowClicked(a);
break;case f.SPACE:a.shiftKey?this._rowClicked(a):0>this.adaptor.isRowSelected(c.range().setEntireRows(Number(a.row)))&&(a.ctrlKey=!0,this._rowClicked(a))}}},{key:"setSelection",value:function(a){Array.isArray(a)&&this.adaptor.setSelectionState(a)}},{key:"getSelection",value:function(){return this.adaptor.getSelectionState()}},{key:"exposedAPI",value:function(){return{setSelection:this.setSelection.bind(this),getSelection:this.getSelection.bind(this)}}}],[{key:"adaptor",get:function(){return a}}]);
return h}(b)})},"mw-table/plugins/colresize/ColResize":function(){function k(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:c}function d(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?
Object.setPrototypeOf(c,b):c.__proto__=b)}var e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["../../utils/Emitter","../../adaptors/ResizeAdaptor","../../enums/EventEnum"],function(c,b,a){return function(c){function l(b){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");
var c=k(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));c.adaptor=b.adaptor;b.adaptor.on(a.ColResize,function(a){return c._handleResize(a)});b.adaptor.on(a.ColHeaderDidMount,function(a){return c._handleHeaderMount(a)});return c}d(l,c);e(l,[{key:"exposedAPI",value:function(){return{}}},{key:"_handleResize",value:function(a){this.adaptor.setColumnResize(a)}},{key:"_handleHeaderMount",value:function(a){this.adaptor.setPixelWidth(a)}},{key:"listensOn",get:function(){return[a.ColResize]}},{key:"emits",
get:function(){return[]}}],[{key:"adaptor",get:function(){return b}}]);return l}(c)})},"mw-table/adaptors/ResizeAdaptor":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=
b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define("../utils/Emitter ../utils/Throttle ../enums/StateEnum ../enums/EventEnum ../enums/DefaultsEnum ../parsing/headers/PureColumnUtils".split(" "),function(e,c,b,a,f,l){return function(c){function e(a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var c;c=(e.__proto__||Object.getPrototypeOf(e)).call(this);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=c&&("object"===typeof c||"function"===typeof c)?c:this;c.viewModel=a.viewModel;c.viewModel.setState(b.colResize,!0);c._resized=!1;c._computedHeaders=Array(c.viewModel.getColumnHeaders().length);return c}k(e,c);d(e,[{key:"eventList",value:function(){var b=this,c={};c[a.internal.COL_RESIZE]=function(c){return b.emit(a.internal.COL_RESIZE,c.event)};c[a.internal.COL_HEADER_MOUNT]=function(c){return b.emit(a.internal.COL_HEADER_MOUNT,
c.event)};return c}},{key:"_updatePagedHeader",value:function(a,b){var c=this.viewModel.getColumnHeaders(),d={value:b,unit:"px"};0===c.length?this.viewModel.setColumnMetaData("width",d,a):c[a].width=d}},{key:"setColumnResize",value:function(a){var c=this.viewModel,d=a.width;a=a.column;var e=this._computedHeaders;this.viewModel.setState(b.WIDTH_CHANGED,!0);this.viewModel.setState(b.COLUMN_RESIZED,!0);var f=c.getColumnHeaders(),c=c.getColumnHeaders().length||c.dataSize.columns.end;!this._resized&&(l.areColumnsNotPaged(c)&&
0<f.length)&&(this._resized=!0,f.forEach(function(a,b){a.width.value=e[b];a.width.unit="px"}));"number"===typeof a&&this._updatePagedHeader(a,d)}},{key:"setPixelWidth",value:function(a){var b=a.width;a=a.column;var c=this.viewModel,c=c.getColumnHeaders().length||c.dataSize.columns.end;l.areColumnsNotPaged(c)&&(this._computedHeaders[a]=b)}}]);return e}(e)})},"mw-table/plugins/sort/SingleColumnSort":function(){function k(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return b&&("object"===typeof b||"function"===typeof b)?b:c}function d(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["../../utils/Emitter","../../adaptors/SortAdaptor","../../enums/EventEnum","../../functional/FunctionalUtils","mw-tabular-data-model/sort/Enum"],function(c,b,a,f,l){return function(c){function f(b){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var c=k(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));c.adaptor=b.adaptor;b.adaptor.on(a.internal.TABLE_COLUMN_SORT,
function(a){return c._handleSort(a)});return c}d(f,c);e(f,[{key:"exposedAPI",value:function(){return{setSortIndicator:this.setSortIndicator.bind(this)}}},{key:"_handleSort",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.order,c=a.column,a=a.type;b&&(0<=c&&a)&&this.adaptor.sortColumn({columnIndex:c,order:b,compare:a})}},{key:"setSortIndicator",value:function(){this.adaptor.setSortIndicator(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"emits",
get:function(){return[]}}],[{key:"adaptor",get:function(){return b}},{key:"enum",get:function(){return{compare:l.compare}}}]);return f}(c)})},"mw-table/adaptors/SortAdaptor":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}
var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["mw-tabular-data-model/rangeUtil","../functional/FunctionalUtils","../utils/Emitter","../enums/EventEnum","../enums/StateEnum"],function(e,c,b,a,f){return function(b){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");
var b;b=(m.__proto__||Object.getPrototypeOf(m)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=b&&("object"===typeof b||"function"===typeof b)?b:this;b._viewModel=a.viewModel;b.viewModel=a.viewModel;b._initialize(a.options);b._viewModel.setState(f.SORTABLE,!0);return b}k(m,b);d(m,[{key:"eventList",value:function(){var b=this,c={};c[a.internal.SORT_AFFORDANCE_CLICKED]=function(c){return b.emit(a.internal.TABLE_COLUMN_SORT,c.event)};return c}},
{key:"_initialize",value:function(a){var b=this._viewModel.getColumnHeaders()||[],d=c.getNestedProp(a,["columnModel","columnConfig"]);d&&b.forEach(function(a,b){d[b]&&d[b].sortType&&(a.sortType=d[b].sortType)})}},{key:"sortColumn",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.columnIndex,c=a.order;!isNaN(b)&&(!(0>b)&&c)&&(this.setSortIndicator(a),this._viewModel.sort([a]))}},{key:"_removeColumnSortState",value:function(){var a=this._viewModel.getStateByKey(f.SORTED);
a&&a.rangeList&&this._viewModel.deleteColumnMetaData(f.SORTED,a.rangeList[0].columns.start)}},{key:"_addColumnSortState",value:function(a,b){var c={order:b},d=e.range().setEntireColumns(a);this._viewModel.setColumnMetaData(f.SORTED,c,a);this._viewModel.setState(f.SORTED,b,[d])}},{key:"setSortIndicator",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.columnIndex,c=a.order,b=Number(b);0===Object.keys(a).length?(this._removeColumnSortState(),this._viewModel.deleteState(f.SORTED)):
!isNaN(b)&&(0<=b&&c)&&(this._removeColumnSortState(),this._addColumnSortState(b,c))}}]);return m}(b)})},"mw-tabular-data-model/sort/Enum":function(){define([],function(){return{order:{ASC:"ASC",DESC:"DESC"},compare:{NUMERIC:"NUMERIC",STRING:"STRING"}}})},"mw-table/plugins/headers/RowHeaders":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,
c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../../adaptors/RowHeaderAdaptor"],function(d){return function(){function e(c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.adaptor=c.adaptor}k(e,[{key:"exposedAPI",value:function(){return{}}},{key:"emits",get:function(){return[]}}],[{key:"adaptor",get:function(){return d}},{key:"enum",get:function(){return{}}}]);return e}()})},"mw-table/adaptors/RowHeaderAdaptor":function(){var k=function(){function d(d,
c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../enums/StateEnum"],function(d){return function(){function e(c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._viewModel=c.viewModel;this._viewModel.setState(d.displayRowHeader,!0);this._viewModel.setState(d.rowHeaderWidth,0)}k(e,[{key:"eventList",
value:function(){return{}}}]);return e}()})},"mw-table/plugins/menus/HeaderMenu":function(){function k(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:c}function d(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["../../utils/Emitter","../../adaptors/MenuAdaptor","../../enums/EventEnum"],function(c,b,a){return function(c){function l(b){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");
var c=k(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));c.adaptor=b.adaptor;b.adaptor.on(a.internal.HEADER_CLICKED,function(a){return c._handleHeaderMenu(a)});return c}d(l,c);e(l,[{key:"exposedAPI",value:function(){return{}}},{key:"_handleHeaderMenu",value:function(){this.emit(a.exposed.HEADER_MENU,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"emits",get:function(){return[a.exposed.HEADER_MENU]}}],[{key:"adaptor",get:function(){return b}}]);return l}(c)})},"mw-table/adaptors/MenuAdaptor":function(){function k(d,
c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,
b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../utils/Emitter","../enums/EventEnum","../enums/StateEnum","../functional/FunctionalUtils"],function(e,c,b,a){return function(e){function l(a){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var c;c=(l.__proto__||Object.getPrototypeOf(l)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=c&&("object"===typeof c||"function"===typeof c)?c:this;c._viewModel=
a.viewModel;c._handleHeaderMenu=c._handleHeaderMenu.bind(c);c._viewModel.setState(b.HEADER_MENU_AFFORDANCE,!0);c._initialize(a.options);return c}k(l,e);d(l,[{key:"_initialize",value:function(b){var c=this._viewModel.getColumnHeaders()||[],d=a.getNestedProp(b,["columnModel","columnConfig"]);d&&c.forEach(function(a,b){d[b]&&d[b].headerMenu&&(a.headerMenu=d[b].headerMenu)})}},{key:"eventList",value:function(){var a={};a[c.internal.HEADER_CLICKED]=this._handleHeaderMenu;return a}},{key:"_handleHeaderMenu",
value:function(a){this.emit(c.internal.HEADER_CLICKED,{top:a.event.bottomRect,left:a.event.leftRect,columnIndex:a.event.columnIndex})}}]);return l}(e)})},"mw-table/controllers/navigation/KeyController":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("../../utils/rangeInterface ../../functional/FunctionalUtils ./CellNavigation ./ActiveCell ../../functional/Lens ../../enums/KeyCodeEnum ../../enums/StateEnum ../../enums/EventEnum".split(" "),
function(d,e,c,b,a,f,l,m){return function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var d=a.viewModel;this._viewModel=d;this._logicalViewPort=a.viewPortList[0];this._activeCell=new b(a);this._handler={};this._handler[f.PAGE_UP]=this._handlePageUp.bind(this);this._handler[f.PAGE_DOWN]=this._handlePageDown.bind(this);this._handler[f.END]=this._handleEnd.bind(this);this._handler[f.HOME]=this._handleHome.bind(this);this._handler[f.ARROW_LEFT]=this._handleArrowLeft.bind(this);
this._handler[f.ARROW_UP]=this._handleArrowUp.bind(this);this._handler[f.ARROW_RIGHT]=this._handleArrowRight.bind(this);this._handler[f.ARROW_DOWN]=this._handleArrowDown.bind(this);this._rowRects=[];this._headerRects=[];this.cellNav=new c(d)}k(h,[{key:"exposedAPI",value:function(){return{scrollTo:this.scrollTo.bind(this)}}},{key:"eventList",value:function(){var a=this,b={};b[m.internal.TABLE_CELL_CLICK]=function(b){return a._rowClicked(b.event)};b[m.internal.TABLE_KEY_PRESS]=function(b){return a._processAndEmitKeyPress(b)};
b[m.internal.HEADER_RECTS]=function(b){return a._setHeaderRects(b)};b[m.internal.ROW_RECTS]=function(b){return a._setRowRects(b)};return b}},{key:"scrollTo",value:function(a){if(0<a.rows.count){var b=this.cellNav.getScrollTopPosition(this._viewModel.dataSize.rows.count>a.rows.start?a.rows.start:this._viewModel.dataSize.rows.count-1);this._logicalViewPort.setScrollTopPx(b)}0<a.columns.count&&(a=this.cellNav.getScrollLeftPosition(this._viewModel.dataSize.columns.count>a.columns.start?a.columns.start:
this._viewModel.dataSize.columns.count-1,this._headerRects()),this._logicalViewPort.setScrollLeftPx(a))}},{key:"_setRowRects",value:function(a){this._rowRects=a.event.children}},{key:"_setHeaderRects",value:function(a){this._headerRects=a.event.children}},{key:"_hasModifier",value:function(a){return!1}},{key:"_getActiveState",value:function(){var a=this._viewModel.getStateByKey(l.state.ACTIVE_CELL);if(a)return a||null}},{key:"_processAndEmitKeyPress",value:function(a){var b=a.event,c={keyCode:b.keyCode};
c.modifiers=b;c.dataSize={};c.viewPort={};c.dataSize=a.dataSize;c.viewPort=a.viewPort.rangeList[0];c.viewModel=this._viewModel;c.headerRects=this._headerRects;c.currentState=this._getActiveState();this._keyPressed(c)}},{key:"_rowClicked",value:function(a){a=d.getRangeForCell(a.row,a.column);this._viewModel.setState(l.state.ACTIVE_CELL,null,[a])}},{key:"_getLastRowPositionForHeight",value:function(){var a=this._logicalViewPort.getHeight();return e.curry(this.cellNav.getScrollBottomPosition)(a)}},{key:"_getRightColPositionForWidth",
value:function(){var a=this._logicalViewPort.getWidth();return e.curry(this.cellNav.getScrollRightPosition)(a)}},{key:"_getScrollRect",value:function(){var a=this._logicalViewPort.getBoundingRect(),b=a.height-this._logicalViewPort.getHeight(),c=a.width-this._logicalViewPort.getWidth();return{top:a.top,left:a.left,bottom:a.bottom-b,right:a.right-c}}},{key:"_handleVertical",value:function(b,c,d){var e=this.cellNav.getCurrent(b,"rows");b=this.cellNav.getCurrent(b,"columns");c=c(e);var f=this._getScrollRect(),
h=this._logicalViewPort.getWidth(),e=null,h=this.cellNav.getColPosition(b,f,h,this._headerRects()),l=this._rowRects()[c]||{},l=a.map(l,[["top","prev"],["bottom","next"]]),f=a.map(f,[["top","prev"],["bottom","next"]]);this.cellNav.isInRange(f,l)||(e=d(c));return this.cellNav.setCellMeta(e,h,c,b)}},{key:"_handlePageUp",value:function(a){var b=e.curry(this.cellNav.decrement)(a.dataSize.rows.start,a.viewPort.rows.count);return this._handleVertical(a,b,this.cellNav.getScrollTopPosition)}},{key:"_handlePageDown",
value:function(a){var b=e.curry(this.cellNav.increment)(a.dataSize.rows.end,a.viewPort.rows.count);return this._handleVertical(a,b,this._getLastRowPositionForHeight())}},{key:"_handleArrowUp",value:function(a){var b=e.curry(this.cellNav.decrement)(a.dataSize.rows.start,1);return this._handleVertical(a,b,this.cellNav.getScrollTopPosition)}},{key:"_handleArrowDown",value:function(a){var b=e.curry(this.cellNav.increment)(a.dataSize.rows.end,1);return this._handleVertical(a,b,this._getLastRowPositionForHeight())}},
{key:"_handleHome",value:function(a){return this._handleHorizontal(a,function(){return 0},this.cellNav.getScrollLeftPosition)}},{key:"_handleEnd",value:function(a){var b=this._handleHorizontal(a,function(){return a.dataSize.columns.end},this._getRightColPositionForWidth());b.leftScrollFn=this._logicalViewPort.setScrollRightPx;return b}},{key:"_handleHorizontal",value:function(b,c,d){var f=this.cellNav.getCurrent(b,"rows");b=this.cellNav.getCurrent(b,"columns");c=c(b);b=this._headerRects();var h=b[c]||
{},l=this._getScrollRect(),h=a.map(h,[["left","prev"],["right","next"]]),k=a.map(l,[["left","prev"],["right","next"]]),m=null,w=this._rowRects()[f]||{},l=this.cellNav.getRowPosition(l,w,f,this._logicalViewPort.getHeight());this.cellNav.isInRange(k,h)||(m=d(c,b));f=this.cellNav.setCellMeta(l,m,f,c);f.scrollInPixels.scrollFn=e.curry(d)(c);return f}},{key:"_handleArrowLeft",value:function(a){var b=e.curry(this.cellNav.decrement)(a.dataSize.columns.start,1);a=this._handleHorizontal(a,b,this.cellNav.getScrollLeftPosition);
a.leftScrollFn=this._logicalViewPort.setScrollLeftPx;return a}},{key:"_handleArrowRight",value:function(a){var b=e.curry(this.cellNav.increment)(a.dataSize.columns.end,1),c=this._getRightColPositionForWidth();a=this._handleHorizontal(a,b,c);a.leftScrollFn=this._logicalViewPort.setScrollRightPx;e.curry(c)(a.scrollInPixels.scrollCol);return a}},{key:"_keyPressed",value:function(a){if(!this._hasModifier(a)){var b=this._handler[a.keyCode];b&&(a=b(a),a.leftScrollFn=a.leftScrollFn||this._logicalViewPort.setScrollLeftPx,
a.topScrollFn=this._logicalViewPort.setScrollTopPx,this._activeCell.setActiveCell(a))}}}]);return h}()})},"mw-table/controllers/navigation/ActiveCell":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["mw-tabular-data-model/rangeUtil","../../enums/StateEnum"],function(d,e){return function(){function c(b){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this._viewModel=b.viewModel;this._logicalViewPort=b.viewPortList[0]}k(c,[{key:"setActiveCell",value:function(b){var a=b.activeRange,c=b.scrollInPixels,d=b.leftScrollFn;b=b.topScrollFn;var k=[a];if(a){this._viewModel.setState(e.state.ACTIVE_CELL,null,k);if(c){var a=c.scrollLeft,k=c.scrollCol,h=c.scrollFn;!isNaN(a)&&null!==a&&d(a,k,h)}c&&(c=c.scrollTop,!isNaN(c)&&null!==c&&b(c))}else this._viewModel.setState(e.state.ACTIVE_CELL,null,[])}}]);
return c}()})},"mw-table/controllers/navigation/SimplifiedKeyController":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;
e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["./KeyController"],function(e){return function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?
a:this}k(b,c);d(b,[{key:"_hasModifier",value:function(a){a=a.modifiers;var b=a.shiftKey,c=a.altKey,d=a.meta;return a.ctrlKey||b||c||d}}]);return b}(e)})},"mw-table/adaptors/CellSizingAdaptor":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,
c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../utils/Emitter","../enums/StateEnum","../enums/EventEnum"],function(e,c,b){return function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c;c=(b.__proto__||Object.getPrototypeOf(b)).call(this);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=c&&("object"===typeof c||"function"===typeof c)?c:this;c._viewModel=a.viewModel;return c}k(b,a);d(b,[{key:"eventList",value:function(){return{}}},{key:"setDefaultColumnWidth",value:function(a){a=Math.max(0,a);isNaN(a)||this._viewModel.setState(c.COL_WIDTH,a)}},{key:"setDefaultRowHeight",value:function(a){a=Math.max(0,a);isNaN(a)||this._viewModel.setState(c.ROW_HEIGHT,a)}}]);return b}(e)})},"mw-table/utils/Registration":function(){var k=
function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._handlers={}}k(d,[{key:"register",value:function(d){for(var c in d)this._handlers[c]=this._handlers[c]||[],this._handlers[c].push(d[c])}},
{key:"handleEvent",value:function(d,c){var b=this._handlers[d];Array.isArray(b)&&b.forEach(function(a){return a(c)})}}]);return d}()})},"mw-table/lifecycle/LifeCycle":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["./BuildComponents","./IncomingDataUpdates","./Render","./InteractionEvents",
"../view/TableUtils"],function(d,e,c,b,a){return function(){function f(a,e,h){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._viewModel=a;this._viewPortList=h;this._adaptorList=e;a=new b(this._viewModel,this._adaptorList,this._viewPortList);this._buildComponents=new d(this._viewModel,a.eventCallback);this._render=new c(this._buildComponents.buildOuterWrapper())}k(f,[{key:"mount",value:function(){var b=this._render.mount();this._incomingData=new e(this._viewModel,
this._render,this._buildComponents);a.renderUpdate(this._viewModel,this._viewPortList[0].getBufferedViewPort());this._render.resize();return b}},{key:"unmount",value:function(){this._render.unmount()}},{key:"domNode",get:function(){return this._render.domNode}}]);return f}()})},"mw-table/lifecycle/BuildComponents":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,
a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../enums/StateEnum","../utils/PropManager","../view/ComponentFactory"],function(d,e,c){return function(){function b(a,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._viewModel=a;this._hasTreeColumn=a.getStateByKey(d.treetable.displayTreeColumn)||{value:!1};this._hasTreeColumn.value&&(e=this._viewModel.getStateByKey(d.treetable.PropManager).value,c=this._viewModel.getStateByKey(d.treetable.ComponentFactory).value);
this._propManager=new e({},a,f);this._factory=new c(this._propManager);this._rowHeader=void 0;this._headerEl=[];this._tableComp=void 0}k(b,[{key:"buildDataComponents",value:function(a){this._hasTreeColumn.value&&this._propManager.updateTreeColumnProps(a);this._propManager.updateProps(a);this._buildColumnHeader(a.columnMetaData);var b=this._factory.makeRowElements(),b=this._factory.makeTbody(b);this._propManager.props.displayRowHeader&&this._buildRowHeader(a.rowMetaData);this._tableComp=this._factory.makeTableComponent(b)}},
{key:"_buildColumnHeader",value:function(a){a=this._factory.makePagedColHeaderComponent(a);this._headerEl=this._factory.makeHeaderComponent(a)}},{key:"_buildRowHeader",value:function(a){a=this._factory.makeRowHeaderList(a);this._rowHeader=this._factory.makeRowHeaderComponent(a)}},{key:"buildTable",value:function(){return[this._factory.makeScrollComponent(this._tableComp,this._rowHeader),this._headerEl]}},{key:"buildOuterWrapper",value:function(){return this._factory.makeWrapperComponent(this.buildTable())}}]);
return b}()})},"mw-table/utils/PropManager":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("mw-table/view/TableUtils mw-table/renderers/DefaultRenderer mw-table/view/TableRow mw-table/enums/StateEnum mw-table/enums/DefaultsEnum mw-table/enums/LogicalSizeEnum ../functional/FunctionalUtils mw-table/utils/rangeInterface ../parsing/headers/PureColumnUtils".split(" "),
function(d,e,c,b,a,f,l,m,h){var g=new e;return function(){function a(c,e,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._viewModel=e;this._dataStore=c;this._props={};this._props.eventCallback=g;this._rowComponentList=e.getStateByKey("RowComponent")||{};this._props.dataTestId=null;this._sorted=[];this._size=new f(e);this._props.headers=[];h.getPercentColumnPageWidth;this._tableWidth=l.curry(d.computeTableHeight);this._initViewStateProps();e.getStateByKey(b.testId)&&
(this._props.dataTestId=e.getStateByKey(b.testId).value)}k(a,[{key:"_initViewStateProps",value:function(){var a=this;[{name:b.ROW_HEIGHT,"default":this._size.ROW_HEIGHT},{name:b.HEADER_MENU_AFFORDANCE,"default":!1},{name:b.SORTABLE,"default":!1},{name:b.tableBottomLeftAffordanceHeight,"default":0},{name:b.TABLE_AFFORDANCE_WIDTH,"default":{run:function(){return 0}}},{name:b.TRANSLATE_X,"default":0},{name:b.WIDTH_CHANGED,"default":!1}].forEach(function(b){var c=a._viewModel.getStateByKey(b.name);(!c||
!c.value)&&a._viewModel.setState(b.name,b.default)})}},{key:"setHeaderSortState",value:function(a){this._sorted[a._index]=a[b.SORTED]||{order:""}}},{key:"getHeaderSortType",value:function(a){return this._props.headers[a].sortType}},{key:"setHeaders",value:function(a){var c=this;this._props.headers=a;var d=this._viewModel;d.deleteState("renderer");d.deleteState("editor");d.deleteState("interactiveRenderer");a.forEach(function(a,e){a.interactiveRenderer?m.addMetadataToCol(a._index,d,"interactiveRenderer",
a.interactiveRenderer):(a.editor&&m.addMetadataToCol(a._index,d,"editor",a.editor),a.renderer&&m.addMetadataToCol(a._index,d,"renderer",a.renderer));c._sorted[a._index]=a[b.SORTED]||{order:""}});this._renderList=d.getStateByKey("renderer")||{};this._props.interactiveRenderList=d.getStateByKey("interactiveRenderer")||{};this._editorList=d.getStateByKey("editor")||{}}},{key:"_resetProps",value:function(){this._viewModel.setState(b.WIDTH_CHANGED,!1)}},{key:"updateProps",value:function(a){var c=this._viewModel,
e=a.viewData[0].range,f=c.dataSize,g=c.viewBuffer.rangeList[0],l=c.getColumnHeaders()||[];this._headers=l;var k=this._tableWidth(this._size.COL_WIDTH);this._sorted=[];var m={headers:l,dataSize:f.columns.count},p=h.getPercentColumnPageWidth(m);this._props.width=p||k(f.columns.count);this._props.columnClass=h.getTbodyHeaderClass(m);this._props.tableClass=h.getTableHeaderClass(m);this._props.lastDataColumn=l.length-1;this._props.editState=this.getEditState(c.getStateByKey(b.EDIT_STATE));this._props.startRow=
e.rows.start;this._props.endRow=e.rows.end;this._props.startCol=e.columns.start;this._props.endCol=e.columns.end;this._props.colResize=c.getStateByKey(b.colResize).value;this._props.tableAffordanceWidth=c.getStateByKey(b.TABLE_AFFORDANCE_WIDTH).value.run();this._props.tableBottomLeftAffordanceHeight=c.getStateByKey(b.tableBottomLeftAffordanceHeight).value;c.getStateByKey(b.displayRowHeader)&&(this._props.displayRowHeader=c.getStateByKey(b.displayRowHeader).value,this._props.rowHeaderWidth=c.getStateByKey(b.rowHeaderWidth).value);
this._props.widthChanged=c.getStateByKey(b.WIDTH_CHANGED).value;this._props.rowHeight=c.getStateByKey(b.ROW_HEIGHT).value;if(!c.getStateByKey(b.treetable.displayTreeColumn)||!c.getStateByKey(b.treetable.displayTreeColumn).value)this._props.focused=d.getFocusedCell(c.getStateByKey(b.FOCUSED)),this._props.metadata=d.getMeta(g.rows.start,g.rows.count,c.getStateByKey("selected"),"selected");this._props.translateX=c.getStateByKey(b.TRANSLATE_X).value;this._props.height=d.computeTableHeight(f.rows.count,
this._size.ROW_HEIGHT);this._props.data=a.viewData[0];this._props.colMenuAffordance=c.getStateByKey(b.HEADER_MENU_AFFORDANCE).value;this._props.sortable=c.getStateByKey(b.SORTABLE).value;this._props.scrollXPos=this._size.COL_WIDTH*this._props.startCol;this._props.scrollYPos=this._size.ROW_HEIGHT*this._props.startRow;this._props.totalLogicalWidth=this._size.COL_WIDTH*this._props.lastDataColumn;this._props.translateY=this._size.ROW_HEIGHT*this._props.startRow;this._props.logicalColWidth=this._size.COL_WIDTH;
this._props.logicalRowHeight=this._size.ROW_HEIGHT;this._resetProps();return this._props}},{key:"getSortedState",value:function(a){return this._sorted[a]||{order:""}}},{key:"getEditState",value:function(a){return a&&a.hasOwnProperty("value")?a.value:!1}},{key:"getRendererFor",value:function(a,b){for(var c=this._renderList.rangeList||[],d=0;d<c.length;d++)if(this.checkRange(c[d],a,b))return this._renderList.value[d]||g;return g}},{key:"getEditorFor",value:function(a,b){for(var c=this._editorList.rangeList||
[],d=0;d<c.length;d++)if(this.checkRange(c[d],a,b))return this._editorList.value[d]||null;return null}},{key:"checkRange",value:function(a,b,c){return c>=a.columns.start&&c<=a.columns.end&&b>=a.rows.start&&b<=a.rows.end?!0:!1}},{key:"props",get:function(){return this._props}}]);return a}()})},"mw-table/view/TableRow":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,
{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["react/react.min","./ClassMapEnum"],function(e,c){return function(b){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var b=(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:this}k(a,b);d(a,[{key:"render",value:function(){var a=this.props,b=a.children,d=a.metadata,a=a.rowIndex,h=["mw-table-row"],g;for(g in d)h.push(c[g]);return e.createElement("tr",{"data-test-id":a,"data-row-index":a,className:h.join(" ")},b)}}]);return a}(e.Component)})},"react/react.min":function(){!function(k){"object"==
typeof exports&&"undefined"!=typeof module?module.exports=k():"function"==typeof define&&define.amd?define([],k):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).React=k()}(function(){return function d(e,c,b){function a(l,h){if(!c[l]){if(!e[l]){var g="function"==typeof require&&require;if(!h&&g)return g(l,!0);if(f)return f(l,!0);g=Error("Cannot find module '"+l+"'");throw g.code="MODULE_NOT_FOUND",g;}g=c[l]={exports:{}};e[l][0].call(g.exports,
function(b){var c=e[l][1][b];return a(c?c:b)},g,g.exports,d,e,c,b)}return c[l].exports}for(var f="function"==typeof require&&require,l=0;l<b.length;l++)a(b[l]);return a}({1:[function(d,e,c){c=d(35);var b=d(45),a=d(61),f=d(23);d=d(104);var l={};f(l,a);f(l,{findDOMNode:d("findDOMNode","ReactDOM","react-dom",c,c.findDOMNode),render:d("render","ReactDOM","react-dom",c,c.render),unmountComponentAtNode:d("unmountComponentAtNode","ReactDOM","react-dom",c,c.unmountComponentAtNode),renderToString:d("renderToString",
"ReactDOMServer","react-dom/server",b,b.renderToString),renderToStaticMarkup:d("renderToStaticMarkup","ReactDOMServer","react-dom/server",b,b.renderToStaticMarkup)});l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c;l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b;e.exports=l},{104:104,23:23,35:35,45:45,61:61}],2:[function(d,e,c){var b=d(63),a=d(106),f=d(136);e.exports={Mixin:{componentDidMount:function(){this.props.autoFocus&&f(a(this))}},focusDOMComponent:function(){f(b.getNode(this._rootNodeID))}}},
{106:106,136:136,63:63}],3:[function(d,e,c){function b(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&12>=parseInt(a.version(),10)}function a(a,b){switch(a){case y.topKeyUp:return-1!==r.indexOf(b.keyCode);case y.topKeyDown:return b.keyCode!==q;case y.topKeyPress:case y.topMouseDown:case y.topBlur:return!0;default:return!1}}function f(a){a=a.detail;return"object"==typeof a&&"data"in a?a.data:null}function l(a,b){switch(a){case y.topCompositionEnd:return f(b);case y.topKeyPress:return b.which!==
x?null:(C=!0,z);case y.topTextInput:var c=b.data;return c===z&&C?null:c;default:return null}}function m(b,c){if(A){if(b===y.topCompositionEnd||a(b,c)){var d=A.getData();return p.release(A),A=null,d}return null}switch(b){case y.topPaste:return null;case y.topKeyPress:return c.which&&(!c.ctrlKey&&!c.altKey&&!c.metaKey||c.ctrlKey&&c.altKey)?String.fromCharCode(c.which):null;case y.topCompositionEnd:return v?null:c.data;default:return null}}c=d(15);var h=d(19),g=d(128),p=d(20),n=d(88),s=d(92);d=d(146);
var r=[9,13,27,32],q=229,t=g.canUseDOM&&"CompositionEvent"in window,u=null;g.canUseDOM&&"documentMode"in document&&(u=document.documentMode);var w=g.canUseDOM&&"TextEvent"in window&&!u&&!b(),v=g.canUseDOM&&(!t||u&&8<u&&11>=u),x=32,z=String.fromCharCode(x),y=c.topLevelTypes,B={beforeInput:{phasedRegistrationNames:{bubbled:d({onBeforeInput:null}),captured:d({onBeforeInputCapture:null})},dependencies:[y.topCompositionEnd,y.topKeyPress,y.topTextInput,y.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:d({onCompositionEnd:null}),
captured:d({onCompositionEndCapture:null})},dependencies:[y.topBlur,y.topCompositionEnd,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:d({onCompositionStart:null}),captured:d({onCompositionStartCapture:null})},dependencies:[y.topBlur,y.topCompositionStart,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:d({onCompositionUpdate:null}),captured:d({onCompositionUpdateCapture:null})},dependencies:[y.topBlur,
y.topCompositionUpdate,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]}},C=!1,A=null;e.exports={eventTypes:B,extractEvents:function(b,c,d,e,g){var r;var u;if(t)b:{switch(b){case y.topCompositionStart:u=B.compositionStart;break b;case y.topCompositionEnd:u=B.compositionEnd;break b;case y.topCompositionUpdate:u=B.compositionUpdate;break b}u=void 0}else A?a(b,e)&&(u=B.compositionEnd):b===y.topKeyDown&&e.keyCode===q&&(u=B.compositionStart);u?(v&&(A||u!==B.compositionStart?u===B.compositionEnd&&
A&&(r=A.getData()):A=p.getPooled(c)),c=n.getPooled(u,d,e,g),r?c.data=r:(r=f(e),null!==r&&(c.data=r)),r=(h.accumulateTwoPhaseDispatches(c),c)):r=null;var x;(x=w?l(b,e):m(b,e),!x)?x=null:(b=s.getPooled(B.beforeInput,d,e,g),x=(b.data=x,h.accumulateTwoPhaseDispatches(b),b));return[r,x]}}},{128:128,146:146,15:15,19:19,20:20,88:88,92:92}],4:[function(d,e,c){var b={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,
flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(b).forEach(function(c){a.forEach(function(a){b[a+c.charAt(0).toUpperCase()+c.substring(1)]=b[c]})});e.exports={isUnitlessNumber:b,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,
backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,
fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},{}],5:[function(d,e,c){var b=d(4),a=d(128);c=d(69);var f=(d(130),d(103)),l=d(141),m=d(148),h=(d(151),m(function(a){return l(a)})),g=!1,p="cssFloat";if(a.canUseDOM){d=document.createElement("div").style;try{d.font=""}catch(n){g=!0}void 0===document.documentElement.style.cssFloat&&(p="styleFloat")}d={createMarkupForStyles:function(a){var b="",c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];null!=d&&
(b+=h(c)+":",b+=f(c,d)+";")}return b||null},setValueForStyles:function(a,c){var d=a.style,e;for(e in c)if(c.hasOwnProperty(e)){var h=f(e,c[e]);if("float"===e&&(e=p),h)d[e]=h;else if(h=g&&b.shorthandPropertyExpansions[e])for(var l in h)d[l]="";else d[e]=""}}};c.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"});e.exports=d},{103:103,128:128,130:130,141:141,148:148,151:151,4:4,69:69}],6:[function(d,e,c){function b(){this._contexts=this._callbacks=null}c=d(24);var a=d(23),
f=d(142);a(b.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(a);this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){a.length!==b.length?f(!1):void 0;this._contexts=this._callbacks=null;for(var c=0;c<a.length;c++)a[c].call(b[c]);a.length=0;b.length=0}},reset:function(){this._contexts=this._callbacks=null},destructor:function(){this.reset()}});c.addPoolingTo(b);e.exports=b},{142:142,23:23,
24:24}],7:[function(d,e,c){function b(b){b=v.getPooled(C.change,D,b,x(b));t.accumulateTwoPhaseDispatches(b);w.batchedUpdates(a,b)}function a(a){q.enqueueEvents(a);q.processEventQueue(!1)}function f(){A&&(A.detachEvent("onchange",b),A=null,D=null)}function l(a,b,c){return a===B.topChange?c:void 0}function m(a,c,d){a===B.topFocus?(f(),A=c,D=d,A.attachEvent("onchange",b)):a===B.topBlur&&f()}function h(){A&&(delete A.value,A.detachEvent("onpropertychange",g),A=null,D=null,F=null,G=null)}function g(a){if("value"===
a.propertyName){var c=a.srcElement.value;c!==F&&(F=c,b(a))}}function p(a,b,c){return a===B.topInput?c:void 0}function n(a,b,c){a===B.topFocus?(h(),A=b,D=c,F=b.value,G=Object.getOwnPropertyDescriptor(b.constructor.prototype,"value"),Object.defineProperty(A,"value",K),A.attachEvent("onpropertychange",g)):a===B.topBlur&&h()}function s(a,b,c){return a!==B.topSelectionChange&&a!==B.topKeyUp&&a!==B.topKeyDown||!A||A.value===F?void 0:(F=A.value,D)}function r(a,b,c){return a===B.topClick?c:void 0}c=d(15);
var q=d(16),t=d(19),u=d(128),w=d(81),v=d(90),x=d(112),z=d(117),y=d(118);d=d(146);var B=c.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:d({onChange:null}),captured:d({onChangeCapture:null})},dependencies:[B.topBlur,B.topChange,B.topClick,B.topFocus,B.topInput,B.topKeyDown,B.topKeyUp,B.topSelectionChange]}},A=null,D=null,F=null,G=null,I=!1;u.canUseDOM&&(I=z("change")&&(!("documentMode"in document)||8<document.documentMode));var M=!1;u.canUseDOM&&(M=z("input")&&(!("documentMode"in document)||
9<document.documentMode));var K={get:function(){return G.get.call(this)},set:function(a){F=""+a;G.set.call(this,a)}};e.exports={eventTypes:C,extractEvents:function(a,b,c,d,e){var f,g,h=b.nodeName&&b.nodeName.toLowerCase();if("select"===h||"input"===h&&"file"===b.type?I?f=l:g=m:y(b)?M?f=p:(f=s,g=n):b.nodeName&&("input"===b.nodeName.toLowerCase()&&("checkbox"===b.type||"radio"===b.type))&&(f=r),f)if(f=f(a,b,c))return a=v.getPooled(C.change,f,d,e),a.type="change",t.accumulateTwoPhaseDispatches(a),a;
g&&g(a,b,c)}}},{112:112,117:117,118:118,128:128,146:146,15:15,16:16,19:19,81:81,90:90}],8:[function(d,e,c){var b=0;e.exports={createReactRootIndex:function(){return b++}}},{}],9:[function(d,e,c){var b=d(12),a=d(65);c=d(69);var f=d(122),l=d(123),m=d(142);d={dangerouslyReplaceNodeWithMarkup:b.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(c,d){for(var e,n=null,s=null,r=0;r<c.length;r++)if(e=c[r],e.type===a.MOVE_EXISTING||e.type===a.REMOVE_NODE){var q=e.fromIndex,t=e.parentNode.childNodes[q],
u=e.parentID;t?void 0:m(!1);n=n||{};n[u]=n[u]||[];n[u][q]=t;s=s||[];s.push(t)}if(r=d.length&&"string"==typeof d[0]?b.dangerouslyRenderMarkup(d):d,s)for(q=0;q<s.length;q++)s[q].parentNode.removeChild(s[q]);for(s=0;s<c.length;s++)switch(e=c[s],e.type){case a.INSERT_MARKUP:q=e.parentNode;t=r[e.markupIndex];u=e.toIndex;u=u>=q.childNodes.length?null:q.childNodes.item(u);q.insertBefore(t,u);break;case a.MOVE_EXISTING:q=e.parentNode;t=n[e.parentID][e.fromIndex];u=e.toIndex;u=u>=q.childNodes.length?null:
q.childNodes.item(u);q.insertBefore(t,u);break;case a.SET_MARKUP:f(e.parentNode,e.content);break;case a.TEXT_CONTENT:l(e.parentNode,e.content)}}};c.measureMethods(d,"DOMChildrenOperations",{updateTextContent:"updateTextContent"});e.exports=d},{12:12,122:122,123:123,142:142,65:65,69:69}],10:[function(d,e,c){var b=d(142),a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(c){var d=
a,e=c.Properties||{},f=c.DOMAttributeNamespaces||{},n=c.DOMAttributeNames||{},s=c.DOMPropertyNames||{},r=c.DOMMutationMethods||{};c.isCustomAttribute&&l._isCustomAttributeFunctions.push(c.isCustomAttribute);for(var q in e){l.properties.hasOwnProperty(q)?b(!1):void 0;c=q.toLowerCase();var t=e[q];c={attributeName:c,attributeNamespace:null,propertyName:q,mutationMethod:null,mustUseAttribute:(t&d.MUST_USE_ATTRIBUTE)===d.MUST_USE_ATTRIBUTE,mustUseProperty:(t&d.MUST_USE_PROPERTY)===d.MUST_USE_PROPERTY,
hasSideEffects:(t&d.HAS_SIDE_EFFECTS)===d.HAS_SIDE_EFFECTS,hasBooleanValue:(t&d.HAS_BOOLEAN_VALUE)===d.HAS_BOOLEAN_VALUE,hasNumericValue:(t&d.HAS_NUMERIC_VALUE)===d.HAS_NUMERIC_VALUE,hasPositiveNumericValue:(t&d.HAS_POSITIVE_NUMERIC_VALUE)===d.HAS_POSITIVE_NUMERIC_VALUE,hasOverloadedBooleanValue:(t&d.HAS_OVERLOADED_BOOLEAN_VALUE)===d.HAS_OVERLOADED_BOOLEAN_VALUE};if(c.mustUseAttribute&&c.mustUseProperty?b(!1):void 0,!c.mustUseProperty&&c.hasSideEffects?b(!1):void 0,1>=c.hasBooleanValue+c.hasNumericValue+
c.hasOverloadedBooleanValue?void 0:b(!1),n.hasOwnProperty(q))c.attributeName=n[q];f.hasOwnProperty(q)&&(c.attributeNamespace=f[q]);s.hasOwnProperty(q)&&(c.propertyName=s[q]);r.hasOwnProperty(q)&&(c.mutationMethod=r[q]);l.properties[q]=c}}},f={},l={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<l._isCustomAttributeFunctions.length;b++)if((0,l._isCustomAttributeFunctions[b])(a))return!0;return!1},
getDefaultValueForProperty:function(a,b){var c,d=f[a];return d||(f[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:a};e.exports=l},{142:142}],11:[function(d,e,c){function b(a){return g.hasOwnProperty(a)?!0:h.hasOwnProperty(a)?!1:m.test(a)?(g[a]=!0,!0):(h[a]=!0,!1)}function a(a,b){return null==b||a.hasBooleanValue&&!b||a.hasNumericValue&&isNaN(b)||a.hasPositiveNumericValue&&1>b||a.hasOverloadedBooleanValue&&!1===b}var f=d(10);c=d(69);var l=d(120),m=(d(151),/^[a-zA-Z_][\w\.\-]*$/),
h={},g={},p={createMarkupForID:function(a){return f.ID_ATTRIBUTE_NAME+"\x3d"+l(a)},setAttributeForID:function(a,b){a.setAttribute(f.ID_ATTRIBUTE_NAME,b)},createMarkupForProperty:function(b,c){var d=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(d){if(a(d,c))return"";var e=d.attributeName;return d.hasBooleanValue||d.hasOverloadedBooleanValue&&!0===c?e+'\x3d""':e+"\x3d"+l(c)}return f.isCustomAttribute(b)?null==c?"":b+"\x3d"+l(c):null},createMarkupForCustomAttribute:function(a,c){return b(a)&&
null!=c?a+"\x3d"+l(c):""},setValueForProperty:function(b,c,d){var e=f.properties.hasOwnProperty(c)?f.properties[c]:null;if(e){var g=e.mutationMethod;g?g(b,d):a(e,d)?this.deleteValueForProperty(b,c):e.mustUseAttribute?(c=e.attributeName,(g=e.attributeNamespace)?b.setAttributeNS(g,c,""+d):e.hasBooleanValue||e.hasOverloadedBooleanValue&&!0===d?b.setAttribute(c,""):b.setAttribute(c,""+d)):(c=e.propertyName,e.hasSideEffects&&""+b[c]==""+d||(b[c]=d))}else f.isCustomAttribute(c)&&p.setValueForAttribute(b,
c,d)},setValueForAttribute:function(a,c,d){b(c)&&(null==d?a.removeAttribute(c):a.setAttribute(c,""+d))},deleteValueForProperty:function(a,b){var c=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(c){var d=c.mutationMethod;if(d)d(a,void 0);else if(c.mustUseAttribute)a.removeAttribute(c.attributeName);else{var d=c.propertyName,e=f.getDefaultValueForProperty(a.nodeName,d);c.hasSideEffects&&""+a[d]===e||(a[d]=e)}}else f.isCustomAttribute(b)&&a.removeAttribute(b)}};c.measureMethods(p,"DOMPropertyOperations",
{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"});e.exports=p},{10:10,120:120,151:151,69:69}],12:[function(d,e,c){var b=d(128),a=d(133),f=d(134),l=d(138),m=d(142),h=/^(<[^ \/>]+)/;e.exports={dangerouslyRenderMarkup:function(c){b.canUseDOM?void 0:m(!1);for(var d,e={},s=0;s<c.length;s++)c[s]?void 0:m(!1),d=c[s].substring(1,c[s].indexOf(" ")),d=l(d)?d:"*",e[d]=e[d]||[],e[d][s]=c[s];var s=[],r=0;for(d in e)if(e.hasOwnProperty(d)){var q,
t=e[d];for(q in t)t.hasOwnProperty(q)&&(t[q]=t[q].replace(h,'$1 data-danger-index\x3d"'+q+'" '));for(var t=a(t.join(""),f),u=0;u<t.length;++u){var w=t[u];w.hasAttribute&&w.hasAttribute("data-danger-index")&&(q=+w.getAttribute("data-danger-index"),w.removeAttribute("data-danger-index"),s.hasOwnProperty(q)?m(!1):void 0,s[q]=w,r+=1)}}return r!==s.length?m(!1):void 0,s.length!==c.length?m(!1):void 0,s},dangerouslyReplaceNodeWithMarkup:function(c,d){b.canUseDOM?void 0:m(!1);d?void 0:m(!1);"html"===c.tagName.toLowerCase()?
m(!1):void 0;var e;e="string"==typeof d?a(d,f)[0]:d;c.parentNode.replaceChild(e,c)}}},{128:128,133:133,134:134,138:138,142:142}],13:[function(d,e,c){d=d(146);d=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null})];e.exports=d},{146:146}],14:[function(d,e,c){c=d(15);var b=d(19),a=d(94),f=d(63);d=d(146);var l=c.topLevelTypes,m=f.getFirstReactDOM,h=
{mouseEnter:{registrationName:d({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:d({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},g=[null,null];e.exports={eventTypes:h,extractEvents:function(c,d,e,r,q){if(c===l.topMouseOver&&(r.relatedTarget||r.fromElement)||c!==l.topMouseOut&&c!==l.topMouseOver)return null;var t;if(d.window===d)t=d;else{var u=d.ownerDocument;t=u?u.defaultView||u.parentWindow:window}var w,v,x=u="";if(c===l.topMouseOut?
(w=d,u=e,v=m(r.relatedTarget||r.toElement),v?x=f.getID(v):v=t,v=v||t):(w=t,v=d,x=e),w===v)return null;c=a.getPooled(h.mouseLeave,u,r,q);c.type="mouseleave";c.target=w;c.relatedTarget=v;r=a.getPooled(h.mouseEnter,x,r,q);return r.type="mouseenter",r.target=v,r.relatedTarget=w,b.accumulateEnterLeaveDispatches(c,r,u,x),g[0]=c,g[1]=r,g}}},{146:146,15:15,19:19,63:63,94:94}],15:[function(d,e,c){d=d(145);c=d({bubbled:null,captured:null});d={topLevelTypes:d({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,
topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,
topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:c};
e.exports=d},{145:145}],16:[function(d,e,c){var b=d(17),a=d(18),f=d(54),l=d(100),m=d(108),h=d(142),g=(d(151),{}),p=null,n=function(b,c){b&&(a.executeDispatchesInOrder(b,c),b.isPersistent()||b.constructor.release(b))},s=function(a){return n(a,!0)},r=function(a){return n(a,!1)},q=null;e.exports={injection:{injectMount:a.injection.injectMount,injectInstanceHandle:function(a){q=a},getInstanceHandle:function(){return q},injectEventPluginOrder:b.injectEventPluginOrder,injectEventPluginsByName:b.injectEventPluginsByName},
eventNameDispatchConfigs:b.eventNameDispatchConfigs,registrationNameModules:b.registrationNameModules,putListener:function(a,c,d){"function"!=typeof d?h(!1):void 0;(g[c]||(g[c]={}))[a]=d;var e=b.registrationNameModules[c];e&&e.didPutListener&&e.didPutListener(a,c,d)},getListener:function(a,b){var c=g[b];return c&&c[a]},deleteListener:function(a,c){var d=b.registrationNameModules[c];d&&d.willDeleteListener&&d.willDeleteListener(a,c);(d=g[c])&&delete d[a]},deleteAllListeners:function(a){for(var c in g)if(g[c][a]){var d=
b.registrationNameModules[c];d&&d.willDeleteListener&&d.willDeleteListener(a,c);delete g[c][a]}},extractEvents:function(a,c,d,e,f){for(var g,h=b.plugins,m=0;m<h.length;m++){var p=h[m];p&&(p=p.extractEvents(a,c,d,e,f))&&(g=l(g,p))}return g},enqueueEvents:function(a){a&&(p=l(p,a))},processEventQueue:function(a){var b=p;p=null;a?m(b,s):m(b,r);p?h(!1):void 0;f.rethrowCaughtError()},__purge:function(){g={}},__getListenerBank:function(){return g}}},{100:100,108:108,142:142,151:151,17:17,18:18,54:54}],17:[function(d,
e,c){function b(){if(l)for(var b in m){var c=m[b],d=l.indexOf(b);if(-1<d?void 0:f(!1),!h.plugins[d]){c.extractEvents?void 0:f(!1);h.plugins[d]=c;var d=c.eventTypes,e;for(e in d){var r;var q=d[e];r=c;var t=e;h.eventNameDispatchConfigs.hasOwnProperty(t)?f(!1):void 0;h.eventNameDispatchConfigs[t]=q;var u=q.phasedRegistrationNames;if(u){q=void 0;for(q in u)u.hasOwnProperty(q)&&a(u[q],r,t);r=!0}else r=q.registrationName?(a(q.registrationName,r,t),!0):!1;r?void 0:f(!1)}}}}function a(a,b,c){h.registrationNameModules[a]?
f(!1):void 0;h.registrationNameModules[a]=b;h.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var f=d(142),l=null,m={},h={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){l?f(!1):void 0;l=Array.prototype.slice.call(a);b()},injectEventPluginsByName:function(a){var c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var e=a[d];m.hasOwnProperty(d)&&m[d]===e||(m[d]?f(!1):void 0,m[d]=e,c=!0)}c&&b()},getPluginModuleForEvent:function(a){a=
a.dispatchConfig;if(a.registrationName)return h.registrationNameModules[a.registrationName]||null;for(var b in a.phasedRegistrationNames)if(a.phasedRegistrationNames.hasOwnProperty(b)){var c=h.registrationNameModules[a.phasedRegistrationNames[b]];if(c)return c}return null},_resetEventPlugins:function(){l=null;for(var a in m)m.hasOwnProperty(a)&&delete m[a];h.plugins.length=0;a=h.eventNameDispatchConfigs;for(var b in a)a.hasOwnProperty(b)&&delete a[b];b=h.registrationNameModules;for(var c in b)b.hasOwnProperty(c)&&
delete b[c]}};e.exports=h},{142:142}],18:[function(d,e,c){function b(b,c,d,e){var f=b.type||"unknown-event";b.currentTarget=l.Mount.getNode(e);c?a.invokeGuardedCallbackWithCatch(f,d,b,e):a.invokeGuardedCallback(f,d,b,e);b.currentTarget=null}c=d(15);var a=d(54),f=d(142),l=(d(151),{Mount:null,injectMount:function(a){l.Mount=a}}),m=c.topLevelTypes;e.exports={isEndish:function(a){return a===m.topMouseUp||a===m.topTouchEnd||a===m.topTouchCancel},isMoveish:function(a){return a===m.topMouseMove||a===m.topTouchMove},
isStartish:function(a){return a===m.topMouseDown||a===m.topTouchStart},executeDirectDispatch:function(a){var b=a._dispatchListeners,c=a._dispatchIDs;Array.isArray(b)?f(!1):void 0;b=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,b},executeDispatchesInOrder:function(a,c){var d=a._dispatchListeners,e=a._dispatchIDs;if(Array.isArray(d))for(var f=0;f<d.length&&!a.isPropagationStopped();f++)b(a,c,d[f],e[f]);else d&&b(a,c,d,e);a._dispatchListeners=null;a._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(a){var b;
a:{b=a._dispatchListeners;var c=a._dispatchIDs;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++){if(b[d](a,c[d])){b=c[d];break a}}else if(b&&b(a,c)){b=c;break a}b=null}return a._dispatchIDs=null,a._dispatchListeners=null,b},hasDispatches:function(a){return!!a._dispatchListeners},getNode:function(a){return l.Mount.getNode(a)},getID:function(a){return l.Mount.getID(a)},injection:l}},{142:142,15:15,151:151,54:54}],19:[function(d,e,c){function b(a,b,c){(b=s(a,c.dispatchConfig.phasedRegistrationNames[b?
n.bubbled:n.captured]))&&(c._dispatchListeners=g(c._dispatchListeners,b),c._dispatchIDs=g(c._dispatchIDs,a))}function a(a){a&&a.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,b,a)}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(a.dispatchMarker,b,a)}function l(a,b,c){c&&c.dispatchConfig.registrationName&&(b=s(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=
g(c._dispatchListeners,b),c._dispatchIDs=g(c._dispatchIDs,a))}function m(a){a&&a.dispatchConfig.registrationName&&l(a.dispatchMarker,null,a)}c=d(15);var h=d(16),g=(d(151),d(100)),p=d(108),n=c.PropagationPhases,s=h.getListener;e.exports={accumulateTwoPhaseDispatches:function(b){p(b,a)},accumulateTwoPhaseDispatchesSkipTarget:function(a){p(a,f)},accumulateDirectDispatches:function(a){p(a,m)},accumulateEnterLeaveDispatches:function(a,b,c,d){h.injection.getInstanceHandle().traverseEnterLeave(c,d,l,a,b)}}},
{100:100,108:108,15:15,151:151,16:16}],20:[function(d,e,c){function b(a){this._root=a;this._startText=this.getText();this._fallbackText=null}c=d(24);var a=d(23),f=d(115);a(b.prototype,{destructor:function(){this._fallbackText=this._startText=this._root=null},getText:function(){return"value"in this._root?this._root.value:this._root[f()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);
var s=d-a;for(b=1;s>=b&&c[d-b]===e[f-b];b++);return this._fallbackText=e.slice(a,1<b?1-b:void 0),this._fallbackText}});c.addPoolingTo(b);e.exports=b},{115:115,23:23,24:24}],21:[function(d,e,c){var b,a=d(10),f=d(128);d=a.injection.MUST_USE_ATTRIBUTE;c=a.injection.MUST_USE_PROPERTY;var l=a.injection.HAS_BOOLEAN_VALUE,m=a.injection.HAS_SIDE_EFFECTS,h=a.injection.HAS_NUMERIC_VALUE,g=a.injection.HAS_POSITIVE_NUMERIC_VALUE,a=a.injection.HAS_OVERLOADED_BOOLEAN_VALUE;f.canUseDOM&&(b=(b=document.implementation)&&
b.hasFeature&&b.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));b={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:d|l,allowTransparency:d,alt:null,async:l,autoComplete:null,autoPlay:l,capture:d|l,cellPadding:null,cellSpacing:null,charSet:d,challenge:d,checked:c|l,classID:d,className:b?d:c,cols:d|g,colSpan:null,content:null,contentEditable:null,contextMenu:d,
controls:c|l,coords:null,crossOrigin:null,data:null,dateTime:d,"default":l,defer:l,dir:null,disabled:d|l,download:a,draggable:null,encType:null,form:d,formAction:d,formEncType:d,formMethod:d,formNoValidate:l,formTarget:d,frameBorder:d,headers:null,height:d,hidden:d|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:c,inputMode:d,integrity:null,is:d,keyParams:d,keyType:d,kind:null,label:null,lang:null,list:d,loop:c|l,low:null,manifest:d,marginHeight:null,marginWidth:null,
max:null,maxLength:d,media:d,mediaGroup:null,method:null,min:null,minLength:d,multiple:c|l,muted:c|l,name:null,nonce:d,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:c|l,rel:null,required:l,reversed:l,role:d,rows:d|g,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:d|l,selected:c|l,shape:null,size:d|g,sizes:d,span:g,spellCheck:null,src:null,srcDoc:c,srcLang:null,srcSet:d,start:h,step:null,style:null,summary:null,
tabIndex:null,target:null,title:null,type:null,useMap:null,value:c|m,width:d,wmode:d,wrap:null,about:d,datatype:d,inlist:d,prefix:d,property:d,resource:d,"typeof":d,vocab:d,autoCapitalize:d,autoCorrect:d,autoSave:null,color:null,itemProp:d,itemScope:d|l,itemType:d,itemID:d,itemRef:d,results:null,security:d,unselectable:d},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",
autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=b},{10:10,128:128}],22:[function(d,e,c){function b(a){null!=a.checkedLink&&null!=a.valueLink?m(!1):void 0}function a(a){b(a);null!=a.value||null!=a.onChange?m(!1):void 0}function f(a){b(a);null!=a.checked||null!=a.onChange?m(!1):void 0}c=d(72);var l=d(71),m=d(142),h=(d(151),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),g={value:function(a,
b,c){return!a[b]||h[a.type]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},
onChange:c.func},p={};e.exports={checkPropTypes:function(a,b,c){for(var d in g){if(g.hasOwnProperty(d))var e=g[d](b,d,a,l.prop);e instanceof Error&&!(e.message in p)&&(p[e.message]=!0,c&&c.getName())}},getValue:function(b){return b.valueLink?(a(b),b.valueLink.value):b.value},getChecked:function(a){return a.checkedLink?(f(a),a.checkedLink.value):a.checked},executeOnChange:function(b,c){return b.valueLink?(a(b),b.valueLink.requestChange(c.target.value)):b.checkedLink?(f(b),b.checkedLink.requestChange(c.target.checked)):
b.onChange?b.onChange.call(void 0,c):void 0}}},{142:142,151:151,71:71,72:72}],23:[function(d,e,c){e.exports=function(b,a){if(null==b)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(b),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var h=arguments[e];if(null!=h){var h=Object(h),g;for(g in h)d.call(h,g)&&(c[g]=h[g])}}return c}},{}],24:[function(d,e,c){var b=d(142),a=function(a){if(this.instancePool.length){var b=this.instancePool.pop();return this.call(b,
a),b}return new this(a)},f=function(a){a instanceof this?void 0:b(!1);a.destructor();this.instancePool.length<this.poolSize&&this.instancePool.push(a)};e.exports={addPoolingTo:function(b,c){return b.instancePool=[],b.getPooled=c||a,b.poolSize||(b.poolSize=10),b.release=f,b},oneArgumentPooler:a,twoArgumentPooler:function(a,b){if(this.instancePool.length){var c=this.instancePool.pop();return this.call(c,a,b),c}return new this(a,b)},threeArgumentPooler:function(a,b,c){if(this.instancePool.length){var d=
this.instancePool.pop();return this.call(d,a,b,c),d}return new this(a,b,c)},fourArgumentPooler:function(a,b,c,d){if(this.instancePool.length){var e=this.instancePool.pop();return this.call(e,a,b,c,d),e}return new this(a,b,c,d)},fiveArgumentPooler:function(a,b,c,d,e){if(this.instancePool.length){var f=this.instancePool.pop();return this.call(f,a,b,c,d,e),f}return new this(a,b,c,d,e)}}},{142:142}],25:[function(d,e,c){var b=(d(60),d(106)),a=(d(151),"_getDOMNodeDidWarn");e.exports={getDOMNode:function(){return this.constructor[a]=
!0,b(this)}}},{106:106,151:151,60:60}],26:[function(d,e,c){var b=d(15);c=d(16);var a=d(17),f=d(55),l=d(69),m=d(99),h=d(23),g=d(117),p={},n=!1,s=0,r={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",
topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",
topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",
topWheel:"wheel"},q="_reactListenersID"+String(Math.random()).slice(2),t=h({},f,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(t.handleTopLevel);t.ReactEventListener=a}},setEnabled:function(a){t.ReactEventListener&&t.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!t.ReactEventListener||!t.ReactEventListener.isEnabled())},listenTo:function(c,d){for(var e=(Object.prototype.hasOwnProperty.call(d,q)||(d[q]=s++,p[d[q]]={}),p[d[q]]),f=a.registrationNameDependencies[c],
h=b.topLevelTypes,l=0;l<f.length;l++){var m=f[l];e.hasOwnProperty(m)&&e[m]||(m===h.topWheel?g("wheel")?t.ReactEventListener.trapBubbledEvent(h.topWheel,"wheel",d):g("mousewheel")?t.ReactEventListener.trapBubbledEvent(h.topWheel,"mousewheel",d):t.ReactEventListener.trapBubbledEvent(h.topWheel,"DOMMouseScroll",d):m===h.topScroll?g("scroll",!0)?t.ReactEventListener.trapCapturedEvent(h.topScroll,"scroll",d):t.ReactEventListener.trapBubbledEvent(h.topScroll,"scroll",t.ReactEventListener.WINDOW_HANDLE):
m===h.topFocus||m===h.topBlur?(g("focus",!0)?(t.ReactEventListener.trapCapturedEvent(h.topFocus,"focus",d),t.ReactEventListener.trapCapturedEvent(h.topBlur,"blur",d)):g("focusin")&&(t.ReactEventListener.trapBubbledEvent(h.topFocus,"focusin",d),t.ReactEventListener.trapBubbledEvent(h.topBlur,"focusout",d)),e[h.topBlur]=!0,e[h.topFocus]=!0):r.hasOwnProperty(m)&&t.ReactEventListener.trapBubbledEvent(m,r[m],d),e[m]=!0)}},trapBubbledEvent:function(a,b,c){return t.ReactEventListener.trapBubbledEvent(a,
b,c)},trapCapturedEvent:function(a,b,c){return t.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){n||(t.ReactEventListener.monitorScrollValue(m.refreshScrollValues),n=!0)},eventNameDispatchConfigs:c.eventNameDispatchConfigs,registrationNameModules:c.registrationNameModules,putListener:c.putListener,getListener:c.getListener,deleteListener:c.deleteListener,deleteAllListeners:c.deleteAllListeners});l.measureMethods(t,"ReactBrowserEventEmitter",{putListener:"putListener",
deleteListener:"deleteListener"});e.exports=t},{117:117,15:15,16:16,17:17,23:23,55:55,69:69,99:99}],27:[function(d,e,c){function b(a,b,c){var d=void 0===a[c];null!=b&&d&&(a[c]=f(b,null))}var a=d(74),f=d(116),l=d(124),m=d(125);d=(d(151),{instantiateChildren:function(a,c,d){if(null==a)return null;c={};return m(a,b,c),c},updateChildren:function(b,c,d,e){if(!c&&!b)return null;for(var m in c)if(c.hasOwnProperty(m)){var r=b&&b[m],q=r&&r._currentElement,t=c[m];null!=r&&l(q,t)?a.receiveComponent(r,t,d,e):
(r&&a.unmountComponent(r,m),r=f(t,null));c[m]=r}for(m in b)!b.hasOwnProperty(m)||c&&c.hasOwnProperty(m)||a.unmountComponent(b[m]);return c},unmountChildren:function(b){for(var c in b)b.hasOwnProperty(c)&&a.unmountComponent(b[c])}});e.exports=d},{116:116,124:124,125:125,151:151,74:74}],28:[function(d,e,c){function b(a,b){this.func=a;this.context=b;this.count=0}function a(a,b,c){a.func.call(a.context,b,a.count++)}function f(a,b,c,d){this.result=a;this.keyPrefix=b;this.func=c;this.context=d;this.count=
0}function l(a,b,c){var d=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?m(a,d,c,p.thatReturnsArgument):null!=a&&(g.isValidElement(a)&&(a=g.cloneAndReplaceKey(a,e+(a!==b?(""+(a.key||"")).replace(r,"//")+"/":"")+c)),d.push(a))}function m(a,b,c,d,e){var g="";null!=c&&(g=(""+c).replace(r,"//")+"/");b=f.getPooled(b,g,d,e);n(a,l,b);f.release(b)}function h(a,b,c){return null}c=d(24);var g=d(50),p=d(134),n=d(125);d=c.twoArgumentPooler;var s=c.fourArgumentPooler,r=/\/(?!\/)/g;
b.prototype.destructor=function(){this.context=this.func=null;this.count=0};c.addPoolingTo(b,d);f.prototype.destructor=function(){this.context=this.func=this.keyPrefix=this.result=null;this.count=0};c.addPoolingTo(f,s);e.exports={forEach:function(c,d,e){if(null==c)return c;d=b.getPooled(d,e);n(c,a,d);b.release(d)},map:function(a,b,c){if(null==a)return a;var d=[];return m(a,d,null,b,c),d},mapIntoWithKeyPrefixInternal:m,count:function(a,b){return n(a,h,null)},toArray:function(a){var b=[];return m(a,
b,null,p.thatReturnsArgument),b}}},{125:125,134:134,24:24,50:50}],29:[function(d,e,c){function b(a,b){if(b){"function"==typeof b?n(!1):void 0;m.isValidElement(b)?n(!1):void 0;var c=a.prototype;b.hasOwnProperty(q)&&v.mixins(a,b.mixins);for(var d in b)if(b.hasOwnProperty(d)&&d!==q){var e=b[d],g=c,h=d,p=w.hasOwnProperty(h)?w[h]:null;x.hasOwnProperty(h)&&(p!==t.OVERRIDE_BASE?n(!1):void 0);g.hasOwnProperty(h)&&(p!==t.DEFINE_MANY&&p!==t.DEFINE_MANY_MERGED?n(!1):void 0);if(v.hasOwnProperty(d))v[d](a,e);
else g=w.hasOwnProperty(d),h=c.hasOwnProperty(d),"function"==typeof e&&!g&&!h&&!1!==b.autobind?(c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[d]=e,c[d]=e):h?(h=w[d],!g||h!==t.DEFINE_MANY_MERGED&&h!==t.DEFINE_MANY?n(!1):void 0,h===t.DEFINE_MANY_MERGED?c[d]=f(c[d],e):h===t.DEFINE_MANY&&(c[d]=l(c[d],e))):c[d]=e}}}function a(a,b){a&&b&&"object"==typeof a&&"object"==typeof b?void 0:n(!1);for(var c in b)b.hasOwnProperty(c)&&(void 0!==a[c]?n(!1):void 0,a[c]=b[c]);return a}function f(b,
c){return function(){var d=b.apply(this,arguments),e=c.apply(this,arguments);if(null==d)return e;if(null==e)return d;var f={};return a(f,d),a(f,e),f}}function l(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}c=d(30);var m=d(50),h=(d(71),d(70),d(67)),g=d(23),p=d(135),n=d(142),s=d(145),r=d(146),q=(d(151),r({mixins:null})),t=s({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),u=[],w={mixins:t.DEFINE_MANY,statics:t.DEFINE_MANY,propTypes:t.DEFINE_MANY,
contextTypes:t.DEFINE_MANY,childContextTypes:t.DEFINE_MANY,getDefaultProps:t.DEFINE_MANY_MERGED,getInitialState:t.DEFINE_MANY_MERGED,getChildContext:t.DEFINE_MANY_MERGED,render:t.DEFINE_ONCE,componentWillMount:t.DEFINE_MANY,componentDidMount:t.DEFINE_MANY,componentWillReceiveProps:t.DEFINE_MANY,shouldComponentUpdate:t.DEFINE_ONCE,componentWillUpdate:t.DEFINE_MANY,componentDidUpdate:t.DEFINE_MANY,componentWillUnmount:t.DEFINE_MANY,updateComponent:t.OVERRIDE_BASE},v={displayName:function(a,b){a.displayName=
b},mixins:function(a,c){if(c)for(var d=0;d<c.length;d++)b(a,c[d])},childContextTypes:function(a,b){a.childContextTypes=g({},a.childContextTypes,b)},contextTypes:function(a,b){a.contextTypes=g({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=f(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){a.propTypes=g({},a.propTypes,b)},statics:function(a,b){if(b)for(var c in b){var d=b[c];b.hasOwnProperty(c)&&(c in v?n(!1):void 0,c in a?n(!1):void 0,a[c]=
d)}},autobind:function(){}},x={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a);b&&this.updater.enqueueCallback(this,b)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(a,b){this.updater.enqueueSetProps(this,a);b&&this.updater.enqueueCallback(this,b)},replaceProps:function(a,b){this.updater.enqueueReplaceProps(this,a);b&&this.updater.enqueueCallback(this,b)}},z=function(){};g(z.prototype,c.prototype,x);e.exports={createClass:function(a){var c=function(a,
b,c){if(this.__reactAutoBindMap)for(var d in this.__reactAutoBindMap)this.__reactAutoBindMap.hasOwnProperty(d)&&(this[d]=this.__reactAutoBindMap[d].bind(this));this.props=a;this.context=b;this.refs=p;this.updater=c||h;this.state=null;a=this.getInitialState?this.getInitialState():null;"object"!=typeof a||Array.isArray(a)?n(!1):void 0;this.state=a};c.prototype=new z;c.prototype.constructor=c;u.forEach(b.bind(null,c));b(c,a);c.getDefaultProps&&(c.defaultProps=c.getDefaultProps());c.prototype.render?
void 0:n(!1);for(var d in w)c.prototype[d]||(c.prototype[d]=null);return c},injection:{injectMixin:function(a){u.push(a)}}}},{135:135,142:142,145:145,146:146,151:151,23:23,30:30,50:50,67:67,70:70,71:71}],30:[function(d,e,c){function b(b,c,d){this.props=b;this.context=c;this.refs=f;this.updater=d||a}var a=d(67),f=(d(102),d(135)),l=d(142);d(151);b.prototype.isReactComponent={};b.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a?l(!1):void 0;this.updater.enqueueSetState(this,
a);b&&this.updater.enqueueCallback(this,b)};b.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this);a&&this.updater.enqueueCallback(this,a)};e.exports=b},{102:102,135:135,142:142,151:151,67:67}],31:[function(d,e,c){c=d(40);var b=d(63);e.exports={processChildrenUpdates:c.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:c.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){b.purgeID(a)}}},{40:40,63:63}],32:[function(d,e,c){var b=d(142),a=!1,f={unmountIDFromEnvironment:null,
replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(c){a?b(!1):void 0;f.unmountIDFromEnvironment=c.unmountIDFromEnvironment;f.replaceNodeWithMarkupByID=c.replaceNodeWithMarkupByID;f.processChildrenUpdates=c.processChildrenUpdates;a=!0}}};e.exports=f},{142:142}],33:[function(d,e,c){function b(a){}var a=d(32),f=d(34),l=d(50),m=d(60);c=d(69);var h=d(71),g=(d(70),d(74)),p=d(80),n=d(23),s=d(135),r=d(142),q=d(124);d(151);b.prototype.render=function(){var a=m.get(this)._currentElement.type;
return a(this.props,this.context,this.updater)};var t=1;d={construct:function(a){this._currentElement=a;this._pendingStateQueue=this._pendingElement=this._instance=this._rootNodeID=null;this._pendingForceUpdate=this._pendingReplaceState=!1;this._context=this._renderedComponent=null;this._mountOrder=0;this._pendingCallbacks=this._topLevelWrapper=null},mountComponent:function(a,c,d){this._context=d;this._mountOrder=t++;this._rootNodeID=a;var e,f,h=this._processProps(this._currentElement.props),n=this._processContext(d),
q=this._currentElement.type,A="prototype"in q;A&&(e=new q(h,n,p));(!A||null===e||!1===e||l.isValidElement(e))&&(f=e,e=new b(q));e.props=h;e.context=n;e.refs=s;e.updater=p;this._instance=e;m.set(e,this);h=e.state;void 0===h&&(e.state=h=null);"object"!=typeof h||Array.isArray(h)?r(!1):void 0;this._pendingStateQueue=null;this._pendingForceUpdate=this._pendingReplaceState=!1;e.componentWillMount&&(e.componentWillMount(),this._pendingStateQueue&&(e.state=this._processPendingState(e.props,e.context)));
void 0===f&&(f=this._renderValidatedComponent());this._renderedComponent=this._instantiateReactComponent(f);a=g.mountComponent(this._renderedComponent,a,c,this._processChildContext(d));return e.componentDidMount&&c.getReactMountReady().enqueue(e.componentDidMount,e),a},unmountComponent:function(){var a=this._instance;a.componentWillUnmount&&a.componentWillUnmount();g.unmountComponent(this._renderedComponent);this._pendingStateQueue=this._instance=this._renderedComponent=null;this._pendingForceUpdate=
this._pendingReplaceState=!1;this._topLevelWrapper=this._rootNodeID=this._context=this._pendingElement=this._pendingCallbacks=null;m.remove(a)},_maskContext:function(a){var b=null,c=this._currentElement.type.contextTypes;if(!c)return s;var b={},d;for(d in c)b[d]=a[d];return b},_processContext:function(a){return this._maskContext(a)},_processChildContext:function(a){var b=this._currentElement.type,c=this._instance;if(c=c.getChildContext&&c.getChildContext()){"object"!=typeof b.childContextTypes?r(!1):
void 0;for(var d in c)d in b.childContextTypes?void 0:r(!1);return n({},a,c)}return a},_processProps:function(a){return a},_checkPropTypes:function(a,b,c){var d=this.getName(),e;for(e in a)if(a.hasOwnProperty(e)){var f;try{"function"!=typeof a[e]?r(!1):void 0,f=a[e](b,e,d,c)}catch(g){f=g}if(f instanceof Error){var l=this._currentElement._owner||null;l&&l.getName();c===h.prop}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null;this.updateComponent(b,
d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&g.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context);(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(a,b,c,d,e){var f;d=this._instance;var g=this._context===e?d.context:this._processContext(e);b===c?f=c.props:(f=this._processProps(c.props),d.componentWillReceiveProps&&
d.componentWillReceiveProps(f,g));b=this._processPendingState(f,g);this._pendingForceUpdate||!d.shouldComponentUpdate||d.shouldComponentUpdate(f,b,g)?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,f,b,g,a,e)):(this._currentElement=c,this._context=e,d.props=f,d.state=b,d.context=g)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];
for(var f=n({},e?d[0]:c.state),e=e?1:0;e<d.length;e++){var g=d[e];n(f,"function"==typeof g?g.call(c,f,a,b):g)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g,h,l,m=this._instance,p=Boolean(m.componentDidUpdate);p&&(g=m.props,h=m.state,l=m.context);m.componentWillUpdate&&m.componentWillUpdate(b,c,d);this._currentElement=a;this._context=f;m.props=b;m.state=c;m.context=d;this._updateRenderedComponent(e,f);p&&e.getReactMountReady().enqueue(m.componentDidUpdate.bind(m,g,h,l),m)},_updateRenderedComponent:function(a,
b){var c=this._renderedComponent,d=c._currentElement,e=this._renderValidatedComponent();if(q(d,e))g.receiveComponent(c,e,a,this._processChildContext(b));else{var f=this._rootNodeID,d=c._rootNodeID;g.unmountComponent(c);this._renderedComponent=this._instantiateReactComponent(e);c=g.mountComponent(this._renderedComponent,f,a,this._processChildContext(b));this._replaceNodeWithMarkupByID(d,c)}},_replaceNodeWithMarkupByID:function(b,c){a.replaceNodeWithMarkupByID(b,c)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},
_renderValidatedComponent:function(){var a;f.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{f.current=null}return null===a||!1===a||l.isValidElement(a)?void 0:r(!1),a},attachRef:function(a,b){var c=this.getPublicInstance();null==c?r(!1):void 0;var d=b.getPublicInstance();(c.refs===s?c.refs={}:c.refs)[a]=d},detachRef:function(a){delete this.getPublicInstance().refs[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;
return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof b?null:a},_instantiateReactComponent:null};c.measureMethods(d,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});e.exports={Mixin:d}},{124:124,135:135,142:142,151:151,23:23,32:32,34:34,50:50,60:60,69:69,70:70,71:71,74:74,80:80}],34:[function(d,e,c){e.exports={current:null}},
{}],35:[function(d,e,c){c=d(34);var b=d(46),a=d(49),f=d(59),l=d(63),m=d(69),h=d(74),g=d(81),p=d(82),n=d(106),s=d(121);d(151);a.inject();d=m.measure("React","render",l.render);d={findDOMNode:n,render:d,unmountComponentAtNode:l.unmountComponentAtNode,version:p,unstable_batchedUpdates:g.batchedUpdates,unstable_renderSubtreeIntoContainer:s};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:c,
InstanceHandles:f,Mount:l,Reconciler:h,TextComponent:b});e.exports=d},{106:106,121:121,151:151,34:34,46:46,49:49,59:59,63:63,69:69,74:74,81:81,82:82}],36:[function(d,e,c){var b={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0};e.exports={getNativeProps:function(a,c,d){if(!c.disabled)return c;a={};for(var e in c)c.hasOwnProperty(e)&&!b[e]&&(a[e]=c[e]);return a}}},{}],37:[function(d,
e,c){function b(){return this}function a(){return!!this._reactInternalComponent}function f(){}function l(a,b){var c=this._reactInternalComponent;c&&(M.enqueueSetPropsInternal(c,a),b&&M.enqueueCallbackInternal(c,b))}function m(a,b){var c=this._reactInternalComponent;c&&(M.enqueueReplacePropsInternal(c,a),b&&M.enqueueCallbackInternal(c,b))}function h(a,b){b&&(null!=b.dangerouslySetInnerHTML&&(null!=b.children?H(!1):void 0,"object"==typeof b.dangerouslySetInnerHTML&&$ in b.dangerouslySetInnerHTML?void 0:
H(!1)),null!=b.style&&"object"!=typeof b.style?H(!1):void 0)}function g(a,b,c,d){var e=G.findReactContainerForID(a);e&&Z(b,e.nodeType===U?e.ownerDocument:e);d.getReactMountReady().enqueue(p,{id:a,registrationName:b,listener:c})}function p(){z.putListener(this.id,this.registrationName,this.listener)}function n(){this._rootNodeID?void 0:H(!1);var a=G.getNode(this._rootNodeID);switch(a?void 0:H(!1),this._tag){case "iframe":this._wrapperState.listeners=[z.trapBubbledEvent(x.topLevelTypes.topLoad,"load",
a)];break;case "video":case "audio":this._wrapperState.listeners=[];for(var b in aa)aa.hasOwnProperty(b)&&this._wrapperState.listeners.push(z.trapBubbledEvent(x.topLevelTypes[b],aa[b],a));break;case "img":this._wrapperState.listeners=[z.trapBubbledEvent(x.topLevelTypes.topError,"error",a),z.trapBubbledEvent(x.topLevelTypes.topLoad,"load",a)];break;case "form":this._wrapperState.listeners=[z.trapBubbledEvent(x.topLevelTypes.topReset,"reset",a),z.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",
a)]}}function s(){C.mountReadyWrapper(this)}function r(){D.postUpdateWrapper(this)}function q(a){ca.call(L,a)||(ba.test(a)?void 0:H(!1),L[a]=!0);this._tag=a.toLowerCase();this._nodeWithLegacyProperties=this._topLevelWrapper=this._wrapperState=this._rootNodeID=this._previousStyleCopy=this._previousStyle=this._renderedChildren=null}var t=d(2),u=d(5),w=d(10),v=d(11),x=d(15),z=d(26),y=d(31),B=d(36),C=d(41),A=d(42),D=d(43),F=d(47),G=d(63);c=d(64);var I=d(69),M=d(80),K=d(23),J=d(102),E=d(105),H=d(142),
S=(d(117),d(146)),O=d(122),N=d(123),Q=(d(149),d(126),d(151),z.deleteListener),Z=z.listenTo,R=z.registrationNameModules,P={string:!0,number:!0},Y=S({children:null}),W=S({style:null}),$=S({__html:null}),U=1,aa={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",
topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},V={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},ba=(K({menuitem:!0},V),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),L={},ca={}.hasOwnProperty;q.displayName=
"ReactDOMComponent";q.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a;a=this._currentElement.props;switch(this._tag){case "iframe":case "img":case "form":case "video":case "audio":this._wrapperState={listeners:null};b.getReactMountReady().enqueue(n,this);break;case "button":a=B.getNativeProps(this,a,c);break;case "input":C.mountWrapper(this,a,c);a=C.getNativeProps(this,a,c);break;case "option":A.mountWrapper(this,a,c);a=A.getNativeProps(this,
a,c);break;case "select":D.mountWrapper(this,a,c);a=D.getNativeProps(this,a,c);c=D.processChildContext(this,a,c);break;case "textarea":F.mountWrapper(this,a,c),a=F.getNativeProps(this,a,c)}h(this,a);if(b.useCreateElement){var d=c[G.ownerDocumentContextKey].createElement(this._currentElement.type);v.setAttributeForID(d,this._rootNodeID);G.getID(d);this._updateDOMProperties({},a,b,d);this._createInitialChildren(b,a,c,d);c=d}else d=this._createOpenTagMarkupAndPutListeners(b,a),c=this._createContentMarkup(b,
a,c),c=!c&&V[this._tag]?d+"/\x3e":d+"\x3e"+c+"\x3c/"+this._currentElement.type+"\x3e";switch(this._tag){case "input":b.getReactMountReady().enqueue(s,this);case "button":case "select":case "textarea":a.autoFocus&&b.getReactMountReady().enqueue(t.focusDOMComponent,this)}return c},_createOpenTagMarkupAndPutListeners:function(a,b){var c="\x3c"+this._currentElement.type,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];if(null!=e)if(R.hasOwnProperty(d))e&&g(this._rootNodeID,d,e,a);else{d===W&&(e&&(e=this._previousStyleCopy=
K({},b.style)),e=u.createMarkupForStyles(e));var f=null;null!=this._tag&&(0<=this._tag.indexOf("-")||null!=b.is)?d!==Y&&(f=v.createMarkupForCustomAttribute(d,e)):f=v.createMarkupForProperty(d,e);f&&(c+=" "+f)}}if(a.renderToStaticMarkup)return c;d=v.createMarkupForID(this._rootNodeID);return c+" "+d},_createContentMarkup:function(a,b,c){var d="",e=b.dangerouslySetInnerHTML;null!=e?null!=e.__html&&(d=e.__html):(e=P[typeof b.children]?b.children:null,b=null!=e?null:b.children,null!=e?d=E(e):null!=b&&
(d=this.mountChildren(b,a,c).join("")));return X[this._tag]&&"\n"===d.charAt(0)?"\n"+d:d},_createInitialChildren:function(a,b,c,d){var e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&O(d,e.__html);else if(e=P[typeof b.children]?b.children:null,b=null!=e?null:b.children,null!=e)N(d,e);else if(null!=b){a=this.mountChildren(b,a,c);for(c=0;c<a.length;c++)d.appendChild(a[c])}},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a;this.updateComponent(b,d,a,c)},updateComponent:function(a,
b,c,d){b=b.props;c=this._currentElement.props;switch(this._tag){case "button":b=B.getNativeProps(this,b);c=B.getNativeProps(this,c);break;case "input":C.updateWrapper(this);b=C.getNativeProps(this,b);c=C.getNativeProps(this,c);break;case "option":b=A.getNativeProps(this,b);c=A.getNativeProps(this,c);break;case "select":b=D.getNativeProps(this,b);c=D.getNativeProps(this,c);break;case "textarea":F.updateWrapper(this),b=F.getNativeProps(this,b),c=F.getNativeProps(this,c)}h(this,c);this._updateDOMProperties(b,
c,a,null);this._updateDOMChildren(b,c,a,d);!J&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=c);"select"===this._tag&&a.getReactMountReady().enqueue(r,this)},_updateDOMProperties:function(a,b,c,d){var e,f,h;for(e in a)if(!b.hasOwnProperty(e)&&a.hasOwnProperty(e))if(e===W){var l=this._previousStyleCopy;for(f in l)l.hasOwnProperty(f)&&(h=h||{},h[f]="");this._previousStyleCopy=null}else R.hasOwnProperty(e)?a[e]&&Q(this._rootNodeID,e):(w.properties[e]||w.isCustomAttribute(e))&&
(d||(d=G.getNode(this._rootNodeID)),v.deleteValueForProperty(d,e));for(e in b){var l=b[e],m=e===W?this._previousStyleCopy:a[e];if(b.hasOwnProperty(e)&&l!==m)if(e===W)if(l?l=this._previousStyleCopy=K({},l):this._previousStyleCopy=null,m){for(f in m)!m.hasOwnProperty(f)||l&&l.hasOwnProperty(f)||(h=h||{},h[f]="");for(f in l)l.hasOwnProperty(f)&&m[f]!==l[f]&&(h=h||{},h[f]=l[f])}else h=l;else R.hasOwnProperty(e)?l?g(this._rootNodeID,e,l,c):m&&Q(this._rootNodeID,e):0<=this._tag.indexOf("-")||null!=b.is?
(d||(d=G.getNode(this._rootNodeID)),e===Y&&(l=null),v.setValueForAttribute(d,e,l)):(w.properties[e]||w.isCustomAttribute(e))&&(d||(d=G.getNode(this._rootNodeID)),null!=l?v.setValueForProperty(d,e,l):v.deleteValueForProperty(d,e))}h&&(d||(d=G.getNode(this._rootNodeID)),u.setValueForStyles(d,h))},_updateDOMChildren:function(a,b,c,d){var e=P[typeof a.children]?a.children:null,f=P[typeof b.children]?b.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=b.dangerouslySetInnerHTML&&
b.dangerouslySetInnerHTML.__html;b=null!=f?null:b.children;var l=null!=e||null!=g,m=null!=f||null!=h;null!=(null!=e?null:a.children)&&null==b?this.updateChildren(null,c,d):l&&!m&&this.updateTextContent("");null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&this.updateMarkup(""+h):null!=b&&this.updateChildren(b,c,d)},unmountComponent:function(){switch(this._tag){case "iframe":case "img":case "form":case "video":case "audio":var a=this._wrapperState.listeners;if(a)for(var b=0;b<a.length;b++)a[b].remove();
break;case "input":C.unmountWrapper(this);break;case "html":case "head":case "body":H(!1)}if(this.unmountChildren(),z.deleteAllListeners(this._rootNodeID),y.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties)this._nodeWithLegacyProperties=this._nodeWithLegacyProperties._reactInternalComponent=null},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var c=G.getNode(this._rootNodeID);c._reactInternalComponent=this;c.getDOMNode=
b;c.isMounted=a;c.setState=f;c.replaceState=f;c.forceUpdate=f;c.setProps=l;c.replaceProps=m;c.props=this._currentElement.props;this._nodeWithLegacyProperties=c}return this._nodeWithLegacyProperties}};I.measureMethods(q,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"});K(q.prototype,q.Mixin,c.Mixin);e.exports=q},{10:10,102:102,105:105,11:11,117:117,122:122,123:123,126:126,142:142,146:146,149:149,15:15,151:151,2:2,23:23,26:26,31:31,36:36,41:41,42:42,43:43,47:47,
5:5,63:63,64:64,69:69,80:80}],38:[function(d,e,c){var b=d(50);d=(d(51),d(147))({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",
fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",
output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",
clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},function(a){return b.createFactory(a)});e.exports=d},{147:147,50:50,51:51}],39:[function(d,e,c){e.exports={useCreateElement:!1}},{}],40:[function(d,e,c){var b=d(9),a=d(11),f=d(63);c=d(69);var l=d(142),m={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
style:"`style` must be set using `updateStylesByID()`."};d={updatePropertyByID:function(b,c,d){b=f.getNode(b);m.hasOwnProperty(c)?l(!1):void 0;null!=d?a.setValueForProperty(b,c,d):a.deleteValueForProperty(b,c)},dangerouslyReplaceNodeWithMarkupByID:function(a,c){var d=f.getNode(a);b.dangerouslyReplaceNodeWithMarkup(d,c)},dangerouslyProcessChildrenUpdates:function(a,c){for(var d=0;d<a.length;d++)a[d].parentNode=f.getNode(a[d].parentID);b.processUpdates(a,c)}};c.measureMethods(d,"ReactDOMIDOperations",
{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"});e.exports=d},{11:11,142:142,63:63,69:69,9:9}],41:[function(d,e,c){function b(){this._rootNodeID&&s.updateWrapper(this)}function a(a){var c=this._currentElement.props;a=l.executeOnChange(c,a);h.asap(b,this);var d=c.name;if("radio"===c.type&&null!=d){for(var e=c=m.getNode(this._rootNodeID);e.parentNode;)e=e.parentNode;d=e.querySelectorAll("input[name\x3d"+
JSON.stringify(""+d)+'][type\x3d"radio"]');for(e=0;e<d.length;e++){var f=d[e];f!==c&&f.form===c.form&&((f=m.getID(f))?void 0:p(!1),(f=n[f])?void 0:p(!1),h.asap(b,f))}}return a}var f=d(40),l=d(22),m=d(63),h=d(81),g=d(23),p=d(142),n={},s={getNativeProps:function(a,b,c){c=l.getValue(b);var d=l.getChecked(b);return g({},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=c?c:a._wrapperState.initialValue,checked:null!=d?d:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange})},mountWrapper:function(b,
c){var d=c.defaultValue;b._wrapperState={initialChecked:c.defaultChecked||!1,initialValue:null!=d?d:null,onChange:a.bind(b)}},mountReadyWrapper:function(a){n[a._rootNodeID]=a},unmountWrapper:function(a){delete n[a._rootNodeID]},updateWrapper:function(a){var b=a._currentElement.props,c=b.checked;null!=c&&f.updatePropertyByID(a._rootNodeID,"checked",c||!1);b=l.getValue(b);null!=b&&f.updatePropertyByID(a._rootNodeID,"value",""+b)}};e.exports=s},{142:142,22:22,23:23,40:40,63:63,81:81}],42:[function(d,
e,c){var b=d(28);c=d(43);var a=d(23),f=(d(151),c.valueContextKey);e.exports={mountWrapper:function(a,b,c){c=c[f];var d=null;if(null!=c)if(d=!1,Array.isArray(c))for(var e=0;e<c.length;e++){if(""+c[e]==""+b.value){d=!0;break}}else d=""+c==""+b.value;a._wrapperState={selected:d}},getNativeProps:function(c,d,e){e=a({selected:void 0,children:void 0},d);null!=c._wrapperState.selected&&(e.selected=c._wrapperState.selected);var f="";return b.forEach(d.children,function(a){null!=a&&("string"==typeof a||"number"==
typeof a)&&(f+=a)}),f&&(e.children=f),e}}},{151:151,23:23,28:28,43:43}],43:[function(d,e,c){function b(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var b=this._currentElement.props,c=l.getValue(b);null!=c&&a(this,Boolean(b.multiple),c)}}function a(a,b,c){var d;a=m.getNode(a._rootNodeID).options;if(b){b={};for(d=0;d<c.length;d++)b[""+c[d]]=!0;for(d=0;d<a.length;d++)c=b.hasOwnProperty(a[d].value),a[d].selected!==c&&(a[d].selected=c)}else{b=""+c;for(d=
0;d<a.length;d++)if(a[d].value===b)return void(a[d].selected=!0);a.length&&(a[0].selected=!0)}}function f(a){a=l.executeOnChange(this._currentElement.props,a);return this._wrapperState.pendingUpdate=!0,h.asap(b,this),a}var l=d(22),m=d(63),h=d(81),g=d(23),p=(d(151),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2));e.exports={valueContextKey:p,getNativeProps:function(a,b,c){return g({},b,{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(a,b){var c=l.getValue(b);a._wrapperState=
{pendingUpdate:!1,initialValue:null!=c?c:b.defaultValue,onChange:f.bind(a),wasMultiple:Boolean(b.multiple)}},processChildContext:function(a,b,c){b=g({},c);return b[p]=a._wrapperState.initialValue,b},postUpdateWrapper:function(b){var c=b._currentElement.props;b._wrapperState.initialValue=void 0;var d=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=Boolean(c.multiple);var e=l.getValue(c);null!=e?(b._wrapperState.pendingUpdate=!1,a(b,Boolean(c.multiple),e)):d!==Boolean(c.multiple)&&(null!=c.defaultValue?
a(b,Boolean(c.multiple),c.defaultValue):a(b,Boolean(c.multiple),c.multiple?[]:""))}}},{151:151,22:22,23:23,63:63,81:81}],44:[function(d,e,c){function b(a){var b=document.selection.createRange(),c=b.text.length,d=b.duplicate();d.moveToElementText(a);d.setEndPoint("EndToStart",b);a=d.text.length;return{start:a,end:a+c}}function a(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,h=b.getRangeAt(0);
try{h.startContainer.nodeType,h.endContainer.nodeType}catch(l){return null}var b=b.anchorNode===b.focusNode&&b.anchorOffset===b.focusOffset?0:h.toString().length,m=h.cloneRange();m.selectNodeContents(a);m.setEnd(h.startContainer,h.startOffset);a=m.startContainer===m.endContainer&&m.startOffset===m.endOffset?0:m.toString().length;h=a+b;b=document.createRange();b.setStart(c,d);b.setEnd(e,f);c=b.collapsed;return{start:c?h:a,end:c?a:h}}function f(a,b){var c,d,e=document.selection.createRange().duplicate();
"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end);e.moveToElementText(a);e.moveStart("character",c);e.setEndPoint("EndToStart",e);e.moveEnd("character",d-c);e.select()}function l(a,b){if(window.getSelection){var c=window.getSelection(),d=a[h()].length,e=Math.min(b.start,d),d="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>d)var f=d,d=e,e=f;var f=m(a,e),l=m(a,d);if(f&&l){var u=document.createRange();u.setStart(f.node,f.offset);c.removeAllRanges();
e>d?(c.addRange(u),c.extend(l.node,l.offset)):(u.setEnd(l.node,l.offset),c.addRange(u))}}}c=d(128);var m=d(114),h=d(115);d=c.canUseDOM&&"selection"in document&&!("getSelection"in window);e.exports={getOffsets:d?b:a,setOffsets:d?f:l}},{114:114,115:115,128:128}],45:[function(d,e,c){c=d(49);var b=d(78);d=d(82);c.inject();e.exports={renderToString:b.renderToString,renderToStaticMarkup:b.renderToStaticMarkup,version:d}},{49:49,78:78,82:82}],46:[function(d,e,c){var b=d(9),a=d(11),f=d(31),l=d(63);c=d(23);
var m=d(105),h=d(123);d=(d(126),function(a){});c(d.prototype,{construct:function(a){this._currentElement=a;this._stringText=""+a;this._rootNodeID=null;this._mountIndex=0},mountComponent:function(b,c,d){if(this._rootNodeID=b,c.useCreateElement)return c=d[l.ownerDocumentContextKey].createElement("span"),a.setAttributeForID(c,b),l.getID(c),h(c,this._stringText),c;d=m(this._stringText);return c.renderToStaticMarkup?d:"\x3cspan "+a.createMarkupForID(b)+"\x3e"+d+"\x3c/span\x3e"},receiveComponent:function(a,
c){if(a!==this._currentElement){this._currentElement=a;var d=""+a;if(d!==this._stringText){this._stringText=d;var e=l.getNode(this._rootNodeID);b.updateTextContent(e,d)}}},unmountComponent:function(){f.unmountIDFromEnvironment(this._rootNodeID)}});e.exports=d},{105:105,11:11,123:123,126:126,23:23,31:31,63:63,9:9}],47:[function(d,e,c){function b(){this._rootNodeID&&p.updateWrapper(this)}function a(a){a=f.executeOnChange(this._currentElement.props,a);return m.asap(b,this),a}var f=d(22),l=d(40),m=d(81),
h=d(23),g=d(142),p=(d(151),{getNativeProps:function(a,b,c){null!=b.dangerouslySetInnerHTML?g(!1):void 0;return h({},b,{defaultValue:void 0,value:void 0,children:a._wrapperState.initialValue,onChange:a._wrapperState.onChange})},mountWrapper:function(b,c){var d=c.defaultValue,e=c.children;null!=e&&(null!=d?g(!1):void 0,Array.isArray(e)&&(1>=e.length?void 0:g(!1),e=e[0]),d=""+e);null==d&&(d="");e=f.getValue(c);b._wrapperState={initialValue:""+(null!=e?e:d),onChange:a.bind(b)}},updateWrapper:function(a){var b=
f.getValue(a._currentElement.props);null!=b&&l.updatePropertyByID(a._rootNodeID,"value",""+b)}});e.exports=p},{142:142,151:151,22:22,23:23,40:40,81:81}],48:[function(d,e,c){function b(){this.reinitializeTransaction()}c=d(81);var a=d(98),f=d(23);d=d(134);var l={initialize:d,close:function(){g.isBatchingUpdates=!1}},m=[{initialize:d,close:c.flushBatchedUpdates.bind(c)},l];f(b.prototype,a.Mixin,{getTransactionWrappers:function(){return m}});var h=new b,g={isBatchingUpdates:!1,batchedUpdates:function(a,
b,c,d,e,f){var l=g.isBatchingUpdates;g.isBatchingUpdates=!0;l?a(b,c,d,e,f):h.perform(a,null,b,c,d,e,f)}};e.exports=g},{134:134,23:23,81:81,98:98}],49:[function(d,e,c){var b=d(3),a=d(7),f=d(8),l=d(13),m=d(14),h=d(128),g=d(21),p=d(25),n=d(31),s=d(48),r=d(37),q=d(46),t=d(56),u=d(57),w=d(59),v=d(63),x=d(73),z=d(84),y=d(85),B=d(86),C=d(83),A=!1;e.exports={inject:function(){A||(A=!0,u.EventEmitter.injectReactEventListener(t),u.EventPluginHub.injectEventPluginOrder(l),u.EventPluginHub.injectInstanceHandle(w),
u.EventPluginHub.injectMount(v),u.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:B,EnterLeaveEventPlugin:m,ChangeEventPlugin:a,SelectEventPlugin:z,BeforeInputEventPlugin:b}),u.NativeComponent.injectGenericComponentClass(r),u.NativeComponent.injectTextComponentClass(q),u.Class.injectMixin(p),u.DOMProperty.injectDOMPropertyConfig(g),u.DOMProperty.injectDOMPropertyConfig(C),u.EmptyComponent.injectEmptyComponent("noscript"),u.Updates.injectReconcileTransaction(x),u.Updates.injectBatchingStrategy(s),
u.RootIndex.injectCreateReactRootIndex(h.canUseDOM?f.createReactRootIndex:y.createReactRootIndex),u.Component.injectEnvironment(n))}}},{128:128,13:13,14:14,21:21,25:25,3:3,31:31,37:37,46:46,48:48,56:56,57:57,59:59,63:63,7:7,73:73,8:8,83:83,84:84,85:85,86:86}],50:[function(d,e,c){var b=d(34),a=d(23),f=(d(102),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),l={key:!0,ref:!0,__self:!0,__source:!0},m=function(a,b,c,d,e,l,m){return{$$typeof:f,type:a,key:b,ref:c,props:m,
_owner:l}};m.createElement=function(a,c,d){var e,f={},r=null,q=null,t=null,u=null;if(null!=c)for(e in q=void 0===c.ref?null:c.ref,r=void 0===c.key?null:""+c.key,t=void 0===c.__self?null:c.__self,u=void 0===c.__source?null:c.__source,c)c.hasOwnProperty(e)&&!l.hasOwnProperty(e)&&(f[e]=c[e]);var w=arguments.length-2;if(1===w)f.children=d;else if(1<w){for(var v=Array(w),x=0;w>x;x++)v[x]=arguments[x+2];f.children=v}if(a&&a.defaultProps)for(e in w=a.defaultProps,w)"undefined"==typeof f[e]&&(f[e]=w[e]);
return m(a,r,q,t,u,b.current,f)};m.createFactory=function(a){var b=m.createElement.bind(null,a);return b.type=a,b};m.cloneAndReplaceKey=function(a,b){return m(a.type,b,a.ref,a._self,a._source,a._owner,a.props)};m.cloneAndReplaceProps=function(a,b){return m(a.type,a.key,a.ref,a._self,a._source,a._owner,b)};m.cloneElement=function(c,d,e){var f,s=a({},c.props),r=c.key,q=c.ref,t=c._self,u=c._source,w=c._owner;if(null!=d)for(f in void 0!==d.ref&&(q=d.ref,w=b.current),void 0!==d.key&&(r=""+d.key),d)d.hasOwnProperty(f)&&
!l.hasOwnProperty(f)&&(s[f]=d[f]);f=arguments.length-2;if(1===f)s.children=e;else if(1<f){for(var v=Array(f),x=0;f>x;x++)v[x]=arguments[x+2];s.children=v}return m(c.type,r,q,t,u,w,s)};m.isValidElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===f};e.exports=m},{102:102,23:23,34:34}],51:[function(d,e,c){function b(){if(g.current){var a=g.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function a(a,c){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=
!0;var d=b();if(!d){var e="string"==typeof c?c:c.displayName||c.name;e&&(d=" Check the top-level render call using \x3c"+e+"\x3e.")}e=s.uniqueKey||(s.uniqueKey={});e[d]||(e[d]=!0,a&&a._owner&&a._owner!==g.current&&a._owner.getName())}}function f(b,c){if("object"==typeof b)if(Array.isArray(b))for(var d=0;d<b.length;d++){var e=b[d];m.isValidElement(e)&&a(e,c)}else if(m.isValidElement(b))b._store&&(b._store.validated=!0);else if(b&&(d=p(b))&&d!==b.entries)for(e=d.call(b);!(d=e.next()).done;)m.isValidElement(d.value)&&
a(d.value,c)}function l(a){var c=a.type;if("function"==typeof c){var d=c.displayName||c.name;if(c.propTypes){var e=c.propTypes;a=a.props;var f=h.prop,g;for(g in e)if(e.hasOwnProperty(g)){var l;try{"function"!=typeof e[g]?n(!1):void 0,l=e[g](a,g,d,f)}catch(m){l=m}l instanceof Error&&!(l.message in r)&&(r[l.message]=!0,b())}}"function"==typeof c.getDefaultProps}}var m=d(50),h=d(71),g=(d(70),d(34)),p=(d(102),d(113)),n=d(142),s=(d(151),{}),r={},q={createElement:function(a,b,c){var d="string"==typeof a||
"function"==typeof a,e=m.createElement.apply(this,arguments);if(null==e)return e;if(d)for(d=2;d<arguments.length;d++)f(arguments[d],a);return l(e),e},createFactory:function(a){var b=q.createElement.bind(null,a);return b.type=a,b},cloneElement:function(a,b,c){for(var d=m.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)f(arguments[e],d.type);return l(d),d}};e.exports=q},{102:102,113:113,142:142,151:151,34:34,50:50,70:70,71:71}],52:[function(d,e,c){var b,a=d(50),f=d(53),l=d(74);c=function(a){this._rootNodeID=
this._currentElement=null;this._renderedComponent=a(b)};d(23)(c.prototype,{construct:function(a){},mountComponent:function(a,b,c){return f.registerNullComponentID(a),this._rootNodeID=a,l.mountComponent(this._renderedComponent,a,b,c)},receiveComponent:function(){},unmountComponent:function(a,b,c){l.unmountComponent(this._renderedComponent);f.deregisterNullComponentID(this._rootNodeID);this._renderedComponent=this._rootNodeID=null}});c.injection={injectEmptyComponent:function(c){b=a.createElement(c)}};
e.exports=c},{23:23,50:50,53:53,74:74}],53:[function(d,e,c){var b={};e.exports={isNullComponentID:function(a){return!!b[a]},registerNullComponentID:function(a){b[a]=!0},deregisterNullComponentID:function(a){delete b[a]}}},{}],54:[function(d,e,c){function b(b,c,d,e){try{return c(d,e)}catch(g){return void(null===a&&(a=g))}}var a=null;e.exports={invokeGuardedCallback:b,invokeGuardedCallbackWithCatch:b,rethrowCaughtError:function(){if(a){var b=a;throw a=null,b;}}}},{}],55:[function(d,e,c){var b=d(16);
e.exports={handleTopLevel:function(a,c,d,e,h){a=b.extractEvents(a,c,d,e,h);b.enqueueEvents(a);b.processEventQueue(!1)}}},{16:16}],56:[function(d,e,c){function b(a,b){this.topLevelType=a;this.nativeEvent=b;this.ancestors=[]}function a(a){for(var b=g.getFirstReactDOM(s(a.nativeEvent))||window;b;)a.ancestors.push(b),b=g.getID(b),b=h.getReactRootIDFromNodeID(b),b=g.findReactContainerForID(b),b=g.getFirstReactDOM(b);for(var c=0;c<a.ancestors.length;c++){var b=a.ancestors[c],d=g.getID(b)||"";q._handleTopLevel(a.topLevelType,
b,d,a.nativeEvent,s(a.nativeEvent))}}function f(a){var b=r(window);a(b)}var l=d(127);c=d(128);var m=d(24),h=d(59),g=d(63),p=d(81),n=d(23),s=d(112),r=d(139);n(b.prototype,{destructor:function(){this.nativeEvent=this.topLevelType=null;this.ancestors.length=0}});m.addPoolingTo(b,m.twoArgumentPooler);var q={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(a){q._handleTopLevel=a},setEnabled:function(a){q._enabled=!!a},isEnabled:function(){return q._enabled},
trapBubbledEvent:function(a,b,c){return c?l.listen(c,b,q.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){return c?l.capture(c,b,q.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){a=f.bind(null,a);l.listen(window,"scroll",a)},dispatchEvent:function(c,d){if(q._enabled){var e=b.getPooled(c,d);try{p.batchedUpdates(a,e)}finally{b.release(e)}}}};e.exports=q},{112:112,127:127,128:128,139:139,23:23,24:24,59:59,63:63,81:81}],57:[function(d,e,c){c=d(10);var b=d(16),a=d(32),
f=d(29),l=d(52),m=d(26),h=d(66),g=d(69),p=d(76);d=d(81);e.exports={Component:a.injection,Class:f.injection,DOMProperty:c.injection,EmptyComponent:l.injection,EventPluginHub:b.injection,EventEmitter:m.injection,NativeComponent:h.injection,Perf:g.injection,RootIndex:p.injection,Updates:d.injection}},{10:10,16:16,26:26,29:29,32:32,52:52,66:66,69:69,76:76,81:81}],58:[function(d,e,c){var b=d(44),a=d(131),f=d(136),l=d(137),m={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();
return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},getSelectionInformation:function(){var a=l();return{focusedElem:a,selectionRange:m.hasSelectionCapabilities(a)?m.getSelection(a):null}},restoreSelection:function(b){var c=l(),d=b.focusedElem;b=b.selectionRange;c!==d&&a(document.documentElement,d)&&(m.hasSelectionCapabilities(d)&&m.setSelection(d,b),f(d))},getSelection:function(a){var c;if("selectionStart"in a)c={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&
a.nodeName&&"input"===a.nodeName.toLowerCase()){var d=document.selection.createRange();d.parentElement()===a&&(c={start:-d.moveStart("character",-a.value.length),end:-d.moveEnd("character",-a.value.length)})}else c=b.getOffsets(a);return c||{start:0,end:0}},setSelection:function(a,c){var d=c.start,e=c.end;if("undefined"==typeof e&&(e=d),"selectionStart"in a)a.selectionStart=d,a.selectionEnd=Math.min(e,a.value.length);else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var f=
a.createTextRange();f.collapse(!0);f.moveStart("character",d);f.moveEnd("character",e-d);f.select()}else b.setOffsets(a,c)}};e.exports=m},{131:131,136:136,137:137,44:44}],59:[function(d,e,c){function b(a,b){return a.charAt(b)===s||b===a.length}function a(a){return""===a||a.charAt(0)===s&&a.charAt(a.length-1)!==s}function f(a,c){return 0===c.indexOf(a)&&b(c,a.length)}function l(a){return a?a.substr(0,a.lastIndexOf(s)):""}function m(c,d){if(a(c)&&a(d)?void 0:n(!1),f(c,d)?void 0:n(!1),c===d)return c;
var e;for(e=c.length+r;e<d.length&&!b(d,e);e++);return d.substr(0,e)}function h(c,d){var e=Math.min(c.length,d.length);if(0===e)return"";for(var f=0,g=0;e>=g;g++)if(b(c,g)&&b(d,g))f=g;else if(c.charAt(g)!==d.charAt(g))break;e=c.substr(0,f);return a(e)?void 0:n(!1),e}function g(a,b,c,d,e,g){a=a||"";b=b||"";a===b?n(!1):void 0;var h=f(b,a);h||f(a,b)?void 0:n(!1);for(var p=0,r=h?l:m,s=a;;s=r(s,b)){var D;if(e&&s===a||g&&s===b||(D=c(s,h,d)),!1===D||s===b)break;p++<q?void 0:n(!1)}}var p=d(76),n=d(142),s=
".",r=s.length,q=1E4;e.exports={createReactRootID:function(){var a=p.createReactRootIndex();return s+a.toString(36)},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===s&&1<a.length){var b=a.indexOf(s,1);return-1<b?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=h(a,b);f!==a&&g(a,f,c,d,!1,!0);f!==b&&g(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(g("",a,b,c,!0,!1),g(a,"",b,c,!1,!0))},traverseTwoPhaseSkipTarget:function(a,
b,c){a&&(g("",a,b,c,!0,!0),g(a,"",b,c,!0,!0))},traverseAncestors:function(a,b,c){g("",a,b,c,!0,!1)},getFirstCommonAncestorID:h,_getNextDescendantID:m,isAncestorIDOf:f,SEPARATOR:s}},{142:142,76:76}],60:[function(d,e,c){e.exports={remove:function(b){b._reactInternalInstance=void 0},get:function(b){return b._reactInternalInstance},has:function(b){return void 0!==b._reactInternalInstance},set:function(b,a){b._reactInternalInstance=a}}},{}],61:[function(d,e,c){c=d(28);var b=d(30),a=d(29),f=d(38),l=d(50),
m=(d(51),d(72)),h=d(82),g=d(23);d=d(119);e.exports={Children:{map:c.map,forEach:c.forEach,count:c.count,toArray:c.toArray,only:d},Component:b,createElement:l.createElement,cloneElement:l.cloneElement,isValidElement:l.isValidElement,PropTypes:m,createClass:a.createClass,createFactory:l.createFactory,createMixin:function(a){return a},DOM:f,version:h,__spread:g}},{119:119,23:23,28:28,29:29,30:30,38:38,50:50,51:51,72:72,82:82}],62:[function(d,e,c){var b=d(101),a=/\/?>/,f={CHECKSUM_ATTR_NAME:"data-react-checksum",
addChecksumToMarkup:function(c){var d=b(c);return c.replace(a," "+f.CHECKSUM_ATTR_NAME+'\x3d"'+d+'"$\x26')},canReuseMarkup:function(a,c){var d=c.getAttribute(f.CHECKSUM_ATTR_NAME),d=d&&parseInt(d,10);return b(a)===d}};e.exports=f},{101:101}],63:[function(d,e,c){function b(a){return a?a.nodeType===H?a.documentElement:a.firstChild:null}function a(a){return(a=b(a))&&P.getID(a)}function f(a){return a&&a.getAttribute&&a.getAttribute(J)||""}function l(a,b){if(a){f(a)!==b?I(!1):void 0;var c=P.findReactContainerForID(b);
if(c&&F(c,a))return!0}return!1}function m(a){var b=E[a];return b&&l(b,a)?void(Z=b):!1}function h(a,b,c,d,e,f){q.useCreateElement&&(f=A({},f),c.nodeType===H?f[S]=c:f[S]=c.ownerDocument);b=y.mountComponent(a,b,d,f);a._renderedComponent._topLevelWrapper=a;P._mountImageIntoNode(b,c,e,d)}function g(a,b,c,d,e){var f=C.ReactReconcileTransaction.getPooled(d);f.perform(h,null,a,b,c,f,d,e);C.ReactReconcileTransaction.release(f)}function p(a,b){y.unmountComponent(a);for(b.nodeType===H&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)}
function n(b){return(b=a(b))?b!==w.getReactRootIDFromNodeID(b):!1}function s(a){for(;a&&a.parentNode!==a;a=a.parentNode)if(1===a.nodeType){var b=f(a);if(b){var c=w.getReactRootIDFromNodeID(b),d=a;do if(b=f(d),d=d.parentNode,null==d)return null;while(b!==c);if(d===N[c])return a}}return null}c=d(10);var r=d(26),q=(d(34),d(39)),t=d(50),u=d(53),w=d(59),v=d(60),x=d(62),z=d(69),y=d(74),B=d(80),C=d(81),A=d(23),D=d(135),F=d(131),G=d(116),I=d(142),M=d(122),K=d(124),J=(d(126),d(151),c.ID_ATTRIBUTE_NAME),E=
{},H=9,S="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),O={},N={},Q=[],Z=null,R=function(){};R.prototype.isReactComponent={};R.prototype.render=function(){return this.props};var P={TopLevelWrapper:R,_instancesByReactRootID:O,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return P.scrollMonitor(c,function(){B.enqueueElementInternal(a,b);d&&B.enqueueCallbackInternal(a,d)}),a},_registerComponent:function(a,b){!b||1!==b.nodeType&&b.nodeType!==H&&11!==b.nodeType?
I(!1):void 0;r.ensureScrollValueMonitoring();var c=P.registerContainer(b);return O[c]=a,c},_renderNewRootComponent:function(a,b,c,d){a=G(a,null);var e=P._registerComponent(a,b);return C.batchedUpdates(g,a,e,b,c,d),a},renderSubtreeIntoContainer:function(a,b,c,d){return null==a||null==a._reactInternalInstance?I(!1):void 0,P._renderSubtreeIntoContainer(a,b,c,d)},_renderSubtreeIntoContainer:function(c,d,e,g){t.isValidElement(d)?void 0:I(!1);var h=new t(R,null,null,null,null,null,d),l=O[a(e)];if(l){if(K(l._currentElement.props,
d)){var m=l._renderedComponent.getPublicInstance();return P._updateRootComponent(l,h,e,g&&function(){g.call(m)}),m}P.unmountComponentAtNode(e)}d=(d=b(e))&&!!f(d);var p=n(e);c=P._renderNewRootComponent(h,e,d&&!l&&!p,null!=c?c._reactInternalInstance._processChildContext(c._reactInternalInstance._context):D)._renderedComponent.getPublicInstance();return g&&g.call(c),c},render:function(a,b,c){return P._renderSubtreeIntoContainer(null,a,b,c)},registerContainer:function(b){var c=a(b);return c&&(c=w.getReactRootIDFromNodeID(c)),
c||(c=w.createReactRootID()),N[c]=b,c},unmountComponentAtNode:function(b){!b||1!==b.nodeType&&b.nodeType!==H&&11!==b.nodeType?I(!1):void 0;var c=a(b),d=O[c];return!d?(b=(n(b),f(b)),b&&b===w.getReactRootIDFromNodeID(b),!1):(C.batchedUpdates(p,d,b),delete O[c],delete N[c],!0)},findReactContainerForID:function(a){a=w.getReactRootIDFromNodeID(a);return N[a]},findReactNodeByID:function(a){var b=P.findReactContainerForID(a);return P.findComponentRoot(b,a)},getFirstReactDOM:function(a){return s(a)},findComponentRoot:function(a,
b){var c=0;Z=null;w.traverseAncestors(b,m);var d=Z,d=(Z=null,d)||a;Q[0]=d.firstChild;for(Q.length=1;c<Q.length;){for(var e,d=Q[c++];d;){var f=P.getID(d);f?b===f?e=d:w.isAncestorIDOf(f,b)&&(Q.length=c=0,Q.push(d.firstChild)):Q.push(d.firstChild);d=d.nextSibling}if(e)return Q.length=0,e}Q.length=0;I(!1)},_mountImageIntoNode:function(a,c,d,e){if(!c||1!==c.nodeType&&c.nodeType!==H&&11!==c.nodeType?I(!1):void 0,d){var f=b(c);if(x.canReuseMarkup(a,f))return;var g=f.getAttribute(x.CHECKSUM_ATTR_NAME);f.removeAttribute(x.CHECKSUM_ATTR_NAME);
d=f.outerHTML;f.setAttribute(x.CHECKSUM_ATTR_NAME,g);a:{f=Math.min(a.length,d.length);for(g=0;f>g;g++)if(a.charAt(g)!==d.charAt(g)){f=g;break a}f=a.length===d.length?-1:f}" (client) "+a.substring(f-20,f+20)+"\n (server) "+d.substring(f-20,f+20);c.nodeType===H?I(!1):void 0}if(c.nodeType===H?I(!1):void 0,e.useCreateElement){for(;c.lastChild;)c.removeChild(c.lastChild);c.appendChild(a)}else M(c,a)},ownerDocumentContextKey:S,getReactRootID:a,getID:function(a){var b=f(a);if(b)if(E.hasOwnProperty(b)){var c=
E[b];c!==a&&(l(c,b)?I(!1):void 0,E[b]=a)}else E[b]=a;return b},setID:function(a,b){var c=f(a);c!==b&&delete E[c];a.setAttribute(J,b);E[b]=a},getNode:function(a){return E.hasOwnProperty(a)&&l(E[a],a)||(E[a]=P.findReactNodeByID(a)),E[a]},getNodeFromInstance:function(a){a=v.get(a)._rootNodeID;return u.isNullComponentID(a)?null:(E.hasOwnProperty(a)&&l(E[a],a)||(E[a]=P.findReactNodeByID(a)),E[a])},isValid:l,purgeID:function(a){delete E[a]}};z.measureMethods(P,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",
_mountImageIntoNode:"_mountImageIntoNode"});e.exports=P},{10:10,116:116,122:122,124:124,126:126,131:131,135:135,142:142,151:151,23:23,26:26,34:34,39:39,50:50,53:53,59:59,60:60,62:62,69:69,74:74,80:80,81:81}],64:[function(d,e,c){function b(){n.length&&(f.processChildrenUpdates(n,s),a())}function a(){n.length=0;s.length=0}var f=d(32),l=d(65),m=(d(34),d(74)),h=d(27),g=d(107),p=0,n=[],s=[];e.exports={Mixin:{_reconcilerInstantiateChildren:function(a,b,c){return h.instantiateChildren(a,b,c)},_reconcilerUpdateChildren:function(a,
b,c,d){var e;return e=g(b),h.updateChildren(a,e,c,d)},mountChildren:function(a,b,c){this._renderedChildren=a=this._reconcilerInstantiateChildren(a,b,c);var d=[],e=0,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f],h=m.mountComponent(g,this._rootNodeID+f,b,c);g._mountIndex=e++;d.push(h)}return d},updateTextContent:function(c){p++;var d=!0;try{var e=this._renderedChildren;h.unmountChildren(e);for(var f in e)e.hasOwnProperty(f)&&this._unmountChild(e[f]);this.setTextContent(c);d=!1}finally{p--,p||(d?a():
b())}},updateMarkup:function(c){p++;var d=!0;try{var e=this._renderedChildren;h.unmountChildren(e);for(var f in e)e.hasOwnProperty(f)&&this._unmountChildByName(e[f],f);this.setMarkup(c);d=!1}finally{p--,p||(d?a():b())}},updateChildren:function(c,d,e){p++;var f=!0;try{this._updateChildren(c,d,e),f=!1}finally{p--,p||(f?a():b())}},_updateChildren:function(a,b,c){var d=this._renderedChildren;a=this._reconcilerUpdateChildren(d,a,b,c);if(this._renderedChildren=a,a||d){var e,f=0,g=0;for(e in a)if(a.hasOwnProperty(e)){var h=
d&&d[e],l=a[e];h===l?(this.moveChild(h,g,f),f=Math.max(h._mountIndex,f),h._mountIndex=g):(h&&(f=Math.max(h._mountIndex,f),this._unmountChild(h)),this._mountChildByNameAtIndex(l,e,g,b,c));g++}for(e in d)!d.hasOwnProperty(e)||a&&a.hasOwnProperty(e)||this._unmountChild(d[e])}},unmountChildren:function(){h.unmountChildren(this._renderedChildren);this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&n.push({parentID:this._rootNodeID,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,
content:null,fromIndex:a._mountIndex,toIndex:b})},createChild:function(a,b){var c=a._mountIndex;n.push({parentID:this._rootNodeID,parentNode:null,type:l.INSERT_MARKUP,markupIndex:s.push(b)-1,content:null,fromIndex:null,toIndex:c})},removeChild:function(a){n.push({parentID:this._rootNodeID,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,content:null,fromIndex:a._mountIndex,toIndex:null})},setTextContent:function(a){n.push({parentID:this._rootNodeID,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,
content:a,fromIndex:null,toIndex:null})},setMarkup:function(a){n.push({parentID:this._rootNodeID,parentNode:null,type:l.SET_MARKUP,markupIndex:null,content:a,fromIndex:null,toIndex:null})},_mountChildByNameAtIndex:function(a,b,c,d,e){b=m.mountComponent(a,this._rootNodeID+b,d,e);a._mountIndex=c;this.createChild(a,b)},_unmountChild:function(a){this.removeChild(a);a._mountIndex=null}}}},{107:107,27:27,32:32,34:34,65:65,74:74}],65:[function(d,e,c){d=d(145)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,
SET_MARKUP:null,TEXT_CONTENT:null});e.exports=d},{145:145}],66:[function(d,e,c){var b=d(23),a=d(142),f=null,l={},m=null;e.exports={getComponentClassForElement:function(a){if("function"==typeof a.type)return a.type;a=a.type;var b=l[a];return null==b&&(l[a]=b=null(a)),b},createInternalComponent:function(b){return f?void 0:a(!1),new f(b.type,b.props)},createInstanceForText:function(a){return new m(a)},isTextComponent:function(a){return a instanceof m},injection:{injectGenericComponentClass:function(a){f=
a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){b(l,a)}}}},{142:142,23:23}],67:[function(d,e,c){d=(d(151),{isMounted:function(b){return!1},enqueueCallback:function(b,a){},enqueueForceUpdate:function(b){},enqueueReplaceState:function(b,a){},enqueueSetState:function(b,a){},enqueueSetProps:function(b,a){},enqueueReplaceProps:function(b,a){}});e.exports=d},{151:151}],68:[function(d,e,c){var b=d(142),a={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||
"function"!=typeof a.detachRef)},addComponentAsRefTo:function(c,d,e){a.isValidOwner(e)?void 0:b(!1);e.attachRef(d,c)},removeComponentAsRefFrom:function(c,d,e){a.isValidOwner(e)?void 0:b(!1);e.getPublicInstance().refs[d]===c.getPublicInstance()&&e.detachRef(d)}};e.exports=a},{142:142}],69:[function(d,e,c){var b={enableMeasure:!1,storedMeasure:function(a,b,c){return c},measureMethods:function(a,b,c){},measure:function(a,b,c){return c},injection:{injectMeasure:function(a){b.storedMeasure=a}}};e.exports=
b},{}],70:[function(d,e,c){e.exports={}},{}],71:[function(d,e,c){d=d(145)({prop:null,context:null,childContext:null});e.exports=d},{145:145}],72:[function(d,e,c){function b(a){function b(c,d,e,f,g,l){return(f=f||p,l=l||e,null==d[e])?(d=h[g],c?Error("Required "+d+" `"+l+"` was not specified in "+("`"+f+"`.")):null):a(d,e,f,g,l)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function a(a){return b(function(b,c,d,e,f){b=b[c];if(l(b)!==a){e=h[e];a:{c=l(b);if("object"===c){if(b instanceof
Date){b="date";break a}if(b instanceof RegExp){b="regexp";break a}}b=c}return Error("Invalid "+e+" `"+f+"` of type "+("`"+b+"` supplied to `"+d+"`, expected ")+("`"+a+"`."))}return null})}function f(a){switch(typeof a){case "number":case "string":case "undefined":return!0;case "boolean":return!a;case "object":if(Array.isArray(a))return a.every(f);if(null===a||m.isValidElement(a))return!0;var b=g(a);if(!b)return!1;var c=b.call(a);if(b!==a.entries)for(;!(a=c.next()).done;){if(!f(a.value))return!1}else for(;!(a=
c.next()).done;)if((a=a.value)&&!f(a[1]))return!1;return!0;default:return!1}}function l(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}var m=d(50),h=d(70);c=d(134);var g=d(113),p="\x3c\x3canonymous\x3e\x3e";d={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),any:b(c.thatReturns(null)),arrayOf:function(a){return b(function(b,c,d,e,f){b=b[c];if(!Array.isArray(b))return e=h[e],b=l(b),Error("Invalid "+e+" `"+
f+"` of type "+("`"+b+"` supplied to `"+d+"`, expected an array."));for(c=0;c<b.length;c++){var g=a(b,c,d,e,f+"["+c+"]");if(g instanceof Error)return g}return null})},element:function(){return b(function(a,b,c,d,e){return!m.isValidElement(a[b])?Error("Invalid "+h[d]+" `"+e+"` supplied to "+("`"+c+"`, expected a single ReactElement.")):null})}(),instanceOf:function(a){return b(function(b,c,d,e,f){return!(b[c]instanceof a)?Error("Invalid "+h[e]+" `"+f+"` of type "+("`"+(b[c].constructor&&b[c].constructor.name?
b[c].constructor.name:"\x3c\x3canonymous\x3e\x3e")+"` supplied to `"+d+"`, expected ")+("instance of `"+(a.name||p)+"`.")):null})},node:function(){return b(function(a,b,c,d,e){return!f(a[b])?Error("Invalid "+h[d]+" `"+e+"` supplied to "+("`"+c+"`, expected a ReactNode.")):null})}(),objectOf:function(a){return b(function(b,c,d,e,f){b=b[c];c=l(b);if("object"!==c)return Error("Invalid "+h[e]+" `"+f+"` of type "+("`"+c+"` supplied to `"+d+"`, expected an object."));for(var g in b)if(b.hasOwnProperty(g)&&
(c=a(b,g,d,e,f+"."+g),c instanceof Error))return c;return null})},oneOf:function(a){function c(b,d,e,f,g){b=b[d];for(d=0;d<a.length;d++)if(b===a[d])return null;f=h[f];d=JSON.stringify(a);return Error("Invalid "+f+" `"+g+"` of value `"+b+"` "+("supplied to `"+e+"`, expected one of "+d+"."))}return b(Array.isArray(a)?c:function(){return Error("Invalid argument supplied to oneOf, expected an instance of array.")})},oneOfType:function(a){function c(b,d,e,f,g){for(var l=0;l<a.length;l++)if(null==(0,a[l])(b,
d,e,f,g))return null;return Error("Invalid "+h[f]+" `"+g+"` supplied to "+("`"+e+"`."))}return b(Array.isArray(a)?c:function(){return Error("Invalid argument supplied to oneOfType, expected an instance of array.")})},shape:function(a){return b(function(b,c,d,e,f){b=b[c];c=l(b);if("object"!==c)return Error("Invalid "+h[e]+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));for(var g in a)if(c=a[g])if(c=c(b,g,d,e,f+"."+g))return c;return null})}};e.exports=d},{113:113,134:134,50:50,
70:70}],73:[function(d,e,c){function b(b){this.reinitializeTransaction();this.renderToStaticMarkup=!1;this.reactMountReady=a.getPooled(null);this.useCreateElement=!b&&l.useCreateElement}var a=d(6);c=d(24);var f=d(26),l=d(39),m=d(58),h=d(98);d=d(23);var g=[{initialize:m.getSelectionInformation,close:m.restoreSelection},{initialize:function(){var a=f.isEnabled();return f.setEnabled(!1),a},close:function(a){f.setEnabled(a)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];
d(b.prototype,h.Mixin,{getTransactionWrappers:function(){return g},getReactMountReady:function(){return this.reactMountReady},destructor:function(){a.release(this.reactMountReady);this.reactMountReady=null}});c.addPoolingTo(b);e.exports=b},{23:23,24:24,26:26,39:39,58:58,6:6,98:98}],74:[function(d,e,c){function b(){a.attachRefs(this,this._currentElement)}var a=d(75);e.exports={mountComponent:function(a,c,d,e){c=a.mountComponent(c,d,e);return a._currentElement&&null!=a._currentElement.ref&&d.getReactMountReady().enqueue(b,
a),c},unmountComponent:function(b){a.detachRefs(b,b._currentElement);b.unmountComponent()},receiveComponent:function(c,d,e,h){var g=c._currentElement;if(d!==g||h!==c._context){var p=a.shouldUpdateRefs(g,d);p&&a.detachRefs(c,g);c.receiveComponent(d,e,h);p&&c._currentElement&&null!=c._currentElement.ref&&e.getReactMountReady().enqueue(b,c)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}}},{75:75}],75:[function(d,e,c){var b=d(68);e.exports={attachRefs:function(a,c){if(null!==
c&&!1!==c){var d=c.ref;if(null!=d){var e=c._owner;"function"==typeof d?d(a.getPublicInstance()):b.addComponentAsRefTo(a,d,e)}}},shouldUpdateRefs:function(a,b){return null===a||!1===a||null===b||!1===b||b._owner!==a._owner||b.ref!==a.ref},detachRefs:function(a,c){if(null!==c&&!1!==c){var d=c.ref;if(null!=d){var e=c._owner;"function"==typeof d?d(null):b.removeComponentAsRefFrom(a,d,e)}}}}},{68:68}],76:[function(d,e,c){var b={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(a){b.createReactRootIndex=
a}}};e.exports=b},{}],77:[function(d,e,c){e.exports={isBatchingUpdates:!1,batchedUpdates:function(b){}}},{}],78:[function(d,e,c){var b=d(48),a=d(50),f=d(59),l=d(62),m=d(77),h=d(79),g=d(81),p=d(135),n=d(116),s=d(142);e.exports={renderToString:function(c){a.isValidElement(c)?void 0:s(!1);var d;try{g.injection.injectBatchingStrategy(m);var e=f.createReactRootID();return d=h.getPooled(!1),d.perform(function(){var a=n(c,null).mountComponent(e,d,p);return l.addChecksumToMarkup(a)},null)}finally{h.release(d),
g.injection.injectBatchingStrategy(b)}},renderToStaticMarkup:function(c){a.isValidElement(c)?void 0:s(!1);var d;try{g.injection.injectBatchingStrategy(m);var e=f.createReactRootID();return d=h.getPooled(!0),d.perform(function(){return n(c,null).mountComponent(e,d,p)},null)}finally{h.release(d),g.injection.injectBatchingStrategy(b)}}}},{116:116,135:135,142:142,48:48,50:50,59:59,62:62,77:77,79:79,81:81}],79:[function(d,e,c){function b(b){this.reinitializeTransaction();this.renderToStaticMarkup=b;this.reactMountReady=
a.getPooled(null);this.useCreateElement=!1}c=d(24);var a=d(6),f=d(98),l=d(23),m=[{initialize:function(){this.reactMountReady.reset()},close:d(134)}];l(b.prototype,f.Mixin,{getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},destructor:function(){a.release(this.reactMountReady);this.reactMountReady=null}});c.addPoolingTo(b);e.exports=b},{134:134,23:23,24:24,6:6,98:98}],80:[function(d,e,c){function b(a,b){var c=f.get(a);return c?c:null}var a=(d(34),
d(50)),f=d(60),l=d(81),m=d(23),h=d(142),g=(d(151),{isMounted:function(a){return(a=f.get(a))?!!a._renderedComponent:!1},enqueueCallback:function(a,c){"function"!=typeof c?h(!1):void 0;var d=b(a);d?(d._pendingCallbacks?d._pendingCallbacks.push(c):d._pendingCallbacks=[c],l.enqueueUpdate(d),d=void 0):d=null;return d},enqueueCallbackInternal:function(a,b){"function"!=typeof b?h(!1):void 0;a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b];l.enqueueUpdate(a)},enqueueForceUpdate:function(a){if(a=
b(a,"forceUpdate"))a._pendingForceUpdate=!0,l.enqueueUpdate(a)},enqueueReplaceState:function(a,c){var d=b(a,"replaceState");d&&(d._pendingStateQueue=[c],d._pendingReplaceState=!0,l.enqueueUpdate(d))},enqueueSetState:function(a,c){var d=b(a,"setState");d&&((d._pendingStateQueue||(d._pendingStateQueue=[])).push(c),l.enqueueUpdate(d))},enqueueSetProps:function(a,c){var d=b(a,"setProps");d&&g.enqueueSetPropsInternal(d,c)},enqueueSetPropsInternal:function(b,c){var d=b._topLevelWrapper;d?void 0:h(!1);var e=
d._pendingElement||d._currentElement,f=e.props,g=m({},f.props,c);d._pendingElement=a.cloneAndReplaceProps(e,a.cloneAndReplaceProps(f,g));l.enqueueUpdate(d)},enqueueReplaceProps:function(a,c){var d=b(a,"replaceProps");d&&g.enqueueReplacePropsInternal(d,c)},enqueueReplacePropsInternal:function(b,c){var d=b._topLevelWrapper;d?void 0:h(!1);var e=d._pendingElement||d._currentElement;d._pendingElement=a.cloneAndReplaceProps(e,a.cloneAndReplaceProps(e.props,c));l.enqueueUpdate(d)},enqueueElementInternal:function(a,
b){a._pendingElement=b;l.enqueueUpdate(a)}});e.exports=g},{142:142,151:151,23:23,34:34,50:50,60:60,81:81}],81:[function(d,e,c){function b(){z.ReactReconcileTransaction&&w?void 0:r(!1)}function a(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=h.getPooled();this.reconcileTransaction=z.ReactReconcileTransaction.getPooled(!1)}function f(a,b){return a._mountOrder-b._mountOrder}function l(a){var b=a.dirtyComponentsLength;b!==q.length?r(!1):void 0;q.sort(f);for(var c=
0;b>c;c++){var d=q[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,p.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var g=0;g<e.length;g++)a.callbackQueue.enqueue(e[g],d.getPublicInstance())}}function m(a){return b(),w.isBatchingUpdates?void q.push(a):void w.batchedUpdates(m,a)}var h=d(6);c=d(24);var g=d(69),p=d(74),n=d(98),s=d(23),r=d(142),q=[],t=h.getPooled(),u=!1,w=null,v=[{initialize:function(){this.dirtyComponentsLength=q.length},close:function(){this.dirtyComponentsLength!==q.length?
(q.splice(0,this.dirtyComponentsLength),x()):q.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];s(a.prototype,n.Mixin,{getTransactionWrappers:function(){return v},destructor:function(){this.dirtyComponentsLength=null;h.release(this.callbackQueue);this.callbackQueue=null;z.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(a,b,c){return n.Mixin.perform.call(this,this.reconcileTransaction.perform,
this.reconcileTransaction,a,b,c)}});c.addPoolingTo(a);var x=function(){for(;q.length||u;){if(q.length){var b=a.getPooled();b.perform(l,null,b);a.release(b)}u&&(u=!1,b=t,t=h.getPooled(),b.notifyAll(),h.release(b))}},x=g.measure("ReactUpdates","flushBatchedUpdates",x),z={ReactReconcileTransaction:null,batchedUpdates:function(a,c,d,e,f,g){b();w.batchedUpdates(a,c,d,e,f,g)},enqueueUpdate:m,flushBatchedUpdates:x,injection:{injectReconcileTransaction:function(a){a?void 0:r(!1);z.ReactReconcileTransaction=
a},injectBatchingStrategy:function(a){a?void 0:r(!1);"function"!=typeof a.batchedUpdates?r(!1):void 0;"boolean"!=typeof a.isBatchingUpdates?r(!1):void 0;w=a}},asap:function(a,b){w.isBatchingUpdates?void 0:r(!1);t.enqueue(a,b);u=!0}};e.exports=z},{142:142,23:23,24:24,6:6,69:69,74:74,98:98}],82:[function(d,e,c){e.exports="0.14.7"},{}],83:[function(d,e,c){d=d(10).injection.MUST_USE_ATTRIBUTE;e.exports={Properties:{clipPath:d,cx:d,cy:d,d:d,dx:d,dy:d,fill:d,fillOpacity:d,fontFamily:d,fontSize:d,fx:d,fy:d,
gradientTransform:d,gradientUnits:d,markerEnd:d,markerMid:d,markerStart:d,offset:d,opacity:d,patternContentUnits:d,patternUnits:d,points:d,preserveAspectRatio:d,r:d,rx:d,ry:d,spreadMethod:d,stopColor:d,stopOpacity:d,stroke:d,strokeDasharray:d,strokeLinecap:d,strokeOpacity:d,strokeWidth:d,textAnchor:d,transform:d,version:d,viewBox:d,x1:d,x2:d,x:d,xlinkActuate:d,xlinkArcrole:d,xlinkHref:d,xlinkRole:d,xlinkShow:d,xlinkTitle:d,xlinkType:d,xmlBase:d,xmlLang:d,xmlSpace:d,y1:d,y2:d,y:d},DOMAttributeNamespaces:{xlinkActuate:"http://www.w3.org/1999/xlink",
xlinkArcrole:"http://www.w3.org/1999/xlink",xlinkHref:"http://www.w3.org/1999/xlink",xlinkRole:"http://www.w3.org/1999/xlink",xlinkShow:"http://www.w3.org/1999/xlink",xlinkTitle:"http://www.w3.org/1999/xlink",xlinkType:"http://www.w3.org/1999/xlink",xmlBase:"http://www.w3.org/XML/1998/namespace",xmlLang:"http://www.w3.org/XML/1998/namespace",xmlSpace:"http://www.w3.org/XML/1998/namespace"},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",
gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",
xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}}},{10:10}],84:[function(d,e,c){function b(b,c){if(v||null==t||t!==h())return null;var d;d=t;"selectionStart"in d&&l.hasSelectionCapabilities(d)?d={start:d.selectionStart,end:d.selectionEnd}:window.getSelection?(d=window.getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,
focusOffset:d.focusOffset}):document.selection?(d=document.selection.createRange(),d={parentElement:d.parentElement(),text:d.text,top:d.boundingTop,left:d.boundingLeft}):d=void 0;return!w||!n(w,d)?(w=d,d=m.getPooled(q.select,u,b,c),d.type="select",d.target=t,a.accumulateTwoPhaseDispatches(d),d):null}c=d(15);var a=d(19),f=d(128),l=d(58),m=d(90),h=d(137),g=d(118),p=d(146),n=d(149),s=c.topLevelTypes,r=f.canUseDOM&&"documentMode"in document&&11>=document.documentMode,q={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),
captured:p({onSelectCapture:null})},dependencies:[s.topBlur,s.topContextMenu,s.topFocus,s.topKeyDown,s.topMouseDown,s.topMouseUp,s.topSelectionChange]}},t=null,u=null,w=null,v=!1,x=!1,z=p({onSelect:null});e.exports={eventTypes:q,extractEvents:function(a,c,d,e,f){if(!x)return null;switch(a){case s.topFocus:(g(c)||"true"===c.contentEditable)&&(t=c,u=d,w=null);break;case s.topBlur:w=u=t=null;break;case s.topMouseDown:v=!0;break;case s.topContextMenu:case s.topMouseUp:return v=!1,b(e,f);case s.topSelectionChange:if(r)break;
case s.topKeyDown:case s.topKeyUp:return b(e,f)}return null},didPutListener:function(a,b,c){b===z&&(x=!0)}}},{118:118,128:128,137:137,146:146,149:149,15:15,19:19,58:58,90:90}],85:[function(d,e,c){var b=Math.pow(2,53);e.exports={createReactRootIndex:function(){return Math.ceil(Math.random()*b)}}},{}],86:[function(d,e,c){c=d(15);var b=d(127),a=d(19),f=d(63),l=d(87),m=d(90),h=d(91),g=d(93),p=d(94),n=d(89),s=d(95),r=d(96),q=d(97),t=d(134),u=d(109),w=d(142);d=d(146);var v=c.topLevelTypes;c={abort:{phasedRegistrationNames:{bubbled:d({onAbort:!0}),
captured:d({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:d({onBlur:!0}),captured:d({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:d({onCanPlay:!0}),captured:d({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:d({onCanPlayThrough:!0}),captured:d({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:d({onClick:!0}),captured:d({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:d({onContextMenu:!0}),captured:d({onContextMenuCapture:!0})}},
copy:{phasedRegistrationNames:{bubbled:d({onCopy:!0}),captured:d({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:d({onCut:!0}),captured:d({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:d({onDoubleClick:!0}),captured:d({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:d({onDrag:!0}),captured:d({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:d({onDragEnd:!0}),captured:d({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:d({onDragEnter:!0}),
captured:d({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:d({onDragExit:!0}),captured:d({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:d({onDragLeave:!0}),captured:d({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:d({onDragOver:!0}),captured:d({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:d({onDragStart:!0}),captured:d({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:d({onDrop:!0}),captured:d({onDropCapture:!0})}},
durationChange:{phasedRegistrationNames:{bubbled:d({onDurationChange:!0}),captured:d({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:d({onEmptied:!0}),captured:d({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:d({onEncrypted:!0}),captured:d({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:d({onEnded:!0}),captured:d({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:d({onError:!0}),captured:d({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:d({onFocus:!0}),
captured:d({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:d({onInput:!0}),captured:d({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:d({onKeyDown:!0}),captured:d({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:d({onKeyPress:!0}),captured:d({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:d({onKeyUp:!0}),captured:d({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:d({onLoad:!0}),captured:d({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:d({onLoadedData:!0}),
captured:d({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:d({onLoadedMetadata:!0}),captured:d({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:d({onLoadStart:!0}),captured:d({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:d({onMouseDown:!0}),captured:d({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:d({onMouseMove:!0}),captured:d({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:d({onMouseOut:!0}),
captured:d({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:d({onMouseOver:!0}),captured:d({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:d({onMouseUp:!0}),captured:d({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:d({onPaste:!0}),captured:d({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:d({onPause:!0}),captured:d({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:d({onPlay:!0}),captured:d({onPlayCapture:!0})}},
playing:{phasedRegistrationNames:{bubbled:d({onPlaying:!0}),captured:d({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:d({onProgress:!0}),captured:d({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:d({onRateChange:!0}),captured:d({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:d({onReset:!0}),captured:d({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:d({onScroll:!0}),captured:d({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:d({onSeeked:!0}),
captured:d({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:d({onSeeking:!0}),captured:d({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:d({onStalled:!0}),captured:d({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:d({onSubmit:!0}),captured:d({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:d({onSuspend:!0}),captured:d({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:d({onTimeUpdate:!0}),captured:d({onTimeUpdateCapture:!0})}},
touchCancel:{phasedRegistrationNames:{bubbled:d({onTouchCancel:!0}),captured:d({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:d({onTouchEnd:!0}),captured:d({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:d({onTouchMove:!0}),captured:d({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:d({onTouchStart:!0}),captured:d({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:d({onVolumeChange:!0}),captured:d({onVolumeChangeCapture:!0})}},
waiting:{phasedRegistrationNames:{bubbled:d({onWaiting:!0}),captured:d({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:d({onWheel:!0}),captured:d({onWheelCapture:!0})}}};var x={topAbort:c.abort,topBlur:c.blur,topCanPlay:c.canPlay,topCanPlayThrough:c.canPlayThrough,topClick:c.click,topContextMenu:c.contextMenu,topCopy:c.copy,topCut:c.cut,topDoubleClick:c.doubleClick,topDrag:c.drag,topDragEnd:c.dragEnd,topDragEnter:c.dragEnter,topDragExit:c.dragExit,topDragLeave:c.dragLeave,topDragOver:c.dragOver,
topDragStart:c.dragStart,topDrop:c.drop,topDurationChange:c.durationChange,topEmptied:c.emptied,topEncrypted:c.encrypted,topEnded:c.ended,topError:c.error,topFocus:c.focus,topInput:c.input,topKeyDown:c.keyDown,topKeyPress:c.keyPress,topKeyUp:c.keyUp,topLoad:c.load,topLoadedData:c.loadedData,topLoadedMetadata:c.loadedMetadata,topLoadStart:c.loadStart,topMouseDown:c.mouseDown,topMouseMove:c.mouseMove,topMouseOut:c.mouseOut,topMouseOver:c.mouseOver,topMouseUp:c.mouseUp,topPaste:c.paste,topPause:c.pause,
topPlay:c.play,topPlaying:c.playing,topProgress:c.progress,topRateChange:c.rateChange,topReset:c.reset,topScroll:c.scroll,topSeeked:c.seeked,topSeeking:c.seeking,topStalled:c.stalled,topSubmit:c.submit,topSuspend:c.suspend,topTimeUpdate:c.timeUpdate,topTouchCancel:c.touchCancel,topTouchEnd:c.touchEnd,topTouchMove:c.touchMove,topTouchStart:c.touchStart,topVolumeChange:c.volumeChange,topWaiting:c.waiting,topWheel:c.wheel},z;for(z in x)x[z].dependencies=[z];var y=d({onClick:null}),B={};e.exports={eventTypes:c,
extractEvents:function(b,c,d,e,f){c=x[b];if(!c)return null;var t;switch(b){case v.topAbort:case v.topCanPlay:case v.topCanPlayThrough:case v.topDurationChange:case v.topEmptied:case v.topEncrypted:case v.topEnded:case v.topError:case v.topInput:case v.topLoad:case v.topLoadedData:case v.topLoadedMetadata:case v.topLoadStart:case v.topPause:case v.topPlay:case v.topPlaying:case v.topProgress:case v.topRateChange:case v.topReset:case v.topSeeked:case v.topSeeking:case v.topStalled:case v.topSubmit:case v.topSuspend:case v.topTimeUpdate:case v.topVolumeChange:case v.topWaiting:t=
m;break;case v.topKeyPress:if(0===u(e))return null;case v.topKeyDown:case v.topKeyUp:t=g;break;case v.topBlur:case v.topFocus:t=h;break;case v.topClick:if(2===e.button)return null;case v.topContextMenu:case v.topDoubleClick:case v.topMouseDown:case v.topMouseMove:case v.topMouseOut:case v.topMouseOver:case v.topMouseUp:t=p;break;case v.topDrag:case v.topDragEnd:case v.topDragEnter:case v.topDragExit:case v.topDragLeave:case v.topDragOver:case v.topDragStart:case v.topDrop:t=n;break;case v.topTouchCancel:case v.topTouchEnd:case v.topTouchMove:case v.topTouchStart:t=
s;break;case v.topScroll:t=r;break;case v.topWheel:t=q;break;case v.topCopy:case v.topCut:case v.topPaste:t=l}t?void 0:w(!1);b=t.getPooled(c,d,e,f);return a.accumulateTwoPhaseDispatches(b),b},didPutListener:function(a,c,d){c===y&&(c=f.getNode(a),B[a]||(B[a]=b.listen(c,"click",t)))},willDeleteListener:function(a,b){b===y&&(B[a].remove(),delete B[a])}}},{109:109,127:127,134:134,142:142,146:146,15:15,19:19,63:63,87:87,89:89,90:90,91:91,93:93,94:94,95:95,96:96,97:97}],87:[function(d,e,c){function b(b,
c,d,e){a.call(this,b,c,d,e)}var a=d(90);a.augmentClass(b,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}});e.exports=b},{90:90}],88:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(90);a.augmentClass(b,{data:null});e.exports=b},{90:90}],89:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(94);a.augmentClass(b,{dataTransfer:null});e.exports=b},{94:94}],90:[function(d,e,c){function b(a,b,c,d){this.dispatchConfig=a;this.dispatchMarker=
b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?this.isDefaultPrevented=l.thatReturnsTrue:this.isDefaultPrevented=l.thatReturnsFalse;this.isPropagationStopped=l.thatReturnsFalse}var a=d(24),f=d(23),l=d(134);d=(d(151),{type:null,target:null,currentTarget:l.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||
Date.now()},defaultPrevented:null,isTrusted:null});f(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=l.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=l.thatReturnsTrue)},persist:function(){this.isPersistent=l.thatReturnsTrue},isPersistent:l.thatReturnsFalse,destructor:function(){var a=
this.constructor.Interface,b;for(b in a)this[b]=null;this.nativeEvent=this.dispatchMarker=this.dispatchConfig=null}});b.Interface=d;b.augmentClass=function(b,c){var d=Object.create(this.prototype);f(d,b.prototype);b.prototype=d;b.prototype.constructor=b;b.Interface=f({},this.Interface,c);b.augmentClass=this.augmentClass;a.addPoolingTo(b,a.fourArgumentPooler)};a.addPoolingTo(b,a.fourArgumentPooler);e.exports=b},{134:134,151:151,23:23,24:24}],91:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,
d,e)}var a=d(96);a.augmentClass(b,{relatedTarget:null});e.exports=b},{96:96}],92:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(90);a.augmentClass(b,{data:null});e.exports=b},{90:90}],93:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(96),f=d(109);c=d(110);d=d(111);a.augmentClass(b,{key:c,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:d,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===
a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}});e.exports=b},{109:109,110:110,111:111,96:96}],94:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(96),f=d(99);d={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:d(111),button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||
(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.currentScrollTop}};a.augmentClass(b,d);e.exports=b},{111:111,96:96,99:99}],95:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(96);d={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:d(111)};a.augmentClass(b,d);e.exports=b},
{111:111,96:96}],96:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(90),f=d(112);a.augmentClass(b,{view:function(a){if(a.view)return a.view;a=f(a);return null!=a&&a.window===a?a:(a=a.ownerDocument)?a.defaultView||a.parentWindow:window},detail:function(a){return a.detail||0}});e.exports=b},{112:112,90:90}],97:[function(d,e,c){function b(b,c,d,e){a.call(this,b,c,d,e)}var a=d(94);a.augmentClass(b,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in
a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null});e.exports=b},{94:94}],98:[function(d,e,c){var b=d(142),a={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[];this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,c,d,e,g,p,n,s){this.isInTransaction()?
b(!1):void 0;var r,q;try{r=this._isInTransaction=!0,this.initializeAll(0),q=a.call(c,d,e,g,p,n,s),r=!1}finally{try{if(r)try{this.closeAll(0)}catch(t){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return q},initializeAll:function(b){for(var c=this.transactionWrappers;b<c.length;b++){var d=c[b];try{this.wrapperInitData[b]=a.OBSERVED_ERROR,this.wrapperInitData[b]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[b]===a.OBSERVED_ERROR)try{this.initializeAll(b+1)}catch(e){}}}},
closeAll:function(c){this.isInTransaction()?void 0:b(!1);for(var d=this.transactionWrappers;c<d.length;c++){var e,h=d[c],g=this.wrapperInitData[c];try{e=!0,g!==a.OBSERVED_ERROR&&h.close&&h.close.call(this,g),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(p){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};e.exports=a},{142:142}],99:[function(d,e,c){var b={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){b.currentScrollLeft=a.x;b.currentScrollTop=a.y}};e.exports=b},{}],100:[function(d,
e,c){var b=d(142);e.exports=function(a,c){if(null==c?b(!1):void 0,null==a)return c;var d=Array.isArray(a),e=Array.isArray(c);return d&&e?(a.push.apply(a,c),a):d?(a.push(c),a):e?[a].concat(c):[a,c]}},{142:142}],101:[function(d,e,c){e.exports=function(b){for(var a=1,c=0,d=0,e=b.length,h=-4&e;h>d;){for(;d<Math.min(d+4096,h);d+=4)c+=(a+=b.charCodeAt(d))+(a+=b.charCodeAt(d+1))+(a+=b.charCodeAt(d+2))+(a+=b.charCodeAt(d+3));a%=65521;c%=65521}for(;e>d;d++)c+=a+=b.charCodeAt(d);return a%=65521,c%=65521,a|
c<<16}},{}],102:[function(d,e,c){e.exports=!1},{}],103:[function(d,e,c){var b=d(4).isUnitlessNumber;e.exports=function(a,c){return null==c||"boolean"==typeof c||""===c?"":isNaN(c)||0===c||b.hasOwnProperty(a)&&b[a]?""+c:("string"==typeof c&&(c=c.trim()),c+"px")}},{4:4}],104:[function(d,e,c){d(23);d(151);e.exports=function(b,a,c,d,e){return e}},{151:151,23:23}],105:[function(d,e,c){function b(b){return a[b]}var a={"\x26":"\x26amp;","\x3e":"\x26gt;","\x3c":"\x26lt;",'"':"\x26quot;","'":"\x26#x27;"},
f=/[&><"']/g;e.exports=function(a){return(""+a).replace(f,b)}},{}],106:[function(d,e,c){var b=(d(34),d(60)),a=d(63),f=d(142);d(151);e.exports=function(c){return null==c?null:1===c.nodeType?c:b.has(c)?a.getNodeFromInstance(c):(null!=c.render&&"function"==typeof c.render?f(!1):void 0,void f(!1))}},{142:142,151:151,34:34,60:60,63:63}],107:[function(d,e,c){function b(a,b,c){void 0===a[c]&&null!=b&&(a[c]=b)}var a=d(125);d(151);e.exports=function(c){if(null==c)return c;var d={};return a(c,b,d),d}},{125:125,
151:151}],108:[function(d,e,c){e.exports=function(b,a,c){Array.isArray(b)?b.forEach(a,c):b&&a.call(c,b)}},{}],109:[function(d,e,c){e.exports=function(b){var a,c=b.keyCode;return"charCode"in b?(a=b.charCode,0===a&&13===c&&(a=13)):a=c,32<=a||13===a?a:0}},{}],110:[function(d,e,c){var b=d(109),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f={8:"Backspace",
9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=function(c){if(c.key){var d=a[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=
b(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?f[c.keyCode]||"Unidentified":""}},{109:109}],111:[function(d,e,c){function b(b){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(b):(b=a[b])?!!c[b]:!1}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=function(a){return b}},{}],112:[function(d,e,c){e.exports=function(b){b=b.target||b.srcElement||window;return 3===b.nodeType?b.parentNode:b}},{}],113:[function(d,e,c){var b=
"function"==typeof Symbol&&Symbol.iterator;e.exports=function(a){a=a&&(b&&a[b]||a["@@iterator"]);return"function"==typeof a?a:void 0}},{}],114:[function(d,e,c){function b(a){for(;a&&a.firstChild;)a=a.firstChild;return a}e.exports=function(a,c){for(var d=b(a),e=0,h=0;d;){if(3===d.nodeType){if(h=e+d.textContent.length,c>=e&&h>=c)return{node:d,offset:c-e};e=h}a:{for(;d;){if(d.nextSibling){d=d.nextSibling;break a}d=d.parentNode}d=void 0}d=b(d)}}},{}],115:[function(d,e,c){var b=d(128),a=null;e.exports=
function(){return!a&&b.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}},{128:128}],116:[function(d,e,c){function b(c){var d;null===c||!1===c?d=new a(b):"object"==typeof c?(!c||"function"!=typeof c.type&&"string"!=typeof c.type?m(!1):void 0,d="string"==typeof c.type?f.createInternalComponent(c):"function"==typeof c.type&&"undefined"!=typeof c.type.prototype&&"function"==typeof c.type.prototype.mountComponent&&"function"==typeof c.type.prototype.receiveComponent?
new c.type(c):new h):"string"==typeof c||"number"==typeof c?d=f.createInstanceForText(c):m(!1);return d.construct(c),d._mountIndex=0,d._mountImage=null,d}c=d(33);var a=d(52),f=d(66),l=d(23),m=d(142),h=(d(151),function(){});l(h.prototype,c.Mixin,{_instantiateReactComponent:b});e.exports=b},{142:142,151:151,23:23,33:33,52:52,66:66}],117:[function(d,e,c){var b,a=d(128);a.canUseDOM&&(b=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));e.exports=
function(c,d){if(!a.canUseDOM||d&&!("addEventListener"in document))return!1;var e="on"+c,h=e in document;h||(h=document.createElement("div"),h.setAttribute(e,"return;"),h="function"==typeof h[e]);return!h&&b&&"wheel"===c&&(h=document.implementation.hasFeature("Events.wheel","3.0")),h}},{128:128}],118:[function(d,e,c){var b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=function(a){var c=
a&&a.nodeName&&a.nodeName.toLowerCase();return c&&("input"===c&&b[a.type]||"textarea"===c)}},{}],119:[function(d,e,c){var b=d(50),a=d(142);e.exports=function(c){return b.isValidElement(c)?void 0:a(!1),c}},{142:142,50:50}],120:[function(d,e,c){var b=d(105);e.exports=function(a){return'"'+b(a)+'"'}},{105:105}],121:[function(d,e,c){d=d(63);e.exports=d.renderSubtreeIntoContainer},{63:63}],122:[function(d,e,c){c=d(128);var b=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;d=function(a,
b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(d=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),c.canUseDOM)c=document.createElement("div"),c.innerHTML=" ",""===c.innerHTML&&(d=function(c,d){if(c.parentNode&&c.parentNode.replaceChild(c,c),b.test(d)||"\x3c"===d[0]&&a.test(d)){c.innerHTML=String.fromCharCode(65279)+d;var e=c.firstChild;1===e.data.length?c.removeChild(e):e.deleteData(0,1)}else c.innerHTML=d});e.exports=d},{128:128}],123:[function(d,
e,c){c=d(128);var b=d(105),a=d(122);d=function(a,b){a.textContent=b};c.canUseDOM&&("textContent"in document.documentElement||(d=function(c,d){a(c,b(d))}));e.exports=d},{105:105,122:122,128:128}],124:[function(d,e,c){e.exports=function(b,a){var c=null===b||!1===b,d=null===a||!1===a;if(c||d)return c===d;c=typeof b;d=typeof a;return"string"===c||"number"===c?"string"===d||"number"===d:"object"===d&&b.type===a.type&&b.key===a.key}},{}],125:[function(d,e,c){function b(a){return n[a]}function a(a,c){return a&&
null!=a.key?"$"+(""+a.key).replace(s,b):c.toString(36)}function f(c,d,e,n){var w=typeof c;if(("undefined"===w||"boolean"===w)&&(c=null),null===c||"string"===w||"number"===w||l.isValidElement(c))return e(n,c,""===d?g+a(c,0):d),1;var v,x,z=0;d=""===d?g:d+p;if(Array.isArray(c))for(w=0;w<c.length;w++)v=c[w],x=d+a(v,w),z+=f(v,x,e,n);else{var y=m(c);if(y)if(w=y.call(c),y!==c.entries)for(y=0;!(c=w.next()).done;)v=c.value,x=d+a(v,y++),z+=f(v,x,e,n);else for(;!(c=w.next()).done;)(c=c.value)&&(v=c[1],x=d+("$"+
(""+c[0]).replace(s,b))+p+a(v,0),z+=f(v,x,e,n));else"object"===w&&(String(c),h(!1))}return z}var l=(d(34),d(50));c=d(59);var m=d(113),h=d(142),g=(d(151),c.SEPARATOR),p=":",n={"\x3d":"\x3d0",".":"\x3d1",":":"\x3d2"},s=/[=.:]/g;e.exports=function(a,b,c){return null==a?0:f(a,"",b,c)}},{113:113,142:142,151:151,34:34,50:50,59:59}],126:[function(d,e,c){c=(d(23),d(134));d=(d(151),c);e.exports=d},{134:134,151:151,23:23}],127:[function(d,e,c){var b=d(134);e.exports={listen:function(a,b,c){return a.addEventListener?
(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,c,d){return a.addEventListener?(a.addEventListener(c,d,!0),{remove:function(){a.removeEventListener(c,d,!0)}}):{remove:b}},registerDefault:function(){}}},{134:134}],128:[function(d,e,c){d=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports={canUseDOM:d,canUseWorkers:"undefined"!=
typeof Worker,canUseEventListeners:d&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d}},{}],129:[function(d,e,c){var b=/-(.)/g;e.exports=function(a){return a.replace(b,function(a,b){return b.toUpperCase()})}},{}],130:[function(d,e,c){var b=d(129),a=/^-ms-/;e.exports=function(c){return b(c.replace(a,"ms-"))}},{129:129}],131:[function(d,e,c){var b=d(144);e.exports=function(a,c){var d=!0;a:for(;d;){var d=a,e=c;if(d&&e){if(d===e)return!0;if(b(d))return!1;
if(b(e)){a=d;c=e.parentNode;d=!0;continue a}return d.contains?d.contains(e):d.compareDocumentPosition?!!(16&d.compareDocumentPosition(e)):!1}return!1}}},{144:144}],132:[function(d,e,c){var b=d(150);e.exports=function(a){return a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)?Array.isArray(a)?a.slice():b(a):[a]}},{150:150}],133:[function(d,e,c){c=d(128);var b=d(132),a=d(138),f=d(142),l=c.canUseDOM?
document.createElement("div"):null,m=/^\s*<(\w+)/;e.exports=function(c,d){var e=l;l?void 0:f(!1);var n;if(n=(n=(n=c.match(m))&&n[1].toLowerCase())&&a(n)){e.innerHTML=n[1]+c+n[2];for(n=n[0];n--;)e=e.lastChild}else e.innerHTML=c;n=e.getElementsByTagName("script");n.length&&(d?void 0:f(!1),b(n).forEach(d));for(n=b(e.childNodes);e.lastChild;)e.removeChild(e.lastChild);return n}},{128:128,132:132,138:138,142:142}],134:[function(d,e,c){function b(a){return function(){return a}}function a(){}a.thatReturns=
b;a.thatReturnsFalse=b(!1);a.thatReturnsTrue=b(!0);a.thatReturnsNull=b(null);a.thatReturnsThis=function(){return this};a.thatReturnsArgument=function(a){return a};e.exports=a},{}],135:[function(d,e,c){e.exports={}},{}],136:[function(d,e,c){e.exports=function(b){try{b.focus()}catch(a){}}},{}],137:[function(d,e,c){e.exports=function(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(b){return document.body}}},{}],138:[function(d,e,c){c=d(128);var b=
d(142),a=c.canUseDOM?document.createElement("div"):null,f={};d=[1,'\x3cselect multiple\x3d"true"\x3e',"\x3c/select\x3e"];c=[1,"\x3ctable\x3e","\x3c/table\x3e"];var l=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],m=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg"\x3e',"\x3c/svg\x3e"],h={"*":[1,"?\x3cdiv\x3e","\x3c/div\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],
legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],optgroup:d,option:d,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l};"circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop text tspan".split(" ").forEach(function(a){h[a]=m;f[a]=!0});e.exports=function(c){return a?void 0:b(!1),h.hasOwnProperty(c)||(c="*"),f.hasOwnProperty(c)||
("*"===c?a.innerHTML="\x3clink /\x3e":a.innerHTML="\x3c"+c+"\x3e\x3c/"+c+"\x3e",f[c]=!a.firstChild),f[c]?h[c]:null}},{128:128,142:142}],139:[function(d,e,c){e.exports=function(b){return b===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:b.scrollLeft,y:b.scrollTop}}},{}],140:[function(d,e,c){var b=/([A-Z])/g;e.exports=function(a){return a.replace(b,"-$1").toLowerCase()}},{}],141:[function(d,e,c){var b=d(140),a=/^ms-/;e.exports=
function(c){return b(c).replace(a,"-ms-")}},{140:140}],142:[function(d,e,c){e.exports=function(b,a,c,d,e,h,g,p){if(!b){if(void 0===a)b=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var n=[c,d,e,h,g,p],s=0;b=Error(a.replace(/%s/g,function(){return n[s++]}));b.name="Invariant Violation"}throw b.framesToPop=1,b;}}},{}],143:[function(d,e,c){e.exports=function(b){return!(!b||!("function"==typeof Node?b instanceof
Node:"object"==typeof b&&"number"==typeof b.nodeType&&"string"==typeof b.nodeName))}},{}],144:[function(d,e,c){var b=d(143);e.exports=function(a){return b(a)&&3==a.nodeType}},{143:143}],145:[function(d,e,c){var b=d(142);e.exports=function(a){var c,d={};a instanceof Object&&!Array.isArray(a)?void 0:b(!1);for(c in a)a.hasOwnProperty(c)&&(d[c]=c);return d}},{142:142}],146:[function(d,e,c){e.exports=function(b){for(var a in b)if(b.hasOwnProperty(a))return a;return null}},{}],147:[function(d,e,c){var b=
Object.prototype.hasOwnProperty;e.exports=function(a,c,d){if(!a)return null;var e={},h;for(h in a)b.call(a,h)&&(e[h]=c.call(d,a[h],h,a));return e}},{}],148:[function(d,e,c){e.exports=function(b){var a={};return function(c){return a.hasOwnProperty(c)||(a[c]=b.call(this,c)),a[c]}}},{}],149:[function(d,e,c){var b=Object.prototype.hasOwnProperty;e.exports=function(a,c){if(a===c)return!0;if("object"!=typeof a||null===a||"object"!=typeof c||null===c)return!1;var d=Object.keys(a),e=Object.keys(c);if(d.length!==
e.length)return!1;for(var e=b.bind(c),h=0;h<d.length;h++)if(!e(d[h])||a[d[h]]!==c[d[h]])return!1;return!0}},{}],150:[function(d,e,c){var b=d(142);e.exports=function(a){var c=a.length;if(Array.isArray(a)||"object"!=typeof a&&"function"!=typeof a?b(!1):void 0,"number"!=typeof c?b(!1):void 0,0===c||c-1 in a?void 0:b(!1),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(d){}for(var e=Array(c),h=0;c>h;h++)e[h]=a[h];return e}},{142:142}],151:[function(d,e,c){d=d(134);e.exports=d},{134:134}]},
{},[1])(1)})},"mw-table/view/ClassMapEnum":function(){define([],function(){return Object.freeze({selected:"mw-table-row-selected",names:{ROW_SELECTED:"mw-table-row-selected"},selectors:{ROW_SELECTED:".mw-table-row-selected"}})})},"mw-table/view/ComponentFactory":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&
d(e,b);return e}}();define("../enums/DefaultsEnum ./EditableTableCell ./InteractiveTableCell ./TableCell ./TableRow ./ColumnHeader ./HeaderRow ./TbodyComponent ./TableComponent ./ScrollComponent ./OuterWrapperComponent ./ColResizeAffordance ./SortAffordance ./RowHeader ./RowHeaderCell ./HeaderMenuAffordance ./Tooltip ./TableUtils react/react.min".split(" "),function(d,e,c,b,a,f,l,m,h,g,p,n,s,r,q,t,u,w,v){var x=function(){return v.createElement("div",{className:"mwTableHeaderAffordancePlaceholder"})};
return function(){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.propFactory=a}k(d,[{key:"validateStartValue",value:function(a){"number"!==typeof a?a=0:0>a&&(a=0);return a}},{key:"validateEndValue",value:function(a){"number"!==typeof a&&(a=-1);return a}},{key:"makeCell",value:function(a,d,f){var g=this.propFactory.props,h=g.headers,l=g.data,k=g.eventCallback,m=g.focused,p=g.editState,n=g.forceCellRender,r=g.interactiveRenderList,s=g.logicalRowHeight,
g=this.propFactory.getRendererFor(a,d),q=w.getInteractiveRendererFor(r,a,d),r=this.propFactory.getEditorFor(a,d),t=b,p=p[a+","+d];q?(t=c,g=q.renderer):r&&(t=e);f=h[f]?h[f].styleData:{};s&&(f.height=s+"px");h=[a,d].join();return v.createElement(t,{forceUpdate:n,key:d,styleData:f,row:a,column:d,cellData:l(a)(d),eventCallback:k,focusClass:m[h],renderer:g,editor:r,editState:p})}},{key:"makeCellsForRow",value:function(a){for(var b=this.propFactory.props,c=b.startCol,b=b.endCol,d=[],c=this.validateStartValue(c),
b=this.validateEndValue(b),e=c;e<=b;e++)d.push(this.makeCell(a,e,e-c));return d}},{key:"makeRowElements",value:function(){for(var b=this.propFactory.props,c=b.startRow,d=b.endRow,b=b.metadata,c=this.validateStartValue(c),d=this.validateEndValue(d),e=[];c<=d;c+=1){var f=b[c.toString()]||{},g=this.makeCellsForRow(c);e.push(v.createElement(a,{key:c,rowIndex:c,children:g,metadata:f}))}return e}},{key:"makeTooltip",value:function(){return v.createElement(u,{eventCallback:this.propFactory.props.eventCallback})}},
{key:"makeRowHeaderCell",value:function(a,b){var c=this.propFactory.props;return v.createElement(q,{key:a,rowIndex:a,styleData:{},metadata:b,rowHeight:c.logicalRowHeight,eventCallback:c.eventCallback})}},{key:"makeRowHeaderList",value:function(a){a=a||[function(){return{value:void 0}}];for(var b=this.propFactory.props,c=b.startRow,b=b.endRow,d=c,e=[],f=function(){return{value:{label:""},classList:"mw-table-index-only",isEqual:function(){return!0}}},c=this.validateStartValue(c),b=this.validateEndValue(b),
d=c;d<=b;d+=1){var c=a[0](d).value,g=void 0,g=c&&void 0!==c.label?a[0](d):f(),c=this.makeRowHeaderCell(d,g);e.push(c)}return e}},{key:"makeRowHeaderComponent",value:function(a){var b=this.propFactory.props;return v.createElement(r,{scrollPos:b.scrollYPos,rowHeaderHeight:b.height,eventCallback:b.eventCallback,rowHeight:b.logicalRowHeight,children:a})}},{key:"makeTbody",value:function(a){var b=this.propFactory.props;return v.createElement(m,{translateY:b.scrollYPos,translateX:b.translateX,eventCallback:b.eventCallback,
columnClass:b.columnClass,children:a})}},{key:"makeSortAffordance",value:function(a,b){var c=this.propFactory.props,d=c.eventCallback,e=a.sortType;if(c.sortable&&e)return v.createElement(s,{colIndex:b,eventCallback:d,sortType:e,sorted:this.propFactory.getSortedState(b).order})}},{key:"makeColResizeAffordance",value:function(a){var b=this.propFactory.props,c=b.eventCallback,d=b.widthChanged,e=b.logicalColWidth;return b.colResize?v.createElement(n,{colIndex:a,widthChanged:d,eventCallback:c,colWidth:e}):
v.createElement(x,null)}},{key:"makeColMenuAffordance",value:function(a,b){var c=this.propFactory.props,d=c.eventCallback,e=a.headerMenu;if(c.colMenuAffordance&&e)return v.createElement(t,{colIndex:b,eventCallback:d,sorted:this.propFactory.getSortedState(b).order})}},{key:"makeColumnHeader",value:function(a,b){var c=a.label,d=a.styleData,e=this.propFactory.props,g=e.eventCallback,h=e.widthChanged,e=e.logicalColWidth,d=d||{},l=[];l.push(this.makeColMenuAffordance(a,b)||this.makeSortAffordance(a,b));
l.push(this.makeColResizeAffordance(b));return v.createElement(f,{key:b,defaultWidth:e,colIndex:b,styleData:d,resized:!0,eventCallback:g,widthChanged:h,sorted:this.propFactory.getSortedState(b).order,rightChildren:l,bottomChildren:[],name:c})}},{key:"makePagedColHeaderComponent",value:function(a){a=a||[function(){return{value:{}}}];for(var b=this.propFactory.props,c=b.startCol,d=b.endCol,e=b.lastDataColumn,b=b.logicalColWidth,f=c,g=[],h=[],c=this.validateStartValue(c),d=this.validateEndValue(d),f=
c;f<=d;f+=1){var c=a[0](f).value,l=b,k="px";c.label||(c.label=f+1);c.width&&(l=Math.floor(c.width.value),k=c.width.unit);c._index=f;c.styleData=w.getTableHeaderStyle(l,k,e,b);h.push(c);this.propFactory.setHeaderSortState(c);c=this.makeColumnHeader(c,f);g.push(c)}this.propFactory.setHeaders(h);return g}},{key:"makeTableComponent",value:function(a){var b=this.propFactory.props;return v.createElement(h,{tableClass:b.tableClass,tbody:a,height:b.height,width:b.width,eventCallback:b.eventCallback})}},{key:"makeScrollComponent",
value:function(a,b){var c=this.propFactory.props;return v.createElement(g,{eventCallback:c.eventCallback,scrollTop:c.scrollTop,table:a,rowHeader:b,rowHeaderWidth:c.rowHeaderWidth,tableAffordanceWidth:c.tableAffordanceWidth,tableBottomLeftAffordanceHeight:c.tableBottomLeftAffordanceHeight})}},{key:"makeHeaderComponent",value:function(a){var b=this.propFactory.props,c=b.width;return v.createElement(l,{displayRowHeader:b.displayRowHeader,widthChanged:b.widthChanged,scrollXPos:b.scrollXPos,flexWidth:c,
lastDataColumn:b.lastDataColumn,width:c,eventCallback:b.eventCallback,startCol:b.startCol,tableAffordanceWidth:b.tableAffordanceWidth,children:a,columnClass:b.columnClass,totalLogicalWidth:b.totalLogicalWidth})}},{key:"makeWrapperComponent",value:function(a,b){var c=this.propFactory.props;return v.createElement(p,{dataTestId:c.dataTestId,style:{maxWidth:c.maxWidth||"none"},scrollComponent:a,header:b,eventCallback:c.eventCallback,tooltip:this.makeTooltip()})}}]);return d}()})},"mw-table/view/EditableTableCell":function(){function k(c,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var d=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,
a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}(),e=function b(a,d,e){null===a&&(a=Function.prototype);var k=Object.getOwnPropertyDescriptor(a,d);if(void 0===k)return a=Object.getPrototypeOf(a),null===a?void 0:b(a,d,e);if("value"in k)return k.value;d=k.get;return void 0===d?void 0:d.call(e)};define(["react/react.min","./TableCell"],function(b,a){return function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a;a=(b.__proto__||Object.getPrototypeOf(b)).call(this);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?a:this;a._handleEditComplete=a._handleEditComplete.bind(a);return a}k(b,a);d(b,[{key:"_handleClick",value:function(a){var d=this.props,f=d.editState;d.focusClass&&!f?e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_handleClick",this).call(this,a,"","enterEditMode"):e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_handleClick",this).call(this,
a)}},{key:"_handleMouseEnter",value:function(a){this.props.editState||e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_handleMouseEnter",this).call(this,a)}},{key:"_handleEditComplete",value:function(a){if(this._content){delete this._content;var b=this.props,d=b.row,e=b.column;(b=b.eventCallback)&&b("editComplete",{value:a,row:d,column:e})}}},{key:"_mountContent",value:function(){var a=this.cell,b=this,d=this.props,e=d.editor,f=d.renderer,l=d.cellData,k=d.focusClass,q=d.eventCallback,
t=void 0,u=[];if(d.editState&&k){a.removeAttribute("data-title");try{this._content=t=new e(l.value,{}),this._previousActiveElement=document.activeElement}catch(w){return f}u.push(t.on("editComplete",function(a){u.forEach(function(a){a.remove()});u=[];a=a.newValue;t.destroy();t=void 0;b._handleEditComplete(a);b._previousActiveElement.focus()}));u.push(t.on("editCanceled",function(){u.forEach(function(a){a.remove()});u=[];t.destroy();delete b._content;t=void 0;b._previousActiveElement.focus();q("leaveEditMode",
{})}));return t}return f}},{key:"_focusMe",value:function(a){this.cell.setAttribute("data-edit",this.props.editState||!1);this.props.editState&&this.props.focusClass&&(this._previousActiveElement=document.activeElement,a.setFocus())}},{key:"shouldComponentUpdate",value:function(a,b){if(this.props.editState!==a.editState||this.props.focusClass!==a.focusClass)return!0;var d=JSON.stringify(this.props.styleData)!==JSON.stringify(a.styleData);return!this.props.cellData.isEqual(a.cellData)||d}},{key:"componentDidMount",
value:function(){var a=this.props.cellData,b=this._mountContent();this.cell.appendChild(b.getDomNode(a.value));this._focusMe(b)}},{key:"componentDidUpdate",value:function(){var a=this.props.cellData,b=this._mountContent();this.cell.replaceChild(b.getDomNode(a.value),this.cell.firstChild);this._focusMe(b)}},{key:"baseStyle",get:function(){return"mw-table-cell"}}]);return b}(a)})},"mw-table/view/TableCell":function(){function k(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["../enums/EventEnum","../enums/StateEnum","react/react.min"],function(c,b,a){var f=function(){};return function(l){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var a;a=(m.__proto__||Object.getPrototypeOf(m)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=a&&("object"===typeof a||"function"===typeof a)?a:this;a._handleMouseEnter=a._handleMouseEnter.bind(a);a._handleClick=a._handleClick.bind(a);a._handleReplaceChild=a._handleReplaceChild.bind(a);return a}k(m,l);e(m,[{key:"_handleReplaceChild",value:function(){var a=this.props;this.cell.replaceChild(a.renderer.getDomNode(a.cellData.value),this.cell.firstChild)}},{key:"_handleMouseEnter",value:function(a){var d=this;a=a.target;var e=this.props,f=e.renderer,l=e.cellData,k=e.row,m=e.column;f.getTooltip&&
(a.firstChild&&Math.max(a.firstChild.offsetWidth,a.firstChild.scrollWidth)>a.offsetWidth)&&this.props.eventCallback(c.internal.NODE_NOTIFY,{publisherFn:function(){return{node:d.cell,id:k+","+m,content:f.getTooltip(l.value).text}},publisherId:b.publisher.CELL_ENTER,noRender:!0})}},{key:"_handleClick",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"tableCellClick",d=this.cell,e=Number(d.getAttribute("data-row")),d=Number(d.getAttribute("data-col"));this.props.eventCallback&&
this.props.eventCallback(c,{row:e,column:d,meta:a.metaKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey})}},{key:"shouldComponentUpdate",value:function(a,b){if(this.props.focusClass!==a.focusClass)return!0;var c=JSON.stringify(this.props.styleData)!==JSON.stringify(a.styleData);return!this.props.cellData.isEqual(a.cellData)||c}},{key:"componentWillUpdate",value:function(a){a=this.props.cellData.isEqual(a.cellData);this._replaceChild=f;a||(this._replaceChild=this._handleReplaceChild)}},{key:"componentDidUpdate",
value:function(){this._replaceChild()}},{key:"componentDidMount",value:function(){var a=this.props;this.cell.appendChild(a.renderer.getDomNode(a.cellData.value))}},{key:"render",value:function(){var b=this,c=this.props,e=c.row,f=c.column,l=c.cellData,k=c.styleData,c=c.focusClass;if("object"!==("undefined"===typeof k?"undefined":d(k)))k={};if("object"!==("undefined"===typeof l?"undefined":d(l))||!l.hasOwnProperty("isEqual"))throw Error("cellData property requires an isEqual function.");l=[this.baseStyle,
c].join(" ");return a.createElement("td",{ref:function(a){return b.cell=a},style:k,"data-row":e,"data-col":f,onMouseEnter:this._handleMouseEnter,onClick:this._handleClick,className:l})}},{key:"baseStyle",get:function(){return"mw-table-cell mw-table-cell-background"}}]);return m}(a.Component)})},"mw-table/view/InteractiveTableCell":function(){function k(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&
b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var d=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}(),e=function b(a,d,e){null===a&&(a=Function.prototype);var k=Object.getOwnPropertyDescriptor(a,d);if(void 0===
k)return a=Object.getPrototypeOf(a),null===a?void 0:b(a,d,e);if("value"in k)return k.value;d=k.get;return void 0===d?void 0:d.call(e)};define(["react/react.min","./TableCell"],function(b,a){return function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a;a=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?
a:this;a._handleClick=a._handleClick.bind(a);return a}k(b,a);d(b,[{key:"_handleClick",value:function(a,d){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"interactiveCellClick",k=this.props,n=k.renderer,s=k.cellData,r=this.cell,k=Number(r.getAttribute("data-row")),r=Number(r.getAttribute("data-col"));(n=n.handleAction({value:s.value,target:a.target}))?this.props.eventCallback&&this.props.eventCallback(f,{row:k,column:r,oldValue:n.oldValue,newValue:n.newValue}):e(b.prototype.__proto__||
Object.getPrototypeOf(b.prototype),"_handleClick",this).call(this,a)}},{key:"baseStyle",get:function(){return"mw-table-cell"}}]);return b}(a)})},"mw-table/view/ColumnHeader":function(){function k(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}
var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["../enums/EventEnum","../enums/StateEnum",
"../enums/DataTestEnum","react/react.min"],function(c,b,a,f){return function(l){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var a;a=(m.__proto__||Object.getPrototypeOf(m)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?a:this;a.state={mousedown:!1};a._handleMouseEnter=a._handleMouseEnter.bind(a);a._handleMouseDown=a._handleMouseDown.bind(a);
a._handleMouseUp=a._handleMouseUp.bind(a);return a}k(m,l);e(m,[{key:"shouldComponentUpdate",value:function(a,b){var c=this.props,d=c.name,e=c.styleData,f=c.colIndex,c=c.sorted,l=a.styleData||{},e=e||{};return d!==a.name||f!==a.colIndex||a.widthChanged||a.sorted!==c||e.maxWidth!==l.maxWidth||e.minWidth!==l.minWidth||e.width!==l.width}},{key:"_handleMouseEnter",value:function(a){var d=this,e=this.labelRef,f=this.props.colIndex;e.offsetWidth<e.scrollWidth&&this.props.eventCallback(c.internal.NODE_NOTIFY,
{publisherFn:function(){return{node:e.parentNode,id:"colHeader"+f,content:d.props.name,className:"mw-table-header-column"}},publisherId:b.publisher.CELL_ENTER,noRender:!0})}},{key:"_handleMouseDown",value:function(){document.addEventListener("mouseup",this._handleMouseUp);this.setState({mousedown:!0})}},{key:"_handleMouseUp",value:function(){document.removeEventListener("mouseup",this._handleMouseUp);this.setState({mousedown:!1})}},{key:"render",value:function(){var b=this,c=this.props,e=c.name,l=
c.styleData,k=c.colIndex,m=c.rightChildren,c=c.defaultWidth;if("object"!==("undefined"===typeof l?"undefined":d(l)))l={maxWidth:c+"px"};if("object"===("undefined"===typeof e?"undefined":d(e)))e="";return f.createElement("th",{onMouseDown:this._handleMouseDown,"data-col-index":k,style:l,className:"mw-table-header-column mw-table-flex-container"},f.createElement("div",{className:"mwTableHeaderWrapper"},f.createElement("div",{ref:function(a){return b.labelRef=a},"data-test-id":a.HEADER_LABEL,onMouseEnter:this._handleMouseEnter,
className:"mw-table-header-label"},e),m))}}]);return m}(f.Component)})},"mw-table/enums/DataTestEnum":function(){define([],function(){return Object.freeze({HEADER_LABEL:"mw-header-label",ROW_HEADER_LABEL:"mw-row-header-label",RESIZE_AFFORDANCE:"mw-table-resize-affordance"})})},"mw-table/view/HeaderRow":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["react/react.min","./ColumnHeader","../enums/DefaultsEnum","../enums/EventEnum","../enums/StateEnum"],function(e,c,b,a,f){return function(c){function m(){if(!(this instanceof
m))throw new TypeError("Cannot call a class as a function");var a;a=(m.__proto__||Object.getPrototypeOf(m)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?a:this;a._headerRow={affordanceWidth:0};a._geomObject={scrollLeft:0,translateX:0};return a}k(m,c);d(m,[{key:"_getHeaderRects",value:function(){for(var a=this.theadRef.childNodes[0].childNodes,b={},c=0;c<a.length;c+=1)b[a[c].getAttribute("data-col-index")]=
a[c].getBoundingClientRect();return b}},{key:"_clientWidth",value:function(a){return 0<a?a+"px":"100%"}},{key:"_setComputedWidth",value:function(){var a=0,c=this.tableRef,d=this.props.tableAffordanceWidth||0,e=this.headerRef.parentNode,f=this.theadRef.childNodes[0].childNodes,l=0;0<f.length&&(l=f[f.length-1].scrollWidth-f[f.length-1].offsetWidth);1<f.length&&(l+=1);this.props.displayRowHeader&&(a=this.headerRef.childNodes[0].clientWidth+b.BORDER_WIDTH);"100%"!==this.props.flexWidth&&0<c.scrollWidth&&
(e.style.maxWidth=c.scrollWidth+a+d-l+"px")}},{key:"_setAffordanceWidth",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this._headerRow.affordanceWidth=a;var b=this.headerRef.childNodes;0===a?(b[b.length-1].style.width="0px",b[b.length-1].classList.remove("mw-table-top-right-affordance")):(b[b.length-1].style.width=a+"px",b[b.length-1].classList.add("mw-table-top-right-affordance"));this._setComputedWidth()}},{key:"componentDidUpdate",value:function(){this.props.widthChanged&&
this._setComputedWidth()}},{key:"_getGeomObject",value:function(a){var b={flexWidth:this.props.flexWidth,headerList:this.theadRef.childNodes[0].childNodes,headerThead:this.theadRef,widthChanged:this.props.widthChanged,noRender:!0};this.props.eventCallback(a,b);this._geomObject=b.result||this._geomObject}},{key:"_getTableWidth",value:function(){this.props.widthChanged&&this._getGeomObject(a.internal.TABLE_WIDTH);return this._geomObject.physicalWidth||0}},{key:"_getTranslateX",value:function(){this._getGeomObject(a.internal.COMPUTE_TRANSLATEX);
return this._geomObject.translateX}},{key:"_setScrollLeft",value:function(a){this._geomObject.scrollLeft!==a&&(this.dynRef.scrollLeft=a,this._geomObject.scrollLeft=a)}},{key:"_setTranslateX",value:function(a){a="translateX("+a+"px)";this.theadRef.style.transform=a;this.theadRef.style.webkitTransform=a}},{key:"_setTableWidth",value:function(a){0<a&&(this.tableRef.style.width=a+"px",this.tableRef.style.maxWidth=a+"px")}},{key:"componentDidMount",value:function(){var b=this;this.props.eventCallback(a.internal.NODE_SUBSCRIBE,
{subscriberFn:function(a){b.topLeft.style.minWidth=a+"px";b.topLeft.style.maxWidth=a+"px"},subscriberId:f.subscriber.TOP_LEFT,subscribeTo:f.publisher.ROW_HEADER,noRender:!0});this.props.eventCallback(a.internal.NODE_SUBSCRIBE,{subscriberFn:this._setAffordanceWidth.bind(this),subscriberId:f.subscriber.HEADER_RIGHT_AFFORDANCE,subscribeTo:f.publisher.SCROLL_BAR_WIDTH,noRender:!0});this.props.eventCallback(a.internal.NODE_PUBLISH,{publisherFn:this._getTranslateX.bind(this),publisherId:f.publisher.HEADER_TRANSX,
noRender:!0});this.props.eventCallback(a.internal.NODE_PUBLISH,{publisherFn:this._getTableWidth.bind(this),publisherId:f.publisher.CALCULATED_TABLE_WIDTH,noRender:!0});this.props.eventCallback(a.internal.NODE_SUBSCRIBE,{subscriberFn:this._setTranslateX.bind(this),subscriberId:f.subscriber.HEADER_TRANSFORMX,subscribeTo:f.publisher.HEADER_TRANSX,noRender:!0});this.props.eventCallback(a.internal.NODE_SUBSCRIBE,{subscriberFn:this._setScrollLeft.bind(this),subscriberId:f.subscriber.HEADER_SCROLL_LEFT,
subscribeTo:f.publisher.SCROLL_COMPONENT_LEFT,noRender:!0});this.props.eventCallback(a.internal.NODE_SUBSCRIBE,{subscriberFn:this._setTableWidth.bind(this),subscriberId:f.subscriber.HEADER_WIDTH,subscribeTo:f.publisher.CALCULATED_TABLE_WIDTH,noRender:!0});this.props.eventCallback(a.internal.HEADER_RECTS,{children:this._getHeaderRects.bind(this),noRender:!0});this._setComputedWidth("100%")}},{key:"render",value:function(){var a=this,b=this.props,c=b.children,d=b.trans3dHeader,f=b.flexWidth,l=b.displayRowHeader,
b=b.columnClass,d={WebkitTransform:d,MozTransform:d,msTransform:d,OTransform:d,transform:d,width:f||"0px"},f=void 0;l&&(f=e.createElement("div",{ref:function(b){return a.topLeft=b},className:"mw-table-top-left-affordance"}));return e.createElement("div",{ref:function(b){return a.headerRef=b},className:"mw-table-flex-container mw-table-header-wrapper"},f,e.createElement("div",{className:"mw-table-flex-dynamic-item",ref:function(b){return a.dynRef=b}},e.createElement("table",{ref:function(b){return a.tableRef=
b},style:d,className:"mw-table-header"},e.createElement("thead",{ref:function(b){return a.theadRef=b},className:b},e.createElement("tr",{style:{display:"flex",width:"100%"},className:"mw-table-header-row"},c)))),e.createElement("div",null))}}]);return m}(e.Component)})},"mw-table/view/TbodyComponent":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["react/react.min","../enums/EventEnum","../enums/StateEnum"],function(e,c,b){return function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");
var a=(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:this}k(f,a);d(f,[{key:"_setTranslateX",value:function(a){var b=this.tbodyRef.style.transform.split(",")[1];a="translate("+(a+"px")+","+b;this.tbodyRef.style.transform=a;this.tbodyRef.style.webkitTransform=a}},{key:"_getRowRects",value:function(){for(var a=this.tbodyRef.childNodes,
b={},c=0;c<a.length;c+=1)b[a[c].getAttribute("data-row-index")]=a[c].getBoundingClientRect();return b}},{key:"componentDidMount",value:function(){this.props.eventCallback(c.internal.NODE_SUBSCRIBE,{subscriberFn:this._setTranslateX.bind(this),subscriberId:b.subscriber.TBODY_TRANSFORM,subscribeTo:b.publisher.HEADER_TRANSX,noRender:!0});this.props.eventCallback(c.internal.ROW_RECTS,{children:this._getRowRects.bind(this),noRender:!0})}},{key:"render",value:function(){var a=this,b=this.props,c="translate("+
b.translateX+"px, 0px)";return e.createElement("tbody",{ref:function(b){return a.tbodyRef=b},className:"mw-table-tbody "+b.columnClass,style:{transform:c,WebkitTransform:c,top:b.translateY+"px"}},b.children)}}]);return f}(e.Component)})},"mw-table/view/TableComponent":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,
configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["react/react.min","../enums/EventEnum","../enums/StateEnum"],function(e,c,b){return function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");
var a=(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:this}k(f,a);d(f,[{key:"_setTableWidth",value:function(a){0<a&&(this.myTable.style.width=a+"px",this.myTable.style.maxWidth=a+"px")}},{key:"componentDidMount",value:function(){this.props.eventCallback(c.internal.NODE_SUBSCRIBE,{subscriberFn:this._setTableWidth.bind(this),subscriberId:b.subscriber.TABLE_WIDTH,
subscribeTo:b.publisher.CALCULATED_TABLE_WIDTH,noRender:!0})}},{key:"render",value:function(){var a=this,b=this.props;return e.createElement("table",{ref:function(b){return a.myTable=b},"data-test-id":"mwtable",style:{height:b.height,width:b.width},className:"mw-table "+b.tableClass},b.tbody)}}]);return f}(e.Component)})},"mw-table/view/ScrollComponent":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/EventEnum","../enums/StateEnum","react/react.min"],function(e,
c,b){return function(a){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");a=(f.__proto__||Object.getPrototypeOf(f)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?a:this;a.handleScroll=a.handleScroll.bind(a);a.handleWheel=a.handleWheel.bind(a);a._scrollDims={};return a}k(f,a);d(f,[{key:"_setRowHeaderScroll",value:function(){this.props.rowHeader&&
(this.rowHeader.childNodes[0].scrollTop=this.scrollNode.scrollTop)}},{key:"handleWheel",value:function(a){}},{key:"handleScroll",value:function(a){this.scrollNode===a.target&&(a={noRender:!0,target:{scrollTop:a.target.scrollTop,scrollLeft:a.target.scrollLeft}},this.props.eventCallback&&(this._setRowHeaderScroll(),this.props.eventCallback(e.internal.TABLE_SCROLL,a)))}},{key:"_getScrollAffordanceWidth",value:function(a){a=this.scrollNode.offsetWidth-this.scrollNode.clientWidth;return 0<a?(this._scrollDims.scrollbarWidth=
this._scrollDims.scrollbarWidth||a,this._scrollDims.scrollbarWidth):0}},{key:"_getScrollAffordanceHeight",value:function(){var a=this.scrollNode.offsetHeight-this.scrollNode.clientHeight;return 0<a?(this._scrollDims.scrollbarHeight=this._scrollDims.scrollbarHeight||a,this._scrollDims.scrollbarHeight):0}},{key:"_setScrollAffordanceHeight",value:function(a){var b=this.rowHeader.childNodes[1];0<a?b.classList.add("mw-table-bottom-left-affordance"):b.classList.remove("mw-table-bottom-left-affordance");
b.style.height=a+"px"}},{key:"_getScrollLeft",value:function(){return this.scrollNode.scrollLeft}},{key:"componentDidMount",value:function(){var a=this;this.rowHeader&&(this.props.eventCallback(e.internal.NODE_SUBSCRIBE,{subscriberFn:function(b){a.rowHeader.style.maxWidth=b+"px";a.rowHeader.style.minWidth=b+"px"},subscribeTo:c.publisher.ROW_HEADER,subscriberId:c.subscriber.ROW_HEADER_PARENT,noRender:!0}),this.props.eventCallback(e.internal.NODE_PUBLISH,{publisherFn:this._getScrollAffordanceHeight.bind(this),
publisherId:c.publisher.SCROLL_BAR_HEIGHT,noRender:!0}),this.props.eventCallback(e.internal.NODE_SUBSCRIBE,{subscriberFn:this._setScrollAffordanceHeight.bind(this),subscribeTo:c.publisher.SCROLL_BAR_HEIGHT,subscriberId:c.subscriber.TABLE_BOTTOM_LEFT_AFFORDANCE,noRender:!0}));this.props.eventCallback(e.internal.NODE_PUBLISH,{publisherFn:this._getScrollLeft.bind(this),publisherId:c.publisher.SCROLL_COMPONENT_LEFT,noRender:!0});this.props.eventCallback(e.internal.NODE_PUBLISH,{publisherFn:this._getScrollAffordanceWidth.bind(this),
publisherId:c.publisher.SCROLL_BAR_WIDTH,noRender:!0});this.props.eventCallback(e.internal.TABLE_MOUNT,{table:this.scrollNode})}},{key:"render",value:function(){var a=this,c=this.props,d=c.table,e=c.rowHeader,f=c.rowHeaderWidth,c={};f&&(c={width:f+"px"});f=void 0;e&&(f=b.createElement("div",{className:"mw-table-row-header-container",style:c,ref:function(b){return a.rowHeader=b}},b.createElement("div",{className:"mw-table-row-header-scrolling-div"},e),b.createElement("div",null)));return b.createElement("div",
{ref:function(b){return a.myScrollComponent=b},className:"mw-table-flex-container mwTableFlexItem mw-table-scroll-container"},f,b.createElement("div",{className:"mw-table-inner-wrapper mw-scrolling-div",onScroll:this.handleScroll,onWheel:this.handleWheel,ref:function(b){return a.scrollNode=b}},d))}}]);return f}(b.Component)})},"mw-table/view/OuterWrapperComponent":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/EventEnum","../enums/StateEnum","../enums/KeyCodeEnum",
"../enums/MouseCodeEnum","react/react.min"],function(e,c,b,a,f){return function(l){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var b;b=(m.__proto__||Object.getPrototypeOf(m)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=b&&("object"===typeof b||"function"===typeof b)?b:this;b.state=a;b._handleResize=b._handleResize.bind(b);b._handleKeyDown=b._handleKeyDown.bind(b);b._handleFocus=b._handleFocus.bind(b);
b._handleBlur=b._handleBlur.bind(b);b._handleDoubleClick=b._handleDoubleClick.bind(b);b._handleContextMenu=b._handleContextMenu.bind(b);return b}k(m,l);d(m,[{key:"_handleKeyDown",value:function(a){switch(a.keyCode){case b.ARROW_UP:case b.ARROW_DOWN:case b.ARROW_RIGHT:case b.ARROW_LEFT:case b.PAGE_UP:case b.PAGE_DOWN:case b.END:case b.HOME:case b.SPACE:a.preventDefault();a.stopPropagation();break;case b.ALT:case b.SHIFT:case b.CTRL:case b.META:return}this.props.eventCallback&&(this.myOuterWrapper.focus(),
this.props.eventCallback(e.internal.TABLE_KEY_PRESS,{keyCode:a.keyCode,meta:a.metaKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey}),this.props.eventCallback(e.internal.NODE_NOTIFY,{publisherFn:function(){return!0},publisherId:c.publisher.TOOLTIP_DISMISS,noRender:!0}))}},{key:"_handleFocus",value:function(a){this.props.eventCallback&&this.props.eventCallback("tableFocus",{target:a.target,noRender:!0});this.setState({wrapperClass:"mw-table-outer-wrapper"})}},{key:"_handleBlur",value:function(a){this.setState({wrapperClass:"mw-table-outer-wrapper-blurred"})}},
{key:"_handleResize",value:function(){this.state.eventCallback(e.internal.TABLE_RESIZE,{viewHeightInPx:this.myOuterWrapper.children[1].clientHeight,viewWidthInPx:this.myOuterWrapper.children[1].clientWidth})}},{key:"_handleDoubleClick",value:function(a){this.props.eventCallback&&this.props.eventCallback(e.internal.TABLE_DBL_CLICK,a)}},{key:"_handleRightClick",value:function(a){for(var b=a.target,c=b.tagName;"TD"!==c&&"TH"!==c;)if(b=b.parentNode,c=b.tagName,"BODY"===c)return;b=this._getRowColIndex(b);
this.props.eventCallback&&this.props.eventCallback(e.internal.TABLE_RIGHT_CLICK,{left:a.pageX,top:a.pageY,row:b.row,col:b.col})}},{key:"_handleContextMenu",value:function(b){switch(b.button){case a.MOUSE_LEFT_BUTTON:b.preventDefault();break;case a.MOUSE_RIGHT_BUTTON:b.preventDefault(),this._handleRightClick(b)}}},{key:"_getRowColIndex",value:function(a){var b={row:-1,col:-1},c=a.tagName;"TD"===c?(b.col=Number(a.getAttribute("data-col")),b.row=Number(a.getAttribute("data-row"))):"TH"===c&&(a.getAttribute("data-col-index")?
b.col=Number(a.getAttribute("data-col-index")):b.row=Number(a.getAttribute("data-row-index")));return b}},{key:"_setScrollAffordanceWidth",value:function(a){0<a?this.myOuterWrapper.classList.add("mw-table-has-vertical-scroll"):this.myOuterWrapper.classList.remove("mw-table-has-vertical-scroll")}},{key:"componentDidUpdate",value:function(){this.state.eventCallback(e.internal.FORCE_LAYOUT,{noRender:!0})}},{key:"componentDidMount",value:function(){this.props.eventCallback(e.internal.NODE_SUBSCRIBE,{subscriberFn:this._setScrollAffordanceWidth.bind(this),
subscribeTo:c.publisher.SCROLL_BAR_WIDTH,subscriberId:c.subscriber.TABLE_HAS_VERT_SCROLL,noRender:!0})}},{key:"render",value:function(){var a=this,b=this.state,c=b.header,d=b.scrollComponent,e=b.dataTestId,l=b.wrapperClass,b=b.tooltip;return f.createElement("div",{className:"mw-table-component mw-table-scoped"},f.createElement("div",{ref:function(b){return a.myOuterWrapper=b},tabIndex:"0","data-test-id":e,className:l||"mw-table-outer-wrapper-blurred",onKeyDown:this._handleKeyDown,onFocus:this._handleFocus,
onBlur:this._handleBlur,onDoubleClick:this._handleDoubleClick,onContextMenu:this._handleContextMenu},c,d,b))}}]);return m}(f.Component)})},"mw-table/enums/MouseCodeEnum":function(){define([],function(){return Object.freeze({MOUSE_LEFT_BUTTON:0,MOUSE_MIDDLE_BUTTON:1,MOUSE_RIGHT_BUTTON:2})})},"mw-table/view/ColResizeAffordance":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&
c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/DataTestEnum","../enums/EventEnum","react/react.min"],function(e,c,b){return function(a){function f(){if(!(this instanceof
f))throw new TypeError("Cannot call a class as a function");var a;a=(f.__proto__||Object.getPrototypeOf(f)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?a:this;a._handleMouseDown=a._handleMouseDown.bind(a);a._handleMouseUp=a._handleMouseUp.bind(a);a._handleMouseMove=a._handleMouseMove.bind(a);a.state={computedWidth:null};return a}k(f,a);d(f,[{key:"shouldComponentUpdate",value:function(a,
b){return b.computedWidth!==this.state.computedWidth||!0===a.widthChanged}},{key:"_getComputedWidth",value:function(){return this.affordance.parentNode.parentNode.offsetWidth}},{key:"_handleMouseDown",value:function(a){a.preventDefault();a.target.hasAttribute("data-affordance-index")&&(document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("mousemove",this._handleMouseMove),this.setState({column:Number(a.target.getAttribute("data-col-index")),computedWidth:this._getComputedWidth(),
startPos:a.clientX}))}},{key:"_handleMouseUp",value:function(a){document.removeEventListener("mouseup",this._handleMouseUp);document.removeEventListener("mousemove",this._handleMouseMove);this._handleMouseMove(a)}},{key:"_handleMouseMove",value:function(a){var b=window.getComputedStyle(this.affordance.parentNode).width;b.substring(0,b.length-2);this.props.eventCallback(c.ColResize,{width:Math.max(this.props.colWidth,a.clientX-this.state.startPos+this.state.computedWidth),column:this.props.colIndex})}},
{key:"_reportComputedWidth",value:function(){this.props.eventCallback&&this.props.eventCallback(c.ColHeaderDidMount,{width:this._getComputedWidth(),column:this.props.colIndex,noRender:!0})}},{key:"componentDidUpdate",value:function(){this._reportComputedWidth()}},{key:"componentDidMount",value:function(){this._reportComputedWidth()}},{key:"render",value:function(){var a=this;return b.createElement("div",{ref:function(b){return a.affordance=b},"data-test-id":e.RESIZE_AFFORDANCE,"data-affordance-index":this.props.colIndex,
onMouseDown:this._handleMouseDown,className:"mw-table-resize-affordance"})}}]);return f}(b.Component)})},"mw-table/view/SortAffordance":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=
0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["mw-tabular-data-model/sort/Enum","../enums/EventEnum","react/react.min"],function(e,c,b){return function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var a;a=(f.__proto__||Object.getPrototypeOf(f)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=a&&("object"===typeof a||"function"===typeof a)?a:this;a._handleClick=a._handleClick.bind(a);return a}k(f,a);d(f,[{key:"shouldComponentUpdate",value:function(a){return a.sorted!==this.props.sorted}},{key:"_handleClick",value:function(a){a.stopPropagation();a=e.order.ASC;this.props.sorted===a&&(a=e.order.DESC);this.props.eventCallback(c.internal.SORT_AFFORDANCE_CLICKED,{order:a,type:this.props.sortType,column:this.props.colIndex})}},{key:"render",value:function(){var a=this.props;return b.createElement("div",
{"data-affordance-index":a.colIndex,"data-sorted":a.sorted,onClick:this._handleClick,className:"mwTableSortAffordance"})}}]);return f}(b.Component)})},"mw-table/view/RowHeader":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=
c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/EventEnum","../enums/StateEnum","react/react.min"],function(e,c,b){return function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var a=(f.__proto__||Object.getPrototypeOf(f)).apply(this,
arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:this}k(f,a);d(f,[{key:"_publishMaxWidth",value:function(){var a=this,b=this.props.rowHeight;return function(){b=Math.max(b,a.rowHeader.offsetWidth);a.rowHeader.style.minWidth=b+"px";return b}}},{key:"componentDidMount",value:function(){this.props.eventCallback(e.internal.NODE_PUBLISH,{publisherFn:this._publishMaxWidth().bind(this),publisherId:c.publisher.ROW_HEADER,
noRender:!0})}},{key:"render",value:function(){var a=this,c=this.props,d=c.children,e=c.scrollPos,c=c.rowHeaderHeight,f={},k={};"number"===typeof e&&(f={height:c},k={transform:"translateY("+e+"px)",WebkitTransform:"translateY("+e+"px)"});return b.createElement("table",{className:"mw-table-row-header",ref:function(b){return a.rowHeader=b},"data-test-id":"mw-table-row-header",style:f},b.createElement("tbody",{className:"mw-table-tbody-row-header",style:k},d))}}]);return f}(b.Component)})},"mw-table/view/RowHeaderCell":function(){function k(c,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":
typeof c},e=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}();define(["../enums/DefaultsEnum","../enums/EventEnum","../enums/StateEnum","../enums/DataTestEnum","react/react.min"],function(c,b,a,f,l){return function(c){function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");
var a;a=(h.__proto__||Object.getPrototypeOf(h)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=a&&("object"===typeof a||"function"===typeof a)?a:this;a.state={mousedown:!1};a._handleMouseEnter=a._handleMouseEnter.bind(a);a._handleMouseDown=a._handleMouseDown.bind(a);a._handleMouseUp=a._handleMouseUp.bind(a);a._removeDataTitle=a._removeDataTitle.bind(a);return a}k(h,c);e(h,[{key:"shouldComponentUpdate",value:function(a,b){return(this.props.metadata.value||
{}).label!==(a.metadata.value||{}).label||this.props.rowHeight!==a.rowHeight}},{key:"_removeDataTitle",value:function(){this.labelRef.removeAttribute("data-title")}},{key:"_handleMouseEnter",value:function(c){var d=this,e=this.labelRef,f=this.props.rowIndex;e.offsetWidth<e.scrollWidth&&this.props.eventCallback(b.internal.NODE_NOTIFY,{publisherFn:function(){return{node:e.parentNode,id:"rowheader"+f,content:d._label}},publisherId:a.publisher.CELL_ENTER,noRender:!0})}},{key:"_handleMouseDown",value:function(){this._removeDataTitle();
document.addEventListener("mouseup",this._handleMouseUp);this.setState({mousedown:!0})}},{key:"_handleMouseUp",value:function(){document.removeEventListener("mouseup",this._handleMouseUp);this.setState({mousedown:!1})}},{key:"render",value:function(){var a=this,b=this.props,c=b.rowIndex,e=b.rowHeight,b=b.metadata,b=void 0===b?{value:{}}:b,h=b.value||{},k=d(h.label),m="",u={};e&&(u={minHeight:e+"px",maxHeight:e+"px"});if("string"===k||"number"===k)m=" "+h.label;this._label=e=isNaN(c)?m:Number(c)+1+
m;h=["mw-table-row-header-label"];h.push(b.classList);return l.createElement("tr",{className:"mw-table-flex-dynamic-item"},l.createElement("th",{style:u,onMouseDown:this._handleMouseDown,"data-row-index":c,className:"mw-table-row-header-cell mw-table-flex-container"},l.createElement("div",{ref:function(b){return a.labelRef=b},"data-test-id":f.ROW_HEADER_LABEL,onMouseEnter:this._handleMouseEnter,className:h.join(" ")},e)))}}]);return h}(l.Component)})},"mw-table/view/HeaderMenuAffordance":function(){function k(d,
c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,
b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/EventEnum","react/react.min"],function(e,c){return function(b){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var b;b=(a.__proto__||Object.getPrototypeOf(a)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=b&&("object"===typeof b||"function"===typeof b)?b:this;b._handleClick=b._handleClick.bind(b);return b}k(a,b);d(a,[{key:"shouldComponentUpdate",
value:function(a){return a.sorted!==this.props.sorted}},{key:"_handleClick",value:function(a){a=this.menuRef.getBoundingClientRect();this.props.eventCallback(e.internal.HEADER_CLICKED,{columnIndex:this.props.colIndex,bottomRect:window.pageYOffset+a.bottom,leftRect:window.pageXOffset+a.left,noRender:!0})}},{key:"render",value:function(){var a=this,b=this.props;return c.createElement("div",{"data-affordance-index":b.colIndex,ref:function(b){return a.menuRef=b},"data-sorted":b.sorted,onClick:this._handleClick,
className:"mwTableHeaderMenuAffordance"})}}]);return a}(c.Component)})},"mw-table/view/Tooltip":function(){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/EventEnum","../enums/StateEnum","../enums/DefaultsEnum","react/react.min"],function(e,c,b,a){return function(f){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var a=(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return a&&("object"===typeof a||"function"===typeof a)?a:this}k(l,f);d(l,[{key:"_dismissTooltip",value:function(a){this.props.eventCallback(e.internal.NODE_NOTIFY,{publisherFn:function(){return!0},publisherId:c.publisher.TOOLTIP_DISMISS+a.id,noRender:!0})}},{key:"_addListeners",value:function(a){function b(){c.removeEventListener("mouseleave",b);c.removeEventListener("wheel",b);c.removeEventListener("click",b);e._dismissTooltip({node:c,id:d})}var c=a.node,d=a.id,e=this;c.addEventListener("wheel",
b);c.addEventListener("click",b);c.addEventListener("mouseleave",b);return b}},{key:"_getTipData",value:function(a){var b=a.node,c=a.content;a=a.id;var d=b.getBoundingClientRect(),e=window.getComputedStyle(b);return{id:a,node:b,top:d.top,left:d.left+1,width:d.width,backgroundColor:e.backgroundColor||"rgb(255, 255, 255)",content:c}}},{key:"_unsetPosition",value:function(){this.myTooltip.removeAttribute("style");this.props.eventCallback(e.internal.NODE_UNSUBSCRIBE,{subscriberId:c.subscriber.TOOLTIP_LEAVE,
noRender:!0})}},{key:"_subscribeToDismissal",value:function(a){var b=a.id,b=void 0===b?"":b;a=this._addListeners({id:b,node:a.node});this.props.eventCallback(e.internal.NODE_SUBSCRIBE,{subscriberFn:this._unsetPosition.bind(this),subscriberId:c.subscriber.TOOLTIP_LEAVE,subscribeTo:c.publisher.TOOLTIP_DISMISS+b,noRender:!0});this.props.eventCallback(e.internal.NODE_SUBSCRIBE,{subscriberFn:a,subscriberId:c.subscriber.TOOLTIP_GLOBAL_LEAVE,subscribeTo:c.publisher.TOOLTIP_DISMISS,noRender:!0})}},{key:"_setPosition",
value:function(a){this.myTooltip.style.top=a.top+"px";this.myTooltip.style.visibility="visible";this.myTooltip.firstChild.style.maxWidth=Math.max(b.dimensions.TOOLTIP_MIN_WIDTH,a.width)+"px";this.myTooltip.firstChild.style.backgroundColor=a.backgroundColor;this.myTooltip.firstChild.textContent=a.content;a=a.left+Math.min(0,document.documentElement.clientWidth-(a.left+this.myTooltip.clientWidth));this.myTooltip.style.left=Math.max(0,a)+"px"}},{key:"componentDidMount",value:function(){var a=this;this.props.eventCallback(e.internal.NODE_SUBSCRIBE,
{subscriberFn:function(b){b=a._getTipData(b);0<b.content.length&&(a._setPosition(b),a._subscribeToDismissal(b))},subscriberId:c.subscriber.TOOLTIP_ENTER,subscribeTo:c.publisher.CELL_ENTER,noRender:!0})}},{key:"render",value:function(){var b=this;return a.createElement("div",{className:"mw-table-tooltip-wrapper",ref:function(a){return b.myTooltip=a}},a.createElement("div",{"data-test-id":"mw-table-tooltip",className:"mw-table-tooltip"}))}}]);return l}(a.Component)})},"mw-table/lifecycle/IncomingDataUpdates":function(){var k=
function(){return function(d,c){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d)){var b=[],a=!0,f=!1,l=void 0;try{for(var k=d[Symbol.iterator](),h;!(a=(h=k.next()).done)&&!(b.push(h.value),c&&b.length===c);a=!0);}catch(g){f=!0,l=g}finally{try{if(!a&&k["return"])k["return"]()}finally{if(f)throw l;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../enums/StateEnum"],function(e){return function(){function c(b,a,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._viewModel=b;this._renderer=a;this._build=d;b.on("dataSizeChanged",this._dataSizeChanged.bind(this));b.on("viewDataChanged",this._viewDataChanged.bind(this))}d(c,[{key:"_removeDirtyStates",value:function(){var b=
this._viewModel.getStateByKey(e.SORTED);b&&b.rangeList&&(this._viewModel.deleteColumnMetaData(e.SORTED,b.rangeList[0].columns.start),this._viewModel.deleteState(e.SORTED))}},{key:"_dataSizeChanged",value:function(){this._removeDirtyStates();this._renderer.resize()}},{key:"_viewDataChanged",value:function(b){this.buffEnd=this._viewModel.viewBuffer.rangeList[0].rows.end;this._build.buildDataComponents(b);this._triggerRender()}},{key:"_triggerRender",value:function(){var b=this._build.buildTable(),b=
k(b,2);this._renderer.render(b[0],b[1])}}]);return c}()})},"mw-table/lifecycle/Render":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["react/react-dom.min"],function(d){return function(){function e(c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
this._container=document.createElement("div");this._container.style.height="100%";this._container.style.width="100%";this._table=c}k(e,[{key:"mount",value:function(){this._tableComponent=d.render(this._table,this._container);this.resize();return this._tableComponent}},{key:"render",value:function(c,b){this._tableComponent&&this._tableComponent.setState({scrollComponent:c,header:b})}},{key:"resize",value:function(){this._tableComponent._handleResize()}},{key:"unmount",value:function(){d.unmountComponentAtNode(this._container);
this._container.parentNode&&this._container.parentNode.removeChild(this._container);this._tableComponent=this._container=null}},{key:"domNode",get:function(){return this._container}}]);return e}()})},"react/react-dom.min":function(){!function(k){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=k(require("react"));else if("function"==typeof define&&define.amd)define(["react/react.min"],k);else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=
typeof self?self:this;d.ReactDOM=k(d.React)}}(function(k){return k.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED})},"mw-table/lifecycle/InteractionEvents":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../utils/Throttle","../view/TableUtils","../enums/StateEnum"],function(d,e,c){var b=
d(e.renderUpdate,1E3/60);return function(){function a(b,d,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._viewModel=b;this._adaptorList=d;this._viewPortList=e;this._triggerRender=this._handlingUserInteraction=!1;this._handleMetaDataUpdate=this._handleMetaDataUpdate.bind(this);this._handleMetaDataFlags=this._handleMetaDataFlags.bind(this);this.eventCallback=this.eventCallback.bind(this);b.on(c.SELECTED,this._handleMetaDataUpdate);b.on(c.FOCUSED,this._handleMetaDataUpdate);
b.on(c.SORTED,this._handleMetaDataUpdate);b.on(c.EDIT_STATE,this._handleMetaDataUpdate);b.on(c.COLUMN_RESIZED,this._handleMetaDataFlags)}k(a,[{key:"_handleMetaDataFlags",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!0===a.value&&this._handleMetaDataUpdate(a)}},{key:"_handleMetaDataUpdate",value:function(){this._handlingUserInteraction?this._triggerRender=!0:b(this._viewModel,this._viewPortList[0].getBufferedViewPort())}},{key:"eventCallback",value:function(a,c){c=
c||{};this._handlingUserInteraction=!0;this._adaptorList.handleEvent(a,{dataSize:this._viewModel.dataSize,viewPort:this._viewModel.viewPort,event:c});var d=this._viewModel.getStateByKey("setScrollTop")||{value:!1};this._triggerRender&&!d.value&&b(this._viewModel,this._viewPortList[0].getBufferedViewPort());this._triggerRender=!1;this._viewModel.setState("setScrollTop",!1);this._handlingUserInteraction=!1}}]);return a}()})},"mw-table/parsing/headers/ColumnHeaderState":function(){var k=function(){return function(d,
c){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d)){var b=[],a=!0,f=!1,l=void 0;try{for(var k=d[Symbol.iterator](),h;!(a=(h=k.next()).done)&&!(b.push(h.value),c&&b.length===c);a=!0);}catch(g){f=!0,l=g}finally{try{if(!a&&k["return"])k["return"]()}finally{if(f)throw l;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&
(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["../../functional/FunctionalUtils","../../utils/rangeInterface","./PureColumnUtils"],function(e,c,b){return function(){function a(c){var d=c.columnModel,d=void 0===d?{}:d;c=c.viewModel;c=void 0===c?{}:c;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._viewModel=c;this._headers=e.alt(b.initializeConfiguredHeaders,function(){return[]},{columnConfig:d.columnConfig});
d=b.validateColPct(this._headers);d=k(d,2);this._setAutoFilledColumn(d[1],d[0]);c.setColumnHeaders(this._headers)}d(a,[{key:"_setAutoFilledColumn",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,b=arguments[1];-1<a&&(this._headers[a].width.value+=b)}}]);return a}()})},"mw-table/viewmodel/ViewModel":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,
a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["./_LinkedList","./_DataMapper","./_RankMetaData","mw-tabular-data-model/rangeUtil"],function(d,e,c,b){var a=function(a,b){b.eventName=a;return b};return function(){function f(b){var k=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._stateCategoryIndex={};this._stateRangeIndex=new d;this._events={};this._columnDataMapper=new e;this._rowDataMapper=new e;this._dataModel=b;this._viewColumnRange=
b.dataSize.columns;this._rowMetaData=new c({rankType:"row",dataViewMapper:this._rowDataMapper});this._columnMetaData=new c({rankType:"column",dataViewMapper:this._columnDataMapper});this.setColumnHeaders([]);this._dataModel.setBuffer?(this._manageDataModelPaging=this._dataModel.setBuffer.bind(this._dataModel),this._dataModel.on("bufferDataChanged",function(b,c){k._handlePagedDataChanged(a(b,{pagedData:c}))}),this._dataModel.on("dataSizeChanged",function(b,c){k._emitDataSizeChanged(a(b,{dataSize:c}))}),
this._dataModel.on("pagedRowMetaDataChanged",function(b,c){k._handlePagedRowMetaDataChanged(a(b,c))}),this._dataModel.on("pagedColumnMetaDataChanged",function(b,c){k._handlePagedColumnMetaDataChanged(a(b,c))})):(this._manageDataModelPaging=this._dataModel.managePaging.bind(this._dataModel),this._dataModel.on("pagedDataChanged",this._handlePagedDataChanged.bind(this)),this._dataModel.on("dataSizeChanged",this._emitDataSizeChanged.bind(this)))}k(f,[{key:"_handlePagedRowMetaDataChanged",value:function(a){var b=
this.getStateByKey("viewBuffer");b&&(this._rowMetaData.setRangeList(b.rangeList),this._rowMetaData.setDataMetaData(a.metaData),this._emitViewDataChanged())}},{key:"_handlePagedColumnMetaDataChanged",value:function(a){var b=this.getStateByKey("viewBuffer");b&&(this._columnMetaData.setRangeList(b.rangeList),this._columnMetaData.setDataMetaData(a.metaData),this._emitViewDataChanged())}},{key:"setRowMetaData",value:function(a,b,c){this._rowMetaData.setViewMetaData(a,b,c);this._emitViewDataChanged()}},
{key:"deleteRowMetaData",value:function(a,b){this._rowMetaData.deleteViewMetaData(a,b);this._emitViewDataChanged()}},{key:"setColumnMetaData",value:function(a,b,c){this._columnMetaData.setViewMetaData(a,b,c);this._emitViewDataChanged()}},{key:"deleteColumnMetaData",value:function(a,b){this._columnMetaData.deleteViewMetaData(a,b);this._emitViewDataChanged()}},{key:"_emitDataSizeChanged",value:function(){this._emit("dataSizeChanged",{dataSize:this.dataSize})}},{key:"_handlePagedDataChanged",value:function(a){var b=
this.getStateByKey("viewBuffer");b&&(this._viewData=this._columnDataMapper.modelToViewDataMapping(a.pagedData,b.rangeList),a.columnMetaData&&a.rowMetaData&&(this._rowMetaData.setRangeList(b.rangeList),this._columnMetaData.setRangeList(b.rangeList),this._columnMetaData.setDataMetaData(a.columnMetaData),this._rowMetaData.setDataMetaData(a.rowMetaData)),this._emitViewDataChanged())}},{key:"_emitViewDataChanged",value:function(){var a=this.getStateByKey("viewBuffer");if(a){var b=this._columnMetaData.getUnifiedMetaData(),
c=this._rowMetaData.getUnifiedMetaData(),d=this._columnMetaData.getMetaDataRangeList(),e=this._rowMetaData.getMetaDataRangeList();if(this._viewData&&this._viewData.length===d.length&&this._viewData.length===e.length){for(var f=0;f<this._viewData.length;f+=1){var k=this._viewData[f].range,r=d[f],q=e[f];if(k.columns.start!==r.columns.start||k.columns.end!==r.columns.end||k.rows.start!==q.rows.start||k.rows.end!==q.rows.end)return}this._emit("viewDataChanged",{viewData:this._viewData,columnMetaData:b,
rowMetaData:c,rangeList:a.rangeList})}}}},{key:"sort",value:function(a){for(var b=[],c=0;c<a.length;c+=1){var d=a[c];if(d.columnIndex<this.dataSize.columns.start||d.columnIndex>this.dataSize.columns.end)throw Error("columnIndex is out of bounds");d={columnIndex:this._columnDataMapper.viewToDataIndex(d.columnIndex),order:d.order,compare:d.compare};b.push(d)}this._dataModel.sort(b)}},{key:"setColumnHeaders",value:function(a){if(!a||0===a.length)this._columnDataMapper.viewColumnIndexToDataIndex=[],this._viewColumnRange=
this._dataModel.dataSize.columns,a=[b.range().setColumns(0,-1).setRows(0,Infinity)],this.setState("columnHeaders",[],a),this._columnMetaData.setViewHeaders([]),this._emitDataSizeChanged();else{var c=[b.range().setColumns(0,a.length-1).setRows(0,Infinity)];this._viewColumnRange=c[0].columns;this._columnDataMapper.viewColumnIndexToDataIndex=a.map(function(a){return a.dataIndex});this._columnMetaData.setViewHeaders(a);this.setState("columnHeaders",a,c)}this._emitViewDataChanged()}},{key:"getColumnHeaders",
value:function(){return this.getStateByKey("columnHeaders").value}},{key:"setState",value:function(a,b){var c=this,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(0<=["all","keys"].indexOf(a))throw Error("The key '"+a+"' is reserved, and cannot be used to setState");var d=d.slice(),e={value:b,rangeList:d,pointerList:[]};this._deleteState(a);this._stateCategoryIndex[a]=e;d.forEach(function(b){b=c._stateRangeIndex.insert(b,a);e.pointerList.push(b)});this._emit(a,this.getStateByKey(a))}},
{key:"deleteState",value:function(a){this._deleteState(a);this._emit(a)}},{key:"_deleteState",value:function(a){var b=this;if(this._stateCategoryIndex[a]){var c=this._stateCategoryIndex[a];delete this._stateCategoryIndex[a];c.pointerList.forEach(function(a){b._stateRangeIndex.remove(a)})}}},{key:"getStateByKey",value:function(a){return(a=this._stateCategoryIndex[a])?{value:a.value,rangeList:a.rangeList.slice()}:null}},{key:"getStateByRangeList",value:function(a){var c=this,d={keys:[]};a.forEach(function(a){c._stateRangeIndex.forEach(function(e){var f=
e.key;e=e.value;!d[e]&&b.doesRangeIntersect(a,f)&&(d[e]=c.getStateByKey(e),d[e].firstMatch=f,d.keys.push(e))})});return d}},{key:"on",value:function(a,b){var c=this;this._events[a]||(this._events[a]=[]);this._events[a].push(b);var d={remove:function(){var e=c._events[a].indexOf(b);c._events[a].splice(e,1);d.remove=function(){return null}}};return d}},{key:"_emit",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=this._events.all,d=this._events[a],e={};Object.getOwnPropertyNames(b).forEach(function(a){e[a]=
b[a]});e.eventName=a;var f=function(a){a&&a.forEach(function(a){a(e)})};f(d);f(c)}},{key:"viewBuffer",set:function(a){var b=a.size;a=a.rangeList.slice();var c=this._columnDataMapper.viewToModelRangeMapping(a);this.setState("viewBuffer",b,a);this._manageDataModelPaging(c)},get:function(){var a=this.getStateByKey("viewBuffer");return{size:a.value,rangeList:a.rangeList}}},{key:"viewPort",set:function(a){this.setState("viewPort",a.size,a.rangeList)},get:function(){var a=this.getStateByKey("viewPort");
return{size:a.value,rangeList:a.rangeList}}},{key:"dataSize",get:function(){var a=b.range(),a=a.setColumns(this._viewColumnRange.start,this._viewColumnRange.end);return a=a.setRows(this._dataModel.dataSize.rows.start,this._dataModel.dataSize.rows.end)}}]);return f}()})},"mw-table/viewmodel/_LinkedList":function(){function k(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function");}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||
!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define([],function(){var e=function(){function c(b,a){k(this,c);this._prev=this._next=null;this._value=a;this._key=b}d(c,[{key:"next",get:function(){return this._next},set:function(b){this._next=b}},{key:"prev",get:function(){return this._prev},set:function(b){this._prev=b}},{key:"isLast",get:function(){return null===this._next}},{key:"isFirst",get:function(){return null===
this._prev}},{key:"key",get:function(){return this._key}},{key:"value",get:function(){return this._value}}]);return c}();return function(){function c(){k(this,c);this._root=null}d(c,[{key:"insert",value:function(b,a){var c=new e(b,a);null!==this._root&&(this._root.prev=c,c.next=this._root);return this._root=c}},{key:"find",value:function(b){if(null===this._root)return null;for(var a=this._root;a;){if(a.key===b)return a;a=a.next}return null}},{key:"forEach",value:function(b){if(null!==this._root)for(var a=
this._root;a;)b(a),a=a.next}},{key:"removeWithKey",value:function(b){b=this.find(b);this.remove(b)}},{key:"remove",value:function(b){b&&(b.isFirst?(this._root=b.next,this.root&&!this.root.isLast&&(b.next.prev=null)):b.isLast?b.prev.next=null:(b.prev.next=b.next,b.next.prev=b.prev))}},{key:"root",get:function(){return this._root}}]);return c}()})},"mw-table/viewmodel/_DataMapper":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=
!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["./_Row","mw-tabular-data-model/rangeUtil"],function(d,e){var c=function(a,b){var c=[],d=[];if(0===b.length)d=a.slice(0);else{a.forEach(function(a){if(a.start>=b.length||a.end>=b.length)throw Error("RangeIndex exceeds dataIndexMap size");a=b.slice(a.start,a.end+1);c=c.concat(a)});if(0===c.length)return[];c.sort(function(a,b){return a-b});var e={start:c[0],end:c[0]};
d.push(e);for(var k=1;k<c.length;k+=1){var n=c[k];e.end+1===n||e.end===n?e.end=n:(e={start:n,end:n},d.push(e))}}return d},b=function(a,b){var d=[],h=a.map(function(a){return a.columns}),h=c(h,b);return d=d.concat(h.map(function(b){return e.range().setColumns(b.start,b.end).setRows(a[0].rows.start,a[0].rows.end)}))},a=function(a,c,d){var h=[];b([a],d).forEach(function(a){for(var b=!1,d=0;d<c.length;d+=1)if(e.isRangeInside(a,c[d])){b=!0;h.push(d);break}if(!b)throw Error("Data Range to view range mapping not found");
});return h};return function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._viewColumnIndexToDataIndex=[]}k(c,[{key:"viewToModelRangeMapping",value:function(a){var c=this,d=[];e.groupRangeListByRow(a).forEach(function(a){a=b(a,c.viewColumnIndexToDataIndex);d=d.concat(a)});return d}},{key:"modelToViewDataMapping",value:function(b,d){var e=this,g=[],k=b.map(function(a){return a.range});d.forEach(function(d,m){var r=void 0,r=a(d,k,e.viewColumnIndexToDataIndex);
r.sort(function(a,c){return b[a].range.columns.start-b[c].range.columns.start});var q=[];g[m]=function(a){if(a<q.length)return q[a];throw Error("No Data Found for rowIndex: "+a);};g[m].range=d;for(var t=d.rows.start;t<=d.rows.end;t+=1){var u=c._createRow(t,r,b,e.viewColumnIndexToDataIndex);q[t]=u}});return g}},{key:"viewToDataIndex",value:function(a){var b=this.viewColumnIndexToDataIndex;return 0<b.length?b[a]:a}},{key:"viewColumnIndexToDataIndex",set:function(a){this._viewColumnIndexToDataIndex=
a},get:function(){return this._viewColumnIndexToDataIndex}}],[{key:"_createRow",value:function(a,b,c,e){b=b.map(function(b){b=c[b];return{start:b.range.columns.start,end:b.range.columns.end,cells:b[a]}});return d(b,e)}}]);return c}()})},"mw-table/viewmodel/_Row":function(){define([],function(){return function(k,d){if(0>k.length)throw Error("No rowData Present");var e=function b(a){var e=void 0,e=0===d.length?a:d[a],l=b._lastAccessRowDataIndex;do{if(e>=k[l].start&&e<=k[l].end)return{value:k[l].cells[e],
isEqual:function(a){return a.value===this.value}};l+=1;l%=k.length}while(l!==b._lastAccessRowDataIndex);throw Error("No Data Found for cellIndex: "+a);};e._lastAccessRowDataIndex=0;e._rowData=k;e._dataIndexMap=d;e.isEqual=function(b){if(b._rowData.length!==k.length||d!==b._dataIndexMap)return!1;for(b=0;b<=k.length;b+=1)if(e._rowData[b].data!==k[b].data)return!1;return!0};return e}})},"mw-table/viewmodel/_RankMetaData":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];
a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._flatRangeList=[];this._headerMetaData=[];this._dataMetaData=[];this._viewMetaData=[];this._rankType=e.rankType||"row";"row"===this._rankType?(this._flattenRangeDimension=function(c){return c.setColumns(0,
0)},this._flattenData=function(c,b,a){return c[b](a)(0)}):"column"===this._rankType&&(this._flattenRangeDimension=function(c){return c.setRows(0,0)},this._flattenData=function(c,b,a){return c[b](0)(a)});this._dataViewMapper=e.dataViewMapper}k(d,[{key:"setViewHeaders",value:function(d){this._headerMetaData=d.slice(0)}},{key:"setRangeList",value:function(d){this._flatRangeList=d.map(this._flattenRangeDimension)}},{key:"setViewMetaData",value:function(d,c,b){this._viewMetaData[b]||(this._viewMetaData[b]=
{version:0,value:{}});this._viewMetaData[b].value[d]=c;this._viewMetaData[b].version+=1}},{key:"deleteViewMetaData",value:function(d,c){this._viewMetaData[c]&&(delete this._viewMetaData[c].value[d],this._viewMetaData[c].version+=1)}},{key:"setDataMetaData",value:function(d){this._dataMetaData=this._transform(d,this._dataViewMapper,this._flattenData)}},{key:"getMetaDataRangeList",value:function(){return this._flatRangeList}},{key:"getUnifiedMetaData",value:function(){for(var d=this,c=this._dataMetaData,
b=this._headerMetaData,a=[],f=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]});return b},l=function(h){a.push(function(a){var l=c[h](a).value,l=Object(l),k={},k=f(l,k),l={_dataMetaData:c[h](a),isEqual:function(a){return this._headerMetaData===a._headerMetaData&&this._viewMetaDataVersion===a._viewMetaDataVersion&&this._dataMetaData.isEqual(a._dataMetaData)}};b[a]&&(k=f(b[a],k),l._headerMetaData=b);if(d._viewMetaData[a]){var m=d._viewMetaData[a].value;a=d._viewMetaData[a].version;Object.keys(m).forEach(function(a){k[a]=
m[a]});l._viewMetaDataVersion=a}l.value=k;return l})},k=0;k<c.length;k+=1)l(k);return a}},{key:"_transform",value:function(d,c,b){d=c.modelToViewDataMapping(d,this._flatRangeList);c=[];b=b.bind(this,d);for(var a=0;a<d.length;a+=1){var f=b.bind(this,a);c.push(f)}return c}}]);return d}()})},"mw-table/controllers/edit/EditController":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,
a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["mw-table/enums/StateEnum","mw-table/enums/KeyCodeEnum"],function(d,e){return function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=b.tableUtils,d=b.rangeInterface,l=b.viewModel;this._dataStore=b.dataStore;this._viewModel=l;this._rangeInterface=d;this._tableUtils=a;this._validKeys={};for(b=e.BACKSPACE;b<=e.SYM2_END;b++)this._validKeys[b]=this._isValidKeyDownEvent(b)}
k(c,[{key:"exposedAPI",value:function(){return{}}},{key:"eventList",value:function(){var b=this;return{tableKeyPress:function(a){return b.setEditorOnKeyPress(a)},editComplete:function(a){return b.editHandler(a)},enterEditMode:function(a){return b.setEditorOnCell(a)},leaveEditMode:function(a){return b.removeEditorOnCell(a)}}}},{key:"_hasModifierKey",value:function(b){b=b.event;var a=b.meta,c=b.shiftKey,d=b.altKey;return b.ctrlKey||d||a||c}},{key:"editHandler",value:function(b){var a=b.event;b=a.value;
var c=a.row,a=a.column,c=Number(c),a=this._viewModel.getColumnHeaders()[Number(a)].dataIndex;this.removeEditorOnCell();this._viewModel.deleteColumnMetaData(d.SORTED,a);this._rangeInterface.updateDataForCell(this._dataStore,c,a,b)}},{key:"setEditorOnCell",value:function(b){if(!this._hasModifierKey(b)){var a=b.event;b=a.row;var a=a.column,c=this._rangeInterface.getRangeForCell(b,a),e={};e[b+","+a]=!0;this._viewModel.setState(d.EDIT_STATE,e,[c])}}},{key:"removeEditorOnCell",value:function(){this._viewModel.deleteState(d.EDIT_STATE)}},
{key:"setEditorOnKeyPress",value:function(b){b=b.event;if(!b.ctrlKey&&(!b.altKey&&!(b.meta||b.shiftKey&&b.keyCode===e.SPACE))&&this._validKeys[b.keyCode])if((b=this._rangeInterface.getStateForKey(this._viewModel,d.FOCUSED))&&b.rangeList&&0<b.rangeList.length){b=b.rangeList[0];var a={};a[b.rows.start+","+b.columns.start]=!0;this._viewModel.setState(d.EDIT_STATE,a,[b])}}},{key:"_isValidKeyDownEvent",value:function(b){b=b||1;return b>=e.NUM_START&&b<=e.NUM_END||b===e.SPACE||b===e.ENTER||b>=e.ALPHA_START&&
b<=e.ALPHA_END||b>=e.NUMPAD_START&&b<=e.NUMPAD_END||b>=e.SYM1_START&&b<=e.SYM1_END||b>=e.SYM2_START&&b<=e.SYM2_END}}]);return c}()})},"mw-tabular-data-model/DataModel":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["./On","./rangeUtil","./impl/_PagedDataModel"],function(d,e,c){return function(){function b(a){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this._on=new d;this._dataStore=a;this._pagedRangeList=[];this._pagedRowMetaDataRangeList=[];this._pagedColumnMetaDataRangeList=[];this._pagedData=new c({getLocalCell:a.getLocalCellData.bind(a)});this._pagedRowMetaData=new c({getLocalCell:function(b,c){return a.getLocalRowMetaData(b)}});this._pagedColumnMetaData=new c({getLocalCell:function(b,c){return a.getLocalColumnMetaData(c)}});this.sort=a.sort.bind(a);this._dataStore.on("dataChanged",
this._reactToNewData.bind(this));this._dataStore.on("pagedRowMetaDataChanged",this._reactToNewRowMetaData.bind(this));this._dataStore.on("pagedColumnMetaDataChanged",this._reactToNewColumnMetaData.bind(this));this._dataStore.on("dataSizeChanged",this._on.emit.bind(this._on))}k(b,[{key:"setBuffer",value:function(a){this._dataStore.setBuffer(a);var b=this._destructureRangesByType(a);a=b.rowRange;var c=b.columnRange,b=this._pagedData.managePaging(b.dataRange).data,d=this._pagedRowMetaData.managePaging(a).data,
e=this._pagedColumnMetaData.managePaging(c).data;this._on.emit("bufferDataChanged",b);this._on.emit("pagedRowMetaDataChanged",{metaData:d,rangeList:a});this._on.emit("pagedColumnMetaDataChanged",{metaData:e,rangeList:c})}},{key:"_reactToNewData",value:function(a,b){var c=this._pagedData.dataArrived(b),d=c.data;c.dataChanged&&this._on.emit("bufferDataChanged",d)}},{key:"_reactToNewRowMetaData",value:function(a,b){var c=b.rangeList,d=this._pagedRowMetaData.dataArrived(c),e=d.data;d.dataChanged&&(c=
this._destructureRangesByType(c).rowRange,this._on.emit("pagedRowMetaDataChanged",{metaData:e,rangeList:c}))}},{key:"_reactToNewColumnMetaData",value:function(a,b){var c=b.rangeList,d=this._pagedColumnMetaData.dataArrived(c),e=d.data;d.dataChanged&&(c=this._destructureRangesByType(c).columnRange,this._on.emit("pagedColumnMetaDataChanged",{metaData:e,rangeList:c}))}},{key:"_destructureRangesByType",value:function(a){return{dataRange:a,rowRange:a.map(function(a){return a.setColumns(0,0)}),columnRange:a.map(function(a){return a.setRows(0,
0)})}}},{key:"on",value:function(a,b){return this._on.on(a,b)}},{key:"dataSize",get:function(){return this._dataStore.dataSize}}]);return b}()})},"mw-tabular-data-model/On":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");this._events={}}k(d,[{key:"on",value:function(d,c){var b=this;this._events[d]||(this._events[d]=[]);this._events[d].push(c);var a={remove:function(){var f=b._events[d].indexOf(c);b._events[d].splice(f,1);a.remove=function(){return null}}};return a}},{key:"emit",value:function(d){for(var c=arguments.length,b=Array(1<c?c-1:0),a=1;a<c;a++)b[a-1]=arguments[a];(function(a){a&&a.forEach(function(a){a.apply(void 0,[d].concat(b))})})(this._events[d])}}]);
return d}()})},"mw-tabular-data-model/impl/_PagedDataModel":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../rangeUtil"],function(d){return function(){function e(c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._getLocalCell=c.getLocalCell;
this._pagedRangeList=[];this._pagedData=[]}k(e,[{key:"managePaging",value:function(c){var b=this._pagedRangeList;this._pagedRangeList=c;this._reactToNewPageRanges(b,c);return{dataChanged:!1,data:this._pagedData}}},{key:"dataArrived",value:function(c){return{dataChanged:this._reactToNewData(c),data:this._pagedData}}},{key:"_reactToNewPageRanges",value:function(c,b){this._discardOrphanedPagedData(c,b);this._fillInMissingPagedData(b)}},{key:"_discardOrphanedPagedData",value:function(c,b){var a=this;
this._pagedData.length>b.length&&(this._pagedData=this._pagedData.slice(0,b.length));var d=function(a,b,c,d,e){for(;a<c;)e(a),a+=1;for(a=d+1;a<=b;)e(a),a+=1};b.forEach(function(b,e){var h=c[e];h?(d(h.rows.start,h.rows.end,b.rows.start,b.rows.end,function(b){delete a._pagedData[e][b]}),(h.columns.start<b.columns.start||h.columns.end>b.columns.end)&&function(){for(var c=Math.max(b.rows.start,h.rows.start),k=Math.min(b.rows.end,h.rows.end),n=c;n<=k;)d(h.columns.start,h.columns.end,b.columns.start,b.columns.end,
function(b){delete a._pagedData[e][n][b]}),n+=1}()):a._pagedData[e]=[]})}},{key:"_fillInMissingPagedData",value:function(c){var b=this;c.forEach(function(a,c){var e=b._pagedData[c];if(!e.range||!d.isRangeEqual(e.range,a))e.range&&d.isRangeInside(e.range,a)?e.range=a:(e=b._updateCellRange(e,a.rows.start,a.rows.end,a.columns.start,a.columns.end,!e.range||a.columns.start<e.range.columns.start||a.columns.end>e.range.columns.end,!0),e.range=a,b._pagedData[c]=e)})}},{key:"_reactToNewData",value:function(c){var b=
this,a=!1;this._pagedRangeList.forEach(function(e,k){c.forEach(function(c){if(d.doesRangeIntersect(e,c)){var h=b._pagedData[k],g=Math.max(e.rows.start,c.rows.start),p=Math.min(e.rows.end,c.rows.end),n=Math.max(e.columns.start,c.columns.start);c=Math.min(e.columns.end,c.columns.end);h=b._updateCellRange(h,g,p,n,c,!0,!1);b._pagedData[k]=h;a=!0}})});return a}},{key:"_updateCellRange",value:function(c,b,a,d,e,k,h){for(;b<=a;b+=1){var g=c[b];if(k||!g){var p=[];if(g){for(var n=c.range.columns.start;n<d;n+=
1)p[n]=c[b][n];for(n=e+1;n<=c.range.columns.end;n+=1)p[n]=c[b][n]}for(n=d;n<=e;n+=1)if(h&&g&&c.range.columns.start<=n&&c.range.columns.end>=n)p[n]=c[b][n];else{var s=this._getLocalCell(b,n);p[n]=this._shallowCopyIfObject(s)}c[b]=p}}return c}},{key:"_shallowCopyIfObject",value:function(c){if(!(c instanceof Object))return c;var b={};Object.keys(c).forEach(function(a){b[a]=c[a]});return b}}]);return e}()})},"mw-table/utils/StateMutation":function(){function k(d){if(Array.isArray(d)){for(var c=0,b=Array(d.length);c<
d.length;c++)b[c]=d[c];return b}return Array.from(d)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define([],function(){return function(){function e(c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._vm=c}d(e,[{key:"appendValue",value:function(c,b){var a=[];return a=
Array.isArray(c)?[].concat(k(c),[b]):[b]}},{key:"mutateState",value:function(c,b,a){this._vm.setState(c,b,a)}},{key:"deleteState",value:function(c){this._vm.deleteState(c)}}]);return e}()})},"mw-table/io/DataSize":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define(["../functional/IOMonad"],
function(d){return function(){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._viewModel=c}k(d,[{key:"numRows",get:function(){var c=this;return function(){return c._viewModel.dataSize.rows.count}}},{key:"numColumns",get:function(){var c=this;return function(){return c._viewModel.dataSize.columns.count}}}]);return d}()})},"mw-table/functional/IOMonad":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=
a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define([],function(){return function(){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.map=this.map.bind(this);this.chain=this.chain.bind(this);this.run=this.run.bind(this);if("function"===typeof e)this.effect=e;else throw Error("IO Monad requires a function");}k(d,[{key:"map",value:function(e){var c=
this;return new d(function(){return e(c.effect())})}},{key:"chain",value:function(d){return d(this.effect())}},{key:"run",value:function(){return this.effect()}}],[{key:"of",value:function(e){return new d(function(){return e})}},{key:"from",value:function(e){return new d(e)}}]);return d}()})},"mw-table/io/ViewPortGeom":function(){var k=function(){function d(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,
a.key,a)}}return function(e,c,b){c&&d(e.prototype,c);b&&d(e,b);return e}}();define("../functional/IOMonad ../calc/BufferMath ../functional/FunctionalUtils ../enums/DefaultsEnum ../enums/LogicalSizeEnum ../enums/StateEnum ../parsing/headers/PureColumnUtils mw-tabular-data-model/rangeUtil".split(" "),function(d,e,c,b,a,f,l,m){return function(){function h(b){var c=b.viewModel;b=b.dataSize;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._dataSize=b;this._viewModel=
c;this.getBufferedViewPort=this.getBufferedViewPort.bind(this);this._viewModel.setState(f.TABLE_AFFORDANCE_WIDTH,d.from(function(){return 0}));this._viewModel.setState("headerRow",[]);this._size=new a(this._viewModel)}k(h,[{key:"getFirstVisibleRow",value:function(){return 0}},{key:"getLastVisibleRow",value:function(){return 0}},{key:"getVisibleRowCount",value:function(){return 0}},{key:"getFirstVisibleColumn",value:function(){return 0}},{key:"getLastVisibleColumn",value:function(){return 0}},{key:"getVisibleColumnCount",
value:function(){return 0}},{key:"getFirstBufferedRow",value:function(){return 0}},{key:"getLastBufferedRow",value:function(){return 0}},{key:"getFirstBufferedColumn",value:function(){return 0}},{key:"getLastBufferedColumn",value:function(){return 0}},{key:"numColHeaders",value:function(){return 0}},{key:"getViewPort",value:function(){return m.range().setRows(this.getFirstVisibleRow(),this.getLastVisibleRow()).setColumns(this.getFirstVisibleColumn(),this.getLastVisibleColumn())}},{key:"getBufferedViewPort",
value:function(){var a=this.getFirstBufferedColumn(),b=this.getLastBufferedColumn(),c=this._viewModel.getColumnHeaders().length||this._viewModel.dataSize.columns.count;l.areColumnsNotPaged(c)&&(a=0,b=this.numColHeaders());return m.range().setRows(this.getFirstBufferedRow(),this.getLastBufferedRow()).setColumns(a,b)}},{key:"setScrollTop",value:function(a){}},{key:"getScrollTop",value:function(){return 0}},{key:"getScrollLeft",value:function(){return 0}},{key:"getWidth",value:function(){return 0}},
{key:"setContainer",value:function(a){var h=this;this._viewModel.setState(f.VIEWPORT_CONTAINER,a);var k=c.curry(e.sum)(-1*b.buffers.ROW_OVERSCAN),l=c.curry(e.sum)(-1*b.buffers.COL_OVERSCAN),m=c.curry(e.sum)(b.buffers.ROW_OVERSCAN),q=c.curry(e.sum)(b.buffers.COL_OVERSCAN);d.from(function(){return a});var t=d.from(function(){return a.clientHeight}),u=d.from(function(){return a.clientWidth}),w=d.from(function(){return a.scrollLeft}),v=d.from(function(){return a.scrollTop});this.numColHeaders=function(){var a=
h._viewModel.getColumnHeaders().length-1;return 0>a?h._viewModel.dataSize.columns.end:a};this.getScrollTop=function(){return v.run()};this.getScrollLeft=function(){return w.run()};this.getWidth=function(){return u.run()};this.getHeight=function(){return t.run()};this.getBoundingRect=function(){return a.getBoundingClientRect()};this._viewModel.setState(f.TABLE_AFFORDANCE_WIDTH,d.from(function(){return a.offsetWidth-a.clientWidth}));var x=c.curry(e.max2)(0),z=function(a){a=a||b.ZERO_WIDTH_COLS;var c=
h.numColHeaders()||-1;return Math.max(Math.min(c,a),-1)},y=function(a){return Math.max(e.min2(a,h._dataSize.numRows()-1),-1)},B=function(a){return Math.max(e.min2(a,h._dataSize.numRows()),0)||b.ZERO_HEIGHT_ROWS},C=function(){var a=c.curry(e.calculateFirstVisible)(h._size.ROW_HEIGHT);return v.map(a).run()},A=function(){var a=c.curry(e.calculateFirstVisible)(h._size.COL_WIDTH);return w.map(a).run()};this.getVisibleColumnCount=function(){var a=c.curry(e.roundedDivision)(h._size.COL_WIDTH);return u.map(a).chain(z)};
this.getVisibleRowCount=function(){var a=c.curry(e.roundedDivision)(h._size.ROW_HEIGHT);return t.map(a).chain(B)};var D=c.fork(e.calculateMaxFirstVisible,this.numColHeaders,this.getVisibleColumnCount),F=c.fork(e.calcVisible,A,this.getVisibleColumnCount),G=c.fork(e.calculateMaxFirstVisible,this._dataSize.numRows,this.getVisibleRowCount),I=c.fork(e.calcVisible,C,this.getVisibleRowCount);this.getLastVisibleColumn=c.compose(z,F);this.getLastVisibleRow=c.compose(y,I);this.getFirstVisibleColumn=c.compose(function(a){return Math.min(A(),
a)},D);this.getFirstVisibleRow=c.compose(function(a){return Math.min(C(),a)},G);this.getFirstBufferedColumn=c.compose(x,l,this.getFirstVisibleColumn);this.getFirstBufferedRow=c.compose(x,k,this.getFirstVisibleRow);this.getLastBufferedRow=c.compose(y,m,this.getLastVisibleRow);this.getLastBufferedColumn=c.compose(z,q,this.getLastVisibleColumn);this.setScrollRightPx=function(b,c,d){h._viewModel.setState("LastScrollColumn",c);h._viewModel.setState("LastScrollColumnFn",d);h._viewModel.setState("setScrollTop",
Math.ceil(a.scrollLeft)!==b);a.scrollLeft=b};this.setScrollLeftPx=function(b){h._viewModel.setState("setScrollTop",Math.ceil(a.scrollLeft)!==b);a.scrollLeft=b;b>a.scrollWidth-a.clientWidth&&(h._viewModel.setState("LastScrollColumn",b/h._size.COL_WIDTH),h._viewModel.setState("LastScrollColumnFn",function(){return b}))};this.setScrollTopPx=function(b){h._viewModel.setState("setScrollTop",Math.ceil(a.scrollTop)!==b);a.scrollTop=b}}}]);return h}()})},"mw-tabular-data-model/DataStore":function(){function k(d){if(Array.isArray(d)){for(var c=
0,b=Array(d.length);c<d.length;c++)b[c]=d[c];return b}return Array.from(d)}var d=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}();define(["./On","./rangeUtil","./sort/_compareFunctions","./sort/Enum","dojo/Deferred"],function(e,c,b,a,f){var l=function(a){var b=new f;setTimeout(function(){return a(b.resolve,
b.reject)},0);this.then=b.promise.then};return function(){function f(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._on=new e;this._dataSize=c.range();this.replaceAll(a,b);this._getLocalRowMetaData=function(a){};this._getLocalColumnMetaData=function(a){}}d(f,[{key:"setBuffer",value:function(a){}},{key:"_updateDataSize",value:function(){var a=f._calcTableSize(this._data,this._defaultColumnCount);
if(a.rows.count!==this._dataSize.rows.count||a.columns.count!==this._dataSize.columns.count)this._dataSize=a,this._on.emit("dataSizeChanged",a)}},{key:"getLocalCellData",value:function(a,b){var c=this._data[a];return!c?void 0:c[b]}},{key:"getLocalRowMetaData",value:function(a){return this._getLocalRowMetaData(a)}},{key:"getLocalColumnMetaData",value:function(a){return this._getLocalColumnMetaData(a)}},{key:"_emitPagedColumnMetaDataChanged",value:function(a){this._on.emit("pagedColumnMetaDataChanged",
{rangeList:a})}},{key:"_emitPagedRowMetaDataChanged",value:function(a){this._on.emit("pagedRowMetaDataChanged",{rangeList:a})}},{key:"getData",value:function(a){var b=this,d=a.slice();return new l(function(a,e){var f=[];d.forEach(function(a,d){if(c.isRangeInside(b.dataSize,a)){var h=b._getCellBlock(a.rows.start,a.rows.end,a.columns.start,a.columns.end);h.range=a;f[d]=h}else e(Error("Range exceeds data size"))});a(f)})}},{key:"_getCellBlock",value:function(a,b,c,d){for(var e=[];a<=b;a+=1){for(var f=
[],k=c;k<=d;k+=1)f[k]=this.getLocalCellData(a,k);e[a]=f}return e}},{key:"insert",value:function(a,b){var d=void 0;if(a.rows.start===a.rows.end&&0===a.columns.start&&Infinity===a.columns.end){var e;if(a.rows.start>this._dataSize.rows.count||0>a.rows.start)throw Error("Index "+a.rows.start+" is out of range for insert");for(d=0;d<b.length;d+=1)if(b[d].length!==this._dataSize.columns.count)throw Error("data["+d+"] needs to contain "+(this._dataSize.columns.count+" columns of data for insert"));(e=this._data).splice.apply(e,
[a.rows.start,0].concat(k(b)));d=c.range().setRows(a.rows.start,Infinity).setColumns(0,Infinity)}else if(a.columns.start===a.columns.end&&0===a.rows.start&&Infinity===a.rows.end){if(a.columns.start>this._dataSize.columns.count||0>a.columns.start)throw Error("Index "+a.columns.start+" is out of range for insert");e=null;if(b.length!==this._dataSize.rows.count&&0<this._dataSize.rows.count)throw Error("data needs to contain "+(this._dataSize.rows.count+" rows of data for insert"));for(d=0;d<b.length;d+=
1)if(null===e)e=b[d].length;else if(e!==b[d].length)throw Error("The data["+d+"] needs to contain "+("the same number of columns ("+e+") as the ")+"first row for insert");for(e=0;e<b.length;e+=1)(d=this._data[e])?d.splice.apply(d,[a.columns.start,0].concat(k(b[e]))):this._data[e]=b[e];d=c.range().setRows(0,Infinity).setColumns(a.columns.start,Infinity)}else throw Error("Could not determine insert type for given range");this._updateDataSize();this._dataChanged([d])}},{key:"update",value:function(a,
b){if(a.rows.count!==b.length)throw Error("Range rows count "+a.rows.count+" does not match data.length for update");if(!c.isRangeInside(this.dataSize,a))throw Error("Range exceeds dataSize for update");for(var d=0;d<b.length;d+=1)if(b[d].length!==a.columns.count)throw Error("data["+d+"] needs to contain "+(a.columns.count+" columns of data for update"));for(var d=0,e=a.rows.start;e<=a.rows.end;e+=1){var f=this._data[e];f.splice.apply(f,[a.columns.start,a.columns.count].concat(k(b[d])));d+=1}this._dataChanged([a])}},
{key:"delete",value:function(a){var b=void 0;if(0===a.columns.start&&Infinity===a.columns.end){if(a.rows.start>=this._dataSize.rows.count||0>a.rows.start)throw Error("Index "+a.rows.start+" is out of range for delete");this._data.splice(a.rows.start,a.rows.count);b=c.range().setRows(a.rows.start,Infinity).setColumns(0,Infinity)}else if(0===a.rows.start&&Infinity===a.rows.end){if(a.columns.start>=this._dataSize.columns.count||0>a.columns.start)throw Error("Index "+a.columns.start+" is out of range for delete");
for(b=0;b<this._dataSize.rows.count;b+=1)this._data[b].splice(a.columns.start,a.columns.count);b=c.range().setRows(0,Infinity).setColumns(a.columns.start,Infinity)}else throw Error("Could not determine delete type for given range");this._updateDataSize();this._dataChanged([b])}},{key:"replaceAll",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._data=a||[];this._defaultColumnCount=b.defaultColumnCount;0!==this._defaultColumnCount&&(!(0<this._defaultColumnCount)&&
0<this._data.length)&&(this._defaultColumnCount=this._data[0].length||0);this._updateDataSize();this._dataChanged([c.range().setRows(0,Infinity).setColumns(0,Infinity)])}},{key:"sort",value:function(a){if(a&&a.length){for(var b=[],d=0;d<a.length;d+=1){var e=a[d];this._validateSortOption(e);b.push(this._generateCompareFunction(e))}this._data.sort(function(a,c){for(var d=0;d<b.length;d+=1){var e=b[d](a,c);if(0!==e)return e}return 0});this._dataChanged([c.range().setRows(0,Infinity).setColumns(0,Infinity)])}}},
{key:"_validateSortOption",value:function(b){if(b.columnIndex<this.dataSize.columns.start||b.columnIndex>this.dataSize.columns.end)throw Error("columnIndex is out of bounds");if(!a.order[b.order])throw Error("A valid sort order must be specified");if(!a.compare[b.compare])throw Error("A valid compare type must be specified");}},{key:"_generateCompareFunction",value:function(c){var d=1;c.order===a.order.DESC&&(d=-1);var e=b[c.compare];return function(a,b){return e(a[c.columnIndex],b[c.columnIndex])*
d}}},{key:"_dataChanged",value:function(a){this._on.emit("dataChanged",a)}},{key:"on",value:function(a,b){return this._on.on(a,b)}},{key:"dataSize",get:function(){return this._dataSize}}],[{key:"_calcTableSize",value:function(a,b){var d=function(a){return a?{start:0,end:a.length-1}:{start:0,end:-1}},e=c.range(),f=d(a),e=e.setRows(f.start,f.end),f=0<e.rows.count?d(a[0]):d({length:b||0});return e=e.setColumns(f.start,f.end)}}]);return f}()})},"mw-tabular-data-model/sort/_compareFunctions":function(){define([],
function(){return{NUMERIC:function(k,d){"number"!==typeof k&&(k=parseFloat(k));"number"!==typeof d&&(d=parseFloat(d));var e=k-d;return!isNaN(e)?e:isNaN(k)&&isNaN(d)?0:isNaN(k)?-1:1},STRING:function(k,d){"string"!==typeof k&&(k=k.toString());"string"!==typeof d&&(d=d.toString());return k<d?-1:k>d?1:0}}})},"inspector/editors/TicksEditor/TickDialogTableModel":function(){define("dojo/_base/declare dojo/Evented dojo/on dojo/_base/lang mw-tabular-data-model/DataStore mw-tabular-data-model/rangeUtil mw-facade/MatlabFacade".split(" "),
function(k,d,e,c,b,a,f){return k([d],{constructor:function(a){this._ticksPropName=a.ticksPropName;this._labelsPropName=a.labelsPropName;this._tickMode=a.ticksMode;this._tickLabelMode=a.labelMode;this._limits=a.Limits;this._isNumericTickValue=a.isNumeric;this._forceUpdateRequested=this._pendingMATLABEvalData=null;this._tableData=this._generateTableData(a);this._oldTableData=JSON.parse(JSON.stringify(this._tableData));this._dataStore=new b(this._tableData);this._pausableDataChangeHandler=e.pausable(this._dataStore,
"dataChanged",this._handleDataChange.bind(this))},getTableData:function(){return this._tableData},getDataStore:function(){return this._dataStore},setTableData:function(a){this._pausableDataChangeHandler.pause();this._tableData=this._generateTableData(a);this.setDataStore(this._tableData);this._oldTableData=JSON.parse(JSON.stringify(this._tableData));this._pausableDataChangeHandler.resume()},setTickMode:function(a){this._tickMode=a},setTickLabelMode:function(a){this._tickLabelMode=a},setLimits:function(a){this._limits=
a},setDataStore:function(a){this._dataStore.replaceAll(a)},addRow:function(a){this._isNumericTickValue?this._addNumericRow(a):this._addNoNNumericRow(a)},_addNoNNumericRow:function(a){this._pendingMATLABEvalData={value:null,row:a,col:null};this._addNewtTckInMATLAB(a)},_addNewtTckInMATLAB:function(a){(new f).feval({"function":"matlab.graphics.internal.propertyinspector.TicksEditorValidator.getNewTickAt",arguments:[a,this._ticksPropName],nargout:2,fevalCallback:c.hitch(this,"_addNewtTckCallback")})},
_addNewtTckCallback:function(a){var b=a[0].results[0];a=a[0].results[1];var c=this._pendingMATLABEvalData.row;""===a.trim()&&(a=null);this._addRowCallback(c,b,a)},_addNumericRow:function(a){var b=0,c=0,c=this._limits[0];0<a&&(c=this._tableData[a-1][0],void 0===this._tableData[a]?(b=this.getCurrentInterval(),b=""===b?1:b,c=this._isNumeric(c)?c+b:c):(b=this._tableData[a][0],c=this._isNumeric(c)&&this._isNumeric(b)?(b+c)/2:"NaN"));this._isNumeric(c)&&(c=parseFloat(c.toFixed(5)),this._addRowCallback(a,
c))},_addRowCallback:function(a,b,c){var d=this._tableData.slice(),e="";this._isNumericTickValue?e=b.toString():c&&(e=c);d.splice(a,0,[b,e]);b=this._getModelFromTable(d);c=this._getOldValues();this._isNumericTickValue?this._tableModelUpdated(this._ticksPropName,b.ticksValue,c.oldTicks):this._pendingMATLABEvalData={value:null,row:a,col:null};if("manual"===this._tickLabelMode||this._forceUpdateRequested||this._ticksLabelsLessThanticks)b.labelsValue[a]=e,this._tableModelUpdated(this._labelsPropName,
b.labelsValue,c.oldLabels);this.setTableData(b);this.emit("sizeChanged",{rowAdded:a});this._isNumericTickValue||this._validateInMATLAB()},getCurrentInterval:function(){for(var a=[],b=0;b<this._tableData.length-1;b++){var c=Math.abs(this._tableData[b+1][0]-this._tableData[b][0]);a.indexOf(c)&&a.push(c)}return 1===a.length?a[0]:""},deleteRow:function(a){var b=this._tableData.slice();b.splice(a,1);b=this._getModelFromTable(b);this.setTableData(b);this.emit("sizeChanged",{rowDeleted:a});a=this._getOldValues();
this._isNumericTickValue?this._tableModelUpdated(this._ticksPropName,b.ticksValue,a.oldTicks):(this._pendingMATLABEvalData={value:null,row:null,col:null},this._validateInMATLAB());("manual"===this._tickLabelMode||this._forceUpdateRequested)&&this._tableModelUpdated(this._labelsPropName,b.labelsValue,a.oldLabels)},setForceUpdateRequested:function(a){this._forceUpdateRequested=a},updateInterval:function(a){for(var b=[],d=this._getOldValues(),e=this._limits[0];e<=this._limits[1];e+=a)b.push(e);this._tableModelUpdated(this._ticksPropName,
b,d.oldTicks);if("manual"===this._tickLabelMode){var f=[],k=Array(b.length).fill("");b.forEach(c.hitch(function(a,b){var c=d.oldTicks.indexOf(a);-1!==c&&(k[b]=d.oldLabels[c]);f.push([a,k[b]])}));this.setTableData(this._getModelFromTable(f));this._tableModelUpdated(this._labelsPropName,k,d.oldLabels)}},_generateTableData:function(a){if(a.ticksValue&&a.labelsValue){var b=[];if(0<a.ticksValue.length&&0<a.labelsValue.length&&a.labelsValue.length<a.ticksValue.length){this._ticksLabelsLessThanticks=!0;
for(var c=0;c<Math.ceil(a.ticksValue.length/a.labelsValue.length);c++)a.labelsValue.forEach(function(a){b.push(a)})}else this._ticksLabelsLessThanticks=!1,b=a.labelsValue;var d=[];a.ticksValue.forEach(function(a,c){d.push([a,b[c]])})}return d},_isNumeric:function(a){return"number"===typeof a},_getValueAt:function(a,b){return this._tableData[a][b]},_resolve:function(a){a=a[0];var b=this._getValueAt(a.rows.start,a.columns.start),c=0===a.columns.start&&0===a.columns.end&&1===a.columns.count,d=1===a.columns.start&&
1===a.columns.end&&1===a.columns.count,e=a.rows.start;if(c){if(""===b){this.deleteRow(a.rows.start);return}try{if(this._isNumericTickValue){var f=JSON.parse(b);if("number"!==typeof f)throw Error();b=f;if(f<this._limits[0]||f>this._limits[1]){var k=this._oldTableData.slice();if(0===e||e===this._tableData.length-1){k[e][0]=f;k[e][1]=f.toString();var d=!0,r=this._getModelFromTable(k);this.setTableData(r)}}}else{this._pendingMATLABEvalData={value:b,row:a.rows.start,col:a.columns.start};this._validateInMATLAB();
return}}catch(q){this._pendingMATLABEvalData={value:b,row:a.rows.start,col:a.columns.start};this._evalInMATLAB(b);return}}this._updateTableAndCommit(e,a.columns.start,b,c,d)},_updateTableAndCommit:function(a,b,c,d,e,f){var k=this._tableData.slice();null!==a&&null!==b&&(k[a][b]=c);a=this._getModelFromTable(k);b=this._getOldValues();this.setTableData(a);d&&this._tableModelUpdated(this._ticksPropName,a.ticksValue,b.oldTicks,f);(e||this._forceUpdateRequested)&&this._tableModelUpdated(this._labelsPropName,
a.labelsValue,b.oldLabels)},_validateInMATLAB:function(){var a=[];this._tableData.forEach(function(b){a.push(b[0])});(new f).feval({"function":"matlab.graphics.internal.propertyinspector.TicksEditorValidator.validateTickValues",arguments:[a,this._ticksPropName],nargout:1,fevalCallback:c.hitch(this,"_validationCallback")})},_validationCallback:function(a){a=a[0].results[0];a=Array.isArray(a)?a:[a];this._updateTableAndCommit(this._pendingMATLABEvalData.row,this._pendingMATLABEvalData.col,this._pendingMATLABEvalData.value,
!0,!1,a);this._pendingMATLABEvalData=null},_evalInMATLAB:function(a){(new f).feval({"function":"matlab.graphics.internal.propertyinspector.TicksEditorValidator.ticksEditorEval",arguments:[a],nargout:1,fevalCallback:c.hitch(this,"_evalCallBack")})},_evalCallBack:function(a){a=a[0].results[0];0===a.length&&(a=this._pendingMATLABEvalData.value);this._updateTableAndCommit(this._pendingMATLABEvalData.row,this._pendingMATLABEvalData.col,a,!0,!1);this._pendingMATLABEvalData=null},_tableModelUpdated:function(a,
b,c,d){var e={};e[a]={value:b,oldValue:c,invalid:d};this.emit("tableModelUpdated",e)},_handleDataChange:function(a,b){this._resolve(b)},_getOldValues:function(){var a={oldTicks:[],oldLabels:[]};this._oldTableData.forEach(function(b){a.oldTicks.push(b[0]);a.oldLabels.push(b[1])});return a},_getModelFromTable:function(a){var b=this._getEmptyModel();a.forEach(function(a){b.ticksValue.push(a[0]);b.labelsValue.push(a[1])});return b},_getEmptyModel:function(){return{ticksValue:[],labelsValue:[]}}})})},
"mw-facade/MatlabFacade":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-remote/Remote mw-messageservice/MessageService mw-deprecation-utils/deprecation".split(" "),function(k,d,e,c,b,a){a.deprecated({deprecated:{module:"mw-facade/MatlabFacade"},replacement:{module:"mw-remote/Remote"}});return k(null,{constructor:function(a){b.start();this._config=a||{};this._registerHandlers()},_config:{},_registerHandlers:function(){var a=this._config;c.registerFaultHandler("Eval",function(b,
c){e.error("Error: "+b.code+", "+b.message);c&&d.isFunction(c.errorCallback)?c.errorCallback(b):d.isFunction(a.errorCallback)&&a.errorCallback(b)});c.registerResponseHandler("EvalResponse",function(b,c){e.info("eval response");c&&d.isFunction(c.evalCallback)?c.evalCallback(b):d.isFunction(a.evalCallback)&&a.evalCallback(b)});c.registerFaultHandler("FEval",function(b,c){e.error("Error: "+b.code+", "+b.message);c&&d.isFunction(c.errorCallback)?c.errorCallback(b):d.isFunction(a.errorCallback)&&a.errorCallback(b)});
c.registerResponseHandler("FEvalResponse",function(b,c){e.info("feval response");c&&d.isFunction(c.fevalCallback)?c.fevalCallback(b):d.isFunction(a.evalCallback)&&a.evalCallback(b)})},executionEval:function(a){d.isString(a)&&(a={matlabcode:a});c.sendMessage({Eval:{mcode:a.matlabcode}},a)},feval:function(a){a.arguments=a.arguments||[];a.nargout=a.nargout||0;c.sendMessage({FEval:{"function":a["function"],arguments:a.arguments,nargout:a.nargout}},a)},publish:b.publish,subscribe:b.subscribe,unsubscribe:b.unsubscribe})})},
"inspector/editors/TicksEditor/ReadOnlyRenderer":function(){define(["dojo/_base/declare"],function(k){return k([],{constructor:function(){},getTooltip:function(d){},getDomNode:function(d){var e=document.createElement("div");e.style.textAlign="left";e.style.textOverflow="ellipsis";e.textContent=d;e.style.overflow="hidden";e.className="mw-table-cell-content";e.style.color=this._getDefaultColor();return e},_getDefaultColor:function(){return"rgb(160, 160, 160)"}})})},"inspector/editors/ItemsEditor/ItemsEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on dojo/query dijit/_WidgetBase dijit/_TemplatedMixin mw-utils/Utils variableeditor/VariableEditorUtils inspector/editors/_BaseRichEditor inspector/editors/ItemsEditor/ItemsPSTable inspector/editors/_BasePSTable/_PSTableController inspector/editors/ItemsEditor/ItemsModel dojo/text!./ItemsEditor.html dojo/NodeList-traverse".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){function r(a){a=void 0!==a.value?a.value:a;return!a.length||a[0]instanceof Array?a:[a]}function q(a){return a=void 0!==a.value?a.value:a}function t(a){return JSON.parse(JSON.stringify(a))}return k([h,p,a,f],{templateString:s,constructor:function(a){this._radioButtonGroupId=l.generateUuid();this._editorStates=null;a=this._getItemsInfo(a);this.model=new n(a,this._editorStates);this.eventName="tableupdated";this.propNameInModelToGetAllItems="Items";a={tableData:this._getTableData(),
radioButtonGroupId:this._radioButtonGroupId};this.table=new g(a);this.own(this.table);this._initializeView();this._hacked=!1},postCreate:function(){this.table.placeAt(this.domNode)},startup:function(){this.inherited(arguments);this.table.startup();this._addWorkaroundForFocusIssue()},_getItemsInfo:function(a){var b={};a.forEach(function(a){switch(a.propertyName){case "Items":b.items=t(q(a.values[0]));this._editorStates=a.meta.richEditorProperties;break;case "SelectedIndex":b.selectedIndex=t(r(a.values[0]))}}.bind(this));
b.radioButtonGroupId=this._radioButtonGroupId;return b},_updateEditor:function(a,b){switch(b){case "Items":var c=q(a[0]);JSON.stringify(this.model.getItems())!=JSON.stringify(c)&&this.set("items",t(c));break;case "SelectedIndex":c=r(a[0]),JSON.stringify(this.model.getSelectedIndex())!=JSON.stringify(c)&&this.set("selectedIndex",t(c))}},_setItemsAttr:function(a){this._modelUpdateListener.pause();this.model.setItems(a);this._reloadTable();this._modelUpdateListener.resume()},_setSelectedIndexAttr:function(a){this._modelUpdateListener.pause();
this.model.setSelectedIndex(a);this._reloadTable();this._modelUpdateListener.resume()},_setItemsAndSelectedIndexAttr:function(a){this._modelUpdateListener.pause();this.model.setItemsAndSelectedIndex(a.items,a.selectedIndex);this._reloadTable();this._modelUpdateListener.resume()},_onTableEdit:function(a){"0"===a.columnId?this.model.updateSelectedIndex(a.rowId):"1"===a.columnId&&this.model.updateItems(a.value,a.rowId)},_revertTable:function(){var a=this.model.getTableData();this.table.set("tableData",
a)},_onAddBtnClick:function(a){this.model.addRow(a.currentSelectedRow);this._reloadTable();this.inherited(arguments)},_onDeleteBtnClick:function(a){this.model.deleteRow(a.currentSelectedRow);this._reloadTable();this.inherited(arguments)},_getTableData:function(){return this.model.getTableData()},_handleModelUpdate:function(a){var b=a.eventData,c,d;["Items","SelectedIndex"].forEach(function(a){c=b[a].oldValue;d=b[a].newValue;JSON.stringify(d)!==JSON.stringify(c)&&this._commitValue(a,c,d,"client")}.bind(this))},
storePopupContainer:function(a){this._dropDown=a},getRadioButtonByRow:function(a){return document.querySelectorAll("input[name\x3d'"+this._radioButtonGroupId+"']")[a]},_addWorkaroundForFocusIssue:function(){if(!this._hacked){var a=this._dropDown&&this._dropDown.closeMenu;a&&(this._dropDown.closeMenu=function(b){!0!==this.table._isEditorShown&&a.call(this._dropDown,b)}.bind(this));this._hacked=!0}}})})},"inspector/editors/ItemsEditor/ItemsPSTable":function(){define(["dojo/_base/declare","dgrid/editor",
"inspector/editors/_BasePSTable/_PSTable","dojo/i18n!inspector/app/l10n/nls/app"],function(k,d,e,c){return k(e,{constructor:function(b){this._radioButtonGroupId=b.radioButtonGroupId;this._IsHandlingEdits=!0;this._isEditorShown=!1;this.dgridColumnconfig=this._getItemsTableConfig()},getRowToSelectPostAddition:function(b,a){return 0<=b?b+1:this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.grid.on("dgrid-editor-show",function(b){this._isEditorShown=!0}.bind(this));this.grid.on("dgrid-editor-hide",
function(b){setTimeout(function(){b.cell.element.focus();this._isEditorShown=!1}.bind(this),0)}.bind(this));this.deleteRowButtonWidget._setTabIndexOnNode=function(){}},_getItemsTableConfig:function(){return[d({label:c.stateTableSelectedHdr,sortable:!1,field:this._radioButtonGroupId},"radio"),d({label:c.stateTableItemsHdr,field:"items",editor:"text",editOn:"dblclick",sortable:!1,autoSave:!0})]}})})},"inspector/editors/ItemsEditor/ItemsModel":function(){define(["dojo/_base/declare","dojo/Evented","dojo/i18n!inspector/app/l10n/nls/app",
"hmishared/util/UniqueNameGenerator"],function(k,d,e,c){return k([d],{constructor:function(b,a){this._items=b.items;this._selectedIndex=b.selectedIndex;this._radioButtonGroupId=b.radioButtonGroupId;this._TableData=this._generateTableData(this._items,this._selectedIndex,this._radioButtonGroupId);this._nameGenerator=new c(!0," ");this._getConfigurationForModel(a)},_getConfigurationForModel:function(b){this.minimumStates=Number.NEGATIVE_INFINITY;this.maximumStates=Number.POSITIVE_INFINITY;this.defaultNameKey=
null;void 0!=b.minNumber&&(this.minimumStates=b.minNumber);void 0!=b.maxNumber&&(this.maximumStates=b.maxNumber);void 0!=b.defaultNameKey&&(this.defaultNameKey=b.defaultNameKey)},_generateTableData:function(b,a,c){return b.map(function(b,d){var e={};e[c]=a-1===d?!0:!1;e.items=b;return e})},getTableData:function(){return this._TableData},setItems:function(b){this.setItemsAndSelectedIndex(b,this._selectedIndex)},getItems:function(){return this._items},setSelectedIndex:function(b){this.setItemsAndSelectedIndex(this._items,
b)},getSelectedIndex:function(){return this._selectedIndex},setItemsAndSelectedIndex:function(b,a){if(void 0===b||null===b)b=this._items;if(void 0===a||null===a)a=this._selectedIndex;a=a?a:this._selectedIndex;var c=this._items,d=this._selectedIndex;this._items=b;this._selectedIndex=a;this._TableData=this._generateTableData(b,a,this._radioButtonGroupId);this.emit("modelUpdated",{eventData:{Items:{newValue:b,oldValue:c},SelectedIndex:{newValue:a,oldValue:d}}})},updateSelectedIndex:function(b){this.setSelectedIndex(b+
1)},updateItems:function(b,a){var c=this._items.slice(0);c[a]=b;this.setItems(c)},addRow:function(b){var a=this._items.slice(0),c=a.length;if(!(a.length>=this.maximumStates)){b=this._getAddRowNewIndex(b,c);Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991);var c=this._nameGenerator.generateVariableName(a,this.getDefaultItemName()),d={},e=this._selectedIndex;d[this._radioButtonGroupId]=!1;d.Items=c;0===a.length&&(d[this._radioButtonGroupId]=!0,e=1);a.splice(b,0,d.Items);this.setItemsAndSelectedIndex(a,
e)}},deleteRow:function(b){var a=this._items.slice(0);if(!(a.length<=this.minimumStates)){var c=this._selectedIndex,d=this._selectedIndex;b+1===c?d=1===a.length?-1:1<c?c-1:c:b+1<c&&(d=c-1);a.splice(b,1);this.setItemsAndSelectedIndex(a,d)}},getDefaultItemName:function(){return!this.defaultNameKey?"":e[this.defaultNameKey]},getComponentProperty:function(b){switch(b){case "Items":return this._items;case "SelectedIndex":return this._selectedIndex;default:throw"In this temporary workaround, the propertyName should be ScaleColorTableContents";
}},_getAddRowNewIndex:function(b,a){return 0<=b&&b<a-1?b+1:a}})})},"hmishared/util/UniqueNameGenerator":function(){define(["dojo/_base/declare"],function(k){MAX_SAFE_INTEGER=9007199254740991;return k(null,{constructor:function(d,e){this._shouldApplySuffixOnFirstItem=d;this._delimiterBetweenPrefixAndNumberSuffix=e},generateVariableName:function(d,e,c){var b;b=c?e:e.split(" ")[0];var a=!1,f=0;e="";var k=/\d+$/;d.forEach(function(d){if(d&&-1<d.indexOf(b)){var e;if(c)e=d;else if(e=d.replace(/\s+/g,""),
d[b.length]&&!d[b.length].match(/[0-9|\s]/))return;d=e.match(k);if(null!==d){e=e.replace(RegExp(d[0]+"$"),"");if(d[0].length>MAX_SAFE_INTEGER.toString().length-1){a=!0;return}d=parseInt(d[0]);d>f&&(f=d)}else d=1;e===b&&d>f&&(f=d)}});if(a)return this._findAvailableCodeName(b,d);0===f?!0===this._shouldApplySuffixOnFirstItem?e=b+" 1":!1===this._shouldApplySuffixOnFirstItem&&(e=b):((e=k.exec(b))&&(b=b.substr(0,e.index)),e=this._findAvailableCodeName(b,d,f));return e},_findAvailableCodeName:function(d,
e,c){c=c||0;var b;do c++,b=1===c&&!this._shouldApplySuffixOnFirstItem?d+this._delimiterBetweenPrefixAndNumberSuffix:d+this._delimiterBetweenPrefixAndNumberSuffix+c;while(-1!==e.indexOf(b));return b}})})},"inspector/editors/DisplayFormatEditor/DisplayFormatEditor":function(){define("dojo/_base/declare dojo/on dojo/keys dijit/focus variableeditor/VariableEditorUtils inspector/editors/_BaseRichEditor dijit/_WidgetsInTemplateMixin dojo/text!../templates/displayFormatRichEditor.html inspector/editors/DisplayFormatEditor/DisplayFormatMode dojo/i18n!inspector/app/l10n/nls/app".split(" "),
function(k,d,e,c,b,a,f,l,m,h){var g=0;return k([a,f],{baseClass:"display-format-richeditor",templateString:l,_buttonGroupId:0,_defaultLabel:h.defaultLabel,_exactlyLabel:h.exactlyLabel,_integersLabel:h.integersLabel,_scientificLabel:h.scientificLabel,_customLabel:h.customLabel,_decimalsLabel:h.decimalsLabel,_previousCustom:!1,constructor:function(a){if(1<a.length)throw"Display Format Editor can only handle one property";this._propertySetInfo=a[0];this._propertyName=this._propertySetInfo.propertyName;
this.displayFormat=void 0!==this._propertySetInfo.values[0].value?this._propertySetInfo.values[0].value:this._propertySetInfo.values[0];g+=1;this._buttonGroup="displayFormatRichEditor_"+g;this._displayFormatMode=new m;this._displayFormatMode.refresh(this.displayFormat)},_updateEditor:function(a){this.set("displayFormat",void 0!==a[0].value?a[0].value:a[0]);this._previousCustom&&this._displayFormatMode.getModeName()!==m.MODES.CUSTOM&&(this.customTextFieldNode.set("value",this._previousCustom),this._previousCustom=
!1)},_setDisplayFormatAttr:function(a){"string"===typeof a&&a!==this.displayFormat&&(this.displayFormat=a,this._refreshContent(a))},_refreshContent:function(a){this._displayFormatMode.refresh(a);a=this._displayFormatMode.getModeName();var b=this._displayFormatMode.getModeValue();this._updateTextFieldDisabledState(a);switch(a){case m.MODES.DEFAULT:this.defaultRadioButtonNode.set("checked",!0);break;case m.MODES.DECIMAL:this.decimalRadioButtonNode.set("checked",!0);this.decimalTextFieldNode.set("value",
b);break;case m.MODES.INTEGER:this.integersRadioButtonNode.set("checked",!0);break;case m.MODES.SCIENTIFIC:this.scientificRadioButtonNode.set("checked",!0);break;case m.MODES.CUSTOM:this.customRadioButtonNode.set("checked",!0),this.customTextFieldNode.set("value",b)}},_updateTextFieldDisabledState:function(a){switch(a){case m.MODES.DEFAULT:case m.MODES.INTEGER:case m.MODES.SCIENTIFIC:this.decimalTextFieldNode.set("disabled",!0);this.customTextFieldNode.set("disabled",!0);break;case m.MODES.DECIMAL:this.decimalTextFieldNode.set("disabled",
!1);this.customTextFieldNode.set("disabled",!0);break;case m.MODES.CUSTOM:this.decimalTextFieldNode.set("disabled",!0),this.customTextFieldNode.set("disabled",!1)}},postCreate:function(){this._refreshContent(this.displayFormat);this._RadioButtons=[this.defaultRadioButtonNode,this.decimalRadioButtonNode,this.integersRadioButtonNode,this.scientificRadioButtonNode,this.customRadioButtonNode];this._TextFields=[this.decimalTextFieldNode,this.customTextFieldNode];this._addListenersToRadioButtons(this._RadioButtons);
this._addListenersToTextFields(this._TextFields)},_addListenersToRadioButtons:function(a){var b=this;a.forEach(function(a){a.on("change",function(c){b._handleRadioButtonChangeEvent(a,c)})})},_handleRadioButtonChangeEvent:function(a,b){b.stopPropagation();var c=b.mwEventData;if(!("checked"!==c.propertyName||!0!==c.newValue)){var c=a.displayMode,d=null;this._updateTextFieldDisabledState(c);a===this.decimalRadioButtonNode?d=this.decimalTextFieldNode.get("value"):a===this.customRadioButtonNode&&(d=this.customTextFieldNode.get("value"));
this._commit(c,d)}},_addListenersToTextFields:function(a){var b=this;a.forEach(function(a){a.on("change",function(c){b._handleTextFieldChangeEvent(a,c)});a.on("keydown",function(a){b._getKeyCode(a)===e.ENTER&&(c.curNode.blur(),c.focus(b.domNode))})})},_handleTextFieldChangeEvent:function(a,b){b.stopPropagation();var d=b.mwEventData;if("value"===d.propertyName){var e=d.oldValue,d=d.newValue,f;if(a===this.decimalTextFieldNode){if(this.decimalRadioButtonNode.get("disabled"))return;/^0+$/.test(d)?(this.decimalTextFieldNode.set("value",
e),c.focus(this.integersRadioButtonNode.focusNode),f=this.integersRadioButtonNode.displayMode):f=this.decimalRadioButtonNode.displayMode}else if(a===this.customTextFieldNode){if(this.customRadioButtonNode.get("disabled"))return;this._previousCustom=e;f=this.customRadioButtonNode.displayMode}this._commit(f,d)}},_commit:function(a,c){var d=this.displayFormat;this._refreshContent(d);this._displayFormatMode.setModeName(a);this._displayFormatMode.setModeValue(c);try{var e=this._displayFormatMode.getFormatString();
this.set("displayFormat",e);this._commitValue(this._propertyName,d,e,"client")}catch(f){b.displayErrorMessage(f.message,f.name)}}})})},"inspector/editors/DisplayFormatEditor/DisplayFormatMode":function(){define(["dojo/_base/declare","dojo/i18n!inspector/app/l10n/nls/app"],function(k,d){var e={DEFAULT:"DEFAULT",INTEGER:"INTEGER",DECIMAL:"DECIMAL",SCIENTIFIC:"SCIENTIFIC",CUSTOM:"CUSTOM"},c={};c[e.DEFAULT]={doesValueMatch:function(a){return"%11.4g"===a},extractDisplayValue:function(a){return null},validateDisplayValue:function(a){return!0},
convertDisplayValueToDisplayFormat:function(a){return"%11.4g"}};c[e.INTEGER]={doesValueMatch:function(a){return"%.0f"===a},extractDisplayValue:function(a){return null},validateDisplayValue:function(a){return!0},convertDisplayValueToDisplayFormat:function(a){return"%.0f"}};c[e.DECIMAL]={doesValueMatch:function(a){return/%.[0-9]+f/.test(a)},extractDisplayValue:function(a){var b=a.indexOf("."),c=a.indexOf("f");return a.substring(b+1,c)},validateDisplayValue:function(a){return 0===Number(a)%1&&""!=a&&
-1<Number(a)},convertDisplayValueToDisplayFormat:function(a){return"%."+a+"f"}};c[e.SCIENTIFIC]={doesValueMatch:function(a){return"%e"===a},extractDisplayValue:function(a){return null},validateDisplayValue:function(a){return!0},convertDisplayValueToDisplayFormat:function(a){return"%e"}};c[e.CUSTOM]={doesValueMatch:function(a){return!0},extractDisplayValue:function(a){return a},validateDisplayValue:function(a){return!0},convertDisplayValueToDisplayFormat:function(a){return a}};var b=k([],{constructor:function(a,
b){this._modeName=a;this._modeValue=b},setModeName:function(a){this._modeName=a},setModeValue:function(a){this._modeValue=a},getModeName:function(){return this._modeName},getModeValue:function(){return this._modeValue},getFormatString:function(){var a=c[this._modeName];if(a.validateDisplayValue(this._modeValue))return a.convertDisplayValueToDisplayFormat(this._modeValue);throw{name:"DisplayFormatConversionException",message:d.viewFormatErrorText};},refresh:function(a){for(var b=Object.keys(c),d=0;d<
b.length;d++){var e=b[d];if(c[e].doesValueMatch(a)){a=c[e].extractDisplayValue(a);this._modeName=e;this._modeValue=a;break}}}});b.MODES=e;return b})},"inspector/widget/InspectorPropertyGroup":function(){define("inspector/widget/InspectorPropertyGroup","dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-construct dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dijit/TitlePane mw-log/Log variableeditor/VariableEditorUtils inspector/widget/_BaseInspectorGroup mw-peermodel/Observable dojo/text!inspector/templates/inspectorPropertyGroup.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n){return k("inspector.widget.InspectorPropertyGroup",[a,f,p.Impl,g],{templateString:n,groupName:"",constructor:function(a){a||(a={});this.groupName=a.groupName||"";this.allArgs=h.mergeObjects(a,{})},postCreate:function(){this.domNode&&!this.domNode.hasAttribute("data-tag")&&this.domNode.setAttribute("data-tag",h.concatenateDataTagStrings("datatools","inspector","groupPropertySheet",this.groupName));this.domNode&&(this.allArgs.cssSpecifier&&!b.contains(this.domNode,
this.allArgs.cssSpecifier))&&b.add(this.domNode,this.allArgs.cssSpecifier)},mount:function(a){}})})},"inspector/widget/_BaseInspectorGroup":function(){define(["dojo/_base/declare"],function(k){return k([],{startup:function(d){}})})},"inspector/widget/InspectorPropertyEditorGroup":function(){define("inspector/widget/InspectorPropertyEditorGroup","dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-construct dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip dijit/TooltipDialog dijit/TitlePane mw-form/DropDownButton mw-log/Log variableeditor/VariableEditorUtils mw-peermodel/Observable dojo/text!inspector/templates/inspectorPropertyEditorGroup.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s,r){return k("inspector.widget.InspectorPropertyEditorGroup",[a,f,s.Impl],{templateString:r,constructor:function(a){this.numberOfChild=a.numberOfChild;this._richEditor=null},buildRendering:function(){this.inherited(arguments);this._addRichEditorAffordance()},_updateEditor:function(a){this._richEditor.update(a)},addEditor:function(a){this._richEditor=a;this._richEditor.storePopupContainer&&this._richEditor.storePopupContainer(this._dropdown);this._tooltipDialog.set("content",
a)},destroy:function(){this.inherited(arguments);this._tooltipDialog&&void 0===this._tooltipDialog._destroyed&&(this._tooltipDialog.destroy(),this._tooltipDialog=null);this._dropdown&&void 0===this._dropdown._destroyed&&(this._dropdown.destroy(),this._dropdown=null);this._editor&&void 0===this._editor._destroyed&&(this._editor.destroy(),this._editor=null);this._richEditor&&void 0===this._richEditor._destroyed&&(this._richEditor.destroy(),this._richEditor=null)},_addRichEditorAffordance:function(){this._tooltipDialog=
new m;this._dropdown=new g({hasDynamicMenu:!0,menu:this._tooltipDialog});this._dropdown.set("_menuOrientation","below below-alt above above-alt after before above-centered below-centered before-centered after-centered".split(" "));c.destroy(this._dropdown.dropDownNode);for(var a=0;3>a;a++){var b=document.createElement("div");b.classList.add("richeditor-dot");this._dropdown.iconNode.appendChild(b)}this._dropdown.focusNode.classList.add("rich-focus");this._dropdown.placeAt(this.propertyGroupEditorNode);
this._dropdown.on("dropdownclick",function(){this.emit("richeditoropened",{editor:this._richEditor});this._dropdown.showMenu()}.bind(this));this._dropdown.set("height",25*this.numberOfChild-3-2);this._dropdown.set("width",10)},startup:function(){this.inherited(arguments);this._dropdown.startup();this._tooltipDialog.startup()}})})},"inspector/widget/InspectorPropertySet":function(){define("inspector/widget/InspectorPropertySet","dojo/_base/declare dojo/_base/lang dojo/ready dojo/on dojo/dom-construct dojo/dom-class dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip mw-peermodel/Observable mw-log/Log variableeditor/VariableEditorUtils dojo/text!inspector/templates/inspectorPropertySet.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p,n,s){k=k("inspector.widget.InspectorPropertySet",[l,m,g.Impl],{templateString:"",propertyName:"",values:[],propertySheet:{},tooltip:{},editable:!0,_renderer:void 0,_inPlaceEditor:void 0,_editor:void 0,_placementNode:void 0,allArgs:{},_valueChangeListenerFunction:{},constructor:function(a){a||(a={});this.templateString=s;this.propertyName=a.propertyName||"";this.values=a.values;this.propertySheet=a.propertySheet;var b=this;this._commitOnBlur=function(){return!b.propertySheet.scrollerNodeActive};
this.propertySheet&&this.propertySheet.displayName&&(this.propertyName=f.substitute(this.propertySheet.displayName,{PropertyName:a.propertyName}));this.editable=this.propertySheet&&void 0!==this.propertySheet.editable?this.propertySheet.editable:!0;this.propertyValue=JSON.stringify(this.values);this.allArgs=n.mergeObjects(a,{propertyName:this.propertyName,values:this.values,propertySheet:this.propertySheet,editable:this.editable,propertyValue:this.propertyValue});this._valueChangeListenerFunction=
d.hitch(this,"_editorValueChanged");this.PropertyName=this.propertyName},destroy:function(){this.inherited(arguments);this._renderer&&this._disableRendererValueChangedListener(this._renderer);this.allArgs=this.propertySheet=this.commitOnBlur=this._commitOnBlur=null},postCreate:function(b){this.domNode&&!this.domNode.hasAttribute("data-tag")&&this.domNode.setAttribute("data-tag",n.concatenateDataTagStrings("datatools","inspector","propertySheet","propertySet",this.propertyName));this.domNode&&(this.allArgs.cssSpecifier&&
!a.contains(this.domNode,this.allArgs.cssSpecifier))&&a.add(this.domNode,this.allArgs.cssSpecifier);this.propertySheet&&(this.propertySheet.renderer&&this._createRenderer(b),this.propertySheet.tooltip&&this._createTooltip())},_createTooltip:function(){var a=f.substitute(this.propertySheet.tooltip,{PropertyName:this.propertyName}).split("||");if(1===a.length)var b=a[0];else 2<=a.length&&(b="\x3cspan style\x3d'font-weight: bold'\x3e"+a[0]+"\x3c/span\x3e\x3cbr/\x3e"+a[1]);var a=this._getAttachNode("inspectorPropertyName"),
d=this._getAttachNode("inspectorPropertyValue"),e=[this.domNode];(a||d)&&e.pop();a&&e.push(a);d&&e.push(d);this.tooltip=new h({connectId:e,label:'\x3cdiv style\x3d"cursor:default" data-tag\x3d"datatools.inspector.helpTooltip"\x3e'+b+"\x3c/div\x3e",position:["before","above","below","after"],showDelay:1E3});this.own(this.tooltip);var g=this;a&&c(a,"click",function(){g.tooltip.set("state","DORMANT")});d&&c(d,"focusin",function(){g.tooltip.set("state","DORMANT")});this.domNode&&c(this.domNode,"wheel",
function(){g.tooltip.set("state","DORMANT")});this.tooltip.startup();this.own(this.tooltip)},_getAttachNode:function(a){return!this.domNode?null:(a=this.domNode.querySelectorAll('[data-datatools-inspector-attach-point\x3d"'+a+'"]'))&&a.length&&0<a.length?a[0]:null},_enableRendererValueChangedListener:function(a){a.addEventListener&&a.addEventListener("valueChanged",this._valueChangeListenerFunction)},_disableRendererValueChangedListener:function(a){a.removeEventListener&&a.removeEventListener("valueChanged",
this._valueChangeListenerFunction)},_addSelectionClassesAndRedispatch:function(b){b||(b={});b.data||(b.data={});var c=this._getAttachNode("inspectorPropertyValue"),d=this._getAttachNode("inspectorPropertyName");a.add(this.domNode,"inspectorSelected");a.add(c,"inspectorSelected");a.add(d,"inspectorSelected");b=n.mergeObjects(b.data,{propertyName:this.propertyName,propertySet:this,source:"client"});this.dispatchEvent("propertySelected",this,b)},_addEditingClassesAndRedispatch:function(b){b||(b={});
b.data||(b.data={});var c=this._getAttachNode("inspectorPropertyValue"),d=this._getAttachNode("inspectorPropertyName");a.add(this.domNode,"inspectorEditing");a.add(c,"inspectorEditing");a.add(d,"inspectorEditing");b=n.mergeObjects(b.data,{propertyName:this.propertyName,propertySet:this,source:"client"});this.dispatchEvent("editingStarted",this,b)},_removeSelectionClassesAndRedispatch:function(b){b||(b={});b.data||(b.data={});var c=this._getAttachNode("inspectorPropertyValue"),d=this._getAttachNode("inspectorPropertyName");
a.remove(this.domNode,"inspectorSelected");a.remove(c,"inspectorSelected");a.remove(d,"inspectorSelected");b=n.mergeObjects(b.data,{propertyName:this.propertyName,propertySet:this,source:"client"});this.dispatchEvent("propertyDeselected",this,b)},_removeEditingClassesAndRedispatch:function(b){b||(b={});b.data||(b.data={});var c=this._getAttachNode("inspectorPropertyValue"),d=this._getAttachNode("inspectorPropertyName");a.remove(this.domNode,"inspectorEditing");a.remove(c,"inspectorEditing");a.remove(d,
"inspectorEditing");b=n.mergeObjects(b.data,{propertyName:this.propertyName,propertySet:this,source:"client"});this.dispatchEvent("editingStopped",this,b)},_addPropertySelectionListener:function(){this._getAttachNode("inspectorPropertyName").addEventListener("click",d.hitch(this,"_addSelectionClassesAndRedispatch"))},_addRendererEditingListeners:function(a){a.addEventListener("editingStarted","_handleEditingStarted",this);a.addEventListener("editingStopped","_handleEditingStopped",this);this.own({destroy:function(){a.removeEventListener("editingStarted",
"_handleEditingStarted",this);a.removeEventListener("editingStopped","_handleEditingStopped",this)}.bind(this)})},_handleEditingStarted:function(a){this._addSelectionClassesAndRedispatch(a);this._addEditingClassesAndRedispatch(a)},_handleEditingStopped:function(a){this._removeSelectionClassesAndRedispatch(a);this._removeEditingClassesAndRedispatch(a)},_createRenderer:function(a){var c=this;try{require([c.propertySheet.renderer],function(d){try{var e=c.values;1===e.length&&(e=e[0]);var f=[];c.cssSpecifier&&
(Array.isArray(c.cssSpecifier)?f=c.cssSpecifier:f.push(c.cssSpecifier));f.push("inspector");var g=n.mergeObjects(c.allArgs,{editValue:void 0!==e.editValue?e.editValue:e,dataType:c.propertySheet.dataType,editor:c.propertySheet.editor,inPlaceEditor:c.propertySheet.inPlaceEditor,editable:c.propertySheet.editable,editOnSingleClick:!0,cssSpecifier:f,commitOnBlur:c._commitOnBlur});c.propertySheet.rendererProperties&&(g=n.mergeObjects(g,c.propertySheet.rendererProperties));var h={dataType:c.propertySheet.dataType,
isMetaData:n.getLogicalValue(e.isMetaData,!1)};c.propertySheet.rendererProperties&&(h=n.mergeObjects(h,c.propertySheet.rendererProperties));c.propertySheet.editorProperties&&(h=n.mergeObjects(h,c.propertySheet.editorProperties));c.propertySheet.inPlaceEditorProperties&&(h=n.mergeObjects(h,c.propertySheet.inPlaceEditorProperties));g=n.mergeObjects(g,{state:h,inspectorObject:null,propertySheet:null});g.value=void 0!==e.value?e.value:e;g.valueObject=e;var k=new d(g);c.own(k);var l=c._getAttachNode("inspectorPropertyValue");
l&&(b.place(k.domNode,l,"last"),c._renderer=k,c._placementNode=l);c._enableRendererValueChangedListener(k);c._addRendererEditingListeners(k);c._addPropertySelectionListener();a&&a(k)}catch(m){p.error(m)}})}catch(d){p.error(d)}},_editorValueChanged:function(a){a&&(a.data&&a.data.editor&&a.data.editor.stopEditing)&&a.data.editor.stopEditing();if(!n.compareValues(this.values,a.data.newValue)){var b=n.mergeObjects(a.data,{propertyName:this.propertyName,source:"client"});this.values=a.data.newValue;this.dispatchEvent("propertyValueChanged",
this.domNode,b)}},isEditing:function(){return this._renderer.isEditing()},selectPropertySet:function(){this._addSelectionClassesAndRedispatch();this._addEditingClassesAndRedispatch()},edit:function(){this.selectPropertySet();this._renderer.edit()},stopEditing:function(){this._removeSelectionClassesAndRedispatch();this._removeEditingClassesAndRedispatch();this._renderer.stopEditing()},cancelEditing:function(){this._removeSelectionClassesAndRedispatch();this._removeEditingClassesAndRedispatch();this._renderer.cancelEditing()},
updatePropertyValue:function(a){this.values=a;if(this._renderer&&(this._disableRendererValueChangedListener(this._renderer),this._renderer.setValue(void 0!==a.value?a.value:a),this._enableRendererValueChangedListener(this._renderer),this._renderer.setEditValue(void 0!==a.editValue?a.editValue:a),this.values=this._renderer.getValue(),a.hasOwnProperty("isMetaData"))){var b=this._renderer.getState();b.isMetaData=n.getLogicalValue(a.isMetaData,!1);this._renderer.setState(b)}},updatePropertyState:function(a){this._renderer&&
(a.dataType||(a.dataType=this.propertySheet.dataType),this._renderer.setState(a))},getCurrentPropertyValue:function(){return this.values}});k.DEFAULT_PROPERTY_SET_TEMPLATE=s;return k})},"inspector/widget/InspectorPropertySubGroup":function(){define("inspector/widget/InspectorPropertySubGroup","dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-construct dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin variableeditor/VariableEditorUtils mw-peermodel/Observable dojo/parser dojo/text!inspector/templates/inspectorPropertySubGroup.html".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){return k("inspector.widget.InspectorPropertySubGroup",[a,f,l,h.Impl],{templateString:p,hidden:!0,groupName:"",constructor:function(a){a||(a={});this.groupName=a.groupName||""},postCreate:function(){this.showMoreButton.set("icon","arrowDownIcon");this.containerNode.classList.add("hidden");this.domNode&&!this.domNode.hasAttribute("data-tag")&&this.domNode.setAttribute("data-tag",m.concatenateDataTagStrings("datatools","inspector",this.groupName,"SubGroup"));this.domNode&&
this.hidden&&b.add(this.domNode,"propertySubGroup-hidden");g.parse()},expandOrCollapse:function(){this.hidden=!this.hidden;this.containerNode.classList.contains("hidden")?this.containerNode.classList.remove("hidden"):this.containerNode.classList.add("hidden");this._setExpandedAttr(this.hidden)},_setExpandedAttr:function(a){this.domNode&&(this.hidden?(b.remove(this.domNode,"propertySubGroup-expanded"),b.add(this.domNode,"propertySubGroup-hidden"),this.showMoreButton.set("icon","arrowDownIcon")):(b.add(this.domNode,
"propertySubGroup-expanded"),b.remove(this.domNode,"propertySubGroup-hidden"),this.showMoreButton.set("icon","arrowUpIcon")))}})})},"inspector/renderer/PropertyGroupRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dijit/TitlePane inspector/factory/InspectorFactory variableeditor/VariableEditorUtils dijit/Tooltip dojo/on".split(" "),function(k,d,e,c,b,a,f,l){return{renderPropertyGroup:function(d,e,g){if(e&&e.name){var k=e.name||"",n=e.displayName||e.name||"",s=e.tooltip||
"",r=void 0!==e.expanded?a.getLogicalValue(e.expanded,!1):!1,q=b.getItemModuleByType(e.type);e=new (require(q))({groupName:k,groupMetaData:e});n=new c({title:n,content:e,open:r});n.focusNode&&n.focusNode.setAttribute("tabIndex",-1);e.own(n);if(n.domNode&&n.domNode.firstElementChild&&""!==s){var r=n.domNode.firstElementChild,t=new f({connectId:[r],label:'\x3cdiv style\x3d"cursor:default" data-tag\x3d"datatools.inspector.helpTooltip"\x3e'+s+"\x3c/div\x3e",position:["before","above","below","after"],
showDelay:1E3});e.own(t);l(r,"click",function(){t.set("state","DORMANT")});l(r,"wheel",function(){t.set("state","DORMANT")});t.startup();n.own(t)}n.startup();d.groups[k]=e;d.groups[k].titlePane=n;g.addChild?g.addChild(n):n.placeAt(g);return e}}}})},"inspector/renderer/PropertySetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-class inspector/factory/InspectorFactory inspector/factory/InspectorConstants inspector/renderer/PropertyEditorGroupRenderer variableeditor/VariableEditorUtils".split(" "),
function(k,d,e,c,b,a,f,l){return{renderPropertySet:function(d,e,g,k){var n=d.propertySheet,s=n.getPropertySet(e),r=null;!d.hasGroup&&(s.richEditorProperties&&s.inPlaceEditorProperties&&s.inPlaceEditorProperties.richEditor)&&(c.remove(d.domNode,"propertySheet-noGroupEditor"),r=f.renderPropertyEditorGroup(d,{type:"editorgroup",items:[{name:e,type:"property"}]},k));s=b.getItemModuleByType(a.PROPERTY_ITEM_TYPE.SET);n=n.getPropertySet(e);s=require(s);g=l.mergeObjects(d.allArgs,{propertyName:e,values:g,
propertySheet:n});var q=new s(g);d.propertySets[e]=q;q.startup();q.addEventListener("propertyValueChanged","_propertyValueChanged",d);q.addEventListener("editingStarted","_propertyEditingStarted",d);q.addEventListener("editingStopped","_propertyEditingStopped",d);q.addEventListener("propertySelected","_propertySelected",d);q.addEventListener("propertyDeselected","_propertyDeselected",d);q.own({destroy:function(){q.removeEventListener("propertyValueChanged","_propertyValueChanged",d);q.removeEventListener("editingStarted",
"_propertyEditingStarted",d);q.removeEventListener("editingStopped","_propertyEditingStopped",d);q.removeEventListener("propertySelected","_propertySelected",d);q.removeEventListener("propertyDeselected","_propertyDeselected",d)}});if(r)return r.containerNode.appendChild(q.domNode),k.appendChild(r.domNode),r.startup(),r.own(q),r;k.appendChild(q.domNode);return q}}})},"inspector/renderer/PropertySubGroupRenderer":function(){define(["dojo/_base/declare","dojo/Deferred","inspector/factory/InspectorFactory",
"variableeditor/VariableEditorUtils"],function(k,d,e,c){return{renderPropertySubGroup:function(b,a,c){b=a.groupname||"";a=e.getItemModuleByType(a.type);a=new (require(a))({groupName:b});a.placeAt(c);a.startup();return a}}})},"inspector/search/InspectorToolbar":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mw-peermodel/Observable variableeditor/VariableEditorUtils inspector/search/SearchTextField dojo/text!./templates/inspectorToolbar.html".split(" "),
function(k,d,e,c,b,a,f,l,m){return k([e,c,b,a.Impl],{baseClass:"ToolbarContainer",templateString:m,alphaOrderTooltipText:"Alphabetical View",groupOrderTooltipText:"Group View",ALPHA_VIEW:"AlphabeticalViewButton",GROUP_VIEW:"GroupedViewButton",disabledStates:void 0,postCreate:function(){this.inherited(arguments);this.groupViewButton.set("buttonGroup",f.concatenateDataTagStrings("GroupedAndAlphabeticalViews",this.id));this.alphaViewButton.set("buttonGroup",f.concatenateDataTagStrings("GroupedAndAlphabeticalViews",
this.id));this.own(d(this.searchTextField,"search",this._handleSearch.bind(this)),d(this.groupViewButton,"click",this._requestView.bind(this,this.GROUP_VIEW)),d(this.alphaViewButton,"click",this._requestView.bind(this,this.ALPHA_VIEW)));this.disabledStates={}},updateButton:function(a,b,c){var d=a===this.GROUP_VIEW?this.groupViewButton:this.alphaViewButton;d&&d.set(b,c);"disabled"===b&&(this.disabledStates[a]=c)},_handleSearch:function(a){this.dispatchEvent("search",this,{substring:a.substring});""===
a.substring?(this._requestView(this.groupViewButton.get("checked")?this.GROUP_VIEW:this.ALPHA_VIEW),this.alphaViewButton.set("disabled",this.disabledStates[this.ALPHA_VIEW]||!1),this.groupViewButton.set("disabled",this.disabledStates[this.GROUP_VIEW]||!1)):(this._requestView(this.ALPHA_VIEW),this.alphaViewButton.set("disabled",!0),this.groupViewButton.set("disabled",!0))},_requestView:function(a){this.dispatchEvent("viewChange",this,{buttonName:a})}})})},"inspector/search/SearchTextField":function(){define("dojo/_base/declare dojo/dom-construct dojo/on dojo/keys dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mw-form/TextField mw-mixins/property/SizeMixin dojo/text!./templates/searchTextField.html dojo/i18n!inspector/app/l10n/nls/app".split(" "),
function(k,d,e,c,b,a,f,l,m,h,g,p){return k([a,f,l,h],{baseClass:"SearchContainer",disabled:!1,templateString:g,placeholderText:p.search,postCreate:function(){this._previousText="";this.inherited(arguments);this._clearTextButton=d.create("div",{"class":"ClearTextButton",title:p.clearSearch},this.textField.domNode,"last");this.textField.on("typing",this._handleTyping.bind(this));this.textField.on("change",this._handleChange.bind(this));this.textField.on("keydown",this._handleKeyDown.bind(this));this.own(e(this._clearTextButton,
"click",this.handleClear.bind(this)));this.own(e(this.textField,"click",function(){this.textField.inputNode.focus()}.bind(this)))},_handleKeyDown:function(a){var b=a.which;b===c.ESCAPE?this.handleClear():90===b&&a.ctrlKey&&a.preventDefault()},_handleTyping:function(a){this._requestSearch(a.mwEventData.currentContent)},_handleChange:function(a){this._requestSearch(a.mwEventData.newValue)},handleClear:function(){this._requestSearch("")},_requestSearch:function(a){if(a!==this._previousText){var b=""!==
a;this._clearTextButton.title=b?"Clear search":"";this._clearTextButton.classList.toggle("clearTextIconEnabled",b);this._previousText=a;this.textField.set("value",a);this.emit("search",{substring:a})}},_setDisabledAttr:function(a){this.textField.set("disabled",a)}})})},"inspector/peer/InspectorViewModel":function(){define("inspector/peer/InspectorViewModel","dojo/_base/lang dojo/_base/declare dojo/dom-geometry dojo/dom-class dijit/registry mw-log/Log mw-peermodel/Observable variableeditor/VariableEditorUtils variableeditor/views/ClientArrayView".split(" "),
function(k,d,e,c,b,a,f,l,m){return d("inspector.peer.InspectorViewModel",[m,f.Impl],{constructor:function(a){this.allArgs=a},_addGrid:function(a){this.gridNode=a},_requestDataFromServer:function(a,b){var c=a.rowCount;!0===b&&(c=15);c={startRow:0,endRow:a.rowCount,startColumn:0,endColumn:a.columnCount,limitCount:c,source:"client"};l.logDebug("InspectorViewModel: _requestDataFromServer");this.peerNode.dispatchPeerEvent("getData",this.peerNode,c);15<a.rowCount&&!0===b&&setTimeout(this._requestDataFromServer(a,
!1),1E3)},_addListeners:function(){l.logDebug("InspectorViewModel: _addListeners");var b=this;b.peerNode.addEventListener("propertySet",function(c){try{c&&(c.data&&"Size"===c.data.key)&&(l.logDebug("InspectorViewModel: Size Property Set: "+c.data.newValue.rowCount),b._requestDataFromServer(c.data.newValue,!0))}catch(d){a.error(d)}});b.peerNode.addEventListener("peerEvent",k.hitch(this,"_handlePeerEvents"))},_handlePeerEvents:function(b){try{if(b.data.type&&"error"===b.data.type){l.logDebug("InspectorViewModel: Server error: "+
b.data.message);try{this.dispatchEvent("serverError",this,{peerView:this,message:b.data.message})}catch(c){l.logDebug(c.message)}}else if(b.data.type&&"dataChangeStatus"===b.data.type){if("error"===b.data.status||"noChange"===b.data.status)try{this.dispatchEvent("resetData",this,{peerView:this,property:b.data.property,oldValue:JSON.parse(b.data.oldValue)})}catch(d){l.logDebug(d.message)}}else if(b&&b.data&&"setData"===b.data.type)this._setupDataForInspect(b.data);else if(b&&b.data&&"propertyAdded"===
b.data.type)try{this.dispatchEvent("propertyAdded",this,{peerView:this,property:b.data.property,oldValue:JSON.parse(b.data.oldValue)})}catch(e){l.logDebug(e.message)}else if(b&&b.data&&"propertyRemoved"===b.data.type)try{this.dispatchEvent("propertyRemoved",this,{peerView:this,property:b.data.property,source:b.data.source})}catch(f){l.logDebug(f.message)}else if(b&&b.data&&"propertyChanged"===b.data.type)try{this.dispatchEvent("propertyChanged",this,{peerView:this,propertyName:b.data.property,newValue:b.data.value,
oldValue:b.data.oldValue,source:b.data.source,state:b.data.state})}catch(k){l.logDebug(k.message)}else if(b&&b.data&&"focusLost"===b.data.type)try{this.dispatchEvent("focusLost",this,{})}catch(m){l.logDebug(m.message)}else if(b&&b.data&&"resetCache"===b.data.type)try{this.dispatchEvent("resetCache",this,{})}catch(t){l.logDebug(t.message)}else if(b&&b.data&&"selectChange"===b.data.type)try{this.dispatchEvent("selectChange",this,{})}catch(u){l.logDebug(u.message)}}catch(w){a.error(w)}},_setupDataForInspect:function(a){l.logDebug("InspectorViewModel: _setupDataForInspect");
if(a&&a.data&&Array.isArray(a.data)&&2<a.data.length){a=a.data.join("");a=JSON.parse(a);try{this.dispatchEvent("viewReady",this,{peerView:this,propertySheet:a.propertySheet,objectsToInspect:a.objects,id:a.id})}catch(b){l.logDebug(b.message)}}},_setupDataFetch:function(){l.logDebug("InspectorViewModel: _setupDataFetch");this.peerNode.dispatchPeerEvent("getSize",this.peerNode,{});if(this.peerNode.hasProperty("Size")){var a=this.peerNode.getProperty("Size");a&&this._requestDataFromServer(a,!0)}},init:function(a){this.inherited(arguments);
a&&a.container&&(this.allArgs=a,this._addListeners(),this._setupDataFetch())}})})},"dojo/dnd/AutoSource":function(){define(["../_base/declare","./Source"],function(k,d){return k("dojo.dnd.AutoSource",d,{constructor:function(){this.autoSync=!0}})})},"dgrid/extensions/_DnD-touch-autoscroll":function(){define(["dojo/aspect","dojo/dom-geometry","dojo/dnd/autoscroll","../List"],function(k,d,e,c){var b=e.autoScrollNodes,a,f;a={};k.after(c.prototype,"postCreate",function(b){var c=this.id;a[c]&&console.warn("dgrid instance registered with duplicate id '"+
c+"'");a[c]=this;return b});k.after(c.prototype,"destroy",function(b){delete a[this.id];return b});f=function(b){for(var c,d;b;){if((c=b.id)&&(d=a[c]))return d;b=b.parentNode}};e.autoScrollNodes=function(a){var c=a.target,h=f(c),g,k,n,s,r,q;if(h&&(c=h.touchNode.parentNode,c=d.position(c,!0),g=a.pageX-c.x,k=a.pageY-c.y,n=Math.min(e.H_TRIGGER_AUTOSCROLL,c.w/2),s=Math.min(e.V_TRIGGER_AUTOSCROLL,c.h/2),g<n?r=-n:g>c.w-n&&(r=n),k<s?q=-s:k>c.h-s&&(q=s),r||q)){a=h.getScrollPosition();c={};r&&(c.x=a.x+r);
q&&(c.y=a.y+q);h.scrollTo(c);return}b.call(this,a)};return e})},"dgrid/tree":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/Deferred dojo/query dojo/on dojo/aspect ./util/has-css3 ./Grid ./util/touch put-selector/put".split(" "),function(k,d,e,c,b,a,f,l,m,h){function g(a,b,c,d){d=this.grid.isRTL?"right":"left";var e=".dgrid-expando-icon";b&&(e+=".ui-icon.ui-icon-triangle-1-"+(c?"se":"e"));a=h("div"+e+"[style\x3dmargin-"+d+": "+a*(this.indentWidth||9)+"px; float: "+d+"]");a.innerHTML=
"\x26nbsp;";return a}function p(a){var b=this,c=this.style.height;c&&(this.style.display="0px"==c?"none":"block");a&&(h(this,".dgrid-tree-resetting"),setTimeout(function(){h(b,"!dgrid-tree-resetting")}));this.style.height=""}function n(k){var n=k.renderCell||l.defaultRenderCell,q,t;k||(k={});k.shouldExpand=k.shouldExpand||function(a,b,c){return c};a.after(k,"init",function(){var l=k.grid,n=".dgrid-content .dgrid-column-"+k.id,r=[];l.cleanEmptyObservers=!1;if(!l.store)throw Error("dgrid tree column plugin requires a store to operate.");
k.renderExpando||(k.renderExpando=g);r.push(l.on(k.expandOn||".dgrid-expando-icon:click,"+n+":dblclick,"+n+":keydown",function(a){var b=l.row(a);(!l.store.mayHaveChildren||l.store.mayHaveChildren(b.data))&&(("keydown"!=a.type||32==a.keyCode)&&!("dblclick"==a.type&&t&&1<t.count&&b.id==t.id&&-1<a.target.className.indexOf("dgrid-expando-icon")))&&l.expand(b);-1<a.target.className.indexOf("dgrid-expando-icon")&&(t&&t.id==l.row(a).id?t.count++:t={id:l.row(a).id,count:1})}));f("touch")&&r.push(l.on(m.selector(n,
m.dbltap),function(){l.expand(this)}));l._expanded||(l._expanded={});r.push(a.after(l,"insertRow",function(a){var b=this.row(a);k.shouldExpand(b,q,this._expanded[b.id])&&this.expand(a,!0,!0);return a}));r.push(a.before(l,"removeRow",function(a,b){var d=a.connected;d&&(c("\x3e.dgrid-row",d).forEach(function(a){l.removeRow(a,!0)}),b||h(d,"!"))}));k.collapseOnRefresh&&r.push(a.after(l,"cleanup",function(){this._expanded={}}));l._calcRowHeight=function(a){var b=a.connected;return a.offsetHeight+(b?b.offsetHeight:
0)};l.expand=function(a,d,g){var m=a.element?a:l.row(a),n=f("transitionend");a=new e;var q=a.promise;a.resolve();a=m.element;a=-1<a.className.indexOf("dgrid-expando-icon")?a:c(".dgrid-expando-icon",a)[0];g=g||!1===k.enableTransitions;if(a&&a.mayHaveChildren&&(g||d!==!!this._expanded[m.id])){var r=void 0===d?!this._expanded[m.id]:d;h(a,".ui-icon-triangle-1-"+(r?"se":"e")+"!ui-icon-triangle-1-"+(r?"e":"se"));d=m.element;var t=d.connected,v,w,M={originalQuery:this.query};if(!t){var t=M.container=d.connected=
h(d,"+div.dgrid-tree-container"),K=function(a){return l.store.getChildren(m.data,a)};k.allowDuplicates&&(M.parentId=m.id);"level"in a&&(K.level=a.level);q=q.then(function(){if(l.renderQuery)return l.renderQuery(K,M);var a=h(t,"div"),b=l.renderArray(K(M),a,"level"in K?{queryLevel:K.level}:{});e.when(b,function(){h(a,"!")});return b});n?b(t,n,p):p.call(t)}t.hidden=!r;v=t.style;!n||g?(v.display=r?"block":"none",v.height=""):(r?(v.display="block",w=t.scrollHeight,v.height="0px"):(h(t,".dgrid-tree-resetting"),
v.height=t.scrollHeight+"px"),setTimeout(function(){h(t,"!dgrid-tree-resetting");v.height=r?w?w+"px":"auto":"0px"}));r?this._expanded[m.id]=!0:delete this._expanded[m.id]}return q};a.after(k,"destroy",function(){d.forEach(r,function(a){a.remove()});delete l.expand;delete l._calcRowHeight})});k.renderCell=function(a,b,c,d){var e=k.grid,f=Number(d&&d.queryLevel)+1,g=!e.store.mayHaveChildren||e.store.mayHaveChildren(a),l=d.parentId,f=q=isNaN(f)?0:f,e=k.renderExpando(f,g,e._expanded[(l?l+"-":"")+e.store.getIdentity(a)],
a);e.level=f;e.mayHaveChildren=g;(a=n.call(k,a,b,c,d))&&a.nodeType?(h(c,e),h(c,a)):c.insertBefore(e,c.firstChild)};return k}n.defaultRenderExpando=g;return n})},"xstyle/core/load-css":function(){define([],function(){function k(a){if(c.createStyleSheet){var d=c.createStyleSheet();d.cssText=a;return d.owningElement}d=c.createElement("style");d.setAttribute("type","text/css");d.appendChild(c.createTextNode(a));b.insertBefore(d,b.firstChild);return d}function d(a,d,l){var m=e[a];if(m)return h=k(m),d(h);
var h=c.createElement("link");h.type="text/css";h.rel="stylesheet";h.href=a;var g=!l||!1!==l.wait;l=(l=navigator.userAgent.match(/AppleWebKit\/(\d+\.?\d*)/))&&+l[1];if(null===h.onload&&!(536>l))h.onload=function(){h.onload=null;h.onerror=null;g&&d(h)},h.onerror=function(){console.error("Error loading stylesheet "+a);g&&d(h)};else if(g)var p=setInterval(function(){h.style&&(clearInterval(p),d(h))},15);(b||c.getElementsByTagName("head")[0]).appendChild(h);g||d(h)}var e="undefined"==typeof _css_cache?
{}:_css_cache,c=document,b=c.head;d.insertCss=k;return d})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),function(k){return k._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(k,d,e,c){var b=d("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=
0},add:function(a){if(this._hash[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");this._hash[a.id]=a;this.length++},remove:function(a){this._hash[a]&&(delete this._hash[a],this.length--)},forEach:function(a,b){b=b||e.global;var c=0,d;for(d in this._hash)a.call(b,this._hash[d],c++,this._hash);return this},filter:function(a,c){c=c||e.global;var d=new b,k=0,h;for(h in this._hash){var g=this._hash[h];a.call(c,g,k++,this._hash)&&d.add(g)}return d},
byId:function(a){return this._hash[a]},byClass:function(a){var c=new b,d,e;for(d in this._hash)e=this._hash[d],e.declaredClass==a&&c.add(e);return c},toArray:function(){var a=[],b;for(b in this._hash)a.push(this._hash[b]);return a},map:function(a,b){return k.map(this.toArray(),a,b)},every:function(a,b){b=b||e.global;var c=0,d;for(d in this._hash)if(!a.call(b,this._hash[d],c++,this._hash))return!1;return!0},some:function(a,b){b=b||e.global;var c=0,d;for(d in this._hash)if(a.call(b,this._hash[d],c++,
this._hash))return!0;return!1}});k.forEach("forEach filter byClass map every some".split(" "),function(a){c[a]=b.prototype[a]});return b})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(k,d,e,c,b){var a={getViewport:function(){return e.getBox()}};a.placeOnScreen=c.at;a.placeOnScreenAroundElement=function(a,b,e,h){var g;if(d.isArray(e))g=e;else{g=[];for(var k in e)g.push({aroundCorner:k,corner:e[k]})}return c.around(a,b,g,!0,
h)};a.placeOnScreenAroundNode=a.placeOnScreenAroundElement;a.placeOnScreenAroundRectangle=a.placeOnScreenAroundElement;a.getPopupAroundAlignment=function(a,b){var c={};k.forEach(a,function(a){var d=b;switch(a){case "after":c[b?"BR":"BL"]=b?"BL":"BR";break;case "before":c[b?"BL":"BR"]=b?"BR":"BL";break;case "below-alt":d=!d;case "below":c[d?"BL":"BR"]=d?"TL":"TR";c[d?"BR":"BL"]=d?"TR":"TL";break;case "above-alt":d=!d;default:c[d?"TL":"TR"]=d?"BL":"BR",c[d?"TR":"TL"]=d?"BR":"BL"}});return c};d.mixin(b,
a);return b})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(k,d,e){var c=e._createWrapper;e._createWrapper=function(a){a.declaredClass||(a={_popupWrapper:a.parentNode&&k.contains(a.parentNode,"dijitPopup")?a.parentNode:null,domNode:a,destroy:function(){},ownerDocument:a.ownerDocument,ownerDocumentBody:d.body(a.ownerDocument)});return c.call(this,a)};var b=e.open;e.open=function(a){if(a.orient&&"string"!=typeof a.orient&&!("length"in
a.orient)){var c=[],d;for(d in a.orient)c.push({aroundCorner:d,corner:a.orient[d]});a.orient=c}return b.call(this,a)};return e})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(k,d){d.scrollIntoView=function(d,c){k.scrollIntoView(d,c)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],
function(k,d,e){d.mixin(e,{hasWaiRole:function(c,b){var a=this.getWaiRole(c);return b?-1<a.indexOf(b):0<a.length},getWaiRole:function(c){return d.trim((k.get(c,"role")||"").replace("wairole:",""))},setWaiRole:function(c,b){k.set(c,"role",b)},removeWaiRole:function(c,b){var a=k.get(c,"role");a&&(b?(a=d.trim((" "+a+" ").replace(" "+b+" "," ")),k.set(c,"role",a)):c.removeAttribute("role"))},hasWaiState:function(c,b){return c.hasAttribute?c.hasAttribute("aria-"+b):!!c.getAttribute("aria-"+b)},getWaiState:function(c,
b){return c.getAttribute("aria-"+b)||""},setWaiState:function(c,b,a){c.setAttribute("aria-"+b,a)},removeWaiState:function(c,b){c.removeAttribute("aria-"+b)}});return e})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(k,d){d.getDocumentWindow=function(d){return k.get(d)}})},"url:mw-menu/templates/MenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n        \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/Menu.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" tabindex\x3d"0" data-focus\x3d"temporary"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/MenuSeparator.html":'\x3cdiv data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/PopupMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n    \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutAndArrowWrapperNode"\n        \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwMenuArrowNode"  data-dojo-attach-point\x3d"menuArrowNode"\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/Toolstrip.html":'\x3cdiv id\x3d${id} class\x3d"toolstrip toolstripNode" data-focus\x3d"refuse"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"tabGroupContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"toolstripTabContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"topRightContainer" data-dojo-attach-point\x3d"topRightContainer"\x3e\n        \x3cdiv class\x3d"QABContainer" data-dojo-attach-point\x3d"QABContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchContainer" data-dojo-attach-point\x3d"searchContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchPopupContainer dijitOffScreen" data-dojo-attach-point\x3d"searchPopupContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"logoutContainer" data-dojo-attach-point\x3d"logoutContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"collapseButtonContainer" data-dojo-attach-point\x3d"collapseButtonContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:mw-form/templates/PushButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/layout/templates/ConfirmationDialog.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"messageNode" class\x3d"mwMessageNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dojox/layout/resources/FloatingPane.html":'\x3cdiv class\x3d"dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv tabindex\x3d"0" role\x3d"button" class\x3d"dojoxFloatingPaneTitle" dojoAttachPoint\x3d"focusNode"\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"onclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"onclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"onclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\t\n\t\t\x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"onclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-dialog-utils/floatingPaneTemplate.html":'\x3cdiv tabindex\x3d"0" class\x3d"mwNonModalDialog dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv role\x3d"button" class\x3d"dojoxFloatingPaneTitle dijitDialogTitleBar" dojoAttachPoint\x3d"focusNode"\x3e\n        \x3c!--\n         This template is required because the dojox Floating pane template uses onClick Event instead of ondijitclick,\n         which causes some issues with Ipad. Dojo ticket for dialogs not closing on touch devices: http://bugs.dojotoolkit.org/ticket/13488\n         the fix was implemented in _onDijitClickMixin() so using ondijitclick solves the problem.\n\n         This template also groups the icons into a div so that it can be absolute positioned which\n         allows it to be stacked on top of the title node. Previously long titles were overlapping\n         the icons making them unclickable, z-index does not work because the buttons are floats.\n         g985154\n        --\x3e\n\t\t\x3cspan style\x3d"float:left" dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode dijitDialogTitle"\x3e\x3c/span\x3e\n\n        \x3cdiv class\x3d"dojoxFloatingIconContainer"\x3e\n            \x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"ondijitclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"ondijitclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"ondijitclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"ondijitclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n        \x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/QAB.html":'\x3cdiv id\x3d${id} class\x3d"qab"\x3e\n    \x3cdiv class\x3d"leftArrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"mainArea" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/QAGroup.html":'\x3cdiv id\x3d${id} class\x3d"qaGroup"\x3e\n\x3cdiv data-dojo-attach-point\x3d"separatorNode" class\x3d"quickAccessGroupSeparator"\x3e\x3c/div\x3e\x3cdiv class\x3d"qaGroupContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/TabGroup.html":'\x3cdiv class\x3d"tabGroup"\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Section.html":"\x3cdiv id\x3d${id} class\x3d'section'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'sectionWrapper' class\x3d'sectionWrapper'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'columnContainerWrapper' class\x3d'columnContainerWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d'columnContainer'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'title'\x3e\x3c/div\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'sectionDropDownContainer' class\x3d'sectionDropDownContainer'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionDivider'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/DropDownButton.html":'\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"buttonNode" class\x3d"mwButtonNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonAlignmentNode" class\x3d"mwButtonAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonContainerNode" class\x3d"mwButtonContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode mwBlockTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"textLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownNode" class\x3d"mwDropDownNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownAlignmentNode" class\x3d"mwDropDownAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownContainerNode" class\x3d"mwDropDownContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextNode" class\x3d"mwTextNode mwInlineTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"arrowNode" class\x3d"mwArrowNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLineNode" class\x3d"mwLastTextLineNode"\n                        \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                    \x3e\x3c/div\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"arrowIconNode" class\x3d"mwArrowIconNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryPopup.html":"\x3cdiv id\x3d${id} class\x3d'toolstrip galleryPopup'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d'header'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'searchTextFieldContainerNode' class\x3d\"mwSearchTextFieldContainerNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'buttonWrapper' class\x3d'ButtonWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'listViewButtonContainerNode' class\x3d\"mwListViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'iconViewButtonContainerNode' class\x3d\"mwIconViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'closeButtonNode' class\x3d\"mwCloseButtonNode\" data-tag\x3d\"closeButton\"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"categoryContainer\" class\x3d'categoryContainer'\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"noSearchMatchNode\" class\x3d\"noSearchMatchNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"favCategoryContainer\" class\x3d\"favCategoryContainer\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d\"otherCategoriesContainer\"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"footerContainer\" class\x3d'footerContainer'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/TextField.html":'\x3cdiv\x3e\x3cinput class\x3d "mwInputNode mwAlignmentNode" spellcheck\x3d"false" type\x3d"text" data-dojo-attach-point\x3d"inputNode,focusNode"\x3e\x3c/div\x3e',"url:mw-form/templates/ToggleButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-pressed\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/Panel.html":"\x3cdiv id\x3d${id} class\x3d'panel'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/Column.html":"\x3cdiv id\x3d${id} class\x3d'column' data-dojo-attach-point\x3d\"containerNode\"\x3e\x3c/div\x3e","url:mw-menu/templates/MenuPanel.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:MW/toolstrip/widgets/templates/Footer.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/FooterCell.html":'\x3cdiv data-dojo-attach-point\x3d"footerCellNode"\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/gallery/templates/Gallery.html":'\x3cspan id\x3d${id} class\x3d\'gallery icon_view\' \x3e\n    \x3cdiv data-dojo-attach-point\x3d"_aroundNode" class\x3d"aroundNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\'containerNode\' class\x3d\'mainArea\'\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d\'openPopupDiv, focusNode, _buttonNode\' class\x3d\'openPopupDiv\'\x3e\n        \x3cdiv class\x3d"buttonDownArrow"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyLayer" class\x3d"busyLayer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyNode" class\x3d"busyIndicator"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"textOverlayWrapperNode" class\x3d"textOverlayWrapper"\x3e\n        \x3cdiv class\x3d"textOverlayCell"\x3e\n            \x3cspan data-dojo-attach-point\x3d"textOverlayNode" class\x3d"textOverlay"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/span\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryCategory.html":"\x3cdiv id\x3d${id} class\x3d\"Category\"\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d\"categoryHeader\"\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleIconNode' class\x3d'titleIcon'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'categoryTitle'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'moveTopNode' class\x3d'moveTopNode'\x3e\n            \x3cdiv class\x3d'moveTopLabel'\x3eTOP\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'moveTopButtonNode' class\x3d'moveTopButton'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"containerNode\" class\x3d'gridWrapperNode'\x3e\n    \x3c/div\x3e\n\x3c/div\x3e",
"url:mw-colorpicker/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline mwDisableSelection"\n    \x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"${baseClass}Title"\x3e${!title}\x3c/span\n    \x3e\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0"\n        \x3e\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',"url:mw-colorpicker/templates/ColorPaletteSwatch.html":'\x3cdiv class\x3d"dijitInline mwPaletteDiv"\n    \x3e\x3cdiv title\x3d"${title}" class\x3d"mwColorPaletteSwatch" style\x3d"background-color: ${color}" data-test-id\x3d"${color}"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-colorpicker/templates/ColorSpinner.html":'\x3cdiv class\x3d"mwDisableSelection"\n    \x3e\x3ctable\n        \x3e\x3ctr\n            \x3e\x3ctd colspan\x3d"3"\n            \x3e\x3cdiv data-dojo-type\x3d"mw-colorpicker/ToggleButtonGroup" data-dojo-attach-point\x3d"toggleButton" data-dojo-props\x3d"buttonText:[\'1\', \'2\', \'3\']"\x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Double" data-dojo-attach-point\x3d"doubleSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redDoubleSpinner" data-dojo-attach-point\x3d"redDoubleSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenDoubleSpinner" data-dojo-attach-point\x3d"greenDoubleSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueDoubleSpinner" data-dojo-attach-point\x3d"blueDoubleSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Int"  data-dojo-attach-point\x3d"intSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redIntSpinner" data-dojo-attach-point\x3d"redIntSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenIntSpinner" data-dojo-attach-point\x3d"greenIntSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueIntSpinner" data-dojo-attach-point\x3d"blueIntSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Hex" data-dojo-attach-point\x3d"hexSpinners"\n            \x3e\x3ctd colspan\x3d"3"\x3e${_hexTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/ValidationTextBox" data-test-id\x3d"hexSpinner" data-dojo-attach-point\x3d"hexSpinner" class\x3d"${baseClass}HexSpinner"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',
"url:mw-colorpicker/templates/ColorPicker.html":'\x3cdiv class\x3d"mwDisableSelection" data-test-id\x3d"mwColorPicker"\n    \x3e\x3cdiv class\x3d"${baseClass}Palette" data-dojo-type\x3d"mw-colorpicker/ColorPalette" data-dojo-attach-point\x3d"paletteNode" data-test-id\x3d"palette" data-dojo-props\x3d"palette: ${_parsedStandardColors}"\x3e\x3c/div\n    \x3e\x3ctable class\x3d"${baseClass}Middle"\n        \x3e\x3ctr\n            \x3e\x3ctd class\x3d"${baseClass}Recent" data-dojo-attach-point\x3d"recentColorsNode" data-test-id\x3d"recentColors"\x3e\x3c/td\n            \x3e\x3ctd\n                \x3e\x3cdiv data-dojo-attach-point\x3d"previewNode" class\x3d"${baseClass}Preview"\n                    \x3e\x3cspan data-dojo-attach-point\x3d"previewTitleNode"\x3e${_previewTitle}\x3c/span\n                    \x3e\x3cdiv class\x3d"${baseClass}PreviewColor" data-dojo-attach-point\x3d"previewColorNode" data-test-id\x3d"previewColor"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n    \x3e\x3cdiv class\x3d"${baseClass}Spinner" data-dojo-type\x3d"mw-colorpicker/ColorSpinner" data-dojo-attach-point\x3d"spinnerNode" data-test-id\x3d"spinner"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-form/templates/CheckBox.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"checkbox" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',"url:mw-menu/templates/CheckBoxRadioButtonMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwOverlayNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-menu/templates/TextFieldMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextContainer" data-dojo-attach-point\x3d"textContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:mw-form/templates/RadioButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"radio" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/MenuHeader.html":'\x3cdiv data-dojo-attach-point\x3d"textNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-form/templates/ComboBox.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"mwTextFieldContainerNode" data-dojo-attach-point\x3d"textFieldContainerNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwArrowContainerNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3cdiv class\x3d"mwArrowNode"\x3e\x3c/div\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/ListBox.html":'\x3cdiv\x3e\x3cul tabindex \x3d "0" data-dojo-attach-point\x3d "containerNode, focusNode"\x3e\x3c/ul\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/Tooltip.html":'\x3cdiv class\x3d"validation-tooltip-dialog"\x3e\n        \x3cdiv class\x3d"tooltipConnector" data-dojo-attach-point\x3d"arrowNode" style\x3d"display:inline-block"\x3e\x3c/div\n                \x3e\x3cdiv  style\x3d"display:inline-block" class\x3d"validationContents" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"validationImage" style\x3d"display:inline-block"\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"validationText" style\x3d"display:inline-block"\x3e\x3c/div\x3e\x3c/div\x3e\n\n\x3c/div\x3e\n\n',
"url:mw-form/templates/Label.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/EmptyControl.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d "emptyControl"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/TextArea.html":'\x3cdiv\x3e\x3ctextarea class\x3d"mwInputNode mwAlignmentNode" data-dojo-attach-point\x3d"inputNode,focusNode" spellcheck\x3d"false"\x3e\x3c/textarea\x3e\x3c/div\x3e',"url:mw-form/templates/Spinner.html":'\x3cdiv\n    \x3e\x3cdiv class \x3d "mwContainerNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\n    \x3e\x3cdiv class \x3d "mwButtonsContainer" data-dojo-attach-point\x3d"buttonsContainerNode"\n        \x3e\x3cdiv class \x3d "mwIncrementButtonWrapper" data-dojo-attach-point\x3d"incrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwIncrementButton" data-dojo-attach-point\x3d"incrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv class \x3d "mwDecrementButtonWrapper" data-dojo-attach-point\x3d"decrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwDecrementButton" data-dojo-attach-point\x3d"decrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/external/templates/Slider.html":'\x3cdiv class\x3d"vc-userSelectNone vc-defaultFontRules" data-dojo-attach-event\x3d"press:_onTrackClick"\x3e\n    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"valueNode"\x3e\n    \x3cdiv class\x3d"vc-sliderTrack" data-dojo-attach-point\x3d"sliderTrackNode"\x3e\n        \x3cdiv class\x3d"vc-sliderThumb" data-dojo-attach-point\x3d"sliderThumbNode, focusNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"vc-sliderRuleAndLabelContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/ToolbarWrapper.html":"\x3cdiv class\x3d'toolbarWrapper'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/MenubarWrapper.html":"\x3cdiv class\x3d'menubarWrapper' data-focus\x3d'accept'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/gallery/templates/GalleryItem.html":'\x3cdiv id\x3d${id} class\x3d"Item"\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'itemWrapperNode, focusNode\' class\x3d"itemWrapper"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconWrapper" class\x3d"iconWrapper"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"labelWrapper" class\x3d\'labelWrapper\'\n            \x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"label"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d"description"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonWrapperNode\' class\x3d\'favButtonWrapper\'\n        \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonNode\' class\x3d\'favButton\'\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-notifications/templates/ProgressBar.html":'\x3cdiv data-test-id\x3d"${data-test-id}" data-value\x3d"${value}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"gutterNode" class\x3d"${baseClass}Gutter"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"progressNode" class\x3d"${baseClass}Progress"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressTextNode" class\x3d"${baseClass}Text"\x3e50%\x3c/div\x3e\n\x3c/div\x3e',"url:variableeditor/views/SummaryBar.html":'\x3cdiv class\x3d"summaryBar" data-dojo-attach-point\x3d"summaryBarOuterContainer"\x3e\n    \x3cdiv class\x3d"summaryBarContainer"\x3e\n        \x3cdiv class\x3d"summaryBarIcon"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarSize"\x3e${size}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarLink" data-dojo-attach-point\x3d"summaryBarLink"\x3e\x3ca class\x3d"summaryBarRef" href\x3d"#"\x3e${type}\x3c/a\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarSecondaryType"\x3e${secondaryType}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarStatus"\x3e${status}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarStatusLink" data-dojo-attach-point\x3d"summaryBarStatusLink"\x3e\x3ca class\x3d"summaryBarStatusRef" href\x3d"#"\x3e${status}\x3c/a\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/ClientPeerDocument.html":'\x3cdiv class\x3d"clientPeerDocument" data-dojo-attach-point\x3d"clientPeerDocumentContainer"\x3e\n    \x3cdiv class\x3d"summaryBarDiv"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"clientPeerViewDiv"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/table/DefaultHeaderTemplate.html":'\x3cdiv class\x3d"variableEditorHeaders" data-dojo-attach-point\x3d"variableEditorHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorHeaders"\x3e\n    \x3cdiv class\x3d"cell"\x3e\n        \x3cdiv class\x3d"Index"  style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"Label"  style\x3d"display: none;"  data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorColumnHeader.html":'\x3cdiv class\x3d"cell column variableEditorColumnHeaders" data-datatools-renderer-attach-point\x3d"variableEditorColumnHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorColumnHeaders"\x3e\n    \x3cdiv class\x3d"header cell"\x3e\n        \x3cdiv class\x3d"columnIndex" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cbr class\x3d"lineBreak" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"lineBreak"\x3e\n        \x3cdiv class\x3d"columnLabel" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"drag" style\x3d"cursor: ew-resize;" data-datatools-renderer-attach-point\x3d"ColumnHeaderDrag"\x3e\n        \x3cdiv class\x3d"firstHalfOfDrag"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"dragBorder"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"secondHalfOfDrag"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorRowHeader.html":'\x3cdiv class\x3d"row variableEditorRowHeaders" data-datatools-renderer-attach-point\x3d"variableEditorRowHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorRowHeaders"\x3e\n    \x3cdiv class\x3d"cell" data-tag\x3d"datatools.variableeditor.views.table.variableEditorRowHeaders.cell"\x3e\n        \x3cdiv class\x3d"rowIndex"  style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"rowLabel"  style\x3d"display: none;"  data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorTemplate.html":'\x3cdiv class\x3d"mw_type_Table mw_type_TableBase mw_type_ListBase"\x3e\n    \x3cdiv class\x3d"header nospacing preventDragSelection topHeaderWrapper"\x3e\n        \x3cdiv class\x3d"inline row cornerSpacer rowHeaderColumn rowHeadersWrapper topRowHeaderWrapper" data-dojo-attach-point\x3d"cornerSpacerNode"\x3e\n            \x3cdiv class\x3d"row cell"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline wrapper headerWrapper"\x3e\n            \x3cdiv class\x3d"inline scrolled dataColumn columnHeaderScrollerNode" data-dojo-attach-point\x3d"columnHeaderScrollerNode"\x3e\n                \x3cdiv class\x3d"row dataWidth spacer columnHeaderNode" data-dojo-attach-point\x3d"columnHeaderNode"\x3e\n                    \x3cdiv class\x3d"cell spacer leftSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"cell spacer rightSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline row cornerSpacer verticalScrollSpacer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"body nospacing"\x3e\n        \x3cdiv class\x3d"inline wrapper rowHeadersWrapper preventDragSelection bottomRowHeaderWrapper"\x3e\n            \x3cdiv class\x3d"scrolled dataRow rowHeaderColumn rowHeaders rowHeaderScrollerNode" data-dojo-attach-point\x3d"rowHeaderScrollerNode"\x3e\n                \x3cdiv class\x3d"dataHeight spacer rowHeaderNode" data-dojo-attach-point\x3d"rowHeaderNode"\x3e\n                    \x3cdiv class\x3d"row spacer topSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"spacer bottomSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"cornerSpacer horizontalScrollSpacer rowHeaderColumn"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline wrapper dataBodyWrapper"\x3e\n            \x3cdiv class\x3d"scroller dataRow dataColumn dataScrollerNode" data-dojo-attach-point\x3d"dataScrollerNode"\x3e\n                \x3cdiv class\x3d"dataWidth dataHeight spacer dataBody" data-dojo-attach-point\x3d"dataNode"\x3e\n                    \x3cdiv class\x3d"row spacer topSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"spacer bottomSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"columnResizer" data-dojo-attach-point\x3d"columnResizerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"loading"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"${type}" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/binaryToggleButtonEditor.html":'\x3cdiv class\x3d"binaryToggleButtonEditor" data-dojo-attach-point\x3d"binaryToggleButtonEditor" data-tag\x3d"datatools.variableeditor.views.editors.binaryToggleButtonEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/toggleButtonGroupEditor.html":'\x3cdiv class\x3d"toggleButtonGroupEditor" data-dojo-attach-point\x3d"toggleButtonGroupEditor" data-tag\x3d"datatools.variableeditor.views.editors.toggleButtonGroupEditor"\x3e\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/_ColorStylesSwatch.html":'\x3cdiv class\x3d"dijitInline mwColorPickerPalette mwColorPalette mwColorPickerColorStylesSection"\x3e\n\t\x3cspan class\x3d"mwColorPaletteTitle"\x3e${title}\x3c/span\x3e\n\t\x3cdiv class\x3d "colorStyleNodes" data-dojo-attach-point\x3d"colorStyleNodes"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/ColorEditor.html":'\x3cdiv class\x3d"colorEditor" data-dojo-attach-point\x3d"colorEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorEditor"\x3e\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/ColorTextBoxEditor.html":'\x3cdiv class\x3d"colorTextBoxEditor" data-dojo-attach-point\x3d"colorTextBoxEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorTextBoxEditor"\x3e\n    \x3cdiv class\x3d"colorValue" data-datatools-renderer-attach-point\x3d"colorValue" data-tag\x3d"datatools.variableeditor.views.editors.colorTextBoxEditor.colorValue"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/renderers/templates/ColorOrderRenderer.html":'\x3cdiv class\x3d"colorOrderRenderer" data-dojo-attach-point\x3d"colorOrderRenderer" data-tag\x3d"datatools.variableeditor.views.renderers.colorOrderRenderer"\x3e\n    \x3cdiv class\x3d"colorSwatch" data-datatools-renderer-attach-point\x3d"colorSwatch" data-tag\x3d"datatools.variableeditor.views.renderers.colorOrderRenderer.colorSwatch"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/editors/templates/ColormapEditor.html":'\x3cdiv class\x3d"colormapEditor" data-tag\x3d"datatools.variableeditor.views.editors.ColormapEditor"\x3e\x3c/div\x3e',"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/ColorDropDownEditor.html":'\x3cdiv class\x3d"colorDropDownEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorDropDownEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/RGBColorEditor.html":'\x3cdiv class\x3d"rgbColorEditor colorEditorWithTextBox" data-dojo-attach-point\x3d"rgbColorEditor" data-tag\x3d"datatools.variableeditor.views.editors.rgbColorEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/ColorOrderEditor.html":'\x3cdiv class\x3d"colorOrderEditor" data-dojo-attach-point\x3d"colorOrderEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor"\x3e\n    \x3cdiv class\x3d"colorOrderRendererDiv" data-datatools-renderer-attach-point\x3d"colorOrderRendererDiv" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorOrderRendererDiv"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"colorListDiv" data-datatools-renderer-attach-point\x3d"colorListDiv" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorListDiv"\x3e\n        \x3cul class\x3d"colorList container" data-datatools-renderer-attach-point\x3d"colorList" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorList"\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttonPanel" data-datatools-renderer-attach-point\x3d"buttonPanel" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.buttonPanel"\x3e\n        \x3cbutton type\x3d"button" class\x3d"colorAddButton" data-datatools-renderer-attach-point\x3d"colorAddButton" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorAddButton"\x3e${AddNewLabel}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mw-overlay-utils/templates/busyOverlayTemplate.html":'\x3cdiv class\x3d"mw-busyIndicator" data-dojo-attach-point\x3d"_busyOverlayNode"\x3e\n\t\x3cdiv class\x3d"underlayNode" data-dojo-attach-point\x3d"_underlayNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"spinnerNode" data-dojo-attach-point\x3d"_spinnerNode" \x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/FilePickerEditor.html":'\x3cdiv class\x3d"filePickerEditor cellRenderer" data-tag\x3d"datatools.variableeditor.views.editors.FilePickerEditor"\x3e\x3c/div\x3e',
"url:dijit/templates/TitlePane.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass\x3d"dijitTitlePaneTitle" data-dojo-attach-point\x3d"titleBarNode" id\x3d"${id}_titleBarNode"\x3e\n\t\t\x3cdiv class\x3d"dijitTitlePaneTitleFocus" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"arrowNode" class\x3d"dijitInline dijitArrowNode" role\x3d"presentation"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"arrowNodeInner" class\x3d"dijitArrowNodeInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitTitlePaneTextNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTitlePaneContentOuter" data-dojo-attach-point\x3d"hideNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitReset" data-dojo-attach-point\x3d"wipeNode" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv class\x3d"dijitTitlePaneContentInner" data-dojo-attach-point\x3d"containerNode" role\x3d"region" id\x3d"${id}_pane" aria-labelledby\x3d"${id}_titleBarNode"\x3e\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:inspector/editors/_BasePSTable/PSTable.html":'\x3cdiv\x3e\n    \x3cdiv class \x3d "tableContainer" data-dojo-attach-point\x3d"dgridContainerNode"\x3e\n    \x3c/div\x3e\n    \x3cdiv class \x3d "plusMinusButtonsContainer" data-dojo-attach-point\x3d"addRemoveButtonContainerNode"\x3e\x3c/div\x3e\n    \x3cdiv class \x3d "additionalButtonsContainer" data-dojo-attach-point\x3d"additionalButtonsContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:inspector/editors/ScaleColorsEditor/ColorColumnEditor.html":'\x3cdiv class\x3d"vc-pe-colorColumnCell"\x3e\n\n\x3c/div\x3e\n',
"url:inspector/editors/ScaleColorsEditor/ScaleColorsEditor.html":'\x3cdiv class\x3d"scaleColorEditor inspector-editor dgrid-inspector-editor vc-pe-optionsTable vc-pe-editableTableTearaway vc-pe-optionsTableTearaway" tabindex\x3d"0"\x3e\x3c/div\x3e\n',"url:inspector/templates/inspectorTicksDialog.html":'\x3cdiv  data-dojo-attach-point\x3d"_contanier"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"_ticksDialogContainer" class\x3d"ticksDialogContainer noselect"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"_tableContainer" class \x3d"ticksDialogTable"  \x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"_ButtonContainer" class\x3d"ticksDialogButtonContainer"\x3e \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"_errorPlaceHolder" class\x3d"errorMsg noselect"\x3e\x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:inspector/editors/ItemsEditor/ItemsEditor.html":'\x3cdiv class\x3d"itemsEditor inspector-editor dgrid-inspector-editor vc-pe-optionsTable vc-pe-editableTableTearaway vc-pe-optionsTableTearaway" tabindex\x3d"0"\x3e\x3c/div\x3e\n',"url:inspector/editors/templates/displayFormatRichEditor.html":'\x3ctable\x3e\n    \x3ctbody\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3cdiv data-dojo-type\x3d"mw-form/RadioButton"\n                     data-dojo-attach-point\x3d"defaultRadioButtonNode"\n                     data-dojo-props\x3d"buttonGroup: \'${_buttonGroup}\', displayMode: \'DEFAULT\', text: \'${_defaultLabel}\'"\x3e\x3c/div\x3e\x3c/td\x3e\n            \x3ctd\x3e(%11.4g)\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3cdiv data-dojo-type\x3d"mw-form/RadioButton"\n                     data-dojo-attach-point\x3d"decimalRadioButtonNode"\n                     data-dojo-props\x3d"buttonGroup: \'${_buttonGroup}\', displayMode: \'DECIMAL\', text: \'${_exactlyLabel}\'"\x3e\x3c/div\x3e\x3c/td\x3e\n            \x3ctd\x3e\x3cdiv class\x3d"row-input"\n                data-dojo-type\x3d"mw-form/TextField"\n                data-dojo-attach-point\x3d"decimalTextFieldNode"\n                data-dojo-props\x3d"value: \'3\'"\x3e\x3c/div\x3e\x3c/td\x3e\n            \x3ctd class\x3d"row-suffix"\x3e${_decimalsLabel}\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3cdiv data-dojo-type\x3d"mw-form/RadioButton"\n                     data-dojo-attach-point\x3d"integersRadioButtonNode"\n                     data-dojo-props\x3d"buttonGroup: \'${_buttonGroup}\', displayMode: \'INTEGER\', text: \'${_integersLabel}\'"\x3e\x3c/div\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3cdiv data-dojo-type\x3d"mw-form/RadioButton"\n                     data-dojo-attach-point\x3d"scientificRadioButtonNode"\n                     data-dojo-props\x3d"buttonGroup: \'${_buttonGroup}\', displayMode: \'SCIENTIFIC\', text: \'${_scientificLabel}\'"\x3e\x3c/div\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3cdiv data-dojo-type\x3d"mw-form/RadioButton"\n                     data-dojo-attach-point\x3d"customRadioButtonNode"\n                     data-dojo-props\x3d"buttonGroup: \'${_buttonGroup}\', displayMode: \'CUSTOM\', text: \'${_customLabel}\'"\x3e\x3c/div\x3e\x3c/td\x3e\n            \x3ctd\x3e\x3cdiv class\x3d"row-input"\n                data-dojo-type\x3d"mw-form/TextField"\n                data-dojo-attach-point\x3d"customTextFieldNode"\n                data-dojo-props\x3d"value: \'%5.2f\', spellcheck: false"\x3e\x3c/div\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:inspector/templates/inspectorPropertyGroup.html":'\x3cdiv class\x3d"inspector propertyGroup" data-dojo-attach-point\x3d"inspectorGroupPropertySheet"\x3e\n    \x3cdiv class\x3d"inspector propertySetOuterContainer group"\x3e\n        \x3cdiv class\x3d"inspector properties" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:inspector/templates/inspectorPropertyEditorGroup.html":'\x3cdiv class\x3d"inspector propertyGroup propertyEditorGroup" data-dojo-attach-point\x3d"inspectorGroupPropertySheet"\x3e\n    \x3cdiv class\x3d"inspector propertySetOuterContainer group"\x3e\n        \x3cdiv class\x3d"inspector properties propertySetContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"propertyGroupEditor" data-dojo-attach-point\x3d"propertyGroupEditorNode" \x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:inspector/templates/inspectorPropertySet.html":'\x3cdiv class\x3d"inspector propertySet" data-dojo-attach-point\x3d"inspectorPropertySet"\x3e\n    \x3cdiv class\x3d"inspector propertyName" data-datatools-inspector-attach-point\x3d"inspectorPropertyName"\x3e${PropertyName}\x3c/div\x3e\n    \x3cdiv class\x3d"inspector propertyValue" data-datatools-inspector-attach-point\x3d"inspectorPropertyValue"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:inspector/templates/inspectorPropertySubGroup.html":'\x3cdiv class\x3d"inspector propertyGroup propertySubGroup" data-dojo-attach-point\x3d"inspectorGroupPropertySheet"\x3e\n    \x3cdiv class\x3d"inspector propertySetOuterContainer group"\x3e\n        \x3cdiv class\x3d"inspector properties subGroupProperties" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-type\x3d"mw-form/PushButton" data-dojo-attach-point\x3d"showMoreButton" class\x3d"property-more" data-dojo-attach-event\x3d"click:expandOrCollapse"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:inspector/templates/inspectorPropertySheetWithoutHeader.html":'\x3cdiv class\x3d"inspector propertySheet propertySheet-noGroupEditor" data-dojo-attach-point\x3d"inspectorPropertySheet"\x3e\n    \x3cdiv class\x3d"inspector propertySetOuterContainer"\x3e\n        \x3cdiv class\x3d"inspector properties" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:inspector/templates/inspector.html":'\n\x3cdiv class\x3d"inspector outerContainer" data-dojo-attach-point\x3d"inspectorOuterContainer"\x3e\n\x3c/div\x3e\n',
"url:inspector/search/templates/searchTextField.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"SearchTextField"\n         data-dojo-type\x3d"mw-form/TextField"\n         data-dojo-attach-point\x3d"textField"\n         data-dojo-props\x3d"placeholder: \'${placeholderText}\', spellcheck: false"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:inspector/search/templates/inspectorToolbar.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"ToolbarSearchField"\n         data-dojo-type\x3d"inspector/search/SearchTextField"\n         data-dojo-attach-point\x3d"searchTextField"\n         data-dojo-props\x3d"height: 22"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"ToolbarSearchButton"\n         data-dojo-type\x3d"mw-form/ToggleButton"\n         data-dojo-attach-point\x3d"groupViewButton"\n         data-dojo-props\x3d"icon: \'GroupedViewIcon\', iconAlignment: \'top\', description: \'${groupOrderTooltipText}\'"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"ToolbarSearchButton"\n         data-dojo-type\x3d"mw-form/ToggleButton"\n         data-dojo-attach-point\x3d"alphaViewButton"\n         data-dojo-props\x3d"icon:\'AlphabeticalViewIcon\', iconAlignment: \'top\', description: \'${alphaOrderTooltipText}\'"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:inspector/templates/inspectorClientWidget.html":'\x3cdiv class\x3d"inspector widgetContainer" data-dojo-attach-point\x3d"inspectorWidgetContainer"\x3e\n\x3c/div\x3e\n',"*now":function(k){k(['dojo/i18n!*preload*inspector/nls/inspector*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("inspector/inspector",[],1);
//# sourceMappingURL=inspector.js.map