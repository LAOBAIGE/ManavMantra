//>>built
/*
 Copyright 2013-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2012-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2013-2016 The MathWorks, Inc.
 @module MW/dialog/DialogUtils

 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.

 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.

 Copyright 2014 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2017 MathWorks, Inc.
 Copyright 2014 MathWorks, Inc.
 Copyright 2014 MathWorks, Inc.
 Copyright 2016 MathWorks, Inc.
 Copyright 2016 MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description Dialogs is a factory module which used to create a basic dialog framework
 @module mw-dialogs/Dialogs
 Copyright 2016 The MathWorks, Inc.
 @description This module is a newable object which contains the dialog creation life cycle and
 its APIs
 @module mw-dialogs/Dialog
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description Resizable provides API to make a widget resizable
 @module mw-dialogs/controller/Resizable
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description ButtonBar is a module which used to create button bar for a dialog
 @module mw-dialogs/view/ButtonBar
 Copyright 2016 The MathWorks, Inc.
 @description Enumeration of Buttons and Button types. <br />
 There are five types of commit buttons, the framework will
 place the buttons in the Commit Button Area in the following order from left-to-right:
  1. [Do It]
  2. [Don't Do It]
  3. [Cancel]
  4. [Apply]
  5. [Revert]

 Only allow one same type of buttons could exist, if several same type of buttons be
 specified, it will accept the first one. <br />

 Expand the Members to see enumerations of ButtonEnum and TYPE.
 @module mw-dialogs/ButtonEnum
 Copyright 2016 The MathWorks, Inc.
 @description ContentWidget is a module which used to render content for a dialog
 @module mw-dialogs/view/ContentWidget
 Copyright 2016 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2013-2014 The MathWorks, Inc.
 @class ClientPeerView
 Copyright 2013-2014 The MathWorks, Inc.
 @class ClientArrayView
 Copyright 2013-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class _EditorBase
 Copyright 2015 The MathWorks, Inc.
 @class _RendererBase
 Copyright 2013-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 @class ClientArrayView
 Copyright 2015 The MathWorks, Inc.
 @class StringArrayView
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class CellArrayView
 Copyright 2015 The MathWorks, Inc.
 @class VectorStructureArrayView
 Copyright 2013 The MathWorks, Inc.
 Copyright 2013-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
*/
require({cache:{"variableeditor/ClientPeerManagerFactory":function(){define("variableeditor/ClientPeerManagerFactory",["variableeditor/ClientPeerManager","variableeditor/VariableEditorUtils","mw-log/Log","dojo/topic"],function(h,a,g,f){function d(){m||(m=new h({channel:"/VariableEditorManager"}),e[m.channel]=m,m.manager.addEventListener("rootSet",function(c){a.logDebug("VE: Factory Root Set");var k=c.target;c=k.getProperty("Debug");void 0!==c&&a.setDebug(c.Debug);k.addEventListener("propertySet",
function(e){e.data&&e.data.key&&"Managers"===e.data.key?a.logDebug("VE: Factory Managers Updated"):e.data&&(e.data.key&&"Debug"===e.data.key)&&a.setDebug(e.data.newValue.Debug)});k.addEventListener("peerEvent",function(c){c.data.type&&"FactoryInitialized"===c.data.type?(a.logDebug("VE: Factory Initialized"),b()):c.data.type&&"ManagerCreated"===c.data.type?c.data.Channel&&(e[c.data.Channel]&&e[c.data.Channel].start&&e[c.data.Channel].autoStart)&&(e[c.data.Channel].start(),a.logDebug("VE: Factory Auto Starting Manager ("+
c.data.Channel+")")):c.data.type&&"log"===c.data.type&&c.data.message&&a.logDebug("VE: Server Log ("+c.data.message+")")});f.subscribe("variableeditor/isDebug",function(c){var e=k.getProperty("Debug");c&&(void 0!==c.Debug&&e&&c.Debug!==e.Debug)&&k.setProperty("Debug",{Debug:c.Debug,Source:"client"})});k&&(k.getProperty("Initialized")&&k.getProperty("Initialized").Initialized)&&b()}));return m}function b(){m&&m.getRoot()&&(k.forEach(function(c,e,k){e=m.getRoot();a.logDebug("VE: Factory Create Manager From Queue ("+
c.channel+")");e.dispatchEvent("peerEvent",e,c)}),k=[])}function l(e){e&&!e.isError&&(c=!0,b())}var m,e={},k=[],c=!1,n=0;return{createManager:function(c){d();c.channel||(n+=1,c.channel="/VE_"+n);if(e&&e[c.channel]&&!c.forceNewManager)return e[c.channel];var b=e,a=c.channel,f;if(c){var l=d();c.manager&&(l=c.manager);f=c.channel;var m=c.ignoreUpdates||!1;l||(l=d());(l=l.getRoot())?l.dispatchEvent("peerEvent",l,{type:"CreateManager",channel:f,ignoreUpdates:m||!1}):k.push({type:"CreateManager",channel:f,
ignoreUpdates:m||!1});f=new h(c)}else f=null;b[a]=f;return e[c.channel]},deleteManager:function(c){if(!c&&c.channel)return null;var b=d(),a=c.channel;b||(b=d());(b=b.getRoot())?b.dispatchEvent("peerEvent",b,{type:"DeleteManager",channel:a}):k.push({type:"DeleteManager",channel:a});e[c.channel]=null},start:function(e){e?a.runFactoryInitInMATLAB("internal.matlab.variableeditor.peer.PeerManagerFactory.startup",l):c=!0;d().start()},isStarted:function(){return c}}})},"variableeditor/ClientPeerManager":function(){define("variableeditor/ClientPeerManager",
"dojo/_base/declare dojo/_base/connect mw-peermodel/PeerModelManager mw-peermodel/Observable datatoolsservices/ActionService/ActionDataServiceFactory datatoolsservices/ContextMenuService/ContextMenuManager variableeditor/ClientPeerDocument variableeditor/ContextUpdateManager variableeditor/VariableEditorUtils dojo/topic mw-log/Log".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){var n="";return h("variableeditor.ClientPeerManager",[f.Impl],{constructor:function(c){this.channel="/VariableEditorManager";
this.editable=!0;this.cssSpecifier="mw_type_VariableEditorTable";this.defaultContextId="variable";c&&(this.messageService=c.messageService,this.executionService=c.executionService,this.helpDataService=c.helpDataService,this.channel=c.channel||"/VariableEditorManager",this.editable=void 0===c.editable?!0:c.editable,this.ignoreUpdates=void 0===c.ignoreUpdates?!1:c.ignoreUpdates,this.cssSpecifier=c.cssSpecifier||"mw_type_VariableEditorTable",this.allArgs=c,this.autoStart=void 0===c.autoStart?!0:c.autoStart);
this.topicBase="/ML/"+this.channel;this.allArgs.topicBase=this.topicBase;this.contextUpdateChannel=this.allArgs.contextUpdateChannel=this.topicBase+"/ContextUpdate";this.contextId=this.allArgs.contextId="VariableEditor";a.subscribe("/nonModalDialogClose",this,"purgeAll");this.manager=g.getInstance(this.channel);this.peerDocuments=[];this.variableListeners=[];this.hasFocus=!1;this.contextUpdateManager=this.contextMenuManager=this.actionDataService=this.focusedDocument=null;this.contextNameSpace=this.actionNameSpace=
"";this.managerListeners=[];this._init()},_addDocument:function(k){try{if(k.hasProperty("docID")){this.contextUpdateManager||(this.contextUpdateManager=new m({defaultContextId:this.defaultContextId,contextId:this.contextId,contextUpdateChannel:this.contextUpdateChannel,managerChannel:this.channel}));this.allArgs=e.mergeObjects(this.allArgs,{documentNode:k,rootNode:k&&k.getRoot?k.getRoot():void 0,clientPeerManager:this});var b=k.hasProperty("userContext")?k.getProperty("userContext"):null;if(b&&"string"===
typeof b&&"{"===b.charAt(0))try{b=JSON.parse(k.getProperty("userContext"))}catch(a){c.error(a),c.error(a.stack)}k.getProperty("docID")&&this.peerDocuments[k.getProperty("docID")]?this.peerDocuments[k.getProperty("docID")].init(this.allArgs):b&&b.veTempID&&this.peerDocuments[b.veTempID]?(this.peerDocuments[k.getProperty("docID")]=this.peerDocuments[b.veTempID],this.peerDocuments[k.getProperty("docID")].init(this.allArgs),delete this.peerDocuments[b.veTempID]):this.peerDocuments[k.getProperty("docID")]=
new l(this.allArgs);this.dispatchEvent("variableAdded",this,{peerDoc:this.peerDocuments[k.getProperty("docID")]})}else c.error("Variable Editor Peer Document missing docID properties in childAdded")}catch(f){c.error(f),c.error(f.stack)}},_init:function(){var k=this;this.manager.addEventListener("rootSet",function(b){b=b.target;k.dispatchEvent("managerReady",k,{peerManager:k});b.addEventListener("childAdded",function(c){k._addDocument(c.data.child)});if(b.getChildren&&0<b.getChildren().length)for(var a=
0;a<b.getChildren().length;a+=1){var f=b.getChildren()[a];k._addDocument(f)}b.addEventListener("childRemoved",function(e){if(e.data.child.hasProperty("docID")){e=e.data.child.getProperty("docID");var b=k.peerDocuments[e];delete k.peerDocuments[e];k.dispatchEvent("variableRemoved",k,{peerDoc:b})}else c.error("Variable Editor Peer Document missing docID properties in childRemoved")});b.addEventListener("peerEvent",function(k){k.data.type&&"errormsg"===k.data.type&&(k.data.message?e.displayErrorMessage(k.data.message):
c.warn("VE Server error with no message."))});b.addEventListener("propertySet",function(c){k._handlePropertySet(c)},b);b.hasProperty("ActionsInitialized")&&!k.actionDataService&&(a=b.getProperty("ActionsInitialized"),k._initActionService(a.ActionsInitialized,"ActAsClient"));b.hasProperty("ContextMenuInitialized")&&!k.contextMenuManager&&(b=b.getProperty("ContextMenuInitialized"),k._initContextMenuManager(b.ContextMenuInitialized,"ActAsClient"))})},getRoot:function(){return this.manager.getRoot()},
_initActionService:function(c,e){this.actionNameSpace=c;this.actionDataService=d.getInstance({nameSpace:c,mode:e})},_initContextMenuManager:function(c,e){this.contextNameSpace=c;this.contextMenuManager=new b({namespace:c,mode:e,contextAppID:this.channel})},_handlePropertySet:function(c){if(!c.data||!c.data.newValue||!(c.data.newValue.Source&&"server"!==c.data.newValue.Source)){if("ActionsInitialized"===c.data.key&&!this.actionDataService)namespace=c.data.newValue,namespace.ActionsInitialized&&(namespace=
namespace.ActionsInitialized),this._initActionService(namespace,"ActAsClient");else if("ContextMenuInitialized"===c.data.key&&!this.contextMenuManager)contextnamespace=c.data.newValue,contextnamespace.ContextMenuInitialized&&(contextnamespace=contextnamespace.ContextMenuInitialized),this._initContextMenuManager(contextnamespace,"ActAsClient");else if("HasFocus"===c.data.key){var e=c.data.newValue;void 0!==e.HasFocus&&(this.hasFocus=e.HasFocus,this.dispatchEvent("managerFocusChanged",this,{peerManager:this,
hasFocus:this.hasFocus}))}else if("FocusedDocument"===c.data.key)if((c=c.data.newValue.FocusedDocument)&&this.peerDocuments){for(e in this.peerDocuments)if(this.peerDocuments.hasOwnProperty(e)&&this.peerDocuments[e].varDocID===c){this.focusedDocument=this.peerDocuments[e];break}this.dispatchEvent("variableFocusGained",this,{peerDoc:this.focusedDocument})}else this.focusedDocument&&this.dispatchEvent("variableFocusLost",this,{peerDoc:this.focusedDocument}),this.focusedDocument=null;this.hasFocus&&
(this.focusedDocument&&this.focusedDocument.focus)&&this.focusedDocument.focus()}},setFocusedDocument:function(c){this.focusedDocument=c;this.hasFocus||(n!==c.clientPeerManager.channel&&(k.publish("/datatools/selectionChanged",""),n=c.clientPeerManager.channel),this.manager.getRoot().setProperty("HasFocus",{HasFocus:!0,Source:"client",Channel:this.manager.channel,Document:c.varName}));this.manager.getRoot().setProperty("FocusedDocument",{HasFocus:!0,Source:"client",Channel:this.manager.channel,Document:c.varDocID});
this.hasFocus=!0;this.dispatchEvent("managerFocusChanged",this,{peerManager:this,hasFocus:!0})},removeFocusedDocument:function(c){this.focusedDocument===c&&(this.focusedDocument=[],this.hasFocus&&this.manager.getRoot().setProperty("HasFocus",{HasFocus:!1,Source:"client",Channel:this.manager.channel,Document:c.varName}),this.hasFocus=!1,this.dispatchEvent("managerFocusChanged",this,{peerManager:this,hasFocus:!1}))},openDocument:function(c,k){e.logDebug("VE: Open Document");if(this.peerDocuments[c])return this.peerDocuments[c];
var b=null,b=new l(k);return this.peerDocuments[c]=b},openVariable:function(c,k,b,a){e.logDebug("VE: Open Variable");var f=null;if(!this.ignoreUpdates)for(var d in this.peerDocuments)if(this.peerDocuments.hasOwnProperty(d)){var m=this.peerDocuments[d];c===m.varName&&(f=m)}f||(f=new l,f.varName=c,this._lastTempID||(this._lastTempID=1),this._lastTempID+=1,f.tempID="_temp_id_"+this._lastTempID,this.peerDocuments[f.tempID]=f);d=k||{};d.veTempID=f.tempID;k=this.manager.getRoot();c={type:"OpenVariable",
variable:c,userContext:d};b&&(c.value=b);a&&(c.workspace=a);k&&k.dispatchEvent("peerEvent",k,c);return f},closeVariable:function(c){e.logDebug("VE: Close Variable");var k=this.manager.getRoot();k.dispatchEvent("peerEvent",k,{type:"RemoveDocument",variable:c,userContext:this.userContext})},closeAllVariables:function(){e.logDebug("VE: Close All Variables");var c=this.manager.getRoot();c.dispatchEvent("peerEvent",c,{type:"CloseAll",userContext:this.userContext})},purgeAll:function(){this.closeFcn()},
start:function(){this.manager.setSyncEnabled(!0)},stop:function(){this.manager.setSyncEnabled(!1);var c=this.manager.getRoot();c&&c.destroy&&c.destroy()},destroy:function(){this.inherited(arguments);var c=this;require(["variableeditor/ClientPeerManagerFactory"],function(e){e.deleteManager(c)})}})})},"mw-peermodel/PeerModelManager":function(){define(["dojo/_base/declare","./PropSetPeerSynchronizer","./PeerNode","./PeerSynchronizer","./Observable"],function(h,a,g,f,d){var b=h([d],{getNamespace:function(){},
move:function(e,k,c,b){},setRoot:function(e,k,c){},getRoot:function(){},hasRoot:function(){},hasById:function(e){},getById:function(e){},setSyncEnabled:function(e,k){},isSyncEnabled:function(){},getByType:function(e,k){},getByProperty:function(e,k,c){}}),l=h([b,d.Syncable],{setRootWithId:function(e,k,c,b){}}),m=h([l,d.Impl],{constructor:function(){this._root=null;this._sync=!1;this._idCache={}},setRootWithId:function(e,k,c,b){if(this.hasRoot())throw Error("Root node already exists.");e=new g.Impl(e,
k,c,this._idCache);this._setRoot(e,b);return e},setRoot:function(e,k,c){if(this.hasRoot())throw Error("Root node already exists.");e=g.Impl.createNode(e,k,this._idCache);this._setRoot(e,c);return e},_setRoot:function(e,k){this._root=e;var c=this;this._root.destroy=function(e){c.dispatchEvent("rootDestroyed",this,void 0,e);g.Impl.prototype.destroy.call(this,e);c._root=null;c.dispatchEvent("rootUnset",this,void 0,e)};this.dispatchEvent("rootSet",this._root,void 0,k);return this._root},getRoot:function(){return this._root},
hasRoot:function(){return!!this._root},hasById:function(e){return this._idCache.hasOwnProperty(e)},getById:function(e){if(this._idCache.hasOwnProperty(e))return this._idCache[e];throw Error("No root node exists");},move:function(e,k,c,b){if(e.getRoot()!==k.getRoot())throw Error("Can not move a node to a different peer model");if(e===k||e.hasDescendant(e.getId()))throw Error("Can not move a node to be a child or descendant of itself");var a,f;if(e.hasParent())a=e.getParent(),f=a.getChildIndex(e);else throw Error("Only un-orphaned nodes can be moved.");
if(f!==c||a!==k)a._removeChild(e),c=k._addChild(e,c),this.dispatchEvent("childMoved",e,{oldParent:a,oldIndex:f,newParent:k,newIndex:c},b)},setSyncEnabled:function(e,k){this._sync!==e&&(this._sync=e,this.dispatchEvent("syncChanged",this,{syncEnabled:this._sync},k))},isSyncEnabled:function(){return this._sync},getByType:function(e,k){var c=[];k||(k=this.getRoot());k&&k.accept(function(k){k.getType()===e&&c.push(k)});return c},getByProperty:function(e,k,c){var b=[];c||(c=this.getRoot());c&&c.accept(function(c){c.hasProperty(e)&&
c.getProperty(e)===k&&b.push(c)});return b}});b._clientPropSet=!0;b.setClientPropSetEnabled=function(e){b._clientPropSet=e};b.clearInstances=function(){b._instances={};b._serverInstances={}};b.clearInstances();b.getInstance=b.getClientInstance=function(e,k){if(!this._instances[e]){var c=new m,d;d=b._clientPropSet?new a(e,c,k):new f(e,c,k);this._instances[e]={manager:c,synchronizer:d}}return this._instances[e].manager};b.getServerInstance=function(e,k){if(!this._serverInstances[e]){var c=new m,d;d=
b._clientPropSet?new a(e,c,k,!1):new f(e,c,k,!1);this._serverInstances[e]={manager:c,synchronizer:d}}return this._serverInstances[e].manager};b.cleanup=function(e){b._instances[e]&&(b._instances[e].manager.setSyncEnabled(!1),b._instances[e].manager.hasRoot()&&b._instances[e].manager.getRoot().destroy(),delete b._instances[e])};b.Impl=m;return b})},"mw-peermodel/PropSetPeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./PeerSynchronizer".split(" "),
function(h,a,g,f,d,b){return h([b],{propertiesSetObserver:function(b){if(b.originator!==this._originator&&(Object.keys(b.data.newValues).forEach(function(c){this.updateVersionVector(c,b.target)},this),this.shouldSync()&&this.isReady())){var d=this.createNewMessage();d.targetId=b.target.getId();var e=b.data.newValues,k=b.data.oldValues;Object.keys(e).forEach(function(c){if(f.isImageData(e[c])){var a=k[c];delete b.data.newValues[c];if(!this.isClient&&f.isImageData(a)){var g=this.createNewMessage();
g.targetId=b.target.getId();g.key=c;g.newValue=this.imageDifferencer.computeImageDataDifferences(a,e[c]);this.publish(this.getChannel("imageUpdate"),d)}}else(null===e[c]||void 0===e[c])&&delete b.data.newValues[c]},this);0<Object.keys(e).length&&(d.properties=b.data.newValues,d.versionVector=a.clone(b.target._versionVector),this.publish(this.getChannel(b.type),d))}},propertiesSetSubscriber:function(b){this.log("propertiesSetSubscriber",b);var a=b.data,e=a.targetId;if(this.manager.hasById(e))try{var k=
this.manager.getById(e),c;for(c in a.properties)a.properties.hasOwnProperty(c)&&(a.properties[c]instanceof Image?(this.imageDifferencer.updatePropertyWithImage(k,c,a.properties[c]),delete a.properties[c]):this.shouldUpdateProperties(c,k,b.data.versionVector)||delete a.properties[c],b.data.versionVector&&this.mergeVersionVectors(c,k,b.data.versionVector));k.setProperties(a.properties,this._originator);this._updateNodePagedData(k)}catch(f){this._error("Error while trying set properties.",b,f)}},shouldUpdateProperties:function(b,
a,e){return this.isClient?!(a._versionVector&&a._versionVector[b]&&(!e||!e[b])):!e||!e[b]||!a._versionVector||!a._versionVector[b]||a._versionVector[b][this.clientId]<=e[b][this.clientId]},updateVersionVector:function(b,a){this.isClient&&(!a._versionVector||!a._versionVector[b])?(a._versionVector=a._versionVector||{},a._versionVector[b]={},Object.keys(this.syncEnabled).forEach(function(e){a._versionVector[b][e]=1})):a._versionVector&&a._versionVector[b]&&(a._versionVector[b][this.clientId]+=1)},mergeVersionVectors:function(b,
a,e){if(e&&e[b]){if(!a._versionVector||!a._versionVector[b])a._versionVector=a._versionVector||{},a._versionVector[b]={};Object.keys(e[b]).forEach(function(k){a._versionVector[b][k]=Math.max(e[b][k],a._versionVector[b][k]||1)})}},convertNode:function(b){var a=this.inherited(arguments);a.versionVectors=b._versionVector;return a},updateNodeRecursive:function(b,a){a.versionVectors&&Object.keys(a.versionVectors).forEach(function(e){this.mergeVersionVectors(e,b,a.versionVectors)},this);this.inherited(arguments)}})})},
"mw-log/Log":function(){define(["dojo/date/locale"],function(h){return function(){function a(c){m&&(e||!b||!b.log)&&m.apply(d,c)}function g(c){l[c]=function(){if(0!==k&&b&&b[c])if("assert"===c){if(!arguments[0])if(d.ScriptEngine){var e=Array.prototype.slice.call(arguments);e.shift();b[c](!1,e)}else b[c].apply(b,arguments)}else if(d.ScriptEngine)if(-1!==c.indexOf("profile"))b[c]();else b[c](arguments[0]);else b[c].apply(b,arguments)}}function f(e,f){l[f]=function(){var l=Array.prototype.slice.call(arguments),
m=h.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),g=[f].concat(l),l=[m].concat(l);c.push(g);c.length>n&&c.shift();a(g);if(b&&(0<k?k>e:p.length+k<=e))if(b.firebug&&"error"!==f)b[f].apply(d,l);else if(b[f])b[f](l);else b.log(l)}}var d=this,b=d.console,l={},m,e,k=9,c=[],n=25,p=["error","warn","info","debug","log"],q="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),r;for(r=q.length;0<=(r-=1);)g(q[r]);for(r=p.length;0<=
(r-=1);)f(r,p[r]);l.setLevel=function(c){k="number"===typeof c?c:9};l.setCallback=function(k,b,f){var d=c.length;m=k||null;e="boolean"===typeof b?b:!1;for(k=d-("number"===f?f:d);k<d;)a(c[k+=1])};return l}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(h,a,g,f,d,b,l,m,e){function k(c,e,k,b){return b.replace(/([a-z])\1*/ig,function(a){var d,m,n=a.charAt(0);a=a.length;
var g=["abbr","wide","narrow"];switch(n){case "G":d=e[4>a?"eraAbbr":"eraNames"][0>c.getFullYear()?0:1];break;case "y":d=c.getFullYear();switch(a){case 1:break;case 2:if(!k.fullYear){d=String(d);d=d.substr(d.length-2);break}default:m=!0}break;case "Q":case "q":d=Math.ceil((c.getMonth()+1)/3);m=!0;break;case "M":case "L":d=c.getMonth();3>a?(d+=1,m=!0):(n=["months","L"==n?"standAlone":"format",g[a-3]].join("-"),d=e[n][d]);break;case "w":d=p._getWeekOfYear(c,0);m=!0;break;case "d":d=c.getDate();m=!0;
break;case "D":d=p._getDayOfYear(c);m=!0;break;case "e":case "c":if(d=c.getDay(),2>a){d=(d-f.getFirstDayOfWeek(k.locale)+8)%7;break}case "E":d=c.getDay();3>a?(d+=1,m=!0):(n=["days","c"==n?"standAlone":"format",g[a-3]].join("-"),d=e[n][d]);break;case "a":n=12>c.getHours()?"am":"pm";d=k[n]||e["dayPeriods-format-wide-"+n];break;case "h":case "H":case "K":case "k":m=c.getHours();switch(n){case "h":d=m%12||12;break;case "H":d=m;break;case "K":d=m%12;break;case "k":d=m||24}m=!0;break;case "m":d=c.getMinutes();
m=!0;break;case "s":d=c.getSeconds();m=!0;break;case "S":d=Math.round(c.getMilliseconds()*Math.pow(10,a-3));m=!0;break;case "v":case "z":if(d=p._getZone(c,!0,k))break;a=4;case "Z":n=p._getZone(c,!1,k);n=[0>=n?"+":"-",l.pad(Math.floor(Math.abs(n)/60),2),l.pad(Math.abs(n)%60,2)];4==a&&(n.splice(0,0,"GMT"),n.splice(3,0,":"));d=n.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+b);}m&&(d=l.pad(d,a));return d})}function c(c,e,k,b){var d=function(c){return c};e=e||d;
k=k||d;b=b||d;var f=c.match(/(''|[^'])+/g),l="'"==c.charAt(0);a.forEach(f,function(c,b){c?(f[b]=(l?k:e)(c.replace(/''/g,"'")),l=!l):f[b]=""});return b(f.join(""))}function n(c,e,k,a){a=b.escapeString(a);k.strict||(a=a.replace(" a"," ?a"));return a.replace(/([a-z])\1*/ig,function(b){var a;a=b.charAt(0);var d=b.length,f="",l="";k.strict?(1<d&&(f="0{"+(d-1)+"}"),2<d&&(l="0{"+(d-2)+"}")):(f="0?",l="0{0,2}");switch(a){case "y":a="\\d{2,4}";break;case "M":case "L":a=2<d?"\\S+?":"1[0-2]|"+f+"[1-9]";break;
case "D":a="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+l+"[1-9]";break;case "d":a="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":a="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":a=".+?";break;case "h":a="1[0-2]|"+f+"[1-9]";break;case "k":a="1[01]|"+f+"\\d";break;case "H":a="1\\d|2[0-3]|"+f+"\\d";break;case "K":a="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":a="[0-5]\\d";break;case "S":a="\\d{"+d+"}";break;case "a":d=k.am||e["dayPeriods-format-wide-am"];f=k.pm||e["dayPeriods-format-wide-pm"];
a=d+"|"+f;k.strict||(d!=d.toLowerCase()&&(a+="|"+d.toLowerCase()),f!=f.toLowerCase()&&(a+="|"+f.toLowerCase()),-1!=a.indexOf(".")&&(a+="|"+a.replace(/\./g,"")));a=a.replace(/\./g,"\\.");break;default:a=".*"}c&&c.push(b);return"("+a+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var p={};h.setObject(e.id.replace(/\//g,"."),p);p._getZone=function(c,e,k){return e?g.getTimezoneName(c):c.getTimezoneOffset()};p.format=function(e,b){b=b||{};var a=d.normalizeLocale(b.locale),f=b.formatLength||"short",a=p._getGregorianBundle(a),
l=[],m=h.hitch(this,k,e,a,b);if("year"==b.selector)return c(a["dateFormatItem-yyyy"]||"yyyy",m);var n;"date"!=b.selector&&(n=b.timePattern||a["timeFormat-"+f])&&l.push(c(n,m));"time"!=b.selector&&(n=b.datePattern||a["dateFormat-"+f])&&l.push(c(n,m));return 1==l.length?l[0]:a["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(c,e){return l[e]})};p.regexp=function(c){return p._parseInfo(c).regexp};p._parseInfo=function(e){e=e||{};var k=d.normalizeLocale(e.locale),k=p._getGregorianBundle(k),
b=e.formatLength||"short",a=e.datePattern||k["dateFormat-"+b],f=e.timePattern||k["timeFormat-"+b],b="date"==e.selector?a:"time"==e.selector?f:k["dateTimeFormat-"+b].replace(/\{(\d+)\}/g,function(c,e){return[f,a][e]}),l=[];return{regexp:c(b,h.hitch(this,n,l,k,e)),tokens:l,bundle:k}};p.parse=function(c,e){var k=/[\u200E\u200F\u202A\u202E]/g,b=p._parseInfo(e),d=b.tokens,f=b.bundle,k=RegExp("^"+b.regexp.replace(k,"")+"$",b.strict?"":"i").exec(c&&c.replace(k,""));if(!k)return null;var l=["abbr","wide",
"narrow"],m=[1970,0,1,0,0,0,0],n="",k=a.every(k,function(c,k){if(!k)return!0;var b=d[k-1],g=b.length,b=b.charAt(0);switch(b){case "y":if(2!=g&&e.strict)m[0]=c;else if(100>c)c=Number(c),b=""+(new Date).getFullYear(),g=100*b.substring(0,2),b=Math.min(Number(b.substring(2,4))+20,99),m[0]=c<b?g+c:g-100+c;else{if(e.strict)return!1;m[0]=c}break;case "M":case "L":if(2<g){if(g=f["months-"+("L"==b?"standAlone":"format")+"-"+l[g-3]].concat(),e.strict||(c=c.replace(".","").toLowerCase(),g=a.map(g,function(c){return c.replace(".",
"").toLowerCase()})),c=a.indexOf(g,c),-1==c)return!1}else c--;m[1]=c;break;case "E":case "e":case "c":g=f["days-"+("c"==b?"standAlone":"format")+"-"+l[g-3]].concat();e.strict||(c=c.toLowerCase(),g=a.map(g,function(c){return c.toLowerCase()}));c=a.indexOf(g,c);if(-1==c)return!1;break;case "D":m[1]=0;case "d":m[2]=c;break;case "a":g=e.am||f["dayPeriods-format-wide-am"];b=e.pm||f["dayPeriods-format-wide-pm"];if(!e.strict){var p=/\./g;c=c.replace(p,"").toLowerCase();g=g.replace(p,"").toLowerCase();b=
b.replace(p,"").toLowerCase()}if(e.strict&&c!=g&&c!=b)return!1;n=c==b?"p":c==g?"a":"";break;case "K":24==c&&(c=0);case "h":case "H":case "k":if(23<c)return!1;m[3]=c;break;case "m":m[4]=c;break;case "s":m[5]=c;break;case "S":m[6]=c}return!0}),b=+m[3];"p"===n&&12>b?m[3]=b+12:"a"===n&&12==b&&(m[3]=0);b=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);e.strict&&b.setFullYear(m[0]);var r=d.join(""),h=-1!=r.indexOf("d"),r=-1!=r.indexOf("M");if(!k||r&&b.getMonth()>m[1]||h&&b.getDate()>m[2])return null;if(r&&
b.getMonth()<m[1]||h&&b.getDate()<m[2])b=g.add(b,"hour",1);return b};var q=[],r={};p.addCustomFormats=function(c,e){q.push({pkg:c,name:e});r={}};p._getGregorianBundle=function(c){if(r[c])return r[c];var e={};a.forEach(q,function(k){k=d.getLocalization(k.pkg,k.name,c);e=h.mixin(e,k)},this);return r[c]=e};p.addCustomFormats(e.id.replace(/\/date\/locale$/,".cldr"),"gregorian");p.getNames=function(c,e,k,b){var a;b=p._getGregorianBundle(b);c=[c,k,e];"standAlone"==k&&(k=c.join("-"),a=b[k],1==a[0]&&(a=void 0));
c[1]="format";return(a||b[c.join("-")]).concat()};p.isWeekend=function(c,e){var k=f.getWeekend(e),b=(c||new Date).getDay();k.end<k.start&&(k.end+=7,b<k.start&&(b+=7));return b>=k.start&&b<=k.end};p._getDayOfYear=function(c){return g.difference(new Date(c.getFullYear(),0,1,c.getHours()),c)+1};p._getWeekOfYear=function(c,e){1==arguments.length&&(e=0);var k=(new Date(c.getFullYear(),0,1)).getDay(),b=Math.floor((p._getDayOfYear(c)+(k-e+7)%7-1)/7);k==e&&b++;return b};return p})},"dojo/date":function(){define(["./has",
"./_base/lang"],function(h,a){var g={getDaysInMonth:function(a){var d=a.getMonth();return 1==d&&g.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][d]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var d=a.toString(),b="",l=d.indexOf("(");if(-1<l)b=d.substring(++l,d.indexOf(")"));else if(l=/([A-Z\/]+) \d{4}$/,d=d.match(l))b=d[1];else if(d=a.toLocaleString(),l=/ ([A-Z\/]+)$/,d=d.match(l))b=d[1];return"AM"==b||"PM"==b?"":b},compare:function(a,
d,b){a=new Date(+a);d=new Date(+(d||new Date));"date"==b?(a.setHours(0,0,0,0),d.setHours(0,0,0,0)):"time"==b&&(a.setFullYear(0,0,0),d.setFullYear(0,0,0));return a>d?1:a<d?-1:0},add:function(a,d,b){var l=new Date(+a),m=!1,e="Date";switch(d){case "day":break;case "weekday":var k;(d=b%5)?k=parseInt(b/5):(d=0<b?5:-5,k=0<b?(b-5)/5:(b+5)/5);var c=a.getDay(),n=0;6==c&&0<b?n=1:0==c&&0>b&&(n=-1);c+=d;if(0==c||6==c)n=0<b?2:-2;b=7*k+d+n;break;case "year":e="FullYear";m=!0;break;case "week":b*=7;break;case "quarter":b*=
3;case "month":m=!0;e="Month";break;default:e="UTC"+d.charAt(0).toUpperCase()+d.substring(1)+"s"}if(e)l["set"+e](l["get"+e]()+b);m&&l.getDate()<a.getDate()&&l.setDate(0);return l},difference:function(a,d,b){d=d||new Date;b=b||"day";var l=d.getFullYear()-a.getFullYear(),m=1;switch(b){case "quarter":a=a.getMonth();d=d.getMonth();a=Math.floor(a/3)+1;d=Math.floor(d/3)+1;m=d+4*l-a;break;case "weekday":l=Math.round(g.difference(a,d,"day"));b=parseInt(g.difference(a,d,"week"));m=l%7;if(0==m)l=5*b;else{var e=
0,k=a.getDay();d=d.getDay();b=parseInt(l/7);m=l%7;a=new Date(a);a.setDate(a.getDate()+7*b);a=a.getDay();if(0<l)switch(!0){case 6==k:e=-1;break;case 0==k:e=0;break;case 6==d:e=-1;break;case 0==d:e=-2;break;case 5<a+m:e=-2}else if(0>l)switch(!0){case 6==k:e=0;break;case 0==k:e=1;break;case 6==d:e=2;break;case 0==d:e=1;break;case 0>a+m:e=2}l=l+e-2*b}m=l;break;case "year":m=l;break;case "month":m=d.getMonth()-a.getMonth()+12*l;break;case "week":m=parseInt(g.difference(a,d,"day")/7);break;case "day":m/=
24;case "hour":m/=60;case "minute":m/=60;case "second":m/=1E3;case "millisecond":m*=d.getTime()-a.getTime()}return Math.round(m)}};a.mixin(a.getObject("dojo.date",!0),g);return g})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(h,a){var g={};h.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,
ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(a)];return void 0===a?1:a};g._region=function(f){f=a.normalizeLocale(f);f=f.split("-");var d=f[1];d?4==d.length&&(d=f[2]):d={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",
bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",
kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",
sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",
bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",
ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",
mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",
sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[f[0]];return d};g.getWeekend=function(a){var d=g._region(a);
a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[d];d={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[d];void 0===a&&(a=6);void 0===d&&(d=0);return{start:a,end:d}};return g})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(h,a){var g={};a.setObject("dojo.regexp",g);g.escapeString=function(a,d){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(b){return d&&
-1!=d.indexOf(b)?b:"\\"+b})};g.buildGroupRE=function(a,d,b){if(!(a instanceof Array))return d(a);for(var l=[],m=0;m<a.length;m++)l.push(d(a[m]));return g.group(l.join("|"),b)};g.group=function(a,d){return"("+(d?"?:":"")+a+")"};return g})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(h,a){var g=/[&<>'"\/]/g,f={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},d={};a.setObject("dojo.string",d);d.escape=function(b){return!b?
"":b.replace(g,function(b){return f[b]})};d.rep=function(b,a){if(0>=a||!b)return"";for(var d=[];;){a&1&&d.push(b);if(!(a>>=1))break;b+=b}return d.join("")};d.pad=function(a,f,m,e){m||(m="0");a=String(a);f=d.rep(m,Math.ceil((f-a.length)/m.length));return e?a+f:f+a};d.substitute=function(b,d,f,e){e=e||h.global;f=f?a.hitch(e,f):function(e){return e};return b.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(k,c,b){if(""==c)return"$";k=a.getObject(c,!1,d);b&&(k=a.getObject(b,!1,e).call(e,k,c));
return f(k,c).toString()})};d.trim=String.prototype.trim?a.trim:function(a){a=a.replace(/^\s+/,"");for(var d=a.length-1;0<=d;d--)if(/\S/.test(a.charAt(d))){a=a.substring(0,d+1);break}return a};return d})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(h,a,g){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(a){var d=16*Math.random()|0;return("x"===a?d:d&3|8).toString(16)}).toUpperCase()},isImageData:function(f){return!!f&&
(a.global.ImageData&&f instanceof a.global.ImageData||f.hasOwnProperty("width")&&f.hasOwnProperty("height")&&f.hasOwnProperty("data"))},isArray:function(a){g.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(a)},getArrayLength:function(a){var d=0;if(!h.isArray(a))return!1;a.forEach(function(a){a&&(d+=1)});return d},isWhitespace:function(a){return/^\s+$/.test(a)},removeSurroundingNewLines:function(a){for(;"\n"===a.charAt(0);)a=a.substring(1);
for(;"\n"===a.charAt(a.length-1);)a=a.substring(0,a.length-1);return a},getFirstUniqueElement:function(a,d){var b=null;d.some(function(d){if(-1===a.indexOf(d))return b=d,!0});return b},unionOfWordSets:function(a,d,b){a=this._stringToArray(a);d=this._stringToArray(d);a=this.unionOfArrays(a,d);return b?a.join(" "):a},intersectionOfWordSets:function(a,d,b){a=this._stringToArray(a);d=this._stringToArray(d);a=this.intersectionOfArrays(a,d);return b?a.join(" "):a},differenceOfWordSets:function(a,d,b){a=
this._stringToArray(a);d=this._stringToArray(d);a=this.unique(this.differenceOfArrays(a,d));return b?a.join(" "):a},unionOfArrays:function(a,d){return this.unique(a.concat(d))},intersectionOfArrays:function(a,d){return this.nonunique(a.concat(d))},differenceOfArrays:function(a,d){if(void 0===window.Map)return this._legacyDifferenceOfArrays(a,d);var b,l,m,e=new Map,k=[];for(m=0;m<d.length;m++)e.set(d[m],null);for(m=0;m<a.length;m++)l=a[m],(b=e.has(l))||k.push(l);return k},_legacyDifferenceOfArrays:function(a,
d){return this.unique(a.filter(function(a){return-1===d.indexOf(a)}))},unique:function(a){return a.filter(function(d,b){return a.indexOf(d)===b})},nonunique:function(a){return this.unique(a.filter(function(d,b){return a.indexOf(d)!==b}))},arrayEquals:function(a,d,b){if(a===d)return!0;if(a.length!==d.length)return!1;b||(b=function(e,a){return e===a});for(var l=0,m=a.length;l<m;l++)if(!b(a[l],d[l]))return!1;return!0},removeEmptyElements:function(a){return a.filter(function(a){return!(""===a||null===
a||void 0===a)})},_stringToArray:function(a){return!this._isString(a)?a:this.removeEmptyElements(a.split(" "))},_isString:function(a){return"string"===typeof a||a instanceof String}}})},"mw-utils/deprecation":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};define(["dojo/_base/config","mw-log/Log"],function(a,g){var f={deprecated:function(d){var b,
f;if((a.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(d))f=window.showDeprecationsAsErrors||d.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",d.deprecated&&(b+=d.deprecated.module,d.deprecated.method&&(b+="."+d.deprecated.method+"()"),b+="."),d.replacement&&(b+=" Use "+d.replacement.module,d.replacement.method&&(b+="."+d.replacement.method+"()"),b+=" instead."),d.removalVersion&&(b+=" Will be removed in version: "+d.removalVersion+"."),d.geckNumber&&(b+=" Please use g"+
d.geckNumber+" to track latest information regarding this deprecation"),d.additionalInformation&&(b+=" "+d.additionalInformation),g[f](b)},_isConfigValid:function(a){var b=!!a.deprecated&&"object"===h(a.deprecated)&&a.deprecated.hasOwnProperty("module");a.replacement&&(b=b&&"object"===h(a.replacement)&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(b=b&&"number"===typeof a.geckNumber);b||g.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");
return b}};Object.defineProperties(f,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return f})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),function(h,a,g,f,d,b){var l=new f;f={messageService:l,subscribe:h.hitch(l,"subscribe"),unsubscribe:h.hitch(l,"unsubscribe"),publish:h.hitch(l,"publish"),
start:h.hitch(l,"start"),stop:h.hitch(l,"stop"),isRunning:h.hitch(l,"isStarted"),isStarted:h.hitch(l,"isStarted"),isConnected:h.hitch(l,"isConnected"),isFatallyDisconnected:h.hitch(l,"isFatallyDisconnected"),isDisconnected:h.hitch(l,"isDisconnected"),setLatency:h.hitch(l,"setLatency"),setErrorRate:h.hitch(l,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:h.hitch(l,"handleMessage"),
internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};a.after(l,"onConnected",h.hitch(f,"onConnected"),!0);a.after(l,"onDisconnected",h.hitch(f,"onDisconnected"),!0);a.after(l,"onReconnected",h.hitch(f,"onReconnected"),!0);a.after(l,"onFatallyDisconnected",h.hitch(f,"onFatallyDisconnected"),!0);a.after(l,"onNotConnected",h.hitch(f,"onNotConnected"),
!0);var m=b.enableServerOnWorkerAsync;b.enableServerOnWorkerAsync=function(){m();l.setDelegate(new g(b))};var e=b.disableServerOnWorkerAsync;b.disableServerOnWorkerAsync=function(){e();l.setDelegate(new d(b,l))};b.isServerOnWorkerAsyncEnabled()?b.enableServerOnWorkerAsync():b.disableServerOnWorkerAsync();return f})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(h,a,g,f,d,b,l,m,e){var k;b.JSON.toJSON=f.stringify;b.JSON.fromJSON=f.parse;var c=0,n=0,p={};setInterval(function(){c+=200;Object.keys(p).forEach(function(e){var a=p[e];a.execTime<=c&&(a.func(),delete p[e])})},200);var q=function(a,k,d){var f=new b.LongPollingTransport,f=b.Transport.derive(f);f.xhrSend=function(c){var e=k.sendMessage(c.body,c.url,{headers:c.headers});e.then(c.onSuccess,function(e){c.onError(e,e)});return{abort:function(){e.cancel()}}};var m=new b.Cometd(a),g=b.Utils.setTimeout;
b.Utils.setTimeout=function(e,a,k){if(0===k)return g(e,a,k);n+=1;p[n]={func:function(){try{a()}catch(c){m._debug("Exception invoking timed function",a,c)}},execTime:c+k};return n};b.Utils.clearTimeout=function(c){delete p[c]};b.WebSocket=e.WebSocket;e.WebSocket.proxyClient=k;m.registerExtension("ack",new l);d.websocket&&m.registerTransport("websocket",new b.WebSocketTransport,0);m.registerTransport("long-polling",f,1);return m};k=h([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(c,k,b,d){this.remote=c;this.constructCometD=k||q;this.cometdProperties=d||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};c=["maxNetworkDelay","connectTimeout","logLevel"];if(k=a.cometdProperties)for(d=0;d<c.length;d+=1){var f=c[d];void 0!==k[f]&&(this.cometdProperties[f]=k[f])}this.workerProxyAsyncClient=b||new e("remoteWorkerAsyncProducer");
var l=this;g.after(this.workerProxyAsyncClient,"onError",function(c){l.cometd&&(l.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to IFrame error."),l.cometd.disconnect());l.onConnectionError(c)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){l._deferredCleanup=!1;l.recentMessages=[]}},onMessage:function(c){},onConnectionError:function(c){},connect:function(){this.routingHost=k.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var c={};k.enableWebsocket&&this._webSocket.try?c.websocket=!0:(c.websocket=!1,this._webSocket.try=!1);var e=this.constructCometD("messageService",this.workerProxyAsyncClient,c);this.cometd=e;this.logCometdLifecycle&&m.info("MessageServiceAsync constructing new cometd instance.");c=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var a=this,b=new d;c.then(function(c){a.logCometdLifecycle&&m.info("MessageServiceAsync cometd handshake successful.",c,e.getClientId(),e);e.isDisconnected()?(m.error("MessageServiceAsync cometd handshake successful but still disconnected!"),e.disconnect(),b.reject(c)):("websocket"===e.getTransport().getType()&&(a._webSocket.connectedAtLeastOnce=!0),b.resolve(c))},function(c){a.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
c,e.getClientId(),e);e.disconnect();if(c.request&&c.request.supportedConnectionTypes){var k=c.request.supportedConnectionTypes;1<k.length&&("websocket"===k[0]&&!a._webSocket.connectedAtLeastOnce)&&(a._webSocket.try=!1)}b.reject(c)});this.cometdProperties.url=this._getEndpoint();e.init(this.cometdProperties);return b.promise},disconnect:function(){this.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var c=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return c},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(c,e){var a=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(c),e);return a},doSubscribe:function(c){this.logCometdSubscriptions&&
m.info("MessageServiceAsync subscribing cometd to channel: "+c);var e=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[c]=this.cometd.subscribe(this._getRequestChannel(c),this,this._handleCometResponse);return e},doUnsubscribe:function(c){if(this.subscriptions[c]){this.logCometdSubscriptions&&m.info("MessageServiceAsync unsubscribing cometd from channel: "+c);var e=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[c]);delete this.subscriptions[c];
return e}return(new d).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(c){this.workerProxyAsyncClient.setLatency(c)},doSetErrorRate:function(c){this.workerProxyAsyncClient.setErrorRate(c)},_handleCometResponse:function(c){if(this._shouldHandleMessage(c))this.onMessage(this._stripBasePrefixAndConvertToJson(c))},_shouldHandleMessage:function(c){return!c.id&&0>this.recentMessages.indexOf(c)?(this.recentMessages.push(c),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(c){var e=new d;this._addOneShotListener(c,function(c){c.successful?e.resolve(c):(m.warn("Message failed: ",c),e.reject(c))});return e.promise},_addOneShotListener:function(c,e){var a=this,k=this.cometd,b;b=this.cometd.addListener(c,function(c){k.removeListener(b);e.apply(a,arguments)})},_createListenerForUnknownClient:function(){var c=
this.cometd,e=this;c.addListener("/meta/connect",function(a){!a.successful&&(a.advice&&"handshake"===a.advice.reconnect)&&(c.disconnect(),e.onConnectionError(a.error))})},_getEndpoint:function(){return this.routingHost+this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(c){return this.BASE_PREFIX+c},_stripBasePrefixAndConvertToJson:function(c){return{channel:c.channel.substring(this.BASE_PREFIX.length),data:c.data}}});k.enableWebsocket=!1;k.workerHostOverride=!1;0<=
location.search.indexOf("websocket\x3don")&&(k.enableWebsocket=!0);return k})},"dojox/cometd/cometd":function(){define(function(){var h=this.org=this.org||{};h.cometd={};h.cometd.JSON={};h.cometd.JSON.toJSON=h.cometd.JSON.fromJSON=function(a){throw"Abstract";};h.cometd.Utils={};h.cometd.Utils.isString=function(a){return void 0===a||null===a?!1:"string"===typeof a||a instanceof String};h.cometd.Utils.isArray=function(a){return void 0===a||null===a?!1:a instanceof Array};h.cometd.Utils.inArray=function(a,
g){for(var f=0;f<g.length;++f)if(a===g[f])return f;return-1};h.cometd.Utils.setTimeout=function(a,g,f){return window.setTimeout(function(){try{g()}catch(d){a._debug("Exception invoking timed function",g,d)}},f)};h.cometd.Utils.clearTimeout=function(a){window.clearTimeout(a)};h.cometd.TransportRegistry=function(){var a=[],g={};this.getTransportTypes=function(){return a.slice(0)};this.findTransportTypes=function(f,d,b){for(var l=[],m=0;m<a.length;++m){var e=a[m];!0===g[e].accept(f,d,b)&&l.push(e)}return l};
this.negotiateTransport=function(f,d,b,l){for(var m=0;m<a.length;++m)for(var e=a[m],k=0;k<f.length;++k)if(e===f[k]){var c=g[e];if(!0===c.accept(d,b,l))return c}return null};this.add=function(f,d,b){for(var l=!1,m=0;m<a.length;++m)if(a[m]===f){l=!0;break}l||("number"!==typeof b?a.push(f):a.splice(b,0,f),g[f]=d);return!l};this.find=function(f){for(var d=0;d<a.length;++d)if(a[d]===f)return g[f];return null};this.remove=function(f){for(var d=0;d<a.length;++d)if(a[d]===f)return a.splice(d,1),d=g[f],delete g[f],
d;return null};this.clear=function(){a=[];g={}};this.reset=function(){for(var f=0;f<a.length;++f)g[a[f]].reset()}};h.cometd.Transport=function(){var a,g;this.registered=function(f,d){a=f;g=d};this.unregistered=function(){g=a=null};this._debug=function(){g._debug.apply(g,arguments)};this._mixin=function(){return g._mixin.apply(g,arguments)};this.getConfiguration=function(){return g.getConfiguration()};this.getAdvice=function(){return g.getAdvice()};this.setTimeout=function(a,d){return h.cometd.Utils.setTimeout(g,
a,d)};this.clearTimeout=function(a){h.cometd.Utils.clearTimeout(a)};this.convertToMessages=function(a){if(h.cometd.Utils.isString(a))try{return h.cometd.JSON.fromJSON(a)}catch(d){throw this._debug("Could not convert to JSON the following string",'"'+a+'"'),d;}if(h.cometd.Utils.isArray(a))return a;if(void 0===a||null===a)return[];if(a instanceof Object)return[a];throw"Conversion Error "+a+", typeof "+typeof a;};this.accept=function(a,d,b){throw"Abstract";};this.getType=function(){return a};this.send=
function(a,d){throw"Abstract";};this.reset=function(){this._debug("Transport",a,"reset")};this.abort=function(){this._debug("Transport",a,"aborted")};this.toString=function(){return this.getType()}};h.cometd.Transport.derive=function(a){function g(){}g.prototype=a;return new g};h.cometd.RequestTransport=function(){function a(e){for(;0<c.length;){var a=c[0],k=a[0],a=a[1];if(k.url===e.url&&k.sync===e.sync)c.shift(),e.messages=e.messages.concat(k.messages),this._debug("Coalesced",k.messages.length,"messages from request",
a.id);else break}}function g(c,e){this.transportSend(c,e);e.expired=!1;if(!c.sync){var a=this.getConfiguration().maxNetworkDelay,k=a;!0===e.metaConnect&&(k+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",k,"ms for the response, maxNetworkDelay",a);var b=this;e.timeout=this.setTimeout(function(){e.expired=!0;e.xhr&&e.xhr.abort();var a="Request "+e.id+" of transport "+b.getType()+" exceeded "+k+" ms max network delay";b._debug(a);b.complete(e,!1,e.metaConnect);c.onFailure(e.xhr,
c.messages,"timeout",a)},k)}}function f(e){var a=++m,b={id:a,metaConnect:!1};k.length<this.getConfiguration().maxConnections-1?(k.push(b),g.call(this,e,b)):(this._debug("Transport",this.getType(),"queueing request",a,"envelope",e),c.push([e,b]))}function d(e,b){var d=h.cometd.Utils.inArray(e,k);0<=d&&k.splice(d,1);if(0<c.length){var d=c.shift(),l=d[0],m=d[1];this._debug("Transport dequeued request",m.id);if(b)this.getConfiguration().autoBatch&&a.call(this,l),f.call(this,l),this._debug("Transport completed request",
e.id,l);else{var g=this;this.setTimeout(function(){g.complete(m,!1,m.metaConnect);l.onFailure(m.xhr,l.messages,"error","Previous request failed")},0)}}}var b=new h.cometd.Transport,l=h.cometd.Transport.derive(b),m=0,e=null,k=[],c=[];l.complete=function(c,a,k){if(k){c=c.id;this._debug("Transport",this.getType(),"metaConnect complete, request",c);if(null!==e&&e.id!==c)throw"Longpoll request mismatch, completing request "+c;e=null}else d.call(this,c,a)};l.transportSend=function(c,e){throw"Abstract";
};l.transportSuccess=function(c,e,a){if(!e.expired)if(this.clearTimeout(e.timeout),this.complete(e,!0,e.metaConnect),a&&0<a.length)c.onSuccess(a);else c.onFailure(e.xhr,c.messages,"Empty HTTP response")};l.transportFailure=function(c,e,a,k){e.expired||(this.clearTimeout(e.timeout),this.complete(e,!1,e.metaConnect),c.onFailure(e.xhr,c.messages,a,k))};l.send=function(c,a){if(a){if(null!==e)throw"Concurrent metaConnect requests not allowed, request id\x3d"+e.id+" not yet completed";var k=++m;this._debug("Transport",
this.getType(),"metaConnect send, request",k,"envelope",c);k={id:k,metaConnect:!0};g.call(this,c,k);e=k}else f.call(this,c)};l.abort=function(){b.abort();for(var c=0;c<k.length;++c){var a=k[c];this._debug("Aborting request",a);a.xhr&&a.xhr.abort()}e&&(this._debug("Aborting metaConnect request",e),e.xhr&&e.xhr.abort());this.reset()};l.reset=function(){b.reset();e=null;k=[];c=[]};return l};h.cometd.LongPollingTransport=function(){var a=new h.cometd.RequestTransport,g=h.cometd.Transport.derive(a),f=
!0;g.accept=function(a,b,l){return f||!b};g.xhrSend=function(a){throw"Abstract";};g.transportSend=function(a,b){this._debug("Transport",this.getType(),"sending request",b.id,"envelope",a);var l=this;try{var m=!0;b.xhr=this.xhrSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:h.cometd.JSON.toJSON(a.messages),onSuccess:function(e){l._debug("Transport",l.getType(),"received response",e);var c=!1;try{var m=l.convertToMessages(e);0===m.length?(f=!1,l.transportFailure(a,
b,"no response",null)):(c=!0,l.transportSuccess(a,b,m))}catch(g){l._debug(g),c||(f=!1,l.transportFailure(a,b,"bad response",g))}},onError:function(e,c){f=!1;m?l.setTimeout(function(){l.transportFailure(a,b,e,c)},0):l.transportFailure(a,b,e,c)}});m=!1}catch(e){f=!1,this.setTimeout(function(){l.transportFailure(a,b,"error",e)},0)}};g.reset=function(){a.reset();f=!0};return g};h.cometd.CallbackPollingTransport=function(){var a=new h.cometd.RequestTransport,a=h.cometd.Transport.derive(a);a.accept=function(a,
f,d){return!0};a.jsonpSend=function(a){throw"Abstract";};a.transportSend=function(a,f){for(var d=this,b=0,l=a.messages.length,m=[];0<l;){var e=h.cometd.JSON.toJSON(a.messages.slice(b,b+l)),e=a.url.length+encodeURI(e).length;if(2E3<e){if(1===l){var k="Bayeux message too big ("+e+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){d.transportFailure(a,f,"error",k)},0);return}--l}else m.push(l),b+=l,l=a.messages.length-b}var c=a;if(1<m.length){b=0;l=m[0];this._debug("Transport",
this.getType(),"split",a.messages.length,"messages into",m.join(" + "));c=this._mixin(!1,{},a);c.messages=a.messages.slice(b,l);c.onSuccess=a.onSuccess;c.onFailure=a.onFailure;for(e=1;e<m.length;++e){var n=this._mixin(!1,{},a),b=l,l=l+m[e];n.messages=a.messages.slice(b,l);n.onSuccess=a.onSuccess;n.onFailure=a.onFailure;this.send(n,f.metaConnect)}}this._debug("Transport",this.getType(),"sending request",f.id,"envelope",c);try{var p=!0;this.jsonpSend({transport:this,url:c.url,sync:c.sync,headers:this.getConfiguration().requestHeaders,
body:h.cometd.JSON.toJSON(c.messages),onSuccess:function(e){var a=!1;try{var k=d.convertToMessages(e);0===k.length?d.transportFailure(c,f,"no response"):(a=!0,d.transportSuccess(c,f,k))}catch(b){d._debug(b),a||d.transportFailure(c,f,"bad response",b)}},onError:function(e,a){p?d.setTimeout(function(){d.transportFailure(c,f,e,a)},0):d.transportFailure(c,f,e,a)}});p=!1}catch(q){this.setTimeout(function(){d.transportFailure(c,f,"error",q)},0)}};return a};h.cometd.WebSocketTransport=function(){function a(){var c=
l.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",c);var e=this,a=null,k=l.getConfiguration().connectTimeout;0<k&&(a=this.setTimeout(function(){a=null;p||(e._debug("Transport",e.getType(),"timed out while connecting to URL",c,":",k,"ms"),e.onClose(1002,"Connect Timeout"))},k));var b=new h.cometd.WebSocket(c),d=function(c){var k=c?c.code:1E3;c=c?c.reason:void 0;e._debug("WebSocket closed",k,"/",c,b);a&&(e.clearTimeout(a),a=null);if(b!==n)e._debug("Ignoring close event, WebSocket",
n);else e.onClose(k,c)};b.onopen=function(){e._debug("WebSocket opened",b);a&&(e.clearTimeout(a),a=null);if(b!==n)e._debug("Ignoring open event, WebSocket",n);else e.onOpen()};b.onclose=d;b.onerror=function(){d({code:1002})};b.onmessage=function(c){e._debug("WebSocket message",c,b);if(b!==n)e._debug("Ignoring message event, WebSocket",n);else e.onMessage(c)};n=b;this._debug("Transport",this.getType(),"configured callbacks on",b)}function g(e,a){var k=h.cometd.JSON.toJSON(e.messages);n.send(k);this._debug("Transport",
this.getType(),"sent",e,"metaConnect \x3d",a);var b=k=this.getConfiguration().maxNetworkDelay;a&&(b+=this.getAdvice().timeout,q=!0);for(var d=[],f=0;f<e.messages.length;++f){var l=e.messages[f];if(l.id){d.push(l.id);var m=n;c[l.id]=this.setTimeout(function(){m&&m.close(1E3,"Timeout")},b)}}this._debug("Transport",this.getType(),"waiting at most",b,"ms for messages",d,"maxNetworkDelay",k,", timeouts:",c)}function f(c,e){try{null===n?a.call(this):p&&g.call(this,c,e)}catch(k){var b=n;this.setTimeout(function(){c.onFailure(b,
c.messages,"error",k)},0)}}var d=new h.cometd.Transport,b=h.cometd.Transport.derive(d),l,m=!0,e=!1,k={},c={},n=null,p=!1,q=!1,r;b.onOpen=function(){this._debug("Transport",this.getType(),"opened",n);e=p=!0;this._debug("Sending pending messages",k);for(var c in k){var a=k[c],b=a[0],a=a[1];r=b.onSuccess;g.call(this,b,a)}};b.onMessage=function(e){this._debug("Transport",this.getType(),"received websocket message",e,n);var a=!1;e=this.convertToMessages(e.data);for(var b=[],d=0;d<e.length;++d){var f=e[d];
if((/^\/meta\//.test(f.channel)||void 0===f.data)&&f.id){b.push(f.id);var l=c[f.id];l&&(this.clearTimeout(l),delete c[f.id],this._debug("Transport",this.getType(),"removed timeout for message",f.id,", timeouts",c))}"/meta/connect"===f.channel&&(q=!1);"/meta/disconnect"===f.channel&&!q&&(a=!0)}d=!1;for(f=0;f<b.length;++f){var m=b[f],g;for(g in k){var l=g.split(","),p=h.cometd.Utils.inArray(m,l);if(0<=p){d=!0;l.splice(p,1);m=k[g][0];p=k[g][1];delete k[g];0<l.length&&(k[l.join(",")]=[m,p]);break}}}d&&
this._debug("Transport",this.getType(),"removed envelope, envelopes",k);r.call(this,e);a&&n.close(1E3,"Disconnect")};b.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,n);m=e;for(var d in c)this.clearTimeout(c[d]);c={};for(var f in k)d=k[f][0],k[f][1]&&(q=!1),d.onFailure(n,d.messages,"closed "+a+"/"+b);k={};null!==n&&p&&n.close(1E3,"Close");p=!1;n=null};b.registered=function(c,e){d.registered(c,e);l=e};b.accept=function(c,e,a){return m&&!!h.cometd.WebSocket&&!1!==l.websocketEnabled};
b.send=function(c,e){this._debug("Transport",this.getType(),"sending",c,"metaConnect \x3d",e);for(var a=[],b=0;b<c.messages.length;++b){var d=c.messages[b];d.id&&a.push(d.id)}k[a.join(",")]=[c,e];this._debug("Transport",this.getType(),"stored envelope, envelopes",k);f.call(this,c,e)};b.abort=function(){d.abort();if(null!==n)try{n.close(1001)}catch(c){this._debug(c)}this.reset()};b.reset=function(){d.reset();null!==n&&p&&n.close(1E3,"Reset");m=!0;e=!1;c={};k={};n=null;p=!1;r=null};return b};h.cometd.Cometd=
function(a){function g(c){return h.cometd.Utils.isString(c)}function f(c){return void 0===c||null===c?!1:"function"===typeof c}function d(c,e){if(window.console){var a=window.console[c];f(a)&&a.apply(window.console,e)}}function b(){for(var c in Z)for(var e=Z[c],a=e.length-1;0<=a;--a){var k=e[a];k&&!k.listener&&(e.splice(a,1),C._debug("Removed subscription",k,"for channel",c))}}function l(c){P!==c&&(C._debug("Status",P,"-\x3e",c),P=c)}function m(){return"disconnecting"===P||"disconnected"===P}function e(c,
e,a,k,b){try{return e.call(c,k)}catch(d){C._debug("Exception during execution of extension",a,d);c=C.onExtensionException;if(f(c)){C._debug("Invoking extension exception callback",a,d);try{c.call(C,d,a,b,k)}catch(l){C._info("Exception during execution of exception callback in extension",a,l)}}return k}}function k(c){for(var a=0;a<U.length&&!(void 0===c||null===c);++a){var k=U[a],b=k.extension.outgoing;f(b)&&(k=e(k.extension,b,k.name,c,!0),c=void 0===k?c:k)}return c}function c(c,e){var a=Z[c];if(a&&
0<a.length)for(var k=a.length-1;0<=k;--k){var b=a[k];try{b.callback.call(b.scope,e)}catch(d){C._debug("Exception during notification",b,e,d);var l=C.onListenerException;if(f(l)){C._debug("Invoking listener exception callback",b,d);try{l.call(C,d,b.handle,b.listener,e)}catch(m){C._info("Exception during execution of listener callback",b,m)}}}}}function n(e,a){c(e,a);for(var k=e.split("/"),b=k.length-1,d=b;0<d;--d){var f=k.slice(0,d).join("/")+"/*";d===b&&c(f,a);f+="*";c(f,a)}}function p(){null!==$&&
h.cometd.Utils.clearTimeout($);$=null}function q(c){p();var e=V.interval+T;C._debug("Function scheduled in",e,"ms, interval \x3d",V.interval,"backoff \x3d",T,c);$=h.cometd.Utils.setTimeout(C,c,e)}function r(c,e,a,b){for(var d=0;d<e.length;++d){var l=e[d];l.id=""+ ++aa;Q&&(l.clientId=Q);var m=void 0;f(l._callback)&&(m=l._callback,delete l._callback);l=k(l);void 0!==l&&null!==l?(e[d]=l,m&&(F[l.id]=m)):e.splice(d--,1)}0!==e.length&&(d=N.url,N.appendMessageTypeToURL&&(d.match(/\/$/)||(d+="/"),b&&(d+=
b)),c={url:d,sync:c,messages:e,onSuccess:function(c){try{fa.call(C,c)}catch(e){C._debug("Exception during handling of messages",e)}},onFailure:function(c,e,a,k){try{da.call(C,c,e,a,k)}catch(b){C._debug("Exception during handling of failure",b)}}},C._debug("Send",c),K.send(c,a))}function s(c){0<W||!0===Y?X.push(c):r(!1,[c],!1)}function t(){var c=X;X=[];0<c.length&&r(!1,c,!1)}function u(){l("connecting");q(function(){if(!m()){var c={channel:"/meta/connect",connectionType:K.getType()};ea||(c.advice=
{timeout:0});l("connecting");C._debug("Connect sent",c);r(!1,[c],!0,"connect");l("connected")}})}function v(c){c&&(V=C._mixin(!1,{},N.advice,c),C._debug("New advice",V))}function w(c){p();c&&K.abort();Q=null;l("disconnected");T=W=0;0<X.length&&(da.call(C,void 0,X,"error","Disconnected"),X=[])}function x(c){Q=null;b();m()?(L.reset(),v(N.advice)):v(C._mixin(!1,V,{reconnect:"retry"}));W=0;Y=!0;ba=c;c=L.findTransportTypes("1.0",R,N.url);var e=C._mixin(!1,{},ba,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",
supportedConnectionTypes:c,advice:{timeout:V.timeout,interval:V.interval}});K=L.negotiateTransport(c,"1.0",R,N.url);C._debug("Initial transport is",K.getType());l("handshaking");C._debug("Handshake sent",e);r(!1,[e],!1,"handshake")}function z(){l("handshaking");Y=!0;q(function(){x(ba)})}function y(c){n("/meta/handshake",c);n("/meta/unsuccessful",c);!m()&&"none"!==V.reconnect?(T<N.maxBackoff&&(T+=N.backoffIncrement),z()):w(!1)}function A(c){n("/meta/connect",c);n("/meta/unsuccessful",c);c=m()?"none":
V.reconnect;switch(c){case "retry":u();T<N.maxBackoff&&(T+=N.backoffIncrement);break;case "handshake":L.reset();T=0;z();break;case "none":w(!1);break;default:throw"Unrecognized advice action"+c;}}function B(c){w(!0);n("/meta/disconnect",c);n("/meta/unsuccessful",c)}function D(c){n("/meta/subscribe",c);n("/meta/unsuccessful",c)}function H(c){n("/meta/unsubscribe",c);n("/meta/unsuccessful",c)}function G(c){var e=F[c.id];f(e)&&(delete F[c.id],e.call(C,c))}function I(c){G(c);n("/meta/publish",c);n("/meta/unsuccessful",
c)}function O(c){for(var a=0;a<U.length&&!(void 0===c||null===c);++a){var k=U[N.reverseIncomingExtensions?U.length-1-a:a],b=k.extension.incoming;f(b)&&(k=e(k.extension,b,k.name,c,!1),c=void 0===k?c:k)}if(!(void 0===c||null===c))switch(v(c.advice),c.channel){case "/meta/handshake":if(c.successful){Q=c.clientId;a=L.negotiateTransport(c.supportedConnectionTypes,c.version,R,N.url);if(null===a)throw"Could not negotiate transport with server; client "+L.findTransportTypes(c.version,R,N.url)+", server "+
c.supportedConnectionTypes;K!==a&&(C._debug("Transport",K,"-\x3e",a),K=a);Y=!1;t();c.reestablish=ca;ca=!0;n("/meta/handshake",c);c=m()?"none":V.reconnect;switch(c){case "retry":T=0;u();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+c;}}else y(c);break;case "/meta/connect":if(ea=c.successful)switch(n("/meta/connect",c),c=m()?"none":V.reconnect,c){case "retry":T=0;u();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+c;}else A(c);break;case "/meta/disconnect":c.successful?
(w(!1),n("/meta/disconnect",c)):B(c);break;case "/meta/subscribe":c.successful?n("/meta/subscribe",c):D(c);break;case "/meta/unsubscribe":c.successful?n("/meta/unsubscribe",c):H(c);break;default:void 0===c.successful?void 0!==c.data&&null!==c.data?n(c.channel,c):C._debug("Unknown message",c):c.successful?(G(c),n("/meta/publish",c)):I(c)}}function S(c){if(c=Z[c])for(var e=0;e<c.length;++e)if(c[e])return!0;return!1}function M(c,e){var a={scope:c,method:e};if(f(c))a.scope=void 0,a.method=c;else if(g(e)){if(!c)throw"Invalid scope "+
c;a.method=c[e];if(!f(a.method))throw"Invalid callback "+e+" for scope "+c;}else if(!f(e))throw"Invalid callback "+e;return a}function J(c,e,a,k){e=M(e,a);C._debug("Adding listener on",c,"with scope",e.scope,"and callback",e.method);k={channel:c,scope:e.scope,callback:e.method,listener:k};e=Z[c];e||(e=[],e.subscriptionCounter=0,Z[c]=e);e.push(k);a=e.subscriptionCounter;e.subscriptionCounter+=1;k.id=a;k.handle=[c,a];C._debug("Added listener",k,"for channel",c,"having id \x3d",a);return k.handle}var C=
this,E=a||"default",R=!1,L=new h.cometd.TransportRegistry,K,P="disconnected",aa=0,Q=null,W=0,X=[],Y=!1,Z={},T=0,$=null,U=[],V={},ba,F={},ca=!1,ea=!1,N={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(c,e,a){for(var k=e||{},b=2;b<arguments.length;++b){var d=arguments[b];if(!(void 0===d||
null===d))for(var f in d){var l=d[f],m=k[f];l!==e&&void 0!==l&&(k[f]=c&&"object"===typeof l&&null!==l?l instanceof Array?this._mixin(c,m instanceof Array?m:[],l):this._mixin(c,"object"===typeof m&&!(m instanceof Array)?m:{},l):l)}}return k};this._warn=function(){d("warn",arguments)};this._info=function(){"warn"!==N.logLevel&&d("info",arguments)};this._debug=function(){"debug"===N.logLevel&&d("debug",arguments)};this._isCrossDomain=function(c){return c&&c!==window.location.host};var fa,da;this.send=
s;this.receive=O;fa=function(c){C._debug("Received",c);for(var e=0;e<c.length;++e)O(c[e])};da=function(c,e,a,k){C._debug("handleFailure",c,e,a,k);for(a=0;a<e.length;++a){var b=e[a];switch(b.channel){case "/meta/handshake":y({successful:!1,failure:!0,channel:"/meta/handshake",request:b,xhr:c,advice:{reconnect:"retry",interval:T}});break;case "/meta/connect":k=c;ea=!1;A({successful:!1,failure:!0,channel:"/meta/connect",request:b,xhr:k,advice:{reconnect:"retry",interval:T}});break;case "/meta/disconnect":B({successful:!1,
failure:!0,channel:"/meta/disconnect",request:b,xhr:c,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":D({successful:!1,failure:!0,channel:"/meta/subscribe",request:b,xhr:c,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":H({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:b,xhr:c,advice:{reconnect:"none",interval:0}});break;default:I({successful:!1,failure:!0,channel:b.channel,request:b,xhr:c,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=
function(c,e,a){if(a=L.add(c,e,a))this._debug("Registered transport",c),f(e.registered)&&e.registered(c,this);return a};this.getTransportTypes=function(){return L.getTransportTypes()};this.unregisterTransport=function(c){var e=L.remove(c);null!==e&&(this._debug("Unregistered transport",c),f(e.unregistered)&&e.unregistered());return e};this.unregisterTransports=function(){L.clear()};this.findTransport=function(c){return L.find(c)};this.configure=function(c){C._debug("Configuring cometd object with",
c);g(c)&&(c={url:c});c||(c={});N=C._mixin(!1,N,c);if(!N.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var e=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(N.url);c=e[8];var a=e[9];R=C._isCrossDomain(e[2]);N.appendMessageTypeToURL&&(void 0!==a&&0<a.length?(C._info("Appending message type to URI "+c+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),N.appendMessageTypeToURL=!1):(e=c.split("/"),a=e.length-
1,c.match(/\/$/)&&(a-=1),0<=e[a].indexOf(".")&&(C._info("Appending message type to URI "+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),N.appendMessageTypeToURL=!1)))};this.init=function(c,e){this.configure(c);this.handshake(e)};this.handshake=function(c){l("disconnected");ca=!1;x(c)};this.disconnect=function(c,e){if(!m()){void 0===e&&"boolean"!==typeof c&&(e=c,c=!1);var a=this._mixin(!1,{},e,{channel:"/meta/disconnect"});l("disconnecting");r(!0===c,[a],!1,"disconnect")}};
this.startBatch=function(){++W};this.endBatch=function(){--W;if(0>W)throw"Calls to startBatch() and endBatch() are not paired";0===W&&(!m()&&!Y)&&t()};this.batch=function(c,e){var a=M(c,e);this.startBatch();try{a.method.call(a.scope),this.endBatch()}catch(k){throw this._debug("Exception during execution of batch",k),this.endBatch(),k;}};this.addListener=function(c,e,a){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(c))throw"Illegal argument type: channel must be a string";
return J(c,e,a,!0)};this.removeListener=function(c){if(!h.cometd.Utils.isArray(c))throw"Invalid argument: expected subscription, not "+c;var e=Z[c[0]],a;if(0<e.length){a=c[1];a:{for(var k=0;k<e.length;){if(e[k].id===a){a=k;break a}k+=1}a=-1}-1!==a&&(e.splice(a,1),C._debug("Removed listener",c))}};this.clearListeners=function(){Z={}};this.subscribe=function(c,e,a,k){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(c))throw"Illegal argument type: channel must be a string";
if(m())throw"Illegal state: already disconnected";f(e)&&(k=a,a=e,e=void 0);var b=!S(c),d=J(c,e,a,!1);b&&(b=this._mixin(!1,{},k,{channel:"/meta/subscribe",subscription:c}),s(b));return d};this.unsubscribe=function(c,e){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(m())throw"Illegal state: already disconnected";this.removeListener(c);var a=c[0];S(a)||(a=this._mixin(!1,{},e,{channel:"/meta/unsubscribe",subscription:a}),s(a))};this.clearSubscriptions=function(){b()};
this.publish=function(c,e,a,k){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!g(c))throw"Illegal argument type: channel must be a string";if(m())throw"Illegal state: already disconnected";f(e)?(k=e,e=a={}):f(a)&&(k=a,a={});var b=this._mixin(!1,{},a,{channel:c,data:e,_callback:k});s(b)};this.getStatus=function(){return P};this.isDisconnected=m;this.setBackoffIncrement=function(c){N.backoffIncrement=c};this.getBackoffIncrement=function(){return N.backoffIncrement};
this.getBackoffPeriod=function(){return T};this.setLogLevel=function(c){N.logLevel=c};this.registerExtension=function(c,e){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(c))throw"Illegal argument type: extension name must be a string";for(var a=!1,k=0;k<U.length;++k)if(U[k].name===c){a=!0;break}if(a)return this._info("Could not register extension with name",c,"since another extension with the same name already exists"),!1;U.push({name:c,extension:e});
this._debug("Registered extension",c);f(e.registered)&&e.registered(c,this);return!0};this.unregisterExtension=function(c){if(!g(c))throw"Illegal argument type: extension name must be a string";for(var e=!1,a=0;a<U.length;++a){var k=U[a];if(k.name===c){U.splice(a,1);e=!0;this._debug("Unregistered extension",c);c=k.extension;f(c.unregistered)&&c.unregistered();break}}return e};this.getExtension=function(c){for(var e=0;e<U.length;++e){var a=U[e];if(a.name===c)return a.extension}return null};this.getName=
function(){return E};this.getClientId=function(){return Q};this.getURL=function(){return N.url};this.getTransport=function(){return K};this.getConfiguration=function(){return this._mixin(!0,{},N)};this.getAdvice=function(){return this._mixin(!0,{},V)};h.cometd.WebSocket=window.WebSocket;h.cometd.WebSocket||(h.cometd.WebSocket=window.MozWebSocket)};return h.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(h){return h.AckExtension=function(){var a,g=!1,f=-1;this.registered=
function(d,b){a=b;a._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){a._debug("AckExtension: executing unregistration callback",void 0);a=null};this.incoming=function(d){var b=d.channel;if("/meta/handshake"==b)g=d.ext&&d.ext.ack,a._debug("AckExtension: server supports acks",g);else if(g&&"/meta/connect"==b&&d.successful&&(b=d.ext)&&"number"===typeof b.ack)f=b.ack,a._debug("AckExtension: server sent ack id",f);return d};this.outgoing=function(d){var b=d.channel;
"/meta/handshake"==b?(d.ext||(d.ext={}),d.ext.ack=a&&!1!==a.ackEnabled,f=-1):g&&"/meta/connect"==b&&(d.ext||(d.ext={}),d.ext.ack=f,a._debug("AckExtension: client sending ack id",f));return d}}})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),function(h,a,g,f,d,b,l,m,e,k){var c=this,n=a([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",
REMOTE_PROXY:"/remote/proxy/",constructor:function(c){this.iframeId=c||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(c,e,a,k,b){c=this._combineUriPaths(c||"","/");e=e||"";b=b||this.LATEST_VERSION;k=k||"";this.computeToken=a;c===this._host&&e===this._key&&k===this._proxyUrl&&b===this._version||(this._errorLoading=this._loaded=!1,this._host=
c,this._key=e,this._version=b,this._proxyUrl=k,c=this._calculateUrls(c,e,b,k),this._createIframe(c))},_calculateUrls:function(c,e,a,k){var b=this.REMOTE_PROXY+a+"/iframeProxyRelease.html";a=this.REMOTE_PROXY+a+"/CheckJsFile.js";k&&(b=k);b=this._combineUriPaths(c,b).split("?")[0];b+=e?"?routingkey\x3d"+e:"";a=this._combineUriPaths(c,a);a=e?a+("?routingkey\x3d"+e):a+("?time\x3d"+(new Date).getTime());return{fastFailUrl:a,iFrameUrl:b}},_createIframe:function(a){var b=a.fastFailUrl,f=this;this._url=a.iFrameUrl;
this.remoteIframe&&l.destroy(this.remoteIframe);e.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=l.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});this._checkUrl=(new k(b)).then(function(){},d.hitch(f,"_handleLoadTimeoutHitch"));this._loadTimeoutHandle=setTimeout(function(){f._handleLoadTimeoutHitch()},this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||
(this._messageConnection=h.connect(c,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{clearTimeout(this._loadTimeoutHandle);var c=(parseFloat(this._version)-0.1).toFixed(1).toString();e.info("Unable to load proxy version "+this._version+", trying "+c+".");this.setRemotePageHost(this._host,this._key,this.computeToken,this._proxyUrl,c)}},createUploadIframeTarget:function(c,e,a){this._uploadTargetCallbacks[c]=
d.hitch(a||this,e);this._postMessage("createUploadIframe;"+c)},cancelUpload:function(c){this._postMessage("cancelUpload;"+c)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(c,a,k){var b=this,d;this.computeToken&&(k=k||{},k.headers=k.headers||{},k.headers.computeToken=this.computeToken);d=this._getNewMessageId();a="sendMessage;"+d+";"+a+";"+(k?f.toJson(k):"{}");a+=";"+c;c={deferred:new g(function(){"1.0"===b._version?e.warn("Cancelling is not supported by the 1.0 remote proxy."):
b._postMessage("abort;"+d)}),id:d};this._errorLoading?c.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[d]=c,this._postMessage(a));return c.deferred},setLatency:function(c){this._latency=c},setErrorRate:function(c){this._errorRate=c},_postMessage:function(c){this._loaded?this._postMessageNow(c):this._pendingQueue.push(c)},_handleMessage:function(c){var e,a;if(c.source===this.remoteIframe.contentWindow){a=c.data.indexOf(";");e=c.data.substring(0,a);if(!e)throw Error("Client unable to parse message, no action specified: "+
c.data);switch(e){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(c,a);break;case "uploadIframeMessage":e=c.data.indexOf(";",a+1);a=c.data.substring(a+1,e);c=c.data.substring(e+1,c.data.length);this._uploadTargetCallbacks[a](c);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":c=c.data.substring(a+1,c.data.length);c=JSON.parse(c);this.onWebsocketClose(c);break;case "websocketMsg":c=
c.data.substring(a+1,c.data.length);c=JSON.parse(c);this.onWebsocketMsg(c);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+e+", data: "+c.data);}}},_sendMessageResponse:function(c,e){var a,k,b=c.data.indexOf(";",e+1);a=c.data.indexOf(";",b+1);var d=c.data.substring(e+1,b),l=c.data.substring(b+1,a),b=c.data.substring(a+1,c.data.length);if(!d||!l)throw Error("Invalid message from remote iframe: "+c.data);a=this._transactions[d];if(!a)throw Error("Unknown transaction id: "+
d+", from remote iframe: "+c.data);delete this._transactions[d];if(!a.deferred.isCanceled())if("success"===l){try{k=b&&f.fromJson(b)}catch(m){k=b}k=""===k?{}:k;a.deferred.resolve(k)}else"fault"===l&&b&&(k=b.split(";"),d=k.length-1,1<=d&&(b.statusCode=k[d])),this.onError(b),a.deferred.reject(b)},_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=
this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var c,e;this._cleanupFailureChecks();if(!this._loaded)for(e in c={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(c),this._errorLoading=!0,c=this._transactions,this._transactions={},c)c.hasOwnProperty(e)&&c[e].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(c){function a(){if(0<k._errorRate&&Math.random()<k._errorRate&&
0===c.indexOf("sendMessage;")){if(b=c.split(";",2)[1],d=k._transactions[b])delete k._transactions[b],e.error("Generating simulated error. Request was: ",c),k.onError("403 Forbidden;403"),d.deferred.reject("403 Forbidden;403")}else k.remoteIframe.contentWindow.postMessage(c,k._url)}var k=this,b,d;this._latency?setTimeout(a,this._latency):a()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},
onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(c,e){if(0===c.length)return e;0<e.length&&("/"===e[0]&&c.lastIndexOf("/")===c.length-1?e=e.substring(1):"/"!==e[0]&&c.lastIndexOf("/")!==c.length-1&&(c+="/"));return c+e})}});n.WebSocket=a([],{constructor:function(c){var e=this;this.proxyClient=n.WebSocket.proxyClient;this.proxyClient.computeToken&&
0<=c.indexOf("?")&&(c=c+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+c);b.after(this.proxyClient,"onWebsocketOpen",function(){e.onopen.apply(e,arguments)},!0);b.after(this.proxyClient,"onWebsocketMsg",function(){e.onmessage.apply(e,arguments)},!0);b.after(this.proxyClient,"onWebsocketClose",function(){e.onclose.apply(e,arguments)},!0);b.after(this.proxyClient,"onWebsocketError",function(){e.onerror.apply(e,arguments)},!0)},onopen:function(){},
onmessage:function(){},onclose:function(){},onerror:function(){},send:function(c){this.proxyClient._postMessage("websocketSend;"+c)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return n})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(h,a,g,f,d){return function(b){var l,m,e;if(!b)throw Error("Expected a valid url in urlToEmptyJsFile");l={framedoc:null};m=f.get(b,l,!0);l=a.byId(m.id,
l.frameDoc);e=g(l,"error",function(a){d.info("CheckUrlService detected an error accessing url: "+b);m.handleResponse(null,a);e.remove()});return m.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){function n(c,e){c.canDelete&&t._remove(c.id,e.options.frameDoc,!0)}function p(c){y&&y.length&&(d.forEach(y,function(c){t._remove(c.id,c.frameDoc);
c.frameDoc=null}),y=[]);return c.options.jsonp?!c.data:!0}function q(c){return!!this.scriptLoaded}function r(c){return(c=c.options.checkString)&&eval("typeof("+c+') !\x3d\x3d "undefined"')}function s(c,e){if(this.canDelete){var a=this.response.options;y.push({id:this.id,frameDoc:a.ioArgs?a.ioArgs.frameDoc:a.frameDoc});a.ioArgs&&(a.ioArgs.frameDoc=null);a.frameDoc=null}e?this.reject(e):this.resolve(c)}function t(c,e,k){var d=g.parseArgs(c,g.deepCopy({},e));c=d.url;e=d.options;var f=g.deferred(d,n,
p,e.jsonp?null:e.checkString?r:q,s);b.mixin(f,{id:u+v++,canDelete:!1});e.jsonp&&(RegExp("[?\x26]"+e.jsonp+"\x3d").test(c)||(c+=(~c.indexOf("?")?"\x26":"?")+e.jsonp+"\x3d"+(e.frameDoc?"parent.":"")+u+"_callbacks."+f.id),f.canDelete=!0,z[f.id]=function(c){d.data=c;f.handleResponse(d)});g.notify&&g.notify.emit("send",d,f.promise.cancel);if(!e.canAttach||e.canAttach(f)){var m=t._attach(f.id,c,e.frameDoc);if(!e.jsonp&&!e.checkString)var h=l(m,w,function(c){if("load"===c.type||x.test(m.readyState))h.remove(),
f.scriptLoaded=c})}l.once(m,"error",function(c){f.reject(c);t._remove(f.id,e.frameDoc,!0)});a(f);return k?f:f.promise}k.add("script-readystatechange",function(c,e){return"undefined"!==typeof e.createElement("script").onreadystatechange&&("undefined"===typeof c.opera||"[object Opera]"!==c.opera.toString())});var u=h.id.replace(/[\/\.\-]/g,"_"),v=0,w=k("script-readystatechange")?"readystatechange":"load",x=/complete|loaded/,z=f.global[u+"_callbacks"]={},y=[];t.get=t;t._attach=function(e,a,k){k=k||c.doc;
var b=k.createElement("script");b.type="text/javascript";b.src=a;b.id=e;b.async=!0;b.charset="utf-8";return k.getElementsByTagName("head")[0].appendChild(b)};t._remove=function(c,a,k){e.destroy(m.byId(c,a));z[c]&&(k?z[c]=function(){delete z[c]}:delete z[c])};t._callbacksProperty=u+"_callbacks";return t})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),
function(h,a,g,f,d,b,l,m){return h([m],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(e){this.inherited(arguments);f.after(this._delegate,"onMessage",g.hitch(this,this.handleMessage),!0)},publish:function(e,a){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(e,this.serialize(a));this._deferProcessQueue();return c}return this._queuePublish(e,this.serialize(a))},
subscribe:function(e,a,c){this.logSubscriptions&&l.info("MessageService subscribe: "+e,a,c);this._addHandler(this.channelSubscriptions,e,a,c);return this.isConnected()||"resubscribing"===this._currentState?(e=this._queueSubscribe(e,a,c),this._deferProcessQueue(),e):this._queueSubscribe(e,a,c)},unsubscribe:function(e,a,c){this.logSubscriptions&&l.info("MessageService unsubscribe: "+e,a,c);if(this._removeHandler(this.channelSubscriptions,e,a,c))return this.isConnected()||"resubscribing"===this._currentState?
(e=this._queueUnsubscribe(e,a,c),this._deferProcessQueue(),e):(new d).resolve();l.error("Not subscribed to channel: "+e+", can't unsubscribe.");return(new d).reject("Not subscribed to channel: "+e+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(e){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(e)},setErrorRate:function(e){this._delegate&&this._delegate.doSetErrorRate&&
this._delegate.doSetErrorRate(e)},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(e){e.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(e,
a){var c=new d;this._queuedOps.push({type:"publish",channel:e,data:a,deferred:c});return c.promise},_queueSubscribe:function(e,a,c){var b=new d;this._queuedOps.push({type:"subscribe",channel:e,handler:a,scope:c,deferred:b});return b.promise},_queueUnsubscribe:function(e,a,c){for(var b=new d,f,l=0;l<this._queuedOps.length;l++)if(f=this._queuedOps[l],"subscribe"===f.type&&f.channel===e&&f.handler===a&&f.scope===c)return this._queuedOps.splice(l,1),f.deferred.resolve(),(new d).resolve();this._queuedOps.push({type:"unsubscribe",
channel:e,handler:a,scope:c,deferred:b});return b.promise},_processQueue:function(){var e=this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!e)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),e=this._queuedOps,this._queuedOps=[],e.forEach(function(e){var c;"publish"===e.type?c=this._delegate.doPublish(e.channel,e.data):"subscribe"===e.type?c=this._doSubscribe(e.channel,e.handler,e.scope):"unsubscribe"===e.type&&(c=this._doUnsubscribe(e.channel,e.handler,
e.scope));c.then(e.deferred.resolve,e.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var e=this;this._deferredTimeout=setTimeout(function(){e._deferredTimeout=!1;e._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(e){if(this.channelSubscriptions[e].subscribed)return(new d).resolve();var a=this._delegate.doSubscribe(e);this.channelSubscriptions[e].subscribed=!0;return a},_doUnsubscribe:function(e){return this.channelSubscriptions[e]?
(new d).resolve():this._delegate.doUnsubscribe(e)},handleMessage:function(e){var a;if(e&&e.channel){e.data&&(e.data=this.deserialize(e.data));var c=e.channel.split("/");for(a=1;a<=c.length;a+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,a).concat("**").join("/"),e);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),e);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),e);this._callHandlers(this.channelSubscriptions,e.channel,e)}},
registerMessageHandler:function(e,a,c){l.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(e,a,c){l.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(e,a,c){this.typeSerializers.push({typeMatcher:e,type:a,serializer:c})},registerTypeDeserializer:function(e,a){this.typeDeserializers[e]=a},serialize:function(e){return g.isArray(e)?this._serializeArray(e):e instanceof Number||e instanceof Boolean||g.isString(e)?e:
this._serializeObject(e)},deserialize:function(e){return g.isArray(e)?this._deserializeArray(e):e instanceof Number||e instanceof Boolean||g.isString(e)?e:this._deserializeObject(e)},_addHandler:function(e,a,c,b){var d;b=b||this;"string"===typeof c&&"function"!==typeof b[c]?l.warn("Not adding invalid handler: "+c):(d=e[a],d||(d=[],e[a]=d),e={channel:a,handler:c,scope:b},d.push(e),d.sort(function(c){return c.exclusive?-1:0}))},_removeHandler:function(e,a,c,b){var d;d=e[a];c=this._getHandlerIndex(d,
{handler:c,scope:b||this});0<=c&&d.splice(c,1);(!d||0===d.length)&&delete e[a];return 0<=c},_callHandlers:function(e,k,c){var b;if(e.hasOwnProperty(k)){e=e[k];for(b=0;b<e.length;b+=1)try{"string"===typeof e[b].handler?e[b].scope[e[b].handler].call(e[b].scope,c):e[b].handler.call(e[b].scope,c)}catch(d){l.error("Error while executing message handler on channel: "+k+", message: "+a.toJson(c)+", error: "+d)}}},_getHandlerIndex:function(e,a){if(!e)return-1;var c;for(c=0;c<e.length;c+=1)if(a.handler===
e[c].handler&&a.scope===e[c].scope)return c;return-1},_serializeObject:function(e){var a,c;for(c=0;c<this.typeSerializers.length;c+=1){var b=this.typeSerializers[c];if(b.typeMatcher(e))return{__type__:b.type,__value__:b.serializer.call(this,e)}}if(e instanceof Image)return e;for(a in e)e.hasOwnProperty(a)&&(e[a]=this.serialize(e[a]));return e},_serializeArray:function(e){var a,c=e.length;for(a=0;a<c;a+=1)e[a]=this.serialize(e[a]);return e},_deserializeObject:function(e){var a;if(void 0===e||null===
e)return null;if(e.hasOwnProperty("__type__")&&e.hasOwnProperty("__value__"))try{return this.typeDeserializers[e.__type__].call(this,e.__value__)}catch(c){l.error("Error while trying to deserialize: ",e)}for(a in e)e.hasOwnProperty(a)&&(null!==e[a]&&void 0!==e[a])&&(e[a]=this.deserialize(e[a]));return e},_deserializeArray:function(e){var a,c=e.length;for(a=0;a<c;a+=1)e[a]=this.deserialize(e[a]);return e}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],
function(h,a){return h([],{constructor:function(g){g.stateMachine=this;this.state=new a(g)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(a,f){this.state.enter(a,f)},onEnterState:function(a){},onExitState:function(a){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(h,a,g,f,d,b,l,m){var e;return e=
h([],{constructor:function(e){this.stateMachine=e.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=e.namespace||"";this.name=e.name||this.getDefaultName();this.context=e.context||{};this.data=e.data||{};this.composition=e.composition||"XOR";this.defaultSubstate=e.defaultSubstate||"";this.constructSubstates(e.substates);this.constructTriggersAndTransitions(e.transitions);this.active=e.active||!1},getDefaultName:function(){var e;0<this.namespace.length?
(e=this.namespace.split("."),e=e.pop()):g.warn("State: state name is not specified.");return e||""},constructSubstates:function(a){var c={},b,d;for(b in a)a.hasOwnProperty(b)&&(d=a[b],d.name&&d.name!==b&&g.error("State: error constructing substate: "+b+", the specified names don't match: "+d.name),d.name=b,d.namespace=d.namespace||[this.namespace,this.name].join("."),d.stateMachine=d.stateMachine||this.stateMachine,d.context=d.context||this.context,c[d.name]=new e(d));this.substates=c},constructTriggersAndTransitions:function(e){var c,
a={},b=[],d;for(c in e)e.hasOwnProperty(c)&&((d=this.constructTrigger(c))&&b.push(d),a[c]=this.constructTransition(c,e[c]));this.transitions=a;this.triggers=b},constructTrigger:function(e){var c,m,g;c=e.split(" ");if(2===c.length)"subscribe"===c[0]?g=d:"response"===c[0]||"fault"===c[0]?g=b:"timeout"===c[0]&&(g=l);else if("onEnterState"!==e||"onExitState"!==e)g=f;g&&(m=new g({name:e,context:this.context,triggerHandler:a.hitch(this,this.handleTrigger)}));return m},constructTransition:function(e,c){var b;
if(a.isFunction(c)||a.isString(c)||a.isArray(c))"onEnterState"===e||"onExitState"===e?(b=c,c={},c.action=b,c.target=""):(b=c,c={},c.target=b);c.state=this;return new m(c)},enter:function(e,c){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(c)));e?this.changeSubstates(e,c):this.changeToDefaultSubstate(c)},exit:function(){var e=this.activeSubstates();this.active=!1;this.disableTriggers();e.forEach(function(c){c.exit()});
this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(e){e.enable()})},disableTriggers:function(){this.triggers.forEach(function(e){e.disable()})},handleTrigger:function(e){var c,b;if(this.transitions[e]&&(b=Array.prototype.slice.call(arguments,1,arguments.length),c=this.transitions[e].handleTrigger(e,b)))a.isString(c)||(b=c.args,c=c.target),this.stateMachine._changeState(c,b)},changeSubstates:function(e,c){var a=this.activeSubstates();
this.substates[e]&&(0<=a.length&&a[0].name!==e&&a.forEach(function(c){c.exit()}),this.substates[e].enter(void 0,c))},changeToDefaultSubstate:function(e){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,e)},activeSubstates:function(){var e=[],c;for(c in this.substates)this.substates.hasOwnProperty(c)&&this.substates[c].active&&e.push(this.substates[c]);return e}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(h,a,g,f,d){return h(d,{constructor:function(){this.connection={}},enable:function(){a.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=g.after(this.context,this.name,a.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],
function(h){return h([],{constructor:function(a){this.name="";this.context={};this.triggerHandler=a.triggerHandler||function(){};h.safeMixin(this,a)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(h,a,g,f,d){return h(d,{constructor:function(){var a=this.name.split(" ");(2>a.length||"subscribe"!==a[0])&&f.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");
this.messageId=a[1]||"";this.subscrition={}},enable:function(){this.subscription=g.subscribe(this.messageId,a.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(h,a,g,f,d){return h(d,{constructor:function(){var a=this.name.split(" ");(2>a.length||"response"!==a[0]&&"fault"!==a[0])&&g.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!f.registerResponseHandler||!f.registerFaultHandler)&&g.error("The remote package is not available, this type of trigger will not work.");this.messageId=a[1]||"";this.handlerType=a[0]},enable:function(){"response"===this.handlerType?f.registerResponseHandler(this.messageId,a.hitch(null,this.triggerHandler,this.name)):f.registerFaultHandler(this.messageId,a.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?f.deregisterResponseHandler(this.messageId):f.deregisterFaultHandler(this.messageId)}})})},
"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){var n=this,p;p={reset:function(){var q=[],r=new d,s=new l({faultManager:r}),t=new b({responseManager:s});p.faultManager=r;p.responseManager=s;p.requestManager=t;p._serviceRegistryLookup=
c;p._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var u=p.proxyClient=new g;p.createUploadIframeTarget=h.hitch(u,u.createUploadIframeTarget);p.cancelUpload=h.hitch(u,u.cancelUpload);e.setIframeProxyClientForEndPoint(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,u);e.setIframeProxyClientForEndPoint(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,u);m.construct=function(c){c=c||{};e.getRoutingHost(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||p.setEndpoint();
c.allowedMessages=q;c.sendMessage=p.sendMessage;c.computeSessionId=p.getComputeSessionId;return new f(c)};p.registerEndpointLevelFaultHandler=h.hitch(r,r.registerEndpointLevelFaultHandler);p.sendMessage=h.hitch(t,t.sendMessage);p.registerDefaultMessageFactory=h.hitch(t,t.registerDefaultMessageFactory);p.deregisterDefaultMessageFactory=h.hitch(t,t.deregisterDefaultMessageFactory);p.registerResponseHandler=h.hitch(s,s.registerResponseHandler);p.deregisterResponseHandler=h.hitch(s,s.deregisterResponseHandler);
p.registerFaultHandler=h.hitch(r,r.registerFaultHandler);p.deregisterFaultHandler=h.hitch(r,r.deregisterFaultHandler);p.registerTopLevelFaultHandler=h.hitch(r,r.registerTopLevelFaultHandler);p.deregisterTopLevelFaultHandler=h.hitch(r,r.deregisterTopLevelFaultHandler);p.setServiceEndPoint=function(c,a,b){e.setRoutingHostAndRoutingKey(c,a,b)};p.setServicePathSuffixForEndPoint=function(c,a){e.setPathSuffixForEndPoint(c,a)};p.ignoreTopLevelFault=p.registerTopLevelFaultHandler;p.setComputeToken=function(c){p._uploadIframeProxyUrlParameters[1]=
c.computeSessionId;t.computeToken=c};p.setWorkerEndpoint=function(c,a){p._uploadIframeProxyUrlParameters[3]=a;e.setRoutingHostAndRoutingKey(e.getEndPointNames().WORKER_ENDPOINT,c,a)};p.setEndpoint=function(c){c||(c=p._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),c||(k.info("ServiceRegistryLookup is empty, falling back to localhost"),c="/"));if(!c||"/"===c)c=n.location.protocol+"//"+n.location.host+"/";e.setRoutingHostAndRoutingKey(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,c);
e.setRoutingHostAndRoutingKey(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,c);u.setRemotePageHost(c)};p.setAllowedMessages=function(c){q=c};p.allowAllMessages=function(){q=[]};p.getEndPoint=function(){return e.getRoutingHost(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};p.getUploadIframeProxyUrl=function(){var c=p.getWorkerRoutingHost();"/"===c.slice(-1)&&(c=c.slice(0,-1));return c+u.getUploadIframeProxyUrlPath()+p._uploadIframeProxyUrlParameters.join("")};p.getComputeSessionId=function(){return t.computeToken?
t.computeToken.computeSessionId:12345};p.getWorkerRoutingHost=function(){var c=e.getRoutingHost(e.getEndPointNames().WORKER_ENDPOINT);return c?c:location.protocol+"//"+location.host+"/"};p.getWorkerRoutingKey=function(){return e.getRoutingKey(e.getEndPointNames().WORKER_ENDPOINT)};p.getServiceRegistryEndpoint=function(c){return p._serviceRegistryLookup.getServiceRegistryEndpoint(c)};p.enableServerOnWorkerAsync=function(){e.enableEndPoint(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)};p.disableServerOnWorkerAsync=
function(){e.disableEndPoint(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)};p.isServerOnWorkerAsyncEnabled=function(){return e.isEndPointEnabled(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)};p.enableServerOnWorker=function(){e.enableEndPoint(e.getEndPointNames().WORKER_ENDPOINT)};p.disableServerOnWorker=function(){e.disableEndPoint(e.getEndPointNames().WORKER_ENDPOINT)};p.isWorkerEndpointEnabled=function(){return e.isEndPointEnabled(e.getEndPointNames().WORKER_ENDPOINT)};p.setWorkerOnlyMessageTypes=
function(c){e.setMessageTypesToEndPoint(e.getEndPointNames().WORKER_ENDPOINT,c)};a.after(u,"onError",function(c){c&&r.handleNonTransactionFault(c)},!0)}};p.reset();return p})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare","mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(h,a,g){return h([a],{constructor:function(a){a=a||{};this.proxyClient=a.proxyClient;this.workerProxyClient=a.workerProxyClient;this.routingHost=a.routingHost;this.routingKey=
a.routingKey;this.computeSessionId=a.computeSessionId},_doSend:function(a){return g.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(a,g.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),function(h,a,g,f,d,b){return h(b,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var b=
null;d.isEndpointMessageContainerBased(this.endPointName)?(b={uuid:this.uuid,messages:a},this.computeToken&&(b.computeToken=this.computeToken)):Object.keys(a).forEach(function(e){b=a[e]});this._sanitizeForJson(b);return g.toJson(b)},_sanitizeForJson:function(a){var b;if(f.isArray(a))a.forEach(this._sanitizeForJson,this);else if(f.isObject(a))for(b in a)a.hasOwnProperty(b)&&(void 0===a[b]?delete a[b]:(f.isObject(a[b])||f.isArray(a[b]))&&this._sanitizeForJson(a[b]))},_doSend:function(b){return a.post({url:this._getEndpoint(),
contentType:"application/json",handleAs:"json",postData:b})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],
function(h){var a=null;null===a&&(a=new h);return a})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(h,a,g){return h([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),
iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},
WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,
enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(a,d,b,l,m){this.endPointsCollection[a]={routingHost:"",routingKey:"",pathSuffix:b,enabled:d,messages:[],iframeProxy:null,iframeProxyName:l,acceptsMessageContainerMessages:m}},getPathSuffixForEndPoint:function(a){return this.endPointsCollection[a].pathSuffix},setPathSuffixForEndPoint:function(a,
d){this.endPointsCollection[a].pathSuffix=d},getEndPointNames:function(){var a={},d;for(d in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(d)&&(a[d]=d);return a},setRoutingHostAndRoutingKey:function(a,d,b){d&&d.lastIndexOf("/")!==d.length-1&&(d+="/");this.endPointsCollection[a].routingHost=d;b&&(this.endPointsCollection[a].routingKey=b);d&&this._setIframeRoutingHostAndRoutingkey(a)},_setIframeRoutingHostAndRoutingkey:function(a){var d=this.getIframeProxyClientForEndPoint(a);d&&
d.setRemotePageHost(this.endPointsCollection[a].routingHost,this.endPointsCollection[a].routingKey,null,this.endPointsCollection[a].iframeProxyUrl)},getRoutingHost:function(a){return this.endPointsCollection[a].routingHost},getRoutingKey:function(a){return this.endPointsCollection[a].routingKey},getMessageTypesMappedToEndPoint:function(a){return this.endPointsCollection[a].messages},isEndPointEnabled:function(a){return this.endPointsCollection[a].enabled},setMessageTypesToEndPoint:function(a,d){this.endPointsCollection[a].messages=
d},enableEndPoint:function(a){this.endPointsCollection[a].enabled=!0},disableEndPoint:function(a){this.endPointsCollection[a].enabled=!1},getEndPointForMessageType:function(f){var d=null,b;for(b in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(b)&&(d=-1<a.lastIndexOf(this.endPointsCollection[b].messages,f)?b:d))if(this.isEndPointEnabled(d))break;else d=null;return d?d:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(a){var d=this.endPointsCollection[a].routingHost+
this.endPointsCollection[a].pathSuffix;this.endPointsCollection[a].routingKey&&(d=d+"?routingkey\x3d"+this.endPointsCollection[a].routingKey);return d},setIframeProxyClientForEndPoint:function(a,d){this.endPointsCollection[a].iframeProxy=d},getIframeProxyClientForEndPoint:function(a){var d=this.endPointsCollection[a].iframeProxy;d||(d=new g(this.endPointsCollection[a].iframeProxyName),this.endPointsCollection[a].iframeProxy=d);return d},isEndpointMessageContainerBased:function(a){return a&&this.endPointsCollection[a]?
this.endPointsCollection[a].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(a,d){this.endPointsCollection[a]&&-1===this.endPointsCollection[a].messages.indexOf(d)&&this.endPointsCollection[a].messages.push(d)},removeMessageTypesFromEndPoint:function(a,d){if(this.endPointsCollection[a]){var b=this.endPointsCollection[a].messages.indexOf(d);-1<b&&this.endPointsCollection[a].messages.splice(b,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred",
"dojo/_base/lang","mw-remote/RemoteEndPointsManager","mw-utils/Utils"],function(h,a,g,f,d){return h([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(a,
d,m){if(d){var e=f.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[a]||(this.requestMessages[a]=[]);g.isArray(d)?d.forEach(function(e){this.addRequestMessage(a,e,m)},this):e?(d.uuid=d.uuid||this._generateUuid(),m&&(this.uuidClassifierMap[d.uuid]=m),this.requestMessages[a].push(d)):this.requestMessages[a]=d;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var d={};this.getRequestMessageTypes().forEach(function(f){if(0===this.allowedMessages.length||
0<=this.allowedMessages.indexOf(f))d[f]=a[f]},this);return d},getResponseMessageTypes:function(){var a,d=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&d.push(a);return d},getRequestMessageTypes:function(){var a,d=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&d.push(a);return d},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();
this._isEmpty(this.requestMessages)?(this.deferred=new a,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,d){if(-1<this.getRequestMessageTypes().indexOf(a))if(d)for(var f in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(f)&&(d&&this.uuidClassifierMap[f]===d)&&this.ignoreMessageTypes.push(a+
":"+d);else this.ignoreMessageTypes.push(a)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&g.isArray(this.requestMessages[a])&&0===d.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},_isEmpty:function(a){for(var d in a)if(a.hasOwnProperty(d))return!1;return!0},_generateUuid:function(){return d.generateUuid()}})})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(h,a,g,f){return a([],{constructor:function(a){a=a||{};this.faultHandlers=a.faultHandlers||{};this.topLevelHandlers=a.topLevelHandlers||[];this.endPointLevelHandlers=a.endPointLevelHandlers||{}},registerFaultHandler:function(a,b,f){f&&(b=g.hitch(f,b));this.faultHandlers[a]=b},deregisterFaultHandler:function(a){delete this.faultHandlers[a]},registerTopLevelFaultHandler:function(a,b,f){f&&(b=g.hitch(f,b));if(g.isString(a)){if("*"===
a)return a={matcher:a,handler:b},this.defaultTopLevelHandler=b,a;a=this._constructMatcherFromQuery(a)}a={matcher:a,handler:b};this.topLevelHandlers.push(a);return a},registerEndpointLevelFaultHandler:function(a,b,f,m){m&&(f=g.hitch(m,f));g.isString(b)&&(b=this._constructMatcherFromQuery(b));b={matcher:b,handler:f};this.endPointLevelHandlers[a]||(this.endPointLevelHandlers[a]=[]);this.endPointLevelHandlers[a].push(b);return b},deregisterTopLevelFaultHandler:function(a){var b=this.topLevelHandlers.indexOf(a);
-1<b?this.topLevelHandlers.splice(b,1):"*"===a.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(a){var b=[];a.split("||").forEach(function(a){a=g.trim(a);a=a.replace(/([\.])/g,"\\$1");a=a.replace(/\*/g,".*");b.push(RegExp("^"+a+"$"))});return function(a){return h.some(b,function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(a){var b,f=function(e,b){var c;if(c=a.getMessageClassifier(b))if(c=[e,c].join(":"),this.faultHandlers[c])this.faultHandlers[c](a.fault,
a.context)};for(b in a.requestMessages)if(a.requestMessages.hasOwnProperty(b)){if(this.faultHandlers[b])this.faultHandlers[b](a.fault,a.context);var m=a.requestMessages[b];Array.isArray(m)&&m.forEach(g.hitch(this,f,b))}if(this.faultHandlers["*"])this.faultHandlers["*"](a.fault,a.context);this.endPointLevelHandlers[a.endPointName]?this._handleEndpointLevelFault(a):this._handleTopLevelFault(a)},_handleEndpointLevelFault:function(a){var b=!1,f=h.filter(this.endPointLevelHandlers[a.endPointName],function(b){return b.matcher.call(this,
a.fault,a.context)},this);0<f.length&&f[0].handler&&(b=!0,f[0].handler.call(this,a.fault,a.context,a));return b},_handleTopLevelFault:function(a){var b=h.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,a.fault,a.context)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,a.fault,a.context,a)},handleNonTransactionFault:function(a){var b=h.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,a)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&
b.call(this,a)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),function(h,a,g,f,d,b,l){return a([],{defaultMapping:b,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(a,
e,b){b&&(e=f.hitch(b,e));this.defaultFactories[a]=e},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(a,e,b){var c=this;e=f.hitch(b||this,e);this.mockHandlers[a]=function(a,b){var k,d=l.construct(b);k=e(a,d);k||(k=new g,k.callback());k.addCallback(function(){c.responseManager._processResult(d)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},sendMessage:function(a,e,b){var c={},d={};e=e||{};this._createAndFillTransactions(a,
e,b,c,d);a=Object.keys(c);for(e=0;e<a.length;e+=1)b=a[e],this._callMocks(d[b]),c[b].send(),this.responseManager.handleTransaction(c[b])},_getTransaction:function(a,e){return l.construct({context:e,computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,e,b){return l.construct({context:e,computeToken:this.computeToken,endPointName:a,uuid:b})},_createAndFillTransactions:function(a,e,b,c,f){var l,g,r=function(a){var b,k,l,m,g;b=d.getEndPointForMessageType(a);m=c[b];g=f[b];m||
(m=this._getTransaction(b,e),g=this._getMockTransaction(b,e,m.uuid),c[b]=m,f[b]=g);if(this.defaultFactories[a]&&(b=this.defaultFactories[a](m.context)))k=a.split(":"),l=k[0],k=k.slice(1,k.length).join(":"),this.mockHandlers[a]||m.addRequestMessage(l,b,k),g.addRequestMessage(l,b,k)},h,t;for(l in a)a.hasOwnProperty(l)&&(g=d.getEndPointForMessageType(l),h=f[g],t=c[g],c[g]||(t=this._getTransaction(g,e),h=this._getMockTransaction(g,e,t.uuid),c[g]=t,f[g]=h),g=[l,b].join(":"),!this.mockHandlers[l]&&!this.mockHandlers[g]&&
t.addRequestMessage(l,a[l],b),h.addRequestMessage(l,a[l],b),this.mapping[g]?this.mapping[g].forEach(r,this):this.mapping[l]&&this.mapping[l].forEach(r,this))},_callMocks:function(a){var e,b,c=a.context;delete a.context;var d=function(c,a){var b;if(b=e.getMessageClassifier(a))if(b=[c,b].join(":"),this.mockHandlers[b])this.mockHandlers[b]([a],e)};for(b in a.requestMessages)if(a.requestMessages.hasOwnProperty(b)){e=f.mixin({},a);e.context=c;if(this.mockHandlers.hasOwnProperty(b))this.mockHandlers[b](e.requestMessages[b],
e);Array.isArray(e.requestMessages[b])?e.requestMessages[b].forEach(f.hitch(this,d,b)):d(b,e.requestMessages[b])}if(this.mockHandlers["*"])this.mockHandlers["*"](b,e.requestMessages[b],e)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],
"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},
"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),function(h,a,g,f,d,b,l){return a([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(a,e,b){b&&(e=d.hitch(b,e));this.responseHandlers[a]=e},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},
handleTransaction:function(a){this.transactions.push(a);a.deferred.addCallback(d.hitch(this,this._processAll,a));a.deferred.addCallback(d.hitch(this,this._processResult,a));a.deferred.addErrback(d.hitch(this,this._processAll,a));a.deferred.addErrback(d.hitch(this,this._processFault,a))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},_processResult:function(a){a.getResponseMessageTypes().forEach(function(e){var k=a.responseMessages[e],c=[];try{if(Array.isArray(k)){k.forEach(function(b){var k,
d=a.getMessageClassifier(b);if(d){k=[e,d].join(":");var f=this,l=!1;a.getRequestMessageTypes().forEach(function(c){c=a.requestMessages[c];Array.isArray(c)?c.forEach(function(c){f.responseHandlers[k]&&c.uuid===b.uuid&&(f.responseHandlers[k]([b],a.context),l=!0)}):f.responseHandlers[k]&&c.uuid===b.uuid&&(f.responseHandlers[k]([b],a.context),l=!0)});l||c.push(b)}else c.push(b)},this);if(0<c.length&&this.responseHandlers[e])this.responseHandlers[e](c,a.context);if(this.responseHandlers["*"])this.responseHandlers["*"](e,
a.responseMessages[e],a.context)}}catch(d){b.error("Remote: Fault occurred while processing response.\nMessage: "+d.message+"\nType: "+e+"\nResponse: "+f.toJson(k))}},this);this._processUdcResponses(a);a.fault&&this.faultManager.handleFault(a)},_processUdcResponses:function(a){if(!l.isEndpointMessageContainerBased(a.endPointName)){var e=Object.keys(a.requestMessages)[0];if(this.responseHandlers[e])this.responseHandlers[e](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)}})})},
"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(h,a){var g=!1,f={_serviceData:{},getServiceRegistryEndpoint:function(a){if(f._serviceData.serviceregistry){var b,l;b=f._serviceData.serviceregistry.length;for(l=0;l<b;l+=1)if(f._serviceData.serviceregistry[l].name===a)return f._serviceData.serviceregistry[l].endpoint}return""}};return{load:function(a,b,l){g?l(f):h("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!b.async}).then(function(a){f._serviceData=
a;g=!0;l(f)},function(a){f._serviceData={};g=!0;l(f)})}}})},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(h,a,g,f){return h(f,{constructor:function(){var a=this.name.split(" ");(2>a.length||"timeout"!==a[0])&&g.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(a[1]);this.handlerType=a[0]},enable:function(){this.disable();this.timeoutHandle=
setTimeout(a.hitch(null,this.triggerHandler,this.name),1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(h,a,g){return h([],{constructor:function(a){this.state={};this.target="";this.action=this.condition=null;h.safeMixin(this,a)},handleTrigger:function(a,d){var b="";this.checkCondition(a,d)&&
(this.runAction(a,d),b=this.getTarget(a,this.target,d));return b},checkCondition:function(f,d){return!this.condition?!0:a.hitch(this.state.context,this.condition).apply(null,[f,this.state.data].concat(d))},runAction:function(f,d){var b;this.action&&(b=a.hitch(this.state.context,this.action),b.apply(null,[f,this.state.data].concat(d)))},getTarget:function(f,d,b){var l,m,e;if(a.isString(d))m=d;else if(a.isFunction(d))d=a.hitch(this.state.context,d),m=d.apply(null,[f,this.state.data].concat(b));else if(a.isArray(d))for(l=
0;l<d.length;l+=1){m=this.getTarget(f,d[l],b);if(a.isString(m)){m={target:m};a.mixin(m,e);break}if(m&&m.target){a.mixin(m,e);break}e=m||{}}else g.warn("Transition: improper target: ",d);return m}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(h,a,g,f,d,b,l){return h([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions=
{context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",
_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,
stop:"disconnected"}}}}},setDelegate:function(d){if(this._delegate!==d){this._delegate=d;var e=this;g.after(d,"onConnectionError",function(){l.warn("MessageService received connection error, reconnecting");e._reconnect()},!0);this._states=new b(this._stateOptions);g.after(this._states,"onEnterState",a.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var e=this._currentState;this._currentState=a;this.logStateChanges&&l.info("MessageService state change: "+
e+" -\x3e "+a);if("connected"===e)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;l.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&l.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(l.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function a(e){c.push(this._delegate.doSubscribe(e.channel))}
var e,b,c=[];this._delegate.doStartBatch();for(e in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(e)&&(b=this.channelSubscriptions[e],b.forEach(a,this),this.channelSubscriptions[e].subscribed=!0);this._delegate.doEndBatch();d(c).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&l.info("Successfully connected."),
this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(h,a,g){var f=h.some;return function(d){var b,l;d instanceof Array?l=d:d&&"object"===typeof d&&
(b=d);var m,e=[];if(b){l=[];for(var k in b)Object.hasOwnProperty.call(b,k)&&(e.push(k),l.push(b[k]));m={}}else l&&(m=[]);if(!l||!l.length)return(new a).resolve(m);var c=new a;c.promise.always(function(){m=e=null});var n=l.length;f(l,function(a,k){b||e.push(k);g(a,function(a){c.isFulfilled()||(m[e[k]]=a,0===--n&&c.resolve(m))},c.reject);return c.isFulfilled()});return c.promise}})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred",
"mw-log/Log"],function(h,a,g){return h([],{pollDelay:50,constructor:function(a,d){this.remote=a;this.messageService=d;this.pending=0;a.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);a.registerResponseHandler("OpaqueMessageResponse",function(a){this.pending-=1;a.forEach(function(a){try{a.opaqueMessageDOs&&a.opaqueMessageDOs.forEach(d.handleMessage,d)}catch(b){g.error("Error while handling message: "+b)}});this.poll()},this)},onMessage:function(a){},
onConnectionError:function(a){},connect:function(){this.enabled=!0;this.poll();return(new a).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new a).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var a=this;this.timeout=setTimeout(function(){a.pending+=1;a.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});a.timeout=null},this.pollDelay)}},doPublish:function(a,d){clearTimeout(this.timeout);
this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:a,data:d}]}})},doSubscribe:function(a){},doUnsubscribe:function(a){},doStartBatch:function(){},doEndBatch:function(){}})})},"mw-peermodel/PeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./ImageDifferencer ./PagedData ./Serializers".split(" "),function(h,a,g,f,d,b,l,m,e){var k;k=h(null,{_MAX_RETRIES:3,constructor:function(c,
k,m,h,r){this.namespace=c;this.manager=k;this.messageService=m||b.messageService;e.setupSerializers(this.messageService);this._originator={};this.messageCount=0;this.syncEnabled={};this.isClient=void 0===h?!0:!!h;this.clientId="string"===typeof r?r:d.generateUuid();this.imageDifferencer=new l(this._originator);this._queue=[];g.after(this.messageService,"onConnected",a.hitch(this,this._handleConnected));g.after(this.messageService,"onNotConnected",a.hitch(this,this._handleNotConnected));this.messageService.isConnected()?
this._handleConnected():this._handleNotConnected();try{this.addManagerListeners(),this.addMessageSubscriptions()}catch(s){f.error("Not able to create peer synchronizer: "+s)}},remove:function(){this._handleNotConnected();this.removeMessageSubscriptions();this.removeManagerListeners()},_handleNotConnected:function(){this.log("Not connected");this._handshook=this._connected=!1},_handleConnected:function(){this.log("Connected");this._connected=!0;this._startHandshake()},_startHandshake:function(){this.log("Starting handshake");
var c=this.createNewMessage();c.clientId=this.clientId;c.syncEnabled=this.manager.isSyncEnabled();this.publish(this.getChannel("getStatus"),c)},_handshakeComplete:function(){this.log("Handshake complete");this._handshook=!0;this._processQueue()},_processQueue:function(){var c=this._queue;this._queue=[];this.log("Processing queue",c);c.forEach(function(c){this.publish(c.channel,c.message)},this)},shouldSync:function(c){return this.manager.isSyncEnabled()&&(!c||c.originator!==this._originator)},isReady:function(){return this._connected&&
this._handshook},syncChangedObserver:function(){this.syncEnabled[this.clientId]=this.manager.isSyncEnabled();this.manager.isSyncEnabled()?(this.addSyncMessageSubscriptions(),this.addSyncManagerListeners(),this._connected&&this._startHandshake()):(this.removeSyncMessageSubscriptions(),this.removeSyncManagerListeners(),this._handshook=!1)},getStatusSubscriber:function(c){this.log("getStatusSubscriber",c);var a=this.createNewMessage();a.syncEnabled=this.manager.isSyncEnabled();a.clientId=this.clientId;
this.publish(this.getChannel("status"),a);this.statusSubscriber(c)},statusSubscriber:function(c){this.log("Status received",c);this.syncEnabled[c.data.clientId]=c.data.syncEnabled;this.isClient&&this.manager.isSyncEnabled()&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},getFullUpdateSubscriber:function(){this.log("getFullUpdate requested");if(this.manager.isSyncEnabled()){var c=this.createNewMessage();this.manager.hasRoot()&&(c.root=this.convertNodesRecursive(this.manager.getRoot(),
0));this.publish(this.getChannel("fullUpdate"),c);this._handshakeComplete()}},fullUpdateSubscriber:function(c){this.log("fullUpdate received",c);if(this.shouldSync())try{var a=c.data.root;a?(this.manager.hasRoot()&&(a.id!==this.manager.getRoot().getId()||a.type!==this.manager.getRoot().getType())&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete(),this.manager.hasRoot()||this.manager.setRootWithId(a.id,a.type,a.properties,this._originator),this.updateNodeRecursive(this.manager.getRoot(),
a)):(this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete())}catch(e){this._error("Error while trying to do a full update.",c,e)}},rootSetObserver:function(c){this.addNodeListeners(c.target);if(this.shouldSync(c)&&this.isReady()){var a=this.createNewMessage();a.target=this.convertNode(c.target);this.publish(this.getChannel(c.type),a)}},rootSetSubscriber:function(c){this.log("rootSetSubscriber",c);if(this.shouldSync())try{var a=c.data.target;this.manager.hasRoot()&&
this.manager.getRoot().destroy(this._originator);var e=this.manager.setRootWithId(a.id,a.type,a.properties,this._originator);this.updateNodeRecursive(e,a)}catch(b){this._error("Error setting new root.",c,b)}},rootDestroyedObserver:function(c){if(this.shouldSync(c)&&this.isReady()){var a=this.createNewMessage();a.targetId=c.target.getId();this.publish(this.getChannel(c.type),a)}},rootDestroyedSubscriber:function(c){this.log("rootDestroyedSubscriber",c);if(this.shouldSync())try{this.manager.hasRoot()&&
this.manager.getRoot().getId()===c.data.targetId?this.manager.getRoot().destroy(this._originator):this._error("Tried to unset the wrong root.",c)}catch(a){this._error("Error destroying root.",c,a)}},childMovedObserver:function(c){if(this.shouldSync(c)&&this.isReady()){var a=this.createNewMessage();a.targetId=c.target.getId();a.oldParentId=c.data.oldParent.getId();a.oldIndex=c.data.oldIndex;a.newParentId=c.data.newParent.getId();a.newIndex=c.data.newIndex;this.publish(this.getChannel(c.type),a)}},
childMovedSubscriber:function(c){this.log("childMovedSubscriber",c);if(this.shouldSync())try{var a=c.data,e=this.manager.getById(a.targetId),b=this.manager.getById(a.newParentId);this.manager.move(e,b,a.newIndex,this._originator)}catch(k){this._error("Error while trying to move.",c,k)}},childAddedObserver:function(a){var e=a.data.child;this.addNodeListeners(e);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.parentId=a.target.getId();b.child=this.convertNode(e);b.index=a.data.index;
this.publish(this.getChannel("subTreeAdded"),b)}},subTreeAddedSubscriber:function(a){this.log("subTreeAddedSubscriber",a);if(this.shouldSync())try{var e=a.data.child,b=this.manager.getById(a.data.parentId).addChildWithId(e.id,e.type,e.properties,a.data.index,this._originator);this.updateNodeRecursive(b,e)}catch(k){this._error("Error while trying to add a subtree of nodes.",a,k)}},childDetachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var e=this.createNewMessage();e.childId=a.data.child.getId();
this.publish(this.getChannel(a.type),e)}},childDetachedSubscriber:function(a){this.log("childDetachedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).detach(this._originator)}catch(e){this._error("Error while trying to detach.",a,e)}},childReattachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var e=this.createNewMessage();e.childId=a.data.child.getId();e.index=a.data.index;this.publish(this.getChannel(a.type),e)}},childReattachedSubscriber:function(a){this.log("childReattachedSubscriber",
a);if(this.shouldSync())try{var e=a.data;this.manager.getById(e.childId).reattach(e.index,this._originator)}catch(b){this._error("Error while trying to reattach.",a,b)}},subTreeDestroyedObserver:function(a){var e=a.data.child;this.removeNodeListenersRecursive(e);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=e.getId();this.publish(this.getChannel(a.type),b)}},subTreeDestroyedSubscriber:function(a){this.log("subTreeDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).destroy(this._originator)}catch(e){this._error("Error while trying to destroy subtree.",
a,e)}},propertiesSetObserver:function(a){if(this.shouldSync(a)&&this.isReady()&&!this.isClient){var e=[],b=this.createNewMessage(),k;b.targetId=a.target.getId();var f=a.data.newValues,l=a.data.oldValues;for(k in f)if(f.hasOwnProperty(k)&&d.isImageData(f[k])){var m=l[k];if(m&&d.isImageData(m)){e.push(k);var g=this.createNewMessage();g.targetId=a.target.getId();g.key=k;g.newValue=this.imageDifferencer.computeImageDataDifferences(m,f[k]);this.publish(this.getChannel("imageUpdate"),b)}}e.forEach(function(e){delete a.data.newValues[e]});
b.properties=a.data.newValues;this.publish(this.getChannel(a.type),b)}},propertiesSetSubscriber:function(a){this.log("propertiesSetSubscriber",a);if(this.shouldSync()||this.isClient)try{var e=a.data,b=this.manager.getById(e.targetId),k;for(k in e.properties)e.properties.hasOwnProperty(k)&&(e.properties[k]instanceof Image?this.imageDifferencer.updatePropertyWithImage(b,k,e.properties[k]):(b.setProperty(k,e.properties[k],this._originator),this._updateNodePagedData(b)))}catch(d){this._error("Error while trying to update properties.",
a,d)}},imageUpdateSubscriber:function(a){this.log("imageUpdateSubscriber",a);if(this.shouldSync())try{var e=a.data,b=this.manager.getById(e.targetId);this.imageDifferencer.applyImageDifferences(b,e.key,e.newValue)}catch(k){this._error("Error while trying to update images.",a,k)}},propertiesUnsetObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var e,b=this.createNewMessage();b.targetId=a.target.getId();b.keys=[];for(e in a.data.oldValues)a.data.oldValues.hasOwnProperty(e)&&b.keys.push(e);
this.publish(this.getChannel(a.type),b)}},propertiesUnsetSubscriber:function(a){this.log("propertiesUnsetSubscriber",a);if(this.shouldSync())try{var e=a.data;this.manager.getById(e.targetId).unsetProperties(e.keys,this._originator)}catch(b){this._error("Error while trying to unset properties.",a,b)}},peerEventObserver:function(a){var e=this.createNewMessage();e.targetId=a.target.getId();e.data=a.data;var b=this.getChannel(a.type);this.shouldSync(a)&&(this.isReady()?this.publish(b,e):this._queue.push({channel:b,
message:e}))},peerEventSubscriber:function(a){this.log("peerEventSubscriber",a);if(this.shouldSync())try{var e=a.data,b=this.manager.getById(e.targetId);b.dispatchEvent("peerEvent",b,e.data,this._originator)}catch(k){this._error("Error while trying dispatch a peer event.",a,k)}},publish:function(a,e,b){this.log("Publishing message",a,e);var k=this.messageService.publish(a,e),d=this;b=void 0===b?this._MAX_RETRIES:b;k.then(void 0,function(){0<b?(f.warn("Error sending message (will retry "+b+"): ",a,
e),d.publish(a,e,b-1)):d._error("Error sending message, retry didn't work.",a,e)})},getChannel:function(a){return"/peermodel"+this.namespace+"/"+a},createNewMessage:function(){this.messageCount+=1;return{message:this.messageCount}},log:function(){if(this.namespace===k.debugNamespace){var a=Array.prototype.slice.call(arguments),a=["PeerSynchronizer ("+this.namespace+")"].concat(a);f.info.apply(f,a)}},convertNodesRecursive:function(a,e){var b=this.convertNode(a,e),k=[],d=a.getChildren(),f;for(f=0;f<
d.length;f+=1)k.push(this.convertNodesRecursive(d[f],f));b.children=k;return b},convertNode:function(a,e){e=e||0;return{id:a.getId(),type:a.getType(),index:e,properties:a.getProperties()}},updateNodeRecursive:function(a,e){for(var b,k,d,f,l,m=a?[a]:[],g=e?[e]:[];0<g.length;){a=m.pop();e=g.pop();b=this._getFilteredPropertyKeys(e.properties);if(!a._handled){a._handled=!0;k=a.getProperties();d=Object.keys(k);l=d.length;for(f=0;f<l;f+=1)b.filtered[d[f]]=k[d[f]]}a.replaceProperties(b.filtered,this._originator);
this._updateNodePagedData(a,k);this._updateNodeImageProperties(a,e.properties,b.images);this._destroyOldChildren(a,e);this._addNewChildren(a,e);this._updateChildIndices(a,e);m=m.concat(a.getChildren());e.children&&(g=g.concat(e.children))}},_destroyOldChildren:function(a,e){var b,k=a.getChildren();for(b=0;b<k.length;b+=1)this._dataHasChild(e,k[b])||k[b].destroy(this._originator)},_addNewChildren:function(a,e){var b,k,d;if(e.children)for(b=0;b<e.children.length;b+=1)k=e.children[b],a.hasChild(k.id)||
(d=this._getFilteredPropertyKeys(k.properties),a.addChildWithId(k.id,k.type,d.filtered,b,this._originator))},_updateChildIndices:function(a,e){var b,k;if(e.children)for(b=0;b<e.children.length;b+=1)k=e.children[b],k=a.getChild(k.id),a.getChildIndex(k)!==b&&this.manager.move(k,a,b,this._originator)},_dataHasChild:function(a,e){var b;if(a.children)for(b=0;b<a.children.length;b+=1)if(a.children[b].id===e.getId()&&a.children[b].type===e.getType())return!0;return!1},_error:function(a,e,b){f.error(a,e,
b);this.manager.isSyncEnabled()&&this.isClient&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},_getFilteredPropertyKeys:function(a){var e={},b=[],k;for(k in a)a.hasOwnProperty(k)&&(null!==a[k]&&void 0!==a[k])&&(a[k]instanceof Image?b.push(k):e[k]=a[k]);return{filtered:e,images:b}},_updateNodePagedData:function(a,e){var b;e||(e=a.getProperties());for(b in e)e.hasOwnProperty(b)&&e[b]instanceof m&&e[b].setPeerNode(a,b)},_updateNodeImageProperties:function(a,e,b){var k;for(k=
0;k<b.length;k+=1)this.imageDifferencer.updatePropertyWithImage(a,b[k],e[b[k]])},addMessageSubscriptions:function(){this._messageSubscribed||(this._onConnectedSub=g.after(this.messageService,"onReconnected",a.hitch(this,"syncChangedObserver")),this.messageService.subscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!0);this.manager.isSyncEnabled()&&this.addSyncMessageSubscriptions()},removeMessageSubscriptions:function(){this._messageSubscribed&&(this._onConnectedSub.remove(),
this.messageService.unsubscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!1);this.removeSyncMessageSubscriptions()},syncMessageChannels:"status getFullUpdate fullUpdate rootSet rootDestroyed childMoved childDetached childReattached subTreeAdded subTreeDestroyed propertiesSet propertiesUnset imageUpdate peerEvent".split(" "),addSyncMessageSubscriptions:function(){this._syncMessageSubscribed||(this.log("addSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.subscribe(this.getChannel(a),
a+"Subscriber",this)},this),this._syncMessageSubscribed=!0)},removeSyncMessageSubscriptions:function(){this._syncMessageSubscribed&&(this.log("removeSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.unsubscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!1)},addManagerListeners:function(){this._managerListeners||(this.manager.addSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!0);this.manager.isSyncEnabled()&&
this.addSyncManagerListeners()},removeManagerListeners:function(){this._managerListeners&&(this.manager.removeSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!1);this.removeSyncManagerListeners()},addSyncManagerListeners:function(){this._syncManagerListeners||(this.manager.addSyncEventListener("rootSet","rootSetObserver",this),this.manager.addSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.addSyncEventListener("childMoved","childMovedObserver",
this),this.manager.hasRoot()&&this.addNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!0)},removeSyncManagerListeners:function(){this._syncManagerListeners&&(this.manager.removeSyncEventListener("rootSet","rootSetObserver",this),this.manager.removeSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.removeSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.removeNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=
!1)},nodeEvents:"childAdded subTreeDestroyed childDetached childReattached propertiesSet propertiesUnset peerEvent partialUpdate".split(" "),addNodeListeners:function(a){this.nodeEvents.forEach(function(e){a.addSyncEventListener(e,e+"Observer",this)},this)},removeNodeListeners:function(a){this.nodeEvents.forEach(function(e){a.removeSyncEventListener(e,e+"Observer",this)},this)},addNodeListenersRecursive:function(a){this.addNodeListeners(a);var e=a.getChildren();for(a=0;a<e.length;a+=1)this.addNodeListenersRecursive(e[a])},
removeNodeListenersRecursive:function(a){this.removeNodeListeners(a);var e=a.getChildren();for(a=0;a<e.length;a+=1)this.removeNodeListenersRecursive(e[a])}});k.debugNamespace="/change this to debug something";return k})},"mw-peermodel/ImageDifferencer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mw-utils/Deferred mw-utils/DeferredList mw-log/Log".split(" "),function(h,a,g,f,d,b){return h([],{_updateQueue:{},constructor:function(a){this._canvas=g.create("canvas");this._context=
this._canvas.getContext("2d");this._originator=a},computeImageDataDifferences:function(a,b){return[{x:0,y:0,image:b}]},applyImageDifferences:function(a,f,e){var k,c=e.length,g=this;if(0!==c){var p=this._createQueuedDeferred(a,f);p.name="applyImageDifferences deferred";var h=[];for(k=0;k<c;k+=1)h.push(this._wrapImageInDeferred(e[k].image));k=new d(h,!1,!0,!1);var r=g._updateQueue[a.getId()+f][g._updateQueue[a.getId()+f].length-2];k.then(function(){r?r.then(function(){g._applyLoadedImageDifferences(a,
f,e,p)}):g._applyLoadedImageDifferences(a,f,e,p)},function(){b.log("rejecting deferred applyImageDifferences");p.reject();g._cancelQueuedDeferreds(a,f)});return p}},updatePropertyWithImage:function(a,b,e){var k=this._wrapImageInDeferred(e),c=this._createQueuedDeferred(a,b);c.name="updateImage deferred";var d=this;k.then(function(){d._canvas.width=e.width;d._canvas.height=e.height;d._context.drawImage(e,0,0,e.width,e.height);var k=d._context.getImageData(0,0,d._canvas.width,d._canvas.height);a.setProperty(b,
k,d._originator);d._cancelQueuedDeferreds(a,b,c);c.isCanceled()||c.resolve()},function(){c.isCanceled()||c.reject()});return c},_applyLoadedImageDifferences:function(a,b,e,k){var c=a.getProperty(b);this._canvas.width=c.width;this._canvas.height=c.height;this._context.putImageData(c,0,0);for(c=0;c<e.length;c+=1)this._context.beginPath(),this._context.clearRect(e[c].x,e[c].y,e[c].image.width,e[c].image.height),this._context.closePath(),this._context.drawImage(e[c].image,e[c].x,e[c].y);e=this._context.getImageData(0,
0,this._canvas.width,this._canvas.height);a.setProperty(b,e,this._originator);k.resolve()},_wrapImageInDeferred:function(a){var d=new f;d.name="wrapImage deferred";var e=function(){setTimeout(function(){a.onload&&(d.resolve(),a.onload=null,a.onerror=null)},0)};a.onload=e;a.onerror=function(){b.log("Error loading image");d.reject();a.onload=null;a.onerror=null};a.complete&&0<a.src.length&&e();return d},_createQueuedDeferred:function(b,d){var e;e=new f;var k=a.hitch(this,this._removeDeferredFromQueue,
b,d,e);e.then(k,k);this._updateQueue[b.getId()+d]=this._updateQueue[b.getId()+d]||[];this._updateQueue[b.getId()+d].push(e);return e},_removeDeferredFromQueue:function(a,b,e){void 0===this._updateQueue[a.getId()+b]?delete this._updateQueue[a.getId()+b]:(e=this._updateQueue[a.getId()+b].indexOf(e),0<=e&&this._updateQueue[a.getId()+b].splice(e,1),0===this._updateQueue[a.getId()+b].length&&(this._updateQueue[a.getId()+b]=void 0,delete this._updateQueue[a.getId()+b]))},_cancelQueuedDeferreds:function(a,
b,e){for(var k=this._updateQueue[a.getId()+b];k&&0<k.length;){var c=k.shift();if(e&&c===e)return;c.cancel("Queued deferreds cancelled")}this._updateQueue[a.getId()+b]=void 0;delete this._updateQueue[a.getId()+b]}})})},"mw-utils/Deferred":function(){define([],function(){var h=function(){this._state=0;this._callbacks=[];this._errbacks=[]};h.prototype.then=function(a,g){1===this._state&&a?a():2===this._state&&g?g():(a&&this._callbacks.push(a),g&&this._errbacks.push(g));return this};h.prototype.resolve=
function(){if(0===this._state){for(this._state=1;this._callbacks.length;)this._callbacks.pop()();this._callbacks=[];this._errbacks=[]}};h.prototype.reject=function(){if(0===this._state){for(this._state=2;this._errbacks.length;)this._errbacks.pop()();this._callbacks=[];this._errbacks=[]}};h.prototype.cancel=function(){0===this._state&&(this._state=3,this._callbacks=[],this._errbacks=[])};h.prototype.isCanceled=function(){return 3===this._state};return h})},"mw-utils/DeferredList":function(){define(["./Deferred"],
function(h){var a=function(a){h.apply(this);this._successes=0;this._total=a.length;var f;for(f=0;f<this._total;f+=1)a[f].then(this._callback.bind(this),this.reject.bind(this))};a.prototype=new h;a.prototype.constructor=a;a.prototype._callback=function(){this._successes+=1;this._successes===this._total&&this.resolve()};return a})},"mw-peermodel/PagedData":function(){define(["dojo/_base/declare"],function(h){return h([],{constructor:function(a){a=a||{};this._peerNode=a.peerNode;this._propertyKey=a.propertyKey;
this._partialData=a.partialData||[];this._rowCount=a.rowCount||0;this._columnCount=a.columnCount||0;this._currentStartRow=a.currentStartRow||0;this._currentEndRow=a.currentEndRow||0;this._currentStartCol=a.currentStartCol||0;this._currentEndCol=a.currentEndCol||0;this._queuedOperations=[]},setPeerNode:function(a,g){this._peerNode=a;this._propertyKey=g;var f;for(f=0;f<this._queuedOperations.length;f+=1)this._queuedOperations[f].apply(this);this._queuedOperations=[]},getPartialData:function(){return this._partialData},
getRowCount:function(){return this._rowCount},getColumnCount:function(){return this._columnCount},getCurrentStartRow:function(){return 0<=this._currentStartRow?this._currentStartRow:0},getCurrentEndRow:function(){return this.getCurrentStartRow()+this._partialData.length},getCurrentStartCol:function(){return 0<=this._currentStartCol?this._currentStartCol:0},getCurrentEndCol:function(){return 0<this._partialData.length?Array.isArray(this._partialData[0])?this.getCurrentStartCol()+this._partialData[0].length:
1:0<=this._currentEndCol?this._currentEndCol:0},changeData:function(a,g,f){if(this._peerNode){var d,b;for(d=0;d<f.length;d+=1){var l=this._partialData[a-this._currentStartRow+d],m=f[d];for(b=0;b<m.length;b+=1)l[g-this._currentStartCol+b]=m[b]}var e=this;setTimeout(function(){e._peerNode.dispatchEvent("peerEvent",e._peerNode,{type:"changeData",key:e._propertyKey,startRow:a,startCol:g,newData:f})},0)}else this._queuedOperations.push(function(){this.changeData(a,g,f)})},updatePartialData:function(a,
g,f,d){if(!(a===this._currentStartRow&&f===this._currentStartCol&&g===this._currentEndRow&&d===this._currentEndCol))if(this._peerNode){if("undefined"===typeof f||"undefined"===typeof d)d=f=-1;this._peerNode.dispatchEvent("peerEvent",this._peerNode,{type:"partialUpdate",key:this._propertyKey,startRow:a,startCol:f,endRow:g,endCol:d})}else this._queuedOperations.push(function(){this.updatePartialData(a,g,f,d)})}})})},"mw-peermodel/Serializers":function(){define(["mw-utils/Utils","./PagedData"],function(h,
a){var g={imageSerializer:function(a){this._serializerCanvas||(this._serializerCanvas=document.createElement("canvas"),this._serializerContext=this._serializerCanvas.getContext("2d"));if(this._serializerCanvas.width!==a.width||this._serializerCanvas.height!==a.height)this._serializerCanvas.width=a.width,this._serializerCanvas.height=a.height;this._serializerContext.putImageData(a,0,0);return this._serializerCanvas.toDataURL()},imageDeserializer:function(a){var d=new Image;d.src=a;return d},pagedDataSerializer:function(a){return{rowCount:a.getRowCount(),
columnCount:a.getColumnCount(),currentStartRow:a.getCurrentStartRow(),currentEndRow:a.getCurrentEndRow(),currentStartCol:a.getCurrentStartCol(),currentEndCol:a.getCurrentEndCol(),partialData:a.getPartialData()}},pagedDataDeserializer:function(f){f=g.messageService.deserialize(f);return new a(f)},setupSerializers:function(f){g.messageService=f;f._peerModelSerializersSetup||(f.registerTypeSerializer(h.isImageData,"image",g.imageSerializer),f.registerTypeDeserializer("image",g.imageDeserializer),f.registerTypeSerializer(function(d){return d instanceof
a},"pagedData",g.pagedDataSerializer),f.registerTypeDeserializer("pagedData",g.pagedDataDeserializer));f._peerModelSerializersSetup=!0}};return g})},"mw-peermodel/PeerNode":function(){define("dojo/_base/declare dojo/_base/lang ./Observable ./PeerEventObservable mw-utils/Utils mw-log/Log".split(" "),function(h,a,g,f,d,b){var l=h([f],{getId:function(){},getType:function(){},setProperty:function(a,b,c){},getProperty:function(a){},hasProperty:function(a){},unsetProperty:function(a,b){},setProperties:function(a,
b){},unsetProperties:function(a,b){},replaceProperties:function(a,b){},getProperties:function(){},addChild:function(a,b,c,d){},hasChild:function(a){},getChild:function(a){},getChildIndex:function(a){},getChildren:function(){},hasDescendant:function(a){},getDescendant:function(a){},getNumberOfChildren:function(){},hasDetachedChildren:function(){},getDetachedChildren:function(){},detach:function(a){},reattach:function(a,b){},isDetached:function(){},isAncestorDetached:function(){},destroy:function(a){},
remove:function(){},hasParent:function(){},getParent:function(){},getRoot:function(){},accept:function(a){}}),m;m=h([l,f.Impl,g.Syncable],{constructor:function(e,b,c,d){if(!a.isString(e)||!a.isString(b))throw Error("Node type and ID must be strings");this._type=b;this._id=e;this._idCache=d||{};this._idCache[e]=this;this._properties={};c&&this._setProperties(c,void 0,!0);this._children=[];this._detached=[]},getId:function(){return this._id},getType:function(){return this._type},setProperty:function(a,
b,c){if(null===b||void 0===b)throw Error("Illegal argument. Value must not be null or undefined.");var d=this._setPropertyAndDispatchPropertySetEvent(a,b,c);this._dispatchSinglePropertiesSetEvent(a,d,b,c)},_setPropertyAndDispatchPropertySetEvent:function(a,b,c,d){var f=this._properties[a];f!==b&&(this._properties[a]=b,d||this.dispatchEvent("propertySet",this,{key:a,oldValue:f,newValue:b},c));return f},_dispatchSinglePropertiesSetEvent:function(a,b,c,d){if(b!==c){var f={oldValues:{},newValues:{}};
f.oldValues[a]=b;f.newValues[a]=c;this.dispatchEvent("propertiesSet",this,f,d)}},unsetProperty:function(a,b){var c=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b);this._dispatchSinglePropertiesUnsetEvent(a,c,b)},unsetProperties:function(a,b){var c={oldValues:{}};a.forEach(function(a){c.oldValues[a]=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b)},this);this.dispatchEvent("propertiesUnset",this,c,b)},_unsetPropertyAndDispatchPropertyUnsetEvent:function(a,b){var c;this.hasProperty(a)&&(c=
this._properties[a],delete this._properties[a],this.dispatchEvent("propertyUnset",this,{key:a,oldValue:c},b));return c},_dispatchSinglePropertiesUnsetEvent:function(a,b,c){var d={oldValues:{}};d.oldValues[a]=b;this.dispatchEvent("propertiesUnset",this,d,c)},hasProperty:function(a){return this._properties.hasOwnProperty(a)},getProperty:function(a){return this._properties[a]},setProperties:function(a,b){this._setProperties(a,b,!1)},_setProperties:function(a,k,c){var d,f,l;for(d in a)a.hasOwnProperty(d)&&
(f=a[d],(null===f||void 0===f)&&b.warn("Illegal argument. Property value must not be null or undefined. This will become an exception in the future."));var m=!1,g={oldValues:{},newValues:{}};for(d in a)a.hasOwnProperty(d)&&(f=a[d],l=this._setPropertyAndDispatchPropertySetEvent(d,f,k,c),l!==f&&(m=!0,g.oldValues[d]=l,g.newValues[d]=f));m&&!c&&this.dispatchEvent("propertiesSet",this,g,k)},replaceProperties:function(a,b){var c;this.setProperties(a,b);for(c in this._properties)this._properties.hasOwnProperty(c)&&
!a.hasOwnProperty(c)&&this.unsetProperty(c,b)},getProperties:function(){var a,b={};for(a in this._properties)this._properties.hasOwnProperty(a)&&this.hasProperty(a)&&(b[a]=this.getProperty(a));return b},addChild:function(a,b,c,d){"number"===typeof b&&(c=b,b=null);a=m.createNode(a,b,this._idCache);c=this._addChild(a,c);this.dispatchEvent("childAdded",this,{child:a,index:c},d);return a},addChildWithId:function(a,b,c,d,f){a=new m(a,b,c,this._idCache);d=this._addChild(a,d);this.dispatchEvent("childAdded",
this,{child:a,index:d||0},f);return a},hasChild:function(e){if(a.isString(e)){var b,c,d=this._children.length;for(b=0;b<d;b+=1)if(c=this._children[b],c.getId()===e)return!0;return!1}e=this.getChildIndex(e);return 0<=e&&this._children[e]},getChild:function(e){if(a.isString(e)){var b,c,d=this._children.length;for(b=0;b<d;b+=1)if(c=this._children[b],c.getId()===e)return c;throw Error("No child found with id: "+e);}return this._children[e]},getChildIndex:function(a){var b,c=this._children.length;for(b=
0;b<c;b+=1)if(this._children[b].getId()===a.getId())return b;return-1},getChildren:function(){return this._children.map(function(a){return a})},hasDescendant:function(a){var b,c,d=this._children.length;for(b=0;b<d;b+=1)if(c=this._children[b],c.getId()===a||c.hasDescendant(a))return!0;d=this._detached.length;for(b=0;b<d;b+=1)if(c=this._detached[b],c.getId()===a||c.hasDescendant(a))return!0;return!1},getDescendant:function(a){var b,c,d=this._children.length;for(b=0;b<d;b+=1){c=this._children[b];if(c._id===
a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}d=this._detached.length;for(b=0;b<d;b+=1){c=this._detached[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}throw Error("No descendant found with id: "+a);},getNumberOfChildren:function(){return this._children.length},hasDetachedChildren:function(){return 0<this._detached.length},getDetachedChildren:function(){return this._detached.map(function(a){return a})},detach:function(a){if(!this.isDetached()){var b={child:this,
index:this.getParent().getChildIndex(this)},c=this.getParent();this.getParent()._detachChild(this);c.dispatchEvent("childRemoved",c,b,a);c.dispatchEvent("childDetached",c,b,a)}},_detachChild:function(a){this._removeChild(a);this._detached.push(a)},reattach:function(a,b){this.isDetached()&&(a=0<=a?a:this.getParent().getNumberOfChildren(),a=this.getParent()._reattachChild(this,a),this.getParent().dispatchEvent("childReattached",this.getParent(),{child:this,index:a},b))},_reattachChild:function(a,b){var c=
this._detached.indexOf(a);this._detached.splice(c,1);return this._addChild(a,b)},isDetached:function(){return this.hasParent()&&0<=this.getParent().getDetachedChildren().indexOf(this)},isAncestorDetached:function(){return this.hasParent()&&(this.getParent().isDetached()||this.getParent().isAncestorDetached())},destroy:function(a){this.hasParent()&&this.getParent().dispatchEvent("subTreeDestroyed",this.getParent(),{child:this},a);this._destroyNodesRecursive(a)},remove:function(){this.destroy()},_destroyNodesRecursive:function(a){try{this.getChildren().forEach(function(c){c._destroyNodesRecursive(a)});
var b,c;this.hasParent()&&(c=this.getParent(),b=c.getChildIndex(this),c._removeChild(this),this._setParent(null),c.dispatchEvent("childRemoved",c,{child:this,index:b},a),c.dispatchEvent("childDestroyed",c,{child:this,index:b},a));this.dispatchEvent("destroyed",this,void 0,a)}finally{delete this._idCache[this._id]}},hasParent:function(){return!!this._parent},getParent:function(){return this._parent},getRoot:function(){return this.hasParent()?this.getParent().getRoot():this},accept:function(a){a(this);
this._children.forEach(function(b){b.accept(a)});this._detached.forEach(function(b){b.accept(a)})},_addChild:function(a,b){b=this._checkIndex(b);a._setParent(this);this._children.splice(b,0,a);return b},_removeChild:function(a){var b;"number"===typeof a?(b=a,a=this._children[b]):b=this.getChildIndex(a);b=this._checkIndex(b);a&&this._children.splice(b,1)},_checkIndex:function(a){if(void 0===a||null===a)a=this._children.length;return Math.max(0,Math.min(a,this._children.length))},_setParent:function(a){this._parent=
a},toString:function(a){a=a||0;var b,c,d,f="";for(d=0;d<a;d+=1)f+="    ";f+="{id\x3d'"+this._id+"'";f+=", type\x3d'"+this._type+"'";f+=", properties\x3d{";for(c in this._properties)if(this._properties.hasOwnProperty(c)){try{b=dojo.toJson(this._properties[c])}catch(l){b=this._properties[c].toString()}40<b.length&&(b=b.slice(0,40)+"...");f+=c+": "+b+", "}f=f.slice(0,f.length-2);f+="}, children\x3d[";for(d=0;d<this._children.length;d+=1)f+="\n"+this._children[d].toString(a+1);f+="], detached\x3d[";for(d=
0;d<this._detached.length;d+=1)f+="\n"+this._detached[d].toString(a+1);return f+"]}"},equals:function(a){var b;if(!a)return!1;if(this===a)return!0;if(this._id!==a._id)return!1;if(this._parent&&a._parent){if(this._parent.getId()!==a._parent.getId())return!1}else if(this._parent!==a._parent)return!1;if(!this._propertiesEqual(this,a)||this._type!==a._type||this._children.length!==a._children.length||this._detached.length!==a._detached.length)return!1;for(b=0;b<this._children.length;b+=1)if(!this._children[b].equals(a._children[b]))return!1;
for(b=0;b<this._detached.length;b+=1)if(!this._detached[b].equals(a._detached[b]))return!1;return!0},_propertiesEqual:function(a,b){return a._properties!==b._properties?!1:!0}});l.createNode=m.createNode=function(a,b,c){var f=d.generateUuid();return new m(f,a,b,c)};l.Impl=m;return l})},"mw-peermodel/Observable":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(h,a,g){var f=h([],{addEventListener:function(a,b,f){},removeEventListener:function(a,b,f){},hasEventListener:function(a,
b,f){},dispatchEvent:function(a,b,f,m){}});f.Syncable=h([],{addSyncEventListener:function(a,b,f){},removeSyncEventListener:function(a,b,f){}});f.Impl=h([f,f.Syncable],{constructor:function(){this._listeners={};this._syncListeners={}},addEventListener:function(a,b,f){this._addEventListener(this._listeners,a,b,f)},addSyncEventListener:function(a,b,f){this._addEventListener(this._syncListeners,a,b,f)},_addEventListener:function(a,b,f,m){m=m||this;a[b]=a[b]||[];var e={scope:m,callback:f};0>this._getEventListenerIndex(a,
b,f,m)&&a[b].push(e)},hasEventListener:function(a,b,f){return 0<=this._getEventListenerIndex(this._listeners,a,b,f)},removeEventListener:function(a,b,f){this._removeEventListener(this._listeners,a,b,f)},removeSyncEventListener:function(a,b,f){this._removeEventListener(this._syncListeners,a,b,f)},_removeEventListener:function(a,b,f,m){f=this._getEventListenerIndex(a,b,f,m||this);if(0<=f)a[b].splice(f,1);else throw Error("Listener does not exist");},_getEventListenerIndex:function(a,b,f,m){m=m||this;
if(a=a[b]){var e=a.length;for(b=0;b<e;b+=1)if(a[b].scope===m&&a[b].callback===f)return b}return-1},dispatchEvent:function(a,b,f,m){this._dispatchEvent(this._syncListeners,a,b,f,m);this._dispatchEvent(this._listeners,a,b,f,m)},_dispatchEvent:function(d,b,f,m,e){if(void 0!==m&&(a.isArray(m)||a.isString(m)||null===m||"number"===typeof m||"boolean"===typeof m))throw Error("Invalid event data, must be object");var k=d[b];if(k){var k=k.slice(0),c=k.length;for(d=0;d<c;d+=1)try{var n={type:b,target:f||this,
data:m||{},originator:e};"string"===typeof k[d].callback?k[d].scope[k[d].callback].call(k[d].scope,n):k[d].callback.call(k[d].scope,n)}catch(p){g.error("Error while dispatching event handler of type: "+b+", message: "+p)}}}});return f})},"mw-peermodel/PeerEventObservable":function(){define(["dojo/_base/declare","./Observable"],function(h,a){var g=h([a],{addPeerEventListener:function(a,d,b){},removePeerEventListener:function(a,d,b){},hasPeerEventListener:function(a,d,b){},dispatchPeerEvent:function(a,
d,b,l){}});g.Impl=h([a.Impl],{addPeerEventListener:function(a,d,b){var l=function(l){l.data.type&&l.data.type===a&&d.call(b,l)};l.type=a;l.callback=d;l.scope=b;this.addEventListener("peerEvent",l)},hasPeerEventListener:function(a,d,b){return!!this._getPeerEventObserver(a,d,b)},removePeerEventListener:function(a,d,b){if(a=this._getPeerEventObserver(a,d,b))this.removeEventListener("peerEvent",a.callback,a.scope);else throw Error("Listener does not exist");},_getPeerEventObserver:function(a,d,b){return this._listeners.peerEvent?
this._listeners.peerEvent.filter(function(l){return l.callback.callback&&l.callback.type===a&&l.callback.callback===d&&l.callback.scope===b})[0]:null},dispatchPeerEvent:function(a,d,b,l){b||(b={});b.type=a;this.dispatchEvent("peerEvent",d,b,l)}});return g})},"datatoolsservices/ActionService/ActionDataServiceFactory":function(){define("datatoolsservices/ActionService/ActionDataServiceFactory",["dojo/_base/declare","datatoolsservices/ActionService/ActionDataServiceProvider"],function(h,a){var g={};
return{getInstance:function(f){var d=null,b=f.nameSpace;g[b]?d=g[b]:(d=new a(f),g[b]=d);return d}}})},"datatoolsservices/ActionService/ActionDataServiceProvider":function(){define("datatoolsservices/ActionService/ActionDataServiceProvider",["dojo/_base/declare","datatoolsservices/ActionService/Action","mw-actiondataservice/ActionDataService"],function(h,a,g){return h("datatoolsservices.ActionService.ActionDataServiceProvider",[g],{constructor:function(a){this.allArgs=a;this._actionMap={}},onActionRemove:function(a){(a=
a.id)&&this._actionMap[a]&&delete this._actionMap[a]},onChildAdd:function(f){var d=f.data.child,b=null,l={};if(d){l=d.getProperties();d.hasProperty("id")||d.setProperty("id",d.getId());var b=new a(l),m=this;b.execute=function(a){m.executeAction(b.getProperty("id"))};this._actionMap[d.getProperty("id")]=b}this.inherited(arguments)},onActionChange:function(a){if(a.id&&this._actionMap[a.id]){var d=this._actionMap[a.id];d._updateProperty(a.key,a.newValue);var b="on"+a.key+"Change";if(d.hasOwnProperty(b)&&
"function"===typeof d[b])d[b](a)}},getActionMap:function(){return this._actionMap},getAction:function(a){if(a)return this._actionMap[a]}})})},"datatoolsservices/ActionService/Action":function(){define("datatoolsservices/ActionService/Action",["dojo/_base/declare","dojo/_base/lang"],function(h,a){return h("datatoolsservices.ActionService.Action",[],{constructor:function(g){this._actionProps={};g&&(this._actionProps=a.mixin({},g))},_updateProperty:function(a,f){a&&(this._actionProps[a]=f)},getProperty:function(a){if(this._actionProps&&
this._actionProps.hasOwnProperty(a))return this._actionProps[a]}})})},"mw-actiondataservice/ActionDataService":function(){define(["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","mw-peermodel/_PropertyIndexerMixin","mw-utils/Utils"],function(h,a,g,f,d){return h([g,f],{constructor:function(a){a=a||{};this._mode=a.mode||"StandAlone";this._nameSpace=a.nameSpace||"/actions/"+d.generateUuid();this._setupPeerModel();this._callbacks={};this._actionChangeCallbacks=
{};this._propertyToIndex="id"},_setupPeerModel:function(){switch(this._mode){case "StandAlone":this._peerModelManager=a.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsServer":this._peerModelManager=a.getServerInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsClient":this._peerModelManager=a.getClientInstance(this._nameSpace);
this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);break;default:throw Error("The mode provided is not valid! Please use one of the following: StandAlone, ActAsServer or ActAsClient");}},onPropertySet:function(a){this.onActionChange({id:a.target.getProperty("id"),key:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})},onChildAdd:function(a){a.data.child.getProperty("id")||a.data.child.setProperty("id",a.data.child.getId());this.onActionAdd({id:a.data.child.getProperty("id")})},
loadActions:function(a){Array.isArray(a)&&a.forEach(function(a){this.addAction(a)},this)},addAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be added while in ActAsClient Mode!");var d;a=a||{};if(a.id&&this._getPeerNodeIdForIndexedProperty(a.id))throw Error("Action id must be unique!");d=this._peerModelManager.getRoot().addChild("Action",a);a.id||d.setProperty("id",d.getId());a.callback&&this.addActionCallback(d.getProperty("id"),a.callback);return d.getId()},getAction:function(a){return(a=
this._actionById(a))?a.getProperties():null},getAllActions:function(){return this._peerModelManager.getRoot().getChildren().map(function(a){return a.getProperties()})},removeAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be removed while in ActAsClient Mode!");var d=this._getPeerNodeIdForIndexedProperty(a);if(d&&this._peerModelManager.hasById(d))this._peerModelManager.getById(d).destroy(),delete this._callbacks[a];else throw Error("This is not a valid action id!");},
enableAction:function(a){this.updateAction(a,{enabled:!0})},disableAction:function(a){this.updateAction(a,{enabled:!1})},updateAction:function(a,d,f){var e=this._actionById(a);e&&(d.callback&&this.addActionCallback(a,d.callback),e.setProperties(d,f))},actionHasProperty:function(a,d){return this._actionById(a).hasProperty(d)},executeAction:function(a,d){var f;d=d||{};f=this._actionById(a);!0===f.getProperty("enabled")&&f.dispatchEvent("peerEvent",f,d)},addActionCallback:function(a,d,f){var e=this._actionById(a),
k;this.removeActionCallback(a);k=function(a){delete a.data.type;d.call(f||e.getProperties(),a.data)};this._callbacks[a]={callback:k,scope:f};e.addEventListener("peerEvent",k,f)},removeActionCallback:function(a){var d=this._actionById(a),f;if(f=this._callbacks[a])d.removeEventListener("peerEvent",f.callback,f.scope),delete this._callbacks[a]},addActionChangeCallback:function(a,d,f){var e=this._actionById(a),k;this.removeActionChangeCallback(a);k=function(a){d.call(f,{property:a.data.key,oldValue:a.data.oldValue,
newValue:a.data.newValue},a.originator)};this._actionChangeCallbacks[a]={callback:k,scope:f};e.addEventListener("propertySet",k,f)},removeActionChangeCallback:function(a){var d=this._actionById(a);this._actionChangeCallbacks[a]&&(d.removeEventListener("propertySet",this._actionChangeCallbacks[a].callback,this._actionChangeCallbacks[a].scope),delete this._actionChangeCallbacks[a])},onActionChange:function(a){},onActionAdd:function(a){},_actionById:function(a){var d;(a=this._getPeerNodeIdForIndexedProperty(a))&&
this._peerModelManager.hasById(a)&&(d=this._peerModelManager.getById(a));return d},destroy:function(){a.cleanup(this._nameSpace)}})})},"mw-peermodel/_PeerModelListenerMixin":function(){define(["dojo/_base/declare"],function(h){return h([],{start:function(a){a=a||this.manager;a.setSyncEnabled(!0)},stop:function(a){a=a||this.manager;a.setSyncEnabled(!1)},addManagerListeners:function(a){a=a||this.manager;a.addEventListener("rootSet",this.rootSetObserver,this);a.addEventListener("rootUnset",this.rootUnsetObserver,
this);a.addEventListener("childMoved",this.childMovedObserver,this)},removeManagerListeners:function(a){a=a||this.manager;a.removeEventListener("rootSet",this.rootSetObserver,this);a.removeEventListener("rootUnset",this.rootUnsetObserver,this);a.removeEventListener("childMoved",this.childMovedObserver,this)},addNodeListeners:function(a){a.addEventListener("childAdded",this.childAddedObserver,this);a.addEventListener("childDestroyed",this.childDestroyedObserver,this);a.addEventListener("propertySet",
this.propertySetObserver,this);a.addEventListener("peerEvent",this.peerEventObserver,this)},removeNodeListeners:function(a){a.removeEventListener("childAdded",this.childAddedObserver,this);a.removeEventListener("childDestroyed",this.childDestroyedObserver,this);a.removeEventListener("propertySet",this.propertySetObserver,this);a.removeEventListener("peerEvent",this.peerEventObserver,this)},rootSetObserver:function(a){this.addNodeListeners(a.target)},rootUnsetObserver:function(a){this.removeNodeListeners(a.target)},
childMovedObserver:function(a){this.onChildMove(a)},childAddedObserver:function(a){this.addNodeListeners(a.data.child);this.onChildAdd(a)},childDestroyedObserver:function(a){this.removeNodeListeners(a.data.child);this.onChildDestroy(a)},propertySetObserver:function(a){this.onPropertySet(a)},peerEventObserver:function(a){this.onPeerEvent(a)},onPeerEvent:function(a){},onChildAdd:function(a){},onChildDestroy:function(a){},onPropertySet:function(a){},onChildMove:function(a){}})})},"mw-peermodel/_PropertyIndexerMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect"],function(h,a,g){return h([],{constructor:function(){this._propertyIndexMap={};g.before(this,"onChildAdd",a.hitch(this,function(a){var d=a.data.child.getProperty(this._propertyToIndex);d&&(this._propertyIndexMap[d]=a.data.child.getId())}));g.before(this,"onPropertySet",a.hitch(this,function(a){a.data.key===this._propertyToIndex&&a.data.newValue&&(this._propertyIndexMap[a.data.newValue]=a.target.getId())}));g.before(this,"onChildDestroy",a.hitch(this,function(a){delete this._propertyIndexMap[a.data.child.getProperty(this._propertyToIndex)]}))},
_getPeerNodeIdForIndexedProperty:function(a){return this._propertyIndexMap[a]}})})},"datatoolsservices/ContextMenuService/ContextMenuManager":function(){define("datatoolsservices/ContextMenuService/ContextMenuManager","dojo/_base/declare datatoolsservices/ContextMenuService/ContextMenuBuilder mw-menu/ContextMenu MW/uiframework/contextmanager/ContextManagerFactory datatoolsservices/ActionService/ActionDataServiceFactory mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin MW/uiframework/UIBuilderFactory".split(" "),
function(h,a,g,f,d,b,l,m){return h("datatoolsservices.ContextMenuService.ContextMenuManager",[l],{constructor:function(a){a=a||{};this.mode=a.mode||"ActAsClient";this.namespace=a.namespace||"/ContextMenuManager";this.contextAppID=a.contextAppID||"";this.previousContext="";this._cacheUpdated=!1;this.contextWatchHandle=null;this._contextMenuMap={};this._initProps={};this._startPeerModelService();this._initOnContextChange()},_initServices:function(){this.actionService=d.getInstance({mode:this.mode,nameSpace:this._initProps.actionNamespace});
this.contextMenuBuilder=new a({actionService:this.actionService,namespace:this.namespace})},_startPeerModelService:function(){this._peerModelManager=this._getPeerModelInstance(this.namespace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);var a=this;this._peerModelManager.addEventListener("rootSet",function(b){var c=b.target;b=c.getProperty("actionNamespace");c=c.getProperty("queryString");a._initProps={actionNamespace:b,queryString:c};a._initServices()})},_initOnContextChange:function(){var a=
this;this.contextWatchHandle=this._getDefaultContextManager().watch("currentContext",function(b,c,d){c=d.appId;"currentContext"===b&&(c&&c===a.contextAppID)&&(!a._cacheUpdated&&a._peerModelManager)&&(b=a._peerModelManager.getRoot(),c=a._getPeerModelInstance(a._initProps.actionNamespace).getRoot(),b&&(0<b._children.length&&c)&&(a.createContextMenu(b),a.contextWatchHandle.unwatch()))})},createContextMenu:function(a){var b=this._initProps.queryString;this._contextMenuMap=this.contextMenuBuilder.constructMenuItems(a);
this._contextMenu=new g({targetNodes:[b]});this._addContextMenuCallBack();this._cacheUpdated=!0},_addContextMenuCallBack:function(){var a=this;this._contextMenu.willOpenCallback=function(){var b=a._getDefaultContextManager().get("currentContext"),c=b.contextIdList.toString();if(c!==a.previousContext){var d=a._contextMenu;d.hasChildren()&&d.getChildren().forEach(function(a){d.removeChild(a)});a._getMenuItemsForContext(b.contextIdList).forEach(function(a){d.addChild(a)});a.previousContext=c}}},_getDefaultContextManager:function(){var a=
null;try{a=f.getInstance()}catch(b){}null===a&&"/WSBContextMenuManager"===this.namespace&&(m.getInstance({actionService:null}).create({tag:"motwToolstrip",type:"Toolstrip"}),a=f.getInstance({parentAppId:"motw",toolstripTag:"motwToolstrip",toolstripId:"toolstripId",uiContainer:null,qabContextualControlsActionMap:{}}));return a},_getPeerModelInstance:function(a){var d=null;return d="ActAsServer"===this.mode?b.getServerInstance(a):b.getClientInstance(a)},_getMenuItemsForContext:function(a){var b=this._contextMenuMap[this.namespace],
c=[],d;for(d in b)if(b.hasOwnProperty(d)&&b[d].MatchContext){var f=b[d].MatchContext.split(",");b[d].ExactMatch?("global"===a[0]&&a.shift(),this.compareArrayValues(a,f)&&(c=c.concat(b[d].ContextMenuItems))):f.every(function(c){return-1<a.indexOf(c)})&&(c=c.concat(b[d].ContextMenuItems))}return c.slice()},destroy:function(){b.cleanup(this.namespace)},compareArrayValues:function(a,b){return!a||!b||a.length!==b.length?!1:a.every(function(a,e){var d=!1;b.forEach(function(e,b){a===e&&(d=!0)});return d})}})})},
"datatoolsservices/ContextMenuService/ContextMenuBuilder":function(){define("datatoolsservices/ContextMenuService/ContextMenuBuilder","dojo/_base/declare dojo/_base/lang datatoolsservices/ContextMenuService/ActionMenuItem datatoolsservices/ContextMenuService/ActionPopupMenuItem mw-menu/Menu mw-menu/MenuSeparator dojo/on".split(" "),function(h,a,g,f,d,b,l){return h("datatoolsservices.ContextMenuService.ContextMenuBuilder",[],{constructor:function(a){this.actionService=a.actionService;this._contextMenuMap=
{};this._contextMap={};this.namespace=a.namespace},constructMenuItems:function(a){if(a)return this._contextMap[this.namespace]={},this.parseNodes(a),this._contextMap},parseNodes:function(b){var e=this;b.getChildren().forEach(function(d){var c=d.getType(),f=b.getProperty("ID"),l=d.getProperty("ID"),g=e._getContextMenuFromParent(f);"Action"===c?(d=e._constructSubMenuItem(d,b))&&g.push(d):"ActionGroup"===c?(e._createActionGroupItem(f,g,d),e.parseNodes(d)):"Context"===c?(e._contextMap[e.namespace][l]=
a.mixin(d.getProperties(),{ContextMenuItems:[]}),e.parseNodes(d)):"MenuSeparator"===c&&e._createMenuSeparator(f,g)})},_createMenuSeparator:function(a,e){var d=new b({tag:"ContextMenuSeparator"}),c=this._contextMenuMap[a];c&&c.popUpMenu?(c=c.popUpMenu.menu,this._isValidPosForSeparator(c.getChildren())&&c.addChild(d)):this._isValidPosForSeparator(e)&&e.push(d)},_isValidPosForSeparator:function(a){return 0<a.length&&"ContextMenuSeparator"!==a[a.length-1].Tag},_createActionGroupItem:function(a,e,b){var c=
b.getProperty("ID"),d=this._contextMenuMap[a]?this._contextMenuMap[a].popUpMenu:null;this._contextMenuMap[c]={menuItems:e,popUpMenu:d};b.hasProperty("Expanded")&&!b.getProperty("Expanded")&&(d=this._createPopUpMenuItem(b,a),(a=this._contextMenuMap[a])&&a.popUpMenu?a.popUpMenu.menu.addChild(d):e.push(d))},_createPopUpMenuItem:function(a){a=this._getNodeAttributes(a);var e=new d({}),e=new f({Id:a.menuId,text:a.displayName,action:a.menuAction,menu:e});return this._contextMenuMap[a.menuId].popUpMenu=
e},_getContextMenuFromParent:function(a){var e=this._contextMap[this.namespace];if(e){if(e[a])return e[a].ContextMenuItems;if(this._contextMenuMap[a]&&this._contextMenuMap[a].menuItems)return this._contextMenuMap[a].menuItems}},_constructSubMenuItem:function(a,e){var b=this._getNodeAttributes(a),c=e.getProperty("ID"),b=this._createMenu(b.menuId,b.displayName,b.menuAction);if(this._contextMenuMap[c]&&this._contextMenuMap[c].popUpMenu)this._contextMenuMap[c].popUpMenu.menu.addChild(b);else return b},
_getNodeAttributes:function(a){var e=a.getProperty("ID");a=a.getProperty("DisplayName")||e;var b=this.actionService.getAction(e);return{menuId:e,displayName:a,menuAction:b}},_createMenu:function(a,e,b){e=new g({action:b,Id:a,text:e});return this._contextMenuMap[a]=e}})})},"datatoolsservices/ContextMenuService/ActionMenuItem":function(){define("datatoolsservices/ContextMenuService/ActionMenuItem","dojo/_base/declare dojo/_base/lang mw-menu/MenuItem mw-menu/Menu mw-menu/MenuSeparator dojo/on".split(" "),
function(h,a,g,f,d,b){return h("datatoolsservices.ContextMenuService.ActionMenuItem",[g],{constructor:function(a){this.allArgs=a},postCreate:function(b){this.inherited(arguments);if(this.action){this.on("click",a.hitch(this,"_executeMenuAction"));var d=this;this.action.onenabledChange=function(a){d.disabled=!a.newValue;d._setStateClass();d._onEnabledStateChanged&&d._onEnabledStateChanged(a)};this.disabled=!this.action.getProperty("enabled")}this._setStateClass()},_executeMenuAction:function(a){(a=
dijit.getEnclosingWidget(a.target))&&a.Id&&this.action.execute()}})})},"mw-menu/MenuItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuItem.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D){return h(B.validate([a,g,f,d,b,m,e,k,c,n,p,q,r,s,t,u,v,w,l,x,z,y,A]),{baseClass:"mwWidget mwSharedMenuItem mwMenuItem",templateString:D,closeMenuOnClick:!0,_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},_qeClick:function(){this._emitClickEvent()}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y){function A(a){return function(c){m[c?"set":"remove"](this.domNode,a,c);this._set(a,c)}}p.add("dijit-legacy-requires",!q.isAsync);p("dijit-legacy-requires")&&t(0,function(){h(["dijit/_base/manager"])});var B={};return b("dijit._WidgetBase",[u,x],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:f.blankGif||h.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var c=a.prototype,e=a._setterAttrs=[],a=a._onMap={},b;for(b in c.attributeMap)e.push(b);for(b in c)/^on/.test(b)&&(a[b.substring(2).toLowerCase()]=b),/^_set[A-Z](.*)Attr$/.test(b)&&(b=b.charAt(4).toLowerCase()+b.substr(5,
b.length-9),(!c.attributeMap||!(b in c.attributeMap))&&e.push(b))}},postscript:function(a,c){this.create(a,c)},create:function(a,c){this._introspect();this.srcNodeRef=l.byId(c);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);a&&(this.params=a,r.mixin(this,a));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=
this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);y.add(this);this.buildRendering();var e;if(this.domNode){this._applyAttributes();var b=this.srcNodeRef;b&&(b.parentNode&&this.domNode!==b)&&(b.parentNode.replaceChild(this.domNode,b),e=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();e&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var c={},e;for(e in this.params||{})c[e]=this._get(e);
a.forEach(this.constructor._setterAttrs,function(a){if(!(a in c)){var e=this._get(a);e&&this.set(a,e)}},this);for(e in c)this.set(e,c[e])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var c=this.baseClass.split(" ");this.isLeftToRight()||(c=c.concat(a.map(c,function(a){return a+"Rtl"})));e.add(this.domNode,c)}},postCreate:function(){},startup:function(){this._started||(this._started=
!0,a.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&r.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(c){function e(a){a.destroyRecursive?a.destroyRecursive(c):a.destroy&&a.destroy(c)}this._beingDestroyed=!0;this.uninitialize();a.forEach(this._connects,r.hitch(this,"disconnect"));a.forEach(this._supportingWidgets,e);this.domNode&&a.forEach(y.findWidgets(this.domNode,
this.containerNode),e);this.destroyRendering(c);y.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?m.remove(this.domNode,"widgetId"):k.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||k.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(c){a.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(c)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var c=
this.domNode;r.isObject(a)?n.set(c,a):c.style.cssText=c.style.cssText?c.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(c,b,d){d=3<=arguments.length?d:this.attributeMap[c];a.forEach(r.isArray(d)?d:[d],function(a){var d=this[a.node||a||"domNode"];switch(a.type||"attribute"){case "attribute":r.isFunction(b)&&(b=r.hitch(this,b));a=a.attribute?a.attribute:/^on[A-Z][a-zA-Z]*$/.test(c)?c.toLowerCase():c;d.tagName?m.set(d,a,b):d.set(a,b);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(b));
break;case "textContent":d.textContent=b;break;case "innerHTML":d.innerHTML=b;break;case "class":e.replace(d,b,this[c]);break;case "toggleClass":e.toggle(d,a.className||c,b)}},this)},get:function(a){var c=this._getAttrNames(a);return this[c.g]?this[c.g]():this._get(a)},set:function(a,c){if("object"===typeof a){for(var e in a)this.set(e,a[e]);return this}e=this._getAttrNames(a);var b=this[e.s];if(r.isFunction(b))var d=b.apply(this,Array.prototype.slice.call(arguments,1));else{var b=this.focusNode&&
!r.isFunction(this.focusNode)?"focusNode":"domNode",k=this[b]&&this[b].tagName,f;if(f=k)if(!(f=B[k])){f=this[b];var l={},g;for(g in f)l[g.toLowerCase()]=!0;f=B[k]=l}g=f;e=a in this.attributeMap?this.attributeMap[a]:e.s in this?this[e.s]:g&&e.l in g&&"function"!=typeof c||/^aria-|^data-|^role$/.test(a)?b:null;null!=e&&this._attrToDom(a,c,e);this._set(a,c)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var c=this._attrPairNames;if(c[a])return c[a];var e=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-
1).toUpperCase()});return c[a]={n:a+"Node",s:"_set"+e+"Attr",g:"_get"+e+"Attr",l:e.toLowerCase()}},_set:function(a,c){var e=this[a];this[a]=c;if(this._created&&!(e===c||e!==e&&c!==c))this._watchCallbacks&&this._watchCallbacks(a,e,c),this.emit("attrmodified-"+a,{detail:{prevValue:e,newValue:c}})},_get:function(a){return this[a]},emit:function(a,c,e){c=c||{};void 0===c.bubbles&&(c.bubbles=!0);void 0===c.cancelable&&(c.cancelable=!0);c.detail||(c.detail={});c.detail.widget=this;var b,d=this["on"+a];
d&&(b=d.apply(this,e?e:[c]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),c);return b},on:function(a,c){var e=this._onMap(a);return e?g.after(this,e,c,!0):this.own(s(this.domNode,a,c))[0]},_onMap:function(a){var c=this.constructor,e=c._onMap;if(!e){var e=c._onMap={},b;for(b in c.prototype)/^on/.test(b)&&(e[b.replace(/^on/,"").toLowerCase()]=b)}return e["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+
"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,e){return this.own(d.connect(a,c,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,c){return this.own(v.subscribe(a,r.hitch(this,c)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():c.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&
"none"!=n.get(this.domNode,"display")},placeAt:function(a,c){var e=!a.tagName&&y.byId(a);e&&e.addChild&&(!c||"number"===typeof c)?e.addChild(this,c):(e=e&&"domNode"in e?e.containerNode&&!/after|before|replace/.test(c||"")?e.containerNode:e.domNode:l.byId(a,this.ownerDocument),k.place(this.domNode,e,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,c){var e=setTimeout(r.hitch(this,function(){e&&(e=null,this._destroyed||r.hitch(this,a)())}),c||0);return{remove:function(){e&&
(clearTimeout(e),e=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(h,a,g,f){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;return b[a]?b[a]:b[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,b){return"function"===typeof this[b.g]?this[b.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,
b){if("object"===typeof a){for(var l in a)a.hasOwnProperty(l)&&"_watchCallbacks"!=l&&this.set(l,a[l]);return this}l=this._getAttrNames(a);var g=this._get(a,l);l=this[l.s];var e;"function"===typeof l?e=l.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=b;if(this._watchCallbacks){var k=this;f(e,function(){k._watchCallbacks(a,g,b)})}return this},_changeAttrValue:function(a,b){var f=this.get(a);this[a]=b;this._watchCallbacks&&this._watchCallbacks(a,f,b);return this},watch:function(a,b){var f=
this._watchCallbacks;if(!f)var m=this,f=this._watchCallbacks=function(a,e,b,d){var k=function(d){if(d){d=d.slice();for(var k=0,f=d.length;k<f;k++)d[k].call(m,a,e,b)}};k(f["_"+a]);d||k(f["*"])};!b&&"function"===typeof a?(b=a,a="*"):a="_"+a;var e=f[a];"object"!==typeof e&&(e=f[a]=[]);e.push(b);var k={};k.unwatch=k.remove=function(){var a=g.indexOf(e,b);-1<a&&e.splice(a,1)};return k}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,a,g){return g("dijit.Destroyable",
null,{destroy:function(a){this._destroyed=!0},own:function(){var f=["destroyRecursive","destroy","remove"];h.forEach(arguments,function(d){function b(){g.remove();h.forEach(e,function(a){a.remove()})}var l,g=a.before(this,"destroy",function(a){d[l](a)}),e=[];d.then?(l="cancel",d.then(b,b)):h.forEach(f,function(k){"function"===typeof d[k]&&(l||(l=k),e.push(a.after(d,k,b,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(h,
a,g){var f={},d={},b={length:0,add:function(a){if(d[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");d[a.id]=a;this.length++},remove:function(a){d[a]&&(delete d[a],this.length--)},byId:function(a){return"string"==typeof a?d[a]:a},byNode:function(a){return d[a.getAttribute("widgetId")]},toArray:function(){var a=[],b;for(b in d)a.push(d[b]);return a},getUniqueId:function(a){var b;do b=a+"_"+(a in f?++f[a]:f[a]=0);while(d[b]);return"dijit"==g._scopeName?
b:g._scopeName+"_"+b},findWidgets:function(a,b){function e(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var f=a.getAttribute("widgetId");f?(f=d[f])&&k.push(f):a!==b&&e(a)}}var k=[];e(a);return k},_destroyAll:function(){g._curFocus=null;g._prevFocus=null;g._activeStack=[];h.forEach(b.findWidgets(a.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var b=1==a.nodeType&&a.getAttribute("widgetId");
if(b)return d[b];a=a.parentNode}return null},_hash:d};return g.registry=b})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(h,a,g,f,d,b,l,m){var e=a("dijit._TemplatedMixin",m,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var c=this.declaredClass,e=this;return l.substitute(a,this,function(a,b){"!"==b.charAt(0)&&(a=
f.getObject(b.substr(1),!1,e));if("undefined"==typeof a)throw Error(c+" template:"+b);return null==a?"":"!"==b.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=h(this.templatePath,{sanitize:!0}));var a=e.getCachedTemplate(this.templateString,this._skipNodeCache,
this.ownerDocument),c;if(f.isString(a)){if(c=g.toDom(this._stringRepl(a),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});e._templateCache={};e.getCachedTemplate=function(a,c,b){var d=e._templateCache,f=a,m=d[f];if(m){try{if(!m.ownerDocument||
m.ownerDocument==(b||document))return m}catch(h){}g.destroy(m)}a=l.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return d[f]=a;c=g.toDom(a,b);if(1!=c.nodeType)throw Error("Invalid template: "+a);return d[f]=c};b("ie")&&d(window,"unload",function(){var a=e._templateCache,c;for(c in a){var b=a[c];"object"==typeof b&&g.destroy(b);delete a[c]}});return e})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(h){return h.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has",
"./request"],function(h,a,g,f){var d;d=function(a,c,e){f(a,{sync:!!c,headers:{"X-Requested-With":null}}).then(e)};var b={},l=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},m={},e={};h.cache=function(e,c,f){var g;"string"==typeof e?/\//.test(e)?(g=e,f=c):g=a.toUrl(e.replace(/\./g,"/")+(c?"/"+c:"")):(g=e+"",f=c);e=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;
if("string"==typeof e)return b[g]=e,f?l(e):e;if(null===e)return delete b[g],null;g in b||d(g,!0,function(a){b[g]=a});return f?l(b[g]):b[g]};return{dynamic:!0,normalize:function(a,c){var e=a.split("!"),b=e[0];return(/^\./.test(b)?c(b):b)+(e[1]?"!"+e[1]:"")},load:function(a,c,f){a=a.split("!");var g=1<a.length,h=a[0],r=c.toUrl(a[0]);a="url:"+r;var s=m,t=function(a){f(g?l(a):a)};h in b?s=b[h]:c.cache&&a in c.cache?s=c.cache[a]:r in b&&(s=b[r]);if(s===m)if(e[r])e[r].push(t);else{var u=e[r]=[t];d(r,!c.async,
function(a){b[h]=b[r]=a;for(var c=0;c<u.length;)u[c++](a);delete e[r]})}else t(s)}}})},"dojo/request":function(){define(["./request/default!"],function(h){return h})},"dojo/request/default":function(){define(["exports","require","../has"],function(h,a,g){var f=g("config-requestProvider");f||(f="./xhr");h.getPlatformDefaultId=function(){return"./xhr"};h.load=function(d,b,g,m){a(["platform"==d?"./xhr":f],function(a){g(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(h,a,g,f,d,b,l,m,e){var k=d.delegate(m,{mouseenter:b.enter,mouseleave:b.leave,keypress:g._keypress}),c;g=f("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var c=a;;)if(1==c.nodeType&&(this._processTemplateNode(c,function(a,c){return a.getAttribute(c)},this._attach)||
this.searchContainerNode)&&c.firstChild)c=c.firstChild;else{if(c==a)break;for(;!c.nextSibling;)if(c=c.parentNode,c==a)return;c=c.nextSibling}},_processTemplateNode:function(a,c,e){var b=!0,k=this.attachScope||this,f=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(f)for(var g=f.split(/\s*,\s*/);f=g.shift();)d.isArray(k[f])?k[f].push(a):k[f]=a,b="containerNode"!=f,this._attachPoints.push(f);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){f=c.split(/\s*,\s*/);for(g=d.trim;c=f.shift();)if(c){var l=
null;-1!=c.indexOf(":")?(l=c.split(":"),c=g(l[0]),l=g(l[1])):c=g(c);l||(l=c);this._attachEvents.push(e(a,c,d.hitch(k,l)))}}return b},_attach:function(a,e,b){e=e.replace(/^on/,"").toLowerCase();e="dijitclick"==e?c||(c=h("./a11yclick")):k[e]||e;return l(a,e,b)},_detachTemplateNodes:function(){var c=this.attachScope||this;a.forEach(this._attachPoints,function(a){delete c[a]});this._attachPoints=[];a.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});d.extend(e,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(h,a,g,f,d,b,l,m,e,k){function c(a,c,e){return r&&e?function(a,c){return b(a,e,c)}:t?function(e,d){var k=b(e,c,function(a){d.call(this,a);H=(new Date).getTime()}),f=b(e,a,function(a){(!H||(new Date).getTime()>H+1E3)&&d.call(this,a)});return{remove:function(){k.remove();
f.remove()}}}:function(c,e){return b(c,a,e)}}function n(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function p(a,c,e){if(!m.isRight(a)){var d=n(a.target);if(v=!a.target.disabled&&d&&d.dojoClick)if(x=(w="useTarget"==v)?d:a.target,w&&a.preventDefault(),z=a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX,y=a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY,A=("object"==typeof v?v.x:"number"==typeof v?v:0)||4,B=("object"==typeof v?v.y:"number"==
typeof v?v:0)||4,!u){u=!0;var l=function(a){v=w?g.isDescendant(k.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY),x):v&&(a.changedTouches?a.changedTouches[0].target:a.target)==x&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX)-z)<=A&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY)-y)<=B};k.doc.addEventListener(c,
function(a){m.isRight(a)||(l(a),w&&a.preventDefault())},!0);k.doc.addEventListener(e,function(a){if(!m.isRight(a)&&(l(a),v)){D=(new Date).getTime();var c=w?x:a.target;"LABEL"===c.tagName&&(c=g.byId(c.getAttribute("for"))||c);var e=a.changedTouches?a.changedTouches[0]:a,d=function(c){var b=document.createEvent("MouseEvents");b._dojo_click=!0;b.initMouseEvent(c,!0,!0,a.view,a.detail,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return b},k=d("mousedown"),f=
d("mouseup"),r=d("click");setTimeout(function(){b.emit(c,"mousedown",k);b.emit(c,"mouseup",f);b.emit(c,"click",r);D=(new Date).getTime()},0)}},!0);a=function(a){k.doc.addEventListener(a,function(c){var e=c.target;v&&(!c._dojo_click&&(new Date).getTime()<=D+1E3&&!("INPUT"==e.tagName&&f.contains(e,"dijitOffScreen")))&&(c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),"click"==a&&(("INPUT"!=e.tagName||"radio"==e.type&&(f.contains(e,"dijitCheckBoxInput")||f.contains(e,"mblRadioButton"))||
"checkbox"==e.type&&(f.contains(e,"dijitCheckBoxInput")||f.contains(e,"mblCheckBox")))&&"TEXTAREA"!=e.tagName&&"AUDIO"!=e.tagName&&"VIDEO"!=e.tagName)&&c.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}}var q=5>l("ios"),r=l("pointer-events")||l("MSPointer"),s=function(){var a={},c;for(c in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[c]=l("MSPointer")?"MSPointer"+c.charAt(0).toUpperCase()+c.slice(1):"pointer"+c;return a}(),t=l("touch-events"),u,v,w=!1,x,z,y,A,B,D,H,G;l("touch")&&(r?
e(function(){k.doc.addEventListener(s.down,function(a){p(a,s.move,s.up)},!0)}):e(function(){function a(c){var e=d.delegate(c,{bubbles:!0});6<=l("ios")&&(e.touches=c.touches,e.altKey=c.altKey,e.changedTouches=c.changedTouches,e.ctrlKey=c.ctrlKey,e.metaKey=c.metaKey,e.shiftKey=c.shiftKey,e.targetTouches=c.targetTouches);return e}G=k.body();k.doc.addEventListener("touchstart",function(a){H=(new Date).getTime();var c=G;G=a.target;b.emit(c,"dojotouchout",{relatedTarget:G,bubbles:!0});b.emit(G,"dojotouchover",
{relatedTarget:c,bubbles:!0});p(a,"touchmove","touchend")},!0);b(k.doc,"touchmove",function(c){H=(new Date).getTime();var e=k.doc.elementFromPoint(c.pageX-(q?0:k.global.pageXOffset),c.pageY-(q?0:k.global.pageYOffset));e&&(G!==e&&(b.emit(G,"dojotouchout",{relatedTarget:e,bubbles:!0}),b.emit(e,"dojotouchover",{relatedTarget:G,bubbles:!0}),G=e),b.emit(e,"dojotouchmove",a(c))||c.preventDefault())});b(k.doc,"touchend",function(c){H=(new Date).getTime();var e=k.doc.elementFromPoint(c.pageX-(q?0:k.global.pageXOffset),
c.pageY-(q?0:k.global.pageYOffset))||k.body();b.emit(e,"dojotouchend",a(c))})}));a={press:c("mousedown","touchstart",s.down),move:c("mousemove","dojotouchmove",s.move),release:c("mouseup","dojotouchend",s.up),cancel:c(m.leave,"touchcancel",r?s.cancel:null),over:c("mouseover","dojotouchover",s.over),out:c("mouseout","dojotouchout",s.out),enter:m._eventHandler(c("mouseover","dojotouchover",s.over)),leave:m._eventHandler(c("mouseout","dojotouchout",s.out))};return h.touch=a})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){a=a("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);h.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,b.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(e){c=c.concat(h.map(c,function(a){return a+e}),"dijit"+e)}var c=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var e="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(e);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var e=this.stateNode||this.domNode,b={};h.forEach(e.className.split(" "),function(a){b[a]=!0});"_stateClasses"in this&&h.forEach(this._stateClasses,function(a){delete b[a]});h.forEach(c,
function(a){b[a]=!0});var d=[],k;for(k in b)d.push(k);e.className=d.join(" ");this._stateClasses=c},_subnodeCssMouseEvent:function(a,c,e){function b(e){f.toggle(a,c+"Active",e)}if(!this.disabled&&!this.readOnly)switch(e.type){case "mouseover":case "MSPointerOver":case "pointerover":f.toggle(a,c+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":f.toggle(a,c+"Hover",!1);b(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":b(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":b(!1);break;case "focus":case "focusin":f.toggle(a,c+"Focused",!0);break;case "blur":case "focusout":f.toggle(a,c+"Focused",!1)}},_trackMouseState:function(a,c){a._cssState=c}});m(function(){function a(c,e,b){if(!b||!g.isDescendant(b,e))for(;e&&e!=b;e=e.parentNode)if(e._cssState){var d=n.getEnclosingWidget(e);d&&(e==d.domNode?d._cssMouseEvent(c):d._subnodeCssMouseEvent(e,e._cssState,c))}}var b=k.body(),d;l(b,
e.over,function(c){a(c,c.target,c.relatedTarget)});l(b,e.out,function(c){a(c,c.target,c.relatedTarget)});l(b,c.press,function(c){d=c.target;a(c,d)});l(b,c.release,function(c){a(c,d);d=null});l(b,"focusin, focusout",function(a){var c=a.target;if(c._cssState&&!c.getAttribute("widgetId")){var e=n.getEnclosingWidget(c);e&&e._subnodeCssMouseEvent(c,c._cssState,a)}})});return a})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(h,a,g,f){function d(a){if((a.keyCode===
h.ENTER||a.keyCode===h.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var b;g(document,"keydown",function(a){d(a)?(b=a.target,a.preventDefault()):b=null});g(document,"keyup",function(a){d(a)&&a.target==b&&(b=null,g.emit(a.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey,altKey:a.altKey,_origType:a.type}))});var l=function(a,e){a.dojoClick=!0;return g(a,"click",e)};l.click=l;l.press=function(b,
e){var d=g(b,f.press,function(c){("mousedown"!=c.type||a.isLeft(c))&&e(c)}),c=g(b,"keydown",function(a){(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&e(a)});return{remove:function(){d.remove();c.remove()}}};l.release=function(b,e){var d=g(b,f.release,function(c){("mouseup"!=c.type||a.isLeft(c))&&e(c)}),c=g(b,"keyup",function(a){(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&e(a)});return{remove:function(){d.remove();c.remove()}}};l.move=f.move;return l})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(h,a){return h("dijit._Contained",null,{_getSibling:function(a){var f=this.getParent();return f&&f._getSiblingOfChild&&f._getSiblingOfChild(this,"previous"==a?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var a=this.getParent();return!a||!a.getIndexOfChild?-1:a.getIndexOfChild(this)}})})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare",
"dojo/_base/lang"],function(h,a,g,f){f.extend(a,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",null,{_focusManager:h})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(h,
a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){var u,v,w=new (a([n,l],{curNode:null,activeStack:[],constructor:function(){var a=m.hitch(this,function(a){g.isDescendant(this.curNode,a)&&this.set("curNode",null);g.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(b,"empty",a);h.before(b,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var d=this,k=a.document&&a.document.body;if(k){var f=c("pointer-events")?"pointerdown":c("MSPointer")?
"MSPointerDown":c("touch-events")?"mousedown, touchstart":"mousedown",g=e(a.document,f,function(a){if(!a||!(a.target&&null==a.target.parentNode))d._onTouchNode(b||a.target,"mouse")}),l=e(k,"focusin",function(a){if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(r.isFocusable(a.target)?d._onFocusNode(b||a.target):d._onTouchNode(b||a.target))}}),m=e(k,"focusout",function(a){d._onBlurNode(b||a.target)});return{remove:function(){g.remove();l.remove();m.remove();k=g=
l=m=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(m.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<v+100||(this._clearActiveWidgetsTimer=setTimeout(m.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,c){v=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);d.contains(a,"dijitPopup")&&(a=a.firstChild);var e=[];try{for(;a;){var b=f.get(a,"dijitPopupParent");if(b)a=s.byId(b).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===p.body())break;a=q.get(a.ownerDocument).frameElement}else{var k=a.getAttribute&&a.getAttribute("widgetId"),g=k&&s.byId(k);g&&!("mouse"==c&&g.get("disabled"))&&e.unshift(k);a=a.parentNode}}}catch(l){}this._setStack(e,
c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,c){var e=this.activeStack,b=e.length-1,d=a.length-1;if(a[d]!=e[b]){this.set("activeStack",a);var k;for(k=b;0<=k&&e[k]!=a[k];k--)if(b=s.byId(e[k]))b._hasBeenBlurred=!0,b.set("focused",!1),b._focusManager==this&&b._onBlur(c),
this.emit("widget-blur",b,c);for(k++;k<=d;k++)if(b=s.byId(a[k]))b.set("focused",!0),b._focusManager==this&&b._onFocus(c),this.emit("widget-focus",b,c)}},focus:function(a){if(a)try{a.focus()}catch(c){}}}));k(function(){var a=w.registerWin(q.get(document));c("ie")&&e(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){w.focus(a)};for(var x in w)/^_/.test(x)||(t.focus[x]="function"==typeof w[x]?m.hitch(w,x):w[x]);w.watch(function(a,c,e){t.focus[a]=e});return w})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(h,a,g,f,d,b,l){var m={_isElementShown:function(a){var b=f.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=g.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return g.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(d){try{b=a.contentWindow.document.body}catch(f){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return g.get(a,"disabled")?void 0:g.has(a,"tabIndex")?+g.get(a,"tabIndex"):m.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=m.effectiveTabIndex(a)},isFocusable:function(a){return-1<=m.effectiveTabIndex(a)},_getTabNavigable:function(a){function d(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var c,f,l,h,r,s,t={},u=m._isElementShown,v=m.effectiveTabIndex,w=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=b("ie")&&"HTML"!==a.scopeName||!u(a))){var e=v(a);if(0<=e){if(0==e)c||(c=a),f=a;else if(0<e){if(!l||e<h)h=e,l=a;if(!r||e>=s)s=e,r=a}e=d(a);g.get(a,"checked")&&e&&(t[e]=a)}"SELECT"!=a.nodeName.toUpperCase()&&w(a)}};u(a)&&w(a);return{first:t[d(c)]||c,last:t[d(f)]||f,lowest:t[d(l)]||l,highest:t[d(r)]||r}},getFirstInTabbingOrder:function(e,
b){var c=m._getTabNavigable(a.byId(e,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(e,b){var c=m._getTabNavigable(a.byId(e,b));return c.last?c.last:c.highest}};d.mixin(l,m);return m})},"mw-menu/mixins/MenuItemTextColorMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin","mw-menu/mixins/property/ShowDescriptionMixin"],function(h,a,g){h=h(null,{_setDescriptionAttr:function(a){this.inherited(arguments);""!==a?this.textNode.classList.add("mwBlueText"):
this.textNode.classList.remove("mwBlueText")},_setShowDescriptionAttr:function(a){this.inherited(arguments);a?this.textNode.classList.add("mwBlueText"):this.textNode.classList.remove("mwBlueText")},postCreate:function(){this.inherited(arguments);(this.get("showDescription")&&""===this.get("description")||!this.get("showDescription")&&""!==this.get("description"))&&this.textNode.classList.remove("mwBlueText")}});h._dependencies=[{mixin:a,orderDependent:!0},{mixin:g,orderDependent:!0}];return h})},
"mw-mixins/property/DescriptionMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize"],function(h,a){return h(null,{description:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDescriptionMixin");this.set("description",this.get("description"))},_setDescriptionAttr:function(a){if("string"!==typeof a)throw Error("'description' property expects a literal string!");this._updateDescription(a);this._set("description",a)},_updateDescription:function(a){this._lastKnownDescription=
a;if(this.descriptionNode)this.descriptionNode.textContent=a,!1===this.get("showDescription")?this.domNode.classList.add("mwHideDescription"):""===a?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");else{var f=this;setTimeout(function(){f._destroyed||f._updateTitle(a)},200)}},_updateTitle:function(g,f){var d;f?(""!==g&&void 0!==g&&(g=""===this._lastKnownDescription?g:" ("+g+")"),d=this._lastKnownDescription+g):d=this.get("shortcut")?g?g+" ("+a.getPlatformSpecificString(this.get("shortcut"))+
")":a.getPlatformSpecificString(this.get("shortcut")):g;this.domNode.setAttribute("title",d)}})})},"mw-event-utils/platformize":function(){define(["dojo/sniff"],function(h){var a=[{regExp:/ctrl|cntrl|control/gi,macString:"\u2303",otherPlatformsString:"Ctrl"},{regExp:/meta/gi,macString:"\u2318",otherPlatformsString:"Ctrl"},{regExp:/shift/gi,macString:"\u21e7",otherPlatformsString:"Shift"},{regExp:/alt/gi,macString:"\u2325",otherPlatformsString:"Alt"},{regExp:/enter/gi,macString:"\u23ce",otherPlatformsString:"Enter"},
{regExp:/delete/gi,macString:"\u2326",otherPlatformsString:"Delete"},{regExp:/del/gi,macString:"\u2326",otherPlatformsString:"Del"},{regExp:/Spacebar/gi,macString:"\u2423",otherPlatformsString:"Spacebar"},{regExp:/space/gi,macString:"\u2423",otherPlatformsString:"Space"},{regExp:/up/gi,macString:"\u2191",otherPlatformsString:"Up"},{regExp:/down/gi,macString:"\u2193",otherPlatformsString:"Down"},{regExp:/left/gi,macString:"\u2190",otherPlatformsString:"Left"},{regExp:/right/gi,macString:"\u2192",otherPlatformsString:"Right"}];
return{getPlatformSpecificString:function(g,f){f=f||{};g=g.replace(/ /g,"");g=g.replace(/_/g,"+");g=g.toUpperCase();a.forEach(function(a){var b;h("mac")?(b=a.macString,!f.dontConvertCtrlToCmd&&"\u2303"===b&&(b="\u2318")):b=a.otherPlatformsString;g=g.replace(a.regExp,b)});return g=h("mac")?g.replace(/\+(?!$)/g,""):g}}})},"mw-menu/mixins/property/ShowDescriptionMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{showDescription:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowDescriptionMixin")},_setShowDescriptionAttr:function(a){if("boolean"!==typeof a)throw Error("'showDescription' property expects a Boolean!");!1===a?this.domNode.classList.add("mwHideDescription"):this.descriptionNode&&""===this.descriptionNode.textContent?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");this._set("showDescription",a)}})})},"mw-mixins/property/TagMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,
{tag:"",_setTagAttr:function(a){if("string"!==typeof a)throw Error("tag property expects a 'String'");this.domNode.setAttribute("data-tag",a);this._set("tag",a)},postCreate:function(){this.inherited(arguments);this.set("tag",this.get("tag"))}})})},"mw-menu/mixins/property/CloseMenuOnClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/popup"],function(h,a,g,f){return h(null,{closeMenuOnClick:!1,postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,
"change",a.hitch(this,"_onChange")));this.domNode.classList.add("mwCloseMenuOnClickMixin");this.set("closeMenuOnClick",this.get("closeMenuOnClick"))},_setCloseMenuOnClickAttr:function(a){if("boolean"!==typeof a)throw Error("'closeMenuOnClick' property expects a Boolean!");this._set("closeMenuOnClick",a);a?this.domNode.classList.add("mwClosePopupOnClick"):this.domNode.classList.remove("mwClosePopupOnClick")},_onChange:function(){this.get("closeMenuOnClick")&&(f.close(),this.emit("closeRequest"))}})})},
"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){function t(){this._popupWrapper&&(b.destroy(this._popupWrapper),delete this._popupWrapper)}g=g(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=
this._firstAroundPosition,e=l.position(this._firstAroundNode,!0),b=e.x-a.x,a=e.y-a.y;if(b||a){this._firstAroundPosition=e;for(e=0;e<this._stack.length;e++){var d=this._stack[e].wrapper.style;d.top=parseFloat(d.top)+a+"px";"auto"==d.right?d.left=parseFloat(d.left)+b+"px":d.right=parseFloat(d.right)-b+"px"}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),b||a?10:50)}},_createWrapper:function(c){var e=c._popupWrapper,d=c.domNode;e||(e=b.create("div",{"class":"dijitPopup",style:{display:"none"},
role:"region","aria-label":c["aria-label"]||c.label||c.name||c.id},c.ownerDocumentBody),e.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",c._popupWrapper=e,a.after(c,"destroy",t,!0),"ontouchend"in document&&n(e,"touchend",function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}),e.dojoClick=!0);return e},moveOffScreen:function(a){var c=this._createWrapper(a);a=l.isBodyLtr(a.ownerDocument);var e={visibility:"hidden",top:"-9999px",display:""};
e[a?"left":"right"]="-9999px";e[a?"right":"left"]="auto";m.set(c,e);return c},hide:function(a){var c=this._createWrapper(a);m.set(c,{display:"none",height:"auto",overflowY:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,c=a.length-1;0<c&&a[c].parent===a[c-1].widget;c--);return a[c]},open:function(a){var b=this._stack,g=a.popup,h=g.domNode,s=a.orient||["below","below-alt","above","above-alt"],t=a.parent?a.parent.isLeftToRight():
l.isBodyLtr(g.ownerDocument),A=a.around,B=a.around&&a.around.id?a.around.id+"_dropdown":"popup_"+this._idGen++;if(!a.doNotClose)for(;b.length&&(!a.parent||!f.isDescendant(a.parent.domNode,b[b.length-1].widget.domNode));)this.close(b[b.length-1].widget);var D=this.moveOffScreen(g);g.startup&&!g._started&&g.startup();var H,G=l.position(h);if("maxHeight"in a&&-1!=a.maxHeight)H=a.maxHeight||Infinity;else{H=r.getEffectiveBox(this.ownerDocument);var I=A?l.position(A,!1):{y:a.y-(a.padding||0),h:2*(a.padding||
0)};H=Math.floor(Math.max(I.y,H.h-(I.y+I.h)))}G.h>H&&(G=m.getComputedStyle(h),m.set(D,{overflowY:"scroll",height:H+"px",border:G.borderLeftWidth+" "+G.borderLeftStyle+" "+G.borderLeftColor}),h._originalStyle=h.style.cssText,h.style.border="none");d.set(D,{id:B,style:{zIndex:this._beginZIndex+b.length},"class":"dijitPopup "+(g.baseClass||g["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:a.parent?a.parent.id:""});0==b.length&&A&&(this._firstAroundNode=A,this._firstAroundPosition=l.position(A,!0),
this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),50));e("config-bgIframe")&&!g.bgIframe&&(g.bgIframe=new q(D));B=g.orient?c.hitch(g,"orient"):null;s=A?p.around(D,A,s,t,B):p.at(D,a,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding,B);D.style.visibility="visible";h.style.visibility="visible";h=[];h.push(n(D,"keydown",c.hitch(this,function(c){if(c.keyCode==k.ESCAPE&&a.onCancel)c.stopPropagation(),c.preventDefault(),a.onCancel();else if(c.keyCode==k.TAB&&(c.stopPropagation(),
c.preventDefault(),(c=this.getTopPopup())&&c.onCancel))c.onCancel()})));g.onCancel&&a.onCancel&&h.push(g.on("cancel",a.onCancel));h.push(g.on(g.onExecute?"execute":"change",c.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));b.push({widget:g,wrapper:D,parent:a.parent,onExecute:a.onExecute,onCancel:a.onCancel,onClose:a.onClose,handlers:h});if(g.onOpen)g.onOpen(s);return s},close:function(a){for(var c=this._stack;a&&h.some(c,function(c){return c.widget==a})||!a&&c.length;){var e=
c.pop(),b=e.widget,d=e.onClose;b.bgIframe&&(b.bgIframe.destroy(),delete b.bgIframe);if(b.onClose)b.onClose();for(var k;k=e.handlers.pop();)k.remove();b&&b.domNode&&this.hide(b);d&&d()}0==c.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return s.popup=new g})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(h,a,g,f,d,b,l){function m(e,c,f,l){var m=b.getEffectiveBox(e.ownerDocument);(!e.parentNode||"body"!=String(e.parentNode.tagName).toLowerCase())&&d.body(e.ownerDocument).appendChild(e);var r=null;h.some(c,function(c){var b=c.corner,d=c.pos,g=0,h={w:{L:m.l+m.w-d.x,R:d.x-m.l,M:m.w}[b.charAt(1)],h:{T:m.t+m.h-d.y,B:d.y-m.t,M:m.h}[b.charAt(0)]},s=e.style;s.left=s.right="auto";f&&(g=f(e,c.aroundCorner,b,h,l),g="undefined"==typeof g?0:g);var t=e.style,B=t.display,D=t.visibility;"none"==t.display&&
(t.visibility="hidden",t.display="");s=a.position(e);t.display=B;t.visibility=D;B={L:d.x,R:d.x-s.w,M:Math.max(m.l,Math.min(m.l+m.w,d.x+(s.w>>1))-s.w)}[b.charAt(1)];D={T:d.y,B:d.y-s.h,M:Math.max(m.t,Math.min(m.t+m.h,d.y+(s.h>>1))-s.h)}[b.charAt(0)];d=Math.max(m.l,B);t=Math.max(m.t,D);B=Math.min(m.l+m.w,B+s.w);D=Math.min(m.t+m.h,D+s.h);B-=d;D-=t;g+=s.w-B+(s.h-D);if(null==r||g<r.overflow)r={corner:b,aroundCorner:c.aroundCorner,x:d,y:t,w:B,h:D,overflow:g,spaceAvailable:h};return!g});r.overflow&&f&&f(e,
r.aroundCorner,r.corner,r.spaceAvailable,l);c=r.y;var s=r.x,t=d.body(e.ownerDocument);/relative|absolute/.test(g.get(t,"position"))&&(c-=g.get(t,"marginTop"),s-=g.get(t,"marginLeft"));t=e.style;t.top=c+"px";t.left=s+"px";t.right="auto";return r}var e={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return l.place={at:function(a,c,b,d,f){b=h.map(b,function(a){var b={corner:a,aroundCorner:e[a],pos:{x:c.x,y:c.y}};d&&(b.pos.x+="L"==a.charAt(1)?d.x:-d.x,b.pos.y+="T"==a.charAt(0)?d.y:-d.y);return b});return m(a,b,f)},
around:function(e,c,b,d,l){function r(a,c){D.push({aroundCorner:a,corner:c,pos:{x:{L:z,R:z+A,M:z+(A>>1)}[a.charAt(1)],y:{T:y,B:y+B,M:y+(B>>1)}[a.charAt(0)]}})}var s;if("string"==typeof c||"offsetWidth"in c||"ownerSVGElement"in c){if(s=a.position(c,!0),/^(above|below)/.test(b[0])){var t=a.getBorderExtents(c),u=c.firstChild?a.getBorderExtents(c.firstChild):{t:0,l:0,b:0,r:0},v=a.getBorderExtents(e),w=e.firstChild?a.getBorderExtents(e.firstChild):{t:0,l:0,b:0,r:0};s.y+=Math.min(t.t+u.t,v.t+w.t);s.h-=
Math.min(t.t+u.t,v.t+w.t)+Math.min(t.b+u.b,v.b+w.b)}}else s=c;if(c.parentNode){t="absolute"==g.getComputedStyle(c).position;for(c=c.parentNode;c&&1==c.nodeType&&"BODY"!=c.nodeName;){u=a.position(c,!0);v=g.getComputedStyle(c);/relative|absolute/.test(v.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(v.overflow)){var w=Math.min(s.y+s.h,u.y+u.h),x=Math.min(s.x+s.w,u.x+u.w);s.x=Math.max(s.x,u.x);s.y=Math.max(s.y,u.y);s.h=w-s.y;s.w=x-s.x}"absolute"==v.position&&(t=!0);c=c.parentNode}}var z=s.x,y=s.y,
A="w"in s?s.w:s.w=s.width,B="h"in s?s.h:(f.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+y+", height:"+s.height+", width:"+A+" } has been deprecated.  Please use { x:"+z+", y:"+y+", h:"+s.height+", w:"+A+" }","","2.0"),s.h=s.height),D=[];h.forEach(b,function(a){var c=d;switch(a){case "above-centered":r("TM","BM");break;case "below-centered":r("BM","TM");break;case "after-centered":c=!c;case "before-centered":r(c?"ML":"MR",c?"MR":"ML");break;case "after":c=!c;case "before":r(c?
"TL":"TR",c?"TR":"TL");r(c?"BL":"BR",c?"BR":"BL");break;case "below-alt":c=!c;case "below":r(c?"BL":"BR",c?"TL":"TR");r(c?"BR":"BL",c?"TR":"TL");break;case "above-alt":c=!c;case "above":r(c?"TL":"TR",c?"BL":"BR");r(c?"TR":"TL",c?"BR":"BL");break;default:r(a.aroundCorner,a.corner)}});e=m(e,D,l,{w:A,h:B});e.aroundNodePos=s;return e}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(h,a,g,f,d){var b=new h,l;g(function(){var g=d.getBox();
b._rlh=a(window,"resize",function(){var a=d.getBox();g.h==a.h&&g.w==a.w||(g=a,b.emit("resize"))});if(8==f("ie")){var e=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=e&&(e=screen.deviceXDPI,b.emit("resize"))},500)}f("ios")&&(a(document,"focusin",function(a){l=a.target}),a(document,"focusout",function(a){l=null}))});b.getEffectiveBox=function(a){a=d.getBox(a);var e=l&&l.tagName&&l.tagName.toLowerCase();if(f("ios")&&l&&!l.readOnly&&("textarea"==e||"input"==e&&/^(color|email|number|password|search|tel|text|url)$/.test(l.type)))a.h*=
0==orientation||180==orientation?0.66:0.4,e=l.getBoundingClientRect(),a.h=Math.max(a.h,e.top+e.height);return a};return b})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(h,a,g,f,d,b,l,m){m.add("config-bgIframe",m("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||m("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var e=new function(){var a=[];this.pop=function(){var c;
a.length?(c=a.pop(),c.style.display=""):(9>m("ie")?(c="\x3ciframe src\x3d'"+(g.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",c=document.createElement(c)):(c=f.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),d.set(c,"opacity",0.1)),c.tabIndex=-1);return c};this.push=function(c){c.style.display=
"none";a.push(c)}};a.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(m("config-bgIframe")){var c=this.iframe=e.pop();a.appendChild(c);7>m("ie")||m("quirks")?(this.resize(a),this._conn=l(a,"resize",b.hitch(this,"resize",a))):d.set(c,{width:"100%",height:"100%"})}};b.extend(a.BackgroundIframe,{resize:function(a){this.iframe&&d.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),
e.push(this.iframe),delete this.iframe)}});return a.BackgroundIframe})},"mw-mixins/property/DisabledMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{disabled:!1,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDisabledMixin");this.set("disabled",this.get("disabled"))},startup:function(){this.inherited(arguments);this.get("disabled")&&(this.domNode.dojoClick=!1)},_disableInteractionHandler:function(a){a.preventDefault();a.stopImmediatePropagation();
a.stopPropagation()},_addDisableInteractions:function(a){null!==a&&(a.addEventListener("mousedown",this._disableInteractionHandler,!0),a.addEventListener("click",this._disableInteractionHandler,!0))},_removeDisableInteractions:function(a){null!==a&&(a.removeEventListener("mousedown",this._disableInteractionHandler,!0),a.removeEventListener("click",this._disableInteractionHandler,!0))},_getDisabledNode:function(){return this.domNode},_updateDisableNode:function(a){var g=this._getDisabledNode();a?(this.domNode.classList.add("mwDisabled"),
this.domNode.classList.remove("mwEnabled"),this._addDisableInteractions(g)):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"),this._removeDisableInteractions(g))},_setDisabledAttr:function(a){if("boolean"!==typeof a)throw Error("'disabled' property expects a boolean!");this._set("disabled",a);this._updateDisableNode(a);this.set("hovering",!1);this.set("active",!1);this._setAriaDisabled();this.baseClass.split(" ").forEach(function(g){a?this.domNode.classList.add(g+
"Disabled"):this.domNode.classList.remove(g+"Disabled")}.bind(this));a?this.domNode.classList.add("dijitDisabled"):this.domNode.classList.remove("dijitDisabled");this._setTabIndexOnNode(this.focusNode)},_setTabIndexOnNode:function(a){this.get("disabled")&&!this.get("dropDownNeverDisabled")?a.removeAttribute("tabIndex"):a.setAttribute("tabIndex","0")},_setAriaDisabled:function(){(this.disabledNode?this.disabledNode:this.domNode).setAttribute("aria-disabled",this.get("disabled")&&!this.get("dropDownNeverDisabled")?
"true":"false")}})})},"mw-mixins/property/IconMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/on"],function(h,a,g,f){return h(null,{_iconTypes:{DATA_URI:"data_uri",CSS_CLASS:"css_class"},icon:"",_lastIconApplied:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconMixin");this.set("icon",this.get("icon"))},_setIconAttr:function(a){if("string"!==typeof a)throw Error("'icon' property expects a literal string!");this._set("icon",
a);this._updateDOM(a)},_updateDOM:function(a){this._removeOldIcon();this._applyNewIcon(a)},_removeOldIcon:function(){var a=this._lastIconApplied,b=this._getIconType(a);b===this._iconTypes.DATA_URI?this._removeImageStyles(this.iconNode):b===this._iconTypes.CSS_CLASS&&""!==a&&a.trim().split(" ").forEach(function(a){this.iconNode.classList.remove(a)},this)},_applyNewIcon:function(d){var b=this._getIconType(d);if(b===this._iconTypes.DATA_URI){var l=g.create("img",{src:d});this.own(f.once(l,"load",a.hitch(this,
function(){this._applyImageStyles(this.iconNode,d,l);this.emit("iconapplied");this.emit("updatelayout");g.destroy(l)})))}else b===this._iconTypes.CSS_CLASS&&""!==d&&d.trim().split(" ").forEach(function(a){this.iconNode.classList.add(a)},this);0===d.length?this.domNode.classList.add("mwNoIcon"):this.domNode.classList.remove("mwNoIcon");this._lastIconApplied=d},_getIconType:function(a){var b="";return b=-1<a.indexOf("data:")?this._iconTypes.DATA_URI:this._iconTypes.CSS_CLASS},_applyImageStyles:function(a,
b,f){a.style.backgroundImage="url("+b+")";a.style.width=f.width+"px";a.style.height=f.height+"px"},_removeImageStyles:function(a){a.style.backgroundImage="";a.style.width="";a.style.height=""}})})},"mw-mixins/property/ShortcutMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize","mw-mixins/property/DescriptionMixin"],function(h,a,g){h=h(null,{shortcut:"",platformizeShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShortcutMixin");this.set("shortcut",
this.get("shortcut"))},_setShortcutAttr:function(a){if("string"!==typeof a)throw Error("'shortcut' property expects a literal string!");this._updateShortcut(a);this._set("shortcut",a)},_updateShortcut:function(a){this.shortcutKeyNode?(this.shortcutKeyNode.textContent=this._getPlatformizedShortcut(a),!1===this.get("showShortcut")?this.domNode.classList.add("mwHideShortcut"):""===a?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut")):this._updateTitle(this._getPlatformizedShortcut(a),
!0)},_getPlatformizedShortcut:function(f){return this.get("platformizeShortcut")?a.getPlatformSpecificString(f):f},_setPlatformizeShortcutAttr:function(a){if("boolean"!==typeof a)throw Error("'platformizeShortcut' property expects a boolean value!");this._set("platformizeShortcut",a);this._updateShortcut(this.get("shortcut"))}});h._dependencies=[{mixin:g,orderDependent:!0,type:"shortcut"}];return h})},"mw-menu/mixins/property/ShowIconMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,
{showIcon:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowIconMixin")},_setShowIconAttr:function(a){if("boolean"!==typeof a)throw Error("'showIcon' property expects a Boolean!");a?this.domNode.classList.remove("mwHideIcon"):this.domNode.classList.add("mwHideIcon");this._set("showIcon",a)}})})},"mw-menu/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{showText:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowTextMixin")},
_setShowTextAttr:function(a){if("boolean"!==typeof a)throw Error("'showText' property expects a Boolean!");a?this.domNode.classList.remove("mwHideText"):this.domNode.classList.add("mwHideText");this._set("showText",a)}})})},"mw-menu/mixins/property/ShowShortcutMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{showShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowShortcutMixin")},_setShowShortcutAttr:function(a){if("boolean"!==typeof a)throw Error("'showShortcut' property expects a Boolean!");
!1===a?this.domNode.classList.add("mwHideShortcut"):this.shortcutNode&&""===this.shortcutNode.textContent?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut");this._set("showShortcut",a)}})})},"mw-mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this.set("text",this.get("text"))},_setTextAttr:function(a){if("string"!==
typeof a)throw Error("'text' property expects a literal string!");this._updateTextInDOM(a);this._set("text",a)},_updateTextInDOM:function(a){this._placeTextInNode(a);0===this._getTextForDOM(a).length?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(a,g){void 0===g&&(g=this.textNode);for(;g.firstChild;)g.removeChild(g.firstChild);var f=this._getTextForDOM(a,g);if(0<f.length){var d=document.createElement("span");d.classList.add("mwTextLine");
d.textContent=f;g.appendChild(d);g.classList.remove("mwEmptyNode")}else g.classList.add("mwEmptyNode")},_getTextForDOM:function(a){return a}})})},"mw-menu/mixins/SingleLineTextMixin":function(){define(["dojo/_base/declare","mw-mixins/property/TextMixin"],function(h,a){var g=h(null,{_getTextForDOM:function(a){a=this.inherited(arguments);return a=a.replace(/\n/g," ")}});g._dependencies=[{mixin:a,orderDependent:!0}];return g})},"mw-mixins/property/VisualFamilyMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{visualFamily:"default",_setVisualFamilyAttr:function(a){if("string"!==typeof a||0===a.length)throw Error("'visualFamily' property expects a literal non-empty string!");var g=this._getClassNameForVisualFamily(this.get("visualFamily"));this.domNode.classList.remove(g);g=this._getClassNameForVisualFamily(a);this.domNode.classList.add(g);this._set("visualFamily",a)},_getClassNameForVisualFamily:function(a){return"mw"+a.charAt(0).toUpperCase()+a.slice(1)+"VisualFamily"}})})},
"mw-mixins/AccessibilityClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys"],function(h,a,g,f){return h(null,{postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",a.hitch(this,function(d){d.keyCode===f.SPACE&&-1===Array.prototype.slice.call(this.domNode.classList).indexOf("mwComboBox")&&d.preventDefault();setTimeout(a.hitch(this,function(){if(!0!==this.get("disabled"))switch(d.keyCode){case f.ENTER:this._emitClickEvent(d);break;
case f.SPACE:this._emitClickEvent(d)}}),0)})));this.own(g(this.domNode,"keyup",a.hitch(this,function(a){var b=a.keyCode===f.ENTER||a.keyCode===f.SPACE,g=/input|button|textarea/i.test(a.target.nodeName);b&&!g&&a.stopPropagation()})))},_emitClickEvent:function(a){g.emit(a.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:a.keyCode},_dojo_click:!0})},_qeClick:function(){this.emit("click")}})})},"mw-mixins/PreventSelectionMixin":function(){define(["dojo/_base/declare","dojo/on"],function(h,
a){return h(null,{postCreate:function(){this.inherited(arguments);this._getNonSelectableNodes().forEach(function(g){a(g,"selectstart",function(a){if((document.documentMode||"Netscape"===navigator.appName&&-1===navigator.appVersion.indexOf("Trident"))&&("INPUT"!==a.target.nodeName||"TEXTAREA"!==a.target.nodeName))return!1;a.preventDefault()})})},_getNonSelectableNodes:function(){return[this.domNode]}})})},"mw-menu/mixins/FocusableMenuChildMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom dojo/on dojo/mouse dojo/touch dijit/focus dijit/registry mw-dom-utils/domUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return h(null,{postCreate:function(){this.inherited(arguments);var c=g("touch")&&!window.PointerEvent;this.own(d(this.domNode,"click",a.hitch(this,"_onMouseClick")),d(this.domNode,c?l.release:"mouseup",a.hitch(this,"_onMouseUp")),d(this.domNode,b.enter,a.hitch(this,"_onMouseEnter")),d(this.domNode,"focusout",a.hitch(this,"_focusLost")));this.domNode.classList.add("mwFocusableMenuChildMixin")},_focusLost:function(c){setTimeout(a.hitch(this,function(){var a,b=k.parseFocusEvent(c).gainedFocusNode,
d=e.getEnclosingWidget(b);if(d&&(a=d.focusNode||d.domNode)&&a.hasAttribute("data-composite-child"))if(d=e.getEnclosingWidget(f.byId(a.getAttribute("data-composite-primary-id"))),d===this)return;this!==d&&(a=this.getParentWidget(),(null==d||k.isFocusable(b))&&(a&&a._focusChange)&&a._focusChange(d),this.focusLost&&this.focusLost(d))}),0)},_onMouseClick:function(a){a.mwEventData?(this.focus(),this.closeMenuOnClick&&this._requestClose(!1)):(a.preventDefault(),a.stopImmediatePropagation())},_onMouseEnter:function(a){this.focusNode&&
k.isFocusable(this.focusNode)&&this.focus()},_onMouseUp:function(a){a.preventDefault();a.stopPropagation();!(this.getParentWidget()&&!0===this.getParentWidget()._mouseDownTriggered)&&k.isFocusable(this.focusNode)&&this._emitClickEvent&&(k.isLeftMouseButton(a)||"dojotouchend"===a.type)&&this._emitClickEvent(a)},_requestClose:function(a){var e=this.getParentWidget();null!=e&&e.closeRequest&&(e._closeEventData={mwEventData:{gainedFocusWidget:null}},e.closeRequest(a?a:!1))},focus:function(){this.inherited(arguments);
k.isFocusable(this.focusNode)&&(m.focus(this.focusNode||this.domNode),(this.focusNode||this.domNode).focus())},getParentWidget:function(a){if(null==a)if(this.domNode)a=this.domNode;else return null;a.domNode&&(a=a.domNode);if(a.parentNode)a=k.getParent(a);else return null;return e.getEnclosingWidget(a)}})})},"mw-dom-utils/domUtils":function(){define(["dojo/sniff"],function(h){var a={},g={INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",
INVALID_BOOLEAN:"The input parameter must be of type 'boolean'.",INVALID_OBJECT:"The input parameter must be of type 'object'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},f=function(a){if(!(a instanceof
Element))throw Error(g.INVALID_ELEMENT);},d=function(a){if(-1===["String","string"].indexOf(typeof a))throw Error(g.INVALID_STRING);},b=function(a){if(-1===["Boolean","boolean"].indexOf(typeof a))throw Error(g.INVALID_BOOLEAN);},l=function(a){if(-1===["Object","object"].indexOf(typeof a))throw Error(g.INVALID_OBJECT);};a._qeSetup=function(){a._qeTools={};a._qeTools.errorMessages=g;a._qeTools.validateElement=f;a._qeTools.validateString=d;a._qeTools.validateBoolean=b;a._qeTools.validateObject=l;a._qeTools.overrideErrorMessaged=
function(a){g=a};a._qeTools.overrideValidateElement=function(a){f=a};a._qeTools.overrideValidateString=function(a){d=a};a._qeTools.overrideValidateBoolean=function(a){b=a};a._qeTools.overrideValidateObject=function(a){l=a}};a.isLeftMouseButton=function(a){return!0===a.synthetic&&h("trident")?1===a.button:0===a.button};a.parseFocusEvent=function(a){if(!(a instanceof FocusEvent))throw Error(g.INVALID_FOCUS_EVENT);var e={};e.lostFocusNode=a.target;e.gainedFocusNode=h("chrome")||h("safari")?a.relatedTarget:
document.activeElement;e.type=a.type;e.eventdata=a;return e};a.getParent=function(a){f(a);return a.parentNode};a.findParentNode=function(a,e,b){var c=null,d;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(b){if(a.hasAttribute(e)&&a.getAttribute(e)===b){c=a;break}}else{if(a.hasAttribute(e)){c=a;break}if(a.classList.contains(e)){c=a;break}}a=(d=a.getAttribute("dijitpopupparent"))?document.getElementById(d):a.parentNode}return c};a.getNodeType=function(a){f(a);return{1:"Element",3:"Text",7:"Processing Instruction",
8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[a.nodeType]};a.getById=function(a){d(a);return window.document.getElementById(a)};a.getByClass=function(a){d(a);return window.document.getElementsByClassName(a)};a.getByAttr=function(a){d(a);return window.document.querySelectorAll("["+a+"]")};a.getByAttrValue=function(a,e){d(a);d(e);return window.document.querySelectorAll("["+a+"\x3d"+e.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")};a.getByName=function(a){d(a);return window.document.getElementById("[name\x3d"+
a+"]")};a.getByTag=function(a){d(a);return window.document.getElementsByTagName(a)};a.matchesSelector=function(a,e){if(!a||!e)return!1;f(a);d(e);return a[a.msMatchesSelector?"msMatchesSelector":"matches"](e)};a.getComputedStyle=function(a,e){f(a);return e?(d(e),window.getComputedStyle(a,null)[e]):window.getComputedStyle(a,null)};a.getStyle=function(a,e){f(a);d(e);if(void 0===a.style[e])throw Error(g.INVALID_STYLE);return a.style[e]};a.setStyle=function(a,e,b){f(a);d(e);d(b);a.style[e]=b;if(a.style[e]!==
b)throw Error(g.INVALID_VALUE);};a.hasAttr=function(a,e){f(a);d(e);return a.hasAttribute(e)};a.hasAttrValue=function(a,e,b){f(a);d(e);d(b);return a.hasAttribute(e)&&a.getAttribute(e)===b};a.getAttr=function(a,e){f(a);d(e);return a.getAttribute(e)};a.setAttr=function(a,e,b){f(a);d(e);d(b);a.setAttribute(e,b)};a.addAttr=function(a,e){f(a);d(e);a.setAttribute(e,"")};a.removeAttr=function(a,e){f(a);d(e);a.removeAttribute(e)};a.getClasses=function(a){f(a);return a.classList?a.classList:{_element:a,_getClassArray:function(){return this._element.className.split(" ")},
_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:a.className.split(" ").length,item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),
!1;this.add(a);return!0}}};a.getClass=function(b,e){if(null==e||"number"!==typeof e||0>e||0!==e%1)throw Error(g.INTEGER_INDEX);return a.getClasses(b).item(e)};a.addClass=function(b,e){if(null==e||"string"!==typeof e)throw Error(g.STRING_INDEX);return a.getClasses(b).add(e)};a.removeClass=function(b,e){if(null==e||"string"!==typeof e)throw Error(g.STRING_INDEX);return a.getClasses(b).remove(e)};a.toggleClass=function(b,e,d){if(null==e||"string"!==typeof e)throw Error(g.STRING_INDEX);return d?a.getClasses(b).toggle(e,
d):a.getClasses(b).toggle(e)};a.containsClass=function(b,e){if(null==e||"string"!==typeof e)throw Error(g.STRING_INDEX);return a.getClasses(b).contains(e)};a.classCount=function(b){return a.getClasses(b).length};a.getChildCount=function(a){f(a);return a.childElementCount};a.getChildren=function(a){f(a);return a.children};a.isDescendant=function(b,e,d){f(b);f(e);if(d&&b===e)return!0;for(;b&&b!==window.document;)if(b=a.getParent(b),b===e)return!0;return!1};a.isDescendantOrInLaw=function(b,e,d,c){var f;
if("function"!==typeof d)throw Error(g.SPOUSE_NODE);f=a.isDescendant(b,e,c);!1===f&&(b=d(b)||b.parentNode)&&b!==window.document&&(f=a.isDescendantOrInLaw(b,e,d,c));return f};a.getFirstChild=function(b){f(b);return!a.isContainer(b)||1>a.getChildCount(b)?null:a.getChildren(b)[0]};a.getLastChild=function(b){var e;f(b);e=a.getChildCount(b);return!a.isContainer(b)||1>e?null:a.getChildren(b)[e-1]};a.isContainer=function(b){f(b);return 0<a.getChildCount(b)};a.getAdjacentElement=function(a,b){f(a);if(!b||
0>["next","previous"].indexOf(b))b="next";return a=a[b+"Sibling"]};a.getElementPositionInViewPort=function(a){f(a);a=a.getBoundingClientRect();return{x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top}};a.getElementPositionOnPage=function(b){f(b);b=a.getElementPositionInViewPort(b);b.x+=window.pageXOffset;b.y+=window.pageYOffset;return b};a.setPositionExtents=function(b,e){l(e);var d={};d.top=e.t?e.t:e.top?e.top:"auto";d.right=e.r?e.r:e.right?e.right:"auto";d.bottom=e.b?e.b:e.bottom?e.bottom:"auto";
d.left=e.l?e.l:e.left?e.left:"auto";["top","right","bottom","left"].forEach(function(c){a.setStyle(b,c,d[c])})};a.isFocusable=function(a){f(a);return a&&!a.hasAttribute("disabled")&&(!a.hasAttribute("aria-disabled")||"true"!==a.getAttribute("aria-disabled"))&&"none"!==a.style.display&&!a.hasAttribute("data-refuse-key-nav")};a.isElementInViewport=function(a,b){var d,c,g,l;f(a);d=a.getBoundingClientRect();c=window.innerWidth||document.documentElement.clientWidth;g=window.innerHeight||document.documentElement.clientHeight;
l=function(a,c){return document.elementFromPoint(a,c)};return 0>=d.width||0>=d.height||0>d.right||0>d.bottom||d.left>c||d.top>g?!1:2>d.width&&2>d.height?(c=d.left+(d.right-d.left)/2,g=d.top+(d.bottom-d.top)/2,a.contains(l(c,g))):2>d.width?(c=d.left+(d.right-d.left)/2,b?a.contains(l(c,d.top+1))&&a.contains(l(c,d.bottom-1)):a.contains(l(c,d.top+1))||a.contains(l(c,d.bottom-1))):2>d.height?(g=d.top+(d.bottom-d.top)/2,b?a.contains(l(d.left+1,g))&&a.contains(l(d.right-1,g)):a.contains(l(d.left+1,g))||
a.contains(l(d.right-1,g))):b?a.contains(l(d.left+1,d.top+1))&&a.contains(l(d.right-1,d.top+1))&&a.contains(l(d.right-1,d.bottom-1))&&a.contains(l(d.left+1,d.bottom-1)):a.contains(l(d.left+1,d.top+1))||a.contains(l(d.right-1,d.top+1))||a.contains(l(d.right-1,d.bottom-1))||a.contains(l(d.left+1,d.bottom-1))};a._obscuredProps={};a._obscuredProps.sawPosAbsolute=!1;a._obscuredProps.elementPosition=null;a.isElementObscuredByParent=function(b,e){var d,c,g,l;f(b);l=!1;if(g=a.getParent(b))if(e||(a._obscuredProps.elementPosition=
a.getElementPositionOnPage(b),a._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(b,null).position),d=a._obscuredProps.elementPosition,c=a._obscuredProps.sawPosAbsolute,g&&"Element"===a.getNodeType(g)&&"BODY"!==g.nodeName){var h=a.getElementPositionOnPage(g);g=window.getComputedStyle(g,null);/relative|absolute/.test(g.position)&&(c=a._sawPosAbsolute=!1);!c&&/hidden|auto|scroll/.test(g.overflow)&&(l=d.y<h.y||d.y+d.h>h.y+h.h||d.x<h.x||d.x+d.w>h.x+h.w)}return l};a.isElementObscuredByAncestor=
function(b){var e,d;f(b);e=!1;a._obscuredProps.elementPosition=a.getElementPositionOnPage(b);for(a._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(b,null).position;(d=a.getParent(b))&&"Element"===a.getNodeType(d)&&"BODY"!==d.nodeName;)e=a.isElementObscuredByParent(b,!0),b=d;return e};return a})},"mw-menu/mixins/MenuChildResizeMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(h,a){var g="icon text shortcut description showIcon showText showShortcut showDescription".split(" ");
return h(null,{postCreate:function(){this.inherited(arguments);this.watch(a.hitch(this,function(a,d,b){-1<g.indexOf(a)&&("icon"!==a||this._getIconType(b)!==this._iconTypes.DATA_URI)&&this.emit("updatelayout")}));this.domNode.classList.add("mwMenuChildResizeMixin")}})})},"mw-mixins/mixinDependencyValidator":function(){define([],function(){return{validate:function(h){return h}}})},"mw-menu/Menu":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/DestroyedMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return h(r.validate([g,b,f,d,n,l,m,e,k,c,p,q]),{baseClass:"mwWidget mwMenu",templateString:s,_getTargetNode:function(a){a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));return a},isMenuOpen:function(){return this.domNode&&this.domNode.parentElement?"none"!==this.domNode.parentElement.style.display:!1}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct",
"dojo/_base/kernel"],function(h,a,g,f){return a("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,b){var f=this.containerNode;if(0<b){for(f=f.firstChild;0<b;)1==f.nodeType&&b--,f=f.nextSibling;f?b="before":(f=this.containerNode,b="last")}g.place(a.domNode,f,b);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&
a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,b){var f=this.getChildren(),g=h.indexOf(f,a);return f[g+b]},getIndexOfChild:function(a){return h.indexOf(this.getChildren(),a)}})})},"mw-menu/mixins/KeyNavMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys","mw-menu/mixins/ContainerFocusMixin"],function(h,a,g,f,d){h=h(null,{postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",
a.hitch(this,"_onKeyDown")),g(this.domNode,"synkeydown",a.hitch(this,"_onKeyDown")))},_onKeyDown:function(a){a.keyCode===f.DOWN_ARROW?(this._handleFocusNext(a.target),a.preventDefault()):a.keyCode===f.UP_ARROW?(this._handleFocusPrevious(a.target),a.preventDefault()):a.keyCode===f.PAGE_UP||a.keyCode===f.HOME?(this._moveToFirstChild(a.target),a.preventDefault()):a.keyCode===f.PAGE_DOWN||a.keyCode===f.END?(this._moveToLastChild(a.target),a.preventDefault()):a.keyCode===f.TAB&&(this._handleFocusNext(a.target),
a.preventDefault())},_handleFocusNext:function(a){(null===a||this._isActiveElement(a))&&this.focusNext(this._getTargetNode(a))},_handleFocusPrevious:function(a){(null===a||this._isActiveElement(a))&&this.focusPrevious(this._getTargetNode(a))},_moveToFirstChild:function(){this.focusFirst()},_moveToLastChild:function(){this.focusLast()},_getTargetNode:function(a){return a},_isActiveElement:function(a){return a.hasAttribute("data-composite-primary")?a.contains(document.activeElement):a===document.activeElement}});
h._dependencies=[{mixin:d,orderDependent:!1}];return h})},"mw-menu/mixins/ContainerFocusMixin":function(){define(["dojo/_base/declare","mw-dom-utils/domUtils","dijit/focus"],function(h,a,g){return h(null,{isCyclic:!0,_setIsCyclicAttr:function(a){if("boolean"!==typeof a)throw Error("'isCyclic' property expects a boolean value.");this._set("isCyclic",a)},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwContainerFocusMixin");this.focusNode=this.focusNode||this.domNode},focus:function(f){this.inherited(arguments);
f?this._focusNearestFocusableNode(f,!0,"next"):this.focusNode&&a.isFocusable(this.focusNode)&&g.focus(this.focusNode)},focusNext:function(f){this.inherited(arguments);f||(f=document.activeElement&&a.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(f,!1,"next")},focusPrevious:function(f){this.inherited(arguments);f||(f=document.activeElement&&a.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);
this._focusNearestFocusableNode(f,!1,"previous")},focusFirst:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"next")},focusLast:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"previous")},_focusNearestFocusableNode:function(f,d,b){f=this._getAppropriateNodeFromInput(f);if(0<a.getChildren(this.domNode).length&&(null==f||a.isDescendant(f,this.domNode,!0)))f=this._findFocusableChild(f,d,b),null!==f&&(a.isElementInViewport(f)||f.scrollIntoView(!0),
g.focus(f))},_findFocusableChild:function(f,d,b){var g=!1,m,e=!1;f=this._getAppropriateNodeFromInput(f);null==d&&(d=!0);if(!b||0>["next","previous"].indexOf(b))b="next";if(f===this.domNode)g=!0;else for((m=f)&&!d&&(m=a.getAdjacentElement(m,b));m&&!a.isFocusable(m);){if(m===f){if(e)return null;e=!0}m=a.getAdjacentElement(m,b)}if(g||!m&&this.isCyclic||null==f){switch(b){case "next":m=a.getFirstChild(this.domNode);break;case "previous":m=a.getLastChild(this.domNode)}m=this._findFocusableChild(m,!0,b)}m&&
(f=this._getAppropriateNodeFromInput(m));return f},_getAppropriateNodeFromInput:function(a){if(null==a)return null;a=a.focusNode||a.domNode||a;if(!(a instanceof Element))throw Error("Input argument expects a Widget or DOM node.");return a}})})},"mw-menu/mixins/OnOpenMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry"],function(h,a,g){return h(null,{_focusOnOpen:!0,_matchMinWidthToInvokingWidget:!0,onOpen:function(){setTimeout(a.hitch(this,function(){if(this._focusOnOpen&&
this.focus){var a=window.pageXOffset,d=window.pageYOffset;this.focus();window.scrollTo(a,d)}}),0);this._emitOpenEvent();this._updateLayout()},_updateLayout:function(){this._removeAllWidths();this._matchMinWidthToInvokingWidget&&this._updateWidth();this._updateHeight()},_removeAllWidths:function(){this.domNode.style.width="";this.getChildren().forEach(function(a){a.domNode.style.width=""})},_updateWidth:function(){if(this._invokingWidget&&this.domNode.offsetWidth<this._invokingWidget.domNode.offsetWidth){var a=
0;this.domNode.parentElement&&(a=g.getMarginBox(this.domNode.parentElement).w-g.getMarginBox(this.domNode).w);this.domNode.style.width=this._invokingWidget.domNode.offsetWidth-a+"px"}},_updateHeight:function(){if(this.domNode&&this.domNode.parentElement&&this.domNode.parentElement.classList&&this.domNode.parentElement.classList.contains("dijitPopup")){var a,d=this.domNode,b=d.parentElement;a=window.getComputedStyle(d,null);var g=window.getComputedStyle(b,null),g=parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth)+
parseInt(g.borderTopWidth)+parseInt(g.borderBottomWidth);a="ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints?window.innerHeight||document.documentElement.clientHeight:document.documentElement.clientHeight;""!==d.style.height&&(d.style.height="");b.offsetTop+d.clientHeight>a&&(d.style.height=a-b.offsetTop-g+"px");b.style.overflow="hidden";b.style.overflowX="hidden";b.style.overflowY="hidden"}},_setFocusOnOpenAttr:function(a){if("boolean"!==
typeof a)throw Error("'focusOnOpen' property expects a boolean value.");this._set("_focusOnOpen",a)},_emitOpenEvent:function(){this.emit("open",{})}})})},"mw-menu/mixins/OnCloseMixin":function(){define(["dojo/_base/declare","mw-menu/mixins/OnOpenMixin"],function(h,a){var g=h(null,{_closeEventData:{},onClose:function(){this._emitCloseEvent();this._closeEventData={}},_emitCloseEvent:function(){this.emit("close",this._closeEventData)}});g._dependencies=[{mixin:a,orderDependent:!1}];return g})},"mw-menu/mixins/MenuFocusMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/has dojo/touch dojo/keys dijit/popup dijit/registry mw-dom-utils/domUtils mw-utils/widgetUtils mw-menu/mixins/ContainerFocusMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){var n=f("touch")&&!window.PointerEvent;h=h(null,{postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwMenuFocusMixin");this.focusNode=this.focusNode||this.domNode;this.own(g(this.domNode,"close",a.hitch(this,this._handleClose)))},focus:function(){this.inherited(arguments);this._addFocusListeners()},_focusLost:function(c){setTimeout(a.hitch(this,function(){if(k.isMenuOpen(this)){var a=c instanceof FocusEvent?m.getEnclosingWidget(e.parseFocusEvent(c).gainedFocusNode):
m.getEnclosingWidget(c.target),b,d,f;(b=a?a.focusNode&&a.focusNode instanceof Element?a.focusNode:a.domNode?a.domNode:null:null)&&b.hasAttribute("data-composite-child")&&(a=m.getEnclosingWidget(document.getElementById(b.getAttribute("data-composite-primary-id"))));b=this.isDescendant(a,this);d=a&&a.domNode&&-1<[].slice.call(document.querySelectorAll(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu *")).indexOf(a.domNode);f=this._invokingWidget&&a===this._invokingWidget;(!a||!b&&!d&&!f)&&
this._focusChange(a)}}),0)},_handleKeydown:function(a){a.keyCode===b.ESCAPE&&this._focusLost(a)},_handleClose:function(){this._removeFocusListeners()},_addFocusListeners:function(){this.focusNode&&(this._focusNodeBlurListener=g(this.focusNode,"blur",a.hitch(this,"_focusLost")),this.own(this._focusNodeBlurListener),this._windowBlurListener=g(window,"blur",a.hitch(this,"_focusLost")),this.own(this._windowBlurListener),this._documentClickListener=g(document.body,n?d.press:"mousedown",a.hitch(this,"_focusLost")),
this.own(this._documentClickListener),this._escapeKeydownListener=g(document.body,"keydown",a.hitch(this,"_handleKeydown")),this.own(this._escapeKeydownListener))},_removeFocusListeners:function(){this._focusNodeBlurListener&&(this._focusNodeBlurListener.remove(),delete this._focusNodeBlurListener);this._windowBlurListener&&(this._windowBlurListener.remove(),delete this._windowBlurListener);this._documentClickListener&&(this._documentClickListener.remove(),delete this._documentClickListener);this._escapeKeydownListener&&
(this._escapeKeydownListener.remove(),delete this._escapeKeydownListener)},_focusChange:function(a){this._closeEventData={mwEventData:{gainedFocusWidget:a}};null==a?this.closeRequest(!1):!this.isInvokingWidget(a)&&!this.isDescendant(a,this)&&this.closeRequest(!1)},closeRequest:function(a){if(null==a||0>[!0,!1].indexOf(a))a=!0;this.close&&this.close();this._invokingWidget&&this._invokingWidget.isMenuOpen()&&this._invokingWidget.closeMenu(a);k.isMenuOpen(this)&&l.close(this)},isInvokingWidget:function(a){if(null==
a)return!1;a instanceof HTMLElement&&(a=m.getEnclosingWidget(a));return a===this._invokingWidget},isDescendant:function(a,c){if(null==a)return!1;a.domNode&&(a=a.domNode);null==c?c=this.domNode:c.domNode&&(c=c.domNode);return e.isDescendantOrInLaw(a,c,function(a){return a.hasAttribute("dijitpopupparent")?document.getElementById(a.getAttribute("dijitpopupparent")):null},!0)}});h._dependencies=[{mixin:c,orderDependent:!0}];return h})},"mw-utils/widgetUtils":function(){define(["dijit/registry","mw-utils/domUtils"],
function(h,a){var g={findParentWidget:function(f,d){var b=null,g;for(f instanceof HTMLElement&&(f=h.getEnclosingWidget(f));f;){if(f.get("type")===d){b=f;break}if(a.containsClass(f.domNode,d)){b=f;break}f=(g=a.getAttr(f.domNode.parentNode,"dijitpopupparent"))?h.byId(g):f.getParent()}return b},isMenuChild:function(f){return null!=a.findParentNode(f,"dijitPopup")},getParentMenu:function(f){f=a.findParentNode(f,"dijitPopup");return!f?null:h.getEnclosingWidget(f.children[0])},isInvokingWidget:function(a,
d){return d?g.getMenuWidget(a)===d:null!=g.getMenuWidget(a)},getInvokingWidget:function(f){if(f._invokingWidget)return f._invokingWidget;f=a.findParentNode(f,"dijitPopup");return!f?null:h.getEnclosingWidget(document.getElementById(f.getAttribute("dijitpopupparent")))},getMenuWidget:function(a){return a.menu||a.dropDown},isMenuOpen:function(f){if(null==f)return!1;var d=f;f.domNode&&f.domNode.hasAttribute("data-composite-child")&&(f=document.getElementById(f.domNode.getAttribute("data-composite-primary-id")),
d=h.getEnclosingWidget(f));return d&&d.dropDown&&(a.containsClass(d.domNode,"dijitOpened")||a.containsClass(d.domNode,"dijitHasDropDownOpen"))||d&&d.isMenuOpen&&d.isMenuOpen()||d&&d.domNode&&a.findParentNode(d,"dijitPopup")&&(d.getParent&&d.getParent()&&d.getParent().isMenuOpen&&d.getParent().isMenuOpen()||"none"!==a.getStyle(a.findParentNode(d,"dijitPopup"),"display"))},isDescendant:function(f,d){if(null==f)return!1;f.domNode&&(f=f.domNode);if(null==d)return!1;d.domNode&&(d=d.domNode);return a.isDescendantOrInLaw(f,
d,function(a){if((a=h.getEnclosingWidget(a))&&g.isMenuChild(a)&&g.isMenuOpen(a))if((a=g.getInvokingWidget(a))&&a.domNode)return a.domNode;return null},!0)},getPrimaryWidget:function(f){var d;if(f.domNode)d=f.domNode;else if(f instanceof HTMLElement)d=f;else throw Error("The input value must be a widget or HTML Element.");return d&&d.hasAttribute("data-composite-child")?h.getEnclosingWidget(a.getById(d.getAttribute("data-composite-primary-id"))):f}};return g})},"mw-utils/domUtils":function(){define(["dojo/sniff"],
function(h){var a={messages:{INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},
_validateElement:function(g){if(!(g instanceof Element))throw Error(a.messages.INVALID_ELEMENT);},_validateString:function(g){if("String"===typeof g)throw Error(a.messages.INVALID_STRING);},isLeftMouseButton:function(a){return!0===a.synthetic&&h("ie")?1===a.button:0===a.button},parseFocusEvent:function(g){if(!(g instanceof FocusEvent))throw Error(a.messages.INVALID_FOCUS_EVENT);var f={};f.lostFocusNode=g.target;f.gainedFocusNode=h("chrome")||h("safari")?g.relatedTarget:document.activeElement;f.type=
g.type;f.eventdata=g;return f},getParent:function(g){a._validateElement(g);return g.parentNode},findParentNode:function(g,f,d){var b=null,l;g.domNode&&(g=g.domNode);for(;g&&g!==window.document;){if(a.hasAttr(g,f)){b=g;break}if(a.hasAttrValue(g,f,d)){b=g;break}if(a.containsClass(g,f)){b=g;break}g=(l=a.getAttr(g,"dijitpopupparent"))?a.getById(l):g.parentNode}return b},getNodeType:function(g){a._validateElement(g);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",
11:"Document Fragment"}[g.nodeType]},getById:function(g){a._validateString(g);return window.document.getElementById(g)},getByClass:function(g){a._validateString(g);return window.document.getElementsByClassName(g)},getByAttr:function(g){a._validateString(g);return window.document.querySelectorAll("["+g+"]")},getByAttrValue:function(g,f){a._validateString(g);a._validateString(f);return window.document.querySelectorAll("["+g+"\x3d"+f.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")},getByName:function(g){a._validateString(g);
return window.document.getElementById("[name\x3d"+g+"]")},getByTag:function(g){a._validateString(g);return window.document.getElementsByTagName(g)},getComputedStyle:function(g,f){a._validateElement(g);return f?(a._validateString(f),window.getComputedStyle(g,null)[f]):window.getComputedStyle(g,null)},getStyle:function(g,f){a._validateElement(g);a._validateString(f);if(void 0===g.style[f])throw Error(a.messages.INVALID_STYLE);return g.style[f]},setStyle:function(g,f,d){a._validateElement(g);a._validateString(f);
a._validateString(d);g.style[f]=d;if(g.style[f]!==d)throw Error(a.messages.INVALID_VALUE);},hasAttr:function(g,f){a._validateElement(g);a._validateString(f);return g.hasAttribute(f)},hasAttrValue:function(g,f,d){a._validateElement(g);a._validateString(f);a._validateString(d);return g.hasAttribute(f)&&g.getAttribute(f)===d},getAttr:function(g,f){a._validateElement(g);a._validateString(f);return g.getAttribute(f)},setAttr:function(g,f,d){a._validateElement(g);a._validateString(f);a._validateString(d);
g.setAttribute(f,d)},addAttr:function(g,f){a._validateElement(g);a._validateString(f);g.setAttribute(f,"")},removeAttr:function(g,f){a._validateElement(g);a._validateString(f);g.removeAttribute(f)},getClasses:function(g){a._validateElement(g);return g.classList?g.classList:{_element:g,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:g.className.split(" ").length,item:function(a){return this._getClassArray()[a]},
contains:function(a){for(var d=this._getClassArray(),b=0;b<d.length;b++)if(d[b]===a)return!0;return!1},add:function(a){var d=this._getClassArray();d.push(a);this._updateClassName(d)},remove:function(a){var d=this._getClassArray();a=d.indexOf(a);0<=a&&(d.splice(a,1),this._updateClassName(d))},toggle:function(a){if(this.contains(a))return this.remove(a),!1;this.add(a);return!0}}},getClass:function(g,f){if(null==f||"number"!==typeof f||0>f||0!==f%1)throw Error(a.messages.INTEGER_INDEX);return a.getClasses(g).item(f)},
addClass:function(g,f){if(null==f||"string"!==typeof f)throw Error(a.messages.STRING_INDEX);return a.getClasses(g).add(f)},removeClass:function(g,f){if(null==f||"string"!==typeof f)throw Error(a.messages.STRING_INDEX);return a.getClasses(g).remove(f)},toggleClass:function(g,f){if(null==f||"string"!==typeof f)throw Error(a.messages.STRING_INDEX);return a.getClasses(g).toggle(f)},containsClass:function(g,f){if(null==f||"string"!==typeof f)throw Error(a.messages.STRING_INDEX);return a.getClasses(g).contains(f)},
classCount:function(g){return a.getClasses(g).length},getChildCount:function(g){a._validateElement(g);return g.childElementCount},getChildren:function(g){a._validateElement(g);return g.children},isDescendant:function(g,f,d){a._validateElement(g);a._validateElement(f);if(d&&g===f)return!0;for(;g&&g!==window.document;)if(g=a.getParent(g),g===f)return!0;return!1},isDescendantOrInLaw:function(g,f,d,b){var l;if("function"!==typeof d)throw Error(a.messages.SPOUSE_NODE);l=a.isDescendant(g,f,b);!1===l&&(g=
d(g)||g.parentNode)&&g!==window.document&&(l=a.isDescendantOrInLaw(g,f,d,b));return l},getFirstChild:function(g){a._validateElement(g);return!a.isContainer(g)||1>a.getChildCount(g)?null:a.getChildren(g)[0]},getLastChild:function(g){var f;a._validateElement(g);f=a.getChildCount(g);return!a.isContainer(g)||1>f?null:a.getChildren(g)[f-1]},isContainer:function(g){a._validateElement(g);return 0<a.getChildCount(g)},getAdjacentElement:function(g,f){a._validateElement(g);if(!f||0>["next","previous"].indexOf(f))f=
"next";return g=g[f+"Sibling"]},getElementPositionInViewPort:function(g){a._validateElement(g);g=g.getBoundingClientRect();return{x:g.left,y:g.top,w:g.right-g.left,h:g.bottom-g.top}},getElementPositionOnPage:function(g){a._validateElement(g);g=a.getElementPositionInViewPort(g);g.x+=window.pageXOffset;g.y+=window.pageYOffset;return g},isFocusable:function(g){a._validateElement(g);return g&&!g.hasAttribute("disabled")&&(!g.hasAttribute("aria-disabled")||"true"!==g.getAttribute("aria-disabled"))&&"none"!==
g.style.display&&!g.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(g){var f,d,b,l;a._validateElement(g);f=g.getBoundingClientRect();d=window.innerWidth||doc.documentElement.clientWidth;b=window.innerHeight||doc.documentElement.clientHeight;l=function(a,b){return document.elementFromPoint(a,b)};return 0>f.right||0>f.bottom||f.left>d||f.top>b?!1:g.contains(l(f.left,f.top))||g.contains(l(f.right,f.top))||g.contains(l(f.right,f.bottom))||g.contains(l(f.left,f.bottom))},_obscuredProps:{}};
a._obscuredProps.sawPosAbsolute=!1;a._obscuredProps.elementPosition=null;a.isElementObscuredByParent=function(g,f){var d,b,l,m;a._validateElement(g);m=!1;if(l=a.getParent(g))if(f||(a._obscuredProps.elementPosition=a.getElementPositionOnPage(g),a._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(g,null).position),d=a._obscuredProps.elementPosition,b=a._obscuredProps.sawPosAbsolute,l&&"Element"===a.getNodeType(l)&&"BODY"!==l.nodeName){var e=a.getElementPositionOnPage(l);l=window.getComputedStyle(l,
null);/relative|absolute/.test(l.position)&&(b=a._sawPosAbsolute=!1);!b&&/hidden|auto|scroll/.test(l.overflow)&&(m=d.y<e.y||d.y+d.h>e.y+e.h||d.x<e.x||d.x+d.w>e.x+e.w)}return m};a.isElementObscuredByAncestor=function(g){var f,d;a._validateElement(g);f=!1;a._obscuredProps.elementPosition=a.getElementPositionOnPage(g);for(a._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(g,null).position;(d=a.getParent(g))&&"Element"===a.getNodeType(d)&&"BODY"!==d.nodeName;)f=a.isElementObscuredByParent(g,
!0),g=d;return f};return a})},"mw-menu/mixins/property/MaxHeightMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{maxHeight:800,_setMaxHeightAttr:function(a){if("number"!==typeof a)throw Error("'MaxHeight' property expects a Number!");this.domNode.style.maxHeight=a+"px";this._set("maxHeight",a)}})})},"mw-mixins/property/DestroyedMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_destroyed:!1,destroy:function(){this._set("_destroyed",!0);this.inherited(arguments)},
isDestroyed:function(){return this.get("_destroyed")}})})},"mw-menu/MenuSeparator":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/PreventFocusMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuSeparator.html".split(" "),function(h,a,g,f,d,b,l,m,e){return h(m.validate([a,g,f,d,b,l]),{baseClass:"mwWidget mwMenuSeparator",templateString:e})})},"mw-mixins/PreventFocusMixin":function(){define(["dojo/_base/declare",
"dojo/on"],function(h,a){return h(null,{postCreate:function(){this.inherited(arguments);this._getNonFocusableNodes().forEach(function(g){a(g,"mousedown",function(a){a.preventDefault()})})},_getNonFocusableNodes:function(){return[this.domNode]}})})},"datatoolsservices/ContextMenuService/ActionPopupMenuItem":function(){define("datatoolsservices/ContextMenuService/ActionPopupMenuItem",["dojo/_base/declare","dojo/_base/lang","mw-menu/PopupMenuItem","dojo/on"],function(h,a,g,f){return h("datatoolsservices.ContextMenuService.ActionPopupMenuItem",
[g],{constructor:function(a){this.allArgs=a},postCreate:function(){this.inherited(arguments);this._initActionsForMenu();this._setStateClass()},_initActionsForMenu:function(){var a=this;if(this.menu){var b=this.menu.addChild;this.menu.addChild=function(f){b.apply(this,[f]);a._ToggleActionGroupEnabled();f.action&&(f._onEnabledStateChanged=function(b){a._ToggleActionGroupEnabled()})}}},_ToggleActionGroupEnabled:function(){var a=this.menu;if(a&&0<a.getChildren().length){for(var a=a.getChildren(),b=!1,
f=0;f<a.length;f++)if(a[f].action&&a[f].action.getProperty("enabled")){b=!0;break}this.disabled=!b;this._setStateClass()}}})})},"mw-menu/PopupMenuItem":function(){define("dojo/_base/declare dijit/focus dojo/on dojo/keys dojo/dom-geometry dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PopupMenuItem.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O,S,M,J,C){return h(J.validate([l,m,e,k,c,n,p,q,r,s,t,u,I,v,w,x,z,y,A,B,D,H,G,S,M,O]),{baseClass:"mwWidget mwSharedMenuItem mwPopupMenuItem",templateString:C,_focusSubMenuOnOpen:!1,menuOrientation:"horizontal",keyPressButtons:"right_arrow_a11y",postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",b.hitch(this,"_handleRightArrow")))},_setFocusSubMenuOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'doFocus' argument expects a boolean value.");
this._set("_focusSubMenuOnOpen",a)},_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},focusLost:function(a){this.get("menu")&&(this.get("menu").isDescendant&&!this.get("menu").isDescendant(a,this.get("menu")))&&(this.get("menu")._closeEventData={mwEventData:{gainedFocusWidget:a}},this.closeMenu(!1))},focus:function(){this.inherited(arguments);this.get("disabled")||this.openMenu()},_handleRightArrow:function(a){a.keyCode===f.RIGHT_ARROW&&(this.isMenuOpen()?
this.get("menu").focusFirst():(this.set("_focusSubMenuOnOpen",!0),this.openMenu()))},_showMenu:function(){var a=this.get("menu");null!==a&&(!this._doNotOpen&&!this.isMenuOpen())&&(a._leftArrowListener=g(a.domNode,"keydown",b.hitch(a,this._handleLeftArrow)),a._menuCloseListener=g(a.domNode,"close",b.hitch(a,this._handleCloseMenu)),a._storeFocusOnOpen=a.get("_focusOnOpen"),a._storeOnOpen=a.onOpen,a._storeMatchMinWidthToInvokingWidget=a.get("_matchMinWidthToInvokingWidget"),a.set("_focusOnOpen",this.get("_focusSubMenuOnOpen")),
a.onOpen=this.onOpen,a._matchMinWidthToInvokingWidget=!1,a.domNode.classList.add("mwPopupMenuItemPopup"),this.inherited(arguments))},_handleCloseMenu:function(a){if(a&&a.mwEventData&&a.mwEventData.hasOwnProperty("gainedFocusWidget")){var c=this._invokingWidget.getParentWidget();a=a.mwEventData.gainedFocusWidget;!c.isInvokingWidget(a)&&!c.isDescendant(a,c)&&(this._leftArrowListener&&this._leftArrowListener.remove(),this._menuCloseListener&&this._menuCloseListener.remove(),delete this._leftArrowListener,
delete this._menuCloseListener,this._focusOnOpen=this._storeFocusOnOpen,this.onOpen=this._storeOnOpen,this._matchMinWidthToInvokingWidget=this._storeMatchMinWidthToInvokingWidget,this.domNode.classList.remove("mwPopupMenuItemPopup"),c._focusChange(a))}},_handleLeftArrow:function(a){a.keyCode===f.LEFT_ARROW&&(this._doNotOpen=!0,this._invokingWidget.focus(),this._doNotOpen=!1)},onOpen:function(){this.inherited(arguments);this._emitOpenEvent();this._updateLayout();d.position(this.domNode).x>d.position(this._invokingWidget.domNode).x?
(this.domNode.classList.add("mwPopupMenuItemPopupRight"),this.domNode.classList.remove("mwPopupMenuItemPopupleft"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentLeft")):(this.domNode.classList.add("mwPopupMenuItemPopupLeft"),this.domNode.classList.remove("mwPopupMenuItemPopupRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentLeft"));
this.domNode.parentElement.classList.add("mwPopupMenuItemParent");0<this.getChildren().length&&(this._focusOnOpen&&this.focusFirst)&&(this._storeFocus=this.focus,this.focus=function(){this.focusFirst();this.focus=this._storeFocus;delete this._storeFocus});this._invokingWidget.set("_focusSubMenuOnOpen",!1)},_closeMenuOnParentClick:function(){return!1},_updateWidth:function(){}})})},"mw-mixins/property/MenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-geometry dojo/has dojo/keys dojo/on dojo/touch dijit/focus dijit/popup dijit/Viewport dijit/_WidgetBase".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){var q={left:[0],center:[1],right:[2],all:[0,1,2],none:[]},r=function(a){if(!0===a.synthetic&&window.syn&&-1!==a.type.indexOf("mouse"))switch(a.button){case window.syn.mouse.browser.left[a.type].button:return 0;case window.syn.mouse.browser.right[a.type].button:return 2;default:return 1}else return a.button},s={down_arrow:[l.DOWN_ARROW],right_arrow:[l.RIGHT_ARROW],left_arrow:[l.LEFT_ARROW],up_arrow:[l.UP_ARROW],enter:[l.ENTER],space:[l.SPACE],a11y:[l.ENTER,l.SPACE],
down_arrow_a11y:[l.DOWN_ARROW,l.ENTER,l.SPACE],right_arrow_a11y:[l.RIGHT_ARROW,l.ENTER,l.SPACE],left_arrow_a11y:[l.LEFT_ARROW,l.ENTER,l.SPACE],up_arrow_a11y:[l.UP_ARROW,l.ENTER,l.SPACE],none:[]},t={below:["below","below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]};return h(null,{menu:null,menuNode:null,aroundNode:null,_clickButtons:q.left,_keyPressButtons:s.a11y,_menuOrientation:t.vertical,_setMenuAttr:function(a){this._validateMenuAttr(a);this._set("menu",
a)},_validateMenuAttr:function(a){if(null!==a&&!(a instanceof p))throw Error("'menu' property expects a widget");},_setMenuNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'menuNode' property expects a DOM node.");a?this._set("menuNode",a):this._set("menuNode",this.focusNode||this.domNode)},_setAroundNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'aroundNode' property expects a DOM node.");a?this._set("aroundNode",a):this._set("aroundNode",this.domNode)},_setClickButtonsAttr:function(a){if("string"!==
typeof a||-1===q.hasOwnProperty(a))throw Error("'clickButtons' property expects one of these values: "+Object.keys(q));this._set("_clickButtons",q[a])},_setKeyPressButtonsAttr:function(a){if("string"!==typeof a||-1===s.hasOwnProperty(a))throw Error("'keyPressButtons' property expects one of these values: "+Object.keys(s));this._set("_keyPressButtons",s[a])},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===t.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+
Object.keys(t));this._set("_menuOrientation",t[a])},postCreate:function(){var c;this.inherited(arguments);this.domNode.classList.add("mwMenuMixin");this.menuNode=this.menuNode||this.focusNode||this.domNode;this.aroundNode=this.aroundNode||this.domNode;c=b("touch")&&!window.PointerEvent;this.own(m(this.menuNode,c?e.press:"mousedown",a.hitch(this,"_onPress")),m(this.menuNode,"mousedown",a.hitch(this,"_onMouseDown")),m(this.menuNode,"keydown",a.hitch(this,"_onKeyDown")),m(this.menuNode,"keyup",a.hitch(this,
"_onKeyUp")),m(this.domNode,"click",a.hitch(this,"_onMouseClick")),this.watch("disabled",a.hitch(this,function(a,c,b){b&&this._handleClosingPopup(!1)})))},_onPress:function(c){var b=-1<this._clickButtons.indexOf(r(c))||"touchstart"===c.type,e=!this.isMenuOpen()||this._closeMenuOnParentClick();this.get("menu")&&(this.get("menu")._lastPressEvent=c);b&&e?(this.get("menu")&&(this.get("menu")._mouseDownTriggered=!0,setTimeout(a.hitch(this,function(){this.get("menu")&&"_mouseDownTriggered"in this.get("menu")&&
delete this.get("menu")._mouseDownTriggered}),300)),this.toggleMenu(c.target)):this.isMenuOpen()&&(c.preventDefault(),c.stopImmediatePropagation())},_onMouseDown:function(a){this.inherited(arguments);var c=this.get("menu")&&"_mouseDownTriggered"in this.get("menu"),b=this.get("menu")&&"_lastPressEvent"in this.get("menu")&&"touchstart"===this.get("menu")._lastPressEvent.type;if(this.isMenuOpen()||c&&b)a.preventDefault(),a.stopImmediatePropagation()},_onMouseClick:function(a){this.get("menu")&&"_mouseDownTriggered"in
this.get("menu")&&delete this.get("menu")._mouseDownTriggered;this.inherited(arguments);f.isDescendant(a.target,this.menuNode)&&a.stopImmediatePropagation()},_onKeyDown:function(a){this.inherited(arguments);if(!this.get("disabled")||this.get("dropDownNeverDisabled"))if(a.keyCode===l.ESCAPE)this.domNode.classList.contains("mwFocusableMenuChildMixin")?this.closeMenu(!1):this.closeMenu(!0);else if(-1<this._keyPressButtons.indexOf(a.keyCode)&&(!this.isMenuOpen()||this._closeMenuOnParentClick()&&this.isMenuOpen()))this._toggleOnKeyUp=
!0},_onKeyUp:function(a){this.inherited(arguments);this._toggleOnKeyUp&&(delete this._toggleOnKeyUp,(!this.isMenuOpen()||this.closeMenuOnClick)&&this.toggleMenu(a.target))},_onBlur:function(){this.isMenuOpen()&&(this.get("menu")._invokingWidget===this&&!this.get("menu").domNode.classList.contains("mwMenu")&&!this.get("menu").domNode.classList.contains("mwSectionPopup"))&&(f.isDescendant(document.activeElement,this.domNode)?this.closeMenu(!0):this.closeMenu(!1));this.inherited(arguments)},_qeDropDownClick:function(){this.toggleMenu()},
toggleMenu:function(a){a=a||this.menuNode;a=a.domNode||a;f.isDescendant(a,this.menuNode)&&(this.isMenuOpen()?this.closeMenu(!0):this.openMenu())},openMenu:function(){this._showMenu()},_showMenu:function(){null!=this.get("menu")&&setTimeout(a.hitch(this,function(){var a,b,e=this;if(null!=e.get("menu")){null==this.aroundNode&&(b=a=0);"_invokingWidget"in this.get("menu")&&this.get("menu")._invokingWidget&&(this.get("menu")._lastInvokingWidget=this.get("menu")._invokingWidget);this.get("menu")._invokingWidget=
this;this.domNode.classList.add("mwHasMenuOpened");this.get("menu")._onPositionListener=g.around(d,"position",function(a){return function(c,b){var e="ontouchstart"in window||navigator.maxTouchPoints,d=document.body.clientWidth>window.innerWidth;return b&&e&&d?a(c,!1):a(c,b)}});this.get("menu").own(this.get("menu")._onPositionListener);c.open({parent:this,popup:e.get("menu"),x:a,y:b,around:e.aroundNode,orient:e._menuOrientation,maxHeight:e.get("maxHeight"),onCancel:function(){if(e.domNode.classList.contains("mwFocusableMenuChildMixin")){var a=
e.getParent();e.closeMenu(!1);a._closeEventData={mwEventData:{gainedFocusWidget:null}};a.closeRequest(!1)}else e.closeMenu(!0)},onClose:function(){e.get("menu")&&"_lastInvokingWidget"in e.get("menu")?(null!=e.get("menu")._lastInvokingWidget&&e._cleanUpAfterClose(e,!0),delete e.get("menu")._lastInvokingWidget):e._cleanUpAfterClose(e,!1);e.get("menu")&&"_onPositionListener"in e.get("menu")&&(e.get("menu")._onPositionListener.remove(),delete e.get("menu")._onPositionListener)}});var f=e.own(m(n,"resize",
function(){e.getParentWidget?e.closeMenu(!1):e.closeMenu(!0);f.length?[].slice.call(f).forEach(function(a){a.remove()}):f.remove()}))}}),0)},closeMenu:function(a){var c=this._handleClosingPopup(a);this._handleFocusOnClose(a,c)},_handleClosingPopup:function(a){if(this.isMenuOpen()){if(this.get("menu")){this.get("menu").getChildren().forEach(function(c){"menu"in c&&c.isMenuOpen()&&(c.get("menu")._closeEventData=this._closeEventData,c.closeMenu(a))},this);var b=this.get("menu")._closeEventData;c.close(this.get("menu"));
return b}}else if(this.get("menu"))return this.get("menu")._closeEventData},_handleFocusOnClose:function(a,c){!0===a?this.focus?this.focus():k.focus(this.focusNode||this.domNode):c&&"mwEventData"in c&&"gainedFocusWidget"in c.mwEventData&&c.mwEventData.gainedFocusWidget?k.focus(c.mwEventData.gainedFocusWidget.focusNode||c.mwEventData.gainedFocusWidget.domNode):k.focus(document.body)},startup:function(){if(!this._started){if(!this.get("menu")&&this.srcNodeRef){var a=query("[widgetId]",this.srcNodeRef)[0];
a&&this.set("menu",registry.byNode(a))}this.get("menu")&&c.hide(this.get("menu"));this.inherited(arguments)}},destroy:function(){this.isMenuOpen()&&this.closeMenu(!0);this.inherited(arguments)},_closeMenuOnParentClick:function(){return!0},_cleanUpAfterClose:function(a,c){!c&&a.get("menu")&&delete a.get("menu")._invokingWidget;a.domNode&&a.domNode.classList.remove("mwHasMenuOpened")},isMenuOpen:function(){return this.get("menu")&&this.get("menu")._invokingWidget&&this.get("menu")._invokingWidget===
this&&this.get("menu").domNode&&this.get("menu").domNode.parentElement&&this.get("menu").domNode.parentElement.classList.contains("dijitPopup")?"none"!==this.get("menu").domNode.parentElement.style.display:!1}})})},"mw-mixins/property/HasDynamicMenuMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/MenuMixin"],function(h,a,g){h=h(null,{hasDynamicMenu:!1,_setHasDynamicMenuAttr:function(a){this._set("hasDynamicMenu",a)},postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwHasDynamicMenuMixin");this.set("hasDynamicMenu",this.get("hasDynamicMenu"))},openMenu:function(){this.get("hasDynamicMenu")?this.emit("dropdownclick",{}):this._showMenu()},showMenu:function(){this._showMenu();var f=this.menu.on("updatelayout",a.hitch(this.menu,function(){this._updateLayout&&this._updateLayout()})),d=this.menu.on("close",function(){f.remove();d.remove()})}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"mw-menu/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dijit/focus dojo/keys dojo/on dojo/query dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){return h(w.validate([e,n,k,c,p,q,r,s,t,u,v]),{baseClass:"mwWidget mwContextMenu",disabled:!1,templateString:x,postCreate:function(){this.inherited(arguments);this._activeEventListeners=[];this._onOpenEventListenersInfo=[{event:"wheel",target:document.body,callback:a.hitch(this,"_onWheel")},{event:"mousewheel",target:document.body,callback:a.hitch(this,"_onWheel")},{event:"mousedown",target:document.body,callback:a.hitch(this,function(a){this._shouldCloseMenu(a.target)&&
this.closeMenu()}),useCapture:!0},{event:"mouseenter",target:document.body,callback:a.hitch(this,this._onMouseMovement),useCapture:!0},{event:"mouseover",target:document.body,callback:a.hitch(this,this._onMouseMovement),useCapture:!0},{event:"keydown",target:this.domNode,callback:a.hitch(this,function(a){a.keyCode===f.ESCAPE&&(this.closeMenu(),document.body.classList.contains("mwHasFocusManager")?this.emit("restorefocus"):g.focus(this._previousFocusNode))})},{event:"change",target:this.domNode,callback:a.hitch(this,
function(a){a=l.getEnclosingWidget(a.target);a.domNode.hasAttribute("data-composite-child")&&(a=l.byNode(document.getElementById(a.domNode.getAttribute("data-composite-primary-id"))));(a.get("closeMenuOnClick")||void 0===a.get("closeMenuOnClick"))&&this.closeMenu()})},{event:"close",target:this.domNode,callback:a.hitch(this,this._cleanupOnClose)}];this.own(d(this.domNode,"open",a.hitch(this,this._handleOpen)));this.set("disabled",this.disabled)},_setDisabledAttr:function(a){if("boolean"===typeof value)throw Error("Expected 'disabled' property to be a boolean");
a?this._removeRightClickEventListener():this._addRightClickEventListener();this._set("disabled",a)},_addRightClickEventListener:function(){this._rightClickListener||(this._rightClickListener=d(document.body,"contextmenu",a.hitch(this,this._createCallback(a.hitch(this,this._onContextMenu),a.hitch(this,this._onDoubleContextMenu),200,!0))),this.own(this._rightClickListener))},_removeRightClickEventListener:function(){this._rightClickListener&&(this._rightClickListener.remove(),delete this._rightClickListener)},
_addOnOpenEventListeners:function(){if(this._activeEventListeners.length<this._onOpenEventListenersInfo.length)for(var a=0;a<this._onOpenEventListenersInfo.length;a++)this._onOpenEventListenersInfo[a].useCapture?(this._onOpenEventListenersInfo[a].target.addEventListener(this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback,!0),this._activeEventListeners[a]=[{target:this._onOpenEventListenersInfo[a].target,event:this._onOpenEventListenersInfo[a].event,callback:this._onOpenEventListenersInfo[a].callback,
useCapture:!0}]):this._activeEventListeners[a]=this.own(d(this._onOpenEventListenersInfo[a].target,this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback))},_removeOnOpenEventListeners:function(){if(0<this._activeEventListeners.length)for(;0<this._activeEventListeners.length;){var a=this._activeEventListeners.pop()[0];a.useCapture?a.target.removeEventListener(a.event,a.callback,!0):a.remove()}},_onWheel:function(a){this.isDescendant(a.target)||this.closeMenu()},isMenuOpen:function(){return this.domNode&&
this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display},open:function(a){this.openMenu(a)},openMenu:function(a){if(!this.get("disabled")){this._computeTargetNodes(a);a.doNotClose=this._nodeMatchesSelector(a.target,".galleryPopup, .galleryPopup  *, .mwSectionPopup, .mwSectionPopup *");if(a.target){var c=l.getEnclosingWidget(a.target);c&&c.id&&this.domNode.setAttribute("data-target-id",c.id)}if("contextmenu"===a.type)this._handleRightClick(a);else if(a.target instanceof HTMLElement&&
isNaN(a.x)&&isNaN(a.y))this._handleOpenWithDomNode(a);else if(!a.target&&!isNaN(a.x)&&!isNaN(a.y))this._handleOpenWithXY(a);else throw Error("Invalid parameters passed");}},_onMouseMovement:function(a){this.isDescendant(a.target)||(a.stopImmediatePropagation(),a.preventDefault())},_nodeMatchesSelector:function(a,c){var b=!1;a&&c&&(a.matches?b=a.matches(c):a.matchesSelector?b=a.matchesSelector(c):a.webkitMatchesSelector?b=a.webkitMatchesSelector(c):a.mozMatchesSelector?b=a.mozMatchesSelector(c):a.msMatchesSelector?
b=a.msMatchesSelector(c):a.oMatchesSelector&&(b=a.oMatchesSelector(c)));return b},_handleRightClick:function(a){var c;if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(c=this.willOpenCallback({target:a.target,x:a.clientX,y:a.clientY})))return;this._previousFocusNode=a.target;1>a.pageX&&1>a.pageY?this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose}):this._showMenu({x:a.pageX,y:a.pageY,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithDomNode:function(a){var c;
if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(c=this.willOpenCallback({target:a})))return;this._previousFocusNode=a.target;this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithXY:function(a){var c;if(this.willOpenCallback&&(c=this.willOpenCallback({target:a.target})))return;this._showMenu({x:a.x,y:a.y,popup:this})},_showMenu:function(a){m.open(a)},_handleOpen:function(){this._addOnOpenEventListeners();this._handleEmptyContextMenu()},_handleEmptyContextMenu:function(){0===
this.domNode.children.length?this.domNode.parentElement&&(this.domNode.parentElement.style.display="none"):this.domNode.parentElement&&(this.domNode.parentElement.style.display="")},close:function(){this.closeMenu()},closeMenu:function(){m.close(this)},_cleanupOnClose:function(){this._removeOnOpenEventListeners();this.domNode&&(this.domNode.removeAttribute("data-target-id"),this.domNode.parentNode&&(this.domNode.parentNode.style.overflowX="visible",this.domNode.parentNode.style.overflowY="visible"))},
_shouldCloseMenu:function(a){var c=!0;if(!this.isMenuOpen())return!1;if(a&&(this.isDescendant(a)||this.targetNodes&&0<=this.targetNodes.indexOf(a)))c=!1;return c},_setTargetNodesAttr:function(a){if(null===a||void 0===a)a=[];this._set("targetNodes",a)},_computeTargetNodes:function(a){this._contextMenuNodes=[];this.targetNodes&&this.targetNodes.forEach(function(c){"string"===typeof c?b(c).forEach(function(a){var c=a.querySelectorAll("*");Object.keys(c).forEach(function(a){this._contextMenuNodes.push(c[a])},
this);this._contextMenuNodes.push(a)},this):"function"===typeof c?(c=c(a))&&(1<c.length?c.forEach(function(a){this._contextMenuNodes.push(a)}.bind(this)):this._contextMenuNodes.push(c)):this._contextMenuNodes.push(c)},this);return this._contextMenuNodes},_onContextMenu:function(a){a.preventDefault();this.openMenu(a)},_onDoubleContextMenu:function(a){a.preventDefault()},_getTargetNode:function(a){null!==a&&a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));
return a},_createCallback:function(a,c,b,e){var d=0,f;void 0===b&&(b=200);return function(k){!0===e&&-0<=this._computeTargetNodes(k).indexOf(k.target)&&k.preventDefault();d+=1;1===d?f=setTimeout(function(){d=0;a(k)},b):2===d&&(clearTimeout(f),d=0,c(k))}},destroy:function(){this._removeOnOpenEventListeners();this.inherited(arguments)}})})},"MW/uiframework/contextmanager/ContextManagerFactory":function(){define(["./ContextManager"],function(h){var a=null;return{getInstance:function(g){a||(a=new h(g));
return a},destroy:function(){a&&(a.cleanup(),a=null)}}})},"MW/uiframework/contextmanager/ContextManager":function(){define("dojo/_base/declare dojo/Stateful ./PanelManager ./QuickAccessActionManager ./TabGroupManager MW/uiframework/UIBuilderFactory".split(" "),function(h,a,g,f,d,b){return h([a],{currentContext:null,constructor:function(a){this.parentAppId=a.parentAppId;this.alternativeContextMemory=!!a.alternativeContextMemory;this._uiBuilder=a.uiBuilder||b.getInstance();this.toolstripId=this._uiBuilder.tagToId(a.toolstripTag);
if(!this.toolstripId)throw Error('No toolstrip with tag "'+a.toolstripTag+'" exists!');this._panelManager=new g({contextManagerImpl:this,uiContainer:a.uiContainer});this._quickAccessActionManager=new f({contextManagerImpl:this,uiBuilder:this._uiBuilder,qabContextualControlsActionMap:a.qabContextualControlsActionMap});this._tabGroupManager=new d({contextManagerImpl:this,uiBuilder:this._uiBuilder})},register:function(a,b){switch(a){case "TabGroups":this._tabGroupManager.registerTabGroups(b);break;case "QuickAccessAction":this._quickAccessActionManager.registerQuickAccessAction(b);
break;case "Panels":this._panelManager.registerPanels(b);break;default:throw Error("This is not a valid type to register!");}},unregister:function(a,b){switch(a){case "TabGroups":this._tabGroupManager.unregisterTabGroups(b);break;case "QuickAccessAction":this._quickAccessActionManager.unregisterQuickAccessAction(b);break;case "Panels":this._panelManager.unregisterPanels(b);break;default:throw Error("This is not a valid type to unregister!");}},resetLastSelectedTab:function(a){this._tabGroupManager.resetLastSelectedTab(a)},
removeAllContextualTabGroups:function(){this._tabGroupManager.removeAllContextualTabGroups()},removeContextualTabGroupsOfAppId:function(a){this._tabGroupManager.removeContextualTabGroupsOfAppId(a)},cleanup:function(){this._quickAccessActionManager.cleanup();this._tabGroupManager.cleanup();this._panelManager.cleanup()},_currentContextSetter:function(a){a&&a.appId&&(!a.contextIdList||0===a.contextIdList.length?a.contextIdList=["global"]:0<a.contextIdList.length&&-1===a.contextIdList.indexOf("global")&&
a.contextIdList.splice(0,0,"global"));this.currentContext=a}})})},"MW/uiframework/contextmanager/PanelManager":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(h,a){return h(null,{constructor:function(g){this._contextManager=g.contextManagerImpl;this._uiContainer=g.uiContainer;this._registeredPanels={};this._currentContextualPanelIds=[];this._stateForContext={};this._handles=[];this._handles.push(this._contextManager.watch("currentContext",a.hitch(this,this._currentContextChangedCallback)))},
registerPanels:function(a){this._registeredPanels[a.appId]||(this._registeredPanels[a.appId]={});this._registeredPanels[a.appId][a.contextId]||(this._registeredPanels[a.appId][a.contextId]={});a.panelIds&&(this._registeredPanels[a.appId][a.contextId].panels=a.panelIds)},unregisterPanels:function(a){this._registeredPanels[a.appId]&&(this._registeredPanels[a.appId][a.contextId]?delete this._registeredPanels[a.appId][a.contextId]:delete this._registeredPanels[a.appId])},getContextualStates:function(){var a=
this._contextManager.get("currentContext");a&&!this._isAppContext(a)&&(this._stateForContext[this._generateContextKey(a)]=this._uiContainer._getContextualState(a.appId));return this._stateForContext},setContextualStates:function(g){a.mixin(this._stateForContext,g)},_currentContextChangedCallback:function(g,f,d){if(this._uiContainer&&!(null===d||void 0===d||JSON.stringify(f)===JSON.stringify(d))){var b=this;this._isAppContext(f)||(this._stateForContext[this._generateContextKey(f)]=this._uiContainer._getContextualState(f.appId));
var l=this._getPanelIdsForContext(d);g=this._uiContainer.getOccupiedBorders();var m=this._stateForContext[this._generateContextKey(d)];m&&g.length&&(m=a.clone(m),g.forEach(function(a){m[a]&&m[a].border&&delete m[a].border}));var e=f&&d&&f.appId!==d.appId;this._currentContextualPanelIds.forEach(function(a){(e||0>l.indexOf(a))&&b._uiContainer._removeFromLayout(a)});l.forEach(function(a){(e||0>b._currentContextualPanelIds.indexOf(a))&&b._uiContainer._addToLayout(a,d.appId)});m&&this._uiContainer._setContextualState(m,
d.appId);this._currentContextualPanelIds=l}},_isAppContext:function(a){return!a||a.appId===this._contextManager.parentAppId},_getPanelIdsForContext:function(a){var f=[],d=this._registeredPanels[a.appId];d&&a.contextIdList.forEach(function(a){(a=d[a].panels)&&(f=f.concat(a))});return f},_generateContextKey:function(a){var f="null";a&&(f=a.appId,a.contextIdList.forEach(function(a){"global"!==a&&(f+="_"+a)}));return f},cleanup:function(){this._handles.forEach(function(a){a.remove()})}})})},"MW/uiframework/contextmanager/QuickAccessActionManager":function(){define(["dojo/_base/declare",
"dojo/_base/lang","MW/uiframework/UIBuilderFactory"],function(h,a,g){return h(null,{constructor:function(f){this._contextManagerImpl=f.contextManagerImpl;this._qabContextualControlsActionMap=f.qabContextualControlsActionMap;this._registeredQuickAccessActions={};this._uiBuilder=f.uiBuilder||g.getInstance();this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",a.hitch(this,this._currentContextChangedCallback)))},registerQuickAccessAction:function(a){this._registeredQuickAccessActions[a.appId]||
(this._registeredQuickAccessActions[a.appId]={});this._registeredQuickAccessActions[a.appId][a.contextId]||(this._registeredQuickAccessActions[a.appId][a.contextId]={});a.quickAccessControlTag&&a.actionId&&(this._registeredQuickAccessActions[a.appId][a.contextId][a.quickAccessControlTag]=a.actionId)},unregisterQuickAccessAction:function(a){this._registeredQuickAccessActions[a.appId]&&this._registeredQuickAccessActions[a.appId][a.contextId]&&(this._registeredQuickAccessActions[a.appId][a.contextId][a.quickAccessControlTag]?
delete this._registeredQuickAccessActions[a.appId][a.contextId][a.quickAccessControlTag]:delete this._registeredQuickAccessActions[a.appId][a.contextId])},_currentContextChangedCallback:function(a,d,b){null===b||(void 0===b||JSON.stringify(d)===JSON.stringify(b))||(Object.keys(this._qabContextualControlsActionMap).forEach(function(a){var b=this._uiBuilder.tagToId(a);this._uiBuilder.exists(b)&&this._uiBuilder.set(b,"actionId",this._qabContextualControlsActionMap[a])},this),this._contextManagerImpl.parentAppId&&
this._applyQuickAccessActions(this._contextManagerImpl.parentAppId,"global"),this._registeredQuickAccessActions[b.appId]&&(b.appId!==this._contextManagerImpl.parentAppId&&this._applyQuickAccessActions(b.appId,"global"),b.contextIdList&&b.contextIdList.forEach(function(a){"global"!==a&&this._applyQuickAccessActions(b.appId,a)},this)))},_applyQuickAccessActions:function(a,d){this._registeredQuickAccessActions[a]&&this._registeredQuickAccessActions[a][d]&&Object.keys(this._registeredQuickAccessActions[a][d]).forEach(function(b){var g=
this._uiBuilder.tagToId(b);this._uiBuilder.exists(g)&&this._uiBuilder.set(g,"actionId",this._registeredQuickAccessActions[a][d][b])},this)},cleanup:function(){this._handles.forEach(function(a){a.remove()})}})})},"MW/uiframework/UIBuilderFactory":function(){define(["./UIBuilder","mw-actiondataservice/ActionDataService"],function(h,a){var g={};return{getInstance:function(f){f=f||{};f.channel=f.channel||"/DefaultUIBuilderPeerModelChannel";f.enableQABCustomization=f.enableQABCustomization||!1;g[f.channel]||
(f.isMATLABDriven=!!f.isMATLABDriven,f.actionService=f.actionService||new a({nameSpace:f.channel+"_Action",mode:f.isMATLABDriven?"ActAsClient":"StandAlone"}),g[f.channel]=new h(f));return g[f.channel]},destroyInstance:function(a){a=a||"/DefaultUIBuilderPeerModelChannel";g[a]&&(g[a].cleanup(),delete g[a])}}})},"MW/uiframework/UIBuilder":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry ./constants/TypeConstants ./managers/ModelManager ./managers/WidgetManager ./supportedUIBuilderFunctions".split(" "),
function(h,a,g,f,d,b,l){return h(null,{constructor:function(m){var e,k;e=new d(m);k=new b({modelManager:e});l.fromModelManager.forEach(function(c){this[c]=a.hitch(e,e[c])},this);l.fromWidgetManager.forEach(function(c){this[c]=a.hitch(k,k[c])},this);this.cleanup=function(){e.cleanup();k.cleanup()};m.manageTabGroupsOutsidePeerModel&&(this.add=function(a,b,d){(d=e.manager.getById(a))&&d.getType()===f.TAB_GROUP?k.addOutsidePeerModel(a,b):e.add(a,b,indes)},this.remove=function(a){var b=e.manager.getById(a);
b&&b.getType()===f.TAB_GROUP?k.removeOutsidePeerModel(a):e.remove(a)},this.get=function(a,b){if("selectedTab"===b&&e.manager.getById(a).getType()===f.TOOLSTRIP){var d=g.byId(a);return d?d.get(b):""}return e.get(a,b)},this.set=function(a,b,d){if("selectedTab"===b&&e.manager.getById(a).getType()===f.TOOLSTRIP)(a=g.byId(a))&&a.set(b,d);else return e.set(a,b,d)},this.getChildrenIds=function(a){if(e.manager.getById(a).getType()===f.TOOLSTRIP){a=g.byId(a).getChildren();var b=[];b.length=a.length;for(var d=
0;d<b.length;d++)b[d]=a[d].id;return b}return e.getChildrenIds(a)},this.isAnOrphan=function(a){return e.manager.getById(a).getType()===f.TAB?(a=g.byId(a),!(a&&a.getParent()&&a.getParent().getParent())):e.isAnOrphan(a)},this.selectFirstTabInTabGroup=function(a,b){var d=e.tagToPeerNodeIdMap[a];if(d&&(d=e.manager.getById(d))&&0<d.getChildren().length){var k=g.byId(b);k&&(k.set("selectedTab",""),k.set("selectedTab",d.getChildren()[0].getId()))}},this.addPropertySetCallback=function(a,b,d){return e.manager.getById(a).getType()===
f.TOOLSTRIP?(a=g.byId(a))?a.watch(function(a,c,e){b({property:a,oldValue:c,newValue:e})}):null:e.addPropertySetCallback(a,b,d)})}})})},"MW/uiframework/constants/TypeConstants":function(){define(["dojo/_base/lang","MW/toolstrip/constants/TypeConstants"],function(h,a){var g={ROOT:"Root",ORPHAN_ROOT:"OrphanRoot"};h.mixin(g,a);return g})},"MW/toolstrip/constants/TypeConstants":function(){define([],function(){return{TOOLSTRIP_ROOT:"ToolstripRoot",QAB_ROOT:"QABRoot",POPUP_ROOT:"PopupRoot",GALLERY_ROOT:"GalleryRoot",
GALLERY_POPUP_ROOT:"GalleryPopupRoot",GALLERY_FAVORITE_CATEGORY_ROOT:"GalleryFavoriteCategoryRoot",TOOLSTRIP:"Toolstrip",QAB:"QuickAccessBar",QA_GROUP:"QuickAccessGroup",TAB_GROUP:"TabGroup",TAB:"Tab",SECTION:"Section",PANEL:"Panel",COLUMN:"Column",COLOR_PICKER_BUTTON:"ColorPickerButton",GRID_PICKER_BUTTON:"GridPickerButton",PUSH_BUTTON:"PushButton",DROP_DOWN_BUTTON:"DropDownButton",SPLIT_BUTTON:"SplitButton",TOGGLE_BUTTON:"ToggleButton",POPUP_LIST:"PopupList",LIST_ITEM:"ListItem",POPUP_LIST_PANEL:"PopupListPanel",
LIST_ITEM_WITH_CHECKBOX:"ListItemWithCheckBox",LIST_ITEM_WITH_TEXTFIELD:"ListItemWithTextField",LIST_ITEM_WITH_RADIO_BUTTON:"ListItemWithRadioButton",LIST_ITEM_WITH_POPUP:"ListItemWithPopup",POPUP_LIST_SEPARATOR:"PopupListSeparator",POPUP_LIST_HEADER:"PopupListHeader",COMBO_BOX:"ComboBox",LIST:"List",LABEL:"Label",EMPTY_CONTROL:"EmptyControl",TEXT_FIELD:"TextField",TEXT_AREA:"TextArea",SPINNER:"Spinner",HORIZONTAL_SLIDER:"HorizontalSlider",RADIO_BUTTON:"RadioButton",CHECK_BOX:"CheckBox",TOGGLE_SPLIT_BUTTON:"ToggleSplitButton",
FOOTER:"Footer",FOOTER_CELL:"FooterCell",QAB_PUSH_BUTTON:"QABPushButton",QAB_DROP_DOWN_BUTTON:"QABDropDownButton",QAB_SPLIT_BUTTON:"QABSplitButton",QAB_TOGGLE_BUTTON:"QABToggleButton",QAB_TOGGLE_SPLIT_BUTTON:"QABToggleSplitButton",QAB_FLOATING_PANE_DOCK:"QABFloatingPaneDock",MENUBAR_WRAPPER:"MenubarWrapper",TOOLBAR_WRAPPER:"ToolbarWrapper",GALLERY:"Gallery",GALLERY_POPUP:"GalleryPopup",GALLERY_CATEGORY:"GalleryCategory",GALLERY_FAVORITE_CATEGORY:"GalleryFavoriteCategory",GALLERY_ITEM:"GalleryItem",
TOGGLE_GALLERY_ITEM:"ToggleGalleryItem"}})},"MW/uiframework/managers/ModelManager":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/dom dojo/dom-attr mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin ../constants/TypeConstants ../hashes/ComponentPropertiesHash ../hashes/IconPropertiesSupportingBase64 ../hashes/ComponentsWithNoParent MW/toolstrip/hashes/ComponentsSupportedByFooterCell MW/toolstrip/hashes/ComponentsEligibleForQAB MW/toolstrip/ToolstripUtils ../../toolstrip/hashes/listOfNewWidgets MW/toolstrip/hashes/DefaultGalleryItemWidths mw-log/Log".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){return h([l],{constructor:function(a){a=a||{};this.isMATLABDriven=a.isMATLABDriven;this._channel=a.channel;this.actionService=a.actionService;this.enableQABCustomization=a.enableQABCustomization;this._autoGeneratedActions={};this.tagToPeerNodeIdMap={};this._typeToRootNodeMap={};this._setupPeerModelManager()},_setupPeerModelManager:function(){var a;this.manager=b.getInstance(this._channel);this.addManagerListeners();this.isMATLABDriven?this.start():(this._root=
this.manager.setRoot(m.ROOT),this._root.addChild(m.ORPHAN_ROOT),this._root.addChild(m.TOOLSTRIP_ROOT),this._root.addChild(m.POPUP_ROOT),this._root.addChild(m.QAB_ROOT),a=this._root.addChild(m.GALLERY_ROOT),a.addChild(m.GALLERY_POPUP_ROOT),a.addChild(m.GALLERY_FAVORITE_CATEGORY_ROOT))},create:function(c){var b,d,k,f;this._supportBase64URL(c);d=a.clone(c);k=d.parentId;b=this._verifyProperties(d);if(q.supportsAction(c.type))if(c.actionId){if(f=this.actionService.getAction(c.actionId))this._supportBase64URL(f),
this._convertPopupTagToId(f),Object.keys(e[c.type]).forEach(function(a){e[c.type][a].notInAction||this._isAValidValue(f[a],e[c.type][a],e[c.type])||(f[a]=b.actionNodeProps[a])},this),this.actionService.updateAction(c.actionId,f)}else b.viewNodeProps.actionId=this.actionService.addAction(b.actionNodeProps),this._autoGeneratedActions[b.viewNodeProps.actionId]=!0;d=this._getCorrespondingParentNode(b.type,k);q.isAFooterCell(d.getType())&&-1===n.indexOf(c.type)&&t.error(c.type+" is not supported by Footer Cell");
d=d.addChild(b.type,b.viewNodeProps);"Toolstrip"===b.type&&k&&this.placeToolstripById(d.getId(),k);this._postProcessing(d);return d.getId()},_getCorrespondingParentNode:function(a,c){var b;switch(a){case m.TOOLSTRIP:b=this._getRootNodeByType(m.TOOLSTRIP_ROOT);break;case m.QAB:b=this._getRootNodeByType(m.QAB_ROOT);break;case m.POPUP_LIST:b=this.exists(c)?this.manager.getById(c):this._getRootNodeByType(m.POPUP_ROOT);break;case m.GALLERY_POPUP:b=this._getRootNodeByType(m.GALLERY_POPUP_ROOT);break;case m.GALLERY_FAVORITE_CATEGORY:b=
this._getRootNodeByType(m.GALLERY_FAVORITE_CATEGORY_ROOT);break;default:b=this.exists(c)?this.manager.getById(c):this._getRootNodeByType(m.ORPHAN_ROOT)}return b},_findAncestorTabGroupId:function(a){for(;this.get(a,"type")!==m.TAB_GROUP;)if(null===a||this._root===this.manager.getById(a)){a=null;break}else a=this.getParentId(a);return a},_createCorrespondingComponentInQAB:function(a,c){var b=this._findAncestorTabGroupId(a);if(null!==b){var b=this.get(b,"QAGroupId"),e=this.get(a,"actionId"),d=this.get(a,
"tag")+"_qab",k=[];this.manager.getByType(m.QA_GROUP).forEach(function(a){k=k.concat(this.manager.getByProperty("actionId",e,a))},this);0===k.length&&(a=this.create({type:p[this.get(a,"type")],tag:d,actionId:e,parentId:b}),c&&this.move(a,b,0),this._hookupRemoveFromQABListener(a));return a}},_hookupAddToQABListener:function(a){var c=this.get(a,"actionId");this.actionService._actionById(c).addEventListener("propertySet",function(c){"isInQAB"===c.data.key&&!0===c.data.newValue&&this._createCorrespondingComponentInQAB(a,
!0)},this)},_hookupRemoveFromQABListener:function(a){var c=this.get(a,"actionId");this.actionService._actionById(c).addEventListener("propertySet",function(c){"isInQAB"===c.data.key&&!1===c.data.newValue&&this.exists(a)&&this.destroy(a)},this)},_postProcessing:function(a){var c,b;-1<Object.keys(p).indexOf(a.getType())&&(this._hookupAddToQABListener(a.getId()),!0===this.get(a.getId(),"isInQAB")&&this._createCorrespondingComponentInQAB(a.getId()));switch(a.getType()){case m.TOOLSTRIP:c=this.create({type:m.QAB});
this.set(a.getId(),"QABId",c);break;case m.TAB_GROUP:b=a.getParent();b.getType()===m.TOOLSTRIP&&(c=b.getProperty("QABId"));b=this.get(a.getId(),"tag");c=this.create({type:m.QA_GROUP,parentId:c,tag:b?b+"_qaGroup":""});this.set(a.getId(),"QAGroupId",c);break;case m.GALLERY_POPUP:c=this.create({type:m.GALLERY_FAVORITE_CATEGORY});this.set(a.getId(),"favCategoryId",c);break;case m.GALLERY:this.set(a.getId(),"currentColumnCount",this.get(a.getId(),"maxColumnCount"));break;case m.GALLERY_CATEGORY:this.addEventCallback(a.getId(),
function(c){"categoryMoved"===c.eventType&&(a.setProperty("animation",{shouldAnimate:!0,startId:"",endId:""}),this.manager.move(a,a.getParent(),0))},this);break;case m.QA_GROUP:case m.GALLERY_FAVORITE_CATEGORY:this.addEventCallback(a.getId(),function(c){"itemMoved"===c.eventType&&this.manager.move(this.manager.getById(c.itemId),a,c.newIndex)},this);break;case m.GALLERY_ITEM:case m.TOGGLE_GALLERY_ITEM:this.addEventCallback(a.getId(),function(c){var b;"favButtonPushed"===c.eventType&&(c=a.getProperty("tag"),
b=a.getProperty("actionId"),(b=this.actionService.getAction(b).isFavorite)?this.removeGalleryItemFromFavorites(c,!0,a.getId()):this.addGalleryItemToFavorites(c,!0,a.getId()))},this)}},addGalleryItemToFavorites:function(a,c,b){var e,d,k;c=c?!0:!1;if(k=this._peerNodeByTag(a,this._getRootNodeByType(m.GALLERY_POPUP_ROOT)))d=k.getParent(),a=k.getProperty("actionId"),e=this.actionService.getAction(a).isFavorite,e||(e=d.getParent().getProperty("favCategoryId"),this.create({type:k.getType(),tag:k.getProperty("tag"),
actionId:a,parentId:e,animation:{shouldAnimate:c,startId:b?b:k.getId(),endId:""}}),this.actionService.updateAction(a,{isFavorite:!0}))},removeGalleryItemFromFavorites:function(a,c,b){var e,d,k,f;c=c?!0:!1;this.exists(b)&&(k=this.manager.getById(b));if(a=this._peerNodeByTag(a,this._getRootNodeByType(m.GALLERY_POPUP_ROOT)))if(k=k?k.getParent():a.getParent(),a=a.getProperty("actionId"),e=this.actionService.getAction(a).isFavorite)k.getType()===m.GALLERY_FAVORITE_CATEGORY?(d=k.getId(),f=this.manager.getByProperty("actionId",
a,this.manager.getByProperty("favCategoryId",d,this._getRootNodeByType(m.GALLERY_POPUP_ROOT))[0])[0].getId()):k.getType()===m.GALLERY_CATEGORY&&(d=k.getParent().getProperty("favCategoryId"),f=b),b=this.manager.getByProperty("actionId",a,this.manager.getById(d))[0],b.setProperty("animation",{shouldAnimate:c,startId:"",endId:f}),this.destroy(b.getId()),this.actionService.updateAction(a,{isFavorite:!1})},add:function(a,c,b){var e,d;if(this._getRootNodeByType(m.ORPHAN_ROOT).hasDescendant(a))if(e=this.manager.getById(a),
d=this.manager.getById(c),t.assert(d,"The parentId provided is not valid!"),"FooterCell"===d._type&&-1===n.indexOf(e._type))t.warn(e._type+" is not supported by Footer Cell");else{if(0>b||b>d.getChildren().length)b=d.getChildren().length;this.manager.move(e,d,b);this.get(a,"type")===m.TAB_GROUP&&this.get(c,"type")===m.TOOLSTRIP&&(a=this.get(a,"QAGroupId"),c=this.get(c,"QABId"),this.add(a,c,this.manager.getById(c).getNumberOfChildren()-b))}else t.assert(!1,"The child being added should be an orphan!")},
remove:function(a){var c;this.exists(a)?(c=this.manager.getById(a),this.manager.move(c,this._getRootNodeByType(m.ORPHAN_ROOT)),this.get(a,"type")===m.TAB_GROUP&&this.remove(this.get(a,"QAGroupId"))):t.assert(!1,"The node does not exist!")},destroy:function(a){var c;this.exists(a)?(a=this.manager.getById(a),c=a.getProperty("actionId"),a.destroy(),this._autoGeneratedActions[c]&&0===this.manager.getByProperty("actionId",c).length&&(this.actionService.removeAction(c),delete this._autoGeneratedActions[c])):
t.assert(!1,"The node does not exist!")},get:function(a,c){var b,d;if(this.exists(a))return b=this.manager.getById(a),"type"===c?d=b.getType():e[b.getType()][c].notInAction?(t.assert(b.hasProperty(c),"This is not a valid property!"),d=b.getProperty(c)):q.supportsAction(b.getType())?(b=b.getProperty("actionId"),t.assert(this.actionService.actionHasProperty(b,c),"This is not a valid property!"),d=this.actionService.getAction(b)[c]):t.assert(!1,"This is not a valid property!"),d;t.assert(!1,"The node does not exist!")},
getChildrenIds:function(a){if(this.exists(a))return a=this.manager.getById(a),a.getChildren().map(function(a){return a.getId()});t.assert(!1,"The node does not exist!")},exists:function(a){return this.manager.hasById(a)},indexOf:function(a){var c=-1,b;b=this.manager.getById(a);this.getParentId(a)&&(c=b.getParent().getChildIndex(b));return c},isAnOrphan:function(a){return this._getRootNodeByType(m.ORPHAN_ROOT).hasDescendant(a)},getParentId:function(a){var b;if(!this.exists(a))return t.assert(!1,"A component with the given id does not exist!"),
null;b=this.manager.getById(a);return!this._getRootNodeByType(m.ORPHAN_ROOT).hasChild(a)&&-1===c.indexOf(b.getType())?b.getParent().getId():null},set:function(a,c,b,d){var k,f={};this.exists(a)?(a=this.manager.getById(a),k=e[a.getType()],k[c]&&this._isAValidValue(b,k[c],c)&&(k[c].notInAction?a.setProperty(c,b,d):q.supportsAction(a.getType())?(a=a.getProperty("actionId"),f[c]=b,this.actionService.updateAction(a,f,d)):t.assert(!1,"This is not a valid property!"))):t.assert(!1,"The node does not exist!")},
move:function(a,c,b){a=this.manager.getById(a);t.assert(a,"The node being moved does not exist!");c=this.manager.getById(c);t.assert(c,"The new parent node does not exist!");if(0>b||b>c.getChildren().length)b=c.getChildren().length;this.manager.move(a,c,b)},getAllProperties:function(c){var b,d,k;b=this.manager.getById(c);d=b.getProperties();if(q.supportsAction(b.getType())&&(c=b.getProperty("actionId")))(k=this.actionService.getAction(c))&&Object.keys(k).forEach(a.hitch(this,function(a){e[b.getType()][a]||
delete k[a]})),d=a.mixin(d,k);return d},_supportBase64URL:function(c){var b;Object.keys(k).forEach(a.hitch(this,function(a){a in c&&(b=c[a],"string"===typeof b&&0===b.indexOf("url(")&&(c[a]=this._stripURL(b)))}))},_stripURL:function(a){a=a.slice(4);return a.slice(0,a.length-1)},_verifyProperties:function(a){var c={},b,d,k={viewNodeProps:{},actionNodeProps:{}};t.assert(a.type,"Type needs to be provided for all components!");b=e[a.type];k.type=a.type;this._convertPopupTagToId(a);Object.keys(b).forEach(function(e){this._isAValidValue(a[e],
b[e],e)?c[e]=a[e]:b[e].required?t.error(e+" needs to be provided for component of type "+a.type):c[e]=b[e].defaultValue},this);Object.keys(c).forEach(function(a){b[a].notInAction?k.viewNodeProps[a]=c[a]:k.actionNodeProps[a]=c[a]});k.type===m.GALLERY_POPUP?k.viewNodeProps.galleryItemWidth||(k.viewNodeProps.galleryItemWidth=s[k.viewNodeProps.galleryItemRowCount][k.viewNodeProps.galleryItemTextLineCount]):k.type===m.GALLERY&&(d=this.manager.getById(k.viewNodeProps.galleryPopupId),k.viewNodeProps.galleryItemWidth=
d.getProperty("galleryItemWidth"),k.viewNodeProps.galleryItemRowCount=d.getProperty("galleryItemRowCount"),k.viewNodeProps.galleryItemTextLineCount=d.getProperty("galleryItemTextLineCount"),k.viewNodeProps.scrollToSelection=d.getProperty("scrollToSelection"));return k},_convertPopupTagToId:function(a){var c,b={},e={popupTag:"popupId",galleryPopupTag:"galleryPopupId"};Object.keys(e).forEach(function(d){c=e[d];a[d]&&((d=this.tagToId(a[d]))&&(a[c]=d),b[c]=a[c],b[c]&&this.actionService.updateAction(a.id,
b))},this)},_isAValidValue:function(a,c,b){var e,d=!0;void 0===a||null===a?d=!1:"Array"===c.type?Array.isArray(a)||(t.warn(b+" property default type is "+c.type+" but you have passed "+typeof a),d=!1):(e=c.type.toLowerCase(),typeof a!==e&&(d=!1,a=Array.isArray(a)?"Array":typeof a,t.warn(b+" property default type is "+c.type+" but you have passed "+a)));return d},selectTab:function(a){var c;this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]),c=a.getParent(),this._widgetByPeerNode(c).set("selectedTab",
a.getId()))},selectFirstTabInTabGroup:function(a){if(this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]))&&0<a.getChildren().length)this.set(this.getParentId(a.getId()),"selectedTab",""),this.set(this.getParentId(a.getId()),"selectedTab",a.getChildren()[0].getId())},placeToolstripAt:function(a,c){var b=this.widgetByTag(a);b.placeAt(c);b.startup()},placeToolstripById:function(a,c){var b=this.widgetById(a);b.placeAt(c);b.startup()},widgetByTag:function(a){return g.byId(this.tagToId(a))},
widgetById:function(a){return g.byId(a)},_widgetByPeerNode:function(a){return g.byId(a.getId().toString())},_peerNodeByTag:function(a,c){c=c||this._getRootNodeByType(m.ROOT);return this.manager.getByProperty("tag",a,c)[0]},showPopup:function(a,c){var b=g.byId(a.toString());b&&f.byId(d.get(b.domNode,"widgetid"))&&(-1<r.indexOf(b.type)?(c&&b.set("menuId",c),b.showMenu()):(b.set("popupId",c),q.isAListItemWithPopup(b.get("type"))?b.getParent().hover_timer=b.getParent().defer(function(){b.getParent()._openItemPopup(b)},
b.getParent().popupDelay):b.toggleDropDown()))},addEventCallback:function(a,c,b){var e,d,k,f;t.assert(this.exists(a),"The node does not exist!");e=this.manager.getById(a);d=function(a){delete a.data.type;c.call(b||e.getProperties(),a.data)};e.addEventListener("peerEvent",d,b);q.supportsAction(e.getType())&&(a=e.getProperty("actionId"),k=this.actionService._actionById(a),f=function(a){delete a.data.type;c.call(b||k.getProperties(),a.data)},k.addEventListener("peerEvent",f,b));return{remove:function(){e.removeEventListener("peerEvent",
d,b);q.supportsAction(e.getType())&&k.removeEventListener("peerEvent",f,b)}}},addPropertySetCallback:function(a,c,b){var e,d,k,f=this;t.assert(this.exists(a),"The node does not exist!");d=this.manager.getById(a);k=function(a){a.originator&&"UI"===a.originator.source&&c.call(b||d.getProperties(),{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})};a=function(a,e){e&&"UI"===e.source&&c.call(b,a)};d.addEventListener("propertySet",k,b);q.supportsAction(d.getType())&&(e=d.getProperty("actionId"),
this.actionService.addActionChangeCallback(e,a,b));return{remove:function(){d.removeEventListener("propertySet",k,b);q.supportsAction(d.getType())&&f.actionService.removeActionChangeCallback(e)}}},tagToId:function(a){if(a)return this.tagToPeerNodeIdMap[a]},createPopupsFromConfig:function(a){a.popups.forEach(function(a){this._addConfigItem(a)},this)},createGalleryPopupFromConfig:function(a){this._addConfigItem(a)},addToolstripFromConfig:function(a){this.create(a)},addTabGroupFromConfig:function(a,
c,b){this._addConfigItem(this._findInConfig(a,c),b)},_addConfigItem:function(a,c){g.byId(a.id)?this.add(a.id,a.parentId):(c&&(a.parentId=this.tagToId(c)),a.id=this.create(a),a.children&&this._addChildren(a.id,a.children))},_addChildren:function(a,c){c.forEach(function(c){c.parentId=a;this._addConfigItem(c)},this)},_findInConfig:function(a,c){function b(a,c){a.tag===c?e=a:a.children&&a.children.forEach(function(a){b(a,c)})}var e;b(a,c);return e},cleanup:function(){this.isMATLABDriven||this._getRootNodeByType(m.ROOT).destroy();
this.actionService.destroy();b.cleanup(this._channel)},_getRootNodeByType:function(a){var c=null;if(this._typeToRootNodeMap[a])c=this._typeToRootNodeMap[a];else{var b=this.manager.getByType(a);b&&(c=b[0]);this._typeToRootNodeMap[a]=c}return c},getAllCategoriesInDescendingOrder:function(a){var c=[];a=a.getChildren();for(var b=a.pop();b;)c.push(b),b=a.pop();return c},getGalleryState:function(a){var c,b=[],e;a=this.tagToId(a);e={items:{tags:[],isFavorite:[]},categories:{tags:[]}};if(this.exists(a))return a=
this.manager.getById(a),c=this.manager.getById(a.getProperty("favCategoryId")),c=c.getChildren(),a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){b.push(a)})}),c.concat(b).forEach(function(a){var c;c=a.getProperty("actionId");a=a.getProperty("tag");c=this.actionService.getAction(c).isFavorite;-1===e.items.tags.indexOf(a)&&(e.items.tags.push(a),e.items.isFavorite.push(c))},this),e.categories.tags=a.getChildren().map(function(a){return a.getProperty("tag")}),a.setProperty("state",
e),e;t.assert(!1,"The node does not exist!")},setGalleryState:function(a,c){var b,e,d,k,f,g,l=0,m=this.tagToId(a);this.exists(m)?(b=this.manager.getById(m),k=b.getProperty("favCategoryId"),f=this.manager.getById(k),f.getChildren().forEach(function(a){-1!==c.items.tags.indexOf(a.getProperty("tag"))&&(this.actionService.updateAction(a.getProperty("actionId"),{isFavorite:!1}),a.destroy())},this),c.items.tags.forEach(function(a,d){var f;c.items.isFavorite[d]&&(e=this.manager.getByProperty("tag",a,b),
0<e.length&&(g=e[0].getProperty("actionId"),f=this.create({type:e[0].getType(),tag:a,actionId:g}),this.add(f,k,l),l+=1,this.actionService.updateAction(g,{isFavorite:!0})))},this),c.categories.tags.forEach(function(a,c){d=this.tagToId(a);this.exists(d)&&this.move(d,m,c)},this)):t.assert(!1,"The node does not exist!")},getQABState:function(a){var c=[];a=this.get(this.tagToId(a),"QABId");this.getChildrenIds(a).forEach(function(a){this.getChildrenIds(a).forEach(function(a){var b={};b.tag=this.get(a,"tag");
b.showText=this.get(a,"showText");c.push(b)},this)},this);return c},setQABState:function(a,c,b){this.get(this.tagToId(a),"QABId");if(!Array.isArray(c)&&void 0!==c){var e=[];Object.keys(c).forEach(function(a){var b={};b.tag=a;b.showText=c[a].showText;e.push(b)});c=e}void 0===c||0===c.length?b.forEach(function(a){a=this.create(a);this.set(a,"isInQAB",!0);this._hookupRemoveFromQABListener(a)},this):c.forEach(function(a){var c=a.tag,e=!1,d=!!a.showText;b.forEach(function(a){a.tag===c&&(e=!0,a.showText=
d,a=this.create(a),this.set(a,"isInQAB",!0),this._hookupRemoveFromQABListener(a))},this);if(!e)if(a=c.replace("_qab",""),a=this.tagToId(a),-1<Object.keys(p).indexOf(this.get(a,"type"))&&!1===this.get(a,"isInQAB")){var k=this._createCorrespondingComponentInQAB(a);this.set(k,"showText",d);this.set(a,"isInQAB",!0)}else(a=this.tagToId(c))&&this.set(a,"showText",d)},this)}})})},"MW/uiframework/hashes/ComponentPropertiesHash":function(){define("dojo/_base/lang MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties MW/toolstrip/hashes/componentproperties/containers/QABProperties MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabProperties MW/toolstrip/hashes/componentproperties/containers/ColumnProperties MW/toolstrip/hashes/componentproperties/containers/SectionProperties MW/toolstrip/hashes/componentproperties/containers/PanelProperties MW/toolstrip/hashes/componentproperties/containers/FooterProperties MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/LabelProperties MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/GalleryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O,S,M,J,C,E,R,L,K,P,aa,Q,W,X,Y,Z,T,$,U,V,ba,F){var ca={};Array.prototype.slice.call(arguments).forEach(function(a,c){0<c&&h.mixin(ca,a)});return ca})},"MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/DisplayStateConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f,d){var b={};b[a.TOOLSTRIP]=
h.mixin({displayState:{type:"string",notInAction:!0,defaultValue:g.EXPANDED},QABId:{type:"string",notInAction:!0,defaultValue:""},selectedTab:{type:"String",notInAction:!0,defaultValue:""}},f,d);return b})},"MW/toolstrip/constants/DisplayStateConstants":function(){define([],function(){return{COLLAPSED:"collapsed",EXPANDED:"expanded",EXPANDED_ON_TOP:"expanded_on_top"}})},"MW/toolstrip/hashes/componentproperties/properties/TypeProperty":function(){define(["./VerifyComponentProperty"],function(h){return{type:new h({type:"string",
defaultValue:"",notInAction:!0,required:!0})}})},"MW/toolstrip/hashes/componentproperties/properties/VerifyComponentProperty":function(){define(["mw-log/Log"],function(h){return function(a){a=a||{};"string"!==typeof a.type&&h.error(a.type,"Type property is required");"boolean"!==typeof a.notInAction&&h.error(a.notInAction,"NotInAction property is required");"boolean"!==typeof a.required&&h.error(a.required,"Required property is required");void 0===a.defaultValue&&h.error(a.defaultValue,"DefaultValue  property is required");
return a}})},"MW/toolstrip/hashes/componentproperties/properties/TagProperty":function(){define(["./VerifyComponentProperty"],function(h){return{tag:new h({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/QABProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.QAB]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.QA_GROUP]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.TAB_GROUP]=h.mixin({selectedTab:{type:"string",notInAction:!0,defaultValue:""},QAGroupId:{type:"string",notInAction:!0,
defaultValue:""}},g,f);return d})},"MW/toolstrip/hashes/componentproperties/containers/TabProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/MnemonicProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),function(h,a,g,f,d,b,l,m){var e={};e[a.TAB]=h.mixin({},g,f,d,b,l,m);return e})},"MW/toolstrip/hashes/componentproperties/properties/TitleProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{title:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MnemonicProperty":function(){define(["./VerifyComponentProperty"],function(h){return{mnemonic:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemovableProperty":function(){define(["./VerifyComponentProperty"],function(h){return{removable:new h({type:"boolean",defaultValue:!1,notInAction:!0,
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemoveMessageProperty":function(){define(["./VerifyComponentProperty"],function(h){return{removeMessage:new h({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/ColumnProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/AlignmentConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f,
d){var b={};b[a.COLUMN]=h.mixin({horizontalAlignment:{type:"string",notInAction:!0,defaultValue:g.LEFT},width:{type:"number",notInAction:!0,defaultValue:0},extraColumnGap:{type:"boolean",notInAction:!0,defaultValue:!1}},f,d);return b})},"MW/toolstrip/constants/AlignmentConstants":function(){define([],function(){return{LEFT:"left",RIGHT:"right",CENTER:"center"}})},"MW/toolstrip/hashes/componentproperties/containers/SectionProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants",
"../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(h,a,g,f,d){var b={};b[a.SECTION]=h.mixin({collapsePriority:{type:"number",notInAction:!0,defaultValue:0}},g,f,d);return b})},"MW/toolstrip/hashes/componentproperties/containers/PanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.PANEL]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/containers/FooterProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.FOOTER]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.FOOTER_CELL]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.PUSH_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/IconProperty":function(){define(["./VerifyComponentProperty"],function(h){return{icon:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/QuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],function(h){return{quickAccessIcon:new h({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IconOverrideProperty":function(){define(["./VerifyComponentProperty"],function(h){return{iconOverride:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{text:new h({type:"string",defaultValue:"",notInAction:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextOverrideProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{textOverride:new h({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/EnabledProperty":function(){define(["./VerifyComponentProperty"],function(h){return{enabled:new h({type:"boolean",shouldBeFlipped:!0,notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionProperty":function(){define(["./VerifyComponentProperty"],function(h){return{description:new h({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionOverrideProperty":function(){define(["./VerifyComponentProperty"],function(h){return{descriptionOverride:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ShortcutProperty":function(){define(["./VerifyComponentProperty"],function(h){return{shortcut:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},
"MW/toolstrip/hashes/componentproperties/properties/ActionIdProperty":function(){define(["./VerifyComponentProperty"],function(h){return{actionId:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IsInQABProperty":function(){define(["./VerifyComponentProperty"],function(h){return{isInQAB:new h({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){var v={};v[a.TOGGLE_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u);return v})},"MW/toolstrip/hashes/componentproperties/properties/SelectedProperty":function(){define(["./VerifyComponentProperty"],function(h){return{selected:new h({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ButtonGroupNameProperty":function(){define(["./VerifyComponentProperty"],function(h){return{buttonGroupName:new h({type:"string",
defaultValue:"",required:!1,notInAction:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){var z={};z[a.DROP_DOWN_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x);return z})},"MW/toolstrip/hashes/componentproperties/properties/PopupIdProperty":function(){define(["./VerifyComponentProperty"],function(h){return{popupId:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HasDynamicPopupProperty":function(){define(["./VerifyComponentProperty"],function(h){return{hasDynamicPopup:new h({type:"boolean",
notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ErrorTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{errorText:new h({type:"string",notInAction:!1,defaultValue:"This component is in error state",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/WarningTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{warningText:new h({type:"string",notInAction:!1,defaultValue:"This component is in Warning state",
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ValidationStateProperty":function(){define(["./VerifyComponentProperty"],function(h){return{validationState:new h({type:"string",notInAction:!1,defaultValue:"normal",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z){var y={};y[a.SPLIT_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z);return y})},"MW/toolstrip/hashes/componentproperties/properties/DropDownAlwaysEnabledProperty":function(){define(["./VerifyComponentProperty"],function(h){return{dropDownAlwaysEnabled:new h({type:"boolean",shouldBeFlipped:!1,notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A){var B={};B[a.TOGGLE_SPLIT_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A);return B})},"MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.COLOR_PICKER_BUTTON]=h.mixin({},{selectedColor:{type:"string",defaultValue:"#ff0000",notInAction:!0,required:!1},closeOnColorSelection:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showPreview:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showRecentColors:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showCustomPicker:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,
r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){var r={};r[a.GRID_PICKER_BUTTON]=h.mixin({},{maxRows:{type:"number",defaultValue:5,notInAction:!0,required:!1},maxColumns:{type:"number",defaultValue:5,notInAction:!0,required:!1},occupancy:{type:"number",defaultValue:0,notInAction:!0,required:!1},fillOrder:{type:"string",defaultValue:"rowMajor",notInAction:!0,required:!1},selection:{type:"Object",defaultValue:{},notInAction:!0,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q);return r})},"MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/ShowTextProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){var q={};q[a.QAB_PUSH_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p);return q})},"MW/toolstrip/hashes/componentproperties/properties/ShowTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{showText:new h({type:"boolean",defaultValue:!1,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.QAB_DROP_DOWN_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){var u={};u[a.QAB_FLOATING_PANE_DOCK]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t);return u})},"MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.QAB_SPLIT_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.QAB_TOGGLE_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){var x={};x[a.QAB_TOGGLE_SPLIT_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w);return x})},"MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/TextProperty ../properties/ItemsProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.COMBO_BOX]=h.mixin({},{selectedItem:{type:"string",defaultValue:"",notInAction:!1,required:!1},editable:{type:"boolean",notInAction:!1,defaultValue:!1,required:!1},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""}},g,f,d,b,l,m,e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/ItemsProperty":function(){define(["./VerifyComponentProperty"],function(h){return{items:new h({type:"Array",notInAction:!1,
defaultValue:[],required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/PlaceholderTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{placeholderText:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ItemsProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.LIST]=h.mixin({},{selectedItems:{type:"Array",defaultValue:[],notInAction:!1,required:!1},selectionMode:{type:"string",defaultValue:"single",notInAction:!1,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/properties/CompactProperty":function(){define(["./VerifyComponentProperty"],function(h){return{compact:new h({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/PopupListProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.POPUP_LIST]=h.mixin({},{maxHeight:{type:"number",defaultValue:600,notInAction:!0,required:!1}},g,f);return d})},"MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.POPUP_LIST_PANEL]=h.mixin({},
{maxHeight:{type:"number",defaultValue:100,notInAction:!0,required:!1}},g,f);return d})},"MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(h,a,g,f,d){var b={};b[a.POPUP_LIST_HEADER]=h.mixin({},g,f,d);return b})},"MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.POPUP_LIST_SEPARATOR]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.TEXT_AREA]=h.mixin({},{},g,f,d,b,l,m,e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/EditableProperty":function(){define(["./VerifyComponentProperty"],function(h){return{editable:new h({type:"boolean",notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.TEXT_FIELD]=h.mixin({},{},g,f,d,b,l,m,e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.HORIZONTAL_SLIDER]=h.mixin({},{value:{type:"number",defaultValue:5,notInAction:!1,required:!1},minimum:{type:"number",defaultValue:-10,notInAction:!1,required:!1},maximum:{type:"number",defaultValue:10,notInAction:!1,required:!1},steps:{type:"number",defaultValue:10,notInAction:!1,required:!1},numberOfTicks:{type:"number",defaultValue:10,notInAction:!1,required:!1},labels:{type:"Array",notInAction:!1,required:!1,defaultValue:[]}},g,f,d,b,l,m,
e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/ValueProperty":function(){define(["./VerifyComponentProperty"],function(h){return{value:new h({notInAction:!1,type:"number",defaultValue:5,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MinimumProperty":function(){define(["./VerifyComponentProperty"],function(h){return{minimum:new h({type:"number",notInAction:!1,defaultValue:-20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MaximumProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{maximum:new h({type:"number",notInAction:!1,defaultValue:20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty MW/toolstrip/hashes/listOfNewWidgets".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){var u={};u[a.SPINNER]=h.mixin({},{editable:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1},minorStepSize:{type:"number",defaultValue:5,notInAction:!1,required:!1},majorStepSize:{type:"number",defaultValue:10,notInAction:!1,required:!1},errorText:{type:"string",notInAction:!1,defaultValue:"The value entered is not in range",required:!1}},-1===t.indexOf(a.SPINNER)?{}:{format:{type:"string",defaultValue:"",notInAction:!0,required:!1}},g,f,d,b,l,
m,e,k,c,n,p,q,r,s);return u})},"MW/toolstrip/hashes/listOfNewWidgets":function(){define(["../constants/TypeConstants"],function(h){return[h.LABEL,h.PUSH_BUTTON,h.TOGGLE_BUTTON,h.DROP_DOWN_BUTTON,h.SPLIT_BUTTON,h.TOGGLE_SPLIT_BUTTON,h.TEXT_FIELD,h.TEXT_AREA,h.CHECK_BOX,h.RADIO_BUTTON,h.COMBO_BOX,h.SPINNER,h.LIST,h.LIST_ITEM,h.LIST_ITEM_WITH_CHECKBOX,h.LIST_ITEM_WITH_RADIO_BUTTON,h.LIST_ITEM_WITH_POPUP,h.LIST_ITEM_WITH_TEXTFIELD,h.POPUP_LIST,h.POPUP_LIST_PANEL,h.POPUP_LIST_SEPARATOR,h.POPUP_LIST_HEADER,
h.QAB_PUSH_BUTTON,h.QAB_TOGGLE_BUTTON,h.QAB_DROP_DOWN_BUTTON,h.QAB_SPLIT_BUTTON,h.QAB_TOGGLE_SPLIT_BUTTON,h.COLOR_PICKER_BUTTON,h.GRID_PICKER_BUTTON]})},"MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.RADIO_BUTTON]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.CHECK_BOX]=h.mixin({},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/LabelProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IconProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){var p={};p[a.LABEL]=h.mixin({},g,f,d,b,l,m,e,k,c,n);return p})},"MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,a,g,f){var d={};d[a.EMPTY_CONTROL]=h.mixin({},g,f);return d})},"MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k){var c={};c[a.MENUBAR_WRAPPER]=h.mixin({},{},g,f,d,b,l,m,e,k);return c})},"MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k){var c={};c[a.TOOLBAR_WRAPPER]=h.mixin({},g,f,d,b,l,m,e,k);return c})},"MW/toolstrip/hashes/componentproperties/controls/GalleryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/ScrollToSelectionProperty ../properties/HideDisabledItemsProperty ../properties/MnemonicProperty ../properties/OpenIfEmptyProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){d={};d[a.GALLERY]=h.mixin({},{galleryPopupId:{type:"string",notInAction:!0,required:!0},minColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:3},maxColumnCount:{type:"number",notInAction:!0,defaultValue:7},currentColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:7},textOverlay:{type:"string",notInAction:!0,required:!1,defaultValue:""},displayState:{type:"string",notInAction:!0,required:!1,defaultValue:"normal"},shouldRefresh:{type:"boolean",
notInAction:!0,defaultValue:!0,required:!1},enabled:{type:"boolean",shouldBeFlipped:!0,notInAction:!0,defaultValue:!0,required:!1}},g,f,b,l,m,e,k,c,n);return d})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemRowCountProperty":function(){define(["./VerifyComponentProperty"],function(h){return{galleryItemRowCount:new h({type:"number",notInAction:!0,defaultValue:1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemTextLineCountProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{galleryItemTextLineCount:new h({type:"number",notInAction:!0,defaultValue:2,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemWidthProperty":function(){define(["./VerifyComponentProperty"],function(h){return{galleryItemWidth:new h({type:"number",notInAction:!0,defaultValue:0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ScrollToSelectionProperty":function(){define(["./VerifyComponentProperty"],function(h){return{scrollToSelection:new h({type:"boolean",
notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HideDisabledItemsProperty":function(){define(["./VerifyComponentProperty"],function(h){return{hideDisabledItems:new h({type:"boolean",notInAction:!0,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/OpenIfEmptyProperty":function(){define(["./VerifyComponentProperty"],function(h){return{openIfEmpty:new h({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},
"MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/DisplayStateProperty ../properties/ScrollToSelectionProperty dojo/i18n!l10n/nls/toolstrip".split(" "),function(h,a,g,f,d,b,l,m,e,k){var c={};c[a.GALLERY_POPUP]=h.mixin({},
{columnCount:{type:"number",notInAction:!0,required:!1,defaultValue:0},favCategoryId:{type:"string",notInAction:!0,required:!1,defaultValue:""},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""},placeholderText:{type:"string",notInAction:!0,required:!1,defaultValue:k.gallerySearch},showHeader:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0},userCustomizable:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0}},g,f,d,b,l,m,e);return c})},"MW/toolstrip/hashes/componentproperties/properties/DisplayStateProperty":function(){define(["../../../constants/gallery/GalleryViewConstants",
"./VerifyComponentProperty"],function(h,a){return{displayState:new a({type:"string",notInAction:!0,defaultValue:h.ICON,required:!1})}})},"MW/toolstrip/constants/gallery/GalleryViewConstants":function(){define([],function(){return{ICON:"icon_view",LIST:"list_view"}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/DisplayStateProperty ../properties/AnimationProperty".split(" "),
function(h,a,g,f,d,b,l){var m={};m[a.GALLERY_CATEGORY]=h.mixin({},g,f,d,b,l);return m})},"MW/toolstrip/hashes/componentproperties/properties/AnimationProperty":function(){define(["./VerifyComponentProperty"],function(h){return{animation:new h({type:"object",notInAction:!0,defaultValue:{shouldAnimate:!1,startId:"",endId:""},required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty",
"../properties/TagProperty","../properties/DisplayStateProperty"],function(h,a,g,f,d){var b={};b[a.GALLERY_FAVORITE_CATEGORY]=h.mixin({},{title:{type:"string",notInAction:!0,required:!1,defaultValue:"FAVORITES"}},g,f,d);return b})},"MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){var v={};v[a.GALLERY_ITEM]=h.clone(h.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u));v[a.GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return v})},"MW/toolstrip/hashes/componentproperties/properties/ClosePopupOnClickProperty":function(){define(["./VerifyComponentProperty"],function(h){return{closePopupOnClick:new h({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/SelectedProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ButtonGroupNameProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){var x={};x[a.TOGGLE_GALLERY_ITEM]=h.clone(h.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w));x[a.TOGGLE_GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return x})},"MW/toolstrip/hashes/componentproperties/controls/ListItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty ../properties/RemovableProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){var v={};v[a.LIST_ITEM]=h.mixin({},{showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u);return v})},"MW/toolstrip/hashes/componentproperties/properties/ShowDescriptionProperty":function(){define(["./VerifyComponentProperty"],function(h){return{showDescription:new h({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/UseQuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{useQuickAccessIcon:new h({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.LIST_ITEM_WITH_CHECKBOX]=h.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty ../properties/ButtonGroupNameProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){var t={};t[a.LIST_ITEM_WITH_RADIO_BUTTON]=h.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/EditableProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s={};s[a.LIST_ITEM_WITH_TEXTFIELD]=h.mixin({},{label:{type:"string",defaultValue:"",notInAction:!1,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/HasDynamicPopupProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){var v={};v[a.LIST_ITEM_WITH_POPUP]=h.mixin({},{popupId:{type:"string",defaultValue:"",notInAction:!1,required:!1},showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1,description:"Using this you can toggle the visibility of the icon on the list item."},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u);return v})},"MW/uiframework/hashes/IconPropertiesSupportingBase64":function(){define({icon:!0,
iconClass:!0,quickAccessIcon:!0})},"MW/uiframework/hashes/ComponentsWithNoParent":function(){define(["../constants/TypeConstants"],function(h){return[h.TOOLSTRIP,h.POPUP_LIST,h.GALLERY_POPUP,h.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/ComponentsSupportedByFooterCell":function(){define(["../constants/TypeConstants"],function(h){return[h.PUSH_BUTTON,h.TOGGLE_BUTTON,h.RADIO_BUTTON,h.TEXT_FIELD,h.LABEL,h.CHECK_BOX]})},"MW/toolstrip/hashes/ComponentsEligibleForQAB":function(){define(["../constants/TypeConstants"],
function(h){var a={};a[h.PUSH_BUTTON]=h.QAB_PUSH_BUTTON;a[h.DROP_DOWN_BUTTON]=h.QAB_DROP_DOWN_BUTTON;a[h.SPLIT_BUTTON]=h.QAB_SPLIT_BUTTON;a[h.TOGGLE_BUTTON]=h.QAB_TOGGLE_BUTTON;a[h.TOGGLE_SPLIT_BUTTON]=h.QAB_TOGGLE_SPLIT_BUTTON;return a})},"MW/toolstrip/ToolstripUtils":function(){define("dijit/registry dojo/_base/kernel dojo/_base/window dojo/dom-geometry dojo/dom-construct ./constants/TypeConstants ./hashes/ComponentsThatDontSupportAction ./hashes/PeerNodeTypesWithNoCorrespondingWidget ./hashes/ComponentsThatSupportAnimation".split(" "),
function(h,a,g,f,d,b,l,m,e){return{isGalleryPopupAttachedWithGallery:function(a){return a.domNode.classList.contains("gallery")},isAPopupList:function(a){return a===b.POPUP_LIST},isAListItemWithPopup:function(a){return a===b.LIST_ITEM_WITH_POPUP},isAMenubarWrapper:function(a){return a===b.MENUBAR_WRAPPER},isAToolbarWrapper:function(a){return a===b.TOOLBAR_WRAPPER},isAColumn:function(a){return a===b.COLUMN},isAPanel:function(a){return a===b.PANEL},supportsAction:function(a){return-1===l.indexOf(a)},
isAFooterCell:function(a){return a===b.FOOTER_CELL},hasNoCorrespondingWidget:function(a){return-1<m.indexOf(a)},supportsAnimation:function(a){return-1<e.indexOf(a)},findParent:function(a,c){for(var b=null,e;a;){e=null;if(a.get("type")===c){b=a;break}a.domNode.parentNode&&(e=a.domNode.parentNode.getAttribute("dijitpopupparent"));a=e?h.byId(e):a.getParent()}return b},findParentToolstrip:function(a){return this.findParent(a,b.TOOLSTRIP)},findParentSection:function(a){return this.findParent(a,b.SECTION)},
getClosestValue:function(a,c){for(var b=-1,e=a.length,d;1<e-b;)d=Math.round((b+e)/2),a[d]<=c?b=d:e=d;a[b]===c&&(e=b);return[a[b],a[e]]},computeWidth:function(a,c,b){return parseInt(this._computeStyle(a,null,c,b).width)},computeHeight:function(a,c,b){return parseInt(this._computeStyle(a,c,null,b).height)},_computeStyle:function(a,c,b,e){null==c&&(c="auto");null==b&&(b="auto");null==e&&(e="");e=-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf((navigator.language||navigator.userLanguage).toLowerCase())?d.create("div",
{"class":"dijitOffScreen",style:'font-size: 13px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+e},g.body()):d.create("div",{"class":"dijitOffScreen",style:'font-size: 11px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+e},g.body());e.style.width=c;e.style.height=b;e.textContent=a;a=window.getComputedStyle(e,null);a={width:a.width,height:a.height};d.destroy(e);return a}}})},"MW/toolstrip/hashes/ComponentsThatDontSupportAction":function(){define(["../constants/TypeConstants"],
function(h){return[h.TOOLSTRIP,h.QAB,h.QA_GROUP,h.TAB_GROUP,h.TAB,h.SECTION,h.COLUMN,h.PANEL,h.EMPTY_CONTROL,h.POPUP_LIST,h.POPUP_LIST_PANEL,h.POPUP_LIST_HEADER,h.POPUP_LIST_SEPARATOR,h.FOOTER,h.FOOTER_CELL,h.GALLERY,h.GALLERY_POPUP,h.GALLERY_CATEGORY,h.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/PeerNodeTypesWithNoCorrespondingWidget":function(){define(["MW/uiframework/constants/TypeConstants"],function(h){return[h.ROOT,h.ORPHAN_ROOT,h.TOOLSTRIP_ROOT,h.POPUP_ROOT,h.QAB_ROOT,"QAGroupRoot",
h.GALLERY_ROOT,h.GALLERY_POPUP_ROOT,h.GALLERY_FAVORITE_CATEGORY_ROOT]})},"MW/toolstrip/hashes/ComponentsThatSupportAnimation":function(){define(["../constants/TypeConstants"],function(h){return[h.GALLERY_FAVORITE_CATEGORY,h.GALLERY_CATEGORY]})},"MW/toolstrip/hashes/DefaultGalleryItemWidths":function(){define([],function(){return{1:{"0":68,1:68,2:68},2:{"0":52,1:102},3:{"0":52,1:98}}})},"MW/uiframework/managers/WidgetManager":function(){define("dojo/aspect dojo/debounce dojo/_base/lang dojo/_base/declare dijit/registry dijit/popup ../constants/TypeConstants ../WidgetFactory ../hashes/ControlEventsHash ../hashes/ComponentPropertiesHash ../hashes/PeerNodeWidgetPropertiesHash ../../toolstrip/hashes/listOfNewWidgets ../../toolstrip/hashes/PeerNodeWidgetEventsHash MW/toolstrip/hashes/ToolstripCollapseTriggers MW/toolstrip/constants/DisplayStateConstants MW/toolstrip/ToolstripUtils mw-log/Log".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){return f(null,{constructor:function(a){var c=this;a=a||{};t.assert(a.modelManager,"Model Manager needs to be passed in!");this._modelManager=a.modelManager;this._openPopups=[];this._galleryRefreshMap={};this._aspects=[h.after(this._modelManager,"onChildAdd",function(a){c.childAddedObserver(a)},!0),h.after(this._modelManager,"onChildDestroy",function(a){c.childDestroyedObserver(a)},!0),h.after(this._modelManager,"onPropertySet",function(a){c.propertySetObserver(a)},
!0),h.after(this._modelManager,"onChildMove",function(a){c.childMovedObserver(a)},!0),h.after(this._modelManager,"onPeerEvent",function(a){c.peerEventObserver(a)},!0),h.after(this._modelManager.actionService,"onActionChange",g.hitch(this,this._onActionChange),!0),h.after(this._modelManager.actionService,"onActionAdd",g.hitch(this,this._onActionAdd),!0),h.after(this._modelManager.actionService,"onPeerEvent",g.hitch(this,this._onActionPeerEvent),!0)]},childAddedObserver:function(c){var b,e,k,f,g,m,
r,h=this;b=c.data.child;e=c.target;s.hasNoCorrespondingWidget(b.getType())||(g=this._getWidgetProperties(b),r=b.getId(),g.id=r.toString(),d.byId(g.id)||(""!==g.tag&&(this._modelManager.tagToPeerNodeIdMap[g.tag]=r),k=this._buildWidget(g,b),f=this._getWidgetForPeerNode(e),k.get("type")===l.GALLERY?(h.refreshGallery(b.getId()),h._modelManager.addEventCallback(b.getId(),a(function(a){"refresh"===a.eventType&&h.refreshGallery(b.getId())},100))):k.get("type")===l.GALLERY_POPUP&&this._modelManager.manager.getByProperty("galleryPopupId",
k.id).forEach(function(a){d.byId(a.getId()).setupGalleryPopupListener(k)}),m=function(){f&&f.addChild(k,c.data.index)},e=b.getProperty("animation"),s.supportsAnimation(c.target.getType())&&e&&!0===e.shouldAnimate?f.animate({type:"childAdd",childWidget:k,startId:e.startId,endId:e.endId,onEnd:function(){m();b.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):m()))},addOutsidePeerModel:function(a,c){var b=this._modelManager.manager.getById(a),e=this._modelManager.manager.getById(c),
k=this._getWidgetProperties(b);k.id=b.getId().toString();b=d.byId(k.id)||this._buildWidget(k,b);(e=this._getWidgetForPeerNode(e))&&e.addChild(b)},removeOutsidePeerModel:function(a){a=this._modelManager.manager.getById(a);a=this._getWidgetForPeerNode(a);var c=a.getParent();c&&c.removeChild(a)},_buildWidget:function(a,c){if(a.type===l.TOOLSTRIP||a.type===l.QA_GROUP)a.enableQABCustomization=this._modelManager.enableQABCustomization;var b=m.create(a),e=this;this._addWatchToWidgetProperties(b,c);this._attachPopupMonitor(b);
this._hookupEvents(b,c);this._listenForToolstripCollapseTrigger(b);this._aspects.push(h.after(b,"removeChild",function(a){e._resetStateRecursive(a)},!0));return b},_listenForToolstripCollapseTrigger:function(a){var c=this,b=q[a.get("type")];b&&(b.events.forEach(function(b){if(-1<n.indexOf(a.type))a.on(p[a.type][b],function(){c._collapseParents(a)});else a.own(h.after(a,b,function(){c._collapseParents(a)}))}),a.watch(function(e){-1<b.properties.indexOf(e)&&c._collapseParents(a)}))},_collapseParents:function(a){this._collapseParentSection(a);
this._collapseParentToolstrip(a)},_collapseParentSection:function(a){(a=s.findParentSection(a))&&a.closePopup()},_collapseParentToolstrip:function(a){var c=s.findParentToolstrip(a);c&&(c.get("displayState")===r.EXPANDED_ON_TOP&&"FooterCell"!==a.getParent().type)&&c.set("displayState",r.COLLAPSED)},_attachPopupMonitor:function(a){var c=this,b;switch(a.get("type")){case l.POPUP_LIST:b=a;break;case l.COMBO_BOX:b=a.dropDown;break;case l.GALLERY_POPUP:b=a;break;case l.SECTION:b=a.getPopup()}b&&(this._aspects.push(h.after(b,
"onOpen",function(){c._onPopupOpen(b)})),this._aspects.push(h.after(b,"onClose",function(){c._onPopupClose()})))},_getWidgetProperties:function(a){var b=this._modelManager.getAllProperties(a.getId()),e,d;Object.keys(b).forEach(function(f){if((e=c[a.getType()])&&e[f])d=k[a.getType()][f],b[e[f]]=d.shouldBeFlipped?!b[f]:g.clone(b[f]),delete b[f]});b.type=a.getType();return b},childDestroyedObserver:function(a){var c,b,e,d,k,f;e=a.data.child;d=a.target;f=e.getId();if(c=this._getWidgetForPeerNode(e))Object.keys(this._modelManager.tagToPeerNodeIdMap).forEach(g.hitch(this,
function(a){this._modelManager.tagToPeerNodeIdMap[a]===f&&delete this._modelManager.tagToPeerNodeIdMap[a]})),b=this._getWidgetForPeerNode(d),k=function(){(s.isAMenubarWrapper(c.get("type"))||s.isAToolbarWrapper(c.get("type")))&&c.getChildren().forEach(function(a){c.removeChild(a)});b&&b.removeChild(c);c.destroyRecursive()},d=e.getProperty("animation"),s.supportsAnimation(a.target.getType())&&d&&!0===d.shouldAnimate?b.animate({type:"childRemove",childWidget:c,startId:d.startId,endId:d.endId,onEnd:function(){k();
e.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):k()},childMovedObserver:function(a){var c,b,e,d,k,f;e=this._getWidgetForPeerNode(a.target);c=this._getWidgetForPeerNode(a.data.oldParent);b=this._getWidgetForPeerNode(a.data.newParent);d=function(){b&&b.addChild(e,a.data.newIndex)};k=function(){c&&c.removeChild(e)};(f=a.target.getProperty("animation"))&&!0===f.shouldAnimate?s.supportsAnimation(a.target.getType())?e.animate({type:"move",oldIndex:a.data.oldIndex,newIndex:a.data.newIndex,
onEnd:function(){k();d();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):s.supportsAnimation(a.data.newParent.getType())?b.animate({type:"childAdd",childWidget:e,startId:f.startId,endId:f.endId,onEnd:function(){k();d();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):s.supportsAnimation(a.data.oldParent.getType())&&c.animate({type:"childRemove",childWidget:e,startId:f.startId,endId:f.endId,onEnd:function(){k();d();a.target.setProperty("animation",
{shouldAnimate:!1,startId:"",endId:""})}}):(k(),d())},propertySetObserver:function(a){var c=this._getWidgetForPeerNode(a.target),b,e,d;c&&("tag"===a.data.key&&(e=c.get("tag"),d=this._modelManager.tagToPeerNodeIdMap[e],delete this._modelManager.tagToPeerNodeIdMap[e],this._modelManager.tagToPeerNodeIdMap[a.data.newValue]=d),this._setWidgetProperty(c,a.data.key,a.data.newValue),"actionId"===a.data.key&&(b=this._getWidgetProperties(a.target),Object.keys(b).forEach(function(e){b=this._getWidgetProperties(a.target);
c.set(e,b[e])},this)))},_getWidgetsWithActionId:function(a){return d.toArray().filter(function(c){return c.actionId===a&&k[c.type]})},_onActionChange:function(a){"id"!==a.key&&this._getWidgetsWithActionId(a.id).forEach(function(c){c._destroyed||this._setWidgetProperty(c,a.key,a.newValue)},this)},_onActionAdd:function(a){if(this._modelManager.isMATLABDriven){var c=this._modelManager.actionService.getAction(a.id),b=Object.keys(c);this._getWidgetsWithActionId(a.id).forEach(function(a){b.forEach(function(b){a._destroyed||
this._setWidgetProperty(a,b,c[b])},this)},this)}},_setWidgetProperty:function(a,b,e){var d=b,f=c[a.get("type")];-1!==Object.keys(k[a.type]).indexOf(b)&&(f&&f[b]&&(d=f[b]),b=k[a.type][b],b.shouldBeFlipped?a.set(d,!e):a.set(d,e))},peerEventObserver:function(a){switch(a.data.eventType){case "placeToolStrip":this._modelManager.placeToolstripById(a.target.getId(),a.data.hostId);break;case "showPopup":this._modelManager.showPopup(a.target.getId(),a.data.popupId);break;case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},
_refreshGalleryFromMATLAB:function(a){this._galleryRefreshMap[a]=this._galleryRefreshMap[a]?this._galleryRefreshMap[a]+1:1;2===this._galleryRefreshMap[a]&&(this.refreshGallery(a),delete this._galleryRefreshMap[a])},_onActionPeerEvent:function(a){switch(a.data.eventType){case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},_addWatchToWidgetProperties:function(a,b){var e,d=this,f,g=c[b.getType()],l=k[b.getType()];a.watch(function(a,c,m){d._modelManager.exists(b.getId())&&(e=a,g&&
g[a]&&(e=g[a]),-1!==Object.keys(l).indexOf(e)&&(f=k[b.getType()][e],f.shouldBeFlipped&&(m=!m),d._modelManager.set(b.getId(),e,m,{source:"UI"})))})},_hookupEvents:function(a,c){function b(e,f){var l="aspect";-1<n.indexOf(k)&&(l="on");e.forEach(function(b){function e(a){var k={};"aspect"===l?k=a||{}:a&&a.mwEventData&&g.mixin(k,a.mwEventData);k.eventType=b;"action"===f?d._modelManager.actionService.executeAction(c.getProperty("actionId"),k):c.dispatchEvent("peerEvent",c,k)}if("aspect"===l)a.own(h.after(a,
b,e,!0));else{var m=b;p[k]&&p[k][b]&&(m=p[k][b]);a.on(m,e)}})}var d=this,k=c.getType(),f=e[k];f&&(b(f.actionEvents,"action"),b(f.componentEvents,"peerNode"))},_getWidgetForPeerNode:function(a){return d.byId(a.getId().toString())},_onPopupClose:function(){this._openPopups.pop();this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},_onPopupOpen:function(a){this._openPopups.push(a);this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},onOpenPopupCountChange:function(a,
c){},isAnyPopupOpen:function(){return 0<b._stack.length&&this._modelManager.exists(b._stack[0].widget.id)},closeAllOpenPopups:function(){this.isAnyPopupOpen()&&b.close()},_resetStateRecursive:function(a){["hovering","active"].forEach(function(c){!0===a.get(c)&&a.set(c,!1)});a.getChildren&&0<a.getChildren().length&&this._resetStateOfChildren(a)},_resetStateOfChildren:function(a){a.getChildren().forEach(function(a){this._resetStateRecursive(a)},this)},refreshGallery:function(a){var c=d.byId(a);if(c){if(this._modelManager.isMATLABDriven){var b=
this._modelManager.get(a,"galleryPopupId");if(b){if(!this._modelManager.manager.hasById(b))return;b=this._modelManager.manager.getById(b);if(this._modelManager.manager.getByType(l.GALLERY_ITEM,b).concat(this._modelManager.manager.getByType(l.TOGGLE_GALLERY_ITEM,b)).some(function(a){return!this._modelManager.actionService.getAction(a.getProperty("actionId"))},this))return}}!1!==c.get("shouldRefresh")&&(b=[],!0===c.get("hideDisabledItems")?(b=this._getUniqueGalleryItems(a,!0),0===b.length&&(b=this._getUniqueGalleryItems(a))):
b=this._getUniqueGalleryItems(a),c.destroyDescendants(),b.forEach(function(a){var b=this._getWidgetProperties(a);a=this._buildWidget(b,a);c.addChild(a)},this),0===b.length&&c.closeDropDown())}},_getUniqueGalleryItems:function(a,c){function b(a){r=!g.some(function(c){return c.getProperty("actionId")===a.getProperty("actionId")});c&&(r=r&&!0===this._modelManager.get(a.getId(),"enabled"));r&&g.push(a)}function e(){for(l=this._modelManager.getAllCategoriesInDescendingOrder(f);0<l.length;)m=l.pop().getChildren(),
m.forEach(b,this)}function d(){for(var a=0,c=g.length,b=null;a<c;){if(!0===this._modelManager.get(g[a].getId(),"selected")){b={peerNode:g[a],index:a};break}a+=1}return b}var k,f,g=[],l,m,r;k=this._modelManager.manager.getById(a);f=this._modelManager.manager.getById(k.getProperty("galleryPopupId"));k=k.getProperty("currentColumnCount")*k.getProperty("galleryItemRowCount");var h=f.getProperty("favCategoryId");this._modelManager.exists(h)&&(g=this._modelManager.manager.getById(h).getChildren());c&&(g=
g.filter(function(a){return!0===this._modelManager.get(a.getId(),"enabled")},this));if(this._modelManager.get(a,"scrollToSelection")){e.call(this);if(h=d.call(this)){var n=h.peerNode.getId(),n=this._modelManager.getParentId(n),n=g.indexOf(this._modelManager.manager.getById(this._modelManager.getChildrenIds(n)[0]));h.index>n+k-1&&(n=h.index-k+1);n+k>g.length&&(n=g.length-k);0>n&&(n=0);return g.splice(n,k)}return g.slice(0,k)}g.length<k&&e.call(this);return g.slice(0,k)},cleanup:function(){this._aspects.forEach(function(a){a.remove()})}})})},
"dojo/debounce":function(){define([],function(){return function(h,a){var g;return function(){g&&clearTimeout(g);var f=this,d=arguments;g=setTimeout(function(){h.apply(f,d)},a)}}})},"MW/uiframework/WidgetFactory":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/WidgetClassHash","mw-log/Log"],function(h,a,g){return{create:function(f){var d;a[f.type]?d=new a[f.type](f):g.error("No corresponding constructor found for the given type!");return d}}})},"MW/toolstrip/hashes/WidgetClassHash":function(){define("../constants/TypeConstants ../widgets/Toolstrip ../widgets/QAB ../widgets/QAGroup ../widgets/TabGroup ../widgets/Tab ../widgets/Section ../widgets/Panel ../widgets/Column ../menu/PopupListPanel ../widgets/Footer ../widgets/FooterCell ../widgets/gallery/Gallery ../widgets/gallery/GalleryPopup ../widgets/gallery/GalleryCategory ../form/PushButton ../form/DropDownButton ../form/SplitButton ../form/ToggleButton ../form/ColorPickerButton ../form/GridPickerButton ../qab/QABPushButton ../qab/QABDropDownButton ../qab/QABSplitButton ../qab/QABToggleButton ../qab/QABToggleSplitButton ../widgets/qabcontrols/QABFloatingPaneDock ../form/ToggleSplitButton ../menu/PopupList ../menu/ListItem ../menu/ListItemWithPopup ../menu/ListItemWithCheckBox ../menu/ListItemWithTextField ../menu/ListItemWithRadioButton ../menu/PopupListSeparator ../menu/PopupListHeader ../form/ComboBox ../form/ListBox ../form/Label ../widgets/EmptyControl ../form/TextField ../form/TextArea ../form/Spinner ../widgets/HorizontalSlider ../form/RadioButton ../form/CheckBox ../widgets/ToolbarWrapper ../widgets/MenubarWrapper ../widgets/gallery/GalleryItem ../widgets/gallery/ToggleGalleryItem".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O,S,M,J,C,E,R,L,K,P,aa,Q,W,X,Y,Z,T,$,U,V,ba){var F={};F[h.TOOLSTRIP]=a;F[h.QAB]=g;F[h.QA_GROUP]=f;F[h.TAB_GROUP]=d;F[h.TAB]=b;F[h.SECTION]=l;F[h.PANEL]=m;F[h.POPUP_LIST_PANEL]=k;F[h.COLUMN]=e;F[h.GALLERY]=p;F[h.GALLERY_POPUP]=q;F[h.GALLERY_CATEGORY]=r;F[h.GALLERY_FAVORITE_CATEGORY]=r;F[h.FOOTER]=c;F[h.FOOTER_CELL]=n;F[h.PUSH_BUTTON]=s;F[h.DROP_DOWN_BUTTON]=t;F[h.SPLIT_BUTTON]=u;F[h.TOGGLE_BUTTON]=v;F[h.COLOR_PICKER_BUTTON]=w;F[h.GRID_PICKER_BUTTON]=
x;F[h.QAB_PUSH_BUTTON]=z;F[h.QAB_DROP_DOWN_BUTTON]=y;F[h.QAB_SPLIT_BUTTON]=A;F[h.QAB_TOGGLE_BUTTON]=B;F[h.QAB_TOGGLE_SPLIT_BUTTON]=D;F[h.QAB_FLOATING_PANE_DOCK]=H;F[h.TOGGLE_SPLIT_BUTTON]=G;F[h.POPUP_LIST]=I;F[h.LIST_ITEM]=O;F[h.LIST_ITEM_WITH_POPUP]=S;F[h.LIST_ITEM_WITH_CHECKBOX]=M;F[h.LIST_ITEM_WITH_TEXTFIELD]=J;F[h.LIST_ITEM_WITH_RADIO_BUTTON]=C;F[h.POPUP_LIST_SEPARATOR]=E;F[h.POPUP_LIST_HEADER]=R;F[h.COMBO_BOX]=L;F[h.LIST]=K;F[h.LABEL]=P;F[h.EMPTY_CONTROL]=aa;F[h.TEXT_FIELD]=Q;F[h.TEXT_AREA]=
W;F[h.SPINNER]=X;F[h.HORIZONTAL_SLIDER]=Y;F[h.RADIO_BUTTON]=Z;F[h.CHECK_BOX]=T;F[h.MENUBAR_WRAPPER]=U;F[h.TOOLBAR_WRAPPER]=$;F[h.GALLERY_ITEM]=V;F[h.TOGGLE_GALLERY_ITEM]=ba;return F})},"MW/toolstrip/widgets/Toolstrip":function(){define("dojo/aspect dojo/on dojo/dom dojo/topic dojo/keys dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/kernel dijit/Viewport dojo/query dojo/dom-geometry ../ToolstripUtils dojo/i18n!l10n/nls/toolstrip dojo/_base/event dijit/registry dijit/popup dojo/text!./templates/Toolstrip.html dijit/_WidgetBase dijit/_Container dijit/_TemplatedMixin ./TabContainer mw-form/PushButton mw-menu/ContextMenu mw-menu/MenuItem mw-menu/MenuSeparator ../hashes/ComponentsEligibleForQAB ../constants/TypeConstants ../constants/DisplayStateConstants ../constants/MiscConstants ./_WidgetMixin mw-event-utils/doubleClickHandler mw-utils/widgetUtils MW/layout/ConfirmationDialog mw-mixins/PreventSelectionMixin MW/uiframework/MnemonicsStates".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O,S,M,J,C,E,R){return b([v,w,x,S,E],{templateString:u,constructor:function(){this._shouldSetSelectedTab=!0;this._previousSelectedChild=null;this._tabGroupListeners={};h.before(this,"addChild",this._beforeAddChild)},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","refuse");var c=this;this.tabContainer=new z({"class":"tabContainer"},this.toolstripTabContainer);this.tabContainer.tablist.onkeydown=
function(){};this._supportingWidgets.push(this.tabContainer);this.own(h.after(this,"placeAt",function(){f.publish("/Toolstrip/toolstripPlaced",{toolstripId:this.id});c.toolstripPlaced();c.resize()}));this.collapseButton=(new y({"class":"collapseButton",icon:"smallCollapse",showText:!1,width:20,height:20})).placeAt(this.collapseButtonContainer);this.collapseButton.on("click",m.hitch(this,this._expandCollapse));this.tabContainer.tablist.tablistWrapper.children[0].dojoClick=!1;this._setTooltipforExpandCollapseButton();
this._supportingWidgets.push(this.collapseButton);this.hostId&&(this.placeAt(this.hostId),this.resize(),this.startup());this.connect(this.tabContainer,"selectChild",function(a){this.set("selectedTab",a.id)});this.own(k.on("resize",m.hitch(this,function(){this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null);this._resizeTimeout=setTimeout(m.hitch(this,function(){this.resize()}),500)})));this.own(a(this.domNode,".dijitTab:click",M.createCallback(function(a){var b=s.getEnclosingWidget(a.target);
c.displayState===I.COLLAPSED?c.set("displayState",I.EXPANDED_ON_TOP):c.displayState===I.EXPANDED_ON_TOP&&R.getCurrentMnemonicsState()!==R.CONTROL_TAB&&c._previousSelectedChild&&g.isDescendant(a.target,c._previousSelectedChild.domNode)&&c.set("displayState",I.COLLAPSED);c._previousSelectedChild=b},function(){c._expandCollapse()})),a(document.body,"click",function(a){c.displayState===I.EXPANDED_ON_TOP&&(!J.isDescendant(a.target,c.domNode)&&a.target!==document.body)&&c.set("displayState",I.COLLAPSED)}));
this._setupContextMenu();this._setLocaleOnDomNode()},_setLocaleOnDomNode:function(){-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf(e.locale)&&this.domNode.classList.add("isCJK")},_setupContextMenu:function(){var a='[id\x3d"'+this.id+'"]',b=function(a){var b=a.target||document.activeElement,e;c("[dijitpopupparent]").some(function(a){return"none"!==a.style.display&&b&&a.contains(b)?(e=a,!0):!1});if(b&&e&&this._findParentNode(b,"id",this.id)){if(a=c('[id\x3d"'+e.id+'"] *'),a.push(e),-1<a.indexOf(b))return a}else return null}.bind(this);
this._contextMenu=new A({willOpenCallback:m.hitch(this,this._updateContextMenu),targetNodes:[a,a+" *",b]});this._contextMenu.domNode.classList.add("mwToolstripPopupContextMenu");this.own(this._contextMenu)},_findParentNode:function(a,c,b){var e=null,d;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(b){if(a.hasAttribute(c)&&a.getAttribute(c)===b){e=a;break}}else{if(a.hasAttribute(c)){e=a;break}if(a.classList.contains(c)){e=a;break}}a=(d=a.getAttribute("dijitpopupparent"))?document.getElementById(d):
a.parentNode}return e},_updateContextMenu:function(a){this._contextMenu.getChildren().forEach(function(a){this._contextMenu.removeChild(a);a.destroyRecursive()},this);var c;if(c=a.target.classList.contains("toolstripComponentWrapper")?s.getEnclosingWidget(a.target.children[0]):s.getEnclosingWidget(a.target))if(("GalleryItem"===c.type||"ToggleGalleryItem"===c.type)&&!0===c.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(c),c.page&&"Tab"===c.page.type&&!0===c.page.get("removable"))this._addRemoveWidgetMenuItemToContextMenu(c.page);
else{for(a=c;a&&"Tab"!==a.type;)a=a.domNode&&a.domNode.parentElement&&a.domNode.parentElement.hasAttribute("dijitpopupparent")?s.byId(a.domNode.parentElement.getAttribute("dijitpopupparent")):a.getParent();a&&!0===a.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(a)}if(this.enableQABCustomization){-1<Object.keys(H).indexOf(c.get("type"))&&!c.get("hasDynamicMenu")&&(a=new B({text:q.addToQAB,tag:"addToQAB",disabled:c.get("isInQAB")}),this._contextMenu.addChild(a),a.on("click",function(){c.set("isInQAB",
!0)}));switch(c.get("type")){case G.QAB_PUSH_BUTTON:case G.QAB_TOGGLE_BUTTON:case G.QAB_SPLIT_BUTTON:case G.QAB_DROP_DOWN_BUTTON:case G.QAB_TOGGLE_SPLIT_BUTTON:!0===c.get("isInQAB")&&(a=new B({text:q.removeFromQAB,tag:"removeFromQAB"}),this._contextMenu.addChild(a),a.on("click",function(){c.set("isInQAB",!1)}));this._setShowHideLabelMenuItem(c);break;case G.QAB_FLOATING_PANE_DOCK:this._setShowHideLabelMenuItem(c)}this._isDescendantOfQAB(c)&&(a=new B({text:q.restoreFactoryControls,tag:"restoreFactoryControls"}),
this._contextMenu.addChild(a),a.on("click",m.hitch(this,function(){var a=new C({title:q.restoreFactoryControlsDialogTitle,message:q.restoreFactoryControlsDialogMessage});a.on("success",m.hitch(this,function(){this._QABWidget.restoreFactoryControls()}));a.open()})))}this._contextMenu.hasChildren()&&this._contextMenu.addChild(new D);a=new B({text:this.get("displayState")!==I.EXPANDED?q.restoreToolstrip:q.minimizeToolstrip,tag:"minimizeRestoreToolstrip"});this._contextMenu.addChild(a);a.on("click",m.hitch(this,
this._expandCollapse))},_setShowHideLabelMenuItem:function(a){var c=new B({text:a.get("showText")?q.hideLabel:q.showLabel,tag:"showHideLabel"});this._contextMenu.addChild(c);c.on("click",function(){a.set("showText",!a.get("showText"))})},_addRemoveWidgetMenuItemToContextMenu:function(a){var c,b=function(c){"keydown"===c.type&&0>[d.ENTER,d.SPACE].indexOf(c.keyCode)||(a._emitRemoveEvent?a._emitRemoveEvent():a.emit("remove"),t.close())};c=a.get("removeMessage");if(!c)switch(a.get("type")){case G.TAB:c=
q.closeWidget.replace(/\$\{0}/g,a.get("title"));break;case G.GALLERY_ITEM:case G.TOGGLE_GALLERY_ITEM:c=q.removeWidget.replace(/\$\{0}/g,a.get("text"))}c=new B({text:c,tag:"removeWidget"});this._contextMenu.addChild(c);c.on("mouseup",b);c.on("keydown",b)},_isDescendantOfQAB:function(a){var c=!1;if(a===this._QABWidget)c=!0;else for(;a&&a.getParent&&a.getParent()!==this;){if(a.getParent()===this._QABWidget){c=!0;break}a=a.getParent()}return c},_getToolstripWidth:function(){return n.getMarginBox(this.domNode).w},
_getTopRightContainerWidth:function(){return n.getMarginBox(this.topRightContainer).w},_getTabsWidth:function(a){var c=0;a.forEach(function(a){c+=n.getMarginBox(a).w});return c},_getTabMargin:function(a){if(0<a.length)return n.getMarginBox(a[0]).w-n.position(a[0]).w},_getTabPadding:function(a){if(0<a.length)return 20},_shrinkTabs:function(a){var c=a.length,b=this,e=this._getTabMargin(a),d=this._getTabPadding(a);a.forEach(function(k,f){a[f].style.width=b._availableWidthForTabs/c-d-e+"px";k.classList.add("noMinWidth")})},
_expandTabs:function(a){var c,b,e=this,d=0,k=a.length,f,g=[],l=this._getTabMargin(a);this._getTabPadding(a);a.forEach(function(c,b){f=p.computeWidth(a[b].textContent);f<O.TAB_WIDTH&&(f=O.TAB_WIDTH);f+=l;d+=f;g.push(f)});d<e._getToolstripWidth()-e._getTopRightContainerWidth()?a.forEach(function(c,b){c.classList.remove("noMinWidth");a[b].style.width="auto"}):a.forEach(function(d,f){c=parseFloat(a[f].style.width);b=c+e._availableWidth/k;b<g[f]?(a[f].style.width=b+"px",d.classList.add("noMinWidth")):
a[f].style.width=g[f]-l+"px"})},_setPreventResizeAttr:function(a){this._ignoreResize=this._doNotResize=a},resize:function(){this.inherited(arguments);if(!this._destroyed&&!this._doNotResize&&(this.tabContainer._started&&this.tabContainer.resize(),this.domNode.parentElement)){var a,b=this,e,d,k=0,f,g,l;a=c("[data-dojo-attach-point\x3d'titleNode,innerDiv,tabContent']",this.domNode);k=this._getTabsWidth(a);l=this._getToolstripWidth();g=this._getTopRightContainerWidth();d={QABContainer:this._getQABWidth(),
logoutContainer:this._getLogoutButtonWidth(),searchContainer:this._getSearchBoxWidth(),tabs:this._getTabsWidth(a)};e=["searchContainer","QABContainer","logoutContainer","tabs"];k+g>l?(f=k+g-l,e.forEach(function(e){g=b._getTopRightContainerWidth();l=b._getToolstripWidth();f=k+g-l;0<f&&("tabs"===e?(b._availableWidthForTabs=l-g,b._shrinkTabs(a)):("searchContainer"===e&&b.searchPopupContainer.classList.remove("dijitOffScreen"),c("."+e,b.domNode)[0].classList.add("dijitOffScreen")))})):(this._availableWidth=
l-(k+g),e.reverse().forEach(function(e){g=b._getTopRightContainerWidth();l=b._getToolstripWidth();k=b._getTabsWidth(a);b._availableWidth=l-(k+g);0<b._availableWidth&&("tabs"===e?b._expandTabs(a):d[e]<b._availableWidth&&(c("."+e,b.domNode)[0].classList.remove("dijitOffScreen"),c("."+e,b.domNode)[0].style.display="inline-block","searchContainer"===e&&b.searchPopupContainer.classList.add("dijitOffScreen")))}))}},_getLogoutButtonWidth:function(){return n.getMarginBox(this.logoutContainer).w},_getQABWidth:function(){return n.getMarginBox(this.QABContainer).w},
_getSearchBoxWidth:function(){return n.getMarginBox(this.searchContainer).w},startup:function(){this.inherited(arguments);this._adjustHostHeight();var a=this.domNode.parentNode;a&&(a.style.zIndex=20);this.tabContainer.startup();this.collapseButton.startup();this._QABWidget&&this._QABWidget.startup()},_expandCollapse:function(){var a=this.displayState;a===I.COLLAPSED||a===I.EXPANDED_ON_TOP?a=I.EXPANDED:a===I.EXPANDED&&(a=I.COLLAPSED);this.set("displayState",a);t.close()},addTab:function(a,c){this._shouldSetSelectedTab=
!1;this.tabContainer.addChild(a,c);this._shouldSetSelectedTab=!0},removeChild:function(a){a.tabs.forEach(function(a){this.removeTab(a)},this);this.inherited(arguments);this.resize();Object.keys(this._tabGroupListeners).forEach(function(a){this._tabGroupListeners[a].forEach(function(a){a.remove()})},this)},_beforeAddChild:function(a,c){var b=c,e=this.getChildren().length;!c&&0!==c&&(b=e);return[a,b]},addChild:function(a,c){var b=0,e=0,d,k;for(d=this.getChildren();b<c;)e+=d[b].tabs.length,b+=1;a.tabs.forEach(function(a,
c){this.addTab(a,e+c)},this);this.inherited(arguments);this.set("selectedTab",a.get("selectedTab"));this.resize();this._removeUnSelectableAttribute();b=a.on("childadded",m.hitch(this,this.resize));d=a.on("childremoved",m.hitch(this,this.resize));k=a.on("childadded",m.hitch(this,this._removeUnSelectableAttribute));this._tabGroupListeners[a.id]=[b,d,k]},_removeUnSelectableAttribute:function(){c(".tabLabel",this.domNode).forEach(function(a){g.setSelectable(a,!0)},this)},_setSelectedTabAttr:function(a){if(this._shouldSetSelectedTab){var c=
s.byId(a.toString());if(c&&(this.selectedTab!==a||!this.tabContainer.selectedChildWidget||this.tabContainer.selectedChildWidget.get("id")!==a))this._set("selectedTab",a),this.selectTab(c),this.getChildren().forEach(function(c){c.tabs.some(function(c){return c.id===a})&&c.set("selectedTab",a)})}},_setDisplayStateAttr:function(a){this._set("displayState",a);this._setTooltipforExpandCollapseButton();this._adjustHostHeight()},_setTooltipforExpandCollapseButton:function(){this.collapseButton&&(this.displayState===
I.COLLAPSED||this.displayState===I.EXPANDED_ON_TOP?this.collapseButton.set("description",q.restoreToolstrip):this.collapseButton.set("description",q.minimizeToolstrip))},_adjustHostHeight:function(){var a,c;if(a=this.domNode.parentElement)switch(c=s.getEnclosingWidget(a.parentElement),this.displayState){case I.COLLAPSED:this.domNode.classList.remove("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="28px";a.style.overflow="hidden";this.collapseButton&&
this.collapseButton.set("icon","smallExpand");break;case I.EXPANDED:this.domNode.classList.add("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="121px";a.style.overflow="hidden";this.collapseButton&&this.collapseButton.set("icon","smallCollapse");this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize();break;case I.EXPANDED_ON_TOP:this.domNode.classList.add("toolstripNotCollapsed"),this.domNode.classList.add("toolstripExpandedOnTop"),
a.style.height="28px",a.style.overflow="visible",this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize()}c&&c.resize&&c.resize()},removeTab:function(a){this._shouldSetSelectedTab=!1;this.tabContainer.removeChild(a);this._shouldSetSelectedTab=!0},selectTab:function(a){this.tabContainer.selectChild(a);this.set("selectedTab",a.id)},_setQABIdAttr:function(a){var c=s.byId(a);c&&(this._QABWidget=c,l.place(c.domNode,this.QABContainer),this._started&&this._QABWidget.startup(),
this.own(c));this._set("QABId",a)},toolstripPlaced:function(){}})})},"MW/toolstrip/widgets/TabContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/layout/TabContainer","dijit/layout/ScrollingTabController"],function(h,a,g,f){return h(g,{postMixInProperties:function(){this.inherited(arguments);this.controllerWidget=h(f,{resize:function(){},onAddChild:function(d,b){var f=new (a.isString(this.buttonWidget)?a.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+d.id,
name:this.id+"_"+d.id,label:d.title,disabled:d.disabled,ownerDocument:this.ownerDocument,dir:d.dir,lang:d.lang,textDir:d.textDir||this.textDir,showLabel:d.showTitle,iconClass:d.iconClass,closeButton:d.closable,title:d.tooltip,page:d});this.addChild(f,b);d.controlButton=f;if(!this._currentChild)this.onSelectChild(d);f=d._wrapper.getAttribute("aria-labelledby")?d._wrapper.getAttribute("aria-labelledby")+" "+f.id:f.id;d._wrapper.removeAttribute("aria-label");d._wrapper.setAttribute("aria-labelledby",
f)}})},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}(a=this.selectedChildWidget)&&a.resize()}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(h,a,g,f,d){return a("dijit.layout.TabContainer",g,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(a){var d=this.baseClass+"-tabs"+(this.doLayout?
"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?h.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":d,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},a)},postMixInProperties:function(){this.inherited(arguments);
this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?d:f)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),function(h,a,g,f,d,b,l,m){return h("dijit.layout._TabContainerBase",[d,l],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:m,
postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&f.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||a.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(a.add(this.domNode,"dijitTabContainerNested"),a.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),
a.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),a.add(this.containerNode,"dijitTabPaneWrapperNested")):a.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(b){a.add(b.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=this.selectedChildWidget;if(this.doLayout){var d=this.tabPosition.replace(/-h/,
"");this.tablist.region=d;d=[this.tablist,{domNode:this.tablistSpacer,region:d},{domNode:this.containerNode,region:"center"}];b.layoutChildren(this.domNode,this._contentBox,d);this._containerContentBox=b.marginBox2contentBox(this.containerNode,d[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){d=this.tablist.domNode.style;d.width="0";var c=g.getContentBox(this.domNode).w;d.width="";this.tablist.resize({w:c})}a&&a.resize&&a.resize()}}},destroy:function(a){this.tablist&&
this.tablist.destroy(a);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){b("dijit-legacy-requires")&&e(0,function(){require(["dijit/layout/StackController"])});g=g("dijit.layout.StackContainer",q,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",
buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(m(this.domNode,"keydown",l.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var c=this.getChildren();h.forEach(c,this._setupChild,this);this.persist?this.selectedChildWidget=n.byId(a(this.id+"_selectedChild")):h.some(c,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var b=this.selectedChildWidget;!b&&
c[0]&&(b=this.selectedChildWidget=c[0],b.selected=!0);k.publish(this.id+"-startup",{children:c,selected:b,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var c=a.domNode,b=d.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),e=a["aria-label"]||a.title||a.label;e&&b.setAttribute("aria-label",
e);d.place(c,b);a._wrapper=b;this.inherited(arguments);"none"==c.style.display&&(c.style.display="block");a.domNode.removeAttribute("title")},addChild:function(a,c){this.inherited(arguments);this._started&&(k.publish(this.id+"-addChild",a,c),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var c=h.indexOf(this.getChildren(),a);this.inherited(arguments);d.destroy(a._wrapper);delete a._wrapper;this._started&&k.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===
a&&(this.selectedChildWidget=void 0,this._started)){var b=this.getChildren();b.length&&this.selectChild(b[Math.max(c-1,0)])}this._started&&this.layout()}},selectChild:function(b,e){var d;b=n.byId(b);this.selectedChildWidget!=b&&(d=this._transition(b,this.selectedChildWidget,e),this._set("selectedChildWidget",b),k.publish(this.id+"-selectChild",b,this._focused),this.persist&&a(this.id+"_selectedChild",this.selectedChildWidget.id));return c(d||!0)},_transition:function(a,c){c&&this._hideChild(c);var b=
this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return b},_adjacent:function(a){var c=this.getChildren(),b=h.indexOf(c,this.selectedChildWidget),b=b+(a?1:c.length-1);return c[b%c.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(a){k.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;
a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var c=this.getChildren();a.isFirstChild=a==c[0];a.isLastChild=a==c[c.length-1];a._set("selected",!0);a._wrapper&&f.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&f.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){if(!a.onClose||a.onClose(this,a))this.removeChild(a),
a.destroyRecursive()},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;h.forEach(this.getChildren(),function(c){a||this.removeChild(c);c.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});g.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};l.extend(p,g.ChildWidgetProperties);return g})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(h,a){h.cookie=function(g,f,d){var b=
document.cookie,l;if(1==arguments.length)l=(l=b.match(RegExp("(?:^|; )"+a.escapeString(g)+"\x3d([^;]*)")))?decodeURIComponent(l[1]):void 0;else{d=d||{};b=d.expires;if("number"==typeof b){var m=new Date;m.setTime(m.getTime()+864E5*b);b=d.expires=m}b&&b.toUTCString&&(d.expires=b.toUTCString());f=encodeURIComponent(f);var b=g+"\x3d"+f,e;for(e in d)b+="; "+e,m=d[e],!0!==m&&(b+="\x3d"+m);document.cookie=b}return l};h.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return h.cookie})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(h,a,g,f,d,b,l,m,e){return b("dijit.layout._LayoutWidget",[a,g,f],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,
_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(d.on("resize",h.hitch(this,"resize")))}},resize:function(a,c){var b=this.domNode;a&&m.setMarginBox(b,a);var d=c||{};h.mixin(d,a||{});if(!("h"in d)||!("w"in d))d=h.mixin(m.getMarginBox(b),d);var f=e.getComputedStyle(b),g=m.getMarginExtents(b,
f),l=m.getBorderExtents(b,f),d=this._borderBox={w:d.w-(g.w+l.w),h:d.h-(g.h+l.h)},g=m.getPadExtents(b,f);this._contentBox={l:e.toPixelValue(b,f.paddingLeft),t:e.toPixelValue(b,f.paddingTop),w:d.w-g.w,h:d.h-g.h};this.layout()},layout:function(){},_setupChild:function(a){l.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,c){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){l.remove(a.domNode,this.baseClass+
"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p){function q(){}function r(a){return function(c,b,e,d){return c&&"string"==typeof b&&c[b]==q?c.on(b.substring(2).toLowerCase(),
l.hitch(e,d)):a.apply(g,arguments)}}h.around(g,"connect",r);b.connect&&h.around(b,"connect",r);h=f("dijit._Widget",[c,n,p],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(a){this._toConnect={};for(var c in a)this[c]===q&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,
this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===q?g.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,c)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){b.deprecated(this.declaredClass+
"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?m("[widgetId]",this.containerNode).map(k.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});d("dijit-legacy-requires")&&e(0,function(){require(["dijit/_base"])});return h})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(h,a,g,f,d,b){h=f("dijit._OnDijitClickMixin",
null,{connect:function(a,d,e){return this.inherited(arguments,[a,"ondijitclick"==d?b:d,e])}});h.a11yclick=b;return h})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(h,a,g,f,d){var b=d.doc.documentElement;d=f("ie");var l=f("trident"),m=f("opera"),e=Math.floor,k=f("ff"),c=h.boxModel.replace(/-/,""),m={dj_quirks:f("quirks"),dj_opera:m,dj_khtml:f("khtml"),dj_webkit:f("webkit"),dj_safari:f("safari"),dj_chrome:f("chrome"),dj_edge:f("edge"),
dj_gecko:f("mozilla"),dj_ios:f("ios"),dj_android:f("android")};d&&(m.dj_ie=!0,m["dj_ie"+e(d)]=!0,m.dj_iequirks=f("quirks"));l&&(m.dj_trident=!0,m["dj_trident"+e(l)]=!0);k&&(m["dj_ff"+e(k)]=!0);m["dj_"+c]=!0;var n="",p;for(p in m)m[p]&&(n+=p+" ");b.className=a.trim(b.className+" "+n);g(function(){if(!h.isBodyLtr()){var c="dj_rtl dijitRtl "+n.replace(/ /g,"-rtl ");b.className=a.trim(b.className+" "+c+"dj_rtl dijitRtl "+n.replace(/ /g,"-rtl "))}});return f})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(h,a,g,f){g(function(){a("highcontrast")&&h.add(f.body(),"dijit_a11y")});return a})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(h,a,g,f,d,b,l){d.add("highcontrast",function(){var b=l.doc.createElement("div");try{b.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(a.blankGif||
h.toUrl("./resources/blank.gif"))+'");';l.body().appendChild(b);var e=f.getComputedStyle(b),k=e.backgroundImage;return e.borderTopColor==e.borderRightColor||k&&("none"==k||"url(invalid-url:)"==k)}catch(c){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+c.toString()),!1}finally{8>=d("ie")?b.outerHTML="":l.body().removeChild(b)}});b(function(){d("highcontrast")&&g.add(l.body(),"dj_a11y")});return d})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(h,a,g,f,d){function b(a,b){var f=a.resize?a.resize(b):g.setMarginBox(a.domNode,b);f?d.mixin(a,f):(d.mixin(a,g.getMarginBox(a.domNode)),d.mixin(a,b))}var l={marginBox2contentBox:function(a,b){var d=f.getComputedStyle(a),c=g.getMarginExtents(a,d),l=g.getPadBorderExtents(a,d);return{l:f.toPixelValue(a,d.paddingLeft),t:f.toPixelValue(a,d.paddingTop),w:b.w-(c.w+l.w),h:b.h-(c.h+l.h)}},layoutChildren:function(f,e,k,c,g){e=
d.mixin({},e);a.add(f,"dijitLayoutContainer");k=h.filter(k,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(h.filter(k,function(a){return"center"==a.region||"client"==a.layoutAlign}));h.forEach(k,function(d){var f=d.domNode,k=d.region||d.layoutAlign;if(!k)throw Error("No region setting for "+d.id);var l=f.style;l.left=e.l+"px";l.top=e.t+"px";l.position="absolute";a.add(f,"dijitAlign"+(k.substring(0,1).toUpperCase()+k.substring(1)));f={};c&&c==d.id&&(f["top"==d.region||"bottom"==
d.region?"h":"w"]=g);"leading"==k&&(k=d.isLeftToRight()?"left":"right");"trailing"==k&&(k=d.isLeftToRight()?"right":"left");"top"==k||"bottom"==k?(f.w=e.w,b(d,f),e.h-=d.h,"top"==k?e.t+=d.h:l.top=e.t+e.h+"px"):"left"==k||"right"==k?(f.h=e.h,b(d,f),e.w-=d.w,"left"==k?e.l+=d.w:l.left=e.l+e.w+"px"):("client"==k||"center"==k)&&b(d,e)})}};d.setObject("dijit.layout.utils",l);return l})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){d=h("dijit.layout._TabButton",m.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:n,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);a.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);f.toggle(this.domNode,"dijitClosable",
a);this.closeNode.style.display=a?"":"none";a&&(a=b.getLocalization("dijit","common"),this.closeNode&&g.set(this.closeNode,"title",a.itemClose))},_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)g.remove(this.closeNode,"title");else{var c=b.getLocalization("dijit","common");g.set(this.closeNode,"title",c.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=l.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});h=h("dijit.layout.TabController",m,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:d,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var a=new k({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return f.contains(a,"dijitClosable")&&
!f.contains(a,"dijitTabDisabled")}});this.own(a);var d=b.getLocalization("dijit","common"),g=this;a.addChild(new c({label:d.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=e.byNode(this.getParent().currentTarget);g.onCloseButtonClick(a.page)}}))}});h.TabButton=d;return h})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){f=a("dijit.layout._StackButton",q,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});a=a("dijit.layout.StackController",[c,n,p],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:f,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return k.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(m.subscribe(this.containerId+"-startup",b.hitch(this,"onStartup")),m.subscribe(this.containerId+"-addChild",b.hitch(this,"onAddChild")),m.subscribe(this.containerId+"-removeChild",b.hitch(this,"onRemoveChild")),m.subscribe(this.containerId+"-selectChild",b.hitch(this,"onSelectChild")),m.subscribe(this.containerId+"-containerKeyDown",b.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(l(this.containerNode,"click",
b.hitch(this,function(a){var c=k.getEnclosingWidget(a.target);if(c!=this.containerNode&&!c.disabled&&c.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(g.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);break}else if(a==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(a){this.textDir=a.textDir;h.forEach(a.children,this.onAddChild,this);if(a.selected)this.onSelectChild(a.selected);var c=k.byId(this.containerId).containerNode,e=b.hitch(this,"pane2button");
a={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var d=function(a,b){return l(c,"attrmodified-"+a,function(a){var c=e(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},f;for(f in a)this.own(d(f,a[f]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,c){var e=new (b.isString(this.buttonWidget)?b.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(e,c);a.controlButton=e;if(!this._currentChild)this.onSelectChild(a);e=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+e.id:e.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
e)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var c=this.pane2button(a.id);c&&(this.removeChild(c),c.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var c=this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(a.id);c.set("checked",!0);this._currentChild=a;c.focusNode.setAttribute("tabIndex","0");k.byId(this.containerId)}},onButtonClick:function(a){var c=this.pane2button(a.id);
e.focus(c.focusNode);this._currentChild&&this._currentChild.id===a.id&&c.set("checked",!0);k.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){k.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&e.focus(a.focusNode||a.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var c=this.getChildren(),b=h.indexOf(c,this.pane2button(this._currentChild.id)),e=c[b],d;do b=
(b+(a?1:c.length-1))%c.length,d=c[b];while(d.disabled&&d!=e);return d},onkeydown:function(a,c){if(!this.disabled&&!a.altKey){var b=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case d.LEFT_ARROW:case d.UP_ARROW:a._djpage||(b=!1);break;case d.PAGE_UP:a.ctrlKey&&(b=!1);break;case d.RIGHT_ARROW:case d.DOWN_ARROW:a._djpage||(b=!0);break;case d.PAGE_DOWN:a.ctrlKey&&(b=!0);break;case d.HOME:for(var e=this.getChildren(),f=0;f<e.length;f++){var k=e[f];if(!k.disabled){this.onButtonClick(k.page);break}}a.stopPropagation();
a.preventDefault();break;case d.END:e=this.getChildren();for(f=e.length-1;0<=f;f--)if(k=e[f],!k.disabled){this.onButtonClick(k.page);break}a.stopPropagation();a.preventDefault();break;case d.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==d.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case d.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==b&&(this.onButtonClick(this.adjacent(b).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});a.StackButton=f;return a})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin","../_mw/utils/deprecation"],function(h,a,g,f,d){d.deprecated({deprecated:{module:"dijit/form/ToggleButton"},replacement:{module:"mw-form/ToggleButton"},geckNumber:1352405});return h("dijit.form.ToggleButton",[g,f],{baseClass:"dijitToggleButton",
setChecked:function(b){a.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../_mw/utils/deprecation ../a11yclick".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){c.deprecated({deprecated:{module:"dijit/form/Button"},replacement:{module:"mw-form/PushButton"},
geckNumber:1352405});f("dijit-legacy-requires")&&l(0,function(){h(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return a("dijit.form.Button",[m,e],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:k,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&
!this.label&&(this.label=b.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(a){this.containerNode&&g.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){d.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},onLabelSet:function(){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=b.trim(this.containerNode.innerText||
this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(h,a,g,f,d,b,l,m){a("dijit-legacy-requires")&&f(0,function(){require(["dijit/form/_FormValueWidget"])});return h("dijit.form._FormWidget",[d,l,b,m],{setDisabled:function(a){g.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",
a)},setValue:function(a){g.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){g.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!a("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return a("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?g.set(this.focusNode,"disabled",a):this.focusNode.setAttribute("aria-disabled",a?"true":"false");this.valueNode&&
g.set(this.valueNode,"disabled",a);a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",h.forEach(d.isArray(a)?a:[a],function(a){a=this[a];m("webkit")||k.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=this.own(l(this.focusNode,
"focus",function(){k.remove();b.remove()}))[0],f=m("pointer-events")?"pointerup":m("MSPointer")?"MSPointerUp":m("touch-events")?"touchend, mouseup":"mouseup",k=this.own(l(this.ownerDocumentBody,f,d.hitch(this,function(a){k.remove();b.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){e.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=f.get(this.domNode,
"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,
this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},
"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(h,a,g,f){return h("dijit.form._ButtonMixin",null,{label:"",type:"button",__onClick:function(a){a.stopPropagation();a.preventDefault();this.disabled||this.valueNode.click(a);return!1},_onClick:function(a){if(this.disabled)return a.stopPropagation(),a.preventDefault(),!1;!1===this.onClick(a)&&a.preventDefault();var b=a.defaultPrevented;if(!b&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var g=
this.domNode;g.parentNode;g=g.parentNode){var m=f.byNode(g);if(m&&"function"==typeof m._onSubmit){m._onSubmit(a);a.preventDefault();b=!0;break}}return!b},postCreate:function(){this.inherited(arguments);a.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a;this.onLabelSet()},onLabelSet:function(){}})})},"dijit/_mw/utils/deprecation":function(){define(["dojo/_base/config"],function(h){var a={warn:function(a){console&&
console.warn&&console.warn(a)},error:function(a){console&&console.error&&console.error(a)}},g={deprecated:function(f){var d,b;if((h.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(f))b=window.showDeprecationsAsErrors||f.deprecationLevel===this.ERROR?this.ERROR:this.WARN,d="DEPRECATED: ",f.deprecated&&(d+=f.deprecated.module,f.deprecated.method&&(d+="."+f.deprecated.method+"()"),d+="."),f.replacement&&(d+=" Use "+f.replacement.module,f.replacement.method&&(d+="."+f.replacement.method+
"()"),d+=" instead."),f.removalVersion&&(d+=" Will be removed in version: "+f.removalVersion+"."),f.geckNumber&&(d+=" Please use g"+f.geckNumber+" to track latest information regarding this deprecation"),f.additionalInformation&&(d+=" "+f.additionalInformation),a[b](d)},_isConfigValid:function(f){var d=!!f.deprecated&&"object"===typeof f.deprecated&&f.deprecated.hasOwnProperty("module");f.replacement&&(d=d&&"object"===typeof f.replacement&&f.replacement.hasOwnProperty("module"));f.geckNumber&&(d=
d&&"number"===typeof f.geckNumber);d||a.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return d}};Object.defineProperties(g,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return g})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,a){return h("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",
_onClick:function(a){var f=this.checked;this._set("checked",!f);var d=this.inherited(arguments);this.set("checked",d?this.checked:f);return d},_setCheckedAttr:function(g,f){this._set("checked",g);var d=this.focusNode||this.domNode;this._created&&a.get(d,"checked")!=!!g&&a.set(d,"checked",!!g);d.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,f)},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.checked&&a.setAttribute("checked","checked");void 0===
this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){c("dijit-legacy-requires")&&s(0,function(){h(["dijit/MenuItem",
"dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return g("dijit.Menu",r,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):a.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return p.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||
a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=f.byId(a,this.ownerDocument);var c;if("iframe"==a.tagName.toLowerCase()){var b=a;c=this._iframeContentWindow(b);c=n.body(c.document)}else c=a==n.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var g={node:a,iframe:b};d.set(a,"_dijitMenu"+this.id,
this._bindings.push(g));var l=e.hitch(this,function(a){var c=this.selector,e=c?function(a){return k.selector(c,a)}:function(a){return a},d=this;return[k(a,e(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<d._lastKeyDown+500||d._scheduleOpen(this,b,{x:a.pageX,y:a.pageY},a.target)}),k(a,e("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==m.F10||d.leftClickToOpen&&a.keyCode==m.SPACE)a.stopPropagation(),a.preventDefault(),
d._scheduleOpen(this,b,null,a.target),d._lastKeyDown=(new Date).getTime()})]});g.connects=c?l(c):[];b&&(g.onloadHandler=e.hitch(this,function(){var a=this._iframeContentWindow(b),a=n.body(a.document);g.connects=l(a)}),b.addEventListener?b.addEventListener("load",g.onloadHandler,!1):b.attachEvent("onload",g.onloadHandler))},unBindDomNode:function(a){var c;try{c=f.byId(a,this.ownerDocument)}catch(b){return}a="_dijitMenu"+this.id;if(c&&d.has(c,a)){for(var e=d.get(c,a)-1,k=this._bindings[e],g;g=k.connects.pop();)g.remove();
(g=k.iframe)&&(g.removeEventListener?g.removeEventListener("load",k.onloadHandler,!1):g.detachEvent("onload",k.onloadHandler));d.remove(c,a);delete this._bindings[e]}},_scheduleOpen:function(a,c,b,e){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:e,delegatedTarget:a,iframe:c,coords:b})},1))},_openMyself:function(a){function e(){s.refocus&&p&&p.focus();q.close(s)}var d=a.target,k=a.iframe,g=a.coords,m=!g;this.currentTarget=a.delegatedTarget;
if(g){if(k){a=b.position(k,!0);var d=this._iframeContentWindow(k),d=b.docScroll(d.document),h=l.getComputedStyle(k),n=l.toPixelValue,r=(c("ie")&&c("quirks")?0:n(k,h.paddingLeft))+(c("ie")&&c("quirks")?n(k,h.borderLeftWidth):0),k=(c("ie")&&c("quirks")?0:n(k,h.paddingTop))+(c("ie")&&c("quirks")?n(k,h.borderTopWidth):0);g.x+=a.x+r-d.x;g.y+=a.y+k-d.y}}else g=b.position(d,!0),g.x+=10,g.y+=10;var s=this,k=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var p=!a||f.isDescendant(a,
this.domNode)?k:a;q.open({popup:this,x:g.x,y:g.y,onExecute:e,onCancel:e,orient:this.isLeftToRight()?"L":"R"});this.focus();m||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);q.close(this)}},destroy:function(){a.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(h,
a,g,f){return h("dijit.DropDownMenu",f,{templateString:g,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(a){this._moveToPopup(a);a.stopPropagation();a.preventDefault()},_onLeftArrow:function(a){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else a.stopPropagation(),a.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){return a("dijit._MenuBase",[n,r,q,p],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){d.toggle(this.domNode,"dijitMenuActive",a);d.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=c.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,e="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(m(this.containerNode,m.selector(e,l.enter),function(){a.onItemHover(c.byNode(this))}),m(this.containerNode,m.selector(e,l.leave),function(){a.onItemUnhover(c.byNode(this))}),m(this.containerNode,m.selector(e,k),function(b){a.onItemClick(c.byNode(this),b);b.stopPropagation()}),
m(this.containerNode,m.selector(e,"focusin"),function(){a._onItemFocus(c.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,c,b,e){this.inherited(arguments);if(a&&(-1==e||a.popup&&1==e))this.onItemClick(a,c)},_keyboardSearchCompare:function(a,c){return a.shortcutKey?c==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,c){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var b=/^key/.test(c._origType||
c.type)||0==c.clientX&&0==c.clientY;this._openItemPopup(a,b)}else this.onExecute(),a._onClick?a._onClick(c):a.onClick(c)},_openItemPopup:function(a,c){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var e=a.popup;e.parentMenu=this;this.own(this._mouseoverHandle=m.once(e.domNode,"mouseover",b.hitch(this,"_onPopupHover")));var d=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){c&&
d.focusChild(a);d._cleanUp()},onExecute:b.hitch(this,"_cleanUp",!0),onClose:function(){d._mouseoverHandle&&(d._mouseoverHandle.remove(),delete d._mouseoverHandle)}},c);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(f.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return a("dijit._KeyNavContainer",[e,k,m],{connectKeyNavHandlers:function(a,e){var f=this._keyNavCodes={},k=b.hitch(this,"focusPrev"),g=b.hitch(this,"focusNext");h.forEach(a,function(a){f[a]=k});h.forEach(e,function(a){f[a]=g});f[d.HOME]=b.hitch(this,"focusFirstChild");f[d.END]=b.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){f.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);h.forEach(this.getChildren(),
b.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
l.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(h,a,g,f,d,b,l,m){return a("dijit._KeyNavMixin",m,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);g.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var a=this._keyNavCodes={};a[f.HOME]=d.hitch(this,"focusFirstChild");a[f.END]=d.hitch(this,
"focusLastChild");a[this.isLeftToRight()?f.LEFT_ARROW:f.RIGHT_ARROW]=d.hitch(this,"_onLeftArrow");a[this.isLeftToRight()?f.RIGHT_ARROW:f.LEFT_ARROW]=d.hitch(this,"_onRightArrow");a[f.UP_ARROW]=d.hitch(this,"_onUpArrow");a[f.DOWN_ARROW]=d.hitch(this,"_onDownArrow")}var k=this,a="string"==typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(b(this.domNode,"keypress",d.hitch(this,"_onContainerKeypress")),b(this.domNode,"keydown",d.hitch(this,"_onContainerKeydown")),b(this.domNode,
"focus",d.hitch(this,"_onContainerFocus")),b(this.containerNode,b.selector(a,"focusin"),function(a){k._onChildFocus(l.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},
focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"))},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){g.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){g.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex",
"-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,b){var c=a.domNode,c=(a.label||(c.focusNode?
c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&c==b?-1:0},_onContainerKeydown:function(a){var b=this._keyNavCodes[a.keyCode];b?(b(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode==f.SPACE&&(this._searchTimer&&!a.ctrlKey&&!a.altKey&&!a.metaKey)&&(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))},_onContainerKeypress:function(a){a.charCode<=f.SPACE||(a.ctrlKey||
a.altKey||a.metaKey)||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase()))},_keyboardSearch:function(a,b){var c=null,f,g=0;d.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=b;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;f=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var e=this.focusedChild||
null;if(1==a||!e)if(e=this._getNextFocusableChild(e,1),!e)return;a=e;do{var d=this._keyboardSearchCompare(e,f);d&&0==g++&&(c=e);if(-1==d){g=-1;break}e=this._getNextFocusableChild(e,1)}while(e&&e!=a)})();this.onKeyboardSearch(c,a,f,g)},_onChildBlur:function(){},_getNextFocusableChild:function(a,b){var c=a;do{if(a)a=this._getNext(a,b);else if(a=this[0<b?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(a,b){if(a)for(a=a.domNode;a;)if((a=a[0>b?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=l.byNode(a);if(c)return c}return null}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){return h("dijit.MenuItem",[m,e,k,c],{templateString:n,baseClass:"dijitMenuItem",
label:"",_setLabelAttr:function(a){this._set("label",a);var c="",b,e=a;"object"===typeof e&&(e=e.label||e.value);"string"===typeof e&&(b=e.search(/{\S}/),0<=b?(c=e.charAt(b+1),a=e.substr(0,b),e=e.substr(b+3),b=a+c+e,a=a+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+c+"\x3c/span\x3e"+e):b=e,this.domNode.setAttribute("aria-label",b+" "+this.accelKey));this.containerNode.innerHTML=a;this._set("shortcutKey",c)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",
disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);g.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&g.set(this.accelKeyNode,"id",this.id+"_accel");a.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==b("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){f.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){d.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){d.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,g.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){n=a("dijit.layout.ScrollingTabController",[q,s],{baseClass:"dijitTabController dijitScrollingTabController",templateString:n,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",g.add(a,"tabStrip-disabled"));g.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);d.set(this.domNode,"visibility","");this._postStartup=!0;this.own(m(this.containerNode,"attrmodified-label, attrmodified-iconclass",l.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,c){this.inherited(arguments);d.set(this.containerNode,"width",d.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,c){var b=this.pane2button(a.id);this._selectedTab===b.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=e("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=f.getMarginSize(a).w,!0;d.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var c=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-c.offsetLeft}return 0},_enableBtn:function(a){var c=this._getTabsWidth();a=a||d.get(this.scrollNode,"width");return 0<c&&a<c},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var c=this._contentBox=r.marginBox2contentBox(this.domNode,{h:0,w:a.w});c.h=this.scrollNode.offsetHeight;f.setContentSize(this.domNode,c);c=this._enableBtn(this._contentBox.w);
this._buttons.style("display",c?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";r.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>k("ie")||k("trident")&&k("quirks")||k("webkit")?this.scrollNode.scrollLeft:d.get(this.containerNode,"width")-d.get(this.scrollNode,"width")+(k("trident")||k("edge")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>k("ie")||k("trident")&&k("quirks")||k("webkit"))return a;var c=d.get(this.containerNode,"width")-d.get(this.scrollNode,"width");return(k("trident")||
k("edge")?-1:1)*(a-c)},onSelectChild:function(a,c){var b=this.pane2button(a.id);if(b){var e=b.domNode;if(e!=this._selectedTab&&(this._selectedTab=e,this._postResize)){var f=this._getScroll();f>e.offsetLeft||f+d.get(this.scrollNode,"width")<e.offsetLeft+d.get(e,"width")?(e=this.createSmoothScroll(),c&&(e.onEnd=function(){b.focus()}),e.play()):c&&b.focus()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),c=d.get(this.scrollNode,"width"),b=d.get(this.containerNode,"width")-
c,e=this._getTabsWidth();if(a.length&&e>c)return{min:this.isLeftToRight()?0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-c:b};a=this.isLeftToRight()?0:b;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,c=d.get(this.scrollNode,"width"),b=this._getScrollBounds(),a=a.offsetLeft+d.get(a,"width")/2-c/2;return a=Math.min(Math.max(a,b.min),b.max)},createSmoothScroll:function(a){if(0<arguments.length){var c=
this._getScrollBounds();a=Math.min(Math.max(a,c.min),c.max)}else a=this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var e=this,d=this.scrollNode,f=new b.Animation({beforeBegin:function(){this.curve&&delete this.curve;var c=d.scrollLeft,k=e._convertToScrollLeft(a);f.curve=new b._Line(c,k)},onAnimate:function(a){d.scrollLeft=a}});this._anim=f;this._setButtonClass(a);return f},_getBtnNode:function(a){for(a=a.target;a&&!g.contains(a,"tabStripButton");)a=a.parentNode;
return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,c){if(!c||!g.contains(c,"dijitTabDisabled")){var b=0.75*d.get(this.scrollNode,"width")*a,b=this._getScroll()+b;this._setButtonClass(b);this.createSmoothScroll(b).play()}},_setButtonClass:function(a){var c=this._getScrollBounds();this._leftBtn.set("disabled",a<=c.min);this._rightBtn.set("disabled",a>=c.max)}});p=a("dijit.layout._ScrollingTabControllerButtonMixin",
null,{baseClass:"dijitTab tabStripButton",templateString:p,tabIndex:"",isFocusable:function(){return!1}});a("dijit.layout._ScrollingTabControllerButton",[v,p]);a("dijit.layout._ScrollingTabControllerMenuButton",[v,w,p],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new t({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=c.byId(this.containerId);h.forEach(b.getChildren(),function(a){var c=
new u({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return n})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect",
"dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(h,a,g,f,d){return g("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var a=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);d.parse(a,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,
scope:"dojo"}).then(f.hitch(this,function(a){this._startupWidgets=a;for(var b=0;b<a.length;b++)this._processTemplateNode(a[b],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(a,d,f){return d(a,"dojoType")||d(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){h.forEach(this._startupWidgets,function(a){a&&(!a._started&&a.startup)&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(h,
a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){function t(a){return eval("("+a+")")}function u(a){var c=a._nameCaseMap,b=a.prototype;if(!c||c._extendCnt<w){var c=a._nameCaseMap={},e;for(e in b)"_"!==e.charAt(0)&&(c[e.toLowerCase()]=e);c._extendCnt=w}return c}function v(a,c){c||(c=h);var b=c._dojoParserCtorMap||(c._dojoParserCtorMap={}),e=a.join();if(!b[e]){for(var d=[],f=0,k=a.length;f<k;f++){var l=a[f];d[d.length]=b[l]=b[l]||g.getObject(l)||~l.indexOf("/")&&c(l)}f=d.shift();b[e]=d.length?f.createSubclass?f.createSubclass(d):
f.extend.apply(f,d):f}return b[e]}new Date("X");var w=0;e.after(g,"extend",function(){w++},!0);var x={_clearCache:function(){w++;_ctorMap={}},_functionFromScript:function(a,c){var b="",e="",d=a.getAttribute(c+"args")||a.getAttribute("args"),k=a.getAttribute("with"),d=(d||"").split(/\s*,\s*/);k&&k.length&&f.forEach(k.split(/\s*,\s*/),function(a){b+="with("+a+"){";e+="}"});return new Function(d,b+a.innerHTML+e)},instantiate:function(c,b,e){b=b||{};e=e||{};var d=(e.scope||a._scopeName)+"Type",k="data-"+
(e.scope||a._scopeName)+"-",g=k+"type",l=k+"mixins",m=[];f.forEach(c,function(a){var c=d in b?b[d]:a.getAttribute(g)||a.getAttribute(d);if(c){var e=a.getAttribute(l),c=e?[c].concat(e.split(/\s*,\s*/)):[c];m.push({node:a,types:c})}});return this._instantiate(m,b,e)},_instantiate:function(a,c,b,e){function d(a){!c._started&&!b.noStart&&f.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=f.map(a,function(a){var e=a.ctor||v(a.types,b.contextRequire);if(!e)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(e,a.node,c,b,a.scripts,a.inherited)},this);return e?k(a).then(d):d(a)},construct:function(b,d,k,l,h,n){function s(a){R&&g.setObject(R,a);for(C=0;C<Q.length;C++)e[Q[C].advice||"after"](a,Q[C].method,g.hitch(a,Q[C].func),!0);for(C=0;C<W.length;C++)W[C].call(a);for(C=0;C<X.length;C++)a.watch(X[C].prop,X[C].func);for(C=0;C<Y.length;C++)r(a,Y[C].event,Y[C].func);return a}var x=b&&b.prototype;l=l||{};var v={};l.defaults&&g.mixin(v,l.defaults);n&&g.mixin(v,n);var w;
p("dom-attributes-explicit")?w=d.attributes:p("dom-attributes-specified-flag")?w=f.filter(d.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=f.map(n.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==c?d.getAttribute(c):d.getAttributeNode(c).value}}));var M=l.scope||a._scopeName;
n="data-"+M+"-";var J={};"dojo"!==M&&(J[n+"props"]="data-dojo-props",J[n+"type"]="data-dojo-type",J[n+"mixins"]="data-dojo-mixins",J[M+"type"]="dojotype",J[n+"id"]="data-dojo-id");for(var C=0,E,M=[],R,L;E=w[C++];){var K=E.name,P=K.toLowerCase();E=E.value;switch(J[P]||P){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":L=E;break;case "data-dojo-id":case "jsid":R=E;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=E;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=
E;break;case "class":v["class"]=d.className;break;case "style":v.style=d.style&&d.style.cssText;break;default:if(K in x||(K=u(b)[P]||K),K in x)switch(typeof x[K]){case "string":v[K]=E;break;case "number":v[K]=E.length?Number(E):NaN;break;case "boolean":v[K]="false"!=E.toLowerCase();break;case "function":""===E||-1!=E.search(/[^\w\.]+/i)?v[K]=new Function(E):v[K]=g.getObject(E,!1)||new Function(E);M.push(K);break;default:P=x[K],v[K]=P&&"length"in P?E?E.split(/\s*,\s*/):[]:P instanceof Date?""==E?new Date(""):
"now"==E?new Date:c.fromISOString(E):P instanceof m?a.baseUrl+E:t(E)}else v[K]=E}}for(w=0;w<M.length;w++)J=M[w].toLowerCase(),d.removeAttribute(J),d[J]=null;if(L)try{L=t.call(l.propsThis,"{"+L+"}"),g.mixin(v,L)}catch(aa){throw Error(aa.toString()+" in data-dojo-props\x3d'"+L+"'");}g.mixin(v,k);h||(h=b&&(b._noScript||x._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",d));var Q=[],W=[],X=[],Y=[];if(h)for(C=0;C<h.length;C++)J=h[C],d.removeChild(J),k=J.getAttribute(n+"event")||J.getAttribute("event"),
l=J.getAttribute(n+"prop"),L=J.getAttribute(n+"method"),M=J.getAttribute(n+"advice"),w=J.getAttribute("type"),J=this._functionFromScript(J,n),k?"dojo/connect"==w?Q.push({method:k,func:J}):"dojo/on"==w?Y.push({event:k,func:J}):v[k]=J:"dojo/aspect"==w?Q.push({method:L,advice:M,func:J}):"dojo/watch"==w?X.push({prop:l,func:J}):W.push(J);b=(h=b.markupFactory||x.markupFactory)?h(v,d,b):new b(v,d);return b.then?b.then(s):s(b)},scan:function(c,b){function e(a){if(!a.inherited){a.inherited={};var c=a.node,
b=e(a.parent),c={dir:c.getAttribute("dir")||b.dir,lang:c.getAttribute("lang")||b.lang,textDir:c.getAttribute(s)||b.textDir},d;for(d in c)c[d]&&(a.inherited[d]=c[d])}return a.inherited}var d=[],k=[],g={},l=(b.scope||a._scopeName)+"Type",m="data-"+(b.scope||a._scopeName)+"-",r=m+"type",s=m+"textdir",m=m+"mixins",q=c.firstChild,t=b.inherited;if(!t){var u=function(a,c){return a.getAttribute&&a.getAttribute(c)||a.parentNode&&u(a.parentNode,c)},t={dir:u(c,"dir"),lang:u(c,"lang"),textDir:u(c,s)},x;for(x in t)t[x]||
delete t[x]}for(var t={inherited:t},w,L;;)if(q)if(1!=q.nodeType)q=q.nextSibling;else if(w&&"script"==q.nodeName.toLowerCase())(K=q.getAttribute("type"))&&/^dojo\/\w/i.test(K)&&w.push(q),q=q.nextSibling;else if(L)q=q.nextSibling;else{var K=q.getAttribute(r)||q.getAttribute(l);x=q.firstChild;if(!K&&(!x||3==x.nodeType&&!x.nextSibling))q=q.nextSibling;else{L=null;if(K){var P=q.getAttribute(m);w=P?[K].concat(P.split(/\s*,\s*/)):[K];try{L=v(w,b.contextRequire)}catch(aa){}L||f.forEach(w,function(a){~a.indexOf("/")&&
!g[a]&&(g[a]=!0,k[k.length]=a)});P=L&&!L.prototype._noScript?[]:null;t={types:w,ctor:L,parent:t,node:q,scripts:P};t.inherited=e(t);d.push(t)}else t={node:q,scripts:w,parent:t};w=P;L=q.stopParser||L&&L.prototype.stopParser&&!b.template;q=x}}else{if(!t||!t.node)break;q=t.node.nextSibling;L=!1;t=t.parent;w=t.scripts}var Q=new n;k.length?(p("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+k.join(", ")),(b.contextRequire||h)(k,function(){Q.resolve(f.filter(d,function(a){if(!a.ctor)try{a.ctor=
v(a.types,b.contextRequire)}catch(c){}for(var e=a.parent;e&&!e.types;)e=e.parent;var d=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(d&&d.stopParser&&!b.template);a.instantiate=!e||e.instantiate&&e.instantiateChildren;return a.instantiate}))})):Q.resolve(d);return Q.promise},_require:function(a,c){var b=t("{"+a.innerHTML+"}"),e=[],d=[],f=new n,k=c&&c.contextRequire||h,l;for(l in b)e.push(l),d.push(b[l]);k(d,function(){for(var a=0;a<e.length;a++)g.setObject(e[a],arguments[a]);f.resolve(arguments)});
return f.promise},_scanAmd:function(a,c){var b=new n,e=b.promise;b.resolve(!0);var d=this;q("script[type\x3d'dojo/require']",a).forEach(function(a){e=e.then(function(){return d._require(a,c)});a.parentNode.removeChild(a)});return e},parse:function(a,c){a&&("string"!=typeof a&&!("nodeType"in a))&&(c=a,a=c.rootNode);var e=a?b.byId(a):l.body();c=c||{};var d=c.template?{template:!0}:{},f=[],k=this,m=this._scanAmd(e,c).then(function(){return k.scan(e,c)}).then(function(a){return k._instantiate(a,d,c,!0)}).then(function(a){return f=
f.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(f,m);return f}};a.parser=x;d.parseOnLoad&&s(100,x,"parse");return x})},"dojo/_base/url":function(){define(["./kernel"],function(h){var a=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,g=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var d=arguments,b=[d[0]],l=1;l<d.length;l++)if(d[l]){var m=new f(d[l]+""),b=new f(b[0]+"");if(""==m.path&&!m.scheme&&
!m.authority&&!m.query)null!=m.fragment&&(b.fragment=m.fragment),m=b;else if(!m.scheme&&(m.scheme=b.scheme,!m.authority&&(m.authority=b.authority,"/"!=m.path.charAt(0)))){for(var b=(b.path.substring(0,b.path.lastIndexOf("/")+1)+m.path).split("/"),e=0;e<b.length;e++)"."==b[e]?e==b.length-1?b[e]="":(b.splice(e,1),e--):0<e&&(!(1==e&&""==b[0])&&".."==b[e]&&".."!=b[e-1])&&(e==b.length-1?(b.splice(e,1),b[e-1]=""):(b.splice(e-1,2),e-=2));m.path=b.join("/")}b=[];m.scheme&&b.push(m.scheme,":");m.authority&&
b.push("//",m.authority);b.push(m.path);m.query&&b.push("?",m.query);m.fragment&&b.push("#",m.fragment)}this.uri=b.join("");d=this.uri.match(a);this.scheme=d[2]||(d[1]?"":null);this.authority=d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);null!=this.authority&&(d=this.authority.match(g),this.user=d[3]||null,this.password=d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null)};f.prototype.toString=function(){return this.uri};return h._Url=f})},
"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,a){var g={};h.setObject("dojo.date.stamp",g);g.fromISOString=function(f,d){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var b=g._isoRegExp.exec(f),l=null;if(b){b.shift();b[1]&&b[1]--;b[6]&&(b[6]*=1E3);d&&(d=new Date(d),a.forEach(a.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return d["get"+
a]()}),function(a,c){b[c]=b[c]||a}));l=new Date(b[0]||1970,b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0);100>b[0]&&l.setFullYear(b[0]||1970);var m=0,e=b[7]&&b[7].charAt(0);"Z"!=e&&(m=60*(b[8]||0)+(Number(b[9])||0),"-"!=e&&(m*=-1));e&&(m-=l.getTimezoneOffset());m&&l.setTime(l.getTime()+6E4*m)}return l};g.toISOString=function(a,d){var b=function(a){return 10>a?"0"+a:a};d=d||{};var g=[],m=d.zulu?"getUTC":"get",e="";"time"!=d.selector&&(e=a[m+"FullYear"](),e=["0000".substr((e+"").length)+e,b(a[m+"Month"]()+
1),b(a[m+"Date"]())].join("-"));g.push(e);if("date"!=d.selector){e=[b(a[m+"Hours"]()),b(a[m+"Minutes"]()),b(a[m+"Seconds"]())].join(":");m=a[m+"Milliseconds"]();d.milliseconds&&(e+="."+(100>m?"0":"")+b(m));if(d.zulu)e+="Z";else if("time"!=d.selector)var m=a.getTimezoneOffset(),k=Math.abs(m),e=e+((0<m?"-":"+")+b(Math.floor(k/60))+":"+b(k%60));g.push(e)}return g.join("T")};return g})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return h("dijit._HasDropDown",s,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(c.once(this.ownerDocument,n.release,k.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(a){var c=this.dropDown,e=!1;if(a&&this._opened){var f=b.position(this._buttonNode,!0);if(!(a.pageX>=f.x&&a.pageX<=f.x+f.w)||!(a.pageY>=f.y&&a.pageY<=f.y+f.h)){for(f=a.target;f&&!e;)d.contains(f,"dijitPopup")?e=!0:f=f.parentNode;if(e){f=a.target;if(c.onItemClick){for(var k;f&&!(k=p.byNode(f));)f=f.parentNode;if(k&&k.onClick&&k.getParent)k.getParent().onItemClick(k,a)}return}}}if(this._opened){if(c.focus&&(!1!==c.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";d.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(c(this._buttonNode,n.press,k.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",k.hitch(this,"_onDropDownClick")),c(a,"keydown",k.hitch(this,"_onKey")),c(a,"keyup",k.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var c=this.dropDown,b=a.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(a))a.stopPropagation(),a.preventDefault();else if(c&&this._opened&&a.keyCode==e.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==e.DOWN_ARROW||(a.keyCode==e.ENTER||a.keyCode==e.SPACE&&(!this._searchTimer||
a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(b.tagName||"").toLowerCase()||b.type&&"text"!==b.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(k.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var c=
new a,b=k.hitch(this,function(){this.openDropDown();c.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return c},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,c=a.domNode,e=this._aroundNode||this.domNode,g=this,l=r.open({parent:this,popup:a,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){g.closeDropDown(!0)},onCancel:function(){g.closeDropDown(!0)},
onClose:function(){f.set(g._popupStateNode,"popupActive",!1);d.remove(g._popupStateNode,"dijitHasDropDownOpen");g._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>a._popupWrapper.offsetWidth){var e=e.offsetWidth-a._popupWrapper.offsetWidth,m={w:a.domNode.offsetWidth+e};this._origStyle=c.style.cssText;k.isFunction(a.resize)?a.resize(m):b.setMarginBox(c,m);"R"==l.corner[1]&&(a._popupWrapper.style.left=a._popupWrapper.style.left.replace("px","")-e+"px")}f.set(this._popupStateNode,
"popupActive","true");d.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==c.getAttribute("role")&&!c.getAttribute("aria-labelledby")&&c.setAttribute("aria-labelledby",this.id);return l},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded",
"false"),a&&this.focus&&this.focus(),r.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,delete this._origStyle)}})})},"mw-form/PushButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PushButton.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){return h(w.validate([g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v]),{baseClass:"mwWidget mwPushButton",templateString:x,postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"keydown",this._handleKeydown.bind(this)),a(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/HorizontalAlignmentMixin":function(){define(["dojo/_base/declare"],function(h){var a=["left","center","right"],g={};Object.keys(a).forEach(function(f){g[a[f]]="mwHorizontalAlignment"+(a[f].charAt(0).toUpperCase()+a[f].slice(1))});return h(null,{horizontalAlignment:"center",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwHorizontalAlignmentMixin")},_setHorizontalAlignmentAttr:function(f){if(-1===
a.indexOf(f))throw Error("'Vertical alignment' property expects '' one of these values: "+a);this._applyHorizontalAlignmentClass(f);this._set("horizontalAlignment",f)},_applyHorizontalAlignmentClass:function(a){var d;d=this.get("horizontalAlignment");(d=g[d])&&this.domNode.classList.remove(d);this.domNode.classList.add(g[a])}})})},"mw-mixins/property/IconAlignmentMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/IconMixin"],function(h,
a,g,f){h=h(null,{CLASS_NAME_PREFIX:"mwIconAlignment",constructor:function(){this.ICON_ALIGNMENT_CONFIGURATION={top:{className:this.CLASS_NAME_PREFIX+"Top",textNodeLocation:"after"},right:{className:this.CLASS_NAME_PREFIX+"Right",textNodeLocation:"before"},bottom:{className:this.CLASS_NAME_PREFIX+"Bottom",textNodeLocation:"before"},left:{className:this.CLASS_NAME_PREFIX+"Left",textNodeLocation:"after"}}},iconAlignment:"left",_supportedValues:["top","right","bottom","left"],postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwIconAlignmentMixin")},_setIconAlignmentAttr:function(d){if(!(this.get("iconAlignment")===d&&this._started)){if(-1===this._supportedValues.indexOf(d))throw Error("'iconAlignment' property expects one of these values: "+this._supportedValues);var b=this.ICON_ALIGNMENT_CONFIGURATION[this.get("iconAlignment")].className;this.domNode.classList.remove(b);this.domNode.classList.add(this.ICON_ALIGNMENT_CONFIGURATION[d].className);a.place(this.textNode,this.iconNode,this.ICON_ALIGNMENT_CONFIGURATION[d].textNodeLocation);
this._set("iconAlignment",d)}}});h._dependencies=[{mixin:g,orderDependent:!1},{mixin:f,orderDependent:!1}];return h})},"mw-mixins/property/SizeMixin":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(h,a){return a(null,{width:"auto",height:"auto",_allowedValues:["auto"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwSizeMixin");this.on("updatelayout",h.hitch(this,this._updateLayout))},startup:function(){this.inherited(arguments);this._updateLayout()},
_updateLayout:function(){this._setWidthAttr(this.get("width"));this._setHeightAttr(this.get("height"))},_setWidthAttr:function(a){this._setSize("width",a)},_setHeightAttr:function(a){this._setSize("height",a)},_validateSizeInput:function(a){if(!("string"===typeof a&&"auto"===a||"number"===typeof a&&0<a))throw Error(" Property should either be 'auto' or a positive integer");},_setSize:function(a,f){this._validateSizeInput(f);this._set(a,f);if(this._started){var d="",d=0<=this._allowedValues.indexOf(f)?
f:this._getAdjustedSize(a,f,this.domNode);this.domNode.style[a]=d}},_getAdjustedSize:function(a,f,d){return f+"px"}})})},"mw-mixins/property/VerticalAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/SizeMixin"],function(h,a){var g=["top","middle","bottom"],f={};Object.keys(g).forEach(function(a){f[g[a]]="mwVerticalAlignment"+(g[a].charAt(0).toUpperCase()+g[a].slice(1))});var d=h(null,{verticalAlignment:"middle",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwVerticalAlignmentMixin")},
_setVerticalAlignmentAttr:function(a){if(-1===g.indexOf(a))throw Error("'Vertical alignment' property expects '' one of these values: "+g[a]);this._applyVerticalAlignmentClass(a);this._set("verticalAlignment",a)},_applyVerticalAlignmentClass:function(a){var d;d=this.get("verticalAlignment");(d=f[d])&&this.domNode.classList.remove(d);this.domNode.classList.add(f[a])}});d._dependencies=[{mixin:a,orderDependent:!0}];return d})},"mw-mixins/IconAndTextSizingMixin":function(){define(["dojo/_base/declare",
"dojo/dom-style","mw-mixins/property/SizeMixin"],function(h,a,g){h=h(null,{_paddingAndBorder:6,_setSize:function(a,d){this.inherited(arguments);if(this._started){var b="";"auto"===d?this._setSpecialSizeOnAdditionalNodes(a,"none"):(b=this._getAdjustedSize(a,d,this.domNode),this._setSpecialSizeOnAdditionalNodes(a,parseInt(b)-this._paddingAndBorder+"px"));this.contentWrapperNode.style[a]="100%"}},_setSpecialSizeOnAdditionalNodes:function(a,d){"width"===a?this.iconAndTextContainerNode.style.maxWidth=
d:"height"===a&&(this.textNode.style.maxHeight=d)}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"MW/toolstrip/constants/MiscConstants":function(){define([],function(){return{DO_NOT_DISPLAY:"ToolstripDoNotDisplay",TAB_WIDTH:102}})},"MW/toolstrip/widgets/_WidgetMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{postCreate:function(){this.inherited(arguments);this._addDataAttribute("tag");this._addDataAttribute("type")},_addDataAttribute:function(a,g){g=g||this[a];
this.domNode&&this.domNode.setAttribute("data-"+a,g)},_setTagAttr:function(a){this._addDataAttribute("tag",a);this._set("tag",a)},_setTypeAttr:function(a){this._addDataAttribute("type",a);this._set("type",a)}})})},"mw-event-utils/doubleClickHandler":function(){define({createCallback:function(h,a,g){var f=0,d;void 0===g&&(g=200);return function(b){f+=1;1===f?d=setTimeout(function(){f=0;h(b)},g):2===f&&(clearTimeout(d),f=0,b.syntheticEvent||a(b))}}})},"MW/layout/ConfirmationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/has dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ConfirmationDialog.html mw-dialog-utils/DialogUtils dojo/i18n!l10n/nls/confirmationDialog".split(" "),
function(h,a,g,f,d,b,l,m,e){var k=["warning","question"],c=function(a,c){this.emit(a.name);c.onClose()},n={question:{icon:"icon_dialog_question_32",buttons:[{name:"failure",label:e.no},{name:"success",label:e.yes}]},warning:{icon:"icon_dialog_warning_32",buttons:[{name:"failure",label:e.cancel},{name:"success",label:e.ok}]}};f("mac")&&Object.keys(n).forEach(function(a){n[a].buttons.reverse()});return h([d,b],{baseClass:"mwConfirmationDialog",templateString:l,title:"I am the Title",message:"I am the message.",
type:"warning",postCreate:function(){this.inherited(arguments);g.add(this.iconNode,n[this.type].icon);this.messageNode.textContent=this.message},_setTypeAttr:function(a){if(-1===k.indexOf(a))throw Error("The 'type' property can only be one of: "+k);this._checkAndSetProperty("type",a)},_setTitleAttr:function(a){this._checkAndSetProperty("title",a)},_setMessageAttr:function(a){this._checkAndSetProperty("message",a)},_checkAndSetProperty:function(a,c){if(this._created)throw Error("The '"+a+"' can only be set during construction!");
this._set(a,c)},open:function(){var b=n[this.type].buttons;b.forEach(function(b){b.buttonHandler={handler:a.hitch(this,c)}},this);m.displayModalDialog(this,this.title,b,{dialogClass:"mwConfirmationDialogContainer"})}})})},"mw-dialog-utils/DialogUtils":function(){define("dijit/_Widget dijit/form/Button dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on ./DialogDisplayManager mw-log/Log mw-utils/Utils dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){q.deprecated({deprecated:{module:"MW/dialog/DialogUtils"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});var r={dismiss:function(a,c){c.close()}},s=g(h,{constructor:function(a){a=a||{};a.message=a.message||"This space intentionally left blank";a.buttons=a.buttons||{name:"ok",label:this._getLocalizedName("ok"),buttonHandler:{handler:"dismiss"}};a.options=a.options||{};f.isArray(a.buttons)||(a.buttons=[a.buttons])},buildRendering:function(){this.inherited(arguments);
this._setDialogOptions(this.options);this._addMessage(this.message);this._addButtons(this.buttons)},startup:function(){f.isFunction(this.message.startup)&&this.message.startup();this.buttonWidgets.forEach(function(a){a.startup()})},destroy:function(){e.emit(this.domNode,"restorefocus",{bubbles:!0});this.inherited(arguments);if(this.message&&f.isFunction(this.message.onClose))this.message.onClose()},destroyRecursive:function(){this.inherited(arguments);delete this.message;this.buttonWidgets&&delete this.buttonWidgets},
_setDialogOptions:function(a){b.add(this.domNode,a.dialogClass||"messageDialog");a&&a["data-test-id"]&&d.set(this.domNode,"data-test-id",a["data-test-id"])},_addMessage:function(a){f.isString(a)?(d.set(this.domNode,"innerHTML",a),m.set(this.domNode,"whiteSpace","pre-line")):f.isFunction(a.placeAt)?a.placeAt(this.domNode,"first"):l.place(a,this.domNode,"first")},_addButtons:function(a){this.buttonWidgets=[];"none"!==this.buttons.toString().toLowerCase()&&(this.buttonContainer=this._createButtons(a),
l.place(this.buttonContainer,this.domNode,"last"))},_createButtons:function(a){var c=l.create("div",{"class":"buttonContainer"});a=this._convertButtonsToNewFormat(a);a.forEach(function(a){var b=this._createButton(a);a["data-testid"]&&d.set(b.domNode,"data-testid",a["data-testid"]);b.placeAt(c,"last");this.buttonWidgets.push(b)},this);return c},_convertButtonsToNewFormat:function(a){var b=[],e;a.forEach(function(a){var d;if(!a.name||!a.buttonHandler||!a.buttonHandler.handler){c.warn("buttons format is deprecated: "+
a+' expected format: {name: "ok", label: "OK", buttonHandler: {handler: function(){}, scope:}}');e={};for(d in a)a.hasOwnProperty(d)&&(e.name=d,e.buttonHandler={},e.buttonHandler.handler=a[d]);b.push(e)}else b.push(a)});return b},_createButton:function(c){var b=c.label||this._getLocalizedName(c.name);c=this._getHandlerFunction(c);return new a({label:b,onClick:c})},_getLocalizedName:function(a){return f.getObject(a,!1,p)||a},_getHandlerFunction:function(a){var c=a.buttonHandler.handler,b=a.buttonHandler.scope,
e;if(f.isString(c))if(r.hasOwnProperty(c))e=r[c];else throw Error("Unknown button handler: "+e);else e=c;return e=b?f.hitch(b,e,a,this):f.hitch(this,e,a,this)}}),t=g(h,{constructor:function(a){this.message=a},buildRendering:function(){this.inherited(arguments);this._addMessage(this.message)},_addMessage:function(a){d.set(this.domNode,"innerHTML",a);m.set(this.domNode,"whiteSpace","pre-line")}});h=null;return h=new (g([],{constructor:function(a){this.layoutInstance=null},_getLayoutInstance:function(){this.layoutInstance||
(this.layoutInstance=new k);return this.layoutInstance},setLayout:function(a){this.layoutInstance=a},_displayWidget:function(a,c,b){var d,k,g=this;c={title:c};d=b.layoutId||b.type+n.generateUuid();k=b.layoutId||b.type;f.mixin(c,b);if("string"===typeof a||!a)a=new t(a);b.dismissOnClick&&e(a,"click",function(){a.close()});a.onClose=function(){b.closeCallBack&&"function"===typeof b.closeCallBack&&b.closeCallBack();g._getLayoutInstance().removeWidget(d);return!0};a.onCancel=function(){b.cancelCallBack&&
"function"===typeof b.cancelCallBack&&b.cancelCallBack();a.close()};this._getLayoutInstance().addWidget(d,k,a,c);return a},displayModalDialog:function(a,c,b,e){e=e||{};"fault"===e.dialogType?(e.dialogClass=e.dialogClass||"faultMessage",e.layoutId=e.layoutId||"faultDialog"):"warn"===e.dialogType?(e.dialogClass=e.dialogClass||"warnMessage",e.layoutId=e.layoutId||"warnDialog"):e.dialogType=e.dialogType||"messageDialog";a=new s({message:a,buttons:b,options:e});e.isModal=!0;e.type=e.dialogType;return this._displayWidget(a,
c,e)},displayNonModalDialog:function(a,c,b){b=b||{};b.type="floatingPane";return this._displayWidget(c,a,b,b.type)},_getModalDialogWidget:function(){return s}}))})},"mw-dialog-utils/DialogDisplayManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr mw-store-utils/InMemoryStore ./DialogDisplayUtilities mw-deprecation-utils/deprecation".split(" "),function(h,a,g,f,d,b,l){l.deprecated({deprecated:{module:"MW/dialog/DialogDisplayManager"},replacement:{module:"mw-dialogs/Dialogs"},
geckNumber:1471429});return a([b],{constructor:function(a){this.dialogWidgetStore=new d},addWidget:function(a,b,d,c){b={};b.widget=d;b.position=c.position;b.closable=!1===c.closable?!1:!0;b.autofocus=!0;b.title=c.title;b.id=a;b.style=c.style;b.dialogClass=c.dialogClass;b.parentDiv=c.parentDiv;b["data-testid"]=c["data-testid"];c.isModal?this._displayModalDialog(b):(b.resizable=c.resizable,this._displayNonModalDialog(b));this.dialogWidgetStore.newItem(b)},_displayModalDialog:function(a){a.wrapper=this.createModalDialogWrapper(a);
a.wrapper.show();a.widget.startup()},_displayNonModalDialog:function(a){a.wrapper=this.createNonModalDialogWrapper(a);a.widget.close||(a.widget.close=function(){a.wrapper.close()});this.startNonModalDialogAndAddResizeHandlers(a.wrapper)},removeWidget:function(a){var b=null;this.dialogWidgetStore.fetch({query:{id:a},onItem:function(a){b=a}});b&&(b.wrapper.destroyRecursive(),this.dialogWidgetStore.deleteItem(b))},removeWidgetsWithParentId:function(){},removeWidgetsWithLayoutId:function(){},showWidget:function(){},
focusWidget:function(){},disableWidget:function(){},enableWidget:function(){},updateWidget:function(){},updateWidgetsWithLayoutId:function(){},ensureParentExistsInStore:function(){}})})},"mw-store-utils/InMemoryStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/data/util/filter","dojo/data/util/simpleFetch","mw-utils/Utils"],function(h,a,g,f,d){h=h([],{_storeRef:"_S",_timestampProp:"_timestamp",constructor:function(a){a=a||{};this.items=[];a.items&&a.items.forEach(function(a){this.newItem(a)},
this)},_fetchItems:function(a,d){var f=[],e,k,c,h,p,q,r={};if(a.query){k=a.queryOptions?a.queryOptions.ignoreCase:!1;for(e in a.query)a.query.hasOwnProperty(e)&&(q=a.query[e],"string"===typeof q&&/[\*\?]+/.test(q)?r[e]=g.patternToRegExp(q,k):q instanceof RegExp&&(r[e]=q));p=this.items.length;for(k=0;k<p;k+=1){c=!0;h=this.items[k];if(null===h)c=!1;else for(e in a.query)a.query.hasOwnProperty(e)&&(q=a.query[e],this._containsValue(h,e,q,r[e])||(c=!1));c&&f.push(h)}}else this.items&&this.items.forEach(function(a){null!==
a&&f.push(a)});d(f,a)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Write":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Identity":!0}},getAttributes:function(a){this._assertIsItem(a);var d=[],f;for(f in a)a.hasOwnProperty(f)&&(f!==this._storeRefPropName&&f!==this._loadedPropName&&f!==this._filePathPropName)&&d.push(f);return d},isItem:function(a){return a&&a[this._storeRef]===this},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(){},getValues:function(b,
d){this._assertIsItem(b);if(!a.isString(d))throw Error("MW.utils.InMemoryStore: invalid attribute");return b.hasOwnProperty(d)?[b[d]]:[]},getValue:function(a,d){var f=this.getValues(a,d);return 0===f.length?void 0:f[0]},hasAttribute:function(a,d){return 0<this.getValues(a,d).length},containsValue:function(a,d,f){var e;"string"===typeof f&&(e=g.patternToRegExp(f,!1));return this._containsValue(a,d,f,e)},_containsValue:function(b,d,f,e){var k=this.getValues(b,d),c=k.length;for(b=0;b<c;b+=1)if(d=k[b],
e&&!a.isObject(d)&&null!==d&&d.toString().match(e)||f===d)return!0;return!1},setValues:function(b,d,f){var e;this._assertIsItem(b);if(!a.isString(d))throw Error("MW.utils.InMemoryStore: invalid attribute");e=b[d];if(e!==f||"store"===d)b[d]=f,this.onSet(b,d,e,f)},setValue:function(a,d,f){this.setValues(a,d,f)},newItem:function(b){var f={id:d.generateUuid()};f[this._timestampProp]=new Date;f[this._storeRef]=this;a.mixin(f,b);this.items.push(f);this.onNew(f);return f},deleteItem:function(a){var d;this._assertIsItem(a);
d=this.items.indexOf(a);0<=d&&this.items.splice(d,1);this.onDelete(a)},getIdentity:function(a){return a.id},save:function(a){},revert:function(){return!1},isDirty:function(a){return!1},onNew:function(){},onDelete:function(){},onSet:function(){},_assertIsItem:function(a){if(!this.isItem(a))throw Error("MW.utils.InMemoryStore: Invalid argument, item is not in the store.");}});a.extend(h,f);return h})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(h){var a={};h.setObject("dojo.data.util.filter",
a);a.patternToRegExp=function(a,f){for(var d="^",b=null,l=0;l<a.length;l++)switch(b=a.charAt(l),b){case "\\":d+=b;l++;d+=a.charAt(l);break;case "*":d+=".*";break;case "?":d+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":d+="\\";default:d+=b}d+="$";return f?RegExp(d,"mi"):RegExp(d,"m")};return a})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(h,a,g){var f={};h.setObject("dojo.data.util.simpleFetch",
f);f.errorHandler=function(d,b){b.onError&&b.onError.call(b.scope||a.global,d,b)};f.fetchHandler=function(d,b){var f=b.abort||null,m=!1,e=b.start?b.start:0,k=b.count&&Infinity!==b.count?e+b.count:d.length;b.abort=function(){m=!0;f&&f.call(b)};var c=b.scope||a.global;b.store||(b.store=this);b.onBegin&&b.onBegin.call(c,d.length,b);b.sort&&d.sort(g.createSortFunction(b.sort,this));if(b.onItem)for(var h=e;h<d.length&&h<k;++h){var p=d[h];m||b.onItem.call(c,p,b)}b.onComplete&&!m&&(h=null,b.onItem||(h=d.slice(e,
k)),b.onComplete.call(c,h,b))};f.fetch=function(a){a=a||{};a.store||(a.store=this);this._fetchItems(a,h.hitch(this,"fetchHandler"),h.hitch(this,"errorHandler"));return a};return f})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(h){var a={};h.setObject("dojo.data.util.sorter",a);a.basicComparator=function(a,f){var d=-1;null===a&&(a=void 0);null===f&&(f=void 0);if(a==f)d=0;else if(a>f||null==a)d=1;return d};a.createSortFunction=function(g,f){function d(a,c,b,e){return function(d,
f){var k=e.getValue(d,a),g=e.getValue(f,a);return c*b(k,g)}}for(var b=[],l,m=f.comparatorMap,e=a.basicComparator,k=0;k<g.length;k++){l=g[k];var c=l.attribute;if(c){l=l.descending?-1:1;var h=e;m&&("string"!==typeof c&&"toString"in c&&(c=c.toString()),h=m[c]||e);b.push(d(c,l,h,f))}}return function(a,c){for(var e=0;e<b.length;){var d=b[e++](a,c);if(0!==d)return d}return 0}};return a})},"mw-dialog-utils/DialogDisplayUtilities":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/keys dojo/on dojo/window ./Dialog ./FloatingPane mw-dnd/BoundedMover mw-deprecation-utils/deprecation".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){q.deprecated({deprecated:{module:"MW/dialog/DialogDisplayUtilities"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return a([],{constructor:function(a){},createModalDialogWrapper:function(a){var b;a.dialogClass&&(a.dialogClass=g.trim(a.dialogClass)+"Box dialog");b=new c({title:a.title||"",id:a.id+"Dialog",style:a.style,"class":(a.dialogClass||"dialog")+(a["class"]?" "+a["class"]:""),closable:a.closable,duration:1,refocus:!1!==a.refocus,autofocus:!1!==
a.autofocus});b._onKey=function(){this.inherited("_onKey",arguments)};b.show=function(){var c;a.position&&(0<=a.position.x&&0<=a.position.y)&&this.placeDialogAt(a.position);l.set(this.domNode,{opacity:0,display:""});c=this.inherited("show",arguments);this.closable||l.set(this.closeButtonNode,{display:"none"});this.dombody=document.body;this.handleBodyKeyPress=e(this.dombody,"click",g.hitch(this,this.handleFocus));this._dialogShowPromise=c;c.then(function(){a.wrapper.closeButtonNode.setAttribute("tabindex",
"0")});return c};a.widget&&(a.widget.close=function(){b._dialogShowPromise&&!b._dialogShowPromise.isResolved()?b._dialogShowPromise.then(function(){b.hide()}):b.hide()});this._addWrapperAndWidgetEvents(b,a.widget);b.set("content",a.widget);a["data-testid"]&&d.set(b.domNode,"data-testid",a["data-testid"]);b.onHide=function(){b.onClose()};return b},createNonModalDialogWrapper:function(a,c,e,k){a.parentDiv=c||a.parentDiv||a.id+"floatingParentDiv";f.byId(a.parentDiv)||b.create("div",{id:a.parentDiv},
document.body);a.dialogClass&&(a.dialogClass=g.trim(a.dialogClass));c=new n({title:a.title||"","class":a.dialogClass||"",id:k||a.id,resizable:!1!==a.resizable,dockable:!1,style:e||a.style},f.byId(a.parentDiv));c.duration=500;this._addWrapperAndWidgetEvents(c,a.widget);c.set("content",a.widget);a["data-testid"]&&d.set(c.domNode,"data-testid",a["data-testid"]);return c},startNonModalDialogAndAddResizeHandlers:function(a){var c;a.startup();a.bringToTop();a.show();c=k.getBox();a._moveable.mover=p;a._resizeHandle&&
(a._resizeHandle.constrainMax=!0,a._resizeHandle.maxSize=c)},_addWrapperAndWidgetEvents:function(a,c){a.onClose=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return c.onClose&&c.onClose(arguments)};a.onCancel=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return c.onCancel&&c.onCancel(arguments)};a.onShow=function(){return c.onShow&&c.onShow(arguments)};a.onFocus=function(){return c.onFocus&&c.onFocus(arguments)};a.onBlur=function(){return c.onBlur&&c.onBlur(arguments)}}})})},
"mw-dialog-utils/Dialog":function(){define("dijit/Dialog dijit/focus dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dnd/Moveable dojo/dom-geometry dojo/on dojo/window mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){n.deprecated({deprecated:{module:"MW/dialog/Dialog"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return g([h],{_userPreferredPosition:null,_setTitleAttr:{node:"titleNode",type:"textContent"},
postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary");this.closeButtonNode.title=c.close},setMover:function(a){this._mover=a},_setup:function(){this.inherited(arguments);this.titleBar&&this.draggable&&(this._moveable.destroy(),this._moveable=new b(this.domNode,{handle:this.titleNode}),d.after(this._moveable,"onMoveStop",f.hitch(this,"_endDrag"),!0))},show:function(){var a=this.inherited(arguments);this._moveable.mover=this._mover||k;this.own(m(this.domNode,
"click",f.hitch(this,this.handleFocus)));return a},isTop:function(){return h._DialogLevelManager.isTop(this)},handleFocus:function(){this.open&&(this.isTop()&&(!this.focused||!a.curNode))&&this.focus()},placeDialogAt:function(a){a&&(this._relativePosition={x:a.x,y:a.y})},resize:function(){var a,c,b=e.getBox(this.ownerDocument);c=l.position(this.domNode);if(this._userPreferredPosition=this._relativePosition?this._relativePosition:this._userPreferredPosition)a=this._userPreferredPosition.x+c.w,c=this._userPreferredPosition.y+
c.h,a>b.w||c>b.h?delete this._relativePosition:this._relativePosition=this._userPreferredPosition;this.inherited("resize",arguments)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O){function S(){}var M=new d;M.resolve(!0);x=f("dijit._DialogBase",[y,B,D,A],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:x.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=c.getLocalization("dijit","common");p.mixin(this,a);this.inherited(arguments)},postCreate:function(){e.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);g.after(this,"onExecute",p.hitch(this,"hide"),!0);g.after(this,"onCancel",p.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&C.isTop(this)&&
(this._getFocusItems(),w.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();w.focus(this._firstFocusItem)},_endDrag:function(){var a=m.position(this.domNode),c=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),c.h-a.h);a.x=Math.min(Math.max(a.x,0),c.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var c=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==s("ie")?v:u)(c,{handle:this.titleBar}),g.after(this._moveable,
"onMoveStop",p.hitch(this,"_endDrag"),!0)):l.add(c,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":a.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:p.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!l.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,c=t.getBox(this.ownerDocument),b=this._relativePosition,d=m.position(a),f=Math.floor(c.l+(b?Math.min(b.x,c.w-d.w):(c.w-
d.w)/2)),c=Math.floor(c.t+(b?Math.min(b.y,c.h-d.h):(c.h-d.h)/2));e.set(a,{left:f+"px",top:c+"px"})}},_onKey:function(a){if(a.keyCode==n.TAB){this._getFocusItems();var c=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):c==this._firstFocusItem&&a.shiftKey?(w.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):c==this._lastFocusItem&&!a.shiftKey&&(w.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==
n.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return M.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),C.hide(this));var a=t.get(this.ownerDocument);this._modalconnects.push(q(a,"scroll",p.hitch(this,"resize",null)));this._modalconnects.push(q(this.domNode,"keydown",p.hitch(this,"_onKey")));e.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var c;this._fadeInDeferred=new d(p.hitch(this,function(){c.stop();delete this._fadeInDeferred}));this._fadeInDeferred.then(void 0,S);a=this._fadeInDeferred.promise;c=k.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:p.hitch(this,function(){C.show(this,this.underlayAttrs)}),onEnd:p.hitch(this,function(){this.autofocus&&C.isTop(this)&&(this._getFocusItems(),w.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);
delete this._fadeInDeferred})}).play();return a},hide:function(){if(!this._alreadyInitialized||!this.open)return M.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new d(p.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(void 0,S);this._fadeOutDeferred.then(p.hitch(this,"onHide"));var c=this._fadeOutDeferred.promise;a=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,function(){this.domNode.style.display=
"none";C.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return c},resize:function(c){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!c){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle),a.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(a){a&&e.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=t.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var d=m.position(this.domNode);d.w>=b.w||d.h>=b.h?(c={w:Math.min(d.w,b.w),h:Math.min(d.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(c){m.setMarginBox(this.domNode,c);b=[];this.titleBar&&b.push({domNode:this.titleBar,
region:"top"});this.actionBarNode&&b.push({domNode:this.actionBarNode,region:"bottom"});d={domNode:this.containerNode,region:"center"};b.push(d);var f=I.marginBox2contentBox(this.domNode,c);I.layoutChildren(this.domNode,f,b);this._singleChild?(b=I.marginBox2contentBox(this.containerNode,d),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!s("touch")&&!c&&this._position()}},_layoutChildren:function(){a.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();C.hide(this);this.inherited(arguments)}});var J=f("dijit.Dialog",[G,x],{});J._DialogBase=x;var C=J._DialogLevelManager={_beginZIndex:950,show:function(a,c){E[E.length-1].focus=w.curNode;var b=E[E.length-1].dialog?E[E.length-1].zIndex+2:J._DialogLevelManager._beginZIndex;
e.set(a.domNode,"zIndex",b);H.show(c,b-1);E.push({dialog:a,underlayAttrs:c,zIndex:b})},hide:function(c){if(E[E.length-1].dialog==c){E.pop();var e=E[E.length-1];1==E.length?H.hide():H.show(e.underlayAttrs,e.zIndex-1);if(c.refocus){c=e.focus;if(e.dialog&&(!c||!b.isDescendant(c,e.dialog.domNode)))e.dialog._getFocusItems(),c=e.dialog._firstFocusItem;if(c)try{c.focus()}catch(d){}}}else e=a.indexOf(a.map(E,function(a){return a.dialog}),c),-1!=e&&E.splice(e,1)},isTop:function(a){return E[E.length-1].dialog==
a}},E=J._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];w.watch("curNode",function(a,c,b){a=E[E.length-1].dialog;if(b&&a&&!a._fadeOutDeferred&&b.ownerDocument==a.ownerDocument){do if(b==a.domNode||l.contains(b,"dijitPopup"))return;while(b=b.parentNode);a.focus()}});s("dijit-legacy-requires")&&r(0,function(){h(["dijit/TooltipDialog"])});return J})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){return a("dojo.dnd.Moveable",[b],{handle:"",delay:0,skip:!1,constructor:function(a,b){this.node=f.byId(a);b||(b={});this.handle=b.handle?f.byId(b.handle):null;this.handle||(this.handle=this.node);this.delay=0<b.delay?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:c;this.events=[l(this.handle,e.press,g.hitch(this,"onMouseDown")),l(this.handle,"dragstart",g.hitch(this,"onSelectStart")),l(this.handle,"selectstart",g.hitch(this,"onSelectStart"))]},markupFactory:function(a,
c,b){return new b(c,a)},destroy:function(){h.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!k.isFormElement(a)){if(this.delay)this.events.push(l(this.handle,e.move,g.hitch(this,"onMouseMove")),l(this.handle.ownerDocument,e.release,g.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-
this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var c=0;2>c;++c)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!k.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){m.publish("/dnd/move/start",a);d.add(n.body(),"dojoMove");d.add(this.node,"dojoMoveItem")},onMoveStop:function(a){m.publish("/dnd/move/stop",
a);d.remove(n.body(),"dojoMove");d.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,c){this.onMoving(a,c);var b=a.node.style;b.left=c.l+"px";b.top=c.t+"px";this.onMoved(a,c)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(h,a,g,f){var d=g.getObject("dojo.dnd",!0);d.getCopyKeyState=function(a){return a[h("mac")?"metaKey":"ctrlKey"]};d._uniqueId=0;d.getUniqueId=function(){var b;
do b=a._scopeName+"Unique"+ ++d._uniqueId;while(f.byId(b));return b};d._empty={};d.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return d})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p){return a("dojo.dnd.Mover",
[e],{constructor:function(a,e,d){function f(a){a.preventDefault();a.stopPropagation()}this.node=b.byId(a);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;e=this.host=d;a=a.ownerDocument;this.events=[k(a,c.move,g.hitch(this,"onFirstMove")),k(a,c.move,g.hitch(this,"onMouseMove")),k(a,c.release,g.hitch(this,"onMouseUp")),k(a,"dragstart",f),k(a.body,"selectstart",f)];p.autoScrollStart(a);if(e&&e.onMoveStart)e.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var c=this.marginBox;
this.host.onMove(this,{l:c.l+a.pageX,t:c.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(f("webkit")&&f("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var c=this.node.style,b,e=this.host;switch(c.position){case "relative":case "absolute":b=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=l.getMarginBox(this.node);
b=d.doc.body;var f=m.getComputedStyle(b),k=l.getMarginBox(b,f),f=l.getContentBox(b,f);b=c.l-(f.l-k.l);c=c.t-(f.t-k.t)}this.marginBox.l=b-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(e&&e.onFirstMove)e.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){h.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(h,a,g,f,d,b){var l={};h.setObject("dojo.dnd.autoscroll",l);l.getViewport=b.getBox;l.V_TRIGGER_AUTOSCROLL=32;l.H_TRIGGER_AUTOSCROLL=32;l.V_AUTOSCROLL_VALUE=16;l.H_AUTOSCROLL_VALUE=16;var m,e=g.doc,k=Infinity,c=Infinity;l.autoScrollStart=function(a){e=a;m=b.getBox(e);a=g.body(e).parentNode;k=Math.max(a.scrollHeight-m.h,0);c=Math.max(a.scrollWidth-m.w,0)};l.autoScroll=function(a){var d=m||b.getBox(e),f=g.body(e).parentNode,h=0,s=0;a.clientX<l.H_TRIGGER_AUTOSCROLL?h=-l.H_AUTOSCROLL_VALUE:a.clientX>
d.w-l.H_TRIGGER_AUTOSCROLL&&(h=Math.min(l.H_AUTOSCROLL_VALUE,c-f.scrollLeft));a.clientY<l.V_TRIGGER_AUTOSCROLL?s=-l.V_AUTOSCROLL_VALUE:a.clientY>d.h-l.V_TRIGGER_AUTOSCROLL&&(s=Math.min(l.V_AUTOSCROLL_VALUE,k-f.scrollTop));window.scrollBy(h,s)};l._validNodes={div:1,p:1,td:1};l._validOverflow={auto:1,scroll:1};l.autoScrollNodes=function(c){for(var b,e,k,m,h,u,v=0,w=0,x=c.target;x;){if(1==x.nodeType&&x.tagName.toLowerCase()in l._validNodes){k=d.getComputedStyle(x);m=k.overflow.toLowerCase()in l._validOverflow;
h=k.overflowX.toLowerCase()in l._validOverflow;u=k.overflowY.toLowerCase()in l._validOverflow;if(m||h||u)b=f.getContentBox(x,k),e=f.position(x,!0);if(m||h){k=Math.min(l.H_TRIGGER_AUTOSCROLL,b.w/2);h=c.pageX-e.x;if(a("webkit")||a("opera"))h+=g.body().scrollLeft;v=0;0<h&&h<b.w&&(h<k?v=-k:h>b.w-k&&(v=k),x.scrollLeft+=v)}if(m||u){m=Math.min(l.V_TRIGGER_AUTOSCROLL,b.h/2);u=c.pageY-e.y;if(a("webkit")||a("opera"))u+=g.body().scrollTop;w=0;0<u&&u<b.h&&(u<m?w=-m:u>b.h-m&&(w=m),x.scrollTop+=w)}if(v||w)return}try{x=
x.parentNode}catch(z){x=null}}l.autoScroll(c)};return l})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(h,a){var g=a.prototype.onMove;return h("dojo.dnd.TimedMoveable",a,{timeout:40,constructor:function(a,d){d||(d={});d.timeout&&("number"==typeof d.timeout&&0<=d.timeout)&&(this.timeout=d.timeout)},onMoveStop:function(f){f._timer&&(clearTimeout(f._timer),g.call(this,f,f._leftTop));a.prototype.onMoveStop.apply(this,arguments)},onMove:function(a,d){a._leftTop=
d;if(!a._timer){var b=this;a._timer=setTimeout(function(){a._timer=null;g.call(b,a,a._leftTop)},this.timeout)}}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(h,a,g,f,d){var b={};h.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(a){b[a]=f[a]});g.mixin(b,{defaultDuration:a.defaultDuration||200});g.mixin(d,b);return d})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(h,a,g,f,d,b){return a("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];h.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return b},reset:function(){h.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return h.every(h.map(this._getDescendantFormWidgets(),function(d){d._hasBeenBlurred=!0;var e=d.disabled||!d.validate||
d.validate();!e&&!a&&(b.scrollIntoView(d.containerNode||d.domNode),d.focus(),a=!0);return e}),function(a){return a})},setValues:function(a){g.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){var b={};h.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(b[a.name]||(b[a.name]=[])).push(a)});for(var e in b)if(b.hasOwnProperty(e)){var d=b[e],c=f.getObject(e,!1,a);void 0!==c&&(c=[].concat(c),
"boolean"==typeof d[0].checked?h.forEach(d,function(a){a.set("value",-1!=h.indexOf(c,a._get("value")))}):d[0].multiple?d[0].set("value",c):h.forEach(d,function(a,b){a.set("value",c[b])}))}},getValues:function(){g.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var a={};h.forEach(this._getDescendantFormWidgets(),function(b){var e=b.name;if(e&&!b.disabled){var d=b.get("value");"boolean"==typeof b.checked?
/Radio/.test(b.declaredClass)?!1!==d?f.setObject(e,d,a):(d=f.getObject(e,!1,a),void 0===d&&f.setObject(e,null,a)):(b=f.getObject(e,!1,a),b||(b=[],f.setObject(e,b,a)),!1!==d&&b.push(d)):(b=f.getObject(e,!1,a),"undefined"!=typeof b?f.isArray(b)?b.push(d):f.setObject(e,[b,d],a):f.setObject(e,d,a))}});return a},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=h.map(this._descendants,function(a){return a.get("state")||""});return 0<=h.indexOf(a,"Error")?
"Error":0<=h.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();h.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(d(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,d){this.onValidStateChange(""==d)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(h,a){return h("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var g=a._getTabNavigable(this.domNode);this._firstFocusItem=g.lowest||g.first||this.closeButtonNode||this.domNode;this._lastFocusItem=g.last||g.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){var p=h("dijit.DialogUnderlay",[m,e],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){f.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(b(this.domNode,"keydown",a.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,c=this.domNode.style;c.display="none";var b=l.getBox(this.ownerDocument);c.top=b.t+"px";c.left=b.l+"px";a.width=b.w+"px";a.height=b.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new k(this.domNode);var e=l.get(this.ownerDocument);this._modalConnects=[c.on("resize",a.hitch(this,"layout")),b(e,"scroll",
a.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});p.show=function(a,c){var b=p._singleton;!b||b._destroyed?b=n._underlay=p._singleton=new p(a):a&&b.set(a);d.set(b.domNode,"zIndex",c);b.open||b.show()};p.hide=function(){var a=
p._singleton;a&&!a._destroyed&&a.hide()};return p})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return e("dijit.layout.ContentPane",[g,f,d],{href:"",content:"",extractContent:!1,parseOnLoad:!0,
parserScope:h._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,
c,b){var e=new b(a,c);return!e.href&&e._contentSetter&&e._contentSetter.parseDeferred&&!e._contentSetter.parseDeferred.isFulfilled()?e._contentSetter.parseDeferred.then(function(){return e}):e},create:function(b,e){if((!b||!b.template)&&e&&!("href"in b)&&!("content"in b)){e=c.byId(e);for(var d=e.ownerDocument.createDocumentFragment();e.firstChild;)d.appendChild(e.firstChild);b=a.delegate(b,{content:d})}this.inherited(arguments,[b,e])},postMixInProperties:function(){this.inherited(arguments);var a=
r.getLocalization("dijit","loading",this.lang);this.loadingMessage=b.substitute(this.loadingMessage,a);this.errorMessage=b.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&m.forEach(this._contentSetter.parseResults,function(c){!c._started&&(!c._destroyed&&a.isFunction(c.startup))&&(c.startup(),c._started=
!0)},this)},_startChildren:function(){m.forEach(this.getChildren(),function(c){!c._started&&(!c._destroyed&&a.isFunction(c.startup))&&(c.startup(),c._started=!0)});this._contentSetter&&m.forEach(this._contentSetter.parseResults,function(c){!c._started&&(!c._destroyed&&a.isFunction(c.startup))&&(c.startup(),c._started=!0)},this)},setHref:function(a){h.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(c){this.cancel();
this.onLoadDeferred=new k(a.hitch(this,"cancel"));this.onLoadDeferred.then(a.hitch(this,"onLoad"));this._set("href",c);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){h.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(c){this._set("href","");this.cancel();this.onLoadDeferred=new k(a.hitch(this,"cancel"));this._created&&
this.onLoadDeferred.then(a.hitch(this,"onLoad"));this._setContent(c||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&
!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new k(a.hitch(this,"cancel"));this.onLoadDeferred.then(a.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var c=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};a.isObject(this.ioArgs)&&a.mixin(b,this.ioArgs);var e=this._xhrDfd=(this.ioMethod||
q.get)(b),d;e.then(function(a){d=a;try{return c._isDownloaded=!0,c._setContent(a,!1)}catch(b){c._onError("Content",b)}},function(a){e.canceled||c._onError("Download",a);delete c._xhrDfd;return a}).then(function(){c.onDownloadEnd();delete c._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(c){console.error("Error "+this.widgetId+" running custom onLoad code: "+c.message)}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;m.forEach(this.getChildren(),function(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a);c._destroyed=!0});c&&(m.forEach(c.parseResults,function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a),c._destroyed=!0)}),delete c.parseResults);a||
p.empty(this.containerNode);delete this._singleChild},_setContent:function(c,b){c=this.preprocessContent(c);this.destroyDescendants();var e=this._contentSetter;e&&e instanceof l._ContentSetter||(e=this._contentSetter=new l._ContentSetter({node:this.containerNode,_onError:a.hitch(this,this._onError),onContentError:a.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(c){console.error("Fatal "+this.id+" could not change content due to "+c.message,c)}})}));var d=
a.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!c.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=e.set(a.isObject(c)&&c.domNode?c.domNode:c,d),f=this;return s(d&&d.then?d:e.parseDeferred,function(){delete f._contentSetterParams;b||(f._started&&(f._startChildren(),f._scheduleLayout()),f._onLoadHandler(c))})},preprocessContent:function(a){return a},_onError:function(a,
c,b){this.onLoadDeferred.reject(c);a=this["on"+a+"Error"].call(this,c);b?console.error(b,c):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return a("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(e.on("resize",b.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;l("\x3e *",this.containerNode).some(function(e){var d=
m.byNode(e);d&&d.resize?a.push(d):!/script|link|style/i.test(e.nodeName)&&e.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;g.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,e){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
a&&f.setMarginBox(this.domNode,a);var d=this.containerNode;if(d===this.domNode){var g=e||{};b.mixin(g,a||{});if(!("h"in g)||!("w"in g))g=b.mixin(f.getMarginBox(d),g);this._contentBox=k.marginBox2contentBox(d,g)}else this._contentBox=f.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||f.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),
b,e=0;b=a[e++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!g.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(h,a,g,f,d,b,l){var m=0,e={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:b.empty,_setNodeContent:function(e,c){b.empty(e);if(c)if("number"==typeof c&&(c=c.toString()),"string"==typeof c&&(c=b.toDom(c,e.ownerDocument)),!c.nodeType&&a.isArrayLike(c))for(var d=c.length,f=0;f<c.length;f=d==c.length?f+1:0)b.place(c[f],e,"last");else b.place(c,e,"last");return e},_ContentSetter:f("dojo.html._ContentSetter",null,{node:"",
content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:h._scopeName,startup:!0,constructor:function(b,c){a.mixin(this,b||{});c=this.node=d.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",m++].join("_"))},set:function(a,c){void 0!==a&&(this.content=a);c&&this._mixin(c);this.onBegin();this.setContent();var b=this.onEnd();return b&&b.then?b:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=
e._setNodeContent(a,this.content)}catch(c){var b=this.onContentError(c);try{a.innerHTML=b}catch(d){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+d.message,d)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(g.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);b.empty(this.node)},onBegin:function(){var b=
this.content;if(a.isString(b)&&(this.cleanContent&&(b=e._secureForInnerHtml(b)),this.extractContent)){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(b=c[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+
a},_mixin:function(a){var c={},b;for(b in a)b in c||(this[b]=a[b])},_parse:function(){var a=this.node;try{var c={};g.forEach(["dir","lang","textDir"],function(a){this[a]&&(c[a]=this[a])},this);var b=this;this.parseDeferred=l.parse({rootNode:a,noStart:!this.startup,inherited:c,scope:this.parserScope}).then(function(a){return b.parseResults=a},function(a){b._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(a,c,b){a=this["on"+a+"Error"].call(this,c);b?console.error(b,c):a&&e._setNodeContent(this.node,a,!0)}}),set:function(b,c,d){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),c="");"number"==typeof c&&(c=c.toString());return d?(new e._ContentSetter(a.mixin(d,{content:c,node:b}))).set():e._setNodeContent(b,c,!0)}};a.setObject("dojo.html",e);return e})},"mw-dnd/BoundedMover":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/dnd/Mover",
"dojo/dom-geometry","dojo/window"],function(h,a,g,f,d){return h([g],{onMouseMove:function(b){var g=this.marginBox,h=f.position(this.host.node),e=d.getBox(),g={l:g.l+b.pageX,t:g.t+b.pageY};g.l=Math.max(0,Math.min(g.l,e.w-h.w));g.t=Math.max(0,Math.min(g.t,e.h-h.h));this.host.onMove(this,g,b);a.stop(b)}})})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],function(h,a){var g={deprecated:function(f){var d,b;if((h.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(f))b=
window.showDeprecationsAsErrors||f.deprecationLevel===this.ERROR?this.ERROR:this.WARN,d="DEPRECATED: ",f.deprecated&&(d+=f.deprecated.module,f.deprecated.method&&(d+="."+f.deprecated.method+"()"),d+="."),f.replacement&&(d+=" Use "+f.replacement.module,f.replacement.method&&(d+="."+f.replacement.method+"()"),d+=" instead."),f.removalVersion&&(d+=" Will be removed in version: "+f.removalVersion+"."),f.geckNumber&&(d+=" Please use g"+f.geckNumber+" to track latest information regarding this deprecation"),
f.additionalInformation&&(d+=" "+f.additionalInformation),a[b](d)},_isConfigValid:function(f){var d=!!f.deprecated&&"object"===typeof f.deprecated&&f.deprecated.hasOwnProperty("module");f.replacement&&(d=d&&"object"===typeof f.replacement&&f.replacement.hasOwnProperty("module"));f.geckNumber&&(d=d&&"number"===typeof f.geckNumber);d||a.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return d}};
Object.defineProperties(g,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return g})},"mw-dialog-utils/FloatingPane":function(){define("dojo/_base/declare dojo/_base/fx dojo/_base/lang dojo/dnd/Moveable dojo/dom-geometry dojo/dom-style dojo/topic dojo/on dojo/Evented dojo/window dojo/touch dojox/layout/FloatingPane dijit/_Widget mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog dojo/text!./floatingPaneTemplate.html".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){e={isOnTop:!1,
attributeMap:g.delegate(p.prototype.attributeMap,{title:{type:"textContent",node:"titleNode"}}),startup:function(){this.inherited(arguments);this._checkResizeConstraints();this.resizable&&this.connect(this._resizeHandle.domNode,c.press,"bringToTop");this.connect(this.focusNode,c.press,function(){this.domNode.focus()});this._resizeHandle&&this.connect(this._resizeHandle.domNode,c.press,function(){this.domNode.focus()});this.domNode.focus()},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this._moveable.destroy();this._moveable=new f(this.domNode,{handle:this.titleNode});this._moveable.mover=q;this.dockable&&(this.own(l.subscribe("/floatingPaneDockUpdate",g.hitch(this,function(a){this.dockTo=a.newWidget}))),this.dockTo.addItem(this));this.closeNode.title=r.close;this.closeNode.setAttribute("tabindex","0");this.maxNode.title=r.maximize;this.dockNode.title=r.minimize},templateString:s,hide:function(c){var b,e;"function"===typeof c?(b=c,e=g.hitch(this,function(){b();this.onClose();
this.emit("onClose")}),this.inherited(arguments,[e])):"boolean"===typeof c?(this.paneOriginalPosition=d.position(this.domNode),a.animateProperty({node:this.domNode,properties:{top:d.position(this.dockTo.domNode).y,left:d.position(this.dockTo.domNode).x,height:0,width:d.position(this.dockTo.domNode).w,opacity:0},onEnd:g.hitch(this,function(){this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null)}),duration:this.duration}).play()):this.inherited(arguments)},
close:function(){m.emit(this.domNode,"restorefocus",{bubbles:!0});this.closeAlreadyInvoked||(this.closeAlreadyInvoked=!0,this.inherited(arguments))},show:function(){this.onTop||(this.paneOriginalPosition&&(this.domNode.style.top=this.paneOriginalPosition.y+"px",this.domNode.style.left=this.paneOriginalPosition.x+"px",this.domNode.style.width=this.paneOriginalPosition.w-b.get(this.domNode,"borderLeftWidth")-b.get(this.domNode,"borderRightWidth")+"px",this.domNode.style.height=this.paneOriginalPosition.h-
b.get(this.domNode,"borderLeftWidth")-b.get(this.domNode,"borderRightWidth")+"px"),delete this.closeAlreadyInvoked,this._isMinimized=!1,this.inherited(arguments))},onClose:function(){},resize:function(a){a||(this._naturalState=d.position(this.domNode),this._naturalState.w-=b.get(this.domNode,"borderLeftWidth")+b.get(this.domNode,"borderRightWidth"),this._naturalState.h-=b.get(this.domNode,"borderTopWidth")+b.get(this.domNode,"borderBottomWidth"));this.inherited(arguments)},minimize:function(){this._isDocked||
(this.hide(!0),this.onTop=!1,this.onMinimize())},bringToTop:function(){this._isMinimized||(this.inherited(arguments),this.onTop=!0,this.onBringToTop())},onBringToTop:function(){},onMinimize:function(){this._isMinimized=!0},forceClose:function(){this.dockable&&this.dockTo.removeItem(this);this.inherited("close",arguments)},_dock:function(){!this._isDocked&&this.dockable&&(this.dockTo.addItem(this),this._isDocked=!0)},_checkResizeConstraints:function(){var a;this._resizeHandle&&(a=g.hitch(this._resizeHandle,
this._resizeHandle._checkConstraints),this._resizeHandle._checkConstraints=function(c,e){var f,g,l,h={},m,n;f=a(c,e);g=d.position(this.targetDomNode);m=2*(b.get(this.targetDomNode,"borderTopWidth")+b.get(this.targetDomNode,"borderBottomWidth"));n=2*(b.get(this.targetDomNode,"borderLeftWidth")+b.get(this.targetDomNode,"borderRightWidth"));l=k.getBox();h.w=Math.min(f.w,Math.floor(l.w-(g.x+n)));h.h=Math.min(f.h,Math.floor(l.h-(g.y+m)));return h})}};return h([n],e)})},"dojox/layout/FloatingPane":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/touch dijit/_TemplatedMixin dijit/_Widget dijit/BackgroundIframe dijit/registry dojo/dnd/Moveable ./ContentPane ./ResizeHandle dojo/text!./resources/FloatingPane.html ./Dock".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y){h.experimental("dojox.layout.FloatingPane");return f("dojox.layout.FloatingPane",[w,r],{closable:!0,dockable:!0,resizable:!1,maxable:!1,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:z,attributeMap:a.delegate(s.prototype.attributeMap,{title:{type:"innerHTML",node:"titleNode"}}),postCreate:function(){this.inherited(arguments);
this._moveable=new v(this.domNode,{handle:this.focusNode});this.dockable||(this.dockNode.style.display="none");this.closable||(this.closeNode.style.display="none");this.maxable||(this.maxNode.style.display="none",this.restoreNode.style.display="none");this.resizable?this.domNode.style.width=n.getContentBox(this.domNode).w+"px":this.resizeHandle.style.display="none";this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new t(this.domNode);this._naturalState=n.position(this.domNode)},
startup:function(){if(!this._started){this.inherited(arguments);this.resizable&&(m("ie")?this.canvas.style.overflow="auto":this.containerNode.style.overflow="auto",this._resizeHandle=new x({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle));if(this.dockable){var b=this.dockTo;this.dockTo=this.dockTo?u.byId(this.dockTo):u.byId("dojoxGlobalFloatingDock");if(!this.dockTo){var e;b?(e=b,b=k.byId(b)):(b=p.create("div",null,g.body()),c.add(b,"dojoxFloatingDockDefault"),e="dojoxGlobalFloatingDock");
this.dockTo=new y({id:e,autoPosition:"south"},b);this.dockTo.startup()}("none"==this.domNode.style.display||"hidden"==this.domNode.style.visibility)&&this.minimize()}this.connect(this.focusNode,q.press,"bringToTop");this.connect(this.domNode,q.press,"bringToTop");e=n.getContentBox(this.domNode);this.resize(a.mixin(n.position(this.domNode),{w:e.w,h:e.h}));this._started=!0}},setTitle:function(a){h.deprecated("pane.setTitle","Use pane.set('title', someTitle)","2.0");this.set("title",a)},close:function(){this.closable&&
(b.unsubscribe(this._listener),this.hide(a.hitch(this,function(){this.destroyRecursive()})))},hide:function(c){d.fadeOut({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);c&&c()})}).play()},show:function(c){d.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:a.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility=
"visible";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);"function"==typeof c&&c();this._isDocked=!1;this._dockNode&&(this._dockNode.destroy(),this._dockNode=null)})}).play();var b=n.getContentBox(this.domNode);this.resize(a.mixin(n.position(this.domNode),{w:b.w,h:b.h}));this._onShow()},minimize:function(){this._isDocked||this.hide(a.hitch(this,"_dock"))},maximize:function(){this._maximized||(this._naturalState=n.position(this.domNode),this._isDocked&&(this.show(),setTimeout(a.hitch(this,
"maximize"),this.duration)),c.add(this.focusNode,"floatingPaneMaximized"),this.resize(e.getBox()),this._maximized=!0)},_restore:function(){this._maximized&&(this.resize(this._naturalState),c.remove(this.focusNode,"floatingPaneMaximized"),this._maximized=!1)},_dock:function(){!this._isDocked&&this.dockable&&(this._dockNode=this.dockTo.addNode(this),this._isDocked=!0)},resize:function(a){this._naturalState=a=a||this._naturalState;var c=this.domNode.style;"t"in a?c.top=a.t+"px":"y"in a&&(c.top=a.y+"px");
"l"in a?c.left=a.l+"px":"x"in a&&(c.left=a.x+"px");c.width=a.w+"px";c.height=a.h+"px";a={l:0,t:0,w:a.w,h:a.h-this.focusNode.offsetHeight};n.setMarginBox(this.canvas,a);this._checkIfSingleChild();this._singleChild&&this._singleChild.resize&&this._singleChild.resize(a)},bringToTop:function(){var a=l.filter(this._allFPs,function(a){return a!==this},this);a.sort(function(a,c){return a.domNode.style.zIndex-c.domNode.style.zIndex});a.push(this);l.forEach(a,function(a,b){a.domNode.style.zIndex=this._startZ+
2*b;c.remove(a.domNode,"dojoxFloatingPaneFg")},this);c.add(this.domNode,"dojoxFloatingPaneFg")},destroy:function(){this._allFPs.splice(l.indexOf(this._allFPs,this),1);this._resizeHandle&&this._resizeHandle.destroy();this.inherited(arguments)}})})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(h,a,g,f,d){return d("dojox.layout.ContentPane",g,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,
executeScripts:!0,scriptHasHooks:!1,ioMethod:a.get,ioArgs:{},onExecError:function(a){},_setContent:function(a){var d=this._contentSetter;d&&d instanceof f._ContentSetter||(d=this._contentSetter=new f._ContentSetter({node:this.containerNode,_onError:h.hitch(this,this._onError),onContentError:h.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&
(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments)},destroy:function(){var a=this._contentSetter;a&&a.tearDown();this.inherited(arguments)}})})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){var p=d.getObject("dojox.html",!0);if(m("ie"))var q=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var r=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,s=p._adjustCssPaths=function(a,c){if(c&&a)return q&&(c=c.replace(q,function(c,b,d,f,k){return b+(new e(a,"./"+f)).toString()+k})),c.replace(r,function(c,b,d,f,k,g){return d?'@import "'+(new e(a,"./"+d)).toString()+
'"'+g:"url("+(new e(a,"./"+k)).toString()+")"+g})},t=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,u=p._adjustHtmlPaths=function(a,c){var b=a||"./";return c.replace(t,function(a,c,d,f,k,g,l,h){return c+(d?d+"\x3d"+f+(new e(b,k)).toString()+f:"style\x3d"+g+s(b,l)+g)+h})},v=p._snarfStyles=function(a,c,b){b.attributes=[];c=c.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return c.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(c,e,d,f,k,g){c=(e||f||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");d?d=b.push(a?s(a,d):d):(d=b.push('@import "'+g+'";'),c=c.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(c){c=c.split(/\s+/);g={};f=0;for(k=c.length;f<k;f++)e=c[f].split("\x3d"),g[e[0]]=e[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");b.attributes[d-1]=g}return""})},w=p._snarfScripts=
function(a,c){function b(a){c.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==c.charAt(0)?String.fromCharCode(c.substring(1)):"\x26"+c+";"}}),k.get({url:a,sync:!0,load:function(a){""!==c.code&&(a="\n"+a);c.code+=a+";"},error:c.errBack}))}c.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,e,d,f){d?b(d):(""!==c.code&&(f="\n"+f),c.code+=f+";");return""})},x=p.evalInGlobal=function(a,c){c=c||n.doc.body;var b=c.ownerDocument.createElement("script");b.type="text/javascript";c.appendChild(b);b.text=a};p._ContentSetter=h(f._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var c,b,e,d=this.node.ownerDocument,f=d.getElementsByTagName("head")[0],k=0,g=a.length;k<
g;k++){e=a[k];b=a.attributes[k];c=d.createElement("style");c.setAttribute("type","text/css");for(var l in b)c.setAttribute(l,b[l]);this._styleNodes.push(c);f.appendChild(c);c.styleSheet?c.styleSheet.cssText=e:c.appendChild(d.createTextNode(e))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,c=this._styles;this._code=null;if(b.isString(a)){this.adjustPaths&&this.referencePath&&(a=u(this.referencePath,a));
if(this.renderStyles||this.cleanContent)a=v(this.referencePath,a,c);if(this.executeScripts){var e=this,c={downloadRemote:!0,errBack:function(a){e._onError.call(e,"Exec",'Error downloading remote script in "'+e.id+'"',a)}},a=w(a,c);this._code=c.code}}this.content=a},onEnd:function(){var e=this._code,d=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)g.destroy(this._styleNodes.pop());this.renderStyles&&(d&&d.length)&&this._renderStyles(d);var f=new a,k=this.getInherited(arguments),
h=arguments,d=b.hitch(this,function(){k.apply(this,h);c(this.parseDeferred,function(){f.resolve()})});if(this.executeScripts&&e){this.cleanContent&&(e=e.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(e=e.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{x(e,this.node)}catch(m){this._onError("Exec","Error eval script in "+this.id+", "+m.message,m)}l(d)}else d();return f.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&
this._styleNodes.length)for(;this._styleNodes.length;)g.destroy(this._styleNodes.pop());delete this._styleNodes;b.mixin(this,p._ContentSetter.prototype)}});p.set=function(a,c,e){return e?(new p._ContentSetter(b.mixin(e,{content:c,node:a}))).set():f._setNodeContent(a,c,!0)};return p})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/declare dojo/touch dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){h.experimental("dojox.layout.ResizeHandle");var u=p("dojox.layout._ResizeHelper",s,{show:function(){n.set(this.domNode,"display","")},hide:function(){n.set(this.domNode,"display","none")},resize:function(a){c.setMarginBox(this.domNode,a)}});return p("dojox.layout.ResizeHandle",[s,t],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,q.press,"_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=r.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new u({id:"dojoxGlobalResizeHelper"})).placeAt(l.body()),
k.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var c=a.partial(k.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;c("dojoxResizeNW");break;case "x":this._resizeX=!0;c("dojoxResizeW");break;case "y":this._resizeY=!0,c("dojoxResizeN")}},_beginSizing:function(a){if(!this._isSizing&&
(g.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=r.byId(this.targetId))?this.targetWidget.domNode:e.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var b=c.position(this.targetDomNode,!0);this._resizeHelper.resize({l:b.x,t:b.y,w:b.w,h:b.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:b.x,t:b.y})}this._isSizing=!0;this.startPoint={x:a.clientX,y:a.clientY};
var b=n.getComputedStyle(this.targetDomNode),f="border-model"===c.boxModel?{w:0,h:0}:c.getPadBorderExtents(this.targetDomNode,b),k=c.getMarginExtents(this.targetDomNode,b);this.startSize={w:n.get(this.targetDomNode,"width",b),h:n.get(this.targetDomNode,"height",b),pbw:f.w,pbh:f.h,mw:k.w,mh:k.h};!this.isLeftToRight()&&"absolute"==n.get(this.targetDomNode,"position")&&(b=c.position(this.targetDomNode,!0),this.startPosition={l:b.x,t:b.y});this._pconnects=[g.connect(l.doc,q.move,this,"_updateSizing"),
g.connect(l.doc,q.release,this,"_endSizing")];d.stop(a)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var c=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===c)return;this._resizeHelper.resize(c)}a.preventDefault()},_getNewCoords:function(a,c,b){try{if(!a.clientX||!a.clientY)return!1}catch(e){return!1}this._activeResizeLastEvent=a;var d=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),f=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
d:0);f=this._checkConstraints(a,this.startSize.h-(this._resizeY?f:0));if((b=b||this.startPosition)&&this._resizeX)f.l=b.l+d,f.w!=a&&(f.l+=a-f.w),f.t=b.t;switch(c){case "margin":f.w+=this.startSize.mw;f.h+=this.startSize.mh;break;case "border":f.w+=this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,c){if(this.minSize){var b=this.minSize;a<b.w&&(a=b.w);c<b.h&&(c=b.h)}this.constrainMax&&this.maxSize&&(b=this.maxSize,a>b.w&&(a=b.w),c>b.h&&(c=b.h));if(this.fixedAspect){var b=
this.startSize.w,e=this.startSize.h,d=b*c-e*a;0>d?a=c*b/e:0<d&&(c=a*e/b)}return{w:a,h:c}},_changeSizing:function(c){var e=this.targetWidget&&a.isFunction(this.targetWidget.resize),d=this._getNewCoords(c,e&&"margin");if(!1!==d&&(e?this.targetWidget.resize(d):this.animateSizing?m[this.animateMethod]([b.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:d.w}},duration:this.animateDuration}),b.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,
end:d.h}},duration:this.animateDuration})]).play():n.set(this.targetDomNode,{width:d.w+"px",height:d.h+"px"}),this.intermediateChanges))this.onResize(c)},_endSizing:function(c){f.forEach(this._pconnects,g.disconnect);var b=a.partial(g.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(c),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(c)},onResize:function(a){}})})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){g.isAsync||k(0,function(){c(["./fx/Toggler"])});g=g.fx={};k={_fire:function(a,c){this[a]&&this[a].apply(this,c||[]);return this}};var n=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;f.forEach(this._animations,function(a){a&&("undefined"!=typeof a.duration&&(this.duration+=a.duration),a.delay&&(this.duration+=a.delay))},this)};n.prototype=new a;h.extend(n,{_onAnimate:function(){this._fire("onAnimate",
arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=d.after(this._current,"onAnimate",h.hitch(this,"_onAnimate"),!0),this._onEndCtx=d.after(this._current,"onEnd",h.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,c){this._current||(this._current=this._animations[this._index=0]);if(!c&&"playing"==
this._current.status())return this;var b=d.after(this._current,"beforeBegin",h.hitch(this,function(){this._fire("beforeBegin")}),!0),e=d.after(this._current,"onBegin",h.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),f=d.after(this._current,"onPlay",h.hitch(this,function(a){this._fire("onPlay",arguments);b.remove();e.remove();f.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=d.after(this._current,"onAnimate",h.hitch(this,"_onAnimate"),!0);this._onEndCtx&&
this._onEndCtx.remove();this._onEndCtx=d.after(this._current,"onEnd",h.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=d.after(this._current,"onPause",h.hitch(this,function(c){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,c){this.pause();var b=this.duration*a;this._current=null;f.some(this._animations,function(a,c){if(b<=a.duration)return this._current=a,this._index=
c,!0;b-=a.duration;return!1},this);this._current&&this._current.gotoPercent(b/this._current.duration);c&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var c=d.after(this._current,"onStop",h.hitch(this,function(a){this._fire("onStop",arguments);c.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():
"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});h.extend(n,k);g.chain=function(a){return new n(h.isArray(a)?a:Array.prototype.slice.call(a,0))};var p=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;f.forEach(a,function(a){var c=a.duration;a.delay&&(c+=a.delay);this.duration<c&&(this.duration=c);this._connects.push(d.after(a,"onEnd",h.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=
new b.Animation({curve:[0,1],duration:this.duration});var c=this;f.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){c._connects.push(d.after(c._pseudoAnimation,a,function(){c._fire(a,arguments)},!0))})};h.extend(p,{_doAction:function(a,c){f.forEach(this._animations,function(b){b[a].apply(b,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,c){var b=this._pseudoAnimation;b[a].apply(b,c)},play:function(a,
c){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,c){var b=this.duration*a;f.forEach(this._animations,function(a){a.gotoPercent(a.duration<b?1:b/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},
destroy:function(){this.stop();f.forEach(this._connects,function(a){a.remove()})}});h.extend(p,k);g.combine=function(a){return new p(h.isArray(a)?a:Array.prototype.slice.call(a,0))};g.wipeIn=function(a){var c=a.node=l.byId(a.node),e=c.style,f;a=b.animateProperty(h.mixin({properties:{height:{start:function(){f=e.overflow;e.overflow="hidden";if("hidden"==e.visibility||"none"==e.display)return e.height="1px",e.display="",e.visibility="",1;var a=m.get(c,"height");return Math.max(a,1)},end:function(){return c.scrollHeight}}}},
a));var k=function(){e.height="auto";e.overflow=f};d.after(a,"onStop",k,!0);d.after(a,"onEnd",k,!0);return a};g.wipeOut=function(a){var c=(a.node=l.byId(a.node)).style,e;a=b.animateProperty(h.mixin({properties:{height:{end:1}}},a));d.after(a,"beforeBegin",function(){e=c.overflow;c.overflow="hidden";c.display=""},!0);var f=function(){c.overflow=e;c.height="auto";c.display="none"};d.after(a,"onStop",f,!0);d.after(a,"onEnd",f,!0);return a};g.slideTo=function(a){var c=null,f=null,k=function(a){return function(){var b=
m.getComputedStyle(a),d=b.position;c="absolute"==d?a.offsetTop:parseInt(b.top)||0;f="absolute"==d?a.offsetLeft:parseInt(b.left)||0;"absolute"!=d&&"relative"!=d&&(b=e.position(a,!0),c=b.y,f=b.x,a.style.position="absolute",a.style.top=c+"px",a.style.left=f+"px")}}(a.node=l.byId(a.node));k();a=b.animateProperty(h.mixin({properties:{top:a.top||0,left:a.left||0}},a));d.after(a,"beforeBegin",k,!0);return a};return g})},"dojox/layout/Dock":function(){define("dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/on dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){a=g("dojox.layout.Dock",[q,p],{templateString:'\x3cdiv class\x3d"dojoxDock"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"dojoxDockList"\x3e\x3c/ul\x3e\x3c/div\x3e',_docked:[],_inPositioning:!1,autoPosition:!1,addNode:function(a){var c=n.create("li",null,this.containerNode);a=new r({title:a.title,paneRef:a},c);a.startup();return a},startup:function(){if("dojoxGlobalFloatingDock"==this.id||this.isFixedDock)this.own(d(window,"resize",h.hitch(this,
"_positionDock")),d(window,"scroll",h.hitch(this,"_positionDock"))),l("ie")&&this.own(d(this.domNode,"resize",h.hitch(this,"_positionDock")));this._positionDock(null);this.inherited(arguments)},_positionDock:function(a){this._inPositioning||"south"==this.autoPosition&&this.defer(function(){this._inPositiononing=!0;var a=m.getBox(),c=this.domNode.style;c.left=a.l+"px";c.width=a.w-2+"px";c.top=a.h+a.t-this.domNode.offsetHeight+"px";this._inPositioning=!1},125)}});var r=g("dojox.layout._DockNode",[q,
p],{title:"",paneRef:null,templateString:'\x3cli data-dojo-attach-event\x3d"onclick: restore" class\x3d"dojoxDockNode"\x3e\x3cspan data-dojo-attach-point\x3d"restoreNode" class\x3d"dojoxDockRestoreButton" data-dojo-attach-event\x3d"onclick: restore"\x3e\x3c/span\x3e\x3cspan class\x3d"dojoxDockTitleNode" data-dojo-attach-point\x3d"titleNode"\x3e${title}\x3c/span\x3e\x3c/li\x3e',restore:function(){this.paneRef.show();this.paneRef.bringToTop();this.destroy()}});return a})},"MW/uiframework/MnemonicsStates":function(){define(["dojo/dom-class",
"MW/uiframework/FocusManager"],function(h,a){return{_currentMnemonicsState:void 0,_toolstrip:void 0,NULL_NULL:1,NULL_CONTROL:2,NULL_TAB:3,CONTROL_TAB:4,TAB_TAB:5,getCurrentMnemonicsState:function(){return this._currentMnemonicsState},setCurrentMnemonicsState:function(a,f){this._currentMnemonicsState=a;("undefined"!==typeof f?f:1)&&this._manageToolstripFocus(a)},setToolstrip:function(a){this._toolstrip=a},_manageToolstripFocus:function(g){g===this.NULL_NULL?a.refuseFocus(this._toolstrip.domNode):a.temporaryFocus(this._toolstrip.domNode);
h.toggle(document.body,"mnemonicsMode",g!==this.NULL_NULL)}}})},"MW/uiframework/FocusManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/query dijit/popup dijit/registry".split(" "),function(h,a,g,f,d,b,l,m){var e=function(a){for(;a;){if(a.getAttribute&&"refuse"===a.getAttribute("data-focus")||"refuse"===f.get(a,"data-focus"))return!0;a=a.parentNode}return!1},k=function(a){for(;a;){if("temporary"===f.get(a,"data-focus"))return!0;a=a.parentNode}return!1},
c=function(a){for(var c=b("[data-tag\x3d'motwToolstrip.figureTab.menuAndToolbars.menubarWrapper']"),c=0<c.length?c[0]:null;a&&!("accept"===f.get(a,"data-focus")||c&&g.isDescendant(a,c));){if("refuse"===f.get(a,"data-focus"))return!1;a=a.parentNode}return!0},n=null,p=null,q=null,r=h(null,{_restoreFocusToLastNonRefuseElementHandler:function(){r.restoreToLastNonRefuseElement()},_restoreFocusHandler:function(){r.restoreFocus()},_blurHandler:function(){r._windowBlurred=!0},_mouseDownHandler:function(a){!k(a.target)&&
!c(a.target)&&(e(a.target)?setTimeout(function(){0===l._stack.length&&(m.getEnclosingWidget(p)&&m.getEnclosingWidget(p).set("focused",!0),p&&p.focus())},0):0<l._stack.length?setTimeout(function(){p&&p.focus()},0):p=a.target)},_focusHandler:function(a){if("IFRAME"!==a.target.tagName)if(!0===r._windowBlurred)r._windowBlurred=!1,r.restoreFocus();else if(n=a.target,!e(n)&&!k(n)&&(q=a.target),!(n.getAttribute&&"temporary"===n.getAttribute("data-focus")||"temporary"===f.get(n,"data-focus"))&&!k(n))c(n)?
a.target!==document.body&&(p=a.target):e(n)?p?setTimeout(function(){var c;if(!(c=0===l._stack.length&&p))a:{for(c=a.target;c;){if(d.contains(c,"dijitPopup")){c=!0;break a}c=c.parentNode}c=!1}c&&p.focus()},0):document.activeElement.blur():a.target!==document.body&&(p=a.target)},_closeHandler:function(a){a.target.contains(document.activeElement)&&p&&p.focus()},constructor:function(a,c){r._instantiated=!0;c&&r.refuseFocus(c.domNode);document.addEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);
document.addEventListener("restorefocus",this._restoreFocusHandler);window.addEventListener("blur",this._blurHandler);window.addEventListener("focus",this._focusHandler,!0);document.addEventListener("mousedown",this._mouseDownHandler,!0);document.addEventListener("close",this._closeHandler,!0);document.body.classList.add("mwHasFocusManager")},destroy:function(){document.removeEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);document.removeEventListener("restorefocus",
this._restoreFocusHandler);window.removeEventListener("blur",this._blurHandler);window.removeEventListener("focus",this._focusHandler,!0);document.removeEventListener("mousedown",this._mouseDownHandler,!0);document.body.classList.remove("mwHasFocusManager")}});r.refuseFocus=function(a){a.setAttribute("data-focus","refuse")};r.acceptFocus=function(a){a.setAttribute("data-focus","accept")};r.temporaryFocus=function(a){a.setAttribute("data-focus","temporary")};r.restoreFocus=function(a){a?p.focus():
setTimeout(function(){p&&p.focus()},0)};r.restoreToLastNonRefuseElement=function(){setTimeout(a.hitch(this,function(){q&&q.focus()},0))};r.isAvailable=function(){return!0===r._instantiated?!0:!1};return r})},"MW/toolstrip/widgets/QAB":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAB.html ./_WidgetMixin dojo/aspect".split(" "),function(h,a,g,f,d,b,l){return h([a,g,f,b],{templateString:d,constructor:function(){this.own(l.before(this,
"addChild",function(a,b){var d=0;0<=b&&(d=b);return[a,d]}),l.after(this,"addChild",function(){this.refresh()}),l.after(this,"removeChild",function(){this.refresh()}))},postCreate:function(){this.inherited(arguments);this.refresh()},refresh:function(){this.showHideQAB();this.showHideQAGroups();this.showHideSeparators()},showHideQAB:function(){var a=0;this.getChildren().forEach(function(b){a+=b.getChildren().length});this.domNode.style.display=0===a?"none":"block"},showHideQAGroups:function(){this.getChildren().forEach(function(a){0===
a.getChildren().length?a.domNode.style.display="none":a.domNode.style.display="inline-block"},this)},showHideSeparators:function(){this.getChildren().forEach(function(a,b){this._isFirstVisibleQAGroup(a,b)?a.separatorNode.style.display="none":a.separatorNode.style.display="inline-block"},this)},_isFirstVisibleQAGroup:function(a,b){var d=this.getChildren(),c,f=!1;c=0;if(0===b)return!0;for(;c<=b-1;)"none"===d[c].domNode.style.display&&(f=!0),c+=1;return f},restoreFactoryControls:function(){}})})},"MW/toolstrip/widgets/QAGroup":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAGroup.html ./_WidgetMixin ./_ChildrenWrapperMixin ../utils/DragSorter dojo/aspect".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return h([g,f,d,l,m],{templateString:b,constructor:function(){var a=this;this.own(k.before(this,"addChild",function(a,c){var b=0;0<=c&&(b=c);return[a,b]}),k.after(this,"addChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}),k.after(this,"removeChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}))},postCreate:function(){this.inherited(arguments);this.enableQABCustomization&&(this._dragSorter=new e({containerNode:this.containerNode}),
this._dragSorter.on("nodemoved",a.hitch(this,function(a){this.itemMoved({itemId:this.getChildren()[a.oldIndex].id,newIndex:a.newIndex})})))},destroy:function(){this.enableQABCustomization&&this._dragSorter.destroy();this.inherited(arguments)},itemMoved:function(){}})})},"MW/toolstrip/widgets/_ChildrenWrapperMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(h,a){return h(null,{constructor:function(){this._wrappers={};this._childrenWidgets=[]},addChild:function(g,f){var d=
a.create("div",{id:g.id+"_wrapper","class":"toolstripComponentWrapper"},this.containerNode,f);0<=f?this._childrenWidgets.splice(f,0,g):this._childrenWidgets.push(g);this.own(g);a.place(g.domNode,d);this._started&&!g._started&&g.startup();this._wrappers[g.id]=d},removeChild:function(g){var f,d=this._wrappers[g.id];this._childrenWidgets.forEach(function(a,d){g.id===a.id&&(f=d)});this._childrenWidgets.splice(f,1);d&&(g.domNode&&d.removeChild(g.domNode),a.destroy(d),delete this._wrappers[g.id])},getChildren:function(){return this._childrenWidgets}})})},
"MW/toolstrip/utils/DragSorter":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/Evented dojo/dom-construct dojo/dom-geometry".split(" "),function(h,a,g,f,d,b,l){var m=["-webkit-","-moz-","-ms-",""];return h([d],{constructor:function(e){if(void 0===e.containerNode||1!==e.containerNode.nodeType)throw Error("A containerNode needs to be provided and it should be a DOM Node!");this._dragSorterContainerNode=e.containerNode;this._currentTarget=null;this._previousPageX=0;this._dragSorterContainerNode.classList.add("mwDragSortContainer");
this._dragSortOverlay=b.create("div",{"class":"mwDragSortContainerOverlay"},document.body);this._mouseDownListenerHandle=g(this._dragSorterContainerNode,"mousedown",a.hitch(this,this._mouseDownListener));this._mouseUpListenerHandle=g(window,"mouseup",a.hitch(this,this._mouseUpListener))},_mouseDownListener:function(b){if(f.isLeft(b)&&(this._currentTarget=this._getAncestorWhichIsADirectChildOfContainerNode(b.target),null!==this._currentTarget&&1<this._dragSorterContainerNode.children.length)){var d=
l.position(this._currentTarget);this._mouseMoveListenerHandle=g(document.body,"mousemove",a.hitch(this,this._mouseMoveListener,{index:this._getIndexOfNode(this._currentTarget),position:d,leftOffset:b.pageX-d.x,rightOffset:d.x+d.w-b.pageX,mouseDownCoords:{x:b.pageX,y:b.pageY}}));this._windowSelectStartHandle=g(window,"selectstart",function(a){a.preventDefault()})}},_mouseMoveListener:function(a,b){if(!(5>=Math.abs(a.mouseDownCoords.x-b.pageX)&&5>=Math.abs(a.mouseDownCoords.y-b.pageY))){this._mouseMoveHappened=
!0;var c=l.position(this._dragSorterContainerNode),d=l.getPadBorderExtents(this._dragSorterContainerNode),f=c.x+a.leftOffset+d.l,d=c.x+c.w-a.rightOffset-d.r,g=b.pageX,c=null;this._currentTarget.classList.add("mwDragTarget");document.body.classList.add("mwDragging");g<f?g=f:g>d&&(g=d);this._currentTarget.style.left=g-a.position.x-a.leftOffset+"px";c=b.pageX>this._previousPageX?"r":"l";this._previousPageX=b.pageX;f=this._findNodesOnEitherSide(c);for(d=0;d<this._dragSorterContainerNode.children.length;d++)if(g=
this._dragSorterContainerNode.children[d],g!==this._currentTarget){var h=l.position(g),m=l.position(this._currentTarget);"r"===c?d>=a.index?m.x+m.w>=h.x+h.w/2&&this._applyTranslateX(g,-m.w):-1<f.left.indexOf(g)&&"0"!==g.getAttribute("data-translated")&&this._applyTranslateX(g,0):"l"===c&&(d<=a.index?m.x<=h.x+h.w/2&&this._applyTranslateX(g,m.w):-1<f.right.indexOf(g)&&"0"!==g.getAttribute("data-translated")&&this._applyTranslateX(g,0))}}},_mouseUpListener:function(){this._mouseMoveListenerHandle&&this._mouseMoveListenerHandle.remove();
this._windowSelectStartHandle&&this._windowSelectStartHandle.remove();if(this._mouseMoveHappened){if(null!==this._currentTarget){var a=this._getIndexOfNode(this._currentTarget);this._moveCurrentTargetToNewLocation();this._currentTarget.style.left="";this._currentTarget.classList.remove("mwDragTarget");document.body.classList.remove("mwDragging");this._resetAllSiblingTranslateX();this.emit("nodemoved",{node:this._currentTarget,oldIndex:a,newIndex:this._getIndexOfNode(this._currentTarget)});this._currentTarget=
null}this._mouseMoveHappened=!1}},_findNodesOnEitherSide:function(a){var b={left:[],right:[]},c=l.position(this._dragSorterContainerNode),d=l.getPadBorderExtents(this._dragSorterContainerNode),f=l.position(this._currentTarget);2>=f.x-c.x-d.l?b.right=this._getCurrentTargetSiblings():2>=c.x+c.w-f.x-f.w-d.l?b.left=this._getCurrentTargetSiblings():this._getCurrentTargetSiblings().forEach(function(c){var d=l.position(c);("l"===a?f.x:f.x+f.w)>=d.x+d.w/2?b.left.push(c):b.right.push(c)});return b},_getIndexOfNode:function(a){return Array.prototype.indexOf.call(this._dragSorterContainerNode.children,
a)},_getCurrentTargetSiblings:function(){return[].slice.call(this._dragSorterContainerNode.children).filter(function(a){return a!==this._currentTarget},this)},_getAncestorWhichIsADirectChildOfContainerNode:function(a){var b=null;if(a!==this._dragSorterContainerNode)for(b=a;b.parentNode!==this._dragSorterContainerNode;)b=b.parentNode;return b},_moveCurrentTargetToNewLocation:function(){var a=null,d=l.position(this._dragSorterContainerNode),c=l.getPadBorderExtents(this._dragSorterContainerNode),f=l.position(this._currentTarget),
g=f.x-(d.x+c.l),d=g;this._getCurrentTargetSiblings().forEach(function(c){var b=l.position(c),b=Math.abs(f.x-(b.x+b.w));b<g&&(a=c,g=b)});g===d?b.place(this._currentTarget,this._dragSorterContainerNode,"first"):b.place(this._currentTarget,a,"after")},_applyTranslateX:function(a,b){a.setAttribute("data-translated",b);m.forEach(function(c){a.style[c+"transform"]="translate("+b+"px, 0)"})},_resetAllSiblingTranslateX:function(){this._getCurrentTargetSiblings().forEach(function(a){a.classList.add("mwNoTransition");
this._applyTranslateX(a,0);a.offsetHeight;a.classList.remove("mwNoTransition")},this)},destroy:function(){this._mouseDownListenerHandle.remove();this._mouseUpListenerHandle.remove();this._dragSorterContainerNode.classList.remove("mwDragSortContainer");b.destroy(this._dragSortOverlay)}})})},"MW/toolstrip/widgets/TabGroup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/TabGroup.html dijit/_Contained dijit/registry ./_WidgetMixin".split(" "),function(h,
a,g,f,d,b,l){return h([a,g,d,l],{templateString:f,constructor:function(){this.tabs=[]},addChild:function(a,b){var d=0,c=null,f,g=0,l,h;!b&&0!==b&&(b=this.tabs.length);this.tabs.splice(b,0,a);if(f=this.getParent()){h=f.getChildren();for(l=h.length;g<l;){if(this===h[g]){0<=b&&(c=d+b);break}d+=h[g].tabs.length;g+=1}f.addTab(a,c)}this.emit("childadded")},removeChild:function(a){var b=this.getParent(),d;d=this.tabs.indexOf(a);-1<d&&this.tabs.splice(d,1);0===this.tabs.length&&this.set("selectedTab","");
b&&b.removeTab(a);this.emit("childremoved")},_setSelectedTabAttr:function(a){var e=this.getParent(),d=b.byId(a);e&&a&&(e.selectTab(d),e.getChildren().forEach(function(a){a!==this&&a.set("selectedTab","")},this));this._set("selectedTab",a)}})})},"MW/toolstrip/widgets/Tab":function(){define("dojo/_base/declare dojo/dom-construct dijit/layout/ContentPane dijit/registry dojo/query dojo/dom-geometry MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(h,a,
g,f,d,b,l,m){return h([g,l,m],{constructor:function(){this["class"]="tabContentPane"},postCreate:function(){this.containerNode=a.create("span",{"class":"sectionContainer"},this.domNode)},resize:function(){if(!this.getParent().getParent()._ignoreResize){this.inherited(arguments);var a,d,c,f,g,l,h,m=0;if(!this._destroyed)if(this.inherited(arguments),l=this._getAllDescendantGalleries(),h=l.length,d=this.getChildren(),c=d.length,d.sort(function(a,c){var b=0;a.collapsePriority>c.collapsePriority?b=-1:
a.collapsePriority<c.collapsePriority&&(b=1);return b}),f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,g<f){for(a=h-1;0<=a;){for(;g<f;){if(!l[a].shrink()){m+=1;break}f=this._getWidthOfAllSections();g=b.position(this.domNode).w}a-=1}if(m===h){for(a=c-1;0<=a&&g<f;)d[a].hideDescendantLabels(),f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,a-=1;for(a=c-1;0<=a&&g<f;)d[a].collapse(),f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,a-=1}}else{for(a=0;a<c&&g>f;){d[a].expand();
f=this._getWidthOfAllSections();g=b.position(this.domNode).w;if(g<f){d[a].collapse();break}a+=1}for(a=0;a<c&&g>f;){d[a].showDescendantLabels();f=this._getWidthOfAllSections();g=b.position(this.domNode).w;if(g<f){d[a].hideDescendantLabels();break}a+=1}if(a===c){l=this._getAllDescendantGalleries();h=l.length;for(a=0;a<h;){for(;g>f;)if(l[a].grow()){if(f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,g<f){l[a].shrink();break}}else break;a+=1}}}}},_getAllDescendantGalleries:function(){return d(".gallery",
this.domNode).map(function(a){return f.byNode(a)})},_getWidthOfAllSections:function(){var a,d,c,f=0;a=this.getChildren();d=a.length;for(c=0;c<d;c++)f+=b.position(a[c].domNode).w;return f+20}})})},"MW/toolstrip/mixins/property/RemovableMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_removable:!1,_removeMessage:"",_getRemovableAttr:function(){return this.get("_removable")},_setRemovableAttr:function(a){if("boolean"!==typeof a)throw Error("'removable' property expected a boolean value.");
this._set("_removable",a)},_getRemoveMessageAttr:function(){return this.get("_removeMessage")},_setRemoveMessageAttr:function(a){if("string"!==typeof a)throw Error("'_removeMessage' property expected a string value.");this._set("_removeMessage",a)},_emitRemoveEvent:function(){this.emit("remove");this.remove()},remove:function(){}})})},"MW/toolstrip/widgets/Section":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Section.html ./_WidgetMixin MW/toolstrip/form/SectionDropDownButton ./SectionPopup mw-mixins/ResizeMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){var q=["PushButton","DropDownButton","SplitButton","ToggleButton","ToggleSplitButton"];return h([b,l,m,k,p],{templateString:e,constructor:function(){this._isCollapsed=!1},_createSectionPopup:function(){this._sectionPopup=new n;this.own(this._sectionPopup);this._sectionDropDownButton=new c({menu:this._sectionPopup,label:this.get("title")});this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1");this.own(this._sectionDropDownButton);this.own(g.after(this._sectionDropDownButton,
"openDropDown",a.hitch(this,function(){})));this.own(g.after(this._sectionDropDownButton,"closeDropDown",a.hitch(this,function(){this.emit("restorefocus")})));this._sectionPopup.domNode.setAttribute("data-focus","temporary");this._sectionDropDownButton.placeAt(this.sectionDropDownContainer);this._sectionDropDownButton.startup();this._sectionDropDownButton.set("text",this.title)},_setTitleAttr:function(a){this.titleNode.textContent=a;this._sectionDropDownButton&&this._sectionDropDownButton.set("label",
a);this._set("title",a)},collapse:function(){this._sectionPopup||this._createSectionPopup();var a;this._isCollapsed||-1===this.collapsePriority?a=!1:(this._isCollapsed=a=!0,this.sectionWrapper.style.display="none",this.sectionDropDownContainer.style.display="inline-block",f.place(this.columnContainerWrapper,this._sectionDropDownButton.menu.domNode),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1"));return a},expand:function(){var a;this._isCollapsed?(a=!0,this._isCollapsed=!1,this.sectionWrapper.style.display=
"inline-block",this.sectionDropDownContainer.style.display="none",f.place(this.columnContainerWrapper,this.sectionWrapper,"first"),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","0")):a=!1;return a},showDescendantLabels:function(){this.domNode.classList.remove("mwHideDescendantLabels");this._updateDescendantTitle(!0)},hideDescendantLabels:function(){this.domNode.classList.add("mwHideDescendantLabels");this._updateDescendantTitle(!1)},getPopup:function(){return this._sectionPopup},closePopup:function(){this.isPopupOpen()&&
this._sectionDropDownButton.closeMenu()},addChild:function(a){this.inherited(arguments);"Column"===a.type&&a.updateChildrenOrientations()},isPopupOpen:function(){return!this._sectionPopup?!1:this._sectionDropDownButton.menu.domNode.parentNode&&"none"!==this._sectionDropDownButton.menu.domNode.parentNode.style.display},_updateDescendantTitle:function(c){var b,e;q.forEach(a.hitch(this,function(a){e=this.domNode.querySelectorAll("[data-type\x3d"+a+"]");for(b=0;b<e.length;++b)a=d.getEnclosingWidget(e[b]),
"Horizontal"===a.orientation&&(c?a._updateTitle(a.get("description")):a._updateTitle(a.get("text")))}))}})})},"MW/toolstrip/form/SectionDropDownButton":function(){define("dojo/_base/declare MW/toolstrip/form/DropDownButton ../mixins/property/IconOverrideMixin ../mixins/property/OrientationMixin ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/property/ShortcutMixin ../mixins/property/MenuIdMixin mw-mixins/mixinDependencyValidator".split(" "),function(h,a,g,f,d,b,l,m,e){return h(e.validate([a,
g,f,d,b,l,m]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionDropDownButton",type:"SectionDropDownButton",minWidth:38,orientation:"Vertical",verticalHeight:92,doNotSize:!0,postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},_setLabelAttr:function(a){if("string"!==typeof a)throw Error("'label' property must be of type string.");this.set("text",a);this.focusNode.setAttribute("title",a)},_setDescriptionAttr:function(){},_setShortcutAttr:function(){},_setPlatformizeShortcutAttr:function(){},
_getLabelAttr:function(){return this.get("text")},_getTextForDOM:function(a){return a}})})},"MW/toolstrip/form/DropDownButton":function(){define("dojo/_base/declare mw-form/DropDownButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TypeMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){return h(t.validate([a,g,f,d,b,l,m,e,k,c,n,p,q,r,s]),{visualFamily:"toolstrip",minWidth:38})})},"mw-form/DropDownButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/DropDownButton.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D){return h(B.validate([a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A]),{baseClass:"mwWidget mwDropDownButton",templateString:D})})},"mw-mixins/property/ArrowModeMixin":function(){define(["dojo/_base/declare"],function(h){var a=["auto","inline","block"];return h(null,{arrowMode:"auto",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwArrowModeMixin")},_setArrowModeAttr:function(g){if("string"!==typeof g||-1===a.indexOf(g))throw Error("'arrowMode' property expects one of these values: "+
a);this.domNode.classList.add("mwArrowMode"+this._capitalize(g));a.forEach(function(a){a!==g&&this.domNode.classList.remove("mwArrowMode"+this._capitalize(a))},this);this._set("arrowMode",g)},_capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}})})},"mw-mixins/property/ValidationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(h,a,g,f,d,
b,l,m,e){var k=h([m,e],{templateString:'\x3cdiv class\x3d"mwValidationTooltipDialog"\x3e\x3cdiv class\x3d"mwArrowNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwContentsNode" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',_setTextAttr:function(a){this.textNode.textContent=a;this._set("text",
a)}}),c=["error","warning","normal"];return h(null,{warningText:"",errorText:"",validationState:"normal",_setErrorTextAttr:function(a){if("string"!==typeof a)throw Error("errorText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("errorText",a)},_setWarningTextAttr:function(a){if("string"!==typeof a)throw Error("warningText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("warningText",a)},_setValidationStateAttr:function(a){if("string"!==
typeof a)throw Error("validationState property expects a 'string'!");if(-1===c.indexOf(a.toLowerCase()))throw Error("validationState property expects the value to be 'normal', 'error' or 'warning'!");this._set("validationState",a);var b=!1,e=!1;"error"===a.toLowerCase()?(e=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("errorText"))):"warning"===a.toLowerCase()&&(b=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("warningText")));this.validationTooltip&&
(this.domNode.classList.contains("mwWidgetFocused")&&(this.validationTooltip.domNode.classList.add("mwValidationFocused"),this._placeTooltip()),e?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):(this._getDomNodeForValidationClasses().classList.remove("mwValidationError"),this.validationTooltip.domNode.classList.remove("mwErrorTooltip")),b?this.validationTooltip.domNode.classList.add("mwWarningTooltip"):this.validationTooltip.domNode.classList.remove("mwWarningTooltip"),
"normal"===a.toLowerCase()&&(this.validationTooltip.domNode.style.visibility="hidden"))},_createValidationTooltip:function(){this.validationTooltip||(this.validationTooltip=new k,this.validationTooltip.startup(),this.own(this.validationTooltip),this._addTooltipEvents())},_flipDomOrder:function(a){var c=a.children[1];d.place(a.children[0],d.place(c,a),"after");d.place(c.children[0],d.place(c.children[1],c),"after")},_tooltipOrientation:function(){return this.validationTooltip.domNode.classList.contains("mwTooltipLeft")?
"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){d.place(this.validationTooltip.domNode,l.body());var a=f.position(this.domNode),c,b,e,k,g,h,m,w=!1;c=a.x;b=a.y;e=a.w;"error"===this.validationState?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.set("text",this.errorText),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):
"warning"===this.validationState&&(this.validationTooltip.set("text",this.warningText),this.validationTooltip.domNode.classList.add("mwWarningTooltip"));this.validationTooltip.domNode.style.visibility="visible";h=f.position(this.validationTooltip.domNode).h/2;g=f.position(this.domNode).h/2;a=this.validationTooltip.domNode;m=f.position(l.body()).w;k=this._calculateTooltipWidth();var x=(document.documentElement||document.body.parentNode||document.body).scrollTop;c+e+k>m?(w=!0,c=c-k+"px",b=b+g-h+x+"px",
a.children[0].classList.contains("mwArrowNode")&&this._flipDomOrder(a)):(c=c+e+"px",b=b+g-h+x+"px");w?(this.validationTooltip.domNode.classList.add("mwTooltipLeft"),this.validationTooltip.domNode.classList.remove("mwTooltipRight")):(this.validationTooltip.domNode.classList.remove("mwTooltipLeft"),this.validationTooltip.domNode.classList.add("mwTooltipRight"));this.validationTooltip.domNode.style.left=c;this.validationTooltip.domNode.style.top=b}},_calculateTooltipWidth:function(){this.validationTooltip.domNode.classList.add("mwTooltipLeft");
var a=f.position(this.validationTooltip.domNode).w;this.validationTooltip.domNode.classList.remove("mwTooltipLeft");return a},_addTooltipEvents:function(){this.own(b(this,g.enter,a.hitch(this,function(){this._placeTooltip()})),b(this,g.leave,a.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.style.visibility="hidden")})),b(this.focusNode,"focus",a.hitch(this,function(){this._placeTooltip();this.validationTooltip&&("error"===this.get("validationState")||"warning"===this.get("validationState"))&&
this.validationTooltip.domNode.classList.add("mwValidationFocused")})),b(this.focusNode,"blur",a.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.classList.remove("mwValidationFocused"),this.validationTooltip.domNode.style.visibility="hidden")})))}})})},"mw-form/mixins/property/DropDownButtonIconAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconAlignmentMixin","mw-mixins/property/ArrowModeMixin","mw-form/mixins/property/DropDownButtonArrowModeMixin"],
function(h,a,g,f){h=h(null,{_supportedValues:["left","top"],_setIconAlignmentAttr:function(){this.inherited(arguments);this.set("arrowMode",this.get("arrowMode"))}});h._dependencies=[{mixin:a,orderDependent:!0},{mixin:g,orderDependent:!1},{mixin:f,orderDependent:!1}];return h})},"mw-form/mixins/property/DropDownButtonArrowModeMixin":function(){define(["dojo/_base/declare","mw-mixins/property/ArrowModeMixin","mw-mixins/property/TextMixin","mw-form/mixins/property/DropDownButtonTextMixin"],function(h,
a,g,f){h=h(null,{_setArrowModeAttr:function(){this.inherited(arguments);this.set("text",this.get("text"))}});h._dependencies=[{mixin:a,orderDependent:!0},{mixin:g,orderDependent:!1},{mixin:f,orderDependent:!1}];return h})},"mw-form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(h,a,g,f,d){h=h(null,{_updateTextInDOM:function(a){this.inherited(arguments);
this._placeTextAndResize(a)},_placeTextAndResize:function(b){var d=this._getPeerAndPosition();a.place(this.textNode,d.peer,d.position);this._placeTextInNode(b,this.lastTextLineNode);this.set("width",this.get("width"));this.set("height",this.get("height"))},_getPeerAndPosition:function(){var a={};this._isInline()?(a.peer=this.arrowNode,a.position="before"):(a.peer=this.iconNode,a.position="after");return a},_getSplitTextAtLastNewLineCharacter:function(a){var d={};if(this._isInline()){var f=a.lastIndexOf("\n");
0<=f?(d.mainText=a.substring(0,f),d.lastTextLine=a.substring(f+1,a.length)):"left"===this.get("iconAlignment")?(d.mainText="",d.lastTextLine=a):(d.mainText=a,d.lastTextLine="")}else d.mainText=a,d.lastTextLine="";return d},_isInline:function(){return"inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")&&"top"===this.get("iconAlignment")},_getTextForDOM:function(a,d){a=this.inherited(arguments);var f=this._getSplitTextAtLastNewLineCharacter(a);return d===this.textNode?f.mainText:d===this.lastTextLineNode?
f.lastTextLine:a}});h._dependencies=[{mixin:g,orderDependent:!0},{mixin:f,orderDependent:!1},{mixin:d,orderDependent:!1}];return h})},"mw-form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-mixins/property/SizeMixin"],function(h,a,g){h=h(null,{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,doNotSize:!1,_setSize:function(f,d){this.inherited(arguments);if(this._started&&!this.doNotSize){var b="";if("auto"!==d){var g,h,e;h=a.getMarginBox(this.get("iconNode"));
var k=a.getMarginBox(this.get("textNode"));e=a.getMarginBox(this.get("arrowNode"));b=parseFloat(this._getAdjustedSize(f,d,this.domNode));if("width"===f&&"left"===this.get("iconAlignment")&&"inline"===this.get("arrowMode"))g=h.w+e.w,b<g?(g=b/2,b/=2):(h=g/2-h.w,e=g/2-e.w,g=b/2-h,b=b/2-e),this._setDomStyles("width",g,b);else if("height"===f&&"top"===this.get("iconAlignment")&&("inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")))g=h.h+k.h+e.h+1,0>g&&(g=0),b<g?(g=b/2,b/=2):(h=g/2-h.h,e=g/
2-(k.h+e.h),g=b/2-h+1,b=b/2-e-1),this._setDomStyles("height",g,b);else if("width"===f&&"left"===this.get("iconAlignment")&&("block"===this.get("arrowMode")||"auto"===this.get("arrowMode")))g=b-e.w,b=e.w,this._setDomStyles("width",g,b);else if("height"===f&&"top"===this.get("iconAlignment")&&"block"===this.get("arrowMode"))g=b-e.h-3,b=e.h+1,this._setDomStyles("height",g,b);else if("width"===f)b=(b<this.maxWidth?b:this.maxWidth)>this.minWidth?b:this.minWidth,this._setDomStyles("width",b,b);else if("height"===
f)b=(b<this.maxHeight?b:this.maxHeight)>this.minHeight?b:this.minHeight,this._setDomStyles("height",b,b);else throw Error("Invalid property value. The size type property expects one of these values: {'width', 'height', 'auto'}");}else this.domNode.style["min"+this._capitalize(f)]=this["min"+this._capitalize(f)]+"px";this._set(f,d)}},_setDomStyles:function(a,d,b){this.buttonNode.style[a]=d+"px";this.buttonNode.style["max"+this._capitalize(a)]=d+"px";this.dropDownNode.style[a]=b+"px";this.dropDownNode.style["max"+
this._capitalize(a)]=b+"px"},_capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"MW/toolstrip/mixins/property/MnemonicMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{mnemonic:"",postCreate:function(){this.inherited(arguments);this._updateMnemonicInDOM(this.get("mnemonic"))},_setMnemonicAttr:function(a){if("string"!==typeof a)throw Error("mnemonic property expects a String!");this._started&&this._updateMnemonicInDOM(a);
this._set("mnemonic",a)},_updateMnemonicInDOM:function(a){if(0<a.length){if(a.split("").some(function(a){return 65>a.charCodeAt(0)||90<a.charCodeAt(0)}))throw Error("mnemonic property should be a String of uppercase characters!");this.focusNode.setAttribute("data-mnemonic",a)}}})})},"MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin":function(){define(["dojo/_base/declare"],function(h){var a=["all","none","horizontal","vertical"];return h(null,{mnemonicKeyNavDirection:"all",postCreate:function(){this.inherited(arguments);
this._updateMnemonicKeyNavDirectionInDOM(this.get("mnemonicKeyNavDirection"))},_setMnemonicKeyNavDirectionAttr:function(g){if(-1===a.indexOf(g))throw Error("'mnemonicKeyNavDirection' property expects one of these values: "+a);this._started&&this._updateMnemonicKeyNavDirectionInDOM(g);this._set("mnemonicKeyNavDirection",g)},_updateMnemonicKeyNavDirectionInDOM:function(a){this.focusNode.setAttribute("data-mnemonic-key-nav-direction",a)}})})},"MW/toolstrip/mixins/property/IconOverrideMixin":function(){define(["dojo/_base/declare",
"mw-mixins/property/IconMixin"],function(h,a){var g=h(null,{iconOverride:"",iconProp:"icon",postCreate:function(){this.inherited(arguments);this.set("iconOverride",this.get("iconOverride"))},_setIconOverrideAttr:function(a){if("string"!==typeof a)throw Error("'iconOverride' property expects a literal string!");this._removeOldIcon(this.get("iconOverride"));this._set("iconOverride",a);this._updateDOM(a)},_updateDOM:function(a){a=""!==this.iconOverride?this.iconOverride:this[this.iconProp]?this[this.iconProp]:
this.icon;arguments[0]=a;this.inherited(arguments)},_setIconPropAttr:function(a){this._set("iconProp",a);this._updateDOM(a)}});g._dependencies=[{mixin:a,orderDependent:!0}];return g})},"MW/toolstrip/mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this._addTextContentClass();this.set("text",this.get("text"))},_addTextContentClass:function(){(this.textNode||
this.domNode).classList.add("mwTextContent")},_getTextForDOM:function(a,g){return a},_placeTextInNode:function(a,g){g=g||this.textNode;this.textNode.setAttribute("data-text-content",this._getTextForDOM(a,g))}})})},"MW/toolstrip/mixins/property/SizeMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{postCreate:function(){this.inherited(arguments);this.height=this.width="auto"},_setHeightAttr:function(a){},_getHeightAttr:function(){return"Horizontal"===this.get("orientation")?
22:72}})})},"MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/SizeMixin"],function(h,a){var g=h(null,{_setSize:function(){}});g._dependencies=[{mixin:a,orderDependent:!0}];return g})},"MW/toolstrip/form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","MW/toolstrip/mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(h,
a,g,f){h=h(null,{_addTextContentClass:function(){},_getTextForDOM:function(a,b){var f,g,e=this._getTextNodes();if(b===e.inlineTextElement||b===e.lastTextLineElement){-1<(g=a.lastIndexOf("\n"))?(f=a.substring(0,g),g=a.substring(g+1,a.length)):(f=a,g="");if(b===e.inlineTextElement)return f;if(b===e.lastTextLineElement)return g}else return a},_placeTextInNode:function(a){this._getTextNodes().forEach(function(b){b.setAttribute("data-text-content",this._getTextForDOM(a,b))}.bind(this))},_getTextNodes:function(){var a=
[this.textLine,this.inlineTextLine,this.lastTextLine];a.textElement=a[0];a.inlineTextElement=a[1];a.lastTextLineElement=a[2];return a}});h._dependencies=[{mixin:a,orderDependent:!0},{mixin:g,orderDependent:!1},{mixin:f,orderDependent:!1}];return h})},"MW/toolstrip/mixins/property/OrientationMixin":function(){define(["dojo/_base/declare"],function(h){var a=["Horizontal","Vertical"];return h(null,{orientation:"Horizontal",horizontalHeight:22,verticalHeight:72,_setOrientationAttr:function(g){if(-1===
a.indexOf(g))throw Error("'orientation' property expects one of these values: "+a);this.domNode.classList.remove(this._getClassNameForOrientation(this.get("orientation")));this.domNode.classList.add(this._getClassNameForOrientation(g));"Horizontal"===g?this.set("iconProp","quickAccessIcon"):"Vertical"===g&&this.set("iconProp","icon");this._set("orientation",g)},_getClassNameForOrientation:function(a){return"mw"+a+"Orientation"}})})},"MW/toolstrip/mixins/property/TextOverrideMixin":function(){define(["dojo/_base/declare",
"MW/toolstrip/constants/MiscConstants","MW/toolstrip/mixins/property/TextMixin"],function(h,a,g){h=h(null,{textOverride:"",postCreate:function(){this.inherited(arguments);this.set("textOverride",this.get("textOverride"))},_setTextAttr:function(a){this.inherited(arguments);this._updateNoTextClass()},_setTextOverrideAttr:function(a){if("string"!==typeof a)throw Error("'textOverride' property expects a literal string!");this._placeTextInNode(a,void 0,"textOverride setter");this._set("textOverride",a);
this._updateNoTextClass()},_updateNoTextClass:function(){""===this.get("textOverride")&&""===this.get("text")||this.get("textOverride")===a.DO_NOT_DISPLAY?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(f,d,b){"textOverride setter"===b?f===a.DO_NOT_DISPLAY?f="":""===f&&(f=this.text):""!==this.textOverride&&(f=this.textOverride===a.DO_NOT_DISPLAY?"":this.textOverride);arguments[0]=f;arguments[1]=d;this.inherited(arguments)}});h._dependencies=
[{mixin:g,orderDependent:!0}];return h})},"MW/toolstrip/mixins/property/DescriptionOverrideMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin"],function(h,a){var g=h(null,{descriptionOverride:"",postCreate:function(){this.inherited(arguments);this.set("descriptionOverride",this.get("descriptionOverride"))},_setDescriptionOverrideAttr:function(a){if("string"!==typeof a)throw Error("'description' property expects a literal string!");this._updateDescription(a,!0);this._set("descriptionOverride",
a)},_updateDescription:function(a,d){d?""===a&&(a=this.description):""!==this.descriptionOverride&&(a=this.descriptionOverride);arguments[0]=a;this.inherited(arguments)}});g._dependencies=[{mixin:a,orderDependent:!0}];return g})},"MW/toolstrip/mixins/property/TypeMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{type:"",_setTypeAttr:function(a){if("string"!==typeof a)throw Error("type property expects a 'String'");this.domNode.setAttribute("data-type",a);this._set("type",
a)},postCreate:function(){this.inherited(arguments);this.set("type",this.get("type"))}})})},"MW/toolstrip/mixins/property/MenuIdMixin":function(){define(["dojo/_base/declare","dijit/registry","mw-menu/Menu","MW/toolstrip/widgets/gallery/GalleryPopup"],function(h,a,g,f){return h(null,{menuId:"",_setMenuIdAttr:function(a){this._set("menuId",a);this._syncAttributes()},_setMenuAttr:function(a){this.set("menuId",a.get("id"))},_getMenuIdAttr:function(){this._syncAttributes();return this._get("menuId")},
_getMenuAttr:function(){this._syncAttributes();return this._get("menu")},_syncAttributes:function(){var d=a.byId(this._get("menuId"))||null;this._get("menu")!==d&&(this._validateMenuAttr(d),this._set("menu",d))}})})},"MW/toolstrip/widgets/gallery/GalleryPopup":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/keys dojo/query dojo/dom-geometry dojo/_base/lang dojo/_base/window dojo/aspect dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/i18n!l10n/nls/toolstrip dojo/text!./templates/GalleryPopup.html mw-form/TextField mw-form/ToggleButton mw-form/PushButton MW/toolstrip/widgets/_PopupBase MW/toolstrip/constants/OrientationConstants MW/toolstrip/GalleryFilter MW/toolstrip/constants/TypeConstants MW/toolstrip/constants/gallery/GalleryViewConstants MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin MW/toolstrip/form/SearchTextField MW/toolstrip/ToolstripUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O){return h([p,q,r,x,D,H,G],{templateString:t,showHeader:!0,constructor:function(){this.searchBox=new I({value:""});this.own(this.searchBox);this._searchBoxValue="";this._handleCloseButtonClick=m.hitch(this,function(){n.close(this)})},buildRendering:function(){this.inherited(arguments);this.searchBox.placeAt(this.searchTextFieldContainerNode)},postCreate:function(){var c=this;this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this.galleryItemFilters={};this._createSearchBoxAndButtons();this.own(k.after(this,"addChild",function(a){a.set("displayState",c.displayState);a.set("userCustomizable",c.userCustomizable);c.galleryStateChanged()},!0));this.own(k.after(this,"removeChild",function(){c.galleryStateChanged()},!0));this._handleFocusChange=function(a){a.target&&(a.target instanceof Element&&this.domNode&&this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display&&!this.domNode.contains(a.target)&&
this.domNode!==a.target)&&n.close(this);this._handleWindowBlur(a)}.bind(this);this._handleWindowBlur=function(a){(a.target===window||a.target===document.documentElement)&&n.close(this)}.bind(this);this.domNode.style.display="none";a.place(this.domNode,e.body());this.noSearchMatchNode.style.display="none";this.noSearchMatchNode.textContent=s.noSearchMatchNode;this._buildAndAddFilters();this._startupHeaderWidgets()},_buildAndAddFilters:function(){var a=this;this.galleryItemFilters.search=new y({id:"search",
checkerFunction:function(c){var b,e;b=a._searchBoxValue;e=RegExp(a._escapeRegExp(b),"i");return""===b||e.test(c.get("text"))||e.test(c.get("description"))||e.test(c.getParent().get("title"))}});this.galleryItemFilters.onlyShowEnabled=new y({id:"onlyShowEnabled",disabled:!0,checkerFunction:function(a){return!1===a.get("disabled")}})},_checkForPopupListInFooter:function(){var a;if(this.footerContainer&&(a=0<b(".toolstripPopupList",this.footerContainer).length?!0:!1))a=b(".toolstripPopupList",this.footerContainer)[0],
a=a.getAttribute("widgetid"),a=c.byId(a),a.onOpen()},enforceFilters:function(){var a,c;c=this.getChildren();this._favCategoryWidget&&c.push(this._favCategoryWidget);c.forEach(function(c){a=c.getChildren();a.forEach(function(a){g.remove(a.domNode,"hideFromView");Object.keys(this.galleryItemFilters).forEach(function(c){c=this.galleryItemFilters[c];!c.disabled&&!c.checkerFunction(a)&&g.add(a.domNode,"hideFromView")},this)},this);b(".hideFromView",c.domNode).length>=a.length?g.add(c.domNode,"hideFromView"):
g.remove(c.domNode,"hideFromView")},this);this._toggleDisplay(this.noSearchMatchNode,b(".Category.hideFromView",this.domNode).length===c.length)},_setUserCustomizableAttr:function(a){g.remove(this.domNode,"favoritesEnabled");g.remove(this.domNode,"favoritesDisabled");!0===a?g.add(this.domNode,"favoritesEnabled"):g.add(this.domNode,"favoritesDisabled");this._set("userCustomizable",a)},_setShowHeaderAttr:function(a){!1===a?(this.header.style.display="none",this.header.classList.remove("margin")):!0===
a&&(this.header.style.display=null,this.header.classList.add("margin"));this._set("showHeader",a)},_setDisplayStateAttr:function(a){g.remove(this.domNode,B.ICON);g.remove(this.domNode,B.LIST);g.add(this.domNode,a);this._favCategoryWidget&&this._favCategoryWidget.set("displayState",a);this.getChildren().forEach(function(c){c.set("displayState",a)});this._set("displayState",a);this._updateToggleButtons()},_updateToggleButtons:function(){this.displayState===B.ICON?this.iconViewButton&&!this.iconViewButton.checked&&
this.iconViewButton.set("checked",!0):this.listViewButton&&!this.listViewButton.checked&&this.listViewButton.set("checked",!0)},_setFooterIdAttr:function(b){var e=c.byId(b);e?(0===e.getChildren().length&&(e.domNode.style.display="none"),a.place(e.domNode,this.footerContainer),e.startup(),this.footerContainer.style.display="block"):this.footerContainer.style.display="none";this._set("footerId",b)},_setFavCategoryIdAttr:function(b){var e=c.byId(b);e&&(this._favCategoryWidget=e,0===e.getChildren().length&&
g.add(e.domNode,"hideFromView"),e.set("isFavoriteCategory",!0),e.set("galleryPopupId",this.id),a.place(e.domNode,this.favCategoryContainer),this.own(e),e.set("displayState",this.displayState));this._set("favCategoryId",b)},_setPlaceholderTextAttr:function(a){this.searchBox.set("placeholder",a)},_getPlaceholderTextAttr:function(){return this.searchBox.getAttribute("placeholder")},_toggleDisplay:function(a,c){a.style.display=c?"block":"none"},_handleSearchKeyDown:function(a){a.keyCode===d.ESCAPE&&""!==
a.target.value&&(this._resetSearchBoxValue(),a.stopPropagation())},_handleSearchBoxTyping:function(a){this._searchBoxValue=a.mwEventData.currentContent;this.enforceFilters()},_createSearchBoxAndButtons:function(){var a=this;this.searchBox.on("typing",m.hitch(this,this._handleSearchBoxTyping));this.searchBox.on("keydown",m.hitch(this,this._handleSearchKeyDown));this.listViewButton=new v({icon:"icon_view_list_16",tag:"listViewButton",buttonGroup:"galleryPopupView_"+this.id});this.own(this.listViewButton);
this.listViewButton.placeAt(this.listViewButtonContainerNode);this.listViewButton.on("click",m.hitch(this,function(){this.focus()}));this.iconViewButton=new v({icon:"icon_view_icon_16",tag:"iconViewButton",buttonGroup:"galleryPopupView_"+this.id,checked:!0});this.own(this.iconViewButton);this.iconViewButton.placeAt(this.iconViewButtonContainerNode);this.iconViewButton.on("click",m.hitch(this,function(){this.focus()}));f(this.closeButtonNode,"click",this._handleCloseButtonClick);this.listViewButton.on("change",
function(c){"checked"===c.mwEventData.propertyName&&!0===c.mwEventData.newValue&&a.set("displayState",B.LIST)});this.iconViewButton.on("change",function(c){"checked"===c.mwEventData.propertyName&&!0===c.mwEventData.newValue&&a.set("displayState",B.ICON)});this._updateToggleButtons()},_calculateSearchBoxWidth:function(){var a=l.getContentBox(this.domNode),c=l.getMarginBox(this.buttonWrapper),b=l.getMarginExtents(this.searchTextFieldContainerNode);this.searchBox.set("width",a.w-c.w-(b.l+b.r))},_calculateSelfMaxHeight:function(){var a=
window.innerHeight-this.domNode.getBoundingClientRect().top;this.domNode.style.maxHeight=a+"px"},_resetSearchBoxValue:function(){this.searchBox.set("value","");this._searchBoxValue="";this.enforceFilters()},_resizeContainerNode:function(a){this.domNode.style.width=a*this.galleryItemWidth+"px"},focus:function(){this.searchBox.focusNode.focus()},_startupHeaderWidgets:function(){this.searchBox.startup();this.listViewButton.startup();this.iconViewButton.startup()},_setColumnCountAttr:function(a){if("number"!==
typeof a||0>a)throw Error("'columnCount' property expects a positive integer number!");this._set("columnCount",a)},_calculateSelfWidth:function(){var a;a=this.get("columnCount")||7;this._resizeContainerNode(a)},onOpen:function(){this.inherited(arguments);this.domNode.parentNode.classList.add("galleryPopupWrapper");this.domNode.parentNode.style.height="auto";this._calculateSearchBoxWidth();this._calculateSelfMaxHeight();this._invokingGallery||this._calculateSelfWidth();this._checkForPopupListInFooter();
this._toggleDisplay(this.noSearchMatchNode,!1);setTimeout(function(){this.focus();setTimeout(function(){document.addEventListener("mousedown",this._handleFocusChange);document.addEventListener("pointerdown",this._handleFocusChange);window.addEventListener("blur",this._handleWindowBlur);this.globalListenersCreated=!0}.bind(this),0)}.bind(this),0)},onClose:function(){this.inherited(arguments);this._resetSearchBoxValue();document.removeEventListener("mousedown",this._handleFocusChange);document.removeEventListener("pointerdown",
this._handleFocusChange);window.removeEventListener("blur",this._handleWindowBlur);delete this.globalListenersCreated;this.emit("restorefocus")},destroy:function(){this.inherited(arguments);this.globalListenersCreated&&(document.removeEventListener("mousedown",this._handleFocusChange),document.removeEventListener("pointerdown",this._handleFocusChange),window.removeEventListener("blur",this._handleWindowBlur))},galleryStateChanged:function(){},onExecute:function(){},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26")},_qeTyping:function(a){this.searchBox._qeTyping(a)},_qeCloseClick:function(){this._handleCloseButtonClick()}})})},"mw-form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin dojo/text!./templates/TextField.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y){return h(w.validate([f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,x,z]),{baseClass:"mwWidget mwTextField",templateString:y,horizontalAlignment:"left",width:150,height:22,constructor:function(){this._addKeysThatPreventTypingEvent([g.ENTER])},_handleEnterKey:function(){var c,b;c=this.inputNode.value;b=this.get("value");this.set("value",c);c=this.get("value");b!==c&&this._triggerChangeEvent("value",b,c);this.domNode.classList.add("mwTextFieldHighlight");this.defer(a.hitch(this,
function(){this.domNode.classList.remove("mwTextFieldHighlight")}),200)},_onKeyUp:function(a){this.inherited(arguments);a.keyCode===g.ENTER&&this._handleEnterKey()},_qeTypeOverWithEnter:function(a){var c=this.get("value");this.set("value",a);this._triggerChangeEvent("value",c,a)},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"mw-mixins/property/EditableMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{editable:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"))},_setEditableAttr:function(a){this.inputNode.readOnly=!a;a?this.domNode.classList.remove("mwNonEditable"):this.domNode.classList.add("mwNonEditable");this._set("editable",a)}})})},"mw-mixins/property/TextInputValueMixin":function(){define(["dojo/_base/declare","dojo/on"],function(h,a){return h(null,{value:"",postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwTextInputValueMixin");this._setValueAttr(this.get("value"));this._stopChangeEventBubbling()},_setValueAttr:function(a){this.setValueInDom(a);this._set("value",a)},_stopChangeEventBubbling:function(){this.own(a(this.inputNode,"change",function(a){a.stopPropagation()}))},setValueInDom:function(a){this.inputNode.value=a}})})},"mw-form/mixins/SharedTextInputMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_FocusMixin mw-mixins/property/PlaceholderMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin".split(" "),
function(h,a,g,f,d,b,l){93;g.TAB;return h([f,d,b,l],{constructor:function(){this._preventTypingEventForKeys=[g.UP_ARROW,g.DOWN_ARROW,g.RIGHT_ARROW,g.LEFT_ARROW,g.PAGE_DOWN,g.PAGE_UP,g.HOME,g.END,g.ESCAPE,g.CAPS_LOCK,16,17,18,91,92,93]},_addKeysThatPreventTypingEvent:function(a){if(!Array.isArray(a))throw"Input to _addKeysThatPreventTypingEvent was not an array";this._preventTypingEventForKeys=this._preventTypingEventForKeys.concat(a)},postCreate:function(){this.inherited(arguments);this.on("keyup",
a.hitch(this,"_onKeyUp"))},_onKeyUp:function(a){0<=this._preventTypingEventForKeys.indexOf(a.keyCode)||this._triggerTypingEvent(this.inputNode.value)},_onBlur:function(){var a,b;a=this.inputNode.value;b=this.get("value");this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a);this.inherited(arguments)}})})},"mw-mixins/property/PlaceholderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on dijit/focus mw-mixins/property/TextInputValueMixin".split(" "),
function(h,a,g,f,d,b,l){h=h(null,{placeholder:"",_setPlaceholderAttr:function(a){if("string"!==typeof a)throw Error("'placeholder' property expects a literal string!");this.inputNode.placeholder=a;this._set("placeholder",a)}});h._dependencies=[{mixin:l,orderDependent:!1}];return h})},"mw-mixins/event/ChangeEventMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(h,a){return h(null,{_triggerChangeEvent:function(a,f,d){this.emit("change",{mwEventData:{propertyName:a,oldValue:f,
newValue:d}})},_qeTypeOverWithEnter:function(a){var f=this.get("value");this.set("value",a);this._triggerChangeEvent("value",f,a)},postCreate:function(){this.inherited(arguments);this.own(this.on("change",a.hitch(this,function(a){a.preventDefault();a.mwEventData||(a.stopPropagation(),this._triggerChangeEvent("checked",!this.get("checked"),this.get("checked")))})))}})})},"mw-mixins/event/TypingEventMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_triggerTypingEvent:function(a){this.emit("typing",
{mwEventData:{currentContent:a}})},_qeTyping:function(a){this.inputNode.value=a;this._triggerTypingEvent(a)}})})},"mw-form/ToggleButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/ToggleButton.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A){return h(y.validate([g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z]),{baseClass:"mwWidget mwToggleButton",templateString:A,postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"keydown",this._handleKeydown.bind(this)),a(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}}})})},"mw-mixins/property/CheckedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-mixins/event/ChangeEventMixin"],function(h,a,g,f){h=h(null,{checked:!1,checkableNode:null,postCreate:function(){this.get("checkableNode")||this.set("checkableNode",this.domNode);this.inherited(arguments);this.domNode.classList.add("mwCheckedMixin");this.own(g(this.get("checkableNode"),"click",a.hitch(this,"_onClick")))},_setCheckedAttr:function(a){this._set("checked",a);
this._setAriaPressed();this._setAriaChecked();this.baseClass.split(" ").forEach(function(b){a?this.domNode.classList.add(b+"Checked"):this.domNode.classList.remove(b+"Checked")},this)},_setCheckableNodeAttr:function(a){this.checkableNode=a||this.domNode},_setAriaPressed:function(){var a=this.focusNode?this.focusNode:this.domNode;a.hasAttribute("aria-pressed")&&a.setAttribute("aria-pressed",this.get("checked"))},_setAriaChecked:function(){var a=this.focusNode?this.focusNode:this.domNode;a.hasAttribute("aria-checked")&&
a.setAttribute("aria-checked",this.get("checked"))},_onClick:function(){var a=this.get("checked"),b=!this.get("checked");this.set("checked",b,!0);this._triggerChangeEvent("checked",a,b)}});h._dependencies=[{mixin:f,orderDependent:!1}];return h})},"mw-mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare","dojo/query","dijit/registry","mw-mixins/property/CheckedMixin","mw-mixins/event/ChangeEventMixin"],function(h,a,g,f,d){h=h(null,{buttonGroup:"",postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwButtonGroupMixin")},_setButtonGroupAttr:function(a){if("string"!==typeof a)throw Error("'buttonGroup' property expects a literal string!");0<a.length?this.domNode.setAttribute("data-mw-buttongroup",a):this.domNode.removeAttribute("data-mw-buttongroup");this._set("buttonGroup",a)},_setCheckedAttr:function(a,d){this.inherited(arguments);a&&this.get("buttonGroup")&&g.toArray().forEach(function(a){this._shouldUncheckWidget(a)&&(a.set("checked",!1),d&&a._triggerChangeEvent("checked",
!0,!1))},this)},_shouldUncheckWidget:function(a){return a.get("buttonGroup")===this.get("buttonGroup")&&a!==this&&a.get("checked")},_onClick:function(a){if(this.get("checked")&&this.get("buttonGroup"))return a.stopPropagation(),a.preventDefault(),!1;this.inherited(arguments)}});h._dependencies=[{mixin:f,orderDependent:!0},{mixin:d,orderDependent:!1}];return h})},"MW/toolstrip/widgets/_PopupBase":function(){define(["dojo/_base/declare"],function(h){return h(null,{onOpen:function(){this.isShowingNow=
!0},onClose:function(){this.isShowingNow=!1}})})},"MW/toolstrip/constants/OrientationConstants":function(){define([],function(){return{VERTICAL:"Vertical",HORIZONTAL:"Horizontal"}})},"MW/toolstrip/GalleryFilter":function(){define(["dojo/_base/declare","mw-log/Log"],function(h,a){return h(null,{constructor:function(g){g=g||{};a.assert(g.id,"An id is required for a filter!");a.assert(g.checkerFunction,"A checker function is required for a filter!");this.id=g.id;this.disabled=!!g.disabled;this.checkerFunction=
g.checkerFunction}})})},"MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(h,a){return h(null,{_setGalleryItemRowCountAttr:function(g){a.remove(this.domNode,"oneRow");a.remove(this.domNode,"twoRow");a.remove(this.domNode,"threeRow");1===g?a.add(this.domNode,"oneRow"):2===g?a.add(this.domNode,"twoRow"):3===g&&a.add(this.domNode,"threeRow");this._set("galleryItemRowCount",g)}})})},"MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin":function(){define(["dojo/_base/declare",
"dojo/dom-class"],function(h,a){return h(null,{_setGalleryItemTextLineCountAttr:function(g){a.remove(this.domNode,"zeroLine");a.remove(this.domNode,"oneLine");a.remove(this.domNode,"twoLine");0===g?a.add(this.domNode,"zeroLine"):1===g?a.add(this.domNode,"oneLine"):2===g&&a.add(this.domNode,"twoLine");this._set("galleryItemTextLineCount",g)}})})},"MW/toolstrip/form/SearchTextField":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","mw-form/TextField"],function(h,
a,g,f,d){return h(d,{baseClass:"mwWidget mwTextField mwSearchTextField",postCreate:function(){this.inherited(arguments);this.clearLink=a.create("div",{"class":"clearTextContainerNode"},this.domNode,"first");this._toggleSearchBoxIcon();this.on("typing",g.hitch(this,this._toggleSearchBoxIcon));this.watch("value",g.hitch(this,this._toggleSearchBoxIcon));this.own(f(this.clearLink,"click",g.hitch(this,this._onClickClearButtonHandler)))},_toggleSearchBoxIcon:function(){""!==this.inputNode.value?this.clearLink.classList.add("clearTextIconVisible"):
this.clearLink.classList.remove("clearTextIconVisible")},_onClickClearButtonHandler:function(){this.set("value","");this._triggerTypingEvent("");this._toggleSearchBoxIcon()}})})},"MW/toolstrip/mixins/property/MenuMixin":function(){define(["dojo/_base/declare","dijit/focus","MW/uiframework/FocusManager","mw-dom-utils/domUtils"],function(h,a,g,f){return h(null,{postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},closeMenu:function(a){this.domNode.classList.contains("mwPopupMenuItem")||
(g.isAvailable()&&!f.findParentNode(this.domNode,"mwSectionPopup")?(this.emit("restorefocus"),this._handleClosingPopup(a)):this.inherited(arguments))}})})},"MW/toolstrip/widgets/SectionPopup":function(){define("dojo/_base/declare mw-menu/Menu mw-mixins/ResizeMixin ../mixins/property/TypeMixin ../mixins/ScrollbarMixin mw-mixins/mixinDependencyValidator".split(" "),function(h,a,g,f,d,b){return h(b.validate([a,g,f,d]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionPopup"})})},"mw-mixins/ResizeMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{_isResized:!1,startup:function(){this.inherited(arguments);if(!this._isResized){for(var a={parentNode:this.domNode},g=!0;(a=a.parentNode)&&a!==document;)if("none"===a.style.display){g=!1;break}g&&this.resize()}},resize:function(){this.inherited(arguments);this.getChildren&&this.getChildren().forEach(function(a){a.resize&&a.resize()},this);this._isResized=!0}})})},"MW/toolstrip/mixins/ScrollbarMixin":function(){define(["dojo/_base/declare","dojo/sniff"],function(h,a){return h(null,
{postCreate:function(){this.inherited(arguments);a("mac")||this.domNode.classList.add("mwScrollbarMixin")}})})},"MW/toolstrip/widgets/Panel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Panel.html ./_WidgetMixin mw-mixins/ResizeMixin".split(" "),function(h,a,g,f,d,b,l){return h([a,g,f,b,l],{templateString:d,addChild:function(a){this.inherited(arguments);var b=this.getParent();b&&"Column"===b.type&&b.updateChildrenOrientations()}})})},
"MW/toolstrip/widgets/Column":function(){define("dojo/aspect dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/Column.html ./_WidgetMixin ./_ChildrenWrapperMixin mw-mixins/ResizeMixin MW/toolstrip/hashes/listOfNewWidgets MW/toolstrip/constants/OrientationConstants".split(" "),function(h,a,g,f,d,b,l,m,e,k){return a([g,f,b,l,m],{templateString:d,constructor:function(){var a=this;this._wrappers={};this.own(h.after(this,"addChild",function(b){a._wrappers[b.id].style.textAlign=
a.horizontalAlignment;a.get("width")&&(-1!==e.indexOf(b.type)?b._allowedValues&&-1!==b._allowedValues.indexOf("100%")&&b.set("width","100%"):b.set("width","100%"))},!0))},_setHorizontalAlignmentAttr:function(a){Object.keys(this._wrappers).forEach(function(b){this._wrappers[b].style.textAlign=a},this);this._set("horizontalAlignment",a)},_setWidthAttr:function(a){0<a&&(this.domNode.style.width=a+"px",this._set("width",a),this.getChildren().forEach(function(a){a.set("width","100%")}))},_setExtraColumnGapAttr:function(a){this._set("extraColumnGap",
a);a?this.domNode.classList.add("extraColumnGap"):this.domNode.classList.remove("extraColumnGap")},resize:function(){this.inherited(arguments);var a=this.getChildren();a&&a.forEach(function(a){a.resize?a.resize():a.set("height",a.get("height"))},this)},addChild:function(a){this.inherited(arguments);this.updateChildrenOrientations()},removeChild:function(a){this.inherited(arguments);this.updateChildrenOrientations()},updateChildrenOrientations:function(){var a=this.getParent();a&&("Section"===a.type?
this._updateChildrenOrientations():"Panel"===a.type&&(a=a.getParent())&&"Column"===a.type&&a.updateChildrenOrientations())},_updateChildrenOrientations:function(){var a=this.getChildren();1===a.length?"Panel"===a[0].type?a[0].getChildren().forEach(function(a){a=a.getChildren();var c=1===a.length?k.VERTICAL:k.HORIZONTAL;a.forEach(function(a){a.get("orientation")&&a.set("orientation",c)})}):a[0].set("orientation",k.VERTICAL):a.forEach(function(a){"Panel"===a.type?a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){a.get("orientation")&&
a.set("orientation",k.HORIZONTAL)})}):a.get("orientation")&&a.set("orientation",k.HORIZONTAL)})}})})},"MW/toolstrip/menu/PopupListPanel":function(){define(["dojo/_base/declare","mw-menu/MenuPanel","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(h,a,g,f){return h(f.validate([a,g]),{visualFamily:"toolstrip"})})},"mw-menu/MenuPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/registry mw-menu/mixins/KeyNavMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-mixins/PreventFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuPanel.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h(p.validate([a,f,b,l,m,e,g,c,k,n]),{baseClass:"mwWidget mwMenuPanel",templateString:q,maxHeight:100,closeRequest:function(a){var c=this._getParentWidget();null!=c&&c.closeRequest&&(c._closeEventData={mwEventData:{gainedFocusWidget:null}},c.closeRequest(a?a:!1))},_focusChange:function(a){var c=this._getParentWidget();null!=c&&c._focusChange&&(c._closeEventData={mwEventData:{gainedFocusWidget:a}},c._focusChange(a))},_getParentWidget:function(){return d.getEnclosingWidget(this.domNode.parentNode)}})})},
"MW/toolstrip/widgets/Footer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/Footer.html".split(" "),function(h,a,g,f,d,b){return h([a,g,f,d],{templateString:b,baseClass:"footer"})})},"MW/toolstrip/widgets/FooterCell":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/FooterCell.html ./_ChildrenWrapperMixin".split(" "),function(h,a,g,
f,d,b,l){return h([a,g,f,l,d],{templateString:b,baseClass:"footerCell"})})},"MW/toolstrip/widgets/gallery/Gallery":function(){define("dojo/_base/declare dojo/debounce dojo/dom-geometry dojo/aspect dojo/touch dojo/_base/lang dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/_HasDropDown dijit/registry dijit/_CssStateMixin dojo/text!./templates/Gallery.html ../../constants/gallery/GalleryViewConstants ../_WidgetMixin ./GalleryItemRowCountMixin ./GalleryItemTextLineCountMixin ./ScrollToSelectionMixin ./HideDisabledItemsMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/uiframework/FocusManager dojo/i18n!l10n/nls/toolstrip".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H){return h([e,k,c,q,n,t,u,v,w,x,z,y,A,B],{templateString:r,baseClass:"mwWidget mwGallery",visualFamily:"toolstrip",dropDownPosition:["below"],openIfEmpty:!0,postCreate:function(){this.inherited(arguments);this._focusManager={};this.own(f.after(this,"addChild",function(a){a.set("displayState",s.ICON)},!0),l(this.openPopupDiv,"click",function(a){this.isDropDownOpen()||this._onDropDownMouseDown(a)}.bind(this)),l(this.domNode,"keyup",function(a){(a.keyCode===
m.ENTER||a.keyCode===m.SPACE)&&this.openDropDown()}.bind(this)));var a=p.byId(this.galleryPopupId);a&&this.setupGalleryPopupListener(a);this.openPopupDiv.setAttribute("title",H.showMore)},openDropDown:function(){var a,c=p.byId(this.galleryPopupId);if(this.openIfEmpty||!(c.domNode.querySelectorAll(".Category.hideFromView").length>c.getChildren().length))a=c.columnCount?Math.max(c.columnCount,this.currentColumnCount):this.currentColumnCount,a=3>a?3*this.galleryItemWidth:a*this.galleryItemWidth,c.domNode.style.width=
a+30+"px",this.set("dropDown",c),this.setupGalleryPopupListener(c),this.inherited(arguments),this._handleWindowResizeHandler=b.hitch(this,"_handleWindowResize"),window.addEventListener("resize",this._handleWindowResizeHandler)},_shouldCloseDropDown:function(a,c){return a===window?!0:this.domNode&&this.domNode.contains(a)&&a.classList.contains("dijitDownArrowButton")&&(!c.domNode||!c.domNode.parentElement||"none"!==c.domNode.parentElement.style.display)||c.domNode&&c.domNode.contains(a)?!1:a.matches?
!a.matches(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.matchesSelector?!a.matchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.webkitMatchesSelector?!a.webkitMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.mozMatchesSelector?!a.mozMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.msMatchesSelector?!a.msMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):
a.oMatchesSelector?!a.oMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):!0},closeDropDown:function(){window.removeEventListener("resize",this._handleWindowResizeHandler);if(!this.dropDown&&(this.dropDown=p.byId(this.galleryPopupId),!this.dropDown))return;this.inherited(arguments)},_handleWindowResize:function(){this.closeDropDown()},_qeDropDownClick:function(){this.toggleDropDown()},_onDropDownMouseDown:function(a){a instanceof MouseEvent&&0!==a.button||this.inherited(arguments)},
setupGalleryPopupListener:function(a){a._invokingGallery=this;var c=this;this._galleryPopupListener&&(this._galleryPopupListener.remove(),this._galleryPopupListener=null);this._galleryPopupListener=f.after(a,"galleryStateChanged",function(){c.refresh()})},shrink:function(){var a;this.currentColumnCount>this.minColumnCount?(this.set("currentColumnCount",this.currentColumnCount-1),a=!0):a=!1;return a},grow:function(){var a;this.currentColumnCount<this.maxColumnCount?(this.set("currentColumnCount",this.currentColumnCount+
1),a=!0):a=!1;return a},_setCurrentColumnCountAttr:function(a){this._set("currentColumnCount",a);this._resizeContainerNode();this.refresh()},_setOpenIfEmptyAttr:function(a){if("boolean"!==typeof a)throw Error("'openIfEmpty' property expected a boolean value");this._set("openIfEmpty",a)},_resizeContainerNode:function(){var a=this.currentColumnCount*this.galleryItemWidth+"px";this.containerNode.style.width=a;this.textOverlayWrapperNode.style.width=a},_setGalleryItemWidthAttr:function(a){0<a&&(this._set("galleryItemWidth",
a),this._resizeContainerNode())},_setDisplayStateAttr:function(a){var c=g.position(this.domNode);this._set("displayState",a);this.domNode.classList.remove("busy");this.set("disabled",!1);"busy"===a?(this.busyLayer.style.height=c.h+"px",this.busyLayer.style.width=c.w+"px",this.domNode.classList.add("busy")):"blocked"===a&&this.set("disabled",!0)},_setTextOverlayAttr:function(a){this._set("textOverlay",a);a?(this.textOverlayWrapperNode.style.display="table",this.textOverlayNode.textContent=a):(this.textOverlayWrapperNode.style.display=
"none",this.textOverlayNode.textContent="")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},refresh:function(){},destroy:function(){this._galleryPopupListener.remove();this.inherited(arguments)},isDropDownOpen:function(){var a=p.byId(this.galleryPopupId);return!(a&&a.domNode&&(!a.domNode.parentElement.classList.contains("dijitPopup")&&"none"===a.domNode.style.display||a.domNode.parentElement&&"none"===a.domNode.parentElement.style.display))}})})},"MW/toolstrip/widgets/gallery/ScrollToSelectionMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{scrollToSelection:!1})})},"MW/toolstrip/widgets/gallery/HideDisabledItemsMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{hideDisabledItems:!0})})},"MW/toolstrip/widgets/gallery/GalleryCategory":function(){define("dojo/_base/declare dojo/aspect dojo/dom-construct dojo/on dojo/dnd/Source dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/dnd/Manager mw-dnd/DnDUtils dojo/text!./templates/GalleryCategory.html ../../constants/gallery/GalleryViewConstants ./_GalleryCategoryAnimationMixin ../_WidgetMixin ./GalleryItemAvatar".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return h([l,m,e,q,r],{templateString:n,userCustomizable:!0,postCreate:function(){var c=this;this.inherited(arguments);this.own(f(this.moveTopButtonNode,"click",function(){c.categoryMoved()}));this.own(a.after(this,"addChild",function(a,b){var e=this.getParent();b=0<=b?b:this.getChildren().length-1;e&&e.galleryStateChanged();a.set("displayState",c.displayState);c.dndSource&&c.dndSource.insertNodes(!1,[a.domNode],!1,this.getChildren()[b].domNode);this.showHideCategory()},
!0));this.own(a.after(this,"removeChild",function(a){(a=this.getParent())&&a.galleryStateChanged();this.showHideCategory()},!0));this.showHideCategory()},showHideCategory:function(){0===this.getChildren().length?this.domNode.classList.add("hideFromView"):this.domNode.classList.remove("hideFromView")},_setIsFavoriteCategoryAttr:function(a){a?this.titleIconNode.classList.add("starTitle"):this.titleIconNode.classList.remove("starTitle");this._set("isFavoriteCategory",a);this._createDndSource(this.displayState)},
_setDisplayStateAttr:function(a){this.getChildren().forEach(function(c){c.set("displayState",a)});this._createDndSource(a);this._set("displayState",a)},_setTitleAttr:function(a){""===a&&(this.header.style.display="none");this.titleNode.textContent=a;this._set("title",a)},_setUserCustomizableAttr:function(a){!1===a?this.moveTopNode.style.display="none":!0===a&&(this.moveTopNode.style.display=null);this._set("userCustomizable",a)},_createDndSource:function(b){var e=this,f={};this.isFavoriteCategory&&
(b===p.ICON&&(f={horizontal:!0}),this.dndSource&&(c.unregisterMakeAvatar(this.dndSource),this.dndSource.destroy()),this.dndSource=new d(this.containerNode,f),c.registerMakeAvatar(e.dndSource,function(){return new s(this)}),this.own(a.after(this.dndSource,"onDrop",function(a,c){e._onDropHandler(a,c)},!0)))},_onDropHandler:function(a,c){var e,d;d=b.byNode(c[0]);e=this.getIndexOfChild(d);this.itemMoved({itemId:d.id,newIndex:e})},_qeMoveToTopClick:function(){this.categoryMoved()},categoryMoved:function(){},
itemMoved:function(){}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){g.isAsync||m(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var p=a("dojo.dnd.Source",c,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,
constructor:function(a,c){f.mixin(this,f.mixin({},c));var b=this.accept;if(b.length){this.accept={};for(var k=0;k<b.length;++k)this.accept[b[k]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&d.add(this.node,"dojoDndSource");this.targetState="";this.accept&&d.add(this.node,"dojoDndTarget");this.horizontal&&d.add(this.node,"dojoDndHorizontal");this.topics=[e.subscribe("/dnd/source/over",f.hitch(this,
"onDndSourceOver")),e.subscribe("/dnd/start",f.hitch(this,"onDndStart")),e.subscribe("/dnd/drop",f.hitch(this,"onDndDrop")),e.subscribe("/dnd/cancel",f.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,c){if(this==a)return!this.copyOnly||this.selfAccept;for(var b=0;b<c.length;++b){for(var e=a.getItem(c[b].id).type,d=!1,f=0;f<e.length;++f)if(e[f]in this.accept){d=!0;break}if(!d)return!1}return!0},copyState:function(a,c){if(a)return!0;2>arguments.length&&(c=this==n.manager().target);if(c){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;
return!1},destroy:function(){p.superclass.destroy.call(this);h.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&"Disabled"==this.targetState)){p.superclass.onMouseMove.call(this,a);var c=n.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var e=this.getSelectedNodes();e.length&&c.startDrag(this,e,this.copyState(k.getCopyKeyState(a),!0))}if(this.isDragging){e=
!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=b.position(this.current,!0);e=this.horizontal?a.pageX-this.targetBox.x<this.targetBox.w/2==b.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||e!=this.before)this._markTargetAnchor(e),c.canDrop(!this.current||c.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||
!k.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,p.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,p.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=n.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,c,b){this.autoSync&&
this.sync();this.isSource&&this._changeState("Source",this==a?b?"Copied":"Moved":"");c=this.accept&&this.checkAcceptance(a,c);this._changeState("Target",c?"":"Disabled");this==a&&n.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,c,b,e){if(this==e)this.onDrop(a,c,b);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target",
"")},onDrop:function(a,c,b){if(this!=a)this.onDropExternal(a,c,b);else this.onDropInternal(c,b)},onDropExternal:function(a,c,b){var e=this._normalizedCreator;this._normalizedCreator=this.creator?function(c,b){return e.call(this,a.getItem(c.id).data,b)}:b?function(c){var b=a.getItem(c.id);c=c.cloneNode(!0);c.id=k.getUniqueId();return{node:c,data:b.data,type:b.type}}:function(c){var b=a.getItem(c.id);a.delItem(c.id);return{node:c,data:b.data,type:b.type}};this.selectNone();!b&&!this.creator&&a.selectNone();
this.insertNodes(!0,c,this.before,this.current);!b&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(a,c){var b=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,c){return b.call(this,this.getItem(a.id).data,c)}:function(a){var c=this.getItem(a.id);a=a.cloneNode(!0);a.id=k.getUniqueId();return{node:a,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=
function(a){var c=this.getItem(a.id);return{node:a,data:c.data,type:c.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=b}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){p.superclass.onOverEvent.call(this);n.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){p.superclass.onOutEvent.call(this);n.manager().outSource(this);if(this.isDragging&&"Disabled"!=
this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=
null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!l.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(d.contains(a,"dojoDndHandle"))return!0;if(d.contains(a,"dojoDndItem")||d.contains(a,"dojoDndIgnore"))break}return!1}});return p})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){var p=a("dojo.dnd.Selector",n,{constructor:function(a,c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(e(this.node,k.press,f.hitch(this,"onMouseDown")),e(this.node,k.release,f.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new m,b=c._empty,e;for(e in this.selection)e in b||a.push(d.byId(e));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,c){this._addItemClass(d.byId(c),"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=c._empty,e;for(e in this.selection)if(!(e in a)){var f=d.byId(e);this.delItem(e);b.destroy(f)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||g.global;var e=this.selection,d=c._empty,f;for(f in e)f in d||a.call(b,this.getItem(f),f,this)},sync:function(){p.superclass.sync.call(this);
this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=c._empty,e;for(e in this.selection)e in b||this.getItem(e)||a.push(e);h.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,c,b,e){var d=this._normalizedCreator;this._normalizedCreator=function(c,b){var e=d.call(this,c,b);a?(this.anchor?this.anchor!=e.node&&(this._removeItemClass(e.node,"Anchor"),this._addItemClass(e.node,"Selected")):(this.anchor=e.node,this._removeItemClass(e.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[e.node.id]=1):(this._removeItemClass(e.node,"Selected"),this._removeItemClass(e.node,"Anchor"));return e};p.superclass.insertNodes.call(this,c,b,e);this._normalizedCreator=d;return this},destroy:function(){p.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!c.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,l.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){c.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var e=0,d;e<b.length&&!(d=b[e],d==this.anchor||d==this.current);++e);for(++e;e<b.length;++e){d=b[e];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=
1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?c.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):c.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):
(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&
(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=e(this.node,k.move,f.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=c._empty,b;for(b in this.selection)if(!(b in a)){var e=d.byId(b);e&&this._removeItemClass(e,"Selected")}this.selection=
{};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return p})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){a=a("dojo.dnd.Container",e,{skipForm:!1,allowNested:!1,constructor:function(a,e){this.node=b.byId(a);
e||(e={});this.creator=e.creator||null;this.skipForm=e.skipForm;this.parent=e.dropParent&&b.byId(e.dropParent);this.map={};this.current=null;this.containerState="";l.add(this.node,"dojoDndContainer");(!e||!e._skipStartup)&&this.startup();this.events=[c(this.node,p.over,f.hitch(this,"onMouseOver")),c(this.node,p.out,f.hitch(this,"onMouseOut")),c(this.node,"dragstart",f.hitch(this,"onSelectStart")),c(this.node,"selectstart",f.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},
setItem:function(a,c){this.map[a]=c},delItem:function(a){delete this.map[a]},forInItems:function(a,c){c=c||g.global;var b=this.map,e=q._empty,d;for(d in b)d in e||a.call(c,b[d],d,this);return c},clearItems:function(){this.map={}},getAllNodes:function(){return n((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(c){if(c.id){var b=this.getItem(c.id);if(b){a[c.id]=b;return}}else c.id=q.getUniqueId();var b=c.getAttribute("dndType"),
e=c.getAttribute("dndData");a[c.id]={data:e||c.innerHTML,type:b?b.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,c,b){this.parent.firstChild?c?b||(b=this.parent.firstChild):b&&(b=b.nextSibling):b=null;var e;if(b)for(c=0;c<a.length;++c)e=this._normalizedCreator(a[c]),this.setItem(e.node.id,{data:e.data,type:e.type}),b.parentNode.insertBefore(e.node,b);else for(c=0;c<a.length;++c)e=this._normalizedCreator(a[c]),this.setItem(e.node.id,{data:e.data,type:e.type}),this.parent.appendChild(e.node);
return this},destroy:function(){h.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,c,b){a._skipStartup=!0;return new b(c,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=q._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var c=a.relatedTarget;c&&
c!=this.node;)try{c=c.parentNode}catch(b){c=null}c||(this._changeState("Container","Over"),this.onOverEvent());c=this._getChildByEvent(a);this.current!=c&&(this.current&&this._removeItemClass(this.current,"Over"),c&&this._addItemClass(c,"Over"),this.current=c)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(c){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||
!q.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,c){var b="dojoDnd"+a,e=a.toLowerCase()+"State";l.replace(this.node,b+c,b+this[e]);this[e]=c},_addItemClass:function(a,c){l.add(a,"dojoDndItem"+c)},_removeItemClass:function(a,c){l.remove(a,"dojoDndItem"+c)},_getChildByEvent:function(a){if(a=a.target)for(var c=a.parentNode;c;a=c,c=a.parentNode)if((c==this.parent||this.allowNested)&&l.contains(a,"dojoDndItem"))return a;
return null},_normalizedCreator:function(a,c){var b=(this.creator||this.defaultCreator).call(this,a,c);f.isArray(b.type)||(b.type=["text"]);b.node.id||(b.node.id=q.getUniqueId());l.add(b.node,"dojoDndItem");return b}});q._createNode=function(a){return!a?q._createSpan:function(c){return m.create(a,{innerHTML:c})}};q._createTrTd=function(a){var c=m.create("tr");m.create("td",{innerHTML:a},c);return c};q._createSpan=function(a){return m.create("span",{innerHTML:a})};q._defaultCreatorNodes={ul:"li",ol:"li",
div:"div",p:"div"};q._defaultCreator=function(a){a=a.tagName.toLowerCase();var c="tbody"==a||"thead"==a?q._createTrTd:q._createNode(q._defaultCreatorNodes[a]);return function(a,b){var e=a&&f.isObject(a),d,k;e&&a.tagName&&a.nodeType&&a.getAttribute?(d=a.getAttribute("dndData")||a.innerHTML,e=(e=a.getAttribute("dndType"))?e.split(/\s*,\s*/):["text"],k=a):(d=e&&a.data?a.data:a,e=e&&a.type?a.type:["text"],k=("avatar"==b?q._createSpan:c)(String(d)));k.id||(k.id=q.getUniqueId());return{node:k,data:d,type:e}}};
return a})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){var r=a("dojo.dnd.Manager",[b],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:l("touch")?4:16,OFFSET_Y:l("touch")?4:16,overSource:function(a){this.avatar&&
(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());k.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),k.publish("/dnd/source/over",null)):k.publish("/dnd/source/over",null)},startDrag:function(a,b,l){function h(a){a.preventDefault();a.stopPropagation()}p.autoScrollStart(f.doc);this.source=a;this.nodes=b;this.copy=Boolean(l);this.avatar=this.makeAvatar();
f.body().appendChild(this.avatar.node);k.publish("/dnd/start",a,b,this.copy);this.events=[e(f.doc,c.move,g.hitch(this,"onMouseMove")),e(f.doc,c.release,g.hitch(this,"onMouseUp")),e(f.doc,"keydown",g.hitch(this,"onKeyDown")),e(f.doc,"keyup",g.hitch(this,"onKeyUp")),e(f.doc,"dragstart",h),e(f.body(),"selectstart",h)];d.add(f.body(),"dojoDnd"+(l?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){d.remove(f.body(),
["dojoDndCopy","dojoDndMove"]);h.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new q(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var c=this.avatar;c&&(p.autoScrollNodes(a),c=c.node.style,c.left=a.pageX+this.OFFSET_X+"px",c.top=a.pageY+this.OFFSET_Y+"px",c=Boolean(this.source.copyState(n.getCopyKeyState(a))),this.copy!=c&&this._setCopyStatus(c));
l("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(n.getCopyKeyState(a)));k.publish("/dnd/drop/before",this.source,this.nodes,c,this.target,a);k.publish("/dnd/drop",this.source,this.nodes,c,this.target,a)}else k.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case m.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case m.ESCAPE:k.publish("/dnd/cancel"),
this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==m.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();d.replace(f.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});n._manager=null;r.manager=n.manager=function(){n._manager||(n._manager=new r);return n._manager};return r})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(h,a,g,f,d,b,l,m){return h("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var a=b.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),d=this.manager.source,c,g=b.create("tbody",null,a),h=b.create("tr",null,g),m=b.create("td",null,h),r=Math.min(5,this.manager.nodes.length),s=0;l("highcontrast")&&b.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},m);b.create("span",{innerHTML:d.generateText?
this._generateText():""},m);for(f.set(h,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});s<r;++s)d.creator?c=d._normalizedCreator(d.getItem(this.manager.nodes[s].id).data,"avatar").node:(c=this.manager.nodes[s].cloneNode(!0),"tr"==c.tagName.toLowerCase()&&(h=b.create("table"),b.create("tbody",null,h).appendChild(c),c=h)),c.id="",h=b.create("tr",null,g),m=b.create("td",null,h),m.appendChild(c),f.set(h,{"class":"dojoDndAvatarItem",style:{opacity:(9-s)/10}});this.node=a},destroy:function(){b.destroy(this.node);
this.node=!1},update:function(){d.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(l("highcontrast")){var a=g.byId("a11yIcon"),b="+";this.manager.canDropFlag&&!this.manager.copy?b="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?b="o":this.manager.canDropFlag||(b="x");a.innerHTML=b}m("tr.dojoDndAvatarHeader td span"+(l("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"mw-dnd/DnDUtils":function(){define(["dojo/_base/declare","dojo/aspect","dojo/dnd/Manager","mw-utils/Utils"],function(h,a,g,f){var d={},b=function(a){var b=-1;Object.keys(d).some(function(e,f,c){return d[e].dndSource===a?(b=e,!0):!1});return b};a.around(g.manager(),"makeAvatar",function(a){return function(){var b=g.manager(),e;!1===Object.keys(d).some(function(a,c,f){return d[a].dndSource===b.source?(e=d[a].makeAvatarFunc.call(b),!0):!1})&&(e=a.call(b));return e}});return{registerMakeAvatar:function(a,
g){var e=b(a);-1===e&&(e=f.generateUuid());d[e]={dndSource:a,makeAvatarFunc:g}},unregisterMakeAvatar:function(a){a=b(a);-1!==a&&delete d[a]},destroy:function(a){a&&a.remove()}}})},"MW/toolstrip/widgets/gallery/_GalleryCategoryAnimationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/_base/fx dojo/fx dojo/query dijit/registry ../../constants/gallery/GalleryViewConstants".split(" "),function(h,a,g,f,d,b,l,m,e,k){return h(null,{animate:function(a){switch(a.type){case "move":this._animateCategoryMove(a);
break;case "childAdd":if(this.get("isFavoriteCategory"))this._animateFavoriteItemAdd(a);else a.onEnd();break;case "childRemove":if(this.get("isFavoriteCategory"))this._animateFavoriteItemRemove(a);else a.onEnd()}},_animateCategoryMove:function(a){var b,e,f,k;e=d.position(this.domNode);k=this._createCategoryClone(this);b=d.position(this._getGalleryPopupWidget().getChildren()[0].domNode).y;f=this._getGalleryPopupPos();b-=f.y;e.x-=f.x;e.y-=f.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&
(b=0);l.slideTo({node:k,duration:this._calculateDuration(0,e.y,0,b),left:e.x,top:b,onEnd:function(){g.destroy(k);a.onEnd()}}).play()},_animateFavoriteItemAdd:function(a){var b,f=this,h,m,s,t,u=0,v=0,w,x,z=!0;w=this._getGalleryPopupPos();x=d.position(this.domNode);h=e.byId(a.startId);m=d.position(h.domNode);b=this._createItemClone(h);h=this.getChildren().filter(function(a){return!a.domNode.classList.contains("hideFromView")});t=h.length;0===t?s=m:(h=h[t-1],h=d.position(h.domNode),this.displayState===
k.ICON?(w.w-(h.x-w.x+h.w)<h.w&&(z=!1),z?(s=h,u=h.w):(s=x,v=x.h)):this.displayState===k.LIST&&(s=h,v=h.h));this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});s.x-=w.x;s.y-=w.y;m.x-=w.x;m.y-=w.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&(v=s.y=0);m=this._calculateDuration(m.x,m.y,s.x,s.y);l.slideTo({node:b,duration:m,left:s.x+u,top:s.y+v,onEnd:function(){g.destroy(b);a.onEnd();f._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},
_animateFavoriteItemRemove:function(a){var b,f,k=this,h,m;m=this._getGalleryPopupPos();b=a.childWidget;h=d.position(b.domNode);f=this._createItemClone(b);b=e.byId(a.endId);b=d.position(b.domNode);b.x-=m.x;b.y-=m.y;h.x-=m.x;h.y-=m.y;b.y+b.h>m.h+this._getGalleryPopupWidget().categoryContainer.scrollTop&&(b.y=m.h-b.h);this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});h=this._calculateDuration(h.x,h.y,b.x,b.y);l.slideTo({node:f,duration:h,left:b.x+0,top:b.y+0,onEnd:function(){g.destroy(f);
a.onEnd();k._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},_getAllItemWidgets:function(){var a=[];e.byId(this.galleryPopupId).getChildren().forEach(function(b){a=a.concat(b.getChildren())});return a},_calculateDuration:function(a,b,e,d){return Math.sqrt(Math.pow(a-e,2)+Math.pow(b-d,2))/0.7},_getGalleryPopupWidget:function(){return this.get("isFavoriteCategory")?e.byId(this.get("galleryPopupId")):this.getParent()},_getGalleryPopupPos:function(){return d.position(this._getGalleryPopupWidget().domNode)},
_createCategoryClone:function(a){a=this._createClone(a);m(".moveTopNode",a)[0].style.display="none";return a},_createItemClone:function(a){a=this._createClone(a);m(".favButton",a)[0].style.display="none";f.remove(a,"dojoDndItemAnchor");f.remove(a,"dojoDndItemOver");return a},_createClone:function(c){var b,e,f;f=this._getGalleryPopupPos();b=a.clone(c.domNode);e=d.position(c.domNode);c=d.getContentBox(c.domNode);e.x-=f.x;e.y-=f.y;g.place(b,this._getGalleryPopupWidget().domNode);b.style.position="absolute";
b.style.top=e.y+"px";b.style.left=e.x+"px";b.style.width=c.w+"px";b.style.height=c.h+"px";b.style.zIndex=5;return b}})})},"MW/toolstrip/widgets/gallery/GalleryItemAvatar":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/query dijit/registry".split(" "),function(h,a,g,f,d,b){return h([],{constructor:function(a){this.manager=a;this.construct()},construct:function(){var l,h,e;l=this.manager.nodes[0];h=l.cloneNode(!0);e=g.position(l);h.style.width=e.w+"px";
h.style.height=e.h+"px";e=d(".itemWrapper",h)[0];l=b.getEnclosingWidget(l).getParent();l=b.byId(l.get("galleryPopupId"));l=f.create("div",{"class":l.domNode.getAttribute("class")});a.remove(l,"galleryPopup");l.style.position="absolute";l.style.zIndex="1999";l.opacity=0.7;a.remove(h,"dojoDndItemOver dojoDndItem dojoDndItemAnchor");a.add(h,"galleryItemAvatar");a.remove(e);a.add(e,"itemWrapper");f.place(h,l);this.node=l},destroy:function(){f.destroy(this.node);this.node=!1},update:function(){a.toggle(this.node,
"dojoDndAvatarCanDrop",this.manager.canDropFlag)}})})},"MW/toolstrip/form/PushButton":function(){define("dojo/_base/declare mw-form/PushButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/QuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h(q.validate([a,g,f,d,b,l,m,e,k,c,n,p]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/QuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(h,a){var g=h(null,{quickAccessIcon:"",postCreate:function(){this.inherited(arguments);this.set("quickAccessIcon",this.get("quickAccessIcon"))},_setQuickAccessIconAttr:function(a){if("string"!==typeof a)throw Error("'quickAccessIcon' property expects a literal string!");
this._set("quickAccessIcon",a);this._updateDOM(a)},_updateDOM:function(a){""===a?a=this.icon:""!==this.quickAccessIcon&&(a=this.quickAccessIcon);this._removeOldIcon(this.get("quickAccessIcon"));arguments[0]=a;this.inherited(arguments)}});g._dependencies=[{mixin:a,orderDependent:!0}];return g})},"MW/toolstrip/form/SplitButton":function(){define("dojo/_base/declare mw-form/SplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){return h(u.validate([a,g,f,d,b,l,m,e,k,c,n,p,t,q,r,s]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/SplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-mixins/ResizeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O){return h(I.validate([a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G]),{baseClass:"mwWidget mwSplitButton",templateString:O,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/TabIndexNodesMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/DisabledMixin"],function(h,a,g){var f=function(a){if(("object"!==typeof a||
a.constructor!==Array)&&0<a.length&&a[0].constructor!==HTMLDivElement)throw Error("'tabIndexNodes' property expects an array of DOM nodes as input.");};h=h(null,{tabIndexNodes:[],addTabIndexNodes:function(a){f(a);this.set("tabIndexNodes",this.get("tabIndexNodes").concat(a))},removeTabIndexNodes:function(a){f(a);var b,g,h,e=this.get("tabIndexNodes");a.forEach(function(a){h=e.indexOf(a);-1===h?(b=e,g=[]):(b=e.slice(0,h),g=e.slice(h+1,h+1+(e.length-h)));e=b.concat(g);a.removeAttribute("tabIndex")});
this.set("tabIndexNodes",e)},_setTabIndexNodesAttr:function(a){f(a);this._set("tabIndexNodes",a);this._updateTabIndices()},_setDisabledAttr:function(a){this.inherited(arguments);this._updateTabIndices()},_updateTabIndices:function(){this.get("tabIndexNodes").forEach(a.hitch(this,function(a){this._setTabIndexOnNode(a)}))}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"mw-form/mixins/property/DropDownNeverDisabledMixin":function(){define("dojo/_base/declare dojo/dom-geometry mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/TextMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonSizeMixin".split(" "),
function(h,a,g,f,d,b,l,m){h=h(null,{dropDownNeverDisabled:!1,_laskKnownDisabledNode:null,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDropDownNeverDisabledMixin");this.set("dropDownNeverDisabled",this.get("dropDownNeverDisabled"))},_setDropDownNeverDisabledAttr:function(a){if("boolean"!==typeof a)throw Error("'dropDownNeverDisabled' property expects a boolean!");this._set("dropDownNeverDisabled",a);a?this.domNode.classList.add("mwDropDownNeverDisabledTrue"):this.domNode.classList.remove("mwDropDownNeverDisabledTrue");
this._updateInteractions(a);this._setAriaDisabled();this._setTabIndexOnNode(this.focusNode)},_updateInteractions:function(a){a=this._getDisabledNode();this._removeDisableInteractions(this._laskKnownDisabledNode);this._addDisableInteractions(a);this._updateLastKnownDisabledNode(a)},_updateDisableNode:function(a){a?(this.domNode.classList.add("mwDisabled"),this.domNode.classList.remove("mwEnabled")):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"));this._updateInteractions(a)},
_updateLastKnownDisabledNode:function(a){this._laskKnownDisabledNode=a},_getDisabledNode:function(){var a;this.get("disabled")?this.dropDownNeverDisabled?a=this.buttonNode:this.dropDownNeverDisabled||(a=this.domNode):a=null;return a},_getOverlayPositionExtents:function(){var b=a.getBorderExtents(this.domNode);if(this.get("dropDownNeverDisabled")){var d=a.getMarginBox(this.focusNode);"left"===this.get("iconAlignment")?b.r=-d.w:"top"===this.get("iconAlignment")&&(b.b=-d.h)}return{t:-b.t+"px",r:-b.r+
"px",b:-b.b+"px",l:-b.l+"px"}}});h._dependencies=[{mixin:g,orderDependent:!0},{mixin:f,orderDependent:!0},{mixin:d,orderDependent:!0},{mixin:b,orderDependent:!0},{mixin:l,orderDependent:!0},{mixin:m,orderDependent:!0}];return h})},"mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on mw-dom-utils/domUtils mw-utils/widgetUtils mw-mixins/property/MenuMixin".split(" "),function(h,a,g,f,d,b,l,m){h=h(null,{buildRendering:function(){this.inherited(arguments);
f.place(this.buttonNode,this.focusNode,"before")},_onMouseClick:function(a){this.inherited(arguments);g.isDescendant(a.target,this.buttonNode)&&this.isMenuOpen()&&this.closeMenu(!1)}});h._dependencies=[{mixin:m,orderDependent:!0}];return h})},"mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-dom-utils/domUtils"],function(h,a,g,f){return h(null,{postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"mousedown",
a.hitch(this,function(d){this.buttonNode.contains(d.target)&&setTimeout(a.hitch(this,function(){this.focusNode.focus()}),0)})),g(this.focusNode,"focus",a.hitch(this,"_handleFocus")),g(this.focusNode,"blur",a.hitch(this,"_handleBlur")))},_handleFocus:function(){this.baseClass.split(" ").forEach(a.hitch(this,function(a){f.toggleClass(this.domNode,a+"Focused",!0)}))},_handleBlur:function(){this.baseClass.split(" ").forEach(a.hitch(this,function(a){f.toggleClass(this.domNode,a+"Focused",!1)}))}})})},
"MW/toolstrip/form/ToggleButton":function(){define("dojo/_base/declare mw-form/ToggleButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/IconOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h(q.validate([a,g,f,d,b,l,m,e,k,c,n,p]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_shouldUncheckWidget:function(a){return a.get("buttonGroup")===this.get("buttonGroup")&&a!==this&&a.get("checked")&&(!a.get("actionId")||a.get("actionId")!==this.get("actionId"))}})})},"MW/toolstrip/form/ColorPickerButton":function(){define("dijit/focus dojo/aspect dojo/_base/declare dojo/_base/lang dojo/keys dojo/query MW/toolstrip/form/SplitButton mw-menu/Menu mw-mixins/event/ChangeEventMixin mw-colorpicker/ColorPicker mw-colorpicker/ColorPalette mw-colorpicker/MColor mw-dom-utils/domUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){return g([l,e],{baseClass:"mwWidget mwSplitButton mwColorPickerButton",visualFamily:"toolstrip",selectedColor:"#ff0000",closeOnColorSelection:!0,showPreview:!0,showRecentColors:!0,showCustomPicker:!0,constructor:function(){this.standardColors=n.getStandardLightThemeColors();this._colorPickerMenu=new m;this._colorPicker=new k({showPreview:!0,showCustomPicker:!0,showRecentColors:!0,standardColors:this.standardColors});this.recentColors=this._colorPicker.get("recentlyUsedColors");
this._swatchNode=document.createElement("div");this.own(this._colorPickerMenu);this.own(this._colorPicker)},buildRendering:function(){this.inherited(arguments);this._colorPickerMenu.addChild(this._colorPicker);this._swatchNode.classList.add("mwColorSwatchNode");this.iconNode.appendChild(this._swatchNode);this.set("menu",this._colorPickerMenu)},_setSelectedColorAttr:function(a){if("string"!==typeof a)throw Error("'selectedColor' property expects a literal string!");this._validateColor(a);this._swatchNode.style.backgroundColor=
a;this._set("selectedColor",a);this._updatePreview()},_getSelectedColorAttr:function(){return this._get("selectedColor")},_setShowPreviewAttr:function(a){this._colorPicker.set("showPreview",a);this._set("showPreview",a)},_getShowPreviewAttr:function(){return this._colorPicker.get("showPreview")},_setShowRecentColorsAttr:function(a){this._colorPicker.set("showRecentColors",a);this._set("showRecentColors",a)},_getShowRecentColorsAttr:function(){return this._colorPicker.get("showRecentColors")},_setShowCustomPickerAttr:function(a){this._colorPicker.set("showCustomPicker",
a);this._set("showCustomPicker",a)},_getShowCustomPickerAttr:function(){return this._colorPicker.get("showCustomPicker")},_setRecentColorsAttr:function(a){this._validateRecentColors(a);this._colorPicker.set("recentlyUsedColors",a);this._set("recentColors",a)},_getRecentColorsAttr:function(){return this._colorPicker.get("recentlyUsedColors")},_setStandardColorsAttr:function(a){this._validateStandardColors(a);this._set("standardColors",a);this._colorPicker.paletteNode.destroyRecursive();this._colorPicker.paletteNode=
new c({palette:[this.standardColors[0],this.standardColors[1],this.standardColors[2]]});this._colorPicker.paletteNode.domNode.classList.add(this._colorPicker.baseClass+"Palette");this._colorPicker.paletteNode.placeAt(this._colorPicker,"first").startup();this.own(this._colorPicker.paletteNode.set("onChange",f.hitch(this._colorPicker,"_updateWidgetValues",!1,!0,!0,!0)))},_getStandardColorsAttr:function(){return this._colorPicker.get("standardColors")},postCreate:function(){this.inherited(arguments);
this.own(a.after(this._colorPicker.paletteNode,"_onCellClick",f.hitch(this,"_updateSelectedColor")));this.own(a.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",f.hitch(this,"_updateSelectedColor")));this.menu.domNode.addEventListener("open",this._handleMenuCloseOnFocusOut.bind(this));this.menu.domNode.addEventListener("keydown",this._handleMenuKeyDown.bind(this));this._colorPicker.domNode.addEventListener("keydown",this._handleColorPickerKeyDown.bind(this));this.buttonNode.addEventListener("click",
this._handleButtonClick.bind(this))},_handleButtonClick:function(){var a=this.get("selectedColor");this._triggerChangeEvent("selectedColor",a,a)},_handleMenuCloseOnFocusOut:function(){var a=h.watch("curNode",f.hitch(this,function(c,b,e){if(null===e||!p.findParentNode(e,"mwMenu"))a.unwatch(),this._updatePreview(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(a){a.keyCode===d.DOWN_ARROW||a.keyCode===d.UP_ARROW?this._colorPicker.paletteNode.focus():a.keyCode===d.TAB&&a.stopPropagation()},
_closeMenuOnColorSelection:function(){this.closeOnColorSelection&&this.closeMenu()},_handleColorPickerKeyDown:function(a){"INPUT"===a.target.tagName&&(a.keyCode===d.ENTER?this._updateSelectedColor():a.keyCode===d.ESCAPE&&this.set("selectedColor",this.get("selectedColor")))},_updatePreview:function(){this.get("selectedColor")!==this._colorPicker.value&&this._colorPicker.set("value",this.get("selectedColor"),!1)},_updateRecentColors:function(){var c=this.get("selectedColor"),b=this._colorPicker.recentlyUsedColors,
e=b.indexOf(c);-1!==e&&8>e&&b.splice(e,1);b.unshift(c);this._colorPicker.set("recentlyUsedColors",b);this.own(a.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",f.hitch(this,"_updateSelectedColor")))},_updateSelectedColor:function(){var a=this.get("selectedColor");this.set("selectedColor",this._colorPicker.value);var c=this.get("selectedColor");this._updateRecentColors();this._closeMenuOnColorSelection();this._triggerChangeEvent("selectedColor",a,c)},_validateStandardColors:function(a){var c=
a.length;if(3<c)throw Error("StandardColors can consist of maximum 3 rows of colors");for(var b=0;b<c;b++)for(var e=a[b],d=0;d<e.length;d++){if("hex"!==this._isRGBOrHex(e[d]))throw Error("Color type invalid. Only hex color values allowed!");this._validateColor(e[d])}},_validateRecentColors:function(a){var c=a.length;if(8<c)throw Error("RecentColors should be 1x8 array");for(var b=0;b<c;b++){var e=a[b];if("hex"!==this._isRGBOrHex(e))throw Error("Color type invalid. Only hex color values allowed!");
this._validateColor(e)}},_validateColor:function(a){var c=this._isRGBOrHex(a);if("invalid"===c)throw Error("'color' invalid value!");if("hex"===c){if(!/[0-9a-f]{6}/i.test(a))throw Error("'color' invalid value!");}else if("rgb"===c){var b;a=a.substring(4,a.length-1);a=a.split(",");if(3!==a.length)throw Error("'color' invalid value!");a.forEach(function(a){a=parseFloat(a);0!==a%1&&(b=!0)});if(b){if(this._checkRGBDouble(a))throw Error("'color' invalid value!");}else if(this._checkRGBInt(a))throw Error("''color' invalid value!");
}},_isRGBOrHex:function(a){return 0===a.indexOf("#")?"hex":0===a.indexOf("rgb")?"rgb":"invalid"},_checkRGBDouble:function(a){for(var c=0;3>c;c++){var b=parseFloat(a[c]);if(0>b||1<b)return!0}},_checkRGBInt:function(a){for(var c=0;3>c;c++){var b=parseInt(a[c]);if(0>b||255<b)return!0}}})})},"mw-colorpicker/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ColorPalette ./ColorSpinner ./MColor dojo/text!./templates/ColorPicker.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){return h([d,b,l],{value:"#ff0000",showRecentColors:!0,showPreview:!0,showCustomPicker:!0,recentlyUsedColors:[],standardColors:[],_parsedStandardColors:"",_previewTitle:n.preview,templateString:c,baseClass:"mwColorPicker",constructor:function(){this._set("recentlyUsedColors","#ff0000 #ff00ff #ffff00 #00ff00 #ffffff #00ffff #0000ff #000000".split(" "));this._set("standardColors",k.getStandardLightThemeColors());this.inherited(arguments)},postMixInProperties:function(){this._set("_parsedStandardColors",
JSON.stringify(this.get("standardColors")));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.paletteNode.set("onChange",a.hitch(this,this._updateWidgetValues,!1,!0,!0,!0));this.spinnerNode.set("onChange",a.hitch(this,this._updateWidgetValues,!0,!1,!0,!0))},_setValueAttr:function(a,c){this._updateWidgetValues(!0,!0,!0,c,a)},_updateWidgetValues:function(a,c,b,e,d){var f=this.get("value");this._set("value",d);this._setPreviewColor(d);a&&this.paletteNode.set("value",d,!1);
c&&this.spinnerNode.set("value",d,!1);b&&this.recentColorsWidgetNode&&this.recentColorsWidgetNode.set("value",d,!1);(e||void 0===e)&&this.emit("change",{mwEventData:{propertyName:"value",oldValue:f,newValue:this.get("value")}})},_setPreviewColor:function(a){f.set(this.previewColorNode,"background",a)},_updateRecentColorsWidget:function(){this.recentColorsWidgetNode&&(this.recentColorsWidgetNode.destroy(),g.empty(this.recentColorsNode));this.recentColorsWidgetNode=new m({palette:[this.recentlyUsedColors.slice(0,
4),this.recentlyUsedColors.slice(4,8)],title:n.recentColors,value:this.value});this.recentColorsWidgetNode.set("onChange",a.hitch(this,this._updateWidgetValues,!0,!0,!1,!0));this.recentColorsWidgetNode.placeAt(this.recentColorsNode).startup()},_setRecentlyUsedColorsAttr:function(a){this._set("recentlyUsedColors",a);this._updateRecentColorsWidget()},_setShowRecentColorsAttr:function(a){this._set("showRecentColors",a);!1===a?(f.set(this.recentColorsNode,"display","none"),f.set(this.previewNode,"padding-left",
"10px"),f.set(this.previewColorNode,"width","202px")):(f.set(this.recentColorsNode,"display",""),f.set(this.previewNode,"padding-left",""),f.set(this.previewColorNode,"width",""))},_setShowPreviewAttr:function(a){this._set("showPreview",a);!1===a?f.set(this.previewNode,"display","none"):f.set(this.previewNode,"display","")},_setShowCustomPickerAttr:function(a){this._set("showCustomPicker",a);!1===a?f.set(this.spinnerNode.domNode,"display","none"):f.set(this.spinnerNode.domNode,"display","")}})})},
"mw-colorpicker/ColorPalette":function(){define("dojo/_base/declare dojo/dom-construct dojo/string dojo/dom-attr dijit/_PaletteMixin dijit/_TemplatedMixin dijit/_WidgetBase ./MColor dojo/text!./templates/ColorPalette.html dojo/text!./templates/ColorPaletteSwatch.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){var n=h([l,b,d],{palette:[],title:c.standardColors,_setTitleAttr:{node:"titleNode",type:"innerText"},baseClass:"mwColorPalette",templateString:e,constructor:function(){this._set("palette",
m.getStandardLightThemeColors());this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.dyeClass=n._Color;this._preparePalette(this.palette,{})}});n._Color=h([m],{template:k,getValue:function(){return this.toHex()},fillCell:function(c){var b=g.substitute(this.template,{color:this.toHex(),title:this.toMATLABFriendlyName()});f.set(c,"title",this.toMATLABFriendlyName());a.place(b,c)}});return n})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){return h("dijit._PaletteMixin",m,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(a){return new ("string"==typeof this.dyeClass?b.getObject(this.dyeClass):this.dyeClass)(a)},_preparePalette:function(a,k){this._cells=[];var g=this._blankGif;this.own(l(this.gridNode,e,b.hitch(this,"_onCellClick")));for(var h=0;h<a.length;h++)for(var m=f.create("tr",{tabIndex:"-1",role:"row"},
this.gridNode),t=0;t<a[h].length;t++){var u=a[h][t];if(u){var v=this._dyeFactory(u,h,t,k[u]),u=f.create("td",{"class":this.cellClass,tabIndex:"-1",title:k[u],role:"gridcell"},m);v.fillCell(u,g);u.idx=this._cells.length;this._cells.push({node:u,dye:v})}}this._xDim=a[0].length;this._yDim=a.length;var w={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},x;for(x in w)this.own(c.addKeyListener(this.domNode,{keyCode:d[x],ctrlKey:!1,altKey:!1,
shiftKey:!1},this,function(){var a=w[x];return function(c){this._navigateByKey(a,c)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){k.focus(this._currentFocus)},_onCellClick:function(a){for(var c=a.target;"TD"!=c.tagName;){if(!c.parentNode||c==this.gridNode)return;c=c.parentNode}var b=this._getDye(c).getValue();this._setCurrent(c);k.focus(c);this._setValueAttr(b,!0);a.stopPropagation();a.preventDefault()},
_setCurrent:function(c){"_currentFocus"in this&&a.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=c)&&a.set(c,"tabIndex",this.tabIndex)},_setValueAttr:function(a,c){0<=this._selectedCell&&g.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");this._selectedCell=-1;if(a)for(var b=0;b<this._cells.length;b++)if(a==this._cells[b].dye.getValue()){this._selectedCell=b;g.add(this._cells[b].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);
if(c||void 0===c)this.onChange(a)},onChange:function(){},_navigateByKey:function(a,c){if(-1!=c){var e=this._currentFocus.idx+a;e<this._cells.length&&-1<e&&(e=this._cells[e].node,this._setCurrent(e),this.defer(b.hitch(k,"focus",e)))}},_getDye:function(a){return this._cells[a.idx].dye}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(h,a,g,f,d,b){var l=b.typematic={_fireEventAndReload:function(){this._timer=
null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(g.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,d,c,f,l,h,r){if(f!=this._obj){this.stop();this._initialDelay=h||500;this._subsequentDelay=l||0.9;this._minDelay=r||10;this._obj=f;this._node=d;this._count=
this._currentTimeout=-1;this._callback=g.hitch(b,c);this._evt={faux:!0};for(var s in a)"layerX"!=s&&"layerY"!=s&&(b=a[s],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[s]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,e,d,c,n,p,q){var r="keyCode"in e?"keyCode":"charCode"in e?"charCode":"charOrCode",s=[f(b,"keyCode"in e?"keydown":"charCode"in
e?"keypress":a._keypress,g.hitch(this,function(a){a[r]==e[r]&&(void 0===e.ctrlKey||e.ctrlKey==a.ctrlKey)&&(void 0===e.altKey||e.altKey==a.altKey)&&(void 0===e.metaKey||e.metaKey==(a.metaKey||!1))&&(void 0===e.shiftKey||e.shiftKey==a.shiftKey)?(a.stopPropagation(),a.preventDefault(),l.trigger(a,d,b,c,e,n,p,q)):l._obj==e&&l.stop()})),f(b,"keyup",g.hitch(this,function(){l._obj==e&&l.stop()}))];return{remove:function(){h.forEach(s,function(a){a.remove()})}}},addMouseListener:function(a,b,k,c,n,p){var q=
[f(a,"mousedown",g.hitch(this,function(d){d.preventDefault();l.trigger(d,b,a,k,a,c,n,p)})),f(a,"mouseup",g.hitch(this,function(a){this._obj&&a.preventDefault();l.stop()})),f(a,"mouseout",g.hitch(this,function(a){this._obj&&a.preventDefault();l.stop()})),f(a,"dblclick",g.hitch(this,function(f){f.preventDefault();9>d("ie")&&(l.trigger(f,b,a,k,a,c,n,p),setTimeout(g.hitch(this,l.stop),50))}))];return{remove:function(){h.forEach(q,function(a){a.remove()})}}},addListener:function(a,b,d,c,f,g,l,r){var s=
[this.addKeyListener(b,d,c,f,g,l,r),this.addMouseListener(a,c,f,g,l,r)];return{remove:function(){h.forEach(s,function(a){a.remove()})}}}};return l})},"mw-colorpicker/MColor":function(){define(["dojo/_base/declare","dojo/_base/Color"],function(h,a){var g=h([a],{toDoubleRGBString:function(){var a=this.toDoubleRGB();return"["+a[0].toFixed(2)+" "+a[1].toFixed(2)+" "+a[2].toFixed(2)+"]"},toMATLABFriendlyName:function(){var a=g.namedMATLABColors[this.toHex().toLowerCase()];return a?this.toDoubleRGBString()+
" - "+a:this.toDoubleRGBString()},toDoubleRGB:function(){return[this.r/255,this.g/255,this.b/255]}});g.fromDoubleRGB=function(a){a=a.map(function(a){return Math.round(255*a)});return new g(a)};g.namedMATLABColors={"#ff0000":"red (r)","#ff00ff":"magenta (m)","#ffff00":"yellow (y)","#00ff00":"green (g)","#00ffff":"cyan (c)","#0000ff":"blue (b)","#000000":"black (k)","#ffffff":"white (w)"};g.getStandardLightThemeColors=function(){return["#0073bd #d9541a #edb021 #7d2e8f #78ab30 #4dbfed #a3142e".split(" "),
"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};g.getStandardDarkThemeColors=function(){return["#ffff11 #139fff #ff6929 #64d413 #b746ff #0fffff #ff13a6".split(" "),"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};return g})},"mw-colorpicker/ColorSpinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/NumberSpinner dijit/form/ValidationTextBox ./MColor ./ToggleButtonGroup dojo/text!./templates/ColorSpinner.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){var q={value:0,smallDelta:0.01,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:1,strict:!0,places:"0,2"}},r={value:0,smallDelta:1,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:255,fractional:!1,strict:!0,places:"0"}},s={pattern:"^#[0-9a-f]{6}",required:!0,selectOnClick:!0,
intermediateChanges:!0,style:"width: 120px; height: 20px; font-size: 13px;"};return h([d,b,l],{onChange:function(){},value:"#000000",baseClass:"mwColorSpinner",templateString:n,_redTitle:p.redTitle,_greenTitle:p.greenTitle,_blueTitle:p.blueTitle,_hexTitle:p.hexTitle,postCreate:function(){this.inherited(arguments);this.redDoubleSpinner.set(q);this.greenDoubleSpinner.set(q);this.blueDoubleSpinner.set(q);this.redDoubleSpinner.set("onChange",a.hitch(this,this._doubleSpinnerChange));this.greenDoubleSpinner.set("onChange",
a.hitch(this,this._doubleSpinnerChange));this.blueDoubleSpinner.set("onChange",a.hitch(this,this._doubleSpinnerChange));this.redIntSpinner.set(r);this.greenIntSpinner.set(r);this.blueIntSpinner.set(r);this.redIntSpinner.set("onChange",a.hitch(this,this._intSpinnerChange));this.greenIntSpinner.set("onChange",a.hitch(this,this._intSpinnerChange));this.blueIntSpinner.set("onChange",a.hitch(this,this._intSpinnerChange));this.hexSpinner.set(s);this.hexSpinner.set("onChange",a.hitch(this,this._hexSpinnerChange));
this.toggleButton.onChange=a.hitch(this,this._handleToggleChange);this.toggleButton.set("buttonText",["[0-1]","[0-255]",p.hexTitle]);this.toggleButton.set("value",2);this.toggleButton.set("value",1);this._updateSpinnerValues(new k(this.value),!0,!0,!0,!1)},_setValueAttr:function(a,c){var b=new k(a);this._updateSpinnerValues(b,!0,!0,!0,c)},_updateSpinnerValues:function(a,c,b,e,d){this._set("value",a.toHex());c&&(c=a.toDoubleRGB(),this._setSpinnerValueWithoutFiringEvent(this.redDoubleSpinner,c[0]),
this._setSpinnerValueWithoutFiringEvent(this.greenDoubleSpinner,c[1]),this._setSpinnerValueWithoutFiringEvent(this.blueDoubleSpinner,c[2]));b&&(b=a.toRgb(),this._setSpinnerValueWithoutFiringEvent(this.redIntSpinner,b[0]),this._setSpinnerValueWithoutFiringEvent(this.greenIntSpinner,b[1]),this._setSpinnerValueWithoutFiringEvent(this.blueIntSpinner,b[2]));e&&this._setSpinnerValueWithoutFiringEvent(this.hexSpinner,a.toHex());if(d||void 0===d)this.onChange(this.get("value"))},_isSpinnerValid:function(a,
c,b){if(!0===a._beingDestroyed||!0===c._beingDestroyed||!0===b._beingDestroyed||!0===a._destroyed||!0===c._destroyed||!0===b._destroyed||!a.isValid()||!c.isValid()||!b.isValid())return!1;a=a.get("value");c=c.get("value");b=b.get("value");return isNaN(a)||void 0===a||isNaN(c)||void 0===c||isNaN(b)||void 0===b?!1:[a,c,b]},_doubleSpinnerChange:function(){var a=this._isSpinnerValid(this.redDoubleSpinner,this.greenDoubleSpinner,this.blueDoubleSpinner);!1!==a&&(a=k.fromDoubleRGB(a),this._updateSpinnerValues(a,
!1,!0,!0,!0))},_intSpinnerChange:function(){var a=this._isSpinnerValid(this.redIntSpinner,this.greenIntSpinner,this.blueIntSpinner);if(!1!==a){var c=new k;c.setColor(a);this._updateSpinnerValues(c,!0,!1,!0,!0)}},_hexSpinnerChange:function(a){this.hexSpinner.isValid()&&(a=new k(a),this._updateSpinnerValues(a,!0,!0,!1,!0))},_handleToggleChange:function(a){var c=[this.doubleSpinners,this.intSpinners,this.hexSpinners];c.forEach(function(a){f.set(a,"display","none")});f.set(c[a-1],"display","")},_setSpinnerValueWithoutFiringEvent:function(a,
c){a.set("intermediateChanges",!1);a.set("value",c,!1);a.set("intermediateChanges",!0)}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(h,a,g,f){return h("dijit.form.NumberSpinner",[g,f.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(a,b){var f=this.constraints,g=isNaN(a),e=!isNaN(f.max),k=!isNaN(f.min);g&&0!=b&&(a=0<b?k?f.min:e?f.max:0:e?this.constraints.max:k?f.min:0);var c=a+b;if(g||isNaN(c))return a;
e&&c>f.max&&(c=f.max);k&&c<f.min&&(c=f.min);return c},_onKeyDown:function(d){if(!this.disabled&&!this.readOnly&&(d.keyCode==a.HOME||d.keyCode==a.END)&&!d.ctrlKey&&(!d.altKey&&!d.metaKey)&&"undefined"!=typeof this.get("value")){var b=this.constraints[d.keyCode==a.HOME?"min":"max"];"number"==typeof b&&this._setValueAttr(b,!1);d.stopPropagation();d.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return h("dijit.form._Spinner",m,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:e,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(a){return a},_arrowPressed:function(a,b,e){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),b*e),!1),k.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(c,b,e){var d=this.smallDelta;b==this.textbox&&(b=e.keyCode,d=b==a.PAGE_UP||b==a.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==a.UP_ARROW||b==a.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==c?this._arrowReleased(b):this._arrowPressed(b,b==this.upArrowNode?1:-1,d)},_wheelTimer:null,_mouseWheeled:function(a){if(this.focused){a.stopPropagation();a.preventDefault();var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?
1:-1);a=a.detail?-1*a.detail:b;if(0!==a){var e=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(e,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(e)},50)}}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,d.wheel,g.hitch(this,"_mouseWheeled")),l.addListener(this.upArrowNode,this.textbox,{keyCode:a.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),l.addListener(this.downArrowNode,
this.textbox,{keyCode:a.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),l.addListener(this.upArrowNode,this.textbox,{keyCode:a.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),l.addListener(this.downArrowNode,this.textbox,{keyCode:a.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(h,a,g){return h("dijit.form.RangeBoundTextBox",g,{rangeMessage:"",rangeCheck:function(a,d){return("min"in d?0<=this.compare(a,d.min):!0)&&("max"in d?0>=this.compare(a,d.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var a=
this.get("value");if(null==a)return!1;var d=!1;"min"in this.constraints&&(d=this.constraints.min,d=0>this.compare(a,"number"==typeof d&&0<=d&&0!=a?0:d));!d&&"max"in this.constraints&&(d=this.constraints.max,d=0<this.compare(a,"number"!=typeof d||0<d?d:0));return d},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(a){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(a))},getErrorMessage:function(a){var d=
this.get("value");return null!=d&&""!==d&&("number"!=typeof d||!isNaN(d))&&!this.isInRange(a)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=a.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(h,a,g,f){return h("dijit.form.MappedTextBox",
f,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(a){return a.toString?a.toString():""},toString:function(){var a=this.filter(this.get("value"));return null!=a?"string"==typeof a?a:this.serialize(a,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=g.place("\x3cinput type\x3d'hidden'"+(this.name&&
!a("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(h,a,g,f,d,b,l){var m=h("dijit.form.ValidationTextBox",d,{templateString:l,required:!1,promptMessage:"",
invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(b,d){d!=m.prototype[b]&&(a.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+b+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",d))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",
a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a=
"$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),
f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&
this.focused?b.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):b.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=g.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",
a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre=
"^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=f.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=
!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){b.hide(this.domNode);this.inherited(arguments)}});return m})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main ../_mw/utils/deprecation".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){n.deprecated({deprecated:{module:"dijit/form/TextBox"},
replacement:{module:"mw-form/TextField"},geckNumber:1352405});h=h("dijit.form.TextBox",[m,e],{templateString:k,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:l("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>l("ie")&&this.defer(function(){try{var a=g.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;if(c){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=c}}}catch(e){}})},_setPlaceHolderAttr:function(c){this._set("placeHolder",c);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=a.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(b(this._phspan,"mousedown",function(a){a.preventDefault()}),b(this._phspan,"touchend, pointerup, MSPointerUp",d.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(c));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,c,b){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){f.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){f.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),l("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>l("ie")&&(h.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},c._setSelectionRange=e._setSelectionRange=function(a,
c,b){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",c),a.moveEnd("character",b-c),a.select())});return h})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(h,a,g,f){return h("dijit.form._FormValueWidget",[g,f],{_layoutHackIE7:function(){if(7==a("ie"))for(var d=this.domNode,b=d.parentNode,f=d.firstChild||d,g=f.style.filter,e=this;b&&0==b.clientHeight;)(function(){var a=
e.connect(b,"onscroll",function(){e.disconnect(a);f.style.filter=(new Date).getMilliseconds();e.defer(function(){f.style.filter=g})})})(),b=b.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(h,a,g,f,d,b){return h("dijit.form._FormValueMixin",b,{readOnly:!1,_setReadOnlyAttr:function(b){a.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);
void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(h,a,g,f,d,b,l,m){var e=a("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,c,b){var e;void 0!==a&&(e=this.filter(a),"string"!=typeof b&&(b=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):"",0!=this.compare(e,this.filter(this.parse(b,this.constraints)))&&(b=null)));
if(null!=b&&("number"!=typeof b||!isNaN(b))&&this.textbox.value!=b)this.textbox.value=b,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[e,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},_onInput:function(a){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||a);delete this._lastInputProducingEvent;this.intermediateChanges&&this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);this.own(l(this.textbox,"keydown, keypress, paste, cut, compositionend",b.hitch(this,function(a){var c;if("keydown"==a.type&&229!=a.keyCode){c=a.keyCode;switch(c){case d.SHIFT:case d.ALT:case d.CTRL:case d.META:case d.CAPS_LOCK:case d.NUM_LOCK:case d.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(c){case d.NUMPAD_0:case d.NUMPAD_1:case d.NUMPAD_2:case d.NUMPAD_3:case d.NUMPAD_4:case d.NUMPAD_5:case d.NUMPAD_6:case d.NUMPAD_7:case d.NUMPAD_8:case d.NUMPAD_9:case d.NUMPAD_MULTIPLY:case d.NUMPAD_PLUS:case d.NUMPAD_ENTER:case d.NUMPAD_MINUS:case d.NUMPAD_PERIOD:case d.NUMPAD_DIVIDE:return}if(65<=
c&&90>=c||48<=c&&57>=c||c==d.SPACE)return;c=!1;for(var e in d)if(d[e]===a.keyCode){c=!0;break}if(!c)return}}(c=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(c=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==d.SPACE?String.fromCharCode(a.keyCode):a.keyCode);c||(c=229);if("keypress"==a.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(a.ctrlKey||a.metaKey||a.altKey)return}var g={faux:!0},h;for(h in a)/^(layer[XY]|returnValue|keyLocation)$/.test(h)||
(e=a[h],"function"!=typeof e&&"undefined"!=typeof e&&(g[h]=e));b.mixin(g,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){g._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});this._lastInputProducingEvent=g;!1===this.onInput(g)&&(g.preventDefault(),g.stopPropagation());if(!g._wasConsumed&&9>=f("ie"))switch(a.keyCode){case d.TAB:case d.ESCAPE:case d.DOWN_ARROW:case d.UP_ARROW:case d.LEFT_ARROW:case d.RIGHT_ARROW:break;default:if(a.keyCode==d.ENTER&&"textarea"!=
this.textbox.tagName.toLowerCase())break;this.defer(function(){this.textbox.value!==this._lastInputEventValue&&l.emit(this.textbox,"input",{bubbles:!0})})}})),l(this.textbox,"input",b.hitch(this,"_onInput")),l(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=b.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,
function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=l.once(this.domNode,"mouseup, touchend",b.hitch(this,function(a){this._isTextSelected()||
e.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});e._setSelectionRange=m._setSelectionRange=function(a,c,b){a.setSelectionRange&&a.setSelectionRange(c,b)};e.selectInputText=m.selectInputText=function(a,c,b){a=g.byId(a);isNaN(c)&&(c=0);isNaN(b)&&
(b=a.value?a.value.length:0);try{a.focus(),e._setSelectionRange(a,c,b)}catch(d){}};return e})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){function v(){}var w=a("dijit._MasterTooltip",[q,
r],{duration:n.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new s(this.domNode);this.fadeIn=g.fadeIn({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onShow")});this.fadeOut=g.fadeOut({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onHide")})},show:function(a,c,b,e,d,f,g){if(!this.aroundNode||!(this.aroundNode===c&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=
arguments;else{this.containerNode.innerHTML=a;d&&this.set("textDir",d);this.containerNode.align=e?"right":"left";var k=p.around(this.domNode,c,b&&b.length?b:x.defaultPosition,!e,m.hitch(this,"orient")),h=k.aroundNodePos;"M"==k.corner.charAt(0)&&"M"==k.aroundCorner.charAt(0)?(this.connectorNode.style.top=h.y+(h.h-this.connectorNode.offsetHeight>>1)-k.y+"px",this.connectorNode.style.left=""):"M"==k.corner.charAt(1)&&"M"==k.aroundCorner.charAt(1)?this.connectorNode.style.left=h.x+(h.w-this.connectorNode.offsetWidth>>
1)-k.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");l.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=c;this.onMouseEnter=f||v;this.onMouseLeave=g||v}},orient:function(a,e,d,f,g){this.connectorNode.style.top="";var k=f.h;f=f.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[e+"-"+d];this.domNode.style.width="auto";var l=b.position(this.domNode);if(c("ie")||c("trident"))l.w+=2;var h=Math.min(Math.max(f,1),l.w);b.setMarginBox(this.domNode,{w:h});"B"==d.charAt(0)&&"B"==e.charAt(0)?(a=b.position(a),e=this.connectorNode.offsetHeight,a.h>k?(this.connectorNode.style.top=k-(g.h+e>>1)+"px",this.connectorNode.style.bottom=""):
(this.connectorNode.style.bottom=Math.min(Math.max(g.h/2-e/2,0),a.h-e)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,l.w-f)},_onShow:function(){c("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=v},_onHide:function(){this.domNode.style.cssText=
"";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});u.showTooltip=function(a,c,b,e,d,f,g){b&&(b=h.map(b,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));x._masterTT||(u._masterTT=x._masterTT=new w);return x._masterTT.show(a,c,b,e,d,f,g)};u.hideTooltip=function(a){return x._masterTT&&x._masterTT.hide(a)};var x=a("dijit.Tooltip",q,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){h.forEach(this._connections||
[],function(a){h.forEach(a,function(a){a.remove()})},this);this._connectIds=h.filter(m.isArrayLike(a)?a:a?[a]:[],function(a){return f.byId(a,this.ownerDocument)},this);this._connections=h.map(this._connectIds,function(a){a=f.byId(a,this.ownerDocument);var c=this.selector,b=c?function(a){return k.selector(c,a)}:function(a){return a},d=this;return[k(a,b(e.enter),function(){d._onHover(this)}),k(a,b("focusin"),function(){d._onHover(this)}),k(a,b(e.leave),m.hitch(d,"_onUnHover")),k(a,b("focusout"),m.hitch(d,
"set","state","DORMANT"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==h.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=h.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);d.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;h.forEach(m.isArrayLike(a)?
a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(x.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=
this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var c=this.getContent(this._connectNode);if(!c){this.set("state","DORMANT");return}x.show(c,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,m.hitch(this,"set","state","SHOWING"),m.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",
a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});x._MasterTooltip=w;x.show=u.showTooltip;x.hide=u.hideTooltip;x.defaultPosition=["after-centered","before-centered"];return x})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(h,a,g,f,d,b){var l=function(a){a=a||{};var b=g.getLocalization("dojo.cldr","number",g.normalizeLocale(a.locale)),c=a.pattern?a.pattern:b[(a.type||"decimal")+"Format"];a="number"==typeof a.places?
a.places:"string"===typeof a.places&&0<a.places.length?a.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:b.decimal,places:a}},m=h("dijit.form.NumberTextBoxMixin",null,{pattern:function(b){return"("+(this.focused&&this.editOptions?this._regExpGenerator(a.delegate(b,this.editOptions))+"|":"")+this._regExpGenerator(b)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:d.format,_regExpGenerator:d.regexp,_decimalInfo:l(),postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},_setConstraintsAttr:function(a){var b="number"==typeof a.places?a.places:0;b&&b++;"number"!=typeof a.max&&(a.max=9*Math.pow(10,15-b));"number"!=typeof a.min&&(a.min=-9*Math.pow(10,15-b));this.inherited(arguments,[a]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=l(a)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var a=this.get("value");"number"==typeof a&&!isNaN(a)&&(a=this.format(a,this.constraints),
void 0!==a&&(this.textbox.value=a));this.inherited(arguments)}},format:function(b,d){var c=String(b);if("number"!=typeof b)return c;if(isNaN(b))return"";if(!("rangeCheck"in this&&this.rangeCheck(b,d))&&!1!==d.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(d=a.mixin({},d,this.editOptions));return this._formatter(b,d)},_parser:d.parse,parse:function(b,d){var c=a.mixin({},d,this.editOptions&&this.focused?this.editOptions:{});if(this.focused&&null!=c.places){var f=c.places,
f="number"===typeof f?f:Number(f.split(",").pop());c.places="0,"+f}c=this._parser(b,c);this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(b,d));return c},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(a){if(null==a||"string"==typeof a&&""==a)return NaN;"number"==typeof a&&(!isNaN(a)&&0!=a)&&(a=d.round(a,this._decimalInfo.places));return this.inherited(arguments,[a])},serialize:function(a,b){return"number"!=typeof a||
isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var b=a.hitch(a.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(b,!0)},_setValueAttr:function(a,b,c){if(void 0!==a&&void 0===c)if(c=String(a),"number"==typeof a)if(isNaN(a))c="";else{if("rangeCheck"in this&&this.rangeCheck(a,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else a?a=void 0:(c="",a=NaN);this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var b=this.inherited(arguments);
if(isNaN(b)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+d._realNumberRegexp(a.delegate(this.constraints))+"$").test(this.textbox.value))return b=Number(this.textbox.value),isNaN(b)?void 0:b}else return b},isValid:function(a){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&this.rangeCheck(b,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?
!0:this.inherited(arguments):!1},_isValidSubset:function(){var a="number"==typeof this.constraints.min,b="number"==typeof this.constraints.max,c=this.get("value");if(isNaN(c)||!a&&!b)return this.inherited(arguments);var d=c|0,g=0>c,l=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),h=(this.maxLength||20)-this.textbox.value.length,m=l?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",d=l?d+"."+m:d+"",h=f.rep("9",h),l=c;g?l=Number(d+h):c=Number(d+h);return!(a&&c<this.constraints.min||
b&&l>this.constraints.max)}});h=h("dijit.form.NumberTextBox",[b,m],{baseClass:"dijitTextBox dijitNumberTextBox"});h.Mixin=m;return h})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(h,a,g,f,d){var b={};h.setObject("dojo.number",b);b.format=function(d,e){e=h.mixin({},e||{});var f=a.normalizeLocale(e.locale),f=a.getLocalization("dojo.cldr","number",f);e.customs=f;f=e.pattern||f[(e.type||"decimal")+"Format"];return isNaN(d)||Infinity==
Math.abs(d)?null:b._applyPattern(d,f,e)};b._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;b._applyPattern=function(a,e,d){d=d||{};var c=d.customs.group,f=d.customs.decimal;e=e.split(";");var g=e[0];e=e[0>a?1:0]||"-"+g;if(-1!=e.indexOf("%"))a*=100;else if(-1!=e.indexOf("\u2030"))a*=1E3;else if(-1!=e.indexOf("\u00a4"))c=d.customs.currencyGroup||c,f=d.customs.currencyDecimal||f,e=e.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,c,b,e){a=d[["symbol","currency","displayName"][b.length-1]]||d.currency||
"";return!a?"":c+a+e});else if(-1!=e.indexOf("E"))throw Error("exponential notation not supported");var l=b._numberPatternRE,g=g.match(l);if(!g)throw Error("unable to find a number expression in pattern: "+e);!1===d.fractional&&(d.places=0);return e.replace(l,b._formatAbsolute(a,g[0],{decimal:f,group:c,places:d.places,round:d.round}))};b.round=function(a,b,d){d=10/(d||10);return(d*+a).toFixed(b)/d};if(0==(0.9).toFixed()){var l=b.round;b.round=function(a,b,d){var c=Math.pow(10,-b||0),f=Math.abs(a);
if(!a||f>=c)c=0;else if(f/=c,0.5>f||0.95<=f)c=0;return l(a,b,d)+(0<a?c:-c)}}b._formatAbsolute=function(a,e,d){d=d||{};!0===d.places&&(d.places=0);Infinity===d.places&&(d.places=6);e=e.split(".");var c="string"==typeof d.places&&d.places.indexOf(","),g=d.places;c?g=d.places.substring(c+1):0<=g||(g=(e[1]||[]).length);0>d.round||(a=b.round(a,g,d.round));a=String(Math.abs(a)).split(".");var l=a[1]||"";e[1]||d.places?(c&&(d.places=d.places.substring(0,c)),c=void 0!==d.places?d.places:e[1]&&e[1].lastIndexOf("0")+
1,c>l.length&&(a[1]=f.pad(l,c,"0",!0)),g<l.length&&(a[1]=l.substr(0,g))):a[1]&&a.pop();g=e[0].replace(",","");c=g.indexOf("0");-1!=c&&(c=g.length-c,c>a[0].length&&(a[0]=f.pad(a[0],c)),-1==g.indexOf("#")&&(a[0]=a[0].substr(a[0].length-c)));var g=e[0].lastIndexOf(","),h,r;-1!=g&&(h=e[0].length-g-1,e=e[0].substr(0,g),g=e.lastIndexOf(","),-1!=g&&(r=e.length-g-1));e=[];for(g=a[0];g;)c=g.length-h,e.push(0<c?g.substr(c):g),g=0<c?g.slice(0,c):"",r&&(h=r,delete r);a[0]=e.reverse().join(d.group||",");return a.join(d.decimal||
".")};b.regexp=function(a){return b._parseInfo(a).regexp};b._parseInfo=function(f){f=f||{};var e=a.normalizeLocale(f.locale),e=a.getLocalization("dojo.cldr","number",e),g=f.pattern||e[(f.type||"decimal")+"Format"],c=e.group,l=e.decimal,h=1;if(-1!=g.indexOf("%"))h/=100;else if(-1!=g.indexOf("\u2030"))h/=1E3;else{var q=-1!=g.indexOf("\u00a4");q&&(c=e.currencyGroup||c,l=e.currencyDecimal||l)}e=g.split(";");1==e.length&&e.push("-"+e[0]);e=d.buildGroupRE(e,function(a){a="(?:"+d.escapeString(a,".")+")";
return a.replace(b._numberPatternRE,function(a){var e={signed:!1,separator:f.strict?c:[c,""],fractional:f.fractional,decimal:l,exponent:!1};a=a.split(".");var d=f.places;1==a.length&&1!=h&&(a[1]="###");1==a.length||0===d?e.fractional=!1:(void 0===d&&(d=f.pattern?a[1].lastIndexOf("0")+1:Infinity),d&&void 0==f.fractional&&(e.fractional=!0),!f.places&&d<a[1].length&&(d+=","+a[1].length),e.places=d);a=a[0].split(",");1<a.length&&(e.groupSize=a.pop().length,1<a.length&&(e.groupSize2=a.pop().length));return"("+
b._realNumberRegexp(e)+")"})},!0);q&&(e=e.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,c,b,e){a=d.escapeString(f[["symbol","currency","displayName"][b.length-1]]||f.currency||"");if(!a)return"";c=c?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return!f.strict?(c&&(c+="*"),e&&(e+="*"),"(?:"+c+a+e+")?"):c+a+e}));return{regexp:e.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:c,decimal:l,factor:h}};b.parse=function(a,e){var d=b._parseInfo(e),c=RegExp("^"+d.regexp+"$").exec(a);if(!c)return NaN;var f=c[1];if(!c[1]){if(!c[2])return NaN;
f=c[2];d.factor*=-1}f=f.replace(RegExp("["+d.group+"\\s\\xa0]","g"),"").replace(d.decimal,".");return f*d.factor};b._realNumberRegexp=function(a){a=a||{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");if(!("fractional"in a)||/^0/.test(a.places))a.fractional=[!0,!1];"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var e=b._integerRegexp(a),f=d.buildGroupRE(a.fractional,function(c){var b="";c&&0!==a.places&&(b="\\"+a.decimal,b=Infinity==a.places?
"(?:"+b+"\\d+)?":b+("\\d{"+a.places+"}"));return b},!0),c=d.buildGroupRE(a.exponent,function(c){return c?"([eE]"+b._integerRegexp({signed:a.eSigned})+")":""}),e=e+f;f&&(e="(?:(?:"+e+")|(?:"+f+"))");return e+c};b._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var b=d.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),f=d.buildGroupRE(a.separator,function(c){if(!c)return"(?:\\d+)";c=d.escapeString(c);" "==c?
c="\\s":"\u00a0"==c&&(c="\\s\\xa0");var b=a.groupSize,e=a.groupSize2;return e?(c="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+c+"]\\d{"+e+"})*["+c+"]\\d{"+b+"})",0<b-e?"(?:"+c+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":c):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+c+"]\\d{"+b+"})*)"},!0);return b+f};return b})},"mw-colorpicker/ToggleButtonGroup":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ToggleButton".split(" "),function(h,a,g,
f,d,b,l){return h([f,d,b],{onChange:function(){},value:1,buttonText:["Option1","Option2"],baseClass:"mwToggleButtonGroup",postMixInProperties:function(){this.inherited(arguments);var a="";this.buttonText.forEach(function(b,d,c){var f="";0===d?f="firstToggle":d===c.length-1&&(f="lastToggle");a+=g.substitute('\x3ctd\x3e\x3cbutton class\x3d"${className}" data-dojo-type\x3d"dijit/form/ToggleButton" data-dojo-attach-point\x3d"${attachPoint}" data-test-id\x3d"${dataTestId}"\x3e${buttonText}\x3c/button\x3e\x3c/td\x3e',
{className:f,attachPoint:"button"+(d+1),buttonText:b,dataTestId:"toggleGroup_button"+(d+1)})});this.templateString='\x3ctable class\x3d"${baseClass}"\x3e\x3ctr class\x3d"${baseClass}Buttons"\x3e'+a+"\x3c/tr\x3e\x3c/table\x3e"},buildRendering:function(){this.inherited(arguments);this.buttonWidgets=[];this.buttonText.forEach(a.hitch(this,function(b,e,d){b=this["button"+(e+1)];this.buttonWidgets.push(b);b.set("onChange",a.hitch(this,this._handleToggleChange,e+1))}))},postCreate:function(){this.inherited(arguments)},
_setValueAttr:function(a,b){this.buttonWidgets.forEach(function(a){a.set("checked",!1,!1)});this.buttonWidgets[a-1].set("checked",!0,!1);if(this.get("value")!==a&&(this._set("value",a),b||void 0===b))this.onChange(this.get("value"))},_handleToggleChange:function(a){this.set("value",a)},_setButtonTextAttr:function(b){b.forEach(a.hitch(this,function(a,b){this.buttonWidgets[b].set("label",a)}))}})})},"MW/toolstrip/form/GridPickerButton":function(){define("dijit/focus dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dojo/keys MW/GridPicker MW/toolstrip/form/DropDownButton mw-menu/Menu mw-dom-utils/domUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return a([m,d],{baseClass:"mwWidget mwDropDownButton mwGridPickerButton",visualFamily:"toolstrip",maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",constructor:function(a){a=a||{};this.maxRows=a.maxRows?a.maxRows:this.maxRows;this.maxColumns=a.maxColumns?a.maxColumns:this.maxColumns;this.occupancy=a.occupancy?a.occupancy:this.occupancy;this.fillOrder=a.fillOrder?a.fillOrder:this.fillOrder;this._gridPicker=new l({maxRows:this.maxRows,maxColumns:this.maxColumns,occupancy:this.occupancy,
fillOrder:this.fillOrder});this._gridPickerMenu=new e;this.selection={};this.own(this._gridPicker);this.own(this._gridPickerMenu)},buildRendering:function(){this.inherited(arguments);this._gridPickerMenu.addChild(this._gridPicker);this.set("menu",this._gridPickerMenu)},_setSelectionAttr:function(a){0!==Object.keys(a).length&&this._gridPicker.getLastSelectedRowCount()!==a.row&&this._gridPicker.getLastSelectedColumnCount()!==a.column&&this._gridPicker.highlightCells(a.row-1,a.column-1);this._set("selection",
a)},_setMaxRowsAttr:function(a){if(this._created)throw Error("Max Rows can only be set at construction time");this._set("maxRows",a)},_setMaxColumnsAttr:function(a){if(this._created)throw Error("Max Columns can only be set at construction time");this._set("maxColumns",a)},_setOccupancyAttr:function(a){this._gridPicker.set("occupancy",a);this._set("occupancy",a)},_setFillOrderAttr:function(a){this._gridPicker.set("fillOrder",a);this._set("fillOrder",a)},postCreate:function(){this.inherited(arguments);
this._gridPicker.on(l.SELECTION_CHANGED,this._handleGridSelection.bind(this));this.menu.on("keydown",this._handleMenuKeyDown.bind(this));this.menu.on("open",this._handleMenuCloseOnFocusOut.bind(this))},_handleGridSelection:function(a){var b={};b.row=a.rows;b.column=a.columns;this.set("selection",b);this.closeMenu()},_handleMenuCloseOnFocusOut:function(){var a=h.watch("curNode",g.hitch(this,function(b,e,d){if(null===d||!k.findParentNode(d,"mwMenu"))a.unwatch(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(a){a.keyCode===
b.TAB&&a.stopPropagation();this._gridPicker.navigate(a)}})})},"MW/GridPicker":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/Evented dojo/keys dojo/on dojo/touch dijit/_WidgetBase".split(" "),function(h,a,g,f,d,b,l,m,e){h=h([e,d],{maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",_highlightedRows:0,_highlightedColumns:0,_lastSelectedRows:0,_lastSelectedColumns:0,buildRendering:function(){this.inherited(arguments);this.domNode.classList.add("gridPicker");
this.domNode.setAttribute("tabindex",0);this._createGrid()},postCreate:function(){this.inherited(arguments);this.domNode.addEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.addEventListener("click",this._commitSelection.bind(this));this.domNode.addEventListener("mouseleave",this._clearHighlighting.bind(this))},getLastSelectedRowCount:function(){return this._lastSelectedRows},getLastSelectedColumnCount:function(){return this._lastSelectedColumns},navigate:function(a){var c=
!1,e=!1;0!==this._highlightedRows&&0!==this._highlightedColumns&&(c=!0);switch(a.keyCode){case b.DOWN_ARROW:c?this.highlightCells(this._highlightedRows,this._highlightedColumns-1):this.highlightCells(0,0);e=!0;break;case b.UP_ARROW:c&&this.highlightCells(this._highlightedRows-2,this._highlightedColumns-1);e=!0;break;case b.RIGHT_ARROW:c&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns);e=!0;break;case b.LEFT_ARROW:c&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns-
2);e=!0;break;case b.ENTER:this._commitSelection();this._clearHighlighting();e=!0;break;case b.TAB:c?this._highlightedColumns<this.maxColumns?this.highlightCells(this._highlightedRows-1,this._highlightedColumns):this._highlightedRows<this.maxRows&&this.highlightCells(this._highlightedRows,0):this.highlightCells(0,0);e=!0;break;case b.ESCAPE:this._clearHighlighting()}return e},highlightCells:function(a,c){var b,e,d=0;if(void 0!==a&&void 0!==c)if(this._highlightedRows=a+1,this._highlightedColumns=c+
1,"rowMajor"===this.fillOrder)for(b=0;b<this.maxRows;b++)for(e=0;e<this.maxColumns;e++)b<=a&&e<=c?(this._cells[b][e].classList.add("selected"),d<this.occupancy?this._cells[b][e].classList.add("occupied"):this._cells[b][e].classList.remove("occupied"),d++):this._cells[b][e].classList.remove("selected");else for(e=0;e<this.maxColumns;e++)for(b=0;b<this.maxRows;b++)b<=a&&e<=c?(this._cells[b][e].classList.add("selected"),d<this.occupancy?this._cells[b][e].classList.add("occupied"):this._cells[b][e].classList.remove("occupied"),
d++):this._cells[b][e].classList.remove("selected")},_createGrid:function(){var a,c,b;this._cells=[];this._cells.length=this.maxRows;for(a=0;a<this.maxRows;a++){this._cells[a]=[];this._cells[a].length=this.maxColumns;for(c=0;c<this.maxColumns;c++)b=document.createElement("button"),b.setAttribute("id",this.id+"Cell"+a+"_"+c),b.setAttribute("tabindex","0"),this.domNode.appendChild(b),b.classList.add("cell"),b.row=a,b.col=c,this._cells[a][c]=b;a<this.maxRows&&(c=document.createElement("br"),this.domNode.appendChild(c))}},
_highlightSelection:function(a){this.highlightCells(a.target.row,a.target.col)},_clearHighlighting:function(){var a,c;for(a=0;a<this._highlightedRows;a++)for(c=0;c<this._highlightedColumns;c++)this._cells[a][c].classList.remove("selected");this._highlightedColumns=this._highlightedRows=0},_commitSelection:function(){this._lastSelectedRows=this._highlightedRows;this._lastSelectedColumns=this._highlightedColumns;this.emit("gridSelectionChanged",{rows:this._lastSelectedRows,columns:this._lastSelectedColumns})},
startup:function(){this.inherited(arguments)},destroy:function(){this.domNode.removeEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.removeEventListener("click",this._commitSelection.bind(this));this.domNode.removeEventListener("mouseleave",this._clearHighlighting.bind(this));this.inherited(arguments)}});h.ROW_MAJOR="rowMajor";h.COLUMN_MAJOR="columnMajor";h.SELECTION_CHANGED="gridSelectionChanged";return h})},"MW/toolstrip/qab/QABPushButton":function(){define(["dojo/_base/declare",
"../form/PushButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,a,g,f){return h([a,g,f],{})})},"MW/toolstrip/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","mw-mixins/property/DescriptionMixin","mw-mixins/property/ShortcutMixin"],function(h,a,g,f){h=h(null,{showText:!0,_setShowTextAttr:function(a){if("boolean"!==typeof a)throw Error("'showText' property expects a boolean!");this._set("showText",
a);this._updateTooltip(a)},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setDescriptionAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setShortcutAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_updateTooltip:function(a){var b=this.get("text");b&&(b=b.replace(/\n/g," "));a=a?this.get("description"):b;this.get("shortcut")&&(a=a?a+" ("+this._getPlatformizedShortcut(this.get("shortcut"))+
")":this._getPlatformizedShortcut(this.get("shortcut")));this.domNode.setAttribute("title",a);this._updateTextInDOM(this.get("text"))},_getTextForDOM:function(){return this.get("showText")?this.inherited(arguments):""}});h._dependencies=[{mixin:a,orderDependent:!0},{mixin:g,orderDependent:!0},{mixin:f,orderDependent:!0}];return h})},"MW/toolstrip/qab/QABDropDownButton":function(){define(["dojo/_base/declare","../form/DropDownButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],
function(h,a,g,f){return h([a,g,f],{})})},"MW/toolstrip/qab/QABSplitButton":function(){define(["dojo/_base/declare","../form/SplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,a,g,f){return h([a,g,f],{})})},"MW/toolstrip/qab/QABToggleButton":function(){define(["dojo/_base/declare","../form/ToggleButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,a,g,f){return h([a,g,f],{})})},"MW/toolstrip/qab/QABToggleSplitButton":function(){define(["dojo/_base/declare",
"../form/ToggleSplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,a,g,f){return h([a,g,f],{})})},"MW/toolstrip/form/ToggleSplitButton":function(){define("dojo/_base/declare mw-form/ToggleSplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u){return h(u.validate([a,g,f,b,l,m,e,k,c,d,n,p,t,q,r,s]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/ToggleSplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O,S,M){return h(S.validate([a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I,O]),{baseClass:"mwWidget mwToggleSplitButton",templateString:M,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},postCreate:function(){this.set("checkableNode",this.buttonNode);this.inherited(arguments)}})})},"MW/toolstrip/widgets/qabcontrols/QABFloatingPaneDock":function(){define("dojo/_base/declare dojo/topic dijit/registry MW/toolstrip/constants/TypeConstants MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash MW/toolstrip/menu/PopupList MW/toolstrip/menu/ListItem MW/toolstrip/qab/QABDropDownButton".split(" "),
function(h,a,g,f,d,b,l,m){return h([m],{postCreate:function(){this.text=this[d[f.QAB_FLOATING_PANE_DOCK].text];this.inherited(arguments);a.publish("/floatingPaneDockUpdate",{newWidget:this});g.byId("dockDropDownMenu")?this._popupList=g.byId("dockDropDownMenu"):this._popupList=new b({id:"dockDropDownMenu"});this.set("menuId","dockDropDownMenu")},addItem:function(a){var b=new l({guiId:a.id,text:a.title});a.watch("title",function(){b.set("text",a.title)});b.on("click",function(){a.show();a.bringToTop()});
this._popupList.addChild(b);this._toggleSelectDisplayAndReset()},_findMenuItemForGuiId:function(a){var b=null;this._popupList.getChildren().some(function(c){b=c;return c.guiId===a});return b},removeItem:function(a){a=this._findMenuItemForGuiId(a.id);this._popupList.removeChild(a);a.destroyRecursive();this._destroyed||this._toggleSelectDisplayAndReset()},startup:function(){this.inherited(arguments);this._toggleSelectDisplayAndReset()},_toggleSelectDisplayAndReset:function(){0<this._popupList.getChildren().length?
this.set("disabled",!1):this.set("disabled",!0)},_positionDock:function(){}})})},"MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","../constants/TypeConstants","MW/toolstrip/hashes/listOfNewWidgets"],function(h,a,g){var f={},d,b,l,m;b={enabled:"disabled"};d=h.mixin({text:"label"},b);l=h.mixin({text:"label",showText:"showLabel",shortcut:"accelKey"},b);m=h.mixin({popupId:"menuId",hasDynamicPopup:"hasDynamicMenu"},b);f[a.PUSH_BUTTON]=-1===g.indexOf(a.PUSH_BUTTON)?
d:b;f[a.TOGGLE_BUTTON]=h.mixin({selected:"checked"},-1===g.indexOf(a.TOGGLE_BUTTON)?d:b,-1===g.indexOf(a.TOGGLE_BUTTON)?{}:{buttonGroupName:"buttonGroup"});f[a.TOGGLE_SPLIT_BUTTON]=h.mixin({selected:"checked"},-1===g.indexOf(a.TOGGLE_SPLIT_BUTTON)?b:m,-1===g.indexOf(a.TOGGLE_SPLIT_BUTTON)?{}:{buttonGroupName:"buttonGroup"},-1===g.indexOf(a.TOGGLE_SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});f[a.DROP_DOWN_BUTTON]=-1===g.indexOf(a.DROP_DOWN_BUTTON)?d:m;f[a.SPLIT_BUTTON]=h.mixin(-1===
g.indexOf(a.SPLIT_BUTTON)?d:m,-1===g.indexOf(a.SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});f[a.COLOR_PICKER_BUTTON]=b;f[a.GRID_PICKER_BUTTON]=b;f[a.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=d;f[a.LIST_ITEM]=-1===g.indexOf(a.LIST_ITEM)?l:b;f[a.LIST_ITEM_WITH_CHECKBOX]=h.mixin({selected:"checked"},-1===g.indexOf(a.LIST_ITEM_WITH_CHECKBOX)?l:b,-1===g.indexOf(a.LIST_ITEM_WITH_CHECKBOX)?{}:{closePopupOnClick:"closeMenuOnClick"});f[a.LIST_ITEM_WITH_RADIO_BUTTON]=h.mixin({selected:"checked"},
-1===g.indexOf(a.LIST_ITEM_WITH_RADIO_BUTTON)?l:b,-1===g.indexOf(a.LIST_ITEM_WITH_RADIO_BUTTON)?{}:{closePopupOnClick:"closeMenuOnClick",buttonGroupName:"buttonGroup"});f[a.LIST_ITEM_WITH_TEXTFIELD]=h.mixin(-1===g.indexOf(a.LIST_ITEM_WITH_TEXTFIELD)?{editable:"readOnly"}:{placeholderText:"placeholder"},{text:"value"},b);f[a.LIST_ITEM_WITH_POPUP]=-1===g.indexOf(a.LIST_ITEM_WITH_POPUP)?l:m;f[a.POPUP_LIST_HEADER]=h.mixin({title:-1===g.indexOf(a.POPUP_LIST_HEADER)?"label":"text"});f[a.SPINNER]=h.mixin({minorStepSize:-1===
g.indexOf(a.SPINNER)?"smallDelta":"step",majorStepSize:-1===g.indexOf(a.SPINNER)?"largeDelta":"step"},-1===g.indexOf(a.SPINNER)?{editable:"readOnly"}:{},b);f[a.TEXT_FIELD]=h.mixin({text:"value"},-1===g.indexOf(a.TEXT_FIELD)?{placeholderText:"placeHolder_asdfasdf",editable:"readOnly"}:{placeholderText:"placeholder"},b);f[a.TEXT_AREA]=h.mixin({text:"value"},-1===g.indexOf(a.TEXT_AREA)?{editable:"readOnly"}:{},b);f[a.RADIO_BUTTON]=h.mixin(-1===g.indexOf(a.RADIO_BUTTON)?{text:"label"}:{buttonGroupName:"buttonGroup"},
{selected:"checked"},b);f[a.LABEL]=h.mixin({},b);f[a.CHECK_BOX]=h.mixin(-1===g.indexOf(a.CHECK_BOX)?{text:"label"}:{},{selected:"checked"},b);f[a.COMBO_BOX]=h.mixin(-1===g.indexOf(a.COMBO_BOX)?{editable:"readOnly"}:{selectedItem:"value",placeholderText:"placeholder"},b);f[a.LIST]=h.mixin(-1===g.indexOf(a.LIST)?{}:{selectedItems:"value"},b);f[a.HORIZONTAL_SLIDER]=b;f[a.GALLERY]=b;f[a.GALLERY_ITEM]=b;f[a.TOGGLE_GALLERY_ITEM]=h.mixin({selected:"checked",buttonGroupName:"buttonGroup"},b);f[a.QAB_PUSH_BUTTON]=
f[a.PUSH_BUTTON];f[a.QAB_DROP_DOWN_BUTTON]=f[a.DROP_DOWN_BUTTON];f[a.QAB_FLOATING_PANE_DOCK]=d;f[a.QAB_SPLIT_BUTTON]=f[a.SPLIT_BUTTON];f[a.QAB_TOGGLE_BUTTON]=f[a.TOGGLE_BUTTON];f[a.QAB_TOGGLE_SPLIT_BUTTON]=f[a.TOGGLE_SPLIT_BUTTON];Object.keys(f).forEach(function(a){Object.keys(f[a]).forEach(function(b){f[a][f[a][b]]=b})});return f})},"MW/toolstrip/menu/PopupList":function(){define(["dojo/_base/declare","mw-menu/Menu","../mixins/property/TypeMixin","../mixins/ScrollbarMixin","mw-mixins/mixinDependencyValidator"],
function(h,a,g,f,d){return h(d.validate([a,g,f]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary")}})})},"MW/toolstrip/menu/ListItem":function(){define("dojo/_base/declare mw-menu/MenuItem MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin MW/toolstrip/mixins/property/QuickAccessIconMixin MW/toolstrip/mixins/property/RemovableMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return h(k.validate([a,g,f,d,b,l,m,e]),{visualFamily:"toolstrip",_setRemovableAttr:function(a){this.inherited(arguments);if(a){this.domNode.classList.add("removableTrue");this._removeNode=document.createElement("div");this._removeNode.classList.add("mwRemoveNode");var b=document.createElement("div");b.classList.add("clear_all");this._removeNode.appendChild(b);this.domNode.appendChild(this._removeNode);this._handleKeyupForRemove=function(a){46===a.keyCode&&(this._emitRemoveEvent(),
a.stopPropagation())}.bind(this);this.domNode.addEventListener("keyup",this._handleKeyupForRemove);this._removeNode.addEventListener("click",this._handleRemoveNodeClick.bind(this));this._removeNode.addEventListener("mouseup",this._handleRemoveNodeMouseup)}else this._removeNode&&(this.domNode.classList.remove("removableTrue"),this.domNode.removeChild(this._removeNode),this._removeNode=null,this.domNode.removeEventListener("keyup",this._handleKeyupForRemove));this._set("removable",a)},_handleRemoveNodeClick:function(a){this._emitRemoveEvent();
a.stopPropagation()},_handleRemoveNodeMouseup:function(a){a.stopPropagation()}})})},"MW/toolstrip/mixins/property/UseQuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(h,a){var g=h(null,{useQuickAccessIcon:!1,postCreate:function(){this.inherited(arguments);this.set("useQuickAccessIcon",this.get("useQuickAccessIcon"))},_setUseQuickAccessIconAttr:function(a){if("boolean"!==typeof a)throw Error("'useQuickAccessIcon' property expects a boolean!");this._set("useQuickAccessIcon",
a);a?this.set("iconProp","quickAccessIcon"):this.set("iconProp","icon")}});g._dependencies=[{mixin:a,orderDependent:!1}];return g})},"MW/toolstrip/menu/ListItemWithPopup":function(){define("dojo/_base/declare mw-menu/PopupMenuItem MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e){return h(e.validate([a,g,f,d,b,l,m]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/ListItemWithCheckBox":function(){define("dojo/_base/declare mw-menu/CheckBoxMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),function(h,a,g,f,d,b){return h(b.validate([a,g,f,d]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.checkBox.set("visualFamily",
"toolstrip")}})})},"mw-menu/CheckBoxMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/CheckBox mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G){return h(H.validate([g,f,d,b,l,x,z,e,k,c,n,q,r,s,t,u,v,p,w,y,A,B,D]),{baseClass:"mwWidget mwSharedMenuItem mwCheckBoxMenuItem",templateString:G,constructor:function(){this.checkBox=new m({text:""});this.own(this.checkBox)},_setCheckedAttr:function(a){this.inherited(arguments);this.checkBox.set("checked",a);this.get("closeMenuOnClick")&&(a?(this.checkBox.domNode.classList.add("mwSpecialCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwNoCheckBoxIcon")):
(this.checkBox.domNode.classList.add("mwNoCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwSpecialCheckBoxIcon")))},buildRendering:function(){this.inherited(arguments);this.checkBox.placeAt(this.domNode,"first")},postCreate:function(){this.inherited(arguments);this.checkBox._triggerChangeEvent=function(){};this.checkBox._onClick=function(){};this.domNode.setAttribute("data-composite-primary","");(this.checkBox.focusNode||this.checkBox.domNode).setAttribute("data-composite-child","");(this.checkBox.focusNode||
this.checkBox.domNode).setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.checkBox.startup()},_onClick:function(){this.inherited(arguments);this.checkBox.set("checked",this.get("checked"))},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/CheckBox":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBox.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){return h(v.validate([g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u]),{baseClass:"mwWidget mwCheckBox",templateString:w,postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"keydown",this._handleKeydown.bind(this)),a(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())}})})},"mw-form/mixins/CheckBoxRadioButtonTextSizingMixin":function(){define(["dojo/_base/declare",
"dojo/dom-geometry"],function(h,a){return h(null,{_setWidthAttr:function(){this.inherited(arguments);if(this._started)if("auto"!==this.get("width")){var g=a.position(this.checkBoxRadioIconNode),f=a.getMarginExtents(this.textNode);this.textNode.style.width=this.width-(g.w+f.l)+"px"}else this.textNode.style.width="auto"}})})},"MW/toolstrip/menu/ListItemWithTextField":function(){define("dojo/_base/declare dojo/_base/lang mw-menu/TextFieldMenuItem ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b){return h(b.validate([g,f,d]),{visualFamily:"toolstrip",constructor:function(){this.textField._triggerTypingEvent=function(a){this.emit("typing",{mwEventData:{text:a}})}},_setLabelAttr:function(a){this.set("text",a);this._set("label",a)},getLabelAttr:function(){this.get("text")},postCreate:function(){this.inherited(arguments);this.textField.set("visualFamily","toolstrip");this.watch("text",a.hitch(this,"_updateLabel"))},_updateLabel:function(a,b,e){this.set("label",e)},_onFocus:function(){this.inherited(arguments);
this.emit("focusgained",{mwEventData:{text:this.textField.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.textField.inputNode.value}})}})})},"mw-menu/TextFieldMenuItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-dom-utils/domUtils mw-form/TextField mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-mixins/property/ValidationMixin dojo/text!./templates/TextFieldMenuItem.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H){return h(B.validate([b,l,m,e,k,s,t,v,u,w,p,q,r,x,z,y,A,D]),{baseClass:"mwWidget mwSharedMenuItem mwTextFieldMenuItem",templateString:H,closeOnEnter:!0,editable:!0,placeholder:"",constructor:function(){this.textField=new n({value:""});this.own(this.textField)},_setPlaceholderAttr:function(a){this.textField.set("placeholder",a);this._set("placeholder",a)},_getPlaceholderAttr:function(a){return this.textField.get("placeholder")},_setValueAttr:function(a){this.textField.set("value",
a);this._set("value",a)},_setEditableAttr:function(a){this.textField.set("editable",a);this._set("editable",a)},_getValueAttr:function(){return this.textField.get("value")},_getEditableAttr:function(){return this.textField.get("editable")},buildRendering:function(){this.inherited(arguments);this.textField.placeAt(this.shortcutKeyNode,"before");this.inputNode=this.textField.inputNode},postCreate:function(){this.inherited(arguments);this.textField.on("change",a.hitch(this,function(a){this.get("value")!==
a.mwEventData.newValue&&this.set("value",a.mwEventData.newValue)}));this.own(g(this.textField.focusNode,"change",a.hitch(this,"_onChange")),g(this.textField.focusNode,"keydown",a.hitch(this,"_onKeyDown")),g(this.domNode,"focus",a.hitch(this,"_focusGained")));this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"));this._setPlaceholderAttr(this.get("placeholder"));this.domNode.setAttribute("data-composite-primary","");this.domNode.setAttribute("spellcheck","false");
(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-child","");(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-primary-id",this.get("id"));this.textField.domNode.setAttribute("data-composite-child","");this.textField.domNode.setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.textField.startup()},_getDomNodeForValidationClasses:function(){return this.textField.domNode},_focusGained:function(a){this.focus&&
c.isFocusable(this.focusNode||this.domNode)&&this.focus()},focus:function(){var a=this.focusNode||this.domNode;a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));c.isFocusable(a)&&d.focus(this.getFocusNode())},getFocusNode:function(){return this.textField.focusNode},_onKeyDown:function(a){if(a.keyCode===f.TAB)a.preventDefault(),a.stopPropagation(),this.emit("synkeydown",{keyCode:f.TAB});else if(a.keyCode===f.ESCAPE)this.textField.inputNode.value=
this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),a.preventDefault(),a.stopPropagation(),this._requestClose(!1);else if(a.keyCode===f.ENTER){a=this.get("value");var c=this.textField.inputNode.value;a===c?this.emit("recommit",{mwEventData:{propertyName:"value",value:c}}):(this.emit("commit",{mwEventData:{propertyName:"value",value:c}}),this.set("value",c),this.textField._triggerChangeEvent("value",a,c));this.closeOnEnter&&!0===this.closeOnEnter&&this._requestClose(!1)}else(a.keyCode===
f.HOME||a.keyCode===f.END)&&a.stopPropagation()},_handleInputNodeClick:function(){!1!==this.textField.get("editable")&&this.textField.inputNode.select()},_emitClickEvent:function(a){this.emit("click",{mwEventData:{value:this.get("value")},_dojo_click:!0});a.target!==this.inputNode&&this.emit("itempushed")},_qeTypeOverWithEnter:function(a){this.textField._qeTypeOverWithEnter(a)},_qeTyping:function(a){this.textField._qeTyping(a)}})})},"MW/toolstrip/menu/ListItemWithRadioButton":function(){define("dojo/_base/declare mw-menu/RadioButtonMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin ../mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l){return h(l.validate([a,g,f,d,b]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.radioButton.set("visualFamily","toolstrip")}})})},"mw-menu/RadioButtonMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/RadioButton mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I){return h(G.validate([g,f,d,b,l,z,y,p,r,s,t,u,v,w,q,x,e,k,A,B,c,n,D,H]),{baseClass:"mwWidget mwSharedMenuItem mwRadioButtonMenuItem",templateString:I,constructor:function(){this.radioButton=new m({text:""});this.own(this.radioButton)},_setCheckedAttr:function(a){this.inherited(arguments);this.radioButton.set("checked",a)},buildRendering:function(){this.inherited(arguments);this.radioButton.placeAt(this.domNode,"first")},startup:function(){this.inherited(arguments);
this.radioButton.startup()},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/RadioButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/RadioButton.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){return h(w.validate([g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v]),{baseClass:"mwWidget mwRadioButton",templateString:x,postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"keydown",this._handleKeydown.bind(this)),a(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())},_onClick:function(){!0===
!this.get("checked")&&this.inherited(arguments)}})})},"MW/toolstrip/menu/PopupListSeparator":function(){define(["dojo/_base/declare","mw-menu/MenuSeparator","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(h,a,g,f){return h(f.validate([a,g]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/PopupListHeader":function(){define(["dojo/_base/declare","mw-menu/MenuHeader","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(h,a,g,f){return h(f.validate([a,
g]),{visualFamily:"toolstrip"})})},"mw-menu/MenuHeader":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/PreventFocusMixin mw-mixins/PreventSelectionMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuHeader.html".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){return h(k.validate([a,g,f,d,b,l,m,e]),{baseClass:"mwWidget mwMenuHeader",templateString:c})})},
"MW/toolstrip/form/ComboBox":function(){define("dojo/_base/declare dojo/keys mw-form/ComboBox dijit/registry ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){return h([g,d,b,l,m,e,k,c,n],{visualFamily:"toolstrip",height:22,mnemonicKeyNavDirection:"none",
_setEditableAttr:function(a){this.inherited(arguments);!1===a?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.arrowNode.setAttribute("data-focus","refuse"))},postCreate:function(){this._textField.set("visualFamily","toolstrip");this.menu.set("visualFamily","toolstrip");this.inherited(arguments);!1===this.get("editable")?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.get("menu").domNode.setAttribute("data-focus",
"refuse"));this.get("menu").domNode.setAttribute("data-focus","temporary")},_handleTextFieldKeyDown:function(c){c.keyCode===a.ESCAPE&&(this.emit("textcancelled",{mwEventData:{text:this.inputNode.value}}),this.emit("restorefocustolastnonrefuseelement"));if(c.keyCode===a.ENTER){if(this.get("value")===this.inputNode.value){var b=this._getSelectedItemFromValue(this.get("value"));b&&b.label===this.inputNode.value&&void 0!==b.value?this.emit("recommit",{mwEventData:{value:b.value}}):this.emit("recommit",
{mwEventData:{text:this.get("value")}})}this.emit("restorefocustolastnonrefuseelement")}this.inherited(arguments)},_handleMenuClick:function(a){var c=this._getSelectedItemFromLabel(a.target.textContent);this.get("value")===c.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}});this.inherited(arguments)},_initMenuItems:function(a){this.inherited(arguments);this._started&&a.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},resize:function(){var a=this.get("width"),
c=2;"100%"===a&&(a=this.domNode.getBoundingClientRect().width-c,c=0);this._textField.domNode.style.width="calc("+a+"px - 22px - 2px - 1px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+c+"px)"},startup:function(){this.inherited(arguments);this.items.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},_openComboBoxMenu:function(){this.inherited(arguments);this.emit("dropdownclick",{})},closeMenu:function(){this.inherited(arguments);this.emit("restorefocustolastnonrefuseelement")},
_setItemsAttr:function(){this.inherited(arguments);this.menu.getChildren().forEach(function(a){a.classList.remove("mwDefaultVisualFamily");a.classList.add("mwToolstripVisualFamily")})},_setFooterIdAttr:function(a){var c=f.byId(a);c&&(this._createFooterNode(),c.placeAt(this.footerNode),c.startup());this._set("footerId",a)},_createFooterNode:function(){if(this.footerNode){var a=f.byId(this.get("footerId"));a&&a.destroyRecursive()}else this.footerNode=document.createElement("div"),this.get("menu").domNode.appendChild(this.footerNode)}})})},
"mw-form/ComboBox":function(){define("dojo/_base/declare dojo/on dojo/_base/lang dojo/keys dijit/popup dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin dijit/focus dojo/mouse mw-mixins/AccessibilityClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-mixins/property/VisualFamilyMixin mw-mixins/ResizeMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/TextField dijit/_Container mw-mixins/KeyNavMixin mw-dom-utils/domUtils mw-mixins/mixinDependencyValidator dojo/text!./templates/ComboBox.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D,H,G,I){var O=h([b,k,m,B,D,w],{baseClass:"mwWidget mwComboBoxPopup",templateString:'\x3cdiv tabindex\x3d"0"\x3e\x3cdiv data-dojo-attach-point\x3d"menuItemsNode"\x3e\x3c/div\x3e\x3c/div\x3e',getChildren:function(){return Array.prototype.slice.call(this.menuItemsNode.childNodes)}});return h(G.validate([b,l,m,e,k,p,q,r,s,t,u,v,w,x,z,y]),{baseClass:"mwWidget mwComboBox",templateString:I,editable:!1,text:"",height:22,width:150,maxHeight:500,ORIENTATION_VALUES:{below:["below",
"below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]},constructor:function(c){c=c||{};this._textField=new A({editable:!1,disabled:!0});this.own(this._textField);this.own(a(this._textField,"typing",g.hitch(this,"_handleTextFieldTyping")),a(this._textField,"keydown",g.hitch(this,"_handleTextFieldKeyDown")));this.menu=new O({});this.own(this.get("menu"));this._isTextEmpty=!0;this._pendingValue=null;if(c&&!1===this.get("editable")&&c.value&&!c.items)throw Error("Value cannot be set on a non-editable combo box without having items");
},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"mousedown",g.hitch(this,"focus")),a(this._textField.inputNode,"blur",g.hitch(this,"_handleTextFieldBlur"),!0),a(this.domNode,"blur",g.hitch(this,"_handleDomNodeBlur"),!0),a(this.domNode,"keydown",g.hitch(this,"_handleDomNodeKeyDown")),a(this.get("menu").menuItemsNode,"click",g.hitch(this,"_handleMenuClick")),a(this.get("menu").menuItemsNode,"keydown",g.hitch(this,"_handleMenuKeyDown")));this._menuNodeMouseDownHandler||(this._menuNodeMouseDownHandler=
g.hitch(this,"_handleArrowNodeMouseDown"),this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("disabled")&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null);this.menu.domNode.addEventListener("blur",g.hitch(this,"_handleMenuBlur"),!0);(void 0===this.get("items")||0===this.get("items").length)&&this.set("items",[]);this.set("menuOrientation","vertical")},startup:function(){this.inherited(arguments);
this.menu.startup();this._textField.startup();this._isResized||this.resize()},destroy:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.textFieldContainerNode);this.inputNode=this._textField.inputNode;this.focusNode=this.domNode},_isDescendant:function(a,c){if(a===c)return!0;for(var b=c.parentNode;null!=b;){if(b===a)return!0;b=b.parentNode}return!1},_handleArrowNodeMouseDown:function(a){!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():
this.closeMenu()},closeMenu:function(){!0===!this._destroyed&&this.domNode.classList.remove("mwHasMenuOpened");d.close(this.menu);this._comboBoxMenuOpened=!1;this.menu&&(this.menu.domNode&&this.menu.domNode.parentNode)&&(this.menu.domNode.parentNode.style.overflowX="visible",this.menu.domNode.parentNode.style.overflowY="visible")},_closeMenuOnBlur:function(a){setTimeout(g.hitch(this,function(){if(!this._isDescendant(this.domNode,document.activeElement)&&!this._isDescendant(this.menu.domNode,document.activeElement)){this.closeMenu();
var a=this._getSelectedItemFromLabel(this.inputNode.value);a||(a={label:"",value:""});!0===this.get("editable")&&""!==this.inputNode.value&&this.inputNode.value!==a.label&&this.inputNode.value!==this.get("value")?a&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value):""===this.inputNode.value&&(""!==this.get("value")&&!0===this.get("editable"))&&this.set("value","")}},0))},_handleMenuBlur:function(a){this._closeMenuOnBlur(a)},_handleMenuItemMouseEnter:function(a){H.isFocusable(a.target)&&
c.focus(a.target)},_handleTextFieldBlur:function(a){!0===this.get("editable")&&this._closeMenuOnBlur(a)},_handleDomNodeBlur:function(a){!1===this.get("editable")&&this._closeMenuOnBlur(a)},_handleUpAndDownArrow:function(a){var b=this.get("menu").getChildren(),e=void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;if(a.keyCode===f.DOWN_ARROW){for(e=e&&void 0!==e.index?(e.index+1)%b.length:0;e<b.length;e++)if(this._isKeyboardNav(b[e])){c.focus(b[e]);break}this._comboBoxMenuOpened||
this._openComboBoxMenu();a.preventDefault()}else if(a.keyCode===f.UP_ARROW){for(e=e&&void 0!==e.index?(e.index-1)%b.length:b.length-1;0<=e;e--)if(this._isKeyboardNav(b[e])){c.focus(b[e]);break}this._comboBoxMenuOpened||this._openComboBoxMenu();a.preventDefault()}},_handleDomNodeKeyDown:function(a){if(!1===this.get("editable")&&!0===!this.get("disabled")&&(this._handleUpAndDownArrow(a),a.keyCode===f.SPACE||a.keyCode===f.ENTER))!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():this.closeMenu(),
a.stopPropagation(),a.preventDefault();a.keyCode===f.ESCAPE&&(!0===this._comboBoxMenuOpened&&(a.stopPropagation(),a.preventDefault()),this.closeMenu())},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?(this._menuNodeMouseDownHandler&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null),this.closeMenu()):this.menuNode&&null===this._menuNodeMouseDownHandler&&(this._menuNodeMouseDownHandler=g.hitch(this,"_handleArrowNodeMouseDown"),
this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("editable")&&this._textField.set("disabled",a)},_handleTextFieldKeyDown:function(a){!0===this.get("editable")&&this._handleUpAndDownArrow(a);!0===this.get("editable")&&a.keyCode===f.ENTER&&(a=this.inputNode.value,this._isTextEmpty=!0,(a=this._getSelectedItemFromLabel(a))&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value),this.closeMenu())},_openComboBoxMenu:function(a){var c=
void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==c&&0<this.get("menu").getChildren().length&&(this.get("menu").getChildren()[c.index].classList.add("mwComboBoxSelectedMenuItem"),this.get("menu").getChildren()[c.index].focus());(!a||!a.typing)&&this.get("menu").getChildren().forEach(function(a,c){"none"===a.style.display&&(a.style.display="")});d.open({parent:this,popup:this.menu,around:this.domNode,orient:this.menuOrientation});this.domNode.classList.add("mwHasMenuOpened");
this._comboBoxMenuOpened=!0;this.menu.domNode.parentElement.classList.contains("mwComboBoxPopupParent")||this.menu.domNode.parentElement.classList.add("mwComboBoxPopupParent")},_handleTextFieldTyping:function(a){var c=a.mwEventData.currentContent,b=RegExp(this._escapeRegExp(c),"i");this.get("menu").getChildren().forEach(g.hitch(this,function(a,e){if(this._isSeparator(a))a.style.display="none";else{var d=a.textContent;if(0===d.toLowerCase().indexOf(c.toLowerCase())){if(""!==c||b.test(d))a.style.display=
""}else a.style.display="none"}}));var e=0;this.get("menu").getChildren().forEach(g.hitch(this,function(a){this._isSeparator(a)&&0<e?(a.style.display="block",e=0):!this._isSeparator(a)&&"none"!==a.style.display&&e++}));this._comboBoxMenuOpened||this._openComboBoxMenu({typing:!0})},_handleMenuKeyDown:function(b){b.keyCode===f.BACKSPACE&&(b.preventDefault(),c.focus(this._textField.focusNode));(b.keyCode===f.ENTER||b.keyCode===f.SPACE)&&!this.get("disabled")&&a.emit(b.target,"click",{bubbles:!0,cancelable:!0,
mwEventData:{keyCode:b.keyCode},_dojo_click:!0});(b.keyCode===f.LEFT_ARROW||b.keyCode===f.RIGHT_ARROW)&&this.editable&&c.focus(this._textField.focusNode);b.keyCode===f.ESCAPE&&(this.closeMenu(),c.focus(this.focusNode),b.stopPropagation(),b.preventDefault())},_handleMenuClick:function(a){this._isSeparator(a.target)?a.preventDefault():(a=this._getSelectedItemFromLabel(a.target.textContent).value,this.set("value",a),this.closeMenu())},_removeSelectedMenuItemColor:function(){var a=void 0!==this._get("value")?
this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==a&&0<this.get("menu").getChildren().length&&this.get("menu").getChildren()[a.index].classList.remove("mwComboBoxSelectedMenuItem")},_onMouseDown:function(){this.inherited(arguments);c.focus(this.get("menu").focusNode)},_getParentPopup:function(a){for(;a;){if(a.classList&&a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=this.get("width"),c=2;"auto"===a&&(a=this.domNode.getBoundingClientRect().width,
c=0);this._textField.domNode.style.width="calc("+a+"px - 22px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+c+"px)"},focus:function(){if(!this.disabled&&this.focusNode.focus)try{setTimeout(g.hitch(this,function(){c.focus(this.focusNode)}),0)}catch(a){}},_setMaxHeightAttr:function(a){if("number"!==typeof a)throw Error("'MaxHeight' property expects a Number!");this.menu.domNode.style.maxHeight=a+"px";this._set("maxHeight",a)},_setValueAttr:function(a){var c=this._getSelectedItemFromValue(a);
if(("number"===typeof a?a.toString():a)&&c&&void 0!==c.index)this._textField.set("value",c.label),this._isTextEmpty=!0,this._removeSelectedMenuItemColor(),0<this.get("menu").getChildren().length&&void 0!==c.index&&this.get("menu").getChildren()[c.index].classList.add("mwComboBoxSelectedMenuItem");else if(("number"===typeof a?a.toString():a)&&!c)if(this.get("editable"))this._removeSelectedMenuItemColor(),this._textField.set("value",a),this._isTextEmpty=!1;else{if(!this.get("items")||0===this.get("items").length){this._pendingValue=
a;return}throw Error("Value must match an existing item for non-editable combo box");}else""===a&&(this._textField.set("value",""),void 0!==this._get("value")&&(this._removeSelectedMenuItemColor(),this._isTextEmpty=!0),""!==this.get("text")&&(this._isTextEmpty=!1));!0===this._isTextEmpty?this.set("text",""):this.set("text",a);c=this.get("value");this._set("value",a);a=this.get("value");c!==a&&this._triggerChangeEvent("value",c,a)},_getValueAttr:function(){return this._get("value")},_setItemsAttr:function(a){a&&
0<a.length?(this.set("value",""),this._initMenuItems(a)):(this.set("value",""),this._destroyMenuItems());this._set("items",a);!1===this.get("editable")&&null!=this._pendingValue&&(this.set("value",this._pendingValue),this._pendingValue=null)},_initMenuItems:function(a){0<this.get("menu").getChildren().length&&this._destroyMenuItems();a.forEach(function(a,c){var b=document.createElement("div");if(a.type&&"separator"===a.type)b.setAttribute("data-refuse-key-nav",!0),b.setAttribute("data-menu-item-type",
"separator"),b.classList.add("mwMenuSeparator"),this.get("menu").menuItemsNode.appendChild(b);else{b.setAttribute("tabIndex","0");"mwDefaultVisualFamily mwTextMixin mwTextMixin mwWidget mwSharedMenuItem mwMenuItem".split(" ").forEach(function(a){b.classList.add(a)});var e=document.createElement("div");e.textContent=a.label;e.classList.add("mwTextNode");b.appendChild(e);this.get("menu").menuItemsNode.appendChild(b);b.addEventListener("mouseover",g.hitch(this,"_handleMenuItemMouseEnter"))}},this)},
_getItemsAttr:function(){return this._get("items")},_setEditableAttr:function(a){a?(this.domNode.classList.add("mwEditableComboBox"),this.domNode.classList.remove("mwNonEditable"),this.focusNode=this._textField.focusNode,this._toggleTextField(!0),this._textField.focusNode.setAttribute("tabIndex","0"),this.menuNode=this.arrowNode,this._set("editable",!0)):(this.domNode.classList.add("mwNonEditable"),this.domNode.classList.remove("mwEditableComboBox"),this.focusNode=this.domNode,this._toggleTextField(!1),
this._textField.focusNode.setAttribute("tabIndex","-1"),this.menuNode=this.domNode,this._set("editable",!1))},_setTextAttr:function(a){!1===this._isTextEmpty||(""===this.get("value")||void 0===this.get("value"))&&""!==a?(this.get("editable")&&void 0===this._getSelectedItemFromValue(a)?(this._set("text",a),this._isTextEmpty=!1):(this._isTextEmpty=!0,this._set("text","")),this._textField.set("value",a)):this._set("text","")},_getTextAttr:function(a){return this._get("text")},_toggleTextField:function(a){this._textField.set("editable",
a);this._textField.set("disabled",!a)},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===this.ORIENTATION_VALUES.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+Object.keys(this.ORIENTATION_VALUES));this._set("menuOrientation",this.ORIENTATION_VALUES[a])},_setWidthAttr:function(a){this.inherited(arguments);(void 0!==this._started||!0===this._started)&&this.resize()},_setPlaceholderAttr:function(a){this._textField.set("placeholder",a);this._set("placeholder",
a)},_getPlaceholderAttr:function(){return this._textField.get("placeholder")},_destroyMenuItems:function(){for(;this.get("menu").menuItemsNode.firstChild;)this.get("menu").menuItemsNode.firstChild.removeEventListener("mouseover",g.hitch(this,"_handleMenuItemMouseEnter")),this.get("menu").menuItemsNode.removeChild(this.get("menu").menuItemsNode.firstChild)},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")},_getSelectedItemFromLabel:function(a){var c={};if(this.get("items")&&
0<this.get("items").length)for(var b=0;b<this.get("items").length;b++){var e=this.get("items")[b];if(void 0!==e.label&&e.label===a){c.label=e.label;c.value=e.value;c.index=b;break}}return void 0!==c.index?c:void 0},_getSelectedItemFromValue:function(a){var c={};if(this.get("items")&&0<this.get("items").length)for(var b=0;b<this.get("items").length;b++){var e=this.get("items")[b];if(void 0!==e.value&&(e.value===a||"object"===typeof e.value&&JSON.stringify(e.value)===JSON.stringify(a))){c.label=e.label;
c.value=e.value;c.index=b;break}}return void 0!==c.index?c:void 0},_isSeparator:function(a){return a&&a.getAttribute("data-menu-item-type")&&"separator"===a.getAttribute("data-menu-item-type")},_isKeyboardNav:function(a){return"none"!==a.style.display&&!this._isSeparator(a)},_qeSelectItemByLabel:function(a){a=this._getSelectedItemFromLabel(a).value;this.set("value",a)},_qeSelectItemByIndex:function(a){a=this.get("items")[a].value;this.set("value",a)}})})},"mw-mixins/KeyNavMixin":function(){define("dojo/_base/declare dijit/registry dijit/focus dojo/_base/lang dojo/on dojo/keys".split(" "),
function(h,a,g,f,d,b){return h(null,{postCreate:function(){this.inherited(arguments);this.own(d(this,"keydown",f.hitch(this,"_handleKeyBoardNavigation")))},_handleKeyBoardNavigation:function(a){var d=g.curNode;if(a.keyCode===b.DOWN_ARROW)this._handleDownArrow(d),a.preventDefault();else if(a.keyCode===b.UP_ARROW)this._handleUpArrow(d),a.preventDefault();else if(a.keyCode===b.PAGE_UP||a.keyCode===b.HOME)this._moveToFirstChild(d),a.preventDefault();else if(a.keyCode===b.PAGE_DOWN||a.keyCode===b.END)this._moveToLastChild(d),
a.preventDefault()},_handleDownArrow:function(a){a=a.parentElement.lastChild===a?a.parentElement.firstChild:a.nextSibling;a=this._moveToNextFocusableNode(a);a.focus()},_handleUpArrow:function(a){a=a.parentElement.firstChild===a?a.parentElement.lastChild:a.previousSibling;a=this._moveToPreviousFocusableNode(a);a.focus()},_moveToNextFocusableNode:function(b){for(var d;b;)if(d=a.getEnclosingWidget(b),b.getAttribute("data-refuse-key-nav")||d&&d.get("disabled")||"none"===b.style.display)b=b.nextSibling?
b.nextSibling:this._moveToFirstChild(b);else break;return b},_moveToPreviousFocusableNode:function(b){for(var d;b;)if(d=a.getEnclosingWidget(b),b.getAttribute("data-refuse-key-nav")||d&&d.get("disabled")||"none"===b.style.display)b=b.previousSibling?b.previousSibling:this._moveToLastChild(b);else break;return b},_moveToFirstChild:function(a){for(a=a.parentElement.firstChild;a;)if(a.getAttribute("data-refuse-key-nav"))a=a.nextSibling;else break;return a},_moveToLastChild:function(a){for(a=a.parentElement.lastChild;a;)if(a.getAttribute("data-refuse-key-nav"))a=
a.previousSibling;else break;return a}})})},"MW/toolstrip/mixins/AcceptFocusMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","accept")}})})},"MW/toolstrip/mixins/ColumnWidthMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_allowedValues:["auto","100%"],_validateSizeInput:function(a){"100%"!==a&&this.inherited(arguments)},_setSize:function(a,g){this._validateSizeInput(g);
this._set(a,g);if(this._started){"100%"===g&&this.getParent()&&(g=this.getParent().get("width"));var f="",f=0<=this._allowedValues.indexOf(g)?g:this._getAdjustedSize(a,g,this.domNode);this.domNode.style[a]=f}}})})},"MW/toolstrip/form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dojo/on mw-form/ListBox ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/AcceptFocusMixin ../mixins/ScrollbarMixin ../widgets/_ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return h(s.validate([d,b,l,m,e,k,c,n,p,q,r]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"horizontal",_setItemsAttr:function(a){this.inherited(arguments);this._started&&this._handleSelection(a)},_handleSelection:function(a){var c=[];a.forEach(function(a){!0===a.selected&&c.push(a.value)},this);0<c.length&&("single"===this.get("selectionMode")?this.set("value",[c[c.length-1]]):this.set("value",c))},postCreate:function(c){this.inherited(arguments);
this.own(f(this.containerNode,"keydown",a.hitch(this,"_handleKeyDownEvent")))},startup:function(){this.inherited(arguments);this._handleSelection(this.get("items"))},_handleKeyDownEvent:function(a){this.inherited(arguments);a.keyCode===g.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===g.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))}})})},"mw-form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/query dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/Destroyable dijit/Tooltip mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-html-utils/HtmlUtils dojo/text!./templates/ListBox.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z){k=h(k,{constructor:function(c){this.widget=c;this.own(d(c.containerNode,"mousedown",a.hitch(this,"_handleMouseDown")),d(c.containerNode,"keydown",a.hitch(this,"_handleKeyDown")))},_handleMouseDown:function(a){if(a.target.classList.contains("mwListItem")){var c=Number(a.target.getAttribute("data-mw-index")),b=this.widget._selectedIndices.indexOf(c);a=this._getNewSelectedIndexOnMouseDown(a,c,b);this._setSelectedItems(a)}},_handleKeyDown:function(a){a=
this._getNewSelectedIndexOnKeyDown(a);-1!==a&&(this._setSelectedItems(a),this.widget.scrollToIndex(a[0]))},_setSelectedItems:function(a){if(-1!==a){var c=[],b=this.widget.get("value");a.forEach(function(a){c.push(this.widget._indexValueMap[a])},this);this.widget.set("value",c);this.widget._triggerChangeEvent("value",b,c)}},_getNewSelectedIndexOnKeyDown:function(a){if(0===this.widget.items.length)return-1;var c=this.widget._selectedIndices[0],e=this.widget._getIndexes(),d=Math.min.apply(null,e),e=
Math.max.apply(null,e),f=[];switch(a.keyCode){case b.UP_ARROW:f=c===d||void 0===c&&this._anchorIndex===d?[d]:void 0===c&&void 0===this._anchorIndex?[e]:void 0===c&&void 0!==this._anchorIndex?[this._anchorIndex-1]:[c-1];a.stopPropagation();a.preventDefault();break;case b.DOWN_ARROW:f=c===e||void 0===c&&this._anchorIndex===e?[e]:void 0===c&&void 0===this._anchorIndex?[d]:void 0===c&&void 0!==this._anchorIndex?[this._anchorIndex+1]:[c+1];a.stopPropagation();a.preventDefault();break;default:f=-1}return f}});
var y=h(k,{_getNewSelectedIndexOnMouseDown:function(a,c,b){var e=[c];0<=b&&(e=a.ctrlKey||a.metaKey?[]:-1);this._anchorIndex=c;return e}}),A=h(k,{constructor:function(){this._anchorIndex=this.widget._selectedIndices[0]||1},_getNewSelectedIndexOnMouseDown:function(a,c,b){var e=[c],d;if(0<=b)a.shiftKey?e=this._getRangeOfIndices(c):(a.ctrlKey||a.metaKey?(e=this.widget._selectedIndices.slice(0),e.splice(b,1)):1===this.widget._selectedIndices.length&&(e=-1),d=!1);else if(a.shiftKey)e=this._getRangeOfIndices(c);
else if(d=!1,a.ctrlKey||a.metaKey)e=this.widget._selectedIndices.slice(0),e.push(c);!1===d&&(this._anchorIndex=c);return e},_getRangeOfIndices:function(a){var c,b=[],e=this._anchorIndex;if(a<=e)for(c=a;c<=e;c+=1)b.push(c);else for(c=e;c<=a;c+=1)b.push(c);return b}});return h(w.validate([l,m,e,n,p,q,r,s,t,u,v]),{templateString:z,baseClass:"mwWidget mwListBox",selectionMode:"single",constructor:function(){this._indexValueMap={};this._valueIndexMap={};this.items=[];this.value=[];this._selectedIndices=
[]},scrollToValue:function(a){this.scrollToIndex(this._valueIndexMap[a])},scrollToIndex:function(a){var c=this._getItemNodes().filter(function(c){return Number(c.getAttribute("data-mw-index"))===a},this)[0];if(c){var b=this.domNode;c.offsetTop+c.offsetHeight>b.offsetHeight+b.scrollTop?this.domNode.scrollTop=c.offsetTop+c.offsetHeight-this.domNode.offsetHeight:c.offsetTop<b.scrollTop&&(this.domNode.scrollTop=c.offsetTop)}},postCreate:function(){this.inherited(arguments);this.set("items",this.get("items"));
this.set("value",this.get("value"));this.own(d(this.containerNode,"mouseover",a.hitch(this,function(a){var b=this._getEscapedToolTipString(a);b&&0<b.length&&c.show(b,a.srcElement)})),d(this.containerNode,"mouseout",function(a){c.hide(a.srcElement)}));this._selectionStrategy=new this._selectionStrategyModule(this)},_getEscapedToolTipString:function(a){var c="";a=a.srcElement.getAttribute("data-mw-tooltiptext");null!==a&&(c=x.escapeHtml(a));return c},startup:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},
_setSelectionModeAttr:function(a){if(0===a.toLowerCase().indexOf("single"))this._selectionStrategyModule=y;else if(0===a.toLowerCase().indexOf("multiple"))this._selectionStrategyModule=A;else throw Error("Selection Mode should be one of: single, multiple");this._created&&(this._selectionStrategy.destroy(),this._selectionStrategy=new this._selectionStrategyModule(this));this._set("selectionMode",a)},_setItemsAttr:function(a){this._validateItemsArray(a);var c=this._getItemsListAndInitInternalDs(a);
this._updateDom(c);this._created&&this.set("value",[]);this._set("items",a);this._updateTooltipForClippedItems()},_setWidthAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_setHeightAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_validateItemsArray:function(a){if(Array.isArray(a))a.forEach(function(a){if(void 0===a.label||void 0===a.value)throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');
});else throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');},_setValueAttr:function(a){this._validateValueArray(a);this._set("value",a);var c=[];a.forEach(function(a){c.push(this._valueIndexMap[a])},this);this._setSelectedIndex(c)},_validateValueArray:function(a){if(Array.isArray(a)){if("single"===this.get("selectionMode")&&
1<a.length)throw Error("'value' property must be a single element array in single selection mode.");a.forEach(function(a){if(!this.items.some(function(c){return c.value===a}))throw Error("'value' must be a subset of the items' values.");},this)}else throw Error("'value' property expects an array.");},_setSelectedIndex:function(a){var c=this._getItemNodes();c.forEach(function(a){a.classList.remove("mwListItemSelected")});this._selectedIndices=a;0!==a.length&&c.forEach(function(c){var b=Number(c.getAttribute("data-mw-index"));
a.forEach(function(a){a===b&&c.classList.add("mwListItemSelected")})})},_getItemsListAndInitInternalDs:function(a){var c=[],b=a.length,e;this._indexValueMap={};this._valueIndexMap={};if(0<b)for(e=0;e<b;e+=1){var d=e+1;c[e]={index:d,label:a[e].label,value:a[e].value};this._indexValueMap[d]=a[e].value;this._valueIndexMap[a[e].value]=d}else c=[];return c},_updateDom:function(a){g.empty(this.containerNode);0<a.length&&a.forEach(function(a){g.create("li",{textContent:a.label,"data-mw-index":a.index,"data-mw-tooltiptext":"",
"class":"mwListItem"},this.containerNode)},this)},_updateTooltipForClippedItems:function(){this._getItemNodes().forEach(function(a){a.offsetWidth<a.scrollWidth?a.setAttribute("data-mw-tooltiptext",a.textContent):a.setAttribute("data-mw-tooltiptext","")})},_getIndexes:function(){var a=[];this._getItemNodes().forEach(function(c){a.push(Number(c.getAttribute("data-mw-index")))});return a},_getItemNodes:function(){return f("li",this.containerNode)},_qeSelectItemsByLabel:function(a){var c=this.get("items").filter(function(c){return-1<
a.indexOf(c.label)}).map(function(a){return a.value});this.set("value",c)},_qeSelectItemsByIndex:function(a){var c=this.get("items").filter(function(c,b){return-1<a.indexOf(b)}).map(function(a){return a.value});this.set("value",c)}})})},"mw-html-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query","mw-deprecation-utils/deprecation"],function(h,a,g,f){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,
STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var a=h.global.location.search.substr(1,h.global.location.search.length);return this._parseQueryString(a)},_parseQueryString:function(a){return g.queryToObject(a)},parseUrl:function(a){var b=document.createElement("a");b.display="none";b.href=a||window.location.href;b.href=b.href;b={protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,
search:b.search,hash:b.hash};if(("https:"===b.protocol||"http:"===b.protocol)&&0!==b.pathname.indexOf("/"))b.pathname="/"+b.pathname;"https:"===b.protocol&&("443"===b.port&&0!==a.indexOf("https://"+b.hostname+":443"))&&(b.port="");return b},escapeHtml:function(a){var b=h.global.document.createElement("div");a=h.global.document.createTextNode(a);b.appendChild(a);b=b.innerHTML;a="";for(var f=0;f<b.length;f+=1){var g=b.charCodeAt(f);a=128<g?a+"\x26#"+g+";":a+b.charAt(f)}return a},escapeLinksAndHtml:function(a,
b){f.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var g="",h=a.split(this.HYPERLINK_ESCAPE_REGEXP),e=a.match(this.HYPERLINK_ESCAPE_REGEXP),k="",c=this,n=0,p=function(a,b,e,d){a=c.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=c.escapeHtml(b);d=c._strongNotEscaped(d,!0);k='\x3ca href\x3d"'+b+'"\x3e'+d+"\x3c/a\x3e"};if(b)g=this.escapeHtml(a),g=this.escapeWhitespace(g);
else if(""!==h[0]&&(g=this._strongNotEscaped(h[0],!0)),null!==e&&0!==e.length)for(n=0;n<e.length;n+=1)e[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,p),""!==h[n+1]&&(h[n+1]=this._strongNotEscaped(h[n+1],!0)),g+=k+h[n+1];return g},treatHtmlLikeCommandWindow:function(a,b,f){if("string"!==typeof a)return"";var g="",e=a.split(this.HYPERLINK_ESCAPE_REGEXP),k=a.match(this.HYPERLINK_ESCAPE_REGEXP),c="",h=this,p=0;f=f?f:{};var q=function(a,b,e,d){a=h.parseUrl(b).protocol;var f="";"http:"!==a&&
("https:"!==a&&"matlab:"!==a)&&(b="#");b=h.escapeHtml(b);d=h._strongNotEscaped(d,!1);h.BOLD_LINK_ATTRIBUTE_REGEX.test(e)&&(f=' style\x3d"font-weight:bold"');c='\x3ca href\x3d"'+b+'"'+f+"\x3e"+d+"\x3c/a\x3e"};if(b)g=this.escapeHtml(a);else if(""!==e[0]&&(g=this._strongNotEscaped(e[0],!1)),null!==k&&0!==k.length)for(p=0;p<k.length;p+=1)k[p].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,q),""!==e[p+1]&&(e[p+1]=this._strongNotEscaped(e[p+1],!1)),g+=c+e[p+1];f.addPreTagToPreserveWhiteSpace&&(g=
'\x3cspan style\x3d"white-space: pre"\x3e'+g+"\x3c/span\x3e");return g},_strongNotEscaped:function(a,b){var f="",g=a.match(this.STRONG_ESCAPE_REGEXP),e=a.split(this.STRONG_ESCAPE_REGEXP),k=function(a){return a};b&&(k=this.escapeWhitespace);var c=0;if(null!==g&&0!==g.length){f=k(this.escapeHtml(e[0]));for(c=0;c<g.length;c+=1)f+=g[c]+k(this.escapeHtml(e[c+1]))}else f=k(this.escapeHtml(a));return f},escapeWhitespace:function(a){f.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},
replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(a||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(d,b){if(b.target.href){a.stop(b);var f=b.target.href;-1!==f.indexOf("matlab:")?"matlab:"===f.substring(0,7)&&(f=b.target.href.substring(7),d(h.global.unescape(f))):h.global.open(b.target.href)}},isElementOverflown:function(a){return a.scrollHeight>a.clientHeight||
a.scrollWidth>a.clientWidth}}})},"MW/toolstrip/mixins/property/CompactMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_setCompactAttr:function(a){var g=!0===a?42:66;this.get("height")!==g&&this.set("height",g);this._set("compact",a)}})})},"MW/toolstrip/widgets/_ValidationMixin":function(){define("dojo/_base/declare dojo/dom-class dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window ./Tooltip".split(" "),function(h,a,g,f,d,b,l,m){return h(null,{_createValidationtooltip:function(){this.validationTooltip||
(this.validationTooltip=new m({}),this.own(this.validationTooltip),d.place(this.validationTooltip.domNode,l.body()),this._addTooltipEvents())},_setErrorTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("errorText",a)},_setWarningTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("warningText",a)},_setValidationStateAttr:function(b){var d=!1,c=!1;"error"===b.toLowerCase()?(c=!0,this._createValidationtooltip(),
this.validationTooltip.textNode.textContent=this.errorText):"warning"===b.toLowerCase()&&(d=!0,this._createValidationtooltip(),this.validationTooltip.textNode.textContent=this.warningText);this.validationTooltip&&(a.toggle(this._getDomNodeForValidationClasses(),"has-error",c),a.toggle(this.validationTooltip.domNode,"error-tooltip",c),a.toggle(this.validationTooltip.domNode,"warning-tooltip",d),this.validationTooltip.domNode.style.visibility="hidden");this._set("validationState",b)},_flipDomOrder:function(a){var b=
a.children[1];d.place(a.children[0],d.place(b,a),"after");d.place(b.children[0],d.place(b.children[1],b),"after")},_tooltipOrientation:function(){return a.contains(this.validationTooltip.domNode,"dijitTooltipLeft")?"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_getFocusWidget:function(){return this},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){var b=f.position(this.domNode),d,c,g,h,m,r,s,t=
!1;d=b.x;c=b.y;g=b.w;"error"===this.validationState?(a.add(this._getDomNodeForValidationClasses(),"has-error"),this.validationTooltip.textNode.textContent=this.errorText,a.add(this.validationTooltip.domNode,"error-tooltip")):"warning"===this.validationState&&(this.validationTooltip.textNode.textContent=this.warningText,a.add(this.validationTooltip.domNode,"warning-tooltip"));this.validationTooltip.domNode.style.visibility="visible";r=f.position(this.validationTooltip.domNode).h/2;m=f.position(this.domNode).h/
2;b=this.validationTooltip.domNode;s=f.position(l.body()).w;h=this._calculateTooltipWidth();d+g+h>s?(t=!0,d=d-h+"px",c=c+m-r+document.body.scrollTop+"px",a.contains(b.children[0],"tooltipConnector")&&this._flipDomOrder(b)):(d=d+g+"px",c=c+m-r+document.body.scrollTop+"px");a.toggle(this.validationTooltip.domNode,"tooltipLeft",t);a.toggle(this.validationTooltip.domNode,"tooltipRight",!t);this.validationTooltip.domNode.style.left=d;this.validationTooltip.domNode.style.top=c}},_calculateTooltipWidth:function(){a.add(this.validationTooltip.domNode,
"tooltipLeft");var b=f.position(this.validationTooltip.domNode).w;a.remove(this.validationTooltip.domNode,"tooltipLeft");return b},_addTooltipEvents:function(){var e=this;this.own(b(this,g.enter,function(){e._placeTooltip()}),b(this,g.leave,function(){e.validationTooltip&&(e.validationTooltip.domNode.style.visibility="hidden")}),b(this._getFocusWidget(),"focus",function(){e._placeTooltip();e.validationTooltip&&("error"===e.get("validationState")||"warning"===e.get("validationState"))&&a.add(e.validationTooltip.domNode,
"validationFocused")}),b(this._getFocusWidget(),"blur",function(){e.validationTooltip&&(a.remove(e.validationTooltip.domNode,"validationFocused"),e.validationTooltip.domNode.style.visibility="hidden")}))}})})},"MW/toolstrip/widgets/Tooltip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","./_TooltipMixin","dijit/_TemplatedMixin","dojo/text!./templates/Tooltip.html"],function(h,a,g,f,d){return h([a,f,g],{templateString:d})})},"MW/toolstrip/widgets/_TooltipMixin":function(){define(["dojo/_base/declare",
"dojo/aspect","./_DescriptionMixin","mw-event-utils/platformize"],function(h,a,g,f){return h([g],{_updateDescription:function(){this.inherited(arguments);this._updateTooltip()},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip()},_setShortcutAttr:function(a){this._set("shortcut",a);this._updateTooltip()},_updateTooltip:function(){var a="",b="",f="",g="",e="";this.textOverride?a=this.textOverride.replace(/\n/g," "):this.text&&(a=this.text.replace(/\n/g," "));this.shortcut&&(b=this._getPlatformSpecificShortcutString());
this.descriptionOverride?f=this.descriptionOverride:this.description&&(f=this.description);!a&&b&&f?(a=f,f="",g=" "):a&&(b&&(g=" "),f&&(e=" - "));this.domNode.setAttribute("title",a+g+b+e+f)},_getPlatformSpecificShortcutString:function(){return"("+f.getPlatformSpecificString(this.shortcut)+")"}})})},"MW/toolstrip/widgets/_DescriptionMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_setDescriptionAttr:function(a){this._set("description",a);this._updateDescription()},_setDescriptionOverrideAttr:function(a){this._set("descriptionOverride",
a);this._updateDescription()},_updateDescription:function(){var a="";this.descriptionOverride?a=this.descriptionOverride:this.description&&(a=this.description);this.descriptionNode&&(this.descriptionNode.textContent=a)}})})},"MW/toolstrip/form/Label":function(){define("dojo/_base/declare mw-form/Label MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e){return h(e.validate([a,g,f,d,b,l,m]),{visualFamily:"toolstrip",height:22,_setTabIndexOnNode:function(){}})})},"mw-form/Label":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/AccessibilityClickMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Label.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){return h(w.validate([a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v]),{baseClass:"mwWidget mwLabel",templateString:x,_paddingAndBorder:0,_setTabIndexOnNode:function(){}})})},"MW/toolstrip/widgets/EmptyControl":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/EmptyControl.html","./_WidgetMixin"],function(h,a,g,f,d){return h([a,g,d],{templateString:f})})},"MW/toolstrip/form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/on dojo/keys mw-form/TextField MW/uiframework/utils ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return h(s.validate([b,m,e,k,c,n,p,q,r]),{visualFamily:"toolstrip",width:150,height:22,mnemonicKeyNavDirection:"vertical",_onKeyUp:function(a){a.keyCode===d.ESCAPE?(this.inputNode.value=this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement")):a.keyCode===d.ENTER&&(this.get("value")===this.inputNode.value&&this.emit("recommit",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),
this.emit("commit",{}));this.inherited(arguments)},_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("spellcheck","false");this.own(f(this.inputNode,"focus",a.hitch(this,"_handleInputNodeFocus")))},_handleInputNodeFocus:function(c){!1!==this.get("editable")&&(l.detectIE()?setTimeout(a.hitch(this,function(){this.inputNode.select();return!1},0)):this.inputNode.select())},_onFocus:function(){this.inherited(arguments);
this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})}})})},"MW/uiframework/utils":function(){define([],function(){return{detectIE:function(){var h=window.navigator.userAgent,a=h.indexOf("MSIE ");if(0<a)return parseInt(h.substring(a+5,h.indexOf(".",a)),10);if(0<h.indexOf("Trident/"))return a=h.indexOf("rv:"),parseInt(h.substring(a+3,h.indexOf(".",a)),10);a=h.indexOf("Edge/");
return 0<a?parseInt(h.substring(a+5,h.indexOf(".",a)),10):!1}}})},"MW/toolstrip/form/TextArea":function(){define("dojo/_base/declare dojo/keys mw-form/TextArea ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/ScrollbarMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h(q.validate([g,f,d,b,l,m,e,k,c,n,p]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"none",_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},_onFocus:function(){this.inherited(arguments);this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})},_onKeyUp:function(c){c.keyCode===a.ESCAPE&&
this.emit("restorefocustolastnonrefuseelement");this.inherited(arguments)}})})},"mw-form/TextArea":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/TextArea.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){return h(w.validate([a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v]),{baseClass:"mwWidget mwTextArea",templateString:x,horizontalAlignment:"left",width:150,height:66,_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"MW/toolstrip/form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys mw-form/Spinner ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin mw-mixins/property/DescriptionMixin ../mixins/property/DescriptionOverrideMixin ../mixins/AcceptFocusMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){return h(p.validate([f,d,b,l,m,e,k,c,n]),{visualFamily:"toolstrip",width:70,mnemonicKeyNavDirection:"none",postCreate:function(){this.inherited(arguments);this._textField.set("visualFamily","toolstrip")},_setMinimumAttr:function(a){this.set("limits",{minimum:a,maximum:this.limits.maximum});this._set("minimum",a)},_setMaximumAttr:function(a){this.set("limits",{minimum:this.limits.minimum,maximum:a});this._set("maximum",a)},_setValueAttr:function(a){a<this.get("limits").minimum||
a>this.get("limits").maximum||(this._checkValueInLimits(a),this._textField.set("value",a+""),this._set("value",a))},_onKeyDown:function(a){this.inherited(arguments);a.keyCode===g.ENTER?(this.get("value")+""===this._textField.inputNode.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{})):a.keyCode===g.ESCAPE&&this.emit("restorefocustolastnonrefuseelement")},resize:function(){this.containerNode.style.width="calc(100% -  21px)";
this._textField.domNode.style.width="100%"}})})},"mw-form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-form/TextField mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/FormatMixin mw-mixins/property/SizeMixin mw-mixins/property/ValidationMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/ResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Spinner.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D){var H=Number.MAX_VALUE,G=Number.NEGATIVE_INFINITY;return h(B.validate([m,e,k,c,n,q,r,s,t,u,v,w,x,z,y,A]),{baseClass:"mwWidget mwSpinner",templateString:D,width:150,height:22,value:100,step:1,errorText:"",horizontalAlignment:"right",_preventClick:!1,includeMinimum:!0,includeMaximum:!0,constructor:function(){this._textField=new p({horizontalAlignment:"right"});this.focusNode=this._textField.focusNode;this.inputNode=this._textField.inputNode;
this.own(this._textField);this.limits={minimum:0,maximum:Number.POSITIVE_INFINITY};this.own(this._textField.watch("value",a.hitch(this,function(a,c,b){isNaN(parseFloat(b))||this._set("value",parseFloat(b))})))},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.containerNode,"first")},_setEditableAttr:function(a){if("boolean"!==typeof a)throw Error("Editable property expects a boolean");this._textField.set("editable",a);a?this.domNode.classList.remove("mwNonEditable"):
this.domNode.classList.add("mwNonEditable");this._set("editable",a)},_setDisabledAttr:function(a){this.inherited(arguments);this._textField.set("disabled",a)},_setHorizontalAlignmentAttr:function(a){this.inherited(arguments);this._textField.set("horizontalAlignment",a)},_setStepAttr:function(a){if("number"!==typeof a)throw Error("'step' property expects a Number!");this._set("step",a)},_setValueAttr:function(a){if(a<this.get("limits").minimum||a>this.get("limits").maximum)throw Error("'Value' must be numeric and fall within the range of 'Limits'.");
this._checkValueInLimits(a);this._textField.set("value",a+"");this._set("value",a)},_checkValueInLimits:function(a){if(this._rangeCheck(a)){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");if(this.get("includeMaximum"))parseFloat(a)===this.get("limits").maximum&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled");else{var c=this._calculateIncrement(this.get("limits").maximum,-0.1);parseFloat(a)===
this.get("limits").maximum+c&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")}this.get("includeMinimum")?parseFloat(a)===this.get("limits").minimum&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):(c=this._calculateIncrement(this.get("limits").minimum,0.1),parseFloat(a)===this.get("limits").minimum+c&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"))}else if(this.get("includeMaximum")&&parseFloat(a)===this.get("limits").maximum||!this.get("includeMaximum")&&
parseFloat(a)<=this.get("limits").maximum)this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");else if(this.get("includeMinimum")&&parseFloat(a)===this.get("limits").minimum||!this.get("includeMinimum")&&parseFloat(a)>=this.get("limits").minimum)this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")},_getValueAttr:function(){return parseFloat(this._textField.get("value"))},
_setWidthAttr:function(a){this.inherited(arguments);this.resize()},_setLimitsAttr:function(a){if("object"!==typeof a)throw Error("'IncludeMinimum' property expects an 'Object'!");this._validateLimits(a);this._set("limits",a);this._applyConstraintsToValue()},_validateLimits:function(a){if("number"!==typeof a.maximum||"number"!==typeof a.minimum)throw Error("'Limits' expects an Object of numbers!");if(a.minimum>a.maximum)throw Error("'Minimum' should be less than maximum");},_setIncludeMinimumAttr:function(a){if("boolean"!==
typeof a)throw Error("'IncludeMinimum' property expects a 'Boolean'!");this._set("includeMinimum",a);this._applyConstraintsToValue()},_setIncludeMaximumAttr:function(a){if("boolean"!==typeof a)throw Error("'IncludeMaximum' property expects a 'Boolean'!");this._set("includeMaximum",a);this._applyConstraintsToValue()},_applyConstraintsToValue:function(){var a=this.get("includeMaximum")?this.get("limits").maximum:this.get("limits").maximum-this.get("step"),c=this.get("includeMinimum")?this.get("limits").minimum:
this.get("limits").minimum+this.get("step");this.get("limits").maximum<this.get("value")&&this.set("value",a);this.get("limits").minimum>this.get("value")&&this.set("value",c)},_getDomNodeForValidationClasses:function(){return this.domNode},postCreate:function(){this.inherited(arguments);this.set("value",this.value);this.own(b(this.domNode,"keydown",a.hitch(this,"_onKeyDown")),b(this.incrementButtonNodeWrapper,"click",a.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));
this._handleIncrement(this.get("step"));var c=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,c)}})),b(this.decrementButtonNodeWrapper,"click",a.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var c=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,c)}})),b(this.incrementButtonNodeWrapper,"mousedown",a.hitch(this,this._onIncrementButtonMouseDown)),b(this.decrementButtonNodeWrapper,
"mousedown",a.hitch(this,this._onDecrementButtonMouseDown)),b(this.incrementButtonNodeWrapper,"mouseup, mouseout",a.hitch(this,this._onButtonMouseUp)),b(this.decrementButtonNodeWrapper,"mouseup, mouseout",a.hitch(this,this._onButtonMouseUp)),b(this._textField,"focusin",a.hitch(this._textField,function(){this.inputNode.select()})));this._textField.on("change",a.hitch(this,function(a){this._onChangeHandler(a)}));this._textField.on("typing",a.hitch(this,function(a){this._handleValidation(a.mwEventData.currentContent)}))},
_onChangeHandler:function(a){var c;a.preventDefault();a.stopPropagation();"normal"!==this.get("validationState")?this._revertToOldValue(a.mwEventData.oldValue):(c=a.mwEventData.oldValue,a=a.mwEventData.newValue,this._triggerChangeEvent("value",this._isNumeric(c)?parseFloat(c):c,this._isNumeric(a)?parseFloat(a):a),this._checkValueInLimits(a),this.set("value",this._isNumeric(a)?parseFloat(a):a))},startup:function(){this._textField.startup();this.inherited(arguments)},_getParentPopup:function(a){for(;a;){if(a.classList&&
a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=f.position(this.domNode).w,c=f.position(this.buttonsContainerNode).w;if(0===c){var b=this._getParentPopup(this.buttonsContainerNode);if(null!==b){b.classList.add("dijitOffScreen");var e=g.get(b,"display");b.style.display="block";c=f.position(this.buttonsContainerNode).w;b.style.display=e}}f.getPadBorderExtents(this._textField.domNode);b=f.getPadBorderExtents(this.buttonsContainerNode);b=b.l+b.r;this.containerNode.style.width=
a-c+"px";this._textField.domNode.style.width=a-c-b+"px";this.inherited(arguments)},_onIncrementButtonMouseDown:function(){this._delayStart=setTimeout(a.hitch(this,function(){this._valueChangeTimer=setInterval(a.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleIncrement(this.get("step"));var c=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,c)}),100);this._preventClick=!0}),300)},_triggerChangingEvent:function(a,c,b){this.emit("changing",
{mwEventData:{propertyName:a,oldValue:c,newValue:b}})},_onDecrementButtonMouseDown:function(){this._delayStart=setTimeout(a.hitch(this,function(){this._valueChangeTimer=setInterval(a.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var c=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,c)}),100);this._preventClick=!0}),300)},_onButtonMouseUp:function(){clearInterval(this._valueChangeTimer);clearTimeout(this._delayStart);
this._preventClick=!1},_onKeyDown:function(a){a.keyCode===l.UP_ARROW?(a.preventDefault(),this._handleIncrement(this.get("step"))):a.keyCode===l.DOWN_ARROW?(a.preventDefault(),this._handleDecrement(this.get("step"))):a.keyCode===l.PAGE_UP?a.preventDefault():a.keyCode===l.PAGE_DOWN&&a.preventDefault()},_handleIncrement:function(a){var c;c=parseFloat(this._textField.get("value"))+a;this._rangeCheck(c)?(this._textField.set("value",c),!this._isInt(c)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMaximum")?this.get("limits").maximum===c?this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"):this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMaximum")?(this._textField.set("value",this.get("limits").maximum),!this._isInt(c)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").maximum))):
(c=this._calculateIncrement(this.get("limits").maximum,-0.1),c=this.get("limits").maximum+c,this._textField.set("value",c),!this._isInt(c)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(c))),this._disableIncrementButton(c,a))},_handleDecrement:function(a){var c;c=parseFloat(this._textField.get("value"))-a;this._rangeCheck(c)?(this._textField.set("value",c),!this._isInt(c)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMinimum")?this.get("limits").minimum===c?this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMinimum")?(this._textField.set("value",this.get("limits").minimum),!this._isInt(c)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").minimum))):
(c=this._calculateIncrement(this.get("limits").minimum,0.1),c=this.get("limits").minimum+c,this._textField.set("value",c),!this._isInt(c)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(c))),this._disableDecrementButton(c,a))},_calculateIncrement:function(a,c){var b=c;if(a===H||a===G||Infinity===a)return 0;for(;!1===this._rangeCheck(a+b,this.constraints);)b/=10;return b},_disableIncrementButton:function(a,c){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");
this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a+c)?(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled")):this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")},_disableDecrementButton:function(a,c){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a-
c)?(this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")):this.decrementButtonNode.classList.add("mwDecrementButtonDisabled")},_rangeCheck:function(a){a=parseFloat(a);var c=!1===this.get("includeMinimum")?a>this.get("limits").minimum:a>=this.get("limits").minimum;a=!1===this.get("includeMaximum")?a<this.get("limits").maximum:a<=this.get("limits").maximum;return c&&a},_setRevertTimeout:function(a){return a||2E3},
_revertToOldValue:function(c){this._hiddenDiv=d.create("div",{},this.domNode);var b=f.getBorderExtents(this.domNode);this._hiddenDiv.style.top=-b.t+"px";this._hiddenDiv.style.right=-b.r+"px";this._hiddenDiv.style.bottom=-b.b+"px";this._hiddenDiv.style.left=-b.l+"px";this._hiddenDiv.style.position="absolute";this._hiddenDiv.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation()});setTimeout(a.hitch(this,function(){!0!==this._destroyed&&(this._textField.set("value",c),this._handleDisplayFormat(),
this.set("validationState","normal"),d.destroy(this._hiddenDiv))}),this._setRevertTimeout())},_handleValidation:function(a){parseFloat(a)<=this.get("limits").minimum&&!this.get("includeMinimum")||parseFloat(a)<this.get("limits").minimum&&this.get("includeMinimum")||parseFloat(a)>this.get("limits").maximum&&this.get("includeMaximum")||parseFloat(a)>=this.get("limits").maximum&&!this.get("includeMaximum")||this._containsNonNumericCharacter(a)||isNaN(parseFloat(a))?this.set("validationState","error"):
(this.set("validationState","normal"),this.validationTooltip&&this.validationTooltip.domNode.classList.remove("mwValidationFocused"))},_containsNonNumericCharacter:function(a){return a.split("").some(function(a){return-1==="0123456789.".indexOf(a)})},_isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},_isInt:function(a){return Number(a)===a&&0===a%1},_formatShort:function(a){return a.toFixed(4)},_qeTypeOverWithEnter:function(a){var c=this.get("value");this.set("value",a);this._triggerChangeEvent("value",
c,a)}})})},"mw-mixins/property/FormatMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_FocusMixin"],function(h,a,g){h=h(null,{format:"",constructor:function(){this.displayValueFormatter=null},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwFormatMixin");this.set("format",this.get("format"))},startup:function(){this.inherited(arguments);this._handleDisplayFormat()},_setFormatAttr:function(a){if("string"!==typeof a)return Error("Format property expects a ''string");
this._set("format",a);this._handleDisplayFormat()},_handleDisplayFormat:function(){var f=this.get("format"),d=parseFloat(this._textField.get("value"));if(d||0===d)if(f.match("%*[0-9|.]d")||0<=f.indexOf("%i"))this._textField.setValueInDom(parseFloat(d).toFixed(4)+f.substr(f.indexOf("d")+1,f.length));else if(f.match("%*[0-9|.]f")){var b=parseFloat(f.replace(/(.*\.)(.*)(f.*)/,"$2"));b&&this._textField.setValueInDom(d.toFixed(b)+f.substr(f.indexOf("f")+1,f.length))}else this.displayValueFormatter&&this.displayValueFormatter(this.get("value")).then(a.hitch(this,
function(a){this._textField.setValueInDom(a)}))},_onBlur:function(){this.inherited(arguments);"normal"===this.get("validationState")&&this._handleDisplayFormat();this._formattedValueSet=!0},_onFocus:function(){this.inherited(arguments);this.get("disabled")||(!this._isInt(this.get("value"))||!this._isInt(this.get("step")))&&"normal"===this.get("validationState")&&this._textField.setValueInDom(this.get("value").toFixed(4));this._formattedValueSet=!1}});h._dependencies=[{mixin:g,orderDependent:!1}];
return h})},"MW/toolstrip/widgets/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dojo/query ./_SliderPropertyMixin ./_SliderKeyBoardEventMixin ../ToolstripUtils ./external/HorizontalSlider ./_TooltipMixin ./_WidgetMixin ./_ValidationMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin MW/uiframework/FocusManager".split(" "),function(h,a,g,f,d,
b,l,m,e,k,c,n,p,q,r,s,t){return h([e,b,l,k,c,n,p,q,r,s],{width:150,mnemonicKeyNavDirection:"vertical",_setPixelValue:function(a,c,b){if(!this.disabled&&!this.readOnly){var e=(this.maximum-this.minimum)/this.steps,d=[];a=Math.max(Math.min((this.maximum-this.minimum)*a/c+this.minimum,this.maximum),this.minimum);for(c=this.minimum;c<=this.maximum;c+=e)d.push(c);e=m.getClosestValue(d,a);a=a-e[0]>e[1]-a?e[1]:e[0];this._setValueAttr(a,b)}},_setWidthAttr:function(a){this._set("width",a);this._sliderResize()},
_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._sliderResize()},_sliderResize:function(){var a,c,b;b=this.get("width");"100%"===b?void 0===this.majorTickLabels?this.getParent()&&(c=this.getParent().get("width"),this._setWidthOnChildren(c)):0<this.majorTickLabels.length?(a=d(".vc-MajorTickLabels",this.containerNode)[0],c=a.childElementCount,b=a.children[0],a=a.children[c-1],b=m.computeWidth(b.textContent),a=m.computeWidth(a.textContent),b/=2,a/=2,c=this.getParent().get("width"),
this.domNode.style.marginLeft=b+"px",this.domNode.style.marginRight=a+"px",this.domNode.style.width=c+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%",this._set("width",c)):(c=this.getParent().get("width"),this.domNode.style.marginLeft="5px",this.domNode.style.marginRight="5px",this.domNode.style.width=c+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%"):this._setWidthOnChildren(b)},_setWidthOnChildren:function(a){this.sliderTrackNode.style.width=
a-5+"px";this.containerNode.style.width=a-5+"px";this.domNode.style.marginLeft="5px";this.domNode.style.marginRight="5px"},_getDomNodeForValidationClasses:function(){return this.sliderTrackNode},constrainTicksToScaleLimits:function(a,c,b){var e=[],d=[],f;void 0===a.length&&(a=[a]);for(f=0;f<a.length;f+=1)a[f]>=c[0]&&a[f]<=c[1]&&(e[e.length]=a[f],void 0!==b&&(d[d.length]=b[f]));return void 0!==b?{ticks:e,labels:d}:{ticks:e}},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&d(".dijitRuleLabelContainerH",
this.majorTickLabelDijit.domNode).forEach(function(a){var c=-1*(m.computeWidth(a.children[0].innerHTML)/2);a.style.marginLeft=c+"px"})},postCreate:function(){this.inherited(arguments);this.own(g(this,"mouseup",a.hitch(this,function(){this.valueChanged({value:this.value});this._mouseUp=!0})));this.own(g(this,"mouseout",a.hitch(this,function(){this._mouseUp=!1})));this.own(g(this,"mousedragreleased",a.hitch(this,function(){this._emittedValue!==this.value&&!this._mouseUp&&(this.valueChanged({value:this.value}),
this._emittedValue=this.value)})));this.own(g(this,"keydown",a.hitch(this,this._handleKeyDown)))},_handleKeyDown:function(a){this.inherited(arguments);a.keyCode===f.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===f.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))},valueChanged:function(a){}})})},"MW/toolstrip/widgets/_SliderPropertyMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_setStepsAttr:function(a){this._set("steps",
a)},_setNumberOfTicksAttr:function(a){this._set("numberOfTicks",a);var g=this.minimum,f=[];if(1<a){for(;f.length<a-1;)f.push(g),g+=(this.maximum-this.minimum)/(this.numberOfTicks-1);f.push(this.maximum);this.set("minorTicks",f)}else 1===a?(f.push((this.maximum+this.minimum)/2),this.set("minorTicks",f)):this.set("minorTicks",[])},_setLabelsAttr:function(a){var g=this.minimum,f=[];this._set("labels",a);if(0<a.length){if(1===a.length)f.push((this.minimum+this.maximum)/2);else for(;g<=this.maximum;)f.push(g),
g+=(this.maximum-this.minimum)/(this.labels.length-1);this.set("majorTicks",f);this.set("majorTickLabels",a)}else this.set("majorTicks",[]),this.set("majorTickLabels",[])}})})},"MW/toolstrip/widgets/_SliderKeyBoardEventMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/aspect","dojo/keys","../ToolstripUtils"],function(h,a,g,f,d){return h(null,{constructor:function(){this.own(g.after(this,"postCreate",this._attachKeyBoardEvent,!0))},_attachKeyBoardEvent:function(){var b;this.own(a(this,
"keyup",function(a){if(!this.get("disabled")){var g=[],e;e=[];g=(this.maximum-this.minimum)/this.steps;for(b=this.minimum;b<=this.maximum;b+=g)e.push(b);a.keyCode===f.LEFT_ARROW||a.keyCode===f.PAGE_DOWN?(g=d.getClosestValue(e,this.get("value"))[0],a=e.indexOf(g),e=0===a?e[0]:e[a-1],this.set("value",e)):a.keyCode===f.RIGHT_ARROW||a.keyCode===f.PAGE_UP?(g=d.getClosestValue(e,this.get("value"))[1],a=e.indexOf(g),e=0===a?e[1]:a===e.length-1?e[e.length-1]:e[a+1],this.set("value",e)):a.keyCode===f.END?
(e=e[e.length-1],this.set("value",e)):a.keyCode===f.HOME&&(e=e[0],this.set("value",e))}}))}})})},"MW/toolstrip/widgets/external/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/query ./_AbstractSlider ./HorizontalRule ./HorizontalRuleLabels".split(" "),function(h,a,g,f,d,b,l){return h(d,{baseClass:"vc-slider vc-horizontalSlider",width:200,height:6,_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_thumbPositionParam1:"width",_thumbPositionParam2:"left",
_isScaleDirectionReverse:!1,orientation:"horizontal",getRuleLabelConstructor:function(){return l},_setWidthAttr:function(a){this.sliderTrackNode.style.width=a+"px";this.containerNode.style.width=a+"px";this._set("width",a)},getRuleConstructor:function(){return b},postCreate:function(){this.inherited(arguments);this.own(this.watch("width",a.hitch(this,"_adjustThumbPosition")),this.watch("fontSize",a.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontWeight",a.hitch(this,"_adjustLabelContainerPositioning")),
this.watch("fontFamily",a.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontStyle",a.hitch(this,"_adjustLabelContainerPositioning")))},_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._adjustLabelContainerPositioning()},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&f(".dijitRuleLabelContainerH",this.majorTickLabelDijit.domNode).forEach(function(a){var b=-1*(g.position(a).w/2);a.style.marginLeft=b+"px"})},_computePreferredWidth:function(){var a,
b;a=this.width+this.sliderThumbSize.w;b=this._computePreferredWidthOfMajorTickLabels();return Math.max(a,b)},_computePreferredX:function(){var a=this._adjustTrackAndContainerOffset();return this.location[0]-a},_computePreferredHeight:function(){var a=this._getDomNodeOfWidgetAtEnd();a&&(this._bottomWidgetPosition=g.position(a));return(a?this._bottomWidgetPosition.y+this._bottomWidgetPosition.h:this.sliderThumbSize.y+this.sliderThumbSize.h)-this.sliderThumbSize.y},_computePreferredY:function(){var a;
a=g.position(this.sliderTrackNode);this._bottomWidgetPosition?(a=this._bottomWidgetPosition.y-a.y-a.h+this._bottomWidgetPosition.h,this._bottomWidgetPosition=null):a=this.sliderThumbSize.h/3;return this.location[1]-a},_computePreferredWidthOfMajorTickLabels:function(){var a=0;if(this.majorTickLabelDijit)var a=f(".dijitRuleLabel",this.containerNode),b=0,b=g.position(a[0]),d=g.position(this.sliderTrackNode),b=b.x<d.x-this.sliderThumbSize.w/2?b.x:d.x-this.sliderThumbSize.w/2,a=g.position(a[a.length-
1]),a=a.x-b+a.w;return a},_adjustTrackAndContainerOffset:function(){var a=f(".dijitRuleLabel",this.containerNode),b=this.sliderThumbSize.w/2;if(0===a.length)b=this.sliderThumbSize.w/2;else{for(var d=[],c=0;c<a.length;c+=1)d[c]=g.position(a[c]).x;d=Math.min.apply(null,d);a=g.position(this.sliderTrackNode);d<a.x-this.sliderThumbSize.w/2&&(b=a.x-d)}this.sliderTrackNode.style.left=b+"px";this.containerNode.style.left=b+"px";return b}})})},"MW/toolstrip/widgets/external/_AbstractSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/_base/event dijit/focus dijit/form/_FormValueWidget dijit/_Container dojo/text!./templates/Slider.html dojo/dnd/Moveable ./_SliderThumbMover".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return h([b,l],{templateString:m,sliderTrackNode:null,sliderThumbNode:null,value:0,maximum:100,minimum:0,THUMB_WIDTH:14,preferredSize:{width:0,height:0,left:0,bottom:0},_setHeightAttr:function(a){this.sliderTrackNode.style.height=a+"px";this._set("height",a)},_setOuterWidthAttr:function(a){this.domNode.style.width=a+"px"},_setOuterHeightAttr:function(a){this.domNode.height=a+"px"},_setLocationAttr:function(a){this._set("location",a)},_setPixelValue:function(a,b,e){!this.disabled&&
!this.readOnly&&this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum),e)},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.inherited(arguments)},_setMinimumAttr:function(a){this._set("minimum",a)},_setMaximumAttr:function(a){this._set("maximum",a)},_setMajorTicksAttr:function(a){if(this.majorTickDijit&&(this.majorTickDijit.destroy(),this.majorTickDijit=null,0===a.length)){this._set("majorTicks",a);return}var b=this.constrainTicksToScaleLimits(a,
[this.get("minimum"),this.get("maximum")]),e=this.getRuleConstructor();0===b.ticks.length?this._set("majorTicks",a):(this._set("majorTicks",b.ticks.slice(0)),this.majorTickDijit=new e({"class":"vc-MajorTickMarks",ticks:this.majorTicks,minimum:this.minimum,maximum:this.maximum,count:this.majorTicks.length}),this.majorTickDijit.placeAt(this.containerNode))},_setMinorTicksAttr:function(a){if(this.minorTickDijit&&(this.minorTickDijit.destroy(),this.minorTickDijit=null,0===a.length)){this._set("minorTicks",
a);return}var b=this.constrainTicksToScaleLimits(a,[this.get("minimum"),this.get("maximum")]),e=this.getRuleConstructor();0===b.ticks.length?this._set("minorTicks",a):(this._set("minorTicks",b.ticks.slice(0)),this.minorTickDijit=new e({"class":"vc-MinorTickMarks",count:this.minorTicks.length,ticks:this.minorTicks,minimum:this.minimum,maximum:this.maximum}),this.minorTickDijit.placeAt(this.containerNode))},_setMajorTickLabelsAttr:function(a){this.majorTickLabelDijit&&(this.majorTickLabelDijit.destroy(),
this.majorTickLabelDijit=null);if(0===a.length||0===a.join("").trim().length)this._set("majorTickLabels",a);else{var b=this.constrainTicksToScaleLimits(this.get("majorTicks"),[this.get("minimum"),this.get("maximum")],a),e=this.getRuleLabelConstructor();0===b.labels.length?this._set("majorTickLabels",a):(this._set("majorTickLabels",b.labels.slice(0)),this.majorTickLabelDijit=new e({"class":"vc-MajorTickLabels",minimum:this.minimum,maximum:this.maximum,labels:this.majorTickLabels,count:this.majorTickLabels.length,
ticks:this.majorTicks}),this.majorTickLabelDijit.placeAt(this.containerNode))}},_onTrackClick:function(a){if(!this.disabled&&!(this.readOnly||a.target===this.sliderThumbNode)){d.focus(this.sliderThumbNode);f.stop(a);var b=g.position(this.sliderTrackNode),e=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._isScaleDirectionReverse&&(e=b[this._pixelCount]-e);this._setPixelValue(e,b[this._pixelCount],!0);this.emit("mouseclicked");this._thumbMoveable.onMouseDown(a)}},postCreate:function(){this.inherited(arguments);
var c=h(k,{widget:this});this._thumbMoveable=new e(this.sliderThumbNode,{mover:c});this.own(this.watch("value",a.hitch(this,"_adjustThumbPosition")));this.own(this.watch("minimum",a.hitch(this,"_adjustThumbPosition")));this.own(this.watch("maximum",a.hitch(this,"_adjustThumbPosition")));this._adjustThumbPosition()},_adjustThumbPosition:function(){var a=(this.value-this.minimum)/(this.maximum-this.minimum),a=100*a-100*(this.THUMB_WIDTH/this[this._thumbPositionParam1]/2);this.sliderThumbNode.style[this._thumbPositionParam2]=
a+"%"},computePreferredSize:function(){var a,b,e,d;this.sliderThumbSize=g.position(this.sliderThumbNode);e=this._computePreferredWidth();a=this._computePreferredX();d=this._computePreferredHeight();b=this._computePreferredY();this.set("preferredSize",{width:e,height:d,left:a,bottom:b})},_getDomNodeOfWidgetAtEnd:function(){var a;this.majorTickLabelDijit?a=this.majorTickLabelDijit.domNode:this.majorTickDijit?a=this.majorTickDijit.domNode:this.minorTickDijit&&(a=this.minorTickDijit.domNode);return a}})})},
"MW/toolstrip/widgets/external/_SliderThumbMover":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dnd/Mover"],function(h,a,g){return h(g,{onMouseMove:function(f){var d=this.widget,b=d._sliderTrackDimensions;b||(b=d._sliderTrackDimensions=a.position(d.sliderTrackNode,!0));f=f[d._mousePixelCoord]-b[d._startingPixelCoord];d._isScaleDirectionReverse&&(f=b[d._pixelCount]-f);d._setPixelValue(f,b[d._pixelCount],!1);this._wasDragged=!0;d.emit("mousedragging")},onMouseUp:function(){var a=
this.widget;this._wasDragged?(a.emit("mousedragreleased"),this._wasDragged=!1):a.emit("mouseclicked");this.inherited(arguments)},destroy:function(){this.widget._sliderTrackDimensions=null;this.inherited(arguments)}})})},"MW/toolstrip/widgets/external/HorizontalRule":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(h,a,g){return h("dijit.form.HorizontalRule",[a,g],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,
container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',ticks:null,minimum:0,maximum:100,_isHorizontal:!0,isAddQeIdForTickBased:!0,_qeIdSuffix:"id\x3d",_genHTML:function(a,d){var b="";this.isAddQeIdForTickBased&&this.ticks&&(b='"'+this._qeIdSuffix+'"'+this["class"]+"_"+this.ticks[d]);return this._positionPrefix+a+this._positionSuffix+this.ruleStyle+b+this._suffix},buildRendering:function(){this.inherited(arguments);
var a="",d,b;if(this.ticks){b=this.maximum-this.minimum;for(d=0;d<this.count;d+=1)a+=this._genHTML(100*((this.ticks[d]-this.minimum)/b),d)}else{a=this._genHTML(0,0);b=100/(this.count-1);for(d=1;d<this.count-1;d+=1)a+=this._genHTML(b*d,d);a+=this._genHTML(100,this.count-1)}this.domNode.innerHTML=a}})})},"MW/toolstrip/widgets/external/HorizontalRuleLabels":function(){define(["dojo/_base/declare","dojo/number","dojo/query","./HorizontalRule"],function(h,a,g,f){return h("dijit.form.HorizontalRuleLabels",
f,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"',_suffix:"\x3c/div\x3e\x3c/div\x3e",_qeIdSuffix:"id\x3d",_calcPosition:function(a){return a},_genHTML:function(a,
b){var f=this._qeIdSuffix+'"'+this["class"]+"_"+this.labels[b]+'"\x3e';return this._positionPrefix+this._calcPosition(a)+this._positionSuffix+this.labelStyle+this._labelPrefix+f+this.labels[b]+this._suffix},getLabels:function(){var d=this.labels,b,f,h;!d.length&&this.srcNodeRef&&(d=g("\x3e li",this.srcNodeRef).map(function(a){return String(a.innerHTML)}));if(!d.length&&1<this.count){b=this.minimum;f=(this.maximum-b)/(this.count-1);for(h=0;h<this.count;h+=1)d.push(h<this.numericMargin||h>=this.count-
this.numericMargin?"":a.format(b,this.constraints)),b+=f}return d},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length}})})},"MW/toolstrip/form/RadioButton":function(){define("dojo/_base/declare mw-form/RadioButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){return h(c.validate([a,g,f,d,b,l,m,e,k]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/form/CheckBox":function(){define("dojo/_base/declare mw-form/CheckBox MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,a,g,f,d,b,l,m,e,k){return h(k.validate([a,g,f,d,b,l,m,e]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/widgets/ToolbarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/ToolbarWrapper.html ./_WidgetMixin".split(" "),function(h,a,g,f,d,b){return h([a,g,f,b],{templateString:d})})},"MW/toolstrip/widgets/MenubarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/MenubarWrapper.html ./_WidgetMixin".split(" "),
function(h,a,g,f,d,b){return h([a,g,f,b],{templateString:d})})},"MW/toolstrip/widgets/gallery/GalleryItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-geometry dojo/dom-construct dojo/_base/window dojo/on dojo/mouse dojo/touch dijit/popup dijit/_WidgetBase dijit/_CssStateMixin dijit/_TemplatedMixin dojo/text!./templates/GalleryItem.html ../../constants/gallery/GalleryViewConstants ../../constants/gallery/ItemLocationConstants ../../constants/TypeConstants mw-mixins/property/IconMixin ../_TooltipMixin ../_WidgetMixin mw-mixins/event/ChangeEventMixin mw-mixins/property/DisabledMixin mw-mixins/AccessibilityClickMixin MW/toolstrip/ToolstripUtils MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D){return h([c,n,p,u,v,w,x,z,y,B,D],{baseClass:"mwWidget mwGalleryItem",templateString:q,constructor:function(c){c=c||{};this.disabled=!!c.disabled;this._favButtonClickConnection=null;this._handleFavButtonClick=a.hitch(this,function(){this.favButtonPushed()})},postCreate:function(){var a=this;this.own(l(this.itemWrapperNode,"click",function(){a.disabled||a.itemPushed()}));this.inherited(arguments);this.attachFavButtonClickHandler()},_setIsFavoriteAttr:function(a){a?
this.domNode.classList.add("isFavorite"):this.domNode.classList.remove("isFavorite");this._set("isFavorite",a)},_setDisplayStateAttr:function(a){var c=this.getParent(),c=c&&c.getParent();if(!c||!(c.get("type")===t.GALLERY_POPUP&&c.get("displayState")!==a))this._set("displayState",a),this._updateItemDimensions(),this._updateText(),"DATA_URI"===this._getIconType(this.icon)&&this._updateIconNodeSize()},_updateItemDimensions:function(){this.displayState===r.LIST?this.domNode.style.width="auto":this._getPropertyFromAncestor("galleryItemWidth")&&
(this.domNode.style.width=this._getPropertyFromAncestor("galleryItemWidth")+"px")},attachFavButtonClickHandler:function(){this._favButtonClickConnection=l(this.favButtonNode,"click",this._handleFavButtonClick)},detachFavButtonClickHandler:function(){this._favButtonClickConnection&&(this._favButtonClickConnection.remove(),this._favButtonClickConnection=null)},_setTextAttr:function(a){this._set("text",a);this._updateText()},_setTextOverrideAttr:function(a){this._set("textOverride",a);this._updateText()},
_updateText:function(){var a;this.textOverride?a=this.textOverride:this.text&&(a=this.text);a&&(this.displayState===r.LIST&&(a=a.replace(/\n/g," "),this.shortcut&&(a=a+" "+this.shortcut)),this.labelNode.textContent=a,this._updateTooltip())},_getLocation:function(){var a=this.getParent(),c=!1;if(a)switch(a.type){case t.GALLERY_CATEGORY:c=s.CATEGORY;break;case t.GALLERY_FAVORITE_CATEGORY:c=s.FAVORITES;break;case t.GALLERY:c=s.GALLERY}return c},_getPropertyFromAncestor:function(a){var c=!1,b=this._getLocation();
if(b===s.GALLERY)c=this.getParent()[a];else if(b===s.CATEGORY||b===s.FAVORITES)this.getParent().getParent()&&(c=this.getParent().getParent()[a]);return c},itemPushed:function(){!1!==this.get("closePopupOnClick")&&k.close()},favButtonPushed:function(){},_setIconAttr:function(a){this.inherited(arguments);this.iconNode.classList.remove("dijitInline");"DATA_URI"===this._getIconType(a)&&this._updateIconNodeSize()},_updateIconNodeSize:function(){var a,c,b,e;this.icon&&1===this._getPropertyFromAncestor("galleryItemRowCount")&&
(e=this.iconNode,a=d.create("img",{src:this.icon.replace(/"/g,"").replace(/url\(|\)$/ig,"")}),c=this._getPropertyFromAncestor("galleryItemWidth"),g.after(a,"onload",function(){b=a.width>c-4?c-4:a.width;e.style.width=b+"px";e.style.height=a.height+"px"}))},_qeClick:function(){this.itemPushed()},_qeFavoriteClick:function(){this._handleFavButtonClick()}})})},"MW/toolstrip/constants/gallery/ItemLocationConstants":function(){define([],function(){return{GALLERY:"Gallery",FAVORITES:"Favorites",CATEGORY:"Category"}})},
"MW/toolstrip/widgets/gallery/ToggleGalleryItem":function(){define("dojo/_base/declare ./GalleryItem ../../constants/TypeConstants mw-mixins/event/ChangeEventMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(h,a,g,f,d,b,l,m){return h([a,f,d,b,l,m],{baseClass:"mwWidget mwToggleGalleryItem",postCreate:function(){this.set("checkableNode",this.itemWrapperNode);this.inherited(arguments)},
_setCheckedAttr:function(){this.inherited(arguments);if(!this._destroyed){var a=this.getParent(),b=null;a&&(a.type===g.GALLERY&&a.scrollToSelection?a.getChildren().some(function(a){return!0===a.get("checked")},this)||a.refresh():(b=a.getParent())&&b.type===g.GALLERY_POPUP&&b.scrollToSelection&&this.checked&&!b._invokingGallery.getChildren().some(function(a){return a.get("actionId")===this.get("actionId")},this)&&b.galleryStateChanged())}}})})},"MW/uiframework/hashes/ControlEventsHash":function(){define(["dojo/_base/lang",
"MW/toolstrip/hashes/ControlEventsHash"],function(h,a){var g={};h.mixin(g,a);return g})},"MW/toolstrip/hashes/ControlEventsHash":function(){define(["../constants/TypeConstants"],function(h){var a={};a[h.TOOLSTRIP]={actionEvents:[],componentEvents:["toolstripPlaced"]};a[h.TAB]={actionEvents:[],componentEvents:["remove"]};a[h.PUSH_BUTTON]={actionEvents:["buttonPushed"],componentEvents:[]};a[h.QAB]={actionEvents:[],componentEvents:["restoreFactoryControls"]};a[h.QAB_PUSH_BUTTON]=a[h.PUSH_BUTTON];a[h.TOGGLE_BUTTON]=
{actionEvents:[],componentEvents:[]};a[h.QAB_TOGGLE_BUTTON]=a[h.TOGGLE_BUTTON];a[h.DROP_DOWN_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};a[h.QAB_DROP_DOWN_BUTTON]=a[h.DROP_DOWN_BUTTON];a[h.SPLIT_BUTTON]={actionEvents:["buttonPushed"],componentEvents:["dropDownPerformed"]};a[h.COLOR_PICKER_BUTTON]={actionEvents:["valueChanged"],componentEvents:[]};a[h.QAB_SPLIT_BUTTON]=a[h.SPLIT_BUTTON];a[h.TOGGLE_SPLIT_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};a[h.QAB_TOGGLE_SPLIT_BUTTON]=
a[h.TOGGLE_SPLIT_BUTTON];a[h.COMBO_BOX]={actionEvents:"dropDownPerformed focusGained focusLost typing textCancelled recommit".split(" "),componentEvents:[]};a[h.POPUP_LIST]={actionEvents:[],componentEvents:["onOpen","onClose"]};a[h.LIST_ITEM]={actionEvents:["itemPushed"],componentEvents:["remove"]};a[h.LIST_ITEM_WITH_POPUP]={actionEvents:[],componentEvents:["dropDownPerformed"]};a[h.LIST_ITEM_WITH_CHECKBOX]={actionEvents:[],componentEvents:["closeRequest"]};a[h.TEXT_FIELD]={actionEvents:["focusGained",
"focusLost","typing","textCancelled","recommit"],componentEvents:[]};a[h.TEXT_AREA]={actionEvents:["focusGained","focusLost"],componentEvents:[]};a[h.LIST_ITEM_WITH_TEXTFIELD]={actionEvents:"focusGained focusLost typing commit recommit textCancelled itemPushed".split(" "),componentEvents:[]};a[h.HORIZONTAL_SLIDER]={actionEvents:["valueChanged"],componentEvents:[]};a[h.SPINNER]={actionEvents:["valueChanged","recommit"],componentEvents:[]};a[h.GALLERY]={actionEvents:[],componentEvents:["refresh"]};
a[h.GALLERY_POPUP]={actionEvents:[],componentEvents:["galleryStateChanged"]};a[h.GALLERY_CATEGORY]={actionEvents:[],componentEvents:["categoryMoved"]};a[h.GALLERY_FAVORITE_CATEGORY]={actionEvents:[],componentEvents:["itemMoved"]};a[h.GALLERY_ITEM]={actionEvents:["itemPushed"],componentEvents:["favButtonPushed","remove"]};a[h.TOGGLE_GALLERY_ITEM]={actionEvents:[],componentEvents:["favButtonPushed","remove"]};a[h.QA_GROUP]={actionEvents:[],componentEvents:["itemMoved"]};a[h.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=
a[h.SPLIT_BUTTON];return a})},"MW/uiframework/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash"],function(h,a){var g={};h.mixin(g,a);Object.keys(g).forEach(function(a){Object.keys(g[a]).forEach(function(d){g[a][g[a][d]]=d})});return g})},"MW/toolstrip/hashes/PeerNodeWidgetEventsHash":function(){define(["../constants/TypeConstants"],function(h){var a={};a[h.PUSH_BUTTON]={buttonPushed:"click"};a[h.DROP_DOWN_BUTTON]={dropDownPerformed:"dropdownclick"};
a[h.SPLIT_BUTTON]={dropDownPerformed:"dropdownclick",buttonPushed:"click"};a[h.COLOR_PICKER_BUTTON]={valueChanged:"change"};a[h.TOGGLE_SPLIT_BUTTON]={dropDownPerformed:"dropdownclick"};a[h.QAB_PUSH_BUTTON]=a[h.PUSH_BUTTON];a[h.QAB_DROP_DOWN_BUTTON]=a[h.DROP_DOWN_BUTTON];a[h.QAB_SPLIT_BUTTON]=a[h.SPLIT_BUTTON];a[h.QAB_TOGGLE_SPLIT_BUTTON]=a[h.TOGGLE_SPLIT_BUTTON];a[h.TEXT_FIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",textCancelled:"textcancelled"};a[h.TEXT_AREA]={focusGained:"focusgained",
focusLost:"focuslost"};a[h.COMBO_BOX]={focusGained:"focus",focusLost:"blur",typing:"typing",textCancelled:"textcancelled",dropDownPerformed:"dropdownclick"};a[h.POPUP_LIST]={onOpen:"open",onClose:"close"};a[h.SPINNER]={valueChanged:"change"};a[h.LIST_ITEM]={itemPushed:"click"};a[h.LIST_ITEM_WITH_TEXTFIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",commit:"commit",recommit:"recommit",textCancelled:"textcancelled",itemPushed:"itempushed"};a[h.LIST_ITEM_WITH_POPUP]={dropDownPerformed:"dropdownclick"};
a[h.LIST_ITEM_WITH_CHECKBOX]={closeRequest:"closeRequest"};return a})},"MW/toolstrip/hashes/ToolstripCollapseTriggers":function(){define(["../constants/TypeConstants"],function(h){var a={};a[h.PUSH_BUTTON]={events:["buttonPushed"],properties:[]};a[h.SPLIT_BUTTON]={events:["buttonPushed"],properties:[]};a[h.TOGGLE_BUTTON]={events:[],properties:["checked"]};a[h.LIST_ITEM]={events:["itemPushed"],properties:[]};a[h.LIST_ITEM_WITH_CHECKBOX]={events:["closeRequest"],properties:[]};a[h.COMBO_BOX]={events:[],
properties:["value"]};a[h.CHECK_BOX]={events:[],properties:["checked"]};a[h.RADIO_BUTTON]={events:[],properties:["checked"]};a[h.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]={events:["buttonPushed"],properties:[]};a[h.GALLERY_ITEM]={events:["itemPushed"],properties:[]};a[h.TOGGLE_GALLERY_ITEM]={events:[],properties:["checked"]};return a})},"MW/uiframework/supportedUIBuilderFunctions":function(){define({fromModelManager:"create destroy add remove get set exists indexOf getChildrenIds getParentId isAnOrphan addEventCallback addPropertySetCallback createPopupsFromConfig addTabGroupFromConfig createGalleryPopupFromConfig addGalleryItemToFavorites removeGalleryItemFromFavorites getGalleryState setGalleryState getQABState setQABState widgetByTag tagToId showPopup addToolstripFromConfig placeToolstripAt selectTab selectFirstTabInTabGroup getMenubarWrapperWidget getToolbarWrapperWidget".split(" "),
fromWidgetManager:["refreshGallery","isAnyPopupOpen","closeAllOpenPopups"]})},"MW/uiframework/contextmanager/TabGroupManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/dom-class","MW/uiframework/UIBuilderFactory"],function(h,a,g,f,d){return h(null,{constructor:function(b){this._contextManagerImpl=b.contextManagerImpl;this._toolstripId=b.contextManagerImpl.toolstripId;this._toolstripWidget=g.byId(this._toolstripId);this._uiBuilder=b.uiBuilder||d.getInstance();
this._registeredTabGroups={};this._lastSelectedTabId=this._lastValidContext=null;this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",a.hitch(this,this._currentContextChangedCallback)));this._handles.push(this._uiBuilder.addPropertySetCallback(this._toolstripId,a.hitch(this,this._selectedTabChangedCallback)))},registerTabGroups:function(a){this._registeredTabGroups[a.appId]||(this._registeredTabGroups[a.appId]={});this._registeredTabGroups[a.appId][a.contextId]||(this._registeredTabGroups[a.appId][a.contextId]=
{});this._registeredTabGroups[a.appId][a.contextId].tabGroupTags=a.tabGroupTags;a.appId===this._contextManagerImpl.parentAppId&&"global"===a.contextId&&this._addTabGroups(a.appId,a.contextId)},unregisterTabGroups:function(a){this._registeredTabGroups[a.appId]&&(this._registeredTabGroups[a.appId][a.contextId]?delete this._registeredTabGroups[a.appId][a.contextId]:delete this._registeredTabGroups[a.appId])},resetLastSelectedTab:function(a){this._registeredTabGroups[a.appId]&&(this._registeredTabGroups[a.appId][a.contextId]?
this._registeredTabGroups[a.appId][a.contextId].lastSelectedTabId=null:Object.keys(this._registeredTabGroups[a.appId]).forEach(function(d){this._registeredTabGroups[a.appId][d].lastSelectedTabId=null},this))},_currentContextChangedCallback:function(b,d,f){this._previouslySelectedTabId=this._uiBuilder.get(this._toolstripId,"selectedTab");if(!(JSON.stringify(d)===JSON.stringify(f)||null===f||void 0===f)&&this._registeredTabGroups[f.appId])this._lastValidContext=this._contextManagerImpl.get("currentContext"),
this._registeredTabGroupsForNewApp=a.clone(this._registeredTabGroups[f.appId]),this.removeAllContextualTabGroups(),f.contextIdList&&f.contextIdList.forEach(function(a){f.appId===this._contextManagerImpl.parentAppId&&"global"===a||this._addTabGroups(f.appId,a);this._contextManagerImpl.alternativeContextMemory||this._selectAppropriateTab(f.appId,a)},this),this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(f.appId)},removeAllContextualTabGroups:function(){this._ignoreSelectedTabChange=
!0;this._toolstripWidget._ignoreResize=!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(a){this._isAGlobalTabGroupOfParentApp(a)||this._uiBuilder.remove(a)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,"global")},removeContextualTabGroupsOfAppId:function(a){this._ignoreSelectedTabChange=!0;this._toolstripWidget._ignoreResize=
!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(d){-1<this._getAllRegisteredTabGroupTags(a).indexOf(this._uiBuilder.get(d,"tag"))&&this._uiBuilder.remove(d)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,"global")},_getAllRegisteredTabGroupTags:function(a){var d=[];this._registeredTabGroups[a]&&
Object.keys(this._registeredTabGroups[a]).forEach(function(f){d=d.concat(this._registeredTabGroups[a][f].tabGroupTags)},this);return d},_addTabGroups:function(b,d){this._registeredTabGroups[b]&&this._registeredTabGroups[b][d]&&(this._ignoreSelectedTabChange=!0,this._toolstripWidget._ignoreResize=!0,this._registeredTabGroups[b][d].tabGroupTags.forEach(function(a){this._uiBuilder.add(this._uiBuilder.tagToId(a),this._toolstripId)},this),this._ignoreSelectedTabChange=!1,this._toolstripWidget._ignoreResize=
!1,b===this._contextManagerImpl.parentAppId&&"global"===d||this._registeredTabGroups[b][d].tabGroupTags.forEach(a.hitch(this,function(a){a=this._uiBuilder.tagToId(a);this._uiBuilder.getChildrenIds(a).forEach(function(a){f.add(g.byId(a).controlButton.domNode,"toolstripContextualTab")})})))},_selectAppropriateTab:function(a,d){if(this._registeredTabGroups[a])if(this._contextManagerImpl.alternativeContextMemory)this._lastSelectedTabId&&!this._uiBuilder.isAnOrphan(this._lastSelectedTabId)?(this._uiBuilder.set(this._toolstripId,
"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",this._lastSelectedTabId)):this._registeredTabGroups[a].global&&(this._registeredTabGroups[a].global.tabGroupTags&&0<this._registeredTabGroups[a].global.tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[a].global.tabGroupTags[0],this._toolstripId);else if(this._registeredTabGroups[a][d]){var f=this._registeredTabGroupsForNewApp&&this._registeredTabGroupsForNewApp[d].lastSelectedTabId;!f||this._uiBuilder.isAnOrphan(f)?
this._registeredTabGroups[a]&&(this._registeredTabGroups[a][d]&&this._registeredTabGroups[a][d].tabGroupTags&&0<this._registeredTabGroups[a][d].tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[a][d].tabGroupTags[0],this._toolstripId):this._isAGlobalTab(this._previouslySelectedTabId,a)?this._isAGlobalTab(f,a)?this._uiBuilder.set(this._toolstripId,"selectedTab",this._previouslySelectedTabId):this._uiBuilder.set(this._toolstripId,"selectedTab",f):(this._uiBuilder.set(this._toolstripId,
"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",f))}},_selectedTabChangedCallback:function(a){!this._ignoreSelectedTabChange&&"selectedTab"===a.property&&(this._contextManagerImpl.alternativeContextMemory?this._lastSelectedTabId=a.newValue:this._lastValidContext&&(this._registeredTabGroups[this._lastValidContext.appId]&&this._lastValidContext.contextIdList)&&this._lastValidContext.contextIdList.forEach(function(d){this._registeredTabGroups[this._lastValidContext.appId][d]&&this._registeredTabGroups[this._lastValidContext.appId][d].tabGroupTags&&
(this._registeredTabGroups[this._lastValidContext.appId][d].lastSelectedTabId=a.newValue)},this))},_isAGlobalTabGroupOfParentApp:function(a){var d=!1;a=this._uiBuilder.get(a,"tag");this._contextManagerImpl.parentAppId&&this._registeredTabGroups[this._contextManagerImpl.parentAppId]&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags&&(d=-1<this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags.indexOf(a));
return d},_isAGlobalTab:function(a,d){var f=!1;return f=this._contextManagerImpl.parentAppId?this._isAChildOfRegisteredTabGroups(a,this._contextManagerImpl.parentAppId,"global"):this._isAChildOfRegisteredTabGroups(a,d,"global")},_isAChildOfRegisteredTabGroups:function(a,d,f){var e=!1;this._registeredTabGroups[d][f].tabGroupTags&&(a=this._uiBuilder.getParentId(a),a=this._uiBuilder.get(a,"tag"),-1<this._registeredTabGroups[d][f].tabGroupTags.indexOf(a)&&(e=!0));return e},cleanup:function(){this._handles.forEach(function(a){a.remove()})}})})},
"variableeditor/ClientPeerDocument":function(){define("variableeditor/ClientPeerDocument","dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dijit/layout/ContentPane variableeditor/VariableEditorUtils variableeditor/ContextPublishingUtils variableeditor/_ArgumentsMixin mw-peermodel/Observable mw-log/Log dojo/dom-construct dojo/dom-class dojo/dom-style dojo/query dojo/dom-geometry dojo/Deferred dojo/topic mw-browser-utils/BrowserUtils dojo/on variableeditor/views/SummaryBar datatoolsservices/CmdLineCodePublishService dojo/text!variableeditor/ClientPeerDocument.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x){return h("variableeditor.ClientPeerDocument",[f,l,g,m.Impl],{allArgs:{},varName:"",varDocID:"",userContext:{},clientPeerView:null,viewListeners:[],clientPeerManager:[],dataTagRoot:"",resizeBehaviour:"default",summaryBar:null,showSummaryBar:!0,templateString:x,varSize:"",varType:"",varSecondaryType:"",varSecondaryStatus:"",requestFocusOnStart:!0,cmdLineCodePublishSvc:null,cmdLineCodeEnabled:!1,constructor:function(a){this.allArgs={};this.userContext=
{};this.clientPeerView=null;this.viewListeners=[];this.clientPeerManager=[];this.varType=this.varSize=this.varName=this.dataTagRoot="";this.init(a)},init:function(e){if(e&&(this.allArgs=e,this.contextChannel=e.contextUpdateChannel||"",this.currentContext=e.contextId||"",this.setArgument("documentNode",this.allArgs),this.setArgument("rootNode",this.allArgs),this.setArgument("executionService",this.allArgs),this.allArgs.resizeBehaviour||(this.allArgs.resizeBehaviour=this.resizeBehaviour),this.setArgumentWithDefault("editable",
this.allArgs,!0),this.setArgumentWithDefault("resizeBehaviour",this.allArgs,"default"),this.setArgumentWithDefault("requestFocusOnStart",this.allArgs,!0),this.setArgumentWithDefault("showSummaryBar",this.allArgs,!0),this.setArgumentWithDefault("cssSpecifier",this.allArgs,""),this.setArgumentWithDefault("userContext",this.allArgs,{}),this.setArgumentWithDefault("clientPeerManager",this.allArgs,{}),this.setArgumentWithDefault("dataTagRoot",this.allArgs,""),e.rootNode&&e.rootNode.getProperty)){var f=
e.rootNode.getProperty("VECmdLineCodeGenEnabled");this.cmdLineCodeEnabled=f&&f.VECmdLineCodeGenEnabled?f.VECmdLineCodeGenEnabled:!1;e.rootNode.addEventListener("propertySet",a.hitch(this,"_handleRootPropertySet"))}var g=this;if(g.documentNode&&g.documentNode.hasProperty("name")&&g.documentNode.hasProperty("docID")){g.varName=g.documentNode.getProperty("name");g.varSize=g.documentNode.getProperty("size");g.varType=g.documentNode.getProperty("type");g.varSecondaryType=g.documentNode.getProperty("secondaryType");
g.varSecondaryStatus=g.documentNode.getProperty("secondaryStatus");g.varDocID=g.documentNode.getProperty("docID");g.userContext=g.documentNode.hasProperty("userContext")?g.documentNode.getProperty("userContext"):{};g.onClose=function(){d.logDebug("VE: Document Closed");g.clientPeerManager&&g.clientPeerManager.removeFocusedDocument(g);g.rootNode.dispatchEvent("peerEvent",g.rootNode,{type:"RemoveDocument",variable:g.varName,workspace:g.documentNode.getProperty("workspace")})};g.onShow=function(){g.domNode&&
!g.domNode.hasAttribute("data-tag")&&(g.dataTagRoot?g.domNode.setAttribute("data-tag",d.concatenateDataTagStrings(g.dataTagRoot,"document",g.varName)):g.domNode.setAttribute("data-tag",d.createDataTag("document",g.varName)));g.clientPeerManager&&(g.requestFocusOnStart&&g.clientPeerManager.setFocusedDocument(g),g.domNode.setAttribute("data-ManagerChannel",g.clientPeerManager.channel))};g.onFocus=function(){if(g.clientPeerManager){var a=[g.currentContext];g.varType&&a.push(g.varType);b.addToContext(g.contextChannel,
a,!1);g.clientPeerManager.setFocusedDocument(g)}};g.onBlur=function(){g.clientPeerManager&&g.clientPeerManager.removeFocusedDocument(g)};g.documentNode.addEventListener("childAdded",function(a){var c=a.data.child;a=a.target.getProperty("name");var b=c.getProperty("Editor");g._addView(b,g,c,a)});if(g.documentNode.getChildren&&0<g.documentNode.getChildren().length){e=g.documentNode.getChildren()[0];var f=g.documentNode.getProperty("name"),k=e.getProperty("Editor");g._addView(k,g,e,f)}g.documentNode.addEventListener("childRemoved",
function(a){g._removeView(g,a.data.child)});g.showSummaryBar&&(g.documentNode.addEventListener("propertySet",a.hitch(g,"_handlePropertySet")),g.summaryBar&&(g.summaryBar.setName(g.varName),g.summaryBar.setSize(g.varSize),g.summaryBar.setSecondaryType(g.varSecondaryType),g.summaryBar.setType(g.varType),g.summaryBar.setStatus(g.varSecondaryStatus),g.summaryBar.setStatusRef(g.varSecondaryStatus),g.summaryBar.initServices(g.allArgs.executionService,g.allArgs.helpDataService)));this.domNode&&c.add(this.domNode,
"fullWidthHeight")}},_updateCssStyle:function(){var a=this.domNode.getElementsByClassName("clientPeerViewDiv")[0];c.add(a,"hasSummaryBar")},_addView:function(a,c,b,f,g){try{d.logDebug("VE: Attempting module load of "+a),require([a],function(e){d.logDebug("VE: Loaded class "+a);c.clientPeerView=new e;var h=c.domNode.getElementsByClassName("clientPeerViewDiv");e=c;h&&h.hasOwnProperty(0)&&(h=h[0],e={domNode:h,addChild:function(a){k.place(a.domNode,h,"last")}});c.allArgs=d.mergeObjects(c.allArgs,{peerNode:b,
varName:f,container:e});c.clientPeerView.init(c.allArgs);c.resize();d.logDebug("VE: Dispatching Event viewAdded ");c.dispatchEvent("viewAdded",c.domNode,{peerDoc:c,peerView:c.clientPeerView});g&&g("success");c.cmdLineCodePublishSvc=new w({executionService:c.executionService,context:"VariableEditor/"+f,enabled:c.cmdLineCodeEnabled})}),d.logDebug("VE: Passed required module load.")}catch(h){e.error(h),e.error(h.stack),g&&g("error",h)}},_removeView:function(a,c){d.logDebug("VE: childRemoved listener fired");
a.dispatchEvent("viewRemoved",a.domNode,{peerDoc:a,peerView:a.clientPeerView});a&&a.clientPeerView&&(d.logDebug("VE: destroying the clientPeerView"),a.clientPeerView.destroy(),d.logDebug("VE: destroyed the clientPeerView"));if(a.domNode){var b=a.domNode.getElementsByClassName("clientPeerViewDiv");b&&b.hasOwnProperty(0)&&(b=b[0],k.empty(b))}c&&c.destroy();this.cmdLineCodePublishSvc&&this.cmdLineCodePublishSvc.unregister();a.clientPeerView={}},postCreate:function(){var a=this;this.own(u(window,"resize",
function(){a.resize&&a.resize()}));this.showSummaryBar&&(this.setSummaryBar(),this._updateCssStyle())},getView:function(a){if(a)return this.clientPeerView;var c=!1,b=new r(function(){c=!0});if(this.clientPeerView)b.resolve(this.clientPeerView);else{var e=this,d=function(){e.removeEventListener("viewAdded",d,this);c||b.resolve(e.clientPeerView)};this.addEventListener("viewAdded",d)}return b},focus:function(){var a=this;a.id&&require(["dijit/focus","dojo/dom","dojo/domReady!"],function(c,b){var e=b.byId(a.id);
b.isDescendant(c.curNode,e)||c.focus(b.byId(a.id))})},resize:function(){var a=300,c=300,b=0;switch(this.resizeBehaviour){case "fixed":this.allArgs.size&&(a=this.allArgs.size.width,c=this.allArgs.size.height);break;case "data":b=p(".dataBody",this.domNode);if(0===b.length)break;a=b[0];n.set(a,"min-width","initial");n.set(a,"min-height","initial");b=q.position(a);this.clientPeerView&&this.clientPeerView.table&&this.clientPeerView.table.defaultProperties?(c=b.h+this.clientPeerView.table.rowHeight+2,
a=b.w+this.clientPeerView.table.rowHeaderWidth+2):(c=b.h+20,a=b.w+32);b=this.limitSize(a,c);c=b.height;a=b.width;break;case "window":a=window.innerWidth;c=window.innerHeight;b=this.limitSize(a,c);c=b.height;a=b.width;break;case "container":a=this.domNode.parentElement;if(!a){this.inherited(arguments);return}b=q.position(a);if(0>=b.w||0>=b.h){this.inherited(arguments);return}a=b.w;c=b.h;b=this.limitSize(a,c);c=b.height;a=b.width;break;default:this.inherited(arguments);return}n.set(this.domNode,"width",
a+"px");n.set(this.domNode,"height",c+"px");this.inherited(arguments)},limitSize:function(a,c){this.allArgs.maxSize&&(this.allArgs.maxSize.width&&a>this.allArgs.maxSize.width&&(c+=t.getScrollbarWidth()),this.allArgs.maxSize.height&&c>this.allArgs.maxSize.height&&(a+=t.getScrollbarWidth()),this.allArgs.maxSize.width&&(a=Math.min(this.allArgs.maxSize.width,a)),this.allArgs.maxSize.height&&(c=Math.min(this.allArgs.maxSize.height,c)));this.allArgs.minSize&&(this.allArgs.minSize.width&&(a=Math.max(this.allArgs.minSize.width,
a)),this.allArgs.minSize.height&&(c=Math.max(this.allArgs.minSize.height,c)));return{width:a,height:c}},_handlePropertySet:function(a){a&&(a.data&&"size"===a.data.key)&&(this.varSize=a.data.newValue,this.summaryBar.setSize(a.data.newValue),s.publish("/datatools/sizeChanged",{doc:this,size:a.data.newValue}));a&&(a.data&&"type"===a.data.key)&&this.summaryBar.setType(a.data.newValue)},_handleRootPropertySet:function(a){a&&(a.data&&"VECmdLineCodeGenEnabled"===a.data.key)&&this.cmdLineCodePublishSvc.setEnabled(a.data.newValue.VECmdLineCodeGenEnabled)},
setSummaryBar:function(){this.documentNode&&(this.varName=this.documentNode.getProperty("name"),this.varSize=this.documentNode.getProperty("size"),this.varType=this.documentNode.getProperty("type"),this.varSecondaryStatus=this.documentNode.getProperty("secondaryStatus"),this.varSecondaryType=this.documentNode.getProperty("secondaryType"));if(this.showSummaryBar){this.summaryBar=new v(this.varName,this.varSize,this.varType,this.varSecondaryType,this.varSecondaryStatus,this.allArgs.executionService,
this.allArgs.helpDataService);this.summaryBar.startup();var a=this.domNode.getElementsByClassName("summaryBarDiv");a&&a.hasOwnProperty(0)&&(a=a[0],k.place(this.summaryBar.domNode,a,"last"));var c=this;u(a,"click",function(a){b.addToContext(c.contextChannel,["SummaryBar"],!0)})}}})})},"variableeditor/VariableEditorUtils":function(){define("variableeditor/VariableEditorUtils","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/topic mw-remote/Remote mw-log/Log dojo/has mw-dialog-utils/DialogUtils mw-notifications/Notifications dojo/i18n!variableeditor/app/l10n/nls/app mw-messageservice/MessageService dojo/dnd/Target dijit/focus dojo/dom-geometry dojo/dom-style".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t){function u(a,c){var b,e;if(!a||!c||a.length!==c.length)return!1;b=0;for(e=a.length;b<e;b+=1)if(a[b]instanceof Array&&c[b]instanceof Array){if(!u(a[b],c[b]))return!1}else if(a[b]!==c[b])return!1;return!0}function v(a){for(var c=a,b=1;b<arguments.length;b+=1)c=arguments[b]instanceof Object&&arguments[b].length?c+"."+v.apply(this,arguments[b]):c+"."+arguments[b];return c}function w(a,c,b){try{if(void 0!==a.selectionStart)a.selectionStart=c,a.selectionEnd=b,
r.curNode!==a&&r.focus(a);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0);e.moveStart("character",c);e.moveEnd("character",b);e.select();r.curNode!==a&&r.focus(a)}else a.setSelectionRange&&(r.curNode!==a&&r.focus(a),a.setSelectionRange(c,b))}catch(d){m.log(d)}}function x(a){w(a,0,a.value.length)}var z=0,y=0,A=null;p.subscribe("/VELogChannel",function(a){"setLogFlagFromServer"===a.data.eventType&&(y=a.data.flag)});var B=h(q,{onSelectStart:function(a){}});return{mergeObjects:function(a,
c){var b={},e;for(e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);for(e in c)c.hasOwnProperty(e)&&(b[e]=c[e]);return b},addToClassList:function(a,c){void 0!==a&&(null!==a&&void 0!==c&&null!==c)&&f.add(a,c)},removeFromClassList:function(a,c){void 0!==a&&(null!==a&&void 0!==c&&null!==c)&&f.remove(a,c)},runFactoryInitInMATLAB:function(a,c,b){try{z+=1;var e="VariableEditorUtilsResponse_"+z;c&&l.registerResponseHandler("EvalResponse:"+e,c,this);b&&l.registerFaultHandler("Eval:"+e,b,this);a.endsWith(";")&&(a=a.substring(0,
a.length-1));l.sendMessage({FEval:{"function":a,nargout:0,dequeMode:"idle"}},{},e)}catch(d){m.error(d),m.trace(d.stack)}},compareArrays:u,createDataTag:function(){return v("datatools.variableeditor",arguments)},concatenateDataTagStrings:v,displayErrorMessage:function(a,b,e){e={icon:e?e:"error","data-test-id":"fileDataServiceFaultDialog"};b||(b=n.errorDialogTitle);c.displayAlertDialog(b,a,e)},displayErrorMessageWithSpecifiedWidth:function(a,b,e,d){b=b?b:300;d={icon:d?d:"error","data-test-id":"fileDataServiceFaultDialog"};
e||(e=n.errorDialogTitle);a=c.displayAlertDialog(e,a,d);t.set(a.domNode,"min-width",b+"px");t.set(a.domNode,"width",b+"px");return a},DEFAULT_VE_DATA_TAG_ROOT:"datatools.variableeditor",isDebug:function(){return y&2},setDebug:function(a){a?this.addLogLevel(2):this.isDebug()&&this.removeLogLevel(2);this.publishLogLevel(y)},logDebug:function(a){this.isDebug()&&m.debug(a)},isPerformance:function(){return y&1},isInfo:function(){return y&4},setLogLevel:function(a){y=a;this.publishLogLevel(y)},addLogLevel:function(a){y|=
a},removeLogLevel:function(a){a<=y&&(y^=a)},publishLogLevel:function(a){try{p.publish("/VELogChannel",{eventType:"setLogFlagFromClient",LogLevel:a})}catch(c){}},getLogicalValue:function(a,c){var b=void 0!==c?!0===c:!1;"string"===typeof a||a instanceof String?(a=a.toLowerCase(),b="false"===a||"0"===a||"off"===a||"no"===a?!1:"true"===a||"1"===a||"on"===a||"yes"===a?!0:void 0!==c?!0===c:!0):"boolean"===typeof a?b=a:"number"===typeof a&&(b=0!==a);return b},getStackTrace:function(){var a=[];try{throw Error("Generating Stack");
}catch(c){if(c.stack){for(var b=c.stack.split("\n"),e=0;e<b.length;e++){var d=b[e].split("at").join("").trim();a.push(d)}a.shift()}}a.shift();return a},logDebugStackTraceMessage:function(){if(this.isDebug()){var a=this.getStackTrace();a.shift();a=a.join("\n");m.debug("VECallStack: "+a)}},logDebugStackTraceArray:function(){if(this.isDebug()){var a=this.getStackTrace();a.shift();m.debug(a)}},stripOuterSingleQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/^\s*'/,""),
a=a.replace(/'\s*$/,"");return a},stripOuterDoubleQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/^\s*"/,""),a=a.replace(/"\s*$/,"");return a},handleFormatting:function(a,c,b){var e=null,d=null;"newLine"===b?e="\n":"tab"===b&&(e="\t");a&&(b=a[0],a=a[1],d=c.slice(0,a>b?b:a)+e+c.slice(a,c.length),d=d.replace(/\u21b5/g,"\n"),d=d.replace(/\u0009/g,"\t"));return d},formatString:function(a,c){if(a&&(-1<a.indexOf("\n")||-1<a.indexOf("\t")))a=a.replace(/\n/g,"\u21b5"),a=a.replace(/\t/g,
"\t");return a},unescapeMatlabQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/\'\'/g,"'");return a},deselectTextInBrowser:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection.createRange&&(document.selection.createRange(),document.selection.empty())},selectTextInNode:function(a){if(document.selection){var c=document.body.createTextRange();c.moveToElementText(a);c.select()}else window.getSelection&&(c=document.createRange(),c.selectNodeContents(a),
window.getSelection().removeAllRanges(),window.getSelection().addRange(c))},createSelectableDnDTarget:function(a,c){var b=new B(a,c);c&&c.dropCallback&&(b.onDrop=c.dropCallback);c&&c.checkAcceptanceCallback&&(b.checkAcceptance=c.checkAcceptanceCallback);return b},selectAll:x,selectAllText:function(a){a&&a.value&&(!/^\".*\"$/.test(a.value)&&!/^\'.*\'$/.test(a.value)?x(a):w(a,1,a.value.length-1))},selectRange:w,getSelectionStart:function(a){if(void 0!==a.selectionStart&&null!==a.selectionStart)return a.selectionStart;
if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveEnd("character",a.value.length);return""===c.text?a.value.length:a.value.lastIndexOf(c.text)}},getSelectionEnd:function(a){if(void 0!==a.selectionStart&&null!==a.selectionStart)return a.selectionEnd;if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveStart("character",-a.value.length);return c.text.length}},getClassList:function(a){return a.className.split(" ")},getClassNameForIconList:function(a){-1<
a.indexOf("sparse")?a="sparse":-1<a.indexOf("complex")?a="complex":""===a.trim()&&(a="novardisplay");return a},compareValues:function(a,c){a instanceof Array&&(a=a.toString());c instanceof Array&&(c=c.toString());return JSON.stringify(a)===JSON.stringify(c)},getStylesFromClasses:function(a,c){var b=d.create("div",{style:"display: none; width: 0px; height: 0px;"});if(a)for(var e=0;e<a.length;e+=1)f.add(b,a[e]);d.place(b,document.body,"last");var g=window.getComputedStyle(b),k={};if(g&&c)for(e=0;e<
c.length;e+=1){var h=c[e];k[h]=g.getPropertyValue(h)}d.destroy(b);return k},createDebounceFn:function(a,c,b){var e=null;return function(){clearTimeout(e);e=setTimeout(function(){if(a.domNode)for(var b=0;b<c.length;b++)c[b].apply(a)},b)}},getComputedColumnHeaderWidth:function(a,c){if(a&&c){var b=document.createElement("canvas").getContext("2d");b.font=c;return parseInt(b.measureText(a).width)}return 0},getBrowserScrollBarWidth:function(a){if(!A)if(e("mac")){a=document.createElement("div");a.className=
"scrollbar-measure";a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="-9999px";document.body.appendChild(a);var c=a.offsetWidth-a.clientWidth;document.body.removeChild(a);A=c+2;setTimeout(function(){A=null},500)}else A=a.scrollbarWidth;return A},getColumnHeaderPositions:function(a){var c=HTMLElement.prototype.getBoundingClientRect;HTMLElement.prototype.getBoundingClientRect=function(){try{return c.apply(this,arguments)}catch(a){return{left:0,
right:0,top:0,bottom:0,height:0,width:0}}};if(null===a)return[];for(var b=[],e=0;e<a.length;e++)b[e]=a[e].getBoundingClientRect();HTMLElement.prototype.getBoundingClientRect=c;return b},preventDefaultMouseClick:function(a){a.preventDefault()},filterFloat:function(a){if("string"===typeof a){var c=parseFloat(a).toString();if(0===a.indexOf(c)&&a.length!=c.length)for(c=c.length;c<a.length;c+=1)if("0"!==a.charAt(c))return NaN}return parseFloat(a)}}})},"mw-notifications/Notifications":function(){define("dojo/_base/window dojo/_base/kernel dojo/dom-style dojo/html dojo/window dojo/dom-class mw-utils/HtmlUtils ./IconAndMessageWidget ./BannerWidget ./ProgressBar mw-dialogs/Dialogs mw-dialogs/ButtonEnum".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){var p=function(a,c){"string"===typeof c&&(c=l.escapeWhitespace(c));f.set(a,c,{parseContent:!0})};return{displayAlertDialog:function(a,b,e){e=e||{};b=this._createIconAndMessageWidget(b,"error",e);this._setupIconAndMessageWidget(b);var d=[n.OK];d[0]["data-test-id"]="AlertDialogButton1";var f=e.closeCallback?e.closeCallback:function(){},g={eventName:"AlertDialogClosed",dialogTitle:a,response:1,buttonText:d[0].label};a=c.createDialog({title:a,content:b,dialogType:!1===
e.modal?c.MODELESS:c.MODAL,buttons:d,draggable:!0,"data-test-id":e["data-test-id"]?e["data-test-id"]:"AlertDialog",className:"mwAlertDialog"});a.on("close",function(){f(g)});a.addButtonEventListener(n.OK,null,!0);return a},_createIconAndMessageWidget:function(a,c,b){return new m({message:a,icon:b.icon?b.icon:c})},_setupIconAndMessageWidget:function(a){var c=d.getBox(),c=Math.max(80,Math.min(0.4*c.h,300));g.set(a.messageNode,"max-height",c+"px")},_resizeToFitOversizeButtons:function(a){400<parseInt(g.getComputedStyle(a.domNode).width)&&
(a.domNode.querySelector(".mwDialogBody").style.maxWidth="none")},displayConfirmDialog:function(a,b,e){e=e||{};b=this._createIconAndMessageWidget(b,"question",e);this._setupIconAndMessageWidget(b);var d=[],f=[n.TYPE.DO_IT,n.TYPE.DONT_DO_IT,n.TYPE.CANCEL,n.TYPE.APPLY,n.TYPE.REVERT];if(e.buttonText&&1<=e.buttonText.length)for(var g=0;g<e.buttonText.length&&5>g;g++)d.push({type:f[g],label:e.buttonText[g],"data-test-id":"ConfirmDialogButton"+(g+1)});else d=[{type:n.TYPE.DO_IT,label:"OK","data-test-id":"ConfirmDialogButton1"},
{type:n.TYPE.CANCEL,label:"Cancel","data-test-id":"ConfirmDialogButton2"}];var k=e.closeCallback?e.closeCallback:function(){},h={eventName:"ConfirmDialogClosed",dialogTitle:a,response:1,buttonText:d[0].label},l=e.defaultCancelButton<=d.length?e.defaultCancelButton:d.length,m=c.createDialog({title:a,dialogType:c.MODAL,content:b,buttons:d,draggable:!0,className:"mwConfirmDialog","data-test-id":e["data-test-id"]?e["data-test-id"]:"ConfirmDialog",defaultActionButton:e.defaultAcceptButton<=d.length?d[e.defaultAcceptButton-
1]:d[0]});m.on("close",function(){h.response=l;h.buttonText=d[l-1].label;k(h)});d.forEach(function(a,c){m.addButtonEventListener(a,function(){h.response=c+1;h.buttonText=a.label;k(h);m.destroy()},!1)});this._resizeToFitOversizeButtons(m);return m},displayProgressDialog:function(a,b,e){e=e||{};var d=void 0===e.className?"":" "+e.className,f=new m({message:'\x3cdiv class\x3d"mwProgressDialogMessage" data-test-id\x3d"progress-message-node"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwProgressDialogProgressBar"\x3e\x3c/div\x3e',
icon:e.icon?e.icon:"none"}),g=f.messageNode.children[1],h=f.messageNode.children[0];p(h,b);b=new k({indeterminate:void 0===e.indeterminate?!1:e.indeterminate,value:void 0===e.value?0:e.value,colorStyle:void 0===e.colorStyle?"Info":e.colorStyle,showPercentage:void 0===e.showPercentage?!1:e.showPercentage,"data-test-id":"ProgressDialogProgressBar"});b.placeAt(g);b.startup();b.resize({w:"none"===f.icon?360:317});this._setupIconAndMessageWidget(f);var l=[];if(g=void 0===e.showCancelButton?!1:e.showCancelButton)l=
[n.CANCEL],l[0].label=void 0===e.cancelButtonText?n.CANCEL.label:e.cancelButtonText,l[0]["data-test-id"]="ProgressDialogButton1";d=c.createDialog({title:a,dialogType:c.MODAL,content:f,buttons:l,draggable:!0,closeOnEscape:g,hideCloseButton:!g,className:"mwProgressDialog"+d,"data-test-id":e["data-test-id"]?e["data-test-id"]:"ProgressDialog"});if(g){var z={eventName:"ProgressDialogClosed",dialogTitle:a,response:"cancel",buttonText:l[0].label,dialog:d},y=e.cancelCallback?e.cancelCallback:function(){};
a=function(){y(z)};d.on("close",a);d.addButtonEventListener(n.CANCEL,a,!1);d._destroyCache=d.destroy;d.destroy=function(){};d.closeProgressDialog=function(){this.destroy=this._destroyCache;this.destroy()};d.disableCancelButton=function(){this.disableButton(l[0])};d.enableCancelButton=function(){this.enableButton(l[0])}}else d.closeProgressDialog=function(){this.destroy()};d.progressBar=b;d.progressMessageNode=h;d.updateMessage=function(a){p(this.progressMessageNode,a)};return d}}})},"mw-utils/HtmlUtils":function(){define(["dojo/_base/window",
"dojo/_base/event","dojo/io-query","mw-utils/deprecation"],function(h,a,g,f){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var a=h.global.location.search.substr(1,h.global.location.search.length);return this._parseQueryString(a)},
_parseQueryString:function(a){return g.queryToObject(a)},parseUrl:function(a){var b=document.createElement("a");b.display="none";b.href=a||window.location.href;b.href=b.href;b={protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search,hash:b.hash};if(("https:"===b.protocol||"http:"===b.protocol)&&0!==b.pathname.indexOf("/"))b.pathname="/"+b.pathname;"https:"===b.protocol&&("443"===b.port&&0!==a.indexOf("https://"+b.hostname+":443"))&&(b.port="");return b},escapeHtml:function(a){var b=
h.global.document.createElement("div");a=h.global.document.createTextNode(a);b.appendChild(a);b=b.innerHTML;a="";for(var f=0;f<b.length;f+=1){var g=b.charCodeAt(f);a=128<g?a+"\x26#"+g+";":a+b.charAt(f)}return a},escapeLinksAndHtml:function(a,b){f.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var g="",h=a.split(this.HYPERLINK_ESCAPE_REGEXP),e=a.match(this.HYPERLINK_ESCAPE_REGEXP),k="",
c=this,n=0,p=function(a,b,e,d){a=c.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=c.escapeHtml(b);d=c._strongNotEscaped(d,!0);k='\x3ca href\x3d"'+b+'"\x3e'+d+"\x3c/a\x3e"};if(b)g=this.escapeHtml(a),g=this.escapeWhitespace(g);else if(""!==h[0]&&(g=this._strongNotEscaped(h[0],!0)),null!==e&&0!==e.length)for(n=0;n<e.length;n+=1)e[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,p),""!==h[n+1]&&(h[n+1]=this._strongNotEscaped(h[n+1],!0)),g+=k+h[n+1];return g},treatHtmlLikeCommandWindow:function(a,
b,f){if("string"!==typeof a)return"";var g="",e=a.split(this.HYPERLINK_ESCAPE_REGEXP),k=a.match(this.HYPERLINK_ESCAPE_REGEXP),c="",h=this,p=0;f=f?f:{};var q=function(a,b,e,d){a=h.parseUrl(b).protocol;var f="";"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=h.escapeHtml(b);d=h._strongNotEscaped(d,!1);h.BOLD_LINK_ATTRIBUTE_REGEX.test(e)&&(f=' style\x3d"font-weight:bold"');c='\x3ca href\x3d"'+b+'"'+f+"\x3e"+d+"\x3c/a\x3e"};if(b)g=this.escapeHtml(a);else if(""!==e[0]&&(g=this._strongNotEscaped(e[0],
!1)),null!==k&&0!==k.length)for(p=0;p<k.length;p+=1)k[p].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,q),""!==e[p+1]&&(e[p+1]=this._strongNotEscaped(e[p+1],!1)),g+=c+e[p+1];f.addPreTagToPreserveWhiteSpace&&(g='\x3cspan style\x3d"white-space: pre"\x3e'+g+"\x3c/span\x3e");return g},_strongNotEscaped:function(a,b){var f="",g=a.match(this.STRONG_ESCAPE_REGEXP),e=a.split(this.STRONG_ESCAPE_REGEXP),k=function(a){return a};b&&(k=this.escapeWhitespace);var c=0;if(null!==g&&0!==g.length){f=k(this.escapeHtml(e[0]));
for(c=0;c<g.length;c+=1)f+=g[c]+k(this.escapeHtml(e[c+1]))}else f=k(this.escapeHtml(a));return f},escapeWhitespace:function(a){f.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(a||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(d,b){if(b.target.href){a.stop(b);var f=b.target.href;
-1!==f.indexOf("matlab:")?"matlab:"===f.substring(0,7)&&(f=b.target.href.substring(7),d(h.global.unescape(f))):h.global.open(b.target.href)}},isElementOverflown:function(a){return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth}}})},"mw-notifications/IconAndMessageWidget":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-attr dojo/dom-construct dojo/dom-class dojo/html mw-html-utils/HtmlUtils".split(" "),function(h,a,g,f,d,b,l,m,e){return h([g,
f],{templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3cimg class\x3d"${baseClass}Icon" src\x3d"" draggable\x3d"false"  ondragstart\x3d"return false;" data-dojo-attach-point\x3d"iconNode"\x3e\x3cdiv class\x3d"${baseClass}Message" data-test-id\x3d"message-node" data-dojo-attach-point\x3d"messageNode"\x3e${!message}\x3c/div\x3e\x3c/div\x3e',baseClass:"mwIconAndMessageWidget",icon:"error",message:"",_setIconAttr:function(a){var c="";a||(a="error");this._set("icon",a);this.iconNode.src=this._ICON_blank;
l.remove(this.iconNode);l.add(this.iconNode,this.baseClass+"Icon");a.match(/^(error|warning|info|question|success|none)$/)?(l.add(this.iconNode,["mwAlertIcon32",this._getIconClassName(this.icon)]),c=a):a.match(/^(data:image\/)/i)?(c="customDataURI",this.iconNode.src=a):(c="customCSSClass",l.add(this.iconNode,a));d.set(this.iconNode,"data-icon-id",c)},_getIconClassName:function(a){return"mwAlertIcon"+a.charAt(0).toUpperCase()+a.slice(1)},_setMessageAttr:function(a){this._set("message",a);"string"===
typeof a&&(a=e.escapeWhitespace(a));m.set(this.messageNode,a,{parseContent:!0})},_ICON_blank:"data:image/gif;base64,R0lGODlhAQABAJAAAP8AAAAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw\x3d\x3d"})})},"mw-notifications/BannerWidget":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-attr dojo/_base/lang dojo/fx".split(" "),function(h,a,g,f,d,b){return h([a,g],{templateString:'\x3cdiv class\x3d"${baseClass}" style\x3d"display:none;"\x3e\x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3cdiv class\x3d"${baseClass}Title" data-dojo-attach-point\x3d"titleNode"\x3e${!title}\x3c/div\x3e\x3cdiv class\x3d"${baseClass}Content" data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
baseClass:"mwBanner","data-test-id":"",title:"Banner Title",content:"This is the Banner Content Area",duration:4E3,wipeInDuration:500,wipeOutDuration:350,_hideTimer:0,isVisible:!1,onHide:function(){},postCreate:function(){f.set(this.domNode,"data-test-id",this["data-test-id"])},_setContentAttr:function(a){d.isString(a)?this.contentNode.innerHTML=a:(a.placeAt(this.contentNode),a.startup())},show:function(){this.isVisible||(this.set("isVisible",!0),b.wipeIn({node:this.domNode,duration:this.wipeInDuration}).play());
if(0<this.duration){var a=setTimeout(d.hitch(this,this.hide),this.duration);this.set("_hideTimer",a)}},hide:function(){this.isVisible&&(this.set("isVisible",!1),clearTimeout(this._hideTimer),b.wipeOut({node:this.domNode,duration:this.wipeOutDuration,onEnd:this.onHide}).play())}})})},"mw-notifications/ProgressBar":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dijit/_TemplatedMixin dijit/_WidgetBase ./_ProgressMixin dojo/text!./templates/ProgressBar.html".split(" "),
function(h,a,g,f,d,b,l,m,e){return h([l,b,m],{baseClass:"mwProgressBar",templateString:e,resize:function(a){a=a&&a.w?a.w:d.getContentBox(this.domNode.parentNode).w;if(NaN===a||0===a)a=100;g.set(this.gutterNode,"transform","scaleX("+a/100+")")},startup:function(){this.inherited(arguments);this.resize()},_setValueAttr:function(a){this.inherited(arguments);g.set(this.progressNode,"transform","translateX("+(this.value-100)+"px)")},_showAnimationWave:function(a){var c=this.baseClass+"NoWave";!1===a?f.add(this.domNode,
c):f.remove(this.domNode,c)}})})},"mw-notifications/_ProgressMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class"],function(h,a,g){return h([],{value:0,indeterminate:!1,showPercentage:!0,colorStyle:"Info","data-test-id":"",constructor:function(){this["data-test-id"]=this.baseClass.substring(2)},_setValueAttr:function(f){f=Math.min(Math.max(parseInt(f),0),100);this._set("value",f);this.progressTextNode.textContent=this.value+"%";a.set(this.domNode,"data-value",this.value)},
_setIndeterminateAttr:function(a){this._set("indeterminate",a);a=this.baseClass+"Indeterminate";this.indeterminate?g.add(this.domNode,a):g.remove(this.domNode,a)},_setShowPercentageAttr:function(a){this._set("showPercentage",a);a=this.baseClass+"Invisible";this.showPercentage?g.remove(this.progressTextNode,a):g.add(this.progressTextNode,a)},_setColorStyleAttr:function(a){var d="Info";switch(a.toLowerCase()){case "error":d="Error";break;case "warning":d="Warning";break;case "success":d="Success";break;
case "info":d="Info";break;default:d="Info"}a=this.get("colorStyle");this._set("colorStyle",d);g.replace(this.domNode,this.baseClass+d,this.baseClass+a)}})})},"mw-dialogs/Dialogs":function(){define(["dojo/_base/lang","dojo/keys","dojo/on","mw-dialogs/view/Dialog","mw-utils/Utils"],function(h,a,g,f,d){return{MODAL:"modal",MODELESS:"modeless",createDialog:function(a){a.id=a.id?a.id:"dialog_"+d.generateUuid();a.className="string"===typeof a.className?h.trim(a.className):"";a.dialogType="modal"===a.dialogType?
"modal":"modeless";a.hideCloseButton="boolean"===typeof a.hideCloseButton?a.hideCloseButton:!1;a.closeOnEscape="boolean"===typeof a.closeOnEscape?a.closeOnEscape:!0;a.resizable="boolean"===typeof a.resizable?a.resizable:!1;a.draggable="boolean"===typeof a.draggable?a.draggable:"modeless"===a.dialogType;return new f(a)}}})},"mw-dialogs/view/Dialog":function(){var h=function(){function a(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=
!0);Object.defineProperty(a,b.key,b)}}return function(g,f,d){f&&a(g.prototype,f);d&&a(g,d);return g}}();define("dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-style dojo/has dojo/keys dojo/on dojo/touch mw-dialogs/controller/DialogController mw-dialogs/controller/Draggable mw-dialogs/controller/Resizable mw-dialogs/controller/Focus mw-dialogs/controller/stopEvent mw-dialogs/view/ButtonBar mw-dialogs/view/ContentWidget mw-dialogs/utils/preventShortCutKeys".split(" "),function(a,g,f,d,b,l,m,
e,k,c,n,p,q,r,s,t){var u=function(a){return m(a,!b("mozilla")?"mousewheel":"DOMMouseScroll",function(c){var b="DOMMouseScroll"===c.type?-40*c.detail:c.wheelDelta,e=0<b;!e&&-b>a.scrollHeight-a.clientHeight-a.scrollTop?(a.scrollTop=a.scrollHeight,q(c)):e&&b>a.scrollTop&&(a.scrollTop=0,q(c))})},v=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._eventSignals=[];this.domNode=this._createDomNodes(a.id);this.domNode.widget=this;this._buildDialog(a);
this._renderDialog(a.title);this._show();return this}h(b,[{key:"addButtonEventListener",value:function(a,c,b){r.addButtonEventListener(this,a,c,b)}},{key:"enableButton",value:function(a){r.enableButton(this,a)}},{key:"disableButton",value:function(a){r.disableButton(this,a)}},{key:"on",value:function(a,c){var b=m(this.domNode,a,c);this._eventSignals.push(b)}},{key:"close",value:function(){m.emit(this.domNode,"close",{bubbles:!1,cancelable:!0});this.destroy()}},{key:"destroy",value:function(){this._isModal?
this._allModalDialogs.splice(a.indexOf(this._allModalDialogs,this),1):this._allModelessDialogs.splice(a.indexOf(this._allModelessDialogs,this),1);this._focusHandle&&this._focusHandle.unwatch();this._eventSignals.forEach(function(a){a.remove()});this._eventSignals=[];var c=void 0;for(c in this._buttonEventHandlers)this._buttonEventHandlers[c].remove();this._buttonEventHandlers={};this._resizeEventSignals&&n.disable(this);this._contentWidget&&this._contentWidget.destroyRecursive();document.body.removeChild(this.domNode);
if(!0===this._isModal){document.body.removeChild(this._underlay);var b=this._allModalDialogs;1<b.length&&b.sort(function(a,c){return a.domNode.style.zIndex-c.domNode.style.zIndex});1<=b.length&&(b[b.length-1]._underlay.style.opacity=1)}for(c in this)this.hasOwnProperty(c)&&delete this[c]}},{key:"moveTo",value:function(a){k.moveTo(this,a)}},{key:"bringToTop",value:function(){var c=[],b=this;this._isModal?(c=a.filter(this._allModalDialogs,function(a){return a!==b},this),c.sort(function(a,c){return a.domNode.style.zIndex-
c.domNode.style.zIndex}),c.push(this),a.forEach(c,function(a,e){a.domNode.style.zIndex=b._startZ+2*e;a._underlay.style.zIndex=a.domNode.style.zIndex-1;e!==c.length-1&&(a._underlay.style.opacity=0);f.remove(a.domNode,"mwModalDialogFg")},this),f.add(this.domNode,"mwModalDialogFg")):(c=a.filter(this._allModelessDialogs,function(a){return a!==b},this),c.sort(function(a,c){return a.domNode.style.zIndex-c.domNode.style.zIndex}),c.push(this),a.forEach(c,function(a,c){a.domNode.style.zIndex=b._startZ+2*c;
f.remove(a.domNode,"mwModelessDialogFg")},this),f.add(this.domNode,"mwModelessDialogFg"))}},{key:"_show",value:function(){d.set(this.domNode,"visibility","visible");this.moveTo(this._specifiedPosition);p.focus(this);this._contentWidget&&this._contentWidget.startup();m.emit(this.domNode,"show",{bubbles:!1,cancelable:!0})}},{key:"_trackEventListener",value:function(a){this._eventSignals.push(a);return a}},{key:"_removeEventListener",value:function(a){var c=this._eventSignals.indexOf(a);-1<c&&(this._eventSignals.splice(c,
1),a.remove())}},{key:"_createDomNodes",value:function(a){var c=document.createElement("div");c.id=a;c.className="mwDialog";c.tabIndex=0;a=this._titleBar=document.createElement("div");a.className="mwDialogTitleBar";g.set(a,"data-test-id","dialog-title-bar");var b=this._titleBar._titleNode=document.createElement("span");b.className="mwTitleNode";g.set(b,"data-test-id","dialog-title-node");var e=this._contentArea=document.createElement("div");e.className="mwDialogBody";g.set(e,"data-test-id","dialog-content-area");
a.appendChild(b);c.appendChild(a);c.appendChild(e);return c}},{key:"_buildDialog",value:function(a){var c=this;a.className&&f.add(this.domNode,a.className);if(!a.hideCloseButton){var b=this._titleBar.closeNode=document.createElement("span");b.className="mwCloseNode";g.set(b,"data-test-id","dialog-close-node");this._titleBar.appendChild(b);this._trackEventListener(m(b,"click",function(){c.close()}))}if(a.closeOnEscape)this.on("keydown",function(a){a.keyCode===l.ESCAPE&&(c.close(),q(a))});a.content&&
(this._contentWidget=new s({widget:a.content,contentArea:this._contentArea}),k.selectionWithinDialogBounds(this));a.buttons&&Array.isArray(a.buttons)&&0<a.buttons.length?(b=r.createButtonBar(this,a.buttons,a.defaultActionButton),this.domNode.appendChild(b)):f.add(this._contentArea,"mwNoButtons");"modal"===a.dialogType?(this._isModal=!0,this._startZ=this._modalDialogBeginZIndex,f.add(this.domNode,"mwModalDialog"),b=document.createElement("div"),b.className="mwUnderlay",document.body.appendChild(b),
this._underlay=b,t.prevent(this)):(this._startZ=this._modelessDialogBeginZIndex,f.add(this.domNode,"mwModelessDialog"));a["data-test-id"]&&g.set(this.domNode,"data-test-id",a["data-test-id"]);a.bindingNode&&(this._bindingNode=a.bindingNode);a.position&&(this._specifiedPosition=a.position);a.specifiedFocusItem&&(this.specifiedFocusItem=a.specifiedFocusItem);this._addControllers(a)}},{key:"_renderDialog",value:function(a){document.body.appendChild(this.domNode);this._isModal?this._allModalDialogs.push(this):
this._allModelessDialogs.push(this);this._buttonBar&&d.get(this.domNode,"min-width")<this._buttonBar._buttonBarWidth&&d.set(this.domNode,"min-width",this._buttonBar._buttonBarWidth+"px");d.get(this.domNode,"width")>document.documentElement.clientWidth?d.set(this.domNode,"width",document.documentElement.clientWidth+"px"):d.set(this.domNode,"width",d.get(this.domNode,"width")+"px");d.get(this.domNode,"height")>document.documentElement.clientHeight?d.set(this.domNode,"height",document.documentElement.clientHeight+
"px"):d.set(this.domNode,"height",d.get(this.domNode,"height")+"px");this.title=a}},{key:"_addControllers",value:function(a){var b=this,d=this;this._scrollWheelListener=null;a.draggable?c.draggable({dialog:this,bindingNode:this._bindingNode}):this._titleBar.style.cursor="default";a.resizable&&(n.enable({widget:this,bindingNode:this._bindingNode}),this._resizeHandlers.forEach(function(a){d._resizeEventSignals.push(m(a,e.press,function(){d.bringToTop()}))}),this._resizeEventSignals.push(m(this.domNode,
n.resizeEvent,function(a){d._isCenter=!1;d._specifiedPosition={x:a.dimension.x,y:a.dimension.y};d._resolveScrollBar();d._titleBar._titleNode.title=d._titleBar._titleNode.offsetWidth<d._titleBar._titleNode.scrollWidth?d.title:"";d._contentArea.scrollHeight>d._contentArea.clientHeight?f.add(b._contentArea,"mwOverflow"):f.remove(b._contentArea,"mwOverflow")})));this.on(e.press,function(){d.bringToTop()});this._resolveScrollBar();k.addScrollHandler(this);k.addBrowserResizeHandler(this)}},{key:"_resolveScrollBar",
value:function(){0<this._contentArea.scrollHeight-this._contentArea.clientHeight?(0<this._contentArea.offsetWidth-this._contentArea.scrollWidth&&d.set(this._contentArea,"padding-right",this._standardContentPadding-(this._contentArea.offsetWidth-this._contentArea.scrollWidth)+"px"),this._scrollWheelListener||(this._scrollWheelListener=this._trackEventListener(u(this._contentArea)))):(d.set(this._contentArea,"padding-right",this._standardContentPadding+"px"),this._scrollWheelListener&&(this._removeEventListener(this._scrollWheelListener),
this._scrollWheelListener=null))}},{key:"title",set:function(a){this._titleText="";a&&"string"===typeof a&&(this._titleText=a);this._titleBar._titleNode.textContent=this._titleText;this._titleBar._titleNode.offsetWidth<this._titleBar._titleNode.scrollWidth&&(this._titleBar._titleNode.title=this._titleText)},get:function(){return this._titleText}}]);return b}();v.prototype._modalDialogBeginZIndex=950;v.prototype._modelessDialogBeginZIndex=100;v.prototype._standardContentPadding=20;v.prototype._allModalDialogs=
[];v.prototype._allModelessDialogs=[];return v})},"mw-dialogs/controller/DialogController":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};define(["dojo/dom-geometry","dojo/on","dojo/window","./stopEvent"],function(a,g,f,d){var b=function(a,c,b,e,d){var f={};d?(f.l=Math.max(d.x,Math.min(d.x+c.x,d.x+d.w-b.w)),f.t=Math.max(d.y,
Math.min(d.y+c.y,d.y+d.h-b.h)),a._specifiedPosition={x:f.l-d.x,y:f.t-d.y}):(f.l=Math.max(0,Math.min(c.x,e.w-b.w)),f.t=Math.max(0,Math.min(c.y,e.h-b.h)),a._specifiedPosition={x:f.l,y:f.t});a._isCenter=!1;return f},l=function(a,c,b,e,d){c={};d?(c.l=b.w>=d.x+d.w||b.w>=e.w-d.x||b.w>=d.w?Math.max(0,d.x):(0<=d.x?d.x:0)+(d.x+d.w<=e.w?d.w/2:(e.w-d.x)/2)-b.w/2,c.t=b.h>=d.y+d.h||b.h>=e.h-d.y||b.h>=d.h?Math.max(0,d.y):(0<=d.y?d.y:0)+(d.y+d.h<=e.h?d.h/2:(e.h-d.y)/2)-b.h/2):(c.l=Math.max(0,e.w/2-b.w/2),c.t=Math.max(0,
e.h/2-b.h/2));a._isCenter=!0;return c},m=function(a,c,b,e,d,f,g){a={};g?(a.l=Math.max(g.x,Math.min(c.x-b+e,g.x+g.w-c.w)),a.t=Math.max(g.y,Math.min(c.y-d+f,g.y+g.h-c.h))):(a.l=c.x,a.t=c.y);return a},e=function(a,c,b,e){var d={};e?a._isCenter?(d.l=Math.max(0,Math.max(e.x,Math.min(b.w-c.w,Math.min(e.x+e.w/2-c.w/2,e.x+e.w-c.w)))),d.t=Math.max(0,Math.max(e.y,Math.min(b.h-c.h,Math.min(e.y+e.h/2-c.h/2,e.y+e.h-c.h))))):(d.l=Math.max(0,Math.max(e.x,Math.min(b.w-c.w,Math.min(a._specifiedPosition.x+e.x,e.x+
e.w-c.w)))),d.t=Math.max(0,Math.max(e.y,Math.min(b.h-c.h,Math.min(a._specifiedPosition.y+e.y,e.y+e.h-c.h))))):a._isCenter?(d.l=Math.max(0,Math.min(b.w/2-c.w/2,b.w-c.w)),d.t=Math.max(0,Math.min(b.h/2-c.h/2,b.h-c.h))):(d.l=Math.max(0,Math.min(a._specifiedPosition.x,b.w-c.w)),d.t=Math.max(0,Math.min(a._specifiedPosition.y,b.h-c.h)));return d};return{moveTo:function(e,c){var d=a.position(e.domNode),g={},g=f.getBox();if("object"===h(e._bindingNode))var m=a.position(e._bindingNode),g=c?b(e,c,d,g,m):l(e,
c,d,g,m);else g=c?b(e,c,d,g):l(e,c,d,g);e.domNode.style.left=g.l+"px";e.domNode.style.top=g.t+"px"},addScrollHandler:function(b){var c=window.pageYOffset,e=window.pageXOffset;b._trackEventListener(g(document,"scroll",function(){var d=window.pageYOffset,f=window.pageXOffset,g=a.position(b.domNode),l={};"object"===h(b._bindingNode)?(l=a.position(b._bindingNode),l=m(b,g,f,e,d,c,l)):l=m(b,g,f,e,d,c);b.domNode.style.left=l.l+"px";b.domNode.style.top=l.t+"px";c=d;e=f}))},addBrowserResizeHandler:function(b){b._trackEventListener(g(window,
"resize",function(){var c=a.position(b.domNode),d=f.getBox(),g={};"object"===h(b._bindingNode)?(g=a.position(b._bindingNode),g=e(b,c,d,g)):g=e(b,c,d);b.domNode.style.left=g.l+"px";b.domNode.style.top=g.t+"px"}))},selectionWithinDialogBounds:function(a){var c=void 0;a._trackEventListener(g(document,"mousedown",function(b){b.target===a._contentWidget.domNode&&(c=!0)}));a._trackEventListener(g(document,"mouseup",function(){c=!1}));a._trackEventListener(g(document,"mousemove",function(b){c&&b.target!==
a._contentWidget.domNode&&d(b)}))}}})},"mw-dialogs/controller/stopEvent":function(){define([],function(){return function(h){h.stopPropagation();h.preventDefault();return!1}})},"mw-dialogs/controller/Draggable":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};define(["dojo/dom-geometry","dojo/on","dojo/window","./stopEvent"],function(a,
g,f,d){var b=function(a,b,e,d,c,f){var g={};f?(g.t=c.yLocked?a.y:Math.max(0,Math.max(f.y,Math.min(b.h-a.h,Math.min(e.pageY-d.y,f.y+f.h-a.h)))),g.l=c.xLocked?a.x:Math.max(0,Math.max(f.x,Math.min(b.w-a.w,Math.min(e.pageX-d.x,f.x+f.w-a.w))))):(g.l=Math.max(0,Math.min(e.pageX-d.x,b.w-a.w)),g.t=Math.max(0,Math.min(e.pageY-d.y,b.h-a.h)));return g};return{dragEvent:"move",draggable:function(l){var m=this,e=l.dialog,k=l.bindingNode,c=e._titleBar,n=!1,p={x:0,y:0},q={l:0,t:0},r={xLocked:!1,yLocked:!1},s=void 0,
t=void 0,u=void 0;(function(){e._trackEventListener(g(c,"mousedown",function(b){e.bringToTop();if(0===b.button&&b.target!==c.closeNode){d(b);n=!0;t=f.getBox();s=a.position(e.domNode);if("object"===("undefined"===typeof k?"undefined":h(k)))u=a.position(k),r.xLocked=s.w>=u.x+u.w||s.w>=t.w-u.x||s.w>=u.w,r.yLocked=s.h>=u.y+u.h||s.h>=t.h-u.y||s.h>=u.h;p.x=b.pageX-s.x;p.y=b.pageY-s.y}}));e._trackEventListener(g(document,"mouseup",function(a){d(a);n=!1}));e._trackEventListener(g(document,"mousemove",function(c){n&&
(d(c),s=a.position(e.domNode),"object"===("undefined"===typeof k?"undefined":h(k))?(q=b(s,t,c,p,r,u),e._specifiedPosition={x:q.l-u.x,y:q.t-u.y}):(q=b(s,t,c,p),e._specifiedPosition={x:q.l,y:q.t}),e.domNode.style.left=q.l+"px",e.domNode.style.top=q.t+"px",e._isCenter=!1,g.emit(e.domNode,m.dragEvent,{bubbles:!1,position:{x:q.l,y:q.t}}))}))})()}}})},"mw-dialogs/controller/Resizable":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};define("dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on dojo/query dojo/window ./stopEvent".split(" "),function(a,g,f,d,b,l,m,e){var k=function(a,c,b,e,f,g){var k=void 0;return k=g?Math.max(d.get(a.domNode,"min-width"),Math.min(f.w-c.x,Math.min(b.pageX-e.x-c.x,Math.min(d.get(a.domNode,"max-width")?d.get(a.domNode,"max-width"):g.w+g.x-c.x,g.w+g.x-c.x)))):Math.max(d.get(a.domNode,"min-width"),
Math.min(b.pageX-e.x-c.x,Math.min(d.get(a.domNode,"max-width")?d.get(a.domNode,"max-width"):f.w-c.x,f.w-c.x)))},c=function(a,c,b,e,f,g){f=void 0;return f=g?Math.max(d.get(a.domNode,"min-width"),Math.min(c.x+c.w,Math.min(c.x+c.w-(b.pageX-e.x),Math.min(d.get(a.domNode,"max-width")?d.get(a.domNode,"max-width"):c.x+c.w-g.x,c.x+c.w-g.x)))):Math.max(d.get(a.domNode,"min-width"),Math.min(c.x+c.w-(b.pageX-e.x),Math.min(d.get(a.domNode,"max-width")?d.get(a.domNode,"max-width"):c.x+c.w,c.x+c.w)))},n=function(a,
c,b,e,f,g){var k=void 0;return k=g?Math.max(d.get(a.domNode,"min-height"),Math.min(f.h-c.y,Math.min(b.pageY-e.y-c.y,Math.min(d.get(a.domNode,"max-height")?d.get(a.domNode,"max-height"):g.h+g.y-c.y,g.h+g.y-c.y)))):Math.max(d.get(a.domNode,"min-height"),Math.min(b.pageY-e.y-c.y,Math.min(d.get(a.domNode,"max-height")?d.get(a.domNode,"max-height"):f.h-c.y,f.h-c.y)))},p=function(a,c,b,e,f,g){f=void 0;return f=g?Math.max(d.get(a.domNode,"min-height"),Math.min(c.y+c.h,Math.min(c.y+c.h-(b.pageY-e.y),Math.min(d.get(a.domNode,
"max-height")?d.get(a.domNode,"max-height"):c.y+c.h-g.y,c.y+c.h-g.y)))):Math.max(d.get(a.domNode,"min-height"),Math.min(c.y+c.h-(b.pageY-e.y),Math.min(d.get(a.domNode,"max-height")?d.get(a.domNode,"max-height"):c.y+c.h,c.y+c.h)))},q=function(a,d,g,l,m,q,x,z){e(g);var y,A,B,D;"object"===("undefined"===typeof q?"undefined":h(q))?(q=f.position(q),"e"===x?y=k(a,d,g,l,m,q):"w"===x&&(y=c(a,d,g,l,m,q)),"s"===z?A=n(a,d,g,l,m,q):"n"===z&&(A=p(a,d,g,l,m,q))):("e"===x?y=k(a,d,g,l,m):"w"===x&&(y=c(a,d,g,l,m)),
"s"===z?A=n(a,d,g,l,m):"n"===z&&(A=p(a,d,g,l,m)));"w"===x&&(B=d.x+d.w-y);"n"===z&&(D=d.y+d.h-A);g={};l=void 0;if("e"===x||"w"===x)a.domNode.style.width=y+"px";"w"===x&&(a.domNode.style.left=B+"px");if("s"===z||"n"===z)a.domNode.style.height=A+"px";"n"===z&&(a.domNode.style.top=D+"px");d=f.position(a.domNode);a._contentArea&&(l=f.position(a._contentArea),g={w:l.w,h:l.h});b.emit(a.domNode,"resize",{bubbles:!1,dimension:d,contentSize:g})};return{resizeEvent:"resize",enable:function(c){var d=c.widget,
k=c.bindingNode;d._resizeEventSignals=[];var h=void 0,n=void 0,p={x:0,y:0};(function(){var c=!1,r=!1,y=!1,A=!1,B=!1,D=!1,H=!1,G=!1;d._resizeHandlers=[];var I=document.createElement("div");a.add(I,"mwResizableHandle mwResizable-e");g.place(I,d.domNode,"last");d._resizeHandlers.push(I);var O=document.createElement("div");a.add(O,"mwResizableHandle mwResizable-s");g.place(O,d.domNode,"last");d._resizeHandlers.push(O);var S=document.createElement("div");a.add(S,"mwResizableHandle mwResizable-w");g.place(S,
d.domNode,"last");d._resizeHandlers.push(S);var M=document.createElement("div");a.add(M,"mwResizableHandle mwResizable-n");g.place(M,d.domNode,"last");d._resizeHandlers.push(M);var J=document.createElement("div");a.add(J,"mwResizableHandle mwResizable-se");g.place(J,d.domNode,"last");d._resizeHandlers.push(J);var C=document.createElement("div");a.add(C,"mwResizableHandle mwResizable-ne");g.place(C,d.domNode,"last");d._resizeHandlers.push(C);var E=document.createElement("div");a.add(E,"mwResizableHandle mwResizable-sw");
g.place(E,d.domNode,"last");d._resizeHandlers.push(E);var R=document.createElement("div");a.add(R,"mwResizableHandle mwResizable-nw");g.place(R,d.domNode,"last");d._resizeHandlers.push(R);d._resizeHandlers.forEach(function(a){d._resizeEventSignals.push(b(a,"mousedown",function(b){0===b.button&&(e(b),h=m.getBox(),n=f.position(d.domNode),a===I?(c=!0,p.x=b.pageX-(n.x+n.w),l("*")[0].style.cursor="ew-resize"):a===O?(r=!0,p.y=b.pageY-(n.y+n.h),l("*")[0].style.cursor="ns-resize"):a===S?(y=!0,p.x=b.pageX-
n.x,l("*")[0].style.cursor="ew-resize"):a===M?(A=!0,p.y=b.pageY-n.y,l("*")[0].style.cursor="ns-resize"):a===J?(B=!0,p.x=b.pageX-(n.x+n.w),p.y=b.pageY-(n.y+n.h),l("*")[0].style.cursor="nwse-resize"):a===C?(D=!0,p.x=b.pageX-(n.x+n.w),p.y=b.pageY-n.y,l("*")[0].style.cursor="nesw-resize"):a===E?(H=!0,p.x=b.pageX-n.x,p.y=b.pageY-(n.y+n.h),l("*")[0].style.cursor="nesw-resize"):a===R&&(G=!0,p.x=b.pageX-n.x,p.y=b.pageY-n.y,l("*")[0].style.cursor="nwse-resize"))}))});d._resizeEventSignals.push(b(document,
"mouseup",function(){G=H=D=B=A=y=r=c=!1;l("*")[0].style.cursor=""}));d._resizeEventSignals.push(b(document,"mousemove",function(a){c?q(d,n,a,p,h,k,"e"):r?q(d,n,a,p,h,k,null,"s"):y?q(d,n,a,p,h,k,"w"):A?q(d,n,a,p,h,k,null,"n"):B?q(d,n,a,p,h,k,"e","s"):D?q(d,n,a,p,h,k,"e","n"):H?q(d,n,a,p,h,k,"w","s"):G&&q(d,n,a,p,h,k,"w","n")}))})()},disable:function(a){a._resizeEventSignals.forEach(function(a){a.remove()});a._resizeEventSignals=[];a._resizeHandlers.forEach(function(a){g.destroy(a)});a._resizeHandlers=
[]}}})},"mw-dialogs/controller/Focus":function(){define("dojo/on dojo/dom dojo/dom-attr dojo/dom-class dojo/keys dojo/query dijit/a11y dijit/focus mw-log/Log ./stopEvent".split(" "),function(h,a,g,f,d,b,l,m,e,k){return{_activeClass:"active",_focusedClass:"focused",_defaultButtonClass:"mwDefaultButton",focus:function(c){var b=this,e=this;c._firstFocusItem=null;c._lastFocusItem=null;this._getFocusItems(c);c._focusHandle=m.watch("curNode",function(b,d,g){null===g?(c._defaultButton&&(f.remove(c._defaultButton,
e._defaultButtonClass),f.remove(c._defaultButton,e._activeClass)),d&&f.remove(d,e._activeClass),f.remove(c.domNode,e._focusedClass)):(b=e._isPopupDescendant(g,c._contentArea))&&l.isFocusable(g)?(c._latestFocusedItem=b,f.add(c.domNode,e._focusedClass)):c._contentArea&&a.isDescendant(g,c._contentArea)&&l.isFocusable(g)?(c._latestFocusedItem=g,c._defaultButton&&f.add(c._defaultButton,e._defaultButtonClass),f.add(c.domNode,e._focusedClass)):c._buttonBar&&a.isDescendant(g,c._buttonBar)&&l.isFocusable(g)?
(c._latestFocusedItem=g,c._defaultButton&&f.remove(c._defaultButton,e._defaultButtonClass),f.add(c.domNode,e._focusedClass)):c._firstFocusItem?f.remove(c.domNode,e._focusedClass):(c._latestFocusedItem=g,f.add(c.domNode,e._focusedClass))});this.focusItem(c);c.on("click",function(){b._getFocusItems(c);c._latestFocusedItem&&c._latestFocusedItem!==c.domNode&&"true"!==g.get(c._latestFocusedItem,"aria-disabled")?m.focus(c._latestFocusedItem):c._firstFocusItem?m.focus(c._firstFocusItem):m.focus(c.domNode)});
c._underlay&&c._trackEventListener(h(c._underlay,"click",function(){c._firstFocusItem?m.focus(c._latestFocusedItem):m.focus(c.domNode)}));c._keyDownReady=!1;c.on("keydown",function(a){e._onKeyDown(a,c)});c.on("keyup",function(a){e._onKeyUp(a,c)})},_getFocusItems:function(a){a._firstFocusItem=l.getFirstInTabbingOrder(a.domNode);a._lastFocusItem=l.getLastInTabbingOrder(a.domNode)||a._firstFocusItem},_isPopupDescendant:function(a,b){try{for(var e=null;a;){if(f.contains(a,"dijitPopup")){var d=g.get(a,
"dijitPopupParent");d&&(e=a=document.getElementById(d))}if(a===b)return e;a=a.parentNode}}catch(k){}return!1},focusItem:function(c){if(c.specifiedFocusItem){var b=a.byId(c.specifiedFocusItem);null===b?(e.log("specifiedFocusItem couldn't be found"),this._focusDefaultItem(c)):a.isDescendant(b,c.domNode)?l.isFocusable(b)?m.focus(b):(b=l.getFirstInTabbingOrder(b),void 0!==b?m.focus(b):(e.log("specifiedFocusItem is not focusable"),this._focusDefaultItem(c))):(e.log("specifiedFocusItem should be an id"),
this._focusDefaultItem(c))}else this._focusDefaultItem(c);c.bringToTop()},_focusDefaultItem:function(c){c._firstFocusItem?c._buttonBar&&c._defaultButton&&a.isDescendant(c._firstFocusItem,c._buttonBar)&&c._defaultButton!==c._firstFocusItem&&"true"!==g.get(c._defaultButton,"aria-disabled")?m.focus(c._defaultButton):m.focus(c._firstFocusItem):m.focus(c.domNode)},_onKeyDown:function(c,b){b._keyDownReady=!0;if(c.keyCode===d.TAB){this._getFocusItems(b);var e=c.target;b._firstFocusItem===b._lastFocusItem?
k(c):e===b._firstFocusItem&&c.shiftKey?(m.focus(b._lastFocusItem),k(c)):e===b._lastFocusItem&&!c.shiftKey&&(m.focus(b._firstFocusItem),k(c))}else c.keyCode===d.SPACE?b._buttonBar&&(a.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(k(c),f.add(m.curNode,"active")):c.keyCode===d.ENTER&&(b._contentArea&&b._defaultButton&&a.isDescendant(m.curNode,b._contentArea)&&l.isFocusable(m.curNode)&&m.curNode.tagName&&"input"===m.curNode.tagName.toLowerCase()&&"text"===m.curNode.getAttribute("type").toLowerCase()?
(k(c),f.add(b._defaultButton,"active")):b._buttonBar&&(a.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(k(c),f.add(m.curNode,"active")))},_onKeyUp:function(c,b){b._keyDownReady&&(c.keyCode===d.SPACE?b._buttonBar&&(a.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(f.remove(m.curNode,"active"),k(c),m.curNode.click(c)):c.keyCode===d.ENTER&&(b._contentArea&&b._defaultButton&&a.isDescendant(m.curNode,b._contentArea)&&l.isFocusable(m.curNode)&&m.curNode.tagName&&"input"===
m.curNode.tagName.toLowerCase()&&"text"===m.curNode.getAttribute("type").toLowerCase()?(f.remove(b._defaultButton,"active"),k(c),b._defaultButton.click(c)):b._buttonBar&&(a.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(f.remove(m.curNode,"active"),k(c),m.curNode.click(c))))}}})},"mw-dialogs/view/ButtonBar":function(){define("dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/on dojo/query mw-dialogs/ButtonEnum mw-log/Log".split(" "),function(h,a,g,f,d,b,l){function m(c,e,d){var g=
document.createElement("div");g.className="mwActionButtonBar";a.set(g,"data-test-id","dialog-action-button-bar");var h=[],l;for(l in q){h[l]=[];for(var m in e)e[m].type===q[l]&&h[l].push(e[m])}e=[];for(var n in h)0!==h[n].length&&e.push(h[n][0]);var h=void 0,p;for(p in e){h=document.createElement("span");h.className="mwButton";h.tabIndex="0";h.textContent=e[p].label;a.set(h,"data-button-type",e[p].type);a.set(h,"aria-disabled","false");e[p]["data-test-id"]&&a.set(h,"data-test-id",e[p]["data-test-id"]);
c._trackEventListener(f(h,"click",k(e[p].type+"ButtonClick",c)));if(d===e[p].type||d===e[p]||void 0===d&&d!==b.NO_DEFAULT_ACTION&&"0"===p)c._defaultButton=h;g.appendChild(h);c._buttonBar._buttonBarWidth+=r}return g}function e(c,b){var e=document.createElement("div");e.className="mwSplButtonBar";a.set(e,"data-test-id","dialog-supplemental-button-bar");var d=void 0,g;for(g in b)d=document.createElement("span"),d.className="mwButton",d.tabIndex="0",d.textContent=b[g].label,a.set(d,"data-button-type",
b[g].type),a.set(d,"aria-disabled","false"),b[g]["data-test-id"]&&a.set(d,"data-test-id",b[g]["data-test-id"]),c._trackEventListener(f(d,"click",k(b[g].type+"ButtonClick",c))),e.appendChild(d),c._buttonBar._buttonBarWidth+=r;return e}function k(a,c){var b=function(){c.close()};return function(){f.emit(c.domNode,a,{bubbles:!1,close:b})}}function c(a,c){return f(a.domNode,c+"ButtonClick",function(b){var e=!1;a._buttonEvents[c].forEach(function(a){"function"===typeof a.func&&a.func();e=e||a.dismiss});
a.domNode&&e&&b.close()})}function n(a){var c="";return c=a.hasOwnProperty("type")?a.type:a}var p=[b.TYPE.HELP,b.TYPE.SPL1,b.TYPE.SPL2],q=[b.TYPE.DO_IT,b.TYPE.DONT_DO_IT,b.TYPE.CANCEL,b.TYPE.APPLY,b.TYPE.REVERT],r=96;return{addButtonEventListener:function(a,b,e,d){try{var f=n(b);void 0===a._buttonEvents[f]&&(a._buttonEvents[f]=[]);a._buttonEvents[f].push({func:e,dismiss:d});a._buttonEventHandlers[f]&&a._buttonEventHandlers[f].remove();a._buttonEventHandlers[f]=c(a,f)}catch(g){l.log("Button or type of button is invalid.")}},
enableButton:function(b,e){var f=n(e);b._buttonEventHandlers[f]&&b._buttonEventHandlers[f].remove();b._buttonEventHandlers[f]=c(b,f);f=d("span[data-button-type\x3d"+f+"]",b._buttonBar)[0];g.remove(f,"mwDisabled");a.set(f,"tabIndex",0);a.set(f,"aria-disabled","false")},disableButton:function(c,b){var e=n(b);c._buttonEventHandlers[e]&&c._buttonEventHandlers[e].remove();e=d("span[data-button-type\x3d"+e+"]",c._buttonBar)[0];g.add(e,"mwDisabled");a.set(e,"tabIndex",-1);a.set(e,"aria-disabled","true")},
createButtonBar:function(c,b,d){var f=c._buttonBar=document.createElement("div");f.className="mwDialogButtonBar";a.set(f,"data-test-id","dialog-button-bar");c._buttonEvents={};c._buttonEventHandlers={};c._buttonBar._buttonBarWidth=10;var k=!1,h=!1,l=[],n=[];b.forEach(function(a){-1!==p.indexOf(a.type)?n.push(a):-1!==q.indexOf(a.type)&&l.push(a)});0<n.length?(h=!0,f.appendChild(e(c,n))):g.add(f,"mwNoSplBtn");0<l.length&&(k=!0,f.appendChild(m(c,l,d)));!0===k&&!0===h&&(c._buttonBar._buttonBarWidth+=
10);return f}}})},"mw-dialogs/ButtonEnum":function(){define(["dojo/i18n!./l10n/nls/dialog"],function(h){var a={HELP:"Help",SPL1:"Spl1",SPL2:"Spl2",DO_IT:"DoIt",DONT_DO_IT:"DontDoIt",CANCEL:"Cancel",APPLY:"Apply",REVERT:"Revert"};h={NO_DEFAULT_ACTION:"NoDefaultAction",TYPE:a,HELP:{type:a.HELP,label:h.help,"data-test-id":"HelpButton"},OK:{type:a.DO_IT,label:h.ok,"data-test-id":"OkButton"},YES:{type:a.DO_IT,label:h.yes,"data-test-id":"YesButton"},SUBMIT:{type:a.DO_IT,label:h.submit,"data-test-id":"SubmitButton"},
SAVE:{type:a.DO_IT,label:h.save,"data-test-id":"SaveButton"},FIND:{type:a.DO_IT,label:h.find,"data-test-id":"FindButton"},CREATE:{type:a.DO_IT,label:h.create,"data-test-id":"CreateButton"},DONT_SAVE:{type:a.DONT_DO_IT,label:h.dontSave,"data-test-id":"DontSaveButton"},NO:{type:a.DONT_DO_IT,label:h.no,"data-test-id":"NoButton"},CANCEL:{type:a.CANCEL,label:h.cancel,"data-test-id":"CancelButton"},CLOSE:{type:a.CANCEL,label:h.close,"data-test-id":"CloseButton"},APPLY:{type:a.APPLY,label:h.apply,"data-test-id":"ApplyButton"},
REVERT:{type:a.REVERT,label:h.revert,"data-test-id":"RevertButton"}};Object.freeze(h);Object.freeze(a);return h})},"mw-dialogs/view/ContentWidget":function(){var h=function(){function a(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(g,f,d){f&&a(g.prototype,f);d&&a(g,d);return g}}();define(["dojo/_base/lang","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","mw-dialogs/utils/mixinDijitLifecycleMethods"],
function(a,g,f,d,b){return function(){function l(a){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.widget=a.widget;this.contentArea=a.contentArea;b(this);this._addWidget(this.widget)}h(l,[{key:"_addWidget",value:function(b){if(a.isString(b)){var e=f.create("div");e.className="mwContentMessage";g.set(e,"textContent",b);g.set(e,"data-test-id","dialog-content-widget");d.set(e,"whiteSpace","pre-line");f.place(e,this.contentArea,"first");this.domNode=e}else a.isFunction(b.placeAt)?
(g.set(b.domNode,"data-test-id","dialog-content-widget"),b.placeAt(this.contentArea,"first"),this.domNode=b.domNode):(g.set(b,"data-test-id","dialog-content-widget"),f.place(b,this.contentArea,"first"),this.domNode=b)}}]);return l}()})},"mw-dialogs/utils/mixinDijitLifecycleMethods":function(){define(["dojo/_base/lang"],function(h){return function(a){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.widget,f=function(){};h.isFunction(g.startup)?a.startup=function(){g.startup()}:a.startup=
f;h.isFunction(g.destroyRecursive)?a.destroyRecursive=function(a){g.destroyRecursive(a)}:a.destroyRecursive=f;h.isFunction(g.destroy)?a.destroy=function(a){g.destroy(a)}:a.destroy=f}})},"mw-dialogs/utils/preventShortCutKeys":function(){define([],function(){function h(g){g.metaKey?a(g):0>navigator.platform.toUpperCase().indexOf("MAC")&&g.ctrlKey&&a(g)}function a(a){switch(a.keyCode){case 65:if(a.target.value)a.target.setSelectionRange(0,a.target.value.length);else{var f=a.target,d=void 0,b=void 0;
document.body.createTextRange?(d=document.body.createTextRange(),d.moveToElementText(f),d.select()):window.getSelection&&(b=window.getSelection(),d=document.createRange(),d.selectNodeContents(f),b.removeAllRanges(),b.addRange(d))}a.preventDefault()}}return{prevent:function(a){var f=document.onkeydown;a.on("show",function(){document.body.style.cursor="default";document.onkeydown=h});a.on("close",function(){document.body.style.cursor="initial";document.onkeydown=f})}}})},"dojo/dnd/Target":function(){define(["../_base/declare",
"../dom-class","./Source"],function(h,a,g){return h("dojo.dnd.Target",g,{constructor:function(){this.isSource=!1;a.remove(this.node,"dojoDndSource")}})})},"variableeditor/ContextPublishingUtils":function(){define("variableeditor/ContextPublishingUtils",["dojo/_base/declare","dojo/topic"],function(h,a){return{addToContext:function(g,f,d){if(g){var b={};d?b.subContext=f:b.mainContext=f;a.publish(g,b)}},removeFromContext:function(g,f){if(g){var d={};f?d.subContext=[]:d.mainContext=[];a.publish(g,d)}}}})},
"variableeditor/_ArgumentsMixin":function(){define("variableeditor/_ArgumentsMixin",["dojo/_base/declare"],function(h){return h("variableeditor._ArgumentsMixin",[],{setArgument:function(a,g){void 0!==g&&null!==g&&void 0!==g[a]&&null!==g[a]&&(this[a]=g[a])},setArgumentWithDefault:function(a,g,f){void 0!==g&&null!==g&&(this[a]=void 0!==g[a]&&null!==g[a]?g[a]:f)}})})},"mw-browser-utils/BrowserUtils":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/dom-class"],function(h,a,g){var f=this,
d=null;return{supportsLocalStorage:function(){var a=f&&void 0!==typeof f.localStorage&&null!==f.localStorage;if(a)try{f.localStorage.setItem("motw.test.local.storage","0"),f.localStorage.removeItem("motw.test.local.storage")}catch(d){a=!1}return a},_hasNewIE:function(b){return b&&!a("ie")&&0<a("trident")?parseFloat(b.split("rv:")[1]):b&&0<b.indexOf("Edge")?"Edge "+parseFloat(b.split("Edge/")[1]):""},_getBrowserInfo:function(b){var d={BROWSER:"OTHER",BROWSER_VER:"OTHER"},f,e={IE:"Microsoft Internet Explorer",
FF:"Mozilla Firefox",Chrome:"Google Chrome",Safari:"Apple Safari"};if(b=this._hasNewIE(b))d.BROWSER=e.IE,d.BROWSER_VER=b.toString();else for(f in e)if(e.hasOwnProperty(f)&&a(f.toLowerCase())){b=a(f.toLowerCase());d.BROWSER=e[f];d.BROWSER_VER=b.toString();if("Chrome"===f||"Safari"===f)d.WEBKIT_VER=a("webkit").toString();break}return d},getSystemInfo:function(){var a={},d={};try{a.DEVICE="",a.LOCALE=f.navigator.language,a.OS=f.navigator.platform,a.PLATFORM=f.navigator.platform,a.SCREEN_RESOLUTION=f.screen.width+
"x"+f.screen.height,a.WINDOW_RESOLUTION=f.innerWidth+"x"+f.innerHeight,a.USER_AGENT=f.navigator.userAgent,d=this._getBrowserInfo(f.navigator.appVersion),a=h.mixin(a,d)}catch(g){}return a},setClassName:function(a,d){g.add(a,"mw_type_"+(d.type||"unknownType"));g.add(a,"mw_type_Component");if(d.name){var f="mw_name_"+(d.name.trim().replace(/[^a-zA-Z0-9]/g,"_")||"NO_NAME");g.contains(a,f)||(a.className=a.className.replace(/mw_name_[^ ]*/,""),g.add(a,f))}},isInFocus:function(a){return"unknown"!==typeof f.document.activeElement?
a===f.document.activeElement:!1},getScrollbarWidth:function(){if(null===d){var a=document.createElement("div");a.className="scrollbar-measure";a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="-9999px";document.body.appendChild(a);var f=a.offsetWidth-a.clientWidth;document.body.removeChild(a);d=f+2}return d}}})},"variableeditor/views/SummaryBar":function(){define("variableeditor/views/SummaryBar","dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/dom dojo/query dojo/dom-class variableeditor/constants/ClassTypeMaps variableeditor/constants/CssClassConstants variableeditor/VariableEditorUtils dojo/text!variableeditor/views/SummaryBar.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){return h("variableeditor.views.SummaryBar",[g,f],{name:"",size:"",type:"",link:"",secondaryType:"",status:"",statuslink:"",templateString:n,constructor:function(a,c,b,e,d,f,g){this.name=a||"";this.size=c||"";this.type=b||"";this.secondaryType=e||"";this.status=d||"";this.executionService=f||"";this.helpDataService=g||""},postCreate:function(){this.setName(this.name);this.setSize(this.size);this.setType(this.type);this.setSecondaryType(this.secondaryType);this.setStatus(this.status);
this.setStatusRef(this.status);this._handleDocLink()},initServices:function(a,c){this.executionService=a;this.helpDataService=c},_handleDocLink:function(){var c=this,b=function(a,b,e){"statuslink"===e&&c.helpDataService?(b=c.helpDataService.addMOQueryParameter(b),c.helpDataService.iframeContainer.showIframe({host:b,name:"MATLAB Online Help",maximizeUrl:c.helpDataService.getMaximizeUrl(b)})):c.executionService&&c.executionService.executionEval("doc "+b);a.preventDefault()};d(this.summaryBarLink,"click",
a.hitch(this,function(a){b(a,c.type,"status")}));d(this.summaryBarStatusLink,"click",a.hitch(this,function(a){b(a,c.statuslink,"statuslink")}))},updateIconClass:function(){var a=l(".summaryBarSize",this.domNode)[0],b=c.getClassNameForIconList(this.type),d=b;this.secondaryType&&(d=b+"_"+this.secondaryType);c.removeFromClassList(a,e.ClassArray);c.addToClassList(a,k.VE_RENDERERS);e.IconTypeMap.hasOwnProperty(d)?c.addToClassList(a,e.IconTypeMap[d]):e.IconTypeMap.hasOwnProperty(b)?c.addToClassList(a,e.IconTypeMap[b]):
c.addToClassList(a,e.IconTypeMap.UNKNOWN)},setName:function(a){this.name=a||""},setSize:function(a){this.size=a||"";"0"===a&&(this.size=this.name);l(".summaryBarSize",this.domNode)[0].textContent=this.size},setType:function(a){var c=null;if(a){var b=a,c=a,e=a.split(/[.]+/);e&&1<e.length?b=e.pop():(a=a.split(/[ ]+/))&&1<a.length&&(c=a.pop());this.type=c}else this.resetToDefault();l(".summaryBarRef",this.domNode)[0].textContent=b;this.updateIconClass()},resetToDefault:function(){this.link=this.type=
" "},setStatus:function(a){this.status=a||"";a=l(".summaryBarStatus",this.domNode)[0];!this.hasStatusHyperlink()&&this.status&&0<this.status.length?a.textContent="("+this.status+")":a.textContent=""},setStatusRef:function(a){this.status=a||"";a=l(".summaryBarStatusRef",this.domNode)[0];this.hasStatusHyperlink()&&this.status&&0<this.status.length?(this.statuslink=this.getStatusHyperlink(),a.textContent=" ("+this.status+")"):a.textContent=""},hasStatusHyperlink:function(){return this.type&&"tall"===
this.type},getStatusHyperlink:function(){var a;switch(this.type){case "tall":a="https://www.mathworks.com/help/matlab/import_export/deferred-evaluation-of-tall-arrays.html"}return a},setSecondaryType:function(a){this.secondaryType=a||"";a=this.domNode.getElementsByClassName("summaryBarSecondaryType");a=a[0];a.textContent=this.secondaryType}})})},"variableeditor/constants/ClassTypeMaps":function(){define(["variableeditor/constants/TypeConstants","variableeditor/constants/CssClassConstants"],function(h,
a){return{ClassTypeMap:function(){var g={};g[h.DOUBLE]=a.MATRIX;g[h.SINGLE]=a.MATRIX;g[h.UINT8]=a.MATRIX;g[h.UINT16]=a.MATRIX;g[h.UINT32]=a.MATRIX;g[h.UINT64]=a.MATRIX;g[h.INT8]=a.MATRIX;g[h.INT16]=a.MATRIX;g[h.INT32]=a.MATRIX;g[h.INT64]=a.MATRIX;g[h.COMPLEX]=a.MATRIX;g[h.CHAR]=a.CHAR;g[h.STRING]=a.STRING;g[h.CELL]=a.CELL;g[h.LOGICAL]=a.LOGICAL;g[h.STRUCT]=a.STRUCT;g[h.TIMESERIES]=a.TIMESERIES;g[h.TIMETABLE]=a.TIMETABLE;g[h.SPARSE]=a.SPARSE;g[h.DATETIME]=a.DATETIME;g[h.DURATION]=a.DURATION;g[h.CALENDAR_DURATION]=
a.CALENDAR_DURATION;g[h.OBJECT]=a.OBJECT;g[h.TALL]=a.TALL;g[h.TALL_DOUBLE]=a.TALL_MATRIX;g[h.TALL_UINT8]=a.TALL_MATRIX;g[h.TALL_UINT16]=a.TALL_MATRIX;g[h.TALL_UINT32]=a.TALL_MATRIX;g[h.TALL_UINT64]=a.TALL_MATRIX;g[h.TALL_INT8]=a.TALL_MATRIX;g[h.TALL_INT16]=a.TALL_MATRIX;g[h.TALL_INT32]=a.TALL_MATRIX;g[h.TALL_INT64]=a.TALL_MATRIX;g[h.TALL_SINGLE]=a.TALL_MATRIX;g[h.TALL_CELL]=a.TALL_CELL;g[h.TALL_LOGICAL]=a.TALL_LOGICAL;g[h.TALL_OBJECT]=a.TALL_OBJECT;g[h.TALL_SPARSE]=a.TALL_SPARSE;g[h.TALL_CHAR]=a.TALL_CHAR;
g[h.TALL_STRUCT]=a.TALL_STRUCT;g[h.TALL_TIMETABLE]=a.TALL_TIMETABLE;g[h.TALL_MATLAB_TABLE]=a.TALL_MATLAB_TABLE;g[h.TALL_CATEGORICAL]=a.TALL_CATEGORICAL;g[h.TALL_ORDINAL]=a.TALL_CATEGORICAL;g[h.TALL_NOMINAL]=a.TALL_CATEGORICAL;g[h.TALL_DATETIME]=a.TALL_DATETIME;g[h.TALL_DURATION]=a.TALL_DURATION;g[h.TALL_CALENDAR_DURATION]=a.TALL_CALENDAR_DURATION;g[h.TALL_STRING]=a.TALL_STRING;g[h.MIXED]=a.MIXED;g[h.UNKNOWN]=a.OBJECT;g[h.DEFAULT]=a.OBJECT;g[h.NOVARDISPLAY]=a.NOVARDISPLAY;return g}(),IconTypeMap:function(){var g=
{};g[h.DOUBLE]=a.MATRIX_ICON;g[h.SINGLE]=a.MATRIX_ICON;g[h.UINT8]=a.MATRIX_ICON;g[h.UINT16]=a.MATRIX_ICON;g[h.UINT32]=a.MATRIX_ICON;g[h.UINT64]=a.MATRIX_ICON;g[h.INT8]=a.MATRIX_ICON;g[h.INT16]=a.MATRIX_ICON;g[h.INT32]=a.MATRIX_ICON;g[h.INT64]=a.MATRIX_ICON;g[h.COMPLEX]=a.MATRIX_ICON;g[h.CHAR]=a.CHAR_ICON;g[h.STRING]=a.STRING_ICON;g[h.CELL]=a.CELL_ICON;g[h.LOGICAL]=a.LOGICAL_ICON;g[h.STRUCT]=a.STRUCT_ICON;g[h.TIMESERIES]=a.TIMESERIES_ICON;g[h.TIMETABLE]=a.TIMETABLE_ICON;g[h.SPARSE]=a.SPARSE_ICON;g[h.OBJECT]=
a.OBJECT_ICON;g[h.MATLAB_TABLE]=a.TABLE_ICON;g[h.DATASET]=a.TABLE_ICON;g[h.CATEGORICAL]=a.CATEGORICAL_ICON;g[h.ORDINAL]=a.CATEGORICAL_ICON;g[h.NOMINAL]=a.CATEGORICAL_ICON;g[h.DATETIME]=a.DATETIME_ICON;g[h.DURATION]=a.DURATION_ICON;g[h.CALENDAR_DURATION]=a.CALENDAR_DURATION_ICON;g[h.TALL]=a.TALL_ICON;g[h.TALL_DOUBLE]=a.TALL_MATRIX_ICON;g[h.TALL_UINT8]=a.TALL_MATRIX_ICON;g[h.TALL_UINT16]=a.TALL_MATRIX_ICON;g[h.TALL_UINT32]=a.TALL_MATRIX_ICON;g[h.TALL_UINT64]=a.TALL_MATRIX_ICON;g[h.TALL_INT8]=a.TALL_MATRIX_ICON;
g[h.TALL_INT16]=a.TALL_MATRIX_ICON;g[h.TALL_INT32]=a.TALL_MATRIX_ICON;g[h.TALL_INT64]=a.TALL_MATRIX_ICON;g[h.TALL_SINGLE]=a.TALL_MATRIX_ICON;g[h.TALL_CELL]=a.TALL_CELL_ICON;g[h.TALL_LOGICAL]=a.TALL_LOGICAL_ICON;g[h.TALL_OBJECT]=a.TALL_OBJECT_ICON;g[h.TALL_SPARSE]=a.TALL_SPARSE_ICON;g[h.TALL_CHAR]=a.TALL_CHAR_ICON;g[h.TALL_STRUCT]=a.TALL_STRUCT_ICON;g[h.TALL_TIMETABLE]=a.TALL_TIMETABLE_ICON;g[h.TALL_MATLAB_TABLE]=a.TALL_MATLAB_TABLE_ICON;g[h.TALL_CATEGORICAL]=a.TALL_CATEGORICAL_ICON;g[h.TALL_DATETIME]=
a.TALL_DATETIME_ICON;g[h.TALL_DURATION]=a.TALL_DURATION_ICON;g[h.TALL_CALENDAR_DURATION]=a.TALL_CALENDAR_DURATION_ICON;g[h.TALL_STRING]=a.TALL_STRING_ICON;g[h.TALL_ORDINAL]=a.TALL_CATEGORICAL_ICON;g[h.TALL_NOMINAL]=a.TALL_CATEGORICAL_ICON;g[h.MIXED]=a.MIXED_ICON;g[h.UNKNOWN]=a.OBJECT_ICON;g[h.DEFAULT]=a.OBJECT_ICON;g[h.NOVARDISPLAY]=a.NOVARDISPLAY_ICON;return g}(),ClassArray:function(){var g=[],f;for(f in a)a.hasOwnProperty(f)&&g.push(a[f]);return g}()}})},"variableeditor/constants/TypeConstants":function(){define([],
function(){return{CHAR:"char",STRING:"string",DOUBLE:"double",CELL:"cell",LOGICAL:"logical",STRUCT:"struct",TIMESERIES:"timeseries",TIMETABLE:"timetable",SPARSE:"sparse",COMPLEX:"complex",MATLAB_TABLE:"table",DATASET:"dataset",CATEGORICAL:"categorical",ORDINAL:"ordinal",NOMINAL:"nominal",DATETIME:"datetime",DURATION:"duration",CALENDAR_DURATION:"calendarDuration",UINT8:"uint8",UINT16:"uint16",UINT32:"uint32",UINT64:"uint64",INT8:"int8",INT16:"int16",INT32:"int32",INT64:"int64",SINGLE:"single",OBJECT:"object",
TALL:"tall",TALL_DOUBLE:"tall_double",TALL_CELL:"tall_cell",TALL_LOGICAL:"tall_logical",TALL_OBJECT:"tall_object",TALL_SPARSE:"tall_sparse",TALL_CHAR:"tall_char",TALL_STRUCT:"tall_struct",TALL_TIMETABLE:"tall_timetable",TALL_MATLAB_TABLE:"tall_table",TALL_CATEGORICAL:"tall_categorical",TALL_DATETIME:"tall_datetime",TALL_DURATION:"tall_duration",TALL_CALENDAR_DURATION:"tall_calendarDuration",TALL_STRING:"tall_string",TALL_UINT8:"tall_uint8",TALL_UINT16:"tall_uint16",TALL_UINT32:"tall_uint32",TALL_UINT64:"tall_uint64",
TALL_INT8:"tall_int8",TALL_INT16:"tall_int16",TALL_INT32:"tall_int32",TALL_INT64:"tall_int64",TALL_SINGLE:"tall_single",TALL_ORDINAL:"tall_ordinal",TALL_NOMINAL:"tall_nominal",UNKNOWN:"UNKNOWN",DEFAULT:"default",MIXED:"mixed",NOVARDISPLAY:"novardisplay"}})},"variableeditor/constants/CssClassConstants":function(){define([],function(){return{MGG_CELL:"cell",VE_RENDERERS:"variableEditorRenderers",IS_METADATA:"variableEditorIsMetaData",NOT_EDITABLE:"variableEditorNotEditable",TEMPORARY:"variableEditorTemporary",
MATRIX:"variableEditorMatrix",CHAR:"variableEditorChar",STRING:"variableEditorString",CELL:"variableEditorCell",LOGICAL:"variableEditorLogic",STRUCT:"variableEditorStruct",TIMESERIES:"variableEditorTimeseries",TIMETABLE:"variableEditorTimetable",SPARSE:"variableEditorSparse",DATETIME:"variableEditorDatetime",DURATION:"variableEditorDuration",CALENDAR_DURATION:"variableEditorCalendarDuration",OBJECT:"variableEditorObject",MIXED:"variableEditorMixed",TALL:"variableEditorTall",TALL_MATRIX:"variableEditorTallMatrix",
TALL_CELL:"variableEditorTallCell",TALL_LOGICAL:"variableEditorTallLogical",TALL_OBJECT:"variableEditorTallObject",TALL_SPARSE:"variableEditorTallSparse",TALL_CHAR:"variableEditorTallChar",TALL_STRUCT:"variableEditorTallStruct",TALL_TIMETABLE:"variableEditorTallTimetable",TALL_MATLAB_TABLE:"variableEditorTallMatlabTable",TALL_CATEGORICAL:"variableEditorTallCategorical",TALL_DATETIME:"variableEditorTallDatetime",TALL_DURATION:"variableEditorTallDuration",TALL_CALENDAR_DURATION:"variableEditorTallCalendarDuration",
TALL_STRING:"variableEditorTallString",MATRIX_ICON:"iconVariableEditorMatrix",CHAR_ICON:"iconVariableEditorChar",STRING_ICON:"iconVariableEditorString",CELL_ICON:"iconVariableEditorCell",LOGICAL_ICON:"iconVariableEditorLogic",STRUCT_ICON:"iconVariableEditorStruct",TIMESERIES_ICON:"iconVariableEditorTimeseries",TIMETABLE_ICON:"iconVariableEditorTimetable",SPARSE_ICON:"iconVariableEditorSparse",OBJECT_ICON:"iconVariableEditorObject",TABLE_ICON:"iconVariableEditorMatlabTable",CATEGORICAL_ICON:"iconVariableEditorCategorical",
DATETIME_ICON:"iconVariableEditorDatetime",DURATION_ICON:"iconVariableEditorDuration",CALENDAR_DURATION_ICON:"iconVariableEditorCalendarDuration",MIXED_ICON:"iconVariableEditorMixed",TALL_ICON:"iconVariableEditorTall",TALL_MATRIX_ICON:"iconVariableEditorTallMatrix",TALL_CELL_ICON:"iconVariableEditorTallCell",TALL_LOGICAL_ICON:"iconVariableEditorTallLogical",TALL_OBJECT_ICON:"iconVariableEditorTallObject",TALL_SPARSE_ICON:"iconVariableEditorTallSparse",TALL_CHAR_ICON:"iconVariableEditorTallChar",TALL_STRUCT_ICON:"iconVariableEditorTallStruct",
TALL_TIMETABLE_ICON:"iconVariableEditorTallTimetable",TALL_MATLAB_TABLE_ICON:"iconVariableEditorTallMatlabTable",TALL_CATEGORICAL_ICON:"iconVariableEditorTallCategorical",TALL_DATETIME_ICON:"iconVariableEditorTallDatetime",TALL_DURATION_ICON:"iconVariableEditorTallDuration",TALL_CALENDAR_DURATION_ICON:"iconVariableEditorTallCalendarDuration",TALL_STRING_ICON:"iconVariableEditorTallString",NOVARDISPLAY_ICON:"iconVariableEditorNoVarDisplay"}})},"datatoolsservices/CmdLineCodePublishService":function(){define("datatoolsservices/CmdLineCodePublishService",
["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-messageservice/MessageService","dojo/domReady!"],function(h,a,g,f){return h("datatoolsservices.CmdLineCodePublishService",[],{executionService:[],context:"",enabled:!1,codeObj:[],constructor:function(a){this.executionService=a.executionService;this.context=a.context;a.enabled&&(this.enabled=a.enabled);f.subscribe("/DataToolsCodePubChannel/"+this.context,"_publishCode",this)},unregister:function(){f.unsubscribe("/DataToolsCodePubChannel/"+this.context,
"_publishCode",this)},_publishCode:function(d){if(d&&d.data){this.codeObj=d=JSON.parse(d.data);if(this.executionService._setExecutionState)var b=g.after(this.executionService,"_setExecutionState",a.hitch(this,function(a,e){if(a&&"ready"===a){b.remove();var d=this.executionService.historyStore.items.length;this.executionService.historyStore.items[d-1].isError&&(d=this.executionService.historyStore.items[d-1].value.trim().split("\n"),d=this.codeObj.errorFcn.replace("%1$s",d[d.length-1]),this.executionService.executionEval(d))}}),
!0);if(d.code)if(Array.isArray(d.code))for(var f=0;f<d.code.length;f+=1)this._executeCode(d.code[f]);else this._executeCode(d.code)}},_executeCode:function(a){this.enabled?this.executionService.authoringEval(a):this.executionService.executionEval(a)},setEnabled:function(a){this.enabled=a}})})},"variableeditor/ContextUpdateManager":function(){define("variableeditor/ContextUpdateManager",["dojo/_base/declare","dojo/_base/lang","dojo/topic","MW/uiframework/contextmanager/ContextManagerFactory","MW/uiframework/UIBuilderFactory"],
function(h,a,g,f,d){return h("variableeditor.ContextUpdateManager",[],{constructor:function(a){this.defaultContextId=a.defaultContextId||"";this.contextChannel=a.contextUpdateChannel||"";this.managerChannel=a.managerChannel||"";this.contextManager=null;this.currentContext=[];this.init()},init:function(){try{this.contextManager=f.getInstance()}catch(a){}null===this.contextManager&&"/WorkspaceBrowser"===this.managerChannel&&(d.getInstance({actionService:null}).create({tag:"motwToolstrip",type:"Toolstrip"}),
this.contextManager=f.getInstance({parentAppId:"motw",toolstripTag:"motwToolstrip",toolstripId:"toolstripId",uiContainer:null,qabContextualControlsActionMap:{}}));this._setUpContextWatch();var h=this;this.contextManager&&g.subscribe(this.contextChannel,function(a){a.subContext&&h._updateSubContext(a)})},_setUpContextWatch:function(){if(this.contextManager){var a=this,d=this.defaultContextId;this.contextManager.watch("currentContext",function(f,e,g){var c=g.appId;"currentContext"===f&&(c&&c===d&&e!==
g)&&a.setCurrentContext(a.currentContext.slice())})}},setCurrentContext:function(a){var d=this.managerChannel;a&&(this.contextManager&&this.contextManager.set)&&this.contextManager.set("currentContext",{appId:d,contextIdList:a})},_updateSubContext:function(a){0<a.subContext.length?(this.currentContext=a.subContext,this.setCurrentContext(a.subContext)):this.setCurrentContext(this.currentContext)}})})},"variableeditor/views/ViewManifest":function(){define("variableeditor/views/ViewManifest","dojo/_base/declare variableeditor/views/UnknownView variableeditor/views/NumericArrayView variableeditor/views/CharArrayView variableeditor/views/StringArrayView variableeditor/views/StructureArrayView variableeditor/views/CategoricalView variableeditor/views/TableArrayView variableeditor/views/CellArrayView variableeditor/views/VectorStructureArrayView variableeditor/views/DatetimeArrayView variableeditor/views/DurationArrayView variableeditor/views/CalendarDurationArrayView variableeditor/views/UITableArrayView variableeditor/views/UITableTableView variableeditor/views/editors/TextBoxEditor variableeditor/views/editors/ArrayOfValuesTextBoxEditor variableeditor/views/editors/ArrayOfStringsTextBoxEditor variableeditor/views/editors/LogicalEditor variableeditor/views/editors/NumericEditor variableeditor/views/editors/NumericTextEditor variableeditor/views/editors/UITableEditor variableeditor/views/editors/UITableStringEditor variableeditor/views/editors/UITableLogicalEditor variableeditor/views/editors/UITableMWComboBox variableeditor/views/editors/UITableNonEditableComboboxEditor variableeditor/views/editors/ComboBoxEditor variableeditor/views/editors/FontNameEditor variableeditor/views/editors/StringEditor variableeditor/views/editors/CharEditor variableeditor/views/editors/CheckBoxEditor variableeditor/views/editors/TextAreaEditor variableeditor/views/editors/BinaryToggleButtonEditor variableeditor/views/editors/ToggleButtonGroupEditor variableeditor/views/editors/ScaleColorsTextBoxEditor variableeditor/views/editors/PopupVariableEditor variableeditor/views/editors/ColorEditor variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/editors/ColormapEditor variableeditor/views/editors/RGBColorEditor variableeditor/views/renderers/ColorOrderRenderer variableeditor/views/editors/ColorOrderEditor variableeditor/views/editors/DatetimeEditor variableeditor/views/editors/DisplayFormatTextBoxEditor variableeditor/views/editors/FilePickerEditor variableeditor/views/editors/IconTextBoxEditor variableeditor/views/editors/OpenvarEditor variableeditor/views/editors/_VEEditorConverterMixin variableeditor/views/renderers/_VERendererMixin variableeditor/views/renderers/_VERendererStyleMixin variableeditor/views/renderers/GroupedColumnRenderer variableeditor/views/renderers/VERendererFactory".split(" "),
function(h){return h("variableeditor.views.ViewManifest",[],{constructor:function(a){}})})},"variableeditor/views/UnknownView":function(){define("variableeditor/views/UnknownView",["dojo/_base/declare","dojo/dom-geometry","dojo/dom-class","mw-form/TextArea","variableeditor/views/ClientPeerView"],function(h,a,g,f,d){return h("variableeditor.views.UnknownView",[d],{textArea:null,init:function(a){this.inherited(arguments);if(a&&a.container){var d=new f({name:"UnsupportedTextArea_"+this.varName,value:"",
width:"auto",height:"auto",readOnly:!0,editable:!1});g.add(d.domNode,"UnknownViewerTextArea");d.startup();this.textArea=d;this.peerNode.addPeerEventListener("setData",function(a){a.data.data&&a.data.data!==d.value&&d.set("value",a.data.data)});g.add(a.container.domNode,"unsupportedView");this.peerNode.dispatchEvent("peerEvent",this.peerNode,{type:"getData"});a.container.addChild(this.textArea)}}})})},"variableeditor/views/ClientPeerView":function(){define("variableeditor/views/ClientPeerView",["dojo/_base/declare",
"dojo/Deferred","variableeditor/VariableEditorUtils","mw-peermodel/Observable","mw-log/Log"],function(h,a,g,f,d){return h("variableeditor.views.ClientPeerView",[f.Impl],{allArgs:{},peerNode:null,varName:null,editable:!0,cssSpecifier:"",userContext:{},viewListeners:[],constructor:function(a){this.init(a)},init:function(a){this.allArgs={};this.peerNode=null;this.userContext={};this.viewListeners=[];a&&(this.peerNode=a.peerNode,this.varName=a.varName,this.editable=a.editable,this.cssSpecifier=a.cssSpecifier,
this.userContext=a.userContext||{},this.allArgs=a)},destroy:function(){g.logDebug("VE: ClientPeerView : destroy");this.peerNode=null},addViewListener:function(a){this.viewListeners.push(a)},removeViewListener:function(a){a=this.viewListeners.indexof(a);0<=a&&this.viewListeners.splice(a,1)},_fireViewReady:function(a){this.viewListeners.forEach(function(f){if(f.viewReady)try{f.viewReady(a)}catch(g){d.error(g),d.error(g.stack)}})},getProperty:function(b,d){var f=new a(function(){});f.reject("Getting property "+
b+"  not supported.");return f},setProperty:function(b,d,f){d=new a(function(){});d.reject("Setting property "+b+" is not supported.");return d}})})},"variableeditor/views/NumericArrayView":function(){define("variableeditor/views/NumericArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.NumericArrayView",[a],{constructor:function(a){this.table={}},createTable:function(a){return new g(a)}})})},
"variableeditor/views/ClientArrayView":function(){define("variableeditor/views/ClientArrayView","dojo/_base/declare dojo/Deferred dojo/dom-geometry dojo/dom-class dijit/registry mw-log/Log variableeditor/VariableEditorUtils variableeditor/views/ClientPeerView".split(" "),function(h,a,g,f,d,b,l,m){return h("variableeditor.views.ClientArrayView",[m],{table:null,constructor:function(a){this.table={}},init:function(a){this.inherited(arguments);var b=this;if(a&&a.container){b.allArgs=a;b.peerNode.addEventListener("childAdded",
function(c){b._addGrid(a,c.data.child);b._initializeExistingModelProperties()});if(b.peerNode.getChildren&&0<b.peerNode.getChildren().length){var c=b.peerNode.getChildren()[0];b._addGrid(a,c)}this._initializeModelProperties()}},_refreshTable:function(){this.table&&this.table.updateModelProperties&&this.table.updateModelProperties(!0)},_updateModelProperties:function(a,b,c){void 0===c&&(c=!0);this[a]=JSON.parse(b);l.logDebug("Setting "+a+":");l.logDebug(this[a]);if(this.table&&(this.table[a]=this[a],
c)){var d=this;this._propertyTimer&&clearTimeout(this._propertyTimer);this._propertyTimer=setTimeout(function(){d._refreshTable()},50)}this.dispatchEvent("modelPropertiesSet",this,{type:a})},_initializeExistingModelProperties:function(){this.peerNode&&this.peerNode.hasProperty&&(this.peerNode.hasProperty("CellModelProperties")&&this._updateModelProperties("CellModelProperties",this.peerNode.getProperty("CellModelProperties"),!1),this.peerNode.hasProperty("TableModelProperties")&&this._updateModelProperties("TableModelProperties",
this.peerNode.getProperty("TableModelProperties"),!1),this.peerNode.hasProperty("RowModelProperties")&&this._updateModelProperties("RowModelProperties",this.peerNode.getProperty("RowModelProperties"),!1),this.peerNode.hasProperty("ColumnModelProperties")&&this._updateModelProperties("ColumnModelProperties",this.peerNode.getProperty("ColumnModelProperties"),!1));this._refreshTable()},_initializeModelProperties:function(){this._initializeExistingModelProperties();var a=this;a.peerNode.addEventListener("propertySet",
function(d){try{d&&d.data&&"CellModelProperties"===d.data.key?a._updateModelProperties("CellModelProperties",d.data.newValue,!0):d&&d.data&&"TableModelProperties"===d.data.key?a._updateModelProperties("TableModelProperties",d.data.newValue,!0):d&&d.data&&"RowModelProperties"===d.data.key?a._updateModelProperties("RowModelProperties",d.data.newValue,!0):d&&(d.data&&"ColumnModelProperties"===d.data.key)&&a._updateModelProperties("ColumnModelProperties",d.data.newValue,!0)}catch(c){b.error(c)}})},getTable:function(){return this.table},
_mapClientSideProperties:function(a,b){var c={backgroundcolor:"backgroundColor",color:"color",fontfamily:"fontFamily",fontsize:"fontSize",fontstyle:"fontStyle",fontweight:"fontWeight",style:"style",renderer:"renderer",editor:"editor",inplaceeditor:"inPlaceEditor"};return"HeaderName"===a&&b&&b.row&&-1!==b.row?"RowName":"HeaderNumber"===a&&b&&b.row&&-1!==b.row?"RowNumber":c.hasOwnProperty(a.toLowerCase())?c[a.toLowerCase()]:a},_getPropertiesFunction:function(a,b,c,d){var f=b?void 0!==b.row?b.row:-1:
-1,g=b?void 0!==b.column?b.column:-1:-1;b=!0;var h;-1!==f&&-1!==g?(b="CellModelProperties",h="set"===a?"setCellModelProperty":"getCellPropertyValue",c=[f,g,c]):-1!==g?(b="ColumnModelProperties",h="set"===a?"setColumnModelProperty":"getColumnModelProperty",c=[g,c]):-1!==f?(b="RowModelProperties",h="set"===a?"setRowModelProperty":"getRowModelProperty",c=[f,c]):(b="TableModelProperties",h="set"===a?"setTableModelProperty":"getTableModelProperty",c=[c]);"set"===a&&c.push(d);return{propertiesSet:b,valueFunction:h,
valueFunctionArgs:c}},getProperty:function(b,d){var c=new a(function(){});b=this._mapClientSideProperties(b,d);var f=this._getPropertiesFunction("get",d,b),g=f.propertiesSet,h=f.valueFunction,l=f.valueFunctionArgs;if(this.table&&this.table[g])f=this.table[h].apply(this.table,l),c.resolve(f);else{var m=this,t=function(a){try{if(a&&a.data&&a.data.type===g){m.removeEventListener("modelPropertiesSet",t,this);var b=m.table[h].apply(m.table,l);c.resolve(b)}}catch(e){c.reject(e.message)}};m.addEventListener("modelPropertiesSet",
t)}return c},setProperty:function(b,d,c){var f=new a(function(){});b=this._mapClientSideProperties(b,c);b=this._getPropertiesFunction("set",c,b,d);var g=b.propertiesSet,h=b.valueFunction,l=b.valueFunctionArgs;if(this.table&&this.table[g])this[h].apply(this,l),this.table.updateModelProperties&&this.table.updateModelProperties(!0),f.resolve(d);else{var m=this,t=function(a){try{a&&(a.data&&a.data.type===g)&&(m.removeEventListener("modelPropertiesSet",t,this),m[h].apply(m,l),m.table.updateModelProperties(!0),
f.resolve(d))}catch(c){f.reject(c.message)}};m.addEventListener("modelPropertiesSet",t)}return f},_addGrid:function(a,k){try{var c=a.position;if(a&&(a.container&&a.container.domNode)&&!a.position)var h=g.position(a.container.domNode),c={height:h.h,width:h.w};k&&k.setProperty&&k.setProperty("editable",a.editable);try{this.peerNode.getProperty("CellModelProperties")&&this.table&&(this.CellModelProperties=JSON.parse(this.peerNode.getProperty("CellModelProperties"))),this.peerNode.getProperty("TableModelProperties")&&
this.table&&(this.TableModelProperties=JSON.parse(this.peerNode.getProperty("TableModelProperties"))),this.peerNode.getProperty("RowModelProperties")&&this.table&&(this.RowModelProperties=JSON.parse(this.peerNode.getProperty("RowModelProperties"))),this.peerNode.getProperty("ColumnModelProperties")&&this.table&&(this.ColumnModelProperties=JSON.parse(this.peerNode.getProperty("ColumnModelProperties")))}catch(m){b.error(m)}this.allArgs=l.mergeObjects(this.allArgs,{peerViewModel:this,peerNode:k,position:c,
CellModelProperties:this.CellModelProperties,TableModelProperties:this.TableModelProperties,RowModelProperties:this.RowModelProperties,ColumnModelProperties:this.ColumnModelProperties});if(k&&k.getId){var q=d.byId("mgg_"+k.getId());q&&(b.warning("Found existing widget for table, trying to delete."),q.destroyRecursive?(b.warning("Calling destroyRecursive"),q.destroyRecursive()):b.error("Can't find destroyRecursive method of widget."))}this.table=this.createTable(this.allArgs);this.table.startup();
this.table&&(this.table.cssSpecifier&&this.table.domNode)&&f.add(this.table.domNode,this.table.cssSpecifier);a.container&&this.table&&a.container.addChild(this.table);var r=this;k&&k.addEventListener&&k.addEventListener("propertySet",function(a){a&&(a.data&&"dataModel"===a.data.key)&&r.dispatchEvent("viewReady",r.table.domNode,{peerView:r})},k);k&&k.hasProperty&&k.hasProperty("dataModel")&&k.getProperty("dataModel")&&!(0===k.getProperty("dataModel")._partialData.length&&0!==k.getProperty("dataModel")._rowCount)&&
r.dispatchEvent("viewReady",r.table.domNode,{peerView:r});k&&(k.getProperty&&k.getProperty("rowHeaderWidth"))&&(this.table.rowHeaderWidth=k.getProperty("rowHeaderWidth"));a.container&&a.container.resize&&a.container.resize()}catch(s){b.error(s),b.error(s.stack)}},_dispatchPropertySetEvent:function(a,b){this.dispatchEvent("propertySet",this,b)},setCellModelProperty:function(a,b,c,d){var f=this.table.CellModelProperties;if(!f||0===f.length){var f=[],g,h;for(g=this.table.dataModel.getCurrentStartRow();g<
this.table.dataModel.getCurrentEndRow();g+=1){f[g]=[];for(h=this.table.dataModel.getCurrentStartCol();h<this.table.dataModel.getCurrentEndCol();h+=1)f[g][h]={}}}f[a][b][c]=d;this.table.CellModelProperties=f;this.peerNode.setProperty("CellModelProperty",{row:a,column:b,property:c,value:d});this._dispatchPropertySetEvent(c,{row:a,column:b,propertyName:c,value:d})},setTableModelProperty:function(a,b){var c=Array({});this.table.TableModelProperties&&(c=this.table.TableModelProperties);c[a]=b;this.table.TableModelProperties=
c;this.peerNode.setProperty("TableModelProperty",{property:a,value:b});this._dispatchPropertySetEvent(a,{propertyName:a,value:b})},setColumnModelProperty:function(a,b,c){var d=this.table.ColumnModelProperties;if(!d||0===d.length){var d=[],f;for(f=this.table.dataModel.getCurrentStartCol();f<this.table.dataModel.getCurrentEndCol();f+=1)d[f]={}}d.hasOwnProperty(a)&&(d[a][b]=c,this.table.ColumnModelProperties=d,this.peerNode.setProperty("ColumnModelProperty",{column:a,property:b,value:c}),this._dispatchPropertySetEvent(b,
{column:a,propertyName:b,value:c}))},setRowModelProperty:function(a,b,c){var d=this.table.RowModelProperties;if(!d||0===d.length){var d=[],f;for(f=this.table.dataModel.getCurrentStartRow();f<this.table.dataModel.getCurrentEndRow();f+=1)d[f]={}}d.hasOwnProperty(a)&&(d[a][b]=c,this.table.RowModelProperties=d,this.peerNode.setProperty("RowModelProperty",{row:a,property:b,value:c}),this._dispatchPropertySetEvent(b,{row:a,propertyName:b,value:c}))},destroy:function(){l.logDebug("VE: ClientArrayView destroy");
this.table&&this.table.destroyRecursive&&(l.logDebug("VE: ClientArrayView destroyRecursive"),this.table.destroyRecursive());this.inherited(arguments)}})})},"variableeditor/views/table/ArrayTable":function(){define("variableeditor/views/table/ArrayTable","dojo/_base/declare variableeditor/views/table/VariableEditorTable dojo/_base/lang dojo/on dojo/dom dojo/dom-style dojo/dom-geometry variableeditor/views/renderers/VERendererFactory variableeditor/VariableEditorUtils variableeditor/ContextPublishingUtils mw-log/Log dojo/topic dojo/dom-class dojo/query dijit/registry dojo/keys variableeditor/views/table/BlockSelection dojo/i18n!variableeditor/app/l10n/nls/app dojo/string dojo/has dojo/sniff dijit/focus mw-messageservice/MessageService".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y){var A=h("variableeditor.views.table.ArrayTable",[a],{mouseMotionHandler:null,mouseUpHandler:null,mouseDownColumnHandler:null,mouseDownRowHandler:null,mouseDownHandler:null,anchorRow:-1,anchorColumn:-1,mouseColumnHeaderMotionHandler:null,mouseRowHeaderMotionHandler:null,isCellEnterListenerPaused:!0,lastSelectedHeaderCol:-1,lastSelectedHeaderRow:-1,mouseUpColumnHeaderHandler:null,mouseUpRowHeaderHandler:null,editable:!0,tableRowOffset:2,tableColumnOffset:2,
sendSelectionRanges:!0,paddingPagedRows:40,tolerancePagedRows:20,paddingPagedColumns:15,tolerancePagedCols:7,blockSelection:new t,columnHeaderMouseDown:!1,rowHeaderMouseDown:!1,maxHeight:-1,selectable:!0,TableModelProperties:{},RowModelProperties:{},ColumnModelProperties:{},showSelectionBorder:!0,selectionUpdated:!1,cellsDragged:!1,resizeBehaviour:"default",peerViewModel:{},_selectingColumn:void 0,_selectingRow:void 0,lineSpacing:1.5,minRowHeight:18,rightClickKeyCode:3,TABLE_DEFAULT_FONT:"12px Helvetica, Helvetica, sans-serif",
COLUMN_HEADER_ATTACH_POINT:"variableEditorColumnHeaders",constructor:function(a){this.pagedDataUpdateDelay=0;a.position&&(this.position=a.position);this.editable=void 0===a.editable||null===a.editable?!0:a.editable;!1===a.selectable&&(this.selectable=!1);a.peerViewModel&&(this.peerViewModel=a.peerViewModel);void 0!==a.sendSelectionRanges&&(this.sendSelectionRanges=a.sendSelectionRanges);this.blockSelection.setIndexedRows(!this.sendSelectionRanges);this.RendererName="variableeditorrenderer_"+A._RenderCounter;
A._RenderCounter+=1;this.VariableEditorRenderer=new m(this);this.cellTypes[this.RendererName]=this.VariableEditorRenderer;a.resizeBehaviour&&(this.resizeBehaviour=a.resizeBehaviour);a.contextId&&(this.contextId=a.contextId)},postCreate:function(){this.inherited(arguments);var a=this;f(this.dataScrollerNode,"mouseup",g.hitch(this,"_onMouseDragUp"));this.mouseDownHandler=f.pausable(this.dataScrollerNode,"mousedown",g.hitch(this,"_onMouseDown"));this.mouseDownColumnHandler=f.pausable(this.columnHeaderNode,
"mousedown",g.hitch(this,"_onHeaderColumnMouseDown"));f(this.columnHeaderScrollerNode,"scroll",function(c){a.columnHeaderScrollerNode.scrollLeft=a.dataScrollerNode.scrollLeft});f(this.rowHeaderScrollerNode,"scroll",function(c){a.rowHeaderScrollerNode.scrollTop=a.dataScrollerNode.scrollTop});this.mouseDownRowHandler=f.pausable(this.rowHeaderNode,"mousedown",g.hitch(this,"_onHeaderRowMouseDown"));this.own(this.mouseDownColumnHandler);this.mouseMotionHandler=f.pausable(window,"mousemove",g.hitch(this,
"_onMouseMove"));this.own(this.mouseMotionHandler);this.mouseMotionHandler.pause();f(this.cornerSpacerNode,"mousedown",g.hitch(this,"_onCornerMouseDown"));this.own(f(window,"mouseup",g.hitch(this,"_onWindowMouseUp")));this.peerNode.addEventListener("peerEvent",function(c){a.handlePeerEvent(c)},this.peerNode);this.peerNode.addEventListener("propertySet",function(c){a.handlePropertySet(c)},this.peerNode);p.add(this.domNode,"mgg");"/VariableEditor"===this.channel&&p.add(this.domNode,"mw_type_VariableEditorTable");
0>this.maxHeight?p.add(this.domNode,"arrayTable"):null!==this.dataModel&&(this.dataModel.getRowCount()*this.rowHeight>this.maxHeight?p.add(this.domNode,"arrayTableMaxHeight"):p.add(this.domNode,"arrayTableMaxHeightScaled"));this.domNode.setAttribute("data-tag",e.createDataTag("views","table"));this._attachListenersForContextUpdate();y.subscribe("/VElogmessage",g.hitch(this,function(a){a.data.eventType&&(e.logDebug("VE: "+a.data.eventType),"log"===a.data.eventType&&a.data.message&&e.logDebug("VE: Server Log ("+
a.data.message+")"))}))},_attachListenersForContextUpdate:function(){var a=["Header","Row"],c=["Header","Column"];this.rowHeaderScrollerNode&&this._handleContextUpdate(this.rowHeaderScrollerNode,a);this.columnHeaderScrollerNode&&this._handleContextUpdate(this.columnHeaderScrollerNode,c)},_handleContextUpdate:function(a,c){var b=this;f(a,"click",function(a){k.addToContext(b.contextUpdateChannel,c,!0)})},_getCellType:function(){return this.VariableEditorRenderer},_onColumnsSet:function(){this._updateColumnHeaderNames();
this.inherited(arguments)},_renderCell:function(a,c){var b=this._getCellType(a);if(b&&b.type&&0===b.type.indexOf("variableeditorrenderer")){var d=document.createElement("div");d.setAttribute("class","cell");d.setAttribute("data-tag",e.concatenateDataTagStrings("datatools","variableeditor","views","table","cell"));var f=this;this.cellTypes[b.type]&&this.cellTypes[b.type].create&&this.cellTypes[b.type].create(b,c,function(e){d.appendChild(e);f.cellTypes[b.type]&&f.cellTypes[b.type].startup&&f.cellTypes[b.type].startup(e,
a,c,d)});return d}this.inherited(arguments)},_updateCell:function(a,c,b,e){var d=r.getEnclosingWidget(a.firstChild);if(void 0!==b&&null!==b){var f=null;try{f=JSON.parse(b)}catch(g){f=b}if(d&&d.isEditing&&d.isEditing()){if(d.setEditable){var k=d.getCellIndices(f);d.setEditable(this.getCellPropertyValue(k.row,k.column,"Editable",f))}return}}var h=this._getCellType(c);if(h&&h.type&&0===h.type.indexOf("variableeditorrenderer")){var l=this;if(this.cellTypes[h.type]&&this.cellTypes[h.type].update){var m=
a.firstChild;this.cellTypes[h.type].update(m,h,b,function(d){d&&m&&d!==m?(a.replaceChild(d,m),r.getEnclosingWidget(m).destroy()):d&&!m&&a.appendChild(d);l.cellTypes[h.type]&&l.cellTypes[h.type].startup&&l.cellTypes[h.type].startup(d,c,b,e)})}}else this.inherited(arguments)},_setEmptyBlockSelection:function(){this.blockSelection.isEmpty()||(this.blockSelection=new t({source:"client",indexedRows:!this.sendSelectionRanges}),this._renderSelection(),this.setServerSelection(!0))},_onColumnMouseUp:function(a){this.inherited(arguments);
this.setServerSelection(!0);void 0!==this._resizingColumn&&this.columns&&(this._setColumnWidthOnTable(this._resizingColumn,this.columns[this._resizingColumn].width),this.setColumnModelProperty(this._resizingColumn,"ColumnWidth",this.columns[this._resizingColumn].width),this._updateDataStyles(),this.setColumnModelProperty(this._resizingColumn,"ColumnResized",!0));this._resizingColumn=void 0},_setColumnWidthOnTable:function(){},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var c=
null;a.data.editor?c=a.data.editor:a.data.renderer&&(c=a.data.renderer);var b=-1,e=-1;c.domNode&&c.domNode.dataset&&(e=this._getRowColumnFromNode(c.domNode),b=e.row,e=e.col);var d=a.data.newValue;c.convert&&(d=c.convert(a.data.newValue));this.dataModel&&this.dataModel.changeData&&this.dataModel.changeData(b,e,[[d]])}},onEditingStarted:function(){this.mouseMotionHandler.pause()},onMouseDown:function(a){w("mac")&&Object.defineProperty(a.data,"ctrlKey",{value:!1});this.contextMenu&&this.contextMenu.close();
if(this.selectable){this.cellsDragged=this.isCellEnterListenerPaused=!1;this.mouseMotionHandler.resume();var c=-1,b=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(b=this._getRowColumnFromNode(a.data.renderer.domNode),c=b.row,b=b.col);this.isCellDraggable(c,b)&&this.isCellSelected(c,b)&&!a.data.ctrlKey&&!a.data.metaKey&&!a.data.shiftKey?this.selectionUpdated=!1:(this._updateAndRenderSelection(c,b,a.data),this.selectionUpdated=!0)}},_updateAndRenderSelection:function(a,c,b){this._setLeadCellPosition(a,
c);this.anchorRow=a;this.anchorColumn=c;this.blockSelection.isEmpty()&&this._resetShiftKeyPivot();var e;e="extended"===this.selectionMode&&(b.ctrlKey||b.metaKey)&&!b.shiftKey?this.blockSelection.clone():new t({indexedRows:!this.sendSelectionRanges});e=this._updateBlockSelection(a,c,e,b);this.blockSelection.matchingSelection(e)||(this.blockSelection=e,this._renderSelection())},_updateBlockSelection:function(a,c,b,e){"none"!==this.selectionType&&"none"!==this.selectionMode&&(e&&e.shiftKey?(e=null,e=
this.getShiftKeyPivot(),0>e[0]&&0>e[1]?b.add(0,a,0,c):b.add(e[0],a,e[1],c)):e.ctrlKey||e.metaKey?(this._setShiftKeyPivot(a,c),!b.containsRow(a)||!b.containsColumn(c)?b.addCell(a,c):b.removeRows(a,a)):(this._setShiftKeyPivot(a,c),b.addCell(a,c)));return b},onMouseEnter:function(a){if(this.selectable&&!this.isCellEnterListenerPaused){var c=-1,b=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(b=this._getRowColumnFromNode(a.data.renderer.domNode),c=b.row,b=b.col);this._updateSelection(c,b,
a)}},onMouseUp:function(){this.selectable&&this.setServerSelection(!0);this.isCellEnterListenerPaused=!0;this.mouseMotionHandler.pause()},onEditingStopped:function(){this.mouseDownColumnHandler&&this.mouseDownColumnHandler.resume()},_getRowColumnFromNode:function(a){a&&a.dataset?(row=parseInt(a.dataset.row),column=parseInt(a.dataset.col)):(row=parseInt(a.getAttribute("data-row")),column=parseInt(a.getAttribute("data-col")));return{row:row,col:column}},_convertPxToRows:function(a,c,b){return Math.floor((a-
c.y+b)/this.rowHeight)},_onMouseDown:function(a){if(!p.contains(a.target,"dataScrollerNode")){var c=l.position(this.dataScrollerNode),b=this._convertPxToRows(a.pageY,c,this.dataScrollerNode.scrollTop);a=this._convertPxToCols(0,a.pageX-c.x+this.dataScrollerNode.scrollLeft);b>this.getRowCount()-1||a>this.getColumnCount()-1?(k.addToContext(this.contextUpdateChannel,[this.contextId,"EmptySpace"],!0),this.blockSelection.isEmpty()||this._clearBlockSelection()):k.addToContext(this.contextUpdateChannel,[this.contextId,
"DataVariable"],!0)}},_clearBlockSelection:function(){this.blockSelection=new t({source:"client",indexedRows:!this.sendSelectionRanges});this._setLeadCellPosition(-1,-1);this._renderSelection();this.mouseMotionHandler.resume()},_onMouseMove:function(a){a.preventDefault();if(!this.blockSelection.isEmpty()){var c=l.position(this.dataScrollerNode),b=this._convertPxToRows(a.pageY,c,this.dataScrollerNode.scrollTop),c=this._convertPxToCols(0,a.pageX-c.x+this.dataScrollerNode.scrollLeft),b=Math.max(0,Math.min(b,
this.getRowCount()-1)),c=Math.max(0,Math.min(c,this.getColumnCount()-1));this.scrollToCell(b,c);this._updateSelection(b,c,a)}},_updateSelection:function(a,c,b){var e,d;this._setLeadCellPosition(a,c);b=b.ctrlKey||b.metaKey?this.blockSelection.clone():new t({indexedRows:!this.sendSelectionRanges});e=Math.min(this.anchorRow,a);a=Math.max(this.anchorRow,a);d=Math.min(this.anchorColumn,c);c=Math.max(this.anchorColumn,c);b.add(e,a,d,c);this.blockSelection=b;this._renderSelection()},getRowCount:function(){return this.dataModel?
this.dataModel.getRowCount():0},getColumnCount:function(){return this.dataModel?this.dataModel.getColumnCount():0},_onDataChange:function(){},resize:function(){if(!this._noAutoSizing){var a=l.position(this.domNode);this.position={width:a.w,height:a.h};this.debounceRedraw()}},handlePropertySet:function(a){"Selection"===a.data.key?(a=a.data.newValue,a.source&&"client"===a.source||a.selectionSource&&"client"===a.selectionSource||(a=new t(a),a.setIndexedRows(!this.sendSelectionRanges),this.blockSelection=
a,this._renderSelection())):"editable"===a.data.key?this.domNode&&("false"===a.data.newValue?(this.domNode.className=this.domNode.className?this.domNode.className+" readonly":"readonly",p.toggle(this.domNode,"hideVerticalScroll",!0),p.toggle(this.domNode,"hideHorizontalScroll",!0)):(this._updateScrollerStyles(),this.domNode.className=this.domNode.className?this.domNode.className.replace(/\breadonly\b/,""):"")):"dataModel"===a.data.key&&(this.pagedDataUpdateDelay=100)},_onCornerMouseDown:function(a){a.preventDefault();
a=new t({indexedRows:!this.sendSelectionRanges});var c=this.getRowCount(),b=this.getColumnCount();a.add(0,c-1,0,b-1);null===this.getLeadNode()&&this._setLeadCellPosition(0,0);this.blockSelection=a;this._renderSelection()},_onMouseDragUp:function(a){w("mac")&&(a.ctrlKey&&Object.defineProperty(a,"which",{value:3}),Object.defineProperty(a,"ctrlKey",{value:!1}));this.anchorColumn=this.anchorRow=-1;this.mouseMotionHandler&&this.mouseMotionHandler.pause();if(a&&a.renderer&&a.renderer.domNode){k.removeFromContext(this.contextUpdateChannel,
!0);var c=this._getRowColumnFromNode(a.renderer.domNode);!this.selectionUpdated&&(!this.cellsDragged&&a.which!==this.rightClickKeyCode)&&(this._updateAndRenderSelection(c.row,c.col,a),this.selectionUpdated=!0)}this.cellsDragged=!1},_onHeaderRowMouseDown:function(a,c){if(this.selectable){var b=null,e;try{e=this.getEnclosingHeaderWidget(a.target)}catch(d){e={index:-1}}0<=e.index&&(b=e.index);this._selectingRow=b;this.mouseRowHeaderMotionHandler?this.mouseRowHeaderMotionHandler.resume():(this.mouseRowHeaderMotionHandler=
f.pausable(window,"mousemove",g.hitch(this,"_onRowHeaderSelection")),this.own(this.mouseRowHeaderMotionHandler));if(c||void 0===c)b=this.getLeadNode().getElementsByTagName("input")[0],z.focus(b);a.preventDefault()}},_onTableHeaderKeyDown:function(a){var c=this.getLeadNode();z.focus(c.getElementsByTagName("input")[0]);r.getEnclosingWidget(c)._handleKeyboardEvent(a)},_onHeaderRowMouseUp:function(){this.selectable&&(this.lastSelectedHeaderRow=-1,this.mouseUpRowHeaderHandler&&this.mouseUpRowHeaderHandler.pause(),
this.mouseRowHeaderMotionHandler&&this.mouseRowHeaderMotionHandler.pause(),0<this.getRowCount()&&0<this.getColumnCount()&&this.setServerSelection(!0),this._selectingRow=void 0)},_onRowHeaderSelection:function(a){if(this.selectable){a.preventDefault();var c=l.position(this.dataScrollerNode),b=null;if(a.pageX<c.x+c.w&&a.pageX>c.x&&a.pageY<c.y+c.h&&a.pageY>c.y){var e;try{e=this._getCellFromNode(a.target)}catch(d){e={row:-1}}0<=e.row&&(b=e.row)}b||(b=Math.floor((a.pageY-c.y+this.dataScrollerNode.scrollTop)/
this.rowHeight),b=Math.min(Math.max(0,b),this.getRowCount()-1),this.scrollToRow(b));0>this.lastSelectedHeaderRow&&(this.lastSelectedHeaderRow=b);a=this.blockSelection.getColumnCount()===this.getColumnCount();if(this.blockSelection.containsRow(b)&&a){if(this.lastSelectedHeaderRow!==b)if(b<this.lastSelectedHeaderRow)for(a=this.lastSelectedHeaderRow;a>b;a-=1)this.blockSelection.containsRow(a)&&this.blockSelection.removeRows(a,a);else for(a=this.lastSelectedHeaderRow;a<b;a+=1)this.blockSelection.containsRow(a)&&
this.blockSelection.removeRows(a,a)}else if(b>=this.lastSelectedHeaderRow)for(a=this.lastSelectedHeaderRow;a<=b;a+=1)this.blockSelection.containsRow(a)||this.blockSelection.add(a,a,0,this.getColumnCount()-1);else for(a=b;a<=this.lastSelectedHeaderRow;a+=1)this.blockSelection.containsRow(a)||this.blockSelection.add(a,a,0,this.getColumnCount()-1);this.lastSelectedHeaderRow=b;this._setLeadCellPosition(this.lastSelectedHeaderRow,0);0<this.getColumnCount()?this._renderSelection():this._updateHeaderStyle()}},
_onHeaderColumnMouseDown:function(a,c){if(this.selectable&&(!a||!a.target||!(a.target.className&&-1!==a.target.className.toLowerCase().indexOf("drag")))){var b=null,e;try{e=this.getEnclosingHeaderWidget(a.target)}catch(d){e={index:-1}}0<=e.index&&(b=e.index);this._selectingColumn=b;this.mouseUpColumnHeaderHandler?this.mouseUpColumnHeaderHandler.resume():this.mouseUpColumnHeaderHandler=f.pausable(this.columnHeaderNode,"mouseup",g.hitch(this,"_onHeaderColumnMouseUp"));this.mouseColumnHeaderMotionHandler?
this.mouseColumnHeaderMotionHandler.resume():(this.mouseColumnHeaderMotionHandler=f.pausable(window,"mousemove",g.hitch(this,"_onColumnHeaderSelection")),this.own(this.mouseColumnHeaderMotionHandler));if(c||void 0===c)b=this.getLeadNode().getElementsByTagName("input")[0],z.focus(b);a.preventDefault()}},_onRowMouseDown:function(a){if(this.selectable&&"single"!==this.selectionMode){var c;try{c=this.getEnclosingHeaderWidget(a.target)}catch(b){c={index:-1}}if(!(0>c.index)){c=c.index;this.blockSelection.isEmpty()&&
this._resetShiftKeyPivot();var e=new t({indexedRows:!this.sendSelectionRanges});if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey)&&!a.shiftKey)e=this.blockSelection.clone();e=this._updateRowSelection(c,e,a);this.blockSelection.matchingSelection(e)||(0>this.lastSelectedHeaderRow&&(this.lastSelectedHeaderRow=c),this.blockSelection=e,this._setLeadCellPosition(this.lastSelectedHeaderRow,0),0<this.getColumnCount()?this._renderSelection():this._updateHeaderStyle())}}},_updateRowSelection:function(a,
c,b){var e=this.getColumnCount()-1;if("none"!==this.selectionType&&"none"!==this.selectionMode)if(b.shiftKey){var d=null;b=this.getShiftKeyPivot();0>b[0]?d=0:d=b[0];c.add(d,a,0,e)}else b.ctrlKey||b.metaKey?(this._setShiftKeyPivot(a,e),c.containsRow(a)?c.removeRows(a,a):c.add(a,a,0,e)):(this._setShiftKeyPivot(a,e),c.add(a,a,0,e));return c},_onColumnMouseDown:function(a){if(this.selectable&&"single"!==this.selectionMode){var c;try{c=this.getEnclosingHeaderWidget(a.target)}catch(b){c={index:-1}}if(!(0>
c.index)){c=c.index;var e=new t({indexedRows:!this.sendSelectionRanges});if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))e=this.blockSelection.clone();"none"!==this.selectionType&&"none"!==this.selectionMode&&(a.shiftKey&&!e.isEmpty()?(a=e.getLeadCell(),e.add(0,this.getRowCount()-1,a[1],c)):a.ctrlKey||a.metaKey?e.containsColumn(c)?e.removeColumns(c,c):e.add(0,this.getRowCount()-1,c,c):e.add(0,this.getRowCount()-1,c,c));this.blockSelection.matchingSelection(e)||(0>this.lastSelectedHeaderCol&&
(this.lastSelectedHeaderCol=c),this.blockSelection=e,this._setLeadCellPosition(0,this.lastSelectedHeaderCol),this._renderSelection())}}},_onHeaderColumnMouseUp:function(){this.selectable&&(this.lastSelectedHeaderCol=-1,this.mouseColumnHeaderMotionHandler&&this.mouseColumnHeaderMotionHandler.pause(),this.mouseUpColumnHeaderHandler&&this.mouseUpColumnHeaderHandler.pause(),0<this.getRowCount()&&0<this.getColumnCount()&&this.setServerSelection(!0),this._selectingColumn=void 0)},_onColumnHeaderSelection:function(a,
c){if(this.selectable){!1!==c&&a.preventDefault();var b;b=l.position(this.dataScrollerNode);var e=null;if(a.pageX<b.x+b.w&&a.pageX>b.x&&a.pageY<b.y+b.h&&a.pageY>b.y){var d;try{d=this._getCellFromNode(a.target)}catch(f){d={column:-1}}0<=d.column&&(e=d.column)}e||(e=this._convertPxToCols(0,a.pageX-b.x+this.dataScrollerNode.scrollLeft),e=Math.min(Math.max(0,e),this.getColumnCount()-1),this.scrollToColumn(e));if(e!==this.lastSelectedHeaderCol){0>this.lastSelectedHeaderCol&&(this.lastSelectedHeaderCol=
e);b=this.blockSelection.containsColumn(e);d=this.blockSelection.getRowCount()===this.getRowCount();if(b&&d){if(this.lastSelectedHeaderCol!==e)if(e<this.lastSelectedHeaderCol)for(b=this.lastSelectedHeaderCol;b>e;b-=1)this.blockSelection.containsColumn(b)&&this.blockSelection.removeColumns(b,b);else for(b=this.lastSelectedHeaderCol;b<e;b+=1)this.blockSelection.containsColumn(b)&&this.blockSelection.removeColumns(b,b)}else if(e>=this.lastSelectedHeaderCol)for(b=this.lastSelectedHeaderCol;b<=e;b+=1)this.blockSelection.containsColumn(b)||
this.blockSelection.add(0,this.getRowCount()-1,b,b);else for(b=e;b<=this.lastSelectedHeaderCol;b+=1)this.blockSelection.containsColumn(b)||this.blockSelection.add(0,this.getRowCount()-1,b,b);this.lastSelectedHeaderCol=e;this._setLeadCellPosition(0,this.lastSelectedHeaderCol);this._renderSelection()}}},_onWindowMouseUp:function(a,c){this._onHeaderColumnMouseUp();this._onHeaderRowMouseUp();this._onTableMouseUp(a,c);this.mouseMotionHandler&&this.mouseMotionHandler.pause();this.mouseColumnHeaderMotionHandler&&
this.mouseColumnHeaderMotionHandler.pause();this.mouseRowHeaderMotionHandler&&this.mouseRowHeaderMotionHandler.pause();this._selectingRow=this._selectingColumn=void 0;this.anchorColumn=this.anchorRow=-1;this.isCellEnterListenerPaused=!0},_onTableMouseUp:function(a,c){if(d.isDescendant(a.target,this.domNode)&&this.leadCell&&!this.columnHeaderNode.contains(a.target)&&!this.rowHeaderNode.contains(a.target)){var b=".row_"+this.leadCell.row+".col_"+this.leadCell.column;-1<this.leadCell.index&&(b=b+".idx_"+
this.leadCell.index);b=q(b,this.domNode)[0];if((b=r.getEnclosingWidget(b))&&b._handleMouseUp)b._handleMouseUp(),a&&(a.target&&!b.domNode.contains(a.target)&&b.domNode.contains(z.curNode))&&z.focus(this.domNode)}return!0},_cancelCurrentEditor:function(a,c){var b=q(".row_"+a+".col_"+c,this.domNode)[0];(b=r.getEnclosingWidget(b))&&b.cancelEditing&&b.cancelEditing()},_revertCurrentEditorChanges:function(a,c){var b=q(".cellRenderer.row_"+a+".col_"+c,this.domNode)[0];(b=r.getEnclosingWidget(b))&&b._revert&&
b._revert()},_cancelCurrentRowHeaderEditor:function(a){a=q(".EditableHeader",this.rowHeaderNode)[a+(this.rowView.end-this.rowView.start)-this.rowView.end];a=r.getEnclosingWidget(a);this._handleDuplicateRowHeaderValues(a)},_cancelCurrentColumnHeaderEditor:function(a,c){var b=q(".EditableHeader",this.columnHeaderNode)[a+(this.colView.end-this.colView.start)-this.colView.end],b=r.getEnclosingWidget(b);this._handleColumnHeaderError(b,c)},_forceRowUpdate:function(a,c){if(0<=a&&0<=c){var b=this.getCellSelector(a,
c);if(b=q(b)[0]){var e=this.dataModel.getPartialData()[a-this.rowView.start];this._updateRow(b.parentNode,e,e,this.colView.start,this.colView.end,this.oldColView.start,this.oldColView.end)}}},_clearRendererCache:function(a,c){if(0<=a&&0<=c){var b=this.getCellSelector(a,c);if(b=q(b)[0]){var e=this.dataModel.getPartialData()[a-this.dataModel._currentStartRow],d=this._getCellType(c);this.cellTypes[d.type].clearCache&&this.cellTypes[d.type].clearCache(b.firstElementChild,c,e[c])}}},getEnclosingHeaderWidget:function(a){for(;!p.contains(a,
"EditableHeader")&&!p.contains(a,"NonEditableHeader");)a=a.parentElement;return r.getEnclosingWidget(a)},_handleDataChangeStatus:function(a){e.logDebug("VE: Server data change status: "+a.data.status);if(a.data.status&&"success"===a.data.status){var b=q(".cellRenderer.row_"+row+".col_"+column,this.domNode)[0];(b=r.getEnclosingWidget(b))&&(b.setValue&&a.data&&a.dispValue)&&b.setValue(a.data.dispValue,a.data.source,a.data.dispValue)}else this._clearRendererCache(a.data.row,a.data.column),this._revertCurrentEditorChanges(a.data.row,
a.data.column),a.data.status&&"noChange"===a.data.status||(a.data.message?e.displayErrorMessage(a.data.message):c.warn("VE: Server error with no message."))},handlePeerEvent:function(a){e.logDebug("VE: Peer Event: "+a.data.type);a.data.type&&"ErrorDuplicateColumnHeader"===a.data.type?this._cancelCurrentColumnHeaderEditor(a.data.index):a.data.type&&"ColumnHeaderError"===a.data.type?this._cancelCurrentColumnHeaderEditor(a.data.index,a.data.message):a.data.type&&"ErrorDuplicateRowHeader"===a.data.type?
this._cancelCurrentRowHeaderEditor(a.data.index):a.data.type&&"errormsg"===a.data.type?(e.logDebug("VE: Server error: "+a.data.message),this._cancelCurrentEditor(a.data.row,a.data.column),a.data.message?e.displayErrorMessage(a.data.message):c.warn("VE: Server error with no message.")):a.data.type&&"dataChangeStatus"===a.data.type&&this._handleDataChangeStatus(a)}});A._RenderCounter=0;A._forTestingOnly={contextPublishingUtils:k};return A})},"variableeditor/views/table/VariableEditorTable":function(){define("variableeditor/views/table/VariableEditorTable",
"dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin variableeditor/views/table/tableBase/_TableBase variableeditor/views/table/_VETableHeaders variableeditor/views/table/tableBase/_TableHeaderSelection variableeditor/views/table/_VETableSelection variableeditor/views/table/_VEModelProperties variableeditor/views/table/tableBase/_TableColumnWidth variableeditor/views/table/tableBase/_PropTypeHandler variableeditor/VariableEditorUtils dojo/text!variableeditor/views/table/VariableEditorTemplate.html dojo/dnd/Source".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){return h("variableeditor.views.table.VariableEditorTable",[l,p,m,n,e,k,c,b],{templateString:r,container:null,curRowCount:0,curColCount:0,dndSource:null,constructor:function(a){a=a||{};this.componentData=a.widgetData;this.container=a.container;this.useDojoDnD=a.useDojoDnd||!1},startup:function(c){this.inherited(arguments);if(this.useDojoDnD&&null===this.dndSource&&this.getDndItemSelector&&this.getDndHandleSelector&&this.getSelectedFields){var b=this;c=c||{};
a.mixin(c,{dropCallback:function(){},checkAcceptanceCallback:function(a,c){return a.node!==b.dataScrollerNode}});this._attachDndHandles();c.creator=function(a,c){var e=dojo.doc.createElement("span");e.id=dojo.dnd.getUniqueId();f.add(e,"dojoDndItem");if("avatar"===c&&a){var g=b._createDummyNodeToEnableAvatars(a);d.place(g,e,"last")}else return b._dndSource?b._dndSource.defaultCreator(a,c):{node:null,data:null,type:null};return{node:e,data:a,type:["text"]}};this.dndSource=q.createSelectableDnDTarget(this.dataScrollerNode,
c);this.dndSource.getSelectedNodes=function(){var a=g.NodeList(),c=b.getSelectedFields();if(c)for(var c=c.split(","),e=0;e<c.length;e+=1){var d=c[e],f=g('[dnddata\x3d"'+d+'"]')[0];f?(a.push(f),this.getItem(f.id)||this.setItem(f.id,{data:d,type:["text"]})):(f=b._createDummyNodeToEnableAvatars(d),this.setItem(f.id,{data:d,type:["text"]}),a.push(f))}return a};this.dndSource.allowNested=!0;this.dndSource.isSource=!0;this.dndSource.copyOnly=!0;this.dndSource.withHandles=!0}},_createDummyNodeToEnableAvatars:function(a){var c=
document.createElement("input");c.setAttribute("class","structNameColumn dojoDndItem dojoDndHandle DojoDndItemSelected variableEditorRenderers iconVariableEditorMatrix dojoDndItemOver dojoDndItemAnchor");c.setAttribute("dnddata",a);c.setAttribute("dndtype","text");c.setAttribute("id",a);c.value=a;return c},_attachDndHandles:function(){if(this.useDojoDnD){var a=this.getDndItemSelector(),c=this.getDndHandleSelector();g(a,this.domNode).forEach(function(a,b,e){for(i=0;i<c.length;i++)(b=g(c[i],a)[0])&&
f.add(b,"dojoDndHandle")})}},_onDataModelSet:function(a){this.inherited(arguments);if(a._rowCount!=this.curRowCount||a._columnCount!=this.curColCount)this.curRowCount=a._rowCount,this.curColCount=a._columnCount,this.container&&this.container.resize&&this.container.resize();this.dndSource&&this.dndSource.clearItems&&this.dndSource.clearItems()},_onColumnsSet:function(){this.inherited(arguments);this.container&&this.container.resize&&this.container.resize()}})})},"variableeditor/views/table/tableBase/_TableBase":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/on dojo/keys dijit/_WidgetBase mw-browser-utils/BrowserUtils ./_ListBase dojo/topic variableeditor/VariableEditorUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h([n,k],{scrollbarWidth:0,headerPadding:2,defaultColumnWidth:75,totalColumnWidth:0,paddingViewColumns:4,toleranceViewCols:2,paddingPagedColumns:30,tolerancePagedCols:15,colView:{start:0,end:0},oldColView:{start:0,end:0},pageDataCols:{},constructor:function(a){this.scrollbarWidth=c.getScrollbarWidth();this.defaultProperties=g.delegate(this.defaultProperties,{columns:[],showCellBorders:!0})},postCreate:function(){this.inherited(arguments);this.own(m(this.dataScrollerNode,
"change",g.hitch(this,"_onDataChange")));this.own(m(this.dataScrollerNode,"keydown",g.hitch(this,"_onCommit")))},setColumnWidth:function(a,c){if(0<=a&&a<this.columns.length&&10<c){var b=g.clone(this.columns);b[a].width=c;this.peerNode.setProperty("columns",b)}},scrollToColumn:function(a){a=Math.max(0,Math.min(a,this.dataModel.getColumnCount()));var c=0,b=(this.columns[a]?this.columns[a].width:this.defaultColumnWidth)/2,e;for(e=0;e<a;e+=1)b+=this.columns[e]?this.columns[e].width:this.defaultColumnWidth;
e=l.position(this.dataScrollerNode).w;var d=(e-this.scrollbarWidth)/1.3;a=d+this.dataScrollerNode.scrollLeft;e=e-d+this.dataScrollerNode.scrollLeft;b>a?c=b-a:b<e&&(c=b-e);this.dataScrollerNode.scrollLeft=c+this.dataScrollerNode.scrollLeft},scrollToCell:function(a,c){this.scrollToRow(a);this.scrollToColumn(c)},getColumnSelector:function(a){return"#"+this.id+" .dataBody .cell:nth-child("+(a-this.colView.start+2)+")"},getCellSelector:function(a,c){return this.getRowSelector(a)+".cell:nth-child("+(c-
this.colView.start+2)+")"},_onColumnsSet:function(){this._updateTotalColumnWidth(this.columns.length);this._renderViewData(!0)},_updateTotalColumnWidth:function(a){this.totalColumnWidth=0;var c;for(c=0;c<a;c+=1)if(this.columns[c])if(0<=this.columns[c].width)this.totalColumnWidth+=this.columns[c].width;else{var b=this.getColumnModelProperty(c,"ColumnWidth"),e=parseInt(b,10);null!==b&&void 0!==b&&0<=e?(this.totalColumnWidth+=e,this.columns[c].width=e):(this.totalColumnWidth+=this.defaultColumnWidth,
this.columns[c].width=this.defaultColumnWidth)}},_onShowCellBordersSet:function(){b.toggle(this.domNode,"showCellBorders",this.showCellBorders)},_onDataScroll:function(){this.inherited(arguments)},_onDataChange:function(a){var c=this._getCellFromNode(a.target);if(!(0>c.row||0>c.column)){var b=c.node,e=c.row,c=c.column,d=this.oldViewData[e-this.rowView.start][c-this.colView.start],f=this._getCellType(this.columns[c]);this.cellTypes[f.type].getCellValue&&(a=this.cellTypes[f.type].getCellValue(b.firstChild,
a.target,f,d),void 0!==a&&this.dataModel.changeData(e,c,[[a]]))}},_onCommit:function(a){a.keyCode===e.ENTER&&this._onDataChange(a)},_throttledRender:function(a,c){var b=this;this._renderTimer&&clearTimeout(this._renderTimer);this._renderTimer=setTimeout(function(){b._renderViewDataImpl(a);c&&c();b._renderSelection()},10)},_renderViewData:function(a,c){this._throttledRender(a,c)},_renderViewDataImpl:function(a){if(this.domNode){var c=window.performance.now();if(this.dataModel&&this.position){this._updatePagedData();
if(!a&&this.dataModel===this.oldDataModel&&!this.rowView.changed&&!this.colView.changed)return;this._onViewRangeUpdated();var b=this.rowView.start-this.dataModel.getCurrentStartRow();a=this.rowView.end-this.dataModel.getCurrentStartRow();for(var e=this.colView.start-this.dataModel.getCurrentStartCol(),d=this.colView.end-this.dataModel.getCurrentStartCol(),f=this.dataModel.getPartialData(),g=[];b<a;b+=1)g.push(f[b].slice(e,d));var k=this;this._incrementalUpdateNode({node:this.dataNode,data:g,oldData:this.oldViewData,
start:this.rowView.start,end:this.rowView.end,oldStart:this.oldRowView.start,oldEnd:this.oldRowView.end,update:function(a,c,b){k._updateRow(a,c,b,k.colView.start,k.colView.end,k.oldColView.start,k.oldColView.end)},create:function(a){return k._renderRow(a,k.colView.start,k.colView.end)}});this.oldRowView=this.rowView;this.oldColView=this.colView;this.oldViewData=g;this.oldDataModel=this.dataModel}this._updateDataStyles();a=window.performance.now();this.emit("view-updated");q.isPerformance()&&p.publish("variableeditor/renderTimeChannel",
{time:a-c,numRows:this.rowView.end-this.rowView.start,numCols:this.colView.end-this.colView.start})}},_renderRow:function(a,c,b){var e=document.createElement("div");e.setAttribute("class","row");var d=document.createElement("div");d.setAttribute("class","cell spacer leftSpacer");e.appendChild(d);d=b-c;for(b=0;b<d;b+=1)e.appendChild(this._renderCell(this.columns[b+c],a[b]));a=document.createElement("div");a.setAttribute("class","cell spacer rightSpacer");e.appendChild(a);return e},_updateRow:function(a,
c,b,e,d,f,g){var k=this;this._incrementalUpdateNode({node:a,data:c,oldData:b,start:e,end:d,oldStart:f,oldEnd:g,update:function(a,c,b,e){k._updateCell(a,k.columns[e],c,b)},create:function(a,c){return k._renderCell(k.columns[c],a)}})},_getCellFromNode:function(a){for(var c=null,b=-1,e=-1;a.getAttribute&&"datatools.variableeditor.views.table.cell"!==a.getAttribute("data-tag")&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute&&"datatools.variableeditor.views.table.cell"===a.getAttribute("data-tag")){c=
a;for(e=this.colView.start-1;a.previousElementSibling;)e+=1,a=a.previousElementSibling;a=a.parentNode;for(b=this.rowView.start-1;a.previousElementSibling;)b+=1,a=a.previousElementSibling}return{node:c,row:b,column:e}},_onViewRangeUpdated:function(a,c,b,e){var d;for(d=this.leftSpaceWidth=0;d<this.colView.start;d+=1)this.leftSpaceWidth+=this.columns[d]&&null!==this.columns[d].width&&0<=this.columns[d].width?this.columns[d].width:this.defaultColumnWidth;this.inherited(arguments)},_updatePagedData:function(){if(this.domNode){var a=
this._convertPxToCols(0,this._getScrollLeft()),c=this._convertPxToCols(a,this.position.width)+1,b=a+c;this.colView=this._updateArrayBounds(a,a+c,this.dataModel.getCurrentStartCol(),this.dataModel.getCurrentEndCol(),this.paddingViewColumns,this.toleranceViewCols,this.oldColView,b);this.pagedDataCols=this._updateArrayBounds(a,a+c,0,this.dataModel.getColumnCount(),this.paddingPagedColumns,this.tolerancePagedCols,this.oldPagedDataCols,b);this.inherited(arguments)}},_getScrollLeft:function(){return this.dataScrollerNode.scrollLeft},
_updateDataStyles:function(){this.inherited(arguments);this.dataModel&&(this.rowHeight&&this.position)&&(this._updateScrollerStyles(),this.styleManager.updateStyleRules("spacerLeft",{".row .spacer.leftSpacer":"width: "+this.leftSpaceWidth+"px;"}),this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: "+this.totalColumnWidth+"px;"}))},_updateCurrentPosition:function(){var a=l.position(this.domNode);this.position={width:a.w,height:a.h}},_updateColumnStyles:function(){var a=this.columns.slice(this.colView.start,
this.colView.end),c,b={},e;for(c=0;c<a.length;c+=1)e=this._getCellType(a[c]),e=this._getColumnStyles(e),e+="width: "+(a[c]&&null!==a[c].width&&0<=a[c].width?a[c].width:this.defaultColumnWidth)+"px;",b[".dataColumn .cell:nth-child("+(c+2)+")"]=e;this.styleManager.updateStyleRules("columns",b)},_updateScrollerStyles:function(){var a=this.dataModel.getRowCount()*this.rowHeight>=this.position.height,c=this.totalColumnWidth>=this.position.width;b.toggle(this.domNode,"hideVerticalScroll",!a);b.toggle(this.domNode,
"hideHorizontalScroll",!c)},_convertPxToCols:function(a,c){var b,e=0;for(b=a;b<this.dataModel.getColumnCount();b+=1)if(e+=this.columns[b]&&this.columns[b].width||this.defaultColumnWidth,c<=e)return b-a;return b}})})},"variableeditor/views/table/tableBase/_ListBase":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/on dojo/sniff dijit/_WidgetBase mw-browser-utils/BrowserUtils mw-style-utils/StyleUtils variableeditor/VariableEditorUtils ./tableCellRenderers".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h([k],{peerNode:null,defaultProperties:{renderer:{type:"default"},rowHeight:18,dataModel:null,visibility:!0},position:{width:0,height:0},paddingViewRows:10,toleranceViewRows:5,paddingPagedRows:80,tolerancePagedRows:40,pagedDataUpdateDelay:100,leftSpaceWidth:0,viewData:[],oldViewData:[],rowView:{start:0,end:0},oldRowView:{start:0,end:0},pagedDataRows:{start:0,end:0,changed:!1},pagedDataCols:{start:0,end:1,changed:!1},cellTypes:q,constructor:function(a){a=
a||{};this.peerNode=a.peerNode;a.id="mgg_"+a.peerNode.getId();this.styleManager=new n.StyleManager("#"+a.id);this.own(this.styleManager);e("mac")?this.debounceRedraw=p.createDebounceFn(this,[this._renderViewData,this._updateScrollerStyles],1E3):this.debounceRedraw=p.createDebounceFn(this,[this._renderViewData,this._updateScrollerStyles],500)},postCreate:function(){this.inherited(arguments);this.domNode.id=this.id;c.setClassName(this.domNode,{type:this.peerNode.getType(),name:this.peerNode.getProperty("name")});
g.mixin(this,this.defaultProperties);var a=g.delegate(this.defaultProperties,this.peerNode.getProperties()),b;for(b in a)"function"!==typeof a[b]&&this._onPropertySet({target:this.peerNode,data:{key:b,oldValue:null,newValue:a[b]}});this.peerNode.addEventListener("propertySet",this._onPropertySet,this);this.own(m(this.dataScrollerNode,"scroll",g.hitch(this,"_onDataScroll")))},startup:function(){this.inherited(arguments);this.position||(this.position=l.position(this.domNode),this._renderViewData(!0))},
resize:function(){this._noAutoSizing||(this.position=l.position(this.domNode),this.debounceRedraw())},destroyRecursive:function(){this.peerNode.hasEventListener("propertySet")&&this.peerNode.removeEventListener("propertySet",this._onPropertySet,this);this.inherited(arguments)},scrollToRow:function(a){var c=this.rowHeight;a=Math.max(0,Math.min(a,this.dataModel.getRowCount()));var b=0,e=l.position(this.dataScrollerNode).h,d=(e-c)/1.1,f=d+this.dataScrollerNode.scrollTop,e=e-d+this.dataScrollerNode.scrollTop;
a*=c;a>f?b=a-f:a<e&&(b=a-e);this.dataScrollerNode.scrollTop=b+this.dataScrollerNode.scrollTop},getRowSelector:function(a){return"#"+this.id+" .dataBody .row:nth-child("+(a-this.rowView.start+2)+")"},_onPropertySet:function(a){var c=a.data.key;this[c]=a.data.newValue;c="_on"+(c.charAt(0).toUpperCase()+c.substring(1,c.length))+"Set";if(this[c]&&void 0!==a.data.newValue&&null!==a.data.newValue)this[c](a.data.newValue,a.data.oldValue)},_onPositionSet:function(a){d.set(this.domNode,{position:"absolute",
left:a.x+"px",top:a.y+"px",width:a.width+"px",height:a.height+"px"});this._noAutoSizing=!0;this._updateDataStyles()},_onBackgroundSet:function(){d.set(this.domNode,{backgroundColor:"rgb("+this.background.join(", ")+")"})},_onBorderTypeSet:function(){this._updateBorderStyles()},_onBorderWidthSet:function(){this._updateBorderStyles()},_onBorderColorSet:function(){this._updateBorderStyles()},_updateBorderStyles:function(){if("LineBorder"===this.borderType){var a={};if(this.borderColor){var c=this.borderColor.map(function(a){return Math.floor(255*
a)});a.borderColor="rgb("+c.join(",")+")"}this.borderWidth&&(a.borderWidth=this.borderWidth+"px",a.borderStyle="solid");d.set(this.domNode,a)}},_onVisibilitySet:function(){d.set(this.domNode,{display:this.visibility?"":"none"})},_onRowHeightSet:function(){this._updateDataStyles()},_preDataModelSet:function(a,c){return!(0===a._partialData.length&&(0!==a._rowCount||0!==a._columnCount))},_onDataModelSet:function(){!this.oldPagedDataRows&&this.dataModel&&(this.oldPagedDataRows={start:this.dataModel.getCurrentStartRow(),
end:this.dataModel.getCurrentEndRow()});!this.oldPagedDataCols&&this.dataModel&&(this.oldPagedDataCols={start:this.dataModel.getCurrentStartCol(),end:this.dataModel.getCurrentEndCol()});0===this.dataModel._rowCount&&(this._updatePagedData(),this.colView.changed&&this._updateColumnHeaderNames(),this._setEmptyBlockSelection());this._renderViewData(!0)},_onDataScroll:function(){this.pauseScrollEvents||this.debounceRedraw()},_renderViewData:function(a){if(this.dataModel&&this.position){this._updatePagedData();
if(!a&&this.dataModel===this.oldDataModel&&!this.rowView.changed)return;this._onViewRangeUpdated();a=this.dataModel.getPartialData().slice(this.rowView.start-this.dataModel.getCurrentStartRow(),this.rowView.end-this.dataModel.getCurrentStartRow());var c=this;this._incrementalUpdateNode({node:this.dataNode,data:a,oldData:this.oldViewData,start:this.rowView.start,end:this.rowView.end,oldStart:this.oldRowView.start,oldEnd:this.oldRowView.end,update:function(a,b,e){c._updateCell(a,c,b,e)},create:function(a){a=
c._renderCell(c,a);a.setAttribute("class","row cell");return a}});this.oldRowView=this.rowView;this.oldViewData=a;this.oldDataModel=this.dataModel}this._updateDataStyles()},_renderCell:function(a,c){var b=document.createElement("div");b.setAttribute("class","cell");var e=this._getCellType(a),d=this.cellTypes[e.type].create(e,c);b.appendChild(d);this.cellTypes[e.type].startup&&this.cellTypes[e.type].startup(d,a,c,b);return b},_updateCell:function(a,c,b,e){var d=this._getCellType(c),f;if(this.cellTypes[d.type].update){var g=
a.firstChild;(f=this.cellTypes[d.type].update(g,d,b))&&f!==g&&a.replaceChild(f,g)}else f=this.cellTypes[d.type].create(d,b),f!==a.firstChild&&a.replaceChild(f,a.firstChild);this.cellTypes[d.type].startup&&this.cellTypes[d.type].startup(f,c,b,e)},_getCellType:function(a){var c;a&&a.renderer&&"label"===a.renderer.type&&(!a.editor||"text"!==a.editor.type)?c=a.renderer:a&&a.renderer&&a.editor&&a.renderer.type===a.editor.type?c=a.renderer:a&&a.renderer&&"cell"===a.renderer.type?c=a.renderer:a&&a.editor&&
a.editor.type&&"default"!==a.editor.type&&this.cellTypes[a.editor.type]?c=a.editor:a&&a.renderer&&a.renderer.type&&this.cellTypes[a.renderer.type]?(c=g.clone(a.renderer),c.enabled=a.editable&&c.enabled):c={type:"default"};return c},_getCellFromNode:function(a){for(var c,b=-1;(!a.getAttribute("class")||0>a.getAttribute("class").indexOf("cell"))&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute("class")&&0<=a.getAttribute("class").indexOf("cell")){c=a;for(b=this.rowView.start-1;a.previousElementSibling;)b+=
1,a=a.previousElementSibling}return{node:c,row:b}},_onViewRangeUpdated:function(){},_updatePagedData:function(){var a=Math.floor(this._getScrollTop()/this.rowHeight),c=Math.floor(this.position.height/this.rowHeight),b=a+Math.floor(this.position.height/this.rowHeight);this.rowView=this._updateArrayBounds(a,a+c,this.dataModel.getCurrentStartRow(),this.dataModel.getCurrentEndRow(),this.paddingViewRows,this.toleranceViewRows,this.oldRowView,b);this.pagedDataRows=this._updateArrayBounds(a,a+c,0,this.dataModel.getRowCount(),
this.paddingPagedRows,this.tolerancePagedRows,{start:this.dataModel.getCurrentStartRow(),end:this.dataModel.getCurrentEndRow()},b);this._updateLoadingIndicator();this._doPagedDataUpdate()},_getScrollTop:function(){return this.dataScrollerNode.scrollTop},_updateLoadingIndicator:function(){var a=(this.pagedDataRows.changed||this.pagedDataCols.changed)&&(this.pagedDataRows.start!==this.dataModel.getCurrentStartRow()||this.pagedDataRows.end!==this.dataModel.getCurrentEndRow()||this.pagedDataCols.start!==
this.dataModel.getCurrentStartCol()||this.pagedDataCols.end!==this.dataModel.getCurrentEndCol());b.toggle(this.domNode,"dataLoading",a);a?this.domNode.addEventListener("contextmenu",p.preventDefaultMouseClick,!1):this.domNode.removeEventListener("contextmenu",p.preventDefaultMouseClick,!1)},_doPagedDataUpdate:function(){if((this.pagedDataRows.changed||this.pagedDataCols.changed)&&!this._requestUpdateTimeout){var a=this,c=function(){a.oldPagedDataRows=a.pagedDataRows;a.oldPagedDataCols=a.pagedDataCols;
a._requestUpdateTimeout=null;a.dataModel.updatePartialData(a.pagedDataRows.start,a.pagedDataRows.end,a.pagedDataCols.start,a.pagedDataCols.end)};0===this.pagedDataUpdateDelay?c():this._requestUpdateTimeout=setTimeout(c,this.pagedDataUpdateDelay)}},_updateArrayBounds:function(a,c,b,e,d,f,g,k){a=Math.max(a-d,b);c=Math.max(a,Math.min(c+d,e));d=!1;d=k?a===b&&a!==g.start||c===e&&c!==g.end||k>g.end||a<g.start||k>c||0===this.dataModel._partialData.length&&(0!==this.dataModel._rowCount||0!==this.dataModel._columnCount):
a===b&&a!==g.start||c===e&&c!==g.end||Math.abs(a-g.start)>f||Math.abs(c-g.end)>f;return{start:d?a:g.start,end:d?c:g.end,changed:d}},_updateDataStyles:function(){this.dataModel&&this.rowHeight&&(this.styleManager.updateStyleRules("spacerTop",{".body .spacer.topSpacer":"height: "+this.rowView.start*this.rowHeight+"px;"}),this.styleManager.updateStyleRules("dataHeight",{".spacer.dataHeight":"height: "+this.dataModel.getRowCount()*this.rowHeight+"px;",".row":"height: "+this.rowHeight+"px;",".row.verticalScrollSpacer":"height: 100%"}),
this._updateColumnStyles())},_updateColumnStyles:function(){var a=this._getCellType(this);this.styleManager.updateStyleRules("columns",{".dataColumn .cell":this._getColumnStyles(a)})},_getColumnStyles:function(a){return this.cellTypes[a.type].getColumnStyles?this.cellTypes[a.type].getColumnStyles(a):""},_incrementalUpdateNode:function(a){for(var c,b=a.node.firstElementChild,e=a.start,d=a.oldStart;null!==b.nextElementSibling&&(e<a.end||d<a.oldEnd);)b=b.nextElementSibling,d===e&&d<a.oldEnd&&e<a.end?
(a.update(b,a.data[e-a.start],a.oldData[d-a.oldStart],e),d+=1,e+=1):(e<d||e>=a.oldEnd)&&e<a.end?(c=a.create(a.data[e-a.start],e),a.node.insertBefore(c,b),b=c,e+=1):d<a.oldEnd&&(c=b.previousElementSibling,a.destroy&&a.destroy(b,d),a.node.removeChild(b),b=c,d+=1)}})})},"mw-style-utils/StyleUtils":function(){define(["dojo/_base/declare"],function(h){var a;h=h([],{constructor:function(a){this.styleGroups={};this.baseSelector=a},remove:function(){Object.keys(this.styleGroups).forEach(function(a){this["_"+
a+"Rules"]&&(this["_"+a+"Rules"].forEach(function(a){a.remove()}),delete this["_"+a+"Rules"])},this);this.styleGroups={}},updateStyleRules:function(d,b){var f=this.styleGroups[d],g=Object.keys(b),e,k=!1;if(f){var c=Object.keys(this.styleGroups[d]);if(c.length===g.length){c.sort();g.sort();for(e=0;e<c.length;e+=1)if(c[e]!==g[e]||f[g[e]]!==b[g[e]]){k=!0;break}}else k=!0}else k=!0;k&&(this.styleGroups[d]=b,f=g.map(function(c){return a.addRule(this.baseSelector+" "+c,b[c])},this),this["_"+d+"Rules"]&&
this["_"+d+"Rules"].forEach(function(a){a.remove()}),this["_"+d+"Rules"]=f)}});var g=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(g);var g=g.sheet,f=[];return a={addRule:function(a,b){var h=f.length;f[h]=g.cssRules.length;g.insertRule(a+"{"+b+"}",f[h]);var m=this;return{remove:function(){m.removeRule(h)}}},removeRule:function(a){var b=f[a];if(void 0!==b){g.deleteRule(b);for(f[a]=void 0;a<f.length;a+=1)f[a]>b&&(f[a]-=1)}},StyleManager:h}})},"variableeditor/views/table/tableBase/tableCellRenderers":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/dom-style","./TextUtils"],function(h,a,g,f){function d(){var a=document.createElement("div");a.setAttribute("class","verticalSpacer");return a}function b(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function l(a){var b=f.getTextStyleDashes(a||{});b.display=a&&!1===a.visible?"none":void 0;var c;a="";for(c in b)b.hasOwnProperty(c)&&b[c]&&(a+=c+":"+b[c]+";");return a}var m;return m={"default":{getColumnStyles:l,create:function(a,b){var c=document.createElement("div");c.setAttribute("class",
"plainText");var f=document.createElement("span");f.appendChild(document.createTextNode(b||""));c.appendChild(f);c.appendChild(d());return c},update:function(a,b,c){if("div"!==a.nodeName.toLowerCase()||!a.getAttribute("class")||"plainText"!==a.getAttribute("class"))return this.create(b,c);a.firstElementChild.firstChild.nodeValue=c}},checkbox:{getColumnStyles:l,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,
c);a.type="checkbox";!0===c||"true"===c?(a.setAttribute("checked",""),a.checked=!0):(a.removeAttribute("checked"),a.checked=!1);a.disabled=void 0===b.enabled?!1:!b.enabled},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"checkbox"===a.type)return a.checked?a.setAttribute("checked",""):a.removeAttribute("checked"),!!a.checked}},text:{getColumnStyles:l,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,
c);a.type="text";a.value=c;!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"text"===a.type)return a.value}},numeric:{getColumnStyles:l,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,c);a.type="text";a.value=c;!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===
a.nodeName.toLowerCase()&&"text"===a.type)return a.value}},color:{getColumnStyles:l,create:function(a,b){var c=document.createElement("input");this.update(c,a,b);return c},update:function(a,b,c){if("input"!==a.nodeName.toLowerCase())return this.create(b,c);a.type="text";a.value="["+c[0].toFixed(3)+", "+c[1].toFixed(3)+", "+c[2].toFixed(3)+"]";!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"text"===a.type)return a=a.value.replace(/[\s\[\]]*/g,
"").split(","),[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])]}},list:{getColumnStyles:l,create:function(a,b){var c=document.createElement("select");this.update(c,a,b);return c},update:function(a,b,c){if("select"!==a.nodeName.toLowerCase())return this.create(b,c);this._addOptions(a,b,c);a.disabled=void 0===b.enabled?!1:!b.enabled},getCellValue:function(a,b,c){if("select"===a.nodeName.toLowerCase())return b=c.listValues[a.selectedIndex],this._addOptions(a,c,b),b},_addOptions:function(a,d,c){var f,
g,h;g=!1;if(d.listValues.length===a.children.length){for(f=0;f<d.listValues.length;f+=1)if(h=a.children[f],h.value!==d.listValues[f]||h.hasAttribute("selected")!==(h.value===c)){g=!0;break}if(!g)return}b(a);for(f=0;f<d.listValues.length;f+=1)g=d.listValues[f],h=document.createElement("option"),h.value=g,h.text=g,c===g&&h.setAttribute("selected",""),a.add(h)}},label:{getColumnStyles:l,create:function(a,b){var c=document.createElement("div");c.setAttribute("class","label");this.update(c,a,b);return c},
update:function(a,f,c){if("div"!==a.nodeName.toLowerCase()||"label"!==a.getAttribute("class"))return this.create(f,c);c.background&&a.setAttribute("style","background: rgb("+c.background.join(",")+")");b(a);c.icon&&a.appendChild(c.icon.cloneNode());f=document.createElement("label");"string"===typeof c.value?this._setLabel(f,c.value):"string"===typeof c&&this._setLabel(f,c);a.appendChild(f);a.appendChild(d())},_setLabel:function(a,b){var c=b.trim();0===c.indexOf("\x3chtml\x3e")?a.innerHTML=c.substring(6,
c.length-7):a.appendChild(document.createTextNode(b))}},expand:{create:function(a,b){var c=document.createElement("div");c.setAttribute("class","expand");var d=document.createElement("div"),f=document.createElement("div");c.appendChild(d);c.appendChild(f);this.update(c,a,b);return c},update:function(a,d,c){if("div"!==a.nodeName.toLowerCase()||"expand"!==a.getAttribute("class"))return this.create(d,c);d=a.firstChild;a=d.nextElementSibling;b(d);b(a);if(c.expandable){var f=document.createElement("button");
c.expanded&&f.setAttribute("class","expanded");d.appendChild(f)}f="";for(d=0;d<c.depth;d+=1)f+="  ";a.appendChild(document.createTextNode(f+c.text))}},prop:{create:function(a,b){var c=document.createElement("div");c.setAttribute("class","prop");var d=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div");c.appendChild(d);c.appendChild(f);c.appendChild(g);this.update(c,a,b);return c},update:function(a,d,c){if("div"!==a.nodeName.toLowerCase()||"prop"!==a.getAttribute("class"))return this.create(d,
c);a=a.firstChild;d=a.nextElementSibling;var f=d.nextElementSibling;b(a);b(d);b(f);this["_"+c.leftType](a,"left",c);this["_"+c.middleType](d,"middle",c);this["_"+c.rightType](f,"right",c)},getCellValue:function(b,d,c,f){if(f&&"text"===f.middleType)return b=a.clone(f),b.middleText=d.value,b},_label:function(a,b,c){if(c[b+"Text"]){var d=document.createTextNode(c[b+"Text"]);a.appendChild(d)}this._appendIcon(a,c[b+"Icon"])},_text:function(a,b,c){var d=document.createElement("input");d.type="text";d.value=
c[b+"Text"];a.appendChild(d)},_button:function(a,b,c){var d=document.createElement("button");c[b+"Text"]&&d.appendChild(document.createTextNode(c[b+"Text"]));this._appendIcon(d,c[b+"Icon"]);a.appendChild(d)},_dropdown:function(a,b,c){var d=document.createElement("button");c[b+"Text"]&&d.appendChild(document.createTextNode(c[b+"Text"]));this._appendIcon(d,c[b+"Icon"]);a.appendChild(d)},_space:function(){},_appendIcon:function(a,b){"string"===typeof b?a.setAttribute("class",b+"Icon"):b instanceof Image&&
a.appendChild(b.cloneNode())}},cell:{create:function(a,b){var c=b&&b.renderer&&b.renderer.type,c=c&&m[c]?m[c].create(b.renderer,b.value):m["default"].create(b.renderer,b.value);this._updateNode(c,b.renderer);return c},update:function(a,b,c){if((b=c&&c.renderer&&c.renderer.type)&&m[b])if(m[b].update){if(b=m[b].update(a,c.renderer,c.value),!b){this._updateNode(a,c.renderer);return}}else b=m[b].create(c.renderer,c.value);else b=m["default"].create(c.renderer,c.value);this._updateNode(b,c.renderer);return b},
getCellValue:function(b,d,c,f){if((c=f.renderer.type)&&m[c]&&m[c].getCellValue){var g=a.clone(f);g.value=m[c].getCellValue(b,d,f.renderer,f.value);return g}},_updateNode:function(a,b){var c=b&&b.type;c&&m[c].getColumnStyles?a.setAttribute("style",m[c].getColumnStyles(b)):m["default"].getColumnStyles&&a.setAttribute("style",m["default"].getColumnStyles(b))}}}})},"variableeditor/views/table/tableBase/TextUtils":function(){define([],function(){var h={size:"fontSize",family:"fontFamily",style:"fontStyle",
weight:"fontWeight",align:"textAlign",valign:"verticalAlign",color:"color"},a={size:"font-size",family:"font-family",style:"font-style",weight:"font-weight",align:"text-align",valign:"vertical-align",color:"color"};return{getTextStyle:function(a){return this._getTextStyle(a,h)},getTextStyleDashes:function(g){return this._getTextStyle(g,a)},_getTextStyle:function(a,f){var d=null,b={Dialog:"Helvetica",DialogInput:"Monaco",Monospaced:"monospace",Serif:"serif",SansSerif:"sans-serif",Helvetica:"Helvetica"},
d=!1===a.enabled?[128,128,128]:a.fontColor,h={};h[f.size]=a.fontSize?a.fontSize+"px":void 0;h[f.family]=a.fontName?b[a.fontName]:void 0;h[f.style]=a.fontItalic?"italic":void 0;h[f.weight]=a.fontBold?"bolder":void 0;h[f.align]=a.horizontalAlignment||a.textAlign;h[f.valign]=a.verticalAlignment;h[f.color]=d?"rgb("+d.join(",")+")":"";return h}}})},"variableeditor/views/table/_VETableHeaders":function(){define("variableeditor/views/table/_VETableHeaders","dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys variableeditor/views/table/tableBase/_TableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){return h([k],{pseudoStyleForFirstColumnHeaderCell:"content: ''; position: absolute; width: 3px; left: 32px; background-color: rgb(192, 192, 192); height: 36px;",_updateHeaderStyles:function(){var a=p.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),b=p.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),c=this.getTableModelProperty("ShowHeaderIcons");this.inherited(arguments);if(this.dataModel){var e="22px;";a&&b?e=
"36px;":void 0!==c&&(e="30px;");this.pseudoStyleForFirstColumnHeaderCell="content: ''; position: absolute; width: 3px; left: 32px; background-color: rgb(192, 192, 192); height: "+e;this.styleManager.updateStyleRules("columnHeader",{".row.dataWidth.spacer":"height: "+e});this.styleManager.updateStyleRules("cornerSpaceHeader",{".inline.row.cornerSpacer.rowHeaderColumn.rowHeadersWrapper.topRowHeaderWrapper":"height: "+e});a=this._isHorizontalScrollBarShown()?this.scrollbarWidth:0;b=p.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),
!0)?e:"0px";this.styleManager.updateStyleRules("rows",{".body":"padding-top: "+b+"margin-top: "+("-"+e),".body .rowHeadersWrapper":"padding-bottom: "+a+"px;"})}},_updateCornerSpacerLabel:function(a){var b=this.getTableModelProperty("CornerSpacerTitle");if(void 0!==b){var c=document.createElement("div");p.addToClassList(c,"cornerSpacer rowHeaderColumn topRowHeaderWrapper label");var e=document.createElement("span");e.appendChild(document.createTextNode(b));c.appendChild(e);a.insertBefore(c,a.firstChild)}else if(void 0!==
a.firstChild.className&&(a=document.getElementsByClassName("cornerSpacer rowHeaderColumn topRowHeaderWrapper label"),0!==a.length))for(b=0;b<a.length;b++)a[b].parentNode.removeChild(a[b].parentNode.firstChild)},_addHeaderIconCSS:function(a,b){p.addToClassList(b,"icon");var c=n.IconTypeMap.hasOwnProperty(a)?n.IconTypeMap[a]:n.IconTypeMap.object;b.className.match(/iconVariableEditor([a-zA-Z]+)/)?b.className=b.className.replace(/iconVariableEditor([a-zA-Z]+)/,c):p.addToClassList(b,"variableEditorRenderers "+
c)}})})},"variableeditor/views/table/tableBase/_TableHeaders":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style ./tableCellRenderers variableeditor/views/table/_HeadersBase variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/table/VariableEditorColumnHeader.html dojo/text!variableeditor/views/table/VariableEditorRowHeader.html dijit/registry variableeditor/VariableEditorUtils".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){return h([l],{oldColumnData:[],
oldRowData:[],constructor:function(){this.defaultProperties=a.delegate(this.defaultProperties,{tableHeader:!1,showRowHeaders:!1,rowHeaderWidth:30,rows:[]})},_onDataScroll:function(){this.inherited(arguments);this.scrollbarWidth=c.getBrowserScrollBarWidth(this);this.columnHeaderScrollerNode.scrollLeft=this.dataScrollerNode.scrollLeft;this.rowHeaderScrollerNode.scrollTop=this.dataScrollerNode.scrollTop},_onViewRangeUpdated:function(){this.inherited(arguments);this._renderRowHeader();this._renderColumnHeader();
this._updateHeaderStyles()},_renderColumnHeader:function(){var a=this.columns.slice(this.colView.start,this.colView.end);this._updateCornerSpacerLabel(this.cornerSpacerNode);if(a.length===this.colView.end-this.colView.start){var b=this;this._incrementalUpdateNode({node:this.columnHeaderNode,data:a,oldData:this.oldColumnData,start:this.colView.start,end:this.colView.end,oldStart:0,oldEnd:this.oldColumnData.length,update:function(a,c){b._updateColumnNode(a,c)},create:function(a){return b._createColumnNode(a)}});
this.oldColumnData=a}},_updateColumnNode:function(a,b){var c=k.getEnclosingWidget(a);g.replace(a,"header_"+b.labelIndex,"header_"+c.indexValue);b.labelIndex?(c.setIndexValue(b.labelIndex),c.setIndexProperty(parseInt(b.labelIndex)-1),c.setNodeDisplay("headerIndex",!0)):c.setNodeDisplay("headerIndex",!1)},_createColumnNode:function(a){a=new b({templateString:m,indexValue:a.labelIndex?a.labelIndex:""});a.startup();a.setNodeDisplay("headerIndex",!0);return a.domNode},_renderRowHeader:function(){var a=
this.rows.slice(this.rowView.start,this.rowView.end);if(a.length===this.rowView.end-this.rowView.start){var b=this;this._incrementalUpdateNode({node:this.rowHeaderNode,data:a,oldData:this.oldRowData,start:this.rowView.start,end:this.rowView.end,oldStart:0,oldEnd:this.oldRowData.length,update:function(a,c,e,d){b._updateRowNode(a,c,e,d)},create:function(a,c){return b._createRowNode(a,c)}});this.oldRowData=a}},_updateRowNode:function(a,b,c,e){c=k.getEnclosingWidget(a);g.replace(a,"header_"+b.labelIndex,
"header_"+c.indexValue);b.labelIndex?(c.setIndexProperty(parseInt(b.labelIndex)-1),c.setIndexValue(b.labelIndex),c.setNodeDisplay("headerIndex",!0)):c.setNodeDisplay("headerIndex",!1)},_createRowNode:function(a,c){var d=this.domNode.getElementsByClassName("variableEditorRowHeaders header_"+(void 0===a?c:a.labelIndex));d.parentNode&&d.parentNode.removeChild(d);d=new b({templateString:e,indexValue:void 0===a?c:a.labelIndex});d.startup();d.setNodeDisplay("headerIndex",!0);return d.domNode},_updateHeaderStyles:function(){if(this.dataModel){this.tableHeader=
c.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0);var a=(this.showRowHeaders=c.getLogicalValue(this.getTableModelProperty("ShowRowHeaders"),!0))?this.rowHeaderWidth:0,b=this._isVerticalScrollBarShown()?this.scrollbarWidth:0,e=this._isHorizontalScrollBarShown()?this.scrollbarWidth:0,d=this.showRowHeaders?this.headerPadding:0;this.styleManager.updateStyleRules("rowHeader",{".rowHeaderColumn .row":"width: "+a+"px;",".headerWrapper":"padding-right: "+(a+d+b)+"px; margin-right: "+-(a+
d+b)+"px;",".dataBodyWrapper":"padding-right: "+(a+d)+"px; margin-right: "+-(a+d)+"px;"});a=this.tableHeader?this.rowHeight+this.headerPadding:0;this.styleManager.updateStyleRules("rows",{".body":"padding-top: "+a+"px;margin-top: "+-a+"px;",".body .rowHeadersWrapper":"padding-bottom: "+e+"px;"})}},_isVerticalScrollBarShown:function(){var a=this.tableHeader?this.rowHeight:0;return this.dataModel.getRowCount()*this.rowHeight>=this.position.height-a},_isHorizontalScrollBarShown:function(){return this.totalColumnWidth>=
this.position.width-(this.showRowHeaders?this.rowHeaderWidth:0)},_updateScrollerStyles:function(){g.toggle(this.domNode,"hideVerticalScroll",!this._isVerticalScrollBarShown());g.toggle(this.domNode,"hideHorizontalScroll",!this._isHorizontalScrollBarShown())}})})},"variableeditor/views/table/_HeadersBase":function(){define("variableeditor/views/table/_HeadersBase","dojo/_base/declare dojo/string dojo/_base/lang dojo/_base/Color dojo/dom-style variableeditor/VariableEditorUtils variableeditor/constants/TypeConstants variableeditor/views/editors/_EditorBase dojo/parser dojo/dom-construct dojo/keys dojo/on variableeditor/views/editors/TextBoxEditor variableeditor/views/renderers/_TemplateMixin dijit/layout/ContentPane variableeditor/views/renderers/_VERendererMixin dojo/i18n!variableeditor/app/l10n/nls/app dojo/text!variableeditor/views/table/DefaultHeaderTemplate.html dojo/dom-class".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v){return h("variableeditor.views.table._HeadersBase",[r,m,q],{_inputBoxIndex:null,_inputBoxLabel:null,labelValue:null,indexValue:null,CHANNEL_DuplicateRowHeader:"ErrorDuplicateRowHeader",CHANNEL_DuplicateColumnHeader:"ErrorDuplicateColumnHeader",HEADER_INDEX_ATTACH_POINT:"headerIndex",HEADER_LABEL_ATTACH_POINT:"headerLabel",HEADER_BREAK_ATTACH_POINT:"lineBreak",constructor:function(a){this.templateString=u;this.editable=!1;a&&(this._allArgs=a,this.init(a));
e.parse()},init:function(a){this._allArgs=g.mixin({},a);this.templateString=a.templateString?a.templateString:u;this.editable=a.editable||!1;this.showLabels=a.showLabels||!1;this.showIndices=a.showIndices?a.showIndices:!0;this.editOnKeyPress=a.editOnKeyPress||!1;this.editOnSingleClick=a.editOnSingleClick||!1;this.labelValue=a.labelValue?a.labelValue:"";this.indexValue=a.indexValue?a.indexValue:""},setLabelValue:function(a){this._inputBoxLabel.setValue(a);this._inputBoxLabel.setEditValue(a);this.labelValue=
this._inputBoxLabel.value=a;this._inputBoxLabel.domNode.querySelector("input").setAttribute("value",this._inputBoxLabel.domNode.querySelector("input").value)},setIndexValue:function(a){this._inputBoxIndex.setValue(a);this.indexValue=this._inputBoxIndex.value=a},setIndexProperty:function(a){this._inputBoxIndex.index=a;this._inputBoxLabel.index=a},setNodeDisplay:function(a,b){var c=this._getAttachNode(a);c&&(b?d.set(c,"display",""):d.set(c,"display","none"));a===this.HEADER_INDEX_ATTACH_POINT?this.showIndices=
b:a===this.HEADER_LABEL_ATTACH_POINT&&(this.showLabels=b)},_isValidHeaderName:function(a){return 0<a.length},_handleError:function(c){var e=this._inputBoxLabel,d=e._value;e._revert();c?b.displayErrorMessage(c):b.displayErrorMessage(a.substitute(t.duplicateVariableNames,{varName:"'"+d+"'"}))},postCreate:function(){this._setupInputBoxIndex();this._setupInputBoxLabel()},_setupInputBoxIndex:function(){var a=this._getAttachNode(this.HEADER_INDEX_ATTACH_POINT);a&&(this._inputBoxIndex=new p({value:this.indexValue,
index:parseInt(this.indexValue)-1}),h.safeMixin(this._inputBoxIndex,new s),this._inputBoxIndex.addCSSClasses("NonEditableHeader"),k.place(this._inputBoxIndex.domNode,a,"last"),v.add(this.domNode,"header_"+this.indexValue))},_setupInputBoxLabel:function(){var a=this._getAttachNode(this.HEADER_LABEL_ATTACH_POINT);a&&(this._inputBoxLabel=new p({value:this.labelValue,editable:this.editable,editOnKeyPress:this.editOnKeyPress,editOnSingleClick:this.editOnSingleClick,index:parseInt(this.indexValue)-1}),
h.safeMixin(this._inputBoxLabel,new s),this._setEditable(this._inputBoxLabel,this.editable),k.place(this._inputBoxLabel.domNode,a,"last"))},_setEditable:function(a,b){a.setEditable(b);(a._commitOnBlur=b)?(a.setInPlaceEditor(a),a.removeCSSClasses("NonEditableHeader"),a.addCSSClasses("EditableHeader")):(a.setInPlaceEditor(""),a.removeCSSClasses("EditableHeader"),a.addCSSClasses("NonEditableHeader"))},_setReadOnly:function(a){}})})},"variableeditor/views/editors/_EditorBase":function(){define("variableeditor/views/editors/_EditorBase",
"dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/keys dojo/dom-class dojo/dom-construct dojo/dom dijit/focus variableeditor/views/renderers/_RendererBase mw-peermodel/Observable".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){return h("variableeditor.views.editors._EditorBase",[k,c.Impl],{_renderer:void 0,_editing:!1,_commitOnBlur:!0,_originalValue:void 0,_originalState:void 0,_blurListeners:void 0,_notEditableCSSClass:"venoteditable",constructor:function(a){this._editing=!1;this._commitOnBlur=
!0;this._renderer=void 0;a&&this.init(a);this._blurListeners={}},destroy:function(){this.inherited(arguments);this.commitOnBlur=this._commitOnBlur=null;delete this._allArgs.commitOnBlur;this._allArgs.commitOnBlur=null},init:function(b){b&&(this._allArgs=a.mixin({},b),this._renderer=b.renderer||this,this._commitOnBlur=void 0!==b.commitOnBlur?b.commitOnBlur:void 0!==b.editable?b.editable:!0,this._originalValue=b.value,this._originalState=b.state,this._value=b.value,this._state=b.state,this._editable=
this._getPossibleBooleanFunctionValue(b.editable));this.inherited(arguments)},setRenderer:function(a){this._renderer=a},postCreate:function(){this.inherited(arguments)},_setupBlurListener:function(){this._changeObjectListenersState(this._blurListeners,"remove");var a=g(e,"widget-blur",this._handleBlurEvent.bind(this));this._blurListeners.widgetBlur=a},_handleBlurEvent:function(a){a===this&&(this._clickCount=0,this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&this._editing?this.stopEditing():
this._editing&&this.cancelEditing())},_changeListenerState:function(a){a&&"string"===typeof a&&(this.inherited(arguments),this._changeObjectListenersState(this._blurListeners,a))},_handleMouseEvent:function(a){if(this._renderer===this)this.inherited(arguments);else{var b=a;b.renderer=this;this.dispatchEvent(a.type,this,b);a.stopPropagation()}},_handleKeyboardEvent:function(a){this.isEditing()||this.inherited(arguments)},_focus:function(a){a&&a.isFocusable&&a.isFocusable()&&a.focusNode?e.focus(a.focusNode):
a&&(a.domNode&&a.domNode.focus)&&a.domNode.focus()},_swapOutRenderer:function(){this._renderer&&this._renderer!==this&&(this._renderer.domNode&&this.domNode)&&(l.place(this.domNode,this._renderer.domNode,"replace"),this._resumeListeners());(!this.application||"EmbeddedInspectorInRichEditor"!==this.application)&&this._focus(this)},_swapInRenderer:function(){this._renderer&&this._renderer!==this&&(this._renderer.domNode&&this.domNode)&&(l.place(this._renderer.domNode,this.domNode,"replace"),this._pauseListeners());
(!this.application||"EmbeddedInspectorInRichEditor"!==this.application)&&this._focus(this._renderer)},edit:function(){this._editing||(this.addCSSClasses("Editing"),this._originalValue=this._value,this._originalState=this.getState(),this._editing=!0,this._swapOutRenderer(),this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state}));this._changeObjectListenersState(this._mouseListeners,"pause");this._setupBlurListener();this._keyboardListeners.keypress.pause()},
editOverride:function(a){this._editing||(this.addCSSClasses("Editing"),this._originalValue=this._value,this._originalState=this.getState(),this._editing=!0,this._swapOutRenderer(),this.dispatchEvent("editingStarted",this,{editor:this,overrideValue:a,currentValue:this._value,currentState:this._state}));this._changeObjectListenersState(this._mouseListeners,"pause");this._setupBlurListener();this._keyboardListeners.keypress.pause()},stopEditing:function(){this._editing&&(this.removeCSSClasses("Editing"),
this._commit(),this._clickCount=0,this._originalState=this.getState(),this._editing=!1,this._swapInRenderer(),this.dispatchEvent("editingStopped",this,{editor:this,value:this._value,state:this._state}));this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._blurListeners,"remove");this._keyboardListeners.keypress.resume()},cancelEditing:function(){this._editing&&(this.removeCSSClasses("Editing"),this._value=this._originalValue,this._state=this._originalState,
this.dispatchEvent("editingCanceled",this,{editor:this}),this.stopEditing())},isEditing:function(){return this._editing},setEditable:function(a){this._getPossibleBooleanFunctionValue(this._editable)!==this._getPossibleBooleanFunctionValue(a)&&(this._editable=a,a=this._getPossibleBooleanFunctionValue(this._editable),this.domNode&&(a||this.isEditing()&&this.cancelEditing(),this._setReadOnly(!a)))},_getUIValue:function(){return"Method must be overridden"},_setUIValue:function(){return"Method must be overridden"},
_commit:function(){var a=this._getUIValue();null!==a&&void 0!==a&&this.hasValueChanged(a)?this.setValue(a,"client"):this._setUIValue(this._originalValue)},_revert:function(){this._setUIValue(this._originalValue);this._value=this._originalValue;this._state=this._originalState}})})},"variableeditor/views/renderers/_RendererBase":function(){define("variableeditor/views/renderers/_RendererBase","dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/keys dojo/dom-class dojo/dom dijit/focus dijit/_WidgetBase variableeditor/constants/ClassTypeMaps variableeditor/constants/CssClassConstants variableeditor/VariableEditorUtils mw-log/Log mw-peermodel/Observable".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h("variableeditor.views.renderers._RendererBase",[e,q.Impl],{_editable:!1,_editOnSingleClick:!1,_editOnKeyPress:!0,_editor:void 0,_inPlaceEditor:void 0,_value:void 0,_editValue:void 0,_state:void 0,_mouseListeners:{},_keyboardListeners:{},_allArgs:{},_lastEditTimeStamp:(new Date).getTime(),_clickCount:0,_doubleClickTimer:void 0,_doubleClickDuration:300,_editorListenersPaused:!1,_rendererBlurListeners:null,constructor:function(b){this._editOnSingleClick=
this._editable=!1;this._editOnKeyPress=!0;this._state=this._editValue=this._value=this._inPlaceEditor=this._editor=void 0;this._mouseListeners={};this._keyboardListeners={};this._allArgs=a.mixin({},b);this._lastEditTimeStamp=(new Date).getTime();this._clickCount=0;b&&this.init(b)},init:function(a){a&&(this.setEditable(void 0!==a.editable?this._getPossibleBooleanFunctionValue(a.editable,!1):!1),this.setEditOnSingleClick(void 0!==a.editOnSingleClick?this._getPossibleBooleanFunctionValue(a.editOnSingleClick,
!1):!1),this.setEditOnKeyPress(void 0!==a.editOnKeyPress?this._getPossibleBooleanFunctionValue(a.editOnKeyPress,!0):!0),this.setValue(a.value),this.setEditValue(a.editValue),this.setState(a.state),this.setInPlaceEditor(a.inPlaceEditor),this.setEditor(a.editor))},postCreate:function(){this._setupKeyboardListeners();this._setupMouseListeners();void 0!==this._allArgs.value&&this.setValue(this._allArgs.value);void 0!==this._allArgs.state&&this.setState(this._allArgs.state);void 0!==this._allArgs.cssSpecifier&&
this.addCSSClasses(this._allArgs.cssSpecifier)},destroy:function(){this._removeListeners();this._editor&&void 0===this._editor._destroyed&&(this._editor.destroy(),this._editor=null);this._inPlaceEditor=this._renderer=null;this._rendererBlurListeners&&this._rendererBlurListeners.widgetBlur&&(this._rendererBlurListeners.widgetBlur.remove(),delete this._rendererBlurListeners.widgetBlur,this._rendererBlurListeners=null,delete this._rendererBlurListeners);this.inherited(arguments)},_setupRendererBlurListeners:function(){var b=
a.hitch(this,"_handleRendererBlurEvent");this._rendererBlurListeners={widgetBlur:g.pausable(m,"widget-blur",b)}},_handleRendererBlurEvent:function(a){a===this&&(this._clickCount=0,this._rendererBlurListeners&&this._rendererBlurListeners.widgetBlur&&(this._rendererBlurListeners.widgetBlur.remove(),this._rendererBlurListeners=null))},_setupMouseListeners:function(){this._changeObjectListenersState(this._mouseListeners,"remove");var b=a.hitch(this,"_handleMouseEvent");this._mouseListeners.mousedown=
g.pausable(this.domNode,"mousedown",b);this._mouseListeners.mouseup=g.pausable(this.domNode,"mouseup",b);this._mouseListeners.click=g.pausable(this.domNode,"click",b);this._mouseListeners.dblclick=g.pausable(this.domNode,"dblclick",b);this._mouseListeners.mousemove=g.pausable(this.domNode,"mousemove",b);this._mouseListeners.mouseover=g.pausable(this.domNode,"mouseover",b);this._mouseListeners.mouseout=g.pausable(this.domNode,"mouseout",b);this._mouseListeners.mouseenter=g.pausable(this.domNode,"mouseenter",
b);this._mouseListeners.mouseleave=g.pausable(this.domNode,f.leave,b)},_handleMouseEvent:function(b){b.renderer=this;this.dispatchEvent(b.type,this,b);"dblclick"===b.type&&(!b.metaKey&&!b.ctrlKey)&&(this._doubleClickTimer&&(clearTimeout(this._doubleClickTimer),this._doubleClickTimer=void 0),this._edit(),this._clickCount=0);"mouseup"===b.type&&(this._setupRendererBlurListeners(),!this._editOnSingleClick&&this._inPlaceEditor===this&&this._focus());if(this.isEditable()){if("mouseup"===b.type){if(this._handleMouseUp){!this._editOnSingleClick&&
this._inPlaceEditor===this&&this._handleMouseUp();return}b.stopPropagation()}if("click"===b.type){this._clickCount+=1;var c=a.hitch(this,this._delayedInPlaceEdit);this._editOnSingleClick?void 0===this._doubleClickTimer&&(!b.metaKey&&!b.ctrlKey)&&(this._doubleClickTimer=setTimeout(c,this._doubleClickDuration)):void 0===this._doubleClickTimer&&2===this._clickCount&&(!b.metaKey&&!b.ctrlKey)&&(this._doubleClickTimer=setTimeout(c,this._doubleClickDuration));b.stopPropagation()}("mousedown"===b.type||"dblclick"===
b.type)&&b.stopPropagation()}},_delayedInPlaceEdit:function(){this._inPlaceEdit();this._doubleClickTimer=void 0;this._clickCount=0},_edit:function(){var a=(new Date).getTime()-this._lastEditTimeStamp>=this._doubleClickDuration;this._editor&&this._editor.edit&&(!this.isEditing()||!a)?(this._editor!==this&&(this._editor.setValue(this._value),this._editor.setEditValue(this._editValue),this._editor.setState(this._state)),this._editor.edit(),this._lastEditTimeStamp=(new Date).getTime()):this._inPlaceEdit()},
edit:function(){this._inPlaceEditor?this._inPlaceEdit():this._edit()},stopEditing:function(){this.isEditing()&&(this._inPlaceEditor&&this._inPlaceEditor.stopEditing&&this._inPlaceEditor.stopEditing(),this._editor&&this._editor.stopEditing&&this._editor.stopEditing())},cancelEditing:function(){this.isEditing()&&(this._inPlaceEditor&&this._inPlaceEditor.cancelEditing&&this._inPlaceEditor.cancelEditing(),this._editor&&this._editor.cancelEditing&&this._editor.cancelEditing())},_inPlaceEdit:function(){this.isEditable()&&
(this._inPlaceEditor&&this._inPlaceEditor.edit&&!this.isEditing())&&(this._inPlaceEditor!==this&&(this._editorListenersPaused=!0,this._inPlaceEditor.setValue(this._value),this._inPlaceEditor.setEditValue(this._editValue),this._inPlaceEditor.setState(this._state),this._editorListenersPaused=!1),this._lastEditTimeStamp=(new Date).getTime(),this._inPlaceEditor.edit())},_setupKeyboardListeners:function(){this._changeObjectListenersState(this._keyboardListeners,"remove");var b=a.hitch(this,"_handleKeyboardEvent");
this._keyboardListeners.keydown=g.pausable(this.domNode,"keydown",b);this._keyboardListeners.keyup=g.pausable(this.domNode,"keyup",b);this._keyboardListeners.keypress=g.pausable(this.domNode,"keypress",b)},_handleKeyboardEvent:function(a){a.renderer=this;this.dispatchEvent(a.type,this,a);if(this.isEditable()&&this._isValidKeyDownEvent(a)&&this.isEditOnKeyPress()){var b=this._getKeyCode(a);this._inPlaceEditor&&(this._inPlaceEditor.editOverride&&null!==b&&b!==d.ENTER)&&(this._inPlaceEditor.editOverride(this._getStringForEvent(a)),
a.preventDefault())}8===this._getKeyCode(a)&&a.preventDefault()},_setupEventListeners:function(b){this.addEventListener&&(this.addEventListener("valueChanged",a.hitch(b,b.onValueChanged)),this.addEventListener("editingStarted",a.hitch(b,b.onEditingStarted)),this.addEventListener("editingStopped",a.hitch(b,b.onEditingStopped)),this.addEventListener("mousedown",a.hitch(b,b.onMouseDown)),this.addEventListener("mouseenter",a.hitch(b,b.onMouseEnter)),this.addEventListener("mouseup",a.hitch(b,b.onMouseUp)))},
setEditable:function(a){this._editable=a},_getPossibleBooleanFunctionValue:function(a,b){if("function"===typeof a)return a.call(this,this._state,this._value);void 0===b&&(b=!0);return n.getLogicalValue(a,b)},isEditable:function(){return this._getPossibleBooleanFunctionValue(this._editable)},setEditOnSingleClick:function(a){this._editOnSingleClick=a},isEditOnSingleClick:function(){return this._getPossibleBooleanFunctionValue(this._editOnSingleClick)},setEditOnKeyPress:function(a){this._editOnKeyPress=
a},isEditOnKeyPress:function(){return this._getPossibleBooleanFunctionValue(this._editOnKeyPress)},setEditor:function(a,b){var c=this;a===this?this._editor=this:this._createEditor(a,"_editor",function(a){c._editor=a.editor;c._setupEditorListeners("_editor");b&&"function"===typeof b&&b({renderer:a.renderer,editor:a.editor})})},getEditor:function(){return this._editor},setInPlaceEditor:function(a,b){var c=this;a===this?this._inPlaceEditor=this:""===a||null===a||void 0===a?this._setReadOnly&&this._setReadOnly(!0):
this._createEditor(a,"_inPlaceEditor",function(a){c._inPlaceEditor=a.editor;c._setupEditorListeners("_inPlaceEditor");b&&"function"===typeof b&&b({renderer:a.renderer,inPlaceEditor:a.editor})})},getInPlaceEditor:function(){return this._inPlaceEditor},_createEditor:function(b,c,e){if(b&&"string"===typeof b){var d=this;try{require([b],function(b){try{if(d.isInstanceOf(b))d[c]=d,d._renderer=d;else{var f=d[c];if(f&&f.isInstanceOf(b))f.setValue(d._value),f.setEditValue(d._editValue),f.setState(d._state);
else{var g=a.mixin(d._allArgs,{renderer:d,value:d.getValue(),state:d._state,inPlaceEditor:void 0,editor:void 0}),h=new b(g);h.startup&&h.startup();d.own(h);d._createEditor(h,c,e)}}}catch(k){p.error(k)}})}catch(f){p.error(f)}}else e&&"function"===typeof e&&e({renderer:this,editor:b})},_setupEditorListeners:function(b){if(b=this[b])b.addEventListener("valueChanged",a.hitch(this,"_editorValueChanged")),b.addEventListener("stateChanged",a.hitch(this,"_editorStateChanged")),b.addEventListener("editingStarted",
a.hitch(this,"_handleEditorEditingStarted")),b.addEventListener("editingStopped",a.hitch(this,"_handleEditorEditingStopped")),b.addEventListener("editingCanceled",a.hitch(this,"_handleEditorEditingCanceled"))},_handleEditorEditingStarted:function(b){b=a.mixin(b.data,{renderer:this});this.dispatchEvent("editingStarted",this,b);this._changeObjectListenersState(this._mouseListeners,"pause");this._changeObjectListenersState(this._keyboardListeners,"pause")},_handleEditorEditingStopped:function(b){b=a.mixin(b.data,
{renderer:this});this.dispatchEvent("editingStopped",this,b);this._clickCount=0;this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._keyboardListeners,"resume")},_handleEditorEditingCanceled:function(b){b=a.mixin(b.data,{renderer:this});this.dispatchEvent("editingCanceled",this,b);this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._keyboardListeners,"resume")},_editorValueChanged:function(a){this._editorListenersPaused||
this.setValue(a.data.newValue)},_editorStateChanged:function(a){this._editorListenersPaused||this.setState(a.data.newState)},setValue:function(a,b,c){n.compareValues(this._value,a)||(void 0===b&&(b="client"),this._originalValue=c=this._value,this._value=a,this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setValue)&&this._inPlaceEditor.setValue(a),this.dispatchEvent("valueChanged",this,{renderer:this,oldValue:c,newValue:a,source:b}))},getValue:function(){return this._value},hasValueChanged:function(a){return this._originalValue!==
a&&this._editValue!==a},setEditValue:function(a,b){if(JSON.stringify(this._editValue)!==JSON.stringify(a)){var c=this._editValue;this._editValue=a;void 0===b&&(b="client");this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setEditValue)&&this._inPlaceEditor.setEditValue(a);this.dispatchEvent("editValueChanged",this,{renderer:this,oldValue:c,newValue:a,source:b})}},getEditValue:function(){return this._editValue},setState:function(a,b){if(JSON.stringify(this._state)!==JSON.stringify(a)){var c=
this.getState();this._state=a;this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setState)&&this._inPlaceEditor.setState(a);this._editor&&(this._editor!==this&&this._editor.setState)&&this._editor.setState(a);void 0===b&&(b="client");this.dispatchEvent("stateChanged",this,{renderer:this,oldState:c,newState:a,source:b})}},getState:function(){void 0===this._state&&(this._state=this._getDefaultState());return this._state},_pauseListeners:function(){this._changeListenerState("pause")},
_resumeListeners:function(){this._changeListenerState("resume")},_removeListeners:function(){this._changeListenerState("remove");this._mouseListeners={};this._keyboardListeners={}},_changeListenerState:function(a){a&&"string"===typeof a&&(this._changeObjectListenersState(this._mouseListeners,a),this._changeObjectListenersState(this._keyboardListeners,a))},_changeObjectListenersState:function(a,b){if(a)for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];if(e&&e[b])e[b]()}},_applyCssClass:function(a,
b,e,d){a=n.getClassNameForIconList(void 0===a?"object":a);d||(d=this.domNode);this.removeCSSClasses(k.ClassArray,d);b?(this.addCSSClasses(c.MGG_CELL,d),this.addCSSClasses(c.TEMPORARY,d)):(this.addCSSClasses(c.VE_RENDERERS,d),e?(k.IconTypeMap.hasOwnProperty(a)?n.addToClassList(d,k.IconTypeMap[a]):n.addToClassList(d,k.IconTypeMap.object),this.addCSSClasses("icon",d)):(this.addCSSClasses(c.MGG_CELL,d),this.addCSSClasses(k.ClassTypeMap[a],d)))},createDataTag:function(){return n.createDataTag("views",
"renderers",arguments)},_isValidKeyDownEvent:function(a){var b=this._getOriginalKeyCode(a);return 64<b&&91>b&&(a.ctrlKey||a.metaKey)?!1:47<b&&58>b||32===b||13===b||64<b&&91>b||95<b&&112>b||185<b&&193>b||218<b&&223>b&&b!==d.CTRL&&b!==d.META},_getKeyCode:function(a){a=this._getOriginalKeyCode(a);95<a&&106>a&&(a-=48);return a},_getOriginalKeyCode:function(a){return a.which?a.which:a.keyCode?a.keyCode:a.charCode?a.charCode:a.key?a.key:null},_getStringForEvent:function(a){var b=this._getKeyCode(a);222===
a.which&&0===a.charCode&&(b=39);if(190===b||110===b)b=46;b=String.fromCharCode(b);b=b.trim();a.shiftKey||(b=b.toLocaleLowerCase());return b},addCSSClasses:function(a,c){if(a)if(c||(c=this.domNode),Array.isArray(a))for(var e=0;e<a.length;e+=1)b.add(c,a[e]);else b.add(c,a)},removeCSSClasses:function(a,c){if(a)if(c||(c=this.domNode),Array.isArray(a))for(var e=0;e<a.length;e+=1)b.remove(c,a[e]);else b.remove(c,a)},replaceCSSClasses:function(a,b,c){c||(c=this.domNode);a&&this.removeCSSClasses(a,c);b&&
this.addCSSClasses(b,c)},_getDefaultState:function(){return{}},isEditing:function(){var a=this.isEditable(),b=this._editor&&this._editor.isEditing&&this._editor.isEditing(),c=this._inPlaceEditor&&this._inPlaceEditor.isEditing&&this._inPlaceEditor.isEditing();return a&&(b||c)},_setReadOnly:function(a){},getStyleNode:function(a){return this.domNode}})})},"variableeditor/views/editors/TextBoxEditor":function(){define("variableeditor/views/editors/TextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dojo/on dojo/dom-class variableeditor/VariableEditorUtils variableeditor/constants/CssClassConstants variableeditor/views/editors/_EditorBase mw-form/TextField dijit/focus".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){return h("variableeditor.views.editors.TextBoxEditor",[e],{_inputBox:void 0,_removeQuotes:!1,_originalEditValue:void 0,formattedVal:"",setValue:function(a,b,c){a=this._applyFormatting(a,b);if(a===this._value)this._value=""+this._value;else{var e=c||this.formattedVal?c||this.formattedVal:a;this.formattedVal=null;a&&a.hasOwnProperty("value")&&(e=a.value);this._inputBox&&this._setUIValue(e);l.compareValues(this._value,e)||this.inherited(arguments)}},startup:function(){this._setReadOnly(!0)},
setEditValue:function(a,b,c){a=this._applyFormatting(a,b);if(!l.compareValues(this._editValue,a)){this.inherited(arguments);var e=this._editValue;this._editValue=c||this.formattedVal?c||this.formattedVal:a;this.formattedVal=null;void 0===b&&(b="client");this.dispatchEvent("editValueChanged",this,{renderer:this,oldValue:e,newValue:a,source:b})}},setState:function(a){this.domNode&&(this._inputBox||this._setupInputNode(),this._setupDomClasses(a),this._inputBox.inputNode.setAttribute("data-tag",this.createDataTag("value")),
this.inherited(arguments),void 0!==a.isMetaData&&(this._state.isMetaData=l.getLogicalValue(a.isMetaData,!1)),this._state.isMetaData&&(this._commitOnBlur=!1),void 0===a.doCommitEmptyMetaData&&(this._state.doCommitEmptyMetaData=!0))},_setupDomClasses:function(a){var b=a?a.dataType?a.dataType:a["class"]?a["class"]:"char":"char",c=a?a.isTemporaryValue:!1;a=l.getLogicalValue(a?a.isMetaData:!1,!1);this._applyCssClass(b,c,!1,this._inputBox.domNode);this._applyCssClass(b,c,!1,this._inputBox.inputNode);this.addCSSClasses("cellRenderer",
this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode);g.set(this._inputBox.inputNode,"width","inherit");a&&l.addToClassList(this._inputBox.inputNode,m.IS_METADATA)},_handleKeyboardEvent:function(a){if(this.isEditing()){"keypress"===a.type?this._handleKeyPress(a):"keydown"===a.type&&this._handleKeyDown(a);var b=a;b.editor=this;this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},
_handleStringFormatting:function(a){var b=this.getCursorPosition(),c=this._getUIValue(),e=null;this._handleFormatting?e=this._handleFormatting(b,c,a):this._state&&(this._state.dataType&&"string"===this._state.dataType)&&(e=l.handleFormatting(b,c,a));e&&(a=l.formatString(e,"client"),this.formattedVal=e,this._setUIValue(a),this.setCursorPosition(b[0]+1,b[0]+1))},_handleKeyDown:function(a){if(a){var b=this._getKeyCode(a);null!==b&&b===f.ESCAPE?(this.cancelEditing(),a.preventDefault()):b===f.TAB?this._handleStringFormatting("tab"):
null!==b&&b===f.ENTER&&(a.altKey?this._handleStringFormatting("newLine"):(this.formattedVal&&(this.setValue(this.formattedVal,"client",this._getUIValue()),this.formattedVal=""),this.stopEditing(),this.addCSSClasses("Editing"),this._setupBlurListener(),a.preventDefault()))}},_handleKeyPress:function(a){if(a){var b=this._getKeyCode(a);null!==b&&b===f.ENTER&&(this.stopEditing(),a.preventDefault())}},_handleMouseUp:function(){this.isEditable()&&this.isEditOnSingleClick()&&this._setReadOnly(!1);this._focus()},
_setupInputNode:function(){this._inputBox=new k({readOnly:!0,value:this._value,editable:this._allArgs.editable});this.own(this._inputBox);this._setupInputNodeListeners(this._inputBox);this._inputBox._handleEnterKey=function(){};this.domNode.appendChild(this._inputBox.domNode);this.focusNode=this._inputBox.focusNode},_editOnFocus:function(){!this.isEditing()&&(this.isEditOnSingleClick()&&this.isEditable())&&(this._inPlaceEditor===this||!this._inPlaceEditor?this.edit():this._inPlaceEditor&&this._inPlaceEditor.edit&&
this._inPlaceEditor.edit())},_setupInputNodeListeners:function(){var b=this,e=a.hitch(this,"_handleKeyboardEvent");this._inputNodeListeners={};this._inputNodeListeners.keypress=d(this._inputBox.domNode,"keypress",e);this._inputNodeListeners.keydown=d(this._inputBox.domNode,"keydown",e);this._inputNodeListeners.mouseup=this._inputBox.on("mouseup",function(){var a=b._inputBox.inputNode.selectionStart,c=b._inputBox.inputNode.selectionEnd;b._inputBox.set("cursorPosition",[a,c]);b.set("cursorPosition",
[a,c])});this._inputNodeListeners.focus=c.on("widget-focus",function(a){a===b._inputBox&&b._editOnFocus()})},getCursorPosition:function(){return[l.getSelectionStart(this._inputBox.inputNode),l.getSelectionEnd(this._inputBox.inputNode)]},setCursorPosition:function(a,b){l.selectRange(this._inputBox.inputNode,a,b)},_getDefaultState:function(){return{isMetaData:!1,doCommitEmptyMetaData:!0,editorValue:""}},postCreate:function(){this._inputBox||this._setupInputNode();this.inherited(arguments)},stopEditing:function(){this.isEditing()&&
(this._setReadOnly(!0),this.setCursorPosition(-1,-1),this.inherited(arguments))},edit:function(){if(!this.isEditing()){this._setReadOnly(!1);this.inherited(arguments);this._editValue?(this._setUIValue(this._editValue),this.setCursorPosition(this._editValue.length,this._editValue.length)):this.setCursorPosition(this._value.length,this._value.length);var a=this._getUIValue();void 0!==a&&(null!==a&&"undefined"!==a)&&this.setCursorPosition(a.length,a.length);this.getState().isMetaData&&this._setUIValue("");
!1===this._editOnSingleClick&&l.selectAllText(this._inputBox.inputNode)}},editOverride:function(a){this.isEditing()||(this._setReadOnly(!1),this.inherited(arguments),this._setUIValue(a),this.setCursorPosition(a.length,a.length))},cancelEditing:function(){this.isEditing()&&(this.formattedVal&&(this.formattedVal=""),this._setUIValue(this._originalValue),this.inherited(arguments))},hasValueChanged:function(a){var b=this.inherited(arguments),c=this._getPossibleBooleanFunctionValue(this.getState().isMetaData),
e=this._getPossibleBooleanFunctionValue(this.getState().doCommitEmptyMetaData);!0===c&&!1===e&&(b=b&&""!==a);return b},_commit:function(){if(this.formattedVal)this.setValue(this.formattedVal,"client",this._getUIValue()),this.formattedVal="";else{var a=this._getUIValue();null!==a&&void 0!==a&&this.hasValueChanged(a)?(this.setValue(a,"client"),this._originalEditValue=this._editValue,this._editValue=a):this._setUIValue(this._originalValue)}},_revert:function(){this.inherited(arguments);this._editValue=
this._originalEditValue},_getUIValue:function(){return this._inputBox.inputNode.value},_setUIValue:function(a){a!==this._getUIValue("value")&&(this._inputBox.set("value",a+" "),Array.isArray(a)&&0===a.length&&(a="[ ]"),this._inputBox.set("value",a))},setEditable:function(a){this.inherited(arguments);this._inputBox&&(this._inputBox.set("editable",this.isEditable()),this.isEditable()?this.removeCSSClasses(this._notEditableCSSClass,this._inputBox.inputNode):this.addCSSClasses(this._notEditableCSSClass,
this._inputBox.inputNode))},_setReadOnly:function(a){this._inputBox&&(!0===a?this._inputBox.set("readOnly",!0):this._inputBox.set("readOnly",!1))},_focus:function(){this._inputBox&&this._inputBox.focusNode&&this._inputBox.focusNode.focus&&c.curNode!==this._inputBox.focusNode&&c.focus(this._inputBox.focusNode)},setRemoveQuotes:function(a){this._removeQuotes=a},getRemoveQuotes:function(){return this._getPossibleBooleanFunctionValue(this._removeQuotes,!1)},_applyFormatting:function(a,b){var c=a;if("server"===
b){if(!0===this.getRemoveQuotes())c=l.stripOuterSingleQuotes(a);else{var e=l.stripOuterSingleQuotes(a);a!==e&&(c="'"+e.replace(/\'/g,"''")+"'")}this._state&&"string"===this._state.dataType&&(this.formattedVal=l.formatString(a,b))}return c},getStyleNode:function(a){return"backgroundColor"===a?this.domNode:this.focusNode},destroy:function(){this._changeObjectListenersState(this._inputNodeListeners,"remove");this.inherited(arguments)},_handleBlurEvent:function(a){a===this&&(this.removeCSSClasses("Editing"),
this.inherited(arguments))}})})},"variableeditor/views/renderers/_TemplateMixin":function(){define("variableeditor/views/renderers/_TemplateMixin",["dojo/_base/declare","dojo/_base/lang","dijit/_TemplatedMixin"],function(h,a,g){return h("variableeditor.views.renderers._TemplateMixin",[g],{_getAttachNode:function(a){a=this._getAttachNodes(a);return null===a?null:a[0]},_getAttachNodes:function(a){return!this.domNode?null:(a=this.domNode.querySelectorAll('[data-datatools-renderer-attach-point\x3d"'+
a+'"]'))&&a.length&&0<a.length?a:null}})})},"variableeditor/views/renderers/_VERendererMixin":function(){define("variableeditor/views/renderers/_VERendererMixin","dojo/_base/declare dojo/_base/lang mw-log/Log variableeditor/VariableEditorUtils variableeditor/views/renderers/_TooltipMixin variableeditor/views/renderers/_VERendererStyleMixin".split(" "),function(h,a,g,f,d,b){return h("variableeditor.views.renderers._VERendererMixin",[d,b],{_setRendererProperties:function(a,b,e){if(!a.isInvalidCache){var d=
this.getCellIndices(a),c=d.row,d=d.column;this.setRow&&this.setRow(c);this.setColumn&&this.setColumn(d);this.setToolTipText&&this.setToolTipText(b.getCellPropertyValue(c,d,"tooltip",a),e);this.updateCellStyles&&this.updateCellStyles(c,d,a,b);this.setEditable&&this.setEditable(f.getLogicalValue(b.getCellPropertyValue(c,d,"Editable",a)));this.setRemoveQuotes&&this.setRemoveQuotes(b.getCellPropertyValue(c,d,"RemoveQuotedStrings",a));this.setEditorConverter&&this.setEditorConverter(b.getCellPropertyValue(c,
d,"EditorConverter",a));this.setValue&&this.setValue(b.getCellPropertyValue(c,d,"value",a),e);this.setEditValue&&this.setEditValue(b.getCellPropertyValue(c,d,"editValue",a),e);this.getState&&(e=this.populateRendererState(c,d,a,b),this.setState(e));this.setInPlaceEditor&&this.setInPlaceEditor(b.getCellPropertyValue(c,d,"inplaceeditor",a));this.setEditor&&this.setEditor(b.getCellPropertyValue(c,d,"editor",a))}},populateRendererState:function(a,b,e,d){var c=this.getState();if(void 0!==c)for(var f in c)c[f]=
d.getCellPropertyValue(a,b,f,e);else c={};c.dataType=d.getCellPropertyValue(a,b,"class",e);return c},getCellIndices:function(a){var b=-1,e=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(e=parseInt(a.col));return{row:b,column:e}},_setupDOMRowCol:function(a){var b=a.row;a=a.column;this.domNode&&(0<=b&&0<=a)&&(this.domNode.setAttribute("data-row",b),this.domNode.setAttribute("data-col",a),f.addToClassList(this.domNode,"row_"+b),f.addToClassList(this.domNode,"col_"+a))}})})},"variableeditor/views/renderers/_TooltipMixin":function(){define("variableeditor/views/renderers/_TooltipMixin",
["dojo/_base/declare","dojo/on","dijit/Tooltip"],function(h,a,g){return h("variableeditor.views.renderers._TooltipMixin",[],{_tooltipWidget:null,setToolTipText:function(a){void 0!==a&&(null!==a&&""!==a)&&(this._tooltip=a,this._updateTooltip())},_getTooltipText:function(){var a="";this._tooltip&&(a="function"===typeof this._tooltip?this._tooltip():this._tooltip);return a},_getNewTooltip:function(a,d){return new g({connectId:[a],label:d,hideDelay:100,showDelay:1500,position:["below","after","above",
"before"]})},_updateTooltip:function(){var f=this._getTooltipText();this._tooltipWidget&&this._tooltipWidget.destroy();this._tooltipWidget=this._getNewTooltip(this.domNode,f);var d=this;a(this.domNode,"focusin",function(){d._tooltipWidget.set("state","DORMANT")})}})})},"variableeditor/views/renderers/_VERendererStyleMixin":function(){define("variableeditor/views/renderers/_VERendererStyleMixin",["dojo/_base/declare","dojo/dom-class","variableeditor/VariableEditorUtils"],function(h,a,g){return h("variableeditor.views.renderers._VERendererStyleMixin",
[],{_classListKey:"classList",updateCellStyles:function(a,d,b,g){var h=this._getCellModelStyle(a,d,b,g);if(h)for(var e in h)if(h.hasOwnProperty(e)){var k=this.getStyleNode(e);k&&k.style[e]!==h[e]&&(k.style[e]=h[e])}this._updateNodeClasses(a,d,b,k,g)},_updateTableClasses:function(a,d){if(a&&d&&d.getTableModelProperty){var b=d.getTableModelProperty(this._classListKey);this._modifyCellClassList(a,b,a._previousTableClassList);a._previousTableClassList=b}},_updateRowClasses:function(a,d,b){a&&(b&&b.getRowModelProperty&&
0<=d)&&(d=b.getRowModelProperty(d,this._classListKey),this._modifyCellClassList(a,d,a._previousRowClassList),a._previousRowClassList=d)},_updateColumnClasses:function(a,d,b){a&&(b&&b.getColumnModelProperty&&0<=d)&&(d=b.getColumnModelProperty(d,this._classListKey),this._modifyCellClassList(a,d,a._previousColumnClassList),a._previousColumnClassList=d)},_updateCellClasses:function(a,d,b,g,h){a&&(0<=d&&0<=b&&g&&h&&h.getCellPropertyValue)&&(d=h.getCellPropertyValue(d,b,this._classListKey,g),this._modifyCellClassList(a,
d,a._previousCellClassList),a._previousCellClassList=d)},_updateNodeClasses:function(a,d,b,g,h){this._updateTableClasses(g,h);this._updateRowClasses(g,a,h);this._updateColumnClasses(g,d,h);this._updateCellClasses(g,a,d,b,h)},_modifyCellClassList:function(f,d,b){b||(b=[]);d&&Array.isArray(d)&&a.add(f,d);(classesToRemove=this._getDifferenceBetweenClassLists(b,d))&&Array.isArray(classesToRemove)&&a.remove(f,classesToRemove)},_getDifferenceBetweenClassLists:function(a,d){classesToRemove=[];return a&&
d?a.filter(function(a){return 0>d.indexOf(a)}):classesToRemove},_getCellModelStyle:function(a,d,b,g){var h={};if(g&&g.getCellPropertyValue&&0<=a&&0<=d){var e=g.getCellPropertyValue(a,d,"fontFamily",b),k=g.getCellPropertyValue(a,d,"fontSize",b),c=g.getCellPropertyValue(a,d,"fontStyle",b),n=g.getCellPropertyValue(a,d,"fontWeight",b),p=g.getCellPropertyValue(a,d,"color",b),q=g.getCellPropertyValue(a,d,"backgroundColor",b);a=g.getCellPropertyValue(a,d,"style",b);g.rowHeight=Math.max(k?parseInt(k)*g.lineSpacing:
g.rowHeight,g.minRowHeight);h={fontFamily:e||"",fontSize:k||"",fontStyle:c||"",fontWeight:n||"",color:p||"",backgroundColor:q||""};a&&a.split(";").forEach(function(a){(a=a.split(":"))&&(a[0]&&a[1])&&(h[a[0]]=a[1])})}return h}})})},"variableeditor/views/table/tableBase/_TableHeaderSelection":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/on"],function(h,a,g,f){var d=this;return h([],{postCreate:function(){this.inherited(arguments);this.own(f(this.columnHeaderNode,
"mousedown",g.hitch(this,"_onColumnMouseDown")));this.own(f(this.columnHeaderNode,"click",g.hitch(this,"_onHeaderClick")));this.own(f(this.columnHeaderNode,"dblclick",g.hitch(this,"_onColumnDoubleClick")));this.own(f(this.columnHeaderNode,"contextmenu",g.hitch(this,"_onColumnRightClick")));this.own(f(this.rowHeaderNode,"mousedown",g.hitch(this,"_onRowMouseDown")));this.own(f(this.rowHeaderNode,"click",g.hitch(this,"_onHeaderClick")));this.own(f(this.rowHeaderNode,"dblclick",g.hitch(this,"_onRowDoubleClick")));
this.own(f(this.rowHeaderNode,"contextmenu",g.hitch(this,"_onRowRightClick")))},_onRowRightClick:function(b){d.contextMenuPosition={x:b.pageX,y:b.pageY};var f=this._getCellFromNode(b.target);0<=f.row&&0<=f.column&&(a.stop(b),this.peerNode.dispatchPeerEvent("rowContextMenu",this.peerNode,{row:f.row}))},_onColumnRightClick:function(b){d.contextMenuPosition={x:b.pageX,y:b.pageY};var f=this._getCellFromNode(b.target);0<=f.row&&0<=f.column&&(a.stop(b),this.peerNode.dispatchPeerEvent("columnContextMenu",
this.peerNode,{column:f.column}))},_onRowDoubleClick:function(b){var d=this._getCellFromNode(b.target);0<=d.row&&0<=d.column&&(a.stop(b),this.peerNode.dispatchPeerEvent("rowDoubleClick",this.peerNode,{row:d.row}))},_onColumnDoubleClick:function(b){var d=this._getCellFromNode(b.target);0<=d.row&&0<=d.column&&(a.stop(b),this.peerNode.dispatchPeerEvent("columnDoubleClick",this.peerNode,{column:d.column}))},_onHeaderClick:function(a){a=a.target;if(0<document.getSelection().rangeCount){for(a=document.getSelection().getRangeAt(0).commonAncestorContainer;a.parentNode&&
(!a.getAttribute||"cell"!==a.getAttribute("class")&&"header cell"!==a.getAttribute("class"));)a=a.parentNode;(!a||!a.getAttribute||"cell"!==a.getAttribute("class")&&"header cell"!==a.getAttribute("class"))&&document.getSelection().removeAllRanges()}},_onRowMouseDown:function(a){var d,f;if(!("column"===this.selectionType||"single"===this.selectionMode)){var e=this._getCellFromNode(a.target);if(!(0>e.row)){var h=e.row,e=[];if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))e=g.clone(this.peerNode.getProperty("selectedIndices")),
0<e.length&&("row"===this.selectionType&&"number"!==typeof e[0]?e=[]:"cell"===this.selectionType&&!g.isArray(e[0])&&(e=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(a.shiftKey&&0<e.length){a=e[e.length-1];e=[];for(d=h;d<=a[0];d+=1)for(f=0;f<=this.dataModel.getColumnCount();f+=1)e.push([d,f]);for(d=h;d>=a[0];d-=1)for(f=0;f<=this.dataModel.getColumnCount();f+=1)e.push([d,f])}else if(a.ctrlKey||a.metaKey)if(a=e.filter(function(a){return a[0]!==h}),
a.length===e.length)for(d=0;d<this.dataModel.getColumnCount();d+=1)e.push([h,d]);else e=a;else for(d=0;d<this.dataModel.getColumnCount();d+=1)e.push([h,d]);else if(a.shiftKey&&0<e.length){a=e[e.length-1];e=[];for(d=h;d<=a;d+=1)e.push(d);for(d=h;d>=a;d-=1)e.push(d)}else a.ctrlKey||a.metaKey?(d=e.indexOf(h),0<=d?e.splice(d,1):e.push(h)):e.push(h);this.peerNode.setProperty("selectedIndices",e)}}},_onColumnMouseDown:function(a){var d,f;if(!("row"===this.selectionType||"single"===this.selectionMode)){var e=
this._getCellFromNode(a.target);if(!(0>e.column)){var h=e.column,e=[];if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))e=g.clone(this.peerNode.getProperty("selectedIndices")),0<e.length&&("column"===this.selectionType&&"number"!==typeof e[0]?e=[]:"cell"===this.selectionType&&!g.isArray(e[0])&&(e=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(a.shiftKey&&0<e.length){a=e[e.length-1];e=[];for(d=h;d<=a[1];d+=1)for(f=0;f<=this.dataModel.getRowCount();f+=
1)e.push([f,d]);for(d=h;d>=a[1];d-=1)for(f=0;f<=this.dataModel.getRowCount();f+=1)e.push([f,d])}else if(a.ctrlKey||a.metaKey)if(a=e.filter(function(a){return a[1]!==h}),a.length===e.length)for(d=0;d<this.dataModel.getRowCount();d+=1)e.push([d,h]);else e=a;else for(d=0;d<this.dataModel.getRowCount();d+=1)e.push([d,h]);else if(a.shiftKey&&0<e.length){a=e[e.length-1];e=[];for(d=h;d<=a;d+=1)e.push(d);for(d=h;d>=a;d-=1)e.push(d)}else a.ctrlKey||a.metaKey?(d=e.indexOf(h),0<=d?e.splice(d,1):e.push(h)):e.push(h);
this.peerNode.setProperty("selectedIndices",e)}}}})})},"variableeditor/views/table/_VETableSelection":function(){define("variableeditor/views/table/_VETableSelection","dojo/_base/declare dojo/_base/lang dojo/query dojo/NodeList dojo/dom dojo/topic variableeditor/views/table/tableBase/_TableSelection variableeditor/views/table/BlockSelection variableeditor/VariableEditorUtils dojo/dom-class".split(" "),function(h,a,g,f,d,b,l,m,e,k){return h("variableeditor.views.table._VETableSelection",[l],{leadCell:{row:-1,
column:-1},shiftKeyPivot:{row:-1,column:-1},leadCellStyle:"background-color: rgb(255, 255, 255);",selectedCellStyle:"background-color: rgb(217, 240, 255);",selectedBorderColor:"rgb(0, 153, 255)",selectedBorderStyle:"1px solid",blockSelection:new m,constructor:function(){this._updateFromExistingSelection();this.leadCell={row:-1,column:-1};this._getSelectionStyles()},_getSelectionStyles:function(){var a=e.getStylesFromClasses(["variableEditorSelectionBackgroundColor","variableEditorSelectionBorder"],
["background-color","border-left-color","border-left-width","border-left-style"]);this.selectedCellStyle="background-color: "+a["background-color"]+";";this.selectedBorderColor=a["border-left-color"];this.selectedBorderStyle=a["border-left-width"]+" "+a["border-left-style"];a=e.getStylesFromClasses(["variableEditorLeadCellBackgroundColor"],["background-color"]);this.leadCellStyle="background-color: "+a["background-color"]+";"},_updateFromExistingSelection:function(){var a;this.peerNode&&this.peerNode.getProperty&&
(a=this.peerNode.getProperty("Selection"));this.blockSelection=new m(a)},_setLeadCellPosition:function(a,b){this.leadCell={row:Math.min(a,this.getRowCount()-1),column:Math.min(b,this.getColumnCount()-1)}},_setShiftKeyPivot:function(a,b){this.shiftKeyPivot={row:a,column:b}},_resetShiftKeyPivot:function(){this.shiftKeyPivot={row:-1,column:-1}},getRowSelector:function(a){return"#"+this.id+" .dataBody .row:nth-of-type("+(a-this.rowView.start+2)+")"},getCellSelector:function(a,b){return this.getRowSelector(a)+
" .cell:nth-of-type("+(b-this.colView.start+2)+")"},getLeadNode:function(){if(0>this.leadCell.row||0>this.leadCell.column||this.leadCell.row>=this.getRowCount()||this.leadCell.column>=this.getColumnCount())return null;var a=this.getCellSelector(this.leadCell.row,this.leadCell.column);return g(a)[0]},getShiftKeyPivot:function(){return[this.shiftKeyPivot.row,this.shiftKeyPivot.column]},_isLeadNodeInDom:function(){var a=this.getLeadNode();return this.domNode&&a&&d.isDescendant(a,this.domNode)},selectCell:function(a,
b){this.selectable&&(this.blockSelection.addCell(a,b),this._renderSelection(),this.setServerSelection(!0))},deselectCell:function(a,b){this.selectable&&(this.blockSelection.removeCell(a,b),this._renderSelection(),this.setServerSelection(!0))},selectRow:function(a){this.selectable&&(this.blockSelection.add(a,a,0,this.getColumnCount()-1),this._renderSelection(),this.setServerSelection(!0))},deselectRow:function(a){this.selectable&&(this.blockSelection.removeRows(a,a),this._renderSelection(),this.setServerSelection(!0))},
selectColumn:function(a){this.selectable&&this.selectable&&(this.blockSelection.add(0,this.getRowCount()-1,a,a),this._renderSelection(),this.setServerSelection(!0))},deselectColumn:function(a){this.selectable&&(this.blockSelection.removeColumns(a,a),this._renderSelection(),this.setServerSelection(!0))},isCellSelected:function(a,b){return this.blockSelection.containsCell(a,b)},isColumnSelected:function(a){return this.blockSelection.containsColumn(a)},isRowSelected:function(a){return this.blockSelection.containsRow(a)},
_renderSelection:function(){null!==this.dataModel&&(this._updateSelectionAndSelectionBorderStyle(),this._updateLeadCellStyle(),this._updateHeaderStyle())},_updateSelectionAndSelectionBorderStyle:function(){var a,b,e,d;a=this._getCurrentViewportSelection();d=a.selectedRows;e=a.selectedColumns;if(this.blockSelection.isEmpty())g(".highlightSelected",this.domNode).removeClass("highlightSelected borderLeft borderRight borderTop borderBottom GroupedBorder".split(" "));else{g(".highlightSelected",this.domNode).removeClass("highlightSelected borderLeft borderRight borderTop borderBottom GroupedBorder".split(" "));
var h=[],k=[],l=[],m=[],v=[],w=[];for(a=0;a<d.length;a+=1){Math.max(1,d[a].start+this.tableRowOffset-this.rowView.start);Math.max(1,d[a].end+this.tableRowOffset-this.rowView.start);for(b=0;b<e.length;b+=1){Math.max(1,e[b].start+this.tableColumnOffset-this.colView.start);Math.max(1,e[b].end+this.tableColumnOffset-this.colView.start,1);for(var x=d[a].start;x<=d[a].end;x++)for(var z=e[b].start;z<=e[b].end;z++){var y=this.domNode.getElementsByClassName("cellRenderer row_"+x+" col_"+z)[0];y&&(y=this._getCellFromNode(y).node,
this.showSelectionBorder?(h.push(y),this._isGroupedCol(z)&&w.push(y),z===e[b].start&&k.push(y),z===e[b].end&&l.push(y),x===d[a].start&&m.push(y),x===d[a].end&&v.push(y)):y&&h.push(y))}}}0<h.length&&(f(h).addClass("highlightSelected"),this.showSelectionBorder&&(f(k).addClass("borderLeft"),f(l).addClass("borderRight"),f(m).addClass("borderTop"),f(v).addClass("borderBottom"),f(w).addClass("GroupedBorder")))}},_isGroupedCol:function(a){a=this.getColumnModelProperty(a,"GroupColumnSize");return 1<parseInt(a,
10)},_updateHeaderStyle:function(){var a=[],b=[],e=this._getCurrentViewportSelection();this.blockSelection.isEmpty()||e.selectedRows.forEach(dojo.hitch(this,function(d){e.selectedColumns.forEach(dojo.hitch(this,function(e){for(var g=d.start+1;g<=d.end+1;g++){var h=this.domNode.getElementsByClassName("variableEditorRowHeaders header_"+g)[0];h&&a.push(h)}for(g=e.start+1;g<=e.end+1;g++)(h=this.domNode.getElementsByClassName("variableEditorColumnHeaders header_"+g)[0])&&b.push(h);if(0<a.length||0<b.length)f(a).addClass("highlightSelected"),
f(b).addClass("highlightSelected")}))}))},_getCurrentViewportSelection:function(){minStartRow=this.dataModel.getCurrentStartRow();maxEndRow=this.dataModel.getCurrentEndRow();minStartCol=this.dataModel.getCurrentStartCol();maxEndCol=this.dataModel.getCurrentEndCol();var a=JSON.parse(JSON.stringify(this.blockSelection));a.selectedRows.forEach(function(a){a.end-a.start>maxEndRow-minStartRow&&(a.start=minStartRow,a.end=maxEndRow)});a.selectedColumns.forEach(function(a){a.end-a.start>maxEndCol-minStartCol&&
(a.start=minStartCol,a.end=maxEndCol)});return a},_updateLeadCellStyle:function(){var a=g(".leadCell",this.domNode);0!=a.length&&a.removeClass("leadCell");this._isLeadNodeInDom()&&(a=this.getLeadNode(),a=this._getCellFromNode(a),this.blockSelection.isEmpty()||(a=this.domNode.getElementsByClassName("cellRenderer row_"+a.row+" col_"+a.column)[0])&&k.add(a,"leadCell"))},setServerSelection:function(a){e.logDebugStackTraceMessage();e.logDebugStackTraceArray();var d;d=0>=arguments.length?!1:a;var f=this.peerNode.getProperty("Selection");
f||(f={selectedRows:[],selectedColumns:[]});if(!d||!this.blockSelection.matchingSelection(new m(f)))d&&b.publish("/datatools/selectionChanged",""),this.peerNode.setProperty("Selection",this.blockSelection.createSourcedCopy("client"))}})})},"dojo/NodeList":function(){define(["./query"],function(h){return h.NodeList})},"variableeditor/views/table/tableBase/_TableSelection":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/on"],function(h,a,g,f){return h([],{constructor:function(){this.defaultProperties=
g.delegate(this.defaultProperties,{selectionType:"row",selectionMode:"none",selectedIndices:[]})},postCreate:function(){this.inherited(arguments);this.own(f(this.dataScrollerNode,"dblclick",g.hitch(this,"_onDataDoubleClick")));this.own(f(this.dataScrollerNode,"contextmenu",g.hitch(this,"_onRightClick")))},selectCell:function(a,b){var f=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":f.push([a,b]);break;case "row":f.push(a);break;case "column":f.push(b)}this.peerNode.setProperty("selectedIndices",
f)},deselectCell:function(a,b){var f=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":f=f.filter(function(f){return f[0]!==a||f[1]!==b});break;case "row":f=f.filter(function(b){return b!==a});break;case "column":f=f.filter(function(a){return a!==b})}this.peerNode.setProperty("selectedIndices",f)},selectRow:function(a){var b,f=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":for(b=0;b<this.dataModel.getColumnCount();b+=1)f.push([a,b]);break;case "row":f.push(a)}this.peerNode.setProperty("selectedIndices",
f)},deselectRow:function(a){var b=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":b=b.filter(function(b){return b[0]!==a});break;case "row":b=b.filter(function(b){return b!==a})}this.peerNode.setProperty("selectedIndices",b)},selectColumn:function(a){var b,f=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":for(b=0;b<this.dataModel.getRowCount();b+=1)f.push([b,a]);break;case "column":f.push(a)}this.peerNode.setProperty("selectedIndices",f)},deselectColumn:function(a){var b=
g.clone(this.selectedIndices);switch(this.selectionType){case "cell":b=b.filter(function(b){return b[1]!==a});break;case "column":b=b.filter(function(b){return b!==a})}this.peerNode.setProperty("selectedIndices",b)},isCellSelected:function(a,b){switch(this.selectionType){case "cell":return this.selectedIndices.some(function(f){return f[0]===a&&f[1]===b});case "row":return this.selectedIndices.some(function(b){return b===a});case "column":return this.selectedIndices.some(function(a){return a===b});
default:return!1}},isRowSelected:function(a){function b(b){return function(f){return f[0]===a&&f[1]===b}}switch(this.selectionType){case "cell":var f,g=a<this.dataModel.getRowCount();for(f=0;f<this.dataModel.getColumnCount();f+=1)g=g&&this.selectedIndices.some(b(f));return g;case "row":return this.selectedIndices.some(function(b){return b===a});default:return!1}},isColumnSelected:function(a){function b(b){return function(f){return f[0]===b&&f[1]===a}}switch(this.selectionType){case "cell":var f,g=
a<this.dataModel.getColumnCount();for(f=0;f<this.dataModel.getRowCount();f+=1)g=g&&this.selectedIndices.some(b(f));return g;case "row":return this.selectedIndices.some(function(a){return a===f});default:return!1}},_onRightClick:function(a){a.preventDefault()},_onDataDoubleClick:function(d){var b=this._getCellFromNode(d.target);0<=b.row&&(a.stop(d),this.peerNode.dispatchPeerEvent("doubleClick",this.peerNode,{row:b.row,column:b.column}))},_onSelectionTypeSet:function(){this._renderSelection()},_onSelectionModeSet:function(){this._renderSelection()},
_onSelectedIndicesSet:function(){this._renderSelection()},_onDataClick:function(a){a=a.target;if(0<document.getSelection().rangeCount){for(a=document.getSelection().getRangeAt(0).commonAncestorContainer;a.parentNode&&(!a.getAttribute||"cell"!==a.getAttribute("class"));)a=a.parentNode;(!a||!a.getAttribute||"cell"!==a.getAttribute("class"))&&document.getSelection().removeAllRanges()}},_onDataMouseDown:function(a){var b,f,h=this._getCellFromNode(a.target);if(!(0>h.row||0>h.column)){var e=h.row,k=h.column,
h=[];if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))h=g.clone(this.selectedIndices),0<h.length&&(("row"===this.selectionType||"column"===this.selectionType)&&"number"!==typeof h[0]?h=[]:"cell"===this.selectionType&&!g.isArray(h[0])&&(h=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(a.shiftKey&&0<h.length){a=h[h.length-1];h=[];for(b=e;b<=a[0];b+=1){for(f=k;f<=a[1];f+=1)h.push([b,f]);for(f=k;f>=a[1];f-=1)h.push([b,f])}for(b=
e;b>=a[0];b-=1){for(f=k;f<=a[1];f+=1)h.push([b,f]);for(f=k;f>=a[1];f-=1)h.push([b,f])}}else a.ctrlKey||a.metaKey?(a=h.filter(function(a){return a[0]!==e||a[1]!==k}),a.length===h.length?h.push([e,k]):h=a):h.push([e,k]);else if(f="row"===this.selectionType?e:k,a.shiftKey&&0<h.length){a=h[h.length-1];h=[];for(b=f;b<=a;b+=1)h.push(b);for(b=f;b>=a;b-=1)h.push(b)}else a.ctrlKey||a.metaKey?(b=h.indexOf(f),0<=b?h.splice(b,1):h.push(f)):h.push(f);this.peerNode.setProperty("selectedIndices",h)}},_renderSelection:function(){var a=
{};"none"!==this.selectionMode&&("row"===this.selectionType?this.selectedIndices.forEach(function(b){b>=this.rowView.start&&b<this.rowView.end&&(a[".dataBody .row:nth-child("+(b-this.rowView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this):"column"===this.selectionType?this.selectedIndices.forEach(function(b){b>=this.colView.start&&b<this.colView.end&&(a[".dataBody .row .cell:nth-child("+(b-this.colView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this):"cell"===this.selectionType&&
this.selectedIndices.forEach(function(b){b[0]>=this.rowView.start&&(b[0]<this.rowView.end&&b[1]>=this.colView.start&&b[1]<this.colView.end)&&(a[".dataBody .row:nth-child("+(b[0]-this.rowView.start+2)+") .cell:nth-child("+(b[1]-this.colView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this));this.styleManager.updateStyleRules("selection",a)}})})},"variableeditor/views/table/BlockSelection":function(){define("variableeditor/views/table/BlockSelection",["dojo/_base/declare"],function(h){return h("variableeditor.views.table.BlockSelection",
null,{source:"server",selectedRows:[],selectedColumns:[],indexedRows:!1,indexedColumns:!1,constructor:function(a){this.selectedRows=[];this.selectedColumns=[];a?(a.selectedRows&&(this.selectedRows=Array.isArray(a.selectedRows)?a.selectedRows:JSON.parse(a.selectedRows)),a.selectedColumns&&(this.selectedColumns=Array.isArray(a.selectedColumns)?a.selectedColumns:JSON.parse(a.selectedColumns)),a.source&&(this.source=a.source),void 0!==a.indexedRows&&(this.indexedRows=a.indexedRows),void 0!==a.indexedColumns&&
(this.indexedColumns=a.indexedColumns)):(this.selectedRows=[],this.selectedColumns=[])},setIndexedRows:function(a){this.indexedRows=a},containsColumn:function(a){return this.selectedColumns.some(function(g){return g.start<=a&&g.end>=a})},containsRow:function(a){return this.selectedRows.some(function(g){return g.start<=a&&g.end>=a})},getRowCount:function(){var a=0;this.selectedRows.forEach(function(g){a=a+g.end-g.start+1});return a},flipRowCount:function(a){this.selectedRows.forEach(function(g){var f=
g.end;g.end=a-1-g.start;g.start=a-1-f})},getColumnCount:function(){var a=0;this.selectedColumns.forEach(function(g){a=a+g.end-g.start+1});return a},isEmpty:function(){return 0===this.getColumnCount()||0===this.getRowCount()},containsCell:function(a,g){return this.containsColumn(g)&&this.containsRow(a)},getOverlappingCells:function(a,g,f,d){for(var b,h=[];a<=g;a+=1)for(b=f;b<=d;b+=1)this.containsCell(a,b)&&h.push([a,b]);return h},clone:function(){var a=dojo.clone(this);a.selectedRows=[];a.selectedColumns=
[];this.selectedRows.forEach(dojo.hitch(this,function(g){a.selectedRows.push({start:g.start,end:g.end})}));this.selectedColumns.forEach(dojo.hitch(this,function(g){a.selectedColumns.push({start:g.start,end:g.end})}));a.source=this.source;return a},createSourcedCopy:function(a){var g=this.clone();g.source=a;return g},add:function(a,g,f,d){var b;a>g&&(b=a,a=g,g=b);f>d&&(b=f,f=d,d=b);if(this.indexedRows)for(;a<=g;a+=1)this.selectedRows.push({start:a,end:a});else this.selectedRows.push({start:a,end:g});
this.selectedColumns.push({start:f,end:d});this.reconcile()},addCell:function(a,g){this.selectedRows.push({start:a,end:a});this.selectedColumns.push({start:g,end:g});this.reconcile()},removeCell:function(a,g){var f=this.containsColumn(g)&&1===this.getColumnCount(),d=this.containsRow(a)&&1===this.getRowCount();f&&!d?this.removeRows(a,a):!f&&d?this.removeColumns(g,g):this.remove(a,a,g,g);this.reconcile()},getLeadCell:function(){return this.isEmpty()?null:[this.selectedRows[this.selectedRows.length-
1].end,this.selectedColumns[this.selectedColumns.length-1].end]},getFirstCellFromLastRow:function(){return this.isEmpty()?null:[this.selectedRows[this.selectedRows.length-1].end,this.selectedColumns[this.selectedColumns.length-1].start]},matchingSelection:function(a){if(a.selectedRows.length!==this.selectedRows.length||a.selectedColumns.length!==this.selectedColumns.length)return!1;var g;for(g=0;g<this.selectedRows.length;g+=1)if(this.selectedRows[g].start!==a.selectedRows[g].start||this.selectedRows[g].end!==
a.selectedRows[g].end)return!1;for(g=0;g<this.selectedColumns.length;g+=1)if(this.selectedColumns[g].start!==a.selectedColumns[g].start||this.selectedColumns[g].end!==a.selectedColumns[g].end)return!1;return!0},removeRows:function(a,g){var f=[],d=[];this.selectedRows.forEach(function(b){a<=b.start&&g>=b.end?f.push(b):a>b.start&&g<b.end?(f.push(b),d.push({start:b.start,end:a-1}),d.push({start:g+1,end:b.end})):a<=b.start&&g>=b.start?b.start=g+1:a<=b.end&&g>=b.end&&(b.end=a-1)});f.forEach(dojo.hitch(this,
function(a){a=this.selectedRows.indexOf(a);0<=a&&this.selectedRows.splice(a,1)}));d.forEach(dojo.hitch(this,function(a){this.selectedRows.push(a)}));this.reconcile()},removeColumns:function(a,g){var f=[],d=[];this.selectedColumns.forEach(function(b){a<=b.start&&g>=b.end?f.push(b):a>b.start&&g<b.end?(f.push(b),d.push({start:b.start,end:a-1}),d.push({start:g+1,end:b.end})):a<=b.start&&g>=b.start?b.start=g+1:a<=b.end&&g>=b.end&&(b.end=a-1)});f.forEach(dojo.hitch(this,function(a){a=this.selectedColumns.indexOf(a);
0<=a&&this.selectedColumns.splice(a,1)}));d.forEach(dojo.hitch(this,function(a){this.selectedColumns.push(a)}));this.reconcile()},remove:function(a,g,f,d){this.removeRows(a,g);this.removeColumns(f,d)},_isInterectingRows:function(a){var g=this.selectedRows.slice();g.sort(function(a,b){return a.start-b.start});var f=1;a&&(f=0);for(a=1;a<g.length;a+=1)if(g[a].start<=g[a-1].end+f)return!0;return!1},_isInterectingColumns:function(a){var g=this.selectedColumns.slice();g.sort(function(a,b){return a.start-
b.start});var f=1;a&&(f=0);for(a=1;a<g.length;a+=1)if(g[a].start<=g[a-1].end+f)return!0;return!1},reconcile:function(){var a,g=this._isInterectingColumns(this.indexedColumns);a=this._isInterectingRows(this.indexedRows);if(g||a){if(a){this.selectedRows.sort(dojo.hitch(this,function(a,b){return a.start-b.start}));var f=[this.selectedRows[0]];for(a=1;a<this.selectedRows.length;a+=1)!this.indexedRows&&this.selectedRows[a].start<=f[f.length-1].end+1?f[f.length-1].end=Math.max(this.selectedRows[a].end,
f[f.length-1].end):this.indexedRows&&this.selectedRows[a].start===f[f.length-1].start&&this.selectedRows[a].end===f[f.length-1].end?f[f.length-1].end=Math.max(this.selectedRows[a].end,f[f.length-1].end):f.push(this.selectedRows[a]);this.selectedRows=f}if(g){this.selectedColumns.sort(dojo.hitch(this,function(a,b){return a.start-b.start}));g=[this.selectedColumns[0]];for(a=1;a<this.selectedColumns.length;a+=1)this.selectedColumns[a].start<=g[g.length-1].end+1?g[g.length-1].end=this.selectedColumns[a].end>=
g[g.length-1].end?this.selectedColumns[a].end:g[g.length-1].end:g.push(this.selectedColumns[a]);this.selectedColumns=g}}}})})},"variableeditor/views/table/_VEModelProperties":function(){define("variableeditor/views/table/_VEModelProperties","dojo/_base/declare dojo/_base/lang dojo/query dojo/dom dojo/dom-class dojo/topic mw-log/Log dijit/registry variableeditor/VariableEditorUtils".split(" "),function(h,a,g,f,d,b,l,m,e){return h("variableeditor.views.table._VEModelProperties",[],{defaultRowHeaderWidth:30,
maxLabelWidth:25,notEditableCSSClass:"venoteditable",notSelectableCSSClass:"venotselectable",maxIndexWidth:null,constructor:function(b){var c={};this.TableModelProperties={};this.RowModelProperties=[];this.ColumnModelProperties=[];this.CellModelProperties=[];b&&(this.TableModelProperties=c.TableModelProperties=b.TableModelProperties||{},this.RowModelProperties=c.RowModelProperties=b.RowModelProperties||[],this.ColumnModelProperties=c.ColumnModelProperties=b.ColumnModelProperties||[],this.CellModelProperties=
c.CellModelProperties=b.CellModelProperties||[],a.mixin(b,c),this.editable=void 0===b.editable||null===b.editable?void 0!==this.TableModelProperties.Editable?e.getLogicalValue(this.TableModelProperties.Editable):!0:b.editable);void 0!==this.TableModelProperties.Editable&&this.editable!==e.getLogicalValue(this.TableModelProperties.Editable)?this.editable=e.getLogicalValue(this.TableModelProperties.Editable):void 0===this.TableModelProperties.Editable&&(this.updateEditableFlag=!0)},updateModelProperties:function(a){var c=
window.performance.now();e.logDebug("_VEModelProperties: updateModelProperties");this._updateTableModelProperties();this._updateTableHeaders();this._updateModelStyles();a&&this._renderViewData(!0);a=window.performance.now()-c;e.isPerformance()&&b.publish("variableeditor/updateModelPropsChannel",{time:a})},_updateTableModelProperties:function(){e.logDebug("_VEModelProperties: _updateTableModelProperties");this.TableModelProperties&&(this._updateTableEditable(),this._updateTableSelectable(),this._updateTableRowHeight())},
_updateTableRowHeight:function(){var a=this.getTableModelProperty("fontSize"),a=Math.max(a?parseInt(a)*this.lineSpacing:this.rowHeight,this.minRowHeight);a!==this.rowHeight&&(this.rowHeight=a)},_updateTableEditable:function(){e.logDebug("_VEModelProperties: _updateTableEditable");this.updateEditableFlag&&(void 0!==this.TableModelProperties.Editable&&this.setTableModelProperty)&&(this.setTableModelProperty("Editable",this.editable?"true":"false"),this.updateEditableFlag=!1);var a=this.getTableModelProperty("Editable");
void 0===a?(a=this.editable,this.setTableModelProperty("Editable",a)):this.editable=e.getLogicalValue(a,!0)},_updateTableSelectable:function(){e.logDebug("_VEModelProperties: _updateTableSelectable");var a=this.getTableModelProperty("Selectable");void 0===a?(a=this.selectable,this.setTableModelProperty("Selectable",a)):(this.selectable=e.getLogicalValue(a,!0),this.selectable||(this.blockSelection.selectedRows=[],this.blockSelection.selectedColumns=[],this._renderSelection(),this._setLeadCellPosition(-1,
-1)));this.domNode&&(this.selectable?d.remove(this.domNode,this.notSelectableCSSClass):d.add(this.domNode,this.notSelectableCSSClass))},_updateModelStyles:function(){e.logDebug("_VEModelProperties: _updateModelStyles");if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow){var a=g("input.cell.variableEditorRenderers",this.domNode);this._updateNodeStyles(a)}},_updateNodeStyles:function(a){if(a)for(var b=
g.NodeList(),e=g.NodeList(),d,f=0;f<a.length;f+=1){d=a[f].getAttribute("data-tag")?a[f]:a[f].querySelector("input");var h=a[f].getAttribute("data-row"),l=a[f].getAttribute("data-col");if(d){if(void 0!==h&&void 0!==l){var t=m.getEnclosingWidget(d);t&&t.updateCellStyles&&t.updateCellStyles(h,l);t&&t.updateCellDraggability&&t.updateCellDraggability(h,l);(h=this.isCellEditable(h,l,d))?b.push(d):e.push(d)}}else d=this.getCellSelector(h,l),g(d)[0].firstChild&&(d=g(d)[0].firstChild,(h=this.isCellEditable(h,
l,d))?b.push(d):e.push(d))}},isCellDraggable:function(a,b,d){return e.getLogicalValue(this.getCellPropertyValue(a,b,"Draggable",d),!1)},getTextDataTransferValue:function(){var a=[];if(this.blockSelection&&this.blockSelection.selectedRows&&this.blockSelection.selectedColumns)for(var b=0;b<this.blockSelection.selectedRows.length;b+=1)for(var e=0;e<this.blockSelection.selectedColumns.length;e+=1)for(var d=this.blockSelection.selectedRows[b],f=this.blockSelection.selectedColumns[e],h=d.start;h<=d.end;h+=
1)for(var l=f.start;l<=f.end;l+=1)if(this.isCellDraggable(h,l)){var t=this.getCellSelector(h,l),u=g(t)[0],t=this.getCellPropertyValue(h,l,"DragValue");if(void 0===t&&u&&(u&&u.querySelectorAll)&&(u=u.querySelectorAll('[data-tag*\x3d".cell.'+h.toString()+"."+l.toString()+'"]')))for(var v=0;v<u.length;v+=1){var w=m.getEnclosingWidget(u[v]);w&&w.veEditor&&(t=w.veEditor.editorValue)}void 0!==t&&a.push(t)}return a.toString()},getDragValue:function(a){a||(a="text");return"text"===a?this.getTextDataTransferValue():
""},isCellEditable:function(a,b,d){var f=e.getLogicalValue(this.getCellModelProperty(a,b,"Editable"),!0),h=e.getLogicalValue(this.getColumnModelProperty(b,"Editable"),!0),l=e.getLogicalValue(this.getRowModelProperty(a,"Editable"),!0);void 0===d&&(a=this.getCellSelector(a,b),d=g(a)[0]);a=m.getEnclosingWidget(d);return this.editable&&f&&h&&l&&a&&a.veInplaceEditor&&a.veInplaceEditor.edit},isCellEditableFromObj:function(a,b,d){b=e.getLogicalValue(this.getColumnModelProperty(b,"Editable"),!0);a=e.getLogicalValue(this.getRowModelProperty(a,
"Editable"),!0);return this.editable&&b&&a&&d&&d.inplaceeditor},isNodeEditable:function(a){try{var b=this._getCellFromNode(a);if(0<=b.row&&0<=b.column)return this.isCellEditable(b.row,b.column,a)}catch(d){e.logDebug(d)}return!1},getColumnModelProperties:function(a){a-=this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0;return!this.ColumnModelProperties||!this.ColumnModelProperties.hasOwnProperty(a)?{}:this.ColumnModelProperties[a]},getColumnModelProperty:function(a,
b){var e=this.getColumnModelProperties(a);return!e.hasOwnProperty(b)?void 0:e[b]},setColumnModelProperty:function(a,b,e){var d=a-(this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0);if(!this.ColumnModelProperties||0===this.ColumnModelProperties.length){this.ColumnModelProperties=[];var f;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol)for(f=0;f<this.dataModel.getCurrentEndCol()-this.dataModel.getCurrentStartCol();f+=1)this.ColumnModelProperties[f]=
{}}this.ColumnModelProperties.hasOwnProperty(d)&&(this.ColumnModelProperties[d][b]=e);this.peerViewModel&&this.peerViewModel.setColumnModelProperty&&this.peerViewModel.setColumnModelProperty(a,b,e);this._updateColumnHeaderNames();this._updateColumnWidths();this._updateModelStyles()},getRowModelProperties:function(a){a-=this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0;return!this.RowModelProperties||!this.RowModelProperties.hasOwnProperty(a)?{}:this.RowModelProperties[a]},
getRowModelProperty:function(a,b){var e=this.getRowModelProperties(a);return!e.hasOwnProperty(b)?void 0:e[b]},setRowModelProperty:function(a,b,e){var d=a-(this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0);if(!this.RowModelProperties||0===this.RowModelProperties.length){this.RowModelProperties=[];var f;if(this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow)for(f=0;f<this.dataModel.getCurrentEndRow()-this.dataModel.getCurrentStartRow();f+=
1)this.RowModelProperties[f]={}}this.RowModelProperties.hasOwnProperty(d)&&(this.RowModelProperties[d][b]=e);this.peerViewModel&&this.peerViewModel.setRowModelProperty&&this.peerViewModel.setRowModelProperty(a,b,e);this._updateRowHeaderNames();this._updateModelStyles()},getTableModelProperty:function(a){return!this.TableModelProperties||!this.TableModelProperties.hasOwnProperty(a)?void 0:this.TableModelProperties[a]},setTableModelProperty:function(a,b){this.TableModelProperties||(this.TableModelProperties=
{});this.TableModelProperties[a]=b;this.peerViewModel&&this.peerViewModel.setTableModelProperty&&this.peerViewModel.setTableModelProperty(a,b);this._updateTableSelectable();this._updateModelStyles()},setCellModelProperty:function(a,b,e,d){var f=a-(this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0),g=b-(this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0);if(!this.CellModelProperties||0===this.CellModelProperties.length){this.CellModelProperties=
[];var h;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow)for(h=0;h<this.dataModel.getCurrentEndRow()-this.dataModel.getCurrentStartRow();h+=1){this.CellModelProperties[h]=[];var l;for(l=0;l<this.dataModel.getCurrentEndCol()-this.dataModel.getCurrentStartCol();l+=1)this.CellModelProperties[h][l]={}}}this.CellModelProperties.hasOwnProperty(f)&&this.CellModelProperties[f].hasOwnProperty(g)&&(this.CellModelProperties[f][g][e]=
d);this.peerViewModel&&this.peerViewModel.setCellModelProperty&&this.peerViewModel.setCellModelProperty(a,b,e,d);this._updateModelStyles()},getCellModelProperty:function(a,b,e){var d;0<=a&&(0<=b&&this.CellModelProperties&&this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentStartRow&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()]&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()]&&this.CellModelProperties[a-
this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][e])&&(d=this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][e]);return d},getCellPropertyValue:function(a,b,e,d){var f;if(d&&d.hasOwnProperty(e))f=d[e];else if(0<=a&&0<=b&&this.CellModelProperties&&this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentStartCol&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()]&&this.CellModelProperties[a-
this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()]&&(this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][e]||this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][e]===Boolean(0)))f=this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][e];else if(0<=b&&this.ColumnModelProperties&&this.dataModel&&this.dataModel.getCurrentStartCol&&
this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()]&&(this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][e]||this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][e]===Boolean(0)))f=this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][e];else if(0<=a&&this.RowModelProperties&&this.dataModel&&this.dataModel.getCurrentStartRow&&this.RowModelProperties[a-this.dataModel.getCurrentStartRow()]&&(this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][e]||
this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][e]===Boolean(0)))f=this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][e];else if(this.TableModelProperties&&(this.TableModelProperties[e]||this.TableModelProperties[e]===Boolean(0)))f=this.TableModelProperties[e];return f},_updateTableHeaders:function(){e.logDebug("_VEModelProperties: _updateTableHeaders");this.ColumnModelProperties&&(this._updateColumnHeaderNames(),this._updateColumnWidths(),this._updateColumnHeaderDisplay());
this.RowModelProperties&&(this._updateRowHeaderNames(),this._updateRowHeaderDisplay())},_updateRowHeaderDisplay:function(){this.domNode&&(e.getLogicalValue(this.getTableModelProperty("ShowRowHeaders"),!0)?d.remove(this.domNode,"hideRowHeaders"):d.add(this.domNode,"hideRowHeaders"))},_updateColumnHeaderDisplay:function(){this.domNode&&(e.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0)?d.remove(this.domNode,"hideColumnHeaders"):d.add(this.domNode,"hideColumnHeaders"))},_updateRowHeaderNames:function(){e.logDebug("_VEModelProperties: _updateRowHeaderNames");
if(this.RowModelProperties){var a,b=this.defaultRowHeaderWidth,d=0,f=this.getTableModelProperty("CornerSpacerTitle");f&&(b=Math.max(7*f.length)+20,this.peerNode.setProperty("rowHeaderWidth",b));if(this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow){var f=e.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),!0),g=e.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1),h=e.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),
!0);a=this.dataModel.getCurrentStartRow();var l;l=this.dataModel.getCurrentEndRow();for(l=0==l&&this.dataModel.getCurrentStartRow()===l&&0!==this.getRowCount()?this.RowModelProperties.length:l;a<l;a+=1){this.rows[a]||(this.rows[a]={label:"",labelIndex:null});var m=h?this.getRowModelProperty(a,"RowName"):"",u=g?this.getRowModelProperty(a,"RowNumber"):"";m?(this.rows[a].labelIndex=g?parseInt(u):a+1,this.rows[a].label=m):(this.rows[a].labelIndex=f?a+1:"",this.rows[a].label="");d=Math.max(d,7*(this.rows[a].labelIndex.toString().length+
2));b=Math.max(b,7*(Math.min(this.maxLabelWidth,this.rows[a].label.length)+this.rows[a].labelIndex.toString().length+2))}null!=d&&(this.maxIndexWidth=d);this.peerNode.setProperty("rowHeaderWidth",b)}}},_updateColumnHeaderNames:function(){e.logDebug("_VEModelProperties: _updateColumnHeaderNames");if(this.ColumnModelProperties){var a;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol){var b=e.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),
d=e.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),f=e.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),g=this.getTableModelProperty("ShowHeaderIcons");this.getTableModelProperty("CornerSpacerTitle");for(a=this.dataModel.getCurrentStartCol();a<this.dataModel.getCurrentEndCol();a+=1){this.columns[a]||(this.columns[a]={label:"",labelIndex:null});var h=f?this.getColumnModelProperty(a,"HeaderName"):"",l=d?this.getColumnModelProperty(a,"HeaderNumber"):
(a+1).toString(),m=g?this.getColumnModelProperty(a,"icon"):"";m&&(this.columns[a].icon=m);h?(this.columns[a].labelIndex=d?parseInt(l):a+1,this.columns[a].label=h):(this.columns[a].labelIndex=b?a+1:"",this.columns[a].label="")}}}},_updateColumnWidths:function(){e.logDebug("_VEModelProperties: _updateColumnWidths");if(this.ColumnModelProperties){var b=a.clone(this.columns),c,d=!1;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&0<this.columns.length)for(c=this.dataModel.getCurrentStartCol();c<
this.dataModel.getCurrentEndCol();c+=1)if(this.columns[c]||(this.columns[c]={width:0}),this.columns[c]&&this.columns[c]!==this._resizingColumn)try{var f=this._getColumnWidthOnTable?this._getColumnWidthOnTable(c):null,g=f?f:this.getColumnModelProperty(c,"ColumnWidth"),h=parseInt(g,10);null!==g&&(void 0!==g&&0<=h)&&(this._currentColumns&&this._currentColumns[c]&&this._currentColumns[c].width===h?b[c].width=this._currentColumns[c].width:(d=!0,b[c].width=h))}catch(m){l.error(m),l.error(m.stack)}(d||this.dataModel&&
this.columns&&this.dataModel.getColumnCount&&this.columns.length!==this.dataModel.getColumnCount())&&0!==b.length&&this.peerNode.setProperty("columns",b);if(b&&(d||!this._currentColumns))this._currentColumns=b}}})})},"variableeditor/views/table/tableBase/_TableColumnWidth":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/on dojo/dom-geometry dojo/dom-style dojo/dom-class".split(" "),function(h,a,g,f,d,b,l){return h([],{postCreate:function(){this.inherited(arguments);this.own(f(this.columnHeaderNode,
"mousedown",g.hitch(this,"_onColumnResizeMouseDown")))},_onColumnResizeMouseDown:function(b){if(b.target.getAttribute&&b.target.getAttribute("class")&&(-1!==b.target.getAttribute("class").indexOf("drag")||-1!==b.target.getAttribute("class").indexOf("firstHalfOfDrag")||-1!==b.target.getAttribute("class").indexOf("secondHalfOfDrag")||-1!==b.target.getAttribute("class").indexOf("dragBorder"))){l.add(this.domNode,"resizing");var e=this._getHeaderFromNode(b.target).column,h=this.columns[e];if(h&&(void 0===
h.resizable||h.resizable))this._tablePos=d.position(this.columnResizerNode.parentNode),this._resizingColumn=e,this._originalResizeWidth=h.width||0,this._minResizeWidth=h.minWidth?h.minWidth:10,this._maxResizeWidth=h.maxWidth?h.maxWidth:1E3,this._splitterNode=b.target,"drag"===b.target.getAttribute("class")&&(this._splitterNode=b.target.firstChild.nextElementSibling),"firstHalfOfDrag"===b.target.getAttribute("class")&&(this._splitterNode=b.target.nextElementSibling),"secondHalfOfDrag"===b.target.getAttribute("class")&&
(this._splitterNode=b.target.previousElementSibling),this._originalSplitterPos=d.position(this._splitterNode),this._updateColumnResizerNode(this._originalSplitterPos.x),this._mouseMoveListener=f(document,"mousemove",g.hitch(this,"_onColumnMouseMove")),this._mouseUpListener=f(document,"mouseup",g.hitch(this,"_onColumnMouseUp")),document.addEventListener("selectstart",a.stop,!0)}},_getHeaderFromNode:function(a){for(var b=null,d=-1,c=-1;a.getAttribute&&"datatools.variableeditor.views.table.variableEditorColumnHeaders"!==
a.getAttribute("data-tag")&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute&&"datatools.variableeditor.views.table.variableEditorColumnHeaders"===a.getAttribute("data-tag")){b=a;for(c=this.colView.start-1;a.previousElementSibling;)c+=1,a=a.previousElementSibling;a=a.parentNode;for(d=this.rowView.start-1;a.previousElementSibling;)d+=1,a=a.previousElementSibling}return{node:b,row:d,column:c}},_onColumnMouseMove:function(b){this._updateColumnResizerNode(b.pageX);a.stop(b)},_onColumnMouseUp:function(d){a.stop(d);
l.remove(this.domNode,"resizing");d=d.pageX-this._originalSplitterPos.x+this._originalResizeWidth;d=Math.min(Math.max(this._minResizeWidth,d),this._maxResizeWidth);var e=g.clone(this.columns);e[this._resizingColumn].width=d;this.peerNode.setProperty("columns",e);b.set(this.columnResizerNode,{display:"none"});this._mouseMoveListener.remove();this._mouseUpListener.remove();document.removeEventListener("selectstart",a.stop,!0)},_updateColumnResizerNode:function(a){a=a-this._originalSplitterPos.x+this._originalResizeWidth;
a=Math.min(Math.max(this._minResizeWidth,a),this._maxResizeWidth);b.set(this.columnResizerNode,{display:"inherit",left:this._originalSplitterPos.x-this._tablePos.x+a-this._originalResizeWidth+"px"})}})})},"variableeditor/views/table/tableBase/_PropTypeHandler":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on"],function(h,a,g){return h([],{postCreate:function(){this.inherited(arguments);this.own(g(this.dataScrollerNode,g.selector("button","click"),a.hitch(this,"_onCellButtonClick")))},
_onCellButtonClick:function(a){var d=this._getCellFromNode(a.target);0<=d.row&&0<=d.column&&this.peerNode.dispatchPeerEvent("cellEvent",this.peerNode,{cellEventType:"buttonClick",row:d.row,column:d.column,buttonClass:a.target.getAttribute("class")})}})})},"variableeditor/views/renderers/VERendererFactory":function(){define("variableeditor/views/renderers/VERendererFactory","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/mouse dojo/on dojo/dom dojo/touch dojo/dom-geometry dijit/registry variableeditor/views/renderers/_VERendererMixin variableeditor/views/editors/_VEEditorConverterMixin mw-log/Log require variableeditor/VariableEditorUtils".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){return h("variableeditor.views.renderers.VERendererFactory",[],{table:{},type:"cellrennderer",constructor:function(a){this.table=a;this.type=a.RendererName;this.dragImageUrl=q.toUrl("../../../images-variableeditor/ico_drag_workspace.png")},create:function(a,b,e){var d;d=document.createElement("input");if(b&&1<=b.length&&"{"===b.charAt(0)){var f=JSON.parse(b),g=this.getCellIndices(f),k=g.row,g=g.column,l=this;this.createRendererObject(f,"renderer",{node:d,column:a,
renderedObject:f,table:l.table},l.table,function(a){var b=a.declaredClass;a._setupEventListeners(l.table);a.isInstanceOf(c)||h.safeMixin(a,new c);a.isInstanceOf(n)||h.safeMixin(a,new n);a.declaredClass=b;d=a.domNode;a._setRendererProperties(f,l.table,"server");a.domNode.setAttribute("data-tag",a.createDataTag("CellRenderer","cell"));a._setupDOMRowCol(a.getCellIndices(f));e&&"function"===typeof e&&e(d)});d&&this.updateCellDraggability(k,g,d,b)}else d.value=b;return d},startup:function(a){a&&(a.nodeName&&
"input"===a.nodeName.toLowerCase())&&(a.value=a.value);k.getEnclosingWidget(a).startup()},getCellIndices:function(a){var b=-1,c=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));return{row:b,column:c}},createRendererObject:function(a,b,c,e,d){var f=null,g=this.getCellIndices(a);e=g.row;g=g.column;try{var h=this.table.getCellPropertyValue(e,g,b,a);if(h)q([h],function(a){f=new a(c);d&&"function"===typeof d&&d(f)});else return null}catch(k){p.error(k)}return f},update:function(a,
b,c,e){var d=null;if(c&&1<=c.length&&"{"===c.charAt(0)){d=JSON.parse(c);if(d.isInvalidCache)return;var f=this.getCellIndices(d),g=f.row,f=f.column;a=k.getEnclosingWidget(a);var h="";a&&(h=a.declaredClass);g=this.table.getCellPropertyValue(g,f,"renderer",d);this.comparePathToDeclaredClass(g,h)?(a._setRendererProperties(d,this.table,"server"),a._setupDOMRowCol(a.getCellIndices(d)),d=a.domNode,e&&"function"===typeof e&&e(d)):(d=this.create(b,c,e),a&&a.destroy())}else a&&(a.value=c,d=a);return d},updateCellDraggability:function(a,
b,c,e){c||(c=this.domNode);e||(e=this.renderedObject);this.table&&this.table.useDojoDnD?this.updateDojoDraggability(a,b,c,e):this.updateDefaultCellDraggability(a,b,c,e)},updateDojoDraggability:function(a,c,e,d){if(this.table&&this.table.isCellDraggable){var f=this;this.table.isCellDraggable(a,c,d)&&(b(e,m.press,function(a){f.redispatchMouseEvent(a,"mousedown")}),b(e,m.release,function(a){f.redispatchMouseEvent(a,"mouseup");f.table&&f.table.dataScrollerNode&&f.table._onMouseDragUp(a)}),r.addToClassList(e,
"dojoDndItem"),d&&(1<=d.length&&"{"===d.charAt(0))&&(d=JSON.parse(d)),d.value&&(e.setAttribute("dndData",d.value),e.setAttribute("dndType","text")))}},redispatchMouseEvent:function(a,b){var c=dijit.registry.byNode(a.currentTarget);a.renderer=c;c.dispatchEvent(b,c,a)},updateDefaultCellDraggability:function(c,e,d,f){this.table&&this.table.isCellDraggable&&(c=this.table.isCellDraggable(c,e,f),d.setAttribute("draggable",c),e=k.getEnclosingWidget(d),c&&(e.dragStartListener||(e.dragStartListener=b(d,"dragstart",
a.hitch(this,"onDragStart")),e.dragOverListener=b(d,"dragover",a.hitch(this,"onDragOver")),e.dropListener=b(d,"drop",a.hitch(this,"onDrop"))),this.dragImage=this.preloadDragImage()))},preloadDragImage:function(){var a=document.createElement("img");a.setAttribute("src",this.dragImageUrl);return a},onDragOver:function(a){a.preventDefault&&a.preventDefault();a.dataTransfer.dropEffect="copy";return!1},onDragStart:function(a){if(this.table&&this.table.getSelectedFields){var b=this.table.getSelectedFields();
a.dataTransfer.setData("text/plain",b);a.dataTransfer.setData("text/workspacebrowser",b);if(a.dataTransfer.setDragImage){var c=this.dragImage;c.setAttribute("alt",b);a.dataTransfer.setDragImage(c,0,0)}a.target.style.cursor="move";a.dataTransfer.effectAllowed="copyMove"}return!1},onDrop:function(a){a.preventDefault&&a.preventDefault();return!1},clearCache:function(b,c,e){if(e&&1<=e.length&&"{"===e.charAt(0)){var d=JSON.parse(e),f=k.getEnclosingWidget(b),g={};f&&(g={veInplaceEditor:f.veInplaceEditor,
veEditor:f.veEditor});(d=this.createRendererObject(d,"renderer",{node:b,column:c,renderedObject:d,table:this.table},this.table,function(d){d&&d.clearCache&&d.clearCache(b,c,e);a.mixin(d,g)}))&&d.clearCache&&d.clearCache(b,c,e)}},getCellValue:function(a){a=k.getEnclosingWidget(a);return a.getValue?a.getValue():null},comparePathToDeclaredClass:function(a,b){var c=a.split("/"),e=b.split("."),d=!0;if(c.length===e.length)for(var f=0;f<c.length&&d;f+=1)d=c[f]===e[f];else d=!1;return d}})})},"variableeditor/views/editors/_VEEditorConverterMixin":function(){define("variableeditor/views/editors/_VEEditorConverterMixin",
["dojo/_base/declare","dojo/_base/lang"],function(h,a){return h("variableeditor.views.editors._VEEditorConverterMixin",[],{_converter:null,setEditorConverter:function(g){null!==g&&void 0!==g&&(this._converter=a.hitch(this,g))},convert:function(a){var f=a;null!==this._converter&&(f=this._converter(a));return f},addSingleQuotesConverter:function(a){return"'"+a+"'"},datetimeConverter:function(a){var f=a;if(void 0===a||null===a||""===a)f="NaT";return this.addSingleQuotesConverter(f)}})})},"variableeditor/views/CharArrayView":function(){define("variableeditor/views/CharArrayView",
["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.CharArrayView",[a],{constructor:function(a){this.table={}},createTable:function(a){return new g(a)}})})},"variableeditor/views/StringArrayView":function(){define("variableeditor/views/StringArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.StringArrayView",
[a],{constructor:function(){this.table={}},createTable:function(a){return new g(a)}})})},"variableeditor/views/StructureArrayView":function(){define("variableeditor/views/StructureArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/StructureTable","dojo/dom-geometry"],function(h,a,g,f,d){return h("variableeditor.views.StructureArrayView",[g],{createTable:function(b){b.sortAscending=this.peerNode.getProperty("SortAscending");b.sortableColumn=
this.peerNode.getProperty("SortableColumn");b.clientSortHandler=a.hitch(this,function(a){this.peerNode.setProperty("SortAscending",{SortAscending:a,source:"client"})});var d=new f(b);this.peerNode.addEventListener("propertySet",function(a){"SortAscending"===a.data.key&&"server"===a.data.newValue.source&&d._swapSortIcon(null,a.data.newValue.SortAscending)},this.peerNode);return d},getSelectedFields:function(){if(this.table&&this.table.getSelectedFields)return this.table.getSelectedFields()}})})},"variableeditor/views/table/StructureTable":function(){define("variableeditor/views/table/StructureTable",
"dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom dojo/dom-construct dojo/query dojo/dom-style dojo/dom-attr dojo/dom-geometry dijit/registry dojo/domReady! datatoolsservices/TestingHooksUtils datatoolsservices/TestingPropConstants variableeditor/views/table/ArrayTable variableeditor/views/table/HeaderContextMenu variableeditor/VariableEditorUtils variableeditor/views/renderers/_TemplateMixin variableeditor/views/table/_VEColumnHeaders dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){return h("variableeditor.views.table.StructureTable",[r,u,v],{_ascending:!0,_clientSortHandler:null,_sortableColumnLabel:null,_fixedColumnWidths:!0,_lastSortTime:new Date,_contextMenu:null,cellColor:"rgb(166, 220, 255);",defaultProperties:{renderer:{type:"default"},rowHeight:22,dataModel:null,visibility:!0},rowHeight:22,initColumnWidthSet:!1,NAME_COLUMN:"Name",FIELD_COLUMN:"Field",PROPERTY_COLUMN:"Property",VALUE_COLUMN:"Value",SIZE_COLUMN:"Size",
CLASS_COLUMN:"Class",Width_Adjustment:20,constructor:function(a){this.inherited(arguments);this.defaultProperties.showCellBorders=!1;this._setDefaultLeadCellStyle();a.sortAscending&&a.sortAscending.hasOwnProperty("SortAscending")?this._ascending=a.sortAscending.SortAscending:this._ascending=!0;this._sortableColumnLabel=a.sortableColumn;this._clientSortHandler=a.clientSortHandler;this._fixedColumnWidths=void 0===a.fixedColumnWidths?!0:a.fixedColumnWidths;this.showSelectionBorder=this.sendSelectionRanges=
!1;this.rowHeight=22;this.selectedCellStyle="background-color: "+this.cellColor+"z-index:5;";this.debounceResize=t.createDebounceFn(this,[this._updateWidthOnResize],500)},postCreate:function(){this.blockSelection&&this.blockSelection.setIndexedRows(!0);this.inherited(arguments);this._updateTableHeaders();f.add(this.domNode,"StructureTable")},_updateHeaderStyle:function(){},_getLabelProperties:function(){var a={},b=this.getTableModelProperty("ColumnHeaderList"),c=this.getTableModelProperty("ColumnHeaderListPropertyName");
if(!b||!c||b.length!==c.length)return a;a.labels=[];for(var e=0;e<b.length;e++){var d=b[e],f=c[e],g,h;f===this.NAME_COLUMN||f===this.FIELD_COLUMN||f===this.PROPERTY_COLUMN?h=g=!0:(g=t.getLogicalValue(this.getTableModelProperty(c[e]),!0),h=!1);a.labels.push({label:d,checked:g,disabled:h,propertyName:f})}p.getInstance().setPropertyVal(q.HEADER_CONTEXTMENU_LABELS_SET,!0);return a},_attachListeners:function(b){b.addEventListener("headerSelectionChanged",a.hitch(this,"_headerMenuSelectionChanged"));b.addEventListener("headerMenuShown",
a.hitch(this,"_updateHeaderMenuState"))},_createContextMenu:function(a){var b="#"+this.domNode.getAttribute("id")+" .columnHeaderScrollerNode";a=new s({targetNodes:[b],labelProperties:a});a.domNode.setAttribute("data-tag",t.concatenateDataTagStrings("datatools","variableeditor","contextMenu"));return a},_setupColumnSelectionContextMenu:function(){var a=this._getLabelProperties();try{this.contextMenu=this._createContextMenu(a.labels),this.contextMenu.startup(),this._attachListeners(this.contextMenu),
p.getInstance().setPropertyVal(q.HEADER_CONTEXTMENU_INITIALIZED,!0)}catch(b){t.logDebug(b)}},_updateHeaderMenuState:function(a){var b=this._getLabelProperties(),b=b.labels;this.contextMenu.hasSubMenuItems()||this.contextMenu.createSubMenuItems(b);for(var c=0;c<b.length;c++){var e=b[c];a.target.setLabelState(e.label,e.checked)}},_headerMenuSelectionChanged:function(a){this._toggleHeaderColumn(a.data.text);var b=this.blockSelection;!b.isEmpty()&&(a.data.checked&&b.selectedColumns&&b.selectedColumns[0]&&
b.selectedColumns[0].end<=this.getColumnCount()-1)&&(b.selectedColumns[0].end+=1,this.blockSelection=b,this._renderSelection())},_getColumnHeaderPropertyName:function(a){for(var b=this._getLabelProperties(),c=0;c<b.labels.length;c++)if(b.labels[c].label===a)return b.labels[c].propertyName},_toggleHeaderColumn:function(a){a=this._getColumnHeaderPropertyName(a);"undefined"!=typeof a&&(t.getLogicalValue(this.getTableModelProperty(a),!0)?this.peerViewModel.setTableModelProperty(a,!1):this.peerViewModel.setTableModelProperty(a,
!0))},_onDataModelSet:function(){this.inherited(arguments);this.updateModelProperties(!0);this._addDataValueTags()},startup:function(){this.inherited(arguments);this._setupColumnSelectionContextMenu();this._attachDndListeners()},_attachDndListeners:function(){this.dragEnterListener=g(this.domNode,"dragenter",a.hitch(this,this._onDragEnter));this.dragOverListener=g(this.domNode,"dragover",a.hitch(this,this._onDragOver));this.dragLeaveListener=g(this.domNode,"dragleave",a.hitch(this,this._onDragLeave));
this.dropListener=g(this.domNode,"drop",a.hitch(this,this._onDrop))},_onDragEnter:function(a){return!1},_onDragOver:function(a){return!1},_onDragLeave:function(a){return!1},_onDrop:function(a){return!1},_onKeyDown:function(a){65===a.keyCode&&a.ctrlKey&&a.preventDefault()},_setInitialColumnSize:function(){var b=a.clone(this.columns),c=l("\x3ediv.cell:not(.spacer)",this.columnHeaderNode),e=k.position(this.container.domNode),d=e.w/b.length,e=e.w/this.Width_Adjustment,f;for(f=0;f<c.length;f+=1){var g=
k.position(c[f]);b[f].width=this._fixedColumnWidths?g.w:d;if(!this._fixedColumnWidths){if(0===f||1===f)b[f].width+=e;if(2===f||3===f)b[f].width-=e}this.setColumnModelProperty(f,"ColumnWidth",b[f].width);this._setColumnWidthOnTable(f,b[f].width);this.initColumnWidthSet=!0}},resize:function(){if(!this._noAutoSizing){var a=k.position(this.domNode);this.position={width:a.w,height:a.h};this.debounceResize()}this.inherited(arguments)},_updateWidthOnResize:function(){if(this._isColumnWidthInitial()){this.totalColumnWidth=
this.position.width;for(var a=this.totalColumnWidth/this.columns.length,b=this.totalColumnWidth/this.Width_Adjustment,c=a+b,a=a-b,b=0;b<this.columns.length;b++){if(0===b||1===b)this.columns[b].width=c,this._setColumnWidthOnTable(b,c);if(2===b||3===b)this.columns[b].width=a,this._setColumnWidthOnTable(b,a)}}},_onColumnsSet:function(){this._updateColumnHeaderNames();this.totalColumnWidth=0;var a,b=this.ColumnModelProperties.length;for(a=0;a<b;a+=1)if(this.columns[a]){var c=this._getColumnWidthOnTable?
this._getColumnWidthOnTable(a):null,c=c?c:this.getColumnModelProperty(a,"ColumnWidth"),e=parseInt(c,10);null!==c&&void 0!==c&&0<=e?(this.totalColumnWidth+=e,this.columns[a].width||(this.columns[a].width=e)):(this.totalColumnWidth+=this.defaultColumnWidth,this.columns[a].width=this.defaultColumnWidth)}this._renderViewData(!0)},_setColumnWidthOnTable:function(a,b){var c=this._getHeaderNameWithIndex(a);null!=c&&this.setTableModelProperty(c+"ColumnWidth",b)},_getColumnWidthOnTable:function(a){a=this._getHeaderNameWithIndex(a)+
"ColumnWidth";return this.getTableModelProperty(a)},getSelectedFields:function(){return this.getTableModelProperty("SelectedFields")},getDndItemSelector:function(){return".dataBody div.row:not(.spacer)"},getDndHandleSelector:function(){return[".structNameColumn",".structSizeColumn",".structClassColumn"]},_renderViewData:function(a){var b=this;this._throttledRender(a,function(){!b.initColumnWidthSet&&(b.container&&0<k.position(b.container.domNode).w)&&(b._setInitialColumnSize(),p.getInstance().setPropertyVal(q.STRUCT_RENDERED,
!0));b._attachDndHandles();b._addDataValueTags()})},_getStructNameColumnWidget:function(a){return c.getEnclosingWidget(a)},_addDataValueTags:function(){if(this.domNode){var a=this.domNode.querySelectorAll('[class\x3d"row"]'),b=this.getDndHandleSelector();if((b=this.domNode.querySelectorAll(b[0]))&&a)for(var c=0;c<b.length;c+=1){var e=this._getStructNameColumnWidget(b[c]);if(e&&e.getValue&&(e=e.getValue())&&a[c])a[c].dataset.structVarName=e}}},_getColumnTag:function(a){switch(a){case w.structNameColumn:a=
"Name";break;case w.structFieldColumn:a="Field";break;case w.structValueColumn:a="Value";break;case w.structSizeColumn:a="Size";break;case w.structClassColumn:a="Class"}return a},_getColumnDataTag:function(a){a=a.label;return a=this._getColumnTag(a)},_renderSelection:function(){var a=this.blockSelection.selectedRows,b="",e=this.getDndHandleSelector()[0];if(!this.blockSelection.isEmpty()&&null!==this.dataModel){for(var d=0;d<a.length;d+=1){Math.max(1,a[d].start+this.tableRowOffset-this.rowView.start);
Math.max(1,a[d].end+this.tableRowOffset-this.rowView.start);this.getDndHandleSelector();for(var f=a[d].start;f<=a[d].end;f++){var g=this.domNode.getElementsByClassName(e.substring(1,e.length)+" row_"+f);g&&g[0]&&(g=c.getEnclosingWidget(g[0]))&&(b=b+g._value+",")}}b=b.slice(0,-1);b.split(",").length===this.blockSelection.getRowCount()&&this.setTableModelProperty("SelectedFields",b);this._setDefaultLeadCellStyle();a=this.blockSelection.getFirstCellFromLastRow();this._setLeadCellPosition(a[0],a[1])}this.inherited(arguments)},
_flipSelection:function(a){"dataModel"===a.data.key?(this.peerNode.removeEventListener("propertySet",this._flipSelection,this),this.blockSelection.flipRowCount(this.getRowCount()),this._renderSelection()):"Selection"===a.data.key&&this.peerNode.removeEventListener("propertySet",this._flipSelection,this)},_sort:function(a,b){this._ascending!==b&&(this._swapSortIcon(a,b),2<=this.getRowCount()&&this.peerNode.addEventListener("propertySet",this._flipSelection,this),this._clientSortHandler(this._ascending))},
_updateSortIcon:function(a){this._ascending?(f.remove(a,"sortDown"),f.add(a,"sortUp")):(f.remove(a,"sortUp"),f.add(a,"sortDown"))},_swapSortIcon:function(a,b){this._ascending!==b&&(this._ascending=b,a||(a=this._getSortIconNode()),f.contains(a,"sortableColumn")&&(a=a.getElementsByClassName("sortIcon")[0]),this._updateSortIcon(a))},_getSortIconNode:function(){return this._getSortColumnTextDOMNode(this.domNode)},_toggleSort:function(a){1===a.data.which&&(a.target&&a.target.domNode)&&(a=a.target.domNode,
this._isDragNode(a)||this._sort(a,!this._ascending))},_isDragNode:function(a){return f.contains(a,"drag")||f.contains(a,"firstHalfOfDrag")||f.contains(a,"dragBorder")||f.contains(a,"secondHalfOfDrag")},_updateSortableNode:function(e){e=c.getEnclosingWidget(e);f.add(this.columnHeaderScrollerNode,"contextMenuContainer");if(e._inputBoxLabel._value===this.sortableColumn){e=e._getAttachNode(e.HEADER_LABEL_ATTACH_POINT).querySelectorAll(".NonEditableHeader")[0];var d=e.getElementsByClassName("sortIcon"),
g=this.getEnclosingHeaderWidget(e);if(0<d.length)d=d[0];else{var d=b.create("div",null,e,"last"),h=g._inputBox.value.toUpperCase(),h=t.getComputedColumnHeaderWidth(h,"9px Helvetica, Helvetica, sans-serif")+8+"px";f.add(e,"sortableColumn");f.add(d,"sortable");f.add(d,"sortIcon");f.add(d,"sortUp");g.domNode.setAttribute("data-tag",t.createDataTag("sortableColumn"));m.set(g._inputBox.domNode,"max-width",h)}!this.hasOwnProperty("sortListener")&&!g._listeners.mousedown&&g.addEventListener("mousedown",
a.hitch(this,"_toggleSort"));this._updateSortIcon(d)}},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateSortableNode(b);return b},_updateColumnNode:function(a,b){this.inherited(arguments);this._updateSortableNode(a)},_getSortColumnTextDOMNode:function(a){a=c.getEnclosingWidget(a);a=a._getAttachNode(a.HEADER_LABEL_ATTACH_POINT).querySelectorAll(".sortable.sortIcon");var b;for(b=0;b<a.length;b+=1){var e=c.getEnclosingWidget(a[b]);if(this._sortableColumnLabel===e._value)return a[b]}},
onEditingStarted:function(){this.leadCellStyle="background-color: rgb(255, 255, 255);opacity: 1.0;";this._updateSelectionAndSelectionBorderStyle();this._updateLeadCellStyle()},onEditingStopped:function(){this.showSelectionBorder=!1;this._setDefaultLeadCellStyle();this._updateLeadCellStyle();this._updateSelectionAndSelectionBorderStyle()},_updateBlockSelection:function(a,b,c,e){return c=this._updateRowSelection(a,c,e)},onMouseEnter:function(a){},_onColumnMouseDown:function(a){a.preventDefault()},selectColumn:function(){},
deselectColumn:function(){},_onHeaderColumnMouseDown:function(a){a.preventDefault()},_onMouseMove:function(){this.focused||this.domNode.focus();this.cellsDragged=!0},handlePropertySet:function(a){this.inherited(arguments);"dataModel"===a.data.key&&(this.leadCellStyle={},this._updateLeadCellStyle())},_setDefaultLeadCellStyle:function(){this.leadCellStyle="background-color: "+this.cellColor+"opacity: 1.0;"},_updateDataStyles:function(){this._fixedColumnWidths?this.inherited(arguments):this.dataModel&&
(this.rowHeight&&this.position)&&(this._updateScrollerStyles(),this.styleManager.updateStyleRules("spacerLeft",{".row .spacer.leftSpacer":"width: "+this.leftSpaceWidth+"px;"}),this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: 100%;"}),this._updateColumnStyles())},_updateColumnStyles:function(){if(this._fixedColumnWidths)this.inherited(arguments);else{this.styleManager.updateStyleRules("spacerTop",{".body .spacer.topSpacer":"height: "+this.rowView.start*this.rowHeight+"px;"});
this.styleManager.updateStyleRules("dataHeight",{".spacer.dataHeight":"height: "+this.dataModel.getRowCount()*this.rowHeight+"px;",".row":"height: "+this.rowHeight+"px;"});var a=this.totalColumnWidth;this.container&&(this.container.containerNode&&this.container.containerNode.getBoundingClientRect())&&(a=this.container.containerNode.getBoundingClientRect().width);var b=this.columns.slice(this.colView.start,this.colView.end),c=this._isColumnWidthInitial(),e,d={},f,g=a;for(e=0;e<b.length;e+=1){f=this._getCellType(b[e]);
f=this._getColumnStyles(f);if(b[e]&&b[e].width&&!c)e<b.length-1?(f+="width: "+b[e].width+"px;",g-=b[e].width):f+="width: "+g+"px;";else{if(0===e||1===e)f+="width: "+Math.floor(100/b.length+100/this.Width_Adjustment)+"%;";if(2===e||3===e)f+="width: "+Math.floor(100/b.length-100/this.Width_Adjustment)+"%;"}d[".dataColumn .cell:nth-child("+(e+2)+")"]=f}c||this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: "+a+"px;"});this.styleManager.updateStyleRules("columns",d)}},_isColumnWidthInitial:function(){var a=
!0;if(this._fixedColumnWidths)a=!1;else for(var b=0;b<this.columns.length;b+=1)if(this.getColumnModelProperty(b,"ColumnResized")){a=!1;break}return a},_createCustomColumnHeader:function(a,b,c){node=this.inherited(arguments);columnModelProperties=this.ColumnModelProperties;for(var e=0;e<columnModelProperties.length;e++)columnModelProperties[e].HeaderName&&columnModelProperties[e].classList&&c==columnModelProperties[e].HeaderName&&f.add(node,columnModelProperties[e].classList);return node},_getHeaderNameWithIndex:function(a){return 0===
a?this.NAME_COLUMN:a===this._getValueColumnIndex()?this.VALUE_COLUMN:a===this._getSizeColumnIndex()?this.SIZE_COLUMN:a===this._getClassColumnIndex()?this.CLASS_COLUMN:null},_getValueColumnIndex:function(){return!this.getTableModelProperty("ShowValueColumn")?-1:1},_getSizeColumnIndex:function(){return!this.getTableModelProperty("ShowSizeColumn")?-1:this.getTableModelProperty("ShowValueColumn")?2:1},_getClassColumnIndex:function(){if(!this.getTableModelProperty("ShowClassColumn"))return-1;var a=this.getTableModelProperty("ShowValueColumn"),
b=this.getTableModelProperty("ShowSizeColumn");return a&&b?3:a||b?2:1}})})},"datatoolsservices/TestingHooksUtils":function(){define("datatoolsservices/TestingHooksUtils",["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","datatoolsservices/TestingPropConstants"],function(h,a,g,f){var d=[],b=h("datatoolsservices.TestingHooksUtils",[g],{constructor:function(b){this.namespace=b&&b.namespace?b.namespace:"/TestingHooks";this.manager=null;this.manager=a.getClientInstance(this.namespace);
this.addManagerListeners(this.manager);this._initTestingHooks=!1;this.start(this._peerModelManager);this._propRequests=[];this._init()},_init:function(){var a=this;this.manager.addEventListener("rootSet",function(b){if((b=b.target)&&b.hasProperty(f.TESTING_INITIALIZED))a._initTestingHooks=b.getProperty(f.TESTING_INITIALIZED),0<a._propRequests.length&&a._dequeuePropSetRequests()})},createRoot:function(a,b){this.hasRoot()||this.manager.setRoot(a,b)},getRoot:function(){return this.manager.getRoot()},
hasRoot:function(){return this.manager.hasRoot()},setPropertyVal:function(a,b){this.manager&&this.hasRoot()&&this._initTestingHooks&&b?this.getRoot().setProperty(a,b):this._queuePropSetRequests({prop:a,val:b})},_queuePropSetRequests:function(a){this._propRequests&&this._propRequests.push(a)},_dequeuePropSetRequests:function(){this._propRequests.forEach(function(a){this.setPropertyVal(a.prop,a.val)},this);this._propRequests=[]},getPropertyVal:function(a){if(this.manager.hasRoot()){var b=this.getRoot();
if(b.hasProperty(a))return b.getProperty(a)}return null},resetProperties:function(){if(this.hasRoot()){var a=this.getRoot(),b=a.getProperties(),e;for(e in b)a.unsetProperty(e)}},cleanup:function(){a.cleanup(this.namespace)}});b.getInstance=function(a){var f=a&&a.namespace?a.namespace:"/TestingHooks";d[f]||(d[f]=new b(a));return d[f]};return{getInstance:b.getInstance}})},"datatoolsservices/TestingPropConstants":function(){define([],function(){return{TESTING_INITIALIZED:"InitTestingHooks",HEADER_CONTEXTMENU_LABELS_SET:"HeaderContextMenuLabelsSet",
STRUCT_RENDERED:"StructRendererd",HEADER_CONTEXTMENU_INITIALIZED:"HeaderContextMenusInitialized"}})},"variableeditor/views/table/HeaderContextMenu":function(){define("variableeditor/views/table/HeaderContextMenu","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on mw-log/Log mw-menu/ContextMenu mw-menu/CheckBoxMenuItem mw-menu/mixins/property/CloseMenuOnClickMixin mw-peermodel/Observable dojo/domReady! variableeditor/VariableEditorUtils".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){return h("variableeditor.views.table.HeaderContextMenu",
[b,e.Impl],{_labelProperties:void 0,_menuHash:{},VALUE_COLUMNTAG:"Value",SIZE_COLUMNTAG:"Size",CLASS_COLUMNTAG:"Class",VALUECOLUMN_PROPERTYNAME:"ShowValueColumn",SIZECOLUMN_PROPERTYNAME:"ShowSizeColumn",CLASSCOLUMN_PROPERTYNAME:"ShowClassColumn",constructor:function(b){this._labelProperties=b&&b.labelProperties?b.labelProperties:[];this.targetNodes=b.targetNodes;this.willOpenCallback=b.willOpenCallback?b.willOpenCallback:a.hitch(this,"_openCallback")},_openCallback:function(){this.dispatchEvent("headerMenuShown",
this)},postCreate:function(){this.inherited(arguments);this.createSubMenuItems(this._labelProperties)},createSubMenuItems:function(a){a&&0<a.length&&this._addSubMenuItems(a)},hasSubMenuItems:function(){return 0<Object.keys(this._menuHash).length},_addCheckedMenuItem:function(b,e,d){e=new l({text:b,checked:e,closeMenuOnClick:!0});e.on("change",a.hitch(this,"_dispatchHeaderColumnSet"));e.domNode.setAttribute("data-tag",c.concatenateDataTagStrings("datatools","variableeditor","regularContextMenuItem",
d));this.addChild(e);this._menuHash[b]=e},_addDisabledCheckedMenuItem:function(a,b){var e=new l({text:a,checked:!0,disabled:!0,closeMenuOnClick:!0});e.domNode.setAttribute("data-tag",c.concatenateDataTagStrings("datatools","variableeditor","defaultContextMenuItem",b));this.addChild(e);g.add(e.domNode,"disabledContextMenu")},_addSubMenuItems:function(a){for(var b=0;b<a.length;b++){var e=a[b],d=e.label,f=e.checked,g=e.disabled,e=e.propertyName;c.compareValues(e,this.VALUECOLUMN_PROPERTYNAME)?e=this.VALUE_COLUMNTAG:
c.compareValues(e,this.SIZECOLUMN_PROPERTYNAME)?e=this.SIZE_COLUMNTAG:c.compareValues(e,this.CLASSCOLUMN_PROPERTYNAME)&&(e=this.CLASS_COLUMNTAG);g?this._addDisabledCheckedMenuItem(d,e):this._addCheckedMenuItem(d,f,e)}},setLabelState:function(a,b){this._menuHash.hasOwnProperty(a)&&this._menuHash[a].set("checked",b)},_dispatchHeaderColumnSet:function(a){var b=dijit.getEnclosingWidget(a.target);this.dispatchEvent("headerSelectionChanged",this,{target:a.target,text:b.text,checked:b.checked})}})})},"variableeditor/views/table/_VEColumnHeaders":function(){define("variableeditor/views/table/_VEColumnHeaders",
"dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys dijit/registry variableeditor/views/table/_VETableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor dojo/i18n!variableeditor/app/l10n/nls/app variableeditor/views/renderers/_VERendererMixin mw-messageservice/MessageService dojo/text!variableeditor/views/table/VariableEditorColumnHeader.html variableeditor/views/table/_HeadersBase".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){return h([c],{ms:u.messageService,CHANNEL_DuplicateColumnHeader:"ErrorDuplicateColumnHeader",subscriptionCallback:null,subscription:null,pauseValueChangedListener:!1,COLUMN_HEADER_CHANNEL:"/VEColumnHeaderName",_createColumnNode:function(a){var b=new w({templateString:v,editable:q.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),!1),showLabels:q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),showIndices:q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),
!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),labelValue:void 0!==a.label?a.label:void 0===this.getColumnModelProperty(parseInt(a.labelIndex)-1,"HeaderName")?"":this.getColumnModelProperty(parseInt(a.labelIndex)-1,"HeaderName"),indexValue:a.labelIndex});a.icon&&this.getTableModelProperty("ShowHeaderIcons")&&this._addHeaderIconCSS(a.icon,b._inputBoxLabel.domNode);b.setNodeDisplay(b.HEADER_INDEX_ATTACH_POINT,b.showIndices);b.setNodeDisplay(b.HEADER_LABEL_ATTACH_POINT,
b.showLabels);b._inputBoxLabel.isEditable()&&this._attachColumnHeaderListeners(b);b.startup();return b.domNode},_attachColumnHeaderListeners:function(b){var c=this;b._inputBoxLabel.addEventListener("valueChanged",a.hitch(c,"_columnValueChanged",b));b._inputBoxLabel.addEventListener("mousedown",a.hitch(c,"_columnMouseDown"));b._inputBoxLabel.addEventListener("mouseup",a.hitch(c,"_columnMouseUp"));b._inputBoxLabel.addEventListener("click",a.hitch(c,"_columnMouseClick"));b._inputBoxLabel.addEventListener("mousemove",
a.hitch(c,"_columnMouseMove",b._inputBoxLabel));b._inputBoxLabel.addEventListener("editingStarted",a.hitch(c,"_columnEditingStarted"));b._inputBoxLabel.addEventListener("editingStopped",a.hitch(c,"_columnEditingStopped"));this.own(m(b._inputBoxLabel._renderer.domNode,"keydown",a.hitch(c,function(a){!b._inputBoxLabel.isEditing()&&13!==a.keyCode&&c._onTableHeaderKeyDown(a)})))},_removeColumnHeaderListeners:function(a){},_updateColumnNode:function(a,c){var e=k.getEnclosingWidget(a);b.replace(a,"header_"+
c.labelIndex,"header_"+e.indexValue);this._updateColumnNumber(e,c);this._updateColumnLabel(e,c);c.icon&&this.getTableModelProperty("ShowHeaderIcons")&&this._addHeaderIconCSS(c.icon,e._inputBoxLabel.domNode);e=this._getColumnDataTag(c);a.dataset.columnHeaderName=e},_updateColumnNumber:function(a,b){b.labelIndex&&(q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1))?(a.setIndexProperty(parseInt(b.labelIndex)-
1),this.pauseValueChangedListener=!0,a.setIndexValue(b.labelIndex),a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!0),this.pauseValueChangedListener=!1,b.label&&q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0)?a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!0):a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1)):(a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!1),a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1))},_updateColumnLabel:function(a,b){b.label&&q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),
!0)?(this._updateHeaderEditablity(a),this.pauseValueChangedListener=!0,a.setLabelValue(b.label),a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):(a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!1),a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1))},_updateHeaderEditablity:function(a){a._inputBoxLabel.isEditable()!==q.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),!1)&&(a._setEditable(a._inputBoxLabel,q.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),
!1)),a._inputBoxLabel.isEditable()?this._attachColumnHeaderListeners(a):this._removeColumnHeaderListeners(a))},_getColumnDataTag:function(a){return a.label},_columnValueChanged:function(a,b){!0!==this.pauseValueChangedListener&&this._isValidColumnHeaderName(a,b.data.newValue)&&this.setColumnModelProperty(a._inputBoxLabel.index,"HeaderName",b.data.newValue)},_handleColumnHeaderError:function(a,b){var c=k.getEnclosingWidget(a.domNode.parentElement);this.setColumnModelProperty(a.index,"HeaderName",a._originalValue);
c&&c._handleError(b)},_isValidHeaderSyntax:function(a){return/^[a-zA-Z][a-zA-Z0-9_]*$/.test(a)},_isValidColumnHeaderName:function(a,b){var c=a._inputBoxLabel;if(a._isValidHeaderName(b)&&64>=b.length&&this._isValidHeaderSyntax(b))return!0;c.cancelEditing(c);q.displayErrorMessage(g.substitute(s.invalidHeaderName,{varName:"'"+b+"'"}));return!1},_columnMouseDown:function(a){this._onColumnMouseDown(a.data);this._onHeaderColumnMouseDown(a.data,!1)},_columnMouseUp:function(a){this._onHeaderColumnMouseUp(a.data);
this._onWindowMouseUp(a.data,!1);void 0!==this._resizingColumn&&this._onColumnMouseUp(a.data);a.data.stopPropagation()},_columnMouseClick:function(a){this._onHeaderClick(a.data);a.data.stopPropagation()},_columnMouseMove:function(a,b){void 0!==this._resizingColumn&&this._onColumnMouseMove(b.data);void 0!==this._selectingColumn&&(a.isEditing()?this._onColumnHeaderSelection(b.data,!1):this._onColumnHeaderSelection(b.data))},_columnEditingStarted:function(a){this.mouseDownColumnHandler.pause()},_columnEditingStopped:function(a){this.mouseDownColumnHandler.resume()}})})},
"variableeditor/views/CategoricalView":function(){define("variableeditor/views/CategoricalView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.CategoricalView",[a],{createTable:function(a){return new g(a)}})})},"variableeditor/views/TableArrayView":function(){define("variableeditor/views/TableArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/MatlabTable",
"dojo/dom-geometry"],function(h,a,g,f,d){return h("variableeditor.views.TableArrayView",[g],{createTable:function(a){return new f(a)}})})},"variableeditor/views/table/MatlabTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-geometry dojo/store/Memory dojo/dom dojo/query dijit/registry dojo/keys variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/ArrayTable".split(" "),function(h,a,g,f,d,b,l,m,e,k,
c,n,p){return h("variableeditor.views.table.MatlabTable",[p,c,n],{lastClickNode:null,constructor:function(a){this.inherited(arguments)},updateModelProperties:function(){this.inherited(arguments);var a=!1;this.dataModel||(this.dataModel=this.peerNode.getProperty("dataModel"),a=!0);this.dataModel&&this.ColumnModelProperties&&this._updateColumnWidths();a&&(this.dataModel=null)},onMouseDown:function(a){this.inherited(arguments);var b=-1,c=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode&&
a.data.renderer.domNode.dataset)&&(b=parseInt(a.data.renderer.domNode.dataset.row),c=parseInt(a.data.renderer.domNode.dataset.col),e=parseInt(a.data.renderer.domNode.dataset.idx));this._setLeadCellPosition(b,c,e)},onMouseEnter:function(a){this.inherited(arguments);if(this.selectable&&!this.isCellEnterListenerPaused){var b=-1,c=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode&&a.data.renderer.domNode.dataset)&&(b=parseInt(a.data.renderer.domNode.dataset.row),c=parseInt(a.data.renderer.domNode.dataset.col),
e=parseInt(a.data.renderer.domNode.dataset.idx));this._setLeadCellPosition(b,c,e)}},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);b.oldValue=a.data.oldValue;var c=-1,e=-1,d=-1;b.domNode&&b.domNode.dataset&&(c=parseInt(b.domNode.dataset.row),e=parseInt(b.domNode.dataset.col),d=parseInt(b.domNode.dataset.idx));var f=a.data.newValue;!isNaN(c)&&(!isNaN(e)&&!isNaN(d))&&(b.convert&&(f=b.convert(a.data.newValue)),
this.peerNode.getParent().dispatchEvent("peerEvent",this.peerNode.getParent(),{type:"groupedColumnSetData",row:c,column:e,columnIndex:d,data:f}))}},getCellSelector:function(a,b,c){return this.getRowSelector(a)+" .cell:nth-of-type("+(b-this.colView.start+2)+") .idx_"+c},_setLeadCellPosition:function(a,b,c){this.ColumnModelProperties[b]&&(c=this.ColumnModelProperties[b].GroupColumnSize?this.ColumnModelProperties[b].GroupColumnSize-1:c);this.leadCell={row:Math.min(a,this.getRowCount()-1),column:Math.min(b,
this.getColumnCount()-1),index:isNaN(c)?0:c};this._updateLeadCellStyle()},getLeadNode:function(){if(0>this.leadCell.row||0>this.leadCell.column||0>this.leadCell.index||this.leadCell.row>=this.getRowCount()||this.leadCell.column>=this.getColumnCount())return null;var a=this.getCellSelector(this.leadCell.row,this.leadCell.column,this.leadCell.index);return m(a)[0]},_updateLeadCellStyle:function(){var a={};if(this._isLeadNodeInDom()){var b=this.getLeadNode();if((b=this._getCellFromNode(b))&&!this.isCellSelected(b.row,
b.column)){this.styleManager.updateStyleRules("selectionLeadCell",[]);return}this.blockSelection.isEmpty()||(a[".body .dataBodyWrapper .dataRow .dataBody .row:nth-of-type("+(b.row-this.rowView.start+2)+") .cell:nth-of-type("+(b.column-this.colView.start+2)+") .idx_"+this.leadCell.index]=this.leadCellStyle)}this.styleManager.updateStyleRules("selectionLeadCell",a)},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateColumnNode(b,a);return b},_createRowNode:function(a){var b=this.inherited(arguments);
this._updateRowNode(b,a);return b},_updateColumnWidths:function(){if(this.ColumnModelProperties){this.inherited(arguments);var b,c=!1;if(this.dataModel&&this.columns)for(b=this.dataModel.getCurrentStartCol();b<this.dataModel.getCurrentEndCol();b+=1)if(this.columns[b])try{var e=this.getColumnModelProperty(b,"GroupColumnSize");if(e){var d=parseInt(e,10),f=this.getColumnModelProperty(b,"ColumnWidth"),g=parseInt(f,10);if(null!==f&&void 0!==f&&0<=g&&this._currentColumns&&this._currentColumns[b]&&(this._currentColumns[b].groupColumnSize!==
d||this.columns[b].width!==g*d)){this.columns[b].groupColumnSize=d;var h=this.defaultColumnWidth*d;g>h&&(h=g);this.columns[b].width=h;c=!0}}}catch(k){}c&&(b=a.clone(this.columns),this.peerNode.setProperty("columns",b));this._currentColumns=this.columns}}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(h,a,g){return h("dojo.store.Memory",null,{constructor:function(a){for(var d in a)this[d]=a[d];this.setData(this.data||[])},data:null,
idProperty:"id",index:null,queryEngine:g,get:function(a){return this.data[this.index[a]]},getIdentity:function(a){return a[this.idProperty]},put:function(a,d){var b=this.data,g=this.index,h=this.idProperty,h=a[h]=d&&"id"in d?d.id:h in a?a[h]:Math.random();if(h in g){if(d&&!1===d.overwrite)throw Error("Object already exists");b[g[h]]=a}else g[h]=b.push(a)-1;return h},add:function(a,d){(d=d||{}).overwrite=!1;return this.put(a,d)},remove:function(a){var d=this.index,b=this.data;if(a in d)return b.splice(d[a],
1),this.setData(b),!0},query:function(f,d){return a(this.queryEngine(f,d)(this.data))},setData:function(a){a.items?(this.idProperty=a.identifier||this.idProperty,a=this.data=a.items):this.data=a;this.index={};for(var d=0,b=a.length;d<b;d++)this.index[a[d][this.idProperty]]=d}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(h,a,g){var f=function(d){function b(a){d[a]=function(){var b=arguments,k=g(d,function(c){Array.prototype.unshift.call(b,
c);return f(h[a].apply(h,b))});if("forEach"!==a||l)return k}}if(!d)return d;var l=!!d.then;l&&(d=a.delegate(d));b("forEach");b("filter");b("map");null==d.total&&(d.total=g(d,function(a){return a.length}));return d};a.setObject("dojo.store.util.QueryResults",f);return f})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(h){return function(a,g){function f(b){b=h.filter(b,a);var d=g&&g.sort;d&&b.sort("function"==typeof d?d:function(a,b){for(var c,f=0;c=d[f];f++){var g=
a[c.attribute],h=b[c.attribute],g=null!=g?g.valueOf():g,h=null!=h?h.valueOf():h;if(g!=h)return!!c.descending==(null==g||g>h)?-1:1}return 0});if(g&&(g.start||g.count)){var f=b.length;b=b.slice(g.start||0,(g.start||0)+(g.count||Infinity));b.total=f}return b}switch(typeof a){default:throw Error("Can not query with a "+typeof a);case "object":case "undefined":var d=a;a=function(a){for(var f in d){var g=d[f];if(g&&g.test){if(!g.test(a[f],a))return!1}else if(g!=a[f])return!1}return!0};break;case "string":if(!this[a])throw Error("No filter function "+
a+" was found in store");a=this[a];case "function":}f.matches=a;return f}})},"variableeditor/views/table/_VERowHeaders":function(){define("variableeditor/views/table/_VERowHeaders","dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys dijit/registry variableeditor/views/table/_VETableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor dojo/i18n!variableeditor/app/l10n/nls/app variableeditor/views/renderers/_VERendererMixin mw-messageservice/MessageService variableeditor/views/table/_HeadersBase dojo/text!variableeditor/views/table/VariableEditorRowHeader.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w){return h([c],{ms:u.messageService,CHANNEL_DuplicateRowHeader:"ErrorDuplicateRowHeader",subscriptionCallback:null,subscription:null,pauseValueChangedListener:!1,ROW_HEADER_CHANNEL:"/VERowHeaderName",_createRowNode:function(a,b){var c=new v({templateString:w,editable:q.getLogicalValue(this.getTableModelProperty("EditableRowHeaderLabels"),!0),showLabels:q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),!0),showIndices:q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),
!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1),labelValue:void 0!==a.label?a.label:void 0===this.getRowModelProperty(parseInt(a.labelIndex)-1,"RowName")?"":this.getRowModelProperty(parseInt(a.labelIndex)-1,"RowName"),indexValue:a.labelIndex});c.setNodeDisplay(c.HEADER_INDEX_ATTACH_POINT,c.showIndices);c.setNodeDisplay(c.HEADER_LABEL_ATTACH_POINT,c.showLabels);c._inputBoxLabel.isEditable()&&this._attachRowHeaderListeners(c);null!=this.maxIndexWidth&&c.domNode.getElementsByClassName("rowIndex")[0].setAttribute("style",
"width:"+this.maxIndexWidth+"px;");c.startup();return c.domNode},_attachRowHeaderListeners:function(b){var c=this;b._inputBoxLabel.addEventListener("valueChanged",a.hitch(c,"_rowValueChanged",b));b._inputBoxLabel.addEventListener("mousedown",a.hitch(c,"_rowMouseDown"));b._inputBoxLabel.addEventListener("mouseup",a.hitch(c,"_rowMouseUp"));b._inputBoxLabel.addEventListener("click",a.hitch(c,"_rowMouseClick"));b._inputBoxLabel.addEventListener("mousemove",a.hitch(c,"_rowMouseMove",b._inputBoxLabel));
b._inputBoxLabel.addEventListener("editingStarted",a.hitch(c,"_rowEditingStarted"));b._inputBoxLabel.addEventListener("editingStopped",a.hitch(c,"_rowEditingStopped"));b._inputBoxLabel._handleKeyDown=function(a){var d=this._getKeyCode(a);null!==d&&d===e.ENTER&&c._isValidRowHeaderName(b,a.target.value)}},_updateRowNode:function(a,c,e,d){e=k.getEnclosingWidget(a);b.replace(a,"header_"+c.labelIndex,"header_"+e.indexValue);this._updateRowNumber(e,c);this._updateRowLabel(e,c)},_updateRowNumber:function(a,
b){b.labelIndex&&(q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1))?(a.setIndexProperty(parseInt(b.labelIndex)-1),this.pauseValueChangedListener=!0,a.setIndexValue(b.labelIndex),a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!1)},_updateRowLabel:function(a,b){b.label&&q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),
!0)?(this.pauseValueChangedListener=!0,a._inputBoxLabel.index=parseInt(b.labelIndex)-1,a.setLabelValue(b.label),a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!1)},_rowValueChanged:function(a,b){!0!==this.pauseValueChangedListener&&(0<b.data.newValue.length&&this._isValidRowHeaderName(a,b.data.newValue)?this.setRowModelProperty(a._inputBoxLabel.index,"RowName",b.data.newValue):a._inputBoxLabel._setUIValue(b.data.oldValue))},
_handleDuplicateRowHeaderValues:function(a){var b=k.getEnclosingWidget(a.domNode.parentElement);this.setRowModelProperty(a.index,"RowName",a._originalValue);b&&b._handleDuplicateValues()},_isValidRowHeaderName:function(a,b){var c=a._inputBoxLabel;if(a._isValidHeaderName(b))return!0;c.cancelEditing(c);q.displayErrorMessage(g.substitute(s.invalidHeaderName,{varName:"'"+b+"'"}));return!1},_rowMouseDown:function(a){this._onRowMouseDown(a.data);this._onHeaderRowMouseDown(a.data,!1)},_rowMouseUp:function(a){this._onHeaderRowMouseUp(a.data);
this._onWindowMouseUp(a.data)},_rowMouseClick:function(a){this._onHeaderClick(a.data)},_rowMouseMove:function(a,b){void 0!==this._selectingRow&&(a.isEditing()?this._onRowHeaderSelection(b.data,!1):this._onRowHeaderSelection(b.data))},_rowEditingStarted:function(a){this.mouseDownRowHandler.pause()},_rowEditingStopped:function(a){this.mouseDownRowHandler.resume()}})})},"variableeditor/views/CellArrayView":function(){define("variableeditor/views/CellArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView",
"variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.CellArrayView",[a],{constructor:function(a){this.table={}},createTable:function(a){return new g(a)}})})},"variableeditor/views/VectorStructureArrayView":function(){define("variableeditor/views/VectorStructureArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/StructureArrayTable"],function(h,a,g){return h("variableeditor.views.VectorStructureArrayView",[a],{constructor:function(a){this.table=
{}},createTable:function(a){return new g(a)}})})},"variableeditor/views/table/StructureArrayTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-geometry dojo/store/Memory dojo/dom dojo/query dijit/registry dojo/keys variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/ArrayTable".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){return h("variableeditor.views.table.StructureArrayTable",[n,c],{constructor:function(a){this.inherited(arguments)}})})},
"variableeditor/views/DatetimeArrayView":function(){define("variableeditor/views/DatetimeArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.DatetimeArrayView",[a],{constructor:function(a){this.table={}},createTable:function(a){return new g(a)}})})},"variableeditor/views/DurationArrayView":function(){define("variableeditor/views/DurationArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView",
"variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.DurationArrayView",[a],{constructor:function(a){this.table={}},createTable:function(a){return new g(a)}})})},"variableeditor/views/CalendarDurationArrayView":function(){define("variableeditor/views/CalendarDurationArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,a,g){return h("variableeditor.views.CalendarDurationArrayView",[a],{constructor:function(a){this.table=
{}},createTable:function(a){return new g(a)}})})},"variableeditor/views/UITableArrayView":function(){define("variableeditor/views/UITableArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/UITable","dojo/dom-geometry"],function(h,a,g,f,d){return h("variableeditor.views.UITableArrayView",[g],{createTable:function(a){return new f(a)}})})},"variableeditor/views/table/UITable":function(){define("dojo/_base/declare dojo/dom-geometry dojo/store/Memory variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/ArrayTable variableeditor/VariableEditorUtils dojo/_base/lang variableeditor/views/table/BlockSelection".split(" "),
function(h,a,g,f,d,b,l,m,e){return h("variableeditor.views.table.UITable",[b,f,d],{minimumColumnHeaderWidth:75,ColumnNameWidthPadding:8,paddingViewRows:5,paddingPagedRows:5,paddingViewColumns:1,paddingPagedColumns:1,constructor:function(a){this.computedColumnNameWidth=[];this.computedAutoColumnWidths=[]},postCreate:function(){this.inherited(arguments);this.mouseDownRowHandler=this.mouseDownColumnHandler=null},getColumnHeaderPositions:function(){var a=this._getAttachNodes(this.COLUMN_HEADER_ATTACH_POINT);
return l.getColumnHeaderPositions(a)},_onDataModelSet:function(){this.inherited(arguments);this._updateTableHeaders()},_updateColumnHeaderNames:function(){if(this.dataModel&&(this.dataModel.getCurrentStartCol&&this.ColumnModelProperties&&0!==this.ColumnModelProperties.length)&&this.dataModel.getCurrentStartCol()+1===this.ColumnModelProperties[0].ColumnNumber)if(this._computeColumnNameWidthsFromView(),this._hasMoreColumnHeaderThanColumnData()){if(l.logDebug("_VEModelProperties: _updateColumnHeaderNames"),
this.ColumnModelProperties){var a;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol){var b=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),e=l.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),d=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),f=this.getTableModelProperty("ShowHeaderIcons");this.getTableModelProperty("CornerSpacerTitle");var g=this._getColumnHeaderLength();for(a=
this.dataModel.getCurrentStartCol();a<g;a+=1){this.columns[a]||(this.columns[a]={label:"",labelIndex:null});var h=d?this.getColumnModelProperty(a,"HeaderName"):"",m=e?this.getColumnModelProperty(a,"HeaderNumber"):(a+1).toString(),u=f?this.getColumnModelProperty(a,"icon"):"";u&&(this.columns[a].icon=u);h?(this.columns[a].labelIndex=e?parseInt(m):a+1,this.columns[a].label=h):(this.columns[a].labelIndex=b?a+1:"",this.columns[a].label="")}}}}else this.inherited(arguments)},_updateColumnWidths:function(){if(this.dataModel&&
(this.dataModel.getCurrentStartCol&&this.ColumnModelProperties&&0!==this.ColumnModelProperties.length)&&this.dataModel.getCurrentStartCol()+1===this.ColumnModelProperties[0].ColumnNumber){var a=this._applyAutoColumnWidth(),b=!1;if(a.length===this.columns.length)for(var e=0;e<a.length;e++){if(a[e]!==this.columns[e].width){b=!0;break}}else b=!0;if(b&&(0!=a.length&&(this.computedAutoColumnWidths=a),l.logDebug("_VEModelProperties: _updateColumnWidths"),this.ColumnModelProperties)){a=m.clone(this.columns);
e=!1;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.columns){for(var d=this._hasMoreColumnHeaderThanColumnData()?this._getColumnHeaderLength():this.dataModel.getCurrentEndCol(),b=this.dataModel.getCurrentStartCol();b<d;b+=1)if(a[b]||(a[b]={width:0}),a[b]&&a[b]!==this._resizingColumn)try{this._getColumnWidthOnTable&&this._getColumnWidthOnTable(b);var f=this.computedAutoColumnWidths[b],g=parseInt(f,10);null!==f&&(void 0!==f&&0<=g)&&(this._currentColumns&&
this._currentColumns[b]&&this._currentColumns[b].width===g?a[b].width=this._currentColumns[b].width:(e=!0,a[b].width=g))}catch(h){Log.error(h),Log.error(h.stack)}a=a.slice(0,this._getColumnHeaderLength())}this._currentColumns&&a.length!==this._currentColumns.length&&(e=!0);e&&0!==a.length&&this.peerNode.setProperty("columns",a);if(a&&(e||!this._currentColumns))this._currentColumns=a}}},getColumnModelProperties:function(a){if(!this._hasMoreColumnHeaderThanColumnData())return this.inherited(arguments);
var b=a;return!this.ColumnModelProperties||!this.ColumnModelProperties.hasOwnProperty(b)?{}:this.ColumnModelProperties[b]},_renderColumnHeader:function(){if(this._hasMoreColumnHeaderThanColumnData()){var a=this.columns.slice(0);this._updateCornerSpacerLabel(this.cornerSpacerNode);var b=this;this._incrementalUpdateNode({node:this.columnHeaderNode,data:a,oldData:this.oldColumnData,start:this.colView.start,end:this.columns.length,oldStart:this.oldColView.start,oldEnd:this.oldColumnData.length,update:function(e,
d,f,g){b._updateColumnNode(e,a[g])},create:function(e,d){return b._createColumnNode(a[d])}});this.oldColumnData=a;this._updateDataStyles()}else this.inherited(arguments)},_updateTableEditable:function(){},_updateColumnStyles:function(){if(this._isPagedData()||this.dataModel.getCurrentEndCol()===this.dataModel.getColumnCount())if(!this._hasMoreColumnHeaderThanColumnData()&&this._isPagedData())this.inherited(arguments);else{var a=this.columns.slice(this.colView.start,this._getColumnHeaderLength()),
b,e={},d;for(b=0;b<a.length;b+=1)d=this._getCellType(a[b]),d=this._getColumnStyles(d),d+="width: "+(a[b]&&null!==a[b].width&&0<=a[b].width?a[b].width:this.defaultColumnWidth)+"px;",e[".dataColumn .cell:nth-child("+(b+2)+")"]=d;this.styleManager.updateStyleRules("columns",e)}},_getColumnHeaderLength:function(){var a=this.dataModel?this.dataModel.getColumnCount():0,b=a;if(l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0)&&!this._isNumberedColumnName())for(;a<this.ColumnModelProperties.length;a++){var e=
this.ColumnModelProperties[a].HeaderName;"undefined"!=typeof e&&""!=e&&(b=a+1)}return b},_hasMoreColumnHeaderThanColumnData:function(){return!this.dataModel?!1:this._getColumnHeaderLength()<=this.dataModel.getColumnCount()?!1:!0},_computeColumnNameWidthsFromView:function(){if(this.dataModel){var a=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0),b=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),e=this.dataModel.getCurrentStartCol(),d=this._isPagedData()?
this.dataModel.getCurrentEndCol():this._getColumnHeaderLength();if(a)for(a=0;a<d;a++)this.computedColumnNameWidth[e+a]=l.getComputedColumnHeaderWidth(this.ColumnModelProperties[a]&&b?this.ColumnModelProperties[a].HeaderName:"","12px Helvetica, Helvetica, sans-serif");else this.computedColumnNameWidth=[]}},_applyAutoColumnWidth:function(){var a=[],b=0,e=0,d=[],f=this._getColumnHeaderLength();if(0===f)return[];for(var g=0;g<f;g++){var h=this.getColumnModelProperty(g,"ColumnWidth");h&&0<=h?(a[g]=h,b+=
a[g]):(a[g]=isNaN(this.computedColumnNameWidth[g])?this.minimumColumnHeaderWidth:Math.max(this.computedColumnNameWidth[g]+this.ColumnNameWidthPadding,this.minimumColumnHeaderWidth),d.push({index:g,width:a[g]}),e+=a[g])}var f=this.position.width,g=this._getRowHeaderWidth(),h=this._getVerticalScrollbarWidth(),l=this._getViewportPadding(),f=f-l-g-h;e<f-b&&0!==d.length&&(d.sort(function(a,b){return a.width===b.width?b.index-a.index:a.width-b.width}),this._equallyExpand(d,d.length-1,f-b));for(g=0;g<d.length;g++)a[d[g].index]=
d[g].width;return a},_isPagedData:function(){var a=this._convertPxToCols(0,this.position.width)+1;return this.dataModel.getColumnCount()>a},_isNumberedColumnName:function(){return l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0)},_getRowHeaderWidth:function(){return this.showRowHeaders?this.rowHeaderWidth:0},_getVerticalScrollbarWidth:function(){return this._isVerticalScrollBarShown()?this.scrollbarWidth-2:0},_getViewportPadding:function(){return this.showRowHeaders?4:2},
_equallyExpand:function(a,b,e){if(e<a[b].width*(b+1))for(var d=b;a[d-1];d--){if(a[d].width!==a[d-1].width){this._equallyExpand(a,d-1,e-a[d].width*(b-d+1));break}}else{var f=parseInt(e/(b+1));e=parseInt(e%(b+1));for(d=0;d<e;d++)a[d].width=f+1;for(d=e;d<=b;d++)a[d].width=f}},resize:function(){this.inherited(arguments);this._updateColumnWidths()},_updateTotalColumnWidth:function(a){this.totalColumnWidth=0;var b;for(b=0;b<a;b+=1)if(this.columns[b])if(0<=this.columns[b].width)this.totalColumnWidth+=this.columns[b].width;
else{var e=this.computedAutoColumnWidths[b]?this.computedAutoColumnWidths[b]:this.getColumnModelProperty(b,"ColumnWidth"),d=parseInt(e,10);null!==e&&void 0!==e&&0<=d?(this.totalColumnWidth+=d,this.columns[b].width=d):(this.totalColumnWidth+=this.defaultColumnWidth,this.columns[b].width=this.defaultColumnWidth)}},_updateTableHeaders:function(){l.logDebug("_VEModelProperties: _updateTableHeaders");this.RowModelProperties&&(this._updateRowHeaderNames(),this._updateRowHeaderDisplay());this.ColumnModelProperties&&
(this._updateColumnHeaderNames(),this._updateColumnWidths(),this._updateTotalColumnWidth(this.columns.length),this._updateColumnHeaderDisplay())},_onRowMouseDown:function(){},_onColumnMouseDown:function(){},_onHeaderColumnMouseDown:function(a){a.preventDefault()},_onHeaderRowMouseDown:function(a){a.preventDefault()},_onCornerMouseDown:function(){},onMouseDown:function(a){this.contextMenu&&this.contextMenu.close();if(this.selectable){this.cellsDragged=this.isCellEnterListenerPaused=!1;this.mouseMotionHandler.resume();
var b=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(e=this._getRowColumnFromNode(a.data.renderer.domNode),b=e.row,e=e.col);this.isCellDraggable(b,e)&&this.isCellSelected(b,e)&&!a.data.shiftKey?this.selectionUpdated=!1:(this._updateAndRenderSelection(b,e,a.data),this.selectionUpdated=!0)}},_updateAndRenderSelection:function(a,b,d){this._setLeadCellPosition(a,b);this.anchorRow=a;this.anchorColumn=b;this.blockSelection.isEmpty()&&this._resetShiftKeyPivot();var f=new e({indexedRows:!this.sendSelectionRanges}),
f=this._updateBlockSelection(a,b,f,d);this.blockSelection.matchingSelection(f)||(this.blockSelection=f,this._renderSelection(),this.setServerSelection(!1))},_updateBlockSelection:function(a,b,e,d){"none"!==this.selectionType&&"none"!==this.selectionMode&&(d&&d.shiftKey?(d=null,d=this.getShiftKeyPivot(),0>d[0]&&0>d[1]?e.add(0,a,0,b):e.add(d[0],a,d[1],b)):(this._setShiftKeyPivot(a,b),e.addCell(a,b)));return e},_updateSelection:function(a,b,d){var f,g;this._setLeadCellPosition(a,b);d=new e({indexedRows:!this.sendSelectionRanges});
f=Math.min(this.anchorRow,a);a=Math.max(this.anchorRow,a);g=Math.min(this.anchorColumn,b);b=Math.max(this.anchorColumn,b);d.add(f,a,g,b);this.blockSelection=d;this._renderSelection()}})})},"variableeditor/views/UITableTableView":function(){define("variableeditor/views/UITableTableView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/UITableTable","dojo/dom-geometry"],function(h,a,g,f,d){return h("variableeditor.views.UITableTableView",[g],
{createTable:function(a){return new f(a)}})})},"variableeditor/views/table/UITableTable":function(){define("dojo/_base/declare dojo/dom-geometry dojo/store/Memory variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/UITable variableeditor/VariableEditorUtils dojo/_base/lang variableeditor/views/table/BlockSelection".split(" "),function(h,a,g,f,d,b,l,m,e){return h("variableeditor.views.table.UITableTable",b,{updateModelProperties:function(){this.inherited(arguments);
var a=!1;this.dataModel||(this.dataModel=this.peerNode.getProperty("dataModel"),a=!0);this.dataModel&&this.ColumnModelProperties&&(this._updateColumnWidths(),this._updateColumnHeaderNames());a&&(this.dataModel=null)},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateColumnNode(b,a);return b},_createRowNode:function(a){var b=this.inherited(arguments);this._updateRowNode(b,a);return b},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=null;a.data.editor?
b=a.data.editor:a.data.renderer&&(b=a.data.renderer);b.oldValue=a.data.oldValue;var e=-1,d=-1,f=-1;b.domNode&&b.domNode.dataset&&(e=parseInt(b.domNode.dataset.row),d=parseInt(b.domNode.dataset.col),f=parseInt(b.domNode.dataset.idx));var g=a.data.newValue;!isNaN(e)&&(!isNaN(d)&&!isNaN(f))&&(b.convert&&(g=b.convert(a.data.newValue)),this.peerNode.getParent().dispatchEvent("peerEvent",this.peerNode.getParent(),{type:"groupedColumnSetData",row:e,column:d,columnIndex:f,data:g}))}}})})},"variableeditor/views/editors/ArrayOfValuesTextBoxEditor":function(){define("variableeditor/views/editors/ArrayOfValuesTextBoxEditor",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),function(h,a,g,f,d,b){return h("variableeditor.views.editors.ArrayOfValuesTextBoxEditor",[b],{_applyFormatting:function(a,b){var e=null;if("client"===!b)return a;if(!Array.isArray(a)&&"string"===typeof a){try{e=JSON.parse(a),e instanceof Array||(e=[e])}catch(f){0===a.indexOf("[")&&a.lastIndexOf("]")===a.length-1&&(a=a.substring(1,a.length-1)),e=a.replace(/,/g,
" ").split(/\s+/)}var c=!0;if("categorical"===this._state.classname||"datetime"==this._state.classname||"duration"==this._state.classname)c=!1;c&&(e=e.map(function(a){var b=d.filterFloat(a);return b!==b?a:b}.bind(this)));return e}return a},setCursorPosition:function(){var a=this._getUIValue().length;d.selectRange(this._inputBox.inputNode,a,a)}})})},"variableeditor/views/editors/ArrayOfStringsTextBoxEditor":function(){define("variableeditor/views/editors/ArrayOfStringsTextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),
function(h,a,g,f,d,b){return h("variableeditor.views.editors.ArrayOfStringsTextBoxEditor",[b],{_commit:function(){var a=this._getUIValue();""===a?a=[]:(0==a.indexOf("{")&&a.indexOf("}")==a.length-1&&(a=a.substring(1,a.length-1).replace(/'/g,"")),a=a.split(","),1==a.length&&0<a[0].indexOf(";")&&(a=a[0].split(";")),a=a.map(function(a){return a.trim()}));null!==a&&void 0!==a&&this.hasValueChanged(a)?this.setValue(a,"client"):this._setUIValue(this._originalValue);a=this._getUIValue();null!==a&&(void 0!==
a&&this.hasValueChanged(a))&&(this._originalEditValue=this._editValue,this._editValue=a)},setCursorPosition:function(){var a=this._getUIValue().length;d.selectRange(this._inputBox.inputNode,a,a)}})})},"variableeditor/views/editors/LogicalEditor":function(){define("variableeditor/views/editors/LogicalEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/keys variableeditor/views/editors/TextBoxEditor".split(" "),function(h,a,g,f,d,b){return h("variableeditor.views.editors.LogicalEditor",
[b],{_handleKeyPress:function(a){this.inherited(arguments);var b=this._getKeyCode(a);null!==b&&b!==d.ENTER||this.makeLogical()},makeLogical:function(){var a=this._getUIValue(),b=a;this._inputBox&&void 0!==a&&(b=this.isNumeric(a)?0===parseInt(a)?"0":"1":"true"===a.toLowerCase()||"yes"===a.toLowerCase()||"on"===a.toLowerCase()?"1":"false"===a.toLowerCase()||"no"===a.toLowerCase()||"off"===a.toLowerCase()?"0":a);this._setUIValue(b)},setValue:function(a,b,e){"0"!==a&&"1"!==a&&(a="logical("+a+")");this.inherited(arguments)},
_setUIValue:function(a){0<=a.indexOf("logical(")&&0<=a.indexOf(")")&&(a=a.substring(8,a.length-1));this.inherited(arguments)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},stopEditing:function(){this.makeLogical();this.inherited(arguments)}})})},"variableeditor/views/editors/NumericEditor":function(){define("variableeditor/views/editors/NumericEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,a,g,
f,d){return h("variableeditor.views.editors.NumericEditor",[d],{_setUIValue:function(a){var d=a;try{if(null!==a&&void 0!==a&&""!==a){var f=parseInt(a);parseFloat(a)===f&&(d=f);if(this.isHex(a)||this.isRational(a))d=a;this.isComplex(a)&&(d=a)}else d="0"}catch(e){}this._inputBox.set("value",d)},isComplex:function(a){return String(a).replace(/\s+/g,"").match(/^([-+]?(?:\d+|\d*\.\d+))?[-+]?(\d+|\d*\.\d+)?[ij]$/i)},isHex:function(a){return/[0-9A-Fa-f]{16}/g.test(a)},isRational:function(a){return/[0-9]\/[0-9]/.test(a)}})})},
"variableeditor/views/editors/NumericTextEditor":function(){define("variableeditor/views/editors/NumericTextEditor",["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],function(h,a){return h("variableeditor.views.editors.NumericTextEditor",[a],{hasValueChanged:function(a){var f=this.inherited(arguments);try{"string"===typeof a&&"number"===typeof this._originalValue&&"number"===typeof this._editValue&&this._originalValue.toString()===a&&this._editValue.toString()===a&&(f=!1)}catch(d){}return f}})})},
"variableeditor/views/editors/UITableEditor":function(){define("variableeditor/views/editors/UITableEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,a,g,f,d){return h("variableeditor.views.editors.UITableEditor",[d],{_setUIValue:function(a){var d=a;try{if(null===a||void 0===a)d=""}catch(f){}this._inputBox.set("value",d)}})})},"variableeditor/views/editors/UITableStringEditor":function(){define("variableeditor/views/editors/UITableStringEditor",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/StringEditor".split(" "),function(h,a,g,f,d,b){return h("variableeditor.views.editors.UITableStringEditor",[b],{setValue:function(a,b){var e=d.stripOuterDoubleQuotes(a);this.inherited(arguments,[e,b])},_setUIValue:function(a){var b=d.stripOuterDoubleQuotes(a);this.inherited(arguments,[b])},setEditValue:function(a,b){var e=d.stripOuterDoubleQuotes(a);this.inherited(arguments,
[e,b])},_handleFormatting:function(a,b,e){var f=d.stripOuterDoubleQuotes(b);return this.inherited(arguments,[a,f,e])}})})},"variableeditor/views/editors/StringEditor":function(){define("variableeditor/views/editors/StringEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),function(h,a,g,f,d,b){return h("variableeditor.views.editors.StringEditor",[b],{setValue:function(a,b){var e=d.formatString(a,
b);this.inherited(arguments,[a,b,e])},setEditValue:function(a,b){var e=d.formatString(a,b);this.inherited(arguments,[a,b,e])},_handleKeyDown:function(a){a&&(this._getKeyCode(a)===f.TAB?(this._handleStringFormatting("tab"),a.preventDefault()):this.inherited(arguments))},_handleFormatting:function(a,b,e){return d.handleFormatting(a,b,e)}})})},"variableeditor/views/editors/UITableLogicalEditor":function(){define("variableeditor/views/editors/UITableLogicalEditor",["dojo/_base/declare","dojo/_base/lang",
"dojo/dom-style","dojo/keys","variableeditor/views/editors/UITableEditor"],function(h,a,g,f,d){return h("variableeditor.views.editors.UITableLogialEditor",[d],{_setUIValue:function(a){var d=a;try{"1"===a?d="true":"0"===a&&(d="false")}catch(f){}this._inputBox.set("value",d)}})})},"variableeditor/views/editors/UITableMWComboBox":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-form/ComboBox","mw-mixins/mixinDependencyValidator"],function(h,a,g,f){return h(f.validate([g]),{_isMenuOpenable:!1,
_handleArrowNodeMouseDown:function(a){this._isMenuOpenable&&this.inherited(arguments)}})})},"variableeditor/views/editors/UITableNonEditableComboboxEditor":function(){define("variableeditor/views/editors/UITableNonEditableComboboxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/on variableeditor/views/editors/_EditorBase variableeditor/views/editors/UITableMWComboBox variableeditor/VariableEditorUtils dojo/store/Memory".split(" "),function(h,a,g,f,d,b,l,m,e){return h("variableeditor.views.editors.UITableNonEditableComboboxEditor",
[b],{_comboBox:void 0,_categories:[],_onChangeListener:void 0,_onMouseDownListener:void 0,setValue:function(a,b){a&&a.hasOwnProperty("value");this.inherited(arguments)},setState:function(a){if(this.domNode){if(a&&a.categories){this._categories=[];for(var b=0;b<a.categories.length;b+=1)this._categories.push({label:a.categories[b],value:a.categories[b]});this._createComboBox()}this.inherited(arguments)}},_setupDomClasses:function(){this.addCSSClasses(["variableEditorRenderers","cell","cellRenderer"],
this.domNode);this.addCSSClasses("UITableNonEditable",this.domNode)},_createComboBox:function(){this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(l)?(this._setUIItems(this._categories),this._setUIValue(this._value)):(this._comboBox=new l({items:this._categories,editable:!1}),this._setupDomClasses(),this._setReadOnly(!0),this._setUIValue(this._value),this._onChangeListener=d.pausable(this._comboBox,"change",a.hitch(this,"_onChangeHandler")),f.empty(this.domNode),this.domNode.appendChild(this._comboBox.domNode),
this._comboBox.startup())},postCreate:function(){this._comboBox||this._createComboBox();this.inherited(arguments)},stopEditing:function(){},edit:function(){},_getDefaultState:function(){return{categories:[],isProtected:!0}},_onChangeHandler:function(a){this._onChangeListener.pause();this.setValue(a.mwEventData.newValue,"client");this._onChangeListener.resume()},_getUIValue:function(){return this._comboBox.value},_setUIValue:function(a){this._comboBox&&this._onChangeListener&&(this._onChangeListener.pause(),
"\x3cundefined\x3e"===a?this._comboBox.set("placeholder",a):a!==this._getUIValue()&&this._comboBox.set("value",a),this._onChangeListener.resume())},_setUIItems:function(a){this._onChangeListener.pause();this._comboBox.set("items",this._categories);this._onChangeListener.resume()},getStyleNode:function(a){if("backgroundColor"===a)return this.domNode},_setReadOnly:function(a){this._comboBox&&(this._comboBox._isMenuOpenable=!a,a?this.addCSSClasses(this._notEditableCSSClass,this._comboBox.domNode):this.removeCSSClasses(this._notEditableCSSClass,
this._comboBox.domNode))}})})},"variableeditor/views/editors/ComboBoxEditor":function(){define("variableeditor/views/editors/ComboBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/mouse dojo/keys dojo/on variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase dijit/form/ComboBox dijit/form/FilteringSelect dojo/store/Memory dijit/focus".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h("variableeditor.views.editors.ComboBoxEditor",
[k],{_comboBox:void 0,_isProtected:!1,_isOverrideMode:!1,_showUndefined:!0,_categories:[],_comboChangeListeners:void 0,_showDropDownArrow:!0,_doubleClickDuration:0,_clientValidation:!0,setValue:function(a,b){var c=a;a&&a.hasOwnProperty("value")&&(c=a.value);this.inherited(arguments);this.domNode&&(this._comboBox||this._createComboBox(),this._value=""+c,this._comboBox.set("value",c),this._comboBox.set("displayedValue",c))},startup:function(){this._setReadOnly(!0)},_focus:function(){this._comboBox&&
this._comboBox.focusNode&&this._comboBox.focusNode.focus&&q.curNode!==this._comboBox.focusNode&&q.focus(this._comboBox.focusNode)},setState:function(a){this.domNode&&(a&&(this._clientValidation=void 0!==a.clientValidation?a.clientValidation:!0,this._isProtected=void 0!==a.isProtected?a.isProtected:!1,this._showUndefined=void 0!==a.showUndefined?a.showUndefined:!0,this._categories=a.categories?a.categories:this._categories,this._showDropDownArrow=void 0!==a.showDropDownArrow?this._getPossibleBooleanFunctionValue(a.showDropDownArrow):
this.isEditable(),this._createComboBox(),this._comboBox.textbox.setAttribute("data-tag",this.createDataTag("value")),this._setupDomClasses(a)),this.inherited(arguments))},_setupDomClasses:function(a){this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode)},getStore:function(){var a=this._categories,b=new p;if(a){for(var c=0;c<a.length;c+=1)b.put({name:a[c],id:a[c]});
this._getPossibleBooleanFunctionValue(this._showUndefined,!1)&&b.put({name:"\x3cundefined\x3e",id:"\x3cundefined\x3e"})}return b},updateStore:function(a){var b=this.getStore();if(!(0<b.query({name:a}).length)){b.put({name:a,id:a});a=b.query({});for(var b=[],c=0;c<a.length;c+=1)b[c]=a[c].name;this._updateCategories(b)}},_updateCategories:function(b){var c=this.getState(),e={isProtected:this._isProtected,showUndefined:this._showUndefined};c&&(e=a.clone(c));e.categories=b;this.setState(e)},isInStore:function(a){return 0<
this.getStore().query({name:a}).length},_createComboBox:function(){var b=this._getPossibleBooleanFunctionValue(this._isProtected,!1);if(b?this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(n):this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(c))this._comboBox.store=this.getStore(),this._comboBox.set("value",this._value),this._comboBox.set("displayedValue",this._value),this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",
this._comboBox.domNode);else{var g="";this._comboBox&&this._comboBox.focusNode&&(g=this._comboBox.focusNode.getAttribute("style"));this._comboBox&&this._comboBox.destroyRecursive&&this._comboBox.destroyRecursive();var h=e.mergeObjects(this._allArgs,{"class":"vecombobox",value:this._value,displayedValue:this._value,store:this.getStore(),autoComplete:!0,searchAttribute:"name",invalidMessage:"",missingMessage:"",readOnly:!0,commitOnBlur:null});b?(h.name="categories",this._comboBox=this._clientValidation?
new n(h,"vecombobox"):new c(h,"vecombobox")):this._comboBox=new c(h,"vecombobox");this.addCSSClasses(["variableEditorRenderers","cell","vecombobox"],this._comboBox.domNode);this._comboBox.focusNode.style=g;b=a.hitch(this,"_handleKeyboardEvent");m(this._comboBox.domNode,"keypress",b);this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode);this._comboChangeListeners||(this._comboChangeListeners={});this._comboChangeListeners._onChangeListener=
m.pausable(this._comboBox,"change",a.hitch(this,"_comboBoxChanged"));this._changeObjectListenersState(this._comboChangeListeners,"pause");var k=this,l=this._comboBox.openDropDown;this._comboBox.openDropDown=function(){l.apply(this);k.addCSSClasses("DropDownOpen");k._isOverrideMode||k._selectAllText();var b=[];k._allArgs.cssSpecifier&&b.push(k._allArgs.cssSpecifier);b.push("variableEditorRenderers");b.push("veComboBoxDropDown");k.addCSSClasses(b,k._comboBox.dropDown.domNode);k._comboBox.dropDown.domNode.parentNode&&
"scroll"===f.get(k._comboBox.dropDown.domNode.parentNode,"overflow-y")&&f.set(k._comboBox.dropDown.domNode.parentNode,"border","1px solid rgb(126, 171, 205)");m(k._comboBox.dropDown,"close",a.hitch(this,function(){k.removeCSSClasses("DropDownOpen")}))};this._comboBox.startup();d.empty(this.domNode);this.domNode.appendChild(this._comboBox.domNode);this.own(this._comboBox)}},_handleKeyboardEvent:function(b){if(this.isEditing()){"keypress"===b.type?this._handleKeyPress(b):"keydown"===b.type&&this._handleKeyDown(b);
var c=a.mixin({editor:this},b);this.dispatchEvent(b.type,this.domNode,c);b.stopPropagation()}else this.inherited(arguments)},_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===l.ESCAPE)&&this.cancelEditing()},_handleKeyPress:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===l.ENTER)&&(!this._clientValidation&&!this.isInStore(this._getUIValue())?this.cancelEditing():this.stopEditing())},_handleBlurEvent:function(a){a===this&&(this.isEditing()&&(!this._clientValidation&&!this.isInStore(this._getUIValue()))&&
this.cancelEditing(),this.inherited(arguments))},postCreate:function(){this._comboBox||this._createComboBox();this._setReadOnly(!0);this.inherited(arguments)},stopEditing:function(){this._changeObjectListenersState(this._comboChangeListeners,"pause");this._comboBox&&this._comboBox.closeDropDown();this.inherited(arguments);this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode);this._setReadOnly(!0)},edit:function(){this.inherited(arguments);
this.removeCSSClasses("noArrow",this._comboBox.domNode);this._setReadOnly(!1);this._comboBox.loadAndOpenDropDown();this._comboBox.dropDown&&(this._comboChangeListeners._onDDChangeListener||(this._comboChangeListeners._onDDChangeListener=m.pausable(this._comboBox.dropDown,"change",a.hitch(this,"_comboBoxChanged"))),this._comboChangeListeners._onDDSelectListener||(this._comboChangeListeners._onDDSelectListener=m.pausable(this._comboBox.dropDown,"select",a.hitch(this,"_comboBoxChanged"))));this._changeObjectListenersState(this._comboChangeListeners,
"resume")},_getDefaultState:function(){return{categories:[],showDropDownArrow:!0,showUndefined:!0,isProtected:!1}},_handleMouseUp:function(){this._comboBox.textbox.focus()},_handleMouseEvent:function(a){this._editOnSingleClick&&(a&&"mouseover"===a.type?this.removeCSSClasses("noArrow",this._comboBox.domNode):a&&"mouseout"===a.type&&(this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode)));this.inherited(arguments)},_comboBoxChanged:function(a){this.isEditing()&&
(a&&a.textContent&&(a=a.textContent),0<a.trim().length&&(this._setUIValue(a),this.updateStore(a),this.stopEditing()))},editOverride:function(a){this.isEditing()||(a&&this._comboBox&&this._comboBox.textbox&&this._comboBox.textbox?(this._isOverrideMode=!0,this._comboBox.textbox.value=a,this.edit()):(this.edit(),this._selectAllText()))},cancelEditing:function(){this.isEditing()&&this._setUIValue(this._originalValue);this.inherited(arguments)},_selectAllText:function(){this._comboBox&&(this._comboBox.textbox&&
this._comboBox.textbox.select)&&this._comboBox.textbox.select()},_getUIValue:function(){return this._comboBox.textbox.value},_setUIValue:function(a){return this._comboBox.set("value",a)},setEditable:function(a){this.inherited(arguments);this._comboBox&&(this.isEditable()?this.removeCSSClasses(this._notEditableCSSClass,this._comboBox.textbox):this.addCSSClasses(this._notEditableCSSClass,this._comboBox.textbox))},_setReadOnly:function(a){this._comboBox&&(!0===a?this._comboBox.set("readOnly",!0):this._comboBox.set("readOnly",
!1))},getStyleNode:function(a){return"backgroundColor"===a?this.domNode:this._comboBox.focusNode},hasValueChanged:function(a){var b=this._originalValue!==a&&this._editValue!==a;return!this._isProtected||!this._clientValidation?b:b&&this.isInStore(a)}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(h,a,g){return h("dijit.form.ComboBox",[a,g],{})})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(h,a,g,f,d,b,l,m,e){return h("dijit.form.ComboBoxMixin",[m,b],{dropDownClass:l,hasDownArrow:!0,templateString:e,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(b){b.get||f.mixin(b,{_oldAPI:!0,get:function(b){var e=new a;this.fetchItemByIdentity({identity:b,
onItem:function(a){e.resolve(a)},onError:function(a){e.reject(a)}});return e.promise},query:function(b,e){var g=new a(function(){h.abort&&h.abort()});g.total=new a;var h=this.fetch(f.mixin({query:b,onBegin:function(a){g.total.resolve(a)},onComplete:function(a){g.resolve(a)},onError:function(a){g.reject(a)}},e));return d(g)}});this._set("store",b)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&
!this.store._oldAPI){var b=this.declaredClass;f.mixin(this.store,{getValue:function(a,e){g.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[e]},getLabel:function(a){g.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){g.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],
f.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list")}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(h,a,g,f,d,b,l,m,e,k,c){return a("dijit.form._AutoCompleterMixin",c,{item:null,
autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(m("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(e){}}return b},_setCaretPos:function(a,b){b=parseInt(b);k.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);
this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==f.ALT||b==f.CTRL||b==f.META||b==f.SHIFT)){var c=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(e=c.getHighlightedOption()),b){case f.PAGE_DOWN:case f.DOWN_ARROW:case f.PAGE_UP:case f.UP_ARROW:this._opened&&this._announceOption(e);a.stopPropagation();a.preventDefault();break;case f.ENTER:if(e){if(e==
c.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(e==c.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case f.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;e&&this._selectOption(e);case f.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},
_autoCompleteText:function(a){var b=this.focusNode;k.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0==a[c](0).indexOf(this.focusNode.value[c](0))?(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length&&(b.value=a,k.selectInputText(b,c))):(b.value=a,k.selectInputText(b))},_openResultList:function(a,b,c){var e=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=
d.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,c,d.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),e&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},
_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,
!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var e="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),e=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",e,b,c,a)},_announceOption:function(a){if(a){var b;if(a==
this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",g.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);
this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (d.isString(this.dropDownClass)?d.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:d.hitch(this,this._selectOption),id:b,
dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new e({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=b('label[for\x3d"'+this.id+'"]');a.length&&
(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);h.after(this,"onSearch",d.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?
"g":""),e=this.queryExpr.indexOf("${0}");b=l.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==e?"^":"")+"("+b+")"+(e==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,
b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,e){this._set("item",e||null);null==a&&(a="");this.inherited(arguments)}})})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(h,a,g,f,d,b){function l(a){return{id:a.value,value:a.value,name:g.trim(a.innerText||a.textContent||"")}}return h("dijit.form.DataList",
d,{constructor:function(d,e){this.domNode=a.byId(e);g.mixin(this,d);this.id&&b.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:f("option",this.domNode).map(l)}])},destroy:function(){b.remove(this.id)},fetchSelectedItem:function(){var a=f("\x3e option[selected]",this.domNode)[0]||f("\x3e option",this.domNode)[0];return a&&l(a)}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),
function(h,a,g,f,d,b,l){return h("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(a){this._set("list",a)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(a){return RegExp("^"+a.replace(/(\\.)|(\*)|(\?)|\W/g,function(a,b,c,d){return c?".*":d?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&
(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(b){if(!this.disabled&&!this.readOnly){b=b.charOrCode;var e=!1;this._prev_key_backspace=!1;switch(b){case a.DELETE:case a.BACKSPACE:e=this._maskValidSubsetError=this._prev_key_backspace=
!0;break;default:e="string"==typeof b||229==b}if(e)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(a){this._abortQuery();var e=this,f=g.clone(this.query),c={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},h=d.substitute(this.queryExpr,[a.replace(/([\\\*\?])/g,"\\$1")]),l,q=function(){var a=e._fetchHandle=e.store.query(f,
c);!e.disabled&&!(e.readOnly||l!==e._lastQuery)&&b(a,function(d){e._fetchHandle=null;!e.disabled&&(!e.readOnly&&l===e._lastQuery)&&b(a.total,function(a){d.total=a;var b=e.pageSize;if(isNaN(b)||b>d.total)b=d.total;d.nextPage=function(a){c.direction=a=!1!==a;c.count=b;a?(c.start+=d.length,c.start>=d.total&&(c.count=0)):(c.start-=b,0>c.start&&(c.count=Math.max(b+c.start,0),c.start=0));0>=c.count?(d.length=0,e.onSearch(d,f,c)):q()};e.onSearch(d,f,c)})},function(a){e._fetchHandle=null;e._cancelingQuery||
console.error(e.declaredClass+" "+a.toString())})};g.mixin(c,this.fetchProperties);this.store._oldAPI?l=h:(l=this._patternToRegExp(h),l.toString=function(){return h});this._lastQuery=f[this.searchAttr]=l;this._queryDeferHandle=this.defer(q,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var a=this.list;a&&(this.store=l.byId(a))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),
function(h,a,g,f,d,b,l,m){return h("dijit.form._ComboBoxMenu",[d,b,m,l],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(a.add(this.previousButton,"dijitMenuItemRtl"),a.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(b){a.add(b,"dijitMenuItemHover")},onUnhover:function(b){a.remove(b,
"dijitMenuItemHover")},onSelect:function(b){a.add(b,"dijitMenuItemSelected")},onDeselect:function(b){a.remove(b,"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,d=g.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<d;){var f=this.getHighlightedOption();if(a){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=
this.domNode.scrollTop;b+=(f-c)*(a?-1:1);c=f}},handleKey:function(a){switch(a.keyCode){case f.DOWN_ARROW:return this.selectNextNode(),!1;case f.PAGE_DOWN:return this._page(!1),!1;case f.UP_ARROW:return this.selectPreviousNode(),!1;case f.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(h,a,g,f,d){return a("dijit.form._ComboBoxMenuMixin",
null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=d.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(a){this._set("value",a);this.onChange(a)},onClick:function(a){if(a==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(a==this.nextButton)this._setSelectedAttr(null),
this.onPage(1);else this.onChange(a)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(a,d){var f=this._createMenuItem(),e=d(a);e.html?f.innerHTML=e.label:f.appendChild(f.ownerDocument.createTextNode(e.label));""==f.innerHTML&&(f.innerHTML="\x26#160;");return f},createOptions:function(a,d,f){this.items=a;this.previousButton.style.display=0==d.start?"none":"";g.set(this.previousButton,"id",this.id+"_prev");h.forEach(a,function(a,b){var e=
this._createOption(a,f);e.setAttribute("item",b);g.set(e,"id",this.id+b);this.nextButton.parentNode.insertBefore(e,this.nextButton)},this);var e=!1;a.total&&!a.total.then&&-1!=a.total?d.start+d.count<a.total?e=!0:d.start+d.count>a.total&&d.count==a.length&&(e=!0):d.count==a.length&&(e=!0);this.nextButton.style.display=e?"":"none";g.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var a=this.containerNode;2<a.childNodes.length;)a.removeChild(a.childNodes[a.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare",
"dojo/on","dojo/touch","./_ListBase"],function(h,a,g,f){return h("dijit.form._ListMouseMixin",f,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(a,b){this._setSelectedAttr(b,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=
this.defer(function(){this._deferredClick=null;this.onClick(b)})},_onMouseDown:function(a,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(b,!1)},_onMouseUp:function(a,b){this._isDragging=!1;var f=this.selected,g=this._hoveredNode;f&&b==f?this.defer(function(){this._onClick(a,f)}):g&&this.defer(function(){this._onClick(a,g)})},_onMouseOut:function(a,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=
null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(a,b){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=b;this.onHover(b);this._isDragging&&this._setSelectedAttr(b,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(h,a,g){return h("dijit.form._ListBase",null,{selected:null,_listConnect:function(f,d){var b=this;return b.own(a(b.containerNode,
a.selector(function(a,b,e){return a.parentNode==e},f),function(a){b[d](a,this)}))},selectFirstNode:function(){for(var a=this.containerNode.firstChild;a&&"none"==a.style.display;)a=a.nextSibling;this._setSelectedAttr(a,!0)},selectLastNode:function(){for(var a=this.containerNode.lastChild;a&&"none"==a.style.display;)a=a.previousSibling;this._setSelectedAttr(a,!0)},selectNextNode:function(){var a=this.selected;if(a){for(a=a.nextSibling;a&&"none"==a.style.display;)a=a.nextSibling;a?this._setSelectedAttr(a,
!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var a=this.selected;if(a){for(a=a.previousSibling;a&&"none"==a.style.display;)a=a.previousSibling;a?this._setSelectedAttr(a,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(a,d){if(this.selected!=a){var b=this.selected;if(b)this.onDeselect(b);a&&(d&&g.scrollIntoView(a),this.onSelect(a));this._set("selected",a)}else if(a)this.onSelect(a)}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(h,a,g,f,d){return h("dijit.form.FilteringSelect",[f,d],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(a,d,f,e){d&&d[this.searchAttr]!==this._lastQuery||!d&&a.length&&this.store.getIdentity(a[0])!=this._lastQuery||
(a.length?this.set("item",a[0],e):this.set("value","",e||void 0===e&&!this.focused,this.textbox.value,null))},_openResultList:function(a,d,f){d[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(b,d,f,e){this._onChangeActive||(d=null);if(void 0===e){if(null===b||""===b)if(b="",!a.isString(f)){this._setDisplayedValueAttr(f||"",d);
return}var h=this;this._lastQuery=b;g(this.store.get(b),function(a){h._callbackSetLabel(a?[a]:[],void 0,void 0,d)})}else this.valueNode.value=b,this.inherited(arguments,[b,d,f,e])},_setItemAttr:function(a,d,f){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(a){return a.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(b,d){null==b&&(b="");if(!this._created){if(!("displayedValue"in this.params))return;d=!1}if(this.store){this.closeDropDown();
var f=a.clone(this.query),e=this._getDisplayQueryString(b),h;this.store._oldAPI?h=e:(h=this._patternToRegExp(e),h.toString=function(){return e});this._lastQuery=f[this.searchAttr]=h;this._lastDisplayedValue=this.textbox.value=b;this._set("displayedValue",b);var c=this,n={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};a.mixin(n,this.fetchProperties);this._fetchHandle=this.store.query(f,n);g(this._fetchHandle,function(a){c._fetchHandle=null;c._callbackSetLabel(a||[],f,n,d)},function(a){c._fetchHandle=
null;c._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"variableeditor/views/editors/FontNameEditor":function(){define("variableeditor/views/editors/FontNameEditor",["dojo/_base/lang","dojo/_base/declare","variableeditor/views/editors/ComboBoxEditor","variableeditor/VariableEditorUtils","variableeditor/views/editors/FontNameHelper"],function(h,a,g,f,d){var b;return a("variableeditor.views.editors.ComboBoxEditor",
[g],{constructor:function(){b||this._getMATLABFontList()},postCreate:function(){this.inherited(arguments);b&&this._updateCategories(b)},_getMATLABFontList:function(){(new d).getFonts().then(h.hitch(this,function(a){this._setMATLABFontNames(a)}))},_setMATLABFontNames:function(a){!a||!a[0]?f.logDebug("Error getting font list."):(b=a=a[0],this._updateCategories(a))}})})},"variableeditor/views/editors/FontNameHelper":function(){define(["dojo/_base/declare","dojo/Deferred","mw-remote/Remote"],function(h,
a,g){return h(null,{_CLASSIFIER:"FEvalFontNameHelperGetFonts",constructor:function(){g.registerResponseHandler("FEvalResponse:"+this._CLASSIFIER,this._handleEvalResponse,this);g.registerFaultHandler("FEval:"+this._CLASSIFIER,this._handleEvalError,this)},getFonts:function(){var f=new a;g.sendMessage({FEval:{"function":"listfonts",arguments:[],nargout:1,priority:1,dequeMode:"ppe"}},f,this._CLASSIFIER);return f.promise},_handleEvalError:function(a,d){this._implementsDeferred(d)&&d.reject(a)},_handleEvalResponse:function(a,
d){1===a[0].results.length?a[0].isError?d.reject(a[0].messageFaults[0].message):d.resolve(a[0].results):d.reject("Error: Expected 1 result message back from getFonts, received: "+a.length)}})})},"variableeditor/views/editors/CharEditor":function(){define("variableeditor/views/editors/CharEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,a,g,f,d){return h("variableeditor.views.editors.CharEditor",[d],{_applyFormatting:function(a,
d){if(a&&(-1<a.indexOf("\n")||-1<a.indexOf("\t"))&&"server"===d)a=a.replace(/\n/g,"\u21b5"),a=a.replace(/\t/g,"\t");return a}})})},"variableeditor/views/editors/CheckBoxEditor":function(){define("variableeditor/views/editors/CheckBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/keys dojo/on variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase mw-form/CheckBox variableeditor/constants/ClassTypeMaps dijit/focus".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n){return h("variableeditor.views.editors.CheckBoxEditor",[e],{_checkBox:void 0,setValue:function(a){var b=a;if(a&&a.hasOwnProperty("value")&&(b=a.value,this._value===b))return;a=b=m.getLogicalValue(b,!1);this._checkBox&&this._setCheckboxValue(b);this.inherited(arguments)},_handleMouseUp:function(){this._focus()},_focus:function(){this._checkBox&&(this._checkBox.focusNode&&this._checkBox.focusNode.focus)&&(n.curNode!==this._checkBox.focusNode&&n.focus(this._checkBox.focusNode),
this._checkBox.focusNode.focus())},edit:function(){},_inPlaceEdit:function(){},setState:function(a){this.domNode&&(this._checkBox||this._setupCheckBox(),this._setupDomClasses(a),this.inherited(arguments))},_setCheckboxValue:function(a){this._checkBox.set("checked",a);this._checkBox.set("value",a);this._checkBox.focusNode&&this._checkBox.focusNode.setAttribute("value",a)},_setupDomClasses:function(a){var b=a?a.dataType?a.dataType:a["class"]:"logical";this._applyCssClass(b,a?a.isTemporaryValue:!1,!1,
this._checkBox.domNode);this.addCSSClasses(c.ClassTypeMap[b],this.domNode);this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode)},_setupCheckBox:function(){this._checkBox=new k({checked:m.getLogicalValue(this._value,!1),disabled:void 0!==this._editable?!this._editable:!1,tag:this.createDataTag("CheckBoxRenderer","cell"),width:16,height:16});this.isEditable();this._checkBox.on("click",
a.hitch(this,"_commitValue"));d.empty(this.domNode);this.domNode.appendChild(this._checkBox.domNode);this._checkBox.startup();this.own(this._checkBox)},postCreate:function(){this._checkBox||this._setupCheckBox();this.inherited(arguments)},_commitValue:function(a){!0!==this._beingDestroyed&&this.setValue(this._checkBox.get("checked"))},editOverride:function(a){this._editing||(a=m.getLogicalValue(a,!1),this._setCheckboxValue(a),this.edit())},cancelEditing:function(){if(this._editing){var a=m.getLogicalValue(this._originalValue,
!1);this._setCheckboxValue(a);this.inherited(arguments)}},_getUIValue:function(){return this._checkBox.get("checked")},_setUIValue:function(a){this._setCheckboxValue(a)},_setReadOnly:function(a){this._checkBox&&(!0===a?this._checkBox.set("disabled",!0):this._checkBox.set("disabled",!1))}})})},"variableeditor/views/editors/TextAreaEditor":function(){define("variableeditor/views/editors/TextAreaEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dijit/focus variableeditor/views/editors/_EditorBase variableeditor/views/editors/TextArea variableeditor/VariableEditorUtils".split(" "),
function(h,a,g,f,d,b,l,m){h=h("variableeditor.views.editors.TextAreaEditor",[b],{_textArea:void 0,_inputType:"",_outputType:void 0,_delimiters:[",",";"],setValue:function(a){var b=a;a&&a.hasOwnProperty("value")&&(b=a.value);this._textArea&&this._textArea.set("value",b);this.inherited(arguments);this._value=String(this._value)},setState:function(a){this.domNode&&(this._textArea||this._setupInputNode(),a&&a.outputType&&(this._outputType=a.outputType),a&&a.delimiters&&(this._delimiters=a.delimiters),
this._setupDomClasses(a),this.inherited(arguments))},_setupDomClasses:function(a){this._applyCssClass(a?a.dataType?a.dataType:a["class"]:"char",a?a.isTemporaryValue:!1,!1,this._textArea.domNode);this.renderer&&this.renderer.isEditable()?(this.removeCSSClasses("variableEditorNotEditable",this._textArea.domNode),this.removeCSSClasses("variableEditorNotEditable",this._textArea.inputNode)):(this.addCSSClasses("variableEditorNotEditable",this._textArea.domNode),this.addCSSClasses("variableEditorNotEditable",
this._textArea.inputNode));this.addCSSClasses("veTextAreaEditor")},_handleKeyboardEvent:function(b){if(this._editing){"keydown"===b.type&&this._handleKeyDown(b);var d=a.mixin({editor:this},b);this.dispatchEvent(b.type,this.domNode,d)}else this.inherited(arguments)},_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===f.ESCAPE)&&this.cancelEditing()},_commitValue:function(a){var b=this._getContent(a);b!==this._originalValue?b!==this._getContent(this._editValue)?(this.dispatchEvent("valueChanged",
this,{editor:this,oldValue:this._originalValue,newValue:a}),this._value=this._getContent(a),this._editValue=a,this._originalValue=this._getContent(a),this._textArea.set("value",this._getContent(a)),this._renderer._originalValue=a,this.renderer._editValue=this._editValue):this._revertChanges():this._textArea.set("value",this._originalValue);this.stopEditing()},_getContent:function(a){return"string"===typeof a?0===a.indexOf("[")||0===a.indexOf("{")?a.substring(1,a.length-1):a:JSON.stringify(a)},_getNumericArrayCommitValues:function(a){var b=
[];a=a.replace(/\[|\]/g,"");0<a.length&&a.split(",").forEach(function(a){a=a.replace(/inf(\s*)/ig,"Infinity");b.push(parseFloat(a))});return b},_focus:function(){this._textArea&&this._textArea.focusNode&&this._textArea.focusNode.focus&&d.curNode!==this._textArea.focusNode&&d.focus(this._textArea.focusNode)},_getCommitValue:function(){var a;if(this._textArea){var b=this._textArea.get("value"),c=this._outputType||this._inputType;if(this._delimiters&&this._delimiters.length)for(var d=0;d<this._delimiters.length;d+=
1)b=b.replace(RegExp(this._delimiters[d],"g"),"\n");if("cell"===c||"char"===c&&-1!==b.indexOf("\n"))a=this._getCellArrayValue(b);else if("char"===c)a=this._getCharArrayValue(b);else if("numericArrayStr"===c)a=this._getNumericArrayValue(b);else if("numericArray"===c)a=this._getNumericArrayValue(b),a=this._getNumericArrayCommitValues(a);else if("array"===c){if(""===b)return[];a=b.split(/\r\n|\r|\n/g)}}return a},_handleBlurEvent:function(a){if(a===this&&this._getPossibleBooleanFunctionValue(this._commitOnBlur,
!0)&&(!this.domNode.contains(document.activeElement)||-1===d.activeStack.indexOf(this.domNode.id))){var b=this._getCommitValue();b&&this._commitValue(b);this.inherited(arguments)}},_setupInputNode:function(){this._textArea=new l({value:this._value,readOnly:!0,tag:this.createDataTag("TextBoxRenderer","cell"),style:{resize:"none"}});this.domNode.appendChild(this._textArea.domNode)},postCreate:function(){this._textArea||this._setupInputNode();this.inherited(arguments)},_revertChanges:function(){this._value=
this._originalValue},stopEditing:function(){this._editing&&(this._setReadOnly(!0),this._textArea.set("value",this._originalValue),this.inherited(arguments))},edit:function(){if(!this._editing&&(this._setReadOnly(!1),this.inherited(arguments),this._textArea&&this._textArea.inputNode&&this._textArea.inputNode.focus(),void 0!==this._editValue)){var b=this._getMultiLineEditValue(this._editValue);this._textArea.set("value",b);this._textArea.startup();this._textArea.inputNode.scrollTop=0;m.selectRange(this._textArea.inputNode,
0,0);b=a.hitch(this,"_getFocus");setTimeout(b,0)}},_setReadOnly:function(a){this._textArea&&(!0===a?this._textArea.set("readOnly",!0):this._textArea.set("readOnly",!1))},_getFocus:function(){d.focus(this._textArea.inputNode)},_getMultiLineEditValue:function(a){if("string"===typeof a){if("{}"===a)return this._inputType="cell","";if("[]"===a)return this._inputType="numericArrayStr","";if(0===a.indexOf("{")){this._inputType="cell";if(-1===a.indexOf("'"))return a.substring(1,a.length-1);var b="["+(this._delimiters?
this._delimiters.join(""):",;")+"]";return a.replace(RegExp("(['\"][ ]*"+b+"[ ]*['\"])|([ ]*"+b+"[ ]*['\"])|(['\"][ ]*"+b+"[ ]*)","g"),"\n").replace(/(\{[ ]*['"])|(['"][ ]*\})/g,"")}if(-1!==a.indexOf("'"))return this._inputType="char",a.replace(/'/g,"");0<=a.indexOf("[")&&0<=a.indexOf("]")?this._inputType="numericArrayStr":this._inputType="array";return a.replace("[","").replace("]","").replace(/,/g,"\n").replace(/;/g,"\n")}b=JSON.stringify(a);-1!==b.indexOf('"')?this._inputType="array":this._inputType=
"numericArray";for(var c="",d=0;d<a.length;d+=1)c=c+a[d]+"\n";return"numericArray"===this._inputType&&(c=c.replace(/Infinity/gi,"inf"),""===c&&"number"===typeof a)?b:c.trim()},_getCellArrayValue:function(a){var b=a;0===a.trim().length?b="{}":(b=a.replace(/\'/g,"''").replace(/\n/g,"';'"),-1===a.indexOf("{")&&(b="{'"+b),-1===a.indexOf("'}")&&(b+="'}"));return b},_getCharArrayValue:function(a){var b=a;0===a.trim().length?b="''":(b=a.replace(/\n/g,"';'"),0!==a.indexOf("'")&&(b="'"+b),a.lastIndexOf("'")!==
a.length-1&&(b+="'"));return b},_getNumericArrayValue:function(a){var b;if(0===a.trim().length)b="[]";else{for(b=a.trim().replace(/\n/g,",");-1!==b.indexOf(",,");)b=b.replace(/,,/g,",");-1===a.indexOf("[")&&(b="["+b);-1===a.indexOf("]")&&(b+="]")}return b},editOverride:function(a){this._editing||(this._textArea.set("value",a),this.edit())},cancelEditing:function(){this._editing&&(this._textArea.set("value",this._originalValue),this.inherited(arguments))},_getUIValue:function(){return this._textArea.get("value")},
_setUIValue:function(a){var b=this._outputType||this._inputType;!a&&"numericArray"===b?a="[ ]":!a&&"cell"===b&&(a="{ }");this._textArea.set("value",a)},setOutputType:function(a){this._outputType=a},getOutputType:function(){return this._outputType}});h.INPUT_TYPE_CELL_ARRAY="cell";h.INPUT_TYPE_CHAR_ARRAY="char";h.INPUT_TYPE_NUMERIC_ARRAY_STRING="numericArrayStr";h.INPUT_TYPE_NUMERIC_ARRAY="numericArray";h.INPUT_TYPE_JS_ARRAY="array";return h})},"variableeditor/views/editors/TextArea":function(){define(["dojo/_base/declare",
"dojo/dom-geometry","mw-form/TextArea","mw-mixins/mixinDependencyValidator"],function(h,a,g,f){return h(f.validate([g]),{width:"100%",height:60,_validateSizeInput:function(a){"string"===typeof a&&"%"===a.charAt(a.length-1)||this.inherited(arguments)},_getAdjustedSize:function(a,b,f){if(("width"===a||"height"===a)&&"string"===typeof b){if("%"===b.charAt(b.length-1))return b}else return this.inherited(arguments)}})})},"variableeditor/views/editors/BinaryToggleButtonEditor":function(){define(["dojo/_base/declare",
"variableeditor/views/editors/_EditorBase","mw-form/ToggleButton","variableeditor/views/renderers/_TemplateMixin","dojo/text!variableeditor/views/editors/templates/binaryToggleButtonEditor.html"],function(h,a,g,f,d){return h([a,f],{templateString:d,_enumeratedValues:null,_icon:null,_button:null,setState:function(a){this.inherited(arguments);if(!a.enumeratedValues)throw"Expected enumeratedValues for Editor State";if(!a.icon)throw"Expected icons for Editor State";if(2!==a.enumeratedValues.length)throw"Expected enumeratedValues to be exactly two";
this._editable=this._commitOnBlur=!1;this._enumeratedValues=this._state.enumeratedValues;this._icon=this._state.icon;this._createButton()},postCreate:function(){this.inherited(arguments);this._createButton()},setValue:function(a,d,f){this._value=a;this._setUIValue(a,d,f)},_setUIValue:function(a){this._button&&this._button.set("checked",this._enumeratedValues[1]===a)},_getUIValue:function(){return this._value},_createButton:function(){this._icon&&(!this._button&&this.domNode)&&(this._button=new g({icon:this._icon.IconURL,
checked:this._value===this._enumeratedValues[1],description:"'"+this._enumeratedValues[1]+"'"}),this._button.domNode.setAttribute("data-tag",this.createDataTag("BinaryToggleButton")),this.own(this._button,this._button.on("change",function(a){this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});a.mwEventData.newValue!==this._value&&(a=this._button.get("checked")?this._enumeratedValues[1]:this._enumeratedValues[0],this.dispatchEvent("valueChanged",
this,{renderer:this,oldValue:this._value,newValue:a}))}.bind(this))),this._button.placeAt(this.domNode),this._button.startup())}})})},"variableeditor/views/editors/ToggleButtonGroupEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/_EditorBase","mw-form/ToggleButton","variableeditor/views/renderers/_TemplateMixin","dojo/text!variableeditor/views/editors/templates/toggleButtonGroupEditor.html"],function(h,a,g,f,d){var b=0;return h([a,f],{templateString:d,_enumeratedValues:null,
_icons:null,_buttonsMap:null,setState:function(a){this.inherited(arguments);if(!a.enumeratedValues)throw"Expected enumeratedValues for Editor State";if(!a.icons)throw"Expected icons for Editor State";if(2>a.icons.length||a.icons.length!==a.enumeratedValues.length)throw"Expected icons and enumeratedValues to be equal length arrays with 2 or more elements";this._editable=this._commitOnBlur=!1;this._enumeratedValues=this._state.enumeratedValues;this._icons=this._state.icons;this._createAllButtons()},
postCreate:function(){this.inherited(arguments);this._createAllButtons()},setValue:function(a,b,d){this._value=a;this._setUIValue(a,b,d)},_setUIValue:function(a){this._buttonsMap&&this._buttonsMap[a].set("checked",!0)},_getUIValue:function(){return this._value},_createAllButtons:function(){if(this._icons&&!this._buttonsMap&&this.domNode){this._buttonsMap={};var a="variable_editor_toggle_button_group_"+b;b+=1;for(var d=0;d<this._icons.length;d++){var e=this._enumeratedValues[d];this._buttonsMap[e]=
this._createSingleButton(e,this._icons[d].IconURL,a);this._buttonsMap[e].placeAt(this.domNode);this._buttonsMap[e].startup()}}},_createSingleButton:function(a,b,d){b=new g({icon:b,buttonGroup:d,checked:this._value===a,description:"'"+a+"'"});b.domNode.setAttribute("data-tag",this.createDataTag("ToggleButtonGroupEditor.Button",a));this.own(b,b.on("change",function(b){this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});b.mwEventData.newValue&&a!==
this._value&&this.dispatchEvent("valueChanged",this,{renderer:this,oldValue:this._value,newValue:a})}.bind(this)));return b}})})},"variableeditor/views/editors/ScaleColorsTextBoxEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],function(h,a){return h([a],{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-tag","datatools.variableeditor.views.editors.ScaleColorsTextBoxEditor")},setValue:function(a){var f=function(a){return a.map(function(a){return Math.round(100*
a)/100}).join()};a instanceof Array&&(a=a[0]instanceof Array?a.map(f).join(";"):f(a));this.inherited(arguments)},setEditValue:function(a){a=this._value;this.inherited(arguments)},setState:function(a){a&&(a.isMetaData=!1);this.inherited(arguments)}})})},"variableeditor/views/editors/PopupVariableEditor":function(){define("variableeditor/views/editors/PopupVariableEditor","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-style dojo/keys variableeditor/views/editors/_EditorBase dijit/Dialog variableeditor/ClientPeerManagerFactory mw-messageservice/MessageService".split(" "),
function(h,a,g,f,d,b,l,m,e){return h("variableeditor.views.editors.PopupVariableEditor",[b],{_dialog:void 0,_contentPane:void 0,_manager:void 0,constructor:function(a){this._manager=this._dialog=void 0;a&&this.init(a)},init:function(){this.inherited(arguments);this._dialog=new l({title:"",style:"width: 600px; height: 300px;","class":"variableEditorPopupEditor"});this._dialogClosedListener=g(this._dialog,"hide",a.hitch(this,"stopEditing"))},setValue:function(a){a&&a.hasOwnProperty("value");this.inherited(arguments)},
stopEditing:function(){this._editing&&(this._manager&&m.deleteManager(this._manager),this.dispatchEvent("editingStopped",this,{editor:this,value:this._value,state:this._state}),this._editing=!1)},_setReadOnly:function(){},edit:function(){if(!this._editing){this._editing=!0;this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});this._dialog.set("title",this.propertyName);var a="caller";this._allArgs&&(this._allArgs.valueObject&&this._allArgs.valueObject.workspace)&&
(a=this._allArgs.valueObject.workspace);var b=this._value;this._allArgs&&(this._allArgs.valueObject&&this._allArgs.valueObject.editorValue)&&(b=this._allArgs.valueObject.editorValue);this._manager=m.createManager({messageService:e.messageService,ignoreUpdates:!1,editable:!0,resizeBehaviour:"fixed",size:{width:575,height:250}});var d=this;this._manager&&(this._manager.addEventListener("managerReady",function(e){e=e.data.peerManager.openVariable(b,null,null,a);d._dialog.set("content",e)}),this._dialog.show())}}})})},
"variableeditor/views/editors/ColorEditor":function(){define("dojo/_base/Color dojo/_base/declare dojo/dom-class dojo/on mw-colorpicker/ColorPicker ./_ColorStylesSwatch dojo/text!variableeditor/views/editors/templates/ColorEditor.html dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(h,a,g,f,d,b,l,m,e){function k(a){"none"!==a&&("auto"!==a&&"flat"!==a&&"interp"!==a&&"texturemap"!==a)&&(a=(new h(a)).toHex());return a}return a([m,e],{value:null,showColorStyles:!1,templateString:l,colorStyleOptions:[],
COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(){this.colorStylesSwatch=this.colorPicker=null;this.value=arguments[0].value;this.colorStyleOptions=arguments[0].colorStyleOptions;this.inherited(arguments)},_setValueAttr:function(a){a=k(a);a!==this.get("value")&&this._setValue(a)},_setValue:function(a){this._set("value",a);a===this.COLOR_NONE?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!0),this.colorStylesSwatch.set("autoColorSelected",
!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_AUTO?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!0),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",
!1)),this._unselectColorPicker(a)):a===this.COLOR_FLAT?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!0),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_INTERP?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",
!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!0),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_TEXTUREMAP?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",
!0)),this._unselectColorPicker(a)):(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1),g.remove(this.colorPicker.previewColorNode,"mwColorPickerNonePreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerAutoPreview"),g.remove(this.colorPicker.previewColorNode,
"mwColorPickerFlatPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerInterpPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerTextureMapPreview")),this.colorPicker.set("value",a,!1))},forceSetValue:function(a){a=k(a);this._setValue(a)},_getValueAttr:function(){return this.colorPicker.get("value")},_setShowColorStylesAttr:function(a){a&&!this.colorStylesSwatch&&this._showColorStyelsSwatch()},buildRendering:function(){this.inherited(arguments);this.colorPicker=new d({showPreview:!0,
showCustomPicker:!0,showRecentColors:!1,value:this.value});this.colorPicker.placeAt(this.domNode)},postCreate:function(){this.inherited(arguments);setTimeout(function(){this.colorPicker&&this.colorPicker.own(f(this.colorPicker,"change",this._handleChange.bind(this)))}.bind(this),0)},startup:function(){this.inherited(arguments);this.colorPicker.startup();this.colorStylesSwatch&&this.colorStylesSwatch.startup()},destroy:function(){this.colorPicker&&this.colorPicker.destroy();this.colorStylesSwatch&&
this.colorStylesSwatch.destroy();this.colorStylesSwatch=this.colorPicker=null;this.inherited(arguments)},_handleChange:function(a){a.mwEventData&&(a=a.mwEventData.newValue,this._set("value",a,!1),this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),g.remove(this.colorPicker.previewColorNode,
"mwColorPickerNonePreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerAutoPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerFlatPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerInterpPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerTextureMapPreview"),this.emit("update-color",{newColorValue:a}),this._enableColorSpinner())},_handleUpdateColor:function(a){if(a.newColorValue===this.COLOR_NONE||a.newColorValue===this.COLOR_AUTO||a.newColorValue===
this.COLOR_FLAT||a.newColorValue===this.COLOR_INTERP||a.newColorValue===this.COLOR_TEXTUREMAP)this.colorPicker&&this._unselectColorPicker(a.newColorValue),this.emit("update-color",a)},_showColorStyelsSwatch:function(){this.colorStylesSwatch||(this.colorStylesSwatch=new b({colorStyleOptions:this.colorStyleOptions}),this.colorStylesSwatch.placeAt(this.domNode,"first"),this.colorStylesSwatch.own(f(this.colorStylesSwatch,"update-color",this._handleUpdateColor.bind(this))))},_unselectColorPicker:function(a){var b=
this.colorPicker.paletteNode.gridNode.querySelector(".dijitPaletteCellSelected"),d=this.colorPicker.recentColorsNode.querySelector(".dijitPaletteCellSelected");b&&b.classList.remove("dijitPaletteCellSelected");d&&d.classList.remove("dijitPaletteCellSelected");this.colorPicker.previewColorNode.classList.remove("mwColorPickerNonePreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerAutoPreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerFlatPreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerInterpPreview");
this.colorPicker.previewColorNode.classList.remove("mwColorPickerTextureMapPreview");a===this.COLOR_NONE?this.colorPicker.previewColorNode.classList.add("mwColorPickerNonePreview"):a===this.COLOR_AUTO?this.colorPicker.previewColorNode.classList.add("mwColorPickerAutoPreview"):a===this.COLOR_FLAT?this.colorPicker.previewColorNode.classList.add("mwColorPickerFlatPreview"):a===this.COLOR_INTERP?this.colorPicker.previewColorNode.classList.add("mwColorPickerInterpPreview"):a===this.COLOR_TEXTUREMAP&&this.colorPicker.previewColorNode.classList.add("mwColorPickerTextureMapPreview");
this._disableColorSpinner()},_disableColorSpinner:function(){var a=this.colorPicker.spinnerNode.domNode.querySelectorAll(".dijitTextBox");[].slice.call(a).forEach(function(a){g.add(a,"disableInput");a=a.querySelectorAll("input[type\x3d'text']");[].slice.call(a).forEach(function(a){a.tabIndex=-1;a.value=""})})},_enableColorSpinner:function(){var a=this.colorPicker.spinnerNode.domNode.querySelectorAll(".dijitTextBox");[].slice.call(a).forEach(function(a){g.remove(a,"disableInput");a=a.querySelectorAll("input[type\x3d'text']");
[].slice.call(a).forEach(function(a){a.tabIndex=0})})},_setReadOnly:function(){}})})},"variableeditor/views/editors/_ColorStylesSwatch":function(){define("dojo/_base/declare dojo/dom-class dojo/text!variableeditor/views/editors/templates/_ColorStylesSwatch.html dojo/i18n!variableeditor/app/l10n/nls/app dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(h,a,g,f,d,b){return h([d,b],{title:f.colorPickerColorStylesSwatchTitle,noneColorSelected:!0,autoColorSelected:!0,flatColorSelected:!0,interpColorSelected:!0,
texturemapColorSelected:!0,templateString:g,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(a){this.colorStyleOptions=a.colorStyleOptions;this._noneStyleCellNode=this._renderStyleCell(this.COLOR_NONE,"mwColorPaletteSwatch mwColorPickerNoneColorSwatch");this._autoStyleCellNode=this._renderStyleCell(this.COLOR_AUTO,"mwColorPaletteSwatch mwColorPickerAutoColorSwatch");this._flatStyleCellNode=this._renderStyleCell(this.COLOR_FLAT,
"mwColorPaletteSwatch mwColorPickerFlatColorSwatch");this._interpStyleCellNode=this._renderStyleCell(this.COLOR_INTERP,"mwColorPaletteSwatch mwColorPickerInterpColorSwatch");this._texturemapStyleCellNode=this._renderStyleCell(this.COLOR_TEXTUREMAP,"mwColorPaletteSwatch mwColorPickerTextureMapColorSwatch")},_setNoneColorSelectedAttr:function(b){b?a.add(this._noneStyleCellNode,"dijitPaletteCellSelected"):a.remove(this._noneStyleCellNode,"dijitPaletteCellSelected");this._set("noneColorSelected",b)},
_setFlatColorSelectedAttr:function(b){b?a.add(this._flatStyleCellNode,"dijitPaletteCellSelected"):a.remove(this._flatStyleCellNode,"dijitPaletteCellSelected");this._set("flatColorSelected",b)},_setAutoColorSelectedAttr:function(b){b?a.add(this._autoStyleCellNode,"dijitPaletteCellSelected"):a.remove(this._autoStyleCellNode,"dijitPaletteCellSelected");this._set("autoColorSelected",b)},_setInterpColorSelectedAttr:function(b){b?a.add(this._interpStyleCellNode,"dijitPaletteCellSelected"):a.remove(this._interpStyleCellNode,
"dijitPaletteCellSelected");this._set("interpColorSelected",b)},_setTexturemapColorSelectedAttr:function(b){b?a.add(this._texturemapStyleCellNode,"dijitPaletteCellSelected"):a.remove(this._texturemapStyleCellNode,"dijitPaletteCellSelected");this._set("texturemapColorSelected",b)},postCreate:function(){this.inherited(arguments);this._renderStyleCells()},_renderStyleCells:function(){this.colorStyleOptions.map(function(a){switch(a){case this.COLOR_AUTO:this.colorStyleNodes.appendChild(this._autoStyleCellNode);
break;case this.COLOR_NONE:this.colorStyleNodes.appendChild(this._noneStyleCellNode);break;case this.COLOR_FLAT:this.colorStyleNodes.appendChild(this._flatStyleCellNode);break;case this.COLOR_INTERP:this.colorStyleNodes.appendChild(this._interpStyleCellNode);break;case this.COLOR_TEXTUREMAP:this.colorStyleNodes.appendChild(this._texturemapStyleCellNode)}}.bind(this))},_renderStyleCell:function(a,b){var d=document.createElement("div");d.setAttribute("tabindex","0");d.setAttribute("class",b);var f=
document.createElement("div");f.setAttribute("class","dijitPaletteCell");f.setAttribute("title",a);f.appendChild(d);f.onclick=this._handleSelect.bind(this);f.onkeypress=this._handlePress.bind(this);return f},_handlePress:function(a){32===a.keyCode&&this._handleSelect(a)},_handleSelect:function(a){if(a.currentTarget.children&&a.currentTarget.children[0]&&a.currentTarget.children[0].classList)if(a=a.currentTarget.children[0].classList,a.contains("mwColorPickerAutoColorSwatch")){if(!this.autoColorSelected||
!this._autoStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._autoStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!0),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"auto"})}else if(a.contains("mwColorPickerNoneColorSwatch")){if(!this.noneColorSelected||!this._noneStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._noneStyleCellNode.classList.add("dijitPaletteCellSelected"),
this.set("noneColorSelected",!0),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"none"})}else if(a.contains("mwColorPickerFlatColorSwatch")){if(!this.flatColorSelected||!this._flatStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._flatStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",
!1),this.set("flatColorSelected",!0),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"flat"})}else if(a.contains("mwColorPickerInterpColorSwatch")){if(!this.interpColorSelected||!this._interpStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._interpStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",
!0),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"interp"})}else if(a.contains("mwColorPickerTextureMapColorSwatch")&&(!this.texturemapColorSelected||!this._texturemapStyleCellNode.classList.contains("dijitPaletteCellSelected")))this._texturemapStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",
!0),this.emit("update-color",{newColorValue:"texturemap"})}})})},"variableeditor/views/editors/ColorTextBoxEditor":function(){define("variableeditor/views/editors/ColorTextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils dojo/parser dojo/dom-construct dojo/sniff dijit/focus dojo/keys dojo/on variableeditor/views/editors/TextBoxEditor variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/editors/templates/ColorTextBoxEditor.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s){h=h("variableeditor.views.editors.ColorTextBoxEditor",[b,l,r],{_hasStyle:!1,_hasAlpha:!1,_inputBox:null,_alpha:1,_valueIsAdjusting:!1,_rangeZeroToOne:!0,_doubleClickDuration:0,_inputValueChangeListener:void 0,constructor:function(a){this.templateString=s;this._rangeZeroToOne=a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;a&&(this._allArgs=a,this.init(a));m.parse()},_setUIColor:function(a,b){var c=this._getColorValues(a),c=c.color;(b||void 0===
b)&&this._setForegroundValues(c,a)},_getUIColor:function(){return this._value===l.COLOR_AUTO||this._value===l.COLOR_FLAT||this._value===l.COLOR_NONE||this._value===l.COLOR_INTERP||this._value===l.COLOR_TEXTUREMAP||"string"===typeof this._value&&"3 double"===this._value.slice(-8)?this._value:new g(this._value)},_setForegroundValues:function(a,b){this._value=b;if(b===l.COLOR_AUTO||b===l.COLOR_FLAT||b===l.COLOR_NONE||b===l.COLOR_INTERP||b===l.COLOR_TEXTUREMAP||"string"===typeof b&&"3 double"===b.slice(-8))this._inputBox.setValue(b),
this._inputBox.setEditValue(b),this._inputBox._setUIValue(b);else{var c=this._rangeZeroToOne?255:1,d,e,f;this._rangeZeroToOne?(d=(Math.round(100*(a.r/c))/100).toFixed(2),e=(Math.round(100*(a.g/c))/100).toFixed(2),c=(Math.round(100*(a.b/c))/100).toFixed(2),f=(Math.round(100*a.a)/100).toFixed(2)):(d=a.r.toString(),e=a.g.toString(),c=a.b.toString(),f=a.a.toString());this._inputValueChangeListener.pause();this._inputBox.setValue(d+","+e+","+c+(this._hasAlpha?","+f:""));this._inputBox.setEditValue(d+","+
e+","+c+(this._hasAlpha?","+f:""));this._inputBox._setUIValue(d+","+e+","+c+(this._hasAlpha?","+f:""));this._inputValueChangeListener.resume()}},_setupDomClasses:function(a,b){a&&this.addCSSClasses("veDiagonalStrikeout");this._applyCssClass(b?b.dataType?b.dataType:b["class"]:"color",b?b.isTemporaryValue:!1,!1);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable"):this.addCSSClasses("variableEditorNotEditable")},setValue:function(a){if(this.domNode){var b=!1,c=a;a&&a.hasOwnProperty("value")&&
(c=a.value);c||(c=l.WHITE.toCss(!0),b=!0);this.removeCSSClasses("veDiagonalStrikeout");this._setupDomClasses(b,a);this.domNode.setAttribute("data-tag",this.createDataTag("ColorRenderer","cell"));this._setUIColor(c);this.inherited(arguments)}else this._value=a},postCreate:function(){this._setupInputBoxNode();this._hasStyle=this._state?d.getLogicalValue(this._state.showStyle,!1):!1;this._hasAlpha=this._state?d.getLogicalValue(this._state.showAlpha,!1):!1;this.inherited(arguments);this.addCSSClasses("veColorRenderer");
k("mac")&&this.addCSSClasses("macScrollBarWidth")},_setupInputBoxNode:function(){var b=this._getAttachNode("colorValue");if(b){this._inputBox=new q({value:this._value,state:this._state,editable:this._editable,editOnSingleClick:!0});e.place(this._inputBox.domNode,b,"last");this._inputValueChangeListener=p.pausable(this._inputBox,"valueChanged",a.hitch(this,"_inputBoxValueChanged"));this._inputBox.addEventListener("click",a.hitch(this,"_inputMouseClick"));this._inputBox.addEventListener("editingStarted",
a.hitch(this,"_reDispatchEvent"));this._inputBox.addEventListener("editingStopped",a.hitch(this,"_reDispatchEvent"));var c=this,d=this._inputBox._handleKeyDown;this._inputBox._handleKeyDown=function(a){c._ignoreInvalidKeys(a);d.apply(c._inputBox,[a]);c._inputBoxKeyDown(a)};this._inputBox._handleBlurEvent=function(a){a===this&&c._handleBlurEvent(a)};var f=this._inputBox.edit,g=this;this._inputBox.edit=function(){g._originalValue=g._value;g.isEditable()&&(g._setUIColor(g._value),g.focusTextBox(!0));
f.apply(c._inputBox)}}b=a.hitch(this,"_handleKeyboardEvent");p(this.domNode,"keypress",b);this.focusNode=this._inputBox.focusNode},_reDispatchEvent:function(a){this.dispatchEvent(a.type,this,a.data)},_changeListenerState:function(a){a&&"string"===typeof a&&(this.inherited(arguments),this._inputBox._changeListenerState(a))},_swatchMouseClick:function(a){this._handleMouseEvent(a)},_inputMouseClick:function(a){this._inputBox.edit();this._handleMouseEvent(a.data)},_ignoreInvalidKeys:function(a){var b=
this._getKeyCode(a);b!==n.ESCAPE&&b!==n.ENTER&&(b===n.LEFT_ARROW||b===n.LEFT||b===n.RIGHT_ARROW||b===n.RIGHT||b===n.TAB||b===n.UP_ARROW||b===n.DOWN_ARROW||48<=b&&57>=b||188==b||190==b||62===b||b==n.DELETE||b==n.BACKSPACE||219==b||221==b||8==b||46==b||65<=b&&90>=b||b!=n.SPACE&&a.preventDefault())},_inputBoxKeyDown:function(a){a=this._getKeyCode(a);a===n.ESCAPE?this.cancelEditing():a===n.ENTER&&this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"keyDown")},_colorChanged:function(a,
b){this._isInvalidColor(a)?this.cancelEditing():this._colorsEqual(a,this._value)?(this._setUIColor(a),this.stopEditing()):this._commitNewValue(a,b)},_isInvalidColor:function(a){return a.constructor===Array?(a=a.filter(function(a){return!isNaN(a)&&0<=a&&255>=a}),3>a.length):!1},_commitNewValue:function(a,b){var c=this._value;this._value=this._getColorCommitValue(a);this._setUIColor(this._value,!1);d.removeFromClassList(this.domNode,"veDiagonalStrikeout");this.stopEditing();var e=this._getColorValues(this._value),
e=e&&e.color||l.WHITE;this._setUIColor(this._value);this._colorsEqual(c,this._value)||this.dispatchEvent("valueChanged",this,{editor:this,oldValue:this._originalValue,newValue:this._value,newColor:e,eventTriggerInfo:b})},_getNumericColorArrayValues:function(a){if(a===l.COLOR_AUTO||a===l.COLOR_FLAT||a===l.COLOR_NONE||a===l.COLOR_INTERP||a===l.COLOR_TEXTUREMAP||"string"===typeof a&&"3 double"===a.slice(-8))return a;var b=[];if(a){var c=this._rangeZeroToOne?255:1;a=a.split(/^\[|,| |\]$/g).filter(function(a){return 0!==
a.length});b=a.map(function(a){a=parseFloat(a)*c;return Math.round(Math.max(0,Math.min(255,a)))});3<b.length&&(b[3]=parseFloat(a[3]))}return b},_inputBoxValueChanged:function(a){var b=a.data.newValue,c=this._value;b&&(b=this._getNumericColorArrayValues(b))&&b.length&&(c=new g(b));this._valueIsAdjusting?(c=c||l.WHITE,this.dispatchEvent("valueAdjusting",this,{editor:this,oldValue:a.data.oldValue,newValue:c.toCss(!0),newColor:c})):this._colorChanged(c)},_handleBlurEvent:function(a){a=document.activeElement;
if(this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(!this.domNode.contains(a)||-1===c.activeStack.indexOf(this.domNode.id))&&this._renderer&&this._renderer.domNode&&a!==this._renderer.domNode)this._editing=!0,this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"widgetBlur")},_handleColorBlur:function(a){this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._editing&&a&&a.target&&!this.domNode.contains(a.target)&&this._renderer&&this._renderer.domNode&&
a.target!==this._renderer.domNode)&&this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"widgetBlur")},focusTextBox:function(a){a&&this._inputBox._focus()},stopEditing:function(){this.isEditing()&&this._inputBox&&(this._inputBox.stopEditing(),this._inputBox.setCursorPosition(0,0));this.inherited(arguments)},cancelEditing:function(){var a=this.isEditing();a&&this._inputBox&&this._inputBox.cancelEditing();this._setUIColor(this._originalValue);this._editing=a;this.inherited(arguments)},
_getUIValue:function(){var a=this._getUIColor();return a===l.COLOR_AUTO||a===l.COLOR_FLAT||a===l.COLOR_NONE||a===l.COLOR_INTERP||a===l.COLOR_TEXTUREMAP||"string"===typeof a&&"3 double"===a.slice(-8)?a:a.toCss(!0)},_setReadOnly:function(a){this._inputBox&&this._inputBox._setReadOnly&&this._inputBox._setReadOnly(a)},destroy:function(){this._inputBox.destroy();this.inherited(arguments)}});h.COLOR_VALUE_0_TO_1_INCREMENT=0.01;h.COLOR_VALUE_0_TO_255_INCREMENT=1;return h})},"variableeditor/views/editors/_ColorUtils":function(){define("variableeditor/views/editors/_ColorUtils",
["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/_base/Color"],function(h,a,g,f,d){var b=new d([255,255,255,1]);h=h("variableeditor.views.editors._ColorUtils",[],{_getColorStringFromValue:function(a){return"auto"===a||"flat"===a||"none"===a||"interp"===a||"texturemap"===a?b.toCss(!0):a&&a.toCss?a.toCss(!0):(new d(a)).toCss(!0)},_getColorValues:function(a){var f=a;a&&a.value&&(f=a.value);f||(f=b);var e={value:b.toCss(!0),alpha:1,color:b},g=b;"auto"===a||"flat"===a||"none"===
a||"interp"===a||"texturemap"===a?e.value=a:(Array.isArray(f)?(Array.isArray(f[0])&&(f[0]=255,f[1]=255,f[2]=255,f[3]=1),g=new d(f)):g=f.toRgba&&f.toCss?f:new d(f),e.value=g.toCss(!0),e.alpha=g.a);e.color=g;return e},_colorsEqual:function(a,b){var e=new d,f=new d;if(!a&&b||a&&!b)return!1;if("auto"===a||"flat"===a||"none"===a||"interp"===a||"texturemap"===a||"auto"===b||"flat"===b||"none"===b||"interp"===b||"texturemap"===b)return a===b;e=a&&a.toRgba&&a.toCss?a:new d(a);f=b&&b.toRgba&&b.toCss?b:new d(b);
return e.toCss(!0)===f.toCss(!0)},_getJSColorValuesFromMATLABStringArray:function(a,b){var d=a;void 0===b&&(b=!0);var f=b?255:1;if("string"===typeof a||a instanceof String)"["!==a.substr(0,1)&&(a="["+a+"]"),d=JSON.parse(a.replace(/, /g,",").replace(/ /g,",").replace(/\[/g,"[[").replace(/\]/g,"]]").replace(/;/g,"],["));if(Array.isArray(d)){if(0<d.length&&!Array.isArray(d[0])){var c=[];c[0]=d;d=c}d=d.map(function(a){var b=a.map(function(a){return Math.round(a*f)});4<=b.length&&(b[3]=a[3]);return b})}return d},
_getColorCommitValue:function(a){"auto"===a||("flat"===a||"none"===a||"interp"===a||"texturemap"===a)||(a=new d(a),a.a=this._alpha,a=a.toCss(!0));return a},_createColorGradientCss:function(a){var b="",d=this;a&&a.length&&(a=this._getJSColorValuesFromMATLABStringArray(a).map(function(a){return d._getColorStringFromValue(a)}).join(","),b="background: -webkit-linear-gradient(left,"+a+"); /* For Safari 5.1 to 6.0 */\nbackground: -o-linear-gradient(right,"+a+"); /* For Opera 11.1 to 12.0 */\nbackground: -moz-linear-gradient(right,"+
a+"); /* For Firefox 3.6 to 15 */\nbackground: linear-gradient(to right,"+a+"); /* Standard syntax */\n");return b},_isNone:function(a){return"string"===typeof a&&"none"===a.toLowerCase()}});h.WHITE=b;h.COLOR_AUTO="auto";h.COLOR_FLAT="flat";h.COLOR_NONE="none";h.COLOR_INTERP="interp";h.COLOR_TEXTUREMAP="texturemap";return h})},"variableeditor/views/editors/ColormapEditor":function(){define("variableeditor/views/editors/ColormapEditor","dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/on dojo/aspect variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/renderers/_TemplateMixin mw-form/ComboBox variableeditor/views/renderers/ColorOrderRenderer dijit/focus dojo/text!./templates/ColormapEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){var r={value:"custom",label:q.colormapEditorCustom},s=["parula","jet",{value:"hsv",label:"HSV"},"hot","cool","spring","summer","autumn","winter","gray","bone","copper","pink","lines","colorcube","prism","flag","white"];return h("variableeditor.views.editors.ColormapEditor",[m,e],{templateString:p,_select:void 0,_selectChangeListeners:void 0,_customValue:!1,_customRenderers:void 0,_resizeTimeouts:void 0,_buttonColormapNodes:void 0,_colormapList:s,_doubleClickDuration:0,
postCreate:function(){this.inherited(arguments);this._setupSelect()},_setupSelect:function(){this._select?this._setSelectItems():(this._select=new k(l.mergeObjects(this._allArgs,{editable:!1,disabled:!this.isEditable(),value:void 0,width:"100%",height:"100%",_validateSizeInput:function(a){"string"===typeof a&&"%"===a.charAt(a.length-1)||this.inherited(arguments)},_getAdjustedSize:function(a,b,c){if(("width"===a||"height"===a)&&"string"===typeof b){if("%"===b.charAt(b.length-1))return b}else return this.inherited(arguments)}})),
this.own(this._select),b.before(this._select,"_getSelectedItemFromLabel",function(a){return[this._fixLabel(a)]}.bind(this)),this._customRenderers={button:this._getNewCustomColormapRenderer(),menuItem:this._getNewCustomColormapRenderer()},this._addColormapToButton(),this._setSelectItems(),this._selectChangeListeners={_onChangeListener:d.pausable(this._select,"change",a.hitch(this,"_commitValue"))},this._resizeTimeouts={},this.own(d(window,"resize",a.hitch(this,"_resizeSelect"))),b.before(this._select,
"_openComboBoxMenu",function(){this._resizeMenu()}.bind(this)),this._select.startup(),g.empty(this.domNode),this.domNode.appendChild(this._select.domNode),this._resizeSelect())},destroy:function(){this.inherited(arguments);this._resizeTimeouts&&(this._resizeTimeouts.menu&&clearTimeout(this._resizeTimeouts.menu),this._resizeTimeouts.button&&clearTimeout(this._resizeTimeouts.button))},_commitValue:function(){!0!==this._beingDestroyed&&this.setValue(this._getUIValue())},_resizeSelect:function(){this.domNode&&
(f.position(this.domNode).h?(this._resizeTimeouts.button||(this._resizeTimeouts.button=setTimeout(a.hitch(this,"_resizeButton"),10)),this._resizeTimeouts.menu&&clearTimeout(this._resizeTimeouts.menu),this._resizeTimeouts.menu=setTimeout(a.hitch(this,"_resizeMenu"),100)):setTimeout(a.hitch(this,"_resizeSelect"),16))},_resizeButton:function(){this._resizeTimeouts.button=null;this._updateColorOrderRendererValue(this._customRenderers.button)},_resizeMenu:function(){this._resizeTimeouts.menu=null;if(this._select.domNode&&
this._select.get("menu")&&this._select.get("menu").domNode){var a=f.getContentBox(this._select.domNode).w;f.setContentSize(this._select.get("menu").domNode,{w:a})}this._updateColorOrderRendererValue(this._customRenderers.menuItem)},_getNewCustomColormapRenderer:function(){var a=l.mergeObjects(this._allArgs,{value:void 0,inPlaceEditor:null,editor:null}),a=new c(a);this.addCSSClasses(this._getIconClasses("custom"),a.domNode);this._customValue&&a.setValue(this._customValue);a.startup();return a},_addColormapToButton:function(){var a=
this._select.inputNode;this.addCSSClasses(["colormapItem","colormapButton"],a.parentNode);this.addCSSClasses(["colormapLabel","colormapButton"],a);this._buttonColormapNodes={icon:g.create("div",null,a,"before"),custom:g.place(this._customRenderers.button.domNode,a,"before")};this.addCSSClasses(["colormapIcon","colormapButton"],this._buttonColormapNodes.icon);this._setButtonNodeVisible(this._buttonColormapNodes.icon,!1);this.addCSSClasses(["colormapIcon","colormapButton"],this._buttonColormapNodes.custom);
this._setButtonNodeVisible(this._buttonColormapNodes.custom,!1)},_setSelectItems:function(){this._selectChangeListeners&&this._selectChangeListeners._onChangeListener&&this._selectChangeListeners._onChangeListener.pause();var a=this._getItems();this._select.set("items",a);var b=this._select.get("menu").domNode.childNodes[0];this.addCSSClasses("colormapMenu",b);for(var b=b.childNodes,c=0;c<b.length;c++)this._setupItemNode(b[c],a[c].value);this._setUIValue(this._value);this._selectChangeListeners&&
this._selectChangeListeners._onChangeListener&&this._selectChangeListeners._onChangeListener.resume()},_setupItemNode:function(a,b){this.addCSSClasses("colormapItem",a);var c=a.childNodes[0];this.addCSSClasses("colormapLabel",c);"custom"===b?g.place(this._customRenderers.menuItem.domNode,c,"before"):(c=g.create("div",null,c,"before"),this.addCSSClasses(this._getIconClasses(b),c))},setValue:function(a){var b=a;a&&a.hasOwnProperty("value")&&(b=a.value);this.inherited(arguments);this._setCustomValue(b);
this._select&&this._setUIValue(b)},_setCustomValue:function(b){if(this._isValidCustomValue(b)&&!l.compareValues(b,this._customValue)){var c=this.getState(),c=c?a.clone(c):{};c.customValue=b;this.setState(c);b&&this._customRenderers&&(this._updateColorOrderRendererValue(this._customRenderers.button,b),this._updateColorOrderRendererValue(this._customRenderers.menuItem,b))}},_updateColorOrderRendererValue:function(a,b){var c=void 0!==b;b=b||this._customValue;if(a&&b&&this._isValidCustomValue(b)){var d=
this._getColormapWidth(),d=Math.min(14>d?14:d,b.length);if(c||!a._value||a._value.length!==d)if(b.length>d){for(var c=[],d=(b.length-1)/(d-1),e=0;e<b.length;e+=d)c.push(b[Math.round(e)]);a.setValue(c)}else a.setValue(b)}},_getColormapWidth:function(){try{var a=f.getContentBox(this._select.domNode).w,b=f.position(this._select.arrowNode).w,c=f.position(this._select.inputNode).w,d=f.getPadBorderExtents(this._customRenderers.button.domNode).w+f.getMarginExtents(this._customRenderers.button.domNode).w;
return a-b-c-d}catch(e){return 0}},setState:function(a){this.domNode&&(a&&(void 0!==a.customValue&&(this._customValue=a.customValue),this._colormapList=this._fixColormapList(a.colormapList||this._colormapList),this._setupSelect()),this.inherited(arguments))},_getDefaultState:function(){return{customValue:!1,colormapList:s}},_getUIValue:function(){var a=this._select.get("value");return void 0===a||"custom"===a?this._customValue:a},_setUIValue:function(a){this._isUIOption(a)?("string"!==typeof a&&(a=
"custom"),this._select.set("value",a),this._setButtonColormap(a)):(a=this._getItems(),this.setValue(0<a.length?a[0].value:void 0))},_isUIOption:function(a){return this._isValidValue(a)&&(this._customValue||"string"===typeof a)},_setButtonColormap:function(a){if(this._buttonColormapNodes){var b="custom"===a,c=this._buttonColormapNodes.icon;c&&(this.replaceCSSClasses(this._getIconClasses(),this._getIconClasses(a),c),this._setButtonNodeVisible(c,!b));(a=this._buttonColormapNodes.custom)&&this._setButtonNodeVisible(a,
b)}},_setButtonNodeVisible:function(a,b){b?this.removeCSSClasses("hiddenColormapIcon",a):this.addCSSClasses("hiddenColormapIcon",a)},_setReadOnly:function(a){this._select&&this._select.set("disabled",a)},_focus:function(){this._select&&this._select.focusNode&&this._select.focusNode.focus&&n.curNode!==this._select.focusNode&&n.focus(this._select.focusNode)},hasValueChanged:function(a){return!l.compareValues(this._originalValue,a)},_getItems:function(a){a=a||this._colormapList;return a.map(function(a){var b=
a.value||a;return{value:b,label:this._fixLabel(a.label||b.charAt(0).toUpperCase()+b.slice(1))}}.bind(this))},_isValidValue:function(a){return!a?!1:"string"===typeof a?this._getItems().some(function(b){return b.value===a}):this._isValidCustomValue(a)},_isValidCustomValue:function(a){if(!1===a)return!0;if(!(a instanceof Array&&0<a.length))return!1;for(var b=0;b<a.length;b++){if(3!==a[b].length)return!1;for(var c=0;3>c;c++)if("number"!==typeof a[b][c]||0>a[b][c]||1<a[b][c])return!1}return!0},_fixColormapList:function(a){a=
a||this._colormapList;-1!==a.indexOf("all")&&(a=a.concat(s));var b=this._getItems(this._customValue?[r].concat(s):s);a=a.filter(function(a){return b.some(function(b){return!b.seen&&(b.value===a||b.value===a.value)?b.seen=!0:!1})});var c=a.some(function(a){return"custom"===a||"custom"===a.value});return this._customValue&&!c?[r].concat(a):a},_getIconClasses:function(a){a=a||this._getItems(["custom"].concat(s));"string"===typeof a?a=[{value:a}]:void 0!==a.value&&(a=[a]);for(var b=["colormapIcon"],c=
0;c<a.length;c++)b.push("cmap-"+a[c].value);return b},_fixLabel:function(a){return a.replace(/^[ \n\.]+/g,"")}})})},"variableeditor/views/renderers/ColorOrderRenderer":function(){define("variableeditor/views/renderers/ColorOrderRenderer","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/dom-class dojo/parser variableeditor/views/renderers/_RendererBase variableeditor/views/editors/_ColorUtils variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/renderers/templates/ColorOrderRenderer.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){h=h("variableeditor.views.renderers.ColorOrderRenderer",[m,e,k],{_rangeZeroToOne:!0,constructor:function(a){this.templateString=c;this._rangeZeroToOne=a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;a&&(this._allArgs=a,this.init(a));l.parse()},postCreate:function(){this.inherited(arguments);this._updateDomColors()},_createColorDivs:function(a,c){if(a&&c)for(var e=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne),f=100/e.length,g=0;g<
e.length;g+=1){var h=this._getColorStringFromValue(e[g]),h="width: "+f.toPrecision(4).toString()+"%;background: "+h+";",h=d.create("div",{style:h,innerHTML:"."});b.add(h,"colorDiv");d.place(h,c,"last")}},_updateDomColors:function(){if(this.domNode&&this._value){var a=this.domNode,b=this._getAttachNode("colorSwatch");a.removeChild(b);d.empty(b);this._createColorDivs(this._value,b);d.place(b,a,"last")}},setValue:function(a){this.inherited(arguments);this.domNode&&this._updateDomColors()},_setReadOnly:function(){}});
h.COLOR_SWATCH_ATTACH_POINT="colorSwatch";return h})},"variableeditor/views/editors/RGBColorEditor":function(){define("dojo/_base/declare mw-colorpicker/MColor variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/editors/ColorDropDownEditor variableeditor/views/renderers/_TemplateMixin variableeditor/VariableEditorUtils dojo/text!./templates/RGBColorEditor.html".split(" "),function(h,a,g,f,d,b,l,m,e){h=
h([g,f,l],{templateString:e,_showColorStyles:!1,_colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",_hasStyle:!1,_hasAlpha:!1,_inputBox:null,_alpha:1,_valueIsAdjusting:!1,_rangeZeroToOne:!0,_doubleClickDuration:0,_inputValueChangeListener:void 0,constructor:function(){this._colorTextBox=this._colorDropDown=null;this._showColorStyles=this._configValue();this._createColorDropDown();this._createColorTextBox()},postCreate:function(){this.inherited(arguments);
this._colorDropDown.startup();this._colorTextBox.startup();this._colorTextBox.placeAt(this.domNode);this._colorDropDown.placeAt(this.domNode);this._addListnersToComponents()},_configValue:function(){return this._allArgs&&this._allArgs.state&&this._allArgs.state.showStyle&&!0===this._allArgs.state.showStyle?(this._allArgs.state.styleOptions&&(Array.isArray(this._allArgs.state.styleOptions)&&0<this._allArgs.state.styleOptions.length)&&(this._colorStyleOptions=this._allArgs.state.styleOptions.slice()),
!0):!1},_createColorDropDown:function(){this._colorDropDown=new b({color:this._allArgs.value,showColorStyles:this._showColorStyles,colorStyleOptions:this._colorStyleOptions});this.own(this._colorDropDown)},_createColorTextBox:function(){var a=this._allArgs;a.inPlaceEditor=void 0;this._colorTextBox=new d(a);this._colorTextBox.setEditable(!0);var b=this._colorTextBox._isInvalidColor;this._colorTextBox._isInvalidColor=function(a){return this._isStyle(a)?this._isValidStyle(a)&&this._showColorStyles?!1:
!0:"string"===typeof a&&"3 double"===a.slice(-8)?!0:b.apply(this._colorTextBox,arguments)}.bind(this);this.own(this._colorTextBox)},_isValidStyle:function(a){var b=!1;-1<this._colorStyleOptions.indexOf(this.COLOR_AUTO)&&(b=b||this._isAuto(a));-1<this._colorStyleOptions.indexOf(this.COLOR_NONE)&&(b=b||this._isNone(a));-1<this._colorStyleOptions.indexOf(this.COLOR_FLAT)&&(b=b||this._isFlat(a));-1<this._colorStyleOptions.indexOf(this.COLOR_INTERP)&&(b=b||this._isInterp(a));-1<this._colorStyleOptions.indexOf(this.COLOR_TEXTUREMAP)&&
(b=b||this._isTextureMap(a));return b},_isStyle:function(a){return this._isNone(a)||this._isAuto(a)||this._isFlat(a)||this._isInterp(a)||this._isTextureMap(a)},_addListnersToComponents:function(){this._colorDropDown.on("color-changed",this._handleColorDropDownValueChange.bind(this));this._colorDropDown.on("dropdownclick",this._handleDropDownClick.bind(this));this._colorTextBox.addEventListener("editingStarted",this._reDispatchEvent.bind(this));this._colorTextBox.addEventListener("editingStopped",
this._reDispatchEvent.bind(this));this._colorTextBox.addEventListener("valueChanged",this._handleTextBoxValueChange.bind(this));this._colorTextBox.addEventListener("valueAdjusting",this._handleTextBoxValueChange.bind(this))},_handleDropDownClick:function(a){this.dispatchEvent("editingStarted",this,{})},_handleColorDropDownValueChange:function(b){var c=null,c=this._isNone(b.newColorValue)?this.COLOR_NONE:this._isAuto(b.newColorValue)?this.COLOR_AUTO:this._isFlat(b.newColorValue)?this.COLOR_FLAT:this._isInterp(b.newColorValue)?
this.COLOR_INTERP:this._isTextureMap(b.newColorValue)?this.COLOR_TEXTUREMAP:(new a(b.newColorValue)).toCss();this._colorsEqual(this._value,c)||(this._colorChanged(c),this._colorTextBox.setValue(this._value))},_reDispatchEvent:function(a){this.dispatchEvent(a.type,this,a.data)},_handleTextBoxValueChange:function(b){var c=null,c=this._isNone(b.data.newValue)?this.COLOR_NONE:this._isAuto(b.data.newValue)?this.COLOR_AUTO:this._isFlat(b.data.newValue)?this.COLOR_FLAT:this._isInterp(b.data.newValue)?this.COLOR_INTERP:
this._isTextureMap(b.data.newValue)?this.COLOR_TEXTUREMAP:(new a(b.data.newValue)).toCss();this._colorsEqual(this._value,c)||(this._editing=!1,this._colorChanged(c),this._colorDropDown.set("color",c))},setValue:function(a,b,d){this._setUIValue(a,b,d)},getValue:function(){return this._getUIValue()},_setUIValue:function(b){var c=null;"string"===typeof b&&"3 double"===b.slice(-8)?(this._editValue=this._value=b,this._colorDropDown&&this._colorDropDown.set("color","rgb(245, 245, 245)"),this._colorTextBox&&
this._colorTextBox.setValue(b)):(this._isNone(b)?this._editValue=this._value=this.COLOR_NONE:this._isAuto(b)?this._editValue=this._value=this.COLOR_AUTO:this._isFlat(b)?this._editValue=this._value=this.COLOR_FLAT:this._isInterp(b)?this._editValue=this._value=this.COLOR_INTERP:this._isTextureMap(b)?this._editValue=this._value=this.COLOR_TEXTUREMAP:(c=new a(b),this._value=c.toCss(),this._editValue=c.toCss()),this._colorDropDown&&this._colorDropDown.set("color",this._value),this._colorTextBox&&this._colorTextBox.setValue(this._value))},
_getUIValue:function(){return this._value},_isNone:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_NONE},_isAuto:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_AUTO},_isFlat:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_FLAT},_isInterp:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_INTERP},_isTextureMap:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_TEXTUREMAP},_colorChanged:function(a){this._commitNewValue(a);
this._editValue=this._value=a},setState:function(a){this.inherited(arguments);void 0!==a.isMetaData&&(this._colorTextBox&&this._colorTextBox._inputBox&&this._colorTextBox._inputBox._state)&&(this._colorTextBox._inputBox._state.isMetaData=m.getLogicalValue(a.isMetaData,!1))},_commitNewValue:function(a){var b=this._value;this.stopEditing();this.dispatchEvent("valueChanged",this,{editor:this,oldValue:b,newValue:a})},_setReadOnly:function(){}});h.CSS_SELECTOR="colorEditorWithTextBox";return h})},"variableeditor/views/editors/ColorDropDownEditor":function(){define("dojo/_base/declare dojo/query dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/dom-class dojo/_base/Color dojo/on dojo/_base/lang ./ColorEditor mw-form/DropDownButton dijit/TooltipDialog dojo/text!variableeditor/views/editors/templates/ColorDropDownEditor.html dijit/_WidgetBase dijit/_TemplatedMixin MW/toolstrip/widgets/_WidgetMixin dijit/_WidgetsInTemplateMixin dijit/_base/focus dojo/dom".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v){return h([q,r,t,s],{color:"#FF0000",templateString:p,showColorStyles:!1,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(){this._colorEditor=this._dropDownButtonNode=null;this.color=arguments[0].color;this.colorStyleOptions=arguments[0].colorStyleOptions;this.inherited(arguments)},destroy:function(){this.inherited(arguments)},_setColorAttr:function(a){a!==
this.COLOR_AUTO&&(a!==this.COLOR_NONE&&a!==this.COLOR_FLAT&&a!==this.COLOR_INTERP&&a!==this.COLOR_TEXTUREMAP)&&(a=(new l(a)).toHex());a!==this.get("color")&&(this._set("color",a),this._updateDropDownColor(this.get("color")),this._colorEditor&&this._colorEditor.set("value",a,!1))},_setShowColorStylesAttr:function(a){a&&this._colorEditor&&this._colorEditor.set("showColorStyles",!0)},buildRendering:function(){this.inherited(arguments);this._dropDownButtonNode=new c({hasDynamicMenu:!0});this.own(this._dropDownButtonNode);
this._colorSwatchInButton=this._dropDownButtonNode.iconNode;b.add(this._dropDownButtonNode.domNode,"colorDropDownEditor-dropDownButton");this._updateDropDownColor(this.get("color"));this._dropDownButtonNode.placeAt(this.domNode);this._updateDropDownColor(this.color)},postCreate:function(){this.inherited(arguments);this._dropDownButtonNode.on("dropdownclick",this._handleDropDownClick.bind(this))},startup:function(){this.inherited(arguments);this._dropDownButtonNode.startup()},_handleDropDownClick:function(c){this._colorEditor||
(this._colorEditor=new k({showColorStyles:this.showColorStyles,value:this.color,colorStyleOptions:this.colorStyleOptions}),this.own(this._colorEditor),this._tooltipDialogWithColorPicker=this._createTooltipDialogWithColorPicker(this._colorEditor),this._dropDownButtonNode.set("menu",this._tooltipDialogWithColorPicker),this._dropDownButtonNode.set("_menuOrientation","below below-alt above above-alt after before above-centered below-centered before-centered after-centered".split(" ")),this.own(this._tooltipDialogWithColorPicker),
this._tooltipDialogWithColorPicker.startup(),this._colorEditor.startup(),this._colorEditor.on("update-color",this._handleUpdateColor.bind(this)));this._colorEditor.forceSetValue(this.color);this._dropDownButtonNode.showMenu();this.defer(function(){this._tooltipDialogWithColorPicker.domNode.focus()}.bind(this));a(".colorEditor").forEach(function(a){b.remove(a,"colorDropDownEditor-dropDownButton-opened")});b.add(this._colorEditor.domNode,"colorDropDownEditor-dropDownButton-opened");this.emit("dropdownclick")},
_handleUpdateColor:function(a){a.newColorValue===this.COLOR_NONE?(this._updateDropDownColor(this.COLOR_NONE),this._set("color",this.COLOR_NONE)):a.newColorValue===this.COLOR_AUTO?(this._updateDropDownColor(this.COLOR_AUTO),this._set("color",this.COLOR_AUTO)):a.newColorValue===this.COLOR_FLAT?(this._updateDropDownColor(this.COLOR_FLAT),this._set("color",this.COLOR_FLAT)):a.newColorValue===this.COLOR_INTERP?(this._updateDropDownColor(this.COLOR_INTERP),this._set("color",this.COLOR_INTERP)):a.newColorValue===
this.COLOR_TEXTUREMAP?(this._updateDropDownColor(this.COLOR_TEXTUREMAP),this._set("color",this.COLOR_TEXTUREMAP)):(this._updateDropDownColor(a.newColorValue),this._set("color",a.newColorValue));this.emit("color-changed",a)},_updateDropDownColor:function(a){a&&(b.remove(this._colorSwatchInButton,"mwColorPickerNoneColorSwatch"),b.remove(this._colorSwatchInButton,"mwColorPickerAutoColorSwatch"),b.remove(this._colorSwatchInButton,"mwColorPickerFlatColorSwatch"),b.remove(this._colorSwatchInButton,"mwColorPickerInterpColorSwatch"),
b.remove(this._colorSwatchInButton,"mwColorPickerTextureMapColorSwatch"),a===this.COLOR_NONE?b.add(this._colorSwatchInButton,"mwColorPickerNoneColorSwatch"):a===this.COLOR_AUTO?b.add(this._colorSwatchInButton,"mwColorPickerAutoColorSwatch"):a===this.COLOR_FLAT?b.add(this._colorSwatchInButton,"mwColorPickerFlatColorSwatch"):a===this.COLOR_INTERP?b.add(this._colorSwatchInButton,"mwColorPickerInterpColorSwatch"):a===this.COLOR_TEXTUREMAP?b.add(this._colorSwatchInButton,"mwColorPickerTextureMapColorSwatch"):
d.set(this._colorSwatchInButton,"backgroundColor",a))},_createTooltipDialogWithColorPicker:function(a){return new n({content:a,"class":"ColorEditorTooltipDialog"})}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n,p){return h("dijit.TooltipDialog",[m,c,k,
e],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:n,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"keydown",d.hitch(this,"_onKey")))},orient:function(b,c,d){b={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[c+"-"+d];a.replace(this.domNode,b,this._currentOrientClass||"");this._currentOrientClass=b},focus:function(){this._getFocusItems();l.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,
a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==f.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==
f.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(l.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(l.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}})})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),
function(h,a,g,f,d,b,l,m){b.focus=function(a){if(a){var f="node"in a?a.node:a,c=a.bookmark;a=a.openedForWindow;var g=c?c.isCollapsed:!1;if(f){var h="iframe"==f.tagName.toLowerCase()?f.contentWindow:f;if(h&&h.focus)try{h.focus()}catch(l){}b._onFocusNode(f)}if(c&&d.withGlobal(a||d.global,m.isCollapsed)&&!g){a&&a.focus();try{d.withGlobal(a||d.global,m.moveToBookmark,null,[c])}catch(r){}}}};b.watch("curNode",function(a,b,c){m._curFocus=c;m._prevFocus=b;c&&f.publish("focusNode",c)});b.watch("activeStack",
function(a,b,c){m._activeStack=c});b.on("widget-blur",function(a,b){f.publish("widgetBlur",a,b)});b.on("widget-focus",function(a,b){f.publish("widgetFocus",a,b)});g.mixin(m,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return m.getBookmark().isCollapsed},getBookmark:function(){return(d.global==window?l:new l.SelectionManager(d.global)).getBookmark()},moveToBookmark:function(a){return(d.global==window?l:new l.SelectionManager(d.global)).moveToBookmark(a)},getFocus:function(e,f){var c=!b.curNode||
e&&a.isDescendant(b.curNode,e.domNode)?m._prevFocus:b.curNode;return{node:c,bookmark:c&&c==b.curNode&&d.withGlobal(f||d.global,m.getBookmark),openedForWindow:f}},_activeStack:[],registerIframe:function(a){return b.registerIframe(a)},unregisterIframe:function(a){a&&a.remove()},registerWin:function(a,d){return b.registerWin(a,d)},unregisterWin:function(a){a&&a.remove()}});return m})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
function(h,a,g,f,d,b){var l=function(e){var k=e.document;this.getType=function(){if(k.getSelection){var a="text",b;try{b=e.getSelection()}catch(d){}b&&1==b.rangeCount&&(b=b.getRangeAt(0),b.startContainer==b.endContainer&&(1==b.endOffset-b.startOffset&&3!=b.startContainer.nodeType)&&(a="control"));return a}return k.selection.type.toLowerCase()};this.getSelectedText=function(){if(k.getSelection){var a=e.getSelection();return a?a.toString():""}return"control"==this.getType()?null:k.selection.createRange().text};
this.getSelectedHtml=function(){if(k.getSelection){var a=e.getSelection();if(a&&a.rangeCount){var b,d="";for(b=0;b<a.rangeCount;b++){var f=a.getRangeAt(b).cloneContents(),g=k.createElement("div");g.appendChild(f);d+=g.innerHTML}return d}return null}return"control"==this.getType()?null:k.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(k.getSelection){var a=e.getSelection();return a.anchorNode.childNodes[a.anchorOffset]}if((a=k.selection.createRange())&&
a.item)return k.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(k.getSelection){if(a=k.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=k.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var b=
this.getSelectedElement()||this.getParentElement();return this.getParentOfType(b,arguments)};this.isTag=function(a,b){if(a&&a.tagName)for(var d=a.tagName.toLowerCase(),e=0;e<b.length;e++){var f=String(b[e]).toLowerCase();if(d==f)return f}return""};this.getParentOfType=function(a,b){for(;a;){if(this.isTag(a,b).length)return a;a=a.parentNode}return null};this.collapse=function(a){if(k.getSelection){var b=e.getSelection();b.removeAllRanges?a?b.collapseToStart():b.collapseToEnd():b.collapse(a)}else b=
k.selection.createRange(),b.collapse(a),b.select()};this.remove=function(){var a=k.selection;k.getSelection?(a=e.getSelection(),a.deleteFromDocument()):"none"!=a.type.toLowerCase()&&a.clear();return a};this.selectElementChildren=function(b,d){var g;b=a.byId(b);if(k.getSelection){var h=e.getSelection();f("opera")?(g=h.rangeCount?h.getRangeAt(0):k.createRange(),g.setStart(b,0),g.setEnd(b,3==b.nodeType?b.length:b.childNodes.length),h.addRange(g)):h.selectAllChildren(b)}else if(g=b.ownerDocument.body.createTextRange(),
g.moveToElementText(b),!d)try{g.select()}catch(l){}};this.selectElement=function(b,e){var g;b=a.byId(b);if(k.getSelection){var h=k.getSelection();g=k.createRange();h.removeAllRanges&&(f("opera")&&h.getRangeAt(0)&&(g=h.getRangeAt(0)),g.selectNode(b),h.removeAllRanges(),h.addRange(g))}else try{h=b.tagName?b.tagName.toLowerCase():"",g="img"===h||"table"===h?d.body(k).createControlRange():d.body(k).createRange(),g.addElement(b),e||g.select()}catch(l){this.selectElementChildren(b,e)}};this.inSelection=
function(a){if(a){var b,d;if(k.getSelection){var f=e.getSelection();f&&0<f.rangeCount&&(d=f.getRangeAt(0));if(d&&d.compareBoundaryPoints&&k.createRange)try{if(b=k.createRange(),b.setStart(a,0),1===d.compareBoundaryPoints(d.START_TO_END,b))return!0}catch(g){}}else{d=k.selection.createRange();try{b=a.ownerDocument.body.createTextRange(),b.moveToElementText(a)}catch(h){}if(d&&b&&1===d.compareEndPoints("EndToStart",b))return!0}}return!1};this.getBookmark=function(){var a,d,f=k.selection,g=b.curNode;if(k.getSelection){if(f=
e.getSelection())if(f.isCollapsed){if(a=g?g.tagName:"")if(a=a.toLowerCase(),"textarea"==a||"input"==a&&(!g.type||"text"==g.type.toLowerCase()))return f={start:g.selectionStart,end:g.selectionEnd,node:g,pRange:!0},{isCollapsed:f.end<=f.start,mark:f};a={isCollapsed:!0};f.rangeCount&&(a.mark=f.getRangeAt(0).cloneRange())}else d=f.getRangeAt(0),a={isCollapsed:!1,mark:d.cloneRange()}}else if(f){a=g?g.tagName:"";a=a.toLowerCase();if(g&&a&&("button"==a||"textarea"==a||"input"==a)){if(f.type&&"none"==f.type.toLowerCase())return{isCollapsed:!0,
mark:null};d=f.createRange();return{isCollapsed:d.text&&d.text.length?!1:!0,mark:{range:d,pRange:!0}}}a={};try{d=f.createRange(),a.isCollapsed=!("Text"==f.type?d.htmlText.length:d.length)}catch(h){return a.isCollapsed=!0,a}if("CONTROL"==f.type.toUpperCase())if(d.length){a.mark=[];f=0;for(g=d.length;f<g;)a.mark.push(d.item(f++))}else a.isCollapsed=!0,a.mark=null;else a.mark=d.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return a};this.moveToBookmark=
function(a){if(a=a.mark)if(k.getSelection){var b=e.getSelection();b&&b.removeAllRanges?a.pRange?(b=a.node,b.selectionStart=a.start,b.selectionEnd=a.end):(b.removeAllRanges(),b.addRange(a)):console.warn("No idea how to restore selection for this browser!")}else if(k.selection&&a){var d;a.pRange?d=a.range:g.isArray(a)?(d=k.body.createControlRange(),h.forEach(a,function(a){d.addElement(a)})):(d=k.body.createTextRange(),d.moveToBookmark(a));d.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},
m=new l(window);m.SelectionManager=l;return m})},"variableeditor/views/editors/ColorOrderEditor":function(){define("variableeditor/views/editors/ColorOrderEditor","dojo/_base/declare dojo/_base/lang dijit/registry dojo/_base/Color dojo/dom-style dojo/parser dojo/dom-construct dojo/dom-class dojo/keys dojo/on dojo/dnd/Source dojo/dnd/Manager dijit/focus dojo/topic dojo/window dojo/sniff mw-dialog-utils/DialogUtils variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils variableeditor/views/editors/RGBColorEditor variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/renderers/ColorOrderRenderer variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/editors/templates/ColorOrderEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r,s,t,u,v,w,x,z,y,A,B,D){h=h("variableeditor.views.editors.ColorOrderEditor",[v,w,A],{AddNewLabel:D.colorOrderEditorAddNew,_colorOrderRenderer:void 0,_valueChanged:!1,_colorChangeListeners:{},_dndSource:void 0,_avatarMap:{},_inputValueType:"string",_rangeZeroToOne:!0,constructor:function(c){this.templateString=B;this.AddNewLabel=D.colorOrderEditorAddNew;this._colorOrderRenderer=void 0;this._colorChangeListeners={};this._dndSource=void 0;this._avatarMap={};this._rangeZeroToOne=
c?this._getPossibleBooleanFunctionValue(c.rangeZeroToOne,!0):!0;b.parse();c&&(this._allArgs=c,this.init(c));this._colorChangeListeners={};this._colorChangeListeners.documentClickListener=k.pausable(document,"mouseup",a.hitch(this,"_handleColorBlur"));this.colorEditorsCreated=!1},postCreate:function(){this._createColorOrderRenderer();this._createAddNewColorButton();this._value&&this._setUIValue(this._value,!0);s("mac")&&this.addCSSClasses("macScrollBarWidth");this.inherited(arguments)},setValue:function(a){this._inputValueType=
"string"===typeof a||a instanceof String?"string":"array";this._setUIValue(a);this.inherited(arguments)},edit:function(){this.inherited(arguments);this._updateColorList(this._value);var a=this._getAttachNode("colorAddButton");a&&p.focus(a)},stopEditing:function(){var a=this._getColorWidgets();a&&a.forEach&&a.forEach(function(a){a.stopEditing&&a.stopEditing()});this._changeObjectListenersState(this._colorChangeListeners,"pause");this.inherited(arguments)},cancelEditing:function(){this._setUIValue(this._originalValue,
!0);this._valueChanged=!1;this.inherited(arguments)},_handleBlurEvent:function(){},_handleColorBlur:function(a){if(!a.target.classList.contains("mwColorPaletteSwatch")&&!a.target.classList.contains("dijitTooltipConnector")){var b=dijit.registry.getEnclosingWidget(a.target);if(!(b&&0<=b.class.indexOf("mwColor"))){try{for(var c=this._getColorWidgets(),b=0;b<c.length;b+=1){var d=c[b];if(d._colorDropDown&&d._colorDropDown._tooltipDialogWithColorPicker&&d._colorDropDown._tooltipDialogWithColorPicker.domNode&&
d._colorDropDown._tooltipDialogWithColorPicker.domNode.contains(a.target))return}}catch(e){}this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._editing&&a&&a.target&&this.domNode&&!this.domNode.contains(a.target)&&a.target!==this._renderer.domNode)&&(this._valueChanged?this.stopEditing():this.cancelEditing())}}},_changeListenerState:function(a){if(a&&"string"===typeof a){this.inherited(arguments);this._changeObjectListenersState(this._colorChangeListeners,a);var b=this._getColorWidgets();
b&&b.forEach&&b.forEach(function(b){b._changeListenerState(a)})}},_createAddNewColorButton:function(){var b=this._getAttachNode("colorAddButton");b&&(k(b,"click",a.hitch(this,"_addNewColor",w.WHITE.toRgba())),k(b,"keydown",a.hitch(this,"_handleKeyboardEvent")),this.focusNode=b)},_createColorOrderRenderer:function(){if(!this._colorOrderRenderer){this._colorOrderRenderer=new y(this._allArgs);this._colorOrderRenderer.setValue(this._value);this._colorOrderRenderer.startup();var a=this;this._colorOrderRenderer.addEventListener("click",
function(){a.stopEditing()});this._colorOrderRenderer.addEventListener("keydown",function(b){a._handleKeyDown(b.data)});var b=this._getAttachNode("colorOrderRendererDiv");l.place(this._colorOrderRenderer.domNode,b,"last")}},_updateColorOrderRenderer:function(){var a=this._getCommitValue();this._colorOrderRenderer&&this._colorOrderRenderer.setValue(a);this._renderer&&this._renderer.setValue(a)},_addNewColor:function(a){a||(a=w.WHITE.toRgba());a=this._createColorListItem(a);this._dndSource.insertNodes(!1,
[a]);this._valueChanged=!0;r.scrollIntoView(a);this._updateColorOrderRenderer()},_getColorWidgets:function(){var a=[];if(this.domNode){var b=this._getAttachNode("colorList");if(b&&(b=b.getElementsByClassName(x.CSS_SELECTOR))&&b.length)for(var c=0;c<b.length;c+=1){var d=g.getEnclosingWidget(b[c]);d&&a.push(d)}}return a},_getCommitValue:function(){var a="",b=this,a=this._getColorWidgets();"string"===this._inputValueType?(a=a.map(function(a){a=a._getUIValue();a=new f(a);var c=b._rangeZeroToOne?255:1;
return[a.r/c,a.g/c,a.b/c].join(" ")}).join(";"),a="["+a+"]"):a=a.map(function(a){a=a._getUIValue();a=new f(a);var c=b._rangeZeroToOne?255:1;return[a.r/c,a.g/c,a.b/c]});return a},_createColorList:function(a){if(this.domNode&&a&&this.isEditing()){var b=this._getAttachNode("colorListDiv"),c=this._getAttachNode("colorList");b.removeChild(c);this._destroyColorWidgets();l.empty(c);a=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne);for(var d=[],e=0;e<a.length;e+=1){var f=this._createColorListItem(a[e]);
d.push(f)}this._createDragAndDropSource(c,d);l.place(c,b,"last")}},_updateColorList:function(a){if(this.domNode&&a&&this.isEditing())if(!1===this.colorEditorsCreated)this._createColorList(this._value),this.colorEditorsCreated=!0;else{a=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne);for(var b=this._getColorWidgets(),c=0;c<b;c++)b[c].setValue(a[c])}},_createColorEditor:function(a){a=new x({value:a,editable:!0,state:this.getState(),rangeZeroToOne:this._rangeZeroToOne});a.startup();
var b=this;a.addEventListener("editingCanceled",function(){b._updateColorOrderRenderer()});a.addEventListener("valueChanged",function(){b._valueChanged=!0;b._updateColorOrderRenderer()});return a},_createColorListItem:function(b){b=this._createColorEditor(b);var c=l.create("li",{dndtype:"colorListItem",type:["colorListItem"]});m.add(c,"dojoDndItem");m.add(c,"colorListItem");var d=this.getState();!0===u.getLogicalValue(d.DnDSupported,!0)&&(d=l.create("div",{innerHTML:"."}),m.add(d,"dojoDndHandle"),
m.add(d,"colorDragHandle"),l.place(d,c,"first"));l.place(b.domNode,c,"last");d=l.create("div",{innerHTML:"."});m.add(d,"colorDeleteDiv");k(d,"click",a.hitch(this,"_deleteColorListItem",c,b));l.place(d,c,"last");c.colorEditorWidget=b;return c},_createDragAndDropSource:function(b,c){var d=this,e=u.createSelectableDnDTarget(b,{accept:["colorListItem"],checkAcceptanceCallback:function(a){d._valueChanged=!0;return a.node===b}});e.autoSync=!0;e.allowNested=!0;e.isSource=!0;e.copyOnly=!1;e.withHandles=!0;
e.creator=a.hitch(this,"_createDnDAvatar");this._dndSource=e;var f=e.onMouseMove;e.onMouseMove=function(a){d._adjustAvatarMap(e);f.call(e,a)};q.subscribe("/dnd/start",a.hitch(d,"_handleDnDTopic","pause"));q.subscribe("/dnd/drop",a.hitch(d,"_handleDnDTopic","resume"));q.subscribe("/dnd/cancel",a.hitch(d,"_handleDnDTopic","resume"));var g=e.onDrop;e.onDrop=function(a,b,c){d._valueChanged=!0;g&&(a===e||a.node===e.node)&&g.call(e,e,b,c)};e.insertNodes(!1,c);e.startup()},_handleDnDTopic:function(a){this._changeListenerState(a);
this._updateColorOrderRenderer();p.focus(this.focusNode)},_deleteColorListItem:function(a,b,c){var d=this._getAttachNode("colorAddButton");d&&p.focus(d);1<this._getColorWidgets().length?(this._dndSource.delItem(a.id),b.destroy(),l.destroy(a),this._valueChanged=!0):t.displayModalDialog(D.colorOrderEditorAtLeastOne,D.errorTitle,[{name:"ok",buttonHandler:{handler:"dismiss"}}]);c.preventDefault();c.stopPropagation();this._updateColorOrderRenderer()},_adjustAvatarMap:function(a){if(a.map)for(var b in a.map)if(a.map.hasOwnProperty(b)){var c=
a.map[b];if(c&&c.data&&"string"===typeof c.data&&(c=a.node.querySelector("#"+b))&&c.data)a.map[b].data=c.data}},_resetDojoDnDAvatarOffset:function(){var a=n.manager();a.OFFSET_X=16;a.OFFSET_Y=16},_createDnDAvatar:function(a,b){var c=l.create("span");c.id=dojo.dnd.getUniqueId();c.itemIndex=parseInt(a.data);m.add(c,"dojoDndItem");m.add(c,"colorOrderEditor");m.add(c,"colorListItemAvatar");if("avatar"===b&&a){if(a){var d=new x;d.setValue(a.getValue());d.startup();l.place(d.domNode,c,"last")}}else return c=
this._dndSource.defaultCreator(a,b),this._avatarMap[c.data]=a.colorEditorWidget,c.node.data=a.colorEditorWidget,c.data=a.colorEditorWidget,c;this._resetDojoDnDAvatarOffset();return{node:c,data:a,type:["colorListItem"]}},_handleKeyboardEvent:function(a){if(this.isEditing()){"keydown"===a.type&&this._handleKeyDown(a);var b=a;b.editor=this;this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},_handleKeyDown:function(a){if(a){var b=this._getKeyCode(a);if(null!==
b&&b===e.ESCAPE){if(a.target)for(var b=this._getColorWidgets(),c=0;c<b.length;c+=1)if(b[c].domNode.contains(a.target)){b[c].cancelEditing();p.focus(this.focusNode);return}this.cancelEditing();a.stopPropagation();a.preventDefault()}}},_getUIValue:function(){return!this._valueChanged?this._originalValue:this._getCommitValue()},_setUIValue:function(a,b){if(JSON.stringify(a)!==JSON.stringify(this._value)||b)this._updateColorList(a),this._colorOrderRenderer&&this._colorOrderRenderer.setValue(a),this._renderer&&
this._renderer.setValue(a)},_setReadOnly:function(a){var b=this._getColorWidgets();b&&b.forEach&&b.forEach(function(b){b._setReadOnly&&b._setReadOnly(a)})},destroy:function(){this._destroyColorWidgets();this.inherited(arguments)},_destroyColorWidgets:function(){var a=this._getColorWidgets();if(a)for(var b=0;b<a.length;b+=1)a[b].destroy()}});h.COLOR_LIST_DIV_ATTACH_POINT="colorListDiv";h.COLOR_LIST_ATTACH_POINT="colorList";h.COLOR_LIST_ADD_NEW_ATTACH_POINT="colorAddButton";h.COLOR_ORDER_RENDERER_DIV=
"colorOrderRendererDiv";return h})},"variableeditor/views/editors/DatetimeEditor":function(){define("variableeditor/views/editors/DatetimeEditor",["dojo/_base/declare","dojo/_base/lang","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,a,g,f){return h("variableeditor.views.editors.DatetimeEditor",[f],{_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===g.TAB)&&(this._handleTabKey(a.shiftKey),a.preventDefault());this.inherited(arguments)},_handleTabKey:function(a){a?
this.goToPreviousField():this.goToNextField()},goToNextField:function(){var a=this._getUIValue();if(a&&"NaT"!==a){var b=this._getNextFieldIndices(a,this._inputBox.inputNode.selectionEnd);this._inputBox.inputNode.selectionStart=b[0];this._inputBox.inputNode.selectionEnd=b[1]}return b},_getNextFieldIndices:function(a,b){var f=a.substring(b,a.length),f=f.match(/[^a-z0-9]+/i),g=-1,e=1;null!==f&&(g=b+f.index,e=f[0].length);var f=a.substring(g+e,a.length),f=f.match(/[^a-z0-9]+/i),h=a.length;null!==f&&(h=
g+e+f.index);return[g+e,h]},goToPreviousField:function(){var a=this._getUIValue();if(a&&"NaT"!==a){var b=this._getPreviousFieldIndices(a,this._inputBox.inputNode.selectionStart);this._inputBox.inputNode.selectionStart=selectionStart;this._inputBox.inputNode.selectionEnd=selectionEnd}return b},_getPreviousFieldIndices:function(a,b){var f=this._reverse(a.substr(0,b)),f=f.match(/[^a-z0-9]+/i),g=a.length,e=1;null!==f&&(g=b-1-f.index,e=f[0].length);var f=this._reverse(a.substring(0,g-e+1)),f=f.match(/[^a-z0-9]+/i),
h=-1;null!==f&&(h=g-e-f.index);selectionStart=h+1;selectionEnd=g-e+1;return[selectionStart,selectionEnd]},_reverse:function(a){for(var b="",f=a.length-1;0<=f;f-=1)b+=a[f];return b},_getUIValue:function(){var a=this._inputBox.inputNode.value;if(void 0===a||null===a||""===a)a="NaT";return a},_setUIValue:function(a){if(void 0===a||null===a||""===a)a="NaT";this._inputBox.set("value",a)}})})},"variableeditor/views/editors/DisplayFormatTextBoxEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],
function(h,a){return h([a],{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-tag","datatools.variableeditor.views.editors.DisplayFormatTextBoxEditor")},_setupInputNode:function(){this.inherited(arguments);this._inputBox.set("spellcheck",!1)},setState:function(a){a&&(a.isMetaData=!1);this.inherited(arguments)}})})},"variableeditor/views/editors/FilePickerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/aspect dijit/focus variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/renderers/_TemplateMixin variableeditor/views/editors/TextBoxEditor mw-form/ToggleButton mw-overlay-utils/BusyOverlay dojo/text!./templates/FilePickerEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q){return h([m,e],{templateString:p,_textBox:void 0,_browseButton:void 0,_busyIndicator:void 0,_filterSpec:"*",_isBrowsing:!1,_doubleClickDuration:0,postCreate:function(){this.inherited(arguments);this._createTextBox();this._createBrowseButton();this._createBusyIndicator();this._addListenersToComponents()},_createTextBox:function(){this._textBox=new k(l.mergeObjects(this._allArgs,{inPlaceEditor:void 0,state:{isMetaData:!1},spellcheck:!1}));this._textBox.placeAt(this.domNode).startup();
d.after(this._textBox,"stopEditing",function(){b.curNode===this._textBox.focusNode&&b.curNode.blur()}.bind(this));this._setUIValue(this._value)},_createBrowseButton:function(){this._browseButton=new c({text:q.filePickerEditorBrowse,icon:"fileIcon",disabled:!this.isEditable()});this._browseButton.placeAt(this.domNode).startup()},_createBusyIndicator:function(){this.ownerDocumentBody?(this._busyIndicator=new n(n.SIZE.SMALL),this._busyIndicator.set("target",this.ownerDocumentBody)):setTimeout(a.hitch(this,
"_createBusyIndicator"),100)},_addListenersToComponents:function(){this._textBox.addEventListener("valueChanged",a.hitch(this,"_handleTextBoxValueChanged"));this._browseButton.on("mousedown, click",a.hitch(this,"_handleBrowseButtonClick"))},_handleTextBoxValueChanged:function(){setTimeout(function(){var a=this._getUIValue();!this._isBrowsing&&this._value!==a&&!this._isBrowse(a)?this.setValue(a):this._setUIValue(this._value)}.bind(this))},_handleBrowseButtonClick:function(a){a.preventDefault();this._isBrowsing||
(this._setUIValue(this._value),this._setBrowsing(!0),this.setValue(this._getBrowse()))},setValue:function(a){var b=this._isBrowsing&&/ $/.test(a),c=this._isBrowse(a);(b||!c)&&this._setBrowsing(!1);a=(a||"").trim();this.inherited(arguments);this._setUIValue(a)},setState:function(a){this.domNode&&(a&&(this._filterSpec=a.filterSpec||"*"),this.inherited(arguments))},setEditable:function(a){this.inherited(arguments);var b=this.isEditable();this._textBox&&this._textBox.setEditable(b);this._browseButton&&
this._browseButton.set("disabled",!b)},_getUIValue:function(){return(this._textBox?this._textBox._getUIValue():this._value).trim()},_setUIValue:function(a){a=(a||"").trim();!this._isBrowse(a)&&this._textBox&&(this._textBox.stopEditing(),this._textBox.setValue(a),this._textBox.setEditValue(a))},_setBrowsing:function(a){this._browseButton&&(this._browseButton.set("checked",a),this[a?"addCSSClasses":"removeCSSClasses"]("open",this._browseButton.domNode),b.curNode&&b.focus(a?this._browseButton.domNode:
this._textBox.domNode));this._isBrowsing=a},_getBrowse:function(){return"?"+this._filterSpec},_isBrowse:function(a){return a&&"?"===a[0]}})})},"mw-overlay-utils/BusyOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/query dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin spinner/spin mw-log/Log dojo/text!./templates/busyOverlayTemplate.html".split(" "),function(h,a,g,f,d,b,l,m,e,
k,c,n,p,q,r,s){var t={rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9,top:"50%",left:"50%"},u={lines:11,length:8,width:4,radius:12,corners:0.5,className:"spinner spinnerLarge"},v={lines:11,length:5,width:3,radius:8,corners:1,className:"spinner spinnerMedium"},w={lines:11,length:4,width:2,radius:6,corners:1,className:"spinner spinnerSmall"},x={lines:9,length:2,width:2,radius:4,corners:0,className:"spinner spinnerXSmall"};a.mixin(u,t);a.mixin(v,t);a.mixin(w,t);a.mixin(x,
t);h=h("MW.utils.BusyOverlay",[n,p],{_displayed:!1,_started:!1,_spinner:null,_size:null,target:null,_text:"",_textSpan:null,_spinnerTextNode:null,templateString:s,constructor:function(a){this._textSpan=m.create("span");this._spinnerTextNode=m.create("div");Object.defineProperty(this,"text",{set:function(a){this._text=a;this._text&&"string"===typeof this._text||(this._text="");this._textSpan.textContent=this._text;this._started&&this._updateTitle()},get:function(){return this._text},enumerable:!0,
configurable:!0});this._setSpinnerSize(a);l.add(this._spinnerTextNode,"spinnerText");a&&a.text&&this.set("text",a.text)},_setSpinnerSize:function(b){try{if(null===b||void 0===b||b.text&&!b.size)this._size=a.clone(u);else if("object"===typeof b)this._size=b.size?a.clone(b.size):a.clone(b);else throw Error("Incorrect argument passed to BusyOverlay Object.");}catch(c){r.error(c.message)}},_updateTitle:function(){l.remove(this._textSpan,"spinnerCenter");this._textSpan.offsetWidth>=this._spinnerTextNode.offsetWidth?
d.set(this._spinnerTextNode,"title",this._text):d.set(this._spinnerTextNode,"title","");l.add(this._textSpan,"spinnerCenter")},_updateTextStyle:function(){var a=e.position(this._underlayNode).h/2+2*this._size.radius+15+"px";f.set(this._spinnerTextNode,"top",a)},startup:function(){if(!this._started){this._spinner=new q(this._size);if(this.target){if("string"===typeof this.target){var a=c.byId(this.target);this.target=a?a.domNode:g.byId(this.target)}m.place(this.domNode,this.target);m.place(this._textSpan,
this._spinnerTextNode);m.place(this._spinnerTextNode,this._busyOverlayNode)}this._text&&(this._updateTitle(),this.own(k(window,"resize",this._updateTextStyle.bind(this))));this._started=!0;this.inherited(arguments)}},postCreate:function(){this._underlayNode.style.zIndex=2E9-1;this.inherited(arguments)},show:function(){this._displayed||(this._started||this.startup(),this._displayed=!0,this._busyOverlayNode.style.display="inline",this._busyOverlayNode.className="mw-busyIndicator",this._updateTextStyle(),
f.set(this._spinnerTextNode,"display","block"),this._spinner.spin(this._spinnerNode),this.onShow())},hide:function(){this._displayed&&(this._displayed=!1,this._busyOverlayNode.style.display="none",this._spinner.stop(),this._spinnerTextNode.style.display="none",this.onHide())},uninitialize:function(){this.hide();this._spinner=this.target=null;this._displayed=!1;b(".spinnerText").forEach(m.destroy);this._spinnerTextNode=this._textSpan=null;this.inherited(arguments)},isVisible:function(){return this._displayed},
onShow:function(){},onHide:function(){this.inherited(arguments)}});h.SIZE={LARGE:u,MEDIUM:v,SMALL:w,XSMALL:x};Object.freeze(h.SIZE);Object.freeze(h.SIZE.LARGE);Object.freeze(h.SIZE.MEDIUM);Object.freeze(h.SIZE.SMALL);Object.freeze(h.SIZE.XSMALL);return h})},"spinner/spin":function(){define([],function(){function h(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function a(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function g(a,b,d,e){var f=
["opacity",b,~~(100*a),d,e].join("-");d=0.01+100*(d/e);e=Math.max(1-(1-a)/b*(100-d),a);var g=c.substring(0,c.indexOf("Animation")).toLowerCase();k[f]||(n.insertRule("@"+(g&&"-"+g+"-"||"")+"keyframes "+f+"{0%{opacity:"+e+"}"+d+"%{opacity:"+a+"}"+(d+0.01)+"%{opacity:1}"+(d+b)%100+"%{opacity:"+a+"}100%{opacity:"+e+"}}",n.cssRules.length),k[f]=1);return f}function f(a,b){var c=a.style,d,f;b=b.charAt(0).toUpperCase()+b.slice(1);for(f=0;f<e.length;f++)if(d=e[f]+b,void 0!==c[d])return d;if(void 0!==c[b])return b}
function d(a,b){for(var c in b)a.style[f(a,c)||c]=b[c];return a}function b(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)void 0===a[d]&&(a[d]=c[d])}return a}function l(a){this.opts=b(a||{},l.defaults,p)}function m(){function b(a,c){return h("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"spin-vml"\x3e',c)}n.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(c,e){function f(){return d(b("group",{coordsize:k+" "+k,coordorigin:-h+" "+-h}),
{width:k,height:k})}function g(c,k,l){a(m,a(d(f(),{rotation:360/e.lines*c+"deg",left:~~k}),a(d(b("roundrect",{arcsize:e.corners}),{width:h,height:e.width,left:e.radius,top:-e.width>>1,filter:l}),b("fill",{color:"string"==typeof e.color?e.color:e.color[c%e.color.length],opacity:e.opacity}),b("stroke",{opacity:0}))))}var h=e.length+e.width,k=2*h,l=2*-(e.width+e.length)+"px",m=d(f(),{position:"absolute",top:l,left:l});if(e.shadow)for(l=1;l<=e.lines;l++)g(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d2,makeshadow\x3d1,shadowopacity\x3d.3)");
for(l=1;l<=e.lines;l++)g(l);return a(c,m)};l.prototype.opacity=function(a,b,c,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&b+d<a.childNodes.length&&(a=(a=(a=a.childNodes[b+d])&&a.firstChild)&&a.firstChild))a.opacity=c}}var e=["webkit","Moz","ms","O"],k={},c,n=function(){var b=h("style",{type:"text/css"});a(document.getElementsByTagName("head")[0],b);return b.sheet||b.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,
zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};l.defaults={};b(l.prototype,{spin:function(a){this.stop();var b=this,e=b.opts,f=b.el=d(h(0,{className:e.className}),{position:e.position,width:0,zIndex:e.zIndex});d(f,{left:e.left,top:e.top});a&&a.insertBefore(f,a.firstChild||null);f.setAttribute("role","progressbar");b.lines(f,b.opts);if(!c){var g=0,k=(e.lines-1)*(1-e.direction)/2,l,m=e.fps,n=m/e.speed,p=(1-e.opacity)/(n*e.trail/100),q=n/e.lines;(function H(){g++;for(var a=
0;a<e.lines;a++)l=Math.max(1-(g+(e.lines-a)*q)%n*p,e.opacity),b.opacity(f,a*e.direction+k,l,e);b.timeout=b.el&&setTimeout(H,~~(1E3/m))})()}return b},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(b,e){function f(a,b){return d(h(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:a,boxShadow:b,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*k+e.rotate)+"deg) translate("+
e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var k=0,l=(e.lines-1)*(1-e.direction)/2,m;k<e.lines;k++)m=d(h(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:c&&g(e.opacity,e.trail,l+k*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&a(m,d(f("#000","0 0 4px #000"),{top:"2px"})),a(b,a(m,f("string"==typeof e.color?e.color:e.color[k%e.color.length],"0 0 1px rgba(0,0,0,.1)")));return b},opacity:function(a,
b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var q=d(h("group"),{behavior:"url(#default#VML)"});!f(q,"transform")&&q.adj?m():c=f(q,"animation");return l})},"variableeditor/views/editors/IconTextBoxEditor":function(){define("variableeditor/views/editors/IconTextBoxEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","variableeditor/views/editors/TextBoxEditor"],function(h,a,g,f){return h("variableeditor.views.editors.IconTextBoxEditor",[f],{_setupDomClasses:function(a){this._applyCssClass(a?
a.dataType?a.dataType:a["class"]:"char",a?a.isTemporaryValue:!1,!0,this.domNode);this.addCSSClasses("cellRenderer",this.domNode)}})})},"variableeditor/views/editors/OpenvarEditor":function(){define("variableeditor/views/editors/OpenvarEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","variableeditor/views/editors/_EditorBase","variableeditor/VariableEditorMain"],function(h,a,g,f,d){return h("variableeditor.views.editors.OpenvarEditor",[f],{edit:function(){var a=this.getState().editorValue,
d=this.getState().workspace;this._openVariable(a,d)},_openVariable:function(a,f){d.getInstance().openVariable(a,f,void 0)},_setReadOnly:function(){}})})},"variableeditor/VariableEditorMain":function(){define("variableeditor/VariableEditorMain","dojo/_base/declare dojo/_base/lang variableeditor/ClientPeerManagerFactory variableeditor/VariableEditorUtils variableeditor/VariableEditorDnD mw-log/Log dojo/on dojo/dom mw-messageservice/MessageService dojo/dom-class".split(" "),function(h,a,g,f,d,b,l,m,
e,k){var c=h("variableeditor.VariableEditorMain",[d],{layoutService:[],clientPeerManager:{},orig_updateDataStyles:null,orig_updateColumnStyles:null,currentVariables:[],dropZoneClass:"VEDropZone",constructor:function(a){this.layoutService=[];this.executionService=[];this.helpDataService=[];this.clientPeerManager={};this.orig_updateColumnStyles=this.orig_updateDataStyles=null;this.currentVariables=[];this.focusedDocument={};this.initArgs(a);a&&(this.clientPeerManager=g.createManager({messageService:a.messageService,
executionService:a.executionService,helpDataService:a.helpDataService,channel:"/VariableEditor",ignoreUpdates:!1,editable:!0}),this.init())},initArgs:function(a){a&&(this.layoutService=a.layoutService,this.executionService=a.executionService,this.helpDataService=a.helpDataService)},init:function(){var a=this;this.clientPeerManager.addEventListener("variableAdded",function(c){try{if(c.data.peerDoc){var d=c.data.peerDoc;a.addWidget(d);a.currentVariables.push(d.varName);f.logDebug("VE: Document Added");
if(f.isPerformance())var g=(new Date).getTime();d.addEventListener("viewAdded",function(c){try{f.logDebug("VE: View Added");var d=c.data.peerView;a._attachDndHandles(c.data.peerDoc);var h=function(a){f.logDebug("VE: View Ready");var b=a.data.peerView;b.table.startup&&b.table.startup();if(f.isPerformance()&&0!==a.data.peerView.table.dataModel._partialData.length){var c=JSON.parse(a.data.peerView.table.dataModel._partialData[0][0]),d=a.data.peerView.table.dataModel._rowCount,k=a.data.peerView.table.dataModel._columnCount;
c.isTemporaryValue||(c=(new Date).getTime()-g,e.publish("/VELogChannel",{eventType:"VELoadPerformance",dataType:a.data.peerView.declaredClass,loadTime:c,rows:d,columns:k}))}b.removeEventListener("viewReady",h,this)};d.addEventListener("viewReady",h)}catch(k){b.error(k)}});d.addEventListener("viewRemoved",function(a){try{f.logDebug("VE: View Removed")}catch(c){b.error(c)}})}}catch(h){b.error(h)}});this.clientPeerManager.addEventListener("variableRemoved",function(b){b.data.peerDoc&&(b=b.data.peerDoc,
a.removeWidget(b),a.currentVariables.pop(b.varName))});this.clientPeerManager.addEventListener("variableFocusGained",function(b){b.data.peerDoc&&(b=b.data.peerDoc,a.layoutService.showWidget(b.varDocID),this.focusedDocument=b)});this.clientPeerManager.addEventListener("variableFocusLost",function(a){this.focusedDocument={}})},_attachDndHandles:function(b){this.dragEnterListener=l(b,"dragenter",a.hitch(this,this._onDragEnter,b.domNode,this.dropZoneClass));this.dragOverListener=l(b,"dragover",a.hitch(this,
this._onDragOver));this.dragLeaveListener=l(b,"dragleave",a.hitch(this,this._onDragLeave,b.domNode,this.dropZoneClass));this.dropListener=l(b,"drop",a.hitch(this,this._onDrop,b.domNode,this.dropZoneClass))},_onDrop:function(a,b,c){var d=c.dataTransfer.getData("text/workspacebrowser").split(","),e=this.clientPeerManager;d.forEach(function(a){a&&e&&e.openVariable(a)});this.inherited(arguments)},openVariable:function(a,b,c){this.clientPeerManager&&this.clientPeerManager.openVariable&&this.clientPeerManager.openVariable(a,
b,c)},closeVariable:function(a){this.clientPeerManager.closeVariable(a)},closeAllVariables:function(){this.clientPeerManager.closeAllVariables()},start:function(){this.clientPeerManager.start()},stop:function(){this.clientPeerManager.stop()},addWidget:function(a){this.layoutService.addWidget(a.varDocID,"vEditor2",a,{title:a.varName,tooltip:a.varName,userContext:a.userContext});this.layoutService.showWidget(a.varDocID)},showWidget:function(a){this.layoutService.showWidget(a.varDocID)},removeWidget:function(a){this.layoutService.removeWidget(a.varDocID)},
getVariables:function(){return this.currentVariables}});c.getInstance=function(a){if(!c._instance)return c._instance=new c(a),c._instance;a&&c._instance.initArgs(a);return c._instance};return{getInstance:c.getInstance}})},"variableeditor/VariableEditorDnD":function(){define("variableeditor/VariableEditorDnD",["dojo/_base/declare","dojo/dom-geometry","dojo/dom-class","dojo/domReady!"],function(h,a,g){return h("variableeditor.VariableEditorDnD",[],{ValidDataFlavor:"text/workspacebrowser",ValidDropEffect:"copy",
InvalidDropEffect:"none",_onDragEnter:function(a,d,b){b.preventDefault();b.stopPropagation();this.isDropZone(a,b)&&this.isValidDropObject(b)&&g.add(a,d)},isDropZone:function(f,d){var b=!1,g=a.position(f,!0);g&&(d.pageX>g.x&&d.pageX<g.x+g.w&&d.pageY>g.y&&d.pageY+5<g.y+g.h)&&(b=!0);return b},isValidDropObject:function(a){if(a.dataTransfer){if(a.dataTransfer.types.indexOf)return-1<a.dataTransfer.types.indexOf(this.ValidDataFlavor);if(a.dataTransfer.types.contains)return a.dataTransfer.types.contains(this.ValidDataFlavor)}return!1},
_onDragOver:function(a){a.preventDefault();a.stopPropagation();this.isValidDropObject(a)?a.dataTransfer.dropEffect=this.ValidDropEffect:a.dataTransfer.dropEffect=this.InvalidDropEffect;return!1},_onDragLeave:function(a,d,b){b.preventDefault();b.stopPropagation();this.isDropZone(a,b)||g.remove(a,d)},_onDrop:function(a,d,b){b.preventDefault();b.stopPropagation();g.remove(a,d);return!1}})})},"variableeditor/views/renderers/GroupedColumnRenderer":function(){define("variableeditor/views/renderers/GroupedColumnRenderer",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dojo/on dojo/dom-construct dijit/registry variableeditor/VariableEditorUtils variableeditor/views/renderers/_RendererBase variableeditor/views/renderers/_VERendererMixin variableeditor/views/editors/_VEEditorConverterMixin mw-log/Log".split(" "),function(h,a,g,f,d,b,l,m,e,k,c,n){return h("variableeditor.views.renderers.GroupedColumnRenderer",[e,k],{_renderers:void 0,_rendererCompleteCallback:void 0,_savedArgs:void 0,constructor:function(b){this.addEventListener("renderersConstructed",
a.hitch(this,this._onRenderersConstructed));this._renderers=[];if(b&&b.table&&b.table.ColumnModelProperties&&b.renderedObject&&b.renderedObject.col&&b.renderedObject.value){for(var d=b.renderedObject,e=parseInt(d.row),f=parseInt(d.col),g=b.table,l=JSON.parse(d.value),m=this,d=function(a){var b=a.declaredClass;a.isInstanceOf(k)||h.safeMixin(a,new k);a.isInstanceOf(c)||h.safeMixin(a,new c);a.declaredClass=b;a._setRendererProperties(l[n],g);a._setupEventListeners(m);m._styleRendererDomNodes(a,e,f,n,
l.length);m._renderers.push(a);parseInt(a.domNode.dataset.idx)===l.length-1&&m.dispatchEvent("renderersConstructed",m,{})},n=0;n<l.length;n+=1)a.mixin(l[n],{row:e,col:f,columnIndex:n}),this._createRendererObjectForGroup(l[n],"groupedcolumnrenderer",b,g,d);this._savedArgs=b}},_createRendererObjectForGroup:function(a,b,c,d,e){var f=null,g=this.getCellIndices(a),h=g.row,g=g.column;try{var k=d.getCellPropertyValue(h,g,b,a);if(k)require([k],function(a){f=new a(c);e&&"function"===typeof e&&e(f)});else return null}catch(l){n.error(l)}return f},
setState:function(a){this.domNode&&(this._setupDomClasses(a),this.inherited(arguments))},_onRenderersConstructed:function(){0<this._renderers.length&&(this._renderersConstructed=!0);this._addRenderersToDomNode()},_addRenderersToDomNode:function(){if(0<this._renderers.length)for(var a=0;a<this._renderers.length;a+=1)this.domNode&&this._renderers[a].domNode&&(this.domNode.appendChild(this._renderers[a].domNode),this._renderers[a].startup())},_setupDomClasses:function(){this.addCSSClasses(["groupedColumnRenderer"],
this.domNode)},_setRendererProperties:function(d,e,f){if(!d.isInvalidCache){var g=this.getCellIndices(d),m=g.row,n=g.column,g=g.columnIndex,v=JSON.parse(d.value);this.setColumnIndex&&this.setColumnIndex(g);this.setRow&&this.setRow(m);this.setColumn&&this.setColumn(n);this.getState&&(g=this.populateRendererState(m,n,d,e),this.setState(g));if(0<this._renderers.length){for(var w,x=0;x<v.length;x+=1){var z=this._renderers[x],g=void 0;w="";if(z&&(g=l.getEnclosingWidget(z.domNode)))w=g.declaredClass;var y=
e.getCellPropertyValue(m,n,"groupedcolumnrenderer",d),A=a.mixin({row:m,col:n,colIndex:x},v[x]);if(this.comparePathToDeclaredClass(y,w))this._renderers[x]._setRendererProperties(A,e,f);else{var B;z&&(B=z.domNode);var D=this;this._createRendererObjectForGroup(A,"groupedcolumnrenderer",this._savedArgs,e,function(a){var d=a.declaredClass;a.isInstanceOf(k)||h.safeMixin(a,new k);a.isInstanceOf(c)||h.safeMixin(a,new c);a.declaredClass=d;a._setRendererProperties(v[x],e,f);D._renderers[x]=a;B?b.place(a.domNode,
B,"replace"):D.domNode.appendChild(a.domNode);a.startup();D._styleRendererDomNodes(a,m,n,x,v.length)});g&&g.destroy()}}if(v.length<this._renderers.length){for(d=this._renderers.length-1;d>=v.length;d-=1)this.domNode.removeChild(this._renderers[d].domNode),this._renderers.splice(d);for(d=0;d<this._renderers.length;d+=1)this._styleRendererDomNodes(this._renderers[d],m,n,d,v.length)}}}},_styleRendererDomNodes:function(a,b,c,d,e){for(var f=100/e+"%",h=0;h<this._renderers.length;h+=1)g.set(this._renderers[h].domNode,
"width",f);d===e-1&&(f=100-(e-1)*(100/e)+"%");g.set(a.domNode,"width",f);g.set(a.domNode,"height","100%");a.domNode.setAttribute("data-row",b);a.domNode.setAttribute("data-col",c);a.domNode.setAttribute("data-idx",d);m.addToClassList(a.domNode,"row_"+b);m.addToClassList(a.domNode,"col_"+c);m.addToClassList(a.domNode,"idx_"+d);m.addToClassList(a.domNode,"variableEditorTableCell");0===d&&m.addToClassList(a.domNode,"firstCell");d===e-1?(m.addToClassList(a.domNode,"lastCell"),0<d&&m.removeFromClassList(this._renderers[d-
1].domNode,"lastCell")):0<d&&m.addToClassList(a.domNode,"middleCell");m.removeFromClassList(a.domNode,"cell")},getCellIndices:function(a){var b=-1,c=-1,d=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));a&&void 0!==a.columnIndex&&(d=parseInt(a.columnIndex));return{row:b,column:c,columnIndex:d}},postCreate:function(){this._renderersConstructed&&this._addRenderersToDomNode();this.inherited(arguments);this._removeListeners()},startup:function(){if(0<this._renderers.length)for(var a=
0;a<this._renderers.length;a+=1)this._renderers[a].startup&&this._renderers[a].startup()},onValueChanged:function(b){var c=null;b.data.editor?c=b.data.editor:b.data.renderer&&(c=b.data.renderer);null!==c&&a.mixin(b.data,{index:this._renderers.indexOf(c)});this.dispatchEvent(b.type,this,b.data)},onEditingStarted:function(a){this.dispatchEvent(a.type,this,a.data)},onEditingStopped:function(a){this.dispatchEvent(a.type,this,a.data)},onMouseDown:function(b){a.mixin(b.data,{index:this._renderers.indexOf(b.data.renderer)});
this.dispatchEvent(b.type,this,b.data)},onMouseEnter:function(b){a.mixin(b.data,{index:this._renderers.indexOf(b.data.renderer)});this.dispatchEvent(b.type,this,b.data)},onMouseUp:function(a){this.dispatchEvent(a.type,this,a.data)},_setReadOnly:function(){},comparePathToDeclaredClass:function(a,b){var c=a.split("/"),d=b.split("."),e=!0;if(c.length===d.length)for(var f=0;f<c.length&&e;f+=1)e=c[f]===d[f];else e=!1;return e}})})},"workspacebrowser/app/Main":function(){define("dojo/_base/declare workspacebrowser/WorkspaceBrowserFactory mw-messageservice/MessageService dojo/dom dojo/dom-construct dojo/i18n!workspacebrowser/app/l10n/nls/app".split(" "),
function(h,a,g,f,d,b){return h(null,{constructor:function(a){this.domNode=a},start:function(){g.messageService.start();a.start(!0);var b=a.createWorkspaceBrowser({workspace:"caller",editable:!0});b.addEventListener("workspaceReady",function(a){d.place(a.data.widget.domNode,f.byId("wb_root"),"last")});b.addEventListener("variablesAdded",function(a){});b.addEventListener("variablesRemoved",function(a){});b.addEventListener("variablesChanged",function(a){});a.createWorkspaceBrowser({workspace:"base",
editable:!1})}})})},"workspacebrowser/WorkspaceBrowserFactory":function(){define("workspacebrowser/WorkspaceBrowserFactory",["workspacebrowser/WorkspaceBrowserManager","variableeditor/VariableEditorUtils","mw-log/Log","dojo/topic"],function(h,a,g,f){function d(){e||(e=new h({channel:"/WorkspaceBrowserManager"}),k[e.channel]=e,e.manager.addEventListener("rootSet",function(c){a.logDebug("WSB: Factory Root Set");var d=c.target;c=d.getProperty("Debug");void 0!==c&&a.setDebug(c.Debug);d.addEventListener("propertySet",
function(b){b.data&&b.data.key&&"Managers"===b.data.key?a.logDebug("WSB: Factory Managers Updated"):b.data&&(b.data.key&&"Debug"===b.data.key)&&a.setDebug(b.data.newValue.Debug)});d.addEventListener("peerEvent",function(c){c.data.type&&"FactoryInitialized"===c.data.type?(a.logDebug("WSB: Factory Initialized"),b()):c.data.type&&"WorkspaceBrowserCreated"===c.data.type?c.data.Channel&&(k[c.data.Channel]&&k[c.data.Channel].start&&k[c.data.Channel].autoStart)&&(k[c.data.Channel].start(),a.logDebug("WSB: Factory Auto Starting Manager ("+
c.data.Channel+")")):c.data.type&&"log"===c.data.type&&c.data.message&&a.logDebug("WSB: Server Log ("+c.data.message+")")});f.subscribe("variableeditor/isDebug",function(a){var b=d.getProperty("Debug");a&&(void 0!==a.Debug&&b&&a.Debug!==b.Debug)&&d.setProperty("Debug",{Debug:a.Debug,Source:"client"})});d&&(d.getProperty("Initialized")&&d.getProperty("Initialized").Initialized)&&b()}));return e}function b(){e&&e.getRoot()&&(c.forEach(function(b,c,d){c=e.getRoot();a.logDebug("WSB: Factory Create WSB From Queue ("+
b.channel+")");c.dispatchEvent("peerEvent",c,b)}),c=[])}function l(a){d();a.channel||(p+=1,a.channel="/CWSB_"+p);a.workspace||(a.workspace="caller");void 0===a.editable&&(a.editable=!0);void 0===a.fixedColumnWidths&&(a.fixedColumnWidths=!1);void 0===a.ignoreUpdates&&(a.ignoreUpdates=!1);void 0===a.requestFocusOnStart&&(a.requestFocusOnStart=!1);a.cssSpecifier=a.cssSpecifier||"mw_type_WorkspaceBrowser";a.dataTagRoot=a.dataTagRoot||"motw.datatools.workspacebrowser";if(k&&k[a.channel]&&!a.forceNewManager)return k[a.channel];
var b=k,e=a.channel,f;if(a){var g=d();a.manager&&(g=a.manager);f=a.workspace;var l=a.channel;g||(g=d());(g=g.getRoot())?g.dispatchEvent("peerEvent",g,{type:"CreateWorkspaceBrowser",workspace:f,channel:l}):c.push({type:"CreateWorkspaceBrowser",workspace:f,channel:l});f=new h(a)}else f=null;b[e]=f;return k[a.channel]}function m(a){a&&!a.isError&&(n=!0,b())}var e,k={},c=[],n=!1,p=0;return{createManager:l,createWorkspaceBrowser:l,deleteWorkspaceBrowser:function(a){if(!a&&a.channel)return null;var b=d(),
e=a.workspace,f=a.channel;b||(b=d());(b=b.getRoot())?b.dispatchEvent("peerEvent",b,{type:"DeleteWorkspaceBrowser",workspace:e,channel:f}):c.push({type:"DeleteWorkspaceBrowser",workspace:e,channel:f});k[a.channel]=null},start:function(b){b?a.runFactoryInitInMATLAB("internal.matlab.workspace.peer.PeerWorkspaceBrowserFactory.startup",m):n=!0;d().start()},isStarted:function(){return n}}})},"workspacebrowser/WorkspaceBrowserManager":function(){define("workspacebrowser/WorkspaceBrowserManager","dojo/_base/declare dojo/_base/connect dojo/_base/lang mw-peermodel/PeerModelManager mw-peermodel/Observable variableeditor/ClientPeerManager variableeditor/ClientPeerDocument variableeditor/VariableEditorUtils workspacebrowser/WorkspaceBrowserDnD workspacebrowser/WorkspaceBrowserFactory mw-log/Log".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c){return h("workspacebrowser.WorkspaceBrowserManager",[e,b],{constructor:function(a){this.allArgs=a},_init:function(){this.inherited(arguments);this.channel="/WorkspaceBrowserManager";this.editable=!0;this.cssSpecifier="mw_type_WorkspaceBrowser";this.workspace="caller";this.requestFocusOnStart=this.ignoreUpdates=this.fixedColumnWidths=!1;this.cssSpecifier="mw_type_WorkspaceBrowser";this.dataTagRoot="motw.datatools.workspacebrowser";this.workspaceDocument=null;this.useJsDragDrop=
!0;this.defaultContextId="workspace";this.allArgs&&(this.messageService=this.allArgs.messageService,this.channel=this.allArgs.channel||"/WorkspaceBrowserManager",this.contextId=this.allArgs.contextId="WorkspaceBrowser",this.workspace=this.allArgs.workspace||"caller",this.editable=void 0===this.allArgs.editable?!0:this.allArgs.editable,this.ignoreUpdates=void 0===this.allArgs.ignoreUpdates?!1:this.allArgs.ignoreUpdates,this.cssSpecifier=this.allArgs.cssSpecifier||"mw_type_WorkspaceBrowser",this.allArgs=
this.allArgs,this.dataTagRoot=this.allArgs.dataTagRoot||"motw.datatools.workspacebrowser",this.cssSpecifier=this.allArgs.cssSpecifier||"mw_type_WorkspaceBrowser",this.autoStart=void 0===this.allArgs.autoStart?!0:this.allArgs.autoStart,this.fixedColumnWidths=void 0===this.allArgs.fixedColumnWidths?!1:this.allArgs.fixedColumnWidths,this.requestFocusOnStart=void 0===this.allArgs.requestFocusOnStart?!1:this.allArgs.requestFocusOnStart);this.allArgs.showSummaryBar=!1;this.topicBase="/ML/"+this.channel;
this.allArgs.topicBase=this.topicBase;a.subscribe("/nonModalDialogClose",this,"purgeAll");this.manager=f.getInstance(this.channel);this.peerDocuments=[];this.variableListeners=[];this.hasFocus=!1;this.focusedDocument=null;this.managerListeners=[];this._setupListeners()},_setupListeners:function(){var a=this;this.addEventListener("variableAdded",function(b){b=b.data.peerDoc;a.workspaceDocument=b;m.logDebug("WSBManager: Document Added");b.addEventListener("viewAdded",function(b){m.logDebug("WSBManager: View Added");
var c=b.data.peerDoc;b=b.data.peerView;a.dispatchEvent("workspaceReady",c.domNode,{workspaceBrowser:a,widget:c,view:b});b.peerNode.addEventListener("peerEvent",g.hitch(a,"_handleVariableEvents"));var d=function(b){m.logDebug("WSBManager: View Ready");b=b.data.peerView;var c=b.table,e=c.domNode;c.startup&&c.startup();a.useJsDragDrop&&!c.useDojoDnD&&(c.dragEnterListener=e.addEventListener("dragenter",g.hitch(a,a._onDragEnter,e,a.dropZoneClass)),c.dragOverListener=e.addEventListener("dragover",g.hitch(a,
a._onDragOver)),c.dragLeaveListener=e.addEventListener("dragleave",g.hitch(a,a._onDragLeave,e,a.dropZoneClass)),c.dropListener=e.addEventListener("drop",g.hitch(a,a._onDrop,e,a.dropZoneClass)));b.table.sendSelectionRanges=!1;b.removeEventListener("viewReady",d,this)};b.addEventListener("viewReady",d)});b.addEventListener("viewRemoved",function(a){m.logDebug("WSBManager: View Removed")})});this.addEventListener("variableRemoved",function(a){m.logDebug("WSBManager: Document Removed")})},_handleVariableEvents:function(a){m.logDebug("WSBManager: peerEvent: "+
a.data.type);a.data.type&&"VariablesAdded"===a.data.type&&this.workspaceDocument?a.data.Variables?(m.logDebug("WSBManager: VariablesAdded: "+a.data.Variables),this.dispatchEvent("variablesAdded",this.workspaceDocument.domNode,{workspaceBrowser:this,variables:a.data.Variables})):c.warn("WSBManager Server VariablesAdded with no variables."):a.data.type&&"VariablesRemoved"===a.data.type&&this.workspaceDocument?a.data.Variables?(m.logDebug("WSB: VariablesRemoved: "+a.data.Variables),this.dispatchEvent("variablesRemoved",
this.workspaceDocument.domNode,{workspaceBrowser:this,variables:a.data.Variables})):c.warn("WSBManager Server VariablesRemoved with no variables."):a.data.type&&"VariablesChanged"===a.data.type&&this.workspaceDocument?a.data.Variables?(m.logDebug("WSBManager: VariablesChanged: "+a.data.Variables),this.dispatchEvent("variablesChanged",this.workspaceDocument.domNode,{workspaceBrowser:this,variables:a.data.Variables})):c.warn("WSBManager Server VariablesChanged with no variables."):a.data.type&&"error"===
a.data.type&&(a.data.message?c.error(a.data.message):c.warn("WSBManager Server error with no message."))},getSelectedFields:function(){if(this.workspaceDocument&&this.workspaceDocument.clientPeerView&&this.workspaceDocument.clientPeerView.getSelectedFields)return this.workspaceDocument.clientPeerView.getSelectedFields()},destroy:function(){k.deleteWorkspaceBrowser(this)}})})},"workspacebrowser/WorkspaceBrowserDnD":function(){define("workspacebrowser/WorkspaceBrowserDnD","dojo/_base/declare dojo/dom-attr dojo/dom-geometry dojo/_base/lang dojo/on dojo/dom-class mw-filename-utils/FileNameUtil variableeditor/VariableEditorDnD variableeditor/VariableEditorUtils dojo/string mw-remote/Remote workspacebrowser/UploadFilesWidget dojo/i18n!workspacebrowser/app/l10n/nls/app dojo/domReady!".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p){return h("workspacebrowser.WorkspaceBrowserDnD",[m],{dropZoneClass:"WSBDropZone",loadCommand:"load",importCommand:"uiimport",validType:"Files",constructor:function(a){this.layoutService=a.layoutService;this.executionService=a.executionService;this.fileDataService=a.fileDataService;this.connectorUpload=!1;this.ValidDataFlavor=this.validType},_onDrop:function(a,b,d){var e=d.dataTransfer.files;0<e.length?(-1<c.getEndPoint().indexOf("localhost")&&(this.connectorUpload=
!0),this.handleUpload(e)):d.dataTransfer.types.contains&&d.dataTransfer.types.contains("Files")&&this._displayDialog(p.unsupportedEmptyUpload);this.inherited(arguments)},handleUpload:function(a){var b=this.unsupportedFileSize(a);b.emptyFileOrFolder?this._displayDialog(p.unsupportedEmptyUpload):!this.connectorUpload&&b.largeFile?this._displayDialog(p.unsupportedLargeUpload,b.largeFileName):this.unsupportedUpload(a)?this._displayDialog(p.importWizardWarning):(this.uploadFilesWidget=new n({fileDataService:this.fileDataService,
layoutService:this.layoutService,fileList:a,connectorUpload:this.connectorUpload}),this.uploadFilesWidget.onuploadSuccess=f.hitch(this,"uploadFiles",a),this.layoutService.addWidget("uploadWidget","newDialog",this.uploadFilesWidget,{title:"UploadDialog"}))},_displayDialog:function(a,b){b&&(a=k.substitute(a,[b]));e.displayErrorMessage(a,p.errorDialogTitle,"info")},unsupportedUpload:function(a){return 1<a.length?!this.isMATFileList(a):!1},unsupportedFileSize:function(a){for(var b={},c=0;c<a.length;c++){var d=
a[c].size;if(0===d||!a[c].type&&0===d%4096){b.emptyFileOrFolder=!0;break}else if(268435456<d){b.largeFile=!0;b.largeFileName=a[c].name;break}}return b},isMATFileList:function(a){for(var b=0;b<a.length;b++)if("mat"!==a[b].name.split(".").pop())return!1;return!0},loadFiles:function(a,b){1==a.length&&!this.isMATFileList(a)?this.executeCommand(a,b,this.importCommand):this.executeCommand(a,b,this.loadCommand)},executeCommand:function(a,b,c){if(this.executionService)for(var d=c,e=0;e<a.length;e++)c=d+"('"+
b+"/"+a[e].name+"')",this.uploadFilesWidget.connectorUpload&&(c=d+"([pwd '\\' '"+a[e].name+"'])"),this.executionService.executionEval(c)},uploadFiles:function(a){this.loadFiles(a,this.uploadFilesWidget.uploadDestinationUrl);this.uploadFilesWidget.onClose()}})})},"mw-filename-utils/FileNameUtil":function(){define(["dojo/_base/array"],function(h){return{MATLAB_FILE_PATTERN:/^[a-z][a-z0-9_]*\.m$/i,USER_DIR_PATH:"users/",USERS_DIR_PATH:"/users/",USER_PUBLISHED_DIR:"Published",USER_PUBLISHED_DIR_PATH_PATTERN:"^/MATLAB Drive/Published$",
USER_SHARED_DIR_PATH_PATTERN:"^/MATLAB Drive/Shared$",IN_USER_SHARED_DIR_PATTERN:"^/MATLAB Drive/Shared/*",BROWSER_TYPES:"htm html pdf doc docx dot dotx rtf docm dotm xls asv dat exe dll zip".split(" "),LOAD_TYPES:["mat"],MATLAB_OPEN_TYPES:"fig tif png jpg jpeg gif au bmp mlx xlsx".split(" "),LIVE_SCRIPT_EXTENSION:"mlx",MATLAB_CODE_FILE_EXTENSION:"m",FILENAME_PATTERN:/^[^\"\/\*:><\?\\|]+$/,MATLAB_EXTENSION_PATTERN:/\.(m|mln|mlx)$/i,SUPPORTED_EXTENSION_PATTERN:/\.(pdf|html|htm)$/i,SUPPORTED_FILENAME_PATTERN:/^[a-z][a-z0-9_]*\.(m|mln|mlx|pdf|html|htm)$/i,
MATLAB_FILENAME_PATTERN:/^[a-z][a-z0-9_]*\.(m|mln|mlx)$/i,MATLAB_NAME_LENGTH:63,FILE_NAME_LENGTH:128,isMatlabFileInfo:function(a){return this._fileInfoNameMatchesRegExp(a,this.MATLAB_FILE_PATTERN)},isMatlabFileName:function(a){return this._fileNameMatchesRegExp(a,this.MATLAB_FILE_PATTERN)},isValidFileName:function(a){return this._fileNameMatchesRegExp(a,this.FILENAME_PATTERN)},checkFileInfoExtension:function(a,g){return a&&a.name&&this.checkFileNameExtension(a.name,g)},checkFileNameExtension:function(a,
g){g instanceof Array||(g=[g]);return h.some(g,function(f){return this.getFileNameExtension(a).toLocaleLowerCase()===f.toLocaleLowerCase()},this)},constructMatlabFilePath:function(a){return"'"+this.pathFromFileInfo(a).replace(/'/g,"''")+"'"},constructUrlFromFileInfo:function(a,g){var f="/"+a.location.substring(Math.min(a.location.indexOf("/MATLAB Drive/")+14,a.location.length));return this.USER_DIR_PATH+g+f+a.name},constructPathFromUserName:function(a){if(a)return this.USERS_DIR_PATH+a+"/"},getFileSeparator:function(a){return-1!==
a.search(/^[a-z]:/i)||-1!==a.search(/^\\\\/i)?"\\":"/"},getFileNameNoExtension:function(a){if(!a||"string"!==typeof a)return a;var g=-1!==a.lastIndexOf(".")?a.lastIndexOf("."):a.length;return a.slice(0,g)},getFileNameExtension:function(a){if(!a||"string"!==typeof a)return a;var g=-1!==a.lastIndexOf(".")?a.lastIndexOf(".")+1:a.length;return a.substring(g,a.length)},normalizePath:function(a){var g=this.getFileSeparator(a);return a.replace(/[\/\\]*$/,g)},parseHomeFolderFromPath:function(a,g){var f=a.indexOf(g),
d="";0<f&&(d=a.substring(0,f+g.length)+this.getFileSeparator(a));return d},getPackageStartFromLocation:function(a){a=this.normalizeLocation(a);var g=this.getFileSeparator(a);"\\"===g&&(g+=g);return a.search("(\\"+g+"\\+[a-zA-Z][a-zA-Z0-9_]*)+\\"+g+"$")},getFullyQualifiedMatlabName:function(a){var g=this.convertLocationToPackage(a.location);a=this.getFileNameNoExtension(a.name);return g+a},getPathForPublish:function(a,g){var f;-1<a.location.indexOf("+")?f=this.getFullyQualifiedMatlabName(a):(f=g?a.location.replace("/MATLAB Drive/",
g):a.location,f+=a.name);return f},convertToPublishURLFromMATLABDriveURL:function(a,g){if(0===a.indexOf("/MATLAB Drive/"+this.USER_PUBLISHED_DIR))return a.replace("/MATLAB Drive/",g)},areFilesEqual:function(a,g){return this.pathFromFileInfo(a)===this.pathFromFileInfo(g)},convertPathToRowClass:function(a){return a.replace(/[\/\.]/g,"_")},convertLocationToPackage:function(a){a=this.normalizeLocation(a);var g=this.getPackageStartFromLocation(a);if(0>g)return"";var f=this.getFileSeparator(a);"\\"===f&&
(f+=f);return a.substring(g+1,a.length).replace(/\+/g,"").replace(RegExp("\\"+f,"g"),".")},isShareable:function(a){return a.location===this.USERS_DIR_PATH||this.isUserPublishedDirectoryPath(a.path)?!1:a.shareAttributes&&void 0!==a.shareAttributes.canProduceShare?a.shareAttributes.canProduceShare:a.isDirectory&&!(a.parent&&"ROOT"===a.parent.pathId)},isUserSharedDirectoryPath:function(a){return a.match(this.USER_SHARED_DIR_PATH_PATTERN)},isInUsersSharedDirectory:function(a){return-1!==a.search(this.IN_USER_SHARED_DIR_PATTERN)},
isCurrentFolderInPath:function(a,g){return-1!==g.search(a)},isUserPublishedDirectoryPath:function(a){return a.match(this.USER_PUBLISHED_DIR_PATH_PATTERN)},isVersioned:function(a){return!a.isDirectory&&this.isWritable(a)&&this.isMatlabEditorOpenType(a)},isWritable:function(a){return a&&a.filePermissions&&a.filePermissions.canWrite},isLiveScriptFile:function(a){return this.getFileNameExtension(a)===this.LIVE_SCRIPT_EXTENSION},isPlainCodeFile:function(a){return this.getFileNameExtension(a)===this.MATLAB_CODE_FILE_EXTENSION},
canRename:function(a){return!a||a.parent&&"ROOT"===a.parent.pathId||a.parent&&a.name===this.USER_PUBLISHED_DIR&&"ROOT"===a.parent.parent.pathId?!1:this.isWritable(a)},canDelete:function(a){return this.canRename(a)},canDownload:function(a){return!a||a.name&&"mln"===this.getFileNameExtension(a.name).toLocaleLowerCase()?!1:!a.isDirectory},_fileInfoNameMatchesRegExp:function(a,g){var f=!1;a&&a.name&&(f=this._fileNameMatchesRegExp(a.name,g));return f},_fileNameMatchesRegExp:function(a,g){var f=!1,d=this._getCaseInsensitiveRegExp(g);
a&&("string"===typeof a&&-1!==a.search(d))&&(f=!0);return f},_getCaseInsensitiveRegExp:function(a){return a instanceof RegExp?RegExp(a.source,"i"):RegExp(a,"i")},assertIsFile:function(a){if(!this.isFile(a))throw Error("MW.utils.FileNameUtil: the object is not a 'File'. "+JSON.stringify(a));},isFile:function(a){return a&&a.hasOwnProperty("content")&&a.hasOwnProperty("fileInfo")&&this.isFileInfo(a.fileInfo)},assertIsFileInfo:function(a){if(!this.isFileInfo(a))throw Error("MW.utils.FileNameUtil: the object is not a 'FileInfo'. "+
JSON.stringify(a));},isFileInfo:function(a){return a&&a.hasOwnProperty("location")&&a.hasOwnProperty("name")&&a.hasOwnProperty("isDirectory")},normalizeLocation:function(a){if("string"===typeof a&&(0===a.length||a.lastIndexOf(this.getFileSeparator(a))!==a.length-1))a+=this.getFileSeparator(a);return a},createFilePath:function(a,g){return this.normalizeLocation(a)+g},folderInfoFromPath:function(a){a=this.fileInfoFromPath(a);a.isDirectory=!0;return a},fileInfoFromPath:function(a){return{location:this.locationFromPath(a),
name:this.nameFromPath(a),filePermissions:{canWrite:!0},isDirectory:!1,separator:this.getFileSeparator(a)}},pathFromFileInfo:function(a){this.assertIsFileInfo(a);return a.location+a.name},locationFromPath:function(a){var g,f=this.getFileSeparator(a),d=a.split(f);d[d.length-1]?(g=d[d.length-1],g=a.slice(0,a.length-g.length)):d[d.length-2]&&(g=d[d.length-2],g=a.slice(0,a.length-g.length-1));!g&&a===f&&(g=f);return g},getParentPath:function(a){a=this.locationFromPath(a);return this._getPath(a)},_getPath:function(a){if(0===
a.length)return a;var g=this.getFileSeparator(a);return a.charAt(a.length-1)!==g||3===a.length&&a.charAt(0).match(/[a-z]/i)&&":"===a.charAt(1)&&"\\"===a.charAt(2)||"/"===a?a:a.slice(0,a.length-1)},nameFromPath:function(a){var g="",f=this.getFileSeparator(a);a=a.replace(f+f,f);a=a.split(f);a[a.length-1]?g=a[a.length-1]:a[a.length-2]&&(g=a[a.length-2]);return g},createEmptyFileObject:function(a,g){return{content:"",fileInfo:this.fileInfoFromPath(this.createFilePath(a,g))}},remoteFile:function(a){var g=
a;this.isFile(a)&&this.isFileInfo(a.fileInfo)&&(g={content:a.content,fileInfo:this.remoteFileInfo(a.fileInfo)});return g},remoteFileInfo:function(a){var g=a;this.isFileInfo(a)&&(g={location:a.location,name:a.name,isDirectory:a.isDirectory});return g},extractSelectedFileName:function(a){if(!a||""===a||1>a.length)return"";var g=this.getFileSeparator(a);return 0>a.lastIndexOf(g)?a:a.substring(a.lastIndexOf(g)+1,a.length)},isBrowserType:function(a){return this.checkFileInfoExtension(a,this.BROWSER_TYPES)?
!0:!1},isLoadType:function(a){return this.checkFileInfoExtension(a,this.LOAD_TYPES)?!0:!1},isMatlabOpenType:function(a){return this.checkFileInfoExtension(a,this.MATLAB_OPEN_TYPES)?!0:!1},isMatlabEditorOpenType:function(a){return!(this.checkFileInfoExtension(a,this.BROWSER_TYPES)||this.checkFileInfoExtension(a,this.LOAD_TYPES)||this.checkFileInfoExtension(a,this.MATLAB_OPEN_TYPES))}}})},"workspacebrowser/UploadFilesWidget":function(){define("dojo/_base/declare dojo/query dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/on dojo/string dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin mw-remote/Remote mw-filename-utils/FileNameUtil mw-html-utils/HtmlUtils dojo/i18n!workspacebrowser/app/l10n/nls/app dojo/text!./UploadWidget.html".split(" "),
function(h,a,g,f,d,b,l,m,e,k,c,n,p,q,r){var s=function(a){return p.parseUrl(a).hostname};h=h([e,m,k],{templateString:r,constructor:function(a){a=a||{};this.fileDataService=a.fileDataService;this.layoutService=a.layoutService;this.fileList=a.fileList;this.uploadDestinationUrl="";this.connectorUpload=a.connectorUpload},postCreate:function(){var a=this,e=a.iframe,h=a.progressBarContainer,k=a.progressBar,m=0,p=a.message,r=c.getWorkerRoutingHost();this.connectorUpload&&(r=r.slice(0,-1));var A=a.fileDataService;
a.own(b(window,"message",function(c){if(s(c.origin)===s(r))switch(c.data.type){case "iframeIsReady":e.contentWindow&&e.contentWindow.postMessage(a.fileList,r);m=a.fileList.length;c=l.substitute(q.uploadingFiles,[m]);p.textContent=c;break;case "updateProgressBar":c=Math.round(100*c.data.loaded/c.data.total);d.set(k,"width",c+"%");100===c&&(p.textContent=q.waitingForServerResponse);break;case "uploadFinished":f.destroy(h);var g=c.data.response;200===c.data.status&&-1<g.indexOf("SUCCESS")?b.emit(a,"uploadSuccess"):
p.textContent=q.uploadFailed;break;case "uploadCanceled":a.onClose()}}));var B="",D=c.getUploadIframeProxyUrl();this.connectorUpload?B=encodeURI(r+"/users/"):(A=this.uploadDestinationUrl=n.pathFromFileInfo(A.currentWorkingFolder),B=encodeURI(r+A.substring(1,A.length)));g.set(e,"src",D+"\x26uploadDestinationUrl\x3d"+B);this.inherited(arguments)},onClose:function(){this.layoutService.removeWidget("uploadWidget")},startup:function(){this.inherited(arguments)}});h._forTestingOnly={getHostName:s};return h})},
"mw-facade/MatlabFacade":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-remote/Remote mw-messageservice/MessageService mw-deprecation-utils/deprecation".split(" "),function(h,a,g,f,d,b){b.deprecated({deprecated:{module:"mw-facade/MatlabFacade"},replacement:{module:"mw-remote/Remote"}});return h(null,{constructor:function(a){d.start();this._config=a||{};this._registerHandlers()},_config:{},_registerHandlers:function(){var b=this._config;f.registerFaultHandler("Eval",function(d,
e){g.error("Error: "+d.code+", "+d.message);e&&a.isFunction(e.errorCallback)?e.errorCallback(d):a.isFunction(b.errorCallback)&&b.errorCallback(d)});f.registerResponseHandler("EvalResponse",function(d,e){g.info("eval response");e&&a.isFunction(e.evalCallback)?e.evalCallback(d):a.isFunction(b.evalCallback)&&b.evalCallback(d)});f.registerFaultHandler("FEval",function(d,e){g.error("Error: "+d.code+", "+d.message);e&&a.isFunction(e.errorCallback)?e.errorCallback(d):a.isFunction(b.errorCallback)&&b.errorCallback(d)});
f.registerResponseHandler("FEvalResponse",function(d,e){g.info("feval response");e&&a.isFunction(e.fevalCallback)?e.fevalCallback(d):a.isFunction(b.evalCallback)&&b.evalCallback(d)})},executionEval:function(b){a.isString(b)&&(b={matlabcode:b});f.sendMessage({Eval:{mcode:b.matlabcode}},b)},feval:function(a){a.arguments=a.arguments||[];a.nargout=a.nargout||0;f.sendMessage({FEval:{"function":a["function"],arguments:a.arguments,nargout:a.nargout}},a)},publish:d.publish,subscribe:d.subscribe,unsubscribe:d.unsubscribe})})},
"dojo/dnd/AutoSource":function(){define(["../_base/declare","./Source"],function(h,a){return h("dojo.dnd.AutoSource",a,{constructor:function(){this.autoSync=!0}})})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),function(h){return h._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],
function(h,a,g,f){var d=a("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(a){if(this._hash[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");this._hash[a.id]=a;this.length++},remove:function(a){this._hash[a]&&(delete this._hash[a],this.length--)},forEach:function(a,d){d=d||g.global;var f=0,e;for(e in this._hash)a.call(d,this._hash[e],f++,this._hash);return this},filter:function(a,f){f=f||g.global;var h=
new d,e=0,k;for(k in this._hash){var c=this._hash[k];a.call(f,c,e++,this._hash)&&h.add(c)}return h},byId:function(a){return this._hash[a]},byClass:function(a){var f=new d,g,e;for(g in this._hash)e=this._hash[g],e.declaredClass==a&&f.add(e);return f},toArray:function(){var a=[],d;for(d in this._hash)a.push(this._hash[d]);return a},map:function(a,d){return h.map(this.toArray(),a,d)},every:function(a,d){d=d||g.global;var f=0,e;for(e in this._hash)if(!a.call(d,this._hash[e],f++,this._hash))return!1;return!0},
some:function(a,d){d=d||g.global;var f=0,e;for(e in this._hash)if(a.call(d,this._hash[e],f++,this._hash))return!0;return!1}});h.forEach("forEach filter byClass map every some".split(" "),function(a){f[a]=d.prototype[a]});return d})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(h,a,g,f,d){var b={getViewport:function(){return g.getBox()}};b.placeOnScreen=f.at;b.placeOnScreenAroundElement=function(b,d,e,g){var c;if(a.isArray(e))c=
e;else{c=[];for(var h in e)c.push({aroundCorner:h,corner:e[h]})}return f.around(b,d,c,!0,g)};b.placeOnScreenAroundNode=b.placeOnScreenAroundElement;b.placeOnScreenAroundRectangle=b.placeOnScreenAroundElement;b.getPopupAroundAlignment=function(a,b){var d={};h.forEach(a,function(a){var c=b;switch(a){case "after":d[b?"BR":"BL"]=b?"BL":"BR";break;case "before":d[b?"BL":"BR"]=b?"BR":"BL";break;case "below-alt":c=!c;case "below":d[c?"BL":"BR"]=c?"TL":"TR";d[c?"BR":"BL"]=c?"TR":"TL";break;case "above-alt":c=
!c;default:d[c?"TL":"TR"]=c?"BL":"BR",d[c?"TR":"TL"]=c?"BR":"BL"}});return d};a.mixin(d,b);return d})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(h,a,g){var f=g._createWrapper;g._createWrapper=function(b){b.declaredClass||(b={_popupWrapper:b.parentNode&&h.contains(b.parentNode,"dijitPopup")?b.parentNode:null,domNode:b,destroy:function(){},ownerDocument:b.ownerDocument,ownerDocumentBody:a.body(b.ownerDocument)});return f.call(this,
b)};var d=g.open;g.open=function(a){if(a.orient&&"string"!=typeof a.orient&&!("length"in a.orient)){var f=[],g;for(g in a.orient)f.push({aroundCorner:g,corner:a.orient[g]});a.orient=f}return d.call(this,a)};return g})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(h,a){a.scrollIntoView=function(a,f){h.scrollIntoView(a,f)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/_base/wai":function(){define(["dojo/dom-attr",
"dojo/_base/lang","../main","../hccss"],function(h,a,g){a.mixin(g,{hasWaiRole:function(a,d){var b=this.getWaiRole(a);return d?-1<b.indexOf(d):0<b.length},getWaiRole:function(f){return a.trim((h.get(f,"role")||"").replace("wairole:",""))},setWaiRole:function(a,d){h.set(a,"role",d)},removeWaiRole:function(f,d){var b=h.get(f,"role");b&&(d?(b=a.trim((" "+b+" ").replace(" "+d+" "," ")),h.set(f,"role",b)):f.removeAttribute("role"))},hasWaiState:function(a,d){return a.hasAttribute?a.hasAttribute("aria-"+
d):!!a.getAttribute("aria-"+d)},getWaiState:function(a,d){return a.getAttribute("aria-"+d)||""},setWaiState:function(a,d,b){a.setAttribute("aria-"+d,b)},removeWaiState:function(a,d){a.removeAttribute("aria-"+d)}});return g})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(h,a){a.getDocumentWindow=function(a){return h.get(a)}})},"url:mw-menu/templates/MenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n        \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/Menu.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" tabindex\x3d"0" data-focus\x3d"temporary"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/MenuSeparator.html":'\x3cdiv data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/PopupMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n    \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutAndArrowWrapperNode"\n        \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwMenuArrowNode"  data-dojo-attach-point\x3d"menuArrowNode"\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/Toolstrip.html":'\x3cdiv id\x3d${id} class\x3d"toolstrip toolstripNode" data-focus\x3d"refuse"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"tabGroupContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"toolstripTabContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"topRightContainer" data-dojo-attach-point\x3d"topRightContainer"\x3e\n        \x3cdiv class\x3d"QABContainer" data-dojo-attach-point\x3d"QABContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchContainer" data-dojo-attach-point\x3d"searchContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchPopupContainer dijitOffScreen" data-dojo-attach-point\x3d"searchPopupContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"logoutContainer" data-dojo-attach-point\x3d"logoutContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"collapseButtonContainer" data-dojo-attach-point\x3d"collapseButtonContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:mw-form/templates/PushButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/layout/templates/ConfirmationDialog.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"messageNode" class\x3d"mwMessageNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dojox/layout/resources/FloatingPane.html":'\x3cdiv class\x3d"dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv tabindex\x3d"0" role\x3d"button" class\x3d"dojoxFloatingPaneTitle" dojoAttachPoint\x3d"focusNode"\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"onclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"onclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"onclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\t\n\t\t\x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"onclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-dialog-utils/floatingPaneTemplate.html":'\x3cdiv tabindex\x3d"0" class\x3d"mwNonModalDialog dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv role\x3d"button" class\x3d"dojoxFloatingPaneTitle dijitDialogTitleBar" dojoAttachPoint\x3d"focusNode"\x3e\n        \x3c!--\n         This template is required because the dojox Floating pane template uses onClick Event instead of ondijitclick,\n         which causes some issues with Ipad. Dojo ticket for dialogs not closing on touch devices: http://bugs.dojotoolkit.org/ticket/13488\n         the fix was implemented in _onDijitClickMixin() so using ondijitclick solves the problem.\n\n         This template also groups the icons into a div so that it can be absolute positioned which\n         allows it to be stacked on top of the title node. Previously long titles were overlapping\n         the icons making them unclickable, z-index does not work because the buttons are floats.\n         g985154\n        --\x3e\n\t\t\x3cspan style\x3d"float:left" dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode dijitDialogTitle"\x3e\x3c/span\x3e\n\n        \x3cdiv class\x3d"dojoxFloatingIconContainer"\x3e\n            \x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"ondijitclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"ondijitclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"ondijitclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"ondijitclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n        \x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/QAB.html":'\x3cdiv id\x3d${id} class\x3d"qab"\x3e\n    \x3cdiv class\x3d"leftArrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"mainArea" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/QAGroup.html":'\x3cdiv id\x3d${id} class\x3d"qaGroup"\x3e\n\x3cdiv data-dojo-attach-point\x3d"separatorNode" class\x3d"quickAccessGroupSeparator"\x3e\x3c/div\x3e\x3cdiv class\x3d"qaGroupContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/TabGroup.html":'\x3cdiv class\x3d"tabGroup"\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Section.html":"\x3cdiv id\x3d${id} class\x3d'section'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'sectionWrapper' class\x3d'sectionWrapper'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'columnContainerWrapper' class\x3d'columnContainerWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d'columnContainer'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'title'\x3e\x3c/div\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'sectionDropDownContainer' class\x3d'sectionDropDownContainer'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionDivider'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/DropDownButton.html":'\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"buttonNode" class\x3d"mwButtonNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonAlignmentNode" class\x3d"mwButtonAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonContainerNode" class\x3d"mwButtonContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode mwBlockTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"textLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownNode" class\x3d"mwDropDownNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownAlignmentNode" class\x3d"mwDropDownAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownContainerNode" class\x3d"mwDropDownContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextNode" class\x3d"mwTextNode mwInlineTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"arrowNode" class\x3d"mwArrowNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLineNode" class\x3d"mwLastTextLineNode"\n                        \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                    \x3e\x3c/div\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"arrowIconNode" class\x3d"mwArrowIconNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryPopup.html":"\x3cdiv id\x3d${id} class\x3d'toolstrip galleryPopup'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d'header'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'searchTextFieldContainerNode' class\x3d\"mwSearchTextFieldContainerNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'buttonWrapper' class\x3d'ButtonWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'listViewButtonContainerNode' class\x3d\"mwListViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'iconViewButtonContainerNode' class\x3d\"mwIconViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'closeButtonNode' class\x3d\"mwCloseButtonNode\" data-tag\x3d\"closeButton\"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"categoryContainer\" class\x3d'categoryContainer'\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"noSearchMatchNode\" class\x3d\"noSearchMatchNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"favCategoryContainer\" class\x3d\"favCategoryContainer\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d\"otherCategoriesContainer\"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"footerContainer\" class\x3d'footerContainer'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/TextField.html":'\x3cdiv\x3e\x3cinput class\x3d "mwInputNode mwAlignmentNode" spellcheck\x3d"false" type\x3d"text" data-dojo-attach-point\x3d"inputNode,focusNode"\x3e\x3c/div\x3e',"url:mw-form/templates/ToggleButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-pressed\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/Panel.html":"\x3cdiv id\x3d${id} class\x3d'panel'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/Column.html":"\x3cdiv id\x3d${id} class\x3d'column' data-dojo-attach-point\x3d\"containerNode\"\x3e\x3c/div\x3e","url:mw-menu/templates/MenuPanel.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:MW/toolstrip/widgets/templates/Footer.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/FooterCell.html":'\x3cdiv data-dojo-attach-point\x3d"footerCellNode"\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/gallery/templates/Gallery.html":'\x3cspan id\x3d${id} class\x3d\'gallery icon_view\' \x3e\n    \x3cdiv data-dojo-attach-point\x3d"_aroundNode" class\x3d"aroundNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\'containerNode\' class\x3d\'mainArea\'\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d\'openPopupDiv, focusNode, _buttonNode\' class\x3d\'openPopupDiv\'\x3e\n        \x3cdiv class\x3d"buttonDownArrow"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyLayer" class\x3d"busyLayer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyNode" class\x3d"busyIndicator"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"textOverlayWrapperNode" class\x3d"textOverlayWrapper"\x3e\n        \x3cdiv class\x3d"textOverlayCell"\x3e\n            \x3cspan data-dojo-attach-point\x3d"textOverlayNode" class\x3d"textOverlay"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/span\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryCategory.html":"\x3cdiv id\x3d${id} class\x3d\"Category\"\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d\"categoryHeader\"\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleIconNode' class\x3d'titleIcon'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'categoryTitle'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'moveTopNode' class\x3d'moveTopNode'\x3e\n            \x3cdiv class\x3d'moveTopLabel'\x3eTOP\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'moveTopButtonNode' class\x3d'moveTopButton'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"containerNode\" class\x3d'gridWrapperNode'\x3e\n    \x3c/div\x3e\n\x3c/div\x3e",
"url:mw-colorpicker/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline mwDisableSelection"\n    \x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"${baseClass}Title"\x3e${!title}\x3c/span\n    \x3e\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0"\n        \x3e\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',"url:mw-colorpicker/templates/ColorPaletteSwatch.html":'\x3cdiv class\x3d"dijitInline mwPaletteDiv"\n    \x3e\x3cdiv title\x3d"${title}" class\x3d"mwColorPaletteSwatch" style\x3d"background-color: ${color}" data-test-id\x3d"${color}"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-colorpicker/templates/ColorSpinner.html":'\x3cdiv class\x3d"mwDisableSelection"\n    \x3e\x3ctable\n        \x3e\x3ctr\n            \x3e\x3ctd colspan\x3d"3"\n            \x3e\x3cdiv data-dojo-type\x3d"mw-colorpicker/ToggleButtonGroup" data-dojo-attach-point\x3d"toggleButton" data-dojo-props\x3d"buttonText:[\'1\', \'2\', \'3\']"\x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Double" data-dojo-attach-point\x3d"doubleSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redDoubleSpinner" data-dojo-attach-point\x3d"redDoubleSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenDoubleSpinner" data-dojo-attach-point\x3d"greenDoubleSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueDoubleSpinner" data-dojo-attach-point\x3d"blueDoubleSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Int"  data-dojo-attach-point\x3d"intSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redIntSpinner" data-dojo-attach-point\x3d"redIntSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenIntSpinner" data-dojo-attach-point\x3d"greenIntSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueIntSpinner" data-dojo-attach-point\x3d"blueIntSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Hex" data-dojo-attach-point\x3d"hexSpinners"\n            \x3e\x3ctd colspan\x3d"3"\x3e${_hexTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/ValidationTextBox" data-test-id\x3d"hexSpinner" data-dojo-attach-point\x3d"hexSpinner" class\x3d"${baseClass}HexSpinner"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',
"url:mw-colorpicker/templates/ColorPicker.html":'\x3cdiv class\x3d"mwDisableSelection" data-test-id\x3d"mwColorPicker"\n    \x3e\x3cdiv class\x3d"${baseClass}Palette" data-dojo-type\x3d"mw-colorpicker/ColorPalette" data-dojo-attach-point\x3d"paletteNode" data-test-id\x3d"palette" data-dojo-props\x3d"palette: ${_parsedStandardColors}"\x3e\x3c/div\n    \x3e\x3ctable class\x3d"${baseClass}Middle"\n        \x3e\x3ctr\n            \x3e\x3ctd class\x3d"${baseClass}Recent" data-dojo-attach-point\x3d"recentColorsNode" data-test-id\x3d"recentColors"\x3e\x3c/td\n            \x3e\x3ctd\n                \x3e\x3cdiv data-dojo-attach-point\x3d"previewNode" class\x3d"${baseClass}Preview"\n                    \x3e\x3cspan data-dojo-attach-point\x3d"previewTitleNode"\x3e${_previewTitle}\x3c/span\n                    \x3e\x3cdiv class\x3d"${baseClass}PreviewColor" data-dojo-attach-point\x3d"previewColorNode" data-test-id\x3d"previewColor"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n    \x3e\x3cdiv class\x3d"${baseClass}Spinner" data-dojo-type\x3d"mw-colorpicker/ColorSpinner" data-dojo-attach-point\x3d"spinnerNode" data-test-id\x3d"spinner"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-form/templates/CheckBox.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"checkbox" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',"url:mw-menu/templates/CheckBoxRadioButtonMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwOverlayNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-menu/templates/TextFieldMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextContainer" data-dojo-attach-point\x3d"textContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:mw-form/templates/RadioButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"radio" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/MenuHeader.html":'\x3cdiv data-dojo-attach-point\x3d"textNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-form/templates/ComboBox.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"mwTextFieldContainerNode" data-dojo-attach-point\x3d"textFieldContainerNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwArrowContainerNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3cdiv class\x3d"mwArrowNode"\x3e\x3c/div\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/ListBox.html":'\x3cdiv\x3e\x3cul tabindex \x3d "0" data-dojo-attach-point\x3d "containerNode, focusNode"\x3e\x3c/ul\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/Tooltip.html":'\x3cdiv class\x3d"validation-tooltip-dialog"\x3e\n        \x3cdiv class\x3d"tooltipConnector" data-dojo-attach-point\x3d"arrowNode" style\x3d"display:inline-block"\x3e\x3c/div\n                \x3e\x3cdiv  style\x3d"display:inline-block" class\x3d"validationContents" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"validationImage" style\x3d"display:inline-block"\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"validationText" style\x3d"display:inline-block"\x3e\x3c/div\x3e\x3c/div\x3e\n\n\x3c/div\x3e\n\n',
"url:mw-form/templates/Label.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/EmptyControl.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d "emptyControl"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/TextArea.html":'\x3cdiv\x3e\x3ctextarea class\x3d"mwInputNode mwAlignmentNode" data-dojo-attach-point\x3d"inputNode,focusNode" spellcheck\x3d"false"\x3e\x3c/textarea\x3e\x3c/div\x3e',"url:mw-form/templates/Spinner.html":'\x3cdiv\n    \x3e\x3cdiv class \x3d "mwContainerNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\n    \x3e\x3cdiv class \x3d "mwButtonsContainer" data-dojo-attach-point\x3d"buttonsContainerNode"\n        \x3e\x3cdiv class \x3d "mwIncrementButtonWrapper" data-dojo-attach-point\x3d"incrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwIncrementButton" data-dojo-attach-point\x3d"incrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv class \x3d "mwDecrementButtonWrapper" data-dojo-attach-point\x3d"decrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwDecrementButton" data-dojo-attach-point\x3d"decrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/external/templates/Slider.html":'\x3cdiv class\x3d"vc-userSelectNone vc-defaultFontRules" data-dojo-attach-event\x3d"press:_onTrackClick"\x3e\n    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"valueNode"\x3e\n    \x3cdiv class\x3d"vc-sliderTrack" data-dojo-attach-point\x3d"sliderTrackNode"\x3e\n        \x3cdiv class\x3d"vc-sliderThumb" data-dojo-attach-point\x3d"sliderThumbNode, focusNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"vc-sliderRuleAndLabelContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/ToolbarWrapper.html":"\x3cdiv class\x3d'toolbarWrapper'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/MenubarWrapper.html":"\x3cdiv class\x3d'menubarWrapper' data-focus\x3d'accept'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/gallery/templates/GalleryItem.html":'\x3cdiv id\x3d${id} class\x3d"Item"\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'itemWrapperNode, focusNode\' class\x3d"itemWrapper"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconWrapper" class\x3d"iconWrapper"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"labelWrapper" class\x3d\'labelWrapper\'\n            \x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"label"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d"description"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonWrapperNode\' class\x3d\'favButtonWrapper\'\n        \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonNode\' class\x3d\'favButton\'\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-notifications/templates/ProgressBar.html":'\x3cdiv data-test-id\x3d"${data-test-id}" data-value\x3d"${value}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"gutterNode" class\x3d"${baseClass}Gutter"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"progressNode" class\x3d"${baseClass}Progress"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressTextNode" class\x3d"${baseClass}Text"\x3e50%\x3c/div\x3e\n\x3c/div\x3e',"url:variableeditor/views/SummaryBar.html":'\x3cdiv class\x3d"summaryBar" data-dojo-attach-point\x3d"summaryBarOuterContainer"\x3e\n    \x3cdiv class\x3d"summaryBarContainer"\x3e\n        \x3cdiv class\x3d"summaryBarIcon"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarSize"\x3e${size}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarLink" data-dojo-attach-point\x3d"summaryBarLink"\x3e\x3ca class\x3d"summaryBarRef" href\x3d"#"\x3e${type}\x3c/a\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarSecondaryType"\x3e${secondaryType}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarStatus"\x3e${status}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarStatusLink" data-dojo-attach-point\x3d"summaryBarStatusLink"\x3e\x3ca class\x3d"summaryBarStatusRef" href\x3d"#"\x3e${status}\x3c/a\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/ClientPeerDocument.html":'\x3cdiv class\x3d"clientPeerDocument" data-dojo-attach-point\x3d"clientPeerDocumentContainer"\x3e\n    \x3cdiv class\x3d"summaryBarDiv"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"clientPeerViewDiv"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/table/DefaultHeaderTemplate.html":'\x3cdiv class\x3d"variableEditorHeaders" data-dojo-attach-point\x3d"variableEditorHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorHeaders"\x3e\n    \x3cdiv class\x3d"cell"\x3e\n        \x3cdiv class\x3d"Index"  style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"Label"  style\x3d"display: none;"  data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorColumnHeader.html":'\x3cdiv class\x3d"cell column variableEditorColumnHeaders" data-datatools-renderer-attach-point\x3d"variableEditorColumnHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorColumnHeaders"\x3e\n    \x3cdiv class\x3d"header cell"\x3e\n        \x3cdiv class\x3d"columnIndex" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cbr class\x3d"lineBreak" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"lineBreak"\x3e\n        \x3cdiv class\x3d"columnLabel" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"drag" style\x3d"cursor: ew-resize;" data-datatools-renderer-attach-point\x3d"ColumnHeaderDrag"\x3e\n        \x3cdiv class\x3d"firstHalfOfDrag"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"dragBorder"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"secondHalfOfDrag"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorRowHeader.html":'\x3cdiv class\x3d"row variableEditorRowHeaders" data-datatools-renderer-attach-point\x3d"variableEditorRowHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorRowHeaders"\x3e\n    \x3cdiv class\x3d"cell" data-tag\x3d"datatools.variableeditor.views.table.variableEditorRowHeaders.cell"\x3e\n        \x3cdiv class\x3d"rowIndex"  style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"rowLabel"  style\x3d"display: none;"  data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorTemplate.html":'\x3cdiv class\x3d"mw_type_Table mw_type_TableBase mw_type_ListBase"\x3e\n    \x3cdiv class\x3d"header nospacing preventDragSelection topHeaderWrapper"\x3e\n        \x3cdiv class\x3d"inline row cornerSpacer rowHeaderColumn rowHeadersWrapper topRowHeaderWrapper" data-dojo-attach-point\x3d"cornerSpacerNode"\x3e\n            \x3cdiv class\x3d"row cell"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline wrapper headerWrapper"\x3e\n            \x3cdiv class\x3d"inline scrolled dataColumn columnHeaderScrollerNode" data-dojo-attach-point\x3d"columnHeaderScrollerNode"\x3e\n                \x3cdiv class\x3d"row dataWidth spacer columnHeaderNode" data-dojo-attach-point\x3d"columnHeaderNode"\x3e\n                    \x3cdiv class\x3d"cell spacer leftSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"cell spacer rightSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline row cornerSpacer verticalScrollSpacer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"body nospacing"\x3e\n        \x3cdiv class\x3d"inline wrapper rowHeadersWrapper preventDragSelection bottomRowHeaderWrapper"\x3e\n            \x3cdiv class\x3d"scrolled dataRow rowHeaderColumn rowHeaders rowHeaderScrollerNode" data-dojo-attach-point\x3d"rowHeaderScrollerNode"\x3e\n                \x3cdiv class\x3d"dataHeight spacer rowHeaderNode" data-dojo-attach-point\x3d"rowHeaderNode"\x3e\n                    \x3cdiv class\x3d"row spacer topSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"spacer bottomSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"cornerSpacer horizontalScrollSpacer rowHeaderColumn"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline wrapper dataBodyWrapper"\x3e\n            \x3cdiv class\x3d"scroller dataRow dataColumn dataScrollerNode" data-dojo-attach-point\x3d"dataScrollerNode"\x3e\n                \x3cdiv class\x3d"dataWidth dataHeight spacer dataBody" data-dojo-attach-point\x3d"dataNode"\x3e\n                    \x3cdiv class\x3d"row spacer topSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"spacer bottomSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"columnResizer" data-dojo-attach-point\x3d"columnResizerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"loading"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"${type}" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/binaryToggleButtonEditor.html":'\x3cdiv class\x3d"binaryToggleButtonEditor" data-dojo-attach-point\x3d"binaryToggleButtonEditor" data-tag\x3d"datatools.variableeditor.views.editors.binaryToggleButtonEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/toggleButtonGroupEditor.html":'\x3cdiv class\x3d"toggleButtonGroupEditor" data-dojo-attach-point\x3d"toggleButtonGroupEditor" data-tag\x3d"datatools.variableeditor.views.editors.toggleButtonGroupEditor"\x3e\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/_ColorStylesSwatch.html":'\x3cdiv class\x3d"dijitInline mwColorPickerPalette mwColorPalette mwColorPickerColorStylesSection"\x3e\n\t\x3cspan class\x3d"mwColorPaletteTitle"\x3e${title}\x3c/span\x3e\n\t\x3cdiv class\x3d "colorStyleNodes" data-dojo-attach-point\x3d"colorStyleNodes"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/ColorEditor.html":'\x3cdiv class\x3d"colorEditor" data-dojo-attach-point\x3d"colorEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorEditor"\x3e\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/ColorTextBoxEditor.html":'\x3cdiv class\x3d"colorTextBoxEditor" data-dojo-attach-point\x3d"colorTextBoxEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorTextBoxEditor"\x3e\n    \x3cdiv class\x3d"colorValue" data-datatools-renderer-attach-point\x3d"colorValue" data-tag\x3d"datatools.variableeditor.views.editors.colorTextBoxEditor.colorValue"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/renderers/templates/ColorOrderRenderer.html":'\x3cdiv class\x3d"colorOrderRenderer" data-dojo-attach-point\x3d"colorOrderRenderer" data-tag\x3d"datatools.variableeditor.views.renderers.colorOrderRenderer"\x3e\n    \x3cdiv class\x3d"colorSwatch" data-datatools-renderer-attach-point\x3d"colorSwatch" data-tag\x3d"datatools.variableeditor.views.renderers.colorOrderRenderer.colorSwatch"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/editors/templates/ColormapEditor.html":'\x3cdiv class\x3d"colormapEditor" data-tag\x3d"datatools.variableeditor.views.editors.ColormapEditor"\x3e\x3c/div\x3e',"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/ColorDropDownEditor.html":'\x3cdiv class\x3d"colorDropDownEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorDropDownEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/RGBColorEditor.html":'\x3cdiv class\x3d"rgbColorEditor colorEditorWithTextBox" data-dojo-attach-point\x3d"rgbColorEditor" data-tag\x3d"datatools.variableeditor.views.editors.rgbColorEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/ColorOrderEditor.html":'\x3cdiv class\x3d"colorOrderEditor" data-dojo-attach-point\x3d"colorOrderEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor"\x3e\n    \x3cdiv class\x3d"colorOrderRendererDiv" data-datatools-renderer-attach-point\x3d"colorOrderRendererDiv" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorOrderRendererDiv"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"colorListDiv" data-datatools-renderer-attach-point\x3d"colorListDiv" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorListDiv"\x3e\n        \x3cul class\x3d"colorList container" data-datatools-renderer-attach-point\x3d"colorList" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorList"\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttonPanel" data-datatools-renderer-attach-point\x3d"buttonPanel" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.buttonPanel"\x3e\n        \x3cbutton type\x3d"button" class\x3d"colorAddButton" data-datatools-renderer-attach-point\x3d"colorAddButton" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorAddButton"\x3e${AddNewLabel}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mw-overlay-utils/templates/busyOverlayTemplate.html":'\x3cdiv class\x3d"mw-busyIndicator" data-dojo-attach-point\x3d"_busyOverlayNode"\x3e\n\t\x3cdiv class\x3d"underlayNode" data-dojo-attach-point\x3d"_underlayNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"spinnerNode" data-dojo-attach-point\x3d"_spinnerNode" \x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/FilePickerEditor.html":'\x3cdiv class\x3d"filePickerEditor cellRenderer" data-tag\x3d"datatools.variableeditor.views.editors.FilePickerEditor"\x3e\x3c/div\x3e',
"url:workspacebrowser/UploadWidget.html":'\x3cdiv class\x3d"filesUpload"\x3e\n\n    \x3cdiv class\x3d"uploadMessage" data-dojo-attach-point\x3d"message"\x3e\x3c/div\x3e\n    \x3ciframe class\x3d"iframe" data-dojo-attach-point\x3d"iframe"\x3e\x3c/iframe\x3e\n\n    \x3cdiv class\x3d"filesUploadProgressBar" data-dojo-attach-point\x3d"progressBarContainer"\x3e\n        \x3cdiv class\x3d"uploadProgressBar" data-dojo-attach-point\x3d"progressBar"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',"*now":function(h){h(['dojo/i18n!*preload*workspacebrowser/nls/workspacebrowser*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("workspacebrowser/workspacebrowser",[],1);
//# sourceMappingURL=workspacebrowser.js.map