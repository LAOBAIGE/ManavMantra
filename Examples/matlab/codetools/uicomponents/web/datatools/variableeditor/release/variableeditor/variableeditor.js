//>>built
/*
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.

 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2013-2014 The MathWorks, Inc.
 @class ClientPeerView
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2013-2016 The MathWorks, Inc.
 @module MW/dialog/DialogUtils

 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2017 MathWorks, Inc.
 Copyright 2014 MathWorks, Inc.
 Copyright 2014 MathWorks, Inc.
 Copyright 2016 MathWorks, Inc.
 Copyright 2016 MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description Dialogs is a factory module which used to create a basic dialog framework
 @module mw-dialogs/Dialogs
 Copyright 2016 The MathWorks, Inc.
 @description This module is a newable object which contains the dialog creation life cycle and
 its APIs
 @module mw-dialogs/Dialog
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description Resizable provides API to make a widget resizable
 @module mw-dialogs/controller/Resizable
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 @description ButtonBar is a module which used to create button bar for a dialog
 @module mw-dialogs/view/ButtonBar
 Copyright 2016 The MathWorks, Inc.
 @description Enumeration of Buttons and Button types. <br />
 There are five types of commit buttons, the framework will
 place the buttons in the Commit Button Area in the following order from left-to-right:
  1. [Do It]
  2. [Don't Do It]
  3. [Cancel]
  4. [Apply]
  5. [Revert]

 Only allow one same type of buttons could exist, if several same type of buttons be
 specified, it will accept the first one. <br />

 Expand the Members to see enumerations of ButtonEnum and TYPE.
 @module mw-dialogs/ButtonEnum
 Copyright 2016 The MathWorks, Inc.
 @description ContentWidget is a module which used to render content for a dialog
 @module mw-dialogs/view/ContentWidget
 Copyright 2016 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2013-2014 The MathWorks, Inc.
 @class ClientArrayView
 Copyright 2013-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class _EditorBase
 Copyright 2015 The MathWorks, Inc.
 @class _RendererBase
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2013-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 @class ClientArrayView
 Copyright 2015 The MathWorks, Inc.
 @class StringArrayView
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.

 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @class CellArrayView
 Copyright 2015 The MathWorks, Inc.
 @class VectorStructureArrayView
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2013-2014 The MathWorks, Inc.
 Copyright 2012-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2013 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
*/
require({cache:{"variableeditor/views/ViewManifest":function(){define("variableeditor/views/ViewManifest","dojo/_base/declare variableeditor/views/UnknownView variableeditor/views/NumericArrayView variableeditor/views/CharArrayView variableeditor/views/StringArrayView variableeditor/views/StructureArrayView variableeditor/views/CategoricalView variableeditor/views/TableArrayView variableeditor/views/CellArrayView variableeditor/views/VectorStructureArrayView variableeditor/views/DatetimeArrayView variableeditor/views/DurationArrayView variableeditor/views/CalendarDurationArrayView variableeditor/views/UITableArrayView variableeditor/views/UITableTableView variableeditor/views/editors/TextBoxEditor variableeditor/views/editors/ArrayOfValuesTextBoxEditor variableeditor/views/editors/ArrayOfStringsTextBoxEditor variableeditor/views/editors/LogicalEditor variableeditor/views/editors/NumericEditor variableeditor/views/editors/NumericTextEditor variableeditor/views/editors/UITableEditor variableeditor/views/editors/UITableStringEditor variableeditor/views/editors/UITableLogicalEditor variableeditor/views/editors/UITableMWComboBox variableeditor/views/editors/UITableNonEditableComboboxEditor variableeditor/views/editors/ComboBoxEditor variableeditor/views/editors/FontNameEditor variableeditor/views/editors/StringEditor variableeditor/views/editors/CharEditor variableeditor/views/editors/CheckBoxEditor variableeditor/views/editors/TextAreaEditor variableeditor/views/editors/BinaryToggleButtonEditor variableeditor/views/editors/ToggleButtonGroupEditor variableeditor/views/editors/ScaleColorsTextBoxEditor variableeditor/views/editors/PopupVariableEditor variableeditor/views/editors/ColorEditor variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/editors/ColormapEditor variableeditor/views/editors/RGBColorEditor variableeditor/views/renderers/ColorOrderRenderer variableeditor/views/editors/ColorOrderEditor variableeditor/views/editors/DatetimeEditor variableeditor/views/editors/DisplayFormatTextBoxEditor variableeditor/views/editors/FilePickerEditor variableeditor/views/editors/IconTextBoxEditor variableeditor/views/editors/OpenvarEditor variableeditor/views/editors/_VEEditorConverterMixin variableeditor/views/renderers/_VERendererMixin variableeditor/views/renderers/_VERendererStyleMixin variableeditor/views/renderers/GroupedColumnRenderer variableeditor/views/renderers/VERendererFactory".split(" "),
function(h){return h("variableeditor.views.ViewManifest",[],{constructor:function(d){}})})},"variableeditor/views/UnknownView":function(){define("variableeditor/views/UnknownView",["dojo/_base/declare","dojo/dom-geometry","dojo/dom-class","mw-form/TextArea","variableeditor/views/ClientPeerView"],function(h,d,g,c,f){return h("variableeditor.views.UnknownView",[f],{textArea:null,init:function(b){this.inherited(arguments);if(b&&b.container){var f=new c({name:"UnsupportedTextArea_"+this.varName,value:"",
width:"auto",height:"auto",readOnly:!0,editable:!1});g.add(f.domNode,"UnknownViewerTextArea");f.startup();this.textArea=f;this.peerNode.addPeerEventListener("setData",function(b){b.data.data&&b.data.data!==f.value&&f.set("value",b.data.data)});g.add(b.container.domNode,"unsupportedView");this.peerNode.dispatchEvent("peerEvent",this.peerNode,{type:"getData"});b.container.addChild(this.textArea)}}})})},"mw-form/TextArea":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/TextArea.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){return h(w.validate([d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x]),{baseClass:"mwWidget mwTextArea",templateString:v,horizontalAlignment:"left",width:150,height:66,_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y){function A(a){return function(e){m[e?"set":"remove"](this.domNode,a,e);this._set(a,e)}}p.add("dijit-legacy-requires",!q.isAsync);p("dijit-legacy-requires")&&t(0,function(){h(["dijit/_base/manager"])});var B={};return b("dijit._WidgetBase",[u,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:c.blankGif||h.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var e=a.prototype,k=a._setterAttrs=[],a=a._onMap={},b;for(b in e.attributeMap)k.push(b);for(b in e)/^on/.test(b)&&(a[b.substring(2).toLowerCase()]=b),/^_set[A-Z](.*)Attr$/.test(b)&&(b=b.charAt(4).toLowerCase()+b.substr(5,
b.length-9),(!e.attributeMap||!(b in e.attributeMap))&&k.push(b))}},postscript:function(a,e){this.create(a,e)},create:function(a,e){this._introspect();this.srcNodeRef=l.byId(e);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);a&&(this.params=a,r.mixin(this,a));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=
this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);y.add(this);this.buildRendering();var k;if(this.domNode){this._applyAttributes();var b=this.srcNodeRef;b&&(b.parentNode&&this.domNode!==b)&&(b.parentNode.replaceChild(this.domNode,b),k=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();k&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},e;for(e in this.params||{})a[e]=this._get(e);
d.forEach(this.constructor._setterAttrs,function(e){if(!(e in a)){var k=this._get(e);k&&this.set(e,k)}},this);for(e in a)this.set(e,a[e])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var e=this.baseClass.split(" ");this.isLeftToRight()||(e=e.concat(d.map(e,function(a){return a+"Rtl"})));a.add(this.domNode,e)}},postCreate:function(){},startup:function(){this._started||(this._started=
!0,d.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&r.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function e(k){k.destroyRecursive?k.destroyRecursive(a):k.destroy&&k.destroy(a)}this._beingDestroyed=!0;this.uninitialize();d.forEach(this._connects,r.hitch(this,"disconnect"));d.forEach(this._supportingWidgets,e);this.domNode&&d.forEach(y.findWidgets(this.domNode,
this.containerNode),e);this.destroyRendering(a);y.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?m.remove(this.domNode,"widgetId"):k.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||k.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){d.forEach(this.getChildren(),function(e){e.destroyRecursive&&e.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var e=
this.domNode;r.isObject(a)?n.set(e,a):e.style.cssText=e.style.cssText?e.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(e,k,b){b=3<=arguments.length?b:this.attributeMap[e];d.forEach(r.isArray(b)?b:[b],function(b){var f=this[b.node||b||"domNode"];switch(b.type||"attribute"){case "attribute":r.isFunction(k)&&(k=r.hitch(this,k));b=b.attribute?b.attribute:/^on[A-Z][a-zA-Z]*$/.test(e)?e.toLowerCase():e;f.tagName?m.set(f,b,k):f.set(b,k);break;case "innerText":f.innerHTML="";f.appendChild(this.ownerDocument.createTextNode(k));
break;case "textContent":f.textContent=k;break;case "innerHTML":f.innerHTML=k;break;case "class":a.replace(f,k,this[e]);break;case "toggleClass":a.toggle(f,b.className||e,k)}},this)},get:function(a){var e=this._getAttrNames(a);return this[e.g]?this[e.g]():this._get(a)},set:function(a,e){if("object"===typeof a){for(var k in a)this.set(k,a[k]);return this}k=this._getAttrNames(a);var b=this[k.s];if(r.isFunction(b))var f=b.apply(this,Array.prototype.slice.call(arguments,1));else{var b=this.focusNode&&
!r.isFunction(this.focusNode)?"focusNode":"domNode",c=this[b]&&this[b].tagName,l;if(l=c)if(!(l=B[c])){l=this[b];var m={},d;for(d in l)m[d.toLowerCase()]=!0;l=B[c]=m}d=l;k=a in this.attributeMap?this.attributeMap[a]:k.s in this?this[k.s]:d&&k.l in d&&"function"!=typeof e||/^aria-|^data-|^role$/.test(a)?b:null;null!=k&&this._attrToDom(a,e,k);this._set(a,e)}return f||this},_attrPairNames:{},_getAttrNames:function(a){var e=this._attrPairNames;if(e[a])return e[a];var k=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-
1).toUpperCase()});return e[a]={n:a+"Node",s:"_set"+k+"Attr",g:"_get"+k+"Attr",l:k.toLowerCase()}},_set:function(a,e){var k=this[a];this[a]=e;if(this._created&&!(k===e||k!==k&&e!==e))this._watchCallbacks&&this._watchCallbacks(a,k,e),this.emit("attrmodified-"+a,{detail:{prevValue:k,newValue:e}})},_get:function(a){return this[a]},emit:function(a,e,k){e=e||{};void 0===e.bubbles&&(e.bubbles=!0);void 0===e.cancelable&&(e.cancelable=!0);e.detail||(e.detail={});e.detail.widget=this;var b,f=this["on"+a];
f&&(b=f.apply(this,k?k:[e]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),e);return b},on:function(a,e){var k=this._onMap(a);return k?g.after(this,k,e,!0):this.own(s(this.domNode,a,e))[0]},_onMap:function(a){var e=this.constructor,k=e._onMap;if(!k){var k=e._onMap={},b;for(b in e.prototype)/^on/.test(b)&&(k[b.replace(/^on/,"").toLowerCase()]=b)}return k["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+
"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,e,k){return this.own(f.connect(a,e,this,k))[0]},disconnect:function(a){a.remove()},subscribe:function(a,e){return this.own(x.subscribe(a,r.hitch(this,e)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():e.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&
"none"!=n.get(this.domNode,"display")},placeAt:function(a,e){var b=!a.tagName&&y.byId(a);b&&b.addChild&&(!e||"number"===typeof e)?b.addChild(this,e):(b=b&&"domNode"in b?b.containerNode&&!/after|before|replace/.test(e||"")?b.containerNode:b.domNode:l.byId(a,this.ownerDocument),k.place(this.domNode,b,e),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,e){var k=setTimeout(r.hitch(this,function(){k&&(k=null,this._destroyed||r.hitch(this,a)())}),e||0);return{remove:function(){k&&
(clearTimeout(k),k=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(h,d,g,c){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var b=this._attrPairNames;return b[f]?b[f]:b[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&this.set(f)},_get:function(f,b){return"function"===typeof this[b.g]?this[b.g]():this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,
b){if("object"===typeof f){for(var l in f)f.hasOwnProperty(l)&&"_watchCallbacks"!=l&&this.set(l,f[l]);return this}l=this._getAttrNames(f);var m=this._get(f,l);l=this[l.s];var a;"function"===typeof l?a=l.apply(this,Array.prototype.slice.call(arguments,1)):this[f]=b;if(this._watchCallbacks){var k=this;c(a,function(){k._watchCallbacks(f,m,b)})}return this},_changeAttrValue:function(f,b){var c=this.get(f);this[f]=b;this._watchCallbacks&&this._watchCallbacks(f,c,b);return this},watch:function(f,b){var c=
this._watchCallbacks;if(!c)var m=this,c=this._watchCallbacks=function(a,k,b,f){var d=function(f){if(f){f=f.slice();for(var c=0,l=f.length;c<l;c++)f[c].call(m,a,k,b)}};d(c["_"+a]);f||d(c["*"])};!b&&"function"===typeof f?(b=f,f="*"):f="_"+f;var a=c[f];"object"!==typeof a&&(a=c[f]=[]);a.push(b);var k={};k.unwatch=k.remove=function(){var e=g.indexOf(a,b);-1<e&&a.splice(e,1)};return k}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,d,g){return g("dijit.Destroyable",
null,{destroy:function(c){this._destroyed=!0},own:function(){var c=["destroyRecursive","destroy","remove"];h.forEach(arguments,function(f){function b(){m.remove();h.forEach(a,function(a){a.remove()})}var l,m=d.before(this,"destroy",function(a){f[l](a)}),a=[];f.then?(l="cancel",f.then(b,b)):h.forEach(c,function(k){"function"===typeof f[k]&&(l||(l=k),a.push(d.after(f,k,b,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(h,
d,g){var c={},f={},b={length:0,add:function(b){if(f[b.id])throw Error("Tried to register widget with id\x3d\x3d"+b.id+" but that id is already registered");f[b.id]=b;this.length++},remove:function(b){f[b]&&(delete f[b],this.length--)},byId:function(b){return"string"==typeof b?f[b]:b},byNode:function(b){return f[b.getAttribute("widgetId")]},toArray:function(){var b=[],c;for(c in f)b.push(f[c]);return b},getUniqueId:function(b){var m;do m=b+"_"+(b in c?++c[b]:c[b]=0);while(f[m]);return"dijit"==g._scopeName?
m:g._scopeName+"_"+m},findWidgets:function(b,c){function a(e){for(e=e.firstChild;e;e=e.nextSibling)if(1==e.nodeType){var b=e.getAttribute("widgetId");b?(b=f[b])&&k.push(b):e!==c&&a(e)}}var k=[];a(b);return k},_destroyAll:function(){g._curFocus=null;g._prevFocus=null;g._activeStack=[];h.forEach(b.findWidgets(d.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var c=1==b.nodeType&&b.getAttribute("widgetId");
if(c)return f[c];b=b.parentNode}return null},_hash:f};return g.registry=b})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(h,d){return h("dijit._Contained",null,{_getSibling:function(d){var c=this.getParent();return c&&c._getSiblingOfChild&&c._getSiblingOfChild(this,"previous"==d?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var d=this.getParent();
return!d||!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){d=d("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);h.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),
function(a){this.watch(a,b.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",
!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(k){e=e.concat(h.map(e,function(a){return a+k}),"dijit"+k)}var e=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var k="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(k);this.state&&a(this.state);
this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var k=this.stateNode||this.domNode,b={};h.forEach(k.className.split(" "),function(a){b[a]=!0});"_stateClasses"in this&&h.forEach(this._stateClasses,function(a){delete b[a]});h.forEach(e,function(a){b[a]=!0});var f=[],c;for(c in b)f.push(c);k.className=f.join(" ");this._stateClasses=e},_subnodeCssMouseEvent:function(a,
e,k){function b(k){c.toggle(a,e+"Active",k)}if(!this.disabled&&!this.readOnly)switch(k.type){case "mouseover":case "MSPointerOver":case "pointerover":c.toggle(a,e+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":c.toggle(a,e+"Hover",!1);b(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":b(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":b(!1);break;case "focus":case "focusin":c.toggle(a,
e+"Focused",!0);break;case "blur":case "focusout":c.toggle(a,e+"Focused",!1)}},_trackMouseState:function(a,e){a._cssState=e}});m(function(){function b(a,e,k){if(!k||!g.isDescendant(k,e))for(;e&&e!=k;e=e.parentNode)if(e._cssState){var f=n.getEnclosingWidget(e);f&&(e==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(e,e._cssState,a))}}var f=k.body(),c;l(f,a.over,function(a){b(a,a.target,a.relatedTarget)});l(f,a.out,function(a){b(a,a.target,a.relatedTarget)});l(f,e.press,function(a){c=a.target;
b(a,c)});l(f,e.release,function(a){b(a,c);c=null});l(f,"focusin, focusout",function(a){var e=a.target;if(e._cssState&&!e.getAttribute("widgetId")){var k=n.getEnclosingWidget(e);k&&k._subnodeCssMouseEvent(e,e._cssState,a)}})});return d})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(h,d,g,c,f,b,l,m,a,k){function e(a,e,k){return r&&k?function(a,e){return b(a,k,e)}:t?function(k,f){var c=b(k,e,
function(a){f.call(this,a);H=(new Date).getTime()}),l=b(k,a,function(a){(!H||(new Date).getTime()>H+1E3)&&f.call(this,a)});return{remove:function(){c.remove();l.remove()}}}:function(e,k){return b(e,a,k)}}function n(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function p(a,e,f){if(!m.isRight(a)){var l=n(a.target);if(x=!a.target.disabled&&l&&l.dojoClick)if(v=(w="useTarget"==x)?l:a.target,w&&a.preventDefault(),z=a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX,
y=a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY,A=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,B=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,!u){u=!0;var d=function(a){x=w?g.isDescendant(k.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY),v):x&&(a.changedTouches?a.changedTouches[0].target:a.target)==v&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-
k.global.pageXOffset:a.clientX)-z)<=A&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY)-y)<=B};k.doc.addEventListener(e,function(a){m.isRight(a)||(d(a),w&&a.preventDefault())},!0);k.doc.addEventListener(f,function(a){if(!m.isRight(a)&&(d(a),x)){D=(new Date).getTime();var e=w?v:a.target;"LABEL"===e.tagName&&(e=g.byId(e.getAttribute("for"))||e);var k=a.changedTouches?a.changedTouches[0]:a,f=function(e){var b=document.createEvent("MouseEvents");b._dojo_click=!0;b.initMouseEvent(e,
!0,!0,a.view,a.detail,k.screenX,k.screenY,k.clientX,k.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return b},c=f("mousedown"),l=f("mouseup"),n=f("click");setTimeout(function(){b.emit(e,"mousedown",c);b.emit(e,"mouseup",l);b.emit(e,"click",n);D=(new Date).getTime()},0)}},!0);a=function(a){k.doc.addEventListener(a,function(e){var k=e.target;x&&(!e._dojo_click&&(new Date).getTime()<=D+1E3&&!("INPUT"==k.tagName&&c.contains(k,"dijitOffScreen")))&&(e.stopPropagation(),e.stopImmediatePropagation&&
e.stopImmediatePropagation(),"click"==a&&(("INPUT"!=k.tagName||"radio"==k.type&&(c.contains(k,"dijitCheckBoxInput")||c.contains(k,"mblRadioButton"))||"checkbox"==k.type&&(c.contains(k,"dijitCheckBoxInput")||c.contains(k,"mblCheckBox")))&&"TEXTAREA"!=k.tagName&&"AUDIO"!=k.tagName&&"VIDEO"!=k.tagName)&&e.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}}var q=5>l("ios"),r=l("pointer-events")||l("MSPointer"),s=function(){var a={},e;for(e in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[e]=
l("MSPointer")?"MSPointer"+e.charAt(0).toUpperCase()+e.slice(1):"pointer"+e;return a}(),t=l("touch-events"),u,x,w=!1,v,z,y,A,B,D,H,G;l("touch")&&(r?a(function(){k.doc.addEventListener(s.down,function(a){p(a,s.move,s.up)},!0)}):a(function(){function a(e){var k=f.delegate(e,{bubbles:!0});6<=l("ios")&&(k.touches=e.touches,k.altKey=e.altKey,k.changedTouches=e.changedTouches,k.ctrlKey=e.ctrlKey,k.metaKey=e.metaKey,k.shiftKey=e.shiftKey,k.targetTouches=e.targetTouches);return k}G=k.body();k.doc.addEventListener("touchstart",
function(a){H=(new Date).getTime();var e=G;G=a.target;b.emit(e,"dojotouchout",{relatedTarget:G,bubbles:!0});b.emit(G,"dojotouchover",{relatedTarget:e,bubbles:!0});p(a,"touchmove","touchend")},!0);b(k.doc,"touchmove",function(e){H=(new Date).getTime();var f=k.doc.elementFromPoint(e.pageX-(q?0:k.global.pageXOffset),e.pageY-(q?0:k.global.pageYOffset));f&&(G!==f&&(b.emit(G,"dojotouchout",{relatedTarget:f,bubbles:!0}),b.emit(f,"dojotouchover",{relatedTarget:G,bubbles:!0}),G=f),b.emit(f,"dojotouchmove",
a(e))||e.preventDefault())});b(k.doc,"touchend",function(e){H=(new Date).getTime();var f=k.doc.elementFromPoint(e.pageX-(q?0:k.global.pageXOffset),e.pageY-(q?0:k.global.pageYOffset))||k.body();b.emit(f,"dojotouchend",a(e))})}));d={press:e("mousedown","touchstart",s.down),move:e("mousemove","dojotouchmove",s.move),release:e("mouseup","dojotouchend",s.up),cancel:e(m.leave,"touchcancel",r?s.cancel:null),over:e("mouseover","dojotouchover",s.over),out:e("mouseout","dojotouchout",s.out),enter:m._eventHandler(e("mouseover",
"dojotouchover",s.over)),leave:m._eventHandler(e("mouseout","dojotouchout",s.out))};return h.touch=d})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(h,d,g,c){function f(b){if((b.keyCode===h.ENTER||b.keyCode===h.SPACE)&&!/input|button|textarea/i.test(b.target.nodeName))for(b=b.target;b;b=b.parentNode)if(b.dojoClick)return!0}var b;g(document,"keydown",function(c){f(c)?(b=c.target,c.preventDefault()):b=null});g(document,"keyup",function(c){f(c)&&c.target==
b&&(b=null,g.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var l=function(b,a){b.dojoClick=!0;return g(b,"click",a)};l.click=l;l.press=function(b,a){var k=g(b,c.press,function(e){("mousedown"!=e.type||d.isLeft(e))&&a(e)}),e=g(b,"keydown",function(e){(e.keyCode===h.ENTER||e.keyCode===h.SPACE)&&a(e)});return{remove:function(){k.remove();e.remove()}}};l.release=function(b,a){var k=g(b,c.release,function(e){("mouseup"!=
e.type||d.isLeft(e))&&a(e)}),e=g(b,"keyup",function(e){(e.keyCode===h.ENTER||e.keyCode===h.SPACE)&&a(e)});return{remove:function(){k.remove();e.remove()}}};l.move=c.move;return l})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(h,d,g,c){c.extend(d,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",null,{_focusManager:h})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){var u,x,w=new (d([n,l],{curNode:null,activeStack:[],constructor:function(){var a=m.hitch(this,function(a){g.isDescendant(this.curNode,a)&&this.set("curNode",null);g.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(b,"empty",a);h.before(b,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(k,b){var f=this,c=k.document&&k.document.body;if(c){var l=e("pointer-events")?"pointerdown":e("MSPointer")?
"MSPointerDown":e("touch-events")?"mousedown, touchstart":"mousedown",d=a(k.document,l,function(a){if(!a||!(a.target&&null==a.target.parentNode))f._onTouchNode(b||a.target,"mouse")}),m=a(c,"focusin",function(a){if(a.target.tagName){var e=a.target.tagName.toLowerCase();"#document"==e||"body"==e||(r.isFocusable(a.target)?f._onFocusNode(b||a.target):f._onTouchNode(b||a.target))}}),n=a(c,"focusout",function(a){f._onBlurNode(b||a.target)});return{remove:function(){d.remove();m.remove();n.remove();c=d=
m=n=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(m.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(m.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,e){x=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);f.contains(a,"dijitPopup")&&(a=a.firstChild);var k=[];try{for(;a;){var b=c.get(a,"dijitPopupParent");if(b)a=s.byId(b).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===p.body())break;a=q.get(a.ownerDocument).frameElement}else{var l=a.getAttribute&&a.getAttribute("widgetId"),d=l&&s.byId(l);d&&!("mouse"==e&&d.get("disabled"))&&k.unshift(l);a=a.parentNode}}}catch(m){}this._setStack(k,
e)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,e){var k=this.activeStack,b=k.length-1,f=a.length-1;if(a[f]!=k[b]){this.set("activeStack",a);var c;for(c=b;0<=c&&k[c]!=a[c];c--)if(b=s.byId(k[c]))b._hasBeenBlurred=!0,b.set("focused",!1),b._focusManager==this&&b._onBlur(e),
this.emit("widget-blur",b,e);for(c++;c<=f;c++)if(b=s.byId(a[c]))b.set("focused",!0),b._focusManager==this&&b._onFocus(e),this.emit("widget-focus",b,e)}},focus:function(a){if(a)try{a.focus()}catch(e){}}}));k(function(){var k=w.registerWin(q.get(document));e("ie")&&a(window,"unload",function(){k&&(k.remove(),k=null)})});t.focus=function(a){w.focus(a)};for(var v in w)/^_/.test(v)||(t.focus[v]="function"==typeof w[v]?m.hitch(w,v):w[v]);w.watch(function(a,e,k){t.focus[a]=k});return w})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(h,d,g,c,f,b,l){var m={_isElementShown:function(a){var k=c.get(a);return"hidden"!=k.visibility&&"collapsed"!=k.visibility&&"none"!=k.display&&"hidden"!=g.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return g.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var k;try{var e=a.contentDocument;if("designMode"in e&&"on"==e.designMode)return!0;k=e.body}catch(b){try{k=a.contentWindow.document.body}catch(f){return!1}}return k&&
("true"==k.contentEditable||k.firstChild&&"true"==k.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return g.get(a,"disabled")?void 0:g.has(a,"tabIndex")?+g.get(a,"tabIndex"):m.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=m.effectiveTabIndex(a)},isFocusable:function(a){return-1<=m.effectiveTabIndex(a)},_getTabNavigable:function(a){function k(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var e,f,c,l,d,s,h={},u=m._isElementShown,x=m.effectiveTabIndex,w=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=b("ie")&&"HTML"!==a.scopeName||!u(a))){var m=x(a);if(0<=m){if(0==m)e||(e=a),f=a;else if(0<m){if(!c||m<l)l=m,c=a;if(!d||m>=s)s=m,d=a}m=k(a);g.get(a,"checked")&&m&&(h[m]=a)}"SELECT"!=a.nodeName.toUpperCase()&&w(a)}};u(a)&&w(a);return{first:h[k(e)]||e,last:h[k(f)]||f,lowest:h[k(c)]||c,highest:h[k(d)]||d}},getFirstInTabbingOrder:function(a,
k){var e=m._getTabNavigable(d.byId(a,k));return e.lowest?e.lowest:e.first},getLastInTabbingOrder:function(a,k){var e=m._getTabNavigable(d.byId(a,k));return e.last?e.last:e.highest}};f.mixin(l,m);return m})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(h,d,g,c,f,b,l,m){var a=d("dijit._TemplatedMixin",m,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,
_stringRepl:function(a){var e=this.declaredClass,b=this;return l.substitute(a,this,function(a,k){"!"==k.charAt(0)&&(a=c.getObject(k.substr(1),!1,b));if("undefined"==typeof a)throw Error(e+" template:"+k);return null==a?"":"!"==k.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||
(this.templateString=h(this.templatePath,{sanitize:!0}));var k=a.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),e;if(c.isString(k)){if(e=g.toDom(this._stringRepl(k),this.ownerDocument),1!=e.nodeType)throw Error("Invalid template: "+k);}else e=k.cloneNode(!0);this.domNode=e}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var e=this.containerNode;if(a&&e)for(;a.hasChildNodes();)e.appendChild(a.firstChild)}});
a._templateCache={};a.getCachedTemplate=function(k,e,b){var f=a._templateCache,c=k,d=f[c];if(d){try{if(!d.ownerDocument||d.ownerDocument==(b||document))return d}catch(m){}g.destroy(d)}k=l.trim(k);if(e||k.match(/\$\{([^\}]+)\}/g))return f[c]=k;e=g.toDom(k,b);if(1!=e.nodeType)throw Error("Invalid template: "+k);return f[c]=e};b("ie")&&f(window,"unload",function(){var k=a._templateCache,e;for(e in k){var b=k[e];"object"==typeof b&&g.destroy(b);delete k[e]}});return a})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(h){return h.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(h,d,g,c){var f;f=function(a,e,b){c(a,{sync:!!e,headers:{"X-Requested-With":null}}).then(b)};var b={},l=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var e=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);e&&(a=e[1])}else a="";return a},m={},a={};h.cache=function(a,e,c){var m;"string"==typeof a?/\//.test(a)?(m=a,c=e):m=d.toUrl(a.replace(/\./g,
"/")+(e?"/"+e:"")):(m=a+"",c=e);a=void 0!=c&&"string"!=typeof c?c.value:c;c=c&&c.sanitize;if("string"==typeof a)return b[m]=a,c?l(a):a;if(null===a)return delete b[m],null;m in b||f(m,!0,function(a){b[m]=a});return c?l(b[m]):b[m]};return{dynamic:!0,normalize:function(a,e){var b=a.split("!"),c=b[0];return(/^\./.test(c)?e(c):c)+(b[1]?"!"+b[1]:"")},load:function(k,e,c){k=k.split("!");var d=1<k.length,g=k[0],r=e.toUrl(k[0]);k="url:"+r;var s=m,h=function(a){c(d?l(a):a)};g in b?s=b[g]:e.cache&&k in e.cache?
s=e.cache[k]:r in b&&(s=b[r]);if(s===m)if(a[r])a[r].push(h);else{var u=a[r]=[h];f(r,!e.async,function(e){b[g]=b[r]=e;for(var k=0;k<u.length;)u[k++](e);delete a[r]})}else h(s)}}})},"dojo/request":function(){define(["./request/default!"],function(h){return h})},"dojo/request/default":function(){define(["exports","require","../has"],function(h,d,g){var c=g("config-requestProvider");c||(c="./xhr");h.getPlatformDefaultId=function(){return"./xhr"};h.load=function(f,b,l,m){d(["platform"==f?"./xhr":c],function(a){l(a)})}})},
"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(h,d){var g=/[&<>'"\/]/g,c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},f={};d.setObject("dojo.string",f);f.escape=function(b){return!b?"":b.replace(g,function(b){return c[b]})};f.rep=function(b,c){if(0>=c||!b)return"";for(var f=[];;){c&1&&f.push(b);if(!(c>>=1))break;b+=b}return f.join("")};f.pad=function(b,c,d,a){d||(d="0");b=String(b);c=f.rep(d,Math.ceil((c-b.length)/
d.length));return a?b+c:c+b};f.substitute=function(b,c,f,a){a=a||h.global;f=f?d.hitch(a,f):function(a){return a};return b.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(k,e,b){if(""==e)return"$";k=d.getObject(e,!1,c);b&&(k=d.getObject(b,!1,a).call(a,k,e));return f(k,e).toString()})};f.trim=String.prototype.trim?d.trim:function(b){b=b.replace(/^\s+/,"");for(var c=b.length-1;0<=c;c--)if(/\S/.test(b.charAt(c))){b=b.substring(0,c+1);break}return b};return f})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(h,d,g,c,f,b,l,m,a){var k=f.delegate(m,{mouseenter:b.enter,mouseleave:b.leave,keypress:g._keypress}),e;g=c("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var e=a;;)if(1==e.nodeType&&(this._processTemplateNode(e,function(a,e){return a.getAttribute(e)},this._attach)||
this.searchContainerNode)&&e.firstChild)e=e.firstChild;else{if(e==a)break;for(;!e.nextSibling;)if(e=e.parentNode,e==a)return;e=e.nextSibling}},_processTemplateNode:function(a,e,k){var b=!0,c=this.attachScope||this,l=e(a,"dojoAttachPoint")||e(a,"data-dojo-attach-point");if(l)for(var d=l.split(/\s*,\s*/);l=d.shift();)f.isArray(c[l])?c[l].push(a):c[l]=a,b="containerNode"!=l,this._attachPoints.push(l);if(e=e(a,"dojoAttachEvent")||e(a,"data-dojo-attach-event")){l=e.split(/\s*,\s*/);for(d=f.trim;e=l.shift();)if(e){var m=
null;-1!=e.indexOf(":")?(m=e.split(":"),e=d(m[0]),m=d(m[1])):e=d(e);m||(m=e);this._attachEvents.push(k(a,e,f.hitch(c,m)))}}return b},_attach:function(a,b,c){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?e||(e=h("./a11yclick")):k[b]||b;return l(a,b,c)},_detachTemplateNodes:function(){var a=this.attachScope||this;d.forEach(this._attachPoints,function(e){delete a[e]});this._attachPoints=[];d.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});f.extend(a,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"mw-mixins/property/TagMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{tag:"",_setTagAttr:function(d){if("string"!==typeof d)throw Error("tag property expects a 'String'");this.domNode.setAttribute("data-tag",d);this._set("tag",d)},postCreate:function(){this.inherited(arguments);this.set("tag",this.get("tag"))}})})},"mw-mixins/property/DescriptionMixin":function(){define(["dojo/_base/declare",
"mw-event-utils/platformize"],function(h,d){return h(null,{description:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDescriptionMixin");this.set("description",this.get("description"))},_setDescriptionAttr:function(d){if("string"!==typeof d)throw Error("'description' property expects a literal string!");this._updateDescription(d);this._set("description",d)},_updateDescription:function(d){this._lastKnownDescription=d;if(this.descriptionNode)this.descriptionNode.textContent=
d,!1===this.get("showDescription")?this.domNode.classList.add("mwHideDescription"):""===d?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");else{var c=this;setTimeout(function(){c._destroyed||c._updateTitle(d)},200)}},_updateTitle:function(g,c){var f;c?(""!==g&&void 0!==g&&(g=""===this._lastKnownDescription?g:" ("+g+")"),f=this._lastKnownDescription+g):f=this.get("shortcut")?g?g+" ("+d.getPlatformSpecificString(this.get("shortcut"))+")":d.getPlatformSpecificString(this.get("shortcut")):
g;this.domNode.setAttribute("title",f)}})})},"mw-event-utils/platformize":function(){define(["dojo/sniff"],function(h){var d=[{regExp:/ctrl|cntrl|control/gi,macString:"\u2303",otherPlatformsString:"Ctrl"},{regExp:/meta/gi,macString:"\u2318",otherPlatformsString:"Ctrl"},{regExp:/shift/gi,macString:"\u21e7",otherPlatformsString:"Shift"},{regExp:/alt/gi,macString:"\u2325",otherPlatformsString:"Alt"},{regExp:/enter/gi,macString:"\u23ce",otherPlatformsString:"Enter"},{regExp:/delete/gi,macString:"\u2326",
otherPlatformsString:"Delete"},{regExp:/del/gi,macString:"\u2326",otherPlatformsString:"Del"},{regExp:/Spacebar/gi,macString:"\u2423",otherPlatformsString:"Spacebar"},{regExp:/space/gi,macString:"\u2423",otherPlatformsString:"Space"},{regExp:/up/gi,macString:"\u2191",otherPlatformsString:"Up"},{regExp:/down/gi,macString:"\u2193",otherPlatformsString:"Down"},{regExp:/left/gi,macString:"\u2190",otherPlatformsString:"Left"},{regExp:/right/gi,macString:"\u2192",otherPlatformsString:"Right"}];return{getPlatformSpecificString:function(g,
c){c=c||{};g=g.replace(/ /g,"");g=g.replace(/_/g,"+");g=g.toUpperCase();d.forEach(function(f){var b;h("mac")?(b=f.macString,!c.dontConvertCtrlToCmd&&"\u2303"===b&&(b="\u2318")):b=f.otherPlatformsString;g=g.replace(f.regExp,b)});return g=h("mac")?g.replace(/\+(?!$)/g,""):g}}})},"mw-mixins/property/DisabledMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{disabled:!1,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDisabledMixin");this.set("disabled",
this.get("disabled"))},startup:function(){this.inherited(arguments);this.get("disabled")&&(this.domNode.dojoClick=!1)},_disableInteractionHandler:function(d){d.preventDefault();d.stopImmediatePropagation();d.stopPropagation()},_addDisableInteractions:function(d){null!==d&&(d.addEventListener("mousedown",this._disableInteractionHandler,!0),d.addEventListener("click",this._disableInteractionHandler,!0))},_removeDisableInteractions:function(d){null!==d&&(d.removeEventListener("mousedown",this._disableInteractionHandler,
!0),d.removeEventListener("click",this._disableInteractionHandler,!0))},_getDisabledNode:function(){return this.domNode},_updateDisableNode:function(d){var g=this._getDisabledNode();d?(this.domNode.classList.add("mwDisabled"),this.domNode.classList.remove("mwEnabled"),this._addDisableInteractions(g)):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"),this._removeDisableInteractions(g))},_setDisabledAttr:function(d){if("boolean"!==typeof d)throw Error("'disabled' property expects a boolean!");
this._set("disabled",d);this._updateDisableNode(d);this.set("hovering",!1);this.set("active",!1);this._setAriaDisabled();this.baseClass.split(" ").forEach(function(g){d?this.domNode.classList.add(g+"Disabled"):this.domNode.classList.remove(g+"Disabled")}.bind(this));d?this.domNode.classList.add("dijitDisabled"):this.domNode.classList.remove("dijitDisabled");this._setTabIndexOnNode(this.focusNode)},_setTabIndexOnNode:function(d){this.get("disabled")&&!this.get("dropDownNeverDisabled")?d.removeAttribute("tabIndex"):
d.setAttribute("tabIndex","0")},_setAriaDisabled:function(){(this.disabledNode?this.disabledNode:this.domNode).setAttribute("aria-disabled",this.get("disabled")&&!this.get("dropDownNeverDisabled")?"true":"false")}})})},"mw-mixins/property/HorizontalAlignmentMixin":function(){define(["dojo/_base/declare"],function(h){var d=["left","center","right"],g={};Object.keys(d).forEach(function(c){g[d[c]]="mwHorizontalAlignment"+(d[c].charAt(0).toUpperCase()+d[c].slice(1))});return h(null,{horizontalAlignment:"center",
postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwHorizontalAlignmentMixin")},_setHorizontalAlignmentAttr:function(c){if(-1===d.indexOf(c))throw Error("'Vertical alignment' property expects '' one of these values: "+d);this._applyHorizontalAlignmentClass(c);this._set("horizontalAlignment",c)},_applyHorizontalAlignmentClass:function(c){var f;f=this.get("horizontalAlignment");(f=g[f])&&this.domNode.classList.remove(f);this.domNode.classList.add(g[c])}})})},"mw-mixins/property/EditableMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{editable:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"))},_setEditableAttr:function(d){this.inputNode.readOnly=!d;d?this.domNode.classList.remove("mwNonEditable"):this.domNode.classList.add("mwNonEditable");this._set("editable",d)}})})},"mw-mixins/property/SizeMixin":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(h,d){return d(null,{width:"auto",height:"auto",
_allowedValues:["auto"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwSizeMixin");this.on("updatelayout",h.hitch(this,this._updateLayout))},startup:function(){this.inherited(arguments);this._updateLayout()},_updateLayout:function(){this._setWidthAttr(this.get("width"));this._setHeightAttr(this.get("height"))},_setWidthAttr:function(d){this._setSize("width",d)},_setHeightAttr:function(d){this._setSize("height",d)},_validateSizeInput:function(d){if(!("string"===typeof d&&
"auto"===d||"number"===typeof d&&0<d))throw Error(" Property should either be 'auto' or a positive integer");},_setSize:function(d,c){this._validateSizeInput(c);this._set(d,c);if(this._started){var f="",f=0<=this._allowedValues.indexOf(c)?c:this._getAdjustedSize(d,c,this.domNode);this.domNode.style[d]=f}},_getAdjustedSize:function(d,c,f){return c+"px"}})})},"mw-mixins/property/TextInputValueMixin":function(){define(["dojo/_base/declare","dojo/on"],function(h,d){return h(null,{value:"",postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwTextInputValueMixin");this._setValueAttr(this.get("value"));this._stopChangeEventBubbling()},_setValueAttr:function(d){this.setValueInDom(d);this._set("value",d)},_stopChangeEventBubbling:function(){this.own(d(this.inputNode,"change",function(d){d.stopPropagation()}))},setValueInDom:function(d){this.inputNode.value=d}})})},"mw-form/mixins/SharedTextInputMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_FocusMixin mw-mixins/property/PlaceholderMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin".split(" "),
function(h,d,g,c,f,b,l){93;g.TAB;return h([c,f,b,l],{constructor:function(){this._preventTypingEventForKeys=[g.UP_ARROW,g.DOWN_ARROW,g.RIGHT_ARROW,g.LEFT_ARROW,g.PAGE_DOWN,g.PAGE_UP,g.HOME,g.END,g.ESCAPE,g.CAPS_LOCK,16,17,18,91,92,93]},_addKeysThatPreventTypingEvent:function(b){if(!Array.isArray(b))throw"Input to _addKeysThatPreventTypingEvent was not an array";this._preventTypingEventForKeys=this._preventTypingEventForKeys.concat(b)},postCreate:function(){this.inherited(arguments);this.on("keyup",
d.hitch(this,"_onKeyUp"))},_onKeyUp:function(b){0<=this._preventTypingEventForKeys.indexOf(b.keyCode)||this._triggerTypingEvent(this.inputNode.value)},_onBlur:function(){var b,a;b=this.inputNode.value;a=this.get("value");this._set("value",b);b=this.get("value");a!==b&&this._triggerChangeEvent("value",a,b);this.inherited(arguments)}})})},"mw-mixins/property/PlaceholderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on dijit/focus mw-mixins/property/TextInputValueMixin".split(" "),
function(h,d,g,c,f,b,l){h=h(null,{placeholder:"",_setPlaceholderAttr:function(b){if("string"!==typeof b)throw Error("'placeholder' property expects a literal string!");this.inputNode.placeholder=b;this._set("placeholder",b)}});h._dependencies=[{mixin:l,orderDependent:!1}];return h})},"mw-mixins/event/ChangeEventMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(h,d){return h(null,{_triggerChangeEvent:function(d,c,f){this.emit("change",{mwEventData:{propertyName:d,oldValue:c,
newValue:f}})},_qeTypeOverWithEnter:function(d){var c=this.get("value");this.set("value",d);this._triggerChangeEvent("value",c,d)},postCreate:function(){this.inherited(arguments);this.own(this.on("change",d.hitch(this,function(d){d.preventDefault();d.mwEventData||(d.stopPropagation(),this._triggerChangeEvent("checked",!this.get("checked"),this.get("checked")))})))}})})},"mw-mixins/event/TypingEventMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_triggerTypingEvent:function(d){this.emit("typing",
{mwEventData:{currentContent:d}})},_qeTyping:function(d){this.inputNode.value=d;this._triggerTypingEvent(d)}})})},"mw-mixins/property/VisualFamilyMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{visualFamily:"default",_setVisualFamilyAttr:function(d){if("string"!==typeof d||0===d.length)throw Error("'visualFamily' property expects a literal non-empty string!");var g=this._getClassNameForVisualFamily(this.get("visualFamily"));this.domNode.classList.remove(g);g=this._getClassNameForVisualFamily(d);
this.domNode.classList.add(g);this._set("visualFamily",d)},_getClassNameForVisualFamily:function(d){return"mw"+d.charAt(0).toUpperCase()+d.slice(1)+"VisualFamily"}})})},"mw-mixins/property/ValidationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),function(h,d,g,c,f,b,l,m,a){var k=h([m,a],{templateString:'\x3cdiv class\x3d"mwValidationTooltipDialog"\x3e\x3cdiv class\x3d"mwArrowNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwContentsNode" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
_setTextAttr:function(a){this.textNode.textContent=a;this._set("text",a)}}),e=["error","warning","normal"];return h(null,{warningText:"",errorText:"",validationState:"normal",_setErrorTextAttr:function(a){if("string"!==typeof a)throw Error("errorText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("errorText",a)},_setWarningTextAttr:function(a){if("string"!==typeof a)throw Error("warningText property expects a 'string'!");this.validationTooltip&&
this.validationTooltip.set("text",a);this._set("warningText",a)},_setValidationStateAttr:function(a){if("string"!==typeof a)throw Error("validationState property expects a 'string'!");if(-1===e.indexOf(a.toLowerCase()))throw Error("validationState property expects the value to be 'normal', 'error' or 'warning'!");this._set("validationState",a);var k=!1,b=!1;"error"===a.toLowerCase()?(b=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("errorText"))):"warning"===a.toLowerCase()&&
(k=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("warningText")));this.validationTooltip&&(this.domNode.classList.contains("mwWidgetFocused")&&(this.validationTooltip.domNode.classList.add("mwValidationFocused"),this._placeTooltip()),b?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):(this._getDomNodeForValidationClasses().classList.remove("mwValidationError"),this.validationTooltip.domNode.classList.remove("mwErrorTooltip")),
k?this.validationTooltip.domNode.classList.add("mwWarningTooltip"):this.validationTooltip.domNode.classList.remove("mwWarningTooltip"),"normal"===a.toLowerCase()&&(this.validationTooltip.domNode.style.visibility="hidden"))},_createValidationTooltip:function(){this.validationTooltip||(this.validationTooltip=new k,this.validationTooltip.startup(),this.own(this.validationTooltip),this._addTooltipEvents())},_flipDomOrder:function(a){var e=a.children[1];f.place(a.children[0],f.place(e,a),"after");f.place(e.children[0],
f.place(e.children[1],e),"after")},_tooltipOrientation:function(){return this.validationTooltip.domNode.classList.contains("mwTooltipLeft")?"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){f.place(this.validationTooltip.domNode,l.body());var a=c.position(this.domNode),e,k,b,d,m,g,h,w=!1;e=a.x;k=a.y;b=a.w;"error"===this.validationState?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),
this.validationTooltip.set("text",this.errorText),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):"warning"===this.validationState&&(this.validationTooltip.set("text",this.warningText),this.validationTooltip.domNode.classList.add("mwWarningTooltip"));this.validationTooltip.domNode.style.visibility="visible";g=c.position(this.validationTooltip.domNode).h/2;m=c.position(this.domNode).h/2;a=this.validationTooltip.domNode;h=c.position(l.body()).w;d=this._calculateTooltipWidth();var v=
(document.documentElement||document.body.parentNode||document.body).scrollTop;e+b+d>h?(w=!0,e=e-d+"px",k=k+m-g+v+"px",a.children[0].classList.contains("mwArrowNode")&&this._flipDomOrder(a)):(e=e+b+"px",k=k+m-g+v+"px");w?(this.validationTooltip.domNode.classList.add("mwTooltipLeft"),this.validationTooltip.domNode.classList.remove("mwTooltipRight")):(this.validationTooltip.domNode.classList.remove("mwTooltipLeft"),this.validationTooltip.domNode.classList.add("mwTooltipRight"));this.validationTooltip.domNode.style.left=
e;this.validationTooltip.domNode.style.top=k}},_calculateTooltipWidth:function(){this.validationTooltip.domNode.classList.add("mwTooltipLeft");var a=c.position(this.validationTooltip.domNode).w;this.validationTooltip.domNode.classList.remove("mwTooltipLeft");return a},_addTooltipEvents:function(){this.own(b(this,g.enter,d.hitch(this,function(){this._placeTooltip()})),b(this,g.leave,d.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.style.visibility="hidden")})),b(this.focusNode,
"focus",d.hitch(this,function(){this._placeTooltip();this.validationTooltip&&("error"===this.get("validationState")||"warning"===this.get("validationState"))&&this.validationTooltip.domNode.classList.add("mwValidationFocused")})),b(this.focusNode,"blur",d.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.classList.remove("mwValidationFocused"),this.validationTooltip.domNode.style.visibility="hidden")})))}})})},"mw-mixins/mixinDependencyValidator":function(){define([],function(){return{validate:function(h){return h}}})},
"variableeditor/views/ClientPeerView":function(){define("variableeditor/views/ClientPeerView",["dojo/_base/declare","dojo/Deferred","variableeditor/VariableEditorUtils","mw-peermodel/Observable","mw-log/Log"],function(h,d,g,c,f){return h("variableeditor.views.ClientPeerView",[c.Impl],{allArgs:{},peerNode:null,varName:null,editable:!0,cssSpecifier:"",userContext:{},viewListeners:[],constructor:function(b){this.init(b)},init:function(b){this.allArgs={};this.peerNode=null;this.userContext={};this.viewListeners=
[];b&&(this.peerNode=b.peerNode,this.varName=b.varName,this.editable=b.editable,this.cssSpecifier=b.cssSpecifier,this.userContext=b.userContext||{},this.allArgs=b)},destroy:function(){g.logDebug("VE: ClientPeerView : destroy");this.peerNode=null},addViewListener:function(b){this.viewListeners.push(b)},removeViewListener:function(b){b=this.viewListeners.indexof(b);0<=b&&this.viewListeners.splice(b,1)},_fireViewReady:function(b){this.viewListeners.forEach(function(c){if(c.viewReady)try{c.viewReady(b)}catch(d){f.error(d),
f.error(d.stack)}})},getProperty:function(b,c){var f=new d(function(){});f.reject("Getting property "+b+"  not supported.");return f},setProperty:function(b,c,f){c=new d(function(){});c.reject("Setting property "+b+" is not supported.");return c}})})},"variableeditor/VariableEditorUtils":function(){define("variableeditor/VariableEditorUtils","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/topic mw-remote/Remote mw-log/Log dojo/has mw-dialog-utils/DialogUtils mw-notifications/Notifications dojo/i18n!variableeditor/app/l10n/nls/app mw-messageservice/MessageService dojo/dnd/Target dijit/focus dojo/dom-geometry dojo/dom-style".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){function u(a,e){var k,b;if(!a||!e||a.length!==e.length)return!1;k=0;for(b=a.length;k<b;k+=1)if(a[k]instanceof Array&&e[k]instanceof Array){if(!u(a[k],e[k]))return!1}else if(a[k]!==e[k])return!1;return!0}function x(a){for(var e=a,k=1;k<arguments.length;k+=1)e=arguments[k]instanceof Object&&arguments[k].length?e+"."+x.apply(this,arguments[k]):e+"."+arguments[k];return e}function w(a,e,k){try{if(void 0!==a.selectionStart)a.selectionStart=e,a.selectionEnd=k,
r.curNode!==a&&r.focus(a);else if(a.createTextRange){var b=a.createTextRange();b.collapse(!0);b.moveStart("character",e);b.moveEnd("character",k);b.select();r.curNode!==a&&r.focus(a)}else a.setSelectionRange&&(r.curNode!==a&&r.focus(a),a.setSelectionRange(e,k))}catch(c){m.log(c)}}function v(a){w(a,0,a.value.length)}var z=0,y=0,A=null;p.subscribe("/VELogChannel",function(a){"setLogFlagFromServer"===a.data.eventType&&(y=a.data.flag)});var B=h(q,{onSelectStart:function(a){}});return{mergeObjects:function(a,
e){var k={},b;for(b in a)a.hasOwnProperty(b)&&(k[b]=a[b]);for(b in e)e.hasOwnProperty(b)&&(k[b]=e[b]);return k},addToClassList:function(a,e){void 0!==a&&(null!==a&&void 0!==e&&null!==e)&&c.add(a,e)},removeFromClassList:function(a,e){void 0!==a&&(null!==a&&void 0!==e&&null!==e)&&c.remove(a,e)},runFactoryInitInMATLAB:function(a,e,k){try{z+=1;var b="VariableEditorUtilsResponse_"+z;e&&l.registerResponseHandler("EvalResponse:"+b,e,this);k&&l.registerFaultHandler("Eval:"+b,k,this);a.endsWith(";")&&(a=a.substring(0,
a.length-1));l.sendMessage({FEval:{"function":a,nargout:0,dequeMode:"idle"}},{},b)}catch(c){m.error(c),m.trace(c.stack)}},compareArrays:u,createDataTag:function(){return x("datatools.variableeditor",arguments)},concatenateDataTagStrings:x,displayErrorMessage:function(a,k,b){b={icon:b?b:"error","data-test-id":"fileDataServiceFaultDialog"};k||(k=n.errorDialogTitle);e.displayAlertDialog(k,a,b)},displayErrorMessageWithSpecifiedWidth:function(a,k,b,c){k=k?k:300;c={icon:c?c:"error","data-test-id":"fileDataServiceFaultDialog"};
b||(b=n.errorDialogTitle);a=e.displayAlertDialog(b,a,c);t.set(a.domNode,"min-width",k+"px");t.set(a.domNode,"width",k+"px");return a},DEFAULT_VE_DATA_TAG_ROOT:"datatools.variableeditor",isDebug:function(){return y&2},setDebug:function(a){a?this.addLogLevel(2):this.isDebug()&&this.removeLogLevel(2);this.publishLogLevel(y)},logDebug:function(a){this.isDebug()&&m.debug(a)},isPerformance:function(){return y&1},isInfo:function(){return y&4},setLogLevel:function(a){y=a;this.publishLogLevel(y)},addLogLevel:function(a){y|=
a},removeLogLevel:function(a){a<=y&&(y^=a)},publishLogLevel:function(a){try{p.publish("/VELogChannel",{eventType:"setLogFlagFromClient",LogLevel:a})}catch(e){}},getLogicalValue:function(a,e){var k=void 0!==e?!0===e:!1;"string"===typeof a||a instanceof String?(a=a.toLowerCase(),k="false"===a||"0"===a||"off"===a||"no"===a?!1:"true"===a||"1"===a||"on"===a||"yes"===a?!0:void 0!==e?!0===e:!0):"boolean"===typeof a?k=a:"number"===typeof a&&(k=0!==a);return k},getStackTrace:function(){var a=[];try{throw Error("Generating Stack");
}catch(e){if(e.stack){for(var k=e.stack.split("\n"),b=0;b<k.length;b++){var c=k[b].split("at").join("").trim();a.push(c)}a.shift()}}a.shift();return a},logDebugStackTraceMessage:function(){if(this.isDebug()){var a=this.getStackTrace();a.shift();a=a.join("\n");m.debug("VECallStack: "+a)}},logDebugStackTraceArray:function(){if(this.isDebug()){var a=this.getStackTrace();a.shift();m.debug(a)}},stripOuterSingleQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/^\s*'/,""),
a=a.replace(/'\s*$/,"");return a},stripOuterDoubleQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/^\s*"/,""),a=a.replace(/"\s*$/,"");return a},handleFormatting:function(a,e,k){var b=null,c=null;"newLine"===k?b="\n":"tab"===k&&(b="\t");a&&(k=a[0],a=a[1],c=e.slice(0,a>k?k:a)+b+e.slice(a,e.length),c=c.replace(/\u21b5/g,"\n"),c=c.replace(/\u0009/g,"\t"));return c},formatString:function(a,e){if(a&&(-1<a.indexOf("\n")||-1<a.indexOf("\t")))a=a.replace(/\n/g,"\u21b5"),a=a.replace(/\t/g,
"\t");return a},unescapeMatlabQuotes:function(a){if(a&&("string"===typeof a||a instanceof String))a=a.replace(/\'\'/g,"'");return a},deselectTextInBrowser:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection.createRange&&(document.selection.createRange(),document.selection.empty())},selectTextInNode:function(a){if(document.selection){var e=document.body.createTextRange();e.moveToElementText(a);e.select()}else window.getSelection&&(e=document.createRange(),e.selectNodeContents(a),
window.getSelection().removeAllRanges(),window.getSelection().addRange(e))},createSelectableDnDTarget:function(a,e){var k=new B(a,e);e&&e.dropCallback&&(k.onDrop=e.dropCallback);e&&e.checkAcceptanceCallback&&(k.checkAcceptance=e.checkAcceptanceCallback);return k},selectAll:v,selectAllText:function(a){a&&a.value&&(!/^\".*\"$/.test(a.value)&&!/^\'.*\'$/.test(a.value)?v(a):w(a,1,a.value.length-1))},selectRange:w,getSelectionStart:function(a){if(void 0!==a.selectionStart&&null!==a.selectionStart)return a.selectionStart;
if(a.createTextRange){var e=document.selection.createRange().duplicate();e.moveEnd("character",a.value.length);return""===e.text?a.value.length:a.value.lastIndexOf(e.text)}},getSelectionEnd:function(a){if(void 0!==a.selectionStart&&null!==a.selectionStart)return a.selectionEnd;if(a.createTextRange){var e=document.selection.createRange().duplicate();e.moveStart("character",-a.value.length);return e.text.length}},getClassList:function(a){return a.className.split(" ")},getClassNameForIconList:function(a){-1<
a.indexOf("sparse")?a="sparse":-1<a.indexOf("complex")?a="complex":""===a.trim()&&(a="novardisplay");return a},compareValues:function(a,e){a instanceof Array&&(a=a.toString());e instanceof Array&&(e=e.toString());return JSON.stringify(a)===JSON.stringify(e)},getStylesFromClasses:function(a,e){var k=f.create("div",{style:"display: none; width: 0px; height: 0px;"});if(a)for(var b=0;b<a.length;b+=1)c.add(k,a[b]);f.place(k,document.body,"last");var d=window.getComputedStyle(k),l={};if(d&&e)for(b=0;b<
e.length;b+=1){var m=e[b];l[m]=d.getPropertyValue(m)}f.destroy(k);return l},createDebounceFn:function(a,e,k){var b=null;return function(){clearTimeout(b);b=setTimeout(function(){if(a.domNode)for(var k=0;k<e.length;k++)e[k].apply(a)},k)}},getComputedColumnHeaderWidth:function(a,e){if(a&&e){var k=document.createElement("canvas").getContext("2d");k.font=e;return parseInt(k.measureText(a).width)}return 0},getBrowserScrollBarWidth:function(e){if(!A)if(a("mac")){e=document.createElement("div");e.className=
"scrollbar-measure";e.style.width="100px";e.style.height="100px";e.style.overflow="scroll";e.style.position="absolute";e.style.top="-9999px";document.body.appendChild(e);var k=e.offsetWidth-e.clientWidth;document.body.removeChild(e);A=k+2;setTimeout(function(){A=null},500)}else A=e.scrollbarWidth;return A},getColumnHeaderPositions:function(a){var e=HTMLElement.prototype.getBoundingClientRect;HTMLElement.prototype.getBoundingClientRect=function(){try{return e.apply(this,arguments)}catch(a){return{left:0,
right:0,top:0,bottom:0,height:0,width:0}}};if(null===a)return[];for(var k=[],b=0;b<a.length;b++)k[b]=a[b].getBoundingClientRect();HTMLElement.prototype.getBoundingClientRect=e;return k},preventDefaultMouseClick:function(a){a.preventDefault()},filterFloat:function(a){if("string"===typeof a){var e=parseFloat(a).toString();if(0===a.indexOf(e)&&a.length!=e.length)for(e=e.length;e<a.length;e+=1)if("0"!==a.charAt(e))return NaN}return parseFloat(a)}}})},"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){var n=this,p;p={reset:function(){var q=[],r=new f,s=new l({faultManager:r}),t=new b({responseManager:s});p.faultManager=r;p.responseManager=s;p.requestManager=t;p._serviceRegistryLookup=e;p._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var u=p.proxyClient=new g;p.createUploadIframeTarget=h.hitch(u,u.createUploadIframeTarget);p.cancelUpload=h.hitch(u,u.cancelUpload);a.setIframeProxyClientForEndPoint(a.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,
u);a.setIframeProxyClientForEndPoint(a.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,u);m.construct=function(e){e=e||{};a.getRoutingHost(a.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||p.setEndpoint();e.allowedMessages=q;e.sendMessage=p.sendMessage;e.computeSessionId=p.getComputeSessionId;return new c(e)};p.registerEndpointLevelFaultHandler=h.hitch(r,r.registerEndpointLevelFaultHandler);p.sendMessage=h.hitch(t,t.sendMessage);p.registerDefaultMessageFactory=h.hitch(t,t.registerDefaultMessageFactory);
p.deregisterDefaultMessageFactory=h.hitch(t,t.deregisterDefaultMessageFactory);p.registerResponseHandler=h.hitch(s,s.registerResponseHandler);p.deregisterResponseHandler=h.hitch(s,s.deregisterResponseHandler);p.registerFaultHandler=h.hitch(r,r.registerFaultHandler);p.deregisterFaultHandler=h.hitch(r,r.deregisterFaultHandler);p.registerTopLevelFaultHandler=h.hitch(r,r.registerTopLevelFaultHandler);p.deregisterTopLevelFaultHandler=h.hitch(r,r.deregisterTopLevelFaultHandler);p.setServiceEndPoint=function(e,
k,b){a.setRoutingHostAndRoutingKey(e,k,b)};p.setServicePathSuffixForEndPoint=function(e,k){a.setPathSuffixForEndPoint(e,k)};p.ignoreTopLevelFault=p.registerTopLevelFaultHandler;p.setComputeToken=function(a){p._uploadIframeProxyUrlParameters[1]=a.computeSessionId;t.computeToken=a};p.setWorkerEndpoint=function(e,k){p._uploadIframeProxyUrlParameters[3]=k;a.setRoutingHostAndRoutingKey(a.getEndPointNames().WORKER_ENDPOINT,e,k)};p.setEndpoint=function(e){e||(e=p._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),
e||(k.info("ServiceRegistryLookup is empty, falling back to localhost"),e="/"));if(!e||"/"===e)e=n.location.protocol+"//"+n.location.host+"/";a.setRoutingHostAndRoutingKey(a.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,e);a.setRoutingHostAndRoutingKey(a.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,e);u.setRemotePageHost(e)};p.setAllowedMessages=function(a){q=a};p.allowAllMessages=function(){q=[]};p.getEndPoint=function(){return a.getRoutingHost(a.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};
p.getUploadIframeProxyUrl=function(){var a=p.getWorkerRoutingHost();"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+u.getUploadIframeProxyUrlPath()+p._uploadIframeProxyUrlParameters.join("")};p.getComputeSessionId=function(){return t.computeToken?t.computeToken.computeSessionId:12345};p.getWorkerRoutingHost=function(){var e=a.getRoutingHost(a.getEndPointNames().WORKER_ENDPOINT);return e?e:location.protocol+"//"+location.host+"/"};p.getWorkerRoutingKey=function(){return a.getRoutingKey(a.getEndPointNames().WORKER_ENDPOINT)};
p.getServiceRegistryEndpoint=function(a){return p._serviceRegistryLookup.getServiceRegistryEndpoint(a)};p.enableServerOnWorkerAsync=function(){a.enableEndPoint(a.getEndPointNames().WORKER_ASYNC_ENDPOINT)};p.disableServerOnWorkerAsync=function(){a.disableEndPoint(a.getEndPointNames().WORKER_ASYNC_ENDPOINT)};p.isServerOnWorkerAsyncEnabled=function(){return a.isEndPointEnabled(a.getEndPointNames().WORKER_ASYNC_ENDPOINT)};p.enableServerOnWorker=function(){a.enableEndPoint(a.getEndPointNames().WORKER_ENDPOINT)};
p.disableServerOnWorker=function(){a.disableEndPoint(a.getEndPointNames().WORKER_ENDPOINT)};p.isWorkerEndpointEnabled=function(){return a.isEndPointEnabled(a.getEndPointNames().WORKER_ENDPOINT)};p.setWorkerOnlyMessageTypes=function(e){a.setMessageTypesToEndPoint(a.getEndPointNames().WORKER_ENDPOINT,e)};d.after(u,"onError",function(a){a&&r.handleNonTransactionFault(a)},!0)}};p.reset();return p})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),
function(h,d,g,c,f,b,l,m,a,k){var e=this,n=d([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,e,k,b,c){a=this._combineUriPaths(a||"","/");e=e||"";c=c||this.LATEST_VERSION;b=b||"";this.computeToken=k;a===this._host&&e===
this._key&&b===this._proxyUrl&&c===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=e,this._version=c,this._proxyUrl=b,a=this._calculateUrls(a,e,c,b),this._createIframe(a))},_calculateUrls:function(a,e,k,b){var c=this.REMOTE_PROXY+k+"/iframeProxyRelease.html";k=this.REMOTE_PROXY+k+"/CheckJsFile.js";b&&(c=b);c=this._combineUriPaths(a,c).split("?")[0];c+=e?"?routingkey\x3d"+e:"";k=this._combineUriPaths(a,k);k=e?k+("?routingkey\x3d"+e):k+("?time\x3d"+(new Date).getTime());return{fastFailUrl:k,
iFrameUrl:c}},_createIframe:function(b){var c=b.fastFailUrl,d=this;this._url=b.iFrameUrl;this.remoteIframe&&l.destroy(this.remoteIframe);a.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=l.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});this._checkUrl=(new k(c)).then(function(){},f.hitch(d,"_handleLoadTimeoutHitch"));this._loadTimeoutHandle=setTimeout(function(){d._handleLoadTimeoutHitch()},
this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=h.connect(e,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{clearTimeout(this._loadTimeoutHandle);var e=(parseFloat(this._version)-0.1).toFixed(1).toString();a.info("Unable to load proxy version "+this._version+", trying "+e+".");this.setRemotePageHost(this._host,this._key,this.computeToken,
this._proxyUrl,e)}},createUploadIframeTarget:function(a,e,k){this._uploadTargetCallbacks[a]=f.hitch(k||this,e);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(e,k,b){var f=this,d;this.computeToken&&(b=b||{},b.headers=b.headers||{},b.headers.computeToken=this.computeToken);d=this._getNewMessageId();k="sendMessage;"+
d+";"+k+";"+(b?c.toJson(b):"{}");k+=";"+e;e={deferred:new g(function(){"1.0"===f._version?a.warn("Cancelling is not supported by the 1.0 remote proxy."):f._postMessage("abort;"+d)}),id:d};this._errorLoading?e.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[d]=e,this._postMessage(k));return e.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},
_handleMessage:function(a){var e,k;if(a.source===this.remoteIframe.contentWindow){k=a.data.indexOf(";");e=a.data.substring(0,k);if(!e)throw Error("Client unable to parse message, no action specified: "+a.data);switch(e){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,k);break;case "uploadIframeMessage":e=a.data.indexOf(";",k+1);k=a.data.substring(k+1,e);a=a.data.substring(e+1,a.data.length);this._uploadTargetCallbacks[k](a);
break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(k+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(k+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+e+", data: "+a.data);}}},_sendMessageResponse:function(a,e){var k,b,f=a.data.indexOf(";",e+1);k=a.data.indexOf(";",f+1);var d=a.data.substring(e+
1,f),l=a.data.substring(f+1,k),f=a.data.substring(k+1,a.data.length);if(!d||!l)throw Error("Invalid message from remote iframe: "+a.data);k=this._transactions[d];if(!k)throw Error("Unknown transaction id: "+d+", from remote iframe: "+a.data);delete this._transactions[d];if(!k.deferred.isCanceled())if("success"===l){try{b=f&&c.fromJson(f)}catch(m){b=f}b=""===b?{}:b;k.deferred.resolve(b)}else"fault"===l&&f&&(b=f.split(";"),d=b.length-1,1<=d&&(f.statusCode=b[d])),this.onError(f),k.deferred.reject(f)},
_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,e;this._cleanupFailureChecks();if(!this._loaded)for(e in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,
this._transactions={},a)a.hasOwnProperty(e)&&a[e].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(e){function k(){if(0<b._errorRate&&Math.random()<b._errorRate&&0===e.indexOf("sendMessage;")){if(c=e.split(";",2)[1],f=b._transactions[c])delete b._transactions[c],a.error("Generating simulated error. Request was: ",e),b.onError("403 Forbidden;403"),f.deferred.reject("403 Forbidden;403")}else b.remoteIframe.contentWindow.postMessage(e,b._url)}var b=
this,c,f;this._latency?setTimeout(k,this._latency):k()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,e){if(0===a.length)return e;0<e.length&&
("/"===e[0]&&a.lastIndexOf("/")===a.length-1?e=e.substring(1):"/"!==e[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+e})}});n.WebSocket=d([],{constructor:function(a){var e=this;this.proxyClient=n.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+a);b.after(this.proxyClient,"onWebsocketOpen",function(){e.onopen.apply(e,arguments)},!0);b.after(this.proxyClient,
"onWebsocketMsg",function(){e.onmessage.apply(e,arguments)},!0);b.after(this.proxyClient,"onWebsocketClose",function(){e.onclose.apply(e,arguments)},!0);b.after(this.proxyClient,"onWebsocketError",function(){e.onerror.apply(e,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return n})},"mw-log/Log":function(){define(["dojo/date/locale"],
function(h){return function(){function d(e){m&&(a||!b||!b.log)&&m.apply(f,e)}function g(a){l[a]=function(){if(0!==k&&b&&b[a])if("assert"===a){if(!arguments[0])if(f.ScriptEngine){var e=Array.prototype.slice.call(arguments);e.shift();b[a](!1,e)}else b[a].apply(b,arguments)}else if(f.ScriptEngine)if(-1!==a.indexOf("profile"))b[a]();else b[a](arguments[0]);else b[a].apply(b,arguments)}}function c(a,c){l[c]=function(){var l=Array.prototype.slice.call(arguments),m=h.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),
g=[c].concat(l),l=[m].concat(l);e.push(g);e.length>n&&e.shift();d(g);if(b&&(0<k?k>a:p.length+k<=a))if(b.firebug&&"error"!==c)b[c].apply(f,l);else if(b[c])b[c](l);else b.log(l)}}var f=this,b=f.console,l={},m,a,k=9,e=[],n=25,p=["error","warn","info","debug","log"],q="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),r;for(r=q.length;0<=(r-=1);)g(q[r]);for(r=p.length;0<=(r-=1);)c(r,p[r]);l.setLevel=function(a){k="number"===typeof a?
a:9};l.setCallback=function(k,b,c){var f=e.length;m=k||null;a="boolean"===typeof b?b:!1;for(k=f-("number"===c?c:f);k<f;)d(e[k+=1])};return l}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(h,d,g,c,f,b,l,m,a){function k(a,e,k,b){return b.replace(/([a-z])\1*/ig,function(f){var d,m,n=f.charAt(0);f=f.length;var g=["abbr","wide","narrow"];switch(n){case "G":d=e[4>
f?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":d=a.getFullYear();switch(f){case 1:break;case 2:if(!k.fullYear){d=String(d);d=d.substr(d.length-2);break}default:m=!0}break;case "Q":case "q":d=Math.ceil((a.getMonth()+1)/3);m=!0;break;case "M":case "L":d=a.getMonth();3>f?(d+=1,m=!0):(n=["months","L"==n?"standAlone":"format",g[f-3]].join("-"),d=e[n][d]);break;case "w":d=p._getWeekOfYear(a,0);m=!0;break;case "d":d=a.getDate();m=!0;break;case "D":d=p._getDayOfYear(a);m=!0;break;case "e":case "c":if(d=
a.getDay(),2>f){d=(d-c.getFirstDayOfWeek(k.locale)+8)%7;break}case "E":d=a.getDay();3>f?(d+=1,m=!0):(n=["days","c"==n?"standAlone":"format",g[f-3]].join("-"),d=e[n][d]);break;case "a":n=12>a.getHours()?"am":"pm";d=k[n]||e["dayPeriods-format-wide-"+n];break;case "h":case "H":case "K":case "k":m=a.getHours();switch(n){case "h":d=m%12||12;break;case "H":d=m;break;case "K":d=m%12;break;case "k":d=m||24}m=!0;break;case "m":d=a.getMinutes();m=!0;break;case "s":d=a.getSeconds();m=!0;break;case "S":d=Math.round(a.getMilliseconds()*
Math.pow(10,f-3));m=!0;break;case "v":case "z":if(d=p._getZone(a,!0,k))break;f=4;case "Z":n=p._getZone(a,!1,k);n=[0>=n?"+":"-",l.pad(Math.floor(Math.abs(n)/60),2),l.pad(Math.abs(n)%60,2)];4==f&&(n.splice(0,0,"GMT"),n.splice(3,0,":"));d=n.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+b);}m&&(d=l.pad(d,f));return d})}function e(a,e,k,b){var c=function(a){return a};e=e||c;k=k||c;b=b||c;var f=a.match(/(''|[^'])+/g),l="'"==a.charAt(0);d.forEach(f,function(a,b){a?
(f[b]=(l?k:e)(a.replace(/''/g,"'")),l=!l):f[b]=""});return b(f.join(""))}function n(a,e,k,c){c=b.escapeString(c);k.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(b){var c;c=b.charAt(0);var f=b.length,d="",l="";k.strict?(1<f&&(d="0{"+(f-1)+"}"),2<f&&(l="0{"+(f-2)+"}")):(d="0?",l="0{0,2}");switch(c){case "y":c="\\d{2,4}";break;case "M":case "L":c=2<f?"\\S+?":"1[0-2]|"+d+"[1-9]";break;case "D":c="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+d+"[1-9][0-9]|"+l+"[1-9]";break;case "d":c=
"3[01]|[12]\\d|"+d+"[1-9]";break;case "w":c="[1-4][0-9]|5[0-3]|"+d+"[1-9]";break;case "E":case "e":case "c":c=".+?";break;case "h":c="1[0-2]|"+d+"[1-9]";break;case "k":c="1[01]|"+d+"\\d";break;case "H":c="1\\d|2[0-3]|"+d+"\\d";break;case "K":c="1\\d|2[0-4]|"+d+"[1-9]";break;case "m":case "s":c="[0-5]\\d";break;case "S":c="\\d{"+f+"}";break;case "a":f=k.am||e["dayPeriods-format-wide-am"];d=k.pm||e["dayPeriods-format-wide-pm"];c=f+"|"+d;k.strict||(f!=f.toLowerCase()&&(c+="|"+f.toLowerCase()),d!=d.toLowerCase()&&
(c+="|"+d.toLowerCase()),-1!=c.indexOf(".")&&(c+="|"+c.replace(/\./g,"")));c=c.replace(/\./g,"\\.");break;default:c=".*"}a&&a.push(b);return"("+c+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var p={};h.setObject(a.id.replace(/\//g,"."),p);p._getZone=function(a,e,k){return e?g.getTimezoneName(a):a.getTimezoneOffset()};p.format=function(a,b){b=b||{};var c=f.normalizeLocale(b.locale),d=b.formatLength||"short",c=p._getGregorianBundle(c),l=[],m=h.hitch(this,k,a,c,b);if("year"==b.selector)return e(c["dateFormatItem-yyyy"]||
"yyyy",m);var n;"date"!=b.selector&&(n=b.timePattern||c["timeFormat-"+d])&&l.push(e(n,m));"time"!=b.selector&&(n=b.datePattern||c["dateFormat-"+d])&&l.push(e(n,m));return 1==l.length?l[0]:c["dateTimeFormat-"+d].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,e){return l[e]})};p.regexp=function(a){return p._parseInfo(a).regexp};p._parseInfo=function(a){a=a||{};var k=f.normalizeLocale(a.locale),k=p._getGregorianBundle(k),b=a.formatLength||"short",c=a.datePattern||k["dateFormat-"+b],d=a.timePattern||
k["timeFormat-"+b],b="date"==a.selector?c:"time"==a.selector?d:k["dateTimeFormat-"+b].replace(/\{(\d+)\}/g,function(a,e){return[d,c][e]}),l=[];return{regexp:e(b,h.hitch(this,n,l,k,a)),tokens:l,bundle:k}};p.parse=function(a,e){var k=/[\u200E\u200F\u202A\u202E]/g,b=p._parseInfo(e),c=b.tokens,f=b.bundle,k=RegExp("^"+b.regexp.replace(k,"")+"$",b.strict?"":"i").exec(a&&a.replace(k,""));if(!k)return null;var l=["abbr","wide","narrow"],m=[1970,0,1,0,0,0,0],n="",k=d.every(k,function(a,k){if(!k)return!0;var b=
c[k-1],g=b.length,b=b.charAt(0);switch(b){case "y":if(2!=g&&e.strict)m[0]=a;else if(100>a)a=Number(a),b=""+(new Date).getFullYear(),g=100*b.substring(0,2),b=Math.min(Number(b.substring(2,4))+20,99),m[0]=a<b?g+a:g-100+a;else{if(e.strict)return!1;m[0]=a}break;case "M":case "L":if(2<g){if(g=f["months-"+("L"==b?"standAlone":"format")+"-"+l[g-3]].concat(),e.strict||(a=a.replace(".","").toLowerCase(),g=d.map(g,function(a){return a.replace(".","").toLowerCase()})),a=d.indexOf(g,a),-1==a)return!1}else a--;
m[1]=a;break;case "E":case "e":case "c":g=f["days-"+("c"==b?"standAlone":"format")+"-"+l[g-3]].concat();e.strict||(a=a.toLowerCase(),g=d.map(g,function(a){return a.toLowerCase()}));a=d.indexOf(g,a);if(-1==a)return!1;break;case "D":m[1]=0;case "d":m[2]=a;break;case "a":g=e.am||f["dayPeriods-format-wide-am"];b=e.pm||f["dayPeriods-format-wide-pm"];if(!e.strict){var p=/\./g;a=a.replace(p,"").toLowerCase();g=g.replace(p,"").toLowerCase();b=b.replace(p,"").toLowerCase()}if(e.strict&&a!=g&&a!=b)return!1;
n=a==b?"p":a==g?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;m[3]=a;break;case "m":m[4]=a;break;case "s":m[5]=a;break;case "S":m[6]=a}return!0}),b=+m[3];"p"===n&&12>b?m[3]=b+12:"a"===n&&12==b&&(m[3]=0);b=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);e.strict&&b.setFullYear(m[0]);var r=c.join(""),h=-1!=r.indexOf("d"),r=-1!=r.indexOf("M");if(!k||r&&b.getMonth()>m[1]||h&&b.getDate()>m[2])return null;if(r&&b.getMonth()<m[1]||h&&b.getDate()<m[2])b=g.add(b,"hour",1);return b};
var q=[],r={};p.addCustomFormats=function(a,e){q.push({pkg:a,name:e});r={}};p._getGregorianBundle=function(a){if(r[a])return r[a];var e={};d.forEach(q,function(k){k=f.getLocalization(k.pkg,k.name,a);e=h.mixin(e,k)},this);return r[a]=e};p.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");p.getNames=function(a,e,k,b){var c;b=p._getGregorianBundle(b);a=[a,k,e];"standAlone"==k&&(k=a.join("-"),c=b[k],1==c[0]&&(c=void 0));a[1]="format";return(c||b[a.join("-")]).concat()};p.isWeekend=
function(a,e){var k=c.getWeekend(e),b=(a||new Date).getDay();k.end<k.start&&(k.end+=7,b<k.start&&(b+=7));return b>=k.start&&b<=k.end};p._getDayOfYear=function(a){return g.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};p._getWeekOfYear=function(a,e){1==arguments.length&&(e=0);var k=(new Date(a.getFullYear(),0,1)).getDay(),b=Math.floor((p._getDayOfYear(a)+(k-e+7)%7-1)/7);k==e&&b++;return b};return p})},"dojo/date":function(){define(["./has","./_base/lang"],function(h,d){var g={getDaysInMonth:function(c){var f=
c.getMonth();return 1==f&&g.isLeapYear(c)?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]},isLeapYear:function(c){c=c.getFullYear();return!(c%400)||!(c%4)&&!!(c%100)},getTimezoneName:function(c){var f=c.toString(),b="",d=f.indexOf("(");if(-1<d)b=f.substring(++d,f.indexOf(")"));else if(d=/([A-Z\/]+) \d{4}$/,f=f.match(d))b=f[1];else if(f=c.toLocaleString(),d=/ ([A-Z\/]+)$/,f=f.match(d))b=f[1];return"AM"==b||"PM"==b?"":b},compare:function(c,f,b){c=new Date(+c);f=new Date(+(f||new Date));"date"==b?(c.setHours(0,
0,0,0),f.setHours(0,0,0,0)):"time"==b&&(c.setFullYear(0,0,0),f.setFullYear(0,0,0));return c>f?1:c<f?-1:0},add:function(c,f,b){var d=new Date(+c),m=!1,a="Date";switch(f){case "day":break;case "weekday":var k;(f=b%5)?k=parseInt(b/5):(f=0<b?5:-5,k=0<b?(b-5)/5:(b+5)/5);var e=c.getDay(),n=0;6==e&&0<b?n=1:0==e&&0>b&&(n=-1);e+=f;if(0==e||6==e)n=0<b?2:-2;b=7*k+f+n;break;case "year":a="FullYear";m=!0;break;case "week":b*=7;break;case "quarter":b*=3;case "month":m=!0;a="Month";break;default:a="UTC"+f.charAt(0).toUpperCase()+
f.substring(1)+"s"}if(a)d["set"+a](d["get"+a]()+b);m&&d.getDate()<c.getDate()&&d.setDate(0);return d},difference:function(c,f,b){f=f||new Date;b=b||"day";var d=f.getFullYear()-c.getFullYear(),m=1;switch(b){case "quarter":c=c.getMonth();f=f.getMonth();c=Math.floor(c/3)+1;f=Math.floor(f/3)+1;m=f+4*d-c;break;case "weekday":d=Math.round(g.difference(c,f,"day"));b=parseInt(g.difference(c,f,"week"));m=d%7;if(0==m)d=5*b;else{var a=0,k=c.getDay();f=f.getDay();b=parseInt(d/7);m=d%7;c=new Date(c);c.setDate(c.getDate()+
7*b);c=c.getDay();if(0<d)switch(!0){case 6==k:a=-1;break;case 0==k:a=0;break;case 6==f:a=-1;break;case 0==f:a=-2;break;case 5<c+m:a=-2}else if(0>d)switch(!0){case 6==k:a=0;break;case 0==k:a=1;break;case 6==f:a=2;break;case 0==f:a=1;break;case 0>c+m:a=2}d=d+a-2*b}m=d;break;case "year":m=d;break;case "month":m=f.getMonth()-c.getMonth()+12*d;break;case "week":m=parseInt(g.difference(c,f,"day")/7);break;case "day":m/=24;case "hour":m/=60;case "minute":m/=60;case "second":m/=1E3;case "millisecond":m*=
f.getTime()-c.getTime()}return Math.round(m)}};d.mixin(d.getObject("dojo.date",!0),g);return g})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(h,d){var g={};h.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(c){c={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,
ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(c)];return void 0===c?1:c};g._region=function(c){c=d.normalizeLocale(c);c=c.split("-");var f=c[1];f?4==f.length&&(f=c[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",
cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",
li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",
ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",
ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",
kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",
mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",
sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[c[0]];return f};g.getWeekend=function(c){var f=g._region(c);c={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,
ma:5,qa:5,sd:5,sy:5,tn:5}[f];f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===c&&(c=6);void 0===f&&(f=0);return{start:c,end:f}};return g})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(h,d){var g={};d.setObject("dojo.regexp",g);g.escapeString=function(c,f){return c.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(b){return f&&-1!=f.indexOf(b)?b:"\\"+b})};g.buildGroupRE=function(c,f,b){if(!(c instanceof Array))return f(c);
for(var d=[],m=0;m<c.length;m++)d.push(f(c[m]));return g.group(d.join("|"),b)};g.group=function(c,f){return"("+(f?"?:":"")+c+")"};return g})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(h,d,g,c,f){return function(b){var l,m,a;if(!b)throw Error("Expected a valid url in urlToEmptyJsFile");l={framedoc:null};m=c.get(b,l,!0);l=d.byId(m.id,l.frameDoc);a=g(l,"error",function(k){f.info("CheckUrlService detected an error accessing url: "+
b);m.handleResponse(null,k);a.remove()});return m.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){function n(a,e){a.canDelete&&t._remove(a.id,e.options.frameDoc,!0)}function p(a){y&&y.length&&(f.forEach(y,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),y=[]);return a.options.jsonp?!a.data:!0}function q(a){return!!this.scriptLoaded}
function r(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function s(a,e){if(this.canDelete){var k=this.response.options;y.push({id:this.id,frameDoc:k.ioArgs?k.ioArgs.frameDoc:k.frameDoc});k.ioArgs&&(k.ioArgs.frameDoc=null);k.frameDoc=null}e?this.reject(e):this.resolve(a)}function t(a,e,k){var c=g.parseArgs(a,g.deepCopy({},e));a=c.url;e=c.options;var f=g.deferred(c,n,p,e.jsonp?null:e.checkString?r:q,s);b.mixin(f,{id:u+x++,canDelete:!1});e.jsonp&&(RegExp("[?\x26]"+
e.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+e.jsonp+"\x3d"+(e.frameDoc?"parent.":"")+u+"_callbacks."+f.id),f.canDelete=!0,z[f.id]=function(a){c.data=a;f.handleResponse(c)});g.notify&&g.notify.emit("send",c,f.promise.cancel);if(!e.canAttach||e.canAttach(f)){var m=t._attach(f.id,a,e.frameDoc);if(!e.jsonp&&!e.checkString)var h=l(m,w,function(a){if("load"===a.type||v.test(m.readyState))h.remove(),f.scriptLoaded=a})}l.once(m,"error",function(a){f.reject(a);t._remove(f.id,e.frameDoc,!0)});
d(f);return k?f:f.promise}k.add("script-readystatechange",function(a,e){return"undefined"!==typeof e.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=h.id.replace(/[\/\.\-]/g,"_"),x=0,w=k("script-readystatechange")?"readystatechange":"load",v=/complete|loaded/,z=c.global[u+"_callbacks"]={},y=[];t.get=t;t._attach=function(a,k,b){b=b||e.doc;var c=b.createElement("script");c.type="text/javascript";c.src=k;c.id=a;c.async=!0;c.charset=
"utf-8";return b.getElementsByTagName("head")[0].appendChild(c)};t._remove=function(e,k,b){a.destroy(m.byId(e,k));z[e]&&(b?z[e]=function(){delete z[e]}:delete z[e])};t._callbacksProperty=u+"_callbacks";return t})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare","mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(h,d,g){return h([d],{constructor:function(c){c=c||{};this.proxyClient=c.proxyClient;this.workerProxyClient=c.workerProxyClient;
this.routingHost=c.routingHost;this.routingKey=c.routingKey;this.computeSessionId=c.computeSessionId},_doSend:function(c){return g.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(c,g.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),function(h,d,g,c,f,b){return h(b,{constructor:function(b){b=b||{};this.uuid=
b.uuid||this._generateUuid()},_getRequest:function(b){var c=null;f.isEndpointMessageContainerBased(this.endPointName)?(c={uuid:this.uuid,messages:b},this.computeToken&&(c.computeToken=this.computeToken)):Object.keys(b).forEach(function(a){c=b[a]});this._sanitizeForJson(c);return g.toJson(c)},_sanitizeForJson:function(b){var f;if(c.isArray(b))b.forEach(this._sanitizeForJson,this);else if(c.isObject(b))for(f in b)b.hasOwnProperty(f)&&(void 0===b[f]?delete b[f]:(c.isObject(b[f])||c.isArray(b[f]))&&this._sanitizeForJson(b[f]))},
_doSend:function(b){return d.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:b})},_processResponse:function(b){this.stopTime=(new Date).getTime();b?(b.fault&&(this.fault=b.fault),this.responseMessages=b.messages?b.messages:b):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(b){this.stopTime=(new Date).getTime();this.fault={faultCode:"Connection.Fault",message:b}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],
function(h){var d=null;null===d&&(d=new h);return d})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(h,d,g){return h([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),
iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},
WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,
enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(c,f,b,d,m){this.endPointsCollection[c]={routingHost:"",routingKey:"",pathSuffix:b,enabled:f,messages:[],iframeProxy:null,iframeProxyName:d,acceptsMessageContainerMessages:m}},getPathSuffixForEndPoint:function(c){return this.endPointsCollection[c].pathSuffix},setPathSuffixForEndPoint:function(c,
f){this.endPointsCollection[c].pathSuffix=f},getEndPointNames:function(){var c={},f;for(f in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(f)&&(c[f]=f);return c},setRoutingHostAndRoutingKey:function(c,f,b){f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");this.endPointsCollection[c].routingHost=f;b&&(this.endPointsCollection[c].routingKey=b);f&&this._setIframeRoutingHostAndRoutingkey(c)},_setIframeRoutingHostAndRoutingkey:function(c){var f=this.getIframeProxyClientForEndPoint(c);f&&
f.setRemotePageHost(this.endPointsCollection[c].routingHost,this.endPointsCollection[c].routingKey,null,this.endPointsCollection[c].iframeProxyUrl)},getRoutingHost:function(c){return this.endPointsCollection[c].routingHost},getRoutingKey:function(c){return this.endPointsCollection[c].routingKey},getMessageTypesMappedToEndPoint:function(c){return this.endPointsCollection[c].messages},isEndPointEnabled:function(c){return this.endPointsCollection[c].enabled},setMessageTypesToEndPoint:function(c,f){this.endPointsCollection[c].messages=
f},enableEndPoint:function(c){this.endPointsCollection[c].enabled=!0},disableEndPoint:function(c){this.endPointsCollection[c].enabled=!1},getEndPointForMessageType:function(c){var f=null,b;for(b in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(b)&&(f=-1<d.lastIndexOf(this.endPointsCollection[b].messages,c)?b:f))if(this.isEndPointEnabled(f))break;else f=null;return f?f:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(c){var f=this.endPointsCollection[c].routingHost+
this.endPointsCollection[c].pathSuffix;this.endPointsCollection[c].routingKey&&(f=f+"?routingkey\x3d"+this.endPointsCollection[c].routingKey);return f},setIframeProxyClientForEndPoint:function(c,f){this.endPointsCollection[c].iframeProxy=f},getIframeProxyClientForEndPoint:function(c){var f=this.endPointsCollection[c].iframeProxy;f||(f=new g(this.endPointsCollection[c].iframeProxyName),this.endPointsCollection[c].iframeProxy=f);return f},isEndpointMessageContainerBased:function(c){return c&&this.endPointsCollection[c]?
this.endPointsCollection[c].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(c,f){this.endPointsCollection[c]&&-1===this.endPointsCollection[c].messages.indexOf(f)&&this.endPointsCollection[c].messages.push(f)},removeMessageTypesFromEndPoint:function(c,f){if(this.endPointsCollection[c]){var b=this.endPointsCollection[c].messages.indexOf(f);-1<b&&this.endPointsCollection[c].messages.splice(b,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred",
"dojo/_base/lang","mw-remote/RemoteEndPointsManager","mw-utils/Utils"],function(h,d,g,c,f){return h([],{constructor:function(b){b=b||{};this.requestMessages=b.requestMessages||{};this.responseMessages=b.responseMessages||{};this.context=b.context;this.computeToken=b.computeToken;this.uuidClassifierMap=b.uuidClassifierMap||{};this.endPointName=b.endPointName||null;this.allowedMessages=b.allowedMessages||[];this.ignoreMessageTypes=b.ignoreMessageTypes||[];this.sendMessage=b.sendMessage},addRequestMessage:function(b,
f,d){if(f){var a=c.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[b]||(this.requestMessages[b]=[]);g.isArray(f)?f.forEach(function(a){this.addRequestMessage(b,a,d)},this):a?(f.uuid=f.uuid||this._generateUuid(),d&&(this.uuidClassifierMap[f.uuid]=d),this.requestMessages[b].push(f)):this.requestMessages[b]=f;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(b){var c={};this.getRequestMessageTypes().forEach(function(f){if(0===this.allowedMessages.length||
0<=this.allowedMessages.indexOf(f))c[f]=b[f]},this);return c},getResponseMessageTypes:function(){var b,c=[];for(b in this.responseMessages)this.responseMessages.hasOwnProperty(b)&&c.push(b);return c},getRequestMessageTypes:function(){var b,c=[];for(b in this.requestMessages)this.requestMessages.hasOwnProperty(b)&&c.push(b);return c},getMessageClassifier:function(b){return b&&b.uuid&&this.uuidClassifierMap.hasOwnProperty(b.uuid)?this.uuidClassifierMap[b.uuid]:""},send:function(){this._removeEmptyMessages();
this._isEmpty(this.requestMessages)?(this.deferred=new d,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(b,c){if(-1<this.getRequestMessageTypes().indexOf(b))if(c)for(var f in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(f)&&(c&&this.uuidClassifierMap[f]===c)&&this.ignoreMessageTypes.push(b+
":"+c);else this.ignoreMessageTypes.push(b)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var b in this.requestMessages)this.requestMessages.hasOwnProperty(b)&&g.isArray(this.requestMessages[b])&&0===f.getArrayLength(this.requestMessages[b])&&delete this.requestMessages[b]},_isEmpty:function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0},_generateUuid:function(){return f.generateUuid()}})})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window",
"mw-utils/deprecation"],function(h,d,g){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(c){var f=16*Math.random()|0;return("x"===c?f:f&3|8).toString(16)}).toUpperCase()},isImageData:function(c){return!!c&&(d.global.ImageData&&c instanceof d.global.ImageData||c.hasOwnProperty("width")&&c.hasOwnProperty("height")&&c.hasOwnProperty("data"))},isArray:function(c){g.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(c)},getArrayLength:function(c){var f=
0;if(!h.isArray(c))return!1;c.forEach(function(b){b&&(f+=1)});return f},isWhitespace:function(c){return/^\s+$/.test(c)},removeSurroundingNewLines:function(c){for(;"\n"===c.charAt(0);)c=c.substring(1);for(;"\n"===c.charAt(c.length-1);)c=c.substring(0,c.length-1);return c},getFirstUniqueElement:function(c,f){var b=null;f.some(function(f){if(-1===c.indexOf(f))return b=f,!0});return b},unionOfWordSets:function(c,f,b){c=this._stringToArray(c);f=this._stringToArray(f);c=this.unionOfArrays(c,f);return b?
c.join(" "):c},intersectionOfWordSets:function(c,f,b){c=this._stringToArray(c);f=this._stringToArray(f);c=this.intersectionOfArrays(c,f);return b?c.join(" "):c},differenceOfWordSets:function(c,f,b){c=this._stringToArray(c);f=this._stringToArray(f);c=this.unique(this.differenceOfArrays(c,f));return b?c.join(" "):c},unionOfArrays:function(c,f){return this.unique(c.concat(f))},intersectionOfArrays:function(c,f){return this.nonunique(c.concat(f))},differenceOfArrays:function(c,f){if(void 0===window.Map)return this._legacyDifferenceOfArrays(c,
f);var b,d,m,a=new Map,k=[];for(m=0;m<f.length;m++)a.set(f[m],null);for(m=0;m<c.length;m++)d=c[m],(b=a.has(d))||k.push(d);return k},_legacyDifferenceOfArrays:function(c,f){return this.unique(c.filter(function(b){return-1===f.indexOf(b)}))},unique:function(c){return c.filter(function(f,b){return c.indexOf(f)===b})},nonunique:function(c){return this.unique(c.filter(function(f,b){return c.indexOf(f)!==b}))},arrayEquals:function(c,f,b){if(c===f)return!0;if(c.length!==f.length)return!1;b||(b=function(a,
k){return a===k});for(var d=0,m=c.length;d<m;d++)if(!b(c[d],f[d]))return!1;return!0},removeEmptyElements:function(c){return c.filter(function(c){return!(""===c||null===c||void 0===c)})},_stringToArray:function(c){return!this._isString(c)?c:this.removeEmptyElements(c.split(" "))},_isString:function(c){return"string"===typeof c||c instanceof String}}})},"mw-utils/deprecation":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&
"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/_base/config","mw-log/Log"],function(d,g){var c={deprecated:function(c){var b,l;if((d.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c))l=window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",c.deprecated&&(b+=c.deprecated.module,c.deprecated.method&&(b+="."+c.deprecated.method+"()"),b+="."),c.replacement&&(b+=" Use "+c.replacement.module,
c.replacement.method&&(b+="."+c.replacement.method+"()"),b+=" instead."),c.removalVersion&&(b+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(b+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),c.additionalInformation&&(b+=" "+c.additionalInformation),g[l](b)},_isConfigValid:function(c){var b=!!c.deprecated&&"object"===h(c.deprecated)&&c.deprecated.hasOwnProperty("module");c.replacement&&(b=b&&"object"===h(c.replacement)&&c.replacement.hasOwnProperty("module"));
c.geckNumber&&(b=b&&"number"===typeof c.geckNumber);b||g.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(c,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return c})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(h,d,g,c){return d([],
{constructor:function(c){c=c||{};this.faultHandlers=c.faultHandlers||{};this.topLevelHandlers=c.topLevelHandlers||[];this.endPointLevelHandlers=c.endPointLevelHandlers||{}},registerFaultHandler:function(c,b,d){d&&(b=g.hitch(d,b));this.faultHandlers[c]=b},deregisterFaultHandler:function(c){delete this.faultHandlers[c]},registerTopLevelFaultHandler:function(c,b,d){d&&(b=g.hitch(d,b));if(g.isString(c)){if("*"===c)return c={matcher:c,handler:b},this.defaultTopLevelHandler=b,c;c=this._constructMatcherFromQuery(c)}c=
{matcher:c,handler:b};this.topLevelHandlers.push(c);return c},registerEndpointLevelFaultHandler:function(c,b,d,m){m&&(d=g.hitch(m,d));g.isString(b)&&(b=this._constructMatcherFromQuery(b));b={matcher:b,handler:d};this.endPointLevelHandlers[c]||(this.endPointLevelHandlers[c]=[]);this.endPointLevelHandlers[c].push(b);return b},deregisterTopLevelFaultHandler:function(c){var b=this.topLevelHandlers.indexOf(c);-1<b?this.topLevelHandlers.splice(b,1):"*"===c.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(c){var b=
[];c.split("||").forEach(function(c){c=g.trim(c);c=c.replace(/([\.])/g,"\\$1");c=c.replace(/\*/g,".*");b.push(RegExp("^"+c+"$"))});return function(c){return h.some(b,function(b){return b.test(c.faultCode||c.code||"")})}},handleFault:function(c){var b,d=function(a,k){var e;if(e=c.getMessageClassifier(k))if(e=[a,e].join(":"),this.faultHandlers[e])this.faultHandlers[e](c.fault,c.context)};for(b in c.requestMessages)if(c.requestMessages.hasOwnProperty(b)){if(this.faultHandlers[b])this.faultHandlers[b](c.fault,
c.context);var m=c.requestMessages[b];Array.isArray(m)&&m.forEach(g.hitch(this,d,b))}if(this.faultHandlers["*"])this.faultHandlers["*"](c.fault,c.context);this.endPointLevelHandlers[c.endPointName]?this._handleEndpointLevelFault(c):this._handleTopLevelFault(c)},_handleEndpointLevelFault:function(c){var b=!1,d=h.filter(this.endPointLevelHandlers[c.endPointName],function(b){return b.matcher.call(this,c.fault,c.context)},this);0<d.length&&d[0].handler&&(b=!0,d[0].handler.call(this,c.fault,c.context,
c));return b},_handleTopLevelFault:function(c){var b=h.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,c.fault,c.context)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,c.fault,c.context,c)},handleNonTransactionFault:function(c){var b=h.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,c)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,c)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),
function(h,d,g,c,f,b,l){return d([],{defaultMapping:b,constructor:function(b){b=b||{};this.defaultFactories=b.defaultFactories||{};this.mockHandlers=b.mockHandlers||{};this.mapping=b.mapping||this.defaultMapping;this.responseManager=b.responseManager},registerDefaultMessageFactory:function(b,a,k){k&&(a=c.hitch(k,a));this.defaultFactories[b]=a},deregisterDefaultMessageFactory:function(b){delete this.defaultFactories[b]},registerMockResponseGenerator:function(b,a,k){var e=this;a=c.hitch(k||this,a);
this.mockHandlers[b]=function(b,k){var c,f=l.construct(k);c=a(b,f);c||(c=new g,c.callback());c.addCallback(function(){e.responseManager._processResult(f)})}},deregisterMockResponseGenerator:function(b){delete this.mockHandlers[b]},sendMessage:function(b,a,k){var e={},c={};a=a||{};this._createAndFillTransactions(b,a,k,e,c);b=Object.keys(e);for(a=0;a<b.length;a+=1)k=b[a],this._callMocks(c[k]),e[k].send(),this.responseManager.handleTransaction(e[k])},_getTransaction:function(b,a){return l.construct({context:a,
computeToken:this.computeToken,endPointName:b})},_getMockTransaction:function(b,a,k){return l.construct({context:a,computeToken:this.computeToken,endPointName:b,uuid:k})},_createAndFillTransactions:function(b,a,k,e,c){var d,l,g=function(b){var k,d,m,l,g;k=f.getEndPointForMessageType(b);l=e[k];g=c[k];l||(l=this._getTransaction(k,a),g=this._getMockTransaction(k,a,l.uuid),e[k]=l,c[k]=g);if(this.defaultFactories[b]&&(k=this.defaultFactories[b](l.context)))d=b.split(":"),m=d[0],d=d.slice(1,d.length).join(":"),
this.mockHandlers[b]||l.addRequestMessage(m,k,d),g.addRequestMessage(m,k,d)},h,t;for(d in b)b.hasOwnProperty(d)&&(l=f.getEndPointForMessageType(d),h=c[l],t=e[l],e[l]||(t=this._getTransaction(l,a),h=this._getMockTransaction(l,a,t.uuid),e[l]=t,c[l]=h),l=[d,k].join(":"),!this.mockHandlers[d]&&!this.mockHandlers[l]&&t.addRequestMessage(d,b[d],k),h.addRequestMessage(d,b[d],k),this.mapping[l]?this.mapping[l].forEach(g,this):this.mapping[d]&&this.mapping[d].forEach(g,this))},_callMocks:function(b){var a,
k,e=b.context;delete b.context;var f=function(e,b){var k;if(k=a.getMessageClassifier(b))if(k=[e,k].join(":"),this.mockHandlers[k])this.mockHandlers[k]([b],a)};for(k in b.requestMessages)if(b.requestMessages.hasOwnProperty(k)){a=c.mixin({},b);a.context=e;if(this.mockHandlers.hasOwnProperty(k))this.mockHandlers[k](a.requestMessages[k],a);Array.isArray(a.requestMessages[k])?a.requestMessages[k].forEach(c.hitch(this,f,k)):f(k,a.requestMessages[k])}if(this.mockHandlers["*"])this.mockHandlers["*"](k,a.requestMessages[k],
a)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],
"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),
function(h,d,g,c,f,b,l){return d([],{constructor:function(b){b=b||{};this.responseHandlers=b.responseHandlers||{};this.faultManager=b.faultManager;this.transactions=b.transactions||[]},registerResponseHandler:function(b,a,k){k&&(a=f.hitch(k,a));this.responseHandlers[b]=a},deregisterResponseHandler:function(b){delete this.responseHandlers[b]},handleTransaction:function(b){this.transactions.push(b);b.deferred.addCallback(f.hitch(this,this._processAll,b));b.deferred.addCallback(f.hitch(this,this._processResult,
b));b.deferred.addErrback(f.hitch(this,this._processAll,b));b.deferred.addErrback(f.hitch(this,this._processFault,b))},_processAll:function(b){b=this.transactions.indexOf(b);0<=b&&this.transactions.splice(b,1)},_processResult:function(f){f.getResponseMessageTypes().forEach(function(a){var k=f.responseMessages[a],e=[];try{if(Array.isArray(k)){k.forEach(function(b){var k,c=f.getMessageClassifier(b);if(c){k=[a,c].join(":");var d=this,l=!1;f.getRequestMessageTypes().forEach(function(a){a=f.requestMessages[a];
Array.isArray(a)?a.forEach(function(a){d.responseHandlers[k]&&a.uuid===b.uuid&&(d.responseHandlers[k]([b],f.context),l=!0)}):d.responseHandlers[k]&&a.uuid===b.uuid&&(d.responseHandlers[k]([b],f.context),l=!0)});l||e.push(b)}else e.push(b)},this);if(0<e.length&&this.responseHandlers[a])this.responseHandlers[a](e,f.context);if(this.responseHandlers["*"])this.responseHandlers["*"](a,f.responseMessages[a],f.context)}}catch(d){b.error("Remote: Fault occurred while processing response.\nMessage: "+d.message+
"\nType: "+a+"\nResponse: "+c.toJson(k))}},this);this._processUdcResponses(f);f.fault&&this.faultManager.handleFault(f)},_processUdcResponses:function(b){if(!l.isEndpointMessageContainerBased(b.endPointName)){var a=Object.keys(b.requestMessages)[0];if(this.responseHandlers[a])this.responseHandlers[a](b.responseMessages)}},_processFault:function(b){this.faultManager.handleFault(b)}})})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(h,d){var g=!1,c={_serviceData:{},
getServiceRegistryEndpoint:function(f){if(c._serviceData.serviceregistry){var b,d;b=c._serviceData.serviceregistry.length;for(d=0;d<b;d+=1)if(c._serviceData.serviceregistry[d].name===f)return c._serviceData.serviceregistry[d].endpoint}return""}};return{load:function(f,b,d){g?d(c):h("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!b.async}).then(function(b){c._serviceData=b;g=!0;d(c)},function(b){c._serviceData={};g=!0;d(c)})}}})},"mw-dialog-utils/DialogUtils":function(){define("dijit/_Widget dijit/form/Button dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on ./DialogDisplayManager mw-log/Log mw-utils/Utils dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){q.deprecated({deprecated:{module:"MW/dialog/DialogUtils"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});var r={dismiss:function(a,e){e.close()}},s=g(h,{constructor:function(a){a=a||{};a.message=a.message||"This space intentionally left blank";a.buttons=a.buttons||{name:"ok",label:this._getLocalizedName("ok"),buttonHandler:{handler:"dismiss"}};a.options=a.options||{};c.isArray(a.buttons)||(a.buttons=[a.buttons])},buildRendering:function(){this.inherited(arguments);
this._setDialogOptions(this.options);this._addMessage(this.message);this._addButtons(this.buttons)},startup:function(){c.isFunction(this.message.startup)&&this.message.startup();this.buttonWidgets.forEach(function(a){a.startup()})},destroy:function(){a.emit(this.domNode,"restorefocus",{bubbles:!0});this.inherited(arguments);if(this.message&&c.isFunction(this.message.onClose))this.message.onClose()},destroyRecursive:function(){this.inherited(arguments);delete this.message;this.buttonWidgets&&delete this.buttonWidgets},
_setDialogOptions:function(a){b.add(this.domNode,a.dialogClass||"messageDialog");a&&a["data-test-id"]&&f.set(this.domNode,"data-test-id",a["data-test-id"])},_addMessage:function(a){c.isString(a)?(f.set(this.domNode,"innerHTML",a),m.set(this.domNode,"whiteSpace","pre-line")):c.isFunction(a.placeAt)?a.placeAt(this.domNode,"first"):l.place(a,this.domNode,"first")},_addButtons:function(a){this.buttonWidgets=[];"none"!==this.buttons.toString().toLowerCase()&&(this.buttonContainer=this._createButtons(a),
l.place(this.buttonContainer,this.domNode,"last"))},_createButtons:function(a){var e=l.create("div",{"class":"buttonContainer"});a=this._convertButtonsToNewFormat(a);a.forEach(function(a){var b=this._createButton(a);a["data-testid"]&&f.set(b.domNode,"data-testid",a["data-testid"]);b.placeAt(e,"last");this.buttonWidgets.push(b)},this);return e},_convertButtonsToNewFormat:function(a){var b=[],k;a.forEach(function(a){var c;if(!a.name||!a.buttonHandler||!a.buttonHandler.handler){e.warn("buttons format is deprecated: "+
a+' expected format: {name: "ok", label: "OK", buttonHandler: {handler: function(){}, scope:}}');k={};for(c in a)a.hasOwnProperty(c)&&(k.name=c,k.buttonHandler={},k.buttonHandler.handler=a[c]);b.push(k)}else b.push(a)});return b},_createButton:function(a){var e=a.label||this._getLocalizedName(a.name);a=this._getHandlerFunction(a);return new d({label:e,onClick:a})},_getLocalizedName:function(a){return c.getObject(a,!1,p)||a},_getHandlerFunction:function(a){var e=a.buttonHandler.handler,b=a.buttonHandler.scope,
k;if(c.isString(e))if(r.hasOwnProperty(e))k=r[e];else throw Error("Unknown button handler: "+k);else k=e;return k=b?c.hitch(b,k,a,this):c.hitch(this,k,a,this)}}),t=g(h,{constructor:function(a){this.message=a},buildRendering:function(){this.inherited(arguments);this._addMessage(this.message)},_addMessage:function(a){f.set(this.domNode,"innerHTML",a);m.set(this.domNode,"whiteSpace","pre-line")}});h=null;return h=new (g([],{constructor:function(a){this.layoutInstance=null},_getLayoutInstance:function(){this.layoutInstance||
(this.layoutInstance=new k);return this.layoutInstance},setLayout:function(a){this.layoutInstance=a},_displayWidget:function(e,b,k){var f,d,l=this;b={title:b};f=k.layoutId||k.type+n.generateUuid();d=k.layoutId||k.type;c.mixin(b,k);if("string"===typeof e||!e)e=new t(e);k.dismissOnClick&&a(e,"click",function(){e.close()});e.onClose=function(){k.closeCallBack&&"function"===typeof k.closeCallBack&&k.closeCallBack();l._getLayoutInstance().removeWidget(f);return!0};e.onCancel=function(){k.cancelCallBack&&
"function"===typeof k.cancelCallBack&&k.cancelCallBack();e.close()};this._getLayoutInstance().addWidget(f,d,e,b);return e},displayModalDialog:function(a,e,b,k){k=k||{};"fault"===k.dialogType?(k.dialogClass=k.dialogClass||"faultMessage",k.layoutId=k.layoutId||"faultDialog"):"warn"===k.dialogType?(k.dialogClass=k.dialogClass||"warnMessage",k.layoutId=k.layoutId||"warnDialog"):k.dialogType=k.dialogType||"messageDialog";a=new s({message:a,buttons:b,options:k});k.isModal=!0;k.type=k.dialogType;return this._displayWidget(a,
e,k)},displayNonModalDialog:function(a,e,b){b=b||{};b.type="floatingPane";return this._displayWidget(e,a,b,b.type)},_getModalDialogWidget:function(){return s}}))})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p){function q(){}function r(a){return function(e,
b,k,c){return e&&"string"==typeof b&&e[b]==q?e.on(b.substring(2).toLowerCase(),l.hitch(k,c)):a.apply(g,arguments)}}h.around(g,"connect",r);b.connect&&h.around(b,"connect",r);h=c("dijit._Widget",[e,n,p],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(a){this._toConnect={};for(var e in a)this[e]===q&&(this._toConnect[e.replace(/^on/,"").toLowerCase()]=a[e],delete a[e])},postCreate:function(){this.inherited(arguments);
for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,e){return this[this._onMap(a)]===q?g.connect(this.domNode,a.toLowerCase(),this,e):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,e){b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,e)},attr:function(a,e){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,
arguments):this.get(a)},getDescendants:function(){b.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?m("[widgetId]",this.containerNode).map(k.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});f("dijit-legacy-requires")&&a(0,function(){require(["dijit/_base"])});return h})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),
function(h,d,g,c,f,b){h=c("dijit._OnDijitClickMixin",null,{connect:function(c,f,a){return this.inherited(arguments,[c,"ondijitclick"==f?b:f,a])}});h.a11yclick=b;return h})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(h,d,g,c,f){var b=f.doc.documentElement;f=c("ie");var l=c("trident"),m=c("opera"),a=Math.floor,k=c("ff"),e=h.boxModel.replace(/-/,""),m={dj_quirks:c("quirks"),dj_opera:m,dj_khtml:c("khtml"),dj_webkit:c("webkit"),dj_safari:c("safari"),
dj_chrome:c("chrome"),dj_edge:c("edge"),dj_gecko:c("mozilla"),dj_ios:c("ios"),dj_android:c("android")};f&&(m.dj_ie=!0,m["dj_ie"+a(f)]=!0,m.dj_iequirks=c("quirks"));l&&(m.dj_trident=!0,m["dj_trident"+a(l)]=!0);k&&(m["dj_ff"+a(k)]=!0);m["dj_"+e]=!0;var n="",p;for(p in m)m[p]&&(n+=p+" ");b.className=d.trim(b.className+" "+n);g(function(){if(!h.isBodyLtr()){var a="dj_rtl dijitRtl "+n.replace(/ /g,"-rtl ");b.className=d.trim(b.className+" "+a+"dj_rtl dijitRtl "+n.replace(/ /g,"-rtl "))}});return c})},
"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(h,d,g,c){g(function(){d("highcontrast")&&h.add(c.body(),"dijit_a11y")});return d})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(h,d,g,c,f,b,l){f.add("highcontrast",function(){var b=l.doc.createElement("div");try{b.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(d.blankGif||h.toUrl("./resources/blank.gif"))+'");';l.body().appendChild(b);var a=c.getComputedStyle(b),k=a.backgroundImage;return a.borderTopColor==a.borderRightColor||k&&("none"==k||"url(invalid-url:)"==k)}catch(e){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+e.toString()),!1}finally{8>=f("ie")?b.outerHTML="":l.body().removeChild(b)}});b(function(){f("highcontrast")&&g.add(l.body(),"dj_a11y")});return f})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../_mw/utils/deprecation ../a11yclick".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){e.deprecated({deprecated:{module:"dijit/form/Button"},replacement:{module:"mw-form/PushButton"},geckNumber:1352405});c("dijit-legacy-requires")&&l(0,function(){h(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return d("dijit.form.Button",[m,a],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:k,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&
this.valueNode.setAttribute("name",a)},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&!this.label&&(this.label=b.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(a){this.containerNode&&g.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",a)},onLabelSet:function(){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=b.trim(this.containerNode.innerText||this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(h,d,g,c,f,b,l,m){d("dijit-legacy-requires")&&c(0,function(){require(["dijit/form/_FormValueWidget"])});
return h("dijit.form._FormWidget",[f,l,b,m],{setDisabled:function(a){g.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){g.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){g.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name&&!d("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(h,d,g,c,f,b,l,m,a,k){return d("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,
scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?g.set(this.focusNode,"disabled",a):this.focusNode.setAttribute("aria-disabled",a?"true":"false");this.valueNode&&g.set(this.valueNode,"disabled",a);a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",
h.forEach(f.isArray(a)?a:[a],function(a){a=this[a];m("webkit")||k.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(e){if("mouse"==e&&this.isFocusable())var b=this.own(l(this.focusNode,"focus",function(){c.remove();b.remove()}))[0],k=m("pointer-events")?"pointerup":m("MSPointer")?"MSPointerUp":m("touch-events")?"touchend, mouseup":"mouseup",c=this.own(l(this.ownerDocumentBody,k,f.hitch(this,
function(a){c.remove();b.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){a.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=c.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>
b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(h,d,g,c){return h("dijit.form._ButtonMixin",null,{label:"",type:"button",__onClick:function(c){c.stopPropagation();
c.preventDefault();this.disabled||this.valueNode.click(c);return!1},_onClick:function(f){if(this.disabled)return f.stopPropagation(),f.preventDefault(),!1;!1===this.onClick(f)&&f.preventDefault();var b=f.defaultPrevented;if(!b&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var d=this.domNode;d.parentNode;d=d.parentNode){var m=c.byNode(d);if(m&&"function"==typeof m._onSubmit){m._onSubmit(f);f.preventDefault();b=!0;break}}return!b},postCreate:function(){this.inherited(arguments);d.setSelectable(this.focusNode,
!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",c);(this.containerNode||this.focusNode).innerHTML=c;this.onLabelSet()},onLabelSet:function(){}})})},"dijit/_mw/utils/deprecation":function(){define(["dojo/_base/config"],function(h){var d={warn:function(c){console&&console.warn&&console.warn(c)},error:function(c){console&&console.error&&console.error(c)}},g={deprecated:function(c){var f,b;if((h.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c))b=window.showDeprecationsAsErrors||
c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,f="DEPRECATED: ",c.deprecated&&(f+=c.deprecated.module,c.deprecated.method&&(f+="."+c.deprecated.method+"()"),f+="."),c.replacement&&(f+=" Use "+c.replacement.module,c.replacement.method&&(f+="."+c.replacement.method+"()"),f+=" instead."),c.removalVersion&&(f+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(f+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),c.additionalInformation&&(f+=
" "+c.additionalInformation),d[b](f)},_isConfigValid:function(c){var f=!!c.deprecated&&"object"===typeof c.deprecated&&c.deprecated.hasOwnProperty("module");c.replacement&&(f=f&&"object"===typeof c.replacement&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(f=f&&"number"===typeof c.geckNumber);f||d.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return f}};Object.defineProperties(g,{WARN:{value:"warn",
enumerable:!0},ERROR:{value:"error",enumerable:!0}});return g})},"mw-dialog-utils/DialogDisplayManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr mw-store-utils/InMemoryStore ./DialogDisplayUtilities mw-deprecation-utils/deprecation".split(" "),function(h,d,g,c,f,b,l){l.deprecated({deprecated:{module:"MW/dialog/DialogDisplayManager"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return d([b],{constructor:function(b){this.dialogWidgetStore=
new f},addWidget:function(b,a,k,e){a={};a.widget=k;a.position=e.position;a.closable=!1===e.closable?!1:!0;a.autofocus=!0;a.title=e.title;a.id=b;a.style=e.style;a.dialogClass=e.dialogClass;a.parentDiv=e.parentDiv;a["data-testid"]=e["data-testid"];e.isModal?this._displayModalDialog(a):(a.resizable=e.resizable,this._displayNonModalDialog(a));this.dialogWidgetStore.newItem(a)},_displayModalDialog:function(b){b.wrapper=this.createModalDialogWrapper(b);b.wrapper.show();b.widget.startup()},_displayNonModalDialog:function(b){b.wrapper=
this.createNonModalDialogWrapper(b);b.widget.close||(b.widget.close=function(){b.wrapper.close()});this.startNonModalDialogAndAddResizeHandlers(b.wrapper)},removeWidget:function(b){var a=null;this.dialogWidgetStore.fetch({query:{id:b},onItem:function(b){a=b}});a&&(a.wrapper.destroyRecursive(),this.dialogWidgetStore.deleteItem(a))},removeWidgetsWithParentId:function(){},removeWidgetsWithLayoutId:function(){},showWidget:function(){},focusWidget:function(){},disableWidget:function(){},enableWidget:function(){},
updateWidget:function(){},updateWidgetsWithLayoutId:function(){},ensureParentExistsInStore:function(){}})})},"mw-store-utils/InMemoryStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/data/util/filter","dojo/data/util/simpleFetch","mw-utils/Utils"],function(h,d,g,c,f){h=h([],{_storeRef:"_S",_timestampProp:"_timestamp",constructor:function(b){b=b||{};this.items=[];b.items&&b.items.forEach(function(b){this.newItem(b)},this)},_fetchItems:function(b,c){var f=[],a,k,e,d,p,h,r={};if(b.query){k=
b.queryOptions?b.queryOptions.ignoreCase:!1;for(a in b.query)b.query.hasOwnProperty(a)&&(h=b.query[a],"string"===typeof h&&/[\*\?]+/.test(h)?r[a]=g.patternToRegExp(h,k):h instanceof RegExp&&(r[a]=h));p=this.items.length;for(k=0;k<p;k+=1){e=!0;d=this.items[k];if(null===d)e=!1;else for(a in b.query)b.query.hasOwnProperty(a)&&(h=b.query[a],this._containsValue(d,a,h,r[a])||(e=!1));e&&f.push(d)}}else this.items&&this.items.forEach(function(a){null!==a&&f.push(a)});c(f,b)},getFeatures:function(){return{"dojo.data.api.Read":!0,
"dojo.data.api.Write":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Identity":!0}},getAttributes:function(b){this._assertIsItem(b);var c=[],f;for(f in b)b.hasOwnProperty(f)&&(f!==this._storeRefPropName&&f!==this._loadedPropName&&f!==this._filePathPropName)&&c.push(f);return c},isItem:function(b){return b&&b[this._storeRef]===this},isItemLoaded:function(b){return this.isItem(b)},loadItem:function(){},getValues:function(b,c){this._assertIsItem(b);if(!d.isString(c))throw Error("MW.utils.InMemoryStore: invalid attribute");
return b.hasOwnProperty(c)?[b[c]]:[]},getValue:function(b,c){var f=this.getValues(b,c);return 0===f.length?void 0:f[0]},hasAttribute:function(b,c){return 0<this.getValues(b,c).length},containsValue:function(b,c,f){var a;"string"===typeof f&&(a=g.patternToRegExp(f,!1));return this._containsValue(b,c,f,a)},_containsValue:function(b,c,f,a){var k=this.getValues(b,c),e=k.length;for(b=0;b<e;b+=1)if(c=k[b],a&&!d.isObject(c)&&null!==c&&c.toString().match(a)||f===c)return!0;return!1},setValues:function(b,
c,f){var a;this._assertIsItem(b);if(!d.isString(c))throw Error("MW.utils.InMemoryStore: invalid attribute");a=b[c];if(a!==f||"store"===c)b[c]=f,this.onSet(b,c,a,f)},setValue:function(b,c,f){this.setValues(b,c,f)},newItem:function(b){var c={id:f.generateUuid()};c[this._timestampProp]=new Date;c[this._storeRef]=this;d.mixin(c,b);this.items.push(c);this.onNew(c);return c},deleteItem:function(b){var c;this._assertIsItem(b);c=this.items.indexOf(b);0<=c&&this.items.splice(c,1);this.onDelete(b)},getIdentity:function(b){return b.id},
save:function(b){},revert:function(){return!1},isDirty:function(b){return!1},onNew:function(){},onDelete:function(){},onSet:function(){},_assertIsItem:function(b){if(!this.isItem(b))throw Error("MW.utils.InMemoryStore: Invalid argument, item is not in the store.");}});d.extend(h,c);return h})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(h){var d={};h.setObject("dojo.data.util.filter",d);d.patternToRegExp=function(d,c){for(var f="^",b=null,l=0;l<d.length;l++)switch(b=d.charAt(l),
b){case "\\":f+=b;l++;f+=d.charAt(l);break;case "*":f+=".*";break;case "?":f+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":f+="\\";default:f+=b}f+="$";return c?RegExp(f,"mi"):RegExp(f,"m")};return d})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(h,d,g){var c={};h.setObject("dojo.data.util.simpleFetch",c);c.errorHandler=function(c,b){b.onError&&b.onError.call(b.scope||
d.global,c,b)};c.fetchHandler=function(c,b){var l=b.abort||null,m=!1,a=b.start?b.start:0,k=b.count&&Infinity!==b.count?a+b.count:c.length;b.abort=function(){m=!0;l&&l.call(b)};var e=b.scope||d.global;b.store||(b.store=this);b.onBegin&&b.onBegin.call(e,c.length,b);b.sort&&c.sort(g.createSortFunction(b.sort,this));if(b.onItem)for(var n=a;n<c.length&&n<k;++n){var p=c[n];m||b.onItem.call(e,p,b)}b.onComplete&&!m&&(n=null,b.onItem||(n=c.slice(a,k)),b.onComplete.call(e,n,b))};c.fetch=function(c){c=c||{};
c.store||(c.store=this);this._fetchItems(c,h.hitch(this,"fetchHandler"),h.hitch(this,"errorHandler"));return c};return c})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(h){var d={};h.setObject("dojo.data.util.sorter",d);d.basicComparator=function(d,c){var f=-1;null===d&&(d=void 0);null===c&&(c=void 0);if(d==c)f=0;else if(d>c||null==d)f=1;return f};d.createSortFunction=function(g,c){function f(a,e,b,k){return function(c,f){var d=k.getValue(c,a),l=k.getValue(f,a);return e*
b(d,l)}}for(var b=[],l,m=c.comparatorMap,a=d.basicComparator,k=0;k<g.length;k++){l=g[k];var e=l.attribute;if(e){l=l.descending?-1:1;var n=a;m&&("string"!==typeof e&&"toString"in e&&(e=e.toString()),n=m[e]||a);b.push(f(e,l,n,c))}}return function(a,e){for(var k=0;k<b.length;){var c=b[k++](a,e);if(0!==c)return c}return 0}};return d})},"mw-dialog-utils/DialogDisplayUtilities":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/keys dojo/on dojo/window ./Dialog ./FloatingPane mw-dnd/BoundedMover mw-deprecation-utils/deprecation".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){q.deprecated({deprecated:{module:"MW/dialog/DialogDisplayUtilities"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return d([],{constructor:function(a){},createModalDialogWrapper:function(b){var k;b.dialogClass&&(b.dialogClass=g.trim(b.dialogClass)+"Box dialog");k=new e({title:b.title||"",id:b.id+"Dialog",style:b.style,"class":(b.dialogClass||"dialog")+(b["class"]?" "+b["class"]:""),closable:b.closable,duration:1,refocus:!1!==b.refocus,autofocus:!1!==
b.autofocus});k._onKey=function(){this.inherited("_onKey",arguments)};k.show=function(){var e;b.position&&(0<=b.position.x&&0<=b.position.y)&&this.placeDialogAt(b.position);l.set(this.domNode,{opacity:0,display:""});e=this.inherited("show",arguments);this.closable||l.set(this.closeButtonNode,{display:"none"});this.dombody=document.body;this.handleBodyKeyPress=a(this.dombody,"click",g.hitch(this,this.handleFocus));this._dialogShowPromise=e;e.then(function(){b.wrapper.closeButtonNode.setAttribute("tabindex",
"0")});return e};b.widget&&(b.widget.close=function(){k._dialogShowPromise&&!k._dialogShowPromise.isResolved()?k._dialogShowPromise.then(function(){k.hide()}):k.hide()});this._addWrapperAndWidgetEvents(k,b.widget);k.set("content",b.widget);b["data-testid"]&&f.set(k.domNode,"data-testid",b["data-testid"]);k.onHide=function(){k.onClose()};return k},createNonModalDialogWrapper:function(a,e,k,d){a.parentDiv=e||a.parentDiv||a.id+"floatingParentDiv";c.byId(a.parentDiv)||b.create("div",{id:a.parentDiv},
document.body);a.dialogClass&&(a.dialogClass=g.trim(a.dialogClass));e=new n({title:a.title||"","class":a.dialogClass||"",id:d||a.id,resizable:!1!==a.resizable,dockable:!1,style:k||a.style},c.byId(a.parentDiv));e.duration=500;this._addWrapperAndWidgetEvents(e,a.widget);e.set("content",a.widget);a["data-testid"]&&f.set(e.domNode,"data-testid",a["data-testid"]);return e},startNonModalDialogAndAddResizeHandlers:function(a){var e;a.startup();a.bringToTop();a.show();e=k.getBox();a._moveable.mover=p;a._resizeHandle&&
(a._resizeHandle.constrainMax=!0,a._resizeHandle.maxSize=e)},_addWrapperAndWidgetEvents:function(a,e){a.onClose=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return e.onClose&&e.onClose(arguments)};a.onCancel=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return e.onCancel&&e.onCancel(arguments)};a.onShow=function(){return e.onShow&&e.onShow(arguments)};a.onFocus=function(){return e.onFocus&&e.onFocus(arguments)};a.onBlur=function(){return e.onBlur&&e.onBlur(arguments)}}})})},
"mw-dialog-utils/Dialog":function(){define("dijit/Dialog dijit/focus dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dnd/Moveable dojo/dom-geometry dojo/on dojo/window mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){n.deprecated({deprecated:{module:"MW/dialog/Dialog"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return g([h],{_userPreferredPosition:null,_setTitleAttr:{node:"titleNode",type:"textContent"},
postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary");this.closeButtonNode.title=e.close},setMover:function(a){this._mover=a},_setup:function(){this.inherited(arguments);this.titleBar&&this.draggable&&(this._moveable.destroy(),this._moveable=new b(this.domNode,{handle:this.titleNode}),f.after(this._moveable,"onMoveStop",c.hitch(this,"_endDrag"),!0))},show:function(){var a=this.inherited(arguments);this._moveable.mover=this._mover||k;this.own(m(this.domNode,
"click",c.hitch(this,this.handleFocus)));return a},isTop:function(){return h._DialogLevelManager.isTop(this)},handleFocus:function(){this.open&&(this.isTop()&&(!this.focused||!d.curNode))&&this.focus()},placeDialogAt:function(a){a&&(this._relativePosition={x:a.x,y:a.y})},resize:function(){var e,b,k=a.getBox(this.ownerDocument);b=l.position(this.domNode);if(this._userPreferredPosition=this._relativePosition?this._relativePosition:this._userPreferredPosition)e=this._userPreferredPosition.x+b.w,b=this._userPreferredPosition.y+
b.h,e>k.w||b>k.h?delete this._relativePosition:this._relativePosition=this._userPreferredPosition;this.inherited("resize",arguments)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O){function S(){}var M=new f;M.resolve(!0);v=c("dijit._DialogBase",[y,B,D,A],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:v.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=e.getLocalization("dijit","common");p.mixin(this,a);this.inherited(arguments)},postCreate:function(){a.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);g.after(this,"onExecute",p.hitch(this,"hide"),!0);g.after(this,"onCancel",p.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&C.isTop(this)&&
(this._getFocusItems(),w.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();w.focus(this._firstFocusItem)},_endDrag:function(){var a=m.position(this.domNode),e=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),e.h-a.h);a.x=Math.min(Math.max(a.x,0),e.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==s("ie")?x:u)(a,{handle:this.titleBar}),g.after(this._moveable,
"onMoveStop",p.hitch(this,"_endDrag"),!0)):l.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":d.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:p.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!l.contains(this.ownerDocumentBody,"dojoMove")){var e=this.domNode,b=t.getBox(this.ownerDocument),k=this._relativePosition,c=m.position(e),f=Math.floor(b.l+(k?Math.min(k.x,b.w-c.w):(b.w-
c.w)/2)),b=Math.floor(b.t+(k?Math.min(k.y,b.h-c.h):(b.h-c.h)/2));a.set(e,{left:f+"px",top:b+"px"})}},_onKey:function(a){if(a.keyCode==n.TAB){this._getFocusItems();var e=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):e==this._firstFocusItem&&a.shiftKey?(w.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):e==this._lastFocusItem&&!a.shiftKey&&(w.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==
n.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return M.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),C.hide(this));var e=t.get(this.ownerDocument);this._modalconnects.push(q(e,"scroll",p.hitch(this,"resize",null)));this._modalconnects.push(q(this.domNode,"keydown",p.hitch(this,"_onKey")));a.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var b;this._fadeInDeferred=new f(p.hitch(this,function(){b.stop();delete this._fadeInDeferred}));this._fadeInDeferred.then(void 0,S);e=this._fadeInDeferred.promise;b=k.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:p.hitch(this,function(){C.show(this,this.underlayAttrs)}),onEnd:p.hitch(this,function(){this.autofocus&&C.isTop(this)&&(this._getFocusItems(),w.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);
delete this._fadeInDeferred})}).play();return e},hide:function(){if(!this._alreadyInitialized||!this.open)return M.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new f(p.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(void 0,S);this._fadeOutDeferred.then(p.hitch(this,"onHide"));var e=this._fadeOutDeferred.promise;a=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,function(){this.domNode.style.display=
"none";C.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return e},resize:function(e){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!e){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle),d.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(e){e&&a.set(e,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=t.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var k=m.position(this.domNode);k.w>=b.w||k.h>=b.h?(e={w:Math.min(k.w,b.w),h:Math.min(k.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(e){m.setMarginBox(this.domNode,e);b=[];this.titleBar&&b.push({domNode:this.titleBar,
region:"top"});this.actionBarNode&&b.push({domNode:this.actionBarNode,region:"bottom"});k={domNode:this.containerNode,region:"center"};b.push(k);var c=I.marginBox2contentBox(this.domNode,e);I.layoutChildren(this.domNode,c,b);this._singleChild?(b=I.marginBox2contentBox(this.containerNode,k),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!s("touch")&&!e&&this._position()}},_layoutChildren:function(){d.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();C.hide(this);this.inherited(arguments)}});var J=c("dijit.Dialog",[G,v],{});J._DialogBase=v;var C=J._DialogLevelManager={_beginZIndex:950,show:function(e,b){E[E.length-1].focus=w.curNode;var k=E[E.length-1].dialog?E[E.length-1].zIndex+2:J._DialogLevelManager._beginZIndex;
a.set(e.domNode,"zIndex",k);H.show(b,k-1);E.push({dialog:e,underlayAttrs:b,zIndex:k})},hide:function(a){if(E[E.length-1].dialog==a){E.pop();var e=E[E.length-1];1==E.length?H.hide():H.show(e.underlayAttrs,e.zIndex-1);if(a.refocus){a=e.focus;if(e.dialog&&(!a||!b.isDescendant(a,e.dialog.domNode)))e.dialog._getFocusItems(),a=e.dialog._firstFocusItem;if(a)try{a.focus()}catch(k){}}}else e=d.indexOf(d.map(E,function(a){return a.dialog}),a),-1!=e&&E.splice(e,1)},isTop:function(a){return E[E.length-1].dialog==
a}},E=J._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];w.watch("curNode",function(a,e,b){a=E[E.length-1].dialog;if(b&&a&&!a._fadeOutDeferred&&b.ownerDocument==a.ownerDocument){do if(b==a.domNode||l.contains(b,"dijitPopup"))return;while(b=b.parentNode);a.focus()}});s("dijit-legacy-requires")&&r(0,function(){h(["dijit/TooltipDialog"])});return J})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){return d("dojo.dnd.Moveable",[b],{handle:"",delay:0,skip:!1,constructor:function(b,k){this.node=c.byId(b);k||(k={});this.handle=k.handle?c.byId(k.handle):null;this.handle||(this.handle=this.node);this.delay=0<k.delay?k.delay:0;this.skip=k.skip;this.mover=k.mover?k.mover:e;this.events=[l(this.handle,a.press,g.hitch(this,"onMouseDown")),l(this.handle,"dragstart",g.hitch(this,"onSelectStart")),l(this.handle,"selectstart",g.hitch(this,"onSelectStart"))]},markupFactory:function(a,
e,b){return new b(e,a)},destroy:function(){h.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(e){if(!this.skip||!k.isFormElement(e)){if(this.delay)this.events.push(l(this.handle,a.move,g.hitch(this,"onMouseMove")),l(this.handle.ownerDocument,a.release,g.hitch(this,"onMouseUp"))),this._lastX=e.pageX,this._lastY=e.pageY;else this.onDragDetected(e);e.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-
this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var e=0;2>e;++e)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!k.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){m.publish("/dnd/move/start",a);f.add(n.body(),"dojoMove");f.add(this.node,"dojoMoveItem")},onMoveStop:function(a){m.publish("/dnd/move/stop",
a);f.remove(n.body(),"dojoMove");f.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,e){this.onMoving(a,e);var b=a.node.style;b.left=e.l+"px";b.top=e.t+"px";this.onMoved(a,e)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(h,d,g,c){var f=g.getObject("dojo.dnd",!0);f.getCopyKeyState=function(b){return b[h("mac")?"metaKey":"ctrlKey"]};f._uniqueId=0;f.getUniqueId=function(){var b;
do b=d._scopeName+"Unique"+ ++f._uniqueId;while(c.byId(b));return b};f._empty={};f.isFormElement=function(b){b=b.target;3==b.nodeType&&(b=b.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+b.tagName.toLowerCase()+" ")};return f})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p){return d("dojo.dnd.Mover",
[a],{constructor:function(a,c,f){function d(a){a.preventDefault();a.stopPropagation()}this.node=b.byId(a);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=f;a=a.ownerDocument;this.events=[k(a,e.move,g.hitch(this,"onFirstMove")),k(a,e.move,g.hitch(this,"onMouseMove")),k(a,e.release,g.hitch(this,"onMouseUp")),k(a,"dragstart",d),k(a.body,"selectstart",d)];p.autoScrollStart(a);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var e=this.marginBox;
this.host.onMove(this,{l:e.l+a.pageX,t:e.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(c("webkit")&&c("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var e=this.node.style,b,k=this.host;switch(e.position){case "relative":case "absolute":b=Math.round(parseFloat(e.left))||0;e=Math.round(parseFloat(e.top))||0;break;default:e.position="absolute";e=l.getMarginBox(this.node);
b=f.doc.body;var c=m.getComputedStyle(b),d=l.getMarginBox(b,c),c=l.getContentBox(b,c);b=e.l-(c.l-d.l);e=e.t-(c.t-d.t)}this.marginBox.l=b-this.marginBox.l;this.marginBox.t=e-this.marginBox.t;if(k&&k.onFirstMove)k.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){h.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(h,d,g,c,f,b){var l={};h.setObject("dojo.dnd.autoscroll",l);l.getViewport=b.getBox;l.V_TRIGGER_AUTOSCROLL=32;l.H_TRIGGER_AUTOSCROLL=32;l.V_AUTOSCROLL_VALUE=16;l.H_AUTOSCROLL_VALUE=16;var m,a=g.doc,k=Infinity,e=Infinity;l.autoScrollStart=function(c){a=c;m=b.getBox(a);c=g.body(a).parentNode;k=Math.max(c.scrollHeight-m.h,0);e=Math.max(c.scrollWidth-m.w,0)};l.autoScroll=function(c){var f=m||b.getBox(a),d=g.body(a).parentNode,r=0,h=0;c.clientX<l.H_TRIGGER_AUTOSCROLL?r=-l.H_AUTOSCROLL_VALUE:c.clientX>
f.w-l.H_TRIGGER_AUTOSCROLL&&(r=Math.min(l.H_AUTOSCROLL_VALUE,e-d.scrollLeft));c.clientY<l.V_TRIGGER_AUTOSCROLL?h=-l.V_AUTOSCROLL_VALUE:c.clientY>f.h-l.V_TRIGGER_AUTOSCROLL&&(h=Math.min(l.V_AUTOSCROLL_VALUE,k-d.scrollTop));window.scrollBy(r,h)};l._validNodes={div:1,p:1,td:1};l._validOverflow={auto:1,scroll:1};l.autoScrollNodes=function(a){for(var e,b,k,m,h,u,x=0,w=0,v=a.target;v;){if(1==v.nodeType&&v.tagName.toLowerCase()in l._validNodes){k=f.getComputedStyle(v);m=k.overflow.toLowerCase()in l._validOverflow;
h=k.overflowX.toLowerCase()in l._validOverflow;u=k.overflowY.toLowerCase()in l._validOverflow;if(m||h||u)e=c.getContentBox(v,k),b=c.position(v,!0);if(m||h){k=Math.min(l.H_TRIGGER_AUTOSCROLL,e.w/2);h=a.pageX-b.x;if(d("webkit")||d("opera"))h+=g.body().scrollLeft;x=0;0<h&&h<e.w&&(h<k?x=-k:h>e.w-k&&(x=k),v.scrollLeft+=x)}if(m||u){m=Math.min(l.V_TRIGGER_AUTOSCROLL,e.h/2);u=a.pageY-b.y;if(d("webkit")||d("opera"))u+=g.body().scrollTop;w=0;0<u&&u<e.h&&(u<m?w=-m:u>e.h-m&&(w=m),v.scrollTop+=w)}if(x||w)return}try{v=
v.parentNode}catch(z){v=null}}l.autoScroll(a)};return l})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(h,d){var g=d.prototype.onMove;return h("dojo.dnd.TimedMoveable",d,{timeout:40,constructor:function(c,f){f||(f={});f.timeout&&("number"==typeof f.timeout&&0<=f.timeout)&&(this.timeout=f.timeout)},onMoveStop:function(c){c._timer&&(clearTimeout(c._timer),g.call(this,c,c._leftTop));d.prototype.onMoveStop.apply(this,arguments)},onMove:function(c,f){c._leftTop=
f;if(!c._timer){var b=this;c._timer=setTimeout(function(){c._timer=null;g.call(b,c,c._leftTop)},this.timeout)}}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(h,d,g,c,f){var b={};h.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(f){b[f]=c[f]});g.mixin(b,{defaultDuration:d.defaultDuration||200});g.mixin(f,b);return f})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(h,d,g,c,f,b){return d("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(b){var c=[];h.forEach(b||this.getChildren(),function(a){"value"in a?c.push(a):c=c.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return c},reset:function(){h.forEach(this._getDescendantFormWidgets(),function(b){b.reset&&b.reset()})},validate:function(){var c=!1;return h.every(h.map(this._getDescendantFormWidgets(),function(f){f._hasBeenBlurred=!0;var a=f.disabled||!f.validate||
f.validate();!a&&!c&&(b.scrollIntoView(f.containerNode||f.domNode),f.focus(),c=!0);return a}),function(b){return b})},setValues:function(b){g.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(b){var f={};h.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(f[a.name]||(f[a.name]=[])).push(a)});for(var a in f)if(f.hasOwnProperty(a)){var k=f[a],e=c.getObject(a,!1,b);void 0!==e&&(e=[].concat(e),
"boolean"==typeof k[0].checked?h.forEach(k,function(a){a.set("value",-1!=h.indexOf(e,a._get("value")))}):k[0].multiple?k[0].set("value",e):h.forEach(k,function(a,b){a.set("value",e[b])}))}},getValues:function(){g.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};h.forEach(this._getDescendantFormWidgets(),function(f){var a=f.name;if(a&&!f.disabled){var k=f.get("value");"boolean"==typeof f.checked?
/Radio/.test(f.declaredClass)?!1!==k?c.setObject(a,k,b):(k=c.getObject(a,!1,b),void 0===k&&c.setObject(a,null,b)):(f=c.getObject(a,!1,b),f||(f=[],c.setObject(a,f,b)),!1!==k&&f.push(k)):(f=c.getObject(a,!1,b),"undefined"!=typeof f?c.isArray(f)?f.push(k):c.setObject(a,[f,k],b):c.setObject(a,k,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var b=h.map(this._descendants,function(b){return b.get("state")||""});return 0<=h.indexOf(b,"Error")?
"Error":0<=h.indexOf(b,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(b){this._descendants=this._getDescendantFormWidgets();h.forEach(this._descendants,function(b){b._started||b.startup()});b||this._onChildChange()},_onChildChange:function(b){(!b||"state"==b||"disabled"==b)&&this._set("state",this._getState());if(!b||"value"==b||"disabled"==b||"checked"==b)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var b=this;this.own(f(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=b.domNode&&b._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(b,a,k){this.onValidStateChange(""==k)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(h,d){return h("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var g=d._getTabNavigable(this.domNode);this._firstFocusItem=g.lowest||g.first||this.closeButtonNode||this.domNode;this._lastFocusItem=g.last||g.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){var p=h("dijit.DialogUnderlay",[m,a],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){c.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(b(this.domNode,"keydown",d.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,e=this.domNode.style;e.display="none";var b=l.getBox(this.ownerDocument);e.top=b.t+"px";e.left=b.l+"px";a.width=b.w+"px";a.height=b.h+"px";e.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new k(this.domNode);var a=l.get(this.ownerDocument);this._modalConnects=[e.on("resize",d.hitch(this,"layout")),b(a,"scroll",
d.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});p.show=function(a,e){var b=p._singleton;!b||b._destroyed?b=n._underlay=p._singleton=new p(a):a&&b.set(a);f.set(b.domNode,"zIndex",e);b.open||b.show()};p.hide=function(){var a=
p._singleton;a&&!a._destroyed&&a.hide()};return p})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(h,d,g,c,f,b,l,m){m.add("config-bgIframe",m("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||m("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var a=new function(){var a=[];this.pop=function(){var e;a.length?(e=a.pop(),e.style.display=""):(9>m("ie")?(e="\x3ciframe src\x3d'"+
(g.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",e=document.createElement(e)):(e=c.create("iframe"),e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),f.set(e,"opacity",0.1)),e.tabIndex=-1);return e};this.push=function(e){e.style.display="none";a.push(e)}};d.BackgroundIframe=function(k){if(!k.id)throw Error("no id");
if(m("config-bgIframe")){var e=this.iframe=a.pop();k.appendChild(e);7>m("ie")||m("quirks")?(this.resize(k),this._conn=l(k,"resize",b.hitch(this,"resize",k))):f.set(e,{width:"100%",height:"100%"})}};b.extend(d.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),a.push(this.iframe),delete this.iframe)}});
return d.BackgroundIframe})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(h,d,g,c,f){var b=new h,l;g(function(){var m=f.getBox();b._rlh=d(window,"resize",function(){var a=f.getBox();m.h==a.h&&m.w==a.w||(m=a,b.emit("resize"))});if(8==c("ie")){var a=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=a&&(a=screen.deviceXDPI,b.emit("resize"))},500)}c("ios")&&(d(document,"focusin",function(a){l=a.target}),d(document,"focusout",
function(a){l=null}))});b.getEffectiveBox=function(b){b=f.getBox(b);var a=l&&l.tagName&&l.tagName.toLowerCase();if(c("ios")&&l&&!l.readOnly&&("textarea"==a||"input"==a&&/^(color|email|number|password|search|tel|text|url)$/.test(l.type)))b.h*=0==orientation||180==orientation?0.66:0.4,a=l.getBoundingClientRect(),b.h=Math.max(b.h,a.top+a.height);return b};return b})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return a("dijit.layout.ContentPane",[g,c,f],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:h._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,e,b){var k=new b(a,e);return!k.href&&k._contentSetter&&k._contentSetter.parseDeferred&&!k._contentSetter.parseDeferred.isFulfilled()?k._contentSetter.parseDeferred.then(function(){return k}):k},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=e.byId(b);for(var k=b.ownerDocument.createDocumentFragment();b.firstChild;)k.appendChild(b.firstChild);
a=d.delegate(a,{content:k})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang);this.loadingMessage=b.substitute(this.loadingMessage,a);this.errorMessage=b.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&m.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){m.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&m.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){h.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new k(d.hitch(this,"cancel"));this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){h.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new k(d.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new k(d.hitch(this,"cancel"));this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,e={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
d.isObject(this.ioArgs)&&d.mixin(e,this.ioArgs);var b=this._xhrDfd=(this.ioMethod||q.get)(e),k;b.then(function(e){k=e;try{return a._isDownloaded=!0,a._setContent(e,!1)}catch(b){a._onError("Content",b)}},function(e){b.canceled||a._onError("Download",e);delete a._xhrDfd;return e}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return k});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(e){console.error("Error "+this.widgetId+
" running custom onLoad code: "+e.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var e=this._contentSetter;m.forEach(this.getChildren(),function(e){e.destroyRecursive?e.destroyRecursive(a):e.destroy&&e.destroy(a);e._destroyed=!0});e&&(m.forEach(e.parseResults,function(e){e._destroyed||(e.destroyRecursive?
e.destroyRecursive(a):e.destroy&&e.destroy(a),e._destroyed=!0)}),delete e.parseResults);a||p.empty(this.containerNode);delete this._singleChild},_setContent:function(a,e){a=this.preprocessContent(a);this.destroyDescendants();var b=this._contentSetter;b&&b instanceof l._ContentSetter||(b=this._contentSetter=new l._ContentSetter({node:this.containerNode,_onError:d.hitch(this,this._onError),onContentError:d.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(e){console.error("Fatal "+
this.id+" could not change content due to "+e.message,e)}})}));var k=d.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),k=b.set(d.isObject(a)&&a.domNode?a.domNode:a,k),c=this;return s(k&&k.then?k:b.parseDeferred,function(){delete c._contentSetterParams;e||(c._started&&(c._startChildren(),c._scheduleLayout()),c._onLoadHandler(a))})},
preprocessContent:function(a){return a},_onError:function(a,e,b){this.onLoadDeferred.reject(e);a=this["on"+a+"Error"].call(this,e);b?console.error(b,e):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],
function(h,d,g,c){return d("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(c,b){var d=this.containerNode;if(0<b){for(d=d.firstChild;0<b;)1==d.nodeType&&b--,d=d.nextSibling;d?b="before":(d=this.containerNode,b="last")}g.place(c.domNode,d,b);this._started&&!c._started&&c.startup()},removeChild:function(c){"number"==typeof c&&(c=this.getChildren()[c]);c&&(c=c.domNode)&&c.parentNode&&c.parentNode.removeChild(c)},
hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(c,b){var d=this.getChildren(),m=h.indexOf(d,c);return d[m+b]},getIndexOfChild:function(c){return h.indexOf(this.getChildren(),c)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(h,d,g,c,f,b,l,m,a,k){return d("dijit.layout._ContentPaneResizeMixin",
null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var e=this.getParent();this._childOfLayoutWidget=e&&e.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",b.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;l("\x3e *",this.containerNode).some(function(k){var c=m.byNode(k);c&&c.resize?a.push(c):!/script|link|style/i.test(k.nodeName)&&
k.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;g.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,f){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&c.setMarginBox(this.domNode,a);var d=this.containerNode;if(d===
this.domNode){var l=f||{};b.mixin(l,a||{});if(!("h"in l)||!("w"in l))l=b.mixin(c.getMarginBox(d),l);this._contentBox=k.marginBox2contentBox(d,l)}else this._contentBox=c.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||c.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),b,k=0;b=a[k++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&
"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!g.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],
function(h,d,g,c,f){function b(b,a){var k=b.resize?b.resize(a):g.setMarginBox(b.domNode,a);k?f.mixin(b,k):(f.mixin(b,g.getMarginBox(b.domNode)),f.mixin(b,a))}var l={marginBox2contentBox:function(b,a){var k=c.getComputedStyle(b),e=g.getMarginExtents(b,k),f=g.getPadBorderExtents(b,k);return{l:c.toPixelValue(b,k.paddingLeft),t:c.toPixelValue(b,k.paddingTop),w:a.w-(e.w+f.w),h:a.h-(e.h+f.h)}},layoutChildren:function(c,a,k,e,l){a=f.mixin({},a);d.add(c,"dijitLayoutContainer");k=h.filter(k,function(a){return"center"!=
a.region&&"client"!=a.layoutAlign}).concat(h.filter(k,function(a){return"center"==a.region||"client"==a.layoutAlign}));h.forEach(k,function(k){var c=k.domNode,f=k.region||k.layoutAlign;if(!f)throw Error("No region setting for "+k.id);var m=c.style;m.left=a.l+"px";m.top=a.t+"px";m.position="absolute";d.add(c,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));c={};e&&e==k.id&&(c["top"==k.region||"bottom"==k.region?"h":"w"]=l);"leading"==f&&(f=k.isLeftToRight()?"left":"right");"trailing"==
f&&(f=k.isLeftToRight()?"right":"left");"top"==f||"bottom"==f?(c.w=a.w,b(k,c),a.h-=k.h,"top"==f?a.t+=k.h:m.top=a.t+a.h+"px"):"left"==f||"right"==f?(c.h=a.h,b(k,c),a.w-=k.w,"left"==f?a.l+=k.w:m.left=a.l+a.w+"px"):("client"==f||"center"==f)&&b(k,a)})}};f.setObject("dijit.layout.utils",l);return l})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(h,d,g,c,f,b,l){var m=0,a={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")},_emptyNode:b.empty,_setNodeContent:function(a,e){b.empty(a);if(e)if("number"==typeof e&&(e=e.toString()),"string"==typeof e&&(e=b.toDom(e,a.ownerDocument)),!e.nodeType&&d.isArrayLike(e))for(var c=e.length,f=0;f<e.length;f=c==e.length?f+1:0)b.place(e[f],a,"last");else b.place(e,a,"last");return a},_ContentSetter:c("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:h._scopeName,startup:!0,constructor:function(a,e){d.mixin(this,
a||{});e=this.node=f.byId(this.node||e);this.id||(this.id=["Setter",e?e.id||e.tagName:"",m++].join("_"))},set:function(a,e){void 0!==a&&(this.content=a);e&&this._mixin(e);this.onBegin();this.setContent();var b=this.onEnd();return b&&b.then?b:this.node},setContent:function(){var b=this.node;if(!b)throw Error(this.declaredClass+": setContent given no node");try{b=a._setNodeContent(b,this.content)}catch(e){var c=this.onContentError(e);try{b.innerHTML=c}catch(f){console.error("Fatal "+this.declaredClass+
".setContent could not change content due to "+f.message,f)}}this.node=b},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(g.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);b.empty(this.node)},onBegin:function(){var b=this.content;if(d.isString(b)&&(this.cleanContent&&(b=a._secureForInnerHtml(b)),this.extractContent)){var e=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
e&&(b=e[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var e={},b;for(b in a)b in e||(this[b]=a[b])},_parse:function(){var a=this.node;try{var e={};g.forEach(["dir",
"lang","textDir"],function(a){this[a]&&(e[a]=this[a])},this);var b=this;this.parseDeferred=l.parse({rootNode:a,noStart:!this.startup,inherited:e,scope:this.parserScope}).then(function(a){return b.parseResults=a},function(a){b._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,e,c){b=this["on"+b+"Error"].call(this,e);c?console.error(c,e):b&&a._setNodeContent(this.node,b,!0)}}),set:function(b,
e,c){void 0==e&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),e="");"number"==typeof e&&(e=e.toString());return c?(new a._ContentSetter(d.mixin(c,{content:e,node:b}))).set():a._setNodeContent(b,e,!0)}};d.setObject("dojo.html",a);return a})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(h,
d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){function t(a){return eval("("+a+")")}function u(a){var e=a._nameCaseMap,b=a.prototype;if(!e||e._extendCnt<w){var e=a._nameCaseMap={},k;for(k in b)"_"!==k.charAt(0)&&(e[k.toLowerCase()]=k);e._extendCnt=w}return e}function x(a,e){e||(e=h);var b=e._dojoParserCtorMap||(e._dojoParserCtorMap={}),k=a.join();if(!b[k]){for(var c=[],f=0,d=a.length;f<d;f++){var l=a[f];c[c.length]=b[l]=b[l]||g.getObject(l)||~l.indexOf("/")&&e(l)}f=c.shift();b[k]=c.length?f.createSubclass?f.createSubclass(c):
f.extend.apply(f,c):f}return b[k]}new Date("X");var w=0;a.after(g,"extend",function(){w++},!0);var v={_clearCache:function(){w++;_ctorMap={}},_functionFromScript:function(a,e){var b="",k="",f=a.getAttribute(e+"args")||a.getAttribute("args"),d=a.getAttribute("with"),f=(f||"").split(/\s*,\s*/);d&&d.length&&c.forEach(d.split(/\s*,\s*/),function(a){b+="with("+a+"){";k+="}"});return new Function(f,b+a.innerHTML+k)},instantiate:function(a,e,b){e=e||{};b=b||{};var k=(b.scope||d._scopeName)+"Type",f="data-"+
(b.scope||d._scopeName)+"-",l=f+"type",m=f+"mixins",g=[];c.forEach(a,function(a){var b=k in e?e[k]:a.getAttribute(l)||a.getAttribute(k);if(b){var c=a.getAttribute(m),b=c?[b].concat(c.split(/\s*,\s*/)):[b];g.push({node:a,types:b})}});return this._instantiate(g,e,b)},_instantiate:function(a,e,b,f){function d(a){!e._started&&!b.noStart&&c.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=c.map(a,function(a){var k=a.ctor||x(a.types,b.contextRequire);if(!k)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(k,a.node,e,b,a.scripts,a.inherited)},this);return f?k(a).then(d):d(a)},construct:function(b,k,f,l,n,h){function s(e){Q&&g.setObject(Q,e);for(C=0;C<R.length;C++)a[R[C].advice||"after"](e,R[C].method,g.hitch(e,R[C].func),!0);for(C=0;C<W.length;C++)W[C].call(e);for(C=0;C<X.length;C++)e.watch(X[C].prop,X[C].func);for(C=0;C<Y.length;C++)r(e,Y[C].event,Y[C].func);return e}var x=b&&b.prototype;l=l||{};var v={};l.defaults&&g.mixin(v,l.defaults);h&&g.mixin(v,h);var w;
p("dom-attributes-explicit")?w=k.attributes:p("dom-attributes-specified-flag")?w=c.filter(k.attributes,function(a){return a.specified}):(h=(/^input$|^img$/i.test(k.nodeName)?k:k.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=c.map(h.split(/\s+/),function(a){var e=a.toLowerCase();return{name:a,value:"LI"==k.nodeName&&"value"==a||"enctype"==e?k.getAttribute(e):k.getAttributeNode(e).value}}));var M=l.scope||d._scopeName;
h="data-"+M+"-";var J={};"dojo"!==M&&(J[h+"props"]="data-dojo-props",J[h+"type"]="data-dojo-type",J[h+"mixins"]="data-dojo-mixins",J[M+"type"]="dojotype",J[h+"id"]="data-dojo-id");for(var C=0,E,M=[],Q,K;E=w[C++];){var L=E.name,P=L.toLowerCase();E=E.value;switch(J[P]||P){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":K=E;break;case "data-dojo-id":case "jsid":Q=E;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=E;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=
E;break;case "class":v["class"]=k.className;break;case "style":v.style=k.style&&k.style.cssText;break;default:if(L in x||(L=u(b)[P]||L),L in x)switch(typeof x[L]){case "string":v[L]=E;break;case "number":v[L]=E.length?Number(E):NaN;break;case "boolean":v[L]="false"!=E.toLowerCase();break;case "function":""===E||-1!=E.search(/[^\w\.]+/i)?v[L]=new Function(E):v[L]=g.getObject(E,!1)||new Function(E);M.push(L);break;default:P=x[L],v[L]=P&&"length"in P?E?E.split(/\s*,\s*/):[]:P instanceof Date?""==E?new Date(""):
"now"==E?new Date:e.fromISOString(E):P instanceof m?d.baseUrl+E:t(E)}else v[L]=E}}for(w=0;w<M.length;w++)J=M[w].toLowerCase(),k.removeAttribute(J),k[J]=null;if(K)try{K=t.call(l.propsThis,"{"+K+"}"),g.mixin(v,K)}catch($){throw Error($.toString()+" in data-dojo-props\x3d'"+K+"'");}g.mixin(v,f);n||(n=b&&(b._noScript||x._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",k));var R=[],W=[],X=[],Y=[];if(n)for(C=0;C<n.length;C++)J=n[C],k.removeChild(J),f=J.getAttribute(h+"event")||J.getAttribute("event"),l=
J.getAttribute(h+"prop"),K=J.getAttribute(h+"method"),M=J.getAttribute(h+"advice"),w=J.getAttribute("type"),J=this._functionFromScript(J,h),f?"dojo/connect"==w?R.push({method:f,func:J}):"dojo/on"==w?Y.push({event:f,func:J}):v[f]=J:"dojo/aspect"==w?R.push({method:K,advice:M,func:J}):"dojo/watch"==w?X.push({prop:l,func:J}):W.push(J);b=(n=b.markupFactory||x.markupFactory)?n(v,k,b):new b(v,k);return b.then?b.then(s):s(b)},scan:function(a,e){function b(a){if(!a.inherited){a.inherited={};var e=a.node,k=
b(a.parent),e={dir:e.getAttribute("dir")||k.dir,lang:e.getAttribute("lang")||k.lang,textDir:e.getAttribute(s)||k.textDir},c;for(c in e)e[c]&&(a.inherited[c]=e[c])}return a.inherited}var k=[],f=[],l={},m=(e.scope||d._scopeName)+"Type",g="data-"+(e.scope||d._scopeName)+"-",r=g+"type",s=g+"textdir",g=g+"mixins",q=a.firstChild,u=e.inherited;if(!u){var t=function(a,e){return a.getAttribute&&a.getAttribute(e)||a.parentNode&&t(a.parentNode,e)},u={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,s)},v;for(v in u)u[v]||
delete u[v]}for(var u={inherited:u},w,K;;)if(q)if(1!=q.nodeType)q=q.nextSibling;else if(w&&"script"==q.nodeName.toLowerCase())(L=q.getAttribute("type"))&&/^dojo\/\w/i.test(L)&&w.push(q),q=q.nextSibling;else if(K)q=q.nextSibling;else{var L=q.getAttribute(r)||q.getAttribute(m);v=q.firstChild;if(!L&&(!v||3==v.nodeType&&!v.nextSibling))q=q.nextSibling;else{K=null;if(L){var P=q.getAttribute(g);w=P?[L].concat(P.split(/\s*,\s*/)):[L];try{K=x(w,e.contextRequire)}catch($){}K||c.forEach(w,function(a){~a.indexOf("/")&&
!l[a]&&(l[a]=!0,f[f.length]=a)});P=K&&!K.prototype._noScript?[]:null;u={types:w,ctor:K,parent:u,node:q,scripts:P};u.inherited=b(u);k.push(u)}else u={node:q,scripts:w,parent:u};w=P;K=q.stopParser||K&&K.prototype.stopParser&&!e.template;q=v}}else{if(!u||!u.node)break;q=u.node.nextSibling;K=!1;u=u.parent;w=u.scripts}var R=new n;f.length?(p("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+f.join(", ")),(e.contextRequire||h)(f,function(){R.resolve(c.filter(k,function(a){if(!a.ctor)try{a.ctor=
x(a.types,e.contextRequire)}catch(b){}for(var k=a.parent;k&&!k.types;)k=k.parent;var c=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(c&&c.stopParser&&!e.template);a.instantiate=!k||k.instantiate&&k.instantiateChildren;return a.instantiate}))})):R.resolve(k);return R.promise},_require:function(a,e){var b=t("{"+a.innerHTML+"}"),k=[],c=[],f=new n,d=e&&e.contextRequire||h,l;for(l in b)k.push(l),c.push(b[l]);d(c,function(){for(var a=0;a<k.length;a++)g.setObject(k[a],arguments[a]);f.resolve(arguments)});
return f.promise},_scanAmd:function(a,e){var b=new n,k=b.promise;b.resolve(!0);var c=this;q("script[type\x3d'dojo/require']",a).forEach(function(a){k=k.then(function(){return c._require(a,e)});a.parentNode.removeChild(a)});return k},parse:function(a,e){a&&("string"!=typeof a&&!("nodeType"in a))&&(e=a,a=e.rootNode);var k=a?b.byId(a):l.body();e=e||{};var c=e.template?{template:!0}:{},f=[],d=this,m=this._scanAmd(k,e).then(function(){return d.scan(k,e)}).then(function(a){return d._instantiate(a,c,e,!0)}).then(function(a){return f=
f.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(f,m);return f}};d.parser=v;f.parseOnLoad&&s(100,v,"parse");return v})},"dojo/_base/url":function(){define(["./kernel"],function(h){var d=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,g=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,c=function(){for(var f=arguments,b=[f[0]],l=1;l<f.length;l++)if(f[l]){var m=new c(f[l]+""),b=new c(b[0]+"");if(""==m.path&&!m.scheme&&
!m.authority&&!m.query)null!=m.fragment&&(b.fragment=m.fragment),m=b;else if(!m.scheme&&(m.scheme=b.scheme,!m.authority&&(m.authority=b.authority,"/"!=m.path.charAt(0)))){for(var b=(b.path.substring(0,b.path.lastIndexOf("/")+1)+m.path).split("/"),a=0;a<b.length;a++)"."==b[a]?a==b.length-1?b[a]="":(b.splice(a,1),a--):0<a&&(!(1==a&&""==b[0])&&".."==b[a]&&".."!=b[a-1])&&(a==b.length-1?(b.splice(a,1),b[a-1]=""):(b.splice(a-1,2),a-=2));m.path=b.join("/")}b=[];m.scheme&&b.push(m.scheme,":");m.authority&&
b.push("//",m.authority);b.push(m.path);m.query&&b.push("?",m.query);m.fragment&&b.push("#",m.fragment)}this.uri=b.join("");f=this.uri.match(d);this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);null!=this.authority&&(f=this.authority.match(g),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null)};c.prototype.toString=function(){return this.uri};return h._Url=c})},
"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(h,d,g){var c=h.some;return function(f){var b,l;f instanceof Array?l=f:f&&"object"===typeof f&&(b=f);var m,a=[];if(b){l=[];for(var k in b)Object.hasOwnProperty.call(b,k)&&(a.push(k),l.push(b[k]));m={}}else l&&(m=[]);if(!l||!l.length)return(new d).resolve(m);var e=new d;e.promise.always(function(){m=a=null});var n=l.length;c(l,function(k,c){b||a.push(c);g(k,function(b){e.isFulfilled()||(m[a[c]]=b,0===--n&&e.resolve(m))},
e.reject);return e.isFulfilled()});return e.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,d){var g={};h.setObject("dojo.date.stamp",g);g.fromISOString=function(c,f){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var b=g._isoRegExp.exec(c),l=null;if(b){b.shift();b[1]&&b[1]--;b[6]&&(b[6]*=1E3);f&&(f=new Date(f),d.forEach(d.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return f["get"+a]()}),function(a,e){b[e]=b[e]||a}));l=new Date(b[0]||1970,b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0);100>b[0]&&l.setFullYear(b[0]||1970);var m=0,a=b[7]&&b[7].charAt(0);"Z"!=a&&(m=60*(b[8]||0)+(Number(b[9])||0),"-"!=a&&(m*=-1));a&&(m-=l.getTimezoneOffset());m&&l.setTime(l.getTime()+6E4*m)}return l};g.toISOString=function(c,f){var b=function(a){return 10>a?"0"+a:a};f=f||{};var d=[],m=f.zulu?"getUTC":"get",a="";"time"!=f.selector&&(a=c[m+"FullYear"](),a=["0000".substr((a+
"").length)+a,b(c[m+"Month"]()+1),b(c[m+"Date"]())].join("-"));d.push(a);if("date"!=f.selector){a=[b(c[m+"Hours"]()),b(c[m+"Minutes"]()),b(c[m+"Seconds"]())].join(":");m=c[m+"Milliseconds"]();f.milliseconds&&(a+="."+(100>m?"0":"")+b(m));if(f.zulu)a+="Z";else if("time"!=f.selector)var m=c.getTimezoneOffset(),k=Math.abs(m),a=a+((0<m?"-":"+")+b(Math.floor(k/60))+":"+b(k%60));d.push(a)}return d.join("T")};return g})},"mw-dnd/BoundedMover":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/dnd/Mover",
"dojo/dom-geometry","dojo/window"],function(h,d,g,c,f){return h([g],{onMouseMove:function(b){var l=this.marginBox,m=c.position(this.host.node),a=f.getBox(),l={l:l.l+b.pageX,t:l.t+b.pageY};l.l=Math.max(0,Math.min(l.l,a.w-m.w));l.t=Math.max(0,Math.min(l.t,a.h-m.h));this.host.onMove(this,l,b);d.stop(b)}})})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],function(h,d){var g={deprecated:function(c){var f,b;if((h.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c))b=
window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,f="DEPRECATED: ",c.deprecated&&(f+=c.deprecated.module,c.deprecated.method&&(f+="."+c.deprecated.method+"()"),f+="."),c.replacement&&(f+=" Use "+c.replacement.module,c.replacement.method&&(f+="."+c.replacement.method+"()"),f+=" instead."),c.removalVersion&&(f+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(f+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),
c.additionalInformation&&(f+=" "+c.additionalInformation),d[b](f)},_isConfigValid:function(c){var f=!!c.deprecated&&"object"===typeof c.deprecated&&c.deprecated.hasOwnProperty("module");c.replacement&&(f=f&&"object"===typeof c.replacement&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(f=f&&"number"===typeof c.geckNumber);f||d.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return f}};
Object.defineProperties(g,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return g})},"mw-dialog-utils/FloatingPane":function(){define("dojo/_base/declare dojo/_base/fx dojo/_base/lang dojo/dnd/Moveable dojo/dom-geometry dojo/dom-style dojo/topic dojo/on dojo/Evented dojo/window dojo/touch dojox/layout/FloatingPane dijit/_Widget mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog dojo/text!./floatingPaneTemplate.html".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){a={isOnTop:!1,
attributeMap:g.delegate(p.prototype.attributeMap,{title:{type:"textContent",node:"titleNode"}}),startup:function(){this.inherited(arguments);this._checkResizeConstraints();this.resizable&&this.connect(this._resizeHandle.domNode,e.press,"bringToTop");this.connect(this.focusNode,e.press,function(){this.domNode.focus()});this._resizeHandle&&this.connect(this._resizeHandle.domNode,e.press,function(){this.domNode.focus()});this.domNode.focus()},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this._moveable.destroy();this._moveable=new c(this.domNode,{handle:this.titleNode});this._moveable.mover=q;this.dockable&&(this.own(l.subscribe("/floatingPaneDockUpdate",g.hitch(this,function(a){this.dockTo=a.newWidget}))),this.dockTo.addItem(this));this.closeNode.title=r.close;this.closeNode.setAttribute("tabindex","0");this.maxNode.title=r.maximize;this.dockNode.title=r.minimize},templateString:s,hide:function(a){var e,b;"function"===typeof a?(e=a,b=g.hitch(this,function(){e();this.onClose();
this.emit("onClose")}),this.inherited(arguments,[b])):"boolean"===typeof a?(this.paneOriginalPosition=f.position(this.domNode),d.animateProperty({node:this.domNode,properties:{top:f.position(this.dockTo.domNode).y,left:f.position(this.dockTo.domNode).x,height:0,width:f.position(this.dockTo.domNode).w,opacity:0},onEnd:g.hitch(this,function(){this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null)}),duration:this.duration}).play()):this.inherited(arguments)},
close:function(){m.emit(this.domNode,"restorefocus",{bubbles:!0});this.closeAlreadyInvoked||(this.closeAlreadyInvoked=!0,this.inherited(arguments))},show:function(){this.onTop||(this.paneOriginalPosition&&(this.domNode.style.top=this.paneOriginalPosition.y+"px",this.domNode.style.left=this.paneOriginalPosition.x+"px",this.domNode.style.width=this.paneOriginalPosition.w-b.get(this.domNode,"borderLeftWidth")-b.get(this.domNode,"borderRightWidth")+"px",this.domNode.style.height=this.paneOriginalPosition.h-
b.get(this.domNode,"borderLeftWidth")-b.get(this.domNode,"borderRightWidth")+"px"),delete this.closeAlreadyInvoked,this._isMinimized=!1,this.inherited(arguments))},onClose:function(){},resize:function(a){a||(this._naturalState=f.position(this.domNode),this._naturalState.w-=b.get(this.domNode,"borderLeftWidth")+b.get(this.domNode,"borderRightWidth"),this._naturalState.h-=b.get(this.domNode,"borderTopWidth")+b.get(this.domNode,"borderBottomWidth"));this.inherited(arguments)},minimize:function(){this._isDocked||
(this.hide(!0),this.onTop=!1,this.onMinimize())},bringToTop:function(){this._isMinimized||(this.inherited(arguments),this.onTop=!0,this.onBringToTop())},onBringToTop:function(){},onMinimize:function(){this._isMinimized=!0},forceClose:function(){this.dockable&&this.dockTo.removeItem(this);this.inherited("close",arguments)},_dock:function(){!this._isDocked&&this.dockable&&(this.dockTo.addItem(this),this._isDocked=!0)},_checkResizeConstraints:function(){var a;this._resizeHandle&&(a=g.hitch(this._resizeHandle,
this._resizeHandle._checkConstraints),this._resizeHandle._checkConstraints=function(e,c){var d,l,m,g={},n,p;d=a(e,c);l=f.position(this.targetDomNode);n=2*(b.get(this.targetDomNode,"borderTopWidth")+b.get(this.targetDomNode,"borderBottomWidth"));p=2*(b.get(this.targetDomNode,"borderLeftWidth")+b.get(this.targetDomNode,"borderRightWidth"));m=k.getBox();g.w=Math.min(d.w,Math.floor(m.w-(l.x+p)));g.h=Math.min(d.h,Math.floor(m.h-(l.y+n)));return g})}};return h([n],a)})},"dojox/layout/FloatingPane":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/touch dijit/_TemplatedMixin dijit/_Widget dijit/BackgroundIframe dijit/registry dojo/dnd/Moveable ./ContentPane ./ResizeHandle dojo/text!./resources/FloatingPane.html ./Dock".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y){h.experimental("dojox.layout.FloatingPane");return c("dojox.layout.FloatingPane",[w,r],{closable:!0,dockable:!0,resizable:!1,maxable:!1,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:z,attributeMap:d.delegate(s.prototype.attributeMap,{title:{type:"innerHTML",node:"titleNode"}}),postCreate:function(){this.inherited(arguments);
this._moveable=new x(this.domNode,{handle:this.focusNode});this.dockable||(this.dockNode.style.display="none");this.closable||(this.closeNode.style.display="none");this.maxable||(this.maxNode.style.display="none",this.restoreNode.style.display="none");this.resizable?this.domNode.style.width=n.getContentBox(this.domNode).w+"px":this.resizeHandle.style.display="none";this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new t(this.domNode);this._naturalState=n.position(this.domNode)},
startup:function(){if(!this._started){this.inherited(arguments);this.resizable&&(m("ie")?this.canvas.style.overflow="auto":this.containerNode.style.overflow="auto",this._resizeHandle=new v({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle));if(this.dockable){var a=this.dockTo;this.dockTo=this.dockTo?u.byId(this.dockTo):u.byId("dojoxGlobalFloatingDock");if(!this.dockTo){var b;a?(b=a,a=k.byId(a)):(a=p.create("div",null,g.body()),e.add(a,"dojoxFloatingDockDefault"),b="dojoxGlobalFloatingDock");
this.dockTo=new y({id:b,autoPosition:"south"},a);this.dockTo.startup()}("none"==this.domNode.style.display||"hidden"==this.domNode.style.visibility)&&this.minimize()}this.connect(this.focusNode,q.press,"bringToTop");this.connect(this.domNode,q.press,"bringToTop");b=n.getContentBox(this.domNode);this.resize(d.mixin(n.position(this.domNode),{w:b.w,h:b.h}));this._started=!0}},setTitle:function(a){h.deprecated("pane.setTitle","Use pane.set('title', someTitle)","2.0");this.set("title",a)},close:function(){this.closable&&
(b.unsubscribe(this._listener),this.hide(d.hitch(this,function(){this.destroyRecursive()})))},hide:function(a){f.fadeOut({node:this.domNode,duration:this.duration,onEnd:d.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);a&&a()})}).play()},show:function(a){f.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:d.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility=
"visible";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);"function"==typeof a&&a();this._isDocked=!1;this._dockNode&&(this._dockNode.destroy(),this._dockNode=null)})}).play();var e=n.getContentBox(this.domNode);this.resize(d.mixin(n.position(this.domNode),{w:e.w,h:e.h}));this._onShow()},minimize:function(){this._isDocked||this.hide(d.hitch(this,"_dock"))},maximize:function(){this._maximized||(this._naturalState=n.position(this.domNode),this._isDocked&&(this.show(),setTimeout(d.hitch(this,
"maximize"),this.duration)),e.add(this.focusNode,"floatingPaneMaximized"),this.resize(a.getBox()),this._maximized=!0)},_restore:function(){this._maximized&&(this.resize(this._naturalState),e.remove(this.focusNode,"floatingPaneMaximized"),this._maximized=!1)},_dock:function(){!this._isDocked&&this.dockable&&(this._dockNode=this.dockTo.addNode(this),this._isDocked=!0)},resize:function(a){this._naturalState=a=a||this._naturalState;var e=this.domNode.style;"t"in a?e.top=a.t+"px":"y"in a&&(e.top=a.y+"px");
"l"in a?e.left=a.l+"px":"x"in a&&(e.left=a.x+"px");e.width=a.w+"px";e.height=a.h+"px";a={l:0,t:0,w:a.w,h:a.h-this.focusNode.offsetHeight};n.setMarginBox(this.canvas,a);this._checkIfSingleChild();this._singleChild&&this._singleChild.resize&&this._singleChild.resize(a)},bringToTop:function(){var a=l.filter(this._allFPs,function(a){return a!==this},this);a.sort(function(a,e){return a.domNode.style.zIndex-e.domNode.style.zIndex});a.push(this);l.forEach(a,function(a,b){a.domNode.style.zIndex=this._startZ+
2*b;e.remove(a.domNode,"dojoxFloatingPaneFg")},this);e.add(this.domNode,"dojoxFloatingPaneFg")},destroy:function(){this._allFPs.splice(l.indexOf(this._allFPs,this),1);this._resizeHandle&&this._resizeHandle.destroy();this.inherited(arguments)}})})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(h,d,g,c,f){return f("dojox.layout.ContentPane",g,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,
executeScripts:!0,scriptHasHooks:!1,ioMethod:d.get,ioArgs:{},onExecError:function(b){},_setContent:function(b){var f=this._contentSetter;f&&f instanceof c._ContentSetter||(f=this._contentSetter=new c._ContentSetter({node:this.containerNode,_onError:h.hitch(this,this._onError),onContentError:h.hitch(this,function(b){b=this.onContentError(b);try{this.containerNode.innerHTML=b}catch(a){console.error("Fatal "+this.id+" could not change content due to "+a.message,a)}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&
(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments)},destroy:function(){var b=this._contentSetter;b&&b.tearDown();this.inherited(arguments)}})})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){var p=f.getObject("dojox.html",!0);if(m("ie"))var q=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var r=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,s=p._adjustCssPaths=function(e,b){if(b&&e)return q&&(b=b.replace(q,function(b,k,c,f,d){return k+(new a(e,"./"+f)).toString()+d})),b.replace(r,function(b,k,c,f,d,l){return c?'@import "'+(new a(e,"./"+c)).toString()+
'"'+l:"url("+(new a(e,"./"+d)).toString()+")"+l})},t=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,u=p._adjustHtmlPaths=function(e,b){var k=e||"./";return b.replace(t,function(e,b,c,f,d,l,m,g){return b+(c?c+"\x3d"+f+(new a(k,d)).toString()+f:"style\x3d"+l+s(k,m)+l)+g})},x=p._snarfStyles=function(a,e,b){b.attributes=[];e=e.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return e.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(e,k,c,f,d,l){e=(k||f||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");c?c=b.push(a?s(a,c):c):(c=b.push('@import "'+l+'";'),e=e.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(e){e=e.split(/\s+/);l={};f=0;for(d=e.length;f<d;f++)k=e[f].split("\x3d"),l[k[0]]=k[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");b.attributes[c-1]=l}return""})},w=p._snarfScripts=
function(a,e){function b(a){e.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,e){switch(e){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==e.charAt(0)?String.fromCharCode(e.substring(1)):"\x26"+e+";"}}),k.get({url:a,sync:!0,load:function(a){""!==e.code&&(a="\n"+a);e.code+=a+";"},error:e.errBack}))}e.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,k,c,f){c?b(c):(""!==e.code&&(f="\n"+f),e.code+=f+";");return""})},v=p.evalInGlobal=function(a,e){e=e||n.doc.body;var b=e.ownerDocument.createElement("script");b.type="text/javascript";e.appendChild(b);b.text=a};p._ContentSetter=h(c._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var e,b,k,c=this.node.ownerDocument,f=c.getElementsByTagName("head")[0],d=0,l=a.length;d<
l;d++){k=a[d];b=a.attributes[d];e=c.createElement("style");e.setAttribute("type","text/css");for(var m in b)e.setAttribute(m,b[m]);this._styleNodes.push(e);f.appendChild(e);e.styleSheet?e.styleSheet.cssText=k:e.appendChild(c.createTextNode(k))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,e=this._styles;this._code=null;if(b.isString(a)){this.adjustPaths&&this.referencePath&&(a=u(this.referencePath,a));
if(this.renderStyles||this.cleanContent)a=x(this.referencePath,a,e);if(this.executeScripts){var k=this,e={downloadRemote:!0,errBack:function(a){k._onError.call(k,"Exec",'Error downloading remote script in "'+k.id+'"',a)}},a=w(a,e);this._code=e.code}}this.content=a},onEnd:function(){var a=this._code,k=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)g.destroy(this._styleNodes.pop());this.renderStyles&&(k&&k.length)&&this._renderStyles(k);var c=new d,f=this.getInherited(arguments),
m=arguments,k=b.hitch(this,function(){f.apply(this,m);e(this.parseDeferred,function(){c.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{v(a,this.node)}catch(n){this._onError("Exec","Error eval script in "+this.id+", "+n.message,n)}l(k)}else k();return c.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&
this._styleNodes.length)for(;this._styleNodes.length;)g.destroy(this._styleNodes.pop());delete this._styleNodes;b.mixin(this,p._ContentSetter.prototype)}});p.set=function(a,e,k){return k?(new p._ContentSetter(b.mixin(k,{content:e,node:a}))).set():c._setNodeContent(a,e,!0)};return p})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/declare dojo/touch dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){h.experimental("dojox.layout.ResizeHandle");var u=p("dojox.layout._ResizeHelper",s,{show:function(){n.set(this.domNode,"display","")},hide:function(){n.set(this.domNode,"display","none")},resize:function(a){e.setMarginBox(this.domNode,a)}});return p("dojox.layout.ResizeHandle",[s,t],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,q.press,"_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=r.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new u({id:"dojoxGlobalResizeHelper"})).placeAt(l.body()),
k.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var a=d.partial(k.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;a("dojoxResizeNW");break;case "x":this._resizeX=!0;a("dojoxResizeW");break;case "y":this._resizeY=!0,a("dojoxResizeN")}},_beginSizing:function(b){if(!this._isSizing&&
(g.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=r.byId(this.targetId))?this.targetWidget.domNode:a.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var k=e.position(this.targetDomNode,!0);this._resizeHelper.resize({l:k.x,t:k.y,w:k.w,h:k.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:k.x,t:k.y})}this._isSizing=!0;this.startPoint={x:b.clientX,y:b.clientY};
var k=n.getComputedStyle(this.targetDomNode),c="border-model"===e.boxModel?{w:0,h:0}:e.getPadBorderExtents(this.targetDomNode,k),d=e.getMarginExtents(this.targetDomNode,k);this.startSize={w:n.get(this.targetDomNode,"width",k),h:n.get(this.targetDomNode,"height",k),pbw:c.w,pbh:c.h,mw:d.w,mh:d.h};!this.isLeftToRight()&&"absolute"==n.get(this.targetDomNode,"position")&&(k=e.position(this.targetDomNode,!0),this.startPosition={l:k.x,t:k.y});this._pconnects=[g.connect(l.doc,q.move,this,"_updateSizing"),
g.connect(l.doc,q.release,this,"_endSizing")];f.stop(b)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var e=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===e)return;this._resizeHelper.resize(e)}a.preventDefault()},_getNewCoords:function(a,e,b){try{if(!a.clientX||!a.clientY)return!1}catch(k){return!1}this._activeResizeLastEvent=a;var c=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),f=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
c:0);f=this._checkConstraints(a,this.startSize.h-(this._resizeY?f:0));if((b=b||this.startPosition)&&this._resizeX)f.l=b.l+c,f.w!=a&&(f.l+=a-f.w),f.t=b.t;switch(e){case "margin":f.w+=this.startSize.mw;f.h+=this.startSize.mh;break;case "border":f.w+=this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,e){if(this.minSize){var b=this.minSize;a<b.w&&(a=b.w);e<b.h&&(e=b.h)}this.constrainMax&&this.maxSize&&(b=this.maxSize,a>b.w&&(a=b.w),e>b.h&&(e=b.h));if(this.fixedAspect){var b=
this.startSize.w,k=this.startSize.h,c=b*e-k*a;0>c?a=e*b/k:0<c&&(e=a*k/b)}return{w:a,h:e}},_changeSizing:function(a){var e=this.targetWidget&&d.isFunction(this.targetWidget.resize),k=this._getNewCoords(a,e&&"margin");if(!1!==k&&(e?this.targetWidget.resize(k):this.animateSizing?m[this.animateMethod]([b.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:k.w}},duration:this.animateDuration}),b.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,
end:k.h}},duration:this.animateDuration})]).play():n.set(this.targetDomNode,{width:k.w+"px",height:k.h+"px"}),this.intermediateChanges))this.onResize(a)},_endSizing:function(a){c.forEach(this._pconnects,g.disconnect);var e=d.partial(g.publish,this.endTopic,[this]);this.activeResize?e():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(e,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(a){}})})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){g.isAsync||k(0,function(){e(["./fx/Toggler"])});g=g.fx={};k={_fire:function(a,e){this[a]&&this[a].apply(this,e||[]);return this}};var n=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;c.forEach(this._animations,function(a){a&&("undefined"!=typeof a.duration&&(this.duration+=a.duration),a.delay&&(this.duration+=a.delay))},this)};n.prototype=new d;h.extend(n,{_onAnimate:function(){this._fire("onAnimate",
arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=f.after(this._current,"onAnimate",h.hitch(this,"_onAnimate"),!0),this._onEndCtx=f.after(this._current,"onEnd",h.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,e){this._current||(this._current=this._animations[this._index=0]);if(!e&&"playing"==
this._current.status())return this;var b=f.after(this._current,"beforeBegin",h.hitch(this,function(){this._fire("beforeBegin")}),!0),k=f.after(this._current,"onBegin",h.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),c=f.after(this._current,"onPlay",h.hitch(this,function(a){this._fire("onPlay",arguments);b.remove();k.remove();c.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=f.after(this._current,"onAnimate",h.hitch(this,"_onAnimate"),!0);this._onEndCtx&&
this._onEndCtx.remove();this._onEndCtx=f.after(this._current,"onEnd",h.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=f.after(this._current,"onPause",h.hitch(this,function(e){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,e){this.pause();var b=this.duration*a;this._current=null;c.some(this._animations,function(a,e){if(b<=a.duration)return this._current=a,this._index=
e,!0;b-=a.duration;return!1},this);this._current&&this._current.gotoPercent(b/this._current.duration);e&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var e=f.after(this._current,"onStop",h.hitch(this,function(a){this._fire("onStop",arguments);e.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():
"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});h.extend(n,k);g.chain=function(a){return new n(h.isArray(a)?a:Array.prototype.slice.call(a,0))};var p=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;c.forEach(a,function(a){var e=a.duration;a.delay&&(e+=a.delay);this.duration<e&&(this.duration=e);this._connects.push(f.after(a,"onEnd",h.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=
new b.Animation({curve:[0,1],duration:this.duration});var e=this;c.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){e._connects.push(f.after(e._pseudoAnimation,a,function(){e._fire(a,arguments)},!0))})};h.extend(p,{_doAction:function(a,e){c.forEach(this._animations,function(b){b[a].apply(b,e)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,e){var b=this._pseudoAnimation;b[a].apply(b,e)},play:function(a,
e){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,e){var b=this.duration*a;c.forEach(this._animations,function(a){a.gotoPercent(a.duration<b?1:b/a.duration,e)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},
destroy:function(){this.stop();c.forEach(this._connects,function(a){a.remove()})}});h.extend(p,k);g.combine=function(a){return new p(h.isArray(a)?a:Array.prototype.slice.call(a,0))};g.wipeIn=function(a){var e=a.node=l.byId(a.node),k=e.style,c;a=b.animateProperty(h.mixin({properties:{height:{start:function(){c=k.overflow;k.overflow="hidden";if("hidden"==k.visibility||"none"==k.display)return k.height="1px",k.display="",k.visibility="",1;var a=m.get(e,"height");return Math.max(a,1)},end:function(){return e.scrollHeight}}}},
a));var d=function(){k.height="auto";k.overflow=c};f.after(a,"onStop",d,!0);f.after(a,"onEnd",d,!0);return a};g.wipeOut=function(a){var e=(a.node=l.byId(a.node)).style,k;a=b.animateProperty(h.mixin({properties:{height:{end:1}}},a));f.after(a,"beforeBegin",function(){k=e.overflow;e.overflow="hidden";e.display=""},!0);var c=function(){e.overflow=k;e.height="auto";e.display="none"};f.after(a,"onStop",c,!0);f.after(a,"onEnd",c,!0);return a};g.slideTo=function(e){var k=null,c=null,d=function(e){return function(){var b=
m.getComputedStyle(e),f=b.position;k="absolute"==f?e.offsetTop:parseInt(b.top)||0;c="absolute"==f?e.offsetLeft:parseInt(b.left)||0;"absolute"!=f&&"relative"!=f&&(b=a.position(e,!0),k=b.y,c=b.x,e.style.position="absolute",e.style.top=k+"px",e.style.left=c+"px")}}(e.node=l.byId(e.node));d();e=b.animateProperty(h.mixin({properties:{top:e.top||0,left:e.left||0}},e));f.after(e,"beforeBegin",d,!0);return e};return g})},"dojox/layout/Dock":function(){define("dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/on dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){d=g("dojox.layout.Dock",[q,p],{templateString:'\x3cdiv class\x3d"dojoxDock"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"dojoxDockList"\x3e\x3c/ul\x3e\x3c/div\x3e',_docked:[],_inPositioning:!1,autoPosition:!1,addNode:function(a){var e=n.create("li",null,this.containerNode);a=new r({title:a.title,paneRef:a},e);a.startup();return a},startup:function(){if("dojoxGlobalFloatingDock"==this.id||this.isFixedDock)this.own(f(window,"resize",h.hitch(this,
"_positionDock")),f(window,"scroll",h.hitch(this,"_positionDock"))),l("ie")&&this.own(f(this.domNode,"resize",h.hitch(this,"_positionDock")));this._positionDock(null);this.inherited(arguments)},_positionDock:function(a){this._inPositioning||"south"==this.autoPosition&&this.defer(function(){this._inPositiononing=!0;var a=m.getBox(),e=this.domNode.style;e.left=a.l+"px";e.width=a.w-2+"px";e.top=a.h+a.t-this.domNode.offsetHeight+"px";this._inPositioning=!1},125)}});var r=g("dojox.layout._DockNode",[q,
p],{title:"",paneRef:null,templateString:'\x3cli data-dojo-attach-event\x3d"onclick: restore" class\x3d"dojoxDockNode"\x3e\x3cspan data-dojo-attach-point\x3d"restoreNode" class\x3d"dojoxDockRestoreButton" data-dojo-attach-event\x3d"onclick: restore"\x3e\x3c/span\x3e\x3cspan class\x3d"dojoxDockTitleNode" data-dojo-attach-point\x3d"titleNode"\x3e${title}\x3c/span\x3e\x3c/li\x3e',restore:function(){this.paneRef.show();this.paneRef.bringToTop();this.destroy()}});return d})},"mw-notifications/Notifications":function(){define("dojo/_base/window dojo/_base/kernel dojo/dom-style dojo/html dojo/window dojo/dom-class mw-utils/HtmlUtils ./IconAndMessageWidget ./BannerWidget ./ProgressBar mw-dialogs/Dialogs mw-dialogs/ButtonEnum".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){var p=function(a,e){"string"===typeof e&&(e=l.escapeWhitespace(e));c.set(a,e,{parseContent:!0})};return{displayAlertDialog:function(a,b,k){k=k||{};b=this._createIconAndMessageWidget(b,"error",k);this._setupIconAndMessageWidget(b);var c=[n.OK];c[0]["data-test-id"]="AlertDialogButton1";var f=k.closeCallback?k.closeCallback:function(){},d={eventName:"AlertDialogClosed",dialogTitle:a,response:1,buttonText:c[0].label};a=e.createDialog({title:a,content:b,dialogType:!1===
k.modal?e.MODELESS:e.MODAL,buttons:c,draggable:!0,"data-test-id":k["data-test-id"]?k["data-test-id"]:"AlertDialog",className:"mwAlertDialog"});a.on("close",function(){f(d)});a.addButtonEventListener(n.OK,null,!0);return a},_createIconAndMessageWidget:function(a,e,b){return new m({message:a,icon:b.icon?b.icon:e})},_setupIconAndMessageWidget:function(a){var e=f.getBox(),e=Math.max(80,Math.min(0.4*e.h,300));g.set(a.messageNode,"max-height",e+"px")},_resizeToFitOversizeButtons:function(a){400<parseInt(g.getComputedStyle(a.domNode).width)&&
(a.domNode.querySelector(".mwDialogBody").style.maxWidth="none")},displayConfirmDialog:function(a,b,k){k=k||{};b=this._createIconAndMessageWidget(b,"question",k);this._setupIconAndMessageWidget(b);var c=[],f=[n.TYPE.DO_IT,n.TYPE.DONT_DO_IT,n.TYPE.CANCEL,n.TYPE.APPLY,n.TYPE.REVERT];if(k.buttonText&&1<=k.buttonText.length)for(var d=0;d<k.buttonText.length&&5>d;d++)c.push({type:f[d],label:k.buttonText[d],"data-test-id":"ConfirmDialogButton"+(d+1)});else c=[{type:n.TYPE.DO_IT,label:"OK","data-test-id":"ConfirmDialogButton1"},
{type:n.TYPE.CANCEL,label:"Cancel","data-test-id":"ConfirmDialogButton2"}];var l=k.closeCallback?k.closeCallback:function(){},m={eventName:"ConfirmDialogClosed",dialogTitle:a,response:1,buttonText:c[0].label},g=k.defaultCancelButton<=c.length?k.defaultCancelButton:c.length,p=e.createDialog({title:a,dialogType:e.MODAL,content:b,buttons:c,draggable:!0,className:"mwConfirmDialog","data-test-id":k["data-test-id"]?k["data-test-id"]:"ConfirmDialog",defaultActionButton:k.defaultAcceptButton<=c.length?c[k.defaultAcceptButton-
1]:c[0]});p.on("close",function(){m.response=g;m.buttonText=c[g-1].label;l(m)});c.forEach(function(a,e){p.addButtonEventListener(a,function(){m.response=e+1;m.buttonText=a.label;l(m);p.destroy()},!1)});this._resizeToFitOversizeButtons(p);return p},displayProgressDialog:function(a,b,c){c=c||{};var f=void 0===c.className?"":" "+c.className,d=new m({message:'\x3cdiv class\x3d"mwProgressDialogMessage" data-test-id\x3d"progress-message-node"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwProgressDialogProgressBar"\x3e\x3c/div\x3e',
icon:c.icon?c.icon:"none"}),l=d.messageNode.children[1],g=d.messageNode.children[0];p(g,b);b=new k({indeterminate:void 0===c.indeterminate?!1:c.indeterminate,value:void 0===c.value?0:c.value,colorStyle:void 0===c.colorStyle?"Info":c.colorStyle,showPercentage:void 0===c.showPercentage?!1:c.showPercentage,"data-test-id":"ProgressDialogProgressBar"});b.placeAt(l);b.startup();b.resize({w:"none"===d.icon?360:317});this._setupIconAndMessageWidget(d);var h=[];if(l=void 0===c.showCancelButton?!1:c.showCancelButton)h=
[n.CANCEL],h[0].label=void 0===c.cancelButtonText?n.CANCEL.label:c.cancelButtonText,h[0]["data-test-id"]="ProgressDialogButton1";f=e.createDialog({title:a,dialogType:e.MODAL,content:d,buttons:h,draggable:!0,closeOnEscape:l,hideCloseButton:!l,className:"mwProgressDialog"+f,"data-test-id":c["data-test-id"]?c["data-test-id"]:"ProgressDialog"});if(l){var z={eventName:"ProgressDialogClosed",dialogTitle:a,response:"cancel",buttonText:h[0].label,dialog:f},y=c.cancelCallback?c.cancelCallback:function(){};
a=function(){y(z)};f.on("close",a);f.addButtonEventListener(n.CANCEL,a,!1);f._destroyCache=f.destroy;f.destroy=function(){};f.closeProgressDialog=function(){this.destroy=this._destroyCache;this.destroy()};f.disableCancelButton=function(){this.disableButton(h[0])};f.enableCancelButton=function(){this.enableButton(h[0])}}else f.closeProgressDialog=function(){this.destroy()};f.progressBar=b;f.progressMessageNode=g;f.updateMessage=function(a){p(this.progressMessageNode,a)};return f}}})},"mw-utils/HtmlUtils":function(){define(["dojo/_base/window",
"dojo/_base/event","dojo/io-query","mw-utils/deprecation"],function(h,d,g,c){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var c=h.global.location.search.substr(1,h.global.location.search.length);return this._parseQueryString(c)},
_parseQueryString:function(c){return g.queryToObject(c)},parseUrl:function(c){var b=document.createElement("a");b.display="none";b.href=c||window.location.href;b.href=b.href;b={protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search,hash:b.hash};if(("https:"===b.protocol||"http:"===b.protocol)&&0!==b.pathname.indexOf("/"))b.pathname="/"+b.pathname;"https:"===b.protocol&&("443"===b.port&&0!==c.indexOf("https://"+b.hostname+":443"))&&(b.port="");return b},escapeHtml:function(c){var b=
h.global.document.createElement("div");c=h.global.document.createTextNode(c);b.appendChild(c);b=b.innerHTML;c="";for(var d=0;d<b.length;d+=1){var m=b.charCodeAt(d);c=128<m?c+"\x26#"+m+";":c+b.charAt(d)}return c},escapeLinksAndHtml:function(f,b){c.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var d="",m=f.split(this.HYPERLINK_ESCAPE_REGEXP),a=f.match(this.HYPERLINK_ESCAPE_REGEXP),k="",
e=this,g=0,p=function(a,b,c,f){a=e.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=e.escapeHtml(b);f=e._strongNotEscaped(f,!0);k='\x3ca href\x3d"'+b+'"\x3e'+f+"\x3c/a\x3e"};if(b)d=this.escapeHtml(f),d=this.escapeWhitespace(d);else if(""!==m[0]&&(d=this._strongNotEscaped(m[0],!0)),null!==a&&0!==a.length)for(g=0;g<a.length;g+=1)a[g].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,p),""!==m[g+1]&&(m[g+1]=this._strongNotEscaped(m[g+1],!0)),d+=k+m[g+1];return d},treatHtmlLikeCommandWindow:function(c,
b,d){if("string"!==typeof c)return"";var m="",a=c.split(this.HYPERLINK_ESCAPE_REGEXP),k=c.match(this.HYPERLINK_ESCAPE_REGEXP),e="",g=this,p=0;d=d?d:{};var h=function(a,b,k,c){a=g.parseUrl(b).protocol;var f="";"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=g.escapeHtml(b);c=g._strongNotEscaped(c,!1);g.BOLD_LINK_ATTRIBUTE_REGEX.test(k)&&(f=' style\x3d"font-weight:bold"');e='\x3ca href\x3d"'+b+'"'+f+"\x3e"+c+"\x3c/a\x3e"};if(b)m=this.escapeHtml(c);else if(""!==a[0]&&(m=this._strongNotEscaped(a[0],
!1)),null!==k&&0!==k.length)for(p=0;p<k.length;p+=1)k[p].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,h),""!==a[p+1]&&(a[p+1]=this._strongNotEscaped(a[p+1],!1)),m+=e+a[p+1];d.addPreTagToPreserveWhiteSpace&&(m='\x3cspan style\x3d"white-space: pre"\x3e'+m+"\x3c/span\x3e");return m},_strongNotEscaped:function(c,b){var d="",m=c.match(this.STRONG_ESCAPE_REGEXP),a=c.split(this.STRONG_ESCAPE_REGEXP),k=function(a){return a};b&&(k=this.escapeWhitespace);var e=0;if(null!==m&&0!==m.length){d=k(this.escapeHtml(a[0]));
for(e=0;e<m.length;e+=1)d+=m[e]+k(this.escapeHtml(a[e+1]))}else d=k(this.escapeHtml(c));return d},escapeWhitespace:function(f){c.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(f||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(c,b){if(b.target.href){d.stop(b);var l=b.target.href;
-1!==l.indexOf("matlab:")?"matlab:"===l.substring(0,7)&&(l=b.target.href.substring(7),c(h.global.unescape(l))):h.global.open(b.target.href)}},isElementOverflown:function(c){return c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth}}})},"mw-notifications/IconAndMessageWidget":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-attr dojo/dom-construct dojo/dom-class dojo/html mw-html-utils/HtmlUtils".split(" "),function(h,d,g,c,f,b,l,m,a){return h([g,
c],{templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3cimg class\x3d"${baseClass}Icon" src\x3d"" draggable\x3d"false"  ondragstart\x3d"return false;" data-dojo-attach-point\x3d"iconNode"\x3e\x3cdiv class\x3d"${baseClass}Message" data-test-id\x3d"message-node" data-dojo-attach-point\x3d"messageNode"\x3e${!message}\x3c/div\x3e\x3c/div\x3e',baseClass:"mwIconAndMessageWidget",icon:"error",message:"",_setIconAttr:function(a){var e="";a||(a="error");this._set("icon",a);this.iconNode.src=this._ICON_blank;
l.remove(this.iconNode);l.add(this.iconNode,this.baseClass+"Icon");a.match(/^(error|warning|info|question|success|none)$/)?(l.add(this.iconNode,["mwAlertIcon32",this._getIconClassName(this.icon)]),e=a):a.match(/^(data:image\/)/i)?(e="customDataURI",this.iconNode.src=a):(e="customCSSClass",l.add(this.iconNode,a));f.set(this.iconNode,"data-icon-id",e)},_getIconClassName:function(a){return"mwAlertIcon"+a.charAt(0).toUpperCase()+a.slice(1)},_setMessageAttr:function(b){this._set("message",b);"string"===
typeof b&&(b=a.escapeWhitespace(b));m.set(this.messageNode,b,{parseContent:!0})},_ICON_blank:"data:image/gif;base64,R0lGODlhAQABAJAAAP8AAAAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw\x3d\x3d"})})},"mw-html-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query","mw-deprecation-utils/deprecation"],function(h,d,g,c){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,
STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var c=h.global.location.search.substr(1,h.global.location.search.length);return this._parseQueryString(c)},_parseQueryString:function(c){return g.queryToObject(c)},parseUrl:function(c){var b=document.createElement("a");b.display="none";b.href=c||window.location.href;b.href=b.href;b={protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,
search:b.search,hash:b.hash};if(("https:"===b.protocol||"http:"===b.protocol)&&0!==b.pathname.indexOf("/"))b.pathname="/"+b.pathname;"https:"===b.protocol&&("443"===b.port&&0!==c.indexOf("https://"+b.hostname+":443"))&&(b.port="");return b},escapeHtml:function(c){var b=h.global.document.createElement("div");c=h.global.document.createTextNode(c);b.appendChild(c);b=b.innerHTML;c="";for(var d=0;d<b.length;d+=1){var m=b.charCodeAt(d);c=128<m?c+"\x26#"+m+";":c+b.charAt(d)}return c},escapeLinksAndHtml:function(f,
b){c.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var d="",m=f.split(this.HYPERLINK_ESCAPE_REGEXP),a=f.match(this.HYPERLINK_ESCAPE_REGEXP),k="",e=this,g=0,p=function(a,b,c,f){a=e.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=e.escapeHtml(b);f=e._strongNotEscaped(f,!0);k='\x3ca href\x3d"'+b+'"\x3e'+f+"\x3c/a\x3e"};if(b)d=this.escapeHtml(f),d=this.escapeWhitespace(d);
else if(""!==m[0]&&(d=this._strongNotEscaped(m[0],!0)),null!==a&&0!==a.length)for(g=0;g<a.length;g+=1)a[g].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,p),""!==m[g+1]&&(m[g+1]=this._strongNotEscaped(m[g+1],!0)),d+=k+m[g+1];return d},treatHtmlLikeCommandWindow:function(c,b,d){if("string"!==typeof c)return"";var m="",a=c.split(this.HYPERLINK_ESCAPE_REGEXP),k=c.match(this.HYPERLINK_ESCAPE_REGEXP),e="",g=this,p=0;d=d?d:{};var h=function(a,b,k,c){a=g.parseUrl(b).protocol;var f="";"http:"!==a&&
("https:"!==a&&"matlab:"!==a)&&(b="#");b=g.escapeHtml(b);c=g._strongNotEscaped(c,!1);g.BOLD_LINK_ATTRIBUTE_REGEX.test(k)&&(f=' style\x3d"font-weight:bold"');e='\x3ca href\x3d"'+b+'"'+f+"\x3e"+c+"\x3c/a\x3e"};if(b)m=this.escapeHtml(c);else if(""!==a[0]&&(m=this._strongNotEscaped(a[0],!1)),null!==k&&0!==k.length)for(p=0;p<k.length;p+=1)k[p].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,h),""!==a[p+1]&&(a[p+1]=this._strongNotEscaped(a[p+1],!1)),m+=e+a[p+1];d.addPreTagToPreserveWhiteSpace&&(m=
'\x3cspan style\x3d"white-space: pre"\x3e'+m+"\x3c/span\x3e");return m},_strongNotEscaped:function(c,b){var d="",m=c.match(this.STRONG_ESCAPE_REGEXP),a=c.split(this.STRONG_ESCAPE_REGEXP),k=function(a){return a};b&&(k=this.escapeWhitespace);var e=0;if(null!==m&&0!==m.length){d=k(this.escapeHtml(a[0]));for(e=0;e<m.length;e+=1)d+=m[e]+k(this.escapeHtml(a[e+1]))}else d=k(this.escapeHtml(c));return d},escapeWhitespace:function(d){c.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},
replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(d||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(c,b){if(b.target.href){d.stop(b);var l=b.target.href;-1!==l.indexOf("matlab:")?"matlab:"===l.substring(0,7)&&(l=b.target.href.substring(7),c(h.global.unescape(l))):h.global.open(b.target.href)}},isElementOverflown:function(c){return c.scrollHeight>c.clientHeight||
c.scrollWidth>c.clientWidth}}})},"mw-notifications/BannerWidget":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-attr dojo/_base/lang dojo/fx".split(" "),function(h,d,g,c,f,b){return h([d,g],{templateString:'\x3cdiv class\x3d"${baseClass}" style\x3d"display:none;"\x3e\x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3cdiv class\x3d"${baseClass}Title" data-dojo-attach-point\x3d"titleNode"\x3e${!title}\x3c/div\x3e\x3cdiv class\x3d"${baseClass}Content" data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
baseClass:"mwBanner","data-test-id":"",title:"Banner Title",content:"This is the Banner Content Area",duration:4E3,wipeInDuration:500,wipeOutDuration:350,_hideTimer:0,isVisible:!1,onHide:function(){},postCreate:function(){c.set(this.domNode,"data-test-id",this["data-test-id"])},_setContentAttr:function(b){f.isString(b)?this.contentNode.innerHTML=b:(b.placeAt(this.contentNode),b.startup())},show:function(){this.isVisible||(this.set("isVisible",!0),b.wipeIn({node:this.domNode,duration:this.wipeInDuration}).play());
if(0<this.duration){var c=setTimeout(f.hitch(this,this.hide),this.duration);this.set("_hideTimer",c)}},hide:function(){this.isVisible&&(this.set("isVisible",!1),clearTimeout(this._hideTimer),b.wipeOut({node:this.domNode,duration:this.wipeOutDuration,onEnd:this.onHide}).play())}})})},"mw-notifications/ProgressBar":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dijit/_TemplatedMixin dijit/_WidgetBase ./_ProgressMixin dojo/text!./templates/ProgressBar.html".split(" "),
function(h,d,g,c,f,b,l,m,a){return h([l,b,m],{baseClass:"mwProgressBar",templateString:a,resize:function(a){a=a&&a.w?a.w:f.getContentBox(this.domNode.parentNode).w;if(NaN===a||0===a)a=100;g.set(this.gutterNode,"transform","scaleX("+a/100+")")},startup:function(){this.inherited(arguments);this.resize()},_setValueAttr:function(a){this.inherited(arguments);g.set(this.progressNode,"transform","translateX("+(this.value-100)+"px)")},_showAnimationWave:function(a){var e=this.baseClass+"NoWave";!1===a?c.add(this.domNode,
e):c.remove(this.domNode,e)}})})},"mw-notifications/_ProgressMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class"],function(h,d,g){return h([],{value:0,indeterminate:!1,showPercentage:!0,colorStyle:"Info","data-test-id":"",constructor:function(){this["data-test-id"]=this.baseClass.substring(2)},_setValueAttr:function(c){c=Math.min(Math.max(parseInt(c),0),100);this._set("value",c);this.progressTextNode.textContent=this.value+"%";d.set(this.domNode,"data-value",this.value)},
_setIndeterminateAttr:function(c){this._set("indeterminate",c);c=this.baseClass+"Indeterminate";this.indeterminate?g.add(this.domNode,c):g.remove(this.domNode,c)},_setShowPercentageAttr:function(c){this._set("showPercentage",c);c=this.baseClass+"Invisible";this.showPercentage?g.remove(this.progressTextNode,c):g.add(this.progressTextNode,c)},_setColorStyleAttr:function(c){var d="Info";switch(c.toLowerCase()){case "error":d="Error";break;case "warning":d="Warning";break;case "success":d="Success";break;
case "info":d="Info";break;default:d="Info"}c=this.get("colorStyle");this._set("colorStyle",d);g.replace(this.domNode,this.baseClass+d,this.baseClass+c)}})})},"mw-dialogs/Dialogs":function(){define(["dojo/_base/lang","dojo/keys","dojo/on","mw-dialogs/view/Dialog","mw-utils/Utils"],function(h,d,g,c,f){return{MODAL:"modal",MODELESS:"modeless",createDialog:function(b){b.id=b.id?b.id:"dialog_"+f.generateUuid();b.className="string"===typeof b.className?h.trim(b.className):"";b.dialogType="modal"===b.dialogType?
"modal":"modeless";b.hideCloseButton="boolean"===typeof b.hideCloseButton?b.hideCloseButton:!1;b.closeOnEscape="boolean"===typeof b.closeOnEscape?b.closeOnEscape:!0;b.resizable="boolean"===typeof b.resizable?b.resizable:!1;b.draggable="boolean"===typeof b.draggable?b.draggable:"modeless"===b.dialogType;return new c(b)}}})},"mw-dialogs/view/Dialog":function(){var h=function(){function d(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=
!0);Object.defineProperty(d,b.key,b)}}return function(g,c,f){c&&d(g.prototype,c);f&&d(g,f);return g}}();define("dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-style dojo/has dojo/keys dojo/on dojo/touch mw-dialogs/controller/DialogController mw-dialogs/controller/Draggable mw-dialogs/controller/Resizable mw-dialogs/controller/Focus mw-dialogs/controller/stopEvent mw-dialogs/view/ButtonBar mw-dialogs/view/ContentWidget mw-dialogs/utils/preventShortCutKeys".split(" "),function(d,g,c,f,b,l,m,
a,k,e,n,p,q,r,s,t){var u=function(a){return m(a,!b("mozilla")?"mousewheel":"DOMMouseScroll",function(e){var b="DOMMouseScroll"===e.type?-40*e.detail:e.wheelDelta,k=0<b;!k&&-b>a.scrollHeight-a.clientHeight-a.scrollTop?(a.scrollTop=a.scrollHeight,q(e)):k&&b>a.scrollTop&&(a.scrollTop=0,q(e))})},x=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._eventSignals=[];this.domNode=this._createDomNodes(a.id);this.domNode.widget=this;this._buildDialog(a);
this._renderDialog(a.title);this._show();return this}h(b,[{key:"addButtonEventListener",value:function(a,e,b){r.addButtonEventListener(this,a,e,b)}},{key:"enableButton",value:function(a){r.enableButton(this,a)}},{key:"disableButton",value:function(a){r.disableButton(this,a)}},{key:"on",value:function(a,e){var b=m(this.domNode,a,e);this._eventSignals.push(b)}},{key:"close",value:function(){m.emit(this.domNode,"close",{bubbles:!1,cancelable:!0});this.destroy()}},{key:"destroy",value:function(){this._isModal?
this._allModalDialogs.splice(d.indexOf(this._allModalDialogs,this),1):this._allModelessDialogs.splice(d.indexOf(this._allModelessDialogs,this),1);this._focusHandle&&this._focusHandle.unwatch();this._eventSignals.forEach(function(a){a.remove()});this._eventSignals=[];var a=void 0;for(a in this._buttonEventHandlers)this._buttonEventHandlers[a].remove();this._buttonEventHandlers={};this._resizeEventSignals&&n.disable(this);this._contentWidget&&this._contentWidget.destroyRecursive();document.body.removeChild(this.domNode);
if(!0===this._isModal){document.body.removeChild(this._underlay);var e=this._allModalDialogs;1<e.length&&e.sort(function(a,e){return a.domNode.style.zIndex-e.domNode.style.zIndex});1<=e.length&&(e[e.length-1]._underlay.style.opacity=1)}for(a in this)this.hasOwnProperty(a)&&delete this[a]}},{key:"moveTo",value:function(a){k.moveTo(this,a)}},{key:"bringToTop",value:function(){var a=[],e=this;this._isModal?(a=d.filter(this._allModalDialogs,function(a){return a!==e},this),a.sort(function(a,e){return a.domNode.style.zIndex-
e.domNode.style.zIndex}),a.push(this),d.forEach(a,function(b,k){b.domNode.style.zIndex=e._startZ+2*k;b._underlay.style.zIndex=b.domNode.style.zIndex-1;k!==a.length-1&&(b._underlay.style.opacity=0);c.remove(b.domNode,"mwModalDialogFg")},this),c.add(this.domNode,"mwModalDialogFg")):(a=d.filter(this._allModelessDialogs,function(a){return a!==e},this),a.sort(function(a,e){return a.domNode.style.zIndex-e.domNode.style.zIndex}),a.push(this),d.forEach(a,function(a,b){a.domNode.style.zIndex=e._startZ+2*b;
c.remove(a.domNode,"mwModelessDialogFg")},this),c.add(this.domNode,"mwModelessDialogFg"))}},{key:"_show",value:function(){f.set(this.domNode,"visibility","visible");this.moveTo(this._specifiedPosition);p.focus(this);this._contentWidget&&this._contentWidget.startup();m.emit(this.domNode,"show",{bubbles:!1,cancelable:!0})}},{key:"_trackEventListener",value:function(a){this._eventSignals.push(a);return a}},{key:"_removeEventListener",value:function(a){var e=this._eventSignals.indexOf(a);-1<e&&(this._eventSignals.splice(e,
1),a.remove())}},{key:"_createDomNodes",value:function(a){var e=document.createElement("div");e.id=a;e.className="mwDialog";e.tabIndex=0;a=this._titleBar=document.createElement("div");a.className="mwDialogTitleBar";g.set(a,"data-test-id","dialog-title-bar");var b=this._titleBar._titleNode=document.createElement("span");b.className="mwTitleNode";g.set(b,"data-test-id","dialog-title-node");var k=this._contentArea=document.createElement("div");k.className="mwDialogBody";g.set(k,"data-test-id","dialog-content-area");
a.appendChild(b);e.appendChild(a);e.appendChild(k);return e}},{key:"_buildDialog",value:function(a){var e=this;a.className&&c.add(this.domNode,a.className);if(!a.hideCloseButton){var b=this._titleBar.closeNode=document.createElement("span");b.className="mwCloseNode";g.set(b,"data-test-id","dialog-close-node");this._titleBar.appendChild(b);this._trackEventListener(m(b,"click",function(){e.close()}))}if(a.closeOnEscape)this.on("keydown",function(a){a.keyCode===l.ESCAPE&&(e.close(),q(a))});a.content&&
(this._contentWidget=new s({widget:a.content,contentArea:this._contentArea}),k.selectionWithinDialogBounds(this));a.buttons&&Array.isArray(a.buttons)&&0<a.buttons.length?(b=r.createButtonBar(this,a.buttons,a.defaultActionButton),this.domNode.appendChild(b)):c.add(this._contentArea,"mwNoButtons");"modal"===a.dialogType?(this._isModal=!0,this._startZ=this._modalDialogBeginZIndex,c.add(this.domNode,"mwModalDialog"),b=document.createElement("div"),b.className="mwUnderlay",document.body.appendChild(b),
this._underlay=b,t.prevent(this)):(this._startZ=this._modelessDialogBeginZIndex,c.add(this.domNode,"mwModelessDialog"));a["data-test-id"]&&g.set(this.domNode,"data-test-id",a["data-test-id"]);a.bindingNode&&(this._bindingNode=a.bindingNode);a.position&&(this._specifiedPosition=a.position);a.specifiedFocusItem&&(this.specifiedFocusItem=a.specifiedFocusItem);this._addControllers(a)}},{key:"_renderDialog",value:function(a){document.body.appendChild(this.domNode);this._isModal?this._allModalDialogs.push(this):
this._allModelessDialogs.push(this);this._buttonBar&&f.get(this.domNode,"min-width")<this._buttonBar._buttonBarWidth&&f.set(this.domNode,"min-width",this._buttonBar._buttonBarWidth+"px");f.get(this.domNode,"width")>document.documentElement.clientWidth?f.set(this.domNode,"width",document.documentElement.clientWidth+"px"):f.set(this.domNode,"width",f.get(this.domNode,"width")+"px");f.get(this.domNode,"height")>document.documentElement.clientHeight?f.set(this.domNode,"height",document.documentElement.clientHeight+
"px"):f.set(this.domNode,"height",f.get(this.domNode,"height")+"px");this.title=a}},{key:"_addControllers",value:function(b){var d=this,f=this;this._scrollWheelListener=null;b.draggable?e.draggable({dialog:this,bindingNode:this._bindingNode}):this._titleBar.style.cursor="default";b.resizable&&(n.enable({widget:this,bindingNode:this._bindingNode}),this._resizeHandlers.forEach(function(e){f._resizeEventSignals.push(m(e,a.press,function(){f.bringToTop()}))}),this._resizeEventSignals.push(m(this.domNode,
n.resizeEvent,function(a){f._isCenter=!1;f._specifiedPosition={x:a.dimension.x,y:a.dimension.y};f._resolveScrollBar();f._titleBar._titleNode.title=f._titleBar._titleNode.offsetWidth<f._titleBar._titleNode.scrollWidth?f.title:"";f._contentArea.scrollHeight>f._contentArea.clientHeight?c.add(d._contentArea,"mwOverflow"):c.remove(d._contentArea,"mwOverflow")})));this.on(a.press,function(){f.bringToTop()});this._resolveScrollBar();k.addScrollHandler(this);k.addBrowserResizeHandler(this)}},{key:"_resolveScrollBar",
value:function(){0<this._contentArea.scrollHeight-this._contentArea.clientHeight?(0<this._contentArea.offsetWidth-this._contentArea.scrollWidth&&f.set(this._contentArea,"padding-right",this._standardContentPadding-(this._contentArea.offsetWidth-this._contentArea.scrollWidth)+"px"),this._scrollWheelListener||(this._scrollWheelListener=this._trackEventListener(u(this._contentArea)))):(f.set(this._contentArea,"padding-right",this._standardContentPadding+"px"),this._scrollWheelListener&&(this._removeEventListener(this._scrollWheelListener),
this._scrollWheelListener=null))}},{key:"title",set:function(a){this._titleText="";a&&"string"===typeof a&&(this._titleText=a);this._titleBar._titleNode.textContent=this._titleText;this._titleBar._titleNode.offsetWidth<this._titleBar._titleNode.scrollWidth&&(this._titleBar._titleNode.title=this._titleText)},get:function(){return this._titleText}}]);return b}();x.prototype._modalDialogBeginZIndex=950;x.prototype._modelessDialogBeginZIndex=100;x.prototype._standardContentPadding=20;x.prototype._allModalDialogs=
[];x.prototype._allModelessDialogs=[];return x})},"mw-dialogs/controller/DialogController":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/dom-geometry","dojo/on","dojo/window","./stopEvent"],function(d,g,c,f){var b=function(a,e,b,c,d){var f={};d?(f.l=Math.max(d.x,Math.min(d.x+e.x,d.x+d.w-b.w)),f.t=Math.max(d.y,
Math.min(d.y+e.y,d.y+d.h-b.h)),a._specifiedPosition={x:f.l-d.x,y:f.t-d.y}):(f.l=Math.max(0,Math.min(e.x,c.w-b.w)),f.t=Math.max(0,Math.min(e.y,c.h-b.h)),a._specifiedPosition={x:f.l,y:f.t});a._isCenter=!1;return f},l=function(a,e,b,c,d){e={};d?(e.l=b.w>=d.x+d.w||b.w>=c.w-d.x||b.w>=d.w?Math.max(0,d.x):(0<=d.x?d.x:0)+(d.x+d.w<=c.w?d.w/2:(c.w-d.x)/2)-b.w/2,e.t=b.h>=d.y+d.h||b.h>=c.h-d.y||b.h>=d.h?Math.max(0,d.y):(0<=d.y?d.y:0)+(d.y+d.h<=c.h?d.h/2:(c.h-d.y)/2)-b.h/2):(e.l=Math.max(0,c.w/2-b.w/2),e.t=Math.max(0,
c.h/2-b.h/2));a._isCenter=!0;return e},m=function(a,e,b,c,d,f,l){a={};l?(a.l=Math.max(l.x,Math.min(e.x-b+c,l.x+l.w-e.w)),a.t=Math.max(l.y,Math.min(e.y-d+f,l.y+l.h-e.h))):(a.l=e.x,a.t=e.y);return a},a=function(a,e,b,c){var d={};c?a._isCenter?(d.l=Math.max(0,Math.max(c.x,Math.min(b.w-e.w,Math.min(c.x+c.w/2-e.w/2,c.x+c.w-e.w)))),d.t=Math.max(0,Math.max(c.y,Math.min(b.h-e.h,Math.min(c.y+c.h/2-e.h/2,c.y+c.h-e.h))))):(d.l=Math.max(0,Math.max(c.x,Math.min(b.w-e.w,Math.min(a._specifiedPosition.x+c.x,c.x+
c.w-e.w)))),d.t=Math.max(0,Math.max(c.y,Math.min(b.h-e.h,Math.min(a._specifiedPosition.y+c.y,c.y+c.h-e.h))))):a._isCenter?(d.l=Math.max(0,Math.min(b.w/2-e.w/2,b.w-e.w)),d.t=Math.max(0,Math.min(b.h/2-e.h/2,b.h-e.h))):(d.l=Math.max(0,Math.min(a._specifiedPosition.x,b.w-e.w)),d.t=Math.max(0,Math.min(a._specifiedPosition.y,b.h-e.h)));return d};return{moveTo:function(a,e){var f=d.position(a.domNode),m={},m=c.getBox();if("object"===h(a._bindingNode))var g=d.position(a._bindingNode),m=e?b(a,e,f,m,g):l(a,
e,f,m,g);else m=e?b(a,e,f,m):l(a,e,f,m);a.domNode.style.left=m.l+"px";a.domNode.style.top=m.t+"px"},addScrollHandler:function(a){var e=window.pageYOffset,b=window.pageXOffset;a._trackEventListener(g(document,"scroll",function(){var c=window.pageYOffset,f=window.pageXOffset,l=d.position(a.domNode),g={};"object"===h(a._bindingNode)?(g=d.position(a._bindingNode),g=m(a,l,f,b,c,e,g)):g=m(a,l,f,b,c,e);a.domNode.style.left=g.l+"px";a.domNode.style.top=g.t+"px";e=c;b=f}))},addBrowserResizeHandler:function(b){b._trackEventListener(g(window,
"resize",function(){var e=d.position(b.domNode),f=c.getBox(),l={};"object"===h(b._bindingNode)?(l=d.position(b._bindingNode),l=a(b,e,f,l)):l=a(b,e,f);b.domNode.style.left=l.l+"px";b.domNode.style.top=l.t+"px"}))},selectionWithinDialogBounds:function(a){var e=void 0;a._trackEventListener(g(document,"mousedown",function(b){b.target===a._contentWidget.domNode&&(e=!0)}));a._trackEventListener(g(document,"mouseup",function(){e=!1}));a._trackEventListener(g(document,"mousemove",function(b){e&&b.target!==
a._contentWidget.domNode&&f(b)}))}}})},"mw-dialogs/controller/stopEvent":function(){define([],function(){return function(h){h.stopPropagation();h.preventDefault();return!1}})},"mw-dialogs/controller/Draggable":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/dom-geometry","dojo/on","dojo/window","./stopEvent"],function(d,
g,c,f){var b=function(b,c,a,k,e,d){var f={};d?(f.t=e.yLocked?b.y:Math.max(0,Math.max(d.y,Math.min(c.h-b.h,Math.min(a.pageY-k.y,d.y+d.h-b.h)))),f.l=e.xLocked?b.x:Math.max(0,Math.max(d.x,Math.min(c.w-b.w,Math.min(a.pageX-k.x,d.x+d.w-b.w))))):(f.l=Math.max(0,Math.min(a.pageX-k.x,c.w-b.w)),f.t=Math.max(0,Math.min(a.pageY-k.y,c.h-b.h)));return f};return{dragEvent:"move",draggable:function(l){var m=this,a=l.dialog,k=l.bindingNode,e=a._titleBar,n=!1,p={x:0,y:0},q={l:0,t:0},r={xLocked:!1,yLocked:!1},s=void 0,
t=void 0,u=void 0;(function(){a._trackEventListener(g(e,"mousedown",function(b){a.bringToTop();if(0===b.button&&b.target!==e.closeNode){f(b);n=!0;t=c.getBox();s=d.position(a.domNode);if("object"===("undefined"===typeof k?"undefined":h(k)))u=d.position(k),r.xLocked=s.w>=u.x+u.w||s.w>=t.w-u.x||s.w>=u.w,r.yLocked=s.h>=u.y+u.h||s.h>=t.h-u.y||s.h>=u.h;p.x=b.pageX-s.x;p.y=b.pageY-s.y}}));a._trackEventListener(g(document,"mouseup",function(a){f(a);n=!1}));a._trackEventListener(g(document,"mousemove",function(e){n&&
(f(e),s=d.position(a.domNode),"object"===("undefined"===typeof k?"undefined":h(k))?(q=b(s,t,e,p,r,u),a._specifiedPosition={x:q.l-u.x,y:q.t-u.y}):(q=b(s,t,e,p),a._specifiedPosition={x:q.l,y:q.t}),a.domNode.style.left=q.l+"px",a.domNode.style.top=q.t+"px",a._isCenter=!1,g.emit(a.domNode,m.dragEvent,{bubbles:!1,position:{x:q.l,y:q.t}}))}))})()}}})},"mw-dialogs/controller/Resizable":function(){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&
"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};define("dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on dojo/query dojo/window ./stopEvent".split(" "),function(d,g,c,f,b,l,m,a){var k=function(a,e,b,c,k,d){var l=void 0;return l=d?Math.max(f.get(a.domNode,"min-width"),Math.min(k.w-e.x,Math.min(b.pageX-c.x-e.x,Math.min(f.get(a.domNode,"max-width")?f.get(a.domNode,"max-width"):d.w+d.x-e.x,d.w+d.x-e.x)))):Math.max(f.get(a.domNode,"min-width"),
Math.min(b.pageX-c.x-e.x,Math.min(f.get(a.domNode,"max-width")?f.get(a.domNode,"max-width"):k.w-e.x,k.w-e.x)))},e=function(a,e,b,c,k,d){k=void 0;return k=d?Math.max(f.get(a.domNode,"min-width"),Math.min(e.x+e.w,Math.min(e.x+e.w-(b.pageX-c.x),Math.min(f.get(a.domNode,"max-width")?f.get(a.domNode,"max-width"):e.x+e.w-d.x,e.x+e.w-d.x)))):Math.max(f.get(a.domNode,"min-width"),Math.min(e.x+e.w-(b.pageX-c.x),Math.min(f.get(a.domNode,"max-width")?f.get(a.domNode,"max-width"):e.x+e.w,e.x+e.w)))},n=function(a,
e,b,c,k,d){var l=void 0;return l=d?Math.max(f.get(a.domNode,"min-height"),Math.min(k.h-e.y,Math.min(b.pageY-c.y-e.y,Math.min(f.get(a.domNode,"max-height")?f.get(a.domNode,"max-height"):d.h+d.y-e.y,d.h+d.y-e.y)))):Math.max(f.get(a.domNode,"min-height"),Math.min(b.pageY-c.y-e.y,Math.min(f.get(a.domNode,"max-height")?f.get(a.domNode,"max-height"):k.h-e.y,k.h-e.y)))},p=function(a,e,b,c,k,d){k=void 0;return k=d?Math.max(f.get(a.domNode,"min-height"),Math.min(e.y+e.h,Math.min(e.y+e.h-(b.pageY-c.y),Math.min(f.get(a.domNode,
"max-height")?f.get(a.domNode,"max-height"):e.y+e.h-d.y,e.y+e.h-d.y)))):Math.max(f.get(a.domNode,"min-height"),Math.min(e.y+e.h-(b.pageY-c.y),Math.min(f.get(a.domNode,"max-height")?f.get(a.domNode,"max-height"):e.y+e.h,e.y+e.h)))},q=function(d,f,l,m,g,q,v,z){a(l);var y,A,B,D;"object"===("undefined"===typeof q?"undefined":h(q))?(q=c.position(q),"e"===v?y=k(d,f,l,m,g,q):"w"===v&&(y=e(d,f,l,m,g,q)),"s"===z?A=n(d,f,l,m,g,q):"n"===z&&(A=p(d,f,l,m,g,q))):("e"===v?y=k(d,f,l,m,g):"w"===v&&(y=e(d,f,l,m,g)),
"s"===z?A=n(d,f,l,m,g):"n"===z&&(A=p(d,f,l,m,g)));"w"===v&&(B=f.x+f.w-y);"n"===z&&(D=f.y+f.h-A);l={};m=void 0;if("e"===v||"w"===v)d.domNode.style.width=y+"px";"w"===v&&(d.domNode.style.left=B+"px");if("s"===z||"n"===z)d.domNode.style.height=A+"px";"n"===z&&(d.domNode.style.top=D+"px");f=c.position(d.domNode);d._contentArea&&(m=c.position(d._contentArea),l={w:m.w,h:m.h});b.emit(d.domNode,"resize",{bubbles:!1,dimension:f,contentSize:l})};return{resizeEvent:"resize",enable:function(e){var k=e.widget,
f=e.bindingNode;k._resizeEventSignals=[];var n=void 0,p=void 0,h={x:0,y:0};(function(){var e=!1,r=!1,y=!1,A=!1,B=!1,D=!1,H=!1,G=!1;k._resizeHandlers=[];var I=document.createElement("div");d.add(I,"mwResizableHandle mwResizable-e");g.place(I,k.domNode,"last");k._resizeHandlers.push(I);var O=document.createElement("div");d.add(O,"mwResizableHandle mwResizable-s");g.place(O,k.domNode,"last");k._resizeHandlers.push(O);var S=document.createElement("div");d.add(S,"mwResizableHandle mwResizable-w");g.place(S,
k.domNode,"last");k._resizeHandlers.push(S);var M=document.createElement("div");d.add(M,"mwResizableHandle mwResizable-n");g.place(M,k.domNode,"last");k._resizeHandlers.push(M);var J=document.createElement("div");d.add(J,"mwResizableHandle mwResizable-se");g.place(J,k.domNode,"last");k._resizeHandlers.push(J);var C=document.createElement("div");d.add(C,"mwResizableHandle mwResizable-ne");g.place(C,k.domNode,"last");k._resizeHandlers.push(C);var E=document.createElement("div");d.add(E,"mwResizableHandle mwResizable-sw");
g.place(E,k.domNode,"last");k._resizeHandlers.push(E);var Q=document.createElement("div");d.add(Q,"mwResizableHandle mwResizable-nw");g.place(Q,k.domNode,"last");k._resizeHandlers.push(Q);k._resizeHandlers.forEach(function(d){k._resizeEventSignals.push(b(d,"mousedown",function(b){0===b.button&&(a(b),n=m.getBox(),p=c.position(k.domNode),d===I?(e=!0,h.x=b.pageX-(p.x+p.w),l("*")[0].style.cursor="ew-resize"):d===O?(r=!0,h.y=b.pageY-(p.y+p.h),l("*")[0].style.cursor="ns-resize"):d===S?(y=!0,h.x=b.pageX-
p.x,l("*")[0].style.cursor="ew-resize"):d===M?(A=!0,h.y=b.pageY-p.y,l("*")[0].style.cursor="ns-resize"):d===J?(B=!0,h.x=b.pageX-(p.x+p.w),h.y=b.pageY-(p.y+p.h),l("*")[0].style.cursor="nwse-resize"):d===C?(D=!0,h.x=b.pageX-(p.x+p.w),h.y=b.pageY-p.y,l("*")[0].style.cursor="nesw-resize"):d===E?(H=!0,h.x=b.pageX-p.x,h.y=b.pageY-(p.y+p.h),l("*")[0].style.cursor="nesw-resize"):d===Q&&(G=!0,h.x=b.pageX-p.x,h.y=b.pageY-p.y,l("*")[0].style.cursor="nwse-resize"))}))});k._resizeEventSignals.push(b(document,
"mouseup",function(){G=H=D=B=A=y=r=e=!1;l("*")[0].style.cursor=""}));k._resizeEventSignals.push(b(document,"mousemove",function(a){e?q(k,p,a,h,n,f,"e"):r?q(k,p,a,h,n,f,null,"s"):y?q(k,p,a,h,n,f,"w"):A?q(k,p,a,h,n,f,null,"n"):B?q(k,p,a,h,n,f,"e","s"):D?q(k,p,a,h,n,f,"e","n"):H?q(k,p,a,h,n,f,"w","s"):G&&q(k,p,a,h,n,f,"w","n")}))})()},disable:function(a){a._resizeEventSignals.forEach(function(a){a.remove()});a._resizeEventSignals=[];a._resizeHandlers.forEach(function(a){g.destroy(a)});a._resizeHandlers=
[]}}})},"mw-dialogs/controller/Focus":function(){define("dojo/on dojo/dom dojo/dom-attr dojo/dom-class dojo/keys dojo/query dijit/a11y dijit/focus mw-log/Log ./stopEvent".split(" "),function(h,d,g,c,f,b,l,m,a,k){return{_activeClass:"active",_focusedClass:"focused",_defaultButtonClass:"mwDefaultButton",focus:function(a){var b=this,k=this;a._firstFocusItem=null;a._lastFocusItem=null;this._getFocusItems(a);a._focusHandle=m.watch("curNode",function(b,f,m){null===m?(a._defaultButton&&(c.remove(a._defaultButton,
k._defaultButtonClass),c.remove(a._defaultButton,k._activeClass)),f&&c.remove(f,k._activeClass),c.remove(a.domNode,k._focusedClass)):(b=k._isPopupDescendant(m,a._contentArea))&&l.isFocusable(m)?(a._latestFocusedItem=b,c.add(a.domNode,k._focusedClass)):a._contentArea&&d.isDescendant(m,a._contentArea)&&l.isFocusable(m)?(a._latestFocusedItem=m,a._defaultButton&&c.add(a._defaultButton,k._defaultButtonClass),c.add(a.domNode,k._focusedClass)):a._buttonBar&&d.isDescendant(m,a._buttonBar)&&l.isFocusable(m)?
(a._latestFocusedItem=m,a._defaultButton&&c.remove(a._defaultButton,k._defaultButtonClass),c.add(a.domNode,k._focusedClass)):a._firstFocusItem?c.remove(a.domNode,k._focusedClass):(a._latestFocusedItem=m,c.add(a.domNode,k._focusedClass))});this.focusItem(a);a.on("click",function(){b._getFocusItems(a);a._latestFocusedItem&&a._latestFocusedItem!==a.domNode&&"true"!==g.get(a._latestFocusedItem,"aria-disabled")?m.focus(a._latestFocusedItem):a._firstFocusItem?m.focus(a._firstFocusItem):m.focus(a.domNode)});
a._underlay&&a._trackEventListener(h(a._underlay,"click",function(){a._firstFocusItem?m.focus(a._latestFocusedItem):m.focus(a.domNode)}));a._keyDownReady=!1;a.on("keydown",function(b){k._onKeyDown(b,a)});a.on("keyup",function(b){k._onKeyUp(b,a)})},_getFocusItems:function(a){a._firstFocusItem=l.getFirstInTabbingOrder(a.domNode);a._lastFocusItem=l.getLastInTabbingOrder(a.domNode)||a._firstFocusItem},_isPopupDescendant:function(a,b){try{for(var k=null;a;){if(c.contains(a,"dijitPopup")){var d=g.get(a,
"dijitPopupParent");d&&(k=a=document.getElementById(d))}if(a===b)return k;a=a.parentNode}}catch(f){}return!1},focusItem:function(e){if(e.specifiedFocusItem){var b=d.byId(e.specifiedFocusItem);null===b?(a.log("specifiedFocusItem couldn't be found"),this._focusDefaultItem(e)):d.isDescendant(b,e.domNode)?l.isFocusable(b)?m.focus(b):(b=l.getFirstInTabbingOrder(b),void 0!==b?m.focus(b):(a.log("specifiedFocusItem is not focusable"),this._focusDefaultItem(e))):(a.log("specifiedFocusItem should be an id"),
this._focusDefaultItem(e))}else this._focusDefaultItem(e);e.bringToTop()},_focusDefaultItem:function(a){a._firstFocusItem?a._buttonBar&&a._defaultButton&&d.isDescendant(a._firstFocusItem,a._buttonBar)&&a._defaultButton!==a._firstFocusItem&&"true"!==g.get(a._defaultButton,"aria-disabled")?m.focus(a._defaultButton):m.focus(a._firstFocusItem):m.focus(a.domNode)},_onKeyDown:function(a,b){b._keyDownReady=!0;if(a.keyCode===f.TAB){this._getFocusItems(b);var g=a.target;b._firstFocusItem===b._lastFocusItem?
k(a):g===b._firstFocusItem&&a.shiftKey?(m.focus(b._lastFocusItem),k(a)):g===b._lastFocusItem&&!a.shiftKey&&(m.focus(b._firstFocusItem),k(a))}else a.keyCode===f.SPACE?b._buttonBar&&(d.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(k(a),c.add(m.curNode,"active")):a.keyCode===f.ENTER&&(b._contentArea&&b._defaultButton&&d.isDescendant(m.curNode,b._contentArea)&&l.isFocusable(m.curNode)&&m.curNode.tagName&&"input"===m.curNode.tagName.toLowerCase()&&"text"===m.curNode.getAttribute("type").toLowerCase()?
(k(a),c.add(b._defaultButton,"active")):b._buttonBar&&(d.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(k(a),c.add(m.curNode,"active")))},_onKeyUp:function(a,b){b._keyDownReady&&(a.keyCode===f.SPACE?b._buttonBar&&(d.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(c.remove(m.curNode,"active"),k(a),m.curNode.click(a)):a.keyCode===f.ENTER&&(b._contentArea&&b._defaultButton&&d.isDescendant(m.curNode,b._contentArea)&&l.isFocusable(m.curNode)&&m.curNode.tagName&&"input"===
m.curNode.tagName.toLowerCase()&&"text"===m.curNode.getAttribute("type").toLowerCase()?(c.remove(b._defaultButton,"active"),k(a),b._defaultButton.click(a)):b._buttonBar&&(d.isDescendant(m.curNode,b._buttonBar)&&l.isFocusable(m.curNode))&&(c.remove(m.curNode,"active"),k(a),m.curNode.click(a))))}}})},"mw-dialogs/view/ButtonBar":function(){define("dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/on dojo/query mw-dialogs/ButtonEnum mw-log/Log".split(" "),function(h,d,g,c,f,b,l){function m(a,e,f){var l=
document.createElement("div");l.className="mwActionButtonBar";d.set(l,"data-test-id","dialog-action-button-bar");var m=[],g;for(g in q){m[g]=[];for(var n in e)e[n].type===q[g]&&m[g].push(e[n])}e=[];for(var p in m)0!==m[p].length&&e.push(m[p][0]);var m=void 0,h;for(h in e){m=document.createElement("span");m.className="mwButton";m.tabIndex="0";m.textContent=e[h].label;d.set(m,"data-button-type",e[h].type);d.set(m,"aria-disabled","false");e[h]["data-test-id"]&&d.set(m,"data-test-id",e[h]["data-test-id"]);
a._trackEventListener(c(m,"click",k(e[h].type+"ButtonClick",a)));if(f===e[h].type||f===e[h]||void 0===f&&f!==b.NO_DEFAULT_ACTION&&"0"===h)a._defaultButton=m;l.appendChild(m);a._buttonBar._buttonBarWidth+=r}return l}function a(a,b){var e=document.createElement("div");e.className="mwSplButtonBar";d.set(e,"data-test-id","dialog-supplemental-button-bar");var f=void 0,l;for(l in b)f=document.createElement("span"),f.className="mwButton",f.tabIndex="0",f.textContent=b[l].label,d.set(f,"data-button-type",
b[l].type),d.set(f,"aria-disabled","false"),b[l]["data-test-id"]&&d.set(f,"data-test-id",b[l]["data-test-id"]),a._trackEventListener(c(f,"click",k(b[l].type+"ButtonClick",a))),e.appendChild(f),a._buttonBar._buttonBarWidth+=r;return e}function k(a,b){var e=function(){b.close()};return function(){c.emit(b.domNode,a,{bubbles:!1,close:e})}}function e(a,b){return c(a.domNode,b+"ButtonClick",function(e){var k=!1;a._buttonEvents[b].forEach(function(a){"function"===typeof a.func&&a.func();k=k||a.dismiss});
a.domNode&&k&&e.close()})}function n(a){var b="";return b=a.hasOwnProperty("type")?a.type:a}var p=[b.TYPE.HELP,b.TYPE.SPL1,b.TYPE.SPL2],q=[b.TYPE.DO_IT,b.TYPE.DONT_DO_IT,b.TYPE.CANCEL,b.TYPE.APPLY,b.TYPE.REVERT],r=96;return{addButtonEventListener:function(a,b,k,c){try{var d=n(b);void 0===a._buttonEvents[d]&&(a._buttonEvents[d]=[]);a._buttonEvents[d].push({func:k,dismiss:c});a._buttonEventHandlers[d]&&a._buttonEventHandlers[d].remove();a._buttonEventHandlers[d]=e(a,d)}catch(f){l.log("Button or type of button is invalid.")}},
enableButton:function(a,b){var k=n(b);a._buttonEventHandlers[k]&&a._buttonEventHandlers[k].remove();a._buttonEventHandlers[k]=e(a,k);k=f("span[data-button-type\x3d"+k+"]",a._buttonBar)[0];g.remove(k,"mwDisabled");d.set(k,"tabIndex",0);d.set(k,"aria-disabled","false")},disableButton:function(a,b){var e=n(b);a._buttonEventHandlers[e]&&a._buttonEventHandlers[e].remove();e=f("span[data-button-type\x3d"+e+"]",a._buttonBar)[0];g.add(e,"mwDisabled");d.set(e,"tabIndex",-1);d.set(e,"aria-disabled","true")},
createButtonBar:function(b,e,k){var c=b._buttonBar=document.createElement("div");c.className="mwDialogButtonBar";d.set(c,"data-test-id","dialog-button-bar");b._buttonEvents={};b._buttonEventHandlers={};b._buttonBar._buttonBarWidth=10;var f=!1,l=!1,n=[],h=[];e.forEach(function(a){-1!==p.indexOf(a.type)?h.push(a):-1!==q.indexOf(a.type)&&n.push(a)});0<h.length?(l=!0,c.appendChild(a(b,h))):g.add(c,"mwNoSplBtn");0<n.length&&(f=!0,c.appendChild(m(b,n,k)));!0===f&&!0===l&&(b._buttonBar._buttonBarWidth+=
10);return c}}})},"mw-dialogs/ButtonEnum":function(){define(["dojo/i18n!./l10n/nls/dialog"],function(h){var d={HELP:"Help",SPL1:"Spl1",SPL2:"Spl2",DO_IT:"DoIt",DONT_DO_IT:"DontDoIt",CANCEL:"Cancel",APPLY:"Apply",REVERT:"Revert"};h={NO_DEFAULT_ACTION:"NoDefaultAction",TYPE:d,HELP:{type:d.HELP,label:h.help,"data-test-id":"HelpButton"},OK:{type:d.DO_IT,label:h.ok,"data-test-id":"OkButton"},YES:{type:d.DO_IT,label:h.yes,"data-test-id":"YesButton"},SUBMIT:{type:d.DO_IT,label:h.submit,"data-test-id":"SubmitButton"},
SAVE:{type:d.DO_IT,label:h.save,"data-test-id":"SaveButton"},FIND:{type:d.DO_IT,label:h.find,"data-test-id":"FindButton"},CREATE:{type:d.DO_IT,label:h.create,"data-test-id":"CreateButton"},DONT_SAVE:{type:d.DONT_DO_IT,label:h.dontSave,"data-test-id":"DontSaveButton"},NO:{type:d.DONT_DO_IT,label:h.no,"data-test-id":"NoButton"},CANCEL:{type:d.CANCEL,label:h.cancel,"data-test-id":"CancelButton"},CLOSE:{type:d.CANCEL,label:h.close,"data-test-id":"CloseButton"},APPLY:{type:d.APPLY,label:h.apply,"data-test-id":"ApplyButton"},
REVERT:{type:d.REVERT,label:h.revert,"data-test-id":"RevertButton"}};Object.freeze(h);Object.freeze(d);return h})},"mw-dialogs/view/ContentWidget":function(){var h=function(){function d(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(g,c,f){c&&d(g.prototype,c);f&&d(g,f);return g}}();define(["dojo/_base/lang","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","mw-dialogs/utils/mixinDijitLifecycleMethods"],
function(d,g,c,f,b){return function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.widget=c.widget;this.contentArea=c.contentArea;b(this);this._addWidget(this.widget)}h(l,[{key:"_addWidget",value:function(b){if(d.isString(b)){var a=c.create("div");a.className="mwContentMessage";g.set(a,"textContent",b);g.set(a,"data-test-id","dialog-content-widget");f.set(a,"whiteSpace","pre-line");c.place(a,this.contentArea,"first");this.domNode=a}else d.isFunction(b.placeAt)?
(g.set(b.domNode,"data-test-id","dialog-content-widget"),b.placeAt(this.contentArea,"first"),this.domNode=b.domNode):(g.set(b,"data-test-id","dialog-content-widget"),c.place(b,this.contentArea,"first"),this.domNode=b)}}]);return l}()})},"mw-dialogs/utils/mixinDijitLifecycleMethods":function(){define(["dojo/_base/lang"],function(h){return function(d){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.widget,c=function(){};h.isFunction(g.startup)?d.startup=function(){g.startup()}:d.startup=
c;h.isFunction(g.destroyRecursive)?d.destroyRecursive=function(c){g.destroyRecursive(c)}:d.destroyRecursive=c;h.isFunction(g.destroy)?d.destroy=function(c){g.destroy(c)}:d.destroy=c}})},"mw-dialogs/utils/preventShortCutKeys":function(){define([],function(){function h(g){g.metaKey?d(g):0>navigator.platform.toUpperCase().indexOf("MAC")&&g.ctrlKey&&d(g)}function d(d){switch(d.keyCode){case 65:if(d.target.value)d.target.setSelectionRange(0,d.target.value.length);else{var c=d.target,f=void 0,b=void 0;
document.body.createTextRange?(f=document.body.createTextRange(),f.moveToElementText(c),f.select()):window.getSelection&&(b=window.getSelection(),f=document.createRange(),f.selectNodeContents(c),b.removeAllRanges(),b.addRange(f))}d.preventDefault()}}return{prevent:function(d){var c=document.onkeydown;d.on("show",function(){document.body.style.cursor="default";document.onkeydown=h});d.on("close",function(){document.body.style.cursor="initial";document.onkeydown=c})}}})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),
function(h,d,g,c,f,b){var l=new c;c={messageService:l,subscribe:h.hitch(l,"subscribe"),unsubscribe:h.hitch(l,"unsubscribe"),publish:h.hitch(l,"publish"),start:h.hitch(l,"start"),stop:h.hitch(l,"stop"),isRunning:h.hitch(l,"isStarted"),isStarted:h.hitch(l,"isStarted"),isConnected:h.hitch(l,"isConnected"),isFatallyDisconnected:h.hitch(l,"isFatallyDisconnected"),isDisconnected:h.hitch(l,"isDisconnected"),setLatency:h.hitch(l,"setLatency"),setErrorRate:h.hitch(l,"setErrorRate"),onConnected:function(){},
onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:h.hitch(l,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};d.after(l,"onConnected",h.hitch(c,"onConnected"),!0);d.after(l,"onDisconnected",h.hitch(c,"onDisconnected"),!0);d.after(l,"onReconnected",
h.hitch(c,"onReconnected"),!0);d.after(l,"onFatallyDisconnected",h.hitch(c,"onFatallyDisconnected"),!0);d.after(l,"onNotConnected",h.hitch(c,"onNotConnected"),!0);var m=b.enableServerOnWorkerAsync;b.enableServerOnWorkerAsync=function(){m();l.setDelegate(new g(b))};var a=b.disableServerOnWorkerAsync;b.disableServerOnWorkerAsync=function(){a();l.setDelegate(new f(b,l))};b.isServerOnWorkerAsyncEnabled()?b.enableServerOnWorkerAsync():b.disableServerOnWorkerAsync();return c})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(h,d,g,c,f,b,l,m,a){var k;b.JSON.toJSON=c.stringify;b.JSON.fromJSON=c.parse;var e=0,n=0,p={};setInterval(function(){e+=200;Object.keys(p).forEach(function(a){var b=p[a];b.execTime<=e&&(b.func(),delete p[a])})},200);var q=function(k,c,d){var f=new b.LongPollingTransport,f=b.Transport.derive(f);f.xhrSend=function(a){var b=c.sendMessage(a.body,a.url,{headers:a.headers});b.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){b.cancel()}}};var m=new b.Cometd(k),g=b.Utils.setTimeout;
b.Utils.setTimeout=function(a,b,k){if(0===k)return g(a,b,k);n+=1;p[n]={func:function(){try{b()}catch(a){m._debug("Exception invoking timed function",b,a)}},execTime:e+k};return n};b.Utils.clearTimeout=function(a){delete p[a]};b.WebSocket=a.WebSocket;a.WebSocket.proxyClient=c;m.registerExtension("ack",new l);d.websocket&&m.registerTransport("websocket",new b.WebSocketTransport,0);m.registerTransport("long-polling",f,1);return m};k=h([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(b,e,k,c){this.remote=b;this.constructCometD=e||q;this.cometdProperties=c||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};b=["maxNetworkDelay","connectTimeout","logLevel"];if(e=d.cometdProperties)for(c=0;c<b.length;c+=1){var f=b[c];void 0!==e[f]&&(this.cometdProperties[f]=e[f])}this.workerProxyAsyncClient=k||new a("remoteWorkerAsyncProducer");
var l=this;g.after(this.workerProxyAsyncClient,"onError",function(a){l.cometd&&(l.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to IFrame error."),l.cometd.disconnect());l.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){l._deferredCleanup=!1;l.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=k.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var a={};k.enableWebsocket&&this._webSocket.try?a.websocket=!0:(a.websocket=!1,this._webSocket.try=!1);var b=this.constructCometD("messageService",this.workerProxyAsyncClient,a);this.cometd=b;this.logCometdLifecycle&&m.info("MessageServiceAsync constructing new cometd instance.");a=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var e=this,c=new f;a.then(function(a){e.logCometdLifecycle&&m.info("MessageServiceAsync cometd handshake successful.",a,b.getClientId(),b);b.isDisconnected()?(m.error("MessageServiceAsync cometd handshake successful but still disconnected!"),b.disconnect(),c.reject(a)):("websocket"===b.getTransport().getType()&&(e._webSocket.connectedAtLeastOnce=!0),c.resolve(a))},function(a){e.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
a,b.getClientId(),b);b.disconnect();if(a.request&&a.request.supportedConnectionTypes){var k=a.request.supportedConnectionTypes;1<k.length&&("websocket"===k[0]&&!e._webSocket.connectedAtLeastOnce)&&(e._webSocket.try=!1)}c.reject(a)});this.cometdProperties.url=this._getEndpoint();b.init(this.cometdProperties);return c.promise},disconnect:function(){this.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var e=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return e},doSubscribe:function(a){this.logCometdSubscriptions&&
m.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(a){if(this.subscriptions[a]){this.logCometdSubscriptions&&m.info("MessageServiceAsync unsubscribing cometd from channel: "+a);var b=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[a]);delete this.subscriptions[a];
return b}return(new f).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(a){var b=new f;this._addOneShotListener(a,function(a){a.successful?b.resolve(a):(m.warn("Message failed: ",a),b.reject(a))});return b.promise},_addOneShotListener:function(a,b){var e=this,k=this.cometd,c;c=this.cometd.addListener(a,function(a){k.removeListener(c);b.apply(e,arguments)})},_createListenerForUnknownClient:function(){var a=
this.cometd,b=this;a.addListener("/meta/connect",function(e){!e.successful&&(e.advice&&"handshake"===e.advice.reconnect)&&(a.disconnect(),b.onConnectionError(e.error))})},_getEndpoint:function(){return this.routingHost+this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});k.enableWebsocket=!1;k.workerHostOverride=!1;0<=
location.search.indexOf("websocket\x3don")&&(k.enableWebsocket=!0);return k})},"dojox/cometd/cometd":function(){define(function(){var h=this.org=this.org||{};h.cometd={};h.cometd.JSON={};h.cometd.JSON.toJSON=h.cometd.JSON.fromJSON=function(d){throw"Abstract";};h.cometd.Utils={};h.cometd.Utils.isString=function(d){return void 0===d||null===d?!1:"string"===typeof d||d instanceof String};h.cometd.Utils.isArray=function(d){return void 0===d||null===d?!1:d instanceof Array};h.cometd.Utils.inArray=function(d,
g){for(var c=0;c<g.length;++c)if(d===g[c])return c;return-1};h.cometd.Utils.setTimeout=function(d,g,c){return window.setTimeout(function(){try{g()}catch(c){d._debug("Exception invoking timed function",g,c)}},c)};h.cometd.Utils.clearTimeout=function(d){window.clearTimeout(d)};h.cometd.TransportRegistry=function(){var d=[],g={};this.getTransportTypes=function(){return d.slice(0)};this.findTransportTypes=function(c,f,b){for(var l=[],m=0;m<d.length;++m){var a=d[m];!0===g[a].accept(c,f,b)&&l.push(a)}return l};
this.negotiateTransport=function(c,f,b,l){for(var m=0;m<d.length;++m)for(var a=d[m],k=0;k<c.length;++k)if(a===c[k]){var e=g[a];if(!0===e.accept(f,b,l))return e}return null};this.add=function(c,f,b){for(var l=!1,m=0;m<d.length;++m)if(d[m]===c){l=!0;break}l||("number"!==typeof b?d.push(c):d.splice(b,0,c),g[c]=f);return!l};this.find=function(c){for(var f=0;f<d.length;++f)if(d[f]===c)return g[c];return null};this.remove=function(c){for(var f=0;f<d.length;++f)if(d[f]===c)return d.splice(f,1),f=g[c],delete g[c],
f;return null};this.clear=function(){d=[];g={}};this.reset=function(){for(var c=0;c<d.length;++c)g[d[c]].reset()}};h.cometd.Transport=function(){var d,g;this.registered=function(c,f){d=c;g=f};this.unregistered=function(){g=d=null};this._debug=function(){g._debug.apply(g,arguments)};this._mixin=function(){return g._mixin.apply(g,arguments)};this.getConfiguration=function(){return g.getConfiguration()};this.getAdvice=function(){return g.getAdvice()};this.setTimeout=function(c,d){return h.cometd.Utils.setTimeout(g,
c,d)};this.clearTimeout=function(c){h.cometd.Utils.clearTimeout(c)};this.convertToMessages=function(c){if(h.cometd.Utils.isString(c))try{return h.cometd.JSON.fromJSON(c)}catch(d){throw this._debug("Could not convert to JSON the following string",'"'+c+'"'),d;}if(h.cometd.Utils.isArray(c))return c;if(void 0===c||null===c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c;};this.accept=function(c,d,b){throw"Abstract";};this.getType=function(){return d};this.send=
function(c,d){throw"Abstract";};this.reset=function(){this._debug("Transport",d,"reset")};this.abort=function(){this._debug("Transport",d,"aborted")};this.toString=function(){return this.getType()}};h.cometd.Transport.derive=function(d){function g(){}g.prototype=d;return new g};h.cometd.RequestTransport=function(){function d(a){for(;0<e.length;){var b=e[0],k=b[0],b=b[1];if(k.url===a.url&&k.sync===a.sync)e.shift(),a.messages=a.messages.concat(k.messages),this._debug("Coalesced",k.messages.length,"messages from request",
b.id);else break}}function g(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var e=this.getConfiguration().maxNetworkDelay,k=e;!0===b.metaConnect&&(k+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",k,"ms for the response, maxNetworkDelay",e);var c=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var e="Request "+b.id+" of transport "+c.getType()+" exceeded "+k+" ms max network delay";c._debug(e);c.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,
a.messages,"timeout",e)},k)}}function c(a){var b=++m,c={id:b,metaConnect:!1};k.length<this.getConfiguration().maxConnections-1?(k.push(c),g.call(this,a,c)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),e.push([a,c]))}function f(a,b){var f=h.cometd.Utils.inArray(a,k);0<=f&&k.splice(f,1);if(0<e.length){var f=e.shift(),l=f[0],m=f[1];this._debug("Transport dequeued request",m.id);if(b)this.getConfiguration().autoBatch&&d.call(this,l),c.call(this,l),this._debug("Transport completed request",
a.id,l);else{var g=this;this.setTimeout(function(){g.complete(m,!1,m.metaConnect);l.onFailure(m.xhr,l.messages,"error","Previous request failed")},0)}}}var b=new h.cometd.Transport,l=h.cometd.Transport.derive(b),m=0,a=null,k=[],e=[];l.complete=function(b,e,k){if(k){b=b.id;this._debug("Transport",this.getType(),"metaConnect complete, request",b);if(null!==a&&a.id!==b)throw"Longpoll request mismatch, completing request "+b;a=null}else f.call(this,b,e)};l.transportSend=function(a,b){throw"Abstract";
};l.transportSuccess=function(a,b,e){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),e&&0<e.length)a.onSuccess(e);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};l.transportFailure=function(a,b,e,k){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,e,k))};l.send=function(b,e){if(e){if(null!==a)throw"Concurrent metaConnect requests not allowed, request id\x3d"+a.id+" not yet completed";var k=++m;this._debug("Transport",
this.getType(),"metaConnect send, request",k,"envelope",b);k={id:k,metaConnect:!0};g.call(this,b,k);a=k}else c.call(this,b)};l.abort=function(){b.abort();for(var e=0;e<k.length;++e){var c=k[e];this._debug("Aborting request",c);c.xhr&&c.xhr.abort()}a&&(this._debug("Aborting metaConnect request",a),a.xhr&&a.xhr.abort());this.reset()};l.reset=function(){b.reset();a=null;k=[];e=[]};return l};h.cometd.LongPollingTransport=function(){var d=new h.cometd.RequestTransport,g=h.cometd.Transport.derive(d),c=
!0;g.accept=function(d,b,l){return c||!b};g.xhrSend=function(c){throw"Abstract";};g.transportSend=function(d,b){this._debug("Transport",this.getType(),"sending request",b.id,"envelope",d);var l=this;try{var m=!0;b.xhr=this.xhrSend({transport:this,url:d.url,sync:d.sync,headers:this.getConfiguration().requestHeaders,body:h.cometd.JSON.toJSON(d.messages),onSuccess:function(a){l._debug("Transport",l.getType(),"received response",a);var e=!1;try{var m=l.convertToMessages(a);0===m.length?(c=!1,l.transportFailure(d,
b,"no response",null)):(e=!0,l.transportSuccess(d,b,m))}catch(g){l._debug(g),e||(c=!1,l.transportFailure(d,b,"bad response",g))}},onError:function(a,e){c=!1;m?l.setTimeout(function(){l.transportFailure(d,b,a,e)},0):l.transportFailure(d,b,a,e)}});m=!1}catch(a){c=!1,this.setTimeout(function(){l.transportFailure(d,b,"error",a)},0)}};g.reset=function(){d.reset();c=!0};return g};h.cometd.CallbackPollingTransport=function(){var d=new h.cometd.RequestTransport,d=h.cometd.Transport.derive(d);d.accept=function(d,
c,f){return!0};d.jsonpSend=function(d){throw"Abstract";};d.transportSend=function(d,c){for(var f=this,b=0,l=d.messages.length,m=[];0<l;){var a=h.cometd.JSON.toJSON(d.messages.slice(b,b+l)),a=d.url.length+encodeURI(a).length;if(2E3<a){if(1===l){var k="Bayeux message too big ("+a+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){f.transportFailure(d,c,"error",k)},0);return}--l}else m.push(l),b+=l,l=d.messages.length-b}var e=d;if(1<m.length){b=0;l=m[0];this._debug("Transport",
this.getType(),"split",d.messages.length,"messages into",m.join(" + "));e=this._mixin(!1,{},d);e.messages=d.messages.slice(b,l);e.onSuccess=d.onSuccess;e.onFailure=d.onFailure;for(a=1;a<m.length;++a){var n=this._mixin(!1,{},d),b=l,l=l+m[a];n.messages=d.messages.slice(b,l);n.onSuccess=d.onSuccess;n.onFailure=d.onFailure;this.send(n,c.metaConnect)}}this._debug("Transport",this.getType(),"sending request",c.id,"envelope",e);try{var p=!0;this.jsonpSend({transport:this,url:e.url,sync:e.sync,headers:this.getConfiguration().requestHeaders,
body:h.cometd.JSON.toJSON(e.messages),onSuccess:function(a){var b=!1;try{var k=f.convertToMessages(a);0===k.length?f.transportFailure(e,c,"no response"):(b=!0,f.transportSuccess(e,c,k))}catch(d){f._debug(d),b||f.transportFailure(e,c,"bad response",d)}},onError:function(a,b){p?f.setTimeout(function(){f.transportFailure(e,c,a,b)},0):f.transportFailure(e,c,a,b)}});p=!1}catch(q){this.setTimeout(function(){f.transportFailure(e,c,"error",q)},0)}};return d};h.cometd.WebSocketTransport=function(){function d(){var a=
l.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,e=null,k=l.getConfiguration().connectTimeout;0<k&&(e=this.setTimeout(function(){e=null;p||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",k,"ms"),b.onClose(1002,"Connect Timeout"))},k));var c=new h.cometd.WebSocket(a),d=function(a){var k=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",k,"/",a,c);e&&(b.clearTimeout(e),e=null);if(c!==n)b._debug("Ignoring close event, WebSocket",
n);else b.onClose(k,a)};c.onopen=function(){b._debug("WebSocket opened",c);e&&(b.clearTimeout(e),e=null);if(c!==n)b._debug("Ignoring open event, WebSocket",n);else b.onOpen()};c.onclose=d;c.onerror=function(){d({code:1002})};c.onmessage=function(a){b._debug("WebSocket message",a,c);if(c!==n)b._debug("Ignoring message event, WebSocket",n);else b.onMessage(a)};n=c;this._debug("Transport",this.getType(),"configured callbacks on",c)}function g(a,b){var k=h.cometd.JSON.toJSON(a.messages);n.send(k);this._debug("Transport",
this.getType(),"sent",a,"metaConnect \x3d",b);var c=k=this.getConfiguration().maxNetworkDelay;b&&(c+=this.getAdvice().timeout,q=!0);for(var d=[],f=0;f<a.messages.length;++f){var l=a.messages[f];if(l.id){d.push(l.id);var m=n;e[l.id]=this.setTimeout(function(){m&&m.close(1E3,"Timeout")},c)}}this._debug("Transport",this.getType(),"waiting at most",c,"ms for messages",d,"maxNetworkDelay",k,", timeouts:",e)}function c(a,b){try{null===n?d.call(this):p&&g.call(this,a,b)}catch(e){var k=n;this.setTimeout(function(){a.onFailure(k,
a.messages,"error",e)},0)}}var f=new h.cometd.Transport,b=h.cometd.Transport.derive(f),l,m=!0,a=!1,k={},e={},n=null,p=!1,q=!1,r;b.onOpen=function(){this._debug("Transport",this.getType(),"opened",n);a=p=!0;this._debug("Sending pending messages",k);for(var b in k){var e=k[b],c=e[0],e=e[1];r=c.onSuccess;g.call(this,c,e)}};b.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,n);var b=!1;a=this.convertToMessages(a.data);for(var c=[],d=0;d<a.length;++d){var f=a[d];
if((/^\/meta\//.test(f.channel)||void 0===f.data)&&f.id){c.push(f.id);var l=e[f.id];l&&(this.clearTimeout(l),delete e[f.id],this._debug("Transport",this.getType(),"removed timeout for message",f.id,", timeouts",e))}"/meta/connect"===f.channel&&(q=!1);"/meta/disconnect"===f.channel&&!q&&(b=!0)}d=!1;for(f=0;f<c.length;++f){var m=c[f],g;for(g in k){var l=g.split(","),p=h.cometd.Utils.inArray(m,l);if(0<=p){d=!0;l.splice(p,1);m=k[g][0];p=k[g][1];delete k[g];0<l.length&&(k[l.join(",")]=[m,p]);break}}}d&&
this._debug("Transport",this.getType(),"removed envelope, envelopes",k);r.call(this,a);b&&n.close(1E3,"Disconnect")};b.onClose=function(b,c){this._debug("Transport",this.getType(),"closed",b,c,n);m=a;for(var d in e)this.clearTimeout(e[d]);e={};for(var f in k)d=k[f][0],k[f][1]&&(q=!1),d.onFailure(n,d.messages,"closed "+b+"/"+c);k={};null!==n&&p&&n.close(1E3,"Close");p=!1;n=null};b.registered=function(a,b){f.registered(a,b);l=b};b.accept=function(a,b,e){return m&&!!h.cometd.WebSocket&&!1!==l.websocketEnabled};
b.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect \x3d",b);for(var e=[],d=0;d<a.messages.length;++d){var f=a.messages[d];f.id&&e.push(f.id)}k[e.join(",")]=[a,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",k);c.call(this,a,b)};b.abort=function(){f.abort();if(null!==n)try{n.close(1001)}catch(a){this._debug(a)}this.reset()};b.reset=function(){f.reset();null!==n&&p&&n.close(1E3,"Reset");m=!0;a=!1;e={};k={};n=null;p=!1;r=null};return b};h.cometd.Cometd=
function(d){function g(a){return h.cometd.Utils.isString(a)}function c(a){return void 0===a||null===a?!1:"function"===typeof a}function f(a,b){if(window.console){var e=window.console[a];c(e)&&e.apply(window.console,b)}}function b(){for(var a in Z)for(var b=Z[a],e=b.length-1;0<=e;--e){var k=b[e];k&&!k.listener&&(b.splice(e,1),C._debug("Removed subscription",k,"for channel",a))}}function l(a){P!==a&&(C._debug("Status",P,"-\x3e",a),P=a)}function m(){return"disconnecting"===P||"disconnected"===P}function a(a,
b,e,k,d){try{return b.call(a,k)}catch(f){C._debug("Exception during execution of extension",e,f);a=C.onExtensionException;if(c(a)){C._debug("Invoking extension exception callback",e,f);try{a.call(C,f,e,d,k)}catch(l){C._info("Exception during execution of exception callback in extension",e,l)}}return k}}function k(b){for(var e=0;e<U.length&&!(void 0===b||null===b);++e){var k=U[e],d=k.extension.outgoing;c(d)&&(k=a(k.extension,d,k.name,b,!0),b=void 0===k?b:k)}return b}function e(a,b){var e=Z[a];if(e&&
0<e.length)for(var k=e.length-1;0<=k;--k){var d=e[k];try{d.callback.call(d.scope,b)}catch(f){C._debug("Exception during notification",d,b,f);var l=C.onListenerException;if(c(l)){C._debug("Invoking listener exception callback",d,f);try{l.call(C,f,d.handle,d.listener,b)}catch(m){C._info("Exception during execution of listener callback",d,m)}}}}}function n(a,b){e(a,b);for(var k=a.split("/"),c=k.length-1,d=c;0<d;--d){var f=k.slice(0,d).join("/")+"/*";d===c&&e(f,b);f+="*";e(f,b)}}function p(){null!==aa&&
h.cometd.Utils.clearTimeout(aa);aa=null}function q(a){p();var b=V.interval+T;C._debug("Function scheduled in",b,"ms, interval \x3d",V.interval,"backoff \x3d",T,a);aa=h.cometd.Utils.setTimeout(C,a,b)}function r(a,b,e,d){for(var f=0;f<b.length;++f){var l=b[f];l.id=""+ ++$;R&&(l.clientId=R);var m=void 0;c(l._callback)&&(m=l._callback,delete l._callback);l=k(l);void 0!==l&&null!==l?(b[f]=l,m&&(F[l.id]=m)):b.splice(f--,1)}0!==b.length&&(f=N.url,N.appendMessageTypeToURL&&(f.match(/\/$/)||(f+="/"),d&&(f+=
d)),a={url:f,sync:a,messages:b,onSuccess:function(a){try{fa.call(C,a)}catch(b){C._debug("Exception during handling of messages",b)}},onFailure:function(a,b,e,k){try{da.call(C,a,b,e,k)}catch(c){C._debug("Exception during handling of failure",c)}}},C._debug("Send",a),L.send(a,e))}function s(a){0<W||!0===Y?X.push(a):r(!1,[a],!1)}function t(){var a=X;X=[];0<a.length&&r(!1,a,!1)}function u(){l("connecting");q(function(){if(!m()){var a={channel:"/meta/connect",connectionType:L.getType()};ea||(a.advice=
{timeout:0});l("connecting");C._debug("Connect sent",a);r(!1,[a],!0,"connect");l("connected")}})}function x(a){a&&(V=C._mixin(!1,{},N.advice,a),C._debug("New advice",V))}function w(a){p();a&&L.abort();R=null;l("disconnected");T=W=0;0<X.length&&(da.call(C,void 0,X,"error","Disconnected"),X=[])}function v(a){R=null;b();m()?(K.reset(),x(N.advice)):x(C._mixin(!1,V,{reconnect:"retry"}));W=0;Y=!0;ba=a;a=K.findTransportTypes("1.0",Q,N.url);var e=C._mixin(!1,{},ba,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",
supportedConnectionTypes:a,advice:{timeout:V.timeout,interval:V.interval}});L=K.negotiateTransport(a,"1.0",Q,N.url);C._debug("Initial transport is",L.getType());l("handshaking");C._debug("Handshake sent",e);r(!1,[e],!1,"handshake")}function z(){l("handshaking");Y=!0;q(function(){v(ba)})}function y(a){n("/meta/handshake",a);n("/meta/unsuccessful",a);!m()&&"none"!==V.reconnect?(T<N.maxBackoff&&(T+=N.backoffIncrement),z()):w(!1)}function A(a){n("/meta/connect",a);n("/meta/unsuccessful",a);a=m()?"none":
V.reconnect;switch(a){case "retry":u();T<N.maxBackoff&&(T+=N.backoffIncrement);break;case "handshake":K.reset();T=0;z();break;case "none":w(!1);break;default:throw"Unrecognized advice action"+a;}}function B(a){w(!0);n("/meta/disconnect",a);n("/meta/unsuccessful",a)}function D(a){n("/meta/subscribe",a);n("/meta/unsuccessful",a)}function H(a){n("/meta/unsubscribe",a);n("/meta/unsuccessful",a)}function G(a){var b=F[a.id];c(b)&&(delete F[a.id],b.call(C,a))}function I(a){G(a);n("/meta/publish",a);n("/meta/unsuccessful",
a)}function O(b){for(var e=0;e<U.length&&!(void 0===b||null===b);++e){var k=U[N.reverseIncomingExtensions?U.length-1-e:e],d=k.extension.incoming;c(d)&&(k=a(k.extension,d,k.name,b,!1),b=void 0===k?b:k)}if(!(void 0===b||null===b))switch(x(b.advice),b.channel){case "/meta/handshake":if(b.successful){R=b.clientId;e=K.negotiateTransport(b.supportedConnectionTypes,b.version,Q,N.url);if(null===e)throw"Could not negotiate transport with server; client "+K.findTransportTypes(b.version,Q,N.url)+", server "+
b.supportedConnectionTypes;L!==e&&(C._debug("Transport",L,"-\x3e",e),L=e);Y=!1;t();b.reestablish=ca;ca=!0;n("/meta/handshake",b);b=m()?"none":V.reconnect;switch(b){case "retry":T=0;u();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+b;}}else y(b);break;case "/meta/connect":if(ea=b.successful)switch(n("/meta/connect",b),b=m()?"none":V.reconnect,b){case "retry":T=0;u();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+b;}else A(b);break;case "/meta/disconnect":b.successful?
(w(!1),n("/meta/disconnect",b)):B(b);break;case "/meta/subscribe":b.successful?n("/meta/subscribe",b):D(b);break;case "/meta/unsubscribe":b.successful?n("/meta/unsubscribe",b):H(b);break;default:void 0===b.successful?void 0!==b.data&&null!==b.data?n(b.channel,b):C._debug("Unknown message",b):b.successful?(G(b),n("/meta/publish",b)):I(b)}}function S(a){if(a=Z[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function M(a,b){var e={scope:a,method:b};if(c(a))e.scope=void 0,e.method=a;else if(g(b)){if(!a)throw"Invalid scope "+
a;e.method=a[b];if(!c(e.method))throw"Invalid callback "+b+" for scope "+a;}else if(!c(b))throw"Invalid callback "+b;return e}function J(a,b,e,k){b=M(b,e);C._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);k={channel:a,scope:b.scope,callback:b.method,listener:k};b=Z[a];b||(b=[],b.subscriptionCounter=0,Z[a]=b);b.push(k);e=b.subscriptionCounter;b.subscriptionCounter+=1;k.id=e;k.handle=[a,e];C._debug("Added listener",k,"for channel",a,"having id \x3d",e);return k.handle}var C=
this,E=d||"default",Q=!1,K=new h.cometd.TransportRegistry,L,P="disconnected",$=0,R=null,W=0,X=[],Y=!1,Z={},T=0,aa=null,U=[],V={},ba,F={},ca=!1,ea=!1,N={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,b,e){for(var k=b||{},c=2;c<arguments.length;++c){var d=arguments[c];if(!(void 0===d||
null===d))for(var f in d){var l=d[f],m=k[f];l!==b&&void 0!==l&&(k[f]=a&&"object"===typeof l&&null!==l?l instanceof Array?this._mixin(a,m instanceof Array?m:[],l):this._mixin(a,"object"===typeof m&&!(m instanceof Array)?m:{},l):l)}}return k};this._warn=function(){f("warn",arguments)};this._info=function(){"warn"!==N.logLevel&&f("info",arguments)};this._debug=function(){"debug"===N.logLevel&&f("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var fa,da;this.send=
s;this.receive=O;fa=function(a){C._debug("Received",a);for(var b=0;b<a.length;++b)O(a[b])};da=function(a,b,e,k){C._debug("handleFailure",a,b,e,k);for(e=0;e<b.length;++e){var c=b[e];switch(c.channel){case "/meta/handshake":y({successful:!1,failure:!0,channel:"/meta/handshake",request:c,xhr:a,advice:{reconnect:"retry",interval:T}});break;case "/meta/connect":k=a;ea=!1;A({successful:!1,failure:!0,channel:"/meta/connect",request:c,xhr:k,advice:{reconnect:"retry",interval:T}});break;case "/meta/disconnect":B({successful:!1,
failure:!0,channel:"/meta/disconnect",request:c,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":D({successful:!1,failure:!0,channel:"/meta/subscribe",request:c,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":H({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:c,xhr:a,advice:{reconnect:"none",interval:0}});break;default:I({successful:!1,failure:!0,channel:c.channel,request:c,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=
function(a,b,e){if(e=K.add(a,b,e))this._debug("Registered transport",a),c(b.registered)&&b.registered(a,this);return e};this.getTransportTypes=function(){return K.getTransportTypes()};this.unregisterTransport=function(a){var b=K.remove(a);null!==b&&(this._debug("Unregistered transport",a),c(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=function(){K.clear()};this.findTransport=function(a){return K.find(a)};this.configure=function(a){C._debug("Configuring cometd object with",
a);g(a)&&(a={url:a});a||(a={});N=C._mixin(!1,N,a);if(!N.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(N.url);a=b[8];var e=b[9];Q=C._isCrossDomain(b[2]);N.appendMessageTypeToURL&&(void 0!==e&&0<e.length?(C._info("Appending message type to URI "+a+e+" is not supported, disabling 'appendMessageTypeToURL' configuration"),N.appendMessageTypeToURL=!1):(b=a.split("/"),e=b.length-
1,a.match(/\/$/)&&(e-=1),0<=b[e].indexOf(".")&&(C._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),N.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){l("disconnected");ca=!1;v(a)};this.disconnect=function(a,b){if(!m()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var e=this._mixin(!1,{},b,{channel:"/meta/disconnect"});l("disconnecting");r(!0===a,[e],!1,"disconnect")}};
this.startBatch=function(){++W};this.endBatch=function(){--W;if(0>W)throw"Calls to startBatch() and endBatch() are not paired";0===W&&(!m()&&!Y)&&t()};this.batch=function(a,b){var e=M(a,b);this.startBatch();try{e.method.call(e.scope),this.endBatch()}catch(k){throw this._debug("Exception during execution of batch",k),this.endBatch(),k;}};this.addListener=function(a,b,e){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(a))throw"Illegal argument type: channel must be a string";
return J(a,b,e,!0)};this.removeListener=function(a){if(!h.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=Z[a[0]],e;if(0<b.length){e=a[1];a:{for(var k=0;k<b.length;){if(b[k].id===e){e=k;break a}k+=1}e=-1}-1!==e&&(b.splice(e,1),C._debug("Removed listener",a))}};this.clearListeners=function(){Z={}};this.subscribe=function(a,b,e,k){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(a))throw"Illegal argument type: channel must be a string";
if(m())throw"Illegal state: already disconnected";c(b)&&(k=e,e=b,b=void 0);var d=!S(a),f=J(a,b,e,!1);d&&(d=this._mixin(!1,{},k,{channel:"/meta/subscribe",subscription:a}),s(d));return f};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(m())throw"Illegal state: already disconnected";this.removeListener(a);var e=a[0];S(e)||(e=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:e}),s(e))};this.clearSubscriptions=function(){b()};
this.publish=function(a,b,e,k){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!g(a))throw"Illegal argument type: channel must be a string";if(m())throw"Illegal state: already disconnected";c(b)?(k=b,b=e={}):c(e)&&(k=e,e={});var d=this._mixin(!1,{},e,{channel:a,data:b,_callback:k});s(d)};this.getStatus=function(){return P};this.isDisconnected=m;this.setBackoffIncrement=function(a){N.backoffIncrement=a};this.getBackoffIncrement=function(){return N.backoffIncrement};
this.getBackoffPeriod=function(){return T};this.setLogLevel=function(a){N.logLevel=a};this.registerExtension=function(a,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(a))throw"Illegal argument type: extension name must be a string";for(var e=!1,k=0;k<U.length;++k)if(U[k].name===a){e=!0;break}if(e)return this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1;U.push({name:a,extension:b});
this._debug("Registered extension",a);c(b.registered)&&b.registered(a,this);return!0};this.unregisterExtension=function(a){if(!g(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,e=0;e<U.length;++e){var k=U[e];if(k.name===a){U.splice(e,1);b=!0;this._debug("Unregistered extension",a);a=k.extension;c(a.unregistered)&&a.unregistered();break}}return b};this.getExtension=function(a){for(var b=0;b<U.length;++b){var e=U[b];if(e.name===a)return e.extension}return null};this.getName=
function(){return E};this.getClientId=function(){return R};this.getURL=function(){return N.url};this.getTransport=function(){return L};this.getConfiguration=function(){return this._mixin(!0,{},N)};this.getAdvice=function(){return this._mixin(!0,{},V)};h.cometd.WebSocket=window.WebSocket;h.cometd.WebSocket||(h.cometd.WebSocket=window.MozWebSocket)};return h.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(h){return h.AckExtension=function(){var d,g=!1,c=-1;this.registered=
function(c,b){d=b;d._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){d._debug("AckExtension: executing unregistration callback",void 0);d=null};this.incoming=function(f){var b=f.channel;if("/meta/handshake"==b)g=f.ext&&f.ext.ack,d._debug("AckExtension: server supports acks",g);else if(g&&"/meta/connect"==b&&f.successful&&(b=f.ext)&&"number"===typeof b.ack)c=b.ack,d._debug("AckExtension: server sent ack id",c);return f};this.outgoing=function(f){var b=f.channel;
"/meta/handshake"==b?(f.ext||(f.ext={}),f.ext.ack=d&&!1!==d.ackEnabled,c=-1):g&&"/meta/connect"==b&&(f.ext||(f.ext={}),f.ext.ack=c,d._debug("AckExtension: client sending ack id",c));return f}}})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),function(h,d,g,c,f,b,l,m){return h([m],{logSubscriptions:!1,constructor:function(){this.batching=
!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(a){this.inherited(arguments);c.after(this._delegate,"onMessage",g.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var e=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return e}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,b,e){this.logSubscriptions&&l.info("MessageService subscribe: "+
a,b,e);this._addHandler(this.channelSubscriptions,a,b,e);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,b,e),this._deferProcessQueue(),a):this._queueSubscribe(a,b,e)},unsubscribe:function(a,b,e){this.logSubscriptions&&l.info("MessageService unsubscribe: "+a,b,e);if(this._removeHandler(this.channelSubscriptions,a,b,e))return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueUnsubscribe(a,b,e),this._deferProcessQueue(),a):(new f).resolve();
l.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new f).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",
arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,b){var e=new f;this._queuedOps.push({type:"publish",channel:a,data:b,deferred:e});return e.promise},
_queueSubscribe:function(a,b,e){var c=new f;this._queuedOps.push({type:"subscribe",channel:a,handler:b,scope:e,deferred:c});return c.promise},_queueUnsubscribe:function(a,b,e){for(var c=new f,d,l=0;l<this._queuedOps.length;l++)if(d=this._queuedOps[l],"subscribe"===d.type&&d.channel===a&&d.handler===b&&d.scope===e)return this._queuedOps.splice(l,1),d.deferred.resolve(),(new f).resolve();this._queuedOps.push({type:"unsubscribe",channel:a,handler:b,scope:e,deferred:c});return c.promise},_processQueue:function(){var a=
this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,a.scope));b.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},
_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new f).resolve();var b=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return b},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?(new f).resolve():this._delegate.doUnsubscribe(a)},
handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var e=a.channel.split("/");for(b=1;b<=e.length;b+=1)this._callHandlers(this.channelSubscriptions,e.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,e.slice(0,e.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,e.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},registerMessageHandler:function(a,b,e){l.error("registerMessageHandler is not supported any more.")},
deregisterMessageHandler:function(a,b,e){l.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,e){this.typeSerializers.push({typeMatcher:a,type:b,serializer:e})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return g.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||g.isString(a)?a:this._serializeObject(a)},deserialize:function(a){return g.isArray(a)?this._deserializeArray(a):a instanceof
Number||a instanceof Boolean||g.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,e,c){var d;c=c||this;"string"===typeof e&&"function"!==typeof c[e]?l.warn("Not adding invalid handler: "+e):(d=a[b],d||(d=[],a[b]=d),a={channel:b,handler:e,scope:c},d.push(a),d.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,e,c){var d;d=a[b];e=this._getHandlerIndex(d,{handler:e,scope:c||this});0<=e&&d.splice(e,1);(!d||0===d.length)&&delete a[b];return 0<=e},_callHandlers:function(a,
b,e){var c;if(a.hasOwnProperty(b)){a=a[b];for(c=0;c<a.length;c+=1)try{"string"===typeof a[c].handler?a[c].scope[a[c].handler].call(a[c].scope,e):a[c].handler.call(a[c].scope,e)}catch(f){l.error("Error while executing message handler on channel: "+b+", message: "+d.toJson(e)+", error: "+f)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var e;for(e=0;e<a.length;e+=1)if(b.handler===a[e].handler&&b.scope===a[e].scope)return e;return-1},_serializeObject:function(a){var b,e;for(e=0;e<this.typeSerializers.length;e+=
1){var c=this.typeSerializers[e];if(c.typeMatcher(a))return{__type__:c.type,__value__:c.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,e=a.length;for(b=0;b<e;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,
a.__value__)}catch(e){l.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,e=a.length;for(b=0;b<e;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],function(h,d){return h([],{constructor:function(g){g.stateMachine=this;this.state=new d(g)},start:function(){this.state.enter()},
stop:function(){this.state.exit()},_changeState:function(d,c){this.state.enter(d,c)},onEnterState:function(d){},onExitState:function(d){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(h,d,g,c,f,b,l,m){var a;return a=h([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};
this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?(a=this.namespace.split("."),a=a.pop()):g.warn("State: state name is not specified.");return a||""},constructSubstates:function(b){var e=
{},c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],d.name&&d.name!==c&&g.error("State: error constructing substate: "+c+", the specified names don't match: "+d.name),d.name=c,d.namespace=d.namespace||[this.namespace,this.name].join("."),d.stateMachine=d.stateMachine||this.stateMachine,d.context=d.context||this.context,e[d.name]=new a(d));this.substates=e},constructTriggersAndTransitions:function(a){var b,c={},d=[],f;for(b in a)a.hasOwnProperty(b)&&((f=this.constructTrigger(b))&&d.push(f),c[b]=this.constructTransition(b,
a[b]));this.transitions=c;this.triggers=d},constructTrigger:function(a){var e,m,g;e=a.split(" ");if(2===e.length)"subscribe"===e[0]?g=f:"response"===e[0]||"fault"===e[0]?g=b:"timeout"===e[0]&&(g=l);else if("onEnterState"!==a||"onExitState"!==a)g=c;g&&(m=new g({name:a,context:this.context,triggerHandler:d.hitch(this,this.handleTrigger)}));return m},constructTransition:function(a,b){var c;if(d.isFunction(b)||d.isString(b)||d.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=
""):(c=b,b={},b.target=c);b.state=this;return new m(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},
disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))d.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===
this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(h,d,g,c,f){return h(f,{constructor:function(){this.connection=
{}},enable:function(){d.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=g.after(this.context,this.name,d.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],function(h){return h([],{constructor:function(d){this.name="";this.context={};this.triggerHandler=
d.triggerHandler||function(){};h.safeMixin(this,d)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(h,d,g,c,f){return h(f,{constructor:function(){var b=this.name.split(" ");(2>b.length||"subscribe"!==b[0])&&c.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");this.messageId=b[1]||"";this.subscrition={}},enable:function(){this.subscription=
g.subscribe(this.messageId,d.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(h,d,g,c,f){return h(f,{constructor:function(){var b=this.name.split(" ");(2>b.length||"response"!==b[0]&&"fault"!==b[0])&&g.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!c.registerResponseHandler||!c.registerFaultHandler)&&g.error("The remote package is not available, this type of trigger will not work.");this.messageId=b[1]||"";this.handlerType=b[0]},enable:function(){"response"===this.handlerType?c.registerResponseHandler(this.messageId,d.hitch(null,this.triggerHandler,this.name)):c.registerFaultHandler(this.messageId,d.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?c.deregisterResponseHandler(this.messageId):c.deregisterFaultHandler(this.messageId)}})})},
"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(h,d,g,c){return h(c,{constructor:function(){var c=this.name.split(" ");(2>c.length||"timeout"!==c[0])&&g.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(c[1]);this.handlerType=c[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(d.hitch(null,this.triggerHandler,this.name),
1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(h,d,g){return h([],{constructor:function(c){this.state={};this.target="";this.action=this.condition=null;h.safeMixin(this,c)},handleTrigger:function(c,d){var b="";this.checkCondition(c,d)&&(this.runAction(c,d),b=this.getTarget(c,this.target,d));
return b},checkCondition:function(c,f){return!this.condition?!0:d.hitch(this.state.context,this.condition).apply(null,[c,this.state.data].concat(f))},runAction:function(c,f){var b;this.action&&(b=d.hitch(this.state.context,this.action),b.apply(null,[c,this.state.data].concat(f)))},getTarget:function(c,f,b){var l,m,a;if(d.isString(f))m=f;else if(d.isFunction(f))f=d.hitch(this.state.context,f),m=f.apply(null,[c,this.state.data].concat(b));else if(d.isArray(f))for(l=0;l<f.length;l+=1){m=this.getTarget(c,
f[l],b);if(d.isString(m)){m={target:m};d.mixin(m,a);break}if(m&&m.target){d.mixin(m,a);break}a=m||{}}else g.warn("Transition: improper target: ",f);return m}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(h,d,g,c,f,b,l){return h([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",
namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",
_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,
stop:"disconnected"}}}}},setDelegate:function(c){if(this._delegate!==c){this._delegate=c;var a=this;g.after(c,"onConnectionError",function(){l.warn("MessageService received connection error, reconnecting");a._reconnect()},!0);this._states=new b(this._stateOptions);g.after(this._states,"onEnterState",d.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(b){var a=this._currentState;this._currentState=b;this.logStateChanges&&l.info("MessageService state change: "+
a+" -\x3e "+b);if("connected"===a)this.onNotConnected();if("connected"===b&&this._previouslyConnected)this.onReconnected();else if("connected"===b&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;l.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&l.info("MessageService timeout:",arguments)},_retryFailure:function(){var b;this._retryCount>=this._MAX_RETRIES&&(l.error("Message service fatally disconnected."),b="fatallyDisconnected");return b},_enterResubscribing:function(){function b(a){e.push(this._delegate.doSubscribe(a.channel))}
var a,c,e=[];this._delegate.doStartBatch();for(a in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(a)&&(c=this.channelSubscriptions[a],c.forEach(b,this),this.channelSubscriptions[a].subscribed=!0);this._delegate.doEndBatch();f(e).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&l.info("Successfully connected."),
this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","mw-log/Log"],function(h,d,g){return h([],{pollDelay:50,constructor:function(c,
d){this.remote=c;this.messageService=d;this.pending=0;c.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);c.registerResponseHandler("OpaqueMessageResponse",function(b){this.pending-=1;b.forEach(function(b){try{b.opaqueMessageDOs&&b.opaqueMessageDOs.forEach(d.handleMessage,d)}catch(c){g.error("Error while handling message: "+c)}});this.poll()},this)},onMessage:function(c){},onConnectionError:function(c){},connect:function(){this.enabled=!0;
this.poll();return(new d).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new d).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var c=this;this.timeout=setTimeout(function(){c.pending+=1;c.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});c.timeout=null},this.pollDelay)}},doPublish:function(c,d){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:c,
data:d}]}})},doSubscribe:function(c){},doUnsubscribe:function(c){},doStartBatch:function(){},doEndBatch:function(){}})})},"dojo/dnd/Target":function(){define(["../_base/declare","../dom-class","./Source"],function(h,d,g){return h("dojo.dnd.Target",g,{constructor:function(){this.isSource=!1;d.remove(this.node,"dojoDndSource")}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){g.isAsync||m(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var p=d("dojo.dnd.Source",e,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(b,e){c.mixin(this,c.mixin({},e));var k=this.accept;if(k.length){this.accept={};for(var d=0;d<k.length;++d)this.accept[k[d]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&f.add(this.node,"dojoDndSource");this.targetState="";this.accept&&f.add(this.node,"dojoDndTarget");this.horizontal&&f.add(this.node,"dojoDndHorizontal");this.topics=[a.subscribe("/dnd/source/over",c.hitch(this,"onDndSourceOver")),a.subscribe("/dnd/start",c.hitch(this,"onDndStart")),a.subscribe("/dnd/drop",c.hitch(this,"onDndDrop")),a.subscribe("/dnd/cancel",c.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==
a)return!this.copyOnly||this.selfAccept;for(var e=0;e<b.length;++e){for(var c=a.getItem(b[e].id).type,k=!1,d=0;d<c.length;++d)if(c[d]in this.accept){k=!0;break}if(!k)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==n.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){p.superclass.destroy.call(this);h.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&
"Disabled"==this.targetState)){p.superclass.onMouseMove.call(this,a);var e=n.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var c=this.getSelectedNodes();c.length&&e.startDrag(this,c,this.copyState(k.getCopyKeyState(a),!0))}if(this.isDragging){c=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=b.position(this.current,!0);c=this.horizontal?a.pageX-this.targetBox.x<
this.targetBox.w/2==b.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||c!=this.before)this._markTargetAnchor(c),e.canDrop(!this.current||e.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!k.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,p.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&
(this.mouseDown=!1,p.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=n.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,e){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?e?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?
"":"Disabled");this==a&&n.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,e,c){if(this==c)this.onDrop(a,b,e);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,e){if(this!=a)this.onDropExternal(a,b,e);else this.onDropInternal(b,e)},onDropExternal:function(a,b,e){var c=this._normalizedCreator;
this._normalizedCreator=this.creator?function(b,e){return c.call(this,a.getItem(b.id).data,e)}:e?function(b){var e=a.getItem(b.id);b=b.cloneNode(!0);b.id=k.getUniqueId();return{node:b,data:e.data,type:e.type}}:function(b){var e=a.getItem(b.id);a.delItem(b.id);return{node:b,data:e.data,type:e.type}};this.selectNone();!e&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!e&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=c},onDropInternal:function(a,b){var e=
this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return e.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=k.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=
e}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){p.superclass.onOverEvent.call(this);n.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){p.superclass.onOutEvent.call(this);n.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!l.isLeft(a))return!1;
if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(f.contains(a,"dojoDndHandle"))return!0;if(f.contains(a,"dojoDndItem")||f.contains(a,"dojoDndIgnore"))break}return!1}});return p})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){var p=d("dojo.dnd.Selector",n,{constructor:function(b,e){e||
(e={});this.singular=e.singular;this.autoSync=e.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(a(this.node,k.press,c.hitch(this,"onMouseDown")),a(this.node,k.release,c.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new m,b=e._empty,c;for(c in this.selection)c in b||a.push(f.byId(c));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(f.byId(b),
"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=e._empty,c;for(c in this.selection)if(!(c in a)){var k=f.byId(c);this.delItem(c);b.destroy(k)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||g.global;var c=this.selection,k=e._empty,d;for(d in c)d in k||a.call(b,this.getItem(d),d,this)},sync:function(){p.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=e._empty,
c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);h.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,e,c){var k=this._normalizedCreator;this._normalizedCreator=function(b,e){var c=k.call(this,b,e);a?(this.anchor?this.anchor!=c.node&&(this._removeItemClass(c.node,"Anchor"),this._addItemClass(c.node,"Selected")):(this.anchor=c.node,this._removeItemClass(c.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[c.node.id]=1):(this._removeItemClass(c.node,
"Selected"),this._removeItemClass(c.node,"Anchor"));return c};p.superclass.insertNodes.call(this,b,e,c);this._normalizedCreator=k;return this},destroy:function(){p.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!e.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,l.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){e.getCopyKeyState(a)||
this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,k;c<b.length&&!(k=b[c],k==this.anchor||k==this.current);++c);for(++c;c<b.length;++c){k=b[c];if(k==this.anchor||k==this.current)break;this._addItemClass(k,"Selected");this.selection[k.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==
this.current?e.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):e.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},
onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=a(this.node,k.move,c.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=e._empty,b;for(b in this.selection)if(!(b in a)){var c=f.byId(b);c&&this._removeItemClass(c,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null);return this}});return p})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){d=d("dojo.dnd.Container",a,{skipForm:!1,allowNested:!1,constructor:function(a,k){this.node=b.byId(a);k||(k={});this.creator=k.creator||null;this.skipForm=k.skipForm;this.parent=k.dropParent&&b.byId(k.dropParent);
this.map={};this.current=null;this.containerState="";l.add(this.node,"dojoDndContainer");(!k||!k._skipStartup)&&this.startup();this.events=[e(this.node,p.over,c.hitch(this,"onMouseOver")),e(this.node,p.out,c.hitch(this,"onMouseOut")),e(this.node,"dragstart",c.hitch(this,"onSelectStart")),e(this.node,"selectstart",c.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,
b){b=b||g.global;var e=this.map,c=q._empty,k;for(k in e)k in c||a.call(b,e[k],k,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return n((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var e=this.getItem(b.id);if(e){a[b.id]=e;return}}else b.id=q.getUniqueId();var e=b.getAttribute("dndType"),c=b.getAttribute("dndData");a[b.id]={data:c||b.innerHTML,type:e?e.split(/\s*,\s*/):["text"]}},this);
this.map=a;return this},insertNodes:function(a,b,e){this.parent.firstChild?b?e||(e=this.parent.firstChild):e&&(e=e.nextSibling):e=null;var c;if(e)for(b=0;b<a.length;++b)c=this._normalizedCreator(a[b]),this.setItem(c.node.id,{data:c.data,type:c.type}),e.parentNode.insertBefore(c.node,e);else for(b=0;b<a.length;++b)c=this._normalizedCreator(a[b]),this.setItem(c.node.id,{data:c.data,type:c.type}),this.parent.appendChild(c.node);return this},destroy:function(){h.forEach(this.events,function(a){a.remove()});
this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,e){a._skipStartup=!0;return new e(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=q._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(e){b=null}b||(this._changeState("Container",
"Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!q.isFormElement(a))a.stopPropagation(),
a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var e="dojoDnd"+a,c=a.toLowerCase()+"State";l.replace(this.node,e+b,e+this[c]);this[c]=b},_addItemClass:function(a,b){l.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){l.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&l.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,
b){var e=(this.creator||this.defaultCreator).call(this,a,b);c.isArray(e.type)||(e.type=["text"]);e.node.id||(e.node.id=q.getUniqueId());l.add(e.node,"dojoDndItem");return e}});q._createNode=function(a){return!a?q._createSpan:function(b){return m.create(a,{innerHTML:b})}};q._createTrTd=function(a){var b=m.create("tr");m.create("td",{innerHTML:a},b);return b};q._createSpan=function(a){return m.create("span",{innerHTML:a})};q._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};q._defaultCreator=
function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?q._createTrTd:q._createNode(q._defaultCreatorNodes[a]);return function(a,e){var k=a&&c.isObject(a),d,f;k&&a.tagName&&a.nodeType&&a.getAttribute?(d=a.getAttribute("dndData")||a.innerHTML,k=(k=a.getAttribute("dndType"))?k.split(/\s*,\s*/):["text"],f=a):(d=k&&a.data?a.data:a,k=k&&a.type?a.type:["text"],f=("avatar"==e?q._createSpan:b)(String(d)));f.id||(f.id=q.getUniqueId());return{node:f,data:d,type:k}}};return d})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){var r=d("dojo.dnd.Manager",[b],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:l("touch")?4:16,OFFSET_Y:l("touch")?4:16,overSource:function(a){this.avatar&&(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());k.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=
!1,this.avatar.update(),k.publish("/dnd/source/over",null)):k.publish("/dnd/source/over",null)},startDrag:function(b,d,l){function m(a){a.preventDefault();a.stopPropagation()}p.autoScrollStart(c.doc);this.source=b;this.nodes=d;this.copy=Boolean(l);this.avatar=this.makeAvatar();c.body().appendChild(this.avatar.node);k.publish("/dnd/start",b,d,this.copy);this.events=[a(c.doc,e.move,g.hitch(this,"onMouseMove")),a(c.doc,e.release,g.hitch(this,"onMouseUp")),a(c.doc,"keydown",g.hitch(this,"onKeyDown")),
a(c.doc,"keyup",g.hitch(this,"onKeyUp")),a(c.doc,"dragstart",m),a(c.body(),"selectstart",m)];f.add(c.body(),"dojoDnd"+(l?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){f.remove(c.body(),["dojoDndCopy","dojoDndMove"]);h.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new q(this)},updateAvatar:function(){this.avatar.update()},
onMouseMove:function(a){var b=this.avatar;b&&(p.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(n.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));l("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(n.getCopyKeyState(a)));k.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);k.publish("/dnd/drop",this.source,
this.nodes,b,this.target,a)}else k.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case m.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case m.ESCAPE:k.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==m.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();
f.replace(c.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});n._manager=null;r.manager=n.manager=function(){n._manager||(n._manager=new r);return n._manager};return r})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),function(h,d,g,c,f,b,l,m){return h("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var a=b.create("table",
{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),k=this.manager.source,e,d=b.create("tbody",null,a),f=b.create("tr",null,d),m=b.create("td",null,f),g=Math.min(5,this.manager.nodes.length),h=0;l("highcontrast")&&b.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},m);b.create("span",{innerHTML:k.generateText?this._generateText():""},m);for(c.set(f,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});h<g;++h)k.creator?e=k._normalizedCreator(k.getItem(this.manager.nodes[h].id).data,
"avatar").node:(e=this.manager.nodes[h].cloneNode(!0),"tr"==e.tagName.toLowerCase()&&(f=b.create("table"),b.create("tbody",null,f).appendChild(e),e=f)),e.id="",f=b.create("tr",null,d),m=b.create("td",null,f),m.appendChild(e),c.set(f,{"class":"dojoDndAvatarItem",style:{opacity:(9-h)/10}});this.node=a},destroy:function(){b.destroy(this.node);this.node=!1},update:function(){f.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(l("highcontrast")){var a=g.byId("a11yIcon"),b="+";this.manager.canDropFlag&&
!this.manager.copy?b="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?b="o":this.manager.canDropFlag||(b="x");a.innerHTML=b}m("tr.dojoDndAvatarHeader td span"+(l("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},"mw-peermodel/Observable":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(h,d,g){var c=h([],
{addEventListener:function(c,b,d){},removeEventListener:function(c,b,d){},hasEventListener:function(c,b,d){},dispatchEvent:function(c,b,d,m){}});c.Syncable=h([],{addSyncEventListener:function(c,b,d){},removeSyncEventListener:function(c,b,d){}});c.Impl=h([c,c.Syncable],{constructor:function(){this._listeners={};this._syncListeners={}},addEventListener:function(c,b,d){this._addEventListener(this._listeners,c,b,d)},addSyncEventListener:function(c,b,d){this._addEventListener(this._syncListeners,c,b,d)},
_addEventListener:function(c,b,d,m){m=m||this;c[b]=c[b]||[];var a={scope:m,callback:d};0>this._getEventListenerIndex(c,b,d,m)&&c[b].push(a)},hasEventListener:function(c,b,d){return 0<=this._getEventListenerIndex(this._listeners,c,b,d)},removeEventListener:function(c,b,d){this._removeEventListener(this._listeners,c,b,d)},removeSyncEventListener:function(c,b,d){this._removeEventListener(this._syncListeners,c,b,d)},_removeEventListener:function(c,b,d,m){d=this._getEventListenerIndex(c,b,d,m||this);if(0<=
d)c[b].splice(d,1);else throw Error("Listener does not exist");},_getEventListenerIndex:function(c,b,d,m){m=m||this;if(c=c[b]){var a=c.length;for(b=0;b<a;b+=1)if(c[b].scope===m&&c[b].callback===d)return b}return-1},dispatchEvent:function(c,b,d,m){this._dispatchEvent(this._syncListeners,c,b,d,m);this._dispatchEvent(this._listeners,c,b,d,m)},_dispatchEvent:function(c,b,l,m,a){if(void 0!==m&&(d.isArray(m)||d.isString(m)||null===m||"number"===typeof m||"boolean"===typeof m))throw Error("Invalid event data, must be object");
var k=c[b];if(k){var k=k.slice(0),e=k.length;for(c=0;c<e;c+=1)try{var n={type:b,target:l||this,data:m||{},originator:a};"string"===typeof k[c].callback?k[c].scope[k[c].callback].call(k[c].scope,n):k[c].callback.call(k[c].scope,n)}catch(h){g.error("Error while dispatching event handler of type: "+b+", message: "+h)}}}});return c})},"variableeditor/views/NumericArrayView":function(){define("variableeditor/views/NumericArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],
function(h,d,g){return h("variableeditor.views.NumericArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new g(c)}})})},"variableeditor/views/ClientArrayView":function(){define("variableeditor/views/ClientArrayView","dojo/_base/declare dojo/Deferred dojo/dom-geometry dojo/dom-class dijit/registry mw-log/Log variableeditor/VariableEditorUtils variableeditor/views/ClientPeerView".split(" "),function(h,d,g,c,f,b,l,m){return h("variableeditor.views.ClientArrayView",
[m],{table:null,constructor:function(a){this.table={}},init:function(a){this.inherited(arguments);var b=this;if(a&&a.container){b.allArgs=a;b.peerNode.addEventListener("childAdded",function(e){b._addGrid(a,e.data.child);b._initializeExistingModelProperties()});if(b.peerNode.getChildren&&0<b.peerNode.getChildren().length){var e=b.peerNode.getChildren()[0];b._addGrid(a,e)}this._initializeModelProperties()}},_refreshTable:function(){this.table&&this.table.updateModelProperties&&this.table.updateModelProperties(!0)},
_updateModelProperties:function(a,b,e){void 0===e&&(e=!0);this[a]=JSON.parse(b);l.logDebug("Setting "+a+":");l.logDebug(this[a]);if(this.table&&(this.table[a]=this[a],e)){var c=this;this._propertyTimer&&clearTimeout(this._propertyTimer);this._propertyTimer=setTimeout(function(){c._refreshTable()},50)}this.dispatchEvent("modelPropertiesSet",this,{type:a})},_initializeExistingModelProperties:function(){this.peerNode&&this.peerNode.hasProperty&&(this.peerNode.hasProperty("CellModelProperties")&&this._updateModelProperties("CellModelProperties",
this.peerNode.getProperty("CellModelProperties"),!1),this.peerNode.hasProperty("TableModelProperties")&&this._updateModelProperties("TableModelProperties",this.peerNode.getProperty("TableModelProperties"),!1),this.peerNode.hasProperty("RowModelProperties")&&this._updateModelProperties("RowModelProperties",this.peerNode.getProperty("RowModelProperties"),!1),this.peerNode.hasProperty("ColumnModelProperties")&&this._updateModelProperties("ColumnModelProperties",this.peerNode.getProperty("ColumnModelProperties"),
!1));this._refreshTable()},_initializeModelProperties:function(){this._initializeExistingModelProperties();var a=this;a.peerNode.addEventListener("propertySet",function(c){try{c&&c.data&&"CellModelProperties"===c.data.key?a._updateModelProperties("CellModelProperties",c.data.newValue,!0):c&&c.data&&"TableModelProperties"===c.data.key?a._updateModelProperties("TableModelProperties",c.data.newValue,!0):c&&c.data&&"RowModelProperties"===c.data.key?a._updateModelProperties("RowModelProperties",c.data.newValue,
!0):c&&(c.data&&"ColumnModelProperties"===c.data.key)&&a._updateModelProperties("ColumnModelProperties",c.data.newValue,!0)}catch(e){b.error(e)}})},getTable:function(){return this.table},_mapClientSideProperties:function(a,b){var e={backgroundcolor:"backgroundColor",color:"color",fontfamily:"fontFamily",fontsize:"fontSize",fontstyle:"fontStyle",fontweight:"fontWeight",style:"style",renderer:"renderer",editor:"editor",inplaceeditor:"inPlaceEditor"};return"HeaderName"===a&&b&&b.row&&-1!==b.row?"RowName":
"HeaderNumber"===a&&b&&b.row&&-1!==b.row?"RowNumber":e.hasOwnProperty(a.toLowerCase())?e[a.toLowerCase()]:a},_getPropertiesFunction:function(a,b,e,c){var d=b?void 0!==b.row?b.row:-1:-1,f=b?void 0!==b.column?b.column:-1:-1;b=!0;var l;-1!==d&&-1!==f?(b="CellModelProperties",l="set"===a?"setCellModelProperty":"getCellPropertyValue",e=[d,f,e]):-1!==f?(b="ColumnModelProperties",l="set"===a?"setColumnModelProperty":"getColumnModelProperty",e=[f,e]):-1!==d?(b="RowModelProperties",l="set"===a?"setRowModelProperty":
"getRowModelProperty",e=[d,e]):(b="TableModelProperties",l="set"===a?"setTableModelProperty":"getTableModelProperty",e=[e]);"set"===a&&e.push(c);return{propertiesSet:b,valueFunction:l,valueFunctionArgs:e}},getProperty:function(a,b){var e=new d(function(){});a=this._mapClientSideProperties(a,b);var c=this._getPropertiesFunction("get",b,a),f=c.propertiesSet,l=c.valueFunction,m=c.valueFunctionArgs;if(this.table&&this.table[f])c=this.table[l].apply(this.table,m),e.resolve(c);else{var g=this,h=function(a){try{if(a&&
a.data&&a.data.type===f){g.removeEventListener("modelPropertiesSet",h,this);var b=g.table[l].apply(g.table,m);e.resolve(b)}}catch(c){e.reject(c.message)}};g.addEventListener("modelPropertiesSet",h)}return e},setProperty:function(a,b,e){var c=new d(function(){});a=this._mapClientSideProperties(a,e);a=this._getPropertiesFunction("set",e,a,b);var f=a.propertiesSet,l=a.valueFunction,m=a.valueFunctionArgs;if(this.table&&this.table[f])this[l].apply(this,m),this.table.updateModelProperties&&this.table.updateModelProperties(!0),
c.resolve(b);else{var g=this,h=function(a){try{a&&(a.data&&a.data.type===f)&&(g.removeEventListener("modelPropertiesSet",h,this),g[l].apply(g,m),g.table.updateModelProperties(!0),c.resolve(b))}catch(e){c.reject(e.message)}};g.addEventListener("modelPropertiesSet",h)}return c},_addGrid:function(a,k){try{var e=a.position;if(a&&(a.container&&a.container.domNode)&&!a.position)var d=g.position(a.container.domNode),e={height:d.h,width:d.w};k&&k.setProperty&&k.setProperty("editable",a.editable);try{this.peerNode.getProperty("CellModelProperties")&&
this.table&&(this.CellModelProperties=JSON.parse(this.peerNode.getProperty("CellModelProperties"))),this.peerNode.getProperty("TableModelProperties")&&this.table&&(this.TableModelProperties=JSON.parse(this.peerNode.getProperty("TableModelProperties"))),this.peerNode.getProperty("RowModelProperties")&&this.table&&(this.RowModelProperties=JSON.parse(this.peerNode.getProperty("RowModelProperties"))),this.peerNode.getProperty("ColumnModelProperties")&&this.table&&(this.ColumnModelProperties=JSON.parse(this.peerNode.getProperty("ColumnModelProperties")))}catch(m){b.error(m)}this.allArgs=
l.mergeObjects(this.allArgs,{peerViewModel:this,peerNode:k,position:e,CellModelProperties:this.CellModelProperties,TableModelProperties:this.TableModelProperties,RowModelProperties:this.RowModelProperties,ColumnModelProperties:this.ColumnModelProperties});if(k&&k.getId){var h=f.byId("mgg_"+k.getId());h&&(b.warning("Found existing widget for table, trying to delete."),h.destroyRecursive?(b.warning("Calling destroyRecursive"),h.destroyRecursive()):b.error("Can't find destroyRecursive method of widget."))}this.table=
this.createTable(this.allArgs);this.table.startup();this.table&&(this.table.cssSpecifier&&this.table.domNode)&&c.add(this.table.domNode,this.table.cssSpecifier);a.container&&this.table&&a.container.addChild(this.table);var r=this;k&&k.addEventListener&&k.addEventListener("propertySet",function(a){a&&(a.data&&"dataModel"===a.data.key)&&r.dispatchEvent("viewReady",r.table.domNode,{peerView:r})},k);k&&k.hasProperty&&k.hasProperty("dataModel")&&k.getProperty("dataModel")&&!(0===k.getProperty("dataModel")._partialData.length&&
0!==k.getProperty("dataModel")._rowCount)&&r.dispatchEvent("viewReady",r.table.domNode,{peerView:r});k&&(k.getProperty&&k.getProperty("rowHeaderWidth"))&&(this.table.rowHeaderWidth=k.getProperty("rowHeaderWidth"));a.container&&a.container.resize&&a.container.resize()}catch(s){b.error(s),b.error(s.stack)}},_dispatchPropertySetEvent:function(a,b){this.dispatchEvent("propertySet",this,b)},setCellModelProperty:function(a,b,e,c){var d=this.table.CellModelProperties;if(!d||0===d.length){var d=[],f,l;for(f=
this.table.dataModel.getCurrentStartRow();f<this.table.dataModel.getCurrentEndRow();f+=1){d[f]=[];for(l=this.table.dataModel.getCurrentStartCol();l<this.table.dataModel.getCurrentEndCol();l+=1)d[f][l]={}}}d[a][b][e]=c;this.table.CellModelProperties=d;this.peerNode.setProperty("CellModelProperty",{row:a,column:b,property:e,value:c});this._dispatchPropertySetEvent(e,{row:a,column:b,propertyName:e,value:c})},setTableModelProperty:function(a,b){var e=Array({});this.table.TableModelProperties&&(e=this.table.TableModelProperties);
e[a]=b;this.table.TableModelProperties=e;this.peerNode.setProperty("TableModelProperty",{property:a,value:b});this._dispatchPropertySetEvent(a,{propertyName:a,value:b})},setColumnModelProperty:function(a,b,e){var c=this.table.ColumnModelProperties;if(!c||0===c.length){var c=[],d;for(d=this.table.dataModel.getCurrentStartCol();d<this.table.dataModel.getCurrentEndCol();d+=1)c[d]={}}c.hasOwnProperty(a)&&(c[a][b]=e,this.table.ColumnModelProperties=c,this.peerNode.setProperty("ColumnModelProperty",{column:a,
property:b,value:e}),this._dispatchPropertySetEvent(b,{column:a,propertyName:b,value:e}))},setRowModelProperty:function(a,b,e){var c=this.table.RowModelProperties;if(!c||0===c.length){var c=[],d;for(d=this.table.dataModel.getCurrentStartRow();d<this.table.dataModel.getCurrentEndRow();d+=1)c[d]={}}c.hasOwnProperty(a)&&(c[a][b]=e,this.table.RowModelProperties=c,this.peerNode.setProperty("RowModelProperty",{row:a,property:b,value:e}),this._dispatchPropertySetEvent(b,{row:a,propertyName:b,value:e}))},
destroy:function(){l.logDebug("VE: ClientArrayView destroy");this.table&&this.table.destroyRecursive&&(l.logDebug("VE: ClientArrayView destroyRecursive"),this.table.destroyRecursive());this.inherited(arguments)}})})},"variableeditor/views/table/ArrayTable":function(){define("variableeditor/views/table/ArrayTable","dojo/_base/declare variableeditor/views/table/VariableEditorTable dojo/_base/lang dojo/on dojo/dom dojo/dom-style dojo/dom-geometry variableeditor/views/renderers/VERendererFactory variableeditor/VariableEditorUtils variableeditor/ContextPublishingUtils mw-log/Log dojo/topic dojo/dom-class dojo/query dijit/registry dojo/keys variableeditor/views/table/BlockSelection dojo/i18n!variableeditor/app/l10n/nls/app dojo/string dojo/has dojo/sniff dijit/focus mw-messageservice/MessageService".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y){var A=h("variableeditor.views.table.ArrayTable",[d],{mouseMotionHandler:null,mouseUpHandler:null,mouseDownColumnHandler:null,mouseDownRowHandler:null,mouseDownHandler:null,anchorRow:-1,anchorColumn:-1,mouseColumnHeaderMotionHandler:null,mouseRowHeaderMotionHandler:null,isCellEnterListenerPaused:!0,lastSelectedHeaderCol:-1,lastSelectedHeaderRow:-1,mouseUpColumnHeaderHandler:null,mouseUpRowHeaderHandler:null,editable:!0,tableRowOffset:2,tableColumnOffset:2,
sendSelectionRanges:!0,paddingPagedRows:40,tolerancePagedRows:20,paddingPagedColumns:15,tolerancePagedCols:7,blockSelection:new t,columnHeaderMouseDown:!1,rowHeaderMouseDown:!1,maxHeight:-1,selectable:!0,TableModelProperties:{},RowModelProperties:{},ColumnModelProperties:{},showSelectionBorder:!0,selectionUpdated:!1,cellsDragged:!1,resizeBehaviour:"default",peerViewModel:{},_selectingColumn:void 0,_selectingRow:void 0,lineSpacing:1.5,minRowHeight:18,rightClickKeyCode:3,TABLE_DEFAULT_FONT:"12px Helvetica, Helvetica, sans-serif",
COLUMN_HEADER_ATTACH_POINT:"variableEditorColumnHeaders",constructor:function(a){this.pagedDataUpdateDelay=0;a.position&&(this.position=a.position);this.editable=void 0===a.editable||null===a.editable?!0:a.editable;!1===a.selectable&&(this.selectable=!1);a.peerViewModel&&(this.peerViewModel=a.peerViewModel);void 0!==a.sendSelectionRanges&&(this.sendSelectionRanges=a.sendSelectionRanges);this.blockSelection.setIndexedRows(!this.sendSelectionRanges);this.RendererName="variableeditorrenderer_"+A._RenderCounter;
A._RenderCounter+=1;this.VariableEditorRenderer=new m(this);this.cellTypes[this.RendererName]=this.VariableEditorRenderer;a.resizeBehaviour&&(this.resizeBehaviour=a.resizeBehaviour);a.contextId&&(this.contextId=a.contextId)},postCreate:function(){this.inherited(arguments);var b=this;c(this.dataScrollerNode,"mouseup",g.hitch(this,"_onMouseDragUp"));this.mouseDownHandler=c.pausable(this.dataScrollerNode,"mousedown",g.hitch(this,"_onMouseDown"));this.mouseDownColumnHandler=c.pausable(this.columnHeaderNode,
"mousedown",g.hitch(this,"_onHeaderColumnMouseDown"));c(this.columnHeaderScrollerNode,"scroll",function(a){b.columnHeaderScrollerNode.scrollLeft=b.dataScrollerNode.scrollLeft});c(this.rowHeaderScrollerNode,"scroll",function(a){b.rowHeaderScrollerNode.scrollTop=b.dataScrollerNode.scrollTop});this.mouseDownRowHandler=c.pausable(this.rowHeaderNode,"mousedown",g.hitch(this,"_onHeaderRowMouseDown"));this.own(this.mouseDownColumnHandler);this.mouseMotionHandler=c.pausable(window,"mousemove",g.hitch(this,
"_onMouseMove"));this.own(this.mouseMotionHandler);this.mouseMotionHandler.pause();c(this.cornerSpacerNode,"mousedown",g.hitch(this,"_onCornerMouseDown"));this.own(c(window,"mouseup",g.hitch(this,"_onWindowMouseUp")));this.peerNode.addEventListener("peerEvent",function(a){b.handlePeerEvent(a)},this.peerNode);this.peerNode.addEventListener("propertySet",function(a){b.handlePropertySet(a)},this.peerNode);p.add(this.domNode,"mgg");"/VariableEditor"===this.channel&&p.add(this.domNode,"mw_type_VariableEditorTable");
0>this.maxHeight?p.add(this.domNode,"arrayTable"):null!==this.dataModel&&(this.dataModel.getRowCount()*this.rowHeight>this.maxHeight?p.add(this.domNode,"arrayTableMaxHeight"):p.add(this.domNode,"arrayTableMaxHeightScaled"));this.domNode.setAttribute("data-tag",a.createDataTag("views","table"));this._attachListenersForContextUpdate();y.subscribe("/VElogmessage",g.hitch(this,function(b){b.data.eventType&&(a.logDebug("VE: "+b.data.eventType),"log"===b.data.eventType&&b.data.message&&a.logDebug("VE: Server Log ("+
b.data.message+")"))}))},_attachListenersForContextUpdate:function(){var a=["Header","Row"],b=["Header","Column"];this.rowHeaderScrollerNode&&this._handleContextUpdate(this.rowHeaderScrollerNode,a);this.columnHeaderScrollerNode&&this._handleContextUpdate(this.columnHeaderScrollerNode,b)},_handleContextUpdate:function(a,b){var e=this;c(a,"click",function(a){k.addToContext(e.contextUpdateChannel,b,!0)})},_getCellType:function(){return this.VariableEditorRenderer},_onColumnsSet:function(){this._updateColumnHeaderNames();
this.inherited(arguments)},_renderCell:function(b,e){var c=this._getCellType(b);if(c&&c.type&&0===c.type.indexOf("variableeditorrenderer")){var k=document.createElement("div");k.setAttribute("class","cell");k.setAttribute("data-tag",a.concatenateDataTagStrings("datatools","variableeditor","views","table","cell"));var d=this;this.cellTypes[c.type]&&this.cellTypes[c.type].create&&this.cellTypes[c.type].create(c,e,function(a){k.appendChild(a);d.cellTypes[c.type]&&d.cellTypes[c.type].startup&&d.cellTypes[c.type].startup(a,
b,e,k)});return k}this.inherited(arguments)},_updateCell:function(a,b,e,c){var k=r.getEnclosingWidget(a.firstChild);if(void 0!==e&&null!==e){var d=null;try{d=JSON.parse(e)}catch(f){d=e}if(k&&k.isEditing&&k.isEditing()){if(k.setEditable){var l=k.getCellIndices(d);k.setEditable(this.getCellPropertyValue(l.row,l.column,"Editable",d))}return}}var m=this._getCellType(b);if(m&&m.type&&0===m.type.indexOf("variableeditorrenderer")){var g=this;if(this.cellTypes[m.type]&&this.cellTypes[m.type].update){var h=
a.firstChild;this.cellTypes[m.type].update(h,m,e,function(k){k&&h&&k!==h?(a.replaceChild(k,h),r.getEnclosingWidget(h).destroy()):k&&!h&&a.appendChild(k);g.cellTypes[m.type]&&g.cellTypes[m.type].startup&&g.cellTypes[m.type].startup(k,b,e,c)})}}else this.inherited(arguments)},_setEmptyBlockSelection:function(){this.blockSelection.isEmpty()||(this.blockSelection=new t({source:"client",indexedRows:!this.sendSelectionRanges}),this._renderSelection(),this.setServerSelection(!0))},_onColumnMouseUp:function(a){this.inherited(arguments);
this.setServerSelection(!0);void 0!==this._resizingColumn&&this.columns&&(this._setColumnWidthOnTable(this._resizingColumn,this.columns[this._resizingColumn].width),this.setColumnModelProperty(this._resizingColumn,"ColumnWidth",this.columns[this._resizingColumn].width),this._updateDataStyles(),this.setColumnModelProperty(this._resizingColumn,"ColumnResized",!0));this._resizingColumn=void 0},_setColumnWidthOnTable:function(){},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=
null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);var e=-1,c=-1;b.domNode&&b.domNode.dataset&&(c=this._getRowColumnFromNode(b.domNode),e=c.row,c=c.col);var k=a.data.newValue;b.convert&&(k=b.convert(a.data.newValue));this.dataModel&&this.dataModel.changeData&&this.dataModel.changeData(e,c,[[k]])}},onEditingStarted:function(){this.mouseMotionHandler.pause()},onMouseDown:function(a){w("mac")&&Object.defineProperty(a.data,"ctrlKey",{value:!1});this.contextMenu&&this.contextMenu.close();
if(this.selectable){this.cellsDragged=this.isCellEnterListenerPaused=!1;this.mouseMotionHandler.resume();var b=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(e=this._getRowColumnFromNode(a.data.renderer.domNode),b=e.row,e=e.col);this.isCellDraggable(b,e)&&this.isCellSelected(b,e)&&!a.data.ctrlKey&&!a.data.metaKey&&!a.data.shiftKey?this.selectionUpdated=!1:(this._updateAndRenderSelection(b,e,a.data),this.selectionUpdated=!0)}},_updateAndRenderSelection:function(a,b,e){this._setLeadCellPosition(a,
b);this.anchorRow=a;this.anchorColumn=b;this.blockSelection.isEmpty()&&this._resetShiftKeyPivot();var c;c="extended"===this.selectionMode&&(e.ctrlKey||e.metaKey)&&!e.shiftKey?this.blockSelection.clone():new t({indexedRows:!this.sendSelectionRanges});c=this._updateBlockSelection(a,b,c,e);this.blockSelection.matchingSelection(c)||(this.blockSelection=c,this._renderSelection())},_updateBlockSelection:function(a,b,e,c){"none"!==this.selectionType&&"none"!==this.selectionMode&&(c&&c.shiftKey?(c=null,c=
this.getShiftKeyPivot(),0>c[0]&&0>c[1]?e.add(0,a,0,b):e.add(c[0],a,c[1],b)):c.ctrlKey||c.metaKey?(this._setShiftKeyPivot(a,b),!e.containsRow(a)||!e.containsColumn(b)?e.addCell(a,b):e.removeRows(a,a)):(this._setShiftKeyPivot(a,b),e.addCell(a,b)));return e},onMouseEnter:function(a){if(this.selectable&&!this.isCellEnterListenerPaused){var b=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(e=this._getRowColumnFromNode(a.data.renderer.domNode),b=e.row,e=e.col);this._updateSelection(b,e,
a)}},onMouseUp:function(){this.selectable&&this.setServerSelection(!0);this.isCellEnterListenerPaused=!0;this.mouseMotionHandler.pause()},onEditingStopped:function(){this.mouseDownColumnHandler&&this.mouseDownColumnHandler.resume()},_getRowColumnFromNode:function(a){a&&a.dataset?(row=parseInt(a.dataset.row),column=parseInt(a.dataset.col)):(row=parseInt(a.getAttribute("data-row")),column=parseInt(a.getAttribute("data-col")));return{row:row,col:column}},_convertPxToRows:function(a,b,e){return Math.floor((a-
b.y+e)/this.rowHeight)},_onMouseDown:function(a){if(!p.contains(a.target,"dataScrollerNode")){var b=l.position(this.dataScrollerNode),e=this._convertPxToRows(a.pageY,b,this.dataScrollerNode.scrollTop);a=this._convertPxToCols(0,a.pageX-b.x+this.dataScrollerNode.scrollLeft);e>this.getRowCount()-1||a>this.getColumnCount()-1?(k.addToContext(this.contextUpdateChannel,[this.contextId,"EmptySpace"],!0),this.blockSelection.isEmpty()||this._clearBlockSelection()):k.addToContext(this.contextUpdateChannel,[this.contextId,
"DataVariable"],!0)}},_clearBlockSelection:function(){this.blockSelection=new t({source:"client",indexedRows:!this.sendSelectionRanges});this._setLeadCellPosition(-1,-1);this._renderSelection();this.mouseMotionHandler.resume()},_onMouseMove:function(a){a.preventDefault();if(!this.blockSelection.isEmpty()){var b=l.position(this.dataScrollerNode),e=this._convertPxToRows(a.pageY,b,this.dataScrollerNode.scrollTop),b=this._convertPxToCols(0,a.pageX-b.x+this.dataScrollerNode.scrollLeft),e=Math.max(0,Math.min(e,
this.getRowCount()-1)),b=Math.max(0,Math.min(b,this.getColumnCount()-1));this.scrollToCell(e,b);this._updateSelection(e,b,a)}},_updateSelection:function(a,b,e){var c,k;this._setLeadCellPosition(a,b);e=e.ctrlKey||e.metaKey?this.blockSelection.clone():new t({indexedRows:!this.sendSelectionRanges});c=Math.min(this.anchorRow,a);a=Math.max(this.anchorRow,a);k=Math.min(this.anchorColumn,b);b=Math.max(this.anchorColumn,b);e.add(c,a,k,b);this.blockSelection=e;this._renderSelection()},getRowCount:function(){return this.dataModel?
this.dataModel.getRowCount():0},getColumnCount:function(){return this.dataModel?this.dataModel.getColumnCount():0},_onDataChange:function(){},resize:function(){if(!this._noAutoSizing){var a=l.position(this.domNode);this.position={width:a.w,height:a.h};this.debounceRedraw()}},handlePropertySet:function(a){"Selection"===a.data.key?(a=a.data.newValue,a.source&&"client"===a.source||a.selectionSource&&"client"===a.selectionSource||(a=new t(a),a.setIndexedRows(!this.sendSelectionRanges),this.blockSelection=
a,this._renderSelection())):"editable"===a.data.key?this.domNode&&("false"===a.data.newValue?(this.domNode.className=this.domNode.className?this.domNode.className+" readonly":"readonly",p.toggle(this.domNode,"hideVerticalScroll",!0),p.toggle(this.domNode,"hideHorizontalScroll",!0)):(this._updateScrollerStyles(),this.domNode.className=this.domNode.className?this.domNode.className.replace(/\breadonly\b/,""):"")):"dataModel"===a.data.key&&(this.pagedDataUpdateDelay=100)},_onCornerMouseDown:function(a){a.preventDefault();
a=new t({indexedRows:!this.sendSelectionRanges});var b=this.getRowCount(),e=this.getColumnCount();a.add(0,b-1,0,e-1);null===this.getLeadNode()&&this._setLeadCellPosition(0,0);this.blockSelection=a;this._renderSelection()},_onMouseDragUp:function(a){w("mac")&&(a.ctrlKey&&Object.defineProperty(a,"which",{value:3}),Object.defineProperty(a,"ctrlKey",{value:!1}));this.anchorColumn=this.anchorRow=-1;this.mouseMotionHandler&&this.mouseMotionHandler.pause();if(a&&a.renderer&&a.renderer.domNode){k.removeFromContext(this.contextUpdateChannel,
!0);var b=this._getRowColumnFromNode(a.renderer.domNode);!this.selectionUpdated&&(!this.cellsDragged&&a.which!==this.rightClickKeyCode)&&(this._updateAndRenderSelection(b.row,b.col,a),this.selectionUpdated=!0)}this.cellsDragged=!1},_onHeaderRowMouseDown:function(a,b){if(this.selectable){var e=null,k;try{k=this.getEnclosingHeaderWidget(a.target)}catch(d){k={index:-1}}0<=k.index&&(e=k.index);this._selectingRow=e;this.mouseRowHeaderMotionHandler?this.mouseRowHeaderMotionHandler.resume():(this.mouseRowHeaderMotionHandler=
c.pausable(window,"mousemove",g.hitch(this,"_onRowHeaderSelection")),this.own(this.mouseRowHeaderMotionHandler));if(b||void 0===b)e=this.getLeadNode().getElementsByTagName("input")[0],z.focus(e);a.preventDefault()}},_onTableHeaderKeyDown:function(a){var b=this.getLeadNode();z.focus(b.getElementsByTagName("input")[0]);r.getEnclosingWidget(b)._handleKeyboardEvent(a)},_onHeaderRowMouseUp:function(){this.selectable&&(this.lastSelectedHeaderRow=-1,this.mouseUpRowHeaderHandler&&this.mouseUpRowHeaderHandler.pause(),
this.mouseRowHeaderMotionHandler&&this.mouseRowHeaderMotionHandler.pause(),0<this.getRowCount()&&0<this.getColumnCount()&&this.setServerSelection(!0),this._selectingRow=void 0)},_onRowHeaderSelection:function(a){if(this.selectable){a.preventDefault();var b=l.position(this.dataScrollerNode),e=null;if(a.pageX<b.x+b.w&&a.pageX>b.x&&a.pageY<b.y+b.h&&a.pageY>b.y){var c;try{c=this._getCellFromNode(a.target)}catch(k){c={row:-1}}0<=c.row&&(e=c.row)}e||(e=Math.floor((a.pageY-b.y+this.dataScrollerNode.scrollTop)/
this.rowHeight),e=Math.min(Math.max(0,e),this.getRowCount()-1),this.scrollToRow(e));0>this.lastSelectedHeaderRow&&(this.lastSelectedHeaderRow=e);a=this.blockSelection.getColumnCount()===this.getColumnCount();if(this.blockSelection.containsRow(e)&&a){if(this.lastSelectedHeaderRow!==e)if(e<this.lastSelectedHeaderRow)for(a=this.lastSelectedHeaderRow;a>e;a-=1)this.blockSelection.containsRow(a)&&this.blockSelection.removeRows(a,a);else for(a=this.lastSelectedHeaderRow;a<e;a+=1)this.blockSelection.containsRow(a)&&
this.blockSelection.removeRows(a,a)}else if(e>=this.lastSelectedHeaderRow)for(a=this.lastSelectedHeaderRow;a<=e;a+=1)this.blockSelection.containsRow(a)||this.blockSelection.add(a,a,0,this.getColumnCount()-1);else for(a=e;a<=this.lastSelectedHeaderRow;a+=1)this.blockSelection.containsRow(a)||this.blockSelection.add(a,a,0,this.getColumnCount()-1);this.lastSelectedHeaderRow=e;this._setLeadCellPosition(this.lastSelectedHeaderRow,0);0<this.getColumnCount()?this._renderSelection():this._updateHeaderStyle()}},
_onHeaderColumnMouseDown:function(a,b){if(this.selectable&&(!a||!a.target||!(a.target.className&&-1!==a.target.className.toLowerCase().indexOf("drag")))){var e=null,k;try{k=this.getEnclosingHeaderWidget(a.target)}catch(d){k={index:-1}}0<=k.index&&(e=k.index);this._selectingColumn=e;this.mouseUpColumnHeaderHandler?this.mouseUpColumnHeaderHandler.resume():this.mouseUpColumnHeaderHandler=c.pausable(this.columnHeaderNode,"mouseup",g.hitch(this,"_onHeaderColumnMouseUp"));this.mouseColumnHeaderMotionHandler?
this.mouseColumnHeaderMotionHandler.resume():(this.mouseColumnHeaderMotionHandler=c.pausable(window,"mousemove",g.hitch(this,"_onColumnHeaderSelection")),this.own(this.mouseColumnHeaderMotionHandler));if(b||void 0===b)e=this.getLeadNode().getElementsByTagName("input")[0],z.focus(e);a.preventDefault()}},_onRowMouseDown:function(a){if(this.selectable&&"single"!==this.selectionMode){var b;try{b=this.getEnclosingHeaderWidget(a.target)}catch(e){b={index:-1}}if(!(0>b.index)){b=b.index;this.blockSelection.isEmpty()&&
this._resetShiftKeyPivot();var c=new t({indexedRows:!this.sendSelectionRanges});if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey)&&!a.shiftKey)c=this.blockSelection.clone();c=this._updateRowSelection(b,c,a);this.blockSelection.matchingSelection(c)||(0>this.lastSelectedHeaderRow&&(this.lastSelectedHeaderRow=b),this.blockSelection=c,this._setLeadCellPosition(this.lastSelectedHeaderRow,0),0<this.getColumnCount()?this._renderSelection():this._updateHeaderStyle())}}},_updateRowSelection:function(a,
b,e){var c=this.getColumnCount()-1;if("none"!==this.selectionType&&"none"!==this.selectionMode)if(e.shiftKey){var k=null;e=this.getShiftKeyPivot();0>e[0]?k=0:k=e[0];b.add(k,a,0,c)}else e.ctrlKey||e.metaKey?(this._setShiftKeyPivot(a,c),b.containsRow(a)?b.removeRows(a,a):b.add(a,a,0,c)):(this._setShiftKeyPivot(a,c),b.add(a,a,0,c));return b},_onColumnMouseDown:function(a){if(this.selectable&&"single"!==this.selectionMode){var b;try{b=this.getEnclosingHeaderWidget(a.target)}catch(e){b={index:-1}}if(!(0>
b.index)){b=b.index;var c=new t({indexedRows:!this.sendSelectionRanges});if("extended"===this.selectionMode&&(a.ctrlKey||a.metaKey||a.shiftKey))c=this.blockSelection.clone();"none"!==this.selectionType&&"none"!==this.selectionMode&&(a.shiftKey&&!c.isEmpty()?(a=c.getLeadCell(),c.add(0,this.getRowCount()-1,a[1],b)):a.ctrlKey||a.metaKey?c.containsColumn(b)?c.removeColumns(b,b):c.add(0,this.getRowCount()-1,b,b):c.add(0,this.getRowCount()-1,b,b));this.blockSelection.matchingSelection(c)||(0>this.lastSelectedHeaderCol&&
(this.lastSelectedHeaderCol=b),this.blockSelection=c,this._setLeadCellPosition(0,this.lastSelectedHeaderCol),this._renderSelection())}}},_onHeaderColumnMouseUp:function(){this.selectable&&(this.lastSelectedHeaderCol=-1,this.mouseColumnHeaderMotionHandler&&this.mouseColumnHeaderMotionHandler.pause(),this.mouseUpColumnHeaderHandler&&this.mouseUpColumnHeaderHandler.pause(),0<this.getRowCount()&&0<this.getColumnCount()&&this.setServerSelection(!0),this._selectingColumn=void 0)},_onColumnHeaderSelection:function(a,
b){if(this.selectable){!1!==b&&a.preventDefault();var e;e=l.position(this.dataScrollerNode);var c=null;if(a.pageX<e.x+e.w&&a.pageX>e.x&&a.pageY<e.y+e.h&&a.pageY>e.y){var k;try{k=this._getCellFromNode(a.target)}catch(d){k={column:-1}}0<=k.column&&(c=k.column)}c||(c=this._convertPxToCols(0,a.pageX-e.x+this.dataScrollerNode.scrollLeft),c=Math.min(Math.max(0,c),this.getColumnCount()-1),this.scrollToColumn(c));if(c!==this.lastSelectedHeaderCol){0>this.lastSelectedHeaderCol&&(this.lastSelectedHeaderCol=
c);e=this.blockSelection.containsColumn(c);k=this.blockSelection.getRowCount()===this.getRowCount();if(e&&k){if(this.lastSelectedHeaderCol!==c)if(c<this.lastSelectedHeaderCol)for(e=this.lastSelectedHeaderCol;e>c;e-=1)this.blockSelection.containsColumn(e)&&this.blockSelection.removeColumns(e,e);else for(e=this.lastSelectedHeaderCol;e<c;e+=1)this.blockSelection.containsColumn(e)&&this.blockSelection.removeColumns(e,e)}else if(c>=this.lastSelectedHeaderCol)for(e=this.lastSelectedHeaderCol;e<=c;e+=1)this.blockSelection.containsColumn(e)||
this.blockSelection.add(0,this.getRowCount()-1,e,e);else for(e=c;e<=this.lastSelectedHeaderCol;e+=1)this.blockSelection.containsColumn(e)||this.blockSelection.add(0,this.getRowCount()-1,e,e);this.lastSelectedHeaderCol=c;this._setLeadCellPosition(0,this.lastSelectedHeaderCol);this._renderSelection()}}},_onWindowMouseUp:function(a,b){this._onHeaderColumnMouseUp();this._onHeaderRowMouseUp();this._onTableMouseUp(a,b);this.mouseMotionHandler&&this.mouseMotionHandler.pause();this.mouseColumnHeaderMotionHandler&&
this.mouseColumnHeaderMotionHandler.pause();this.mouseRowHeaderMotionHandler&&this.mouseRowHeaderMotionHandler.pause();this._selectingRow=this._selectingColumn=void 0;this.anchorColumn=this.anchorRow=-1;this.isCellEnterListenerPaused=!0},_onTableMouseUp:function(a,b){if(f.isDescendant(a.target,this.domNode)&&this.leadCell&&!this.columnHeaderNode.contains(a.target)&&!this.rowHeaderNode.contains(a.target)){var e=".row_"+this.leadCell.row+".col_"+this.leadCell.column;-1<this.leadCell.index&&(e=e+".idx_"+
this.leadCell.index);e=q(e,this.domNode)[0];if((e=r.getEnclosingWidget(e))&&e._handleMouseUp)e._handleMouseUp(),a&&(a.target&&!e.domNode.contains(a.target)&&e.domNode.contains(z.curNode))&&z.focus(this.domNode)}return!0},_cancelCurrentEditor:function(a,b){var e=q(".row_"+a+".col_"+b,this.domNode)[0];(e=r.getEnclosingWidget(e))&&e.cancelEditing&&e.cancelEditing()},_revertCurrentEditorChanges:function(a,b){var e=q(".cellRenderer.row_"+a+".col_"+b,this.domNode)[0];(e=r.getEnclosingWidget(e))&&e._revert&&
e._revert()},_cancelCurrentRowHeaderEditor:function(a){a=q(".EditableHeader",this.rowHeaderNode)[a+(this.rowView.end-this.rowView.start)-this.rowView.end];a=r.getEnclosingWidget(a);this._handleDuplicateRowHeaderValues(a)},_cancelCurrentColumnHeaderEditor:function(a,b){var e=q(".EditableHeader",this.columnHeaderNode)[a+(this.colView.end-this.colView.start)-this.colView.end],e=r.getEnclosingWidget(e);this._handleColumnHeaderError(e,b)},_forceRowUpdate:function(a,b){if(0<=a&&0<=b){var e=this.getCellSelector(a,
b);if(e=q(e)[0]){var c=this.dataModel.getPartialData()[a-this.rowView.start];this._updateRow(e.parentNode,c,c,this.colView.start,this.colView.end,this.oldColView.start,this.oldColView.end)}}},_clearRendererCache:function(a,b){if(0<=a&&0<=b){var e=this.getCellSelector(a,b);if(e=q(e)[0]){var c=this.dataModel.getPartialData()[a-this.dataModel._currentStartRow],k=this._getCellType(b);this.cellTypes[k.type].clearCache&&this.cellTypes[k.type].clearCache(e.firstElementChild,b,c[b])}}},getEnclosingHeaderWidget:function(a){for(;!p.contains(a,
"EditableHeader")&&!p.contains(a,"NonEditableHeader");)a=a.parentElement;return r.getEnclosingWidget(a)},_handleDataChangeStatus:function(b){a.logDebug("VE: Server data change status: "+b.data.status);if(b.data.status&&"success"===b.data.status){var c=q(".cellRenderer.row_"+row+".col_"+column,this.domNode)[0];(c=r.getEnclosingWidget(c))&&(c.setValue&&b.data&&b.dispValue)&&c.setValue(b.data.dispValue,b.data.source,b.data.dispValue)}else this._clearRendererCache(b.data.row,b.data.column),this._revertCurrentEditorChanges(b.data.row,
b.data.column),b.data.status&&"noChange"===b.data.status||(b.data.message?a.displayErrorMessage(b.data.message):e.warn("VE: Server error with no message."))},handlePeerEvent:function(b){a.logDebug("VE: Peer Event: "+b.data.type);b.data.type&&"ErrorDuplicateColumnHeader"===b.data.type?this._cancelCurrentColumnHeaderEditor(b.data.index):b.data.type&&"ColumnHeaderError"===b.data.type?this._cancelCurrentColumnHeaderEditor(b.data.index,b.data.message):b.data.type&&"ErrorDuplicateRowHeader"===b.data.type?
this._cancelCurrentRowHeaderEditor(b.data.index):b.data.type&&"errormsg"===b.data.type?(a.logDebug("VE: Server error: "+b.data.message),this._cancelCurrentEditor(b.data.row,b.data.column),b.data.message?a.displayErrorMessage(b.data.message):e.warn("VE: Server error with no message.")):b.data.type&&"dataChangeStatus"===b.data.type&&this._handleDataChangeStatus(b)}});A._RenderCounter=0;A._forTestingOnly={contextPublishingUtils:k};return A})},"variableeditor/views/table/VariableEditorTable":function(){define("variableeditor/views/table/VariableEditorTable",
"dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin variableeditor/views/table/tableBase/_TableBase variableeditor/views/table/_VETableHeaders variableeditor/views/table/tableBase/_TableHeaderSelection variableeditor/views/table/_VETableSelection variableeditor/views/table/_VEModelProperties variableeditor/views/table/tableBase/_TableColumnWidth variableeditor/views/table/tableBase/_PropTypeHandler variableeditor/VariableEditorUtils dojo/text!variableeditor/views/table/VariableEditorTemplate.html dojo/dnd/Source".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return h("variableeditor.views.table.VariableEditorTable",[l,p,m,n,a,k,e,b],{templateString:r,container:null,curRowCount:0,curColCount:0,dndSource:null,constructor:function(a){a=a||{};this.componentData=a.widgetData;this.container=a.container;this.useDojoDnD=a.useDojoDnd||!1},startup:function(a){this.inherited(arguments);if(this.useDojoDnD&&null===this.dndSource&&this.getDndItemSelector&&this.getDndHandleSelector&&this.getSelectedFields){var b=this;a=a||{};
d.mixin(a,{dropCallback:function(){},checkAcceptanceCallback:function(a,e){return a.node!==b.dataScrollerNode}});this._attachDndHandles();a.creator=function(a,e){var k=dojo.doc.createElement("span");k.id=dojo.dnd.getUniqueId();c.add(k,"dojoDndItem");if("avatar"===e&&a){var d=b._createDummyNodeToEnableAvatars(a);f.place(d,k,"last")}else return b._dndSource?b._dndSource.defaultCreator(a,e):{node:null,data:null,type:null};return{node:k,data:a,type:["text"]}};this.dndSource=q.createSelectableDnDTarget(this.dataScrollerNode,
a);this.dndSource.getSelectedNodes=function(){var a=g.NodeList(),e=b.getSelectedFields();if(e)for(var e=e.split(","),c=0;c<e.length;c+=1){var k=e[c],d=g('[dnddata\x3d"'+k+'"]')[0];d?(a.push(d),this.getItem(d.id)||this.setItem(d.id,{data:k,type:["text"]})):(d=b._createDummyNodeToEnableAvatars(k),this.setItem(d.id,{data:k,type:["text"]}),a.push(d))}return a};this.dndSource.allowNested=!0;this.dndSource.isSource=!0;this.dndSource.copyOnly=!0;this.dndSource.withHandles=!0}},_createDummyNodeToEnableAvatars:function(a){var b=
document.createElement("input");b.setAttribute("class","structNameColumn dojoDndItem dojoDndHandle DojoDndItemSelected variableEditorRenderers iconVariableEditorMatrix dojoDndItemOver dojoDndItemAnchor");b.setAttribute("dnddata",a);b.setAttribute("dndtype","text");b.setAttribute("id",a);b.value=a;return b},_attachDndHandles:function(){if(this.useDojoDnD){var a=this.getDndItemSelector(),b=this.getDndHandleSelector();g(a,this.domNode).forEach(function(a,e,k){for(i=0;i<b.length;i++)(e=g(b[i],a)[0])&&
c.add(e,"dojoDndHandle")})}},_onDataModelSet:function(a){this.inherited(arguments);if(a._rowCount!=this.curRowCount||a._columnCount!=this.curColCount)this.curRowCount=a._rowCount,this.curColCount=a._columnCount,this.container&&this.container.resize&&this.container.resize();this.dndSource&&this.dndSource.clearItems&&this.dndSource.clearItems()},_onColumnsSet:function(){this.inherited(arguments);this.container&&this.container.resize&&this.container.resize()}})})},"variableeditor/views/table/tableBase/_TableBase":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/on dojo/keys dijit/_WidgetBase mw-browser-utils/BrowserUtils ./_ListBase dojo/topic variableeditor/VariableEditorUtils".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h([n,k],{scrollbarWidth:0,headerPadding:2,defaultColumnWidth:75,totalColumnWidth:0,paddingViewColumns:4,toleranceViewCols:2,paddingPagedColumns:30,tolerancePagedCols:15,colView:{start:0,end:0},oldColView:{start:0,end:0},pageDataCols:{},constructor:function(a){this.scrollbarWidth=e.getScrollbarWidth();this.defaultProperties=g.delegate(this.defaultProperties,{columns:[],showCellBorders:!0})},postCreate:function(){this.inherited(arguments);this.own(m(this.dataScrollerNode,
"change",g.hitch(this,"_onDataChange")));this.own(m(this.dataScrollerNode,"keydown",g.hitch(this,"_onCommit")))},setColumnWidth:function(a,b){if(0<=a&&a<this.columns.length&&10<b){var e=g.clone(this.columns);e[a].width=b;this.peerNode.setProperty("columns",e)}},scrollToColumn:function(a){a=Math.max(0,Math.min(a,this.dataModel.getColumnCount()));var b=0,e=(this.columns[a]?this.columns[a].width:this.defaultColumnWidth)/2,c;for(c=0;c<a;c+=1)e+=this.columns[c]?this.columns[c].width:this.defaultColumnWidth;
c=l.position(this.dataScrollerNode).w;var k=(c-this.scrollbarWidth)/1.3;a=k+this.dataScrollerNode.scrollLeft;c=c-k+this.dataScrollerNode.scrollLeft;e>a?b=e-a:e<c&&(b=e-c);this.dataScrollerNode.scrollLeft=b+this.dataScrollerNode.scrollLeft},scrollToCell:function(a,b){this.scrollToRow(a);this.scrollToColumn(b)},getColumnSelector:function(a){return"#"+this.id+" .dataBody .cell:nth-child("+(a-this.colView.start+2)+")"},getCellSelector:function(a,b){return this.getRowSelector(a)+".cell:nth-child("+(b-
this.colView.start+2)+")"},_onColumnsSet:function(){this._updateTotalColumnWidth(this.columns.length);this._renderViewData(!0)},_updateTotalColumnWidth:function(a){this.totalColumnWidth=0;var b;for(b=0;b<a;b+=1)if(this.columns[b])if(0<=this.columns[b].width)this.totalColumnWidth+=this.columns[b].width;else{var e=this.getColumnModelProperty(b,"ColumnWidth"),c=parseInt(e,10);null!==e&&void 0!==e&&0<=c?(this.totalColumnWidth+=c,this.columns[b].width=c):(this.totalColumnWidth+=this.defaultColumnWidth,
this.columns[b].width=this.defaultColumnWidth)}},_onShowCellBordersSet:function(){b.toggle(this.domNode,"showCellBorders",this.showCellBorders)},_onDataScroll:function(){this.inherited(arguments)},_onDataChange:function(a){var b=this._getCellFromNode(a.target);if(!(0>b.row||0>b.column)){var e=b.node,c=b.row,b=b.column,k=this.oldViewData[c-this.rowView.start][b-this.colView.start],d=this._getCellType(this.columns[b]);this.cellTypes[d.type].getCellValue&&(a=this.cellTypes[d.type].getCellValue(e.firstChild,
a.target,d,k),void 0!==a&&this.dataModel.changeData(c,b,[[a]]))}},_onCommit:function(b){b.keyCode===a.ENTER&&this._onDataChange(b)},_throttledRender:function(a,b){var e=this;this._renderTimer&&clearTimeout(this._renderTimer);this._renderTimer=setTimeout(function(){e._renderViewDataImpl(a);b&&b();e._renderSelection()},10)},_renderViewData:function(a,b){this._throttledRender(a,b)},_renderViewDataImpl:function(a){if(this.domNode){var b=window.performance.now();if(this.dataModel&&this.position){this._updatePagedData();
if(!a&&this.dataModel===this.oldDataModel&&!this.rowView.changed&&!this.colView.changed)return;this._onViewRangeUpdated();var e=this.rowView.start-this.dataModel.getCurrentStartRow();a=this.rowView.end-this.dataModel.getCurrentStartRow();for(var c=this.colView.start-this.dataModel.getCurrentStartCol(),k=this.colView.end-this.dataModel.getCurrentStartCol(),d=this.dataModel.getPartialData(),f=[];e<a;e+=1)f.push(d[e].slice(c,k));var l=this;this._incrementalUpdateNode({node:this.dataNode,data:f,oldData:this.oldViewData,
start:this.rowView.start,end:this.rowView.end,oldStart:this.oldRowView.start,oldEnd:this.oldRowView.end,update:function(a,b,e){l._updateRow(a,b,e,l.colView.start,l.colView.end,l.oldColView.start,l.oldColView.end)},create:function(a){return l._renderRow(a,l.colView.start,l.colView.end)}});this.oldRowView=this.rowView;this.oldColView=this.colView;this.oldViewData=f;this.oldDataModel=this.dataModel}this._updateDataStyles();a=window.performance.now();this.emit("view-updated");q.isPerformance()&&p.publish("variableeditor/renderTimeChannel",
{time:a-b,numRows:this.rowView.end-this.rowView.start,numCols:this.colView.end-this.colView.start})}},_renderRow:function(a,b,e){var c=document.createElement("div");c.setAttribute("class","row");var k=document.createElement("div");k.setAttribute("class","cell spacer leftSpacer");c.appendChild(k);k=e-b;for(e=0;e<k;e+=1)c.appendChild(this._renderCell(this.columns[e+b],a[e]));a=document.createElement("div");a.setAttribute("class","cell spacer rightSpacer");c.appendChild(a);return c},_updateRow:function(a,
b,e,c,k,d,f){var l=this;this._incrementalUpdateNode({node:a,data:b,oldData:e,start:c,end:k,oldStart:d,oldEnd:f,update:function(a,b,e,c){l._updateCell(a,l.columns[c],b,e)},create:function(a,b){return l._renderCell(l.columns[b],a)}})},_getCellFromNode:function(a){for(var b=null,e=-1,c=-1;a.getAttribute&&"datatools.variableeditor.views.table.cell"!==a.getAttribute("data-tag")&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute&&"datatools.variableeditor.views.table.cell"===a.getAttribute("data-tag")){b=
a;for(c=this.colView.start-1;a.previousElementSibling;)c+=1,a=a.previousElementSibling;a=a.parentNode;for(e=this.rowView.start-1;a.previousElementSibling;)e+=1,a=a.previousElementSibling}return{node:b,row:e,column:c}},_onViewRangeUpdated:function(a,b,e,c){var k;for(k=this.leftSpaceWidth=0;k<this.colView.start;k+=1)this.leftSpaceWidth+=this.columns[k]&&null!==this.columns[k].width&&0<=this.columns[k].width?this.columns[k].width:this.defaultColumnWidth;this.inherited(arguments)},_updatePagedData:function(){if(this.domNode){var a=
this._convertPxToCols(0,this._getScrollLeft()),b=this._convertPxToCols(a,this.position.width)+1,e=a+b;this.colView=this._updateArrayBounds(a,a+b,this.dataModel.getCurrentStartCol(),this.dataModel.getCurrentEndCol(),this.paddingViewColumns,this.toleranceViewCols,this.oldColView,e);this.pagedDataCols=this._updateArrayBounds(a,a+b,0,this.dataModel.getColumnCount(),this.paddingPagedColumns,this.tolerancePagedCols,this.oldPagedDataCols,e);this.inherited(arguments)}},_getScrollLeft:function(){return this.dataScrollerNode.scrollLeft},
_updateDataStyles:function(){this.inherited(arguments);this.dataModel&&(this.rowHeight&&this.position)&&(this._updateScrollerStyles(),this.styleManager.updateStyleRules("spacerLeft",{".row .spacer.leftSpacer":"width: "+this.leftSpaceWidth+"px;"}),this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: "+this.totalColumnWidth+"px;"}))},_updateCurrentPosition:function(){var a=l.position(this.domNode);this.position={width:a.w,height:a.h}},_updateColumnStyles:function(){var a=this.columns.slice(this.colView.start,
this.colView.end),b,e={},c;for(b=0;b<a.length;b+=1)c=this._getCellType(a[b]),c=this._getColumnStyles(c),c+="width: "+(a[b]&&null!==a[b].width&&0<=a[b].width?a[b].width:this.defaultColumnWidth)+"px;",e[".dataColumn .cell:nth-child("+(b+2)+")"]=c;this.styleManager.updateStyleRules("columns",e)},_updateScrollerStyles:function(){var a=this.dataModel.getRowCount()*this.rowHeight>=this.position.height,e=this.totalColumnWidth>=this.position.width;b.toggle(this.domNode,"hideVerticalScroll",!a);b.toggle(this.domNode,
"hideHorizontalScroll",!e)},_convertPxToCols:function(a,b){var e,c=0;for(e=a;e<this.dataModel.getColumnCount();e+=1)if(c+=this.columns[e]&&this.columns[e].width||this.defaultColumnWidth,b<=c)return e-a;return e}})})},"mw-browser-utils/BrowserUtils":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/dom-class"],function(h,d,g){var c=this,f=null;return{supportsLocalStorage:function(){var b=c&&void 0!==typeof c.localStorage&&null!==c.localStorage;if(b)try{c.localStorage.setItem("motw.test.local.storage",
"0"),c.localStorage.removeItem("motw.test.local.storage")}catch(d){b=!1}return b},_hasNewIE:function(b){return b&&!d("ie")&&0<d("trident")?parseFloat(b.split("rv:")[1]):b&&0<b.indexOf("Edge")?"Edge "+parseFloat(b.split("Edge/")[1]):""},_getBrowserInfo:function(b){var c={BROWSER:"OTHER",BROWSER_VER:"OTHER"},f,a={IE:"Microsoft Internet Explorer",FF:"Mozilla Firefox",Chrome:"Google Chrome",Safari:"Apple Safari"};if(b=this._hasNewIE(b))c.BROWSER=a.IE,c.BROWSER_VER=b.toString();else for(f in a)if(a.hasOwnProperty(f)&&
d(f.toLowerCase())){b=d(f.toLowerCase());c.BROWSER=a[f];c.BROWSER_VER=b.toString();if("Chrome"===f||"Safari"===f)c.WEBKIT_VER=d("webkit").toString();break}return c},getSystemInfo:function(){var b={},d={};try{b.DEVICE="",b.LOCALE=c.navigator.language,b.OS=c.navigator.platform,b.PLATFORM=c.navigator.platform,b.SCREEN_RESOLUTION=c.screen.width+"x"+c.screen.height,b.WINDOW_RESOLUTION=c.innerWidth+"x"+c.innerHeight,b.USER_AGENT=c.navigator.userAgent,d=this._getBrowserInfo(c.navigator.appVersion),b=h.mixin(b,
d)}catch(f){}return b},setClassName:function(b,c){g.add(b,"mw_type_"+(c.type||"unknownType"));g.add(b,"mw_type_Component");if(c.name){var d="mw_name_"+(c.name.trim().replace(/[^a-zA-Z0-9]/g,"_")||"NO_NAME");g.contains(b,d)||(b.className=b.className.replace(/mw_name_[^ ]*/,""),g.add(b,d))}},isInFocus:function(b){return"unknown"!==typeof c.document.activeElement?b===c.document.activeElement:!1},getScrollbarWidth:function(){if(null===f){var b=document.createElement("div");b.className="scrollbar-measure";
b.style.width="100px";b.style.height="100px";b.style.overflow="scroll";b.style.position="absolute";b.style.top="-9999px";document.body.appendChild(b);var c=b.offsetWidth-b.clientWidth;document.body.removeChild(b);f=c+2}return f}}})},"variableeditor/views/table/tableBase/_ListBase":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/on dojo/sniff dijit/_WidgetBase mw-browser-utils/BrowserUtils mw-style-utils/StyleUtils variableeditor/VariableEditorUtils ./tableCellRenderers".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h([k],{peerNode:null,defaultProperties:{renderer:{type:"default"},rowHeight:18,dataModel:null,visibility:!0},position:{width:0,height:0},paddingViewRows:10,toleranceViewRows:5,paddingPagedRows:80,tolerancePagedRows:40,pagedDataUpdateDelay:100,leftSpaceWidth:0,viewData:[],oldViewData:[],rowView:{start:0,end:0},oldRowView:{start:0,end:0},pagedDataRows:{start:0,end:0,changed:!1},pagedDataCols:{start:0,end:1,changed:!1},cellTypes:q,constructor:function(b){b=
b||{};this.peerNode=b.peerNode;b.id="mgg_"+b.peerNode.getId();this.styleManager=new n.StyleManager("#"+b.id);this.own(this.styleManager);a("mac")?this.debounceRedraw=p.createDebounceFn(this,[this._renderViewData,this._updateScrollerStyles],1E3):this.debounceRedraw=p.createDebounceFn(this,[this._renderViewData,this._updateScrollerStyles],500)},postCreate:function(){this.inherited(arguments);this.domNode.id=this.id;e.setClassName(this.domNode,{type:this.peerNode.getType(),name:this.peerNode.getProperty("name")});
g.mixin(this,this.defaultProperties);var a=g.delegate(this.defaultProperties,this.peerNode.getProperties()),b;for(b in a)"function"!==typeof a[b]&&this._onPropertySet({target:this.peerNode,data:{key:b,oldValue:null,newValue:a[b]}});this.peerNode.addEventListener("propertySet",this._onPropertySet,this);this.own(m(this.dataScrollerNode,"scroll",g.hitch(this,"_onDataScroll")))},startup:function(){this.inherited(arguments);this.position||(this.position=l.position(this.domNode),this._renderViewData(!0))},
resize:function(){this._noAutoSizing||(this.position=l.position(this.domNode),this.debounceRedraw())},destroyRecursive:function(){this.peerNode.hasEventListener("propertySet")&&this.peerNode.removeEventListener("propertySet",this._onPropertySet,this);this.inherited(arguments)},scrollToRow:function(a){var b=this.rowHeight;a=Math.max(0,Math.min(a,this.dataModel.getRowCount()));var e=0,c=l.position(this.dataScrollerNode).h,k=(c-b)/1.1,d=k+this.dataScrollerNode.scrollTop,c=c-k+this.dataScrollerNode.scrollTop;
a*=b;a>d?e=a-d:a<c&&(e=a-c);this.dataScrollerNode.scrollTop=e+this.dataScrollerNode.scrollTop},getRowSelector:function(a){return"#"+this.id+" .dataBody .row:nth-child("+(a-this.rowView.start+2)+")"},_onPropertySet:function(a){var b=a.data.key;this[b]=a.data.newValue;b="_on"+(b.charAt(0).toUpperCase()+b.substring(1,b.length))+"Set";if(this[b]&&void 0!==a.data.newValue&&null!==a.data.newValue)this[b](a.data.newValue,a.data.oldValue)},_onPositionSet:function(a){f.set(this.domNode,{position:"absolute",
left:a.x+"px",top:a.y+"px",width:a.width+"px",height:a.height+"px"});this._noAutoSizing=!0;this._updateDataStyles()},_onBackgroundSet:function(){f.set(this.domNode,{backgroundColor:"rgb("+this.background.join(", ")+")"})},_onBorderTypeSet:function(){this._updateBorderStyles()},_onBorderWidthSet:function(){this._updateBorderStyles()},_onBorderColorSet:function(){this._updateBorderStyles()},_updateBorderStyles:function(){if("LineBorder"===this.borderType){var a={};if(this.borderColor){var b=this.borderColor.map(function(a){return Math.floor(255*
a)});a.borderColor="rgb("+b.join(",")+")"}this.borderWidth&&(a.borderWidth=this.borderWidth+"px",a.borderStyle="solid");f.set(this.domNode,a)}},_onVisibilitySet:function(){f.set(this.domNode,{display:this.visibility?"":"none"})},_onRowHeightSet:function(){this._updateDataStyles()},_preDataModelSet:function(a,b){return!(0===a._partialData.length&&(0!==a._rowCount||0!==a._columnCount))},_onDataModelSet:function(){!this.oldPagedDataRows&&this.dataModel&&(this.oldPagedDataRows={start:this.dataModel.getCurrentStartRow(),
end:this.dataModel.getCurrentEndRow()});!this.oldPagedDataCols&&this.dataModel&&(this.oldPagedDataCols={start:this.dataModel.getCurrentStartCol(),end:this.dataModel.getCurrentEndCol()});0===this.dataModel._rowCount&&(this._updatePagedData(),this.colView.changed&&this._updateColumnHeaderNames(),this._setEmptyBlockSelection());this._renderViewData(!0)},_onDataScroll:function(){this.pauseScrollEvents||this.debounceRedraw()},_renderViewData:function(a){if(this.dataModel&&this.position){this._updatePagedData();
if(!a&&this.dataModel===this.oldDataModel&&!this.rowView.changed)return;this._onViewRangeUpdated();a=this.dataModel.getPartialData().slice(this.rowView.start-this.dataModel.getCurrentStartRow(),this.rowView.end-this.dataModel.getCurrentStartRow());var b=this;this._incrementalUpdateNode({node:this.dataNode,data:a,oldData:this.oldViewData,start:this.rowView.start,end:this.rowView.end,oldStart:this.oldRowView.start,oldEnd:this.oldRowView.end,update:function(a,e,c){b._updateCell(a,b,e,c)},create:function(a){a=
b._renderCell(b,a);a.setAttribute("class","row cell");return a}});this.oldRowView=this.rowView;this.oldViewData=a;this.oldDataModel=this.dataModel}this._updateDataStyles()},_renderCell:function(a,b){var e=document.createElement("div");e.setAttribute("class","cell");var c=this._getCellType(a),k=this.cellTypes[c.type].create(c,b);e.appendChild(k);this.cellTypes[c.type].startup&&this.cellTypes[c.type].startup(k,a,b,e);return e},_updateCell:function(a,b,e,c){var k=this._getCellType(b),d;if(this.cellTypes[k.type].update){var f=
a.firstChild;(d=this.cellTypes[k.type].update(f,k,e))&&d!==f&&a.replaceChild(d,f)}else d=this.cellTypes[k.type].create(k,e),d!==a.firstChild&&a.replaceChild(d,a.firstChild);this.cellTypes[k.type].startup&&this.cellTypes[k.type].startup(d,b,e,c)},_getCellType:function(a){var b;a&&a.renderer&&"label"===a.renderer.type&&(!a.editor||"text"!==a.editor.type)?b=a.renderer:a&&a.renderer&&a.editor&&a.renderer.type===a.editor.type?b=a.renderer:a&&a.renderer&&"cell"===a.renderer.type?b=a.renderer:a&&a.editor&&
a.editor.type&&"default"!==a.editor.type&&this.cellTypes[a.editor.type]?b=a.editor:a&&a.renderer&&a.renderer.type&&this.cellTypes[a.renderer.type]?(b=g.clone(a.renderer),b.enabled=a.editable&&b.enabled):b={type:"default"};return b},_getCellFromNode:function(a){for(var b,e=-1;(!a.getAttribute("class")||0>a.getAttribute("class").indexOf("cell"))&&a!==this.dataScrollerNode;)a=a.parentNode;if(a.getAttribute("class")&&0<=a.getAttribute("class").indexOf("cell")){b=a;for(e=this.rowView.start-1;a.previousElementSibling;)e+=
1,a=a.previousElementSibling}return{node:b,row:e}},_onViewRangeUpdated:function(){},_updatePagedData:function(){var a=Math.floor(this._getScrollTop()/this.rowHeight),b=Math.floor(this.position.height/this.rowHeight),e=a+Math.floor(this.position.height/this.rowHeight);this.rowView=this._updateArrayBounds(a,a+b,this.dataModel.getCurrentStartRow(),this.dataModel.getCurrentEndRow(),this.paddingViewRows,this.toleranceViewRows,this.oldRowView,e);this.pagedDataRows=this._updateArrayBounds(a,a+b,0,this.dataModel.getRowCount(),
this.paddingPagedRows,this.tolerancePagedRows,{start:this.dataModel.getCurrentStartRow(),end:this.dataModel.getCurrentEndRow()},e);this._updateLoadingIndicator();this._doPagedDataUpdate()},_getScrollTop:function(){return this.dataScrollerNode.scrollTop},_updateLoadingIndicator:function(){var a=(this.pagedDataRows.changed||this.pagedDataCols.changed)&&(this.pagedDataRows.start!==this.dataModel.getCurrentStartRow()||this.pagedDataRows.end!==this.dataModel.getCurrentEndRow()||this.pagedDataCols.start!==
this.dataModel.getCurrentStartCol()||this.pagedDataCols.end!==this.dataModel.getCurrentEndCol());b.toggle(this.domNode,"dataLoading",a);a?this.domNode.addEventListener("contextmenu",p.preventDefaultMouseClick,!1):this.domNode.removeEventListener("contextmenu",p.preventDefaultMouseClick,!1)},_doPagedDataUpdate:function(){if((this.pagedDataRows.changed||this.pagedDataCols.changed)&&!this._requestUpdateTimeout){var a=this,b=function(){a.oldPagedDataRows=a.pagedDataRows;a.oldPagedDataCols=a.pagedDataCols;
a._requestUpdateTimeout=null;a.dataModel.updatePartialData(a.pagedDataRows.start,a.pagedDataRows.end,a.pagedDataCols.start,a.pagedDataCols.end)};0===this.pagedDataUpdateDelay?b():this._requestUpdateTimeout=setTimeout(b,this.pagedDataUpdateDelay)}},_updateArrayBounds:function(a,b,e,c,k,d,f,l){a=Math.max(a-k,e);b=Math.max(a,Math.min(b+k,c));k=!1;k=l?a===e&&a!==f.start||b===c&&b!==f.end||l>f.end||a<f.start||l>b||0===this.dataModel._partialData.length&&(0!==this.dataModel._rowCount||0!==this.dataModel._columnCount):
a===e&&a!==f.start||b===c&&b!==f.end||Math.abs(a-f.start)>d||Math.abs(b-f.end)>d;return{start:k?a:f.start,end:k?b:f.end,changed:k}},_updateDataStyles:function(){this.dataModel&&this.rowHeight&&(this.styleManager.updateStyleRules("spacerTop",{".body .spacer.topSpacer":"height: "+this.rowView.start*this.rowHeight+"px;"}),this.styleManager.updateStyleRules("dataHeight",{".spacer.dataHeight":"height: "+this.dataModel.getRowCount()*this.rowHeight+"px;",".row":"height: "+this.rowHeight+"px;",".row.verticalScrollSpacer":"height: 100%"}),
this._updateColumnStyles())},_updateColumnStyles:function(){var a=this._getCellType(this);this.styleManager.updateStyleRules("columns",{".dataColumn .cell":this._getColumnStyles(a)})},_getColumnStyles:function(a){return this.cellTypes[a.type].getColumnStyles?this.cellTypes[a.type].getColumnStyles(a):""},_incrementalUpdateNode:function(a){for(var b,e=a.node.firstElementChild,c=a.start,k=a.oldStart;null!==e.nextElementSibling&&(c<a.end||k<a.oldEnd);)e=e.nextElementSibling,k===c&&k<a.oldEnd&&c<a.end?
(a.update(e,a.data[c-a.start],a.oldData[k-a.oldStart],c),k+=1,c+=1):(c<k||c>=a.oldEnd)&&c<a.end?(b=a.create(a.data[c-a.start],c),a.node.insertBefore(b,e),e=b,c+=1):k<a.oldEnd&&(b=e.previousElementSibling,a.destroy&&a.destroy(e,k),a.node.removeChild(e),e=b,k+=1)}})})},"mw-style-utils/StyleUtils":function(){define(["dojo/_base/declare"],function(h){var d;h=h([],{constructor:function(c){this.styleGroups={};this.baseSelector=c},remove:function(){Object.keys(this.styleGroups).forEach(function(c){this["_"+
c+"Rules"]&&(this["_"+c+"Rules"].forEach(function(b){b.remove()}),delete this["_"+c+"Rules"])},this);this.styleGroups={}},updateStyleRules:function(c,b){var l=this.styleGroups[c],m=Object.keys(b),a,k=!1;if(l){var e=Object.keys(this.styleGroups[c]);if(e.length===m.length){e.sort();m.sort();for(a=0;a<e.length;a+=1)if(e[a]!==m[a]||l[m[a]]!==b[m[a]]){k=!0;break}}else k=!0}else k=!0;k&&(this.styleGroups[c]=b,l=m.map(function(a){return d.addRule(this.baseSelector+" "+a,b[a])},this),this["_"+c+"Rules"]&&
this["_"+c+"Rules"].forEach(function(a){a.remove()}),this["_"+c+"Rules"]=l)}});var g=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(g);var g=g.sheet,c=[];return d={addRule:function(d,b){var l=c.length;c[l]=g.cssRules.length;g.insertRule(d+"{"+b+"}",c[l]);var m=this;return{remove:function(){m.removeRule(l)}}},removeRule:function(d){var b=c[d];if(void 0!==b){g.deleteRule(b);for(c[d]=void 0;d<c.length;d+=1)c[d]>b&&(c[d]-=1)}},StyleManager:h}})},"variableeditor/views/table/tableBase/tableCellRenderers":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/dom-style","./TextUtils"],function(h,d,g,c){function f(){var a=document.createElement("div");a.setAttribute("class","verticalSpacer");return a}function b(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function l(a){var b=c.getTextStyleDashes(a||{});b.display=a&&!1===a.visible?"none":void 0;var e;a="";for(e in b)b.hasOwnProperty(e)&&b[e]&&(a+=e+":"+b[e]+";");return a}var m;return m={"default":{getColumnStyles:l,create:function(a,b){var e=document.createElement("div");e.setAttribute("class",
"plainText");var c=document.createElement("span");c.appendChild(document.createTextNode(b||""));e.appendChild(c);e.appendChild(f());return e},update:function(a,b,e){if("div"!==a.nodeName.toLowerCase()||!a.getAttribute("class")||"plainText"!==a.getAttribute("class"))return this.create(b,e);a.firstElementChild.firstChild.nodeValue=e}},checkbox:{getColumnStyles:l,create:function(a,b){var e=document.createElement("input");this.update(e,a,b);return e},update:function(a,b,e){if("input"!==a.nodeName.toLowerCase())return this.create(b,
e);a.type="checkbox";!0===e||"true"===e?(a.setAttribute("checked",""),a.checked=!0):(a.removeAttribute("checked"),a.checked=!1);a.disabled=void 0===b.enabled?!1:!b.enabled},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"checkbox"===a.type)return a.checked?a.setAttribute("checked",""):a.removeAttribute("checked"),!!a.checked}},text:{getColumnStyles:l,create:function(a,b){var e=document.createElement("input");this.update(e,a,b);return e},update:function(a,b,e){if("input"!==a.nodeName.toLowerCase())return this.create(b,
e);a.type="text";a.value=e;!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"text"===a.type)return a.value}},numeric:{getColumnStyles:l,create:function(a,b){var e=document.createElement("input");this.update(e,a,b);return e},update:function(a,b,e){if("input"!==a.nodeName.toLowerCase())return this.create(b,e);a.type="text";a.value=e;!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===
a.nodeName.toLowerCase()&&"text"===a.type)return a.value}},color:{getColumnStyles:l,create:function(a,b){var e=document.createElement("input");this.update(e,a,b);return e},update:function(a,b,e){if("input"!==a.nodeName.toLowerCase())return this.create(b,e);a.type="text";a.value="["+e[0].toFixed(3)+", "+e[1].toFixed(3)+", "+e[2].toFixed(3)+"]";!1===b.enabled?a.set("readOnly",!0):a.set("readOnly",!1)},getCellValue:function(a){if("input"===a.nodeName.toLowerCase()&&"text"===a.type)return a=a.value.replace(/[\s\[\]]*/g,
"").split(","),[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])]}},list:{getColumnStyles:l,create:function(a,b){var e=document.createElement("select");this.update(e,a,b);return e},update:function(a,b,e){if("select"!==a.nodeName.toLowerCase())return this.create(b,e);this._addOptions(a,b,e);a.disabled=void 0===b.enabled?!1:!b.enabled},getCellValue:function(a,b,e){if("select"===a.nodeName.toLowerCase())return b=e.listValues[a.selectedIndex],this._addOptions(a,e,b),b},_addOptions:function(a,c,e){var d,
f,l;f=!1;if(c.listValues.length===a.children.length){for(d=0;d<c.listValues.length;d+=1)if(l=a.children[d],l.value!==c.listValues[d]||l.hasAttribute("selected")!==(l.value===e)){f=!0;break}if(!f)return}b(a);for(d=0;d<c.listValues.length;d+=1)f=c.listValues[d],l=document.createElement("option"),l.value=f,l.text=f,e===f&&l.setAttribute("selected",""),a.add(l)}},label:{getColumnStyles:l,create:function(a,b){var e=document.createElement("div");e.setAttribute("class","label");this.update(e,a,b);return e},
update:function(a,c,e){if("div"!==a.nodeName.toLowerCase()||"label"!==a.getAttribute("class"))return this.create(c,e);e.background&&a.setAttribute("style","background: rgb("+e.background.join(",")+")");b(a);e.icon&&a.appendChild(e.icon.cloneNode());c=document.createElement("label");"string"===typeof e.value?this._setLabel(c,e.value):"string"===typeof e&&this._setLabel(c,e);a.appendChild(c);a.appendChild(f())},_setLabel:function(a,b){var e=b.trim();0===e.indexOf("\x3chtml\x3e")?a.innerHTML=e.substring(6,
e.length-7):a.appendChild(document.createTextNode(b))}},expand:{create:function(a,b){var e=document.createElement("div");e.setAttribute("class","expand");var c=document.createElement("div"),d=document.createElement("div");e.appendChild(c);e.appendChild(d);this.update(e,a,b);return e},update:function(a,c,e){if("div"!==a.nodeName.toLowerCase()||"expand"!==a.getAttribute("class"))return this.create(c,e);c=a.firstChild;a=c.nextElementSibling;b(c);b(a);if(e.expandable){var d=document.createElement("button");
e.expanded&&d.setAttribute("class","expanded");c.appendChild(d)}d="";for(c=0;c<e.depth;c+=1)d+="  ";a.appendChild(document.createTextNode(d+e.text))}},prop:{create:function(a,b){var e=document.createElement("div");e.setAttribute("class","prop");var c=document.createElement("div"),d=document.createElement("div"),f=document.createElement("div");e.appendChild(c);e.appendChild(d);e.appendChild(f);this.update(e,a,b);return e},update:function(a,c,e){if("div"!==a.nodeName.toLowerCase()||"prop"!==a.getAttribute("class"))return this.create(c,
e);a=a.firstChild;c=a.nextElementSibling;var d=c.nextElementSibling;b(a);b(c);b(d);this["_"+e.leftType](a,"left",e);this["_"+e.middleType](c,"middle",e);this["_"+e.rightType](d,"right",e)},getCellValue:function(a,b,e,c){if(c&&"text"===c.middleType)return a=d.clone(c),a.middleText=b.value,a},_label:function(a,b,e){if(e[b+"Text"]){var c=document.createTextNode(e[b+"Text"]);a.appendChild(c)}this._appendIcon(a,e[b+"Icon"])},_text:function(a,b,e){var c=document.createElement("input");c.type="text";c.value=
e[b+"Text"];a.appendChild(c)},_button:function(a,b,e){var c=document.createElement("button");e[b+"Text"]&&c.appendChild(document.createTextNode(e[b+"Text"]));this._appendIcon(c,e[b+"Icon"]);a.appendChild(c)},_dropdown:function(a,b,e){var c=document.createElement("button");e[b+"Text"]&&c.appendChild(document.createTextNode(e[b+"Text"]));this._appendIcon(c,e[b+"Icon"]);a.appendChild(c)},_space:function(){},_appendIcon:function(a,b){"string"===typeof b?a.setAttribute("class",b+"Icon"):b instanceof Image&&
a.appendChild(b.cloneNode())}},cell:{create:function(a,b){var e=b&&b.renderer&&b.renderer.type,e=e&&m[e]?m[e].create(b.renderer,b.value):m["default"].create(b.renderer,b.value);this._updateNode(e,b.renderer);return e},update:function(a,b,e){if((b=e&&e.renderer&&e.renderer.type)&&m[b])if(m[b].update){if(b=m[b].update(a,e.renderer,e.value),!b){this._updateNode(a,e.renderer);return}}else b=m[b].create(e.renderer,e.value);else b=m["default"].create(e.renderer,e.value);this._updateNode(b,e.renderer);return b},
getCellValue:function(a,b,e,c){if((e=c.renderer.type)&&m[e]&&m[e].getCellValue){var f=d.clone(c);f.value=m[e].getCellValue(a,b,c.renderer,c.value);return f}},_updateNode:function(a,b){var e=b&&b.type;e&&m[e].getColumnStyles?a.setAttribute("style",m[e].getColumnStyles(b)):m["default"].getColumnStyles&&a.setAttribute("style",m["default"].getColumnStyles(b))}}}})},"variableeditor/views/table/tableBase/TextUtils":function(){define([],function(){var h={size:"fontSize",family:"fontFamily",style:"fontStyle",
weight:"fontWeight",align:"textAlign",valign:"verticalAlign",color:"color"},d={size:"font-size",family:"font-family",style:"font-style",weight:"font-weight",align:"text-align",valign:"vertical-align",color:"color"};return{getTextStyle:function(d){return this._getTextStyle(d,h)},getTextStyleDashes:function(g){return this._getTextStyle(g,d)},_getTextStyle:function(d,c){var f=null,b={Dialog:"Helvetica",DialogInput:"Monaco",Monospaced:"monospace",Serif:"serif",SansSerif:"sans-serif",Helvetica:"Helvetica"},
f=!1===d.enabled?[128,128,128]:d.fontColor,l={};l[c.size]=d.fontSize?d.fontSize+"px":void 0;l[c.family]=d.fontName?b[d.fontName]:void 0;l[c.style]=d.fontItalic?"italic":void 0;l[c.weight]=d.fontBold?"bolder":void 0;l[c.align]=d.horizontalAlignment||d.textAlign;l[c.valign]=d.verticalAlignment;l[c.color]=f?"rgb("+f.join(",")+")":"";return l}}})},"variableeditor/views/table/_VETableHeaders":function(){define("variableeditor/views/table/_VETableHeaders","dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys variableeditor/views/table/tableBase/_TableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){return h([k],{pseudoStyleForFirstColumnHeaderCell:"content: ''; position: absolute; width: 3px; left: 32px; background-color: rgb(192, 192, 192); height: 36px;",_updateHeaderStyles:function(){var a=p.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),b=p.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),e=this.getTableModelProperty("ShowHeaderIcons");this.inherited(arguments);if(this.dataModel){var c="22px;";a&&b?c=
"36px;":void 0!==e&&(c="30px;");this.pseudoStyleForFirstColumnHeaderCell="content: ''; position: absolute; width: 3px; left: 32px; background-color: rgb(192, 192, 192); height: "+c;this.styleManager.updateStyleRules("columnHeader",{".row.dataWidth.spacer":"height: "+c});this.styleManager.updateStyleRules("cornerSpaceHeader",{".inline.row.cornerSpacer.rowHeaderColumn.rowHeadersWrapper.topRowHeaderWrapper":"height: "+c});a=this._isHorizontalScrollBarShown()?this.scrollbarWidth:0;b=p.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),
!0)?c:"0px";this.styleManager.updateStyleRules("rows",{".body":"padding-top: "+b+"margin-top: "+("-"+c),".body .rowHeadersWrapper":"padding-bottom: "+a+"px;"})}},_updateCornerSpacerLabel:function(a){var b=this.getTableModelProperty("CornerSpacerTitle");if(void 0!==b){var e=document.createElement("div");p.addToClassList(e,"cornerSpacer rowHeaderColumn topRowHeaderWrapper label");var c=document.createElement("span");c.appendChild(document.createTextNode(b));e.appendChild(c);a.insertBefore(e,a.firstChild)}else if(void 0!==
a.firstChild.className&&(a=document.getElementsByClassName("cornerSpacer rowHeaderColumn topRowHeaderWrapper label"),0!==a.length))for(b=0;b<a.length;b++)a[b].parentNode.removeChild(a[b].parentNode.firstChild)},_addHeaderIconCSS:function(a,b){p.addToClassList(b,"icon");var e=n.IconTypeMap.hasOwnProperty(a)?n.IconTypeMap[a]:n.IconTypeMap.object;b.className.match(/iconVariableEditor([a-zA-Z]+)/)?b.className=b.className.replace(/iconVariableEditor([a-zA-Z]+)/,e):p.addToClassList(b,"variableEditorRenderers "+
e)}})})},"variableeditor/views/table/tableBase/_TableHeaders":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style ./tableCellRenderers variableeditor/views/table/_HeadersBase variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/table/VariableEditorColumnHeader.html dojo/text!variableeditor/views/table/VariableEditorRowHeader.html dijit/registry variableeditor/VariableEditorUtils".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){return h([l],{oldColumnData:[],
oldRowData:[],constructor:function(){this.defaultProperties=d.delegate(this.defaultProperties,{tableHeader:!1,showRowHeaders:!1,rowHeaderWidth:30,rows:[]})},_onDataScroll:function(){this.inherited(arguments);this.scrollbarWidth=e.getBrowserScrollBarWidth(this);this.columnHeaderScrollerNode.scrollLeft=this.dataScrollerNode.scrollLeft;this.rowHeaderScrollerNode.scrollTop=this.dataScrollerNode.scrollTop},_onViewRangeUpdated:function(){this.inherited(arguments);this._renderRowHeader();this._renderColumnHeader();
this._updateHeaderStyles()},_renderColumnHeader:function(){var a=this.columns.slice(this.colView.start,this.colView.end);this._updateCornerSpacerLabel(this.cornerSpacerNode);if(a.length===this.colView.end-this.colView.start){var b=this;this._incrementalUpdateNode({node:this.columnHeaderNode,data:a,oldData:this.oldColumnData,start:this.colView.start,end:this.colView.end,oldStart:0,oldEnd:this.oldColumnData.length,update:function(a,e){b._updateColumnNode(a,e)},create:function(a){return b._createColumnNode(a)}});
this.oldColumnData=a}},_updateColumnNode:function(a,b){var e=k.getEnclosingWidget(a);g.replace(a,"header_"+b.labelIndex,"header_"+e.indexValue);b.labelIndex?(e.setIndexValue(b.labelIndex),e.setIndexProperty(parseInt(b.labelIndex)-1),e.setNodeDisplay("headerIndex",!0)):e.setNodeDisplay("headerIndex",!1)},_createColumnNode:function(a){a=new b({templateString:m,indexValue:a.labelIndex?a.labelIndex:""});a.startup();a.setNodeDisplay("headerIndex",!0);return a.domNode},_renderRowHeader:function(){var a=
this.rows.slice(this.rowView.start,this.rowView.end);if(a.length===this.rowView.end-this.rowView.start){var b=this;this._incrementalUpdateNode({node:this.rowHeaderNode,data:a,oldData:this.oldRowData,start:this.rowView.start,end:this.rowView.end,oldStart:0,oldEnd:this.oldRowData.length,update:function(a,e,c,k){b._updateRowNode(a,e,c,k)},create:function(a,e){return b._createRowNode(a,e)}});this.oldRowData=a}},_updateRowNode:function(a,b,e,c){e=k.getEnclosingWidget(a);g.replace(a,"header_"+b.labelIndex,
"header_"+e.indexValue);b.labelIndex?(e.setIndexProperty(parseInt(b.labelIndex)-1),e.setIndexValue(b.labelIndex),e.setNodeDisplay("headerIndex",!0)):e.setNodeDisplay("headerIndex",!1)},_createRowNode:function(e,c){var k=this.domNode.getElementsByClassName("variableEditorRowHeaders header_"+(void 0===e?c:e.labelIndex));k.parentNode&&k.parentNode.removeChild(k);k=new b({templateString:a,indexValue:void 0===e?c:e.labelIndex});k.startup();k.setNodeDisplay("headerIndex",!0);return k.domNode},_updateHeaderStyles:function(){if(this.dataModel){this.tableHeader=
e.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0);var a=(this.showRowHeaders=e.getLogicalValue(this.getTableModelProperty("ShowRowHeaders"),!0))?this.rowHeaderWidth:0,b=this._isVerticalScrollBarShown()?this.scrollbarWidth:0,c=this._isHorizontalScrollBarShown()?this.scrollbarWidth:0,k=this.showRowHeaders?this.headerPadding:0;this.styleManager.updateStyleRules("rowHeader",{".rowHeaderColumn .row":"width: "+a+"px;",".headerWrapper":"padding-right: "+(a+k+b)+"px; margin-right: "+-(a+
k+b)+"px;",".dataBodyWrapper":"padding-right: "+(a+k)+"px; margin-right: "+-(a+k)+"px;"});a=this.tableHeader?this.rowHeight+this.headerPadding:0;this.styleManager.updateStyleRules("rows",{".body":"padding-top: "+a+"px;margin-top: "+-a+"px;",".body .rowHeadersWrapper":"padding-bottom: "+c+"px;"})}},_isVerticalScrollBarShown:function(){var a=this.tableHeader?this.rowHeight:0;return this.dataModel.getRowCount()*this.rowHeight>=this.position.height-a},_isHorizontalScrollBarShown:function(){return this.totalColumnWidth>=
this.position.width-(this.showRowHeaders?this.rowHeaderWidth:0)},_updateScrollerStyles:function(){g.toggle(this.domNode,"hideVerticalScroll",!this._isVerticalScrollBarShown());g.toggle(this.domNode,"hideHorizontalScroll",!this._isHorizontalScrollBarShown())}})})},"variableeditor/views/table/_HeadersBase":function(){define("variableeditor/views/table/_HeadersBase","dojo/_base/declare dojo/string dojo/_base/lang dojo/_base/Color dojo/dom-style variableeditor/VariableEditorUtils variableeditor/constants/TypeConstants variableeditor/views/editors/_EditorBase dojo/parser dojo/dom-construct dojo/keys dojo/on variableeditor/views/editors/TextBoxEditor variableeditor/views/renderers/_TemplateMixin dijit/layout/ContentPane variableeditor/views/renderers/_VERendererMixin dojo/i18n!variableeditor/app/l10n/nls/app dojo/text!variableeditor/views/table/DefaultHeaderTemplate.html dojo/dom-class".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x){return h("variableeditor.views.table._HeadersBase",[r,m,q],{_inputBoxIndex:null,_inputBoxLabel:null,labelValue:null,indexValue:null,CHANNEL_DuplicateRowHeader:"ErrorDuplicateRowHeader",CHANNEL_DuplicateColumnHeader:"ErrorDuplicateColumnHeader",HEADER_INDEX_ATTACH_POINT:"headerIndex",HEADER_LABEL_ATTACH_POINT:"headerLabel",HEADER_BREAK_ATTACH_POINT:"lineBreak",constructor:function(b){this.templateString=u;this.editable=!1;b&&(this._allArgs=b,this.init(b));
a.parse()},init:function(a){this._allArgs=g.mixin({},a);this.templateString=a.templateString?a.templateString:u;this.editable=a.editable||!1;this.showLabels=a.showLabels||!1;this.showIndices=a.showIndices?a.showIndices:!0;this.editOnKeyPress=a.editOnKeyPress||!1;this.editOnSingleClick=a.editOnSingleClick||!1;this.labelValue=a.labelValue?a.labelValue:"";this.indexValue=a.indexValue?a.indexValue:""},setLabelValue:function(a){this._inputBoxLabel.setValue(a);this._inputBoxLabel.setEditValue(a);this.labelValue=
this._inputBoxLabel.value=a;this._inputBoxLabel.domNode.querySelector("input").setAttribute("value",this._inputBoxLabel.domNode.querySelector("input").value)},setIndexValue:function(a){this._inputBoxIndex.setValue(a);this.indexValue=this._inputBoxIndex.value=a},setIndexProperty:function(a){this._inputBoxIndex.index=a;this._inputBoxLabel.index=a},setNodeDisplay:function(a,b){var e=this._getAttachNode(a);e&&(b?f.set(e,"display",""):f.set(e,"display","none"));a===this.HEADER_INDEX_ATTACH_POINT?this.showIndices=
b:a===this.HEADER_LABEL_ATTACH_POINT&&(this.showLabels=b)},_isValidHeaderName:function(a){return 0<a.length},_handleError:function(a){var e=this._inputBoxLabel,c=e._value;e._revert();a?b.displayErrorMessage(a):b.displayErrorMessage(d.substitute(t.duplicateVariableNames,{varName:"'"+c+"'"}))},postCreate:function(){this._setupInputBoxIndex();this._setupInputBoxLabel()},_setupInputBoxIndex:function(){var a=this._getAttachNode(this.HEADER_INDEX_ATTACH_POINT);a&&(this._inputBoxIndex=new p({value:this.indexValue,
index:parseInt(this.indexValue)-1}),h.safeMixin(this._inputBoxIndex,new s),this._inputBoxIndex.addCSSClasses("NonEditableHeader"),k.place(this._inputBoxIndex.domNode,a,"last"),x.add(this.domNode,"header_"+this.indexValue))},_setupInputBoxLabel:function(){var a=this._getAttachNode(this.HEADER_LABEL_ATTACH_POINT);a&&(this._inputBoxLabel=new p({value:this.labelValue,editable:this.editable,editOnKeyPress:this.editOnKeyPress,editOnSingleClick:this.editOnSingleClick,index:parseInt(this.indexValue)-1}),
h.safeMixin(this._inputBoxLabel,new s),this._setEditable(this._inputBoxLabel,this.editable),k.place(this._inputBoxLabel.domNode,a,"last"))},_setEditable:function(a,b){a.setEditable(b);(a._commitOnBlur=b)?(a.setInPlaceEditor(a),a.removeCSSClasses("NonEditableHeader"),a.addCSSClasses("EditableHeader")):(a.setInPlaceEditor(""),a.removeCSSClasses("EditableHeader"),a.addCSSClasses("NonEditableHeader"))},_setReadOnly:function(a){}})})},"variableeditor/constants/TypeConstants":function(){define([],function(){return{CHAR:"char",
STRING:"string",DOUBLE:"double",CELL:"cell",LOGICAL:"logical",STRUCT:"struct",TIMESERIES:"timeseries",TIMETABLE:"timetable",SPARSE:"sparse",COMPLEX:"complex",MATLAB_TABLE:"table",DATASET:"dataset",CATEGORICAL:"categorical",ORDINAL:"ordinal",NOMINAL:"nominal",DATETIME:"datetime",DURATION:"duration",CALENDAR_DURATION:"calendarDuration",UINT8:"uint8",UINT16:"uint16",UINT32:"uint32",UINT64:"uint64",INT8:"int8",INT16:"int16",INT32:"int32",INT64:"int64",SINGLE:"single",OBJECT:"object",TALL:"tall",TALL_DOUBLE:"tall_double",
TALL_CELL:"tall_cell",TALL_LOGICAL:"tall_logical",TALL_OBJECT:"tall_object",TALL_SPARSE:"tall_sparse",TALL_CHAR:"tall_char",TALL_STRUCT:"tall_struct",TALL_TIMETABLE:"tall_timetable",TALL_MATLAB_TABLE:"tall_table",TALL_CATEGORICAL:"tall_categorical",TALL_DATETIME:"tall_datetime",TALL_DURATION:"tall_duration",TALL_CALENDAR_DURATION:"tall_calendarDuration",TALL_STRING:"tall_string",TALL_UINT8:"tall_uint8",TALL_UINT16:"tall_uint16",TALL_UINT32:"tall_uint32",TALL_UINT64:"tall_uint64",TALL_INT8:"tall_int8",
TALL_INT16:"tall_int16",TALL_INT32:"tall_int32",TALL_INT64:"tall_int64",TALL_SINGLE:"tall_single",TALL_ORDINAL:"tall_ordinal",TALL_NOMINAL:"tall_nominal",UNKNOWN:"UNKNOWN",DEFAULT:"default",MIXED:"mixed",NOVARDISPLAY:"novardisplay"}})},"variableeditor/views/editors/_EditorBase":function(){define("variableeditor/views/editors/_EditorBase","dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/keys dojo/dom-class dojo/dom-construct dojo/dom dijit/focus variableeditor/views/renderers/_RendererBase mw-peermodel/Observable".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){return h("variableeditor.views.editors._EditorBase",[k,e.Impl],{_renderer:void 0,_editing:!1,_commitOnBlur:!0,_originalValue:void 0,_originalState:void 0,_blurListeners:void 0,_notEditableCSSClass:"venoteditable",constructor:function(a){this._editing=!1;this._commitOnBlur=!0;this._renderer=void 0;a&&this.init(a);this._blurListeners={}},destroy:function(){this.inherited(arguments);this.commitOnBlur=this._commitOnBlur=null;delete this._allArgs.commitOnBlur;this._allArgs.commitOnBlur=
null},init:function(a){a&&(this._allArgs=d.mixin({},a),this._renderer=a.renderer||this,this._commitOnBlur=void 0!==a.commitOnBlur?a.commitOnBlur:void 0!==a.editable?a.editable:!0,this._originalValue=a.value,this._originalState=a.state,this._value=a.value,this._state=a.state,this._editable=this._getPossibleBooleanFunctionValue(a.editable));this.inherited(arguments)},setRenderer:function(a){this._renderer=a},postCreate:function(){this.inherited(arguments)},_setupBlurListener:function(){this._changeObjectListenersState(this._blurListeners,
"remove");var b=g(a,"widget-blur",this._handleBlurEvent.bind(this));this._blurListeners.widgetBlur=b},_handleBlurEvent:function(a){a===this&&(this._clickCount=0,this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&this._editing?this.stopEditing():this._editing&&this.cancelEditing())},_changeListenerState:function(a){a&&"string"===typeof a&&(this.inherited(arguments),this._changeObjectListenersState(this._blurListeners,a))},_handleMouseEvent:function(a){if(this._renderer===this)this.inherited(arguments);
else{var b=a;b.renderer=this;this.dispatchEvent(a.type,this,b);a.stopPropagation()}},_handleKeyboardEvent:function(a){this.isEditing()||this.inherited(arguments)},_focus:function(b){b&&b.isFocusable&&b.isFocusable()&&b.focusNode?a.focus(b.focusNode):b&&(b.domNode&&b.domNode.focus)&&b.domNode.focus()},_swapOutRenderer:function(){this._renderer&&this._renderer!==this&&(this._renderer.domNode&&this.domNode)&&(l.place(this.domNode,this._renderer.domNode,"replace"),this._resumeListeners());(!this.application||
"EmbeddedInspectorInRichEditor"!==this.application)&&this._focus(this)},_swapInRenderer:function(){this._renderer&&this._renderer!==this&&(this._renderer.domNode&&this.domNode)&&(l.place(this._renderer.domNode,this.domNode,"replace"),this._pauseListeners());(!this.application||"EmbeddedInspectorInRichEditor"!==this.application)&&this._focus(this._renderer)},edit:function(){this._editing||(this.addCSSClasses("Editing"),this._originalValue=this._value,this._originalState=this.getState(),this._editing=
!0,this._swapOutRenderer(),this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state}));this._changeObjectListenersState(this._mouseListeners,"pause");this._setupBlurListener();this._keyboardListeners.keypress.pause()},editOverride:function(a){this._editing||(this.addCSSClasses("Editing"),this._originalValue=this._value,this._originalState=this.getState(),this._editing=!0,this._swapOutRenderer(),this.dispatchEvent("editingStarted",this,{editor:this,overrideValue:a,
currentValue:this._value,currentState:this._state}));this._changeObjectListenersState(this._mouseListeners,"pause");this._setupBlurListener();this._keyboardListeners.keypress.pause()},stopEditing:function(){this._editing&&(this.removeCSSClasses("Editing"),this._commit(),this._clickCount=0,this._originalState=this.getState(),this._editing=!1,this._swapInRenderer(),this.dispatchEvent("editingStopped",this,{editor:this,value:this._value,state:this._state}));this._changeObjectListenersState(this._mouseListeners,
"resume");this._changeObjectListenersState(this._blurListeners,"remove");this._keyboardListeners.keypress.resume()},cancelEditing:function(){this._editing&&(this.removeCSSClasses("Editing"),this._value=this._originalValue,this._state=this._originalState,this.dispatchEvent("editingCanceled",this,{editor:this}),this.stopEditing())},isEditing:function(){return this._editing},setEditable:function(a){this._getPossibleBooleanFunctionValue(this._editable)!==this._getPossibleBooleanFunctionValue(a)&&(this._editable=
a,a=this._getPossibleBooleanFunctionValue(this._editable),this.domNode&&(a||this.isEditing()&&this.cancelEditing(),this._setReadOnly(!a)))},_getUIValue:function(){return"Method must be overridden"},_setUIValue:function(){return"Method must be overridden"},_commit:function(){var a=this._getUIValue();null!==a&&void 0!==a&&this.hasValueChanged(a)?this.setValue(a,"client"):this._setUIValue(this._originalValue)},_revert:function(){this._setUIValue(this._originalValue);this._value=this._originalValue;this._state=
this._originalState}})})},"variableeditor/views/renderers/_RendererBase":function(){define("variableeditor/views/renderers/_RendererBase","dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/keys dojo/dom-class dojo/dom dijit/focus dijit/_WidgetBase variableeditor/constants/ClassTypeMaps variableeditor/constants/CssClassConstants variableeditor/VariableEditorUtils mw-log/Log mw-peermodel/Observable".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h("variableeditor.views.renderers._RendererBase",
[a,q.Impl],{_editable:!1,_editOnSingleClick:!1,_editOnKeyPress:!0,_editor:void 0,_inPlaceEditor:void 0,_value:void 0,_editValue:void 0,_state:void 0,_mouseListeners:{},_keyboardListeners:{},_allArgs:{},_lastEditTimeStamp:(new Date).getTime(),_clickCount:0,_doubleClickTimer:void 0,_doubleClickDuration:300,_editorListenersPaused:!1,_rendererBlurListeners:null,constructor:function(a){this._editOnSingleClick=this._editable=!1;this._editOnKeyPress=!0;this._state=this._editValue=this._value=this._inPlaceEditor=
this._editor=void 0;this._mouseListeners={};this._keyboardListeners={};this._allArgs=d.mixin({},a);this._lastEditTimeStamp=(new Date).getTime();this._clickCount=0;a&&this.init(a)},init:function(a){a&&(this.setEditable(void 0!==a.editable?this._getPossibleBooleanFunctionValue(a.editable,!1):!1),this.setEditOnSingleClick(void 0!==a.editOnSingleClick?this._getPossibleBooleanFunctionValue(a.editOnSingleClick,!1):!1),this.setEditOnKeyPress(void 0!==a.editOnKeyPress?this._getPossibleBooleanFunctionValue(a.editOnKeyPress,
!0):!0),this.setValue(a.value),this.setEditValue(a.editValue),this.setState(a.state),this.setInPlaceEditor(a.inPlaceEditor),this.setEditor(a.editor))},postCreate:function(){this._setupKeyboardListeners();this._setupMouseListeners();void 0!==this._allArgs.value&&this.setValue(this._allArgs.value);void 0!==this._allArgs.state&&this.setState(this._allArgs.state);void 0!==this._allArgs.cssSpecifier&&this.addCSSClasses(this._allArgs.cssSpecifier)},destroy:function(){this._removeListeners();this._editor&&
void 0===this._editor._destroyed&&(this._editor.destroy(),this._editor=null);this._inPlaceEditor=this._renderer=null;this._rendererBlurListeners&&this._rendererBlurListeners.widgetBlur&&(this._rendererBlurListeners.widgetBlur.remove(),delete this._rendererBlurListeners.widgetBlur,this._rendererBlurListeners=null,delete this._rendererBlurListeners);this.inherited(arguments)},_setupRendererBlurListeners:function(){var a=d.hitch(this,"_handleRendererBlurEvent");this._rendererBlurListeners={widgetBlur:g.pausable(m,
"widget-blur",a)}},_handleRendererBlurEvent:function(a){a===this&&(this._clickCount=0,this._rendererBlurListeners&&this._rendererBlurListeners.widgetBlur&&(this._rendererBlurListeners.widgetBlur.remove(),this._rendererBlurListeners=null))},_setupMouseListeners:function(){this._changeObjectListenersState(this._mouseListeners,"remove");var a=d.hitch(this,"_handleMouseEvent");this._mouseListeners.mousedown=g.pausable(this.domNode,"mousedown",a);this._mouseListeners.mouseup=g.pausable(this.domNode,"mouseup",
a);this._mouseListeners.click=g.pausable(this.domNode,"click",a);this._mouseListeners.dblclick=g.pausable(this.domNode,"dblclick",a);this._mouseListeners.mousemove=g.pausable(this.domNode,"mousemove",a);this._mouseListeners.mouseover=g.pausable(this.domNode,"mouseover",a);this._mouseListeners.mouseout=g.pausable(this.domNode,"mouseout",a);this._mouseListeners.mouseenter=g.pausable(this.domNode,"mouseenter",a);this._mouseListeners.mouseleave=g.pausable(this.domNode,c.leave,a)},_handleMouseEvent:function(a){a.renderer=
this;this.dispatchEvent(a.type,this,a);"dblclick"===a.type&&(!a.metaKey&&!a.ctrlKey)&&(this._doubleClickTimer&&(clearTimeout(this._doubleClickTimer),this._doubleClickTimer=void 0),this._edit(),this._clickCount=0);"mouseup"===a.type&&(this._setupRendererBlurListeners(),!this._editOnSingleClick&&this._inPlaceEditor===this&&this._focus());if(this.isEditable()){if("mouseup"===a.type){if(this._handleMouseUp){!this._editOnSingleClick&&this._inPlaceEditor===this&&this._handleMouseUp();return}a.stopPropagation()}if("click"===
a.type){this._clickCount+=1;var b=d.hitch(this,this._delayedInPlaceEdit);this._editOnSingleClick?void 0===this._doubleClickTimer&&(!a.metaKey&&!a.ctrlKey)&&(this._doubleClickTimer=setTimeout(b,this._doubleClickDuration)):void 0===this._doubleClickTimer&&2===this._clickCount&&(!a.metaKey&&!a.ctrlKey)&&(this._doubleClickTimer=setTimeout(b,this._doubleClickDuration));a.stopPropagation()}("mousedown"===a.type||"dblclick"===a.type)&&a.stopPropagation()}},_delayedInPlaceEdit:function(){this._inPlaceEdit();
this._doubleClickTimer=void 0;this._clickCount=0},_edit:function(){var a=(new Date).getTime()-this._lastEditTimeStamp>=this._doubleClickDuration;this._editor&&this._editor.edit&&(!this.isEditing()||!a)?(this._editor!==this&&(this._editor.setValue(this._value),this._editor.setEditValue(this._editValue),this._editor.setState(this._state)),this._editor.edit(),this._lastEditTimeStamp=(new Date).getTime()):this._inPlaceEdit()},edit:function(){this._inPlaceEditor?this._inPlaceEdit():this._edit()},stopEditing:function(){this.isEditing()&&
(this._inPlaceEditor&&this._inPlaceEditor.stopEditing&&this._inPlaceEditor.stopEditing(),this._editor&&this._editor.stopEditing&&this._editor.stopEditing())},cancelEditing:function(){this.isEditing()&&(this._inPlaceEditor&&this._inPlaceEditor.cancelEditing&&this._inPlaceEditor.cancelEditing(),this._editor&&this._editor.cancelEditing&&this._editor.cancelEditing())},_inPlaceEdit:function(){this.isEditable()&&(this._inPlaceEditor&&this._inPlaceEditor.edit&&!this.isEditing())&&(this._inPlaceEditor!==
this&&(this._editorListenersPaused=!0,this._inPlaceEditor.setValue(this._value),this._inPlaceEditor.setEditValue(this._editValue),this._inPlaceEditor.setState(this._state),this._editorListenersPaused=!1),this._lastEditTimeStamp=(new Date).getTime(),this._inPlaceEditor.edit())},_setupKeyboardListeners:function(){this._changeObjectListenersState(this._keyboardListeners,"remove");var a=d.hitch(this,"_handleKeyboardEvent");this._keyboardListeners.keydown=g.pausable(this.domNode,"keydown",a);this._keyboardListeners.keyup=
g.pausable(this.domNode,"keyup",a);this._keyboardListeners.keypress=g.pausable(this.domNode,"keypress",a)},_handleKeyboardEvent:function(a){a.renderer=this;this.dispatchEvent(a.type,this,a);if(this.isEditable()&&this._isValidKeyDownEvent(a)&&this.isEditOnKeyPress()){var b=this._getKeyCode(a);this._inPlaceEditor&&(this._inPlaceEditor.editOverride&&null!==b&&b!==f.ENTER)&&(this._inPlaceEditor.editOverride(this._getStringForEvent(a)),a.preventDefault())}8===this._getKeyCode(a)&&a.preventDefault()},_setupEventListeners:function(a){this.addEventListener&&
(this.addEventListener("valueChanged",d.hitch(a,a.onValueChanged)),this.addEventListener("editingStarted",d.hitch(a,a.onEditingStarted)),this.addEventListener("editingStopped",d.hitch(a,a.onEditingStopped)),this.addEventListener("mousedown",d.hitch(a,a.onMouseDown)),this.addEventListener("mouseenter",d.hitch(a,a.onMouseEnter)),this.addEventListener("mouseup",d.hitch(a,a.onMouseUp)))},setEditable:function(a){this._editable=a},_getPossibleBooleanFunctionValue:function(a,b){if("function"===typeof a)return a.call(this,
this._state,this._value);void 0===b&&(b=!0);return n.getLogicalValue(a,b)},isEditable:function(){return this._getPossibleBooleanFunctionValue(this._editable)},setEditOnSingleClick:function(a){this._editOnSingleClick=a},isEditOnSingleClick:function(){return this._getPossibleBooleanFunctionValue(this._editOnSingleClick)},setEditOnKeyPress:function(a){this._editOnKeyPress=a},isEditOnKeyPress:function(){return this._getPossibleBooleanFunctionValue(this._editOnKeyPress)},setEditor:function(a,b){var e=
this;a===this?this._editor=this:this._createEditor(a,"_editor",function(a){e._editor=a.editor;e._setupEditorListeners("_editor");b&&"function"===typeof b&&b({renderer:a.renderer,editor:a.editor})})},getEditor:function(){return this._editor},setInPlaceEditor:function(a,b){var e=this;a===this?this._inPlaceEditor=this:""===a||null===a||void 0===a?this._setReadOnly&&this._setReadOnly(!0):this._createEditor(a,"_inPlaceEditor",function(a){e._inPlaceEditor=a.editor;e._setupEditorListeners("_inPlaceEditor");
b&&"function"===typeof b&&b({renderer:a.renderer,inPlaceEditor:a.editor})})},getInPlaceEditor:function(){return this._inPlaceEditor},_createEditor:function(a,b,e){if(a&&"string"===typeof a){var c=this;try{require([a],function(a){try{if(c.isInstanceOf(a))c[b]=c,c._renderer=c;else{var k=c[b];if(k&&k.isInstanceOf(a))k.setValue(c._value),k.setEditValue(c._editValue),k.setState(c._state);else{var f=d.mixin(c._allArgs,{renderer:c,value:c.getValue(),state:c._state,inPlaceEditor:void 0,editor:void 0}),l=
new a(f);l.startup&&l.startup();c.own(l);c._createEditor(l,b,e)}}}catch(m){p.error(m)}})}catch(k){p.error(k)}}else e&&"function"===typeof e&&e({renderer:this,editor:a})},_setupEditorListeners:function(a){if(a=this[a])a.addEventListener("valueChanged",d.hitch(this,"_editorValueChanged")),a.addEventListener("stateChanged",d.hitch(this,"_editorStateChanged")),a.addEventListener("editingStarted",d.hitch(this,"_handleEditorEditingStarted")),a.addEventListener("editingStopped",d.hitch(this,"_handleEditorEditingStopped")),
a.addEventListener("editingCanceled",d.hitch(this,"_handleEditorEditingCanceled"))},_handleEditorEditingStarted:function(a){a=d.mixin(a.data,{renderer:this});this.dispatchEvent("editingStarted",this,a);this._changeObjectListenersState(this._mouseListeners,"pause");this._changeObjectListenersState(this._keyboardListeners,"pause")},_handleEditorEditingStopped:function(a){a=d.mixin(a.data,{renderer:this});this.dispatchEvent("editingStopped",this,a);this._clickCount=0;this._changeObjectListenersState(this._mouseListeners,
"resume");this._changeObjectListenersState(this._keyboardListeners,"resume")},_handleEditorEditingCanceled:function(a){a=d.mixin(a.data,{renderer:this});this.dispatchEvent("editingCanceled",this,a);this._changeObjectListenersState(this._mouseListeners,"resume");this._changeObjectListenersState(this._keyboardListeners,"resume")},_editorValueChanged:function(a){this._editorListenersPaused||this.setValue(a.data.newValue)},_editorStateChanged:function(a){this._editorListenersPaused||this.setState(a.data.newState)},
setValue:function(a,b,e){n.compareValues(this._value,a)||(void 0===b&&(b="client"),this._originalValue=e=this._value,this._value=a,this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setValue)&&this._inPlaceEditor.setValue(a),this.dispatchEvent("valueChanged",this,{renderer:this,oldValue:e,newValue:a,source:b}))},getValue:function(){return this._value},hasValueChanged:function(a){return this._originalValue!==a&&this._editValue!==a},setEditValue:function(a,b){if(JSON.stringify(this._editValue)!==
JSON.stringify(a)){var e=this._editValue;this._editValue=a;void 0===b&&(b="client");this._inPlaceEditor&&(this._inPlaceEditor!==this&&this._inPlaceEditor.setEditValue)&&this._inPlaceEditor.setEditValue(a);this.dispatchEvent("editValueChanged",this,{renderer:this,oldValue:e,newValue:a,source:b})}},getEditValue:function(){return this._editValue},setState:function(a,b){if(JSON.stringify(this._state)!==JSON.stringify(a)){var e=this.getState();this._state=a;this._inPlaceEditor&&(this._inPlaceEditor!==
this&&this._inPlaceEditor.setState)&&this._inPlaceEditor.setState(a);this._editor&&(this._editor!==this&&this._editor.setState)&&this._editor.setState(a);void 0===b&&(b="client");this.dispatchEvent("stateChanged",this,{renderer:this,oldState:e,newState:a,source:b})}},getState:function(){void 0===this._state&&(this._state=this._getDefaultState());return this._state},_pauseListeners:function(){this._changeListenerState("pause")},_resumeListeners:function(){this._changeListenerState("resume")},_removeListeners:function(){this._changeListenerState("remove");
this._mouseListeners={};this._keyboardListeners={}},_changeListenerState:function(a){a&&"string"===typeof a&&(this._changeObjectListenersState(this._mouseListeners,a),this._changeObjectListenersState(this._keyboardListeners,a))},_changeObjectListenersState:function(a,b){if(a)for(var e in a)if(a.hasOwnProperty(e)){var c=a[e];if(c&&c[b])c[b]()}},_applyCssClass:function(a,b,c,d){a=n.getClassNameForIconList(void 0===a?"object":a);d||(d=this.domNode);this.removeCSSClasses(k.ClassArray,d);b?(this.addCSSClasses(e.MGG_CELL,
d),this.addCSSClasses(e.TEMPORARY,d)):(this.addCSSClasses(e.VE_RENDERERS,d),c?(k.IconTypeMap.hasOwnProperty(a)?n.addToClassList(d,k.IconTypeMap[a]):n.addToClassList(d,k.IconTypeMap.object),this.addCSSClasses("icon",d)):(this.addCSSClasses(e.MGG_CELL,d),this.addCSSClasses(k.ClassTypeMap[a],d)))},createDataTag:function(){return n.createDataTag("views","renderers",arguments)},_isValidKeyDownEvent:function(a){var b=this._getOriginalKeyCode(a);return 64<b&&91>b&&(a.ctrlKey||a.metaKey)?!1:47<b&&58>b||32===
b||13===b||64<b&&91>b||95<b&&112>b||185<b&&193>b||218<b&&223>b&&b!==f.CTRL&&b!==f.META},_getKeyCode:function(a){a=this._getOriginalKeyCode(a);95<a&&106>a&&(a-=48);return a},_getOriginalKeyCode:function(a){return a.which?a.which:a.keyCode?a.keyCode:a.charCode?a.charCode:a.key?a.key:null},_getStringForEvent:function(a){var b=this._getKeyCode(a);222===a.which&&0===a.charCode&&(b=39);if(190===b||110===b)b=46;b=String.fromCharCode(b);b=b.trim();a.shiftKey||(b=b.toLocaleLowerCase());return b},addCSSClasses:function(a,
e){if(a)if(e||(e=this.domNode),Array.isArray(a))for(var c=0;c<a.length;c+=1)b.add(e,a[c]);else b.add(e,a)},removeCSSClasses:function(a,e){if(a)if(e||(e=this.domNode),Array.isArray(a))for(var c=0;c<a.length;c+=1)b.remove(e,a[c]);else b.remove(e,a)},replaceCSSClasses:function(a,b,e){e||(e=this.domNode);a&&this.removeCSSClasses(a,e);b&&this.addCSSClasses(b,e)},_getDefaultState:function(){return{}},isEditing:function(){var a=this.isEditable(),b=this._editor&&this._editor.isEditing&&this._editor.isEditing(),
e=this._inPlaceEditor&&this._inPlaceEditor.isEditing&&this._inPlaceEditor.isEditing();return a&&(b||e)},_setReadOnly:function(a){},getStyleNode:function(a){return this.domNode}})})},"variableeditor/constants/ClassTypeMaps":function(){define(["variableeditor/constants/TypeConstants","variableeditor/constants/CssClassConstants"],function(h,d){return{ClassTypeMap:function(){var g={};g[h.DOUBLE]=d.MATRIX;g[h.SINGLE]=d.MATRIX;g[h.UINT8]=d.MATRIX;g[h.UINT16]=d.MATRIX;g[h.UINT32]=d.MATRIX;g[h.UINT64]=d.MATRIX;
g[h.INT8]=d.MATRIX;g[h.INT16]=d.MATRIX;g[h.INT32]=d.MATRIX;g[h.INT64]=d.MATRIX;g[h.COMPLEX]=d.MATRIX;g[h.CHAR]=d.CHAR;g[h.STRING]=d.STRING;g[h.CELL]=d.CELL;g[h.LOGICAL]=d.LOGICAL;g[h.STRUCT]=d.STRUCT;g[h.TIMESERIES]=d.TIMESERIES;g[h.TIMETABLE]=d.TIMETABLE;g[h.SPARSE]=d.SPARSE;g[h.DATETIME]=d.DATETIME;g[h.DURATION]=d.DURATION;g[h.CALENDAR_DURATION]=d.CALENDAR_DURATION;g[h.OBJECT]=d.OBJECT;g[h.TALL]=d.TALL;g[h.TALL_DOUBLE]=d.TALL_MATRIX;g[h.TALL_UINT8]=d.TALL_MATRIX;g[h.TALL_UINT16]=d.TALL_MATRIX;g[h.TALL_UINT32]=
d.TALL_MATRIX;g[h.TALL_UINT64]=d.TALL_MATRIX;g[h.TALL_INT8]=d.TALL_MATRIX;g[h.TALL_INT16]=d.TALL_MATRIX;g[h.TALL_INT32]=d.TALL_MATRIX;g[h.TALL_INT64]=d.TALL_MATRIX;g[h.TALL_SINGLE]=d.TALL_MATRIX;g[h.TALL_CELL]=d.TALL_CELL;g[h.TALL_LOGICAL]=d.TALL_LOGICAL;g[h.TALL_OBJECT]=d.TALL_OBJECT;g[h.TALL_SPARSE]=d.TALL_SPARSE;g[h.TALL_CHAR]=d.TALL_CHAR;g[h.TALL_STRUCT]=d.TALL_STRUCT;g[h.TALL_TIMETABLE]=d.TALL_TIMETABLE;g[h.TALL_MATLAB_TABLE]=d.TALL_MATLAB_TABLE;g[h.TALL_CATEGORICAL]=d.TALL_CATEGORICAL;g[h.TALL_ORDINAL]=
d.TALL_CATEGORICAL;g[h.TALL_NOMINAL]=d.TALL_CATEGORICAL;g[h.TALL_DATETIME]=d.TALL_DATETIME;g[h.TALL_DURATION]=d.TALL_DURATION;g[h.TALL_CALENDAR_DURATION]=d.TALL_CALENDAR_DURATION;g[h.TALL_STRING]=d.TALL_STRING;g[h.MIXED]=d.MIXED;g[h.UNKNOWN]=d.OBJECT;g[h.DEFAULT]=d.OBJECT;g[h.NOVARDISPLAY]=d.NOVARDISPLAY;return g}(),IconTypeMap:function(){var g={};g[h.DOUBLE]=d.MATRIX_ICON;g[h.SINGLE]=d.MATRIX_ICON;g[h.UINT8]=d.MATRIX_ICON;g[h.UINT16]=d.MATRIX_ICON;g[h.UINT32]=d.MATRIX_ICON;g[h.UINT64]=d.MATRIX_ICON;
g[h.INT8]=d.MATRIX_ICON;g[h.INT16]=d.MATRIX_ICON;g[h.INT32]=d.MATRIX_ICON;g[h.INT64]=d.MATRIX_ICON;g[h.COMPLEX]=d.MATRIX_ICON;g[h.CHAR]=d.CHAR_ICON;g[h.STRING]=d.STRING_ICON;g[h.CELL]=d.CELL_ICON;g[h.LOGICAL]=d.LOGICAL_ICON;g[h.STRUCT]=d.STRUCT_ICON;g[h.TIMESERIES]=d.TIMESERIES_ICON;g[h.TIMETABLE]=d.TIMETABLE_ICON;g[h.SPARSE]=d.SPARSE_ICON;g[h.OBJECT]=d.OBJECT_ICON;g[h.MATLAB_TABLE]=d.TABLE_ICON;g[h.DATASET]=d.TABLE_ICON;g[h.CATEGORICAL]=d.CATEGORICAL_ICON;g[h.ORDINAL]=d.CATEGORICAL_ICON;g[h.NOMINAL]=
d.CATEGORICAL_ICON;g[h.DATETIME]=d.DATETIME_ICON;g[h.DURATION]=d.DURATION_ICON;g[h.CALENDAR_DURATION]=d.CALENDAR_DURATION_ICON;g[h.TALL]=d.TALL_ICON;g[h.TALL_DOUBLE]=d.TALL_MATRIX_ICON;g[h.TALL_UINT8]=d.TALL_MATRIX_ICON;g[h.TALL_UINT16]=d.TALL_MATRIX_ICON;g[h.TALL_UINT32]=d.TALL_MATRIX_ICON;g[h.TALL_UINT64]=d.TALL_MATRIX_ICON;g[h.TALL_INT8]=d.TALL_MATRIX_ICON;g[h.TALL_INT16]=d.TALL_MATRIX_ICON;g[h.TALL_INT32]=d.TALL_MATRIX_ICON;g[h.TALL_INT64]=d.TALL_MATRIX_ICON;g[h.TALL_SINGLE]=d.TALL_MATRIX_ICON;
g[h.TALL_CELL]=d.TALL_CELL_ICON;g[h.TALL_LOGICAL]=d.TALL_LOGICAL_ICON;g[h.TALL_OBJECT]=d.TALL_OBJECT_ICON;g[h.TALL_SPARSE]=d.TALL_SPARSE_ICON;g[h.TALL_CHAR]=d.TALL_CHAR_ICON;g[h.TALL_STRUCT]=d.TALL_STRUCT_ICON;g[h.TALL_TIMETABLE]=d.TALL_TIMETABLE_ICON;g[h.TALL_MATLAB_TABLE]=d.TALL_MATLAB_TABLE_ICON;g[h.TALL_CATEGORICAL]=d.TALL_CATEGORICAL_ICON;g[h.TALL_DATETIME]=d.TALL_DATETIME_ICON;g[h.TALL_DURATION]=d.TALL_DURATION_ICON;g[h.TALL_CALENDAR_DURATION]=d.TALL_CALENDAR_DURATION_ICON;g[h.TALL_STRING]=
d.TALL_STRING_ICON;g[h.TALL_ORDINAL]=d.TALL_CATEGORICAL_ICON;g[h.TALL_NOMINAL]=d.TALL_CATEGORICAL_ICON;g[h.MIXED]=d.MIXED_ICON;g[h.UNKNOWN]=d.OBJECT_ICON;g[h.DEFAULT]=d.OBJECT_ICON;g[h.NOVARDISPLAY]=d.NOVARDISPLAY_ICON;return g}(),ClassArray:function(){var g=[],c;for(c in d)d.hasOwnProperty(c)&&g.push(d[c]);return g}()}})},"variableeditor/constants/CssClassConstants":function(){define([],function(){return{MGG_CELL:"cell",VE_RENDERERS:"variableEditorRenderers",IS_METADATA:"variableEditorIsMetaData",
NOT_EDITABLE:"variableEditorNotEditable",TEMPORARY:"variableEditorTemporary",MATRIX:"variableEditorMatrix",CHAR:"variableEditorChar",STRING:"variableEditorString",CELL:"variableEditorCell",LOGICAL:"variableEditorLogic",STRUCT:"variableEditorStruct",TIMESERIES:"variableEditorTimeseries",TIMETABLE:"variableEditorTimetable",SPARSE:"variableEditorSparse",DATETIME:"variableEditorDatetime",DURATION:"variableEditorDuration",CALENDAR_DURATION:"variableEditorCalendarDuration",OBJECT:"variableEditorObject",
MIXED:"variableEditorMixed",TALL:"variableEditorTall",TALL_MATRIX:"variableEditorTallMatrix",TALL_CELL:"variableEditorTallCell",TALL_LOGICAL:"variableEditorTallLogical",TALL_OBJECT:"variableEditorTallObject",TALL_SPARSE:"variableEditorTallSparse",TALL_CHAR:"variableEditorTallChar",TALL_STRUCT:"variableEditorTallStruct",TALL_TIMETABLE:"variableEditorTallTimetable",TALL_MATLAB_TABLE:"variableEditorTallMatlabTable",TALL_CATEGORICAL:"variableEditorTallCategorical",TALL_DATETIME:"variableEditorTallDatetime",
TALL_DURATION:"variableEditorTallDuration",TALL_CALENDAR_DURATION:"variableEditorTallCalendarDuration",TALL_STRING:"variableEditorTallString",MATRIX_ICON:"iconVariableEditorMatrix",CHAR_ICON:"iconVariableEditorChar",STRING_ICON:"iconVariableEditorString",CELL_ICON:"iconVariableEditorCell",LOGICAL_ICON:"iconVariableEditorLogic",STRUCT_ICON:"iconVariableEditorStruct",TIMESERIES_ICON:"iconVariableEditorTimeseries",TIMETABLE_ICON:"iconVariableEditorTimetable",SPARSE_ICON:"iconVariableEditorSparse",OBJECT_ICON:"iconVariableEditorObject",
TABLE_ICON:"iconVariableEditorMatlabTable",CATEGORICAL_ICON:"iconVariableEditorCategorical",DATETIME_ICON:"iconVariableEditorDatetime",DURATION_ICON:"iconVariableEditorDuration",CALENDAR_DURATION_ICON:"iconVariableEditorCalendarDuration",MIXED_ICON:"iconVariableEditorMixed",TALL_ICON:"iconVariableEditorTall",TALL_MATRIX_ICON:"iconVariableEditorTallMatrix",TALL_CELL_ICON:"iconVariableEditorTallCell",TALL_LOGICAL_ICON:"iconVariableEditorTallLogical",TALL_OBJECT_ICON:"iconVariableEditorTallObject",TALL_SPARSE_ICON:"iconVariableEditorTallSparse",
TALL_CHAR_ICON:"iconVariableEditorTallChar",TALL_STRUCT_ICON:"iconVariableEditorTallStruct",TALL_TIMETABLE_ICON:"iconVariableEditorTallTimetable",TALL_MATLAB_TABLE_ICON:"iconVariableEditorTallMatlabTable",TALL_CATEGORICAL_ICON:"iconVariableEditorTallCategorical",TALL_DATETIME_ICON:"iconVariableEditorTallDatetime",TALL_DURATION_ICON:"iconVariableEditorTallDuration",TALL_CALENDAR_DURATION_ICON:"iconVariableEditorTallCalendarDuration",TALL_STRING_ICON:"iconVariableEditorTallString",NOVARDISPLAY_ICON:"iconVariableEditorNoVarDisplay"}})},
"variableeditor/views/editors/TextBoxEditor":function(){define("variableeditor/views/editors/TextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dojo/on dojo/dom-class variableeditor/VariableEditorUtils variableeditor/constants/CssClassConstants variableeditor/views/editors/_EditorBase mw-form/TextField dijit/focus".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){return h("variableeditor.views.editors.TextBoxEditor",[a],{_inputBox:void 0,_removeQuotes:!1,_originalEditValue:void 0,
formattedVal:"",setValue:function(a,b,e){a=this._applyFormatting(a,b);if(a===this._value)this._value=""+this._value;else{var c=e||this.formattedVal?e||this.formattedVal:a;this.formattedVal=null;a&&a.hasOwnProperty("value")&&(c=a.value);this._inputBox&&this._setUIValue(c);l.compareValues(this._value,c)||this.inherited(arguments)}},startup:function(){this._setReadOnly(!0)},setEditValue:function(a,b,e){a=this._applyFormatting(a,b);if(!l.compareValues(this._editValue,a)){this.inherited(arguments);var c=
this._editValue;this._editValue=e||this.formattedVal?e||this.formattedVal:a;this.formattedVal=null;void 0===b&&(b="client");this.dispatchEvent("editValueChanged",this,{renderer:this,oldValue:c,newValue:a,source:b})}},setState:function(a){this.domNode&&(this._inputBox||this._setupInputNode(),this._setupDomClasses(a),this._inputBox.inputNode.setAttribute("data-tag",this.createDataTag("value")),this.inherited(arguments),void 0!==a.isMetaData&&(this._state.isMetaData=l.getLogicalValue(a.isMetaData,!1)),
this._state.isMetaData&&(this._commitOnBlur=!1),void 0===a.doCommitEmptyMetaData&&(this._state.doCommitEmptyMetaData=!0))},_setupDomClasses:function(a){var b=a?a.dataType?a.dataType:a["class"]?a["class"]:"char":"char",e=a?a.isTemporaryValue:!1;a=l.getLogicalValue(a?a.isMetaData:!1,!1);this._applyCssClass(b,e,!1,this._inputBox.domNode);this._applyCssClass(b,e,!1,this._inputBox.inputNode);this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",
this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode);g.set(this._inputBox.inputNode,"width","inherit");a&&l.addToClassList(this._inputBox.inputNode,m.IS_METADATA)},_handleKeyboardEvent:function(a){if(this.isEditing()){"keypress"===a.type?this._handleKeyPress(a):"keydown"===a.type&&this._handleKeyDown(a);var b=a;b.editor=this;this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},_handleStringFormatting:function(a){var b=this.getCursorPosition(),
e=this._getUIValue(),c=null;this._handleFormatting?c=this._handleFormatting(b,e,a):this._state&&(this._state.dataType&&"string"===this._state.dataType)&&(c=l.handleFormatting(b,e,a));c&&(a=l.formatString(c,"client"),this.formattedVal=c,this._setUIValue(a),this.setCursorPosition(b[0]+1,b[0]+1))},_handleKeyDown:function(a){if(a){var b=this._getKeyCode(a);null!==b&&b===c.ESCAPE?(this.cancelEditing(),a.preventDefault()):b===c.TAB?this._handleStringFormatting("tab"):null!==b&&b===c.ENTER&&(a.altKey?this._handleStringFormatting("newLine"):
(this.formattedVal&&(this.setValue(this.formattedVal,"client",this._getUIValue()),this.formattedVal=""),this.stopEditing(),this.addCSSClasses("Editing"),this._setupBlurListener(),a.preventDefault()))}},_handleKeyPress:function(a){if(a){var b=this._getKeyCode(a);null!==b&&b===c.ENTER&&(this.stopEditing(),a.preventDefault())}},_handleMouseUp:function(){this.isEditable()&&this.isEditOnSingleClick()&&this._setReadOnly(!1);this._focus()},_setupInputNode:function(){this._inputBox=new k({readOnly:!0,value:this._value,
editable:this._allArgs.editable});this.own(this._inputBox);this._setupInputNodeListeners(this._inputBox);this._inputBox._handleEnterKey=function(){};this.domNode.appendChild(this._inputBox.domNode);this.focusNode=this._inputBox.focusNode},_editOnFocus:function(){!this.isEditing()&&(this.isEditOnSingleClick()&&this.isEditable())&&(this._inPlaceEditor===this||!this._inPlaceEditor?this.edit():this._inPlaceEditor&&this._inPlaceEditor.edit&&this._inPlaceEditor.edit())},_setupInputNodeListeners:function(){var a=
this,b=d.hitch(this,"_handleKeyboardEvent");this._inputNodeListeners={};this._inputNodeListeners.keypress=f(this._inputBox.domNode,"keypress",b);this._inputNodeListeners.keydown=f(this._inputBox.domNode,"keydown",b);this._inputNodeListeners.mouseup=this._inputBox.on("mouseup",function(){var b=a._inputBox.inputNode.selectionStart,e=a._inputBox.inputNode.selectionEnd;a._inputBox.set("cursorPosition",[b,e]);a.set("cursorPosition",[b,e])});this._inputNodeListeners.focus=e.on("widget-focus",function(b){b===
a._inputBox&&a._editOnFocus()})},getCursorPosition:function(){return[l.getSelectionStart(this._inputBox.inputNode),l.getSelectionEnd(this._inputBox.inputNode)]},setCursorPosition:function(a,b){l.selectRange(this._inputBox.inputNode,a,b)},_getDefaultState:function(){return{isMetaData:!1,doCommitEmptyMetaData:!0,editorValue:""}},postCreate:function(){this._inputBox||this._setupInputNode();this.inherited(arguments)},stopEditing:function(){this.isEditing()&&(this._setReadOnly(!0),this.setCursorPosition(-1,
-1),this.inherited(arguments))},edit:function(){if(!this.isEditing()){this._setReadOnly(!1);this.inherited(arguments);this._editValue?(this._setUIValue(this._editValue),this.setCursorPosition(this._editValue.length,this._editValue.length)):this.setCursorPosition(this._value.length,this._value.length);var a=this._getUIValue();void 0!==a&&(null!==a&&"undefined"!==a)&&this.setCursorPosition(a.length,a.length);this.getState().isMetaData&&this._setUIValue("");!1===this._editOnSingleClick&&l.selectAllText(this._inputBox.inputNode)}},
editOverride:function(a){this.isEditing()||(this._setReadOnly(!1),this.inherited(arguments),this._setUIValue(a),this.setCursorPosition(a.length,a.length))},cancelEditing:function(){this.isEditing()&&(this.formattedVal&&(this.formattedVal=""),this._setUIValue(this._originalValue),this.inherited(arguments))},hasValueChanged:function(a){var b=this.inherited(arguments),e=this._getPossibleBooleanFunctionValue(this.getState().isMetaData),c=this._getPossibleBooleanFunctionValue(this.getState().doCommitEmptyMetaData);
!0===e&&!1===c&&(b=b&&""!==a);return b},_commit:function(){if(this.formattedVal)this.setValue(this.formattedVal,"client",this._getUIValue()),this.formattedVal="";else{var a=this._getUIValue();null!==a&&void 0!==a&&this.hasValueChanged(a)?(this.setValue(a,"client"),this._originalEditValue=this._editValue,this._editValue=a):this._setUIValue(this._originalValue)}},_revert:function(){this.inherited(arguments);this._editValue=this._originalEditValue},_getUIValue:function(){return this._inputBox.inputNode.value},
_setUIValue:function(a){a!==this._getUIValue("value")&&(this._inputBox.set("value",a+" "),Array.isArray(a)&&0===a.length&&(a="[ ]"),this._inputBox.set("value",a))},setEditable:function(a){this.inherited(arguments);this._inputBox&&(this._inputBox.set("editable",this.isEditable()),this.isEditable()?this.removeCSSClasses(this._notEditableCSSClass,this._inputBox.inputNode):this.addCSSClasses(this._notEditableCSSClass,this._inputBox.inputNode))},_setReadOnly:function(a){this._inputBox&&(!0===a?this._inputBox.set("readOnly",
!0):this._inputBox.set("readOnly",!1))},_focus:function(){this._inputBox&&this._inputBox.focusNode&&this._inputBox.focusNode.focus&&e.curNode!==this._inputBox.focusNode&&e.focus(this._inputBox.focusNode)},setRemoveQuotes:function(a){this._removeQuotes=a},getRemoveQuotes:function(){return this._getPossibleBooleanFunctionValue(this._removeQuotes,!1)},_applyFormatting:function(a,b){var e=a;if("server"===b){if(!0===this.getRemoveQuotes())e=l.stripOuterSingleQuotes(a);else{var c=l.stripOuterSingleQuotes(a);
a!==c&&(e="'"+c.replace(/\'/g,"''")+"'")}this._state&&"string"===this._state.dataType&&(this.formattedVal=l.formatString(a,b))}return e},getStyleNode:function(a){return"backgroundColor"===a?this.domNode:this.focusNode},destroy:function(){this._changeObjectListenersState(this._inputNodeListeners,"remove");this.inherited(arguments)},_handleBlurEvent:function(a){a===this&&(this.removeCSSClasses("Editing"),this.inherited(arguments))}})})},"mw-form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin dojo/text!./templates/TextField.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y){return h(w.validate([c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,v,z]),{baseClass:"mwWidget mwTextField",templateString:y,horizontalAlignment:"left",width:150,height:22,constructor:function(){this._addKeysThatPreventTypingEvent([g.ENTER])},_handleEnterKey:function(){var a,b;a=this.inputNode.value;b=this.get("value");this.set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a);this.domNode.classList.add("mwTextFieldHighlight");this.defer(d.hitch(this,
function(){this.domNode.classList.remove("mwTextFieldHighlight")}),200)},_onKeyUp:function(a){this.inherited(arguments);a.keyCode===g.ENTER&&this._handleEnterKey()},_qeTypeOverWithEnter:function(a){var b=this.get("value");this.set("value",a);this._triggerChangeEvent("value",b,a)},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"variableeditor/views/renderers/_TemplateMixin":function(){define("variableeditor/views/renderers/_TemplateMixin",
["dojo/_base/declare","dojo/_base/lang","dijit/_TemplatedMixin"],function(h,d,g){return h("variableeditor.views.renderers._TemplateMixin",[g],{_getAttachNode:function(c){c=this._getAttachNodes(c);return null===c?null:c[0]},_getAttachNodes:function(c){return!this.domNode?null:(c=this.domNode.querySelectorAll('[data-datatools-renderer-attach-point\x3d"'+c+'"]'))&&c.length&&0<c.length?c:null}})})},"variableeditor/views/renderers/_VERendererMixin":function(){define("variableeditor/views/renderers/_VERendererMixin",
"dojo/_base/declare dojo/_base/lang mw-log/Log variableeditor/VariableEditorUtils variableeditor/views/renderers/_TooltipMixin variableeditor/views/renderers/_VERendererStyleMixin".split(" "),function(h,d,g,c,f,b){return h("variableeditor.views.renderers._VERendererMixin",[f,b],{_setRendererProperties:function(b,d,a){if(!b.isInvalidCache){var k=this.getCellIndices(b),e=k.row,k=k.column;this.setRow&&this.setRow(e);this.setColumn&&this.setColumn(k);this.setToolTipText&&this.setToolTipText(d.getCellPropertyValue(e,
k,"tooltip",b),a);this.updateCellStyles&&this.updateCellStyles(e,k,b,d);this.setEditable&&this.setEditable(c.getLogicalValue(d.getCellPropertyValue(e,k,"Editable",b)));this.setRemoveQuotes&&this.setRemoveQuotes(d.getCellPropertyValue(e,k,"RemoveQuotedStrings",b));this.setEditorConverter&&this.setEditorConverter(d.getCellPropertyValue(e,k,"EditorConverter",b));this.setValue&&this.setValue(d.getCellPropertyValue(e,k,"value",b),a);this.setEditValue&&this.setEditValue(d.getCellPropertyValue(e,k,"editValue",
b),a);this.getState&&(a=this.populateRendererState(e,k,b,d),this.setState(a));this.setInPlaceEditor&&this.setInPlaceEditor(d.getCellPropertyValue(e,k,"inplaceeditor",b));this.setEditor&&this.setEditor(d.getCellPropertyValue(e,k,"editor",b))}},populateRendererState:function(b,c,a,k){var e=this.getState();if(void 0!==e)for(var d in e)e[d]=k.getCellPropertyValue(b,c,d,a);else e={};e.dataType=k.getCellPropertyValue(b,c,"class",a);return e},getCellIndices:function(b){var c=-1,a=-1;b&&void 0!==b.row&&(c=
parseInt(b.row));b&&void 0!==b.col&&(a=parseInt(b.col));return{row:c,column:a}},_setupDOMRowCol:function(b){var d=b.row;b=b.column;this.domNode&&(0<=d&&0<=b)&&(this.domNode.setAttribute("data-row",d),this.domNode.setAttribute("data-col",b),c.addToClassList(this.domNode,"row_"+d),c.addToClassList(this.domNode,"col_"+b))}})})},"variableeditor/views/renderers/_TooltipMixin":function(){define("variableeditor/views/renderers/_TooltipMixin",["dojo/_base/declare","dojo/on","dijit/Tooltip"],function(h,d,
g){return h("variableeditor.views.renderers._TooltipMixin",[],{_tooltipWidget:null,setToolTipText:function(c){void 0!==c&&(null!==c&&""!==c)&&(this._tooltip=c,this._updateTooltip())},_getTooltipText:function(){var c="";this._tooltip&&(c="function"===typeof this._tooltip?this._tooltip():this._tooltip);return c},_getNewTooltip:function(c,d){return new g({connectId:[c],label:d,hideDelay:100,showDelay:1500,position:["below","after","above","before"]})},_updateTooltip:function(){var c=this._getTooltipText();
this._tooltipWidget&&this._tooltipWidget.destroy();this._tooltipWidget=this._getNewTooltip(this.domNode,c);var f=this;d(this.domNode,"focusin",function(){f._tooltipWidget.set("state","DORMANT")})}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){function x(){}var w=d("dijit._MasterTooltip",[q,r],{duration:n.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new s(this.domNode);this.fadeIn=g.fadeIn({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onShow")});this.fadeOut=g.fadeOut({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onHide")})},show:function(a,b,e,c,k,d,f){if(!this.aroundNode||!(this.aroundNode===
b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;k&&this.set("textDir",k);this.containerNode.align=c?"right":"left";var g=p.around(this.domNode,b,e&&e.length?e:v.defaultPosition,!c,m.hitch(this,"orient")),h=g.aroundNodePos;"M"==g.corner.charAt(0)&&"M"==g.aroundCorner.charAt(0)?(this.connectorNode.style.top=h.y+(h.h-this.connectorNode.offsetHeight>>1)-g.y+"px",this.connectorNode.style.left=""):"M"==g.corner.charAt(1)&&
"M"==g.aroundCorner.charAt(1)?this.connectorNode.style.left=h.x+(h.w-this.connectorNode.offsetWidth>>1)-g.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");l.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=d||x;this.onMouseLeave=f||x}},orient:function(a,c,k,d,f){this.connectorNode.style.top="";var l=d.h;d=d.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove",
"BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+"-"+k];this.domNode.style.width="auto";var m=b.position(this.domNode);if(e("ie")||e("trident"))m.w+=2;var g=Math.min(Math.max(d,1),m.w);b.setMarginBox(this.domNode,{w:g});"B"==k.charAt(0)&&"B"==c.charAt(0)?(a=b.position(a),c=
this.connectorNode.offsetHeight,a.h>l?(this.connectorNode.style.top=l-(f.h+c>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-c/2,0),a.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,m.w-d)},_onShow:function(){e("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=
!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=x},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});u.showTooltip=function(a,b,e,c,k,d,f){e&&(e=h.map(e,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));v._masterTT||(u._masterTT=v._masterTT=new w);return v._masterTT.show(a,b,e,c,k,d,f)};u.hideTooltip=function(a){return v._masterTT&&v._masterTT.hide(a)};
var v=d("dijit.Tooltip",q,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},this);this._connectIds=h.filter(m.isArrayLike(b)?b:b?[b]:[],function(a){return c.byId(a,this.ownerDocument)},this);this._connections=h.map(this._connectIds,function(b){b=c.byId(b,this.ownerDocument);var e=this.selector,d=e?function(a){return k.selector(e,a)}:function(a){return a},f=this;
return[k(b,d(a.enter),function(){f._onHover(this)}),k(b,d("focusin"),function(){f._onHover(this)}),k(b,d(a.leave),m.hitch(f,"_onUnHover")),k(b,d("focusout"),m.hitch(f,"set","state","DORMANT"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==h.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=h.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);
f.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;h.forEach(m.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);
switch(a){case "DORMANT":this._connectNode&&(v.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}v.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,m.hitch(this,"set","state","SHOWING"),m.hitch(this,"set","state","HIDE TIMER"));
this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},
onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});v._MasterTooltip=w;v.show=u.showTooltip;v.hide=u.hideTooltip;v.defaultPosition=["after-centered","before-centered"];return v})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(h,d,g,c,f,b,
l){function m(a,e,c,l){var m=b.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&f.body(a.ownerDocument).appendChild(a);var r=null;h.some(e,function(b){var e=b.corner,f=b.pos,g=0,h={w:{L:m.l+m.w-f.x,R:f.x-m.l,M:m.w}[e.charAt(1)],h:{T:m.t+m.h-f.y,B:f.y-m.t,M:m.h}[e.charAt(0)]},t=a.style;t.left=t.right="auto";c&&(g=c(a,b.aroundCorner,e,h,l),g="undefined"==typeof g?0:g);var s=a.style,B=s.display,D=s.visibility;"none"==s.display&&(s.visibility="hidden",
s.display="");t=d.position(a);s.display=B;s.visibility=D;B={L:f.x,R:f.x-t.w,M:Math.max(m.l,Math.min(m.l+m.w,f.x+(t.w>>1))-t.w)}[e.charAt(1)];D={T:f.y,B:f.y-t.h,M:Math.max(m.t,Math.min(m.t+m.h,f.y+(t.h>>1))-t.h)}[e.charAt(0)];f=Math.max(m.l,B);s=Math.max(m.t,D);B=Math.min(m.l+m.w,B+t.w);D=Math.min(m.t+m.h,D+t.h);B-=f;D-=s;g+=t.w-B+(t.h-D);if(null==r||g<r.overflow)r={corner:e,aroundCorner:b.aroundCorner,x:f,y:s,w:B,h:D,overflow:g,spaceAvailable:h};return!g});r.overflow&&c&&c(a,r.aroundCorner,r.corner,
r.spaceAvailable,l);e=r.y;var s=r.x,t=f.body(a.ownerDocument);/relative|absolute/.test(g.get(t,"position"))&&(e-=g.get(t,"marginTop"),s-=g.get(t,"marginLeft"));t=a.style;t.top=e+"px";t.left=s+"px";t.right="auto";return r}var a={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return l.place={at:function(b,e,c,d,f){c=h.map(c,function(b){var c={corner:b,aroundCorner:a[b],pos:{x:e.x,y:e.y}};d&&(c.pos.x+="L"==b.charAt(1)?d.x:-d.x,c.pos.y+="T"==b.charAt(0)?d.y:-d.y);return c});return m(b,c,f)},around:function(a,b,f,l,
q){function r(a,b){D.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+A,M:z+(A>>1)}[a.charAt(1)],y:{T:y,B:y+B,M:y+(B>>1)}[a.charAt(0)]}})}var s;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(s=d.position(b,!0),/^(above|below)/.test(f[0])){var t=d.getBorderExtents(b),u=b.firstChild?d.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=d.getBorderExtents(a),w=a.firstChild?d.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};s.y+=Math.min(t.t+u.t,x.t+w.t);s.h-=Math.min(t.t+u.t,x.t+w.t)+
Math.min(t.b+u.b,x.b+w.b)}}else s=b;if(b.parentNode){t="absolute"==g.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=d.position(b,!0);x=g.getComputedStyle(b);/relative|absolute/.test(x.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(x.overflow)){var w=Math.min(s.y+s.h,u.y+u.h),v=Math.min(s.x+s.w,u.x+u.w);s.x=Math.max(s.x,u.x);s.y=Math.max(s.y,u.y);s.h=w-s.y;s.w=v-s.x}"absolute"==x.position&&(t=!0);b=b.parentNode}}var z=s.x,y=s.y,A="w"in s?s.w:s.w=s.width,
B="h"in s?s.h:(c.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+y+", height:"+s.height+", width:"+A+" } has been deprecated.  Please use { x:"+z+", y:"+y+", h:"+s.height+", w:"+A+" }","","2.0"),s.h=s.height),D=[];h.forEach(f,function(a){var b=l;switch(a){case "above-centered":r("TM","BM");break;case "below-centered":r("BM","TM");break;case "after-centered":b=!b;case "before-centered":r(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":r(b?"TL":"TR",b?"TR":"TL");r(b?
"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":r(b?"BL":"BR",b?"TL":"TR");r(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":r(b?"TL":"TR",b?"BL":"BR");r(b?"TR":"TL",b?"BR":"BL");break;default:r(a.aroundCorner,a.corner)}});a=m(a,D,q,{w:A,h:B});a.aroundNodePos=s;return a}}})},"variableeditor/views/renderers/_VERendererStyleMixin":function(){define("variableeditor/views/renderers/_VERendererStyleMixin",["dojo/_base/declare","dojo/dom-class","variableeditor/VariableEditorUtils"],
function(h,d,g){return h("variableeditor.views.renderers._VERendererStyleMixin",[],{_classListKey:"classList",updateCellStyles:function(c,d,b,l){var m=this._getCellModelStyle(c,d,b,l);if(m)for(var a in m)if(m.hasOwnProperty(a)){var k=this.getStyleNode(a);k&&k.style[a]!==m[a]&&(k.style[a]=m[a])}this._updateNodeClasses(c,d,b,k,l)},_updateTableClasses:function(c,d){if(c&&d&&d.getTableModelProperty){var b=d.getTableModelProperty(this._classListKey);this._modifyCellClassList(c,b,c._previousTableClassList);
c._previousTableClassList=b}},_updateRowClasses:function(c,d,b){c&&(b&&b.getRowModelProperty&&0<=d)&&(d=b.getRowModelProperty(d,this._classListKey),this._modifyCellClassList(c,d,c._previousRowClassList),c._previousRowClassList=d)},_updateColumnClasses:function(c,d,b){c&&(b&&b.getColumnModelProperty&&0<=d)&&(d=b.getColumnModelProperty(d,this._classListKey),this._modifyCellClassList(c,d,c._previousColumnClassList),c._previousColumnClassList=d)},_updateCellClasses:function(c,d,b,l,m){c&&(0<=d&&0<=b&&
l&&m&&m.getCellPropertyValue)&&(d=m.getCellPropertyValue(d,b,this._classListKey,l),this._modifyCellClassList(c,d,c._previousCellClassList),c._previousCellClassList=d)},_updateNodeClasses:function(c,d,b,l,m){this._updateTableClasses(l,m);this._updateRowClasses(l,c,m);this._updateColumnClasses(l,d,m);this._updateCellClasses(l,c,d,b,m)},_modifyCellClassList:function(c,f,b){b||(b=[]);f&&Array.isArray(f)&&d.add(c,f);(classesToRemove=this._getDifferenceBetweenClassLists(b,f))&&Array.isArray(classesToRemove)&&
d.remove(c,classesToRemove)},_getDifferenceBetweenClassLists:function(c,d){classesToRemove=[];return c&&d?c.filter(function(b){return 0>d.indexOf(b)}):classesToRemove},_getCellModelStyle:function(c,d,b,l){var m={};if(l&&l.getCellPropertyValue&&0<=c&&0<=d){var a=l.getCellPropertyValue(c,d,"fontFamily",b),k=l.getCellPropertyValue(c,d,"fontSize",b),e=l.getCellPropertyValue(c,d,"fontStyle",b),g=l.getCellPropertyValue(c,d,"fontWeight",b),h=l.getCellPropertyValue(c,d,"color",b),q=l.getCellPropertyValue(c,
d,"backgroundColor",b);c=l.getCellPropertyValue(c,d,"style",b);l.rowHeight=Math.max(k?parseInt(k)*l.lineSpacing:l.rowHeight,l.minRowHeight);m={fontFamily:a||"",fontSize:k||"",fontStyle:e||"",fontWeight:g||"",color:h||"",backgroundColor:q||""};c&&c.split(";").forEach(function(a){(a=a.split(":"))&&(a[0]&&a[1])&&(m[a[0]]=a[1])})}return m}})})},"variableeditor/views/table/tableBase/_TableHeaderSelection":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/on"],function(h,
d,g,c){var f=this;return h([],{postCreate:function(){this.inherited(arguments);this.own(c(this.columnHeaderNode,"mousedown",g.hitch(this,"_onColumnMouseDown")));this.own(c(this.columnHeaderNode,"click",g.hitch(this,"_onHeaderClick")));this.own(c(this.columnHeaderNode,"dblclick",g.hitch(this,"_onColumnDoubleClick")));this.own(c(this.columnHeaderNode,"contextmenu",g.hitch(this,"_onColumnRightClick")));this.own(c(this.rowHeaderNode,"mousedown",g.hitch(this,"_onRowMouseDown")));this.own(c(this.rowHeaderNode,
"click",g.hitch(this,"_onHeaderClick")));this.own(c(this.rowHeaderNode,"dblclick",g.hitch(this,"_onRowDoubleClick")));this.own(c(this.rowHeaderNode,"contextmenu",g.hitch(this,"_onRowRightClick")))},_onRowRightClick:function(b){f.contextMenuPosition={x:b.pageX,y:b.pageY};var c=this._getCellFromNode(b.target);0<=c.row&&0<=c.column&&(d.stop(b),this.peerNode.dispatchPeerEvent("rowContextMenu",this.peerNode,{row:c.row}))},_onColumnRightClick:function(b){f.contextMenuPosition={x:b.pageX,y:b.pageY};var c=
this._getCellFromNode(b.target);0<=c.row&&0<=c.column&&(d.stop(b),this.peerNode.dispatchPeerEvent("columnContextMenu",this.peerNode,{column:c.column}))},_onRowDoubleClick:function(b){var c=this._getCellFromNode(b.target);0<=c.row&&0<=c.column&&(d.stop(b),this.peerNode.dispatchPeerEvent("rowDoubleClick",this.peerNode,{row:c.row}))},_onColumnDoubleClick:function(b){var c=this._getCellFromNode(b.target);0<=c.row&&0<=c.column&&(d.stop(b),this.peerNode.dispatchPeerEvent("columnDoubleClick",this.peerNode,
{column:c.column}))},_onHeaderClick:function(b){b=b.target;if(0<document.getSelection().rangeCount){for(b=document.getSelection().getRangeAt(0).commonAncestorContainer;b.parentNode&&(!b.getAttribute||"cell"!==b.getAttribute("class")&&"header cell"!==b.getAttribute("class"));)b=b.parentNode;(!b||!b.getAttribute||"cell"!==b.getAttribute("class")&&"header cell"!==b.getAttribute("class"))&&document.getSelection().removeAllRanges()}},_onRowMouseDown:function(b){var c,d;if(!("column"===this.selectionType||
"single"===this.selectionMode)){var a=this._getCellFromNode(b.target);if(!(0>a.row)){var k=a.row,a=[];if("extended"===this.selectionMode&&(b.ctrlKey||b.metaKey||b.shiftKey))a=g.clone(this.peerNode.getProperty("selectedIndices")),0<a.length&&("row"===this.selectionType&&"number"!==typeof a[0]?a=[]:"cell"===this.selectionType&&!g.isArray(a[0])&&(a=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(b.shiftKey&&0<a.length){b=a[a.length-1];a=[];for(c=k;c<=
b[0];c+=1)for(d=0;d<=this.dataModel.getColumnCount();d+=1)a.push([c,d]);for(c=k;c>=b[0];c-=1)for(d=0;d<=this.dataModel.getColumnCount();d+=1)a.push([c,d])}else if(b.ctrlKey||b.metaKey)if(b=a.filter(function(a){return a[0]!==k}),b.length===a.length)for(c=0;c<this.dataModel.getColumnCount();c+=1)a.push([k,c]);else a=b;else for(c=0;c<this.dataModel.getColumnCount();c+=1)a.push([k,c]);else if(b.shiftKey&&0<a.length){b=a[a.length-1];a=[];for(c=k;c<=b;c+=1)a.push(c);for(c=k;c>=b;c-=1)a.push(c)}else b.ctrlKey||
b.metaKey?(c=a.indexOf(k),0<=c?a.splice(c,1):a.push(k)):a.push(k);this.peerNode.setProperty("selectedIndices",a)}}},_onColumnMouseDown:function(b){var c,d;if(!("row"===this.selectionType||"single"===this.selectionMode)){var a=this._getCellFromNode(b.target);if(!(0>a.column)){var k=a.column,a=[];if("extended"===this.selectionMode&&(b.ctrlKey||b.metaKey||b.shiftKey))a=g.clone(this.peerNode.getProperty("selectedIndices")),0<a.length&&("column"===this.selectionType&&"number"!==typeof a[0]?a=[]:"cell"===
this.selectionType&&!g.isArray(a[0])&&(a=[]));if("none"!==this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(b.shiftKey&&0<a.length){b=a[a.length-1];a=[];for(c=k;c<=b[1];c+=1)for(d=0;d<=this.dataModel.getRowCount();d+=1)a.push([d,c]);for(c=k;c>=b[1];c-=1)for(d=0;d<=this.dataModel.getRowCount();d+=1)a.push([d,c])}else if(b.ctrlKey||b.metaKey)if(b=a.filter(function(a){return a[1]!==k}),b.length===a.length)for(c=0;c<this.dataModel.getRowCount();c+=1)a.push([c,k]);else a=
b;else for(c=0;c<this.dataModel.getRowCount();c+=1)a.push([c,k]);else if(b.shiftKey&&0<a.length){b=a[a.length-1];a=[];for(c=k;c<=b;c+=1)a.push(c);for(c=k;c>=b;c-=1)a.push(c)}else b.ctrlKey||b.metaKey?(c=a.indexOf(k),0<=c?a.splice(c,1):a.push(k)):a.push(k);this.peerNode.setProperty("selectedIndices",a)}}}})})},"variableeditor/views/table/_VETableSelection":function(){define("variableeditor/views/table/_VETableSelection","dojo/_base/declare dojo/_base/lang dojo/query dojo/NodeList dojo/dom dojo/topic variableeditor/views/table/tableBase/_TableSelection variableeditor/views/table/BlockSelection variableeditor/VariableEditorUtils dojo/dom-class".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return h("variableeditor.views.table._VETableSelection",[l],{leadCell:{row:-1,column:-1},shiftKeyPivot:{row:-1,column:-1},leadCellStyle:"background-color: rgb(255, 255, 255);",selectedCellStyle:"background-color: rgb(217, 240, 255);",selectedBorderColor:"rgb(0, 153, 255)",selectedBorderStyle:"1px solid",blockSelection:new m,constructor:function(){this._updateFromExistingSelection();this.leadCell={row:-1,column:-1};this._getSelectionStyles()},_getSelectionStyles:function(){var b=
a.getStylesFromClasses(["variableEditorSelectionBackgroundColor","variableEditorSelectionBorder"],["background-color","border-left-color","border-left-width","border-left-style"]);this.selectedCellStyle="background-color: "+b["background-color"]+";";this.selectedBorderColor=b["border-left-color"];this.selectedBorderStyle=b["border-left-width"]+" "+b["border-left-style"];b=a.getStylesFromClasses(["variableEditorLeadCellBackgroundColor"],["background-color"]);this.leadCellStyle="background-color: "+
b["background-color"]+";"},_updateFromExistingSelection:function(){var a;this.peerNode&&this.peerNode.getProperty&&(a=this.peerNode.getProperty("Selection"));this.blockSelection=new m(a)},_setLeadCellPosition:function(a,b){this.leadCell={row:Math.min(a,this.getRowCount()-1),column:Math.min(b,this.getColumnCount()-1)}},_setShiftKeyPivot:function(a,b){this.shiftKeyPivot={row:a,column:b}},_resetShiftKeyPivot:function(){this.shiftKeyPivot={row:-1,column:-1}},getRowSelector:function(a){return"#"+this.id+
" .dataBody .row:nth-of-type("+(a-this.rowView.start+2)+")"},getCellSelector:function(a,b){return this.getRowSelector(a)+" .cell:nth-of-type("+(b-this.colView.start+2)+")"},getLeadNode:function(){if(0>this.leadCell.row||0>this.leadCell.column||this.leadCell.row>=this.getRowCount()||this.leadCell.column>=this.getColumnCount())return null;var a=this.getCellSelector(this.leadCell.row,this.leadCell.column);return g(a)[0]},getShiftKeyPivot:function(){return[this.shiftKeyPivot.row,this.shiftKeyPivot.column]},
_isLeadNodeInDom:function(){var a=this.getLeadNode();return this.domNode&&a&&f.isDescendant(a,this.domNode)},selectCell:function(a,b){this.selectable&&(this.blockSelection.addCell(a,b),this._renderSelection(),this.setServerSelection(!0))},deselectCell:function(a,b){this.selectable&&(this.blockSelection.removeCell(a,b),this._renderSelection(),this.setServerSelection(!0))},selectRow:function(a){this.selectable&&(this.blockSelection.add(a,a,0,this.getColumnCount()-1),this._renderSelection(),this.setServerSelection(!0))},
deselectRow:function(a){this.selectable&&(this.blockSelection.removeRows(a,a),this._renderSelection(),this.setServerSelection(!0))},selectColumn:function(a){this.selectable&&this.selectable&&(this.blockSelection.add(0,this.getRowCount()-1,a,a),this._renderSelection(),this.setServerSelection(!0))},deselectColumn:function(a){this.selectable&&(this.blockSelection.removeColumns(a,a),this._renderSelection(),this.setServerSelection(!0))},isCellSelected:function(a,b){return this.blockSelection.containsCell(a,
b)},isColumnSelected:function(a){return this.blockSelection.containsColumn(a)},isRowSelected:function(a){return this.blockSelection.containsRow(a)},_renderSelection:function(){null!==this.dataModel&&(this._updateSelectionAndSelectionBorderStyle(),this._updateLeadCellStyle(),this._updateHeaderStyle())},_updateSelectionAndSelectionBorderStyle:function(){var a,b,d,k;a=this._getCurrentViewportSelection();k=a.selectedRows;d=a.selectedColumns;if(this.blockSelection.isEmpty())g(".highlightSelected",this.domNode).removeClass("highlightSelected borderLeft borderRight borderTop borderBottom GroupedBorder".split(" "));
else{g(".highlightSelected",this.domNode).removeClass("highlightSelected borderLeft borderRight borderTop borderBottom GroupedBorder".split(" "));var f=[],m=[],l=[],h=[],x=[],w=[];for(a=0;a<k.length;a+=1){Math.max(1,k[a].start+this.tableRowOffset-this.rowView.start);Math.max(1,k[a].end+this.tableRowOffset-this.rowView.start);for(b=0;b<d.length;b+=1){Math.max(1,d[b].start+this.tableColumnOffset-this.colView.start);Math.max(1,d[b].end+this.tableColumnOffset-this.colView.start,1);for(var v=k[a].start;v<=
k[a].end;v++)for(var z=d[b].start;z<=d[b].end;z++){var y=this.domNode.getElementsByClassName("cellRenderer row_"+v+" col_"+z)[0];y&&(y=this._getCellFromNode(y).node,this.showSelectionBorder?(f.push(y),this._isGroupedCol(z)&&w.push(y),z===d[b].start&&m.push(y),z===d[b].end&&l.push(y),v===k[a].start&&h.push(y),v===k[a].end&&x.push(y)):y&&f.push(y))}}}0<f.length&&(c(f).addClass("highlightSelected"),this.showSelectionBorder&&(c(m).addClass("borderLeft"),c(l).addClass("borderRight"),c(h).addClass("borderTop"),
c(x).addClass("borderBottom"),c(w).addClass("GroupedBorder")))}},_isGroupedCol:function(a){a=this.getColumnModelProperty(a,"GroupColumnSize");return 1<parseInt(a,10)},_updateHeaderStyle:function(){var a=[],b=[],d=this._getCurrentViewportSelection();this.blockSelection.isEmpty()||d.selectedRows.forEach(dojo.hitch(this,function(k){d.selectedColumns.forEach(dojo.hitch(this,function(d){for(var f=k.start+1;f<=k.end+1;f++){var m=this.domNode.getElementsByClassName("variableEditorRowHeaders header_"+f)[0];
m&&a.push(m)}for(f=d.start+1;f<=d.end+1;f++)(m=this.domNode.getElementsByClassName("variableEditorColumnHeaders header_"+f)[0])&&b.push(m);if(0<a.length||0<b.length)c(a).addClass("highlightSelected"),c(b).addClass("highlightSelected")}))}))},_getCurrentViewportSelection:function(){minStartRow=this.dataModel.getCurrentStartRow();maxEndRow=this.dataModel.getCurrentEndRow();minStartCol=this.dataModel.getCurrentStartCol();maxEndCol=this.dataModel.getCurrentEndCol();var a=JSON.parse(JSON.stringify(this.blockSelection));
a.selectedRows.forEach(function(a){a.end-a.start>maxEndRow-minStartRow&&(a.start=minStartRow,a.end=maxEndRow)});a.selectedColumns.forEach(function(a){a.end-a.start>maxEndCol-minStartCol&&(a.start=minStartCol,a.end=maxEndCol)});return a},_updateLeadCellStyle:function(){var a=g(".leadCell",this.domNode);0!=a.length&&a.removeClass("leadCell");this._isLeadNodeInDom()&&(a=this.getLeadNode(),a=this._getCellFromNode(a),this.blockSelection.isEmpty()||(a=this.domNode.getElementsByClassName("cellRenderer row_"+
a.row+" col_"+a.column)[0])&&k.add(a,"leadCell"))},setServerSelection:function(e){a.logDebugStackTraceMessage();a.logDebugStackTraceArray();var c;c=0>=arguments.length?!1:e;var d=this.peerNode.getProperty("Selection");d||(d={selectedRows:[],selectedColumns:[]});if(!c||!this.blockSelection.matchingSelection(new m(d)))c&&b.publish("/datatools/selectionChanged",""),this.peerNode.setProperty("Selection",this.blockSelection.createSourcedCopy("client"))}})})},"dojo/NodeList":function(){define(["./query"],
function(h){return h.NodeList})},"variableeditor/views/table/tableBase/_TableSelection":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/on"],function(h,d,g,c){return h([],{constructor:function(){this.defaultProperties=g.delegate(this.defaultProperties,{selectionType:"row",selectionMode:"none",selectedIndices:[]})},postCreate:function(){this.inherited(arguments);this.own(c(this.dataScrollerNode,"dblclick",g.hitch(this,"_onDataDoubleClick")));this.own(c(this.dataScrollerNode,
"contextmenu",g.hitch(this,"_onRightClick")))},selectCell:function(c,b){var d=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":d.push([c,b]);break;case "row":d.push(c);break;case "column":d.push(b)}this.peerNode.setProperty("selectedIndices",d)},deselectCell:function(c,b){var d=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":d=d.filter(function(d){return d[0]!==c||d[1]!==b});break;case "row":d=d.filter(function(b){return b!==c});break;case "column":d=d.filter(function(c){return c!==
b})}this.peerNode.setProperty("selectedIndices",d)},selectRow:function(c){var b,d=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":for(b=0;b<this.dataModel.getColumnCount();b+=1)d.push([c,b]);break;case "row":d.push(c)}this.peerNode.setProperty("selectedIndices",d)},deselectRow:function(c){var b=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":b=b.filter(function(b){return b[0]!==c});break;case "row":b=b.filter(function(b){return b!==c})}this.peerNode.setProperty("selectedIndices",
b)},selectColumn:function(c){var b,d=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":for(b=0;b<this.dataModel.getRowCount();b+=1)d.push([b,c]);break;case "column":d.push(c)}this.peerNode.setProperty("selectedIndices",d)},deselectColumn:function(c){var b=g.clone(this.selectedIndices);switch(this.selectionType){case "cell":b=b.filter(function(b){return b[1]!==c});break;case "column":b=b.filter(function(b){return b!==c})}this.peerNode.setProperty("selectedIndices",b)},isCellSelected:function(c,
b){switch(this.selectionType){case "cell":return this.selectedIndices.some(function(d){return d[0]===c&&d[1]===b});case "row":return this.selectedIndices.some(function(b){return b===c});case "column":return this.selectedIndices.some(function(c){return c===b});default:return!1}},isRowSelected:function(c){function b(a){return function(b){return b[0]===c&&b[1]===a}}switch(this.selectionType){case "cell":var d,m=c<this.dataModel.getRowCount();for(d=0;d<this.dataModel.getColumnCount();d+=1)m=m&&this.selectedIndices.some(b(d));
return m;case "row":return this.selectedIndices.some(function(a){return a===c});default:return!1}},isColumnSelected:function(c){function b(a){return function(b){return b[0]===a&&b[1]===c}}switch(this.selectionType){case "cell":var d,m=c<this.dataModel.getColumnCount();for(d=0;d<this.dataModel.getRowCount();d+=1)m=m&&this.selectedIndices.some(b(d));return m;case "row":return this.selectedIndices.some(function(a){return a===d});default:return!1}},_onRightClick:function(c){c.preventDefault()},_onDataDoubleClick:function(c){var b=
this._getCellFromNode(c.target);0<=b.row&&(d.stop(c),this.peerNode.dispatchPeerEvent("doubleClick",this.peerNode,{row:b.row,column:b.column}))},_onSelectionTypeSet:function(){this._renderSelection()},_onSelectionModeSet:function(){this._renderSelection()},_onSelectedIndicesSet:function(){this._renderSelection()},_onDataClick:function(c){c=c.target;if(0<document.getSelection().rangeCount){for(c=document.getSelection().getRangeAt(0).commonAncestorContainer;c.parentNode&&(!c.getAttribute||"cell"!==c.getAttribute("class"));)c=
c.parentNode;(!c||!c.getAttribute||"cell"!==c.getAttribute("class"))&&document.getSelection().removeAllRanges()}},_onDataMouseDown:function(c){var b,d,m=this._getCellFromNode(c.target);if(!(0>m.row||0>m.column)){var a=m.row,k=m.column,m=[];if("extended"===this.selectionMode&&(c.ctrlKey||c.metaKey||c.shiftKey))m=g.clone(this.selectedIndices),0<m.length&&(("row"===this.selectionType||"column"===this.selectionType)&&"number"!==typeof m[0]?m=[]:"cell"===this.selectionType&&!g.isArray(m[0])&&(m=[]));if("none"!==
this.selectionType&&"none"!==this.selectionMode)if("cell"===this.selectionType)if(c.shiftKey&&0<m.length){c=m[m.length-1];m=[];for(b=a;b<=c[0];b+=1){for(d=k;d<=c[1];d+=1)m.push([b,d]);for(d=k;d>=c[1];d-=1)m.push([b,d])}for(b=a;b>=c[0];b-=1){for(d=k;d<=c[1];d+=1)m.push([b,d]);for(d=k;d>=c[1];d-=1)m.push([b,d])}}else c.ctrlKey||c.metaKey?(c=m.filter(function(b){return b[0]!==a||b[1]!==k}),c.length===m.length?m.push([a,k]):m=c):m.push([a,k]);else if(d="row"===this.selectionType?a:k,c.shiftKey&&0<m.length){c=
m[m.length-1];m=[];for(b=d;b<=c;b+=1)m.push(b);for(b=d;b>=c;b-=1)m.push(b)}else c.ctrlKey||c.metaKey?(b=m.indexOf(d),0<=b?m.splice(b,1):m.push(d)):m.push(d);this.peerNode.setProperty("selectedIndices",m)}},_renderSelection:function(){var c={};"none"!==this.selectionMode&&("row"===this.selectionType?this.selectedIndices.forEach(function(b){b>=this.rowView.start&&b<this.rowView.end&&(c[".dataBody .row:nth-child("+(b-this.rowView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this):"column"===
this.selectionType?this.selectedIndices.forEach(function(b){b>=this.colView.start&&b<this.colView.end&&(c[".dataBody .row .cell:nth-child("+(b-this.colView.start+2)+")"]="background-color: rgb(173, 206, 255);")},this):"cell"===this.selectionType&&this.selectedIndices.forEach(function(b){b[0]>=this.rowView.start&&(b[0]<this.rowView.end&&b[1]>=this.colView.start&&b[1]<this.colView.end)&&(c[".dataBody .row:nth-child("+(b[0]-this.rowView.start+2)+") .cell:nth-child("+(b[1]-this.colView.start+2)+")"]=
"background-color: rgb(173, 206, 255);")},this));this.styleManager.updateStyleRules("selection",c)}})})},"variableeditor/views/table/BlockSelection":function(){define("variableeditor/views/table/BlockSelection",["dojo/_base/declare"],function(h){return h("variableeditor.views.table.BlockSelection",null,{source:"server",selectedRows:[],selectedColumns:[],indexedRows:!1,indexedColumns:!1,constructor:function(d){this.selectedRows=[];this.selectedColumns=[];d?(d.selectedRows&&(this.selectedRows=Array.isArray(d.selectedRows)?
d.selectedRows:JSON.parse(d.selectedRows)),d.selectedColumns&&(this.selectedColumns=Array.isArray(d.selectedColumns)?d.selectedColumns:JSON.parse(d.selectedColumns)),d.source&&(this.source=d.source),void 0!==d.indexedRows&&(this.indexedRows=d.indexedRows),void 0!==d.indexedColumns&&(this.indexedColumns=d.indexedColumns)):(this.selectedRows=[],this.selectedColumns=[])},setIndexedRows:function(d){this.indexedRows=d},containsColumn:function(d){return this.selectedColumns.some(function(g){return g.start<=
d&&g.end>=d})},containsRow:function(d){return this.selectedRows.some(function(g){return g.start<=d&&g.end>=d})},getRowCount:function(){var d=0;this.selectedRows.forEach(function(g){d=d+g.end-g.start+1});return d},flipRowCount:function(d){this.selectedRows.forEach(function(g){var c=g.end;g.end=d-1-g.start;g.start=d-1-c})},getColumnCount:function(){var d=0;this.selectedColumns.forEach(function(g){d=d+g.end-g.start+1});return d},isEmpty:function(){return 0===this.getColumnCount()||0===this.getRowCount()},
containsCell:function(d,g){return this.containsColumn(g)&&this.containsRow(d)},getOverlappingCells:function(d,g,c,f){for(var b,l=[];d<=g;d+=1)for(b=c;b<=f;b+=1)this.containsCell(d,b)&&l.push([d,b]);return l},clone:function(){var d=dojo.clone(this);d.selectedRows=[];d.selectedColumns=[];this.selectedRows.forEach(dojo.hitch(this,function(g){d.selectedRows.push({start:g.start,end:g.end})}));this.selectedColumns.forEach(dojo.hitch(this,function(g){d.selectedColumns.push({start:g.start,end:g.end})}));
d.source=this.source;return d},createSourcedCopy:function(d){var g=this.clone();g.source=d;return g},add:function(d,g,c,f){var b;d>g&&(b=d,d=g,g=b);c>f&&(b=c,c=f,f=b);if(this.indexedRows)for(;d<=g;d+=1)this.selectedRows.push({start:d,end:d});else this.selectedRows.push({start:d,end:g});this.selectedColumns.push({start:c,end:f});this.reconcile()},addCell:function(d,g){this.selectedRows.push({start:d,end:d});this.selectedColumns.push({start:g,end:g});this.reconcile()},removeCell:function(d,g){var c=
this.containsColumn(g)&&1===this.getColumnCount(),f=this.containsRow(d)&&1===this.getRowCount();c&&!f?this.removeRows(d,d):!c&&f?this.removeColumns(g,g):this.remove(d,d,g,g);this.reconcile()},getLeadCell:function(){return this.isEmpty()?null:[this.selectedRows[this.selectedRows.length-1].end,this.selectedColumns[this.selectedColumns.length-1].end]},getFirstCellFromLastRow:function(){return this.isEmpty()?null:[this.selectedRows[this.selectedRows.length-1].end,this.selectedColumns[this.selectedColumns.length-
1].start]},matchingSelection:function(d){if(d.selectedRows.length!==this.selectedRows.length||d.selectedColumns.length!==this.selectedColumns.length)return!1;var g;for(g=0;g<this.selectedRows.length;g+=1)if(this.selectedRows[g].start!==d.selectedRows[g].start||this.selectedRows[g].end!==d.selectedRows[g].end)return!1;for(g=0;g<this.selectedColumns.length;g+=1)if(this.selectedColumns[g].start!==d.selectedColumns[g].start||this.selectedColumns[g].end!==d.selectedColumns[g].end)return!1;return!0},removeRows:function(d,
g){var c=[],f=[];this.selectedRows.forEach(function(b){d<=b.start&&g>=b.end?c.push(b):d>b.start&&g<b.end?(c.push(b),f.push({start:b.start,end:d-1}),f.push({start:g+1,end:b.end})):d<=b.start&&g>=b.start?b.start=g+1:d<=b.end&&g>=b.end&&(b.end=d-1)});c.forEach(dojo.hitch(this,function(b){b=this.selectedRows.indexOf(b);0<=b&&this.selectedRows.splice(b,1)}));f.forEach(dojo.hitch(this,function(b){this.selectedRows.push(b)}));this.reconcile()},removeColumns:function(d,g){var c=[],f=[];this.selectedColumns.forEach(function(b){d<=
b.start&&g>=b.end?c.push(b):d>b.start&&g<b.end?(c.push(b),f.push({start:b.start,end:d-1}),f.push({start:g+1,end:b.end})):d<=b.start&&g>=b.start?b.start=g+1:d<=b.end&&g>=b.end&&(b.end=d-1)});c.forEach(dojo.hitch(this,function(b){b=this.selectedColumns.indexOf(b);0<=b&&this.selectedColumns.splice(b,1)}));f.forEach(dojo.hitch(this,function(b){this.selectedColumns.push(b)}));this.reconcile()},remove:function(d,g,c,f){this.removeRows(d,g);this.removeColumns(c,f)},_isInterectingRows:function(d){var g=this.selectedRows.slice();
g.sort(function(c,b){return c.start-b.start});var c=1;d&&(c=0);for(d=1;d<g.length;d+=1)if(g[d].start<=g[d-1].end+c)return!0;return!1},_isInterectingColumns:function(d){var g=this.selectedColumns.slice();g.sort(function(c,b){return c.start-b.start});var c=1;d&&(c=0);for(d=1;d<g.length;d+=1)if(g[d].start<=g[d-1].end+c)return!0;return!1},reconcile:function(){var d,g=this._isInterectingColumns(this.indexedColumns);d=this._isInterectingRows(this.indexedRows);if(g||d){if(d){this.selectedRows.sort(dojo.hitch(this,
function(c,b){return c.start-b.start}));var c=[this.selectedRows[0]];for(d=1;d<this.selectedRows.length;d+=1)!this.indexedRows&&this.selectedRows[d].start<=c[c.length-1].end+1?c[c.length-1].end=Math.max(this.selectedRows[d].end,c[c.length-1].end):this.indexedRows&&this.selectedRows[d].start===c[c.length-1].start&&this.selectedRows[d].end===c[c.length-1].end?c[c.length-1].end=Math.max(this.selectedRows[d].end,c[c.length-1].end):c.push(this.selectedRows[d]);this.selectedRows=c}if(g){this.selectedColumns.sort(dojo.hitch(this,
function(c,b){return c.start-b.start}));g=[this.selectedColumns[0]];for(d=1;d<this.selectedColumns.length;d+=1)this.selectedColumns[d].start<=g[g.length-1].end+1?g[g.length-1].end=this.selectedColumns[d].end>=g[g.length-1].end?this.selectedColumns[d].end:g[g.length-1].end:g.push(this.selectedColumns[d]);this.selectedColumns=g}}}})})},"variableeditor/views/table/_VEModelProperties":function(){define("variableeditor/views/table/_VEModelProperties","dojo/_base/declare dojo/_base/lang dojo/query dojo/dom dojo/dom-class dojo/topic mw-log/Log dijit/registry variableeditor/VariableEditorUtils".split(" "),
function(h,d,g,c,f,b,l,m,a){return h("variableeditor.views.table._VEModelProperties",[],{defaultRowHeaderWidth:30,maxLabelWidth:25,notEditableCSSClass:"venoteditable",notSelectableCSSClass:"venotselectable",maxIndexWidth:null,constructor:function(b){var e={};this.TableModelProperties={};this.RowModelProperties=[];this.ColumnModelProperties=[];this.CellModelProperties=[];b&&(this.TableModelProperties=e.TableModelProperties=b.TableModelProperties||{},this.RowModelProperties=e.RowModelProperties=b.RowModelProperties||
[],this.ColumnModelProperties=e.ColumnModelProperties=b.ColumnModelProperties||[],this.CellModelProperties=e.CellModelProperties=b.CellModelProperties||[],d.mixin(b,e),this.editable=void 0===b.editable||null===b.editable?void 0!==this.TableModelProperties.Editable?a.getLogicalValue(this.TableModelProperties.Editable):!0:b.editable);void 0!==this.TableModelProperties.Editable&&this.editable!==a.getLogicalValue(this.TableModelProperties.Editable)?this.editable=a.getLogicalValue(this.TableModelProperties.Editable):
void 0===this.TableModelProperties.Editable&&(this.updateEditableFlag=!0)},updateModelProperties:function(c){var e=window.performance.now();a.logDebug("_VEModelProperties: updateModelProperties");this._updateTableModelProperties();this._updateTableHeaders();this._updateModelStyles();c&&this._renderViewData(!0);c=window.performance.now()-e;a.isPerformance()&&b.publish("variableeditor/updateModelPropsChannel",{time:c})},_updateTableModelProperties:function(){a.logDebug("_VEModelProperties: _updateTableModelProperties");
this.TableModelProperties&&(this._updateTableEditable(),this._updateTableSelectable(),this._updateTableRowHeight())},_updateTableRowHeight:function(){var a=this.getTableModelProperty("fontSize"),a=Math.max(a?parseInt(a)*this.lineSpacing:this.rowHeight,this.minRowHeight);a!==this.rowHeight&&(this.rowHeight=a)},_updateTableEditable:function(){a.logDebug("_VEModelProperties: _updateTableEditable");this.updateEditableFlag&&(void 0!==this.TableModelProperties.Editable&&this.setTableModelProperty)&&(this.setTableModelProperty("Editable",
this.editable?"true":"false"),this.updateEditableFlag=!1);var b=this.getTableModelProperty("Editable");void 0===b?(b=this.editable,this.setTableModelProperty("Editable",b)):this.editable=a.getLogicalValue(b,!0)},_updateTableSelectable:function(){a.logDebug("_VEModelProperties: _updateTableSelectable");var b=this.getTableModelProperty("Selectable");void 0===b?(b=this.selectable,this.setTableModelProperty("Selectable",b)):(this.selectable=a.getLogicalValue(b,!0),this.selectable||(this.blockSelection.selectedRows=
[],this.blockSelection.selectedColumns=[],this._renderSelection(),this._setLeadCellPosition(-1,-1)));this.domNode&&(this.selectable?f.remove(this.domNode,this.notSelectableCSSClass):f.add(this.domNode,this.notSelectableCSSClass))},_updateModelStyles:function(){a.logDebug("_VEModelProperties: _updateModelStyles");if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow){var b=g("input.cell.variableEditorRenderers",
this.domNode);this._updateNodeStyles(b)}},_updateNodeStyles:function(a){if(a)for(var b=g.NodeList(),c=g.NodeList(),d,f=0;f<a.length;f+=1){d=a[f].getAttribute("data-tag")?a[f]:a[f].querySelector("input");var l=a[f].getAttribute("data-row"),h=a[f].getAttribute("data-col");if(d){if(void 0!==l&&void 0!==h){var t=m.getEnclosingWidget(d);t&&t.updateCellStyles&&t.updateCellStyles(l,h);t&&t.updateCellDraggability&&t.updateCellDraggability(l,h);(l=this.isCellEditable(l,h,d))?b.push(d):c.push(d)}}else d=this.getCellSelector(l,
h),g(d)[0].firstChild&&(d=g(d)[0].firstChild,(l=this.isCellEditable(l,h,d))?b.push(d):c.push(d))}},isCellDraggable:function(b,e,c){return a.getLogicalValue(this.getCellPropertyValue(b,e,"Draggable",c),!1)},getTextDataTransferValue:function(){var a=[];if(this.blockSelection&&this.blockSelection.selectedRows&&this.blockSelection.selectedColumns)for(var b=0;b<this.blockSelection.selectedRows.length;b+=1)for(var c=0;c<this.blockSelection.selectedColumns.length;c+=1)for(var d=this.blockSelection.selectedRows[b],
f=this.blockSelection.selectedColumns[c],l=d.start;l<=d.end;l+=1)for(var h=f.start;h<=f.end;h+=1)if(this.isCellDraggable(l,h)){var t=this.getCellSelector(l,h),u=g(t)[0],t=this.getCellPropertyValue(l,h,"DragValue");if(void 0===t&&u&&(u&&u.querySelectorAll)&&(u=u.querySelectorAll('[data-tag*\x3d".cell.'+l.toString()+"."+h.toString()+'"]')))for(var x=0;x<u.length;x+=1){var w=m.getEnclosingWidget(u[x]);w&&w.veEditor&&(t=w.veEditor.editorValue)}void 0!==t&&a.push(t)}return a.toString()},getDragValue:function(a){a||
(a="text");return"text"===a?this.getTextDataTransferValue():""},isCellEditable:function(b,e,c){var d=a.getLogicalValue(this.getCellModelProperty(b,e,"Editable"),!0),f=a.getLogicalValue(this.getColumnModelProperty(e,"Editable"),!0),l=a.getLogicalValue(this.getRowModelProperty(b,"Editable"),!0);void 0===c&&(b=this.getCellSelector(b,e),c=g(b)[0]);b=m.getEnclosingWidget(c);return this.editable&&d&&f&&l&&b&&b.veInplaceEditor&&b.veInplaceEditor.edit},isCellEditableFromObj:function(b,e,c){e=a.getLogicalValue(this.getColumnModelProperty(e,
"Editable"),!0);b=a.getLogicalValue(this.getRowModelProperty(b,"Editable"),!0);return this.editable&&e&&b&&c&&c.inplaceeditor},isNodeEditable:function(b){try{var e=this._getCellFromNode(b);if(0<=e.row&&0<=e.column)return this.isCellEditable(e.row,e.column,b)}catch(c){a.logDebug(c)}return!1},getColumnModelProperties:function(a){a-=this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0;return!this.ColumnModelProperties||!this.ColumnModelProperties.hasOwnProperty(a)?
{}:this.ColumnModelProperties[a]},getColumnModelProperty:function(a,b){var c=this.getColumnModelProperties(a);return!c.hasOwnProperty(b)?void 0:c[b]},setColumnModelProperty:function(a,b,c){var d=a-(this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0);if(!this.ColumnModelProperties||0===this.ColumnModelProperties.length){this.ColumnModelProperties=[];var f;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol)for(f=0;f<this.dataModel.getCurrentEndCol()-
this.dataModel.getCurrentStartCol();f+=1)this.ColumnModelProperties[f]={}}this.ColumnModelProperties.hasOwnProperty(d)&&(this.ColumnModelProperties[d][b]=c);this.peerViewModel&&this.peerViewModel.setColumnModelProperty&&this.peerViewModel.setColumnModelProperty(a,b,c);this._updateColumnHeaderNames();this._updateColumnWidths();this._updateModelStyles()},getRowModelProperties:function(a){a-=this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0;return!this.RowModelProperties||
!this.RowModelProperties.hasOwnProperty(a)?{}:this.RowModelProperties[a]},getRowModelProperty:function(a,b){var c=this.getRowModelProperties(a);return!c.hasOwnProperty(b)?void 0:c[b]},setRowModelProperty:function(a,b,c){var d=a-(this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0);if(!this.RowModelProperties||0===this.RowModelProperties.length){this.RowModelProperties=[];var f;if(this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow)for(f=
0;f<this.dataModel.getCurrentEndRow()-this.dataModel.getCurrentStartRow();f+=1)this.RowModelProperties[f]={}}this.RowModelProperties.hasOwnProperty(d)&&(this.RowModelProperties[d][b]=c);this.peerViewModel&&this.peerViewModel.setRowModelProperty&&this.peerViewModel.setRowModelProperty(a,b,c);this._updateRowHeaderNames();this._updateModelStyles()},getTableModelProperty:function(a){return!this.TableModelProperties||!this.TableModelProperties.hasOwnProperty(a)?void 0:this.TableModelProperties[a]},setTableModelProperty:function(a,
b){this.TableModelProperties||(this.TableModelProperties={});this.TableModelProperties[a]=b;this.peerViewModel&&this.peerViewModel.setTableModelProperty&&this.peerViewModel.setTableModelProperty(a,b);this._updateTableSelectable();this._updateModelStyles()},setCellModelProperty:function(a,b,c,d){var f=a-(this.dataModel&&this.dataModel.getCurrentStartRow?this.dataModel.getCurrentStartRow():0),m=b-(this.dataModel&&this.dataModel.getCurrentStartCol?this.dataModel.getCurrentStartCol():0);if(!this.CellModelProperties||
0===this.CellModelProperties.length){this.CellModelProperties=[];var g;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow)for(g=0;g<this.dataModel.getCurrentEndRow()-this.dataModel.getCurrentStartRow();g+=1){this.CellModelProperties[g]=[];var l;for(l=0;l<this.dataModel.getCurrentEndCol()-this.dataModel.getCurrentStartCol();l+=1)this.CellModelProperties[g][l]={}}}this.CellModelProperties.hasOwnProperty(f)&&
this.CellModelProperties[f].hasOwnProperty(m)&&(this.CellModelProperties[f][m][c]=d);this.peerViewModel&&this.peerViewModel.setCellModelProperty&&this.peerViewModel.setCellModelProperty(a,b,c,d);this._updateModelStyles()},getCellModelProperty:function(a,b,c){var d;0<=a&&(0<=b&&this.CellModelProperties&&this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentStartRow&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()]&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-
this.dataModel.getCurrentStartCol()]&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c])&&(d=this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c]);return d},getCellPropertyValue:function(a,b,c,d){var f;if(d&&d.hasOwnProperty(c))f=d[c];else if(0<=a&&0<=b&&this.CellModelProperties&&this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentStartCol&&this.CellModelProperties[a-
this.dataModel.getCurrentStartRow()]&&this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()]&&(this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c]||this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c]===Boolean(0)))f=this.CellModelProperties[a-this.dataModel.getCurrentStartRow()][b-this.dataModel.getCurrentStartCol()][c];else if(0<=b&&this.ColumnModelProperties&&
this.dataModel&&this.dataModel.getCurrentStartCol&&this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()]&&(this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][c]||this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][c]===Boolean(0)))f=this.ColumnModelProperties[b-this.dataModel.getCurrentStartCol()][c];else if(0<=a&&this.RowModelProperties&&this.dataModel&&this.dataModel.getCurrentStartRow&&this.RowModelProperties[a-this.dataModel.getCurrentStartRow()]&&(this.RowModelProperties[a-
this.dataModel.getCurrentStartRow()][c]||this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][c]===Boolean(0)))f=this.RowModelProperties[a-this.dataModel.getCurrentStartRow()][c];else if(this.TableModelProperties&&(this.TableModelProperties[c]||this.TableModelProperties[c]===Boolean(0)))f=this.TableModelProperties[c];return f},_updateTableHeaders:function(){a.logDebug("_VEModelProperties: _updateTableHeaders");this.ColumnModelProperties&&(this._updateColumnHeaderNames(),this._updateColumnWidths(),
this._updateColumnHeaderDisplay());this.RowModelProperties&&(this._updateRowHeaderNames(),this._updateRowHeaderDisplay())},_updateRowHeaderDisplay:function(){this.domNode&&(a.getLogicalValue(this.getTableModelProperty("ShowRowHeaders"),!0)?f.remove(this.domNode,"hideRowHeaders"):f.add(this.domNode,"hideRowHeaders"))},_updateColumnHeaderDisplay:function(){this.domNode&&(a.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0)?f.remove(this.domNode,"hideColumnHeaders"):f.add(this.domNode,
"hideColumnHeaders"))},_updateRowHeaderNames:function(){a.logDebug("_VEModelProperties: _updateRowHeaderNames");if(this.RowModelProperties){var b,e=this.defaultRowHeaderWidth,c=0,d=this.getTableModelProperty("CornerSpacerTitle");d&&(e=Math.max(7*d.length)+20,this.peerNode.setProperty("rowHeaderWidth",e));if(this.dataModel&&this.dataModel.getCurrentStartRow&&this.dataModel.getCurrentEndRow){var d=a.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),!0),f=a.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),
!1),m=a.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),!0);b=this.dataModel.getCurrentStartRow();var g;g=this.dataModel.getCurrentEndRow();for(g=0==g&&this.dataModel.getCurrentStartRow()===g&&0!==this.getRowCount()?this.RowModelProperties.length:g;b<g;b+=1){this.rows[b]||(this.rows[b]={label:"",labelIndex:null});var l=m?this.getRowModelProperty(b,"RowName"):"",h=f?this.getRowModelProperty(b,"RowNumber"):"";l?(this.rows[b].labelIndex=f?parseInt(h):b+1,this.rows[b].label=l):(this.rows[b].labelIndex=
d?b+1:"",this.rows[b].label="");c=Math.max(c,7*(this.rows[b].labelIndex.toString().length+2));e=Math.max(e,7*(Math.min(this.maxLabelWidth,this.rows[b].label.length)+this.rows[b].labelIndex.toString().length+2))}null!=c&&(this.maxIndexWidth=c);this.peerNode.setProperty("rowHeaderWidth",e)}}},_updateColumnHeaderNames:function(){a.logDebug("_VEModelProperties: _updateColumnHeaderNames");if(this.ColumnModelProperties){var b;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol){var e=
a.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),c=a.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),d=a.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),f=this.getTableModelProperty("ShowHeaderIcons");this.getTableModelProperty("CornerSpacerTitle");for(b=this.dataModel.getCurrentStartCol();b<this.dataModel.getCurrentEndCol();b+=1){this.columns[b]||(this.columns[b]={label:"",labelIndex:null});var m=d?this.getColumnModelProperty(b,
"HeaderName"):"",g=c?this.getColumnModelProperty(b,"HeaderNumber"):(b+1).toString(),l=f?this.getColumnModelProperty(b,"icon"):"";l&&(this.columns[b].icon=l);m?(this.columns[b].labelIndex=c?parseInt(g):b+1,this.columns[b].label=m):(this.columns[b].labelIndex=e?b+1:"",this.columns[b].label="")}}}},_updateColumnWidths:function(){a.logDebug("_VEModelProperties: _updateColumnWidths");if(this.ColumnModelProperties){var b=d.clone(this.columns),e,c=!1;if(this.dataModel&&this.dataModel.getCurrentStartCol&&
this.dataModel.getCurrentEndCol&&0<this.columns.length)for(e=this.dataModel.getCurrentStartCol();e<this.dataModel.getCurrentEndCol();e+=1)if(this.columns[e]||(this.columns[e]={width:0}),this.columns[e]&&this.columns[e]!==this._resizingColumn)try{var f=this._getColumnWidthOnTable?this._getColumnWidthOnTable(e):null,m=f?f:this.getColumnModelProperty(e,"ColumnWidth"),g=parseInt(m,10);null!==m&&(void 0!==m&&0<=g)&&(this._currentColumns&&this._currentColumns[e]&&this._currentColumns[e].width===g?b[e].width=
this._currentColumns[e].width:(c=!0,b[e].width=g))}catch(h){l.error(h),l.error(h.stack)}(c||this.dataModel&&this.columns&&this.dataModel.getColumnCount&&this.columns.length!==this.dataModel.getColumnCount())&&0!==b.length&&this.peerNode.setProperty("columns",b);if(b&&(c||!this._currentColumns))this._currentColumns=b}}})})},"variableeditor/views/table/tableBase/_TableColumnWidth":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/on dojo/dom-geometry dojo/dom-style dojo/dom-class".split(" "),
function(h,d,g,c,f,b,l){return h([],{postCreate:function(){this.inherited(arguments);this.own(c(this.columnHeaderNode,"mousedown",g.hitch(this,"_onColumnResizeMouseDown")))},_onColumnResizeMouseDown:function(b){if(b.target.getAttribute&&b.target.getAttribute("class")&&(-1!==b.target.getAttribute("class").indexOf("drag")||-1!==b.target.getAttribute("class").indexOf("firstHalfOfDrag")||-1!==b.target.getAttribute("class").indexOf("secondHalfOfDrag")||-1!==b.target.getAttribute("class").indexOf("dragBorder"))){l.add(this.domNode,
"resizing");var a=this._getHeaderFromNode(b.target).column,k=this.columns[a];if(k&&(void 0===k.resizable||k.resizable))this._tablePos=f.position(this.columnResizerNode.parentNode),this._resizingColumn=a,this._originalResizeWidth=k.width||0,this._minResizeWidth=k.minWidth?k.minWidth:10,this._maxResizeWidth=k.maxWidth?k.maxWidth:1E3,this._splitterNode=b.target,"drag"===b.target.getAttribute("class")&&(this._splitterNode=b.target.firstChild.nextElementSibling),"firstHalfOfDrag"===b.target.getAttribute("class")&&
(this._splitterNode=b.target.nextElementSibling),"secondHalfOfDrag"===b.target.getAttribute("class")&&(this._splitterNode=b.target.previousElementSibling),this._originalSplitterPos=f.position(this._splitterNode),this._updateColumnResizerNode(this._originalSplitterPos.x),this._mouseMoveListener=c(document,"mousemove",g.hitch(this,"_onColumnMouseMove")),this._mouseUpListener=c(document,"mouseup",g.hitch(this,"_onColumnMouseUp")),document.addEventListener("selectstart",d.stop,!0)}},_getHeaderFromNode:function(b){for(var a=
null,c=-1,e=-1;b.getAttribute&&"datatools.variableeditor.views.table.variableEditorColumnHeaders"!==b.getAttribute("data-tag")&&b!==this.dataScrollerNode;)b=b.parentNode;if(b.getAttribute&&"datatools.variableeditor.views.table.variableEditorColumnHeaders"===b.getAttribute("data-tag")){a=b;for(e=this.colView.start-1;b.previousElementSibling;)e+=1,b=b.previousElementSibling;b=b.parentNode;for(c=this.rowView.start-1;b.previousElementSibling;)c+=1,b=b.previousElementSibling}return{node:a,row:c,column:e}},
_onColumnMouseMove:function(b){this._updateColumnResizerNode(b.pageX);d.stop(b)},_onColumnMouseUp:function(c){d.stop(c);l.remove(this.domNode,"resizing");c=c.pageX-this._originalSplitterPos.x+this._originalResizeWidth;c=Math.min(Math.max(this._minResizeWidth,c),this._maxResizeWidth);var a=g.clone(this.columns);a[this._resizingColumn].width=c;this.peerNode.setProperty("columns",a);b.set(this.columnResizerNode,{display:"none"});this._mouseMoveListener.remove();this._mouseUpListener.remove();document.removeEventListener("selectstart",
d.stop,!0)},_updateColumnResizerNode:function(c){c=c-this._originalSplitterPos.x+this._originalResizeWidth;c=Math.min(Math.max(this._minResizeWidth,c),this._maxResizeWidth);b.set(this.columnResizerNode,{display:"inherit",left:this._originalSplitterPos.x-this._tablePos.x+c-this._originalResizeWidth+"px"})}})})},"variableeditor/views/table/tableBase/_PropTypeHandler":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on"],function(h,d,g){return h([],{postCreate:function(){this.inherited(arguments);
this.own(g(this.dataScrollerNode,g.selector("button","click"),d.hitch(this,"_onCellButtonClick")))},_onCellButtonClick:function(c){var d=this._getCellFromNode(c.target);0<=d.row&&0<=d.column&&this.peerNode.dispatchPeerEvent("cellEvent",this.peerNode,{cellEventType:"buttonClick",row:d.row,column:d.column,buttonClass:c.target.getAttribute("class")})}})})},"variableeditor/views/renderers/VERendererFactory":function(){define("variableeditor/views/renderers/VERendererFactory","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/mouse dojo/on dojo/dom dojo/touch dojo/dom-geometry dijit/registry variableeditor/views/renderers/_VERendererMixin variableeditor/views/editors/_VEEditorConverterMixin mw-log/Log require variableeditor/VariableEditorUtils".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){return h("variableeditor.views.renderers.VERendererFactory",[],{table:{},type:"cellrennderer",constructor:function(a){this.table=a;this.type=a.RendererName;this.dragImageUrl=q.toUrl("../../../images-variableeditor/ico_drag_workspace.png")},create:function(a,b,c){var d;d=document.createElement("input");if(b&&1<=b.length&&"{"===b.charAt(0)){var k=JSON.parse(b),f=this.getCellIndices(k),m=f.row,f=f.column,g=this;this.createRendererObject(k,"renderer",{node:d,column:a,
renderedObject:k,table:g.table},g.table,function(a){var b=a.declaredClass;a._setupEventListeners(g.table);a.isInstanceOf(e)||h.safeMixin(a,new e);a.isInstanceOf(n)||h.safeMixin(a,new n);a.declaredClass=b;d=a.domNode;a._setRendererProperties(k,g.table,"server");a.domNode.setAttribute("data-tag",a.createDataTag("CellRenderer","cell"));a._setupDOMRowCol(a.getCellIndices(k));c&&"function"===typeof c&&c(d)});d&&this.updateCellDraggability(m,f,d,b)}else d.value=b;return d},startup:function(a){a&&(a.nodeName&&
"input"===a.nodeName.toLowerCase())&&(a.value=a.value);k.getEnclosingWidget(a).startup()},getCellIndices:function(a){var b=-1,c=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));return{row:b,column:c}},createRendererObject:function(a,b,c,e,d){var k=null,f=this.getCellIndices(a);e=f.row;f=f.column;try{var g=this.table.getCellPropertyValue(e,f,b,a);if(g)q([g],function(a){k=new a(c);d&&"function"===typeof d&&d(k)});else return null}catch(m){p.error(m)}return k},update:function(a,
b,c,e){var d=null;if(c&&1<=c.length&&"{"===c.charAt(0)){d=JSON.parse(c);if(d.isInvalidCache)return;var f=this.getCellIndices(d),g=f.row,f=f.column;a=k.getEnclosingWidget(a);var m="";a&&(m=a.declaredClass);g=this.table.getCellPropertyValue(g,f,"renderer",d);this.comparePathToDeclaredClass(g,m)?(a._setRendererProperties(d,this.table,"server"),a._setupDOMRowCol(a.getCellIndices(d)),d=a.domNode,e&&"function"===typeof e&&e(d)):(d=this.create(b,c,e),a&&a.destroy())}else a&&(a.value=c,d=a);return d},updateCellDraggability:function(a,
b,c,e){c||(c=this.domNode);e||(e=this.renderedObject);this.table&&this.table.useDojoDnD?this.updateDojoDraggability(a,b,c,e):this.updateDefaultCellDraggability(a,b,c,e)},updateDojoDraggability:function(a,c,e,d){if(this.table&&this.table.isCellDraggable){var k=this;this.table.isCellDraggable(a,c,d)&&(b(e,m.press,function(a){k.redispatchMouseEvent(a,"mousedown")}),b(e,m.release,function(a){k.redispatchMouseEvent(a,"mouseup");k.table&&k.table.dataScrollerNode&&k.table._onMouseDragUp(a)}),r.addToClassList(e,
"dojoDndItem"),d&&(1<=d.length&&"{"===d.charAt(0))&&(d=JSON.parse(d)),d.value&&(e.setAttribute("dndData",d.value),e.setAttribute("dndType","text")))}},redispatchMouseEvent:function(a,b){var c=dijit.registry.byNode(a.currentTarget);a.renderer=c;c.dispatchEvent(b,c,a)},updateDefaultCellDraggability:function(a,c,e,f){this.table&&this.table.isCellDraggable&&(a=this.table.isCellDraggable(a,c,f),e.setAttribute("draggable",a),c=k.getEnclosingWidget(e),a&&(c.dragStartListener||(c.dragStartListener=b(e,"dragstart",
d.hitch(this,"onDragStart")),c.dragOverListener=b(e,"dragover",d.hitch(this,"onDragOver")),c.dropListener=b(e,"drop",d.hitch(this,"onDrop"))),this.dragImage=this.preloadDragImage()))},preloadDragImage:function(){var a=document.createElement("img");a.setAttribute("src",this.dragImageUrl);return a},onDragOver:function(a){a.preventDefault&&a.preventDefault();a.dataTransfer.dropEffect="copy";return!1},onDragStart:function(a){if(this.table&&this.table.getSelectedFields){var b=this.table.getSelectedFields();
a.dataTransfer.setData("text/plain",b);a.dataTransfer.setData("text/workspacebrowser",b);if(a.dataTransfer.setDragImage){var c=this.dragImage;c.setAttribute("alt",b);a.dataTransfer.setDragImage(c,0,0)}a.target.style.cursor="move";a.dataTransfer.effectAllowed="copyMove"}return!1},onDrop:function(a){a.preventDefault&&a.preventDefault();return!1},clearCache:function(a,b,c){if(c&&1<=c.length&&"{"===c.charAt(0)){var e=JSON.parse(c),f=k.getEnclosingWidget(a),g={};f&&(g={veInplaceEditor:f.veInplaceEditor,
veEditor:f.veEditor});(e=this.createRendererObject(e,"renderer",{node:a,column:b,renderedObject:e,table:this.table},this.table,function(e){e&&e.clearCache&&e.clearCache(a,b,c);d.mixin(e,g)}))&&e.clearCache&&e.clearCache(a,b,c)}},getCellValue:function(a){a=k.getEnclosingWidget(a);return a.getValue?a.getValue():null},comparePathToDeclaredClass:function(a,b){var c=a.split("/"),e=b.split("."),d=!0;if(c.length===e.length)for(var k=0;k<c.length&&d;k+=1)d=c[k]===e[k];else d=!1;return d}})})},"variableeditor/views/editors/_VEEditorConverterMixin":function(){define("variableeditor/views/editors/_VEEditorConverterMixin",
["dojo/_base/declare","dojo/_base/lang"],function(h,d){return h("variableeditor.views.editors._VEEditorConverterMixin",[],{_converter:null,setEditorConverter:function(g){null!==g&&void 0!==g&&(this._converter=d.hitch(this,g))},convert:function(d){var c=d;null!==this._converter&&(c=this._converter(d));return c},addSingleQuotesConverter:function(d){return"'"+d+"'"},datetimeConverter:function(d){var c=d;if(void 0===d||null===d||""===d)c="NaT";return this.addSingleQuotesConverter(c)}})})},"variableeditor/ContextPublishingUtils":function(){define("variableeditor/ContextPublishingUtils",
["dojo/_base/declare","dojo/topic"],function(h,d){return{addToContext:function(g,c,f){if(g){var b={};f?b.subContext=c:b.mainContext=c;d.publish(g,b)}},removeFromContext:function(g,c){if(g){var f={};c?f.subContext=[]:f.mainContext=[];d.publish(g,f)}}}})},"variableeditor/views/CharArrayView":function(){define("variableeditor/views/CharArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.CharArrayView",
[d],{constructor:function(c){this.table={}},createTable:function(c){return new g(c)}})})},"variableeditor/views/StringArrayView":function(){define("variableeditor/views/StringArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.StringArrayView",[d],{constructor:function(){this.table={}},createTable:function(c){return new g(c)}})})},"variableeditor/views/StructureArrayView":function(){define("variableeditor/views/StructureArrayView",
["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/StructureTable","dojo/dom-geometry"],function(h,d,g,c,f){return h("variableeditor.views.StructureArrayView",[g],{createTable:function(b){b.sortAscending=this.peerNode.getProperty("SortAscending");b.sortableColumn=this.peerNode.getProperty("SortableColumn");b.clientSortHandler=d.hitch(this,function(b){this.peerNode.setProperty("SortAscending",{SortAscending:b,source:"client"})});var f=new c(b);
this.peerNode.addEventListener("propertySet",function(b){"SortAscending"===b.data.key&&"server"===b.data.newValue.source&&f._swapSortIcon(null,b.data.newValue.SortAscending)},this.peerNode);return f},getSelectedFields:function(){if(this.table&&this.table.getSelectedFields)return this.table.getSelectedFields()}})})},"variableeditor/views/table/StructureTable":function(){define("variableeditor/views/table/StructureTable","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom dojo/dom-construct dojo/query dojo/dom-style dojo/dom-attr dojo/dom-geometry dijit/registry dojo/domReady! datatoolsservices/TestingHooksUtils datatoolsservices/TestingPropConstants variableeditor/views/table/ArrayTable variableeditor/views/table/HeaderContextMenu variableeditor/VariableEditorUtils variableeditor/views/renderers/_TemplateMixin variableeditor/views/table/_VEColumnHeaders dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){return h("variableeditor.views.table.StructureTable",[r,u,x],{_ascending:!0,_clientSortHandler:null,_sortableColumnLabel:null,_fixedColumnWidths:!0,_lastSortTime:new Date,_contextMenu:null,cellColor:"rgb(166, 220, 255);",defaultProperties:{renderer:{type:"default"},rowHeight:22,dataModel:null,visibility:!0},rowHeight:22,initColumnWidthSet:!1,NAME_COLUMN:"Name",FIELD_COLUMN:"Field",PROPERTY_COLUMN:"Property",VALUE_COLUMN:"Value",SIZE_COLUMN:"Size",
CLASS_COLUMN:"Class",Width_Adjustment:20,constructor:function(a){this.inherited(arguments);this.defaultProperties.showCellBorders=!1;this._setDefaultLeadCellStyle();a.sortAscending&&a.sortAscending.hasOwnProperty("SortAscending")?this._ascending=a.sortAscending.SortAscending:this._ascending=!0;this._sortableColumnLabel=a.sortableColumn;this._clientSortHandler=a.clientSortHandler;this._fixedColumnWidths=void 0===a.fixedColumnWidths?!0:a.fixedColumnWidths;this.showSelectionBorder=this.sendSelectionRanges=
!1;this.rowHeight=22;this.selectedCellStyle="background-color: "+this.cellColor+"z-index:5;";this.debounceResize=t.createDebounceFn(this,[this._updateWidthOnResize],500)},postCreate:function(){this.blockSelection&&this.blockSelection.setIndexedRows(!0);this.inherited(arguments);this._updateTableHeaders();c.add(this.domNode,"StructureTable")},_updateHeaderStyle:function(){},_getLabelProperties:function(){var a={},b=this.getTableModelProperty("ColumnHeaderList"),c=this.getTableModelProperty("ColumnHeaderListPropertyName");
if(!b||!c||b.length!==c.length)return a;a.labels=[];for(var e=0;e<b.length;e++){var d=b[e],k=c[e],f,g;k===this.NAME_COLUMN||k===this.FIELD_COLUMN||k===this.PROPERTY_COLUMN?g=f=!0:(f=t.getLogicalValue(this.getTableModelProperty(c[e]),!0),g=!1);a.labels.push({label:d,checked:f,disabled:g,propertyName:k})}p.getInstance().setPropertyVal(q.HEADER_CONTEXTMENU_LABELS_SET,!0);return a},_attachListeners:function(a){a.addEventListener("headerSelectionChanged",d.hitch(this,"_headerMenuSelectionChanged"));a.addEventListener("headerMenuShown",
d.hitch(this,"_updateHeaderMenuState"))},_createContextMenu:function(a){var b="#"+this.domNode.getAttribute("id")+" .columnHeaderScrollerNode";a=new s({targetNodes:[b],labelProperties:a});a.domNode.setAttribute("data-tag",t.concatenateDataTagStrings("datatools","variableeditor","contextMenu"));return a},_setupColumnSelectionContextMenu:function(){var a=this._getLabelProperties();try{this.contextMenu=this._createContextMenu(a.labels),this.contextMenu.startup(),this._attachListeners(this.contextMenu),
p.getInstance().setPropertyVal(q.HEADER_CONTEXTMENU_INITIALIZED,!0)}catch(b){t.logDebug(b)}},_updateHeaderMenuState:function(a){var b=this._getLabelProperties(),b=b.labels;this.contextMenu.hasSubMenuItems()||this.contextMenu.createSubMenuItems(b);for(var c=0;c<b.length;c++){var e=b[c];a.target.setLabelState(e.label,e.checked)}},_headerMenuSelectionChanged:function(a){this._toggleHeaderColumn(a.data.text);var b=this.blockSelection;!b.isEmpty()&&(a.data.checked&&b.selectedColumns&&b.selectedColumns[0]&&
b.selectedColumns[0].end<=this.getColumnCount()-1)&&(b.selectedColumns[0].end+=1,this.blockSelection=b,this._renderSelection())},_getColumnHeaderPropertyName:function(a){for(var b=this._getLabelProperties(),c=0;c<b.labels.length;c++)if(b.labels[c].label===a)return b.labels[c].propertyName},_toggleHeaderColumn:function(a){a=this._getColumnHeaderPropertyName(a);"undefined"!=typeof a&&(t.getLogicalValue(this.getTableModelProperty(a),!0)?this.peerViewModel.setTableModelProperty(a,!1):this.peerViewModel.setTableModelProperty(a,
!0))},_onDataModelSet:function(){this.inherited(arguments);this.updateModelProperties(!0);this._addDataValueTags()},startup:function(){this.inherited(arguments);this._setupColumnSelectionContextMenu();this._attachDndListeners()},_attachDndListeners:function(){this.dragEnterListener=g(this.domNode,"dragenter",d.hitch(this,this._onDragEnter));this.dragOverListener=g(this.domNode,"dragover",d.hitch(this,this._onDragOver));this.dragLeaveListener=g(this.domNode,"dragleave",d.hitch(this,this._onDragLeave));
this.dropListener=g(this.domNode,"drop",d.hitch(this,this._onDrop))},_onDragEnter:function(a){return!1},_onDragOver:function(a){return!1},_onDragLeave:function(a){return!1},_onDrop:function(a){return!1},_onKeyDown:function(a){65===a.keyCode&&a.ctrlKey&&a.preventDefault()},_setInitialColumnSize:function(){var a=d.clone(this.columns),b=l("\x3ediv.cell:not(.spacer)",this.columnHeaderNode),c=k.position(this.container.domNode),e=c.w/a.length,c=c.w/this.Width_Adjustment,f;for(f=0;f<b.length;f+=1){var g=
k.position(b[f]);a[f].width=this._fixedColumnWidths?g.w:e;if(!this._fixedColumnWidths){if(0===f||1===f)a[f].width+=c;if(2===f||3===f)a[f].width-=c}this.setColumnModelProperty(f,"ColumnWidth",a[f].width);this._setColumnWidthOnTable(f,a[f].width);this.initColumnWidthSet=!0}},resize:function(){if(!this._noAutoSizing){var a=k.position(this.domNode);this.position={width:a.w,height:a.h};this.debounceResize()}this.inherited(arguments)},_updateWidthOnResize:function(){if(this._isColumnWidthInitial()){this.totalColumnWidth=
this.position.width;for(var a=this.totalColumnWidth/this.columns.length,b=this.totalColumnWidth/this.Width_Adjustment,c=a+b,a=a-b,b=0;b<this.columns.length;b++){if(0===b||1===b)this.columns[b].width=c,this._setColumnWidthOnTable(b,c);if(2===b||3===b)this.columns[b].width=a,this._setColumnWidthOnTable(b,a)}}},_onColumnsSet:function(){this._updateColumnHeaderNames();this.totalColumnWidth=0;var a,b=this.ColumnModelProperties.length;for(a=0;a<b;a+=1)if(this.columns[a]){var c=this._getColumnWidthOnTable?
this._getColumnWidthOnTable(a):null,c=c?c:this.getColumnModelProperty(a,"ColumnWidth"),e=parseInt(c,10);null!==c&&void 0!==c&&0<=e?(this.totalColumnWidth+=e,this.columns[a].width||(this.columns[a].width=e)):(this.totalColumnWidth+=this.defaultColumnWidth,this.columns[a].width=this.defaultColumnWidth)}this._renderViewData(!0)},_setColumnWidthOnTable:function(a,b){var c=this._getHeaderNameWithIndex(a);null!=c&&this.setTableModelProperty(c+"ColumnWidth",b)},_getColumnWidthOnTable:function(a){a=this._getHeaderNameWithIndex(a)+
"ColumnWidth";return this.getTableModelProperty(a)},getSelectedFields:function(){return this.getTableModelProperty("SelectedFields")},getDndItemSelector:function(){return".dataBody div.row:not(.spacer)"},getDndHandleSelector:function(){return[".structNameColumn",".structSizeColumn",".structClassColumn"]},_renderViewData:function(a){var b=this;this._throttledRender(a,function(){!b.initColumnWidthSet&&(b.container&&0<k.position(b.container.domNode).w)&&(b._setInitialColumnSize(),p.getInstance().setPropertyVal(q.STRUCT_RENDERED,
!0));b._attachDndHandles();b._addDataValueTags()})},_getStructNameColumnWidget:function(a){return e.getEnclosingWidget(a)},_addDataValueTags:function(){if(this.domNode){var a=this.domNode.querySelectorAll('[class\x3d"row"]'),b=this.getDndHandleSelector();if((b=this.domNode.querySelectorAll(b[0]))&&a)for(var c=0;c<b.length;c+=1){var e=this._getStructNameColumnWidget(b[c]);if(e&&e.getValue&&(e=e.getValue())&&a[c])a[c].dataset.structVarName=e}}},_getColumnTag:function(a){switch(a){case w.structNameColumn:a=
"Name";break;case w.structFieldColumn:a="Field";break;case w.structValueColumn:a="Value";break;case w.structSizeColumn:a="Size";break;case w.structClassColumn:a="Class"}return a},_getColumnDataTag:function(a){a=a.label;return a=this._getColumnTag(a)},_renderSelection:function(){var a=this.blockSelection.selectedRows,b="",c=this.getDndHandleSelector()[0];if(!this.blockSelection.isEmpty()&&null!==this.dataModel){for(var d=0;d<a.length;d+=1){Math.max(1,a[d].start+this.tableRowOffset-this.rowView.start);
Math.max(1,a[d].end+this.tableRowOffset-this.rowView.start);this.getDndHandleSelector();for(var k=a[d].start;k<=a[d].end;k++){var f=this.domNode.getElementsByClassName(c.substring(1,c.length)+" row_"+k);f&&f[0]&&(f=e.getEnclosingWidget(f[0]))&&(b=b+f._value+",")}}b=b.slice(0,-1);b.split(",").length===this.blockSelection.getRowCount()&&this.setTableModelProperty("SelectedFields",b);this._setDefaultLeadCellStyle();a=this.blockSelection.getFirstCellFromLastRow();this._setLeadCellPosition(a[0],a[1])}this.inherited(arguments)},
_flipSelection:function(a){"dataModel"===a.data.key?(this.peerNode.removeEventListener("propertySet",this._flipSelection,this),this.blockSelection.flipRowCount(this.getRowCount()),this._renderSelection()):"Selection"===a.data.key&&this.peerNode.removeEventListener("propertySet",this._flipSelection,this)},_sort:function(a,b){this._ascending!==b&&(this._swapSortIcon(a,b),2<=this.getRowCount()&&this.peerNode.addEventListener("propertySet",this._flipSelection,this),this._clientSortHandler(this._ascending))},
_updateSortIcon:function(a){this._ascending?(c.remove(a,"sortDown"),c.add(a,"sortUp")):(c.remove(a,"sortUp"),c.add(a,"sortDown"))},_swapSortIcon:function(a,b){this._ascending!==b&&(this._ascending=b,a||(a=this._getSortIconNode()),c.contains(a,"sortableColumn")&&(a=a.getElementsByClassName("sortIcon")[0]),this._updateSortIcon(a))},_getSortIconNode:function(){return this._getSortColumnTextDOMNode(this.domNode)},_toggleSort:function(a){1===a.data.which&&(a.target&&a.target.domNode)&&(a=a.target.domNode,
this._isDragNode(a)||this._sort(a,!this._ascending))},_isDragNode:function(a){return c.contains(a,"drag")||c.contains(a,"firstHalfOfDrag")||c.contains(a,"dragBorder")||c.contains(a,"secondHalfOfDrag")},_updateSortableNode:function(a){a=e.getEnclosingWidget(a);c.add(this.columnHeaderScrollerNode,"contextMenuContainer");if(a._inputBoxLabel._value===this.sortableColumn){a=a._getAttachNode(a.HEADER_LABEL_ATTACH_POINT).querySelectorAll(".NonEditableHeader")[0];var k=a.getElementsByClassName("sortIcon"),
f=this.getEnclosingHeaderWidget(a);if(0<k.length)k=k[0];else{var k=b.create("div",null,a,"last"),g=f._inputBox.value.toUpperCase(),g=t.getComputedColumnHeaderWidth(g,"9px Helvetica, Helvetica, sans-serif")+8+"px";c.add(a,"sortableColumn");c.add(k,"sortable");c.add(k,"sortIcon");c.add(k,"sortUp");f.domNode.setAttribute("data-tag",t.createDataTag("sortableColumn"));m.set(f._inputBox.domNode,"max-width",g)}!this.hasOwnProperty("sortListener")&&!f._listeners.mousedown&&f.addEventListener("mousedown",
d.hitch(this,"_toggleSort"));this._updateSortIcon(k)}},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateSortableNode(b);return b},_updateColumnNode:function(a,b){this.inherited(arguments);this._updateSortableNode(a)},_getSortColumnTextDOMNode:function(a){a=e.getEnclosingWidget(a);a=a._getAttachNode(a.HEADER_LABEL_ATTACH_POINT).querySelectorAll(".sortable.sortIcon");var b;for(b=0;b<a.length;b+=1){var c=e.getEnclosingWidget(a[b]);if(this._sortableColumnLabel===c._value)return a[b]}},
onEditingStarted:function(){this.leadCellStyle="background-color: rgb(255, 255, 255);opacity: 1.0;";this._updateSelectionAndSelectionBorderStyle();this._updateLeadCellStyle()},onEditingStopped:function(){this.showSelectionBorder=!1;this._setDefaultLeadCellStyle();this._updateLeadCellStyle();this._updateSelectionAndSelectionBorderStyle()},_updateBlockSelection:function(a,b,c,e){return c=this._updateRowSelection(a,c,e)},onMouseEnter:function(a){},_onColumnMouseDown:function(a){a.preventDefault()},selectColumn:function(){},
deselectColumn:function(){},_onHeaderColumnMouseDown:function(a){a.preventDefault()},_onMouseMove:function(){this.focused||this.domNode.focus();this.cellsDragged=!0},handlePropertySet:function(a){this.inherited(arguments);"dataModel"===a.data.key&&(this.leadCellStyle={},this._updateLeadCellStyle())},_setDefaultLeadCellStyle:function(){this.leadCellStyle="background-color: "+this.cellColor+"opacity: 1.0;"},_updateDataStyles:function(){this._fixedColumnWidths?this.inherited(arguments):this.dataModel&&
(this.rowHeight&&this.position)&&(this._updateScrollerStyles(),this.styleManager.updateStyleRules("spacerLeft",{".row .spacer.leftSpacer":"width: "+this.leftSpaceWidth+"px;"}),this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: 100%;"}),this._updateColumnStyles())},_updateColumnStyles:function(){if(this._fixedColumnWidths)this.inherited(arguments);else{this.styleManager.updateStyleRules("spacerTop",{".body .spacer.topSpacer":"height: "+this.rowView.start*this.rowHeight+"px;"});
this.styleManager.updateStyleRules("dataHeight",{".spacer.dataHeight":"height: "+this.dataModel.getRowCount()*this.rowHeight+"px;",".row":"height: "+this.rowHeight+"px;"});var a=this.totalColumnWidth;this.container&&(this.container.containerNode&&this.container.containerNode.getBoundingClientRect())&&(a=this.container.containerNode.getBoundingClientRect().width);var b=this.columns.slice(this.colView.start,this.colView.end),c=this._isColumnWidthInitial(),e,d={},k,f=a;for(e=0;e<b.length;e+=1){k=this._getCellType(b[e]);
k=this._getColumnStyles(k);if(b[e]&&b[e].width&&!c)e<b.length-1?(k+="width: "+b[e].width+"px;",f-=b[e].width):k+="width: "+f+"px;";else{if(0===e||1===e)k+="width: "+Math.floor(100/b.length+100/this.Width_Adjustment)+"%;";if(2===e||3===e)k+="width: "+Math.floor(100/b.length-100/this.Width_Adjustment)+"%;"}d[".dataColumn .cell:nth-child("+(e+2)+")"]=k}c||this.styleManager.updateStyleRules("dataWidth",{".spacer.dataWidth":"width: "+a+"px;"});this.styleManager.updateStyleRules("columns",d)}},_isColumnWidthInitial:function(){var a=
!0;if(this._fixedColumnWidths)a=!1;else for(var b=0;b<this.columns.length;b+=1)if(this.getColumnModelProperty(b,"ColumnResized")){a=!1;break}return a},_createCustomColumnHeader:function(a,b,e){node=this.inherited(arguments);columnModelProperties=this.ColumnModelProperties;for(var d=0;d<columnModelProperties.length;d++)columnModelProperties[d].HeaderName&&columnModelProperties[d].classList&&e==columnModelProperties[d].HeaderName&&c.add(node,columnModelProperties[d].classList);return node},_getHeaderNameWithIndex:function(a){return 0===
a?this.NAME_COLUMN:a===this._getValueColumnIndex()?this.VALUE_COLUMN:a===this._getSizeColumnIndex()?this.SIZE_COLUMN:a===this._getClassColumnIndex()?this.CLASS_COLUMN:null},_getValueColumnIndex:function(){return!this.getTableModelProperty("ShowValueColumn")?-1:1},_getSizeColumnIndex:function(){return!this.getTableModelProperty("ShowSizeColumn")?-1:this.getTableModelProperty("ShowValueColumn")?2:1},_getClassColumnIndex:function(){if(!this.getTableModelProperty("ShowClassColumn"))return-1;var a=this.getTableModelProperty("ShowValueColumn"),
b=this.getTableModelProperty("ShowSizeColumn");return a&&b?3:a||b?2:1}})})},"datatoolsservices/TestingHooksUtils":function(){define("datatoolsservices/TestingHooksUtils",["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","datatoolsservices/TestingPropConstants"],function(h,d,g,c){var f=[],b=h("datatoolsservices.TestingHooksUtils",[g],{constructor:function(b){this.namespace=b&&b.namespace?b.namespace:"/TestingHooks";this.manager=null;this.manager=d.getClientInstance(this.namespace);
this.addManagerListeners(this.manager);this._initTestingHooks=!1;this.start(this._peerModelManager);this._propRequests=[];this._init()},_init:function(){var b=this;this.manager.addEventListener("rootSet",function(d){if((d=d.target)&&d.hasProperty(c.TESTING_INITIALIZED))b._initTestingHooks=d.getProperty(c.TESTING_INITIALIZED),0<b._propRequests.length&&b._dequeuePropSetRequests()})},createRoot:function(b,c){this.hasRoot()||this.manager.setRoot(b,c)},getRoot:function(){return this.manager.getRoot()},
hasRoot:function(){return this.manager.hasRoot()},setPropertyVal:function(b,c){this.manager&&this.hasRoot()&&this._initTestingHooks&&c?this.getRoot().setProperty(b,c):this._queuePropSetRequests({prop:b,val:c})},_queuePropSetRequests:function(b){this._propRequests&&this._propRequests.push(b)},_dequeuePropSetRequests:function(){this._propRequests.forEach(function(b){this.setPropertyVal(b.prop,b.val)},this);this._propRequests=[]},getPropertyVal:function(b){if(this.manager.hasRoot()){var c=this.getRoot();
if(c.hasProperty(b))return c.getProperty(b)}return null},resetProperties:function(){if(this.hasRoot()){var b=this.getRoot(),c=b.getProperties(),a;for(a in c)b.unsetProperty(a)}},cleanup:function(){d.cleanup(this.namespace)}});b.getInstance=function(c){var d=c&&c.namespace?c.namespace:"/TestingHooks";f[d]||(f[d]=new b(c));return f[d]};return{getInstance:b.getInstance}})},"mw-peermodel/PeerModelManager":function(){define(["dojo/_base/declare","./PropSetPeerSynchronizer","./PeerNode","./PeerSynchronizer",
"./Observable"],function(h,d,g,c,f){var b=h([f],{getNamespace:function(){},move:function(a,b,c,d){},setRoot:function(a,b,c){},getRoot:function(){},hasRoot:function(){},hasById:function(a){},getById:function(a){},setSyncEnabled:function(a,b){},isSyncEnabled:function(){},getByType:function(a,b){},getByProperty:function(a,b,c){}}),l=h([b,f.Syncable],{setRootWithId:function(a,b,c,d){}}),m=h([l,f.Impl],{constructor:function(){this._root=null;this._sync=!1;this._idCache={}},setRootWithId:function(a,b,c,
d){if(this.hasRoot())throw Error("Root node already exists.");a=new g.Impl(a,b,c,this._idCache);this._setRoot(a,d);return a},setRoot:function(a,b,c){if(this.hasRoot())throw Error("Root node already exists.");a=g.Impl.createNode(a,b,this._idCache);this._setRoot(a,c);return a},_setRoot:function(a,b){this._root=a;var c=this;this._root.destroy=function(a){c.dispatchEvent("rootDestroyed",this,void 0,a);g.Impl.prototype.destroy.call(this,a);c._root=null;c.dispatchEvent("rootUnset",this,void 0,a)};this.dispatchEvent("rootSet",
this._root,void 0,b);return this._root},getRoot:function(){return this._root},hasRoot:function(){return!!this._root},hasById:function(a){return this._idCache.hasOwnProperty(a)},getById:function(a){if(this._idCache.hasOwnProperty(a))return this._idCache[a];throw Error("No root node exists");},move:function(a,b,c,d){if(a.getRoot()!==b.getRoot())throw Error("Can not move a node to a different peer model");if(a===b||a.hasDescendant(a.getId()))throw Error("Can not move a node to be a child or descendant of itself");
var f,g;if(a.hasParent())f=a.getParent(),g=f.getChildIndex(a);else throw Error("Only un-orphaned nodes can be moved.");if(g!==c||f!==b)f._removeChild(a),c=b._addChild(a,c),this.dispatchEvent("childMoved",a,{oldParent:f,oldIndex:g,newParent:b,newIndex:c},d)},setSyncEnabled:function(a,b){this._sync!==a&&(this._sync=a,this.dispatchEvent("syncChanged",this,{syncEnabled:this._sync},b))},isSyncEnabled:function(){return this._sync},getByType:function(a,b){var c=[];b||(b=this.getRoot());b&&b.accept(function(b){b.getType()===
a&&c.push(b)});return c},getByProperty:function(a,b,c){var d=[];c||(c=this.getRoot());c&&c.accept(function(c){c.hasProperty(a)&&c.getProperty(a)===b&&d.push(c)});return d}});b._clientPropSet=!0;b.setClientPropSetEnabled=function(a){b._clientPropSet=a};b.clearInstances=function(){b._instances={};b._serverInstances={}};b.clearInstances();b.getInstance=b.getClientInstance=function(a,k){if(!this._instances[a]){var e=new m,f;f=b._clientPropSet?new d(a,e,k):new c(a,e,k);this._instances[a]={manager:e,synchronizer:f}}return this._instances[a].manager};
b.getServerInstance=function(a,k){if(!this._serverInstances[a]){var e=new m,f;f=b._clientPropSet?new d(a,e,k,!1):new c(a,e,k,!1);this._serverInstances[a]={manager:e,synchronizer:f}}return this._serverInstances[a].manager};b.cleanup=function(a){b._instances[a]&&(b._instances[a].manager.setSyncEnabled(!1),b._instances[a].manager.hasRoot()&&b._instances[a].manager.getRoot().destroy(),delete b._instances[a])};b.Impl=m;return b})},"mw-peermodel/PropSetPeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./PeerSynchronizer".split(" "),
function(h,d,g,c,f,b){return h([b],{propertiesSetObserver:function(b){if(b.originator!==this._originator&&(Object.keys(b.data.newValues).forEach(function(a){this.updateVersionVector(a,b.target)},this),this.shouldSync()&&this.isReady())){var f=this.createNewMessage();f.targetId=b.target.getId();var a=b.data.newValues,k=b.data.oldValues;Object.keys(a).forEach(function(e){if(c.isImageData(a[e])){var d=k[e];delete b.data.newValues[e];if(!this.isClient&&c.isImageData(d)){var g=this.createNewMessage();
g.targetId=b.target.getId();g.key=e;g.newValue=this.imageDifferencer.computeImageDataDifferences(d,a[e]);this.publish(this.getChannel("imageUpdate"),f)}}else(null===a[e]||void 0===a[e])&&delete b.data.newValues[e]},this);0<Object.keys(a).length&&(f.properties=b.data.newValues,f.versionVector=d.clone(b.target._versionVector),this.publish(this.getChannel(b.type),f))}},propertiesSetSubscriber:function(b){this.log("propertiesSetSubscriber",b);var c=b.data,a=c.targetId;if(this.manager.hasById(a))try{var d=
this.manager.getById(a),e;for(e in c.properties)c.properties.hasOwnProperty(e)&&(c.properties[e]instanceof Image?(this.imageDifferencer.updatePropertyWithImage(d,e,c.properties[e]),delete c.properties[e]):this.shouldUpdateProperties(e,d,b.data.versionVector)||delete c.properties[e],b.data.versionVector&&this.mergeVersionVectors(e,d,b.data.versionVector));d.setProperties(c.properties,this._originator);this._updateNodePagedData(d)}catch(f){this._error("Error while trying set properties.",b,f)}},shouldUpdateProperties:function(b,
c,a){return this.isClient?!(c._versionVector&&c._versionVector[b]&&(!a||!a[b])):!a||!a[b]||!c._versionVector||!c._versionVector[b]||c._versionVector[b][this.clientId]<=a[b][this.clientId]},updateVersionVector:function(b,c){this.isClient&&(!c._versionVector||!c._versionVector[b])?(c._versionVector=c._versionVector||{},c._versionVector[b]={},Object.keys(this.syncEnabled).forEach(function(a){c._versionVector[b][a]=1})):c._versionVector&&c._versionVector[b]&&(c._versionVector[b][this.clientId]+=1)},mergeVersionVectors:function(b,
c,a){if(a&&a[b]){if(!c._versionVector||!c._versionVector[b])c._versionVector=c._versionVector||{},c._versionVector[b]={};Object.keys(a[b]).forEach(function(d){c._versionVector[b][d]=Math.max(a[b][d],c._versionVector[b][d]||1)})}},convertNode:function(b){var c=this.inherited(arguments);c.versionVectors=b._versionVector;return c},updateNodeRecursive:function(b,c){c.versionVectors&&Object.keys(c.versionVectors).forEach(function(a){this.mergeVersionVectors(a,b,c.versionVectors)},this);this.inherited(arguments)}})})},
"mw-peermodel/PeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./ImageDifferencer ./PagedData ./Serializers".split(" "),function(h,d,g,c,f,b,l,m,a){var k;k=h(null,{_MAX_RETRIES:3,constructor:function(e,k,m,h,r){this.namespace=e;this.manager=k;this.messageService=m||b.messageService;a.setupSerializers(this.messageService);this._originator={};this.messageCount=0;this.syncEnabled={};this.isClient=void 0===h?
!0:!!h;this.clientId="string"===typeof r?r:f.generateUuid();this.imageDifferencer=new l(this._originator);this._queue=[];g.after(this.messageService,"onConnected",d.hitch(this,this._handleConnected));g.after(this.messageService,"onNotConnected",d.hitch(this,this._handleNotConnected));this.messageService.isConnected()?this._handleConnected():this._handleNotConnected();try{this.addManagerListeners(),this.addMessageSubscriptions()}catch(s){c.error("Not able to create peer synchronizer: "+s)}},remove:function(){this._handleNotConnected();
this.removeMessageSubscriptions();this.removeManagerListeners()},_handleNotConnected:function(){this.log("Not connected");this._handshook=this._connected=!1},_handleConnected:function(){this.log("Connected");this._connected=!0;this._startHandshake()},_startHandshake:function(){this.log("Starting handshake");var a=this.createNewMessage();a.clientId=this.clientId;a.syncEnabled=this.manager.isSyncEnabled();this.publish(this.getChannel("getStatus"),a)},_handshakeComplete:function(){this.log("Handshake complete");
this._handshook=!0;this._processQueue()},_processQueue:function(){var a=this._queue;this._queue=[];this.log("Processing queue",a);a.forEach(function(a){this.publish(a.channel,a.message)},this)},shouldSync:function(a){return this.manager.isSyncEnabled()&&(!a||a.originator!==this._originator)},isReady:function(){return this._connected&&this._handshook},syncChangedObserver:function(){this.syncEnabled[this.clientId]=this.manager.isSyncEnabled();this.manager.isSyncEnabled()?(this.addSyncMessageSubscriptions(),
this.addSyncManagerListeners(),this._connected&&this._startHandshake()):(this.removeSyncMessageSubscriptions(),this.removeSyncManagerListeners(),this._handshook=!1)},getStatusSubscriber:function(a){this.log("getStatusSubscriber",a);var b=this.createNewMessage();b.syncEnabled=this.manager.isSyncEnabled();b.clientId=this.clientId;this.publish(this.getChannel("status"),b);this.statusSubscriber(a)},statusSubscriber:function(a){this.log("Status received",a);this.syncEnabled[a.data.clientId]=a.data.syncEnabled;
this.isClient&&this.manager.isSyncEnabled()&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},getFullUpdateSubscriber:function(){this.log("getFullUpdate requested");if(this.manager.isSyncEnabled()){var a=this.createNewMessage();this.manager.hasRoot()&&(a.root=this.convertNodesRecursive(this.manager.getRoot(),0));this.publish(this.getChannel("fullUpdate"),a);this._handshakeComplete()}},fullUpdateSubscriber:function(a){this.log("fullUpdate received",a);if(this.shouldSync())try{var b=
a.data.root;b?(this.manager.hasRoot()&&(b.id!==this.manager.getRoot().getId()||b.type!==this.manager.getRoot().getType())&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete(),this.manager.hasRoot()||this.manager.setRootWithId(b.id,b.type,b.properties,this._originator),this.updateNodeRecursive(this.manager.getRoot(),b)):(this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete())}catch(c){this._error("Error while trying to do a full update.",
a,c)}},rootSetObserver:function(a){this.addNodeListeners(a.target);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.target=this.convertNode(a.target);this.publish(this.getChannel(a.type),b)}},rootSetSubscriber:function(a){this.log("rootSetSubscriber",a);if(this.shouldSync())try{var b=a.data.target;this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator);var c=this.manager.setRootWithId(b.id,b.type,b.properties,this._originator);this.updateNodeRecursive(c,b)}catch(d){this._error("Error setting new root.",
a,d)}},rootDestroyedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.targetId=a.target.getId();this.publish(this.getChannel(a.type),b)}},rootDestroyedSubscriber:function(a){this.log("rootDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.hasRoot()&&this.manager.getRoot().getId()===a.data.targetId?this.manager.getRoot().destroy(this._originator):this._error("Tried to unset the wrong root.",a)}catch(b){this._error("Error destroying root.",a,b)}},
childMovedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.targetId=a.target.getId();b.oldParentId=a.data.oldParent.getId();b.oldIndex=a.data.oldIndex;b.newParentId=a.data.newParent.getId();b.newIndex=a.data.newIndex;this.publish(this.getChannel(a.type),b)}},childMovedSubscriber:function(a){this.log("childMovedSubscriber",a);if(this.shouldSync())try{var b=a.data,c=this.manager.getById(b.targetId),d=this.manager.getById(b.newParentId);this.manager.move(c,
d,b.newIndex,this._originator)}catch(k){this._error("Error while trying to move.",a,k)}},childAddedObserver:function(a){var b=a.data.child;this.addNodeListeners(b);if(this.shouldSync(a)&&this.isReady()){var c=this.createNewMessage();c.parentId=a.target.getId();c.child=this.convertNode(b);c.index=a.data.index;this.publish(this.getChannel("subTreeAdded"),c)}},subTreeAddedSubscriber:function(a){this.log("subTreeAddedSubscriber",a);if(this.shouldSync())try{var b=a.data.child,c=this.manager.getById(a.data.parentId).addChildWithId(b.id,
b.type,b.properties,a.data.index,this._originator);this.updateNodeRecursive(c,b)}catch(d){this._error("Error while trying to add a subtree of nodes.",a,d)}},childDetachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=a.data.child.getId();this.publish(this.getChannel(a.type),b)}},childDetachedSubscriber:function(a){this.log("childDetachedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).detach(this._originator)}catch(b){this._error("Error while trying to detach.",
a,b)}},childReattachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=a.data.child.getId();b.index=a.data.index;this.publish(this.getChannel(a.type),b)}},childReattachedSubscriber:function(a){this.log("childReattachedSubscriber",a);if(this.shouldSync())try{var b=a.data;this.manager.getById(b.childId).reattach(b.index,this._originator)}catch(c){this._error("Error while trying to reattach.",a,c)}},subTreeDestroyedObserver:function(a){var b=a.data.child;
this.removeNodeListenersRecursive(b);if(this.shouldSync(a)&&this.isReady()){var c=this.createNewMessage();c.childId=b.getId();this.publish(this.getChannel(a.type),c)}},subTreeDestroyedSubscriber:function(a){this.log("subTreeDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).destroy(this._originator)}catch(b){this._error("Error while trying to destroy subtree.",a,b)}},propertiesSetObserver:function(a){if(this.shouldSync(a)&&this.isReady()&&!this.isClient){var b=[],
c=this.createNewMessage(),d;c.targetId=a.target.getId();var k=a.data.newValues,g=a.data.oldValues;for(d in k)if(k.hasOwnProperty(d)&&f.isImageData(k[d])){var m=g[d];if(m&&f.isImageData(m)){b.push(d);var l=this.createNewMessage();l.targetId=a.target.getId();l.key=d;l.newValue=this.imageDifferencer.computeImageDataDifferences(m,k[d]);this.publish(this.getChannel("imageUpdate"),c)}}b.forEach(function(b){delete a.data.newValues[b]});c.properties=a.data.newValues;this.publish(this.getChannel(a.type),c)}},
propertiesSetSubscriber:function(a){this.log("propertiesSetSubscriber",a);if(this.shouldSync()||this.isClient)try{var b=a.data,c=this.manager.getById(b.targetId),d;for(d in b.properties)b.properties.hasOwnProperty(d)&&(b.properties[d]instanceof Image?this.imageDifferencer.updatePropertyWithImage(c,d,b.properties[d]):(c.setProperty(d,b.properties[d],this._originator),this._updateNodePagedData(c)))}catch(k){this._error("Error while trying to update properties.",a,k)}},imageUpdateSubscriber:function(a){this.log("imageUpdateSubscriber",
a);if(this.shouldSync())try{var b=a.data,c=this.manager.getById(b.targetId);this.imageDifferencer.applyImageDifferences(c,b.key,b.newValue)}catch(d){this._error("Error while trying to update images.",a,d)}},propertiesUnsetObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b,c=this.createNewMessage();c.targetId=a.target.getId();c.keys=[];for(b in a.data.oldValues)a.data.oldValues.hasOwnProperty(b)&&c.keys.push(b);this.publish(this.getChannel(a.type),c)}},propertiesUnsetSubscriber:function(a){this.log("propertiesUnsetSubscriber",
a);if(this.shouldSync())try{var b=a.data;this.manager.getById(b.targetId).unsetProperties(b.keys,this._originator)}catch(c){this._error("Error while trying to unset properties.",a,c)}},peerEventObserver:function(a){var b=this.createNewMessage();b.targetId=a.target.getId();b.data=a.data;var c=this.getChannel(a.type);this.shouldSync(a)&&(this.isReady()?this.publish(c,b):this._queue.push({channel:c,message:b}))},peerEventSubscriber:function(a){this.log("peerEventSubscriber",a);if(this.shouldSync())try{var b=
a.data,c=this.manager.getById(b.targetId);c.dispatchEvent("peerEvent",c,b.data,this._originator)}catch(d){this._error("Error while trying dispatch a peer event.",a,d)}},publish:function(a,b,d){this.log("Publishing message",a,b);var k=this.messageService.publish(a,b),f=this;d=void 0===d?this._MAX_RETRIES:d;k.then(void 0,function(){0<d?(c.warn("Error sending message (will retry "+d+"): ",a,b),f.publish(a,b,d-1)):f._error("Error sending message, retry didn't work.",a,b)})},getChannel:function(a){return"/peermodel"+
this.namespace+"/"+a},createNewMessage:function(){this.messageCount+=1;return{message:this.messageCount}},log:function(){if(this.namespace===k.debugNamespace){var a=Array.prototype.slice.call(arguments),a=["PeerSynchronizer ("+this.namespace+")"].concat(a);c.info.apply(c,a)}},convertNodesRecursive:function(a,b){var c=this.convertNode(a,b),d=[],k=a.getChildren(),f;for(f=0;f<k.length;f+=1)d.push(this.convertNodesRecursive(k[f],f));c.children=d;return c},convertNode:function(a,b){b=b||0;return{id:a.getId(),
type:a.getType(),index:b,properties:a.getProperties()}},updateNodeRecursive:function(a,b){for(var c,d,k,f,g,m=a?[a]:[],l=b?[b]:[];0<l.length;){a=m.pop();b=l.pop();c=this._getFilteredPropertyKeys(b.properties);if(!a._handled){a._handled=!0;d=a.getProperties();k=Object.keys(d);g=k.length;for(f=0;f<g;f+=1)c.filtered[k[f]]=d[k[f]]}a.replaceProperties(c.filtered,this._originator);this._updateNodePagedData(a,d);this._updateNodeImageProperties(a,b.properties,c.images);this._destroyOldChildren(a,b);this._addNewChildren(a,
b);this._updateChildIndices(a,b);m=m.concat(a.getChildren());b.children&&(l=l.concat(b.children))}},_destroyOldChildren:function(a,b){var c,d=a.getChildren();for(c=0;c<d.length;c+=1)this._dataHasChild(b,d[c])||d[c].destroy(this._originator)},_addNewChildren:function(a,b){var c,d,k;if(b.children)for(c=0;c<b.children.length;c+=1)d=b.children[c],a.hasChild(d.id)||(k=this._getFilteredPropertyKeys(d.properties),a.addChildWithId(d.id,d.type,k.filtered,c,this._originator))},_updateChildIndices:function(a,
b){var c,d;if(b.children)for(c=0;c<b.children.length;c+=1)d=b.children[c],d=a.getChild(d.id),a.getChildIndex(d)!==c&&this.manager.move(d,a,c,this._originator)},_dataHasChild:function(a,b){var c;if(a.children)for(c=0;c<a.children.length;c+=1)if(a.children[c].id===b.getId()&&a.children[c].type===b.getType())return!0;return!1},_error:function(a,b,d){c.error(a,b,d);this.manager.isSyncEnabled()&&this.isClient&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},_getFilteredPropertyKeys:function(a){var b=
{},c=[],d;for(d in a)a.hasOwnProperty(d)&&(null!==a[d]&&void 0!==a[d])&&(a[d]instanceof Image?c.push(d):b[d]=a[d]);return{filtered:b,images:c}},_updateNodePagedData:function(a,b){var c;b||(b=a.getProperties());for(c in b)b.hasOwnProperty(c)&&b[c]instanceof m&&b[c].setPeerNode(a,c)},_updateNodeImageProperties:function(a,b,c){var d;for(d=0;d<c.length;d+=1)this.imageDifferencer.updatePropertyWithImage(a,c[d],b[c[d]])},addMessageSubscriptions:function(){this._messageSubscribed||(this._onConnectedSub=
g.after(this.messageService,"onReconnected",d.hitch(this,"syncChangedObserver")),this.messageService.subscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!0);this.manager.isSyncEnabled()&&this.addSyncMessageSubscriptions()},removeMessageSubscriptions:function(){this._messageSubscribed&&(this._onConnectedSub.remove(),this.messageService.unsubscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!1);this.removeSyncMessageSubscriptions()},
syncMessageChannels:"status getFullUpdate fullUpdate rootSet rootDestroyed childMoved childDetached childReattached subTreeAdded subTreeDestroyed propertiesSet propertiesUnset imageUpdate peerEvent".split(" "),addSyncMessageSubscriptions:function(){this._syncMessageSubscribed||(this.log("addSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.subscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!0)},removeSyncMessageSubscriptions:function(){this._syncMessageSubscribed&&
(this.log("removeSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.unsubscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!1)},addManagerListeners:function(){this._managerListeners||(this.manager.addSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!0);this.manager.isSyncEnabled()&&this.addSyncManagerListeners()},removeManagerListeners:function(){this._managerListeners&&(this.manager.removeSyncEventListener("syncChanged",
"syncChangedObserver",this),this._managerListeners=!1);this.removeSyncManagerListeners()},addSyncManagerListeners:function(){this._syncManagerListeners||(this.manager.addSyncEventListener("rootSet","rootSetObserver",this),this.manager.addSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.addSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.addNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!0)},removeSyncManagerListeners:function(){this._syncManagerListeners&&
(this.manager.removeSyncEventListener("rootSet","rootSetObserver",this),this.manager.removeSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.removeSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.removeNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!1)},nodeEvents:"childAdded subTreeDestroyed childDetached childReattached propertiesSet propertiesUnset peerEvent partialUpdate".split(" "),addNodeListeners:function(a){this.nodeEvents.forEach(function(b){a.addSyncEventListener(b,
b+"Observer",this)},this)},removeNodeListeners:function(a){this.nodeEvents.forEach(function(b){a.removeSyncEventListener(b,b+"Observer",this)},this)},addNodeListenersRecursive:function(a){this.addNodeListeners(a);var b=a.getChildren();for(a=0;a<b.length;a+=1)this.addNodeListenersRecursive(b[a])},removeNodeListenersRecursive:function(a){this.removeNodeListeners(a);var b=a.getChildren();for(a=0;a<b.length;a+=1)this.removeNodeListenersRecursive(b[a])}});k.debugNamespace="/change this to debug something";
return k})},"mw-peermodel/ImageDifferencer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mw-utils/Deferred mw-utils/DeferredList mw-log/Log".split(" "),function(h,d,g,c,f,b){return h([],{_updateQueue:{},constructor:function(b){this._canvas=g.create("canvas");this._context=this._canvas.getContext("2d");this._originator=b},computeImageDataDifferences:function(b,c){return[{x:0,y:0,image:c}]},applyImageDifferences:function(c,d,a){var k,e=a.length,g=this;if(0!==e){var h=this._createQueuedDeferred(c,
d);h.name="applyImageDifferences deferred";var q=[];for(k=0;k<e;k+=1)q.push(this._wrapImageInDeferred(a[k].image));k=new f(q,!1,!0,!1);var r=g._updateQueue[c.getId()+d][g._updateQueue[c.getId()+d].length-2];k.then(function(){r?r.then(function(){g._applyLoadedImageDifferences(c,d,a,h)}):g._applyLoadedImageDifferences(c,d,a,h)},function(){b.log("rejecting deferred applyImageDifferences");h.reject();g._cancelQueuedDeferreds(c,d)});return h}},updatePropertyWithImage:function(b,c,a){var d=this._wrapImageInDeferred(a),
e=this._createQueuedDeferred(b,c);e.name="updateImage deferred";var f=this;d.then(function(){f._canvas.width=a.width;f._canvas.height=a.height;f._context.drawImage(a,0,0,a.width,a.height);var d=f._context.getImageData(0,0,f._canvas.width,f._canvas.height);b.setProperty(c,d,f._originator);f._cancelQueuedDeferreds(b,c,e);e.isCanceled()||e.resolve()},function(){e.isCanceled()||e.reject()});return e},_applyLoadedImageDifferences:function(b,c,a,d){var e=b.getProperty(c);this._canvas.width=e.width;this._canvas.height=
e.height;this._context.putImageData(e,0,0);for(e=0;e<a.length;e+=1)this._context.beginPath(),this._context.clearRect(a[e].x,a[e].y,a[e].image.width,a[e].image.height),this._context.closePath(),this._context.drawImage(a[e].image,a[e].x,a[e].y);a=this._context.getImageData(0,0,this._canvas.width,this._canvas.height);b.setProperty(c,a,this._originator);d.resolve()},_wrapImageInDeferred:function(d){var f=new c;f.name="wrapImage deferred";var a=function(){setTimeout(function(){d.onload&&(f.resolve(),d.onload=
null,d.onerror=null)},0)};d.onload=a;d.onerror=function(){b.log("Error loading image");f.reject();d.onload=null;d.onerror=null};d.complete&&0<d.src.length&&a();return f},_createQueuedDeferred:function(b,f){var a;a=new c;var k=d.hitch(this,this._removeDeferredFromQueue,b,f,a);a.then(k,k);this._updateQueue[b.getId()+f]=this._updateQueue[b.getId()+f]||[];this._updateQueue[b.getId()+f].push(a);return a},_removeDeferredFromQueue:function(b,c,a){void 0===this._updateQueue[b.getId()+c]?delete this._updateQueue[b.getId()+
c]:(a=this._updateQueue[b.getId()+c].indexOf(a),0<=a&&this._updateQueue[b.getId()+c].splice(a,1),0===this._updateQueue[b.getId()+c].length&&(this._updateQueue[b.getId()+c]=void 0,delete this._updateQueue[b.getId()+c]))},_cancelQueuedDeferreds:function(b,c,a){for(var d=this._updateQueue[b.getId()+c];d&&0<d.length;){var e=d.shift();if(a&&e===a)return;e.cancel("Queued deferreds cancelled")}this._updateQueue[b.getId()+c]=void 0;delete this._updateQueue[b.getId()+c]}})})},"mw-utils/Deferred":function(){define([],
function(){var h=function(){this._state=0;this._callbacks=[];this._errbacks=[]};h.prototype.then=function(d,g){1===this._state&&d?d():2===this._state&&g?g():(d&&this._callbacks.push(d),g&&this._errbacks.push(g));return this};h.prototype.resolve=function(){if(0===this._state){for(this._state=1;this._callbacks.length;)this._callbacks.pop()();this._callbacks=[];this._errbacks=[]}};h.prototype.reject=function(){if(0===this._state){for(this._state=2;this._errbacks.length;)this._errbacks.pop()();this._callbacks=
[];this._errbacks=[]}};h.prototype.cancel=function(){0===this._state&&(this._state=3,this._callbacks=[],this._errbacks=[])};h.prototype.isCanceled=function(){return 3===this._state};return h})},"mw-utils/DeferredList":function(){define(["./Deferred"],function(h){var d=function(d){h.apply(this);this._successes=0;this._total=d.length;var c;for(c=0;c<this._total;c+=1)d[c].then(this._callback.bind(this),this.reject.bind(this))};d.prototype=new h;d.prototype.constructor=d;d.prototype._callback=function(){this._successes+=
1;this._successes===this._total&&this.resolve()};return d})},"mw-peermodel/PagedData":function(){define(["dojo/_base/declare"],function(h){return h([],{constructor:function(d){d=d||{};this._peerNode=d.peerNode;this._propertyKey=d.propertyKey;this._partialData=d.partialData||[];this._rowCount=d.rowCount||0;this._columnCount=d.columnCount||0;this._currentStartRow=d.currentStartRow||0;this._currentEndRow=d.currentEndRow||0;this._currentStartCol=d.currentStartCol||0;this._currentEndCol=d.currentEndCol||
0;this._queuedOperations=[]},setPeerNode:function(d,g){this._peerNode=d;this._propertyKey=g;var c;for(c=0;c<this._queuedOperations.length;c+=1)this._queuedOperations[c].apply(this);this._queuedOperations=[]},getPartialData:function(){return this._partialData},getRowCount:function(){return this._rowCount},getColumnCount:function(){return this._columnCount},getCurrentStartRow:function(){return 0<=this._currentStartRow?this._currentStartRow:0},getCurrentEndRow:function(){return this.getCurrentStartRow()+
this._partialData.length},getCurrentStartCol:function(){return 0<=this._currentStartCol?this._currentStartCol:0},getCurrentEndCol:function(){return 0<this._partialData.length?Array.isArray(this._partialData[0])?this.getCurrentStartCol()+this._partialData[0].length:1:0<=this._currentEndCol?this._currentEndCol:0},changeData:function(d,g,c){if(this._peerNode){var f,b;for(f=0;f<c.length;f+=1){var l=this._partialData[d-this._currentStartRow+f],m=c[f];for(b=0;b<m.length;b+=1)l[g-this._currentStartCol+b]=
m[b]}var a=this;setTimeout(function(){a._peerNode.dispatchEvent("peerEvent",a._peerNode,{type:"changeData",key:a._propertyKey,startRow:d,startCol:g,newData:c})},0)}else this._queuedOperations.push(function(){this.changeData(d,g,c)})},updatePartialData:function(d,g,c,f){if(!(d===this._currentStartRow&&c===this._currentStartCol&&g===this._currentEndRow&&f===this._currentEndCol))if(this._peerNode){if("undefined"===typeof c||"undefined"===typeof f)f=c=-1;this._peerNode.dispatchEvent("peerEvent",this._peerNode,
{type:"partialUpdate",key:this._propertyKey,startRow:d,startCol:c,endRow:g,endCol:f})}else this._queuedOperations.push(function(){this.updatePartialData(d,g,c,f)})}})})},"mw-peermodel/Serializers":function(){define(["mw-utils/Utils","./PagedData"],function(h,d){var g={imageSerializer:function(c){this._serializerCanvas||(this._serializerCanvas=document.createElement("canvas"),this._serializerContext=this._serializerCanvas.getContext("2d"));if(this._serializerCanvas.width!==c.width||this._serializerCanvas.height!==
c.height)this._serializerCanvas.width=c.width,this._serializerCanvas.height=c.height;this._serializerContext.putImageData(c,0,0);return this._serializerCanvas.toDataURL()},imageDeserializer:function(c){var d=new Image;d.src=c;return d},pagedDataSerializer:function(c){return{rowCount:c.getRowCount(),columnCount:c.getColumnCount(),currentStartRow:c.getCurrentStartRow(),currentEndRow:c.getCurrentEndRow(),currentStartCol:c.getCurrentStartCol(),currentEndCol:c.getCurrentEndCol(),partialData:c.getPartialData()}},
pagedDataDeserializer:function(c){c=g.messageService.deserialize(c);return new d(c)},setupSerializers:function(c){g.messageService=c;c._peerModelSerializersSetup||(c.registerTypeSerializer(h.isImageData,"image",g.imageSerializer),c.registerTypeDeserializer("image",g.imageDeserializer),c.registerTypeSerializer(function(c){return c instanceof d},"pagedData",g.pagedDataSerializer),c.registerTypeDeserializer("pagedData",g.pagedDataDeserializer));c._peerModelSerializersSetup=!0}};return g})},"mw-peermodel/PeerNode":function(){define("dojo/_base/declare dojo/_base/lang ./Observable ./PeerEventObservable mw-utils/Utils mw-log/Log".split(" "),
function(h,d,g,c,f,b){var l=h([c],{getId:function(){},getType:function(){},setProperty:function(a,b,c){},getProperty:function(a){},hasProperty:function(a){},unsetProperty:function(a,b){},setProperties:function(a,b){},unsetProperties:function(a,b){},replaceProperties:function(a,b){},getProperties:function(){},addChild:function(a,b,c,d){},hasChild:function(a){},getChild:function(a){},getChildIndex:function(a){},getChildren:function(){},hasDescendant:function(a){},getDescendant:function(a){},getNumberOfChildren:function(){},
hasDetachedChildren:function(){},getDetachedChildren:function(){},detach:function(a){},reattach:function(a,b){},isDetached:function(){},isAncestorDetached:function(){},destroy:function(a){},remove:function(){},hasParent:function(){},getParent:function(){},getRoot:function(){},accept:function(a){}}),m;m=h([l,c.Impl,g.Syncable],{constructor:function(a,b,c,f){if(!d.isString(a)||!d.isString(b))throw Error("Node type and ID must be strings");this._type=b;this._id=a;this._idCache=f||{};this._idCache[a]=
this;this._properties={};c&&this._setProperties(c,void 0,!0);this._children=[];this._detached=[]},getId:function(){return this._id},getType:function(){return this._type},setProperty:function(a,b,c){if(null===b||void 0===b)throw Error("Illegal argument. Value must not be null or undefined.");var d=this._setPropertyAndDispatchPropertySetEvent(a,b,c);this._dispatchSinglePropertiesSetEvent(a,d,b,c)},_setPropertyAndDispatchPropertySetEvent:function(a,b,c,d){var f=this._properties[a];f!==b&&(this._properties[a]=
b,d||this.dispatchEvent("propertySet",this,{key:a,oldValue:f,newValue:b},c));return f},_dispatchSinglePropertiesSetEvent:function(a,b,c,d){if(b!==c){var f={oldValues:{},newValues:{}};f.oldValues[a]=b;f.newValues[a]=c;this.dispatchEvent("propertiesSet",this,f,d)}},unsetProperty:function(a,b){var c=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b);this._dispatchSinglePropertiesUnsetEvent(a,c,b)},unsetProperties:function(a,b){var c={oldValues:{}};a.forEach(function(a){c.oldValues[a]=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,
b)},this);this.dispatchEvent("propertiesUnset",this,c,b)},_unsetPropertyAndDispatchPropertyUnsetEvent:function(a,b){var c;this.hasProperty(a)&&(c=this._properties[a],delete this._properties[a],this.dispatchEvent("propertyUnset",this,{key:a,oldValue:c},b));return c},_dispatchSinglePropertiesUnsetEvent:function(a,b,c){var d={oldValues:{}};d.oldValues[a]=b;this.dispatchEvent("propertiesUnset",this,d,c)},hasProperty:function(a){return this._properties.hasOwnProperty(a)},getProperty:function(a){return this._properties[a]},
setProperties:function(a,b){this._setProperties(a,b,!1)},_setProperties:function(a,c,e){var d,f,g;for(d in a)a.hasOwnProperty(d)&&(f=a[d],(null===f||void 0===f)&&b.warn("Illegal argument. Property value must not be null or undefined. This will become an exception in the future."));var m=!1,l={oldValues:{},newValues:{}};for(d in a)a.hasOwnProperty(d)&&(f=a[d],g=this._setPropertyAndDispatchPropertySetEvent(d,f,c,e),g!==f&&(m=!0,l.oldValues[d]=g,l.newValues[d]=f));m&&!e&&this.dispatchEvent("propertiesSet",
this,l,c)},replaceProperties:function(a,b){var c;this.setProperties(a,b);for(c in this._properties)this._properties.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&this.unsetProperty(c,b)},getProperties:function(){var a,b={};for(a in this._properties)this._properties.hasOwnProperty(a)&&this.hasProperty(a)&&(b[a]=this.getProperty(a));return b},addChild:function(a,b,c,d){"number"===typeof b&&(c=b,b=null);a=m.createNode(a,b,this._idCache);c=this._addChild(a,c);this.dispatchEvent("childAdded",this,{child:a,
index:c},d);return a},addChildWithId:function(a,b,c,d,f){a=new m(a,b,c,this._idCache);d=this._addChild(a,d);this.dispatchEvent("childAdded",this,{child:a,index:d||0},f);return a},hasChild:function(a){if(d.isString(a)){var b,c,f=this._children.length;for(b=0;b<f;b+=1)if(c=this._children[b],c.getId()===a)return!0;return!1}a=this.getChildIndex(a);return 0<=a&&this._children[a]},getChild:function(a){if(d.isString(a)){var b,c,f=this._children.length;for(b=0;b<f;b+=1)if(c=this._children[b],c.getId()===
a)return c;throw Error("No child found with id: "+a);}return this._children[a]},getChildIndex:function(a){var b,c=this._children.length;for(b=0;b<c;b+=1)if(this._children[b].getId()===a.getId())return b;return-1},getChildren:function(){return this._children.map(function(a){return a})},hasDescendant:function(a){var b,c,d=this._children.length;for(b=0;b<d;b+=1)if(c=this._children[b],c.getId()===a||c.hasDescendant(a))return!0;d=this._detached.length;for(b=0;b<d;b+=1)if(c=this._detached[b],c.getId()===
a||c.hasDescendant(a))return!0;return!1},getDescendant:function(a){var b,c,d=this._children.length;for(b=0;b<d;b+=1){c=this._children[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}d=this._detached.length;for(b=0;b<d;b+=1){c=this._detached[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}throw Error("No descendant found with id: "+a);},getNumberOfChildren:function(){return this._children.length},hasDetachedChildren:function(){return 0<this._detached.length},
getDetachedChildren:function(){return this._detached.map(function(a){return a})},detach:function(a){if(!this.isDetached()){var b={child:this,index:this.getParent().getChildIndex(this)},c=this.getParent();this.getParent()._detachChild(this);c.dispatchEvent("childRemoved",c,b,a);c.dispatchEvent("childDetached",c,b,a)}},_detachChild:function(a){this._removeChild(a);this._detached.push(a)},reattach:function(a,b){this.isDetached()&&(a=0<=a?a:this.getParent().getNumberOfChildren(),a=this.getParent()._reattachChild(this,
a),this.getParent().dispatchEvent("childReattached",this.getParent(),{child:this,index:a},b))},_reattachChild:function(a,b){var c=this._detached.indexOf(a);this._detached.splice(c,1);return this._addChild(a,b)},isDetached:function(){return this.hasParent()&&0<=this.getParent().getDetachedChildren().indexOf(this)},isAncestorDetached:function(){return this.hasParent()&&(this.getParent().isDetached()||this.getParent().isAncestorDetached())},destroy:function(a){this.hasParent()&&this.getParent().dispatchEvent("subTreeDestroyed",
this.getParent(),{child:this},a);this._destroyNodesRecursive(a)},remove:function(){this.destroy()},_destroyNodesRecursive:function(a){try{this.getChildren().forEach(function(b){b._destroyNodesRecursive(a)});var b,c;this.hasParent()&&(c=this.getParent(),b=c.getChildIndex(this),c._removeChild(this),this._setParent(null),c.dispatchEvent("childRemoved",c,{child:this,index:b},a),c.dispatchEvent("childDestroyed",c,{child:this,index:b},a));this.dispatchEvent("destroyed",this,void 0,a)}finally{delete this._idCache[this._id]}},
hasParent:function(){return!!this._parent},getParent:function(){return this._parent},getRoot:function(){return this.hasParent()?this.getParent().getRoot():this},accept:function(a){a(this);this._children.forEach(function(b){b.accept(a)});this._detached.forEach(function(b){b.accept(a)})},_addChild:function(a,b){b=this._checkIndex(b);a._setParent(this);this._children.splice(b,0,a);return b},_removeChild:function(a){var b;"number"===typeof a?(b=a,a=this._children[b]):b=this.getChildIndex(a);b=this._checkIndex(b);
a&&this._children.splice(b,1)},_checkIndex:function(a){if(void 0===a||null===a)a=this._children.length;return Math.max(0,Math.min(a,this._children.length))},_setParent:function(a){this._parent=a},toString:function(a){a=a||0;var b,c,d,f="";for(d=0;d<a;d+=1)f+="    ";f+="{id\x3d'"+this._id+"'";f+=", type\x3d'"+this._type+"'";f+=", properties\x3d{";for(c in this._properties)if(this._properties.hasOwnProperty(c)){try{b=dojo.toJson(this._properties[c])}catch(g){b=this._properties[c].toString()}40<b.length&&
(b=b.slice(0,40)+"...");f+=c+": "+b+", "}f=f.slice(0,f.length-2);f+="}, children\x3d[";for(d=0;d<this._children.length;d+=1)f+="\n"+this._children[d].toString(a+1);f+="], detached\x3d[";for(d=0;d<this._detached.length;d+=1)f+="\n"+this._detached[d].toString(a+1);return f+"]}"},equals:function(a){var b;if(!a)return!1;if(this===a)return!0;if(this._id!==a._id)return!1;if(this._parent&&a._parent){if(this._parent.getId()!==a._parent.getId())return!1}else if(this._parent!==a._parent)return!1;if(!this._propertiesEqual(this,
a)||this._type!==a._type||this._children.length!==a._children.length||this._detached.length!==a._detached.length)return!1;for(b=0;b<this._children.length;b+=1)if(!this._children[b].equals(a._children[b]))return!1;for(b=0;b<this._detached.length;b+=1)if(!this._detached[b].equals(a._detached[b]))return!1;return!0},_propertiesEqual:function(a,b){return a._properties!==b._properties?!1:!0}});l.createNode=m.createNode=function(a,b,c){var d=f.generateUuid();return new m(d,a,b,c)};l.Impl=m;return l})},"mw-peermodel/PeerEventObservable":function(){define(["dojo/_base/declare",
"./Observable"],function(h,d){var g=h([d],{addPeerEventListener:function(c,d,b){},removePeerEventListener:function(c,d,b){},hasPeerEventListener:function(c,d,b){},dispatchPeerEvent:function(c,d,b,g){}});g.Impl=h([d.Impl],{addPeerEventListener:function(c,d,b){var g=function(g){g.data.type&&g.data.type===c&&d.call(b,g)};g.type=c;g.callback=d;g.scope=b;this.addEventListener("peerEvent",g)},hasPeerEventListener:function(c,d,b){return!!this._getPeerEventObserver(c,d,b)},removePeerEventListener:function(c,
d,b){if(c=this._getPeerEventObserver(c,d,b))this.removeEventListener("peerEvent",c.callback,c.scope);else throw Error("Listener does not exist");},_getPeerEventObserver:function(c,d,b){return this._listeners.peerEvent?this._listeners.peerEvent.filter(function(g){return g.callback.callback&&g.callback.type===c&&g.callback.callback===d&&g.callback.scope===b})[0]:null},dispatchPeerEvent:function(c,d,b,g){b||(b={});b.type=c;this.dispatchEvent("peerEvent",d,b,g)}});return g})},"mw-peermodel/_PeerModelListenerMixin":function(){define(["dojo/_base/declare"],
function(h){return h([],{start:function(d){d=d||this.manager;d.setSyncEnabled(!0)},stop:function(d){d=d||this.manager;d.setSyncEnabled(!1)},addManagerListeners:function(d){d=d||this.manager;d.addEventListener("rootSet",this.rootSetObserver,this);d.addEventListener("rootUnset",this.rootUnsetObserver,this);d.addEventListener("childMoved",this.childMovedObserver,this)},removeManagerListeners:function(d){d=d||this.manager;d.removeEventListener("rootSet",this.rootSetObserver,this);d.removeEventListener("rootUnset",
this.rootUnsetObserver,this);d.removeEventListener("childMoved",this.childMovedObserver,this)},addNodeListeners:function(d){d.addEventListener("childAdded",this.childAddedObserver,this);d.addEventListener("childDestroyed",this.childDestroyedObserver,this);d.addEventListener("propertySet",this.propertySetObserver,this);d.addEventListener("peerEvent",this.peerEventObserver,this)},removeNodeListeners:function(d){d.removeEventListener("childAdded",this.childAddedObserver,this);d.removeEventListener("childDestroyed",
this.childDestroyedObserver,this);d.removeEventListener("propertySet",this.propertySetObserver,this);d.removeEventListener("peerEvent",this.peerEventObserver,this)},rootSetObserver:function(d){this.addNodeListeners(d.target)},rootUnsetObserver:function(d){this.removeNodeListeners(d.target)},childMovedObserver:function(d){this.onChildMove(d)},childAddedObserver:function(d){this.addNodeListeners(d.data.child);this.onChildAdd(d)},childDestroyedObserver:function(d){this.removeNodeListeners(d.data.child);
this.onChildDestroy(d)},propertySetObserver:function(d){this.onPropertySet(d)},peerEventObserver:function(d){this.onPeerEvent(d)},onPeerEvent:function(d){},onChildAdd:function(d){},onChildDestroy:function(d){},onPropertySet:function(d){},onChildMove:function(d){}})})},"datatoolsservices/TestingPropConstants":function(){define([],function(){return{TESTING_INITIALIZED:"InitTestingHooks",HEADER_CONTEXTMENU_LABELS_SET:"HeaderContextMenuLabelsSet",STRUCT_RENDERED:"StructRendererd",HEADER_CONTEXTMENU_INITIALIZED:"HeaderContextMenusInitialized"}})},
"variableeditor/views/table/HeaderContextMenu":function(){define("variableeditor/views/table/HeaderContextMenu","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on mw-log/Log mw-menu/ContextMenu mw-menu/CheckBoxMenuItem mw-menu/mixins/property/CloseMenuOnClickMixin mw-peermodel/Observable dojo/domReady! variableeditor/VariableEditorUtils".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){return h("variableeditor.views.table.HeaderContextMenu",[b,a.Impl],{_labelProperties:void 0,_menuHash:{},VALUE_COLUMNTAG:"Value",
SIZE_COLUMNTAG:"Size",CLASS_COLUMNTAG:"Class",VALUECOLUMN_PROPERTYNAME:"ShowValueColumn",SIZECOLUMN_PROPERTYNAME:"ShowSizeColumn",CLASSCOLUMN_PROPERTYNAME:"ShowClassColumn",constructor:function(a){this._labelProperties=a&&a.labelProperties?a.labelProperties:[];this.targetNodes=a.targetNodes;this.willOpenCallback=a.willOpenCallback?a.willOpenCallback:d.hitch(this,"_openCallback")},_openCallback:function(){this.dispatchEvent("headerMenuShown",this)},postCreate:function(){this.inherited(arguments);this.createSubMenuItems(this._labelProperties)},
createSubMenuItems:function(a){a&&0<a.length&&this._addSubMenuItems(a)},hasSubMenuItems:function(){return 0<Object.keys(this._menuHash).length},_addCheckedMenuItem:function(a,b,c){b=new l({text:a,checked:b,closeMenuOnClick:!0});b.on("change",d.hitch(this,"_dispatchHeaderColumnSet"));b.domNode.setAttribute("data-tag",e.concatenateDataTagStrings("datatools","variableeditor","regularContextMenuItem",c));this.addChild(b);this._menuHash[a]=b},_addDisabledCheckedMenuItem:function(a,b){var c=new l({text:a,
checked:!0,disabled:!0,closeMenuOnClick:!0});c.domNode.setAttribute("data-tag",e.concatenateDataTagStrings("datatools","variableeditor","defaultContextMenuItem",b));this.addChild(c);g.add(c.domNode,"disabledContextMenu")},_addSubMenuItems:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.label,k=c.checked,f=c.disabled,c=c.propertyName;e.compareValues(c,this.VALUECOLUMN_PROPERTYNAME)?c=this.VALUE_COLUMNTAG:e.compareValues(c,this.SIZECOLUMN_PROPERTYNAME)?c=this.SIZE_COLUMNTAG:e.compareValues(c,
this.CLASSCOLUMN_PROPERTYNAME)&&(c=this.CLASS_COLUMNTAG);f?this._addDisabledCheckedMenuItem(d,c):this._addCheckedMenuItem(d,k,c)}},setLabelState:function(a,b){this._menuHash.hasOwnProperty(a)&&this._menuHash[a].set("checked",b)},_dispatchHeaderColumnSet:function(a){var b=dijit.getEnclosingWidget(a.target);this.dispatchEvent("headerSelectionChanged",this,{target:a.target,text:b.text,checked:b.checked})}})})},"mw-menu/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dijit/focus dojo/keys dojo/on dojo/query dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){return h(w.validate([a,n,k,e,p,q,r,s,t,u,x]),{baseClass:"mwWidget mwContextMenu",disabled:!1,templateString:v,postCreate:function(){this.inherited(arguments);this._activeEventListeners=[];this._onOpenEventListenersInfo=[{event:"wheel",target:document.body,callback:d.hitch(this,"_onWheel")},{event:"mousewheel",target:document.body,callback:d.hitch(this,"_onWheel")},{event:"mousedown",target:document.body,callback:d.hitch(this,function(a){this._shouldCloseMenu(a.target)&&
this.closeMenu()}),useCapture:!0},{event:"mouseenter",target:document.body,callback:d.hitch(this,this._onMouseMovement),useCapture:!0},{event:"mouseover",target:document.body,callback:d.hitch(this,this._onMouseMovement),useCapture:!0},{event:"keydown",target:this.domNode,callback:d.hitch(this,function(a){a.keyCode===c.ESCAPE&&(this.closeMenu(),document.body.classList.contains("mwHasFocusManager")?this.emit("restorefocus"):g.focus(this._previousFocusNode))})},{event:"change",target:this.domNode,callback:d.hitch(this,
function(a){a=l.getEnclosingWidget(a.target);a.domNode.hasAttribute("data-composite-child")&&(a=l.byNode(document.getElementById(a.domNode.getAttribute("data-composite-primary-id"))));(a.get("closeMenuOnClick")||void 0===a.get("closeMenuOnClick"))&&this.closeMenu()})},{event:"close",target:this.domNode,callback:d.hitch(this,this._cleanupOnClose)}];this.own(f(this.domNode,"open",d.hitch(this,this._handleOpen)));this.set("disabled",this.disabled)},_setDisabledAttr:function(a){if("boolean"===typeof value)throw Error("Expected 'disabled' property to be a boolean");
a?this._removeRightClickEventListener():this._addRightClickEventListener();this._set("disabled",a)},_addRightClickEventListener:function(){this._rightClickListener||(this._rightClickListener=f(document.body,"contextmenu",d.hitch(this,this._createCallback(d.hitch(this,this._onContextMenu),d.hitch(this,this._onDoubleContextMenu),200,!0))),this.own(this._rightClickListener))},_removeRightClickEventListener:function(){this._rightClickListener&&(this._rightClickListener.remove(),delete this._rightClickListener)},
_addOnOpenEventListeners:function(){if(this._activeEventListeners.length<this._onOpenEventListenersInfo.length)for(var a=0;a<this._onOpenEventListenersInfo.length;a++)this._onOpenEventListenersInfo[a].useCapture?(this._onOpenEventListenersInfo[a].target.addEventListener(this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback,!0),this._activeEventListeners[a]=[{target:this._onOpenEventListenersInfo[a].target,event:this._onOpenEventListenersInfo[a].event,callback:this._onOpenEventListenersInfo[a].callback,
useCapture:!0}]):this._activeEventListeners[a]=this.own(f(this._onOpenEventListenersInfo[a].target,this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback))},_removeOnOpenEventListeners:function(){if(0<this._activeEventListeners.length)for(;0<this._activeEventListeners.length;){var a=this._activeEventListeners.pop()[0];a.useCapture?a.target.removeEventListener(a.event,a.callback,!0):a.remove()}},_onWheel:function(a){this.isDescendant(a.target)||this.closeMenu()},isMenuOpen:function(){return this.domNode&&
this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display},open:function(a){this.openMenu(a)},openMenu:function(a){if(!this.get("disabled")){this._computeTargetNodes(a);a.doNotClose=this._nodeMatchesSelector(a.target,".galleryPopup, .galleryPopup  *, .mwSectionPopup, .mwSectionPopup *");if(a.target){var b=l.getEnclosingWidget(a.target);b&&b.id&&this.domNode.setAttribute("data-target-id",b.id)}if("contextmenu"===a.type)this._handleRightClick(a);else if(a.target instanceof HTMLElement&&
isNaN(a.x)&&isNaN(a.y))this._handleOpenWithDomNode(a);else if(!a.target&&!isNaN(a.x)&&!isNaN(a.y))this._handleOpenWithXY(a);else throw Error("Invalid parameters passed");}},_onMouseMovement:function(a){this.isDescendant(a.target)||(a.stopImmediatePropagation(),a.preventDefault())},_nodeMatchesSelector:function(a,b){var c=!1;a&&b&&(a.matches?c=a.matches(b):a.matchesSelector?c=a.matchesSelector(b):a.webkitMatchesSelector?c=a.webkitMatchesSelector(b):a.mozMatchesSelector?c=a.mozMatchesSelector(b):a.msMatchesSelector?
c=a.msMatchesSelector(b):a.oMatchesSelector&&(c=a.oMatchesSelector(b)));return c},_handleRightClick:function(a){var b;if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(b=this.willOpenCallback({target:a.target,x:a.clientX,y:a.clientY})))return;this._previousFocusNode=a.target;1>a.pageX&&1>a.pageY?this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose}):this._showMenu({x:a.pageX,y:a.pageY,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithDomNode:function(a){var b;
if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(b=this.willOpenCallback({target:a})))return;this._previousFocusNode=a.target;this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithXY:function(a){var b;if(this.willOpenCallback&&(b=this.willOpenCallback({target:a.target})))return;this._showMenu({x:a.x,y:a.y,popup:this})},_showMenu:function(a){m.open(a)},_handleOpen:function(){this._addOnOpenEventListeners();this._handleEmptyContextMenu()},_handleEmptyContextMenu:function(){0===
this.domNode.children.length?this.domNode.parentElement&&(this.domNode.parentElement.style.display="none"):this.domNode.parentElement&&(this.domNode.parentElement.style.display="")},close:function(){this.closeMenu()},closeMenu:function(){m.close(this)},_cleanupOnClose:function(){this._removeOnOpenEventListeners();this.domNode&&(this.domNode.removeAttribute("data-target-id"),this.domNode.parentNode&&(this.domNode.parentNode.style.overflowX="visible",this.domNode.parentNode.style.overflowY="visible"))},
_shouldCloseMenu:function(a){var b=!0;if(!this.isMenuOpen())return!1;if(a&&(this.isDescendant(a)||this.targetNodes&&0<=this.targetNodes.indexOf(a)))b=!1;return b},_setTargetNodesAttr:function(a){if(null===a||void 0===a)a=[];this._set("targetNodes",a)},_computeTargetNodes:function(a){this._contextMenuNodes=[];this.targetNodes&&this.targetNodes.forEach(function(c){"string"===typeof c?b(c).forEach(function(a){var b=a.querySelectorAll("*");Object.keys(b).forEach(function(a){this._contextMenuNodes.push(b[a])},
this);this._contextMenuNodes.push(a)},this):"function"===typeof c?(c=c(a))&&(1<c.length?c.forEach(function(a){this._contextMenuNodes.push(a)}.bind(this)):this._contextMenuNodes.push(c)):this._contextMenuNodes.push(c)},this);return this._contextMenuNodes},_onContextMenu:function(a){a.preventDefault();this.openMenu(a)},_onDoubleContextMenu:function(a){a.preventDefault()},_getTargetNode:function(a){null!==a&&a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));
return a},_createCallback:function(a,b,c,e){var d=0,k;void 0===c&&(c=200);return function(f){!0===e&&-0<=this._computeTargetNodes(f).indexOf(f.target)&&f.preventDefault();d+=1;1===d?k=setTimeout(function(){d=0;a(f)},c):2===d&&(clearTimeout(k),d=0,b(f))}},destroy:function(){this._removeOnOpenEventListeners();this.inherited(arguments)}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){function t(){this._popupWrapper&&(b.destroy(this._popupWrapper),delete this._popupWrapper)}g=g(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=l.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var d=this._stack[b].wrapper.style;d.top=parseFloat(d.top)+a+"px";"auto"==d.right?d.left=parseFloat(d.left)+
c+"px":d.right=parseFloat(d.right)-c+"px"}}this._aroundMoveListener=setTimeout(e.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var c=a._popupWrapper,e=a.domNode;c||(c=b.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),c.appendChild(e),e=e.style,e.display="",e.visibility="",e.position="",e.top="0px",a._popupWrapper=c,d.after(a,"destroy",t,!0),"ontouchend"in document&&n(c,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}),c.dojoClick=!0);return c},moveOffScreen:function(a){var b=this._createWrapper(a);a=l.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";m.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);m.set(b,{display:"none",height:"auto",overflowY:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},
getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(b){var d=this._stack,g=b.popup,h=g.domNode,t=b.orient||["below","below-alt","above","above-alt"],s=b.parent?b.parent.isLeftToRight():l.isBodyLtr(g.ownerDocument),A=b.around,B=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;if(!b.doNotClose)for(;d.length&&(!b.parent||!c.isDescendant(b.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);
var D=this.moveOffScreen(g);g.startup&&!g._started&&g.startup();var H,G=l.position(h);if("maxHeight"in b&&-1!=b.maxHeight)H=b.maxHeight||Infinity;else{H=r.getEffectiveBox(this.ownerDocument);var I=A?l.position(A,!1):{y:b.y-(b.padding||0),h:2*(b.padding||0)};H=Math.floor(Math.max(I.y,H.h-(I.y+I.h)))}G.h>H&&(G=m.getComputedStyle(h),m.set(D,{overflowY:"scroll",height:H+"px",border:G.borderLeftWidth+" "+G.borderLeftStyle+" "+G.borderLeftColor}),h._originalStyle=h.style.cssText,h.style.border="none");
f.set(D,{id:B,style:{zIndex:this._beginZIndex+d.length},"class":"dijitPopup "+(g.baseClass||g["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});0==d.length&&A&&(this._firstAroundNode=A,this._firstAroundPosition=l.position(A,!0),this._aroundMoveListener=setTimeout(e.hitch(this,"_repositionAll"),50));a("config-bgIframe")&&!g.bgIframe&&(g.bgIframe=new q(D));B=g.orient?e.hitch(g,"orient"):null;t=A?p.around(D,A,t,s,B):p.at(D,b,"R"==t?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],
b.padding,B);D.style.visibility="visible";h.style.visibility="visible";h=[];h.push(n(D,"keydown",e.hitch(this,function(a){if(a.keyCode==k.ESCAPE&&b.onCancel)a.stopPropagation(),a.preventDefault(),b.onCancel();else if(a.keyCode==k.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));g.onCancel&&b.onCancel&&h.push(g.on("cancel",b.onCancel));h.push(g.on(g.onExecute?"execute":"change",e.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));
d.push({widget:g,wrapper:D,parent:b.parent,onExecute:b.onExecute,onCancel:b.onCancel,onClose:b.onClose,handlers:h});if(g.onOpen)g.onOpen(t);return t},close:function(a){for(var b=this._stack;a&&h.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),e=c.widget,d=c.onClose;e.bgIframe&&(e.bgIframe.destroy(),delete e.bgIframe);if(e.onClose)e.onClose();for(var k;k=c.handlers.pop();)k.remove();e&&e.domNode&&this.hide(e);d&&d()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return s.popup=new g})},"mw-menu/mixins/KeyNavMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys","mw-menu/mixins/ContainerFocusMixin"],function(h,d,g,c,f){h=h(null,{postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",d.hitch(this,"_onKeyDown")),g(this.domNode,"synkeydown",d.hitch(this,"_onKeyDown")))},_onKeyDown:function(b){b.keyCode===c.DOWN_ARROW?(this._handleFocusNext(b.target),
b.preventDefault()):b.keyCode===c.UP_ARROW?(this._handleFocusPrevious(b.target),b.preventDefault()):b.keyCode===c.PAGE_UP||b.keyCode===c.HOME?(this._moveToFirstChild(b.target),b.preventDefault()):b.keyCode===c.PAGE_DOWN||b.keyCode===c.END?(this._moveToLastChild(b.target),b.preventDefault()):b.keyCode===c.TAB&&(this._handleFocusNext(b.target),b.preventDefault())},_handleFocusNext:function(b){(null===b||this._isActiveElement(b))&&this.focusNext(this._getTargetNode(b))},_handleFocusPrevious:function(b){(null===
b||this._isActiveElement(b))&&this.focusPrevious(this._getTargetNode(b))},_moveToFirstChild:function(){this.focusFirst()},_moveToLastChild:function(){this.focusLast()},_getTargetNode:function(b){return b},_isActiveElement:function(b){return b.hasAttribute("data-composite-primary")?b.contains(document.activeElement):b===document.activeElement}});h._dependencies=[{mixin:f,orderDependent:!1}];return h})},"mw-menu/mixins/ContainerFocusMixin":function(){define(["dojo/_base/declare","mw-dom-utils/domUtils",
"dijit/focus"],function(h,d,g){return h(null,{isCyclic:!0,_setIsCyclicAttr:function(c){if("boolean"!==typeof c)throw Error("'isCyclic' property expects a boolean value.");this._set("isCyclic",c)},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwContainerFocusMixin");this.focusNode=this.focusNode||this.domNode},focus:function(c){this.inherited(arguments);c?this._focusNearestFocusableNode(c,!0,"next"):this.focusNode&&d.isFocusable(this.focusNode)&&g.focus(this.focusNode)},
focusNext:function(c){this.inherited(arguments);c||(c=document.activeElement&&d.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(c,!1,"next")},focusPrevious:function(c){this.inherited(arguments);c||(c=document.activeElement&&d.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(c,!1,"previous")},focusFirst:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,
!1,"next")},focusLast:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"previous")},_focusNearestFocusableNode:function(c,f,b){c=this._getAppropriateNodeFromInput(c);if(0<d.getChildren(this.domNode).length&&(null==c||d.isDescendant(c,this.domNode,!0)))c=this._findFocusableChild(c,f,b),null!==c&&(d.isElementInViewport(c)||c.scrollIntoView(!0),g.focus(c))},_findFocusableChild:function(c,f,b){var g=!1,m,a=!1;c=this._getAppropriateNodeFromInput(c);null==f&&(f=!0);if(!b||0>
["next","previous"].indexOf(b))b="next";if(c===this.domNode)g=!0;else for((m=c)&&!f&&(m=d.getAdjacentElement(m,b));m&&!d.isFocusable(m);){if(m===c){if(a)return null;a=!0}m=d.getAdjacentElement(m,b)}if(g||!m&&this.isCyclic||null==c){switch(b){case "next":m=d.getFirstChild(this.domNode);break;case "previous":m=d.getLastChild(this.domNode)}m=this._findFocusableChild(m,!0,b)}m&&(c=this._getAppropriateNodeFromInput(m));return c},_getAppropriateNodeFromInput:function(c){if(null==c)return null;c=c.focusNode||
c.domNode||c;if(!(c instanceof Element))throw Error("Input argument expects a Widget or DOM node.");return c}})})},"mw-dom-utils/domUtils":function(){define(["dojo/sniff"],function(h){var d={},g={INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",INVALID_BOOLEAN:"The input parameter must be of type 'boolean'.",INVALID_OBJECT:"The input parameter must be of type 'object'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",
INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},c=function(b){if(!(b instanceof Element))throw Error(g.INVALID_ELEMENT);},f=function(b){if(-1===["String","string"].indexOf(typeof b))throw Error(g.INVALID_STRING);},b=function(b){if(-1===["Boolean","boolean"].indexOf(typeof b))throw Error(g.INVALID_BOOLEAN);
},l=function(b){if(-1===["Object","object"].indexOf(typeof b))throw Error(g.INVALID_OBJECT);};d._qeSetup=function(){d._qeTools={};d._qeTools.errorMessages=g;d._qeTools.validateElement=c;d._qeTools.validateString=f;d._qeTools.validateBoolean=b;d._qeTools.validateObject=l;d._qeTools.overrideErrorMessaged=function(b){g=b};d._qeTools.overrideValidateElement=function(b){c=b};d._qeTools.overrideValidateString=function(b){f=b};d._qeTools.overrideValidateBoolean=function(c){b=c};d._qeTools.overrideValidateObject=
function(b){l=b}};d.isLeftMouseButton=function(b){return!0===b.synthetic&&h("trident")?1===b.button:0===b.button};d.parseFocusEvent=function(b){if(!(b instanceof FocusEvent))throw Error(g.INVALID_FOCUS_EVENT);var a={};a.lostFocusNode=b.target;a.gainedFocusNode=h("chrome")||h("safari")?b.relatedTarget:document.activeElement;a.type=b.type;a.eventdata=b;return a};d.getParent=function(b){c(b);return b.parentNode};d.findParentNode=function(b,a,c){var e=null,d;b.domNode&&(b=b.domNode);for(;b&&b!==window.document;){if(c){if(b.hasAttribute(a)&&
b.getAttribute(a)===c){e=b;break}}else{if(b.hasAttribute(a)){e=b;break}if(b.classList.contains(a)){e=b;break}}b=(d=b.getAttribute("dijitpopupparent"))?document.getElementById(d):b.parentNode}return e};d.getNodeType=function(b){c(b);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[b.nodeType]};d.getById=function(b){f(b);return window.document.getElementById(b)};d.getByClass=function(b){f(b);return window.document.getElementsByClassName(b)};
d.getByAttr=function(b){f(b);return window.document.querySelectorAll("["+b+"]")};d.getByAttrValue=function(b,a){f(b);f(a);return window.document.querySelectorAll("["+b+"\x3d"+a.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")};d.getByName=function(b){f(b);return window.document.getElementById("[name\x3d"+b+"]")};d.getByTag=function(b){f(b);return window.document.getElementsByTagName(b)};d.matchesSelector=function(b,a){if(!b||!a)return!1;c(b);f(a);return b[b.msMatchesSelector?"msMatchesSelector":
"matches"](a)};d.getComputedStyle=function(b,a){c(b);return a?(f(a),window.getComputedStyle(b,null)[a]):window.getComputedStyle(b,null)};d.getStyle=function(b,a){c(b);f(a);if(void 0===b.style[a])throw Error(g.INVALID_STYLE);return b.style[a]};d.setStyle=function(b,a,d){c(b);f(a);f(d);b.style[a]=d;if(b.style[a]!==d)throw Error(g.INVALID_VALUE);};d.hasAttr=function(b,a){c(b);f(a);return b.hasAttribute(a)};d.hasAttrValue=function(b,a,d){c(b);f(a);f(d);return b.hasAttribute(a)&&b.getAttribute(a)===d};
d.getAttr=function(b,a){c(b);f(a);return b.getAttribute(a)};d.setAttr=function(b,a,d){c(b);f(a);f(d);b.setAttribute(a,d)};d.addAttr=function(b,a){c(b);f(a);b.setAttribute(a,"")};d.removeAttr=function(b,a){c(b);f(a);b.removeAttribute(a)};d.getClasses=function(b){c(b);return b.classList?b.classList:{_element:b,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:b.className.split(" ").length,
item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),!1;this.add(a);return!0}}};d.getClass=function(b,a){if(null==a||"number"!==typeof a||0>a||0!==a%1)throw Error(g.INTEGER_INDEX);
return d.getClasses(b).item(a)};d.addClass=function(b,a){if(null==a||"string"!==typeof a)throw Error(g.STRING_INDEX);return d.getClasses(b).add(a)};d.removeClass=function(b,a){if(null==a||"string"!==typeof a)throw Error(g.STRING_INDEX);return d.getClasses(b).remove(a)};d.toggleClass=function(b,a,c){if(null==a||"string"!==typeof a)throw Error(g.STRING_INDEX);return c?d.getClasses(b).toggle(a,c):d.getClasses(b).toggle(a)};d.containsClass=function(b,a){if(null==a||"string"!==typeof a)throw Error(g.STRING_INDEX);
return d.getClasses(b).contains(a)};d.classCount=function(b){return d.getClasses(b).length};d.getChildCount=function(b){c(b);return b.childElementCount};d.getChildren=function(b){c(b);return b.children};d.isDescendant=function(b,a,k){c(b);c(a);if(k&&b===a)return!0;for(;b&&b!==window.document;)if(b=d.getParent(b),b===a)return!0;return!1};d.isDescendantOrInLaw=function(b,a,c,e){var f;if("function"!==typeof c)throw Error(g.SPOUSE_NODE);f=d.isDescendant(b,a,e);!1===f&&(b=c(b)||b.parentNode)&&b!==window.document&&
(f=d.isDescendantOrInLaw(b,a,c,e));return f};d.getFirstChild=function(b){c(b);return!d.isContainer(b)||1>d.getChildCount(b)?null:d.getChildren(b)[0]};d.getLastChild=function(b){var a;c(b);a=d.getChildCount(b);return!d.isContainer(b)||1>a?null:d.getChildren(b)[a-1]};d.isContainer=function(b){c(b);return 0<d.getChildCount(b)};d.getAdjacentElement=function(b,a){c(b);if(!a||0>["next","previous"].indexOf(a))a="next";return b=b[a+"Sibling"]};d.getElementPositionInViewPort=function(b){c(b);b=b.getBoundingClientRect();
return{x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top}};d.getElementPositionOnPage=function(b){c(b);b=d.getElementPositionInViewPort(b);b.x+=window.pageXOffset;b.y+=window.pageYOffset;return b};d.setPositionExtents=function(b,a){l(a);var c={};c.top=a.t?a.t:a.top?a.top:"auto";c.right=a.r?a.r:a.right?a.right:"auto";c.bottom=a.b?a.b:a.bottom?a.bottom:"auto";c.left=a.l?a.l:a.left?a.left:"auto";["top","right","bottom","left"].forEach(function(a){d.setStyle(b,a,c[a])})};d.isFocusable=function(b){c(b);
return b&&!b.hasAttribute("disabled")&&(!b.hasAttribute("aria-disabled")||"true"!==b.getAttribute("aria-disabled"))&&"none"!==b.style.display&&!b.hasAttribute("data-refuse-key-nav")};d.isElementInViewport=function(b,a){var d,e,f,g;c(b);d=b.getBoundingClientRect();e=window.innerWidth||document.documentElement.clientWidth;f=window.innerHeight||document.documentElement.clientHeight;g=function(a,b){return document.elementFromPoint(a,b)};return 0>=d.width||0>=d.height||0>d.right||0>d.bottom||d.left>e||
d.top>f?!1:2>d.width&&2>d.height?(e=d.left+(d.right-d.left)/2,f=d.top+(d.bottom-d.top)/2,b.contains(g(e,f))):2>d.width?(e=d.left+(d.right-d.left)/2,a?b.contains(g(e,d.top+1))&&b.contains(g(e,d.bottom-1)):b.contains(g(e,d.top+1))||b.contains(g(e,d.bottom-1))):2>d.height?(f=d.top+(d.bottom-d.top)/2,a?b.contains(g(d.left+1,f))&&b.contains(g(d.right-1,f)):b.contains(g(d.left+1,f))||b.contains(g(d.right-1,f))):a?b.contains(g(d.left+1,d.top+1))&&b.contains(g(d.right-1,d.top+1))&&b.contains(g(d.right-1,
d.bottom-1))&&b.contains(g(d.left+1,d.bottom-1)):b.contains(g(d.left+1,d.top+1))||b.contains(g(d.right-1,d.top+1))||b.contains(g(d.right-1,d.bottom-1))||b.contains(g(d.left+1,d.bottom-1))};d._obscuredProps={};d._obscuredProps.sawPosAbsolute=!1;d._obscuredProps.elementPosition=null;d.isElementObscuredByParent=function(b,a){var f,e,g,l;c(b);l=!1;if(g=d.getParent(b))if(a||(d._obscuredProps.elementPosition=d.getElementPositionOnPage(b),d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(b,
null).position),f=d._obscuredProps.elementPosition,e=d._obscuredProps.sawPosAbsolute,g&&"Element"===d.getNodeType(g)&&"BODY"!==g.nodeName){var h=d.getElementPositionOnPage(g);g=window.getComputedStyle(g,null);/relative|absolute/.test(g.position)&&(e=d._sawPosAbsolute=!1);!e&&/hidden|auto|scroll/.test(g.overflow)&&(l=f.y<h.y||f.y+f.h>h.y+h.h||f.x<h.x||f.x+f.w>h.x+h.w)}return l};d.isElementObscuredByAncestor=function(b){var a,f;c(b);a=!1;d._obscuredProps.elementPosition=d.getElementPositionOnPage(b);
for(d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(b,null).position;(f=d.getParent(b))&&"Element"===d.getNodeType(f)&&"BODY"!==f.nodeName;)a=d.isElementObscuredByParent(b,!0),b=f;return a};return d})},"mw-menu/mixins/OnOpenMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry"],function(h,d,g){return h(null,{_focusOnOpen:!0,_matchMinWidthToInvokingWidget:!0,onOpen:function(){setTimeout(d.hitch(this,function(){if(this._focusOnOpen&&this.focus){var c=
window.pageXOffset,d=window.pageYOffset;this.focus();window.scrollTo(c,d)}}),0);this._emitOpenEvent();this._updateLayout()},_updateLayout:function(){this._removeAllWidths();this._matchMinWidthToInvokingWidget&&this._updateWidth();this._updateHeight()},_removeAllWidths:function(){this.domNode.style.width="";this.getChildren().forEach(function(c){c.domNode.style.width=""})},_updateWidth:function(){if(this._invokingWidget&&this.domNode.offsetWidth<this._invokingWidget.domNode.offsetWidth){var c=0;this.domNode.parentElement&&
(c=g.getMarginBox(this.domNode.parentElement).w-g.getMarginBox(this.domNode).w);this.domNode.style.width=this._invokingWidget.domNode.offsetWidth-c+"px"}},_updateHeight:function(){if(this.domNode&&this.domNode.parentElement&&this.domNode.parentElement.classList&&this.domNode.parentElement.classList.contains("dijitPopup")){var c,d=this.domNode,b=d.parentElement;c=window.getComputedStyle(d,null);var g=window.getComputedStyle(b,null),g=parseInt(c.borderTopWidth)+parseInt(c.borderBottomWidth)+parseInt(g.borderTopWidth)+
parseInt(g.borderBottomWidth);c="ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints?window.innerHeight||document.documentElement.clientHeight:document.documentElement.clientHeight;""!==d.style.height&&(d.style.height="");b.offsetTop+d.clientHeight>c&&(d.style.height=c-b.offsetTop-g+"px");b.style.overflow="hidden";b.style.overflowX="hidden";b.style.overflowY="hidden"}},_setFocusOnOpenAttr:function(c){if("boolean"!==typeof c)throw Error("'focusOnOpen' property expects a boolean value.");
this._set("_focusOnOpen",c)},_emitOpenEvent:function(){this.emit("open",{})}})})},"mw-menu/mixins/OnCloseMixin":function(){define(["dojo/_base/declare","mw-menu/mixins/OnOpenMixin"],function(h,d){var g=h(null,{_closeEventData:{},onClose:function(){this._emitCloseEvent();this._closeEventData={}},_emitCloseEvent:function(){this.emit("close",this._closeEventData)}});g._dependencies=[{mixin:d,orderDependent:!1}];return g})},"mw-menu/mixins/MenuFocusMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/has dojo/touch dojo/keys dijit/popup dijit/registry mw-dom-utils/domUtils mw-utils/widgetUtils mw-menu/mixins/ContainerFocusMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){var n=c("touch")&&!window.PointerEvent;h=h(null,{postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwMenuFocusMixin");this.focusNode=this.focusNode||this.domNode;this.own(g(this.domNode,"close",d.hitch(this,this._handleClose)))},focus:function(){this.inherited(arguments);this._addFocusListeners()},_focusLost:function(b){setTimeout(d.hitch(this,function(){if(k.isMenuOpen(this)){var c=b instanceof FocusEvent?m.getEnclosingWidget(a.parseFocusEvent(b).gainedFocusNode):
m.getEnclosingWidget(b.target),e,d,f;(e=c?c.focusNode&&c.focusNode instanceof Element?c.focusNode:c.domNode?c.domNode:null:null)&&e.hasAttribute("data-composite-child")&&(c=m.getEnclosingWidget(document.getElementById(e.getAttribute("data-composite-primary-id"))));e=this.isDescendant(c,this);d=c&&c.domNode&&-1<[].slice.call(document.querySelectorAll(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu *")).indexOf(c.domNode);f=this._invokingWidget&&c===this._invokingWidget;(!c||!e&&!d&&!f)&&
this._focusChange(c)}}),0)},_handleKeydown:function(a){a.keyCode===b.ESCAPE&&this._focusLost(a)},_handleClose:function(){this._removeFocusListeners()},_addFocusListeners:function(){this.focusNode&&(this._focusNodeBlurListener=g(this.focusNode,"blur",d.hitch(this,"_focusLost")),this.own(this._focusNodeBlurListener),this._windowBlurListener=g(window,"blur",d.hitch(this,"_focusLost")),this.own(this._windowBlurListener),this._documentClickListener=g(document.body,n?f.press:"mousedown",d.hitch(this,"_focusLost")),
this.own(this._documentClickListener),this._escapeKeydownListener=g(document.body,"keydown",d.hitch(this,"_handleKeydown")),this.own(this._escapeKeydownListener))},_removeFocusListeners:function(){this._focusNodeBlurListener&&(this._focusNodeBlurListener.remove(),delete this._focusNodeBlurListener);this._windowBlurListener&&(this._windowBlurListener.remove(),delete this._windowBlurListener);this._documentClickListener&&(this._documentClickListener.remove(),delete this._documentClickListener);this._escapeKeydownListener&&
(this._escapeKeydownListener.remove(),delete this._escapeKeydownListener)},_focusChange:function(a){this._closeEventData={mwEventData:{gainedFocusWidget:a}};null==a?this.closeRequest(!1):!this.isInvokingWidget(a)&&!this.isDescendant(a,this)&&this.closeRequest(!1)},closeRequest:function(a){if(null==a||0>[!0,!1].indexOf(a))a=!0;this.close&&this.close();this._invokingWidget&&this._invokingWidget.isMenuOpen()&&this._invokingWidget.closeMenu(a);k.isMenuOpen(this)&&l.close(this)},isInvokingWidget:function(a){if(null==
a)return!1;a instanceof HTMLElement&&(a=m.getEnclosingWidget(a));return a===this._invokingWidget},isDescendant:function(b,c){if(null==b)return!1;b.domNode&&(b=b.domNode);null==c?c=this.domNode:c.domNode&&(c=c.domNode);return a.isDescendantOrInLaw(b,c,function(a){return a.hasAttribute("dijitpopupparent")?document.getElementById(a.getAttribute("dijitpopupparent")):null},!0)}});h._dependencies=[{mixin:e,orderDependent:!0}];return h})},"mw-utils/widgetUtils":function(){define(["dijit/registry","mw-utils/domUtils"],
function(h,d){var g={findParentWidget:function(c,f){var b=null,g;for(c instanceof HTMLElement&&(c=h.getEnclosingWidget(c));c;){if(c.get("type")===f){b=c;break}if(d.containsClass(c.domNode,f)){b=c;break}c=(g=d.getAttr(c.domNode.parentNode,"dijitpopupparent"))?h.byId(g):c.getParent()}return b},isMenuChild:function(c){return null!=d.findParentNode(c,"dijitPopup")},getParentMenu:function(c){c=d.findParentNode(c,"dijitPopup");return!c?null:h.getEnclosingWidget(c.children[0])},isInvokingWidget:function(c,
d){return d?g.getMenuWidget(c)===d:null!=g.getMenuWidget(c)},getInvokingWidget:function(c){if(c._invokingWidget)return c._invokingWidget;c=d.findParentNode(c,"dijitPopup");return!c?null:h.getEnclosingWidget(document.getElementById(c.getAttribute("dijitpopupparent")))},getMenuWidget:function(c){return c.menu||c.dropDown},isMenuOpen:function(c){if(null==c)return!1;var f=c;c.domNode&&c.domNode.hasAttribute("data-composite-child")&&(c=document.getElementById(c.domNode.getAttribute("data-composite-primary-id")),
f=h.getEnclosingWidget(c));return f&&f.dropDown&&(d.containsClass(f.domNode,"dijitOpened")||d.containsClass(f.domNode,"dijitHasDropDownOpen"))||f&&f.isMenuOpen&&f.isMenuOpen()||f&&f.domNode&&d.findParentNode(f,"dijitPopup")&&(f.getParent&&f.getParent()&&f.getParent().isMenuOpen&&f.getParent().isMenuOpen()||"none"!==d.getStyle(d.findParentNode(f,"dijitPopup"),"display"))},isDescendant:function(c,f){if(null==c)return!1;c.domNode&&(c=c.domNode);if(null==f)return!1;f.domNode&&(f=f.domNode);return d.isDescendantOrInLaw(c,
f,function(b){if((b=h.getEnclosingWidget(b))&&g.isMenuChild(b)&&g.isMenuOpen(b))if((b=g.getInvokingWidget(b))&&b.domNode)return b.domNode;return null},!0)},getPrimaryWidget:function(c){var f;if(c.domNode)f=c.domNode;else if(c instanceof HTMLElement)f=c;else throw Error("The input value must be a widget or HTML Element.");return f&&f.hasAttribute("data-composite-child")?h.getEnclosingWidget(d.getById(f.getAttribute("data-composite-primary-id"))):c}};return g})},"mw-utils/domUtils":function(){define(["dojo/sniff"],
function(h){var d={messages:{INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},
_validateElement:function(g){if(!(g instanceof Element))throw Error(d.messages.INVALID_ELEMENT);},_validateString:function(g){if("String"===typeof g)throw Error(d.messages.INVALID_STRING);},isLeftMouseButton:function(d){return!0===d.synthetic&&h("ie")?1===d.button:0===d.button},parseFocusEvent:function(g){if(!(g instanceof FocusEvent))throw Error(d.messages.INVALID_FOCUS_EVENT);var c={};c.lostFocusNode=g.target;c.gainedFocusNode=h("chrome")||h("safari")?g.relatedTarget:document.activeElement;c.type=
g.type;c.eventdata=g;return c},getParent:function(g){d._validateElement(g);return g.parentNode},findParentNode:function(g,c,f){var b=null,l;g.domNode&&(g=g.domNode);for(;g&&g!==window.document;){if(d.hasAttr(g,c)){b=g;break}if(d.hasAttrValue(g,c,f)){b=g;break}if(d.containsClass(g,c)){b=g;break}g=(l=d.getAttr(g,"dijitpopupparent"))?d.getById(l):g.parentNode}return b},getNodeType:function(g){d._validateElement(g);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",
11:"Document Fragment"}[g.nodeType]},getById:function(g){d._validateString(g);return window.document.getElementById(g)},getByClass:function(g){d._validateString(g);return window.document.getElementsByClassName(g)},getByAttr:function(g){d._validateString(g);return window.document.querySelectorAll("["+g+"]")},getByAttrValue:function(g,c){d._validateString(g);d._validateString(c);return window.document.querySelectorAll("["+g+"\x3d"+c.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")},getByName:function(g){d._validateString(g);
return window.document.getElementById("[name\x3d"+g+"]")},getByTag:function(g){d._validateString(g);return window.document.getElementsByTagName(g)},getComputedStyle:function(g,c){d._validateElement(g);return c?(d._validateString(c),window.getComputedStyle(g,null)[c]):window.getComputedStyle(g,null)},getStyle:function(g,c){d._validateElement(g);d._validateString(c);if(void 0===g.style[c])throw Error(d.messages.INVALID_STYLE);return g.style[c]},setStyle:function(g,c,f){d._validateElement(g);d._validateString(c);
d._validateString(f);g.style[c]=f;if(g.style[c]!==f)throw Error(d.messages.INVALID_VALUE);},hasAttr:function(g,c){d._validateElement(g);d._validateString(c);return g.hasAttribute(c)},hasAttrValue:function(g,c,f){d._validateElement(g);d._validateString(c);d._validateString(f);return g.hasAttribute(c)&&g.getAttribute(c)===f},getAttr:function(g,c){d._validateElement(g);d._validateString(c);return g.getAttribute(c)},setAttr:function(g,c,f){d._validateElement(g);d._validateString(c);d._validateString(f);
g.setAttribute(c,f)},addAttr:function(g,c){d._validateElement(g);d._validateString(c);g.setAttribute(c,"")},removeAttr:function(g,c){d._validateElement(g);d._validateString(c);g.removeAttribute(c)},getClasses:function(g){d._validateElement(g);return g.classList?g.classList:{_element:g,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(c){this._element.className=c.join(" ");this.length=c.length},length:g.className.split(" ").length,item:function(c){return this._getClassArray()[c]},
contains:function(c){for(var d=this._getClassArray(),b=0;b<d.length;b++)if(d[b]===c)return!0;return!1},add:function(c){var d=this._getClassArray();d.push(c);this._updateClassName(d)},remove:function(c){var d=this._getClassArray();c=d.indexOf(c);0<=c&&(d.splice(c,1),this._updateClassName(d))},toggle:function(c){if(this.contains(c))return this.remove(c),!1;this.add(c);return!0}}},getClass:function(g,c){if(null==c||"number"!==typeof c||0>c||0!==c%1)throw Error(d.messages.INTEGER_INDEX);return d.getClasses(g).item(c)},
addClass:function(g,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(g).add(c)},removeClass:function(g,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(g).remove(c)},toggleClass:function(g,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(g).toggle(c)},containsClass:function(g,c){if(null==c||"string"!==typeof c)throw Error(d.messages.STRING_INDEX);return d.getClasses(g).contains(c)},
classCount:function(g){return d.getClasses(g).length},getChildCount:function(g){d._validateElement(g);return g.childElementCount},getChildren:function(g){d._validateElement(g);return g.children},isDescendant:function(g,c,f){d._validateElement(g);d._validateElement(c);if(f&&g===c)return!0;for(;g&&g!==window.document;)if(g=d.getParent(g),g===c)return!0;return!1},isDescendantOrInLaw:function(g,c,f,b){var l;if("function"!==typeof f)throw Error(d.messages.SPOUSE_NODE);l=d.isDescendant(g,c,b);!1===l&&(g=
f(g)||g.parentNode)&&g!==window.document&&(l=d.isDescendantOrInLaw(g,c,f,b));return l},getFirstChild:function(g){d._validateElement(g);return!d.isContainer(g)||1>d.getChildCount(g)?null:d.getChildren(g)[0]},getLastChild:function(g){var c;d._validateElement(g);c=d.getChildCount(g);return!d.isContainer(g)||1>c?null:d.getChildren(g)[c-1]},isContainer:function(g){d._validateElement(g);return 0<d.getChildCount(g)},getAdjacentElement:function(g,c){d._validateElement(g);if(!c||0>["next","previous"].indexOf(c))c=
"next";return g=g[c+"Sibling"]},getElementPositionInViewPort:function(g){d._validateElement(g);g=g.getBoundingClientRect();return{x:g.left,y:g.top,w:g.right-g.left,h:g.bottom-g.top}},getElementPositionOnPage:function(g){d._validateElement(g);g=d.getElementPositionInViewPort(g);g.x+=window.pageXOffset;g.y+=window.pageYOffset;return g},isFocusable:function(g){d._validateElement(g);return g&&!g.hasAttribute("disabled")&&(!g.hasAttribute("aria-disabled")||"true"!==g.getAttribute("aria-disabled"))&&"none"!==
g.style.display&&!g.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(g){var c,f,b,l;d._validateElement(g);c=g.getBoundingClientRect();f=window.innerWidth||doc.documentElement.clientWidth;b=window.innerHeight||doc.documentElement.clientHeight;l=function(b,a){return document.elementFromPoint(b,a)};return 0>c.right||0>c.bottom||c.left>f||c.top>b?!1:g.contains(l(c.left,c.top))||g.contains(l(c.right,c.top))||g.contains(l(c.right,c.bottom))||g.contains(l(c.left,c.bottom))},_obscuredProps:{}};
d._obscuredProps.sawPosAbsolute=!1;d._obscuredProps.elementPosition=null;d.isElementObscuredByParent=function(g,c){var f,b,l,h;d._validateElement(g);h=!1;if(l=d.getParent(g))if(c||(d._obscuredProps.elementPosition=d.getElementPositionOnPage(g),d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(g,null).position),f=d._obscuredProps.elementPosition,b=d._obscuredProps.sawPosAbsolute,l&&"Element"===d.getNodeType(l)&&"BODY"!==l.nodeName){var a=d.getElementPositionOnPage(l);l=window.getComputedStyle(l,
null);/relative|absolute/.test(l.position)&&(b=d._sawPosAbsolute=!1);!b&&/hidden|auto|scroll/.test(l.overflow)&&(h=f.y<a.y||f.y+f.h>a.y+a.h||f.x<a.x||f.x+f.w>a.x+a.w)}return h};d.isElementObscuredByAncestor=function(g){var c,f;d._validateElement(g);c=!1;d._obscuredProps.elementPosition=d.getElementPositionOnPage(g);for(d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(g,null).position;(f=d.getParent(g))&&"Element"===d.getNodeType(f)&&"BODY"!==f.nodeName;)c=d.isElementObscuredByParent(g,
!0),g=f;return c};return d})},"mw-menu/mixins/property/MaxHeightMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{maxHeight:800,_setMaxHeightAttr:function(d){if("number"!==typeof d)throw Error("'MaxHeight' property expects a Number!");this.domNode.style.maxHeight=d+"px";this._set("maxHeight",d)}})})},"mw-menu/CheckBoxMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/CheckBox mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G){return h(H.validate([g,c,f,b,l,v,z,a,k,e,n,q,r,s,t,u,x,p,w,y,A,B,D]),{baseClass:"mwWidget mwSharedMenuItem mwCheckBoxMenuItem",templateString:G,constructor:function(){this.checkBox=new m({text:""});this.own(this.checkBox)},_setCheckedAttr:function(a){this.inherited(arguments);this.checkBox.set("checked",a);this.get("closeMenuOnClick")&&(a?(this.checkBox.domNode.classList.add("mwSpecialCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwNoCheckBoxIcon")):
(this.checkBox.domNode.classList.add("mwNoCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwSpecialCheckBoxIcon")))},buildRendering:function(){this.inherited(arguments);this.checkBox.placeAt(this.domNode,"first")},postCreate:function(){this.inherited(arguments);this.checkBox._triggerChangeEvent=function(){};this.checkBox._onClick=function(){};this.domNode.setAttribute("data-composite-primary","");(this.checkBox.focusNode||this.checkBox.domNode).setAttribute("data-composite-child","");(this.checkBox.focusNode||
this.checkBox.domNode).setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.checkBox.startup()},_onClick:function(){this.inherited(arguments);this.checkBox.set("checked",this.get("checked"))},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/CheckBox":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBox.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){return h(x.validate([g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u]),{baseClass:"mwWidget mwCheckBox",templateString:w,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())}})})},"mw-mixins/property/CheckedMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","mw-mixins/event/ChangeEventMixin"],function(h,d,g,c){h=h(null,{checked:!1,checkableNode:null,postCreate:function(){this.get("checkableNode")||this.set("checkableNode",this.domNode);this.inherited(arguments);this.domNode.classList.add("mwCheckedMixin");this.own(g(this.get("checkableNode"),"click",d.hitch(this,"_onClick")))},_setCheckedAttr:function(c){this._set("checked",c);this._setAriaPressed();this._setAriaChecked();this.baseClass.split(" ").forEach(function(b){c?this.domNode.classList.add(b+
"Checked"):this.domNode.classList.remove(b+"Checked")},this)},_setCheckableNodeAttr:function(c){this.checkableNode=c||this.domNode},_setAriaPressed:function(){var c=this.focusNode?this.focusNode:this.domNode;c.hasAttribute("aria-pressed")&&c.setAttribute("aria-pressed",this.get("checked"))},_setAriaChecked:function(){var c=this.focusNode?this.focusNode:this.domNode;c.hasAttribute("aria-checked")&&c.setAttribute("aria-checked",this.get("checked"))},_onClick:function(){var c=this.get("checked"),b=!this.get("checked");
this.set("checked",b,!0);this._triggerChangeEvent("checked",c,b)}});h._dependencies=[{mixin:c,orderDependent:!1}];return h})},"mw-mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this.set("text",this.get("text"))},_setTextAttr:function(d){if("string"!==typeof d)throw Error("'text' property expects a literal string!");this._updateTextInDOM(d);this._set("text",
d)},_updateTextInDOM:function(d){this._placeTextInNode(d);0===this._getTextForDOM(d).length?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(d,g){void 0===g&&(g=this.textNode);for(;g.firstChild;)g.removeChild(g.firstChild);var c=this._getTextForDOM(d,g);if(0<c.length){var f=document.createElement("span");f.classList.add("mwTextLine");f.textContent=c;g.appendChild(f);g.classList.remove("mwEmptyNode")}else g.classList.add("mwEmptyNode")},_getTextForDOM:function(d){return d}})})},
"mw-form/mixins/CheckBoxRadioButtonTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry"],function(h,d){return h(null,{_setWidthAttr:function(){this.inherited(arguments);if(this._started)if("auto"!==this.get("width")){var g=d.position(this.checkBoxRadioIconNode),c=d.getMarginExtents(this.textNode);this.textNode.style.width=this.width-(g.w+c.l)+"px"}else this.textNode.style.width="auto"}})})},"mw-mixins/PreventSelectionMixin":function(){define(["dojo/_base/declare","dojo/on"],
function(h,d){return h(null,{postCreate:function(){this.inherited(arguments);this._getNonSelectableNodes().forEach(function(g){d(g,"selectstart",function(c){if((document.documentMode||"Netscape"===navigator.appName&&-1===navigator.appVersion.indexOf("Trident"))&&("INPUT"!==c.target.nodeName||"TEXTAREA"!==c.target.nodeName))return!1;c.preventDefault()})})},_getNonSelectableNodes:function(){return[this.domNode]}})})},"mw-menu/mixins/property/CloseMenuOnClickMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","dijit/popup"],function(h,d,g,c){return h(null,{closeMenuOnClick:!1,postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"change",d.hitch(this,"_onChange")));this.domNode.classList.add("mwCloseMenuOnClickMixin");this.set("closeMenuOnClick",this.get("closeMenuOnClick"))},_setCloseMenuOnClickAttr:function(c){if("boolean"!==typeof c)throw Error("'closeMenuOnClick' property expects a Boolean!");this._set("closeMenuOnClick",c);c?this.domNode.classList.add("mwClosePopupOnClick"):
this.domNode.classList.remove("mwClosePopupOnClick")},_onChange:function(){this.get("closeMenuOnClick")&&(c.close(),this.emit("closeRequest"))}})})},"mw-mixins/property/ShortcutMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize","mw-mixins/property/DescriptionMixin"],function(h,d,g){h=h(null,{shortcut:"",platformizeShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShortcutMixin");this.set("shortcut",this.get("shortcut"))},_setShortcutAttr:function(c){if("string"!==
typeof c)throw Error("'shortcut' property expects a literal string!");this._updateShortcut(c);this._set("shortcut",c)},_updateShortcut:function(c){this.shortcutKeyNode?(this.shortcutKeyNode.textContent=this._getPlatformizedShortcut(c),!1===this.get("showShortcut")?this.domNode.classList.add("mwHideShortcut"):""===c?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut")):this._updateTitle(this._getPlatformizedShortcut(c),!0)},_getPlatformizedShortcut:function(c){return this.get("platformizeShortcut")?
d.getPlatformSpecificString(c):c},_setPlatformizeShortcutAttr:function(c){if("boolean"!==typeof c)throw Error("'platformizeShortcut' property expects a boolean value!");this._set("platformizeShortcut",c);this._updateShortcut(this.get("shortcut"))}});h._dependencies=[{mixin:g,orderDependent:!0,type:"shortcut"}];return h})},"mw-menu/mixins/property/ShowDescriptionMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{showDescription:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowDescriptionMixin")},_setShowDescriptionAttr:function(d){if("boolean"!==typeof d)throw Error("'showDescription' property expects a Boolean!");!1===d?this.domNode.classList.add("mwHideDescription"):this.descriptionNode&&""===this.descriptionNode.textContent?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");this._set("showDescription",d)}})})},"mw-menu/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{showText:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowTextMixin")},_setShowTextAttr:function(d){if("boolean"!==typeof d)throw Error("'showText' property expects a Boolean!");d?this.domNode.classList.remove("mwHideText"):this.domNode.classList.add("mwHideText");this._set("showText",d)}})})},"mw-menu/mixins/property/ShowShortcutMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{showShortcut:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowShortcutMixin")},_setShowShortcutAttr:function(d){if("boolean"!==typeof d)throw Error("'showShortcut' property expects a Boolean!");!1===d?this.domNode.classList.add("mwHideShortcut"):this.shortcutNode&&""===this.shortcutNode.textContent?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut");this._set("showShortcut",d)}})})},"mw-menu/mixins/SingleLineTextMixin":function(){define(["dojo/_base/declare","mw-mixins/property/TextMixin"],
function(h,d){var g=h(null,{_getTextForDOM:function(c){c=this.inherited(arguments);return c=c.replace(/\n/g," ")}});g._dependencies=[{mixin:d,orderDependent:!0}];return g})},"mw-menu/mixins/FocusableMenuChildMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom dojo/on dojo/mouse dojo/touch dijit/focus dijit/registry mw-dom-utils/domUtils".split(" "),function(h,d,g,c,f,b,l,m,a,k){return h(null,{postCreate:function(){this.inherited(arguments);var a=g("touch")&&!window.PointerEvent;
this.own(f(this.domNode,"click",d.hitch(this,"_onMouseClick")),f(this.domNode,a?l.release:"mouseup",d.hitch(this,"_onMouseUp")),f(this.domNode,b.enter,d.hitch(this,"_onMouseEnter")),f(this.domNode,"focusout",d.hitch(this,"_focusLost")));this.domNode.classList.add("mwFocusableMenuChildMixin")},_focusLost:function(b){setTimeout(d.hitch(this,function(){var d,f=k.parseFocusEvent(b).gainedFocusNode,g=a.getEnclosingWidget(f);if(g&&(d=g.focusNode||g.domNode)&&d.hasAttribute("data-composite-child"))if(g=
a.getEnclosingWidget(c.byId(d.getAttribute("data-composite-primary-id"))),g===this)return;this!==g&&(d=this.getParentWidget(),(null==g||k.isFocusable(f))&&(d&&d._focusChange)&&d._focusChange(g),this.focusLost&&this.focusLost(g))}),0)},_onMouseClick:function(a){a.mwEventData?(this.focus(),this.closeMenuOnClick&&this._requestClose(!1)):(a.preventDefault(),a.stopImmediatePropagation())},_onMouseEnter:function(a){this.focusNode&&k.isFocusable(this.focusNode)&&this.focus()},_onMouseUp:function(a){a.preventDefault();
a.stopPropagation();!(this.getParentWidget()&&!0===this.getParentWidget()._mouseDownTriggered)&&k.isFocusable(this.focusNode)&&this._emitClickEvent&&(k.isLeftMouseButton(a)||"dojotouchend"===a.type)&&this._emitClickEvent(a)},_requestClose:function(a){var b=this.getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},focus:function(){this.inherited(arguments);k.isFocusable(this.focusNode)&&(m.focus(this.focusNode||this.domNode),
(this.focusNode||this.domNode).focus())},getParentWidget:function(b){if(null==b)if(this.domNode)b=this.domNode;else return null;b.domNode&&(b=b.domNode);if(b.parentNode)b=k.getParent(b);else return null;return a.getEnclosingWidget(b)}})})},"mw-menu/mixins/MenuChildResizeMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(h,d){var g="icon text shortcut description showIcon showText showShortcut showDescription".split(" ");return h(null,{postCreate:function(){this.inherited(arguments);
this.watch(d.hitch(this,function(c,d,b){-1<g.indexOf(c)&&("icon"!==c||this._getIconType(b)!==this._iconTypes.DATA_URI)&&this.emit("updatelayout")}));this.domNode.classList.add("mwMenuChildResizeMixin")}})})},"mw-menu/mixins/MenuItemTextColorMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin","mw-menu/mixins/property/ShowDescriptionMixin"],function(h,d,g){h=h(null,{_setDescriptionAttr:function(c){this.inherited(arguments);""!==c?this.textNode.classList.add("mwBlueText"):
this.textNode.classList.remove("mwBlueText")},_setShowDescriptionAttr:function(c){this.inherited(arguments);c?this.textNode.classList.add("mwBlueText"):this.textNode.classList.remove("mwBlueText")},postCreate:function(){this.inherited(arguments);(this.get("showDescription")&&""===this.get("description")||!this.get("showDescription")&&""!==this.get("description"))&&this.textNode.classList.remove("mwBlueText")}});h._dependencies=[{mixin:d,orderDependent:!0},{mixin:g,orderDependent:!0}];return h})},
"mw-mixins/AccessibilityClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys"],function(h,d,g,c){return h(null,{postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",d.hitch(this,function(f){f.keyCode===c.SPACE&&-1===Array.prototype.slice.call(this.domNode.classList).indexOf("mwComboBox")&&f.preventDefault();setTimeout(d.hitch(this,function(){if(!0!==this.get("disabled"))switch(f.keyCode){case c.ENTER:this._emitClickEvent(f);break;
case c.SPACE:this._emitClickEvent(f)}}),0)})));this.own(g(this.domNode,"keyup",d.hitch(this,function(d){var b=d.keyCode===c.ENTER||d.keyCode===c.SPACE,g=/input|button|textarea/i.test(d.target.nodeName);b&&!g&&d.stopPropagation()})))},_emitClickEvent:function(c){g.emit(c.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:c.keyCode},_dojo_click:!0})},_qeClick:function(){this.emit("click")}})})},"variableeditor/views/table/_VEColumnHeaders":function(){define("variableeditor/views/table/_VEColumnHeaders",
"dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys dijit/registry variableeditor/views/table/_VETableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor dojo/i18n!variableeditor/app/l10n/nls/app variableeditor/views/renderers/_VERendererMixin mw-messageservice/MessageService dojo/text!variableeditor/views/table/VariableEditorColumnHeader.html variableeditor/views/table/_HeadersBase".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){return h([e],{ms:u.messageService,CHANNEL_DuplicateColumnHeader:"ErrorDuplicateColumnHeader",subscriptionCallback:null,subscription:null,pauseValueChangedListener:!1,COLUMN_HEADER_CHANNEL:"/VEColumnHeaderName",_createColumnNode:function(a){var b=new w({templateString:x,editable:q.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),!1),showLabels:q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),showIndices:q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),
!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),labelValue:void 0!==a.label?a.label:void 0===this.getColumnModelProperty(parseInt(a.labelIndex)-1,"HeaderName")?"":this.getColumnModelProperty(parseInt(a.labelIndex)-1,"HeaderName"),indexValue:a.labelIndex});a.icon&&this.getTableModelProperty("ShowHeaderIcons")&&this._addHeaderIconCSS(a.icon,b._inputBoxLabel.domNode);b.setNodeDisplay(b.HEADER_INDEX_ATTACH_POINT,b.showIndices);b.setNodeDisplay(b.HEADER_LABEL_ATTACH_POINT,
b.showLabels);b._inputBoxLabel.isEditable()&&this._attachColumnHeaderListeners(b);b.startup();return b.domNode},_attachColumnHeaderListeners:function(a){var b=this;a._inputBoxLabel.addEventListener("valueChanged",d.hitch(b,"_columnValueChanged",a));a._inputBoxLabel.addEventListener("mousedown",d.hitch(b,"_columnMouseDown"));a._inputBoxLabel.addEventListener("mouseup",d.hitch(b,"_columnMouseUp"));a._inputBoxLabel.addEventListener("click",d.hitch(b,"_columnMouseClick"));a._inputBoxLabel.addEventListener("mousemove",
d.hitch(b,"_columnMouseMove",a._inputBoxLabel));a._inputBoxLabel.addEventListener("editingStarted",d.hitch(b,"_columnEditingStarted"));a._inputBoxLabel.addEventListener("editingStopped",d.hitch(b,"_columnEditingStopped"));this.own(m(a._inputBoxLabel._renderer.domNode,"keydown",d.hitch(b,function(c){!a._inputBoxLabel.isEditing()&&13!==c.keyCode&&b._onTableHeaderKeyDown(c)})))},_removeColumnHeaderListeners:function(a){},_updateColumnNode:function(a,c){var e=k.getEnclosingWidget(a);b.replace(a,"header_"+
c.labelIndex,"header_"+e.indexValue);this._updateColumnNumber(e,c);this._updateColumnLabel(e,c);c.icon&&this.getTableModelProperty("ShowHeaderIcons")&&this._addHeaderIconCSS(c.icon,e._inputBoxLabel.domNode);e=this._getColumnDataTag(c);a.dataset.columnHeaderName=e},_updateColumnNumber:function(a,b){b.labelIndex&&(q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1))?(a.setIndexProperty(parseInt(b.labelIndex)-
1),this.pauseValueChangedListener=!0,a.setIndexValue(b.labelIndex),a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!0),this.pauseValueChangedListener=!1,b.label&&q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0)?a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!0):a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1)):(a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!1),a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1))},_updateColumnLabel:function(a,b){b.label&&q.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),
!0)?(this._updateHeaderEditablity(a),this.pauseValueChangedListener=!0,a.setLabelValue(b.label),a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):(a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!1),a.setNodeDisplay(a.HEADER_BREAK_ATTACH_POINT,!1))},_updateHeaderEditablity:function(a){a._inputBoxLabel.isEditable()!==q.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),!1)&&(a._setEditable(a._inputBoxLabel,q.getLogicalValue(this.getTableModelProperty("EditableColumnHeaderLabels"),
!1)),a._inputBoxLabel.isEditable()?this._attachColumnHeaderListeners(a):this._removeColumnHeaderListeners(a))},_getColumnDataTag:function(a){return a.label},_columnValueChanged:function(a,b){!0!==this.pauseValueChangedListener&&this._isValidColumnHeaderName(a,b.data.newValue)&&this.setColumnModelProperty(a._inputBoxLabel.index,"HeaderName",b.data.newValue)},_handleColumnHeaderError:function(a,b){var c=k.getEnclosingWidget(a.domNode.parentElement);this.setColumnModelProperty(a.index,"HeaderName",a._originalValue);
c&&c._handleError(b)},_isValidHeaderSyntax:function(a){return/^[a-zA-Z][a-zA-Z0-9_]*$/.test(a)},_isValidColumnHeaderName:function(a,b){var c=a._inputBoxLabel;if(a._isValidHeaderName(b)&&64>=b.length&&this._isValidHeaderSyntax(b))return!0;c.cancelEditing(c);q.displayErrorMessage(g.substitute(s.invalidHeaderName,{varName:"'"+b+"'"}));return!1},_columnMouseDown:function(a){this._onColumnMouseDown(a.data);this._onHeaderColumnMouseDown(a.data,!1)},_columnMouseUp:function(a){this._onHeaderColumnMouseUp(a.data);
this._onWindowMouseUp(a.data,!1);void 0!==this._resizingColumn&&this._onColumnMouseUp(a.data);a.data.stopPropagation()},_columnMouseClick:function(a){this._onHeaderClick(a.data);a.data.stopPropagation()},_columnMouseMove:function(a,b){void 0!==this._resizingColumn&&this._onColumnMouseMove(b.data);void 0!==this._selectingColumn&&(a.isEditing()?this._onColumnHeaderSelection(b.data,!1):this._onColumnHeaderSelection(b.data))},_columnEditingStarted:function(a){this.mouseDownColumnHandler.pause()},_columnEditingStopped:function(a){this.mouseDownColumnHandler.resume()}})})},
"variableeditor/views/CategoricalView":function(){define("variableeditor/views/CategoricalView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.CategoricalView",[d],{createTable:function(c){return new g(c)}})})},"variableeditor/views/TableArrayView":function(){define("variableeditor/views/TableArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/MatlabTable",
"dojo/dom-geometry"],function(h,d,g,c,f){return h("variableeditor.views.TableArrayView",[g],{createTable:function(b){return new c(b)}})})},"variableeditor/views/table/MatlabTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-geometry dojo/store/Memory dojo/dom dojo/query dijit/registry dojo/keys variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/ArrayTable".split(" "),function(h,d,g,c,f,b,l,m,a,k,
e,n,p){return h("variableeditor.views.table.MatlabTable",[p,e,n],{lastClickNode:null,constructor:function(a){this.inherited(arguments)},updateModelProperties:function(){this.inherited(arguments);var a=!1;this.dataModel||(this.dataModel=this.peerNode.getProperty("dataModel"),a=!0);this.dataModel&&this.ColumnModelProperties&&this._updateColumnWidths();a&&(this.dataModel=null)},onMouseDown:function(a){this.inherited(arguments);var b=-1,c=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode&&
a.data.renderer.domNode.dataset)&&(b=parseInt(a.data.renderer.domNode.dataset.row),c=parseInt(a.data.renderer.domNode.dataset.col),e=parseInt(a.data.renderer.domNode.dataset.idx));this._setLeadCellPosition(b,c,e)},onMouseEnter:function(a){this.inherited(arguments);if(this.selectable&&!this.isCellEnterListenerPaused){var b=-1,c=-1,e=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode&&a.data.renderer.domNode.dataset)&&(b=parseInt(a.data.renderer.domNode.dataset.row),c=parseInt(a.data.renderer.domNode.dataset.col),
e=parseInt(a.data.renderer.domNode.dataset.idx));this._setLeadCellPosition(b,c,e)}},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);b.oldValue=a.data.oldValue;var c=-1,e=-1,d=-1;b.domNode&&b.domNode.dataset&&(c=parseInt(b.domNode.dataset.row),e=parseInt(b.domNode.dataset.col),d=parseInt(b.domNode.dataset.idx));var f=a.data.newValue;!isNaN(c)&&(!isNaN(e)&&!isNaN(d))&&(b.convert&&(f=b.convert(a.data.newValue)),
this.peerNode.getParent().dispatchEvent("peerEvent",this.peerNode.getParent(),{type:"groupedColumnSetData",row:c,column:e,columnIndex:d,data:f}))}},getCellSelector:function(a,b,c){return this.getRowSelector(a)+" .cell:nth-of-type("+(b-this.colView.start+2)+") .idx_"+c},_setLeadCellPosition:function(a,b,c){this.ColumnModelProperties[b]&&(c=this.ColumnModelProperties[b].GroupColumnSize?this.ColumnModelProperties[b].GroupColumnSize-1:c);this.leadCell={row:Math.min(a,this.getRowCount()-1),column:Math.min(b,
this.getColumnCount()-1),index:isNaN(c)?0:c};this._updateLeadCellStyle()},getLeadNode:function(){if(0>this.leadCell.row||0>this.leadCell.column||0>this.leadCell.index||this.leadCell.row>=this.getRowCount()||this.leadCell.column>=this.getColumnCount())return null;var a=this.getCellSelector(this.leadCell.row,this.leadCell.column,this.leadCell.index);return m(a)[0]},_updateLeadCellStyle:function(){var a={};if(this._isLeadNodeInDom()){var b=this.getLeadNode();if((b=this._getCellFromNode(b))&&!this.isCellSelected(b.row,
b.column)){this.styleManager.updateStyleRules("selectionLeadCell",[]);return}this.blockSelection.isEmpty()||(a[".body .dataBodyWrapper .dataRow .dataBody .row:nth-of-type("+(b.row-this.rowView.start+2)+") .cell:nth-of-type("+(b.column-this.colView.start+2)+") .idx_"+this.leadCell.index]=this.leadCellStyle)}this.styleManager.updateStyleRules("selectionLeadCell",a)},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateColumnNode(b,a);return b},_createRowNode:function(a){var b=this.inherited(arguments);
this._updateRowNode(b,a);return b},_updateColumnWidths:function(){if(this.ColumnModelProperties){this.inherited(arguments);var a,b=!1;if(this.dataModel&&this.columns)for(a=this.dataModel.getCurrentStartCol();a<this.dataModel.getCurrentEndCol();a+=1)if(this.columns[a])try{var c=this.getColumnModelProperty(a,"GroupColumnSize");if(c){var e=parseInt(c,10),f=this.getColumnModelProperty(a,"ColumnWidth"),k=parseInt(f,10);if(null!==f&&void 0!==f&&0<=k&&this._currentColumns&&this._currentColumns[a]&&(this._currentColumns[a].groupColumnSize!==
e||this.columns[a].width!==k*e)){this.columns[a].groupColumnSize=e;var g=this.defaultColumnWidth*e;k>g&&(g=k);this.columns[a].width=g;b=!0}}}catch(l){}b&&(a=d.clone(this.columns),this.peerNode.setProperty("columns",a));this._currentColumns=this.columns}}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(h,d,g){return h("dojo.store.Memory",null,{constructor:function(c){for(var d in c)this[d]=c[d];this.setData(this.data||[])},data:null,
idProperty:"id",index:null,queryEngine:g,get:function(c){return this.data[this.index[c]]},getIdentity:function(c){return c[this.idProperty]},put:function(c,d){var b=this.data,g=this.index,h=this.idProperty,h=c[h]=d&&"id"in d?d.id:h in c?c[h]:Math.random();if(h in g){if(d&&!1===d.overwrite)throw Error("Object already exists");b[g[h]]=c}else g[h]=b.push(c)-1;return h},add:function(c,d){(d=d||{}).overwrite=!1;return this.put(c,d)},remove:function(c){var d=this.index,b=this.data;if(c in d)return b.splice(d[c],
1),this.setData(b),!0},query:function(c,f){return d(this.queryEngine(c,f)(this.data))},setData:function(c){c.items?(this.idProperty=c.identifier||this.idProperty,c=this.data=c.items):this.data=c;this.index={};for(var d=0,b=c.length;d<b;d++)this.index[c[d][this.idProperty]]=d}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(h,d,g){var c=function(f){function b(b){f[b]=function(){var a=arguments,d=g(f,function(e){Array.prototype.unshift.call(a,
e);return c(h[b].apply(h,a))});if("forEach"!==b||l)return d}}if(!f)return f;var l=!!f.then;l&&(f=d.delegate(f));b("forEach");b("filter");b("map");null==f.total&&(f.total=g(f,function(b){return b.length}));return f};d.setObject("dojo.store.util.QueryResults",c);return c})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(h){return function(d,g){function c(b){b=h.filter(b,d);var c=g&&g.sort;c&&b.sort("function"==typeof c?c:function(a,b){for(var e,d=0;e=c[d];d++){var f=
a[e.attribute],g=b[e.attribute],f=null!=f?f.valueOf():f,g=null!=g?g.valueOf():g;if(f!=g)return!!e.descending==(null==f||f>g)?-1:1}return 0});if(g&&(g.start||g.count)){var f=b.length;b=b.slice(g.start||0,(g.start||0)+(g.count||Infinity));b.total=f}return b}switch(typeof d){default:throw Error("Can not query with a "+typeof d);case "object":case "undefined":var f=d;d=function(b){for(var c in f){var d=f[c];if(d&&d.test){if(!d.test(b[c],b))return!1}else if(d!=b[c])return!1}return!0};break;case "string":if(!this[d])throw Error("No filter function "+
d+" was found in store");d=this[d];case "function":}c.matches=d;return c}})},"variableeditor/views/table/_VERowHeaders":function(){define("variableeditor/views/table/_VERowHeaders","dojo/_base/declare dojo/_base/lang dojo/string dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/on dojo/keys dijit/registry variableeditor/views/table/_VETableHeaders variableeditor/constants/CssClassConstants variableeditor/constants/ClassTypeMaps variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor dojo/i18n!variableeditor/app/l10n/nls/app variableeditor/views/renderers/_VERendererMixin mw-messageservice/MessageService variableeditor/views/table/_HeadersBase dojo/text!variableeditor/views/table/VariableEditorRowHeader.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){return h([e],{ms:u.messageService,CHANNEL_DuplicateRowHeader:"ErrorDuplicateRowHeader",subscriptionCallback:null,subscription:null,pauseValueChangedListener:!1,ROW_HEADER_CHANNEL:"/VERowHeaderName",_createRowNode:function(a,b){var c=new x({templateString:w,editable:q.getLogicalValue(this.getTableModelProperty("EditableRowHeaderLabels"),!0),showLabels:q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),!0),showIndices:q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),
!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1),labelValue:void 0!==a.label?a.label:void 0===this.getRowModelProperty(parseInt(a.labelIndex)-1,"RowName")?"":this.getRowModelProperty(parseInt(a.labelIndex)-1,"RowName"),indexValue:a.labelIndex});c.setNodeDisplay(c.HEADER_INDEX_ATTACH_POINT,c.showIndices);c.setNodeDisplay(c.HEADER_LABEL_ATTACH_POINT,c.showLabels);c._inputBoxLabel.isEditable()&&this._attachRowHeaderListeners(c);null!=this.maxIndexWidth&&c.domNode.getElementsByClassName("rowIndex")[0].setAttribute("style",
"width:"+this.maxIndexWidth+"px;");c.startup();return c.domNode},_attachRowHeaderListeners:function(b){var c=this;b._inputBoxLabel.addEventListener("valueChanged",d.hitch(c,"_rowValueChanged",b));b._inputBoxLabel.addEventListener("mousedown",d.hitch(c,"_rowMouseDown"));b._inputBoxLabel.addEventListener("mouseup",d.hitch(c,"_rowMouseUp"));b._inputBoxLabel.addEventListener("click",d.hitch(c,"_rowMouseClick"));b._inputBoxLabel.addEventListener("mousemove",d.hitch(c,"_rowMouseMove",b._inputBoxLabel));
b._inputBoxLabel.addEventListener("editingStarted",d.hitch(c,"_rowEditingStarted"));b._inputBoxLabel.addEventListener("editingStopped",d.hitch(c,"_rowEditingStopped"));b._inputBoxLabel._handleKeyDown=function(e){var d=this._getKeyCode(e);null!==d&&d===a.ENTER&&c._isValidRowHeaderName(b,e.target.value)}},_updateRowNode:function(a,c,e,d){e=k.getEnclosingWidget(a);b.replace(a,"header_"+c.labelIndex,"header_"+e.indexValue);this._updateRowNumber(e,c);this._updateRowLabel(e,c)},_updateRowNumber:function(a,
b){b.labelIndex&&(q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderNumbers"),!0)||q.getLogicalValue(this.getTableModelProperty("ShowCustomRowHeaderNumbers"),!1))?(a.setIndexProperty(parseInt(b.labelIndex)-1),this.pauseValueChangedListener=!0,a.setIndexValue(b.labelIndex),a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):a.setNodeDisplay(a.HEADER_INDEX_ATTACH_POINT,!1)},_updateRowLabel:function(a,b){b.label&&q.getLogicalValue(this.getTableModelProperty("ShowRowHeaderLabels"),
!0)?(this.pauseValueChangedListener=!0,a._inputBoxLabel.index=parseInt(b.labelIndex)-1,a.setLabelValue(b.label),a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!0),this.pauseValueChangedListener=!1):a.setNodeDisplay(a.HEADER_LABEL_ATTACH_POINT,!1)},_rowValueChanged:function(a,b){!0!==this.pauseValueChangedListener&&(0<b.data.newValue.length&&this._isValidRowHeaderName(a,b.data.newValue)?this.setRowModelProperty(a._inputBoxLabel.index,"RowName",b.data.newValue):a._inputBoxLabel._setUIValue(b.data.oldValue))},
_handleDuplicateRowHeaderValues:function(a){var b=k.getEnclosingWidget(a.domNode.parentElement);this.setRowModelProperty(a.index,"RowName",a._originalValue);b&&b._handleDuplicateValues()},_isValidRowHeaderName:function(a,b){var c=a._inputBoxLabel;if(a._isValidHeaderName(b))return!0;c.cancelEditing(c);q.displayErrorMessage(g.substitute(s.invalidHeaderName,{varName:"'"+b+"'"}));return!1},_rowMouseDown:function(a){this._onRowMouseDown(a.data);this._onHeaderRowMouseDown(a.data,!1)},_rowMouseUp:function(a){this._onHeaderRowMouseUp(a.data);
this._onWindowMouseUp(a.data)},_rowMouseClick:function(a){this._onHeaderClick(a.data)},_rowMouseMove:function(a,b){void 0!==this._selectingRow&&(a.isEditing()?this._onRowHeaderSelection(b.data,!1):this._onRowHeaderSelection(b.data))},_rowEditingStarted:function(a){this.mouseDownRowHandler.pause()},_rowEditingStopped:function(a){this.mouseDownRowHandler.resume()}})})},"variableeditor/views/CellArrayView":function(){define("variableeditor/views/CellArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView",
"variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.CellArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new g(c)}})})},"variableeditor/views/VectorStructureArrayView":function(){define("variableeditor/views/VectorStructureArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/StructureArrayTable"],function(h,d,g){return h("variableeditor.views.VectorStructureArrayView",[d],{constructor:function(c){this.table=
{}},createTable:function(c){return new g(c)}})})},"variableeditor/views/table/StructureArrayTable":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-geometry dojo/store/Memory dojo/dom dojo/query dijit/registry dojo/keys variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/ArrayTable".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){return h("variableeditor.views.table.StructureArrayTable",[n,e],{constructor:function(a){this.inherited(arguments)}})})},
"variableeditor/views/DatetimeArrayView":function(){define("variableeditor/views/DatetimeArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.DatetimeArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new g(c)}})})},"variableeditor/views/DurationArrayView":function(){define("variableeditor/views/DurationArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView",
"variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.DurationArrayView",[d],{constructor:function(c){this.table={}},createTable:function(c){return new g(c)}})})},"variableeditor/views/CalendarDurationArrayView":function(){define("variableeditor/views/CalendarDurationArrayView",["dojo/_base/declare","variableeditor/views/ClientArrayView","variableeditor/views/table/ArrayTable"],function(h,d,g){return h("variableeditor.views.CalendarDurationArrayView",[d],{constructor:function(c){this.table=
{}},createTable:function(c){return new g(c)}})})},"variableeditor/views/UITableArrayView":function(){define("variableeditor/views/UITableArrayView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/UITable","dojo/dom-geometry"],function(h,d,g,c,f){return h("variableeditor.views.UITableArrayView",[g],{createTable:function(b){return new c(b)}})})},"variableeditor/views/table/UITable":function(){define("dojo/_base/declare dojo/dom-geometry dojo/store/Memory variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/ArrayTable variableeditor/VariableEditorUtils dojo/_base/lang variableeditor/views/table/BlockSelection".split(" "),
function(h,d,g,c,f,b,l,m,a){return h("variableeditor.views.table.UITable",[b,c,f],{minimumColumnHeaderWidth:75,ColumnNameWidthPadding:8,paddingViewRows:5,paddingPagedRows:5,paddingViewColumns:1,paddingPagedColumns:1,constructor:function(a){this.computedColumnNameWidth=[];this.computedAutoColumnWidths=[]},postCreate:function(){this.inherited(arguments);this.mouseDownRowHandler=this.mouseDownColumnHandler=null},getColumnHeaderPositions:function(){var a=this._getAttachNodes(this.COLUMN_HEADER_ATTACH_POINT);
return l.getColumnHeaderPositions(a)},_onDataModelSet:function(){this.inherited(arguments);this._updateTableHeaders()},_updateColumnHeaderNames:function(){if(this.dataModel&&(this.dataModel.getCurrentStartCol&&this.ColumnModelProperties&&0!==this.ColumnModelProperties.length)&&this.dataModel.getCurrentStartCol()+1===this.ColumnModelProperties[0].ColumnNumber)if(this._computeColumnNameWidthsFromView(),this._hasMoreColumnHeaderThanColumnData()){if(l.logDebug("_VEModelProperties: _updateColumnHeaderNames"),
this.ColumnModelProperties){var a;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol){var b=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0),c=l.getLogicalValue(this.getTableModelProperty("ShowCustomColumnHeaderNumbers"),!1),d=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),f=this.getTableModelProperty("ShowHeaderIcons");this.getTableModelProperty("CornerSpacerTitle");var g=this._getColumnHeaderLength();for(a=
this.dataModel.getCurrentStartCol();a<g;a+=1){this.columns[a]||(this.columns[a]={label:"",labelIndex:null});var h=d?this.getColumnModelProperty(a,"HeaderName"):"",m=c?this.getColumnModelProperty(a,"HeaderNumber"):(a+1).toString(),u=f?this.getColumnModelProperty(a,"icon"):"";u&&(this.columns[a].icon=u);h?(this.columns[a].labelIndex=c?parseInt(m):a+1,this.columns[a].label=h):(this.columns[a].labelIndex=b?a+1:"",this.columns[a].label="")}}}}else this.inherited(arguments)},_updateColumnWidths:function(){if(this.dataModel&&
(this.dataModel.getCurrentStartCol&&this.ColumnModelProperties&&0!==this.ColumnModelProperties.length)&&this.dataModel.getCurrentStartCol()+1===this.ColumnModelProperties[0].ColumnNumber){var a=this._applyAutoColumnWidth(),b=!1;if(a.length===this.columns.length)for(var c=0;c<a.length;c++){if(a[c]!==this.columns[c].width){b=!0;break}}else b=!0;if(b&&(0!=a.length&&(this.computedAutoColumnWidths=a),l.logDebug("_VEModelProperties: _updateColumnWidths"),this.ColumnModelProperties)){a=m.clone(this.columns);
c=!1;if(this.dataModel&&this.dataModel.getCurrentStartCol&&this.dataModel.getCurrentEndCol&&this.columns){for(var d=this._hasMoreColumnHeaderThanColumnData()?this._getColumnHeaderLength():this.dataModel.getCurrentEndCol(),b=this.dataModel.getCurrentStartCol();b<d;b+=1)if(a[b]||(a[b]={width:0}),a[b]&&a[b]!==this._resizingColumn)try{this._getColumnWidthOnTable&&this._getColumnWidthOnTable(b);var f=this.computedAutoColumnWidths[b],g=parseInt(f,10);null!==f&&(void 0!==f&&0<=g)&&(this._currentColumns&&
this._currentColumns[b]&&this._currentColumns[b].width===g?a[b].width=this._currentColumns[b].width:(c=!0,a[b].width=g))}catch(h){Log.error(h),Log.error(h.stack)}a=a.slice(0,this._getColumnHeaderLength())}this._currentColumns&&a.length!==this._currentColumns.length&&(c=!0);c&&0!==a.length&&this.peerNode.setProperty("columns",a);if(a&&(c||!this._currentColumns))this._currentColumns=a}}},getColumnModelProperties:function(a){if(!this._hasMoreColumnHeaderThanColumnData())return this.inherited(arguments);
var b=a;return!this.ColumnModelProperties||!this.ColumnModelProperties.hasOwnProperty(b)?{}:this.ColumnModelProperties[b]},_renderColumnHeader:function(){if(this._hasMoreColumnHeaderThanColumnData()){var a=this.columns.slice(0);this._updateCornerSpacerLabel(this.cornerSpacerNode);var b=this;this._incrementalUpdateNode({node:this.columnHeaderNode,data:a,oldData:this.oldColumnData,start:this.colView.start,end:this.columns.length,oldStart:this.oldColView.start,oldEnd:this.oldColumnData.length,update:function(c,
d,f,g){b._updateColumnNode(c,a[g])},create:function(c,d){return b._createColumnNode(a[d])}});this.oldColumnData=a;this._updateDataStyles()}else this.inherited(arguments)},_updateTableEditable:function(){},_updateColumnStyles:function(){if(this._isPagedData()||this.dataModel.getCurrentEndCol()===this.dataModel.getColumnCount())if(!this._hasMoreColumnHeaderThanColumnData()&&this._isPagedData())this.inherited(arguments);else{var a=this.columns.slice(this.colView.start,this._getColumnHeaderLength()),
b,c={},d;for(b=0;b<a.length;b+=1)d=this._getCellType(a[b]),d=this._getColumnStyles(d),d+="width: "+(a[b]&&null!==a[b].width&&0<=a[b].width?a[b].width:this.defaultColumnWidth)+"px;",c[".dataColumn .cell:nth-child("+(b+2)+")"]=d;this.styleManager.updateStyleRules("columns",c)}},_getColumnHeaderLength:function(){var a=this.dataModel?this.dataModel.getColumnCount():0,b=a;if(l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0)&&!this._isNumberedColumnName())for(;a<this.ColumnModelProperties.length;a++){var c=
this.ColumnModelProperties[a].HeaderName;"undefined"!=typeof c&&""!=c&&(b=a+1)}return b},_hasMoreColumnHeaderThanColumnData:function(){return!this.dataModel?!1:this._getColumnHeaderLength()<=this.dataModel.getColumnCount()?!1:!0},_computeColumnNameWidthsFromView:function(){if(this.dataModel){var a=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaders"),!0),b=l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderLabels"),!0),c=this.dataModel.getCurrentStartCol(),d=this._isPagedData()?
this.dataModel.getCurrentEndCol():this._getColumnHeaderLength();if(a)for(a=0;a<d;a++)this.computedColumnNameWidth[c+a]=l.getComputedColumnHeaderWidth(this.ColumnModelProperties[a]&&b?this.ColumnModelProperties[a].HeaderName:"","12px Helvetica, Helvetica, sans-serif");else this.computedColumnNameWidth=[]}},_applyAutoColumnWidth:function(){var a=[],b=0,c=0,d=[],f=this._getColumnHeaderLength();if(0===f)return[];for(var g=0;g<f;g++){var l=this.getColumnModelProperty(g,"ColumnWidth");l&&0<=l?(a[g]=l,b+=
a[g]):(a[g]=isNaN(this.computedColumnNameWidth[g])?this.minimumColumnHeaderWidth:Math.max(this.computedColumnNameWidth[g]+this.ColumnNameWidthPadding,this.minimumColumnHeaderWidth),d.push({index:g,width:a[g]}),c+=a[g])}var f=this.position.width,g=this._getRowHeaderWidth(),l=this._getVerticalScrollbarWidth(),h=this._getViewportPadding(),f=f-h-g-l;c<f-b&&0!==d.length&&(d.sort(function(a,b){return a.width===b.width?b.index-a.index:a.width-b.width}),this._equallyExpand(d,d.length-1,f-b));for(g=0;g<d.length;g++)a[d[g].index]=
d[g].width;return a},_isPagedData:function(){var a=this._convertPxToCols(0,this.position.width)+1;return this.dataModel.getColumnCount()>a},_isNumberedColumnName:function(){return l.getLogicalValue(this.getTableModelProperty("ShowColumnHeaderNumbers"),!0)},_getRowHeaderWidth:function(){return this.showRowHeaders?this.rowHeaderWidth:0},_getVerticalScrollbarWidth:function(){return this._isVerticalScrollBarShown()?this.scrollbarWidth-2:0},_getViewportPadding:function(){return this.showRowHeaders?4:2},
_equallyExpand:function(a,b,c){if(c<a[b].width*(b+1))for(var d=b;a[d-1];d--){if(a[d].width!==a[d-1].width){this._equallyExpand(a,d-1,c-a[d].width*(b-d+1));break}}else{var f=parseInt(c/(b+1));c=parseInt(c%(b+1));for(d=0;d<c;d++)a[d].width=f+1;for(d=c;d<=b;d++)a[d].width=f}},resize:function(){this.inherited(arguments);this._updateColumnWidths()},_updateTotalColumnWidth:function(a){this.totalColumnWidth=0;var b;for(b=0;b<a;b+=1)if(this.columns[b])if(0<=this.columns[b].width)this.totalColumnWidth+=this.columns[b].width;
else{var c=this.computedAutoColumnWidths[b]?this.computedAutoColumnWidths[b]:this.getColumnModelProperty(b,"ColumnWidth"),d=parseInt(c,10);null!==c&&void 0!==c&&0<=d?(this.totalColumnWidth+=d,this.columns[b].width=d):(this.totalColumnWidth+=this.defaultColumnWidth,this.columns[b].width=this.defaultColumnWidth)}},_updateTableHeaders:function(){l.logDebug("_VEModelProperties: _updateTableHeaders");this.RowModelProperties&&(this._updateRowHeaderNames(),this._updateRowHeaderDisplay());this.ColumnModelProperties&&
(this._updateColumnHeaderNames(),this._updateColumnWidths(),this._updateTotalColumnWidth(this.columns.length),this._updateColumnHeaderDisplay())},_onRowMouseDown:function(){},_onColumnMouseDown:function(){},_onHeaderColumnMouseDown:function(a){a.preventDefault()},_onHeaderRowMouseDown:function(a){a.preventDefault()},_onCornerMouseDown:function(){},onMouseDown:function(a){this.contextMenu&&this.contextMenu.close();if(this.selectable){this.cellsDragged=this.isCellEnterListenerPaused=!1;this.mouseMotionHandler.resume();
var b=-1,c=-1;a&&(a.data&&a.data.renderer&&a.data.renderer.domNode)&&(c=this._getRowColumnFromNode(a.data.renderer.domNode),b=c.row,c=c.col);this.isCellDraggable(b,c)&&this.isCellSelected(b,c)&&!a.data.shiftKey?this.selectionUpdated=!1:(this._updateAndRenderSelection(b,c,a.data),this.selectionUpdated=!0)}},_updateAndRenderSelection:function(b,c,d){this._setLeadCellPosition(b,c);this.anchorRow=b;this.anchorColumn=c;this.blockSelection.isEmpty()&&this._resetShiftKeyPivot();var f=new a({indexedRows:!this.sendSelectionRanges}),
f=this._updateBlockSelection(b,c,f,d);this.blockSelection.matchingSelection(f)||(this.blockSelection=f,this._renderSelection(),this.setServerSelection(!1))},_updateBlockSelection:function(a,b,c,d){"none"!==this.selectionType&&"none"!==this.selectionMode&&(d&&d.shiftKey?(d=null,d=this.getShiftKeyPivot(),0>d[0]&&0>d[1]?c.add(0,a,0,b):c.add(d[0],a,d[1],b)):(this._setShiftKeyPivot(a,b),c.addCell(a,b)));return c},_updateSelection:function(b,c,d){var f,g;this._setLeadCellPosition(b,c);d=new a({indexedRows:!this.sendSelectionRanges});
f=Math.min(this.anchorRow,b);b=Math.max(this.anchorRow,b);g=Math.min(this.anchorColumn,c);c=Math.max(this.anchorColumn,c);d.add(f,b,g,c);this.blockSelection=d;this._renderSelection()}})})},"variableeditor/views/UITableTableView":function(){define("variableeditor/views/UITableTableView",["dojo/_base/declare","dojo/_base/lang","variableeditor/views/ClientArrayView","variableeditor/views/table/UITableTable","dojo/dom-geometry"],function(h,d,g,c,f){return h("variableeditor.views.UITableTableView",[g],
{createTable:function(b){return new c(b)}})})},"variableeditor/views/table/UITableTable":function(){define("dojo/_base/declare dojo/dom-geometry dojo/store/Memory variableeditor/views/table/_VEColumnHeaders variableeditor/views/table/_VERowHeaders variableeditor/views/table/UITable variableeditor/VariableEditorUtils dojo/_base/lang variableeditor/views/table/BlockSelection".split(" "),function(h,d,g,c,f,b,l,m,a){return h("variableeditor.views.table.UITableTable",b,{updateModelProperties:function(){this.inherited(arguments);
var a=!1;this.dataModel||(this.dataModel=this.peerNode.getProperty("dataModel"),a=!0);this.dataModel&&this.ColumnModelProperties&&(this._updateColumnWidths(),this._updateColumnHeaderNames());a&&(this.dataModel=null)},_createColumnNode:function(a){var b=this.inherited(arguments);this._updateColumnNode(b,a);return b},_createRowNode:function(a){var b=this.inherited(arguments);this._updateRowNode(b,a);return b},onValueChanged:function(a){if(!a||!(a.data&&"server"===a.data.source)){var b=null;a.data.editor?
b=a.data.editor:a.data.renderer&&(b=a.data.renderer);b.oldValue=a.data.oldValue;var c=-1,d=-1,f=-1;b.domNode&&b.domNode.dataset&&(c=parseInt(b.domNode.dataset.row),d=parseInt(b.domNode.dataset.col),f=parseInt(b.domNode.dataset.idx));var g=a.data.newValue;!isNaN(c)&&(!isNaN(d)&&!isNaN(f))&&(b.convert&&(g=b.convert(a.data.newValue)),this.peerNode.getParent().dispatchEvent("peerEvent",this.peerNode.getParent(),{type:"groupedColumnSetData",row:c,column:d,columnIndex:f,data:g}))}}})})},"variableeditor/views/editors/ArrayOfValuesTextBoxEditor":function(){define("variableeditor/views/editors/ArrayOfValuesTextBoxEditor",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),function(h,d,g,c,f,b){return h("variableeditor.views.editors.ArrayOfValuesTextBoxEditor",[b],{_applyFormatting:function(b,c){var a=null;if("client"===!c)return b;if(!Array.isArray(b)&&"string"===typeof b){try{a=JSON.parse(b),a instanceof Array||(a=[a])}catch(d){0===b.indexOf("[")&&b.lastIndexOf("]")===b.length-1&&(b=b.substring(1,b.length-1)),a=b.replace(/,/g,
" ").split(/\s+/)}var e=!0;if("categorical"===this._state.classname||"datetime"==this._state.classname||"duration"==this._state.classname)e=!1;e&&(a=a.map(function(a){var b=f.filterFloat(a);return b!==b?a:b}.bind(this)));return a}return b},setCursorPosition:function(){var b=this._getUIValue().length;f.selectRange(this._inputBox.inputNode,b,b)}})})},"variableeditor/views/editors/ArrayOfStringsTextBoxEditor":function(){define("variableeditor/views/editors/ArrayOfStringsTextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),
function(h,d,g,c,f,b){return h("variableeditor.views.editors.ArrayOfStringsTextBoxEditor",[b],{_commit:function(){var b=this._getUIValue();""===b?b=[]:(0==b.indexOf("{")&&b.indexOf("}")==b.length-1&&(b=b.substring(1,b.length-1).replace(/'/g,"")),b=b.split(","),1==b.length&&0<b[0].indexOf(";")&&(b=b[0].split(";")),b=b.map(function(b){return b.trim()}));null!==b&&void 0!==b&&this.hasValueChanged(b)?this.setValue(b,"client"):this._setUIValue(this._originalValue);b=this._getUIValue();null!==b&&(void 0!==
b&&this.hasValueChanged(b))&&(this._originalEditValue=this._editValue,this._editValue=b)},setCursorPosition:function(){var b=this._getUIValue().length;f.selectRange(this._inputBox.inputNode,b,b)}})})},"variableeditor/views/editors/LogicalEditor":function(){define("variableeditor/views/editors/LogicalEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/keys variableeditor/views/editors/TextBoxEditor".split(" "),function(h,d,g,c,f,b){return h("variableeditor.views.editors.LogicalEditor",
[b],{_handleKeyPress:function(b){this.inherited(arguments);var c=this._getKeyCode(b);null!==c&&c!==f.ENTER||this.makeLogical()},makeLogical:function(){var b=this._getUIValue(),c=b;this._inputBox&&void 0!==b&&(c=this.isNumeric(b)?0===parseInt(b)?"0":"1":"true"===b.toLowerCase()||"yes"===b.toLowerCase()||"on"===b.toLowerCase()?"1":"false"===b.toLowerCase()||"no"===b.toLowerCase()||"off"===b.toLowerCase()?"0":b);this._setUIValue(c)},setValue:function(b,c,a){"0"!==b&&"1"!==b&&(b="logical("+b+")");this.inherited(arguments)},
_setUIValue:function(b){0<=b.indexOf("logical(")&&0<=b.indexOf(")")&&(b=b.substring(8,b.length-1));this.inherited(arguments)},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},stopEditing:function(){this.makeLogical();this.inherited(arguments)}})})},"variableeditor/views/editors/NumericEditor":function(){define("variableeditor/views/editors/NumericEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,d,g,
c,f){return h("variableeditor.views.editors.NumericEditor",[f],{_setUIValue:function(b){var c=b;try{if(null!==b&&void 0!==b&&""!==b){var d=parseInt(b);parseFloat(b)===d&&(c=d);if(this.isHex(b)||this.isRational(b))c=b;this.isComplex(b)&&(c=b)}else c="0"}catch(a){}this._inputBox.set("value",c)},isComplex:function(b){return String(b).replace(/\s+/g,"").match(/^([-+]?(?:\d+|\d*\.\d+))?[-+]?(\d+|\d*\.\d+)?[ij]$/i)},isHex:function(b){return/[0-9A-Fa-f]{16}/g.test(b)},isRational:function(b){return/[0-9]\/[0-9]/.test(b)}})})},
"variableeditor/views/editors/NumericTextEditor":function(){define("variableeditor/views/editors/NumericTextEditor",["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],function(h,d){return h("variableeditor.views.editors.NumericTextEditor",[d],{hasValueChanged:function(d){var c=this.inherited(arguments);try{"string"===typeof d&&"number"===typeof this._originalValue&&"number"===typeof this._editValue&&this._originalValue.toString()===d&&this._editValue.toString()===d&&(c=!1)}catch(f){}return c}})})},
"variableeditor/views/editors/UITableEditor":function(){define("variableeditor/views/editors/UITableEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,d,g,c,f){return h("variableeditor.views.editors.UITableEditor",[f],{_setUIValue:function(b){var c=b;try{if(null===b||void 0===b)c=""}catch(d){}this._inputBox.set("value",c)}})})},"variableeditor/views/editors/UITableStringEditor":function(){define("variableeditor/views/editors/UITableStringEditor",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/StringEditor".split(" "),function(h,d,g,c,f,b){return h("variableeditor.views.editors.UITableStringEditor",[b],{setValue:function(b,c){var a=f.stripOuterDoubleQuotes(b);this.inherited(arguments,[a,c])},_setUIValue:function(b){var c=f.stripOuterDoubleQuotes(b);this.inherited(arguments,[c])},setEditValue:function(b,c){var a=f.stripOuterDoubleQuotes(b);this.inherited(arguments,
[a,c])},_handleFormatting:function(b,c,a){var d=f.stripOuterDoubleQuotes(c);return this.inherited(arguments,[b,d,a])}})})},"variableeditor/views/editors/StringEditor":function(){define("variableeditor/views/editors/StringEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys variableeditor/VariableEditorUtils variableeditor/views/editors/TextBoxEditor".split(" "),function(h,d,g,c,f,b){return h("variableeditor.views.editors.StringEditor",[b],{setValue:function(b,c){var a=f.formatString(b,
c);this.inherited(arguments,[b,c,a])},setEditValue:function(b,c){var a=f.formatString(b,c);this.inherited(arguments,[b,c,a])},_handleKeyDown:function(b){b&&(this._getKeyCode(b)===c.TAB?(this._handleStringFormatting("tab"),b.preventDefault()):this.inherited(arguments))},_handleFormatting:function(b,c,a){return f.handleFormatting(b,c,a)}})})},"variableeditor/views/editors/UITableLogicalEditor":function(){define("variableeditor/views/editors/UITableLogicalEditor",["dojo/_base/declare","dojo/_base/lang",
"dojo/dom-style","dojo/keys","variableeditor/views/editors/UITableEditor"],function(h,d,g,c,f){return h("variableeditor.views.editors.UITableLogialEditor",[f],{_setUIValue:function(b){var c=b;try{"1"===b?c="true":"0"===b&&(c="false")}catch(d){}this._inputBox.set("value",c)}})})},"variableeditor/views/editors/UITableMWComboBox":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-form/ComboBox","mw-mixins/mixinDependencyValidator"],function(h,d,g,c){return h(c.validate([g]),{_isMenuOpenable:!1,
_handleArrowNodeMouseDown:function(c){this._isMenuOpenable&&this.inherited(arguments)}})})},"mw-form/ComboBox":function(){define("dojo/_base/declare dojo/on dojo/_base/lang dojo/keys dijit/popup dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin dijit/focus dojo/mouse mw-mixins/AccessibilityClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-mixins/property/VisualFamilyMixin mw-mixins/ResizeMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/TextField dijit/_Container mw-mixins/KeyNavMixin mw-dom-utils/domUtils mw-mixins/mixinDependencyValidator dojo/text!./templates/ComboBox.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I){var O=h([b,k,m,B,D,w],{baseClass:"mwWidget mwComboBoxPopup",templateString:'\x3cdiv tabindex\x3d"0"\x3e\x3cdiv data-dojo-attach-point\x3d"menuItemsNode"\x3e\x3c/div\x3e\x3c/div\x3e',getChildren:function(){return Array.prototype.slice.call(this.menuItemsNode.childNodes)}});return h(G.validate([b,l,m,a,k,p,q,r,s,t,u,x,w,v,z,y]),{baseClass:"mwWidget mwComboBox",templateString:I,editable:!1,text:"",height:22,width:150,maxHeight:500,ORIENTATION_VALUES:{below:["below",
"below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]},constructor:function(a){a=a||{};this._textField=new A({editable:!1,disabled:!0});this.own(this._textField);this.own(d(this._textField,"typing",g.hitch(this,"_handleTextFieldTyping")),d(this._textField,"keydown",g.hitch(this,"_handleTextFieldKeyDown")));this.menu=new O({});this.own(this.get("menu"));this._isTextEmpty=!0;this._pendingValue=null;if(a&&!1===this.get("editable")&&a.value&&!a.items)throw Error("Value cannot be set on a non-editable combo box without having items");
},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"mousedown",g.hitch(this,"focus")),d(this._textField.inputNode,"blur",g.hitch(this,"_handleTextFieldBlur"),!0),d(this.domNode,"blur",g.hitch(this,"_handleDomNodeBlur"),!0),d(this.domNode,"keydown",g.hitch(this,"_handleDomNodeKeyDown")),d(this.get("menu").menuItemsNode,"click",g.hitch(this,"_handleMenuClick")),d(this.get("menu").menuItemsNode,"keydown",g.hitch(this,"_handleMenuKeyDown")));this._menuNodeMouseDownHandler||(this._menuNodeMouseDownHandler=
g.hitch(this,"_handleArrowNodeMouseDown"),this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("disabled")&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null);this.menu.domNode.addEventListener("blur",g.hitch(this,"_handleMenuBlur"),!0);(void 0===this.get("items")||0===this.get("items").length)&&this.set("items",[]);this.set("menuOrientation","vertical")},startup:function(){this.inherited(arguments);
this.menu.startup();this._textField.startup();this._isResized||this.resize()},destroy:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.textFieldContainerNode);this.inputNode=this._textField.inputNode;this.focusNode=this.domNode},_isDescendant:function(a,b){if(a===b)return!0;for(var c=b.parentNode;null!=c;){if(c===a)return!0;c=c.parentNode}return!1},_handleArrowNodeMouseDown:function(a){!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():
this.closeMenu()},closeMenu:function(){!0===!this._destroyed&&this.domNode.classList.remove("mwHasMenuOpened");f.close(this.menu);this._comboBoxMenuOpened=!1;this.menu&&(this.menu.domNode&&this.menu.domNode.parentNode)&&(this.menu.domNode.parentNode.style.overflowX="visible",this.menu.domNode.parentNode.style.overflowY="visible")},_closeMenuOnBlur:function(a){setTimeout(g.hitch(this,function(){if(!this._isDescendant(this.domNode,document.activeElement)&&!this._isDescendant(this.menu.domNode,document.activeElement)){this.closeMenu();
var a=this._getSelectedItemFromLabel(this.inputNode.value);a||(a={label:"",value:""});!0===this.get("editable")&&""!==this.inputNode.value&&this.inputNode.value!==a.label&&this.inputNode.value!==this.get("value")?a&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value):""===this.inputNode.value&&(""!==this.get("value")&&!0===this.get("editable"))&&this.set("value","")}},0))},_handleMenuBlur:function(a){this._closeMenuOnBlur(a)},_handleMenuItemMouseEnter:function(a){H.isFocusable(a.target)&&
e.focus(a.target)},_handleTextFieldBlur:function(a){!0===this.get("editable")&&this._closeMenuOnBlur(a)},_handleDomNodeBlur:function(a){!1===this.get("editable")&&this._closeMenuOnBlur(a)},_handleUpAndDownArrow:function(a){var b=this.get("menu").getChildren(),d=void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;if(a.keyCode===c.DOWN_ARROW){for(d=d&&void 0!==d.index?(d.index+1)%b.length:0;d<b.length;d++)if(this._isKeyboardNav(b[d])){e.focus(b[d]);break}this._comboBoxMenuOpened||
this._openComboBoxMenu();a.preventDefault()}else if(a.keyCode===c.UP_ARROW){for(d=d&&void 0!==d.index?(d.index-1)%b.length:b.length-1;0<=d;d--)if(this._isKeyboardNav(b[d])){e.focus(b[d]);break}this._comboBoxMenuOpened||this._openComboBoxMenu();a.preventDefault()}},_handleDomNodeKeyDown:function(a){if(!1===this.get("editable")&&!0===!this.get("disabled")&&(this._handleUpAndDownArrow(a),a.keyCode===c.SPACE||a.keyCode===c.ENTER))!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():this.closeMenu(),
a.stopPropagation(),a.preventDefault();a.keyCode===c.ESCAPE&&(!0===this._comboBoxMenuOpened&&(a.stopPropagation(),a.preventDefault()),this.closeMenu())},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?(this._menuNodeMouseDownHandler&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null),this.closeMenu()):this.menuNode&&null===this._menuNodeMouseDownHandler&&(this._menuNodeMouseDownHandler=g.hitch(this,"_handleArrowNodeMouseDown"),
this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("editable")&&this._textField.set("disabled",a)},_handleTextFieldKeyDown:function(a){!0===this.get("editable")&&this._handleUpAndDownArrow(a);!0===this.get("editable")&&a.keyCode===c.ENTER&&(a=this.inputNode.value,this._isTextEmpty=!0,(a=this._getSelectedItemFromLabel(a))&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value),this.closeMenu())},_openComboBoxMenu:function(a){var b=
void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==b&&0<this.get("menu").getChildren().length&&(this.get("menu").getChildren()[b.index].classList.add("mwComboBoxSelectedMenuItem"),this.get("menu").getChildren()[b.index].focus());(!a||!a.typing)&&this.get("menu").getChildren().forEach(function(a,b){"none"===a.style.display&&(a.style.display="")});f.open({parent:this,popup:this.menu,around:this.domNode,orient:this.menuOrientation});this.domNode.classList.add("mwHasMenuOpened");
this._comboBoxMenuOpened=!0;this.menu.domNode.parentElement.classList.contains("mwComboBoxPopupParent")||this.menu.domNode.parentElement.classList.add("mwComboBoxPopupParent")},_handleTextFieldTyping:function(a){var b=a.mwEventData.currentContent,c=RegExp(this._escapeRegExp(b),"i");this.get("menu").getChildren().forEach(g.hitch(this,function(a,d){if(this._isSeparator(a))a.style.display="none";else{var e=a.textContent;if(0===e.toLowerCase().indexOf(b.toLowerCase())){if(""!==b||c.test(e))a.style.display=
""}else a.style.display="none"}}));var d=0;this.get("menu").getChildren().forEach(g.hitch(this,function(a){this._isSeparator(a)&&0<d?(a.style.display="block",d=0):!this._isSeparator(a)&&"none"!==a.style.display&&d++}));this._comboBoxMenuOpened||this._openComboBoxMenu({typing:!0})},_handleMenuKeyDown:function(a){a.keyCode===c.BACKSPACE&&(a.preventDefault(),e.focus(this._textField.focusNode));(a.keyCode===c.ENTER||a.keyCode===c.SPACE)&&!this.get("disabled")&&d.emit(a.target,"click",{bubbles:!0,cancelable:!0,
mwEventData:{keyCode:a.keyCode},_dojo_click:!0});(a.keyCode===c.LEFT_ARROW||a.keyCode===c.RIGHT_ARROW)&&this.editable&&e.focus(this._textField.focusNode);a.keyCode===c.ESCAPE&&(this.closeMenu(),e.focus(this.focusNode),a.stopPropagation(),a.preventDefault())},_handleMenuClick:function(a){this._isSeparator(a.target)?a.preventDefault():(a=this._getSelectedItemFromLabel(a.target.textContent).value,this.set("value",a),this.closeMenu())},_removeSelectedMenuItemColor:function(){var a=void 0!==this._get("value")?
this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==a&&0<this.get("menu").getChildren().length&&this.get("menu").getChildren()[a.index].classList.remove("mwComboBoxSelectedMenuItem")},_onMouseDown:function(){this.inherited(arguments);e.focus(this.get("menu").focusNode)},_getParentPopup:function(a){for(;a;){if(a.classList&&a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=this.get("width"),b=2;"auto"===a&&(a=this.domNode.getBoundingClientRect().width,
b=0);this._textField.domNode.style.width="calc("+a+"px - 22px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+b+"px)"},focus:function(){if(!this.disabled&&this.focusNode.focus)try{setTimeout(g.hitch(this,function(){e.focus(this.focusNode)}),0)}catch(a){}},_setMaxHeightAttr:function(a){if("number"!==typeof a)throw Error("'MaxHeight' property expects a Number!");this.menu.domNode.style.maxHeight=a+"px";this._set("maxHeight",a)},_setValueAttr:function(a){var b=this._getSelectedItemFromValue(a);
if(("number"===typeof a?a.toString():a)&&b&&void 0!==b.index)this._textField.set("value",b.label),this._isTextEmpty=!0,this._removeSelectedMenuItemColor(),0<this.get("menu").getChildren().length&&void 0!==b.index&&this.get("menu").getChildren()[b.index].classList.add("mwComboBoxSelectedMenuItem");else if(("number"===typeof a?a.toString():a)&&!b)if(this.get("editable"))this._removeSelectedMenuItemColor(),this._textField.set("value",a),this._isTextEmpty=!1;else{if(!this.get("items")||0===this.get("items").length){this._pendingValue=
a;return}throw Error("Value must match an existing item for non-editable combo box");}else""===a&&(this._textField.set("value",""),void 0!==this._get("value")&&(this._removeSelectedMenuItemColor(),this._isTextEmpty=!0),""!==this.get("text")&&(this._isTextEmpty=!1));!0===this._isTextEmpty?this.set("text",""):this.set("text",a);b=this.get("value");this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a)},_getValueAttr:function(){return this._get("value")},_setItemsAttr:function(a){a&&
0<a.length?(this.set("value",""),this._initMenuItems(a)):(this.set("value",""),this._destroyMenuItems());this._set("items",a);!1===this.get("editable")&&null!=this._pendingValue&&(this.set("value",this._pendingValue),this._pendingValue=null)},_initMenuItems:function(a){0<this.get("menu").getChildren().length&&this._destroyMenuItems();a.forEach(function(a,b){var c=document.createElement("div");if(a.type&&"separator"===a.type)c.setAttribute("data-refuse-key-nav",!0),c.setAttribute("data-menu-item-type",
"separator"),c.classList.add("mwMenuSeparator"),this.get("menu").menuItemsNode.appendChild(c);else{c.setAttribute("tabIndex","0");"mwDefaultVisualFamily mwTextMixin mwTextMixin mwWidget mwSharedMenuItem mwMenuItem".split(" ").forEach(function(a){c.classList.add(a)});var d=document.createElement("div");d.textContent=a.label;d.classList.add("mwTextNode");c.appendChild(d);this.get("menu").menuItemsNode.appendChild(c);c.addEventListener("mouseover",g.hitch(this,"_handleMenuItemMouseEnter"))}},this)},
_getItemsAttr:function(){return this._get("items")},_setEditableAttr:function(a){a?(this.domNode.classList.add("mwEditableComboBox"),this.domNode.classList.remove("mwNonEditable"),this.focusNode=this._textField.focusNode,this._toggleTextField(!0),this._textField.focusNode.setAttribute("tabIndex","0"),this.menuNode=this.arrowNode,this._set("editable",!0)):(this.domNode.classList.add("mwNonEditable"),this.domNode.classList.remove("mwEditableComboBox"),this.focusNode=this.domNode,this._toggleTextField(!1),
this._textField.focusNode.setAttribute("tabIndex","-1"),this.menuNode=this.domNode,this._set("editable",!1))},_setTextAttr:function(a){!1===this._isTextEmpty||(""===this.get("value")||void 0===this.get("value"))&&""!==a?(this.get("editable")&&void 0===this._getSelectedItemFromValue(a)?(this._set("text",a),this._isTextEmpty=!1):(this._isTextEmpty=!0,this._set("text","")),this._textField.set("value",a)):this._set("text","")},_getTextAttr:function(a){return this._get("text")},_toggleTextField:function(a){this._textField.set("editable",
a);this._textField.set("disabled",!a)},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===this.ORIENTATION_VALUES.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+Object.keys(this.ORIENTATION_VALUES));this._set("menuOrientation",this.ORIENTATION_VALUES[a])},_setWidthAttr:function(a){this.inherited(arguments);(void 0!==this._started||!0===this._started)&&this.resize()},_setPlaceholderAttr:function(a){this._textField.set("placeholder",a);this._set("placeholder",
a)},_getPlaceholderAttr:function(){return this._textField.get("placeholder")},_destroyMenuItems:function(){for(;this.get("menu").menuItemsNode.firstChild;)this.get("menu").menuItemsNode.firstChild.removeEventListener("mouseover",g.hitch(this,"_handleMenuItemMouseEnter")),this.get("menu").menuItemsNode.removeChild(this.get("menu").menuItemsNode.firstChild)},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")},_getSelectedItemFromLabel:function(a){var b={};if(this.get("items")&&
0<this.get("items").length)for(var c=0;c<this.get("items").length;c++){var d=this.get("items")[c];if(void 0!==d.label&&d.label===a){b.label=d.label;b.value=d.value;b.index=c;break}}return void 0!==b.index?b:void 0},_getSelectedItemFromValue:function(a){var b={};if(this.get("items")&&0<this.get("items").length)for(var c=0;c<this.get("items").length;c++){var d=this.get("items")[c];if(void 0!==d.value&&(d.value===a||"object"===typeof d.value&&JSON.stringify(d.value)===JSON.stringify(a))){b.label=d.label;
b.value=d.value;b.index=c;break}}return void 0!==b.index?b:void 0},_isSeparator:function(a){return a&&a.getAttribute("data-menu-item-type")&&"separator"===a.getAttribute("data-menu-item-type")},_isKeyboardNav:function(a){return"none"!==a.style.display&&!this._isSeparator(a)},_qeSelectItemByLabel:function(a){a=this._getSelectedItemFromLabel(a).value;this.set("value",a)},_qeSelectItemByIndex:function(a){a=this.get("items")[a].value;this.set("value",a)}})})},"mw-mixins/ResizeMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{_isResized:!1,startup:function(){this.inherited(arguments);if(!this._isResized){for(var d={parentNode:this.domNode},g=!0;(d=d.parentNode)&&d!==document;)if("none"===d.style.display){g=!1;break}g&&this.resize()}},resize:function(){this.inherited(arguments);this.getChildren&&this.getChildren().forEach(function(d){d.resize&&d.resize()},this);this._isResized=!0}})})},"mw-mixins/KeyNavMixin":function(){define("dojo/_base/declare dijit/registry dijit/focus dojo/_base/lang dojo/on dojo/keys".split(" "),
function(h,d,g,c,f,b){return h(null,{postCreate:function(){this.inherited(arguments);this.own(f(this,"keydown",c.hitch(this,"_handleKeyBoardNavigation")))},_handleKeyBoardNavigation:function(c){var d=g.curNode;if(c.keyCode===b.DOWN_ARROW)this._handleDownArrow(d),c.preventDefault();else if(c.keyCode===b.UP_ARROW)this._handleUpArrow(d),c.preventDefault();else if(c.keyCode===b.PAGE_UP||c.keyCode===b.HOME)this._moveToFirstChild(d),c.preventDefault();else if(c.keyCode===b.PAGE_DOWN||c.keyCode===b.END)this._moveToLastChild(d),
c.preventDefault()},_handleDownArrow:function(b){b=b.parentElement.lastChild===b?b.parentElement.firstChild:b.nextSibling;b=this._moveToNextFocusableNode(b);b.focus()},_handleUpArrow:function(b){b=b.parentElement.firstChild===b?b.parentElement.lastChild:b.previousSibling;b=this._moveToPreviousFocusableNode(b);b.focus()},_moveToNextFocusableNode:function(b){for(var c;b;)if(c=d.getEnclosingWidget(b),b.getAttribute("data-refuse-key-nav")||c&&c.get("disabled")||"none"===b.style.display)b=b.nextSibling?
b.nextSibling:this._moveToFirstChild(b);else break;return b},_moveToPreviousFocusableNode:function(b){for(var c;b;)if(c=d.getEnclosingWidget(b),b.getAttribute("data-refuse-key-nav")||c&&c.get("disabled")||"none"===b.style.display)b=b.previousSibling?b.previousSibling:this._moveToLastChild(b);else break;return b},_moveToFirstChild:function(b){for(b=b.parentElement.firstChild;b;)if(b.getAttribute("data-refuse-key-nav"))b=b.nextSibling;else break;return b},_moveToLastChild:function(b){for(b=b.parentElement.lastChild;b;)if(b.getAttribute("data-refuse-key-nav"))b=
b.previousSibling;else break;return b}})})},"variableeditor/views/editors/UITableNonEditableComboboxEditor":function(){define("variableeditor/views/editors/UITableNonEditableComboboxEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/on variableeditor/views/editors/_EditorBase variableeditor/views/editors/UITableMWComboBox variableeditor/VariableEditorUtils dojo/store/Memory".split(" "),function(h,d,g,c,f,b,l,m,a){return h("variableeditor.views.editors.UITableNonEditableComboboxEditor",
[b],{_comboBox:void 0,_categories:[],_onChangeListener:void 0,_onMouseDownListener:void 0,setValue:function(a,b){a&&a.hasOwnProperty("value");this.inherited(arguments)},setState:function(a){if(this.domNode){if(a&&a.categories){this._categories=[];for(var b=0;b<a.categories.length;b+=1)this._categories.push({label:a.categories[b],value:a.categories[b]});this._createComboBox()}this.inherited(arguments)}},_setupDomClasses:function(){this.addCSSClasses(["variableEditorRenderers","cell","cellRenderer"],
this.domNode);this.addCSSClasses("UITableNonEditable",this.domNode)},_createComboBox:function(){this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(l)?(this._setUIItems(this._categories),this._setUIValue(this._value)):(this._comboBox=new l({items:this._categories,editable:!1}),this._setupDomClasses(),this._setReadOnly(!0),this._setUIValue(this._value),this._onChangeListener=f.pausable(this._comboBox,"change",d.hitch(this,"_onChangeHandler")),c.empty(this.domNode),this.domNode.appendChild(this._comboBox.domNode),
this._comboBox.startup())},postCreate:function(){this._comboBox||this._createComboBox();this.inherited(arguments)},stopEditing:function(){},edit:function(){},_getDefaultState:function(){return{categories:[],isProtected:!0}},_onChangeHandler:function(a){this._onChangeListener.pause();this.setValue(a.mwEventData.newValue,"client");this._onChangeListener.resume()},_getUIValue:function(){return this._comboBox.value},_setUIValue:function(a){this._comboBox&&this._onChangeListener&&(this._onChangeListener.pause(),
"\x3cundefined\x3e"===a?this._comboBox.set("placeholder",a):a!==this._getUIValue()&&this._comboBox.set("value",a),this._onChangeListener.resume())},_setUIItems:function(a){this._onChangeListener.pause();this._comboBox.set("items",this._categories);this._onChangeListener.resume()},getStyleNode:function(a){if("backgroundColor"===a)return this.domNode},_setReadOnly:function(a){this._comboBox&&(this._comboBox._isMenuOpenable=!a,a?this.addCSSClasses(this._notEditableCSSClass,this._comboBox.domNode):this.removeCSSClasses(this._notEditableCSSClass,
this._comboBox.domNode))}})})},"variableeditor/views/editors/ComboBoxEditor":function(){define("variableeditor/views/editors/ComboBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/mouse dojo/keys dojo/on variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase dijit/form/ComboBox dijit/form/FilteringSelect dojo/store/Memory dijit/focus".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h("variableeditor.views.editors.ComboBoxEditor",
[k],{_comboBox:void 0,_isProtected:!1,_isOverrideMode:!1,_showUndefined:!0,_categories:[],_comboChangeListeners:void 0,_showDropDownArrow:!0,_doubleClickDuration:0,_clientValidation:!0,setValue:function(a,b){var c=a;a&&a.hasOwnProperty("value")&&(c=a.value);this.inherited(arguments);this.domNode&&(this._comboBox||this._createComboBox(),this._value=""+c,this._comboBox.set("value",c),this._comboBox.set("displayedValue",c))},startup:function(){this._setReadOnly(!0)},_focus:function(){this._comboBox&&
this._comboBox.focusNode&&this._comboBox.focusNode.focus&&q.curNode!==this._comboBox.focusNode&&q.focus(this._comboBox.focusNode)},setState:function(a){this.domNode&&(a&&(this._clientValidation=void 0!==a.clientValidation?a.clientValidation:!0,this._isProtected=void 0!==a.isProtected?a.isProtected:!1,this._showUndefined=void 0!==a.showUndefined?a.showUndefined:!0,this._categories=a.categories?a.categories:this._categories,this._showDropDownArrow=void 0!==a.showDropDownArrow?this._getPossibleBooleanFunctionValue(a.showDropDownArrow):
this.isEditable(),this._createComboBox(),this._comboBox.textbox.setAttribute("data-tag",this.createDataTag("value")),this._setupDomClasses(a)),this.inherited(arguments))},_setupDomClasses:function(a){this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode)},getStore:function(){var a=this._categories,b=new p;if(a){for(var c=0;c<a.length;c+=1)b.put({name:a[c],id:a[c]});
this._getPossibleBooleanFunctionValue(this._showUndefined,!1)&&b.put({name:"\x3cundefined\x3e",id:"\x3cundefined\x3e"})}return b},updateStore:function(a){var b=this.getStore();if(!(0<b.query({name:a}).length)){b.put({name:a,id:a});a=b.query({});for(var b=[],c=0;c<a.length;c+=1)b[c]=a[c].name;this._updateCategories(b)}},_updateCategories:function(a){var b=this.getState(),c={isProtected:this._isProtected,showUndefined:this._showUndefined};b&&(c=d.clone(b));c.categories=a;this.setState(c)},isInStore:function(a){return 0<
this.getStore().query({name:a}).length},_createComboBox:function(){var b=this._getPossibleBooleanFunctionValue(this._isProtected,!1);if(b?this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(n):this._comboBox&&this._comboBox.isInstanceOf&&this._comboBox.isInstanceOf(e))this._comboBox.store=this.getStore(),this._comboBox.set("value",this._value),this._comboBox.set("displayedValue",this._value),this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",
this._comboBox.domNode);else{var k="";this._comboBox&&this._comboBox.focusNode&&(k=this._comboBox.focusNode.getAttribute("style"));this._comboBox&&this._comboBox.destroyRecursive&&this._comboBox.destroyRecursive();var g=a.mergeObjects(this._allArgs,{"class":"vecombobox",value:this._value,displayedValue:this._value,store:this.getStore(),autoComplete:!0,searchAttribute:"name",invalidMessage:"",missingMessage:"",readOnly:!0,commitOnBlur:null});b?(g.name="categories",this._comboBox=this._clientValidation?
new n(g,"vecombobox"):new e(g,"vecombobox")):this._comboBox=new e(g,"vecombobox");this.addCSSClasses(["variableEditorRenderers","cell","vecombobox"],this._comboBox.domNode);this._comboBox.focusNode.style=k;b=d.hitch(this,"_handleKeyboardEvent");m(this._comboBox.domNode,"keypress",b);this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode);this._comboChangeListeners||(this._comboChangeListeners={});this._comboChangeListeners._onChangeListener=
m.pausable(this._comboBox,"change",d.hitch(this,"_comboBoxChanged"));this._changeObjectListenersState(this._comboChangeListeners,"pause");var h=this,l=this._comboBox.openDropDown;this._comboBox.openDropDown=function(){l.apply(this);h.addCSSClasses("DropDownOpen");h._isOverrideMode||h._selectAllText();var a=[];h._allArgs.cssSpecifier&&a.push(h._allArgs.cssSpecifier);a.push("variableEditorRenderers");a.push("veComboBoxDropDown");h.addCSSClasses(a,h._comboBox.dropDown.domNode);h._comboBox.dropDown.domNode.parentNode&&
"scroll"===c.get(h._comboBox.dropDown.domNode.parentNode,"overflow-y")&&c.set(h._comboBox.dropDown.domNode.parentNode,"border","1px solid rgb(126, 171, 205)");m(h._comboBox.dropDown,"close",d.hitch(this,function(){h.removeCSSClasses("DropDownOpen")}))};this._comboBox.startup();f.empty(this.domNode);this.domNode.appendChild(this._comboBox.domNode);this.own(this._comboBox)}},_handleKeyboardEvent:function(a){if(this.isEditing()){"keypress"===a.type?this._handleKeyPress(a):"keydown"===a.type&&this._handleKeyDown(a);
var b=d.mixin({editor:this},a);this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===l.ESCAPE)&&this.cancelEditing()},_handleKeyPress:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===l.ENTER)&&(!this._clientValidation&&!this.isInStore(this._getUIValue())?this.cancelEditing():this.stopEditing())},_handleBlurEvent:function(a){a===this&&(this.isEditing()&&(!this._clientValidation&&!this.isInStore(this._getUIValue()))&&
this.cancelEditing(),this.inherited(arguments))},postCreate:function(){this._comboBox||this._createComboBox();this._setReadOnly(!0);this.inherited(arguments)},stopEditing:function(){this._changeObjectListenersState(this._comboChangeListeners,"pause");this._comboBox&&this._comboBox.closeDropDown();this.inherited(arguments);this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode);this._setReadOnly(!0)},edit:function(){this.inherited(arguments);
this.removeCSSClasses("noArrow",this._comboBox.domNode);this._setReadOnly(!1);this._comboBox.loadAndOpenDropDown();this._comboBox.dropDown&&(this._comboChangeListeners._onDDChangeListener||(this._comboChangeListeners._onDDChangeListener=m.pausable(this._comboBox.dropDown,"change",d.hitch(this,"_comboBoxChanged"))),this._comboChangeListeners._onDDSelectListener||(this._comboChangeListeners._onDDSelectListener=m.pausable(this._comboBox.dropDown,"select",d.hitch(this,"_comboBoxChanged"))));this._changeObjectListenersState(this._comboChangeListeners,
"resume")},_getDefaultState:function(){return{categories:[],showDropDownArrow:!0,showUndefined:!0,isProtected:!1}},_handleMouseUp:function(){this._comboBox.textbox.focus()},_handleMouseEvent:function(a){this._editOnSingleClick&&(a&&"mouseover"===a.type?this.removeCSSClasses("noArrow",this._comboBox.domNode):a&&"mouseout"===a.type&&(this._showDropDownArrow?this.removeCSSClasses("noArrow",this._comboBox.domNode):this.addCSSClasses("noArrow",this._comboBox.domNode)));this.inherited(arguments)},_comboBoxChanged:function(a){this.isEditing()&&
(a&&a.textContent&&(a=a.textContent),0<a.trim().length&&(this._setUIValue(a),this.updateStore(a),this.stopEditing()))},editOverride:function(a){this.isEditing()||(a&&this._comboBox&&this._comboBox.textbox&&this._comboBox.textbox?(this._isOverrideMode=!0,this._comboBox.textbox.value=a,this.edit()):(this.edit(),this._selectAllText()))},cancelEditing:function(){this.isEditing()&&this._setUIValue(this._originalValue);this.inherited(arguments)},_selectAllText:function(){this._comboBox&&(this._comboBox.textbox&&
this._comboBox.textbox.select)&&this._comboBox.textbox.select()},_getUIValue:function(){return this._comboBox.textbox.value},_setUIValue:function(a){return this._comboBox.set("value",a)},setEditable:function(a){this.inherited(arguments);this._comboBox&&(this.isEditable()?this.removeCSSClasses(this._notEditableCSSClass,this._comboBox.textbox):this.addCSSClasses(this._notEditableCSSClass,this._comboBox.textbox))},_setReadOnly:function(a){this._comboBox&&(!0===a?this._comboBox.set("readOnly",!0):this._comboBox.set("readOnly",
!1))},getStyleNode:function(a){return"backgroundColor"===a?this.domNode:this._comboBox.focusNode},hasValueChanged:function(a){var b=this._originalValue!==a&&this._editValue!==a;return!this._isProtected||!this._clientValidation?b:b&&this.isInStore(a)}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(h,d,g){return h("dijit.form.ComboBox",[d,g],{})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(h,d,g,c,f,b,l){var m=h("dijit.form.ValidationTextBox",f,{templateString:l,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=m.prototype[a]&&(d.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",
a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b=
"",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=
!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?b.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):b.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=g.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&
this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+=
"(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=c.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",
a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){b.hide(this.domNode);this.inherited(arguments)}});return m})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main ../_mw/utils/deprecation".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){n.deprecated({deprecated:{module:"dijit/form/TextBox"},replacement:{module:"mw-form/TextField"},geckNumber:1352405});h=h("dijit.form.TextBox",[m,a],{templateString:k,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:l("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=
this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>l("ie")&&this.defer(function(){try{var a=g.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=
b}}}catch(d){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=d.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(b(this._phspan,"mousedown",function(a){a.preventDefault()}),b(this._phspan,"touchend, pointerup, MSPointerUp",f.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},
_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){c.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){c.deprecated(this.declaredClass+
"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),l("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>l("ie")&&(h.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();
return a.parentElement()==this.textbox&&0<a.text.length},e._setSelectionRange=a._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});return h})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(h,d,g,c){return h("dijit.form._FormValueWidget",[g,c],{_layoutHackIE7:function(){if(7==d("ie"))for(var c=
this.domNode,b=c.parentNode,g=c.firstChild||c,h=g.style.filter,a=this;b&&0==b.clientHeight;)(function(){var c=a.connect(b,"onscroll",function(){a.disconnect(c);g.style.filter=(new Date).getMilliseconds();a.defer(function(){g.style.filter=h})})})(),b=b.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(h,d,g,c,f,b){return h("dijit.form._FormValueMixin",b,{readOnly:!1,_setReadOnlyAttr:function(b){d.set(this.focusNode,
"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,c){this._handleOnChange(b,c)},_handleOnChange:function(b,c){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(h,d,g,c,f,b,l,m){var a=d("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):"",0!=this.compare(d,this.filter(this.parse(c,this.constraints)))&&(c=null)));
if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},_onInput:function(a){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||a);delete this._lastInputProducingEvent;this.intermediateChanges&&this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);this.own(l(this.textbox,"keydown, keypress, paste, cut, compositionend",b.hitch(this,function(a){var d;if("keydown"==a.type&&229!=a.keyCode){d=a.keyCode;switch(d){case f.SHIFT:case f.ALT:case f.CTRL:case f.META:case f.CAPS_LOCK:case f.NUM_LOCK:case f.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(d){case f.NUMPAD_0:case f.NUMPAD_1:case f.NUMPAD_2:case f.NUMPAD_3:case f.NUMPAD_4:case f.NUMPAD_5:case f.NUMPAD_6:case f.NUMPAD_7:case f.NUMPAD_8:case f.NUMPAD_9:case f.NUMPAD_MULTIPLY:case f.NUMPAD_PLUS:case f.NUMPAD_ENTER:case f.NUMPAD_MINUS:case f.NUMPAD_PERIOD:case f.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==f.SPACE)return;d=!1;for(var g in f)if(f[g]===a.keyCode){d=!0;break}if(!d)return}}(d=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(d=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==f.SPACE?String.fromCharCode(a.keyCode):a.keyCode);d||(d=229);if("keypress"==a.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(a.ctrlKey||a.metaKey||a.altKey)return}var h={faux:!0},m;for(m in a)/^(layer[XY]|returnValue|keyLocation)$/.test(m)||
(g=a[m],"function"!=typeof g&&"undefined"!=typeof g&&(h[m]=g));b.mixin(h,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){h._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});this._lastInputProducingEvent=h;!1===this.onInput(h)&&(h.preventDefault(),h.stopPropagation());if(!h._wasConsumed&&9>=c("ie"))switch(a.keyCode){case f.TAB:case f.ESCAPE:case f.DOWN_ARROW:case f.UP_ARROW:case f.LEFT_ARROW:case f.RIGHT_ARROW:break;default:if(a.keyCode==f.ENTER&&"textarea"!=
this.textbox.tagName.toLowerCase())break;this.defer(function(){this.textbox.value!==this._lastInputEventValue&&l.emit(this.textbox,"input",{bubbles:!0})})}})),l(this.textbox,"input",b.hitch(this,"_onInput")),l(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=b.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,
function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(c){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==c&&(this._selectOnClickHandle=l.once(this.domNode,"mouseup, touchend",b.hitch(this,function(b){this._isTextSelected()||
a.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});a._setSelectionRange=m._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};a.selectInputText=m.selectInputText=function(b,c,d){b=g.byId(b);isNaN(c)&&(c=0);isNaN(d)&&
(d=b.value?b.value.length:0);try{b.focus(),a._setSelectionRange(b,c,d)}catch(f){}};return a})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(h,d,g,c,f,b,l,m,a){return h("dijit.form.ComboBoxMixin",[m,b],{dropDownClass:l,hasDownArrow:!0,templateString:a,baseClass:"dijitTextBox dijitComboBox",
cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||c.mixin(a,{_oldAPI:!0,get:function(a){var b=new d;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var k=new d(function(){g.abort&&g.abort()});
k.total=new d;var g=this.fetch(c.mixin({query:a,onBegin:function(a){k.total.resolve(a)},onComplete:function(a){k.resolve(a)},onError:function(a){k.reject(a)}},b));return f(k)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var b=this.declaredClass;c.mixin(this.store,{getValue:function(a,c){g.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly",
"","2.0");return a[c]},getLabel:function(a){g.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){g.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],c.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":
"list")}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){return d("dijit.form._AutoCompleterMixin",e,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;
else if(m("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(d){}}return b},_setCaretPos:function(a,b){b=parseInt(b);k.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==c.ALT||
b==c.CTRL||b==c.META||b==c.SHIFT)){var d=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(e=d.getHighlightedOption()),b){case c.PAGE_DOWN:case c.DOWN_ARROW:case c.PAGE_UP:case c.UP_ARROW:this._opened&&this._announceOption(e);a.stopPropagation();a.preventDefault();break;case c.ENTER:if(e){if(e==d.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(e==d.previousButton){this._nextSearch(-1);a.stopPropagation();
a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case c.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;e&&this._selectOption(e);case c.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(a){var b=this.focusNode;k.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0==
a[c](0).indexOf(this.focusNode.value[c](0))?(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length&&(b.value=a,k.selectInputText(b,c))):(b.value=a,k.selectInputText(b))},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=f.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,c,f.hitch(this,"_getMenuLabelFromItem")),
this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},
isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),
this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];
b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",g.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},
_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (f.isString(this.dropDownClass)?f.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:f.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);
if(!this.store&&this.srcNodeRef&&(this.store=new a({},this.srcNodeRef),!("value"in this.params))){var b=this.item=this.store.fetchSelectedItem();if(b){var c=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(b,c):b[c]}}},postCreate:function(){var a=b('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);h.after(this,"onSearch",f.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=
this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=l.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,
'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}})})},
"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(h,d,g,c,f,b){function l(b){return{id:b.value,value:b.value,name:g.trim(b.innerText||b.textContent||"")}}return h("dijit.form.DataList",f,{constructor:function(f,a){this.domNode=d.byId(a);g.mixin(this,f);this.id&&b.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:c("option",this.domNode).map(l)}])},destroy:function(){b.remove(this.id)},
fetchSelectedItem:function(){var b=c("\x3e option[selected]",this.domNode)[0]||c("\x3e option",this.domNode)[0];return b&&l(b)}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),function(h,d,g,c,f,b,l){return h("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(b){this._set("list",b)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",
ignoreCase:!0,_patternToRegExp:function(b){return RegExp("^"+b.replace(/(\\.)|(\*)|(\?)|\W/g,function(a,b,c,d){return c?".*":d?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=
!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(b){if(!this.disabled&&!this.readOnly){b=b.charOrCode;var a=!1;this._prev_key_backspace=!1;switch(b){case d.DELETE:case d.BACKSPACE:a=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof b||229==b}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},
_startSearch:function(c){this._abortQuery();var a=this,d=g.clone(this.query),e={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},h=f.substitute(this.queryExpr,[c.replace(/([\\\*\?])/g,"\\$1")]),l,q=function(){var c=a._fetchHandle=a.store.query(d,e);!a.disabled&&!(a.readOnly||l!==a._lastQuery)&&b(c,function(f){a._fetchHandle=null;!a.disabled&&(!a.readOnly&&l===a._lastQuery)&&b(c.total,function(b){f.total=b;var c=a.pageSize;if(isNaN(c)||c>f.total)c=f.total;f.nextPage=function(b){e.direction=
b=!1!==b;e.count=c;b?(e.start+=f.length,e.start>=f.total&&(e.count=0)):(e.start-=c,0>e.start&&(e.count=Math.max(c+e.start,0),e.start=0));0>=e.count?(f.length=0,a.onSearch(f,d,e)):q()};a.onSearch(f,d,e)})},function(b){a._fetchHandle=null;a._cancelingQuery||console.error(a.declaredClass+" "+b.toString())})};g.mixin(e,this.fetchProperties);this.store._oldAPI?l=h:(l=this._patternToRegExp(h),l.toString=function(){return h});this._lastQuery=d[this.searchAttr]=l;this._queryDeferHandle=this.defer(q,this.searchDelay)},
constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;b&&(this.store=l.byId(b))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(h,d,g,c,f,b,l,m){return h("dijit.form._ComboBoxMenu",[f,b,m,l],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(d.add(this.previousButton,"dijitMenuItemRtl"),d.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){d.add(a,"dijitMenuItemHover")},onUnhover:function(a){d.remove(a,
"dijitMenuItemHover")},onSelect:function(a){d.add(a,"dijitMenuItemSelected")},onDeselect:function(a){d.remove(a,"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,d=g.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<d;){var f=this.getHighlightedOption();if(a){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=
this.domNode.scrollTop;b+=(f-c)*(a?-1:1);c=f}},handleKey:function(a){switch(a.keyCode){case c.DOWN_ARROW:return this.selectNextNode(),!1;case c.PAGE_DOWN:return this._page(!1),!1;case c.UP_ARROW:return this.selectPreviousNode(),!1;case c.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(h,d,g,c,f){return d("dijit.form._ComboBoxMenuMixin",
null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=f.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(b){this._set("value",b);this.onChange(b)},onClick:function(b){if(b==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(b==this.nextButton)this._setSelectedAttr(null),
this.onPage(1);else this.onChange(b)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(b,c){var d=this._createMenuItem(),a=c(b);a.html?d.innerHTML=a.label:d.appendChild(d.ownerDocument.createTextNode(a.label));""==d.innerHTML&&(d.innerHTML="\x26#160;");return d},createOptions:function(b,c,d){this.items=b;this.previousButton.style.display=0==c.start?"none":"";g.set(this.previousButton,"id",this.id+"_prev");h.forEach(b,function(a,b){var c=
this._createOption(a,d);c.setAttribute("item",b);g.set(c,"id",this.id+b);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var a=!1;b.total&&!b.total.then&&-1!=b.total?c.start+c.count<b.total?a=!0:c.start+c.count>b.total&&c.count==b.length&&(a=!0):c.count==b.length&&(a=!0);this.nextButton.style.display=a?"":"none";g.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var b=this.containerNode;2<b.childNodes.length;)b.removeChild(b.childNodes[b.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare",
"dojo/on","dojo/touch","./_ListBase"],function(h,d,g,c){return h("dijit.form._ListMouseMixin",c,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(c,b){this._setSelectedAttr(b,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=
this.defer(function(){this._deferredClick=null;this.onClick(b)})},_onMouseDown:function(c,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(b,!1)},_onMouseUp:function(c,b){this._isDragging=!1;var d=this.selected,g=this._hoveredNode;d&&b==d?this.defer(function(){this._onClick(c,d)}):g&&this.defer(function(){this._onClick(c,g)})},_onMouseOut:function(c,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=
null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(c,b){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=b;this.onHover(b);this._isDragging&&this._setSelectedAttr(b,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(h,d,g){return h("dijit.form._ListBase",null,{selected:null,_listConnect:function(c,f){var b=this;return b.own(d(b.containerNode,
d.selector(function(b,c,a){return b.parentNode==a},c),function(c){b[f](c,this)}))},selectFirstNode:function(){for(var c=this.containerNode.firstChild;c&&"none"==c.style.display;)c=c.nextSibling;this._setSelectedAttr(c,!0)},selectLastNode:function(){for(var c=this.containerNode.lastChild;c&&"none"==c.style.display;)c=c.previousSibling;this._setSelectedAttr(c,!0)},selectNextNode:function(){var c=this.selected;if(c){for(c=c.nextSibling;c&&"none"==c.style.display;)c=c.nextSibling;c?this._setSelectedAttr(c,
!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var c=this.selected;if(c){for(c=c.previousSibling;c&&"none"==c.style.display;)c=c.previousSibling;c?this._setSelectedAttr(c,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(c,d){if(this.selected!=c){var b=this.selected;if(b)this.onDeselect(b);c&&(d&&g.scrollIntoView(c),this.onSelect(c));this._set("selected",c)}else if(c)this.onSelect(c)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return h("dijit._HasDropDown",s,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(e.once(this.ownerDocument,n.release,k.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(a){var c=this.dropDown,d=!1;if(a&&this._opened){var e=b.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w)||!(a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)f.contains(e,"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(c.onItemClick){for(var k;e&&!(k=p.byNode(e));)e=e.parentNode;if(k&&k.onClick&&k.getParent)k.getParent().onItemClick(k,a)}return}}}if(this._opened){if(c.focus&&(!1!==c.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";f.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(e(this._buttonNode,n.press,k.hitch(this,"_onDropDownMouseDown")),e(this._buttonNode,"click",k.hitch(this,"_onDropDownClick")),e(a,"keydown",k.hitch(this,"_onKey")),e(a,"keyup",k.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=b.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(b))b.stopPropagation(),b.preventDefault();else if(c&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),b.stopPropagation(),b.preventDefault();else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE&&(!this._searchTimer||
b.ctrlKey||b.altKey||b.metaKey))&&("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,b.stopPropagation(),b.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(k.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=
new d,b=k.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,d=a.domNode,e=this._aroundNode||this.domNode,g=this,h=r.open({parent:this,popup:a,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){g.closeDropDown(!0)},onCancel:function(){g.closeDropDown(!0)},
onClose:function(){c.set(g._popupStateNode,"popupActive",!1);f.remove(g._popupStateNode,"dijitHasDropDownOpen");g._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>a._popupWrapper.offsetWidth){var e=e.offsetWidth-a._popupWrapper.offsetWidth,l={w:a.domNode.offsetWidth+e};this._origStyle=d.style.cssText;k.isFunction(a.resize)?a.resize(l):b.setMarginBox(d,l);"R"==h.corner[1]&&(a._popupWrapper.style.left=a._popupWrapper.style.left.replace("px","")-e+"px")}c.set(this._popupStateNode,
"popupActive","true");f.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==d.getAttribute("role")&&!d.getAttribute("aria-labelledby")&&d.setAttribute("aria-labelledby",this.id);return h},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded",
"false"),a&&this.focus&&this.focus(),r.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,delete this._origStyle)}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(h,d,g,c,f){return h("dijit.form.FilteringSelect",[c,f],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&
""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(b,c,d,a){c&&c[this.searchAttr]!==this._lastQuery||!c&&b.length&&this.store.getIdentity(b[0])!=this._lastQuery||(b.length?this.set("item",b[0],a):this.set("value","",a||void 0===a&&!this.focused,this.textbox.value,null))},_openResultList:function(b,c,d){c[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},
_getValueField:function(){return"value"},_setValueAttr:function(b,c,f,a){this._onChangeActive||(c=null);if(void 0===a){if(null===b||""===b)if(b="",!d.isString(f)){this._setDisplayedValueAttr(f||"",c);return}var k=this;this._lastQuery=b;g(this.store.get(b),function(a){k._callbackSetLabel(a?[a]:[],void 0,void 0,c)})}else this.valueNode.value=b,this.inherited(arguments,[b,c,f,a])},_setItemAttr:function(b,c,d){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(b){return b.replace(/([\\\*\?])/g,
"\\$1")},_setDisplayedValueAttr:function(b,c){null==b&&(b="");if(!this._created){if(!("displayedValue"in this.params))return;c=!1}if(this.store){this.closeDropDown();var f=d.clone(this.query),a=this._getDisplayQueryString(b),k;this.store._oldAPI?k=a:(k=this._patternToRegExp(a),k.toString=function(){return a});this._lastQuery=f[this.searchAttr]=k;this._lastDisplayedValue=this.textbox.value=b;this._set("displayedValue",b);var e=this,h={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};d.mixin(h,this.fetchProperties);
this._fetchHandle=this.store.query(f,h);g(this._fetchHandle,function(a){e._fetchHandle=null;e._callbackSetLabel(a||[],f,h,c)},function(a){e._fetchHandle=null;e._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(h,d,g,c){return h("dijit.form.MappedTextBox",c,{postMixInProperties:function(){this.inherited(arguments);
this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(c){return c.toString?c.toString():""},toString:function(){var c=this.filter(this.get("value"));return null!=c?"string"==typeof c?c:this.serialize(c,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=g.place("\x3cinput type\x3d'hidden'"+(this.name&&!d("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+
'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"variableeditor/views/editors/FontNameEditor":function(){define("variableeditor/views/editors/FontNameEditor",["dojo/_base/lang","dojo/_base/declare","variableeditor/views/editors/ComboBoxEditor","variableeditor/VariableEditorUtils","variableeditor/views/editors/FontNameHelper"],function(h,d,g,c,f){var b;return d("variableeditor.views.editors.ComboBoxEditor",[g],{constructor:function(){b||
this._getMATLABFontList()},postCreate:function(){this.inherited(arguments);b&&this._updateCategories(b)},_getMATLABFontList:function(){(new f).getFonts().then(h.hitch(this,function(b){this._setMATLABFontNames(b)}))},_setMATLABFontNames:function(d){!d||!d[0]?c.logDebug("Error getting font list."):(b=d=d[0],this._updateCategories(d))}})})},"variableeditor/views/editors/FontNameHelper":function(){define(["dojo/_base/declare","dojo/Deferred","mw-remote/Remote"],function(h,d,g){return h(null,{_CLASSIFIER:"FEvalFontNameHelperGetFonts",
constructor:function(){g.registerResponseHandler("FEvalResponse:"+this._CLASSIFIER,this._handleEvalResponse,this);g.registerFaultHandler("FEval:"+this._CLASSIFIER,this._handleEvalError,this)},getFonts:function(){var c=new d;g.sendMessage({FEval:{"function":"listfonts",arguments:[],nargout:1,priority:1,dequeMode:"ppe"}},c,this._CLASSIFIER);return c.promise},_handleEvalError:function(c,d){this._implementsDeferred(d)&&d.reject(c)},_handleEvalResponse:function(c,d){1===c[0].results.length?c[0].isError?
d.reject(c[0].messageFaults[0].message):d.resolve(c[0].results):d.reject("Error: Expected 1 result message back from getFonts, received: "+c.length)}})})},"variableeditor/views/editors/CharEditor":function(){define("variableeditor/views/editors/CharEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,d,g,c,f){return h("variableeditor.views.editors.CharEditor",[f],{_applyFormatting:function(b,c){if(b&&(-1<b.indexOf("\n")||
-1<b.indexOf("\t"))&&"server"===c)b=b.replace(/\n/g,"\u21b5"),b=b.replace(/\t/g,"\t");return b}})})},"variableeditor/views/editors/CheckBoxEditor":function(){define("variableeditor/views/editors/CheckBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/keys dojo/on variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase mw-form/CheckBox variableeditor/constants/ClassTypeMaps dijit/focus".split(" "),function(h,d,g,c,f,b,l,m,a,k,
e,n){return h("variableeditor.views.editors.CheckBoxEditor",[a],{_checkBox:void 0,setValue:function(a){var b=a;if(a&&a.hasOwnProperty("value")&&(b=a.value,this._value===b))return;a=b=m.getLogicalValue(b,!1);this._checkBox&&this._setCheckboxValue(b);this.inherited(arguments)},_handleMouseUp:function(){this._focus()},_focus:function(){this._checkBox&&(this._checkBox.focusNode&&this._checkBox.focusNode.focus)&&(n.curNode!==this._checkBox.focusNode&&n.focus(this._checkBox.focusNode),this._checkBox.focusNode.focus())},
edit:function(){},_inPlaceEdit:function(){},setState:function(a){this.domNode&&(this._checkBox||this._setupCheckBox(),this._setupDomClasses(a),this.inherited(arguments))},_setCheckboxValue:function(a){this._checkBox.set("checked",a);this._checkBox.set("value",a);this._checkBox.focusNode&&this._checkBox.focusNode.setAttribute("value",a)},_setupDomClasses:function(a){var b=a?a.dataType?a.dataType:a["class"]:"logical";this._applyCssClass(b,a?a.isTemporaryValue:!1,!1,this._checkBox.domNode);this.addCSSClasses(e.ClassTypeMap[b],
this.domNode);this.addCSSClasses("cellRenderer",this.domNode);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable",this.domNode):this.addCSSClasses("variableEditorNotEditable",this.domNode)},_setupCheckBox:function(){this._checkBox=new k({checked:m.getLogicalValue(this._value,!1),disabled:void 0!==this._editable?!this._editable:!1,tag:this.createDataTag("CheckBoxRenderer","cell"),width:16,height:16});this.isEditable();this._checkBox.on("click",d.hitch(this,"_commitValue"));f.empty(this.domNode);
this.domNode.appendChild(this._checkBox.domNode);this._checkBox.startup();this.own(this._checkBox)},postCreate:function(){this._checkBox||this._setupCheckBox();this.inherited(arguments)},_commitValue:function(a){!0!==this._beingDestroyed&&this.setValue(this._checkBox.get("checked"))},editOverride:function(a){this._editing||(a=m.getLogicalValue(a,!1),this._setCheckboxValue(a),this.edit())},cancelEditing:function(){if(this._editing){var a=m.getLogicalValue(this._originalValue,!1);this._setCheckboxValue(a);
this.inherited(arguments)}},_getUIValue:function(){return this._checkBox.get("checked")},_setUIValue:function(a){this._setCheckboxValue(a)},_setReadOnly:function(a){this._checkBox&&(!0===a?this._checkBox.set("disabled",!0):this._checkBox.set("disabled",!1))}})})},"variableeditor/views/editors/TextAreaEditor":function(){define("variableeditor/views/editors/TextAreaEditor","dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dijit/focus variableeditor/views/editors/_EditorBase variableeditor/views/editors/TextArea variableeditor/VariableEditorUtils".split(" "),
function(h,d,g,c,f,b,l,m){h=h("variableeditor.views.editors.TextAreaEditor",[b],{_textArea:void 0,_inputType:"",_outputType:void 0,_delimiters:[",",";"],setValue:function(a){var b=a;a&&a.hasOwnProperty("value")&&(b=a.value);this._textArea&&this._textArea.set("value",b);this.inherited(arguments);this._value=String(this._value)},setState:function(a){this.domNode&&(this._textArea||this._setupInputNode(),a&&a.outputType&&(this._outputType=a.outputType),a&&a.delimiters&&(this._delimiters=a.delimiters),
this._setupDomClasses(a),this.inherited(arguments))},_setupDomClasses:function(a){this._applyCssClass(a?a.dataType?a.dataType:a["class"]:"char",a?a.isTemporaryValue:!1,!1,this._textArea.domNode);this.renderer&&this.renderer.isEditable()?(this.removeCSSClasses("variableEditorNotEditable",this._textArea.domNode),this.removeCSSClasses("variableEditorNotEditable",this._textArea.inputNode)):(this.addCSSClasses("variableEditorNotEditable",this._textArea.domNode),this.addCSSClasses("variableEditorNotEditable",
this._textArea.inputNode));this.addCSSClasses("veTextAreaEditor")},_handleKeyboardEvent:function(a){if(this._editing){"keydown"===a.type&&this._handleKeyDown(a);var b=d.mixin({editor:this},a);this.dispatchEvent(a.type,this.domNode,b)}else this.inherited(arguments)},_handleKeyDown:function(a){var b=this._getKeyCode(a);a&&(null!==b&&b===c.ESCAPE)&&this.cancelEditing()},_commitValue:function(a){var b=this._getContent(a);b!==this._originalValue?b!==this._getContent(this._editValue)?(this.dispatchEvent("valueChanged",
this,{editor:this,oldValue:this._originalValue,newValue:a}),this._value=this._getContent(a),this._editValue=a,this._originalValue=this._getContent(a),this._textArea.set("value",this._getContent(a)),this._renderer._originalValue=a,this.renderer._editValue=this._editValue):this._revertChanges():this._textArea.set("value",this._originalValue);this.stopEditing()},_getContent:function(a){return"string"===typeof a?0===a.indexOf("[")||0===a.indexOf("{")?a.substring(1,a.length-1):a:JSON.stringify(a)},_getNumericArrayCommitValues:function(a){var b=
[];a=a.replace(/\[|\]/g,"");0<a.length&&a.split(",").forEach(function(a){a=a.replace(/inf(\s*)/ig,"Infinity");b.push(parseFloat(a))});return b},_focus:function(){this._textArea&&this._textArea.focusNode&&this._textArea.focusNode.focus&&f.curNode!==this._textArea.focusNode&&f.focus(this._textArea.focusNode)},_getCommitValue:function(){var a;if(this._textArea){var b=this._textArea.get("value"),c=this._outputType||this._inputType;if(this._delimiters&&this._delimiters.length)for(var d=0;d<this._delimiters.length;d+=
1)b=b.replace(RegExp(this._delimiters[d],"g"),"\n");if("cell"===c||"char"===c&&-1!==b.indexOf("\n"))a=this._getCellArrayValue(b);else if("char"===c)a=this._getCharArrayValue(b);else if("numericArrayStr"===c)a=this._getNumericArrayValue(b);else if("numericArray"===c)a=this._getNumericArrayValue(b),a=this._getNumericArrayCommitValues(a);else if("array"===c){if(""===b)return[];a=b.split(/\r\n|\r|\n/g)}}return a},_handleBlurEvent:function(a){if(a===this&&this._getPossibleBooleanFunctionValue(this._commitOnBlur,
!0)&&(!this.domNode.contains(document.activeElement)||-1===f.activeStack.indexOf(this.domNode.id))){var b=this._getCommitValue();b&&this._commitValue(b);this.inherited(arguments)}},_setupInputNode:function(){this._textArea=new l({value:this._value,readOnly:!0,tag:this.createDataTag("TextBoxRenderer","cell"),style:{resize:"none"}});this.domNode.appendChild(this._textArea.domNode)},postCreate:function(){this._textArea||this._setupInputNode();this.inherited(arguments)},_revertChanges:function(){this._value=
this._originalValue},stopEditing:function(){this._editing&&(this._setReadOnly(!0),this._textArea.set("value",this._originalValue),this.inherited(arguments))},edit:function(){if(!this._editing&&(this._setReadOnly(!1),this.inherited(arguments),this._textArea&&this._textArea.inputNode&&this._textArea.inputNode.focus(),void 0!==this._editValue)){var a=this._getMultiLineEditValue(this._editValue);this._textArea.set("value",a);this._textArea.startup();this._textArea.inputNode.scrollTop=0;m.selectRange(this._textArea.inputNode,
0,0);a=d.hitch(this,"_getFocus");setTimeout(a,0)}},_setReadOnly:function(a){this._textArea&&(!0===a?this._textArea.set("readOnly",!0):this._textArea.set("readOnly",!1))},_getFocus:function(){f.focus(this._textArea.inputNode)},_getMultiLineEditValue:function(a){if("string"===typeof a){if("{}"===a)return this._inputType="cell","";if("[]"===a)return this._inputType="numericArrayStr","";if(0===a.indexOf("{")){this._inputType="cell";if(-1===a.indexOf("'"))return a.substring(1,a.length-1);var b="["+(this._delimiters?
this._delimiters.join(""):",;")+"]";return a.replace(RegExp("(['\"][ ]*"+b+"[ ]*['\"])|([ ]*"+b+"[ ]*['\"])|(['\"][ ]*"+b+"[ ]*)","g"),"\n").replace(/(\{[ ]*['"])|(['"][ ]*\})/g,"")}if(-1!==a.indexOf("'"))return this._inputType="char",a.replace(/'/g,"");0<=a.indexOf("[")&&0<=a.indexOf("]")?this._inputType="numericArrayStr":this._inputType="array";return a.replace("[","").replace("]","").replace(/,/g,"\n").replace(/;/g,"\n")}b=JSON.stringify(a);-1!==b.indexOf('"')?this._inputType="array":this._inputType=
"numericArray";for(var c="",d=0;d<a.length;d+=1)c=c+a[d]+"\n";return"numericArray"===this._inputType&&(c=c.replace(/Infinity/gi,"inf"),""===c&&"number"===typeof a)?b:c.trim()},_getCellArrayValue:function(a){var b=a;0===a.trim().length?b="{}":(b=a.replace(/\'/g,"''").replace(/\n/g,"';'"),-1===a.indexOf("{")&&(b="{'"+b),-1===a.indexOf("'}")&&(b+="'}"));return b},_getCharArrayValue:function(a){var b=a;0===a.trim().length?b="''":(b=a.replace(/\n/g,"';'"),0!==a.indexOf("'")&&(b="'"+b),a.lastIndexOf("'")!==
a.length-1&&(b+="'"));return b},_getNumericArrayValue:function(a){var b;if(0===a.trim().length)b="[]";else{for(b=a.trim().replace(/\n/g,",");-1!==b.indexOf(",,");)b=b.replace(/,,/g,",");-1===a.indexOf("[")&&(b="["+b);-1===a.indexOf("]")&&(b+="]")}return b},editOverride:function(a){this._editing||(this._textArea.set("value",a),this.edit())},cancelEditing:function(){this._editing&&(this._textArea.set("value",this._originalValue),this.inherited(arguments))},_getUIValue:function(){return this._textArea.get("value")},
_setUIValue:function(a){var b=this._outputType||this._inputType;!a&&"numericArray"===b?a="[ ]":!a&&"cell"===b&&(a="{ }");this._textArea.set("value",a)},setOutputType:function(a){this._outputType=a},getOutputType:function(){return this._outputType}});h.INPUT_TYPE_CELL_ARRAY="cell";h.INPUT_TYPE_CHAR_ARRAY="char";h.INPUT_TYPE_NUMERIC_ARRAY_STRING="numericArrayStr";h.INPUT_TYPE_NUMERIC_ARRAY="numericArray";h.INPUT_TYPE_JS_ARRAY="array";return h})},"variableeditor/views/editors/TextArea":function(){define(["dojo/_base/declare",
"dojo/dom-geometry","mw-form/TextArea","mw-mixins/mixinDependencyValidator"],function(h,d,g,c){return h(c.validate([g]),{width:"100%",height:60,_validateSizeInput:function(c){"string"===typeof c&&"%"===c.charAt(c.length-1)||this.inherited(arguments)},_getAdjustedSize:function(c,b,d){if(("width"===c||"height"===c)&&"string"===typeof b){if("%"===b.charAt(b.length-1))return b}else return this.inherited(arguments)}})})},"variableeditor/views/editors/BinaryToggleButtonEditor":function(){define(["dojo/_base/declare",
"variableeditor/views/editors/_EditorBase","mw-form/ToggleButton","variableeditor/views/renderers/_TemplateMixin","dojo/text!variableeditor/views/editors/templates/binaryToggleButtonEditor.html"],function(h,d,g,c,f){return h([d,c],{templateString:f,_enumeratedValues:null,_icon:null,_button:null,setState:function(b){this.inherited(arguments);if(!b.enumeratedValues)throw"Expected enumeratedValues for Editor State";if(!b.icon)throw"Expected icons for Editor State";if(2!==b.enumeratedValues.length)throw"Expected enumeratedValues to be exactly two";
this._editable=this._commitOnBlur=!1;this._enumeratedValues=this._state.enumeratedValues;this._icon=this._state.icon;this._createButton()},postCreate:function(){this.inherited(arguments);this._createButton()},setValue:function(b,c,d){this._value=b;this._setUIValue(b,c,d)},_setUIValue:function(b){this._button&&this._button.set("checked",this._enumeratedValues[1]===b)},_getUIValue:function(){return this._value},_createButton:function(){this._icon&&(!this._button&&this.domNode)&&(this._button=new g({icon:this._icon.IconURL,
checked:this._value===this._enumeratedValues[1],description:"'"+this._enumeratedValues[1]+"'"}),this._button.domNode.setAttribute("data-tag",this.createDataTag("BinaryToggleButton")),this.own(this._button,this._button.on("change",function(b){this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});b.mwEventData.newValue!==this._value&&(b=this._button.get("checked")?this._enumeratedValues[1]:this._enumeratedValues[0],this.dispatchEvent("valueChanged",
this,{renderer:this,oldValue:this._value,newValue:b}))}.bind(this))),this._button.placeAt(this.domNode),this._button.startup())}})})},"mw-form/ToggleButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/ToggleButton.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A){return h(y.validate([g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z]),{baseClass:"mwWidget mwToggleButton",templateString:A,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}}})})},"mw-mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare","dojo/query","dijit/registry","mw-mixins/property/CheckedMixin","mw-mixins/event/ChangeEventMixin"],function(h,d,g,c,f){h=h(null,{buttonGroup:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwButtonGroupMixin")},_setButtonGroupAttr:function(b){if("string"!==typeof b)throw Error("'buttonGroup' property expects a literal string!");0<b.length?this.domNode.setAttribute("data-mw-buttongroup",
b):this.domNode.removeAttribute("data-mw-buttongroup");this._set("buttonGroup",b)},_setCheckedAttr:function(b,c){this.inherited(arguments);b&&this.get("buttonGroup")&&g.toArray().forEach(function(b){this._shouldUncheckWidget(b)&&(b.set("checked",!1),c&&b._triggerChangeEvent("checked",!0,!1))},this)},_shouldUncheckWidget:function(b){return b.get("buttonGroup")===this.get("buttonGroup")&&b!==this&&b.get("checked")},_onClick:function(b){if(this.get("checked")&&this.get("buttonGroup"))return b.stopPropagation(),
b.preventDefault(),!1;this.inherited(arguments)}});h._dependencies=[{mixin:c,orderDependent:!0},{mixin:f,orderDependent:!1}];return h})},"mw-mixins/property/IconAlignmentMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/IconMixin"],function(h,d,g,c){h=h(null,{CLASS_NAME_PREFIX:"mwIconAlignment",constructor:function(){this.ICON_ALIGNMENT_CONFIGURATION={top:{className:this.CLASS_NAME_PREFIX+"Top",textNodeLocation:"after"},right:{className:this.CLASS_NAME_PREFIX+
"Right",textNodeLocation:"before"},bottom:{className:this.CLASS_NAME_PREFIX+"Bottom",textNodeLocation:"before"},left:{className:this.CLASS_NAME_PREFIX+"Left",textNodeLocation:"after"}}},iconAlignment:"left",_supportedValues:["top","right","bottom","left"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconAlignmentMixin")},_setIconAlignmentAttr:function(c){if(!(this.get("iconAlignment")===c&&this._started)){if(-1===this._supportedValues.indexOf(c))throw Error("'iconAlignment' property expects one of these values: "+
this._supportedValues);var b=this.ICON_ALIGNMENT_CONFIGURATION[this.get("iconAlignment")].className;this.domNode.classList.remove(b);this.domNode.classList.add(this.ICON_ALIGNMENT_CONFIGURATION[c].className);d.place(this.textNode,this.iconNode,this.ICON_ALIGNMENT_CONFIGURATION[c].textNodeLocation);this._set("iconAlignment",c)}}});h._dependencies=[{mixin:g,orderDependent:!1},{mixin:c,orderDependent:!1}];return h})},"mw-mixins/property/IconMixin":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/dom-construct","dojo/on"],function(h,d,g,c){return h(null,{_iconTypes:{DATA_URI:"data_uri",CSS_CLASS:"css_class"},icon:"",_lastIconApplied:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconMixin");this.set("icon",this.get("icon"))},_setIconAttr:function(c){if("string"!==typeof c)throw Error("'icon' property expects a literal string!");this._set("icon",c);this._updateDOM(c)},_updateDOM:function(c){this._removeOldIcon();this._applyNewIcon(c)},_removeOldIcon:function(){var c=
this._lastIconApplied,b=this._getIconType(c);b===this._iconTypes.DATA_URI?this._removeImageStyles(this.iconNode):b===this._iconTypes.CSS_CLASS&&""!==c&&c.trim().split(" ").forEach(function(b){this.iconNode.classList.remove(b)},this)},_applyNewIcon:function(f){var b=this._getIconType(f);if(b===this._iconTypes.DATA_URI){var h=g.create("img",{src:f});this.own(c.once(h,"load",d.hitch(this,function(){this._applyImageStyles(this.iconNode,f,h);this.emit("iconapplied");this.emit("updatelayout");g.destroy(h)})))}else b===
this._iconTypes.CSS_CLASS&&""!==f&&f.trim().split(" ").forEach(function(b){this.iconNode.classList.add(b)},this);0===f.length?this.domNode.classList.add("mwNoIcon"):this.domNode.classList.remove("mwNoIcon");this._lastIconApplied=f},_getIconType:function(c){var b="";return b=-1<c.indexOf("data:")?this._iconTypes.DATA_URI:this._iconTypes.CSS_CLASS},_applyImageStyles:function(c,b,d){c.style.backgroundImage="url("+b+")";c.style.width=d.width+"px";c.style.height=d.height+"px"},_removeImageStyles:function(c){c.style.backgroundImage=
"";c.style.width="";c.style.height=""}})})},"mw-mixins/property/VerticalAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/SizeMixin"],function(h,d){var g=["top","middle","bottom"],c={};Object.keys(g).forEach(function(b){c[g[b]]="mwVerticalAlignment"+(g[b].charAt(0).toUpperCase()+g[b].slice(1))});var f=h(null,{verticalAlignment:"middle",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwVerticalAlignmentMixin")},_setVerticalAlignmentAttr:function(b){if(-1===
g.indexOf(b))throw Error("'Vertical alignment' property expects '' one of these values: "+g[b]);this._applyVerticalAlignmentClass(b);this._set("verticalAlignment",b)},_applyVerticalAlignmentClass:function(b){var d;d=this.get("verticalAlignment");(d=c[d])&&this.domNode.classList.remove(d);this.domNode.classList.add(c[b])}});f._dependencies=[{mixin:d,orderDependent:!0}];return f})},"mw-mixins/IconAndTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","mw-mixins/property/SizeMixin"],
function(h,d,g){h=h(null,{_paddingAndBorder:6,_setSize:function(c,d){this.inherited(arguments);if(this._started){var b="";"auto"===d?this._setSpecialSizeOnAdditionalNodes(c,"none"):(b=this._getAdjustedSize(c,d,this.domNode),this._setSpecialSizeOnAdditionalNodes(c,parseInt(b)-this._paddingAndBorder+"px"));this.contentWrapperNode.style[c]="100%"}},_setSpecialSizeOnAdditionalNodes:function(c,d){"width"===c?this.iconAndTextContainerNode.style.maxWidth=d:"height"===c&&(this.textNode.style.maxHeight=d)}});
h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"variableeditor/views/editors/ToggleButtonGroupEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/_EditorBase","mw-form/ToggleButton","variableeditor/views/renderers/_TemplateMixin","dojo/text!variableeditor/views/editors/templates/toggleButtonGroupEditor.html"],function(h,d,g,c,f){var b=0;return h([d,c],{templateString:f,_enumeratedValues:null,_icons:null,_buttonsMap:null,setState:function(b){this.inherited(arguments);
if(!b.enumeratedValues)throw"Expected enumeratedValues for Editor State";if(!b.icons)throw"Expected icons for Editor State";if(2>b.icons.length||b.icons.length!==b.enumeratedValues.length)throw"Expected icons and enumeratedValues to be equal length arrays with 2 or more elements";this._editable=this._commitOnBlur=!1;this._enumeratedValues=this._state.enumeratedValues;this._icons=this._state.icons;this._createAllButtons()},postCreate:function(){this.inherited(arguments);this._createAllButtons()},setValue:function(b,
c,a){this._value=b;this._setUIValue(b,c,a)},_setUIValue:function(b){this._buttonsMap&&this._buttonsMap[b].set("checked",!0)},_getUIValue:function(){return this._value},_createAllButtons:function(){if(this._icons&&!this._buttonsMap&&this.domNode){this._buttonsMap={};var c="variable_editor_toggle_button_group_"+b;b+=1;for(var d=0;d<this._icons.length;d++){var a=this._enumeratedValues[d];this._buttonsMap[a]=this._createSingleButton(a,this._icons[d].IconURL,c);this._buttonsMap[a].placeAt(this.domNode);
this._buttonsMap[a].startup()}}},_createSingleButton:function(b,c,a){c=new g({icon:c,buttonGroup:a,checked:this._value===b,description:"'"+b+"'"});c.domNode.setAttribute("data-tag",this.createDataTag("ToggleButtonGroupEditor.Button",b));this.own(c,c.on("change",function(a){this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});a.mwEventData.newValue&&b!==this._value&&this.dispatchEvent("valueChanged",this,{renderer:this,oldValue:this._value,newValue:b})}.bind(this)));
return c}})})},"variableeditor/views/editors/ScaleColorsTextBoxEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],function(h,d){return h([d],{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-tag","datatools.variableeditor.views.editors.ScaleColorsTextBoxEditor")},setValue:function(d){var c=function(c){return c.map(function(b){return Math.round(100*b)/100}).join()};d instanceof Array&&(d=d[0]instanceof Array?d.map(c).join(";"):
c(d));this.inherited(arguments)},setEditValue:function(d){d=this._value;this.inherited(arguments)},setState:function(d){d&&(d.isMetaData=!1);this.inherited(arguments)}})})},"variableeditor/views/editors/PopupVariableEditor":function(){define("variableeditor/views/editors/PopupVariableEditor","dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-style dojo/keys variableeditor/views/editors/_EditorBase dijit/Dialog variableeditor/ClientPeerManagerFactory mw-messageservice/MessageService".split(" "),
function(h,d,g,c,f,b,l,m,a){return h("variableeditor.views.editors.PopupVariableEditor",[b],{_dialog:void 0,_contentPane:void 0,_manager:void 0,constructor:function(a){this._manager=this._dialog=void 0;a&&this.init(a)},init:function(){this.inherited(arguments);this._dialog=new l({title:"",style:"width: 600px; height: 300px;","class":"variableEditorPopupEditor"});this._dialogClosedListener=g(this._dialog,"hide",d.hitch(this,"stopEditing"))},setValue:function(a){a&&a.hasOwnProperty("value");this.inherited(arguments)},
stopEditing:function(){this._editing&&(this._manager&&m.deleteManager(this._manager),this.dispatchEvent("editingStopped",this,{editor:this,value:this._value,state:this._state}),this._editing=!1)},_setReadOnly:function(){},edit:function(){if(!this._editing){this._editing=!0;this.dispatchEvent("editingStarted",this,{editor:this,currentValue:this._value,currentState:this._state});this._dialog.set("title",this.propertyName);var b="caller";this._allArgs&&(this._allArgs.valueObject&&this._allArgs.valueObject.workspace)&&
(b=this._allArgs.valueObject.workspace);var c=this._value;this._allArgs&&(this._allArgs.valueObject&&this._allArgs.valueObject.editorValue)&&(c=this._allArgs.valueObject.editorValue);this._manager=m.createManager({messageService:a.messageService,ignoreUpdates:!1,editable:!0,resizeBehaviour:"fixed",size:{width:575,height:250}});var d=this;this._manager&&(this._manager.addEventListener("managerReady",function(a){a=a.data.peerManager.openVariable(c,null,null,b);d._dialog.set("content",a)}),this._dialog.show())}}})})},
"variableeditor/ClientPeerManagerFactory":function(){define("variableeditor/ClientPeerManagerFactory",["variableeditor/ClientPeerManager","variableeditor/VariableEditorUtils","mw-log/Log","dojo/topic"],function(h,d,g,c){function f(){m||(m=new h({channel:"/VariableEditorManager"}),a[m.channel]=m,m.manager.addEventListener("rootSet",function(e){d.logDebug("VE: Factory Root Set");var f=e.target;e=f.getProperty("Debug");void 0!==e&&d.setDebug(e.Debug);f.addEventListener("propertySet",function(a){a.data&&
a.data.key&&"Managers"===a.data.key?d.logDebug("VE: Factory Managers Updated"):a.data&&(a.data.key&&"Debug"===a.data.key)&&d.setDebug(a.data.newValue.Debug)});f.addEventListener("peerEvent",function(c){c.data.type&&"FactoryInitialized"===c.data.type?(d.logDebug("VE: Factory Initialized"),b()):c.data.type&&"ManagerCreated"===c.data.type?c.data.Channel&&(a[c.data.Channel]&&a[c.data.Channel].start&&a[c.data.Channel].autoStart)&&(a[c.data.Channel].start(),d.logDebug("VE: Factory Auto Starting Manager ("+
c.data.Channel+")")):c.data.type&&"log"===c.data.type&&c.data.message&&d.logDebug("VE: Server Log ("+c.data.message+")")});c.subscribe("variableeditor/isDebug",function(a){var b=f.getProperty("Debug");a&&(void 0!==a.Debug&&b&&a.Debug!==b.Debug)&&f.setProperty("Debug",{Debug:a.Debug,Source:"client"})});f&&(f.getProperty("Initialized")&&f.getProperty("Initialized").Initialized)&&b()}));return m}function b(){m&&m.getRoot()&&(k.forEach(function(a,b,c){b=m.getRoot();d.logDebug("VE: Factory Create Manager From Queue ("+
a.channel+")");b.dispatchEvent("peerEvent",b,a)}),k=[])}function l(a){a&&!a.isError&&(e=!0,b())}var m,a={},k=[],e=!1,n=0;return{createManager:function(b){f();b.channel||(n+=1,b.channel="/VE_"+n);if(a&&a[b.channel]&&!b.forceNewManager)return a[b.channel];var c=a,d=b.channel,e;if(b){var g=f();b.manager&&(g=b.manager);e=b.channel;var l=b.ignoreUpdates||!1;g||(g=f());(g=g.getRoot())?g.dispatchEvent("peerEvent",g,{type:"CreateManager",channel:e,ignoreUpdates:l||!1}):k.push({type:"CreateManager",channel:e,
ignoreUpdates:l||!1});e=new h(b)}else e=null;c[d]=e;return a[b.channel]},deleteManager:function(b){if(!b&&b.channel)return null;var c=f(),d=b.channel;c||(c=f());(c=c.getRoot())?c.dispatchEvent("peerEvent",c,{type:"DeleteManager",channel:d}):k.push({type:"DeleteManager",channel:d});a[b.channel]=null},start:function(a){a?d.runFactoryInitInMATLAB("internal.matlab.variableeditor.peer.PeerManagerFactory.startup",l):e=!0;f().start()},isStarted:function(){return e}}})},"variableeditor/ClientPeerManager":function(){define("variableeditor/ClientPeerManager",
"dojo/_base/declare dojo/_base/connect mw-peermodel/PeerModelManager mw-peermodel/Observable datatoolsservices/ActionService/ActionDataServiceFactory datatoolsservices/ContextMenuService/ContextMenuManager variableeditor/ClientPeerDocument variableeditor/ContextUpdateManager variableeditor/VariableEditorUtils dojo/topic mw-log/Log".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){var n="";return h("variableeditor.ClientPeerManager",[c.Impl],{constructor:function(a){this.channel="/VariableEditorManager";
this.editable=!0;this.cssSpecifier="mw_type_VariableEditorTable";this.defaultContextId="variable";a&&(this.messageService=a.messageService,this.executionService=a.executionService,this.helpDataService=a.helpDataService,this.channel=a.channel||"/VariableEditorManager",this.editable=void 0===a.editable?!0:a.editable,this.ignoreUpdates=void 0===a.ignoreUpdates?!1:a.ignoreUpdates,this.cssSpecifier=a.cssSpecifier||"mw_type_VariableEditorTable",this.allArgs=a,this.autoStart=void 0===a.autoStart?!0:a.autoStart);
this.topicBase="/ML/"+this.channel;this.allArgs.topicBase=this.topicBase;this.contextUpdateChannel=this.allArgs.contextUpdateChannel=this.topicBase+"/ContextUpdate";this.contextId=this.allArgs.contextId="VariableEditor";d.subscribe("/nonModalDialogClose",this,"purgeAll");this.manager=g.getInstance(this.channel);this.peerDocuments=[];this.variableListeners=[];this.hasFocus=!1;this.contextUpdateManager=this.contextMenuManager=this.actionDataService=this.focusedDocument=null;this.contextNameSpace=this.actionNameSpace=
"";this.managerListeners=[];this._init()},_addDocument:function(b){try{if(b.hasProperty("docID")){this.contextUpdateManager||(this.contextUpdateManager=new m({defaultContextId:this.defaultContextId,contextId:this.contextId,contextUpdateChannel:this.contextUpdateChannel,managerChannel:this.channel}));this.allArgs=a.mergeObjects(this.allArgs,{documentNode:b,rootNode:b&&b.getRoot?b.getRoot():void 0,clientPeerManager:this});var c=b.hasProperty("userContext")?b.getProperty("userContext"):null;if(c&&"string"===
typeof c&&"{"===c.charAt(0))try{c=JSON.parse(b.getProperty("userContext"))}catch(d){e.error(d),e.error(d.stack)}b.getProperty("docID")&&this.peerDocuments[b.getProperty("docID")]?this.peerDocuments[b.getProperty("docID")].init(this.allArgs):c&&c.veTempID&&this.peerDocuments[c.veTempID]?(this.peerDocuments[b.getProperty("docID")]=this.peerDocuments[c.veTempID],this.peerDocuments[b.getProperty("docID")].init(this.allArgs),delete this.peerDocuments[c.veTempID]):this.peerDocuments[b.getProperty("docID")]=
new l(this.allArgs);this.dispatchEvent("variableAdded",this,{peerDoc:this.peerDocuments[b.getProperty("docID")]})}else e.error("Variable Editor Peer Document missing docID properties in childAdded")}catch(f){e.error(f),e.error(f.stack)}},_init:function(){var b=this;this.manager.addEventListener("rootSet",function(c){c=c.target;b.dispatchEvent("managerReady",b,{peerManager:b});c.addEventListener("childAdded",function(a){b._addDocument(a.data.child)});if(c.getChildren&&0<c.getChildren().length)for(var d=
0;d<c.getChildren().length;d+=1){var f=c.getChildren()[d];b._addDocument(f)}c.addEventListener("childRemoved",function(a){if(a.data.child.hasProperty("docID")){a=a.data.child.getProperty("docID");var c=b.peerDocuments[a];delete b.peerDocuments[a];b.dispatchEvent("variableRemoved",b,{peerDoc:c})}else e.error("Variable Editor Peer Document missing docID properties in childRemoved")});c.addEventListener("peerEvent",function(b){b.data.type&&"errormsg"===b.data.type&&(b.data.message?a.displayErrorMessage(b.data.message):
e.warn("VE Server error with no message."))});c.addEventListener("propertySet",function(a){b._handlePropertySet(a)},c);c.hasProperty("ActionsInitialized")&&!b.actionDataService&&(d=c.getProperty("ActionsInitialized"),b._initActionService(d.ActionsInitialized,"ActAsClient"));c.hasProperty("ContextMenuInitialized")&&!b.contextMenuManager&&(c=c.getProperty("ContextMenuInitialized"),b._initContextMenuManager(c.ContextMenuInitialized,"ActAsClient"))})},getRoot:function(){return this.manager.getRoot()},
_initActionService:function(a,b){this.actionNameSpace=a;this.actionDataService=f.getInstance({nameSpace:a,mode:b})},_initContextMenuManager:function(a,c){this.contextNameSpace=a;this.contextMenuManager=new b({namespace:a,mode:c,contextAppID:this.channel})},_handlePropertySet:function(a){if(!a.data||!a.data.newValue||!(a.data.newValue.Source&&"server"!==a.data.newValue.Source)){if("ActionsInitialized"===a.data.key&&!this.actionDataService)namespace=a.data.newValue,namespace.ActionsInitialized&&(namespace=
namespace.ActionsInitialized),this._initActionService(namespace,"ActAsClient");else if("ContextMenuInitialized"===a.data.key&&!this.contextMenuManager)contextnamespace=a.data.newValue,contextnamespace.ContextMenuInitialized&&(contextnamespace=contextnamespace.ContextMenuInitialized),this._initContextMenuManager(contextnamespace,"ActAsClient");else if("HasFocus"===a.data.key){var b=a.data.newValue;void 0!==b.HasFocus&&(this.hasFocus=b.HasFocus,this.dispatchEvent("managerFocusChanged",this,{peerManager:this,
hasFocus:this.hasFocus}))}else if("FocusedDocument"===a.data.key)if((a=a.data.newValue.FocusedDocument)&&this.peerDocuments){for(b in this.peerDocuments)if(this.peerDocuments.hasOwnProperty(b)&&this.peerDocuments[b].varDocID===a){this.focusedDocument=this.peerDocuments[b];break}this.dispatchEvent("variableFocusGained",this,{peerDoc:this.focusedDocument})}else this.focusedDocument&&this.dispatchEvent("variableFocusLost",this,{peerDoc:this.focusedDocument}),this.focusedDocument=null;this.hasFocus&&
(this.focusedDocument&&this.focusedDocument.focus)&&this.focusedDocument.focus()}},setFocusedDocument:function(a){this.focusedDocument=a;this.hasFocus||(n!==a.clientPeerManager.channel&&(k.publish("/datatools/selectionChanged",""),n=a.clientPeerManager.channel),this.manager.getRoot().setProperty("HasFocus",{HasFocus:!0,Source:"client",Channel:this.manager.channel,Document:a.varName}));this.manager.getRoot().setProperty("FocusedDocument",{HasFocus:!0,Source:"client",Channel:this.manager.channel,Document:a.varDocID});
this.hasFocus=!0;this.dispatchEvent("managerFocusChanged",this,{peerManager:this,hasFocus:!0})},removeFocusedDocument:function(a){this.focusedDocument===a&&(this.focusedDocument=[],this.hasFocus&&this.manager.getRoot().setProperty("HasFocus",{HasFocus:!1,Source:"client",Channel:this.manager.channel,Document:a.varName}),this.hasFocus=!1,this.dispatchEvent("managerFocusChanged",this,{peerManager:this,hasFocus:!1}))},openDocument:function(b,c){a.logDebug("VE: Open Document");if(this.peerDocuments[b])return this.peerDocuments[b];
var d=null,d=new l(c);return this.peerDocuments[b]=d},openVariable:function(b,c,d,e){a.logDebug("VE: Open Variable");var f=null;if(!this.ignoreUpdates)for(var k in this.peerDocuments)if(this.peerDocuments.hasOwnProperty(k)){var g=this.peerDocuments[k];b===g.varName&&(f=g)}f||(f=new l,f.varName=b,this._lastTempID||(this._lastTempID=1),this._lastTempID+=1,f.tempID="_temp_id_"+this._lastTempID,this.peerDocuments[f.tempID]=f);k=c||{};k.veTempID=f.tempID;c=this.manager.getRoot();b={type:"OpenVariable",
variable:b,userContext:k};d&&(b.value=d);e&&(b.workspace=e);c&&c.dispatchEvent("peerEvent",c,b);return f},closeVariable:function(b){a.logDebug("VE: Close Variable");var c=this.manager.getRoot();c.dispatchEvent("peerEvent",c,{type:"RemoveDocument",variable:b,userContext:this.userContext})},closeAllVariables:function(){a.logDebug("VE: Close All Variables");var b=this.manager.getRoot();b.dispatchEvent("peerEvent",b,{type:"CloseAll",userContext:this.userContext})},purgeAll:function(){this.closeFcn()},
start:function(){this.manager.setSyncEnabled(!0)},stop:function(){this.manager.setSyncEnabled(!1);var a=this.manager.getRoot();a&&a.destroy&&a.destroy()},destroy:function(){this.inherited(arguments);var a=this;require(["variableeditor/ClientPeerManagerFactory"],function(b){b.deleteManager(a)})}})})},"datatoolsservices/ActionService/ActionDataServiceFactory":function(){define("datatoolsservices/ActionService/ActionDataServiceFactory",["dojo/_base/declare","datatoolsservices/ActionService/ActionDataServiceProvider"],
function(h,d){var g={};return{getInstance:function(c){var f=null,b=c.nameSpace;g[b]?f=g[b]:(f=new d(c),g[b]=f);return f}}})},"datatoolsservices/ActionService/ActionDataServiceProvider":function(){define("datatoolsservices/ActionService/ActionDataServiceProvider",["dojo/_base/declare","datatoolsservices/ActionService/Action","mw-actiondataservice/ActionDataService"],function(h,d,g){return h("datatoolsservices.ActionService.ActionDataServiceProvider",[g],{constructor:function(c){this.allArgs=c;this._actionMap=
{}},onActionRemove:function(c){(c=c.id)&&this._actionMap[c]&&delete this._actionMap[c]},onChildAdd:function(c){var f=c.data.child,b=null,g={};if(f){g=f.getProperties();f.hasProperty("id")||f.setProperty("id",f.getId());var b=new d(g),h=this;b.execute=function(a){h.executeAction(b.getProperty("id"))};this._actionMap[f.getProperty("id")]=b}this.inherited(arguments)},onActionChange:function(c){if(c.id&&this._actionMap[c.id]){var d=this._actionMap[c.id];d._updateProperty(c.key,c.newValue);var b="on"+
c.key+"Change";if(d.hasOwnProperty(b)&&"function"===typeof d[b])d[b](c)}},getActionMap:function(){return this._actionMap},getAction:function(c){if(c)return this._actionMap[c]}})})},"datatoolsservices/ActionService/Action":function(){define("datatoolsservices/ActionService/Action",["dojo/_base/declare","dojo/_base/lang"],function(h,d){return h("datatoolsservices.ActionService.Action",[],{constructor:function(g){this._actionProps={};g&&(this._actionProps=d.mixin({},g))},_updateProperty:function(d,c){d&&
(this._actionProps[d]=c)},getProperty:function(d){if(this._actionProps&&this._actionProps.hasOwnProperty(d))return this._actionProps[d]}})})},"mw-actiondataservice/ActionDataService":function(){define(["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","mw-peermodel/_PropertyIndexerMixin","mw-utils/Utils"],function(h,d,g,c,f){return h([g,c],{constructor:function(b){b=b||{};this._mode=b.mode||"StandAlone";this._nameSpace=b.nameSpace||"/actions/"+f.generateUuid();
this._setupPeerModel();this._callbacks={};this._actionChangeCallbacks={};this._propertyToIndex="id"},_setupPeerModel:function(){switch(this._mode){case "StandAlone":this._peerModelManager=d.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsServer":this._peerModelManager=d.getServerInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);this._peerModelManager.setRoot("Root");
break;case "ActAsClient":this._peerModelManager=d.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);break;default:throw Error("The mode provided is not valid! Please use one of the following: StandAlone, ActAsServer or ActAsClient");}},onPropertySet:function(b){this.onActionChange({id:b.target.getProperty("id"),key:b.data.key,oldValue:b.data.oldValue,newValue:b.data.newValue})},onChildAdd:function(b){b.data.child.getProperty("id")||
b.data.child.setProperty("id",b.data.child.getId());this.onActionAdd({id:b.data.child.getProperty("id")})},loadActions:function(b){Array.isArray(b)&&b.forEach(function(b){this.addAction(b)},this)},addAction:function(b){if("ActAsClient"===this._mode)throw Error("Actions cannot be added while in ActAsClient Mode!");var c;b=b||{};if(b.id&&this._getPeerNodeIdForIndexedProperty(b.id))throw Error("Action id must be unique!");c=this._peerModelManager.getRoot().addChild("Action",b);b.id||c.setProperty("id",
c.getId());b.callback&&this.addActionCallback(c.getProperty("id"),b.callback);return c.getId()},getAction:function(b){return(b=this._actionById(b))?b.getProperties():null},getAllActions:function(){return this._peerModelManager.getRoot().getChildren().map(function(b){return b.getProperties()})},removeAction:function(b){if("ActAsClient"===this._mode)throw Error("Actions cannot be removed while in ActAsClient Mode!");var c=this._getPeerNodeIdForIndexedProperty(b);if(c&&this._peerModelManager.hasById(c))this._peerModelManager.getById(c).destroy(),
delete this._callbacks[b];else throw Error("This is not a valid action id!");},enableAction:function(b){this.updateAction(b,{enabled:!0})},disableAction:function(b){this.updateAction(b,{enabled:!1})},updateAction:function(b,c,d){var a=this._actionById(b);a&&(c.callback&&this.addActionCallback(b,c.callback),a.setProperties(c,d))},actionHasProperty:function(b,c){return this._actionById(b).hasProperty(c)},executeAction:function(b,c){var d;c=c||{};d=this._actionById(b);!0===d.getProperty("enabled")&&
d.dispatchEvent("peerEvent",d,c)},addActionCallback:function(b,c,d){var a=this._actionById(b),f;this.removeActionCallback(b);f=function(b){delete b.data.type;c.call(d||a.getProperties(),b.data)};this._callbacks[b]={callback:f,scope:d};a.addEventListener("peerEvent",f,d)},removeActionCallback:function(b){var c=this._actionById(b),d;if(d=this._callbacks[b])c.removeEventListener("peerEvent",d.callback,d.scope),delete this._callbacks[b]},addActionChangeCallback:function(b,c,d){var a=this._actionById(b),
f;this.removeActionChangeCallback(b);f=function(a){c.call(d,{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue},a.originator)};this._actionChangeCallbacks[b]={callback:f,scope:d};a.addEventListener("propertySet",f,d)},removeActionChangeCallback:function(b){var c=this._actionById(b);this._actionChangeCallbacks[b]&&(c.removeEventListener("propertySet",this._actionChangeCallbacks[b].callback,this._actionChangeCallbacks[b].scope),delete this._actionChangeCallbacks[b])},onActionChange:function(b){},
onActionAdd:function(b){},_actionById:function(b){var c;(b=this._getPeerNodeIdForIndexedProperty(b))&&this._peerModelManager.hasById(b)&&(c=this._peerModelManager.getById(b));return c},destroy:function(){d.cleanup(this._nameSpace)}})})},"mw-peermodel/_PropertyIndexerMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect"],function(h,d,g){return h([],{constructor:function(){this._propertyIndexMap={};g.before(this,"onChildAdd",d.hitch(this,function(c){var d=c.data.child.getProperty(this._propertyToIndex);
d&&(this._propertyIndexMap[d]=c.data.child.getId())}));g.before(this,"onPropertySet",d.hitch(this,function(c){c.data.key===this._propertyToIndex&&c.data.newValue&&(this._propertyIndexMap[c.data.newValue]=c.target.getId())}));g.before(this,"onChildDestroy",d.hitch(this,function(c){delete this._propertyIndexMap[c.data.child.getProperty(this._propertyToIndex)]}))},_getPeerNodeIdForIndexedProperty:function(c){return this._propertyIndexMap[c]}})})},"datatoolsservices/ContextMenuService/ContextMenuManager":function(){define("datatoolsservices/ContextMenuService/ContextMenuManager",
"dojo/_base/declare datatoolsservices/ContextMenuService/ContextMenuBuilder mw-menu/ContextMenu MW/uiframework/contextmanager/ContextManagerFactory datatoolsservices/ActionService/ActionDataServiceFactory mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin MW/uiframework/UIBuilderFactory".split(" "),function(h,d,g,c,f,b,l,m){return h("datatoolsservices.ContextMenuService.ContextMenuManager",[l],{constructor:function(a){a=a||{};this.mode=a.mode||"ActAsClient";this.namespace=a.namespace||
"/ContextMenuManager";this.contextAppID=a.contextAppID||"";this.previousContext="";this._cacheUpdated=!1;this.contextWatchHandle=null;this._contextMenuMap={};this._initProps={};this._startPeerModelService();this._initOnContextChange()},_initServices:function(){this.actionService=f.getInstance({mode:this.mode,nameSpace:this._initProps.actionNamespace});this.contextMenuBuilder=new d({actionService:this.actionService,namespace:this.namespace})},_startPeerModelService:function(){this._peerModelManager=
this._getPeerModelInstance(this.namespace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);var a=this;this._peerModelManager.addEventListener("rootSet",function(b){var c=b.target;b=c.getProperty("actionNamespace");c=c.getProperty("queryString");a._initProps={actionNamespace:b,queryString:c};a._initServices()})},_initOnContextChange:function(){var a=this;this.contextWatchHandle=this._getDefaultContextManager().watch("currentContext",function(b,c,d){c=d.appId;"currentContext"===
b&&(c&&c===a.contextAppID)&&(!a._cacheUpdated&&a._peerModelManager)&&(b=a._peerModelManager.getRoot(),c=a._getPeerModelInstance(a._initProps.actionNamespace).getRoot(),b&&(0<b._children.length&&c)&&(a.createContextMenu(b),a.contextWatchHandle.unwatch()))})},createContextMenu:function(a){var b=this._initProps.queryString;this._contextMenuMap=this.contextMenuBuilder.constructMenuItems(a);this._contextMenu=new g({targetNodes:[b]});this._addContextMenuCallBack();this._cacheUpdated=!0},_addContextMenuCallBack:function(){var a=
this;this._contextMenu.willOpenCallback=function(){var b=a._getDefaultContextManager().get("currentContext"),c=b.contextIdList.toString();if(c!==a.previousContext){var d=a._contextMenu;d.hasChildren()&&d.getChildren().forEach(function(a){d.removeChild(a)});a._getMenuItemsForContext(b.contextIdList).forEach(function(a){d.addChild(a)});a.previousContext=c}}},_getDefaultContextManager:function(){var a=null;try{a=c.getInstance()}catch(b){}null===a&&"/WSBContextMenuManager"===this.namespace&&(m.getInstance({actionService:null}).create({tag:"motwToolstrip",
type:"Toolstrip"}),a=c.getInstance({parentAppId:"motw",toolstripTag:"motwToolstrip",toolstripId:"toolstripId",uiContainer:null,qabContextualControlsActionMap:{}}));return a},_getPeerModelInstance:function(a){var c=null;return c="ActAsServer"===this.mode?b.getServerInstance(a):b.getClientInstance(a)},_getMenuItemsForContext:function(a){var b=this._contextMenuMap[this.namespace],c=[],d;for(d in b)if(b.hasOwnProperty(d)&&b[d].MatchContext){var f=b[d].MatchContext.split(",");b[d].ExactMatch?("global"===
a[0]&&a.shift(),this.compareArrayValues(a,f)&&(c=c.concat(b[d].ContextMenuItems))):f.every(function(b){return-1<a.indexOf(b)})&&(c=c.concat(b[d].ContextMenuItems))}return c.slice()},destroy:function(){b.cleanup(this.namespace)},compareArrayValues:function(a,b){return!a||!b||a.length!==b.length?!1:a.every(function(a,c){var d=!1;b.forEach(function(b,c){a===b&&(d=!0)});return d})}})})},"datatoolsservices/ContextMenuService/ContextMenuBuilder":function(){define("datatoolsservices/ContextMenuService/ContextMenuBuilder",
"dojo/_base/declare dojo/_base/lang datatoolsservices/ContextMenuService/ActionMenuItem datatoolsservices/ContextMenuService/ActionPopupMenuItem mw-menu/Menu mw-menu/MenuSeparator dojo/on".split(" "),function(h,d,g,c,f,b,l){return h("datatoolsservices.ContextMenuService.ContextMenuBuilder",[],{constructor:function(b){this.actionService=b.actionService;this._contextMenuMap={};this._contextMap={};this.namespace=b.namespace},constructMenuItems:function(b){if(b)return this._contextMap[this.namespace]=
{},this.parseNodes(b),this._contextMap},parseNodes:function(b){var a=this;b.getChildren().forEach(function(c){var e=c.getType(),f=b.getProperty("ID"),g=c.getProperty("ID"),h=a._getContextMenuFromParent(f);"Action"===e?(c=a._constructSubMenuItem(c,b))&&h.push(c):"ActionGroup"===e?(a._createActionGroupItem(f,h,c),a.parseNodes(c)):"Context"===e?(a._contextMap[a.namespace][g]=d.mixin(c.getProperties(),{ContextMenuItems:[]}),a.parseNodes(c)):"MenuSeparator"===e&&a._createMenuSeparator(f,h)})},_createMenuSeparator:function(c,
a){var d=new b({tag:"ContextMenuSeparator"}),e=this._contextMenuMap[c];e&&e.popUpMenu?(e=e.popUpMenu.menu,this._isValidPosForSeparator(e.getChildren())&&e.addChild(d)):this._isValidPosForSeparator(a)&&a.push(d)},_isValidPosForSeparator:function(b){return 0<b.length&&"ContextMenuSeparator"!==b[b.length-1].Tag},_createActionGroupItem:function(b,a,c){var d=c.getProperty("ID"),f=this._contextMenuMap[b]?this._contextMenuMap[b].popUpMenu:null;this._contextMenuMap[d]={menuItems:a,popUpMenu:f};c.hasProperty("Expanded")&&
!c.getProperty("Expanded")&&(f=this._createPopUpMenuItem(c,b),(b=this._contextMenuMap[b])&&b.popUpMenu?b.popUpMenu.menu.addChild(f):a.push(f))},_createPopUpMenuItem:function(b){b=this._getNodeAttributes(b);var a=new f({}),a=new c({Id:b.menuId,text:b.displayName,action:b.menuAction,menu:a});return this._contextMenuMap[b.menuId].popUpMenu=a},_getContextMenuFromParent:function(b){var a=this._contextMap[this.namespace];if(a){if(a[b])return a[b].ContextMenuItems;if(this._contextMenuMap[b]&&this._contextMenuMap[b].menuItems)return this._contextMenuMap[b].menuItems}},
_constructSubMenuItem:function(b,a){var c=this._getNodeAttributes(b),d=a.getProperty("ID"),c=this._createMenu(c.menuId,c.displayName,c.menuAction);if(this._contextMenuMap[d]&&this._contextMenuMap[d].popUpMenu)this._contextMenuMap[d].popUpMenu.menu.addChild(c);else return c},_getNodeAttributes:function(b){var a=b.getProperty("ID");b=b.getProperty("DisplayName")||a;var c=this.actionService.getAction(a);return{menuId:a,displayName:b,menuAction:c}},_createMenu:function(b,a,c){a=new g({action:c,Id:b,text:a});
return this._contextMenuMap[b]=a}})})},"datatoolsservices/ContextMenuService/ActionMenuItem":function(){define("datatoolsservices/ContextMenuService/ActionMenuItem","dojo/_base/declare dojo/_base/lang mw-menu/MenuItem mw-menu/Menu mw-menu/MenuSeparator dojo/on".split(" "),function(h,d,g,c,f,b){return h("datatoolsservices.ContextMenuService.ActionMenuItem",[g],{constructor:function(b){this.allArgs=b},postCreate:function(b){this.inherited(arguments);if(this.action){this.on("click",d.hitch(this,"_executeMenuAction"));
var c=this;this.action.onenabledChange=function(a){c.disabled=!a.newValue;c._setStateClass();c._onEnabledStateChanged&&c._onEnabledStateChanged(a)};this.disabled=!this.action.getProperty("enabled")}this._setStateClass()},_executeMenuAction:function(b){(b=dijit.getEnclosingWidget(b.target))&&b.Id&&this.action.execute()}})})},"mw-menu/MenuItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuItem.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D){return h(B.validate([d,g,c,f,b,m,a,k,e,n,p,q,r,s,t,u,x,w,l,v,z,y,A]),{baseClass:"mwWidget mwSharedMenuItem mwMenuItem",templateString:D,closeMenuOnClick:!0,_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},_qeClick:function(){this._emitClickEvent()}})})},"mw-menu/mixins/property/ShowIconMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{showIcon:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowIconMixin")},_setShowIconAttr:function(d){if("boolean"!==typeof d)throw Error("'showIcon' property expects a Boolean!");d?this.domNode.classList.remove("mwHideIcon"):this.domNode.classList.add("mwHideIcon");this._set("showIcon",d)}})})},"mw-menu/Menu":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/DestroyedMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return h(r.validate([g,b,c,f,n,l,m,a,k,e,p,q]),{baseClass:"mwWidget mwMenu",templateString:s,_getTargetNode:function(a){a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));return a},isMenuOpen:function(){return this.domNode&&this.domNode.parentElement?"none"!==this.domNode.parentElement.style.display:!1}})})},"mw-mixins/property/DestroyedMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,
{_destroyed:!1,destroy:function(){this._set("_destroyed",!0);this.inherited(arguments)},isDestroyed:function(){return this.get("_destroyed")}})})},"mw-menu/MenuSeparator":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/PreventFocusMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuSeparator.html".split(" "),function(h,d,g,c,f,b,l,m,a){return h(m.validate([d,
g,c,f,b,l]),{baseClass:"mwWidget mwMenuSeparator",templateString:a})})},"mw-mixins/PreventFocusMixin":function(){define(["dojo/_base/declare","dojo/on"],function(h,d){return h(null,{postCreate:function(){this.inherited(arguments);this._getNonFocusableNodes().forEach(function(g){d(g,"mousedown",function(c){c.preventDefault()})})},_getNonFocusableNodes:function(){return[this.domNode]}})})},"datatoolsservices/ContextMenuService/ActionPopupMenuItem":function(){define("datatoolsservices/ContextMenuService/ActionPopupMenuItem",
["dojo/_base/declare","dojo/_base/lang","mw-menu/PopupMenuItem","dojo/on"],function(h,d,g,c){return h("datatoolsservices.ContextMenuService.ActionPopupMenuItem",[g],{constructor:function(c){this.allArgs=c},postCreate:function(){this.inherited(arguments);this._initActionsForMenu();this._setStateClass()},_initActionsForMenu:function(){var c=this;if(this.menu){var b=this.menu.addChild;this.menu.addChild=function(d){b.apply(this,[d]);c._ToggleActionGroupEnabled();d.action&&(d._onEnabledStateChanged=function(b){c._ToggleActionGroupEnabled()})}}},
_ToggleActionGroupEnabled:function(){var c=this.menu;if(c&&0<c.getChildren().length){for(var c=c.getChildren(),b=!1,d=0;d<c.length;d++)if(c[d].action&&c[d].action.getProperty("enabled")){b=!0;break}this.disabled=!b;this._setStateClass()}}})})},"mw-menu/PopupMenuItem":function(){define("dojo/_base/declare dijit/focus dojo/on dojo/keys dojo/dom-geometry dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PopupMenuItem.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O,S,M,J,C){return h(J.validate([l,m,a,k,e,n,p,q,r,s,t,u,I,x,w,v,z,y,A,B,D,H,G,S,M,O]),{baseClass:"mwWidget mwSharedMenuItem mwPopupMenuItem",templateString:C,_focusSubMenuOnOpen:!1,menuOrientation:"horizontal",keyPressButtons:"right_arrow_a11y",postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",b.hitch(this,"_handleRightArrow")))},_setFocusSubMenuOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'doFocus' argument expects a boolean value.");
this._set("_focusSubMenuOnOpen",a)},_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},focusLost:function(a){this.get("menu")&&(this.get("menu").isDescendant&&!this.get("menu").isDescendant(a,this.get("menu")))&&(this.get("menu")._closeEventData={mwEventData:{gainedFocusWidget:a}},this.closeMenu(!1))},focus:function(){this.inherited(arguments);this.get("disabled")||this.openMenu()},_handleRightArrow:function(a){a.keyCode===c.RIGHT_ARROW&&(this.isMenuOpen()?
this.get("menu").focusFirst():(this.set("_focusSubMenuOnOpen",!0),this.openMenu()))},_showMenu:function(){var a=this.get("menu");null!==a&&(!this._doNotOpen&&!this.isMenuOpen())&&(a._leftArrowListener=g(a.domNode,"keydown",b.hitch(a,this._handleLeftArrow)),a._menuCloseListener=g(a.domNode,"close",b.hitch(a,this._handleCloseMenu)),a._storeFocusOnOpen=a.get("_focusOnOpen"),a._storeOnOpen=a.onOpen,a._storeMatchMinWidthToInvokingWidget=a.get("_matchMinWidthToInvokingWidget"),a.set("_focusOnOpen",this.get("_focusSubMenuOnOpen")),
a.onOpen=this.onOpen,a._matchMinWidthToInvokingWidget=!1,a.domNode.classList.add("mwPopupMenuItemPopup"),this.inherited(arguments))},_handleCloseMenu:function(a){if(a&&a.mwEventData&&a.mwEventData.hasOwnProperty("gainedFocusWidget")){var b=this._invokingWidget.getParentWidget();a=a.mwEventData.gainedFocusWidget;!b.isInvokingWidget(a)&&!b.isDescendant(a,b)&&(this._leftArrowListener&&this._leftArrowListener.remove(),this._menuCloseListener&&this._menuCloseListener.remove(),delete this._leftArrowListener,
delete this._menuCloseListener,this._focusOnOpen=this._storeFocusOnOpen,this.onOpen=this._storeOnOpen,this._matchMinWidthToInvokingWidget=this._storeMatchMinWidthToInvokingWidget,this.domNode.classList.remove("mwPopupMenuItemPopup"),b._focusChange(a))}},_handleLeftArrow:function(a){a.keyCode===c.LEFT_ARROW&&(this._doNotOpen=!0,this._invokingWidget.focus(),this._doNotOpen=!1)},onOpen:function(){this.inherited(arguments);this._emitOpenEvent();this._updateLayout();f.position(this.domNode).x>f.position(this._invokingWidget.domNode).x?
(this.domNode.classList.add("mwPopupMenuItemPopupRight"),this.domNode.classList.remove("mwPopupMenuItemPopupleft"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentLeft")):(this.domNode.classList.add("mwPopupMenuItemPopupLeft"),this.domNode.classList.remove("mwPopupMenuItemPopupRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentLeft"));
this.domNode.parentElement.classList.add("mwPopupMenuItemParent");0<this.getChildren().length&&(this._focusOnOpen&&this.focusFirst)&&(this._storeFocus=this.focus,this.focus=function(){this.focusFirst();this.focus=this._storeFocus;delete this._storeFocus});this._invokingWidget.set("_focusSubMenuOnOpen",!1)},_closeMenuOnParentClick:function(){return!1},_updateWidth:function(){}})})},"mw-mixins/property/MenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-geometry dojo/has dojo/keys dojo/on dojo/touch dijit/focus dijit/popup dijit/Viewport dijit/_WidgetBase".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){var q={left:[0],center:[1],right:[2],all:[0,1,2],none:[]},r=function(a){if(!0===a.synthetic&&window.syn&&-1!==a.type.indexOf("mouse"))switch(a.button){case window.syn.mouse.browser.left[a.type].button:return 0;case window.syn.mouse.browser.right[a.type].button:return 2;default:return 1}else return a.button},s={down_arrow:[l.DOWN_ARROW],right_arrow:[l.RIGHT_ARROW],left_arrow:[l.LEFT_ARROW],up_arrow:[l.UP_ARROW],enter:[l.ENTER],space:[l.SPACE],a11y:[l.ENTER,l.SPACE],
down_arrow_a11y:[l.DOWN_ARROW,l.ENTER,l.SPACE],right_arrow_a11y:[l.RIGHT_ARROW,l.ENTER,l.SPACE],left_arrow_a11y:[l.LEFT_ARROW,l.ENTER,l.SPACE],up_arrow_a11y:[l.UP_ARROW,l.ENTER,l.SPACE],none:[]},t={below:["below","below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]};return h(null,{menu:null,menuNode:null,aroundNode:null,_clickButtons:q.left,_keyPressButtons:s.a11y,_menuOrientation:t.vertical,_setMenuAttr:function(a){this._validateMenuAttr(a);this._set("menu",
a)},_validateMenuAttr:function(a){if(null!==a&&!(a instanceof p))throw Error("'menu' property expects a widget");},_setMenuNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'menuNode' property expects a DOM node.");a?this._set("menuNode",a):this._set("menuNode",this.focusNode||this.domNode)},_setAroundNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'aroundNode' property expects a DOM node.");a?this._set("aroundNode",a):this._set("aroundNode",this.domNode)},_setClickButtonsAttr:function(a){if("string"!==
typeof a||-1===q.hasOwnProperty(a))throw Error("'clickButtons' property expects one of these values: "+Object.keys(q));this._set("_clickButtons",q[a])},_setKeyPressButtonsAttr:function(a){if("string"!==typeof a||-1===s.hasOwnProperty(a))throw Error("'keyPressButtons' property expects one of these values: "+Object.keys(s));this._set("_keyPressButtons",s[a])},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===t.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+
Object.keys(t));this._set("_menuOrientation",t[a])},postCreate:function(){var c;this.inherited(arguments);this.domNode.classList.add("mwMenuMixin");this.menuNode=this.menuNode||this.focusNode||this.domNode;this.aroundNode=this.aroundNode||this.domNode;c=b("touch")&&!window.PointerEvent;this.own(m(this.menuNode,c?a.press:"mousedown",d.hitch(this,"_onPress")),m(this.menuNode,"mousedown",d.hitch(this,"_onMouseDown")),m(this.menuNode,"keydown",d.hitch(this,"_onKeyDown")),m(this.menuNode,"keyup",d.hitch(this,
"_onKeyUp")),m(this.domNode,"click",d.hitch(this,"_onMouseClick")),this.watch("disabled",d.hitch(this,function(a,b,c){c&&this._handleClosingPopup(!1)})))},_onPress:function(a){var b=-1<this._clickButtons.indexOf(r(a))||"touchstart"===a.type,c=!this.isMenuOpen()||this._closeMenuOnParentClick();this.get("menu")&&(this.get("menu")._lastPressEvent=a);b&&c?(this.get("menu")&&(this.get("menu")._mouseDownTriggered=!0,setTimeout(d.hitch(this,function(){this.get("menu")&&"_mouseDownTriggered"in this.get("menu")&&
delete this.get("menu")._mouseDownTriggered}),300)),this.toggleMenu(a.target)):this.isMenuOpen()&&(a.preventDefault(),a.stopImmediatePropagation())},_onMouseDown:function(a){this.inherited(arguments);var b=this.get("menu")&&"_mouseDownTriggered"in this.get("menu"),c=this.get("menu")&&"_lastPressEvent"in this.get("menu")&&"touchstart"===this.get("menu")._lastPressEvent.type;if(this.isMenuOpen()||b&&c)a.preventDefault(),a.stopImmediatePropagation()},_onMouseClick:function(a){this.get("menu")&&"_mouseDownTriggered"in
this.get("menu")&&delete this.get("menu")._mouseDownTriggered;this.inherited(arguments);c.isDescendant(a.target,this.menuNode)&&a.stopImmediatePropagation()},_onKeyDown:function(a){this.inherited(arguments);if(!this.get("disabled")||this.get("dropDownNeverDisabled"))if(a.keyCode===l.ESCAPE)this.domNode.classList.contains("mwFocusableMenuChildMixin")?this.closeMenu(!1):this.closeMenu(!0);else if(-1<this._keyPressButtons.indexOf(a.keyCode)&&(!this.isMenuOpen()||this._closeMenuOnParentClick()&&this.isMenuOpen()))this._toggleOnKeyUp=
!0},_onKeyUp:function(a){this.inherited(arguments);this._toggleOnKeyUp&&(delete this._toggleOnKeyUp,(!this.isMenuOpen()||this.closeMenuOnClick)&&this.toggleMenu(a.target))},_onBlur:function(){this.isMenuOpen()&&(this.get("menu")._invokingWidget===this&&!this.get("menu").domNode.classList.contains("mwMenu")&&!this.get("menu").domNode.classList.contains("mwSectionPopup"))&&(c.isDescendant(document.activeElement,this.domNode)?this.closeMenu(!0):this.closeMenu(!1));this.inherited(arguments)},_qeDropDownClick:function(){this.toggleMenu()},
toggleMenu:function(a){a=a||this.menuNode;a=a.domNode||a;c.isDescendant(a,this.menuNode)&&(this.isMenuOpen()?this.closeMenu(!0):this.openMenu())},openMenu:function(){this._showMenu()},_showMenu:function(){null!=this.get("menu")&&setTimeout(d.hitch(this,function(){var a,b,c=this;if(null!=c.get("menu")){null==this.aroundNode&&(b=a=0);"_invokingWidget"in this.get("menu")&&this.get("menu")._invokingWidget&&(this.get("menu")._lastInvokingWidget=this.get("menu")._invokingWidget);this.get("menu")._invokingWidget=
this;this.domNode.classList.add("mwHasMenuOpened");this.get("menu")._onPositionListener=g.around(f,"position",function(a){return function(b,c){var d="ontouchstart"in window||navigator.maxTouchPoints,e=document.body.clientWidth>window.innerWidth;return c&&d&&e?a(b,!1):a(b,c)}});this.get("menu").own(this.get("menu")._onPositionListener);e.open({parent:this,popup:c.get("menu"),x:a,y:b,around:c.aroundNode,orient:c._menuOrientation,maxHeight:c.get("maxHeight"),onCancel:function(){if(c.domNode.classList.contains("mwFocusableMenuChildMixin")){var a=
c.getParent();c.closeMenu(!1);a._closeEventData={mwEventData:{gainedFocusWidget:null}};a.closeRequest(!1)}else c.closeMenu(!0)},onClose:function(){c.get("menu")&&"_lastInvokingWidget"in c.get("menu")?(null!=c.get("menu")._lastInvokingWidget&&c._cleanUpAfterClose(c,!0),delete c.get("menu")._lastInvokingWidget):c._cleanUpAfterClose(c,!1);c.get("menu")&&"_onPositionListener"in c.get("menu")&&(c.get("menu")._onPositionListener.remove(),delete c.get("menu")._onPositionListener)}});var d=c.own(m(n,"resize",
function(){c.getParentWidget?c.closeMenu(!1):c.closeMenu(!0);d.length?[].slice.call(d).forEach(function(a){a.remove()}):d.remove()}))}}),0)},closeMenu:function(a){var b=this._handleClosingPopup(a);this._handleFocusOnClose(a,b)},_handleClosingPopup:function(a){if(this.isMenuOpen()){if(this.get("menu")){this.get("menu").getChildren().forEach(function(b){"menu"in b&&b.isMenuOpen()&&(b.get("menu")._closeEventData=this._closeEventData,b.closeMenu(a))},this);var b=this.get("menu")._closeEventData;e.close(this.get("menu"));
return b}}else if(this.get("menu"))return this.get("menu")._closeEventData},_handleFocusOnClose:function(a,b){!0===a?this.focus?this.focus():k.focus(this.focusNode||this.domNode):b&&"mwEventData"in b&&"gainedFocusWidget"in b.mwEventData&&b.mwEventData.gainedFocusWidget?k.focus(b.mwEventData.gainedFocusWidget.focusNode||b.mwEventData.gainedFocusWidget.domNode):k.focus(document.body)},startup:function(){if(!this._started){if(!this.get("menu")&&this.srcNodeRef){var a=query("[widgetId]",this.srcNodeRef)[0];
a&&this.set("menu",registry.byNode(a))}this.get("menu")&&e.hide(this.get("menu"));this.inherited(arguments)}},destroy:function(){this.isMenuOpen()&&this.closeMenu(!0);this.inherited(arguments)},_closeMenuOnParentClick:function(){return!0},_cleanUpAfterClose:function(a,b){!b&&a.get("menu")&&delete a.get("menu")._invokingWidget;a.domNode&&a.domNode.classList.remove("mwHasMenuOpened")},isMenuOpen:function(){return this.get("menu")&&this.get("menu")._invokingWidget&&this.get("menu")._invokingWidget===
this&&this.get("menu").domNode&&this.get("menu").domNode.parentElement&&this.get("menu").domNode.parentElement.classList.contains("dijitPopup")?"none"!==this.get("menu").domNode.parentElement.style.display:!1}})})},"mw-mixins/property/HasDynamicMenuMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/MenuMixin"],function(h,d,g){h=h(null,{hasDynamicMenu:!1,_setHasDynamicMenuAttr:function(c){this._set("hasDynamicMenu",c)},postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwHasDynamicMenuMixin");this.set("hasDynamicMenu",this.get("hasDynamicMenu"))},openMenu:function(){this.get("hasDynamicMenu")?this.emit("dropdownclick",{}):this._showMenu()},showMenu:function(){this._showMenu();var c=this.menu.on("updatelayout",d.hitch(this.menu,function(){this._updateLayout&&this._updateLayout()})),f=this.menu.on("close",function(){c.remove();f.remove()})}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"MW/uiframework/contextmanager/ContextManagerFactory":function(){define(["./ContextManager"],
function(h){var d=null;return{getInstance:function(g){d||(d=new h(g));return d},destroy:function(){d&&(d.cleanup(),d=null)}}})},"MW/uiframework/contextmanager/ContextManager":function(){define("dojo/_base/declare dojo/Stateful ./PanelManager ./QuickAccessActionManager ./TabGroupManager MW/uiframework/UIBuilderFactory".split(" "),function(h,d,g,c,f,b){return h([d],{currentContext:null,constructor:function(d){this.parentAppId=d.parentAppId;this.alternativeContextMemory=!!d.alternativeContextMemory;
this._uiBuilder=d.uiBuilder||b.getInstance();this.toolstripId=this._uiBuilder.tagToId(d.toolstripTag);if(!this.toolstripId)throw Error('No toolstrip with tag "'+d.toolstripTag+'" exists!');this._panelManager=new g({contextManagerImpl:this,uiContainer:d.uiContainer});this._quickAccessActionManager=new c({contextManagerImpl:this,uiBuilder:this._uiBuilder,qabContextualControlsActionMap:d.qabContextualControlsActionMap});this._tabGroupManager=new f({contextManagerImpl:this,uiBuilder:this._uiBuilder})},
register:function(b,c){switch(b){case "TabGroups":this._tabGroupManager.registerTabGroups(c);break;case "QuickAccessAction":this._quickAccessActionManager.registerQuickAccessAction(c);break;case "Panels":this._panelManager.registerPanels(c);break;default:throw Error("This is not a valid type to register!");}},unregister:function(b,c){switch(b){case "TabGroups":this._tabGroupManager.unregisterTabGroups(c);break;case "QuickAccessAction":this._quickAccessActionManager.unregisterQuickAccessAction(c);
break;case "Panels":this._panelManager.unregisterPanels(c);break;default:throw Error("This is not a valid type to unregister!");}},resetLastSelectedTab:function(b){this._tabGroupManager.resetLastSelectedTab(b)},removeAllContextualTabGroups:function(){this._tabGroupManager.removeAllContextualTabGroups()},removeContextualTabGroupsOfAppId:function(b){this._tabGroupManager.removeContextualTabGroupsOfAppId(b)},cleanup:function(){this._quickAccessActionManager.cleanup();this._tabGroupManager.cleanup();
this._panelManager.cleanup()},_currentContextSetter:function(b){b&&b.appId&&(!b.contextIdList||0===b.contextIdList.length?b.contextIdList=["global"]:0<b.contextIdList.length&&-1===b.contextIdList.indexOf("global")&&b.contextIdList.splice(0,0,"global"));this.currentContext=b}})})},"MW/uiframework/contextmanager/PanelManager":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(h,d){return h(null,{constructor:function(g){this._contextManager=g.contextManagerImpl;this._uiContainer=g.uiContainer;
this._registeredPanels={};this._currentContextualPanelIds=[];this._stateForContext={};this._handles=[];this._handles.push(this._contextManager.watch("currentContext",d.hitch(this,this._currentContextChangedCallback)))},registerPanels:function(d){this._registeredPanels[d.appId]||(this._registeredPanels[d.appId]={});this._registeredPanels[d.appId][d.contextId]||(this._registeredPanels[d.appId][d.contextId]={});d.panelIds&&(this._registeredPanels[d.appId][d.contextId].panels=d.panelIds)},unregisterPanels:function(d){this._registeredPanels[d.appId]&&
(this._registeredPanels[d.appId][d.contextId]?delete this._registeredPanels[d.appId][d.contextId]:delete this._registeredPanels[d.appId])},getContextualStates:function(){var d=this._contextManager.get("currentContext");d&&!this._isAppContext(d)&&(this._stateForContext[this._generateContextKey(d)]=this._uiContainer._getContextualState(d.appId));return this._stateForContext},setContextualStates:function(g){d.mixin(this._stateForContext,g)},_currentContextChangedCallback:function(g,c,f){if(this._uiContainer&&
!(null===f||void 0===f||JSON.stringify(c)===JSON.stringify(f))){var b=this;this._isAppContext(c)||(this._stateForContext[this._generateContextKey(c)]=this._uiContainer._getContextualState(c.appId));var h=this._getPanelIdsForContext(f);g=this._uiContainer.getOccupiedBorders();var m=this._stateForContext[this._generateContextKey(f)];m&&g.length&&(m=d.clone(m),g.forEach(function(a){m[a]&&m[a].border&&delete m[a].border}));var a=c&&f&&c.appId!==f.appId;this._currentContextualPanelIds.forEach(function(c){(a||
0>h.indexOf(c))&&b._uiContainer._removeFromLayout(c)});h.forEach(function(c){(a||0>b._currentContextualPanelIds.indexOf(c))&&b._uiContainer._addToLayout(c,f.appId)});m&&this._uiContainer._setContextualState(m,f.appId);this._currentContextualPanelIds=h}},_isAppContext:function(d){return!d||d.appId===this._contextManager.parentAppId},_getPanelIdsForContext:function(d){var c=[],f=this._registeredPanels[d.appId];f&&d.contextIdList.forEach(function(b){(b=f[b].panels)&&(c=c.concat(b))});return c},_generateContextKey:function(d){var c=
"null";d&&(c=d.appId,d.contextIdList.forEach(function(d){"global"!==d&&(c+="_"+d)}));return c},cleanup:function(){this._handles.forEach(function(d){d.remove()})}})})},"MW/uiframework/contextmanager/QuickAccessActionManager":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/uiframework/UIBuilderFactory"],function(h,d,g){return h(null,{constructor:function(c){this._contextManagerImpl=c.contextManagerImpl;this._qabContextualControlsActionMap=c.qabContextualControlsActionMap;this._registeredQuickAccessActions=
{};this._uiBuilder=c.uiBuilder||g.getInstance();this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",d.hitch(this,this._currentContextChangedCallback)))},registerQuickAccessAction:function(c){this._registeredQuickAccessActions[c.appId]||(this._registeredQuickAccessActions[c.appId]={});this._registeredQuickAccessActions[c.appId][c.contextId]||(this._registeredQuickAccessActions[c.appId][c.contextId]={});c.quickAccessControlTag&&c.actionId&&(this._registeredQuickAccessActions[c.appId][c.contextId][c.quickAccessControlTag]=
c.actionId)},unregisterQuickAccessAction:function(c){this._registeredQuickAccessActions[c.appId]&&this._registeredQuickAccessActions[c.appId][c.contextId]&&(this._registeredQuickAccessActions[c.appId][c.contextId][c.quickAccessControlTag]?delete this._registeredQuickAccessActions[c.appId][c.contextId][c.quickAccessControlTag]:delete this._registeredQuickAccessActions[c.appId][c.contextId])},_currentContextChangedCallback:function(c,d,b){null===b||(void 0===b||JSON.stringify(d)===JSON.stringify(b))||
(Object.keys(this._qabContextualControlsActionMap).forEach(function(b){var c=this._uiBuilder.tagToId(b);this._uiBuilder.exists(c)&&this._uiBuilder.set(c,"actionId",this._qabContextualControlsActionMap[b])},this),this._contextManagerImpl.parentAppId&&this._applyQuickAccessActions(this._contextManagerImpl.parentAppId,"global"),this._registeredQuickAccessActions[b.appId]&&(b.appId!==this._contextManagerImpl.parentAppId&&this._applyQuickAccessActions(b.appId,"global"),b.contextIdList&&b.contextIdList.forEach(function(c){"global"!==
c&&this._applyQuickAccessActions(b.appId,c)},this)))},_applyQuickAccessActions:function(c,d){this._registeredQuickAccessActions[c]&&this._registeredQuickAccessActions[c][d]&&Object.keys(this._registeredQuickAccessActions[c][d]).forEach(function(b){var g=this._uiBuilder.tagToId(b);this._uiBuilder.exists(g)&&this._uiBuilder.set(g,"actionId",this._registeredQuickAccessActions[c][d][b])},this)},cleanup:function(){this._handles.forEach(function(c){c.remove()})}})})},"MW/uiframework/UIBuilderFactory":function(){define(["./UIBuilder",
"mw-actiondataservice/ActionDataService"],function(h,d){var g={};return{getInstance:function(c){c=c||{};c.channel=c.channel||"/DefaultUIBuilderPeerModelChannel";c.enableQABCustomization=c.enableQABCustomization||!1;g[c.channel]||(c.isMATLABDriven=!!c.isMATLABDriven,c.actionService=c.actionService||new d({nameSpace:c.channel+"_Action",mode:c.isMATLABDriven?"ActAsClient":"StandAlone"}),g[c.channel]=new h(c));return g[c.channel]},destroyInstance:function(c){c=c||"/DefaultUIBuilderPeerModelChannel";g[c]&&
(g[c].cleanup(),delete g[c])}}})},"MW/uiframework/UIBuilder":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry ./constants/TypeConstants ./managers/ModelManager ./managers/WidgetManager ./supportedUIBuilderFunctions".split(" "),function(h,d,g,c,f,b,l){return h(null,{constructor:function(h){var a,k;a=new f(h);k=new b({modelManager:a});l.fromModelManager.forEach(function(b){this[b]=d.hitch(a,a[b])},this);l.fromWidgetManager.forEach(function(a){this[a]=d.hitch(k,k[a])},this);this.cleanup=
function(){a.cleanup();k.cleanup()};h.manageTabGroupsOutsidePeerModel&&(this.add=function(b,d,f){(f=a.manager.getById(b))&&f.getType()===c.TAB_GROUP?k.addOutsidePeerModel(b,d):a.add(b,d,indes)},this.remove=function(b){var d=a.manager.getById(b);d&&d.getType()===c.TAB_GROUP?k.removeOutsidePeerModel(b):a.remove(b)},this.get=function(b,d){if("selectedTab"===d&&a.manager.getById(b).getType()===c.TOOLSTRIP){var f=g.byId(b);return f?f.get(d):""}return a.get(b,d)},this.set=function(b,d,f){if("selectedTab"===
d&&a.manager.getById(b).getType()===c.TOOLSTRIP)(b=g.byId(b))&&b.set(d,f);else return a.set(b,d,f)},this.getChildrenIds=function(b){if(a.manager.getById(b).getType()===c.TOOLSTRIP){b=g.byId(b).getChildren();var d=[];d.length=b.length;for(var f=0;f<d.length;f++)d[f]=b[f].id;return d}return a.getChildrenIds(b)},this.isAnOrphan=function(b){return a.manager.getById(b).getType()===c.TAB?(b=g.byId(b),!(b&&b.getParent()&&b.getParent().getParent())):a.isAnOrphan(b)},this.selectFirstTabInTabGroup=function(b,
c){var d=a.tagToPeerNodeIdMap[b];if(d&&(d=a.manager.getById(d))&&0<d.getChildren().length){var f=g.byId(c);f&&(f.set("selectedTab",""),f.set("selectedTab",d.getChildren()[0].getId()))}},this.addPropertySetCallback=function(b,d,f){return a.manager.getById(b).getType()===c.TOOLSTRIP?(b=g.byId(b))?b.watch(function(a,b,c){d({property:a,oldValue:b,newValue:c})}):null:a.addPropertySetCallback(b,d,f)})}})})},"MW/uiframework/constants/TypeConstants":function(){define(["dojo/_base/lang","MW/toolstrip/constants/TypeConstants"],
function(h,d){var g={ROOT:"Root",ORPHAN_ROOT:"OrphanRoot"};h.mixin(g,d);return g})},"MW/toolstrip/constants/TypeConstants":function(){define([],function(){return{TOOLSTRIP_ROOT:"ToolstripRoot",QAB_ROOT:"QABRoot",POPUP_ROOT:"PopupRoot",GALLERY_ROOT:"GalleryRoot",GALLERY_POPUP_ROOT:"GalleryPopupRoot",GALLERY_FAVORITE_CATEGORY_ROOT:"GalleryFavoriteCategoryRoot",TOOLSTRIP:"Toolstrip",QAB:"QuickAccessBar",QA_GROUP:"QuickAccessGroup",TAB_GROUP:"TabGroup",TAB:"Tab",SECTION:"Section",PANEL:"Panel",COLUMN:"Column",
COLOR_PICKER_BUTTON:"ColorPickerButton",GRID_PICKER_BUTTON:"GridPickerButton",PUSH_BUTTON:"PushButton",DROP_DOWN_BUTTON:"DropDownButton",SPLIT_BUTTON:"SplitButton",TOGGLE_BUTTON:"ToggleButton",POPUP_LIST:"PopupList",LIST_ITEM:"ListItem",POPUP_LIST_PANEL:"PopupListPanel",LIST_ITEM_WITH_CHECKBOX:"ListItemWithCheckBox",LIST_ITEM_WITH_TEXTFIELD:"ListItemWithTextField",LIST_ITEM_WITH_RADIO_BUTTON:"ListItemWithRadioButton",LIST_ITEM_WITH_POPUP:"ListItemWithPopup",POPUP_LIST_SEPARATOR:"PopupListSeparator",
POPUP_LIST_HEADER:"PopupListHeader",COMBO_BOX:"ComboBox",LIST:"List",LABEL:"Label",EMPTY_CONTROL:"EmptyControl",TEXT_FIELD:"TextField",TEXT_AREA:"TextArea",SPINNER:"Spinner",HORIZONTAL_SLIDER:"HorizontalSlider",RADIO_BUTTON:"RadioButton",CHECK_BOX:"CheckBox",TOGGLE_SPLIT_BUTTON:"ToggleSplitButton",FOOTER:"Footer",FOOTER_CELL:"FooterCell",QAB_PUSH_BUTTON:"QABPushButton",QAB_DROP_DOWN_BUTTON:"QABDropDownButton",QAB_SPLIT_BUTTON:"QABSplitButton",QAB_TOGGLE_BUTTON:"QABToggleButton",QAB_TOGGLE_SPLIT_BUTTON:"QABToggleSplitButton",
QAB_FLOATING_PANE_DOCK:"QABFloatingPaneDock",MENUBAR_WRAPPER:"MenubarWrapper",TOOLBAR_WRAPPER:"ToolbarWrapper",GALLERY:"Gallery",GALLERY_POPUP:"GalleryPopup",GALLERY_CATEGORY:"GalleryCategory",GALLERY_FAVORITE_CATEGORY:"GalleryFavoriteCategory",GALLERY_ITEM:"GalleryItem",TOGGLE_GALLERY_ITEM:"ToggleGalleryItem"}})},"MW/uiframework/managers/ModelManager":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/dom dojo/dom-attr mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin ../constants/TypeConstants ../hashes/ComponentPropertiesHash ../hashes/IconPropertiesSupportingBase64 ../hashes/ComponentsWithNoParent MW/toolstrip/hashes/ComponentsSupportedByFooterCell MW/toolstrip/hashes/ComponentsEligibleForQAB MW/toolstrip/ToolstripUtils ../../toolstrip/hashes/listOfNewWidgets MW/toolstrip/hashes/DefaultGalleryItemWidths mw-log/Log".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){return h([l],{constructor:function(a){a=a||{};this.isMATLABDriven=a.isMATLABDriven;this._channel=a.channel;this.actionService=a.actionService;this.enableQABCustomization=a.enableQABCustomization;this._autoGeneratedActions={};this.tagToPeerNodeIdMap={};this._typeToRootNodeMap={};this._setupPeerModelManager()},_setupPeerModelManager:function(){var a;this.manager=b.getInstance(this._channel);this.addManagerListeners();this.isMATLABDriven?this.start():(this._root=
this.manager.setRoot(m.ROOT),this._root.addChild(m.ORPHAN_ROOT),this._root.addChild(m.TOOLSTRIP_ROOT),this._root.addChild(m.POPUP_ROOT),this._root.addChild(m.QAB_ROOT),a=this._root.addChild(m.GALLERY_ROOT),a.addChild(m.GALLERY_POPUP_ROOT),a.addChild(m.GALLERY_FAVORITE_CATEGORY_ROOT))},create:function(b){var c,e,f,k;this._supportBase64URL(b);e=d.clone(b);f=e.parentId;c=this._verifyProperties(e);if(q.supportsAction(b.type))if(b.actionId){if(k=this.actionService.getAction(b.actionId))this._supportBase64URL(k),
this._convertPopupTagToId(k),Object.keys(a[b.type]).forEach(function(d){a[b.type][d].notInAction||this._isAValidValue(k[d],a[b.type][d],a[b.type])||(k[d]=c.actionNodeProps[d])},this),this.actionService.updateAction(b.actionId,k)}else c.viewNodeProps.actionId=this.actionService.addAction(c.actionNodeProps),this._autoGeneratedActions[c.viewNodeProps.actionId]=!0;e=this._getCorrespondingParentNode(c.type,f);q.isAFooterCell(e.getType())&&-1===n.indexOf(b.type)&&t.error(b.type+" is not supported by Footer Cell");
e=e.addChild(c.type,c.viewNodeProps);"Toolstrip"===c.type&&f&&this.placeToolstripById(e.getId(),f);this._postProcessing(e);return e.getId()},_getCorrespondingParentNode:function(a,b){var c;switch(a){case m.TOOLSTRIP:c=this._getRootNodeByType(m.TOOLSTRIP_ROOT);break;case m.QAB:c=this._getRootNodeByType(m.QAB_ROOT);break;case m.POPUP_LIST:c=this.exists(b)?this.manager.getById(b):this._getRootNodeByType(m.POPUP_ROOT);break;case m.GALLERY_POPUP:c=this._getRootNodeByType(m.GALLERY_POPUP_ROOT);break;case m.GALLERY_FAVORITE_CATEGORY:c=
this._getRootNodeByType(m.GALLERY_FAVORITE_CATEGORY_ROOT);break;default:c=this.exists(b)?this.manager.getById(b):this._getRootNodeByType(m.ORPHAN_ROOT)}return c},_findAncestorTabGroupId:function(a){for(;this.get(a,"type")!==m.TAB_GROUP;)if(null===a||this._root===this.manager.getById(a)){a=null;break}else a=this.getParentId(a);return a},_createCorrespondingComponentInQAB:function(a,b){var c=this._findAncestorTabGroupId(a);if(null!==c){var c=this.get(c,"QAGroupId"),d=this.get(a,"actionId"),e=this.get(a,
"tag")+"_qab",f=[];this.manager.getByType(m.QA_GROUP).forEach(function(a){f=f.concat(this.manager.getByProperty("actionId",d,a))},this);0===f.length&&(a=this.create({type:p[this.get(a,"type")],tag:e,actionId:d,parentId:c}),b&&this.move(a,c,0),this._hookupRemoveFromQABListener(a));return a}},_hookupAddToQABListener:function(a){var b=this.get(a,"actionId");this.actionService._actionById(b).addEventListener("propertySet",function(b){"isInQAB"===b.data.key&&!0===b.data.newValue&&this._createCorrespondingComponentInQAB(a,
!0)},this)},_hookupRemoveFromQABListener:function(a){var b=this.get(a,"actionId");this.actionService._actionById(b).addEventListener("propertySet",function(b){"isInQAB"===b.data.key&&!1===b.data.newValue&&this.exists(a)&&this.destroy(a)},this)},_postProcessing:function(a){var b,c;-1<Object.keys(p).indexOf(a.getType())&&(this._hookupAddToQABListener(a.getId()),!0===this.get(a.getId(),"isInQAB")&&this._createCorrespondingComponentInQAB(a.getId()));switch(a.getType()){case m.TOOLSTRIP:b=this.create({type:m.QAB});
this.set(a.getId(),"QABId",b);break;case m.TAB_GROUP:c=a.getParent();c.getType()===m.TOOLSTRIP&&(b=c.getProperty("QABId"));c=this.get(a.getId(),"tag");b=this.create({type:m.QA_GROUP,parentId:b,tag:c?c+"_qaGroup":""});this.set(a.getId(),"QAGroupId",b);break;case m.GALLERY_POPUP:b=this.create({type:m.GALLERY_FAVORITE_CATEGORY});this.set(a.getId(),"favCategoryId",b);break;case m.GALLERY:this.set(a.getId(),"currentColumnCount",this.get(a.getId(),"maxColumnCount"));break;case m.GALLERY_CATEGORY:this.addEventCallback(a.getId(),
function(b){"categoryMoved"===b.eventType&&(a.setProperty("animation",{shouldAnimate:!0,startId:"",endId:""}),this.manager.move(a,a.getParent(),0))},this);break;case m.QA_GROUP:case m.GALLERY_FAVORITE_CATEGORY:this.addEventCallback(a.getId(),function(b){"itemMoved"===b.eventType&&this.manager.move(this.manager.getById(b.itemId),a,b.newIndex)},this);break;case m.GALLERY_ITEM:case m.TOGGLE_GALLERY_ITEM:this.addEventCallback(a.getId(),function(b){var c;"favButtonPushed"===b.eventType&&(b=a.getProperty("tag"),
c=a.getProperty("actionId"),(c=this.actionService.getAction(c).isFavorite)?this.removeGalleryItemFromFavorites(b,!0,a.getId()):this.addGalleryItemToFavorites(b,!0,a.getId()))},this)}},addGalleryItemToFavorites:function(a,b,c){var d,e,f;b=b?!0:!1;if(f=this._peerNodeByTag(a,this._getRootNodeByType(m.GALLERY_POPUP_ROOT)))e=f.getParent(),a=f.getProperty("actionId"),d=this.actionService.getAction(a).isFavorite,d||(d=e.getParent().getProperty("favCategoryId"),this.create({type:f.getType(),tag:f.getProperty("tag"),
actionId:a,parentId:d,animation:{shouldAnimate:b,startId:c?c:f.getId(),endId:""}}),this.actionService.updateAction(a,{isFavorite:!0}))},removeGalleryItemFromFavorites:function(a,b,c){var d,e,f,k;b=b?!0:!1;this.exists(c)&&(f=this.manager.getById(c));if(a=this._peerNodeByTag(a,this._getRootNodeByType(m.GALLERY_POPUP_ROOT)))if(f=f?f.getParent():a.getParent(),a=a.getProperty("actionId"),d=this.actionService.getAction(a).isFavorite)f.getType()===m.GALLERY_FAVORITE_CATEGORY?(e=f.getId(),k=this.manager.getByProperty("actionId",
a,this.manager.getByProperty("favCategoryId",e,this._getRootNodeByType(m.GALLERY_POPUP_ROOT))[0])[0].getId()):f.getType()===m.GALLERY_CATEGORY&&(e=f.getParent().getProperty("favCategoryId"),k=c),c=this.manager.getByProperty("actionId",a,this.manager.getById(e))[0],c.setProperty("animation",{shouldAnimate:b,startId:"",endId:k}),this.destroy(c.getId()),this.actionService.updateAction(a,{isFavorite:!1})},add:function(a,b,c){var d,e;if(this._getRootNodeByType(m.ORPHAN_ROOT).hasDescendant(a))if(d=this.manager.getById(a),
e=this.manager.getById(b),t.assert(e,"The parentId provided is not valid!"),"FooterCell"===e._type&&-1===n.indexOf(d._type))t.warn(d._type+" is not supported by Footer Cell");else{if(0>c||c>e.getChildren().length)c=e.getChildren().length;this.manager.move(d,e,c);this.get(a,"type")===m.TAB_GROUP&&this.get(b,"type")===m.TOOLSTRIP&&(a=this.get(a,"QAGroupId"),b=this.get(b,"QABId"),this.add(a,b,this.manager.getById(b).getNumberOfChildren()-c))}else t.assert(!1,"The child being added should be an orphan!")},
remove:function(a){var b;this.exists(a)?(b=this.manager.getById(a),this.manager.move(b,this._getRootNodeByType(m.ORPHAN_ROOT)),this.get(a,"type")===m.TAB_GROUP&&this.remove(this.get(a,"QAGroupId"))):t.assert(!1,"The node does not exist!")},destroy:function(a){var b;this.exists(a)?(a=this.manager.getById(a),b=a.getProperty("actionId"),a.destroy(),this._autoGeneratedActions[b]&&0===this.manager.getByProperty("actionId",b).length&&(this.actionService.removeAction(b),delete this._autoGeneratedActions[b])):
t.assert(!1,"The node does not exist!")},get:function(b,c){var d,e;if(this.exists(b))return d=this.manager.getById(b),"type"===c?e=d.getType():a[d.getType()][c].notInAction?(t.assert(d.hasProperty(c),"This is not a valid property!"),e=d.getProperty(c)):q.supportsAction(d.getType())?(d=d.getProperty("actionId"),t.assert(this.actionService.actionHasProperty(d,c),"This is not a valid property!"),e=this.actionService.getAction(d)[c]):t.assert(!1,"This is not a valid property!"),e;t.assert(!1,"The node does not exist!")},
getChildrenIds:function(a){if(this.exists(a))return a=this.manager.getById(a),a.getChildren().map(function(a){return a.getId()});t.assert(!1,"The node does not exist!")},exists:function(a){return this.manager.hasById(a)},indexOf:function(a){var b=-1,c;c=this.manager.getById(a);this.getParentId(a)&&(b=c.getParent().getChildIndex(c));return b},isAnOrphan:function(a){return this._getRootNodeByType(m.ORPHAN_ROOT).hasDescendant(a)},getParentId:function(a){var b;if(!this.exists(a))return t.assert(!1,"A component with the given id does not exist!"),
null;b=this.manager.getById(a);return!this._getRootNodeByType(m.ORPHAN_ROOT).hasChild(a)&&-1===e.indexOf(b.getType())?b.getParent().getId():null},set:function(b,c,d,e){var f,k={};this.exists(b)?(b=this.manager.getById(b),f=a[b.getType()],f[c]&&this._isAValidValue(d,f[c],c)&&(f[c].notInAction?b.setProperty(c,d,e):q.supportsAction(b.getType())?(b=b.getProperty("actionId"),k[c]=d,this.actionService.updateAction(b,k,e)):t.assert(!1,"This is not a valid property!"))):t.assert(!1,"The node does not exist!")},
move:function(a,b,c){a=this.manager.getById(a);t.assert(a,"The node being moved does not exist!");b=this.manager.getById(b);t.assert(b,"The new parent node does not exist!");if(0>c||c>b.getChildren().length)c=b.getChildren().length;this.manager.move(a,b,c)},getAllProperties:function(b){var c,e,f;c=this.manager.getById(b);e=c.getProperties();if(q.supportsAction(c.getType())&&(b=c.getProperty("actionId")))(f=this.actionService.getAction(b))&&Object.keys(f).forEach(d.hitch(this,function(b){a[c.getType()][b]||
delete f[b]})),e=d.mixin(e,f);return e},_supportBase64URL:function(a){var b;Object.keys(k).forEach(d.hitch(this,function(c){c in a&&(b=a[c],"string"===typeof b&&0===b.indexOf("url(")&&(a[c]=this._stripURL(b)))}))},_stripURL:function(a){a=a.slice(4);return a.slice(0,a.length-1)},_verifyProperties:function(b){var c={},d,e,f={viewNodeProps:{},actionNodeProps:{}};t.assert(b.type,"Type needs to be provided for all components!");d=a[b.type];f.type=b.type;this._convertPopupTagToId(b);Object.keys(d).forEach(function(a){this._isAValidValue(b[a],
d[a],a)?c[a]=b[a]:d[a].required?t.error(a+" needs to be provided for component of type "+b.type):c[a]=d[a].defaultValue},this);Object.keys(c).forEach(function(a){d[a].notInAction?f.viewNodeProps[a]=c[a]:f.actionNodeProps[a]=c[a]});f.type===m.GALLERY_POPUP?f.viewNodeProps.galleryItemWidth||(f.viewNodeProps.galleryItemWidth=s[f.viewNodeProps.galleryItemRowCount][f.viewNodeProps.galleryItemTextLineCount]):f.type===m.GALLERY&&(e=this.manager.getById(f.viewNodeProps.galleryPopupId),f.viewNodeProps.galleryItemWidth=
e.getProperty("galleryItemWidth"),f.viewNodeProps.galleryItemRowCount=e.getProperty("galleryItemRowCount"),f.viewNodeProps.galleryItemTextLineCount=e.getProperty("galleryItemTextLineCount"),f.viewNodeProps.scrollToSelection=e.getProperty("scrollToSelection"));return f},_convertPopupTagToId:function(a){var b,c={},d={popupTag:"popupId",galleryPopupTag:"galleryPopupId"};Object.keys(d).forEach(function(e){b=d[e];a[e]&&((e=this.tagToId(a[e]))&&(a[b]=e),c[b]=a[b],c[b]&&this.actionService.updateAction(a.id,
c))},this)},_isAValidValue:function(a,b,c){var d,e=!0;void 0===a||null===a?e=!1:"Array"===b.type?Array.isArray(a)||(t.warn(c+" property default type is "+b.type+" but you have passed "+typeof a),e=!1):(d=b.type.toLowerCase(),typeof a!==d&&(e=!1,a=Array.isArray(a)?"Array":typeof a,t.warn(c+" property default type is "+b.type+" but you have passed "+a)));return e},selectTab:function(a){var b;this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]),b=a.getParent(),this._widgetByPeerNode(b).set("selectedTab",
a.getId()))},selectFirstTabInTabGroup:function(a){if(this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]))&&0<a.getChildren().length)this.set(this.getParentId(a.getId()),"selectedTab",""),this.set(this.getParentId(a.getId()),"selectedTab",a.getChildren()[0].getId())},placeToolstripAt:function(a,b){var c=this.widgetByTag(a);c.placeAt(b);c.startup()},placeToolstripById:function(a,b){var c=this.widgetById(a);c.placeAt(b);c.startup()},widgetByTag:function(a){return g.byId(this.tagToId(a))},
widgetById:function(a){return g.byId(a)},_widgetByPeerNode:function(a){return g.byId(a.getId().toString())},_peerNodeByTag:function(a,b){b=b||this._getRootNodeByType(m.ROOT);return this.manager.getByProperty("tag",a,b)[0]},showPopup:function(a,b){var d=g.byId(a.toString());d&&c.byId(f.get(d.domNode,"widgetid"))&&(-1<r.indexOf(d.type)?(b&&d.set("menuId",b),d.showMenu()):(d.set("popupId",b),q.isAListItemWithPopup(d.get("type"))?d.getParent().hover_timer=d.getParent().defer(function(){d.getParent()._openItemPopup(d)},
d.getParent().popupDelay):d.toggleDropDown()))},addEventCallback:function(a,b,c){var d,e,f,k;t.assert(this.exists(a),"The node does not exist!");d=this.manager.getById(a);e=function(a){delete a.data.type;b.call(c||d.getProperties(),a.data)};d.addEventListener("peerEvent",e,c);q.supportsAction(d.getType())&&(a=d.getProperty("actionId"),f=this.actionService._actionById(a),k=function(a){delete a.data.type;b.call(c||f.getProperties(),a.data)},f.addEventListener("peerEvent",k,c));return{remove:function(){d.removeEventListener("peerEvent",
e,c);q.supportsAction(d.getType())&&f.removeEventListener("peerEvent",k,c)}}},addPropertySetCallback:function(a,b,c){var d,e,f,k=this;t.assert(this.exists(a),"The node does not exist!");e=this.manager.getById(a);f=function(a){a.originator&&"UI"===a.originator.source&&b.call(c||e.getProperties(),{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})};a=function(a,d){d&&"UI"===d.source&&b.call(c,a)};e.addEventListener("propertySet",f,c);q.supportsAction(e.getType())&&(d=e.getProperty("actionId"),
this.actionService.addActionChangeCallback(d,a,c));return{remove:function(){e.removeEventListener("propertySet",f,c);q.supportsAction(e.getType())&&k.actionService.removeActionChangeCallback(d)}}},tagToId:function(a){if(a)return this.tagToPeerNodeIdMap[a]},createPopupsFromConfig:function(a){a.popups.forEach(function(a){this._addConfigItem(a)},this)},createGalleryPopupFromConfig:function(a){this._addConfigItem(a)},addToolstripFromConfig:function(a){this.create(a)},addTabGroupFromConfig:function(a,
b,c){this._addConfigItem(this._findInConfig(a,b),c)},_addConfigItem:function(a,b){g.byId(a.id)?this.add(a.id,a.parentId):(b&&(a.parentId=this.tagToId(b)),a.id=this.create(a),a.children&&this._addChildren(a.id,a.children))},_addChildren:function(a,b){b.forEach(function(b){b.parentId=a;this._addConfigItem(b)},this)},_findInConfig:function(a,b){function c(a,b){a.tag===b?d=a:a.children&&a.children.forEach(function(a){c(a,b)})}var d;c(a,b);return d},cleanup:function(){this.isMATLABDriven||this._getRootNodeByType(m.ROOT).destroy();
this.actionService.destroy();b.cleanup(this._channel)},_getRootNodeByType:function(a){var b=null;if(this._typeToRootNodeMap[a])b=this._typeToRootNodeMap[a];else{var c=this.manager.getByType(a);c&&(b=c[0]);this._typeToRootNodeMap[a]=b}return b},getAllCategoriesInDescendingOrder:function(a){var b=[];a=a.getChildren();for(var c=a.pop();c;)b.push(c),c=a.pop();return b},getGalleryState:function(a){var b,c=[],d;a=this.tagToId(a);d={items:{tags:[],isFavorite:[]},categories:{tags:[]}};if(this.exists(a))return a=
this.manager.getById(a),b=this.manager.getById(a.getProperty("favCategoryId")),b=b.getChildren(),a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){c.push(a)})}),b.concat(c).forEach(function(a){var b;b=a.getProperty("actionId");a=a.getProperty("tag");b=this.actionService.getAction(b).isFavorite;-1===d.items.tags.indexOf(a)&&(d.items.tags.push(a),d.items.isFavorite.push(b))},this),d.categories.tags=a.getChildren().map(function(a){return a.getProperty("tag")}),a.setProperty("state",
d),d;t.assert(!1,"The node does not exist!")},setGalleryState:function(a,b){var c,d,e,f,k,g,h=0,l=this.tagToId(a);this.exists(l)?(c=this.manager.getById(l),f=c.getProperty("favCategoryId"),k=this.manager.getById(f),k.getChildren().forEach(function(a){-1!==b.items.tags.indexOf(a.getProperty("tag"))&&(this.actionService.updateAction(a.getProperty("actionId"),{isFavorite:!1}),a.destroy())},this),b.items.tags.forEach(function(a,e){var k;b.items.isFavorite[e]&&(d=this.manager.getByProperty("tag",a,c),
0<d.length&&(g=d[0].getProperty("actionId"),k=this.create({type:d[0].getType(),tag:a,actionId:g}),this.add(k,f,h),h+=1,this.actionService.updateAction(g,{isFavorite:!0})))},this),b.categories.tags.forEach(function(a,b){e=this.tagToId(a);this.exists(e)&&this.move(e,l,b)},this)):t.assert(!1,"The node does not exist!")},getQABState:function(a){var b=[];a=this.get(this.tagToId(a),"QABId");this.getChildrenIds(a).forEach(function(a){this.getChildrenIds(a).forEach(function(a){var c={};c.tag=this.get(a,"tag");
c.showText=this.get(a,"showText");b.push(c)},this)},this);return b},setQABState:function(a,b,c){this.get(this.tagToId(a),"QABId");if(!Array.isArray(b)&&void 0!==b){var d=[];Object.keys(b).forEach(function(a){var c={};c.tag=a;c.showText=b[a].showText;d.push(c)});b=d}void 0===b||0===b.length?c.forEach(function(a){a=this.create(a);this.set(a,"isInQAB",!0);this._hookupRemoveFromQABListener(a)},this):b.forEach(function(a){var b=a.tag,d=!1,e=!!a.showText;c.forEach(function(a){a.tag===b&&(d=!0,a.showText=
e,a=this.create(a),this.set(a,"isInQAB",!0),this._hookupRemoveFromQABListener(a))},this);if(!d)if(a=b.replace("_qab",""),a=this.tagToId(a),-1<Object.keys(p).indexOf(this.get(a,"type"))&&!1===this.get(a,"isInQAB")){var f=this._createCorrespondingComponentInQAB(a);this.set(f,"showText",e);this.set(a,"isInQAB",!0)}else(a=this.tagToId(b))&&this.set(a,"showText",e)},this)}})})},"MW/uiframework/hashes/ComponentPropertiesHash":function(){define("dojo/_base/lang MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties MW/toolstrip/hashes/componentproperties/containers/QABProperties MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabProperties MW/toolstrip/hashes/componentproperties/containers/ColumnProperties MW/toolstrip/hashes/componentproperties/containers/SectionProperties MW/toolstrip/hashes/componentproperties/containers/PanelProperties MW/toolstrip/hashes/componentproperties/containers/FooterProperties MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/LabelProperties MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/GalleryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O,S,M,J,C,E,Q,K,L,P,$,R,W,X,Y,Z,T,aa,U,V,ba,F){var ca={};Array.prototype.slice.call(arguments).forEach(function(a,b){0<b&&h.mixin(ca,a)});return ca})},"MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/DisplayStateConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c,f){var b={};b[d.TOOLSTRIP]=
h.mixin({displayState:{type:"string",notInAction:!0,defaultValue:g.EXPANDED},QABId:{type:"string",notInAction:!0,defaultValue:""},selectedTab:{type:"String",notInAction:!0,defaultValue:""}},c,f);return b})},"MW/toolstrip/constants/DisplayStateConstants":function(){define([],function(){return{COLLAPSED:"collapsed",EXPANDED:"expanded",EXPANDED_ON_TOP:"expanded_on_top"}})},"MW/toolstrip/hashes/componentproperties/properties/TypeProperty":function(){define(["./VerifyComponentProperty"],function(h){return{type:new h({type:"string",
defaultValue:"",notInAction:!0,required:!0})}})},"MW/toolstrip/hashes/componentproperties/properties/VerifyComponentProperty":function(){define(["mw-log/Log"],function(h){return function(d){d=d||{};"string"!==typeof d.type&&h.error(d.type,"Type property is required");"boolean"!==typeof d.notInAction&&h.error(d.notInAction,"NotInAction property is required");"boolean"!==typeof d.required&&h.error(d.required,"Required property is required");void 0===d.defaultValue&&h.error(d.defaultValue,"DefaultValue  property is required");
return d}})},"MW/toolstrip/hashes/componentproperties/properties/TagProperty":function(){define(["./VerifyComponentProperty"],function(h){return{tag:new h({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/QABProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.QAB]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.QA_GROUP]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.TAB_GROUP]=h.mixin({selectedTab:{type:"string",notInAction:!0,defaultValue:""},QAGroupId:{type:"string",notInAction:!0,
defaultValue:""}},g,c);return f})},"MW/toolstrip/hashes/componentproperties/containers/TabProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/MnemonicProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),function(h,d,g,c,f,b,l,m){var a={};a[d.TAB]=h.mixin({},g,c,f,b,l,m);return a})},"MW/toolstrip/hashes/componentproperties/properties/TitleProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{title:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MnemonicProperty":function(){define(["./VerifyComponentProperty"],function(h){return{mnemonic:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemovableProperty":function(){define(["./VerifyComponentProperty"],function(h){return{removable:new h({type:"boolean",defaultValue:!1,notInAction:!0,
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemoveMessageProperty":function(){define(["./VerifyComponentProperty"],function(h){return{removeMessage:new h({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/ColumnProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/AlignmentConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c,
f){var b={};b[d.COLUMN]=h.mixin({horizontalAlignment:{type:"string",notInAction:!0,defaultValue:g.LEFT},width:{type:"number",notInAction:!0,defaultValue:0},extraColumnGap:{type:"boolean",notInAction:!0,defaultValue:!1}},c,f);return b})},"MW/toolstrip/constants/AlignmentConstants":function(){define([],function(){return{LEFT:"left",RIGHT:"right",CENTER:"center"}})},"MW/toolstrip/hashes/componentproperties/containers/SectionProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants",
"../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(h,d,g,c,f){var b={};b[d.SECTION]=h.mixin({collapsePriority:{type:"number",notInAction:!0,defaultValue:0}},g,c,f);return b})},"MW/toolstrip/hashes/componentproperties/containers/PanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.PANEL]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/containers/FooterProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.FOOTER]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.FOOTER_CELL]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.PUSH_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/IconProperty":function(){define(["./VerifyComponentProperty"],function(h){return{icon:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/QuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],function(h){return{quickAccessIcon:new h({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IconOverrideProperty":function(){define(["./VerifyComponentProperty"],function(h){return{iconOverride:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{text:new h({type:"string",defaultValue:"",notInAction:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextOverrideProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{textOverride:new h({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/EnabledProperty":function(){define(["./VerifyComponentProperty"],function(h){return{enabled:new h({type:"boolean",shouldBeFlipped:!0,notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionProperty":function(){define(["./VerifyComponentProperty"],function(h){return{description:new h({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionOverrideProperty":function(){define(["./VerifyComponentProperty"],function(h){return{descriptionOverride:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ShortcutProperty":function(){define(["./VerifyComponentProperty"],function(h){return{shortcut:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},
"MW/toolstrip/hashes/componentproperties/properties/ActionIdProperty":function(){define(["./VerifyComponentProperty"],function(h){return{actionId:new h({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IsInQABProperty":function(){define(["./VerifyComponentProperty"],function(h){return{isInQAB:new h({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){var x={};x[d.TOGGLE_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u);return x})},"MW/toolstrip/hashes/componentproperties/properties/SelectedProperty":function(){define(["./VerifyComponentProperty"],function(h){return{selected:new h({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ButtonGroupNameProperty":function(){define(["./VerifyComponentProperty"],function(h){return{buttonGroupName:new h({type:"string",
defaultValue:"",required:!1,notInAction:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){var z={};z[d.DROP_DOWN_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v);return z})},"MW/toolstrip/hashes/componentproperties/properties/PopupIdProperty":function(){define(["./VerifyComponentProperty"],function(h){return{popupId:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HasDynamicPopupProperty":function(){define(["./VerifyComponentProperty"],function(h){return{hasDynamicPopup:new h({type:"boolean",
notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ErrorTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{errorText:new h({type:"string",notInAction:!1,defaultValue:"This component is in error state",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/WarningTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{warningText:new h({type:"string",notInAction:!1,defaultValue:"This component is in Warning state",
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ValidationStateProperty":function(){define(["./VerifyComponentProperty"],function(h){return{validationState:new h({type:"string",notInAction:!1,defaultValue:"normal",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z){var y={};y[d.SPLIT_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z);return y})},"MW/toolstrip/hashes/componentproperties/properties/DropDownAlwaysEnabledProperty":function(){define(["./VerifyComponentProperty"],function(h){return{dropDownAlwaysEnabled:new h({type:"boolean",shouldBeFlipped:!1,notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A){var B={};B[d.TOGGLE_SPLIT_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A);return B})},"MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.COLOR_PICKER_BUTTON]=h.mixin({},{selectedColor:{type:"string",defaultValue:"#ff0000",notInAction:!0,required:!1},closeOnColorSelection:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showPreview:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showRecentColors:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showCustomPicker:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,
r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){var r={};r[d.GRID_PICKER_BUTTON]=h.mixin({},{maxRows:{type:"number",defaultValue:5,notInAction:!0,required:!1},maxColumns:{type:"number",defaultValue:5,notInAction:!0,required:!1},occupancy:{type:"number",defaultValue:0,notInAction:!0,required:!1},fillOrder:{type:"string",defaultValue:"rowMajor",notInAction:!0,required:!1},selection:{type:"Object",defaultValue:{},notInAction:!0,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q);return r})},"MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/ShowTextProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){var q={};q[d.QAB_PUSH_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p);return q})},"MW/toolstrip/hashes/componentproperties/properties/ShowTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{showText:new h({type:"boolean",defaultValue:!1,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.QAB_DROP_DOWN_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){var u={};u[d.QAB_FLOATING_PANE_DOCK]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t);return u})},"MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.QAB_SPLIT_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.QAB_TOGGLE_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){var v={};v[d.QAB_TOGGLE_SPLIT_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w);return v})},"MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/TextProperty ../properties/ItemsProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.COMBO_BOX]=h.mixin({},{selectedItem:{type:"string",defaultValue:"",notInAction:!1,required:!1},editable:{type:"boolean",notInAction:!1,defaultValue:!1,required:!1},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""}},g,c,f,b,l,m,a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/ItemsProperty":function(){define(["./VerifyComponentProperty"],function(h){return{items:new h({type:"Array",notInAction:!1,
defaultValue:[],required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/PlaceholderTextProperty":function(){define(["./VerifyComponentProperty"],function(h){return{placeholderText:new h({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ItemsProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.LIST]=h.mixin({},{selectedItems:{type:"Array",defaultValue:[],notInAction:!1,required:!1},selectionMode:{type:"string",defaultValue:"single",notInAction:!1,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/properties/CompactProperty":function(){define(["./VerifyComponentProperty"],function(h){return{compact:new h({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/PopupListProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.POPUP_LIST]=h.mixin({},{maxHeight:{type:"number",defaultValue:600,notInAction:!0,required:!1}},g,c);return f})},"MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.POPUP_LIST_PANEL]=h.mixin({},
{maxHeight:{type:"number",defaultValue:100,notInAction:!0,required:!1}},g,c);return f})},"MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(h,d,g,c,f){var b={};b[d.POPUP_LIST_HEADER]=h.mixin({},g,c,f);return b})},"MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.POPUP_LIST_SEPARATOR]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.TEXT_AREA]=h.mixin({},{},g,c,f,b,l,m,a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/EditableProperty":function(){define(["./VerifyComponentProperty"],function(h){return{editable:new h({type:"boolean",notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.TEXT_FIELD]=h.mixin({},{},g,c,f,b,l,m,a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.HORIZONTAL_SLIDER]=h.mixin({},{value:{type:"number",defaultValue:5,notInAction:!1,required:!1},minimum:{type:"number",defaultValue:-10,notInAction:!1,required:!1},maximum:{type:"number",defaultValue:10,notInAction:!1,required:!1},steps:{type:"number",defaultValue:10,notInAction:!1,required:!1},numberOfTicks:{type:"number",defaultValue:10,notInAction:!1,required:!1},labels:{type:"Array",notInAction:!1,required:!1,defaultValue:[]}},g,c,f,b,l,m,
a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/properties/ValueProperty":function(){define(["./VerifyComponentProperty"],function(h){return{value:new h({notInAction:!1,type:"number",defaultValue:5,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MinimumProperty":function(){define(["./VerifyComponentProperty"],function(h){return{minimum:new h({type:"number",notInAction:!1,defaultValue:-20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MaximumProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{maximum:new h({type:"number",notInAction:!1,defaultValue:20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty MW/toolstrip/hashes/listOfNewWidgets".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){var u={};u[d.SPINNER]=h.mixin({},{editable:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1},minorStepSize:{type:"number",defaultValue:5,notInAction:!1,required:!1},majorStepSize:{type:"number",defaultValue:10,notInAction:!1,required:!1},errorText:{type:"string",notInAction:!1,defaultValue:"The value entered is not in range",required:!1}},-1===t.indexOf(d.SPINNER)?{}:{format:{type:"string",defaultValue:"",notInAction:!0,required:!1}},g,c,f,b,l,
m,a,k,e,n,p,q,r,s);return u})},"MW/toolstrip/hashes/listOfNewWidgets":function(){define(["../constants/TypeConstants"],function(h){return[h.LABEL,h.PUSH_BUTTON,h.TOGGLE_BUTTON,h.DROP_DOWN_BUTTON,h.SPLIT_BUTTON,h.TOGGLE_SPLIT_BUTTON,h.TEXT_FIELD,h.TEXT_AREA,h.CHECK_BOX,h.RADIO_BUTTON,h.COMBO_BOX,h.SPINNER,h.LIST,h.LIST_ITEM,h.LIST_ITEM_WITH_CHECKBOX,h.LIST_ITEM_WITH_RADIO_BUTTON,h.LIST_ITEM_WITH_POPUP,h.LIST_ITEM_WITH_TEXTFIELD,h.POPUP_LIST,h.POPUP_LIST_PANEL,h.POPUP_LIST_SEPARATOR,h.POPUP_LIST_HEADER,
h.QAB_PUSH_BUTTON,h.QAB_TOGGLE_BUTTON,h.QAB_DROP_DOWN_BUTTON,h.QAB_SPLIT_BUTTON,h.QAB_TOGGLE_SPLIT_BUTTON,h.COLOR_PICKER_BUTTON,h.GRID_PICKER_BUTTON]})},"MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.RADIO_BUTTON]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.CHECK_BOX]=h.mixin({},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/LabelProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IconProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){var p={};p[d.LABEL]=h.mixin({},g,c,f,b,l,m,a,k,e,n);return p})},"MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(h,d,g,c){var f={};f[d.EMPTY_CONTROL]=h.mixin({},g,c);return f})},"MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k){var e={};e[d.MENUBAR_WRAPPER]=h.mixin({},{},g,c,f,b,l,m,a,k);return e})},"MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k){var e={};e[d.TOOLBAR_WRAPPER]=h.mixin({},g,c,f,b,l,m,a,k);return e})},"MW/toolstrip/hashes/componentproperties/controls/GalleryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/ScrollToSelectionProperty ../properties/HideDisabledItemsProperty ../properties/MnemonicProperty ../properties/OpenIfEmptyProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){f={};f[d.GALLERY]=h.mixin({},{galleryPopupId:{type:"string",notInAction:!0,required:!0},minColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:3},maxColumnCount:{type:"number",notInAction:!0,defaultValue:7},currentColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:7},textOverlay:{type:"string",notInAction:!0,required:!1,defaultValue:""},displayState:{type:"string",notInAction:!0,required:!1,defaultValue:"normal"},shouldRefresh:{type:"boolean",
notInAction:!0,defaultValue:!0,required:!1},enabled:{type:"boolean",shouldBeFlipped:!0,notInAction:!0,defaultValue:!0,required:!1}},g,c,b,l,m,a,k,e,n);return f})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemRowCountProperty":function(){define(["./VerifyComponentProperty"],function(h){return{galleryItemRowCount:new h({type:"number",notInAction:!0,defaultValue:1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemTextLineCountProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{galleryItemTextLineCount:new h({type:"number",notInAction:!0,defaultValue:2,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemWidthProperty":function(){define(["./VerifyComponentProperty"],function(h){return{galleryItemWidth:new h({type:"number",notInAction:!0,defaultValue:0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ScrollToSelectionProperty":function(){define(["./VerifyComponentProperty"],function(h){return{scrollToSelection:new h({type:"boolean",
notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HideDisabledItemsProperty":function(){define(["./VerifyComponentProperty"],function(h){return{hideDisabledItems:new h({type:"boolean",notInAction:!0,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/OpenIfEmptyProperty":function(){define(["./VerifyComponentProperty"],function(h){return{openIfEmpty:new h({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},
"MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/DisplayStateProperty ../properties/ScrollToSelectionProperty dojo/i18n!l10n/nls/toolstrip".split(" "),function(h,d,g,c,f,b,l,m,a,k){var e={};e[d.GALLERY_POPUP]=h.mixin({},
{columnCount:{type:"number",notInAction:!0,required:!1,defaultValue:0},favCategoryId:{type:"string",notInAction:!0,required:!1,defaultValue:""},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""},placeholderText:{type:"string",notInAction:!0,required:!1,defaultValue:k.gallerySearch},showHeader:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0},userCustomizable:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0}},g,c,f,b,l,m,a);return e})},"MW/toolstrip/hashes/componentproperties/properties/DisplayStateProperty":function(){define(["../../../constants/gallery/GalleryViewConstants",
"./VerifyComponentProperty"],function(h,d){return{displayState:new d({type:"string",notInAction:!0,defaultValue:h.ICON,required:!1})}})},"MW/toolstrip/constants/gallery/GalleryViewConstants":function(){define([],function(){return{ICON:"icon_view",LIST:"list_view"}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/DisplayStateProperty ../properties/AnimationProperty".split(" "),
function(h,d,g,c,f,b,l){var m={};m[d.GALLERY_CATEGORY]=h.mixin({},g,c,f,b,l);return m})},"MW/toolstrip/hashes/componentproperties/properties/AnimationProperty":function(){define(["./VerifyComponentProperty"],function(h){return{animation:new h({type:"object",notInAction:!0,defaultValue:{shouldAnimate:!1,startId:"",endId:""},required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty",
"../properties/TagProperty","../properties/DisplayStateProperty"],function(h,d,g,c,f){var b={};b[d.GALLERY_FAVORITE_CATEGORY]=h.mixin({},{title:{type:"string",notInAction:!0,required:!1,defaultValue:"FAVORITES"}},g,c,f);return b})},"MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){var x={};x[d.GALLERY_ITEM]=h.clone(h.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u));x[d.GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return x})},"MW/toolstrip/hashes/componentproperties/properties/ClosePopupOnClickProperty":function(){define(["./VerifyComponentProperty"],function(h){return{closePopupOnClick:new h({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/SelectedProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ButtonGroupNameProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){var v={};v[d.TOGGLE_GALLERY_ITEM]=h.clone(h.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w));v[d.TOGGLE_GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return v})},"MW/toolstrip/hashes/componentproperties/controls/ListItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty ../properties/RemovableProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){var x={};x[d.LIST_ITEM]=h.mixin({},{showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u);return x})},"MW/toolstrip/hashes/componentproperties/properties/ShowDescriptionProperty":function(){define(["./VerifyComponentProperty"],function(h){return{showDescription:new h({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/UseQuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],
function(h){return{useQuickAccessIcon:new h({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.LIST_ITEM_WITH_CHECKBOX]=h.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty ../properties/ButtonGroupNameProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){var t={};t[d.LIST_ITEM_WITH_RADIO_BUTTON]=h.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r,s);return t})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/EditableProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){var s={};s[d.LIST_ITEM_WITH_TEXTFIELD]=h.mixin({},{label:{type:"string",defaultValue:"",notInAction:!1,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r);return s})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/HasDynamicPopupProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){var x={};x[d.LIST_ITEM_WITH_POPUP]=h.mixin({},{popupId:{type:"string",defaultValue:"",notInAction:!1,required:!1},showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1,description:"Using this you can toggle the visibility of the icon on the list item."},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u);return x})},"MW/uiframework/hashes/IconPropertiesSupportingBase64":function(){define({icon:!0,
iconClass:!0,quickAccessIcon:!0})},"MW/uiframework/hashes/ComponentsWithNoParent":function(){define(["../constants/TypeConstants"],function(h){return[h.TOOLSTRIP,h.POPUP_LIST,h.GALLERY_POPUP,h.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/ComponentsSupportedByFooterCell":function(){define(["../constants/TypeConstants"],function(h){return[h.PUSH_BUTTON,h.TOGGLE_BUTTON,h.RADIO_BUTTON,h.TEXT_FIELD,h.LABEL,h.CHECK_BOX]})},"MW/toolstrip/hashes/ComponentsEligibleForQAB":function(){define(["../constants/TypeConstants"],
function(h){var d={};d[h.PUSH_BUTTON]=h.QAB_PUSH_BUTTON;d[h.DROP_DOWN_BUTTON]=h.QAB_DROP_DOWN_BUTTON;d[h.SPLIT_BUTTON]=h.QAB_SPLIT_BUTTON;d[h.TOGGLE_BUTTON]=h.QAB_TOGGLE_BUTTON;d[h.TOGGLE_SPLIT_BUTTON]=h.QAB_TOGGLE_SPLIT_BUTTON;return d})},"MW/toolstrip/ToolstripUtils":function(){define("dijit/registry dojo/_base/kernel dojo/_base/window dojo/dom-geometry dojo/dom-construct ./constants/TypeConstants ./hashes/ComponentsThatDontSupportAction ./hashes/PeerNodeTypesWithNoCorrespondingWidget ./hashes/ComponentsThatSupportAnimation".split(" "),
function(h,d,g,c,f,b,l,m,a){return{isGalleryPopupAttachedWithGallery:function(a){return a.domNode.classList.contains("gallery")},isAPopupList:function(a){return a===b.POPUP_LIST},isAListItemWithPopup:function(a){return a===b.LIST_ITEM_WITH_POPUP},isAMenubarWrapper:function(a){return a===b.MENUBAR_WRAPPER},isAToolbarWrapper:function(a){return a===b.TOOLBAR_WRAPPER},isAColumn:function(a){return a===b.COLUMN},isAPanel:function(a){return a===b.PANEL},supportsAction:function(a){return-1===l.indexOf(a)},
isAFooterCell:function(a){return a===b.FOOTER_CELL},hasNoCorrespondingWidget:function(a){return-1<m.indexOf(a)},supportsAnimation:function(b){return-1<a.indexOf(b)},findParent:function(a,b){for(var c=null,d;a;){d=null;if(a.get("type")===b){c=a;break}a.domNode.parentNode&&(d=a.domNode.parentNode.getAttribute("dijitpopupparent"));a=d?h.byId(d):a.getParent()}return c},findParentToolstrip:function(a){return this.findParent(a,b.TOOLSTRIP)},findParentSection:function(a){return this.findParent(a,b.SECTION)},
getClosestValue:function(a,b){for(var c=-1,d=a.length,f;1<d-c;)f=Math.round((c+d)/2),a[f]<=b?c=f:d=f;a[c]===b&&(d=c);return[a[c],a[d]]},computeWidth:function(a,b,c){return parseInt(this._computeStyle(a,null,b,c).width)},computeHeight:function(a,b,c){return parseInt(this._computeStyle(a,b,null,c).height)},_computeStyle:function(a,b,c,d){null==b&&(b="auto");null==c&&(c="auto");null==d&&(d="");d=-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf((navigator.language||navigator.userLanguage).toLowerCase())?f.create("div",
{"class":"dijitOffScreen",style:'font-size: 13px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+d},g.body()):f.create("div",{"class":"dijitOffScreen",style:'font-size: 11px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+d},g.body());d.style.width=b;d.style.height=c;d.textContent=a;a=window.getComputedStyle(d,null);a={width:a.width,height:a.height};f.destroy(d);return a}}})},"MW/toolstrip/hashes/ComponentsThatDontSupportAction":function(){define(["../constants/TypeConstants"],
function(h){return[h.TOOLSTRIP,h.QAB,h.QA_GROUP,h.TAB_GROUP,h.TAB,h.SECTION,h.COLUMN,h.PANEL,h.EMPTY_CONTROL,h.POPUP_LIST,h.POPUP_LIST_PANEL,h.POPUP_LIST_HEADER,h.POPUP_LIST_SEPARATOR,h.FOOTER,h.FOOTER_CELL,h.GALLERY,h.GALLERY_POPUP,h.GALLERY_CATEGORY,h.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/PeerNodeTypesWithNoCorrespondingWidget":function(){define(["MW/uiframework/constants/TypeConstants"],function(h){return[h.ROOT,h.ORPHAN_ROOT,h.TOOLSTRIP_ROOT,h.POPUP_ROOT,h.QAB_ROOT,"QAGroupRoot",
h.GALLERY_ROOT,h.GALLERY_POPUP_ROOT,h.GALLERY_FAVORITE_CATEGORY_ROOT]})},"MW/toolstrip/hashes/ComponentsThatSupportAnimation":function(){define(["../constants/TypeConstants"],function(h){return[h.GALLERY_FAVORITE_CATEGORY,h.GALLERY_CATEGORY]})},"MW/toolstrip/hashes/DefaultGalleryItemWidths":function(){define([],function(){return{1:{"0":68,1:68,2:68},2:{"0":52,1:102},3:{"0":52,1:98}}})},"MW/uiframework/managers/WidgetManager":function(){define("dojo/aspect dojo/debounce dojo/_base/lang dojo/_base/declare dijit/registry dijit/popup ../constants/TypeConstants ../WidgetFactory ../hashes/ControlEventsHash ../hashes/ComponentPropertiesHash ../hashes/PeerNodeWidgetPropertiesHash ../../toolstrip/hashes/listOfNewWidgets ../../toolstrip/hashes/PeerNodeWidgetEventsHash MW/toolstrip/hashes/ToolstripCollapseTriggers MW/toolstrip/constants/DisplayStateConstants MW/toolstrip/ToolstripUtils mw-log/Log".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){return c(null,{constructor:function(a){var b=this;a=a||{};t.assert(a.modelManager,"Model Manager needs to be passed in!");this._modelManager=a.modelManager;this._openPopups=[];this._galleryRefreshMap={};this._aspects=[h.after(this._modelManager,"onChildAdd",function(a){b.childAddedObserver(a)},!0),h.after(this._modelManager,"onChildDestroy",function(a){b.childDestroyedObserver(a)},!0),h.after(this._modelManager,"onPropertySet",function(a){b.propertySetObserver(a)},
!0),h.after(this._modelManager,"onChildMove",function(a){b.childMovedObserver(a)},!0),h.after(this._modelManager,"onPeerEvent",function(a){b.peerEventObserver(a)},!0),h.after(this._modelManager.actionService,"onActionChange",g.hitch(this,this._onActionChange),!0),h.after(this._modelManager.actionService,"onActionAdd",g.hitch(this,this._onActionAdd),!0),h.after(this._modelManager.actionService,"onPeerEvent",g.hitch(this,this._onActionPeerEvent),!0)]},childAddedObserver:function(a){var b,c,e,k,g,h,
m,p=this;b=a.data.child;c=a.target;s.hasNoCorrespondingWidget(b.getType())||(g=this._getWidgetProperties(b),m=b.getId(),g.id=m.toString(),f.byId(g.id)||(""!==g.tag&&(this._modelManager.tagToPeerNodeIdMap[g.tag]=m),e=this._buildWidget(g,b),k=this._getWidgetForPeerNode(c),e.get("type")===l.GALLERY?(p.refreshGallery(b.getId()),p._modelManager.addEventCallback(b.getId(),d(function(a){"refresh"===a.eventType&&p.refreshGallery(b.getId())},100))):e.get("type")===l.GALLERY_POPUP&&this._modelManager.manager.getByProperty("galleryPopupId",
e.id).forEach(function(a){f.byId(a.getId()).setupGalleryPopupListener(e)}),h=function(){k&&k.addChild(e,a.data.index)},c=b.getProperty("animation"),s.supportsAnimation(a.target.getType())&&c&&!0===c.shouldAnimate?k.animate({type:"childAdd",childWidget:e,startId:c.startId,endId:c.endId,onEnd:function(){h();b.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):h()))},addOutsidePeerModel:function(a,b){var c=this._modelManager.manager.getById(a),d=this._modelManager.manager.getById(b),
e=this._getWidgetProperties(c);e.id=c.getId().toString();c=f.byId(e.id)||this._buildWidget(e,c);(d=this._getWidgetForPeerNode(d))&&d.addChild(c)},removeOutsidePeerModel:function(a){a=this._modelManager.manager.getById(a);a=this._getWidgetForPeerNode(a);var b=a.getParent();b&&b.removeChild(a)},_buildWidget:function(a,b){if(a.type===l.TOOLSTRIP||a.type===l.QA_GROUP)a.enableQABCustomization=this._modelManager.enableQABCustomization;var c=m.create(a),d=this;this._addWatchToWidgetProperties(c,b);this._attachPopupMonitor(c);
this._hookupEvents(c,b);this._listenForToolstripCollapseTrigger(c);this._aspects.push(h.after(c,"removeChild",function(a){d._resetStateRecursive(a)},!0));return c},_listenForToolstripCollapseTrigger:function(a){var b=this,c=q[a.get("type")];c&&(c.events.forEach(function(c){if(-1<n.indexOf(a.type))a.on(p[a.type][c],function(){b._collapseParents(a)});else a.own(h.after(a,c,function(){b._collapseParents(a)}))}),a.watch(function(d){-1<c.properties.indexOf(d)&&b._collapseParents(a)}))},_collapseParents:function(a){this._collapseParentSection(a);
this._collapseParentToolstrip(a)},_collapseParentSection:function(a){(a=s.findParentSection(a))&&a.closePopup()},_collapseParentToolstrip:function(a){var b=s.findParentToolstrip(a);b&&(b.get("displayState")===r.EXPANDED_ON_TOP&&"FooterCell"!==a.getParent().type)&&b.set("displayState",r.COLLAPSED)},_attachPopupMonitor:function(a){var b=this,c;switch(a.get("type")){case l.POPUP_LIST:c=a;break;case l.COMBO_BOX:c=a.dropDown;break;case l.GALLERY_POPUP:c=a;break;case l.SECTION:c=a.getPopup()}c&&(this._aspects.push(h.after(c,
"onOpen",function(){b._onPopupOpen(c)})),this._aspects.push(h.after(c,"onClose",function(){b._onPopupClose()})))},_getWidgetProperties:function(a){var b=this._modelManager.getAllProperties(a.getId()),c,d;Object.keys(b).forEach(function(f){if((c=e[a.getType()])&&c[f])d=k[a.getType()][f],b[c[f]]=d.shouldBeFlipped?!b[f]:g.clone(b[f]),delete b[f]});b.type=a.getType();return b},childDestroyedObserver:function(a){var b,c,d,e,f,k;d=a.data.child;e=a.target;k=d.getId();if(b=this._getWidgetForPeerNode(d))Object.keys(this._modelManager.tagToPeerNodeIdMap).forEach(g.hitch(this,
function(a){this._modelManager.tagToPeerNodeIdMap[a]===k&&delete this._modelManager.tagToPeerNodeIdMap[a]})),c=this._getWidgetForPeerNode(e),f=function(){(s.isAMenubarWrapper(b.get("type"))||s.isAToolbarWrapper(b.get("type")))&&b.getChildren().forEach(function(a){b.removeChild(a)});c&&c.removeChild(b);b.destroyRecursive()},e=d.getProperty("animation"),s.supportsAnimation(a.target.getType())&&e&&!0===e.shouldAnimate?c.animate({type:"childRemove",childWidget:b,startId:e.startId,endId:e.endId,onEnd:function(){f();
d.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):f()},childMovedObserver:function(a){var b,c,d,e,f,k;d=this._getWidgetForPeerNode(a.target);b=this._getWidgetForPeerNode(a.data.oldParent);c=this._getWidgetForPeerNode(a.data.newParent);e=function(){c&&c.addChild(d,a.data.newIndex)};f=function(){b&&b.removeChild(d)};(k=a.target.getProperty("animation"))&&!0===k.shouldAnimate?s.supportsAnimation(a.target.getType())?d.animate({type:"move",oldIndex:a.data.oldIndex,newIndex:a.data.newIndex,
onEnd:function(){f();e();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):s.supportsAnimation(a.data.newParent.getType())?c.animate({type:"childAdd",childWidget:d,startId:k.startId,endId:k.endId,onEnd:function(){f();e();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):s.supportsAnimation(a.data.oldParent.getType())&&b.animate({type:"childRemove",childWidget:d,startId:k.startId,endId:k.endId,onEnd:function(){f();e();a.target.setProperty("animation",
{shouldAnimate:!1,startId:"",endId:""})}}):(f(),e())},propertySetObserver:function(a){var b=this._getWidgetForPeerNode(a.target),c,d,e;b&&("tag"===a.data.key&&(d=b.get("tag"),e=this._modelManager.tagToPeerNodeIdMap[d],delete this._modelManager.tagToPeerNodeIdMap[d],this._modelManager.tagToPeerNodeIdMap[a.data.newValue]=e),this._setWidgetProperty(b,a.data.key,a.data.newValue),"actionId"===a.data.key&&(c=this._getWidgetProperties(a.target),Object.keys(c).forEach(function(d){c=this._getWidgetProperties(a.target);
b.set(d,c[d])},this)))},_getWidgetsWithActionId:function(a){return f.toArray().filter(function(b){return b.actionId===a&&k[b.type]})},_onActionChange:function(a){"id"!==a.key&&this._getWidgetsWithActionId(a.id).forEach(function(b){b._destroyed||this._setWidgetProperty(b,a.key,a.newValue)},this)},_onActionAdd:function(a){if(this._modelManager.isMATLABDriven){var b=this._modelManager.actionService.getAction(a.id),c=Object.keys(b);this._getWidgetsWithActionId(a.id).forEach(function(a){c.forEach(function(c){a._destroyed||
this._setWidgetProperty(a,c,b[c])},this)},this)}},_setWidgetProperty:function(a,b,c){var d=b,f=e[a.get("type")];-1!==Object.keys(k[a.type]).indexOf(b)&&(f&&f[b]&&(d=f[b]),b=k[a.type][b],b.shouldBeFlipped?a.set(d,!c):a.set(d,c))},peerEventObserver:function(a){switch(a.data.eventType){case "placeToolStrip":this._modelManager.placeToolstripById(a.target.getId(),a.data.hostId);break;case "showPopup":this._modelManager.showPopup(a.target.getId(),a.data.popupId);break;case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},
_refreshGalleryFromMATLAB:function(a){this._galleryRefreshMap[a]=this._galleryRefreshMap[a]?this._galleryRefreshMap[a]+1:1;2===this._galleryRefreshMap[a]&&(this.refreshGallery(a),delete this._galleryRefreshMap[a])},_onActionPeerEvent:function(a){switch(a.data.eventType){case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},_addWatchToWidgetProperties:function(a,b){var c,d=this,f,g=e[b.getType()],h=k[b.getType()];a.watch(function(a,e,l){d._modelManager.exists(b.getId())&&(c=a,g&&
g[a]&&(c=g[a]),-1!==Object.keys(h).indexOf(c)&&(f=k[b.getType()][c],f.shouldBeFlipped&&(l=!l),d._modelManager.set(b.getId(),c,l,{source:"UI"})))})},_hookupEvents:function(b,c){function d(a,k){var l="aspect";-1<n.indexOf(f)&&(l="on");a.forEach(function(a){function d(b){var f={};"aspect"===l?f=b||{}:b&&b.mwEventData&&g.mixin(f,b.mwEventData);f.eventType=a;"action"===k?e._modelManager.actionService.executeAction(c.getProperty("actionId"),f):c.dispatchEvent("peerEvent",c,f)}if("aspect"===l)b.own(h.after(b,
a,d,!0));else{var m=a;p[f]&&p[f][a]&&(m=p[f][a]);b.on(m,d)}})}var e=this,f=c.getType(),k=a[f];k&&(d(k.actionEvents,"action"),d(k.componentEvents,"peerNode"))},_getWidgetForPeerNode:function(a){return f.byId(a.getId().toString())},_onPopupClose:function(){this._openPopups.pop();this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},_onPopupOpen:function(a){this._openPopups.push(a);this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},onOpenPopupCountChange:function(a,
b){},isAnyPopupOpen:function(){return 0<b._stack.length&&this._modelManager.exists(b._stack[0].widget.id)},closeAllOpenPopups:function(){this.isAnyPopupOpen()&&b.close()},_resetStateRecursive:function(a){["hovering","active"].forEach(function(b){!0===a.get(b)&&a.set(b,!1)});a.getChildren&&0<a.getChildren().length&&this._resetStateOfChildren(a)},_resetStateOfChildren:function(a){a.getChildren().forEach(function(a){this._resetStateRecursive(a)},this)},refreshGallery:function(a){var b=f.byId(a);if(b){if(this._modelManager.isMATLABDriven){var c=
this._modelManager.get(a,"galleryPopupId");if(c){if(!this._modelManager.manager.hasById(c))return;c=this._modelManager.manager.getById(c);if(this._modelManager.manager.getByType(l.GALLERY_ITEM,c).concat(this._modelManager.manager.getByType(l.TOGGLE_GALLERY_ITEM,c)).some(function(a){return!this._modelManager.actionService.getAction(a.getProperty("actionId"))},this))return}}!1!==b.get("shouldRefresh")&&(c=[],!0===b.get("hideDisabledItems")?(c=this._getUniqueGalleryItems(a,!0),0===c.length&&(c=this._getUniqueGalleryItems(a))):
c=this._getUniqueGalleryItems(a),b.destroyDescendants(),c.forEach(function(a){var c=this._getWidgetProperties(a);a=this._buildWidget(c,a);b.addChild(a)},this),0===c.length&&b.closeDropDown())}},_getUniqueGalleryItems:function(a,b){function c(a){m=!g.some(function(b){return b.getProperty("actionId")===a.getProperty("actionId")});b&&(m=m&&!0===this._modelManager.get(a.getId(),"enabled"));m&&g.push(a)}function d(){for(h=this._modelManager.getAllCategoriesInDescendingOrder(k);0<h.length;)l=h.pop().getChildren(),
l.forEach(c,this)}function e(){for(var a=0,b=g.length,c=null;a<b;){if(!0===this._modelManager.get(g[a].getId(),"selected")){c={peerNode:g[a],index:a};break}a+=1}return c}var f,k,g=[],h,l,m;f=this._modelManager.manager.getById(a);k=this._modelManager.manager.getById(f.getProperty("galleryPopupId"));f=f.getProperty("currentColumnCount")*f.getProperty("galleryItemRowCount");var p=k.getProperty("favCategoryId");this._modelManager.exists(p)&&(g=this._modelManager.manager.getById(p).getChildren());b&&(g=
g.filter(function(a){return!0===this._modelManager.get(a.getId(),"enabled")},this));if(this._modelManager.get(a,"scrollToSelection")){d.call(this);if(p=e.call(this)){var n=p.peerNode.getId(),n=this._modelManager.getParentId(n),n=g.indexOf(this._modelManager.manager.getById(this._modelManager.getChildrenIds(n)[0]));p.index>n+f-1&&(n=p.index-f+1);n+f>g.length&&(n=g.length-f);0>n&&(n=0);return g.splice(n,f)}return g.slice(0,f)}g.length<f&&d.call(this);return g.slice(0,f)},cleanup:function(){this._aspects.forEach(function(a){a.remove()})}})})},
"dojo/debounce":function(){define([],function(){return function(h,d){var g;return function(){g&&clearTimeout(g);var c=this,f=arguments;g=setTimeout(function(){h.apply(c,f)},d)}}})},"MW/uiframework/WidgetFactory":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/WidgetClassHash","mw-log/Log"],function(h,d,g){return{create:function(c){var f;d[c.type]?f=new d[c.type](c):g.error("No corresponding constructor found for the given type!");return f}}})},"MW/toolstrip/hashes/WidgetClassHash":function(){define("../constants/TypeConstants ../widgets/Toolstrip ../widgets/QAB ../widgets/QAGroup ../widgets/TabGroup ../widgets/Tab ../widgets/Section ../widgets/Panel ../widgets/Column ../menu/PopupListPanel ../widgets/Footer ../widgets/FooterCell ../widgets/gallery/Gallery ../widgets/gallery/GalleryPopup ../widgets/gallery/GalleryCategory ../form/PushButton ../form/DropDownButton ../form/SplitButton ../form/ToggleButton ../form/ColorPickerButton ../form/GridPickerButton ../qab/QABPushButton ../qab/QABDropDownButton ../qab/QABSplitButton ../qab/QABToggleButton ../qab/QABToggleSplitButton ../widgets/qabcontrols/QABFloatingPaneDock ../form/ToggleSplitButton ../menu/PopupList ../menu/ListItem ../menu/ListItemWithPopup ../menu/ListItemWithCheckBox ../menu/ListItemWithTextField ../menu/ListItemWithRadioButton ../menu/PopupListSeparator ../menu/PopupListHeader ../form/ComboBox ../form/ListBox ../form/Label ../widgets/EmptyControl ../form/TextField ../form/TextArea ../form/Spinner ../widgets/HorizontalSlider ../form/RadioButton ../form/CheckBox ../widgets/ToolbarWrapper ../widgets/MenubarWrapper ../widgets/gallery/GalleryItem ../widgets/gallery/ToggleGalleryItem".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O,S,M,J,C,E,Q,K,L,P,$,R,W,X,Y,Z,T,aa,U,V,ba){var F={};F[h.TOOLSTRIP]=d;F[h.QAB]=g;F[h.QA_GROUP]=c;F[h.TAB_GROUP]=f;F[h.TAB]=b;F[h.SECTION]=l;F[h.PANEL]=m;F[h.POPUP_LIST_PANEL]=k;F[h.COLUMN]=a;F[h.GALLERY]=p;F[h.GALLERY_POPUP]=q;F[h.GALLERY_CATEGORY]=r;F[h.GALLERY_FAVORITE_CATEGORY]=r;F[h.FOOTER]=e;F[h.FOOTER_CELL]=n;F[h.PUSH_BUTTON]=s;F[h.DROP_DOWN_BUTTON]=t;F[h.SPLIT_BUTTON]=u;F[h.TOGGLE_BUTTON]=x;F[h.COLOR_PICKER_BUTTON]=w;F[h.GRID_PICKER_BUTTON]=
v;F[h.QAB_PUSH_BUTTON]=z;F[h.QAB_DROP_DOWN_BUTTON]=y;F[h.QAB_SPLIT_BUTTON]=A;F[h.QAB_TOGGLE_BUTTON]=B;F[h.QAB_TOGGLE_SPLIT_BUTTON]=D;F[h.QAB_FLOATING_PANE_DOCK]=H;F[h.TOGGLE_SPLIT_BUTTON]=G;F[h.POPUP_LIST]=I;F[h.LIST_ITEM]=O;F[h.LIST_ITEM_WITH_POPUP]=S;F[h.LIST_ITEM_WITH_CHECKBOX]=M;F[h.LIST_ITEM_WITH_TEXTFIELD]=J;F[h.LIST_ITEM_WITH_RADIO_BUTTON]=C;F[h.POPUP_LIST_SEPARATOR]=E;F[h.POPUP_LIST_HEADER]=Q;F[h.COMBO_BOX]=K;F[h.LIST]=L;F[h.LABEL]=P;F[h.EMPTY_CONTROL]=$;F[h.TEXT_FIELD]=R;F[h.TEXT_AREA]=W;
F[h.SPINNER]=X;F[h.HORIZONTAL_SLIDER]=Y;F[h.RADIO_BUTTON]=Z;F[h.CHECK_BOX]=T;F[h.MENUBAR_WRAPPER]=U;F[h.TOOLBAR_WRAPPER]=aa;F[h.GALLERY_ITEM]=V;F[h.TOGGLE_GALLERY_ITEM]=ba;return F})},"MW/toolstrip/widgets/Toolstrip":function(){define("dojo/aspect dojo/on dojo/dom dojo/topic dojo/keys dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/kernel dijit/Viewport dojo/query dojo/dom-geometry ../ToolstripUtils dojo/i18n!l10n/nls/toolstrip dojo/_base/event dijit/registry dijit/popup dojo/text!./templates/Toolstrip.html dijit/_WidgetBase dijit/_Container dijit/_TemplatedMixin ./TabContainer mw-form/PushButton mw-menu/ContextMenu mw-menu/MenuItem mw-menu/MenuSeparator ../hashes/ComponentsEligibleForQAB ../constants/TypeConstants ../constants/DisplayStateConstants ../constants/MiscConstants ./_WidgetMixin mw-event-utils/doubleClickHandler mw-utils/widgetUtils MW/layout/ConfirmationDialog mw-mixins/PreventSelectionMixin MW/uiframework/MnemonicsStates".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O,S,M,J,C,E,Q){return b([x,w,v,S,E],{templateString:u,constructor:function(){this._shouldSetSelectedTab=!0;this._previousSelectedChild=null;this._tabGroupListeners={};h.before(this,"addChild",this._beforeAddChild)},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","refuse");var a=this;this.tabContainer=new z({"class":"tabContainer"},this.toolstripTabContainer);this.tabContainer.tablist.onkeydown=
function(){};this._supportingWidgets.push(this.tabContainer);this.own(h.after(this,"placeAt",function(){c.publish("/Toolstrip/toolstripPlaced",{toolstripId:this.id});a.toolstripPlaced();a.resize()}));this.collapseButton=(new y({"class":"collapseButton",icon:"smallCollapse",showText:!1,width:20,height:20})).placeAt(this.collapseButtonContainer);this.collapseButton.on("click",m.hitch(this,this._expandCollapse));this.tabContainer.tablist.tablistWrapper.children[0].dojoClick=!1;this._setTooltipforExpandCollapseButton();
this._supportingWidgets.push(this.collapseButton);this.hostId&&(this.placeAt(this.hostId),this.resize(),this.startup());this.connect(this.tabContainer,"selectChild",function(a){this.set("selectedTab",a.id)});this.own(k.on("resize",m.hitch(this,function(){this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null);this._resizeTimeout=setTimeout(m.hitch(this,function(){this.resize()}),500)})));this.own(d(this.domNode,".dijitTab:click",M.createCallback(function(b){var c=s.getEnclosingWidget(b.target);
a.displayState===I.COLLAPSED?a.set("displayState",I.EXPANDED_ON_TOP):a.displayState===I.EXPANDED_ON_TOP&&Q.getCurrentMnemonicsState()!==Q.CONTROL_TAB&&a._previousSelectedChild&&g.isDescendant(b.target,a._previousSelectedChild.domNode)&&a.set("displayState",I.COLLAPSED);a._previousSelectedChild=c},function(){a._expandCollapse()})),d(document.body,"click",function(b){a.displayState===I.EXPANDED_ON_TOP&&(!J.isDescendant(b.target,a.domNode)&&b.target!==document.body)&&a.set("displayState",I.COLLAPSED)}));
this._setupContextMenu();this._setLocaleOnDomNode()},_setLocaleOnDomNode:function(){-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf(a.locale)&&this.domNode.classList.add("isCJK")},_setupContextMenu:function(){var a='[id\x3d"'+this.id+'"]',b=function(a){var b=a.target||document.activeElement,c;e("[dijitpopupparent]").some(function(a){return"none"!==a.style.display&&b&&a.contains(b)?(c=a,!0):!1});if(b&&c&&this._findParentNode(b,"id",this.id)){if(a=e('[id\x3d"'+c.id+'"] *'),a.push(c),-1<a.indexOf(b))return a}else return null}.bind(this);
this._contextMenu=new A({willOpenCallback:m.hitch(this,this._updateContextMenu),targetNodes:[a,a+" *",b]});this._contextMenu.domNode.classList.add("mwToolstripPopupContextMenu");this.own(this._contextMenu)},_findParentNode:function(a,b,c){var d=null,e;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(c){if(a.hasAttribute(b)&&a.getAttribute(b)===c){d=a;break}}else{if(a.hasAttribute(b)){d=a;break}if(a.classList.contains(b)){d=a;break}}a=(e=a.getAttribute("dijitpopupparent"))?document.getElementById(e):
a.parentNode}return d},_updateContextMenu:function(a){this._contextMenu.getChildren().forEach(function(a){this._contextMenu.removeChild(a);a.destroyRecursive()},this);var b;if(b=a.target.classList.contains("toolstripComponentWrapper")?s.getEnclosingWidget(a.target.children[0]):s.getEnclosingWidget(a.target))if(("GalleryItem"===b.type||"ToggleGalleryItem"===b.type)&&!0===b.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(b),b.page&&"Tab"===b.page.type&&!0===b.page.get("removable"))this._addRemoveWidgetMenuItemToContextMenu(b.page);
else{for(a=b;a&&"Tab"!==a.type;)a=a.domNode&&a.domNode.parentElement&&a.domNode.parentElement.hasAttribute("dijitpopupparent")?s.byId(a.domNode.parentElement.getAttribute("dijitpopupparent")):a.getParent();a&&!0===a.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(a)}if(this.enableQABCustomization){-1<Object.keys(H).indexOf(b.get("type"))&&!b.get("hasDynamicMenu")&&(a=new B({text:q.addToQAB,tag:"addToQAB",disabled:b.get("isInQAB")}),this._contextMenu.addChild(a),a.on("click",function(){b.set("isInQAB",
!0)}));switch(b.get("type")){case G.QAB_PUSH_BUTTON:case G.QAB_TOGGLE_BUTTON:case G.QAB_SPLIT_BUTTON:case G.QAB_DROP_DOWN_BUTTON:case G.QAB_TOGGLE_SPLIT_BUTTON:!0===b.get("isInQAB")&&(a=new B({text:q.removeFromQAB,tag:"removeFromQAB"}),this._contextMenu.addChild(a),a.on("click",function(){b.set("isInQAB",!1)}));this._setShowHideLabelMenuItem(b);break;case G.QAB_FLOATING_PANE_DOCK:this._setShowHideLabelMenuItem(b)}this._isDescendantOfQAB(b)&&(a=new B({text:q.restoreFactoryControls,tag:"restoreFactoryControls"}),
this._contextMenu.addChild(a),a.on("click",m.hitch(this,function(){var a=new C({title:q.restoreFactoryControlsDialogTitle,message:q.restoreFactoryControlsDialogMessage});a.on("success",m.hitch(this,function(){this._QABWidget.restoreFactoryControls()}));a.open()})))}this._contextMenu.hasChildren()&&this._contextMenu.addChild(new D);a=new B({text:this.get("displayState")!==I.EXPANDED?q.restoreToolstrip:q.minimizeToolstrip,tag:"minimizeRestoreToolstrip"});this._contextMenu.addChild(a);a.on("click",m.hitch(this,
this._expandCollapse))},_setShowHideLabelMenuItem:function(a){var b=new B({text:a.get("showText")?q.hideLabel:q.showLabel,tag:"showHideLabel"});this._contextMenu.addChild(b);b.on("click",function(){a.set("showText",!a.get("showText"))})},_addRemoveWidgetMenuItemToContextMenu:function(a){var b,c=function(b){"keydown"===b.type&&0>[f.ENTER,f.SPACE].indexOf(b.keyCode)||(a._emitRemoveEvent?a._emitRemoveEvent():a.emit("remove"),t.close())};b=a.get("removeMessage");if(!b)switch(a.get("type")){case G.TAB:b=
q.closeWidget.replace(/\$\{0}/g,a.get("title"));break;case G.GALLERY_ITEM:case G.TOGGLE_GALLERY_ITEM:b=q.removeWidget.replace(/\$\{0}/g,a.get("text"))}b=new B({text:b,tag:"removeWidget"});this._contextMenu.addChild(b);b.on("mouseup",c);b.on("keydown",c)},_isDescendantOfQAB:function(a){var b=!1;if(a===this._QABWidget)b=!0;else for(;a&&a.getParent&&a.getParent()!==this;){if(a.getParent()===this._QABWidget){b=!0;break}a=a.getParent()}return b},_getToolstripWidth:function(){return n.getMarginBox(this.domNode).w},
_getTopRightContainerWidth:function(){return n.getMarginBox(this.topRightContainer).w},_getTabsWidth:function(a){var b=0;a.forEach(function(a){b+=n.getMarginBox(a).w});return b},_getTabMargin:function(a){if(0<a.length)return n.getMarginBox(a[0]).w-n.position(a[0]).w},_getTabPadding:function(a){if(0<a.length)return 20},_shrinkTabs:function(a){var b=a.length,c=this,d=this._getTabMargin(a),e=this._getTabPadding(a);a.forEach(function(f,k){a[k].style.width=c._availableWidthForTabs/b-e-d+"px";f.classList.add("noMinWidth")})},
_expandTabs:function(a){var b,c,d=this,e=0,f=a.length,k,g=[],h=this._getTabMargin(a);this._getTabPadding(a);a.forEach(function(b,c){k=p.computeWidth(a[c].textContent);k<O.TAB_WIDTH&&(k=O.TAB_WIDTH);k+=h;e+=k;g.push(k)});e<d._getToolstripWidth()-d._getTopRightContainerWidth()?a.forEach(function(b,c){b.classList.remove("noMinWidth");a[c].style.width="auto"}):a.forEach(function(e,k){b=parseFloat(a[k].style.width);c=b+d._availableWidth/f;c<g[k]?(a[k].style.width=c+"px",e.classList.add("noMinWidth")):
a[k].style.width=g[k]-h+"px"})},_setPreventResizeAttr:function(a){this._ignoreResize=this._doNotResize=a},resize:function(){this.inherited(arguments);if(!this._destroyed&&!this._doNotResize&&(this.tabContainer._started&&this.tabContainer.resize(),this.domNode.parentElement)){var a,b=this,c,d,f=0,k,g,h;a=e("[data-dojo-attach-point\x3d'titleNode,innerDiv,tabContent']",this.domNode);f=this._getTabsWidth(a);h=this._getToolstripWidth();g=this._getTopRightContainerWidth();d={QABContainer:this._getQABWidth(),
logoutContainer:this._getLogoutButtonWidth(),searchContainer:this._getSearchBoxWidth(),tabs:this._getTabsWidth(a)};c=["searchContainer","QABContainer","logoutContainer","tabs"];f+g>h?(k=f+g-h,c.forEach(function(c){g=b._getTopRightContainerWidth();h=b._getToolstripWidth();k=f+g-h;0<k&&("tabs"===c?(b._availableWidthForTabs=h-g,b._shrinkTabs(a)):("searchContainer"===c&&b.searchPopupContainer.classList.remove("dijitOffScreen"),e("."+c,b.domNode)[0].classList.add("dijitOffScreen")))})):(this._availableWidth=
h-(f+g),c.reverse().forEach(function(c){g=b._getTopRightContainerWidth();h=b._getToolstripWidth();f=b._getTabsWidth(a);b._availableWidth=h-(f+g);0<b._availableWidth&&("tabs"===c?b._expandTabs(a):d[c]<b._availableWidth&&(e("."+c,b.domNode)[0].classList.remove("dijitOffScreen"),e("."+c,b.domNode)[0].style.display="inline-block","searchContainer"===c&&b.searchPopupContainer.classList.add("dijitOffScreen")))}))}},_getLogoutButtonWidth:function(){return n.getMarginBox(this.logoutContainer).w},_getQABWidth:function(){return n.getMarginBox(this.QABContainer).w},
_getSearchBoxWidth:function(){return n.getMarginBox(this.searchContainer).w},startup:function(){this.inherited(arguments);this._adjustHostHeight();var a=this.domNode.parentNode;a&&(a.style.zIndex=20);this.tabContainer.startup();this.collapseButton.startup();this._QABWidget&&this._QABWidget.startup()},_expandCollapse:function(){var a=this.displayState;a===I.COLLAPSED||a===I.EXPANDED_ON_TOP?a=I.EXPANDED:a===I.EXPANDED&&(a=I.COLLAPSED);this.set("displayState",a);t.close()},addTab:function(a,b){this._shouldSetSelectedTab=
!1;this.tabContainer.addChild(a,b);this._shouldSetSelectedTab=!0},removeChild:function(a){a.tabs.forEach(function(a){this.removeTab(a)},this);this.inherited(arguments);this.resize();Object.keys(this._tabGroupListeners).forEach(function(a){this._tabGroupListeners[a].forEach(function(a){a.remove()})},this)},_beforeAddChild:function(a,b){var c=b,d=this.getChildren().length;!b&&0!==b&&(c=d);return[a,c]},addChild:function(a,b){var c=0,d=0,e,f;for(e=this.getChildren();c<b;)d+=e[c].tabs.length,c+=1;a.tabs.forEach(function(a,
b){this.addTab(a,d+b)},this);this.inherited(arguments);this.set("selectedTab",a.get("selectedTab"));this.resize();this._removeUnSelectableAttribute();c=a.on("childadded",m.hitch(this,this.resize));e=a.on("childremoved",m.hitch(this,this.resize));f=a.on("childadded",m.hitch(this,this._removeUnSelectableAttribute));this._tabGroupListeners[a.id]=[c,e,f]},_removeUnSelectableAttribute:function(){e(".tabLabel",this.domNode).forEach(function(a){g.setSelectable(a,!0)},this)},_setSelectedTabAttr:function(a){if(this._shouldSetSelectedTab){var b=
s.byId(a.toString());if(b&&(this.selectedTab!==a||!this.tabContainer.selectedChildWidget||this.tabContainer.selectedChildWidget.get("id")!==a))this._set("selectedTab",a),this.selectTab(b),this.getChildren().forEach(function(b){b.tabs.some(function(b){return b.id===a})&&b.set("selectedTab",a)})}},_setDisplayStateAttr:function(a){this._set("displayState",a);this._setTooltipforExpandCollapseButton();this._adjustHostHeight()},_setTooltipforExpandCollapseButton:function(){this.collapseButton&&(this.displayState===
I.COLLAPSED||this.displayState===I.EXPANDED_ON_TOP?this.collapseButton.set("description",q.restoreToolstrip):this.collapseButton.set("description",q.minimizeToolstrip))},_adjustHostHeight:function(){var a,b;if(a=this.domNode.parentElement)switch(b=s.getEnclosingWidget(a.parentElement),this.displayState){case I.COLLAPSED:this.domNode.classList.remove("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="28px";a.style.overflow="hidden";this.collapseButton&&
this.collapseButton.set("icon","smallExpand");break;case I.EXPANDED:this.domNode.classList.add("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="121px";a.style.overflow="hidden";this.collapseButton&&this.collapseButton.set("icon","smallCollapse");this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize();break;case I.EXPANDED_ON_TOP:this.domNode.classList.add("toolstripNotCollapsed"),this.domNode.classList.add("toolstripExpandedOnTop"),
a.style.height="28px",a.style.overflow="visible",this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize()}b&&b.resize&&b.resize()},removeTab:function(a){this._shouldSetSelectedTab=!1;this.tabContainer.removeChild(a);this._shouldSetSelectedTab=!0},selectTab:function(a){this.tabContainer.selectChild(a);this.set("selectedTab",a.id)},_setQABIdAttr:function(a){var b=s.byId(a);b&&(this._QABWidget=b,l.place(b.domNode,this.QABContainer),this._started&&this._QABWidget.startup(),
this.own(b));this._set("QABId",a)},toolstripPlaced:function(){}})})},"MW/toolstrip/widgets/TabContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/layout/TabContainer","dijit/layout/ScrollingTabController"],function(h,d,g,c){return h(g,{postMixInProperties:function(){this.inherited(arguments);this.controllerWidget=h(c,{resize:function(){},onAddChild:function(c,b){var g=new (d.isString(this.buttonWidget)?d.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+c.id,
name:this.id+"_"+c.id,label:c.title,disabled:c.disabled,ownerDocument:this.ownerDocument,dir:c.dir,lang:c.lang,textDir:c.textDir||this.textDir,showLabel:c.showTitle,iconClass:c.iconClass,closeButton:c.closable,title:c.tooltip,page:c});this.addChild(g,b);c.controlButton=g;if(!this._currentChild)this.onSelectChild(c);g=c._wrapper.getAttribute("aria-labelledby")?c._wrapper.getAttribute("aria-labelledby")+" "+g.id:g.id;c._wrapper.removeAttribute("aria-label");c._wrapper.setAttribute("aria-labelledby",
g)}})},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var c=this.selectedChildWidget;c&&this._showChild(c)}(c=this.selectedChildWidget)&&c.resize()}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(h,d,g,c,f){return d("dijit.layout.TabContainer",g,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(b){var c=this.baseClass+"-tabs"+(this.doLayout?
"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?h.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":c,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},b)},postMixInProperties:function(){this.inherited(arguments);
this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?f:c)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),function(h,d,g,c,f,b,l,m){return h("dijit.layout._TabContainerBase",[f,l],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:m,
postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&c.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||d.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(d.add(this.domNode,"dijitTabContainerNested"),d.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),
d.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),d.add(this.containerNode,"dijitTabPaneWrapperNested")):d.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){d.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=this.selectedChildWidget;if(this.doLayout){var c=this.tabPosition.replace(/-h/,
"");this.tablist.region=c;c=[this.tablist,{domNode:this.tablistSpacer,region:c},{domNode:this.containerNode,region:"center"}];b.layoutChildren(this.domNode,this._contentBox,c);this._containerContentBox=b.marginBox2contentBox(this.containerNode,c[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){c=this.tablist.domNode.style;c.width="0";var d=g.getContentBox(this.domNode).w;c.width="";this.tablist.resize({w:d})}a&&a.resize&&a.resize()}}},destroy:function(a){this.tablist&&
this.tablist.destroy(a);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){b("dijit-legacy-requires")&&a(0,function(){require(["dijit/layout/StackController"])});g=g("dijit.layout.StackContainer",q,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",
buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(m(this.domNode,"keydown",l.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();h.forEach(a,this._setupChild,this);this.persist?this.selectedChildWidget=n.byId(d(this.id+"_selectedChild")):h.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var b=this.selectedChildWidget;!b&&
a[0]&&(b=this.selectedChildWidget=a[0],b.selected=!0);k.publish(this.id+"-startup",{children:a,selected:b,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var b=a.domNode,c=f.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),d=a["aria-label"]||a.title||a.label;d&&c.setAttribute("aria-label",
d);f.place(b,c);a._wrapper=c;this.inherited(arguments);"none"==b.style.display&&(b.style.display="block");a.domNode.removeAttribute("title")},addChild:function(a,b){this.inherited(arguments);this._started&&(k.publish(this.id+"-addChild",a,b),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var b=h.indexOf(this.getChildren(),a);this.inherited(arguments);f.destroy(a._wrapper);delete a._wrapper;this._started&&k.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===
a&&(this.selectedChildWidget=void 0,this._started)){var c=this.getChildren();c.length&&this.selectChild(c[Math.max(b-1,0)])}this._started&&this.layout()}},selectChild:function(a,b){var c;a=n.byId(a);this.selectedChildWidget!=a&&(c=this._transition(a,this.selectedChildWidget,b),this._set("selectedChildWidget",a),k.publish(this.id+"-selectChild",a,this._focused),this.persist&&d(this.id+"_selectedChild",this.selectedChildWidget.id));return e(c||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=
this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=h.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(a){k.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;
a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&c.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&c.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){if(!a.onClose||a.onClose(this,a))this.removeChild(a),
a.destroyRecursive()},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;h.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});g.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};l.extend(p,g.ChildWidgetProperties);return g})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(h,d){h.cookie=function(g,c,f){var b=
document.cookie,h;if(1==arguments.length)h=(h=b.match(RegExp("(?:^|; )"+d.escapeString(g)+"\x3d([^;]*)")))?decodeURIComponent(h[1]):void 0;else{f=f||{};b=f.expires;if("number"==typeof b){var m=new Date;m.setTime(m.getTime()+864E5*b);b=f.expires=m}b&&b.toUTCString&&(f.expires=b.toUTCString());c=encodeURIComponent(c);var b=g+"\x3d"+c,a;for(a in f)b+="; "+a,m=f[a],!0!==m&&(b+="\x3d"+m);document.cookie=b}return h};h.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return h.cookie})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(h,d,g,c,f,b,l,m,a){return b("dijit.layout._LayoutWidget",[d,g,c],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,
_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(f.on("resize",h.hitch(this,"resize")))}},resize:function(b,c){var d=this.domNode;b&&m.setMarginBox(d,b);var f=c||{};h.mixin(f,b||{});if(!("h"in f)||!("w"in f))f=h.mixin(m.getMarginBox(d),f);var g=a.getComputedStyle(d),l=m.getMarginExtents(d,
g),s=m.getBorderExtents(d,g),f=this._borderBox={w:f.w-(l.w+s.w),h:f.h-(l.h+s.h)},l=m.getPadExtents(d,g);this._contentBox={l:a.toPixelValue(d,g.paddingLeft),t:a.toPixelValue(d,g.paddingTop),w:f.w-l.w,h:f.h-l.h};this.layout()},layout:function(){},_setupChild:function(a){l.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){l.remove(a.domNode,this.baseClass+
"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){f=h("dijit.layout._TabButton",m.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},
templateString:n,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);d.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);c.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=b.getLocalization("dijit","common"),this.closeNode&&g.set(this.closeNode,"title",a.itemClose))},
_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)g.remove(this.closeNode,"title");else{var c=b.getLocalization("dijit","common");g.set(this.closeNode,"title",c.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=l.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});h=h("dijit.layout.TabController",m,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",
tabPosition:"top",buttonWidget:f,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var d=new k({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return c.contains(a,"dijitClosable")&&!c.contains(a,"dijitTabDisabled")}});this.own(d);var f=b.getLocalization("dijit","common"),g=this;d.addChild(new e({label:f.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,
lang:this.lang,textDir:this.textDir,onClick:function(b){b=a.byNode(this.getParent().currentTarget);g.onCloseButtonClick(b.page)}}))}});h.TabButton=f;return h})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){c=d("dijit.layout._StackButton",
q,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});d=d("dijit.layout.StackController",[e,n,p],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:c,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return k.byId(this.id+"_"+a)},postCreate:function(){this.inherited(arguments);
this.own(m.subscribe(this.containerId+"-startup",b.hitch(this,"onStartup")),m.subscribe(this.containerId+"-addChild",b.hitch(this,"onAddChild")),m.subscribe(this.containerId+"-removeChild",b.hitch(this,"onRemoveChild")),m.subscribe(this.containerId+"-selectChild",b.hitch(this,"onSelectChild")),m.subscribe(this.containerId+"-containerKeyDown",b.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(l(this.containerNode,"click",b.hitch(this,function(a){var b=k.getEnclosingWidget(a.target);
if(b!=this.containerNode&&!b.disabled&&b.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(g.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(b.page);break}else if(a==b.domNode){this.onButtonClick(b.page);break}})))},onStartup:function(a){this.textDir=a.textDir;h.forEach(a.children,this.onAddChild,this);if(a.selected)this.onSelectChild(a.selected);var c=k.byId(this.containerId).containerNode,d=b.hitch(this,"pane2button");a={title:"label",showtitle:"showLabel",iconclass:"iconClass",
closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var e=function(a,b){return l(c,"attrmodified-"+a,function(a){var c=d(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},f;for(f in a)this.own(e(f,a[f]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,c){var d=new (b.isString(this.buttonWidget)?b.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+a.id,name:this.id+"_"+a.id,label:a.title,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(d,c);a.controlButton=d;if(!this._currentChild)this.onSelectChild(a);d=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+d.id:d.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",d)},onRemoveChild:function(a){this._currentChild===
a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var b=this.pane2button(this._currentChild.id);b.set("checked",!1);b.focusNode.setAttribute("tabIndex","-1")}b=this.pane2button(a.id);b.set("checked",!0);this._currentChild=a;b.focusNode.setAttribute("tabIndex","0");k.byId(this.containerId)}},onButtonClick:function(b){var c=this.pane2button(b.id);a.focus(c.focusNode);this._currentChild&&
this._currentChild.id===b.id&&c.set("checked",!0);k.byId(this.containerId).selectChild(b)},onCloseButtonClick:function(b){k.byId(this.containerId).closeChild(b);this._currentChild&&(b=this.pane2button(this._currentChild.id))&&a.focus(b.focusNode||b.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),c=h.indexOf(b,this.pane2button(this._currentChild.id)),d=b[c],e;do c=(c+(a?1:b.length-1))%b.length,e=b[c];while(e.disabled&&
e!=d);return e},onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var c=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case f.LEFT_ARROW:case f.UP_ARROW:a._djpage||(c=!1);break;case f.PAGE_UP:a.ctrlKey&&(c=!1);break;case f.RIGHT_ARROW:case f.DOWN_ARROW:a._djpage||(c=!0);break;case f.PAGE_DOWN:a.ctrlKey&&(c=!0);break;case f.HOME:for(var d=this.getChildren(),e=0;e<d.length;e++){var k=d[e];if(!k.disabled){this.onButtonClick(k.page);break}}a.stopPropagation();a.preventDefault();break;case f.END:d=
this.getChildren();for(e=d.length-1;0<=e;e--)if(k=d[e],!k.disabled){this.onButtonClick(k.page);break}a.stopPropagation();a.preventDefault();break;case f.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==f.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case f.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==c&&(this.onButtonClick(this.adjacent(c).page),a.stopPropagation(),
a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});d.StackButton=c;return d})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin","../_mw/utils/deprecation"],function(h,d,g,c,f){f.deprecated({deprecated:{module:"dijit/form/ToggleButton"},replacement:{module:"mw-form/ToggleButton"},geckNumber:1352405});return h("dijit.form.ToggleButton",[g,c],{baseClass:"dijitToggleButton",setChecked:function(b){d.deprecated("setChecked("+
b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,d){return h("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(d){var c=this.checked;this._set("checked",!c);var f=this.inherited(arguments);this.set("checked",f?this.checked:c);return f},_setCheckedAttr:function(g,c){this._set("checked",g);var f=this.focusNode||this.domNode;
this._created&&d.get(f,"checked")!=!!g&&d.set(f,"checked",!!g);f.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,c)},postCreate:function(){this.inherited(arguments);var d=this.focusNode||this.domNode;this.checked&&d.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){e("dijit-legacy-requires")&&s(0,function(){h(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return g("dijit.Menu",r,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):d.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return p.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(b){b=c.byId(b,this.ownerDocument);var d;if("iframe"==b.tagName.toLowerCase()){var e=b;d=this._iframeContentWindow(e);d=n.body(d.document)}else d=b==n.body(this.ownerDocument)?this.ownerDocument.documentElement:b;var g={node:b,
iframe:e};f.set(b,"_dijitMenu"+this.id,this._bindings.push(g));var h=a.hitch(this,function(a){var b=this.selector,c=b?function(a){return k.selector(b,a)}:function(a){return a},d=this;return[k(a,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<d._lastKeyDown+500||d._scheduleOpen(this,e,{x:a.pageX,y:a.pageY},a.target)}),k(a,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==m.F10||d.leftClickToOpen&&a.keyCode==m.SPACE)a.stopPropagation(),
a.preventDefault(),d._scheduleOpen(this,e,null,a.target),d._lastKeyDown=(new Date).getTime()})]});g.connects=d?h(d):[];e&&(g.onloadHandler=a.hitch(this,function(){var a=this._iframeContentWindow(e),a=n.body(a.document);g.connects=h(a)}),e.addEventListener?e.addEventListener("load",g.onloadHandler,!1):e.attachEvent("onload",g.onloadHandler))},unBindDomNode:function(a){var b;try{b=c.byId(a,this.ownerDocument)}catch(d){return}a="_dijitMenu"+this.id;if(b&&f.has(b,a)){for(var e=f.get(b,a)-1,k=this._bindings[e],
g;g=k.connects.pop();)g.remove();(g=k.iframe)&&(g.removeEventListener?g.removeEventListener("load",k.onloadHandler,!1):g.detachEvent("onload",k.onloadHandler));f.remove(b,a);delete this._bindings[e]}},_scheduleOpen:function(a,b,c,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:d,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(a){function d(){s.refocus&&r&&r.focus();q.close(s)}var f=a.target,k=a.iframe,g=a.coords,h=!g;this.currentTarget=
a.delegatedTarget;if(g){if(k){a=b.position(k,!0);var f=this._iframeContentWindow(k),f=b.docScroll(f.document),m=l.getComputedStyle(k),p=l.toPixelValue,n=(e("ie")&&e("quirks")?0:p(k,m.paddingLeft))+(e("ie")&&e("quirks")?p(k,m.borderLeftWidth):0),k=(e("ie")&&e("quirks")?0:p(k,m.paddingTop))+(e("ie")&&e("quirks")?p(k,m.borderTopWidth):0);g.x+=a.x+n-f.x;g.y+=a.y+k-f.y}}else g=b.position(f,!0),g.x+=10,g.y+=10;var s=this,k=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var r=!a||
c.isDescendant(a,this.domNode)?k:a;q.open({popup:this,x:g.x,y:g.y,onExecute:d,onCancel:d,orient:this.isLeftToRight()?"L":"R"});this.focus();h||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);q.close(this)}},destroy:function(){d.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],
function(h,d,g,c){return h("dijit.DropDownMenu",c,{templateString:g,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(c){this._moveToPopup(c);c.stopPropagation();c.preventDefault()},_onLeftArrow:function(c){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else c.stopPropagation(),c.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r){return d("dijit._MenuBase",[n,r,q,p],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){f.toggle(this.domNode,"dijitMenuActive",a);f.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=e.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,c="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(m(this.containerNode,m.selector(c,l.enter),function(){a.onItemHover(e.byNode(this))}),m(this.containerNode,m.selector(c,l.leave),function(){a.onItemUnhover(e.byNode(this))}),m(this.containerNode,m.selector(c,k),function(b){a.onItemClick(e.byNode(this),b);b.stopPropagation()}),
m(this.containerNode,m.selector(c,"focusin"),function(){a._onItemFocus(e.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,d){this.inherited(arguments);if(a&&(-1==d||a.popup&&1==d))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,c){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var d=a.popup;d.parentMenu=this;this.own(this._mouseoverHandle=m.once(d.domNode,"mouseover",b.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){c&&
e.focusChild(a);e._cleanUp()},onExecute:b.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},c);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(c.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return d("dijit._KeyNavContainer",[a,k,m],{connectKeyNavHandlers:function(a,c){var d=this._keyNavCodes={},k=b.hitch(this,"focusPrev"),g=b.hitch(this,"focusNext");h.forEach(a,function(a){d[a]=k});h.forEach(c,function(a){d[a]=g});d[f.HOME]=b.hitch(this,"focusFirstChild");d[f.END]=b.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){c.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);h.forEach(this.getChildren(),
b.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
l.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(h,d,g,c,f,b,l,m){return d("dijit._KeyNavMixin",m,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);g.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var a=this._keyNavCodes={};a[c.HOME]=f.hitch(this,"focusFirstChild");a[c.END]=f.hitch(this,
"focusLastChild");a[this.isLeftToRight()?c.LEFT_ARROW:c.RIGHT_ARROW]=f.hitch(this,"_onLeftArrow");a[this.isLeftToRight()?c.RIGHT_ARROW:c.LEFT_ARROW]=f.hitch(this,"_onRightArrow");a[c.UP_ARROW]=f.hitch(this,"_onUpArrow");a[c.DOWN_ARROW]=f.hitch(this,"_onDownArrow")}var d=this,a="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(b(this.domNode,"keypress",f.hitch(this,"_onContainerKeypress")),b(this.domNode,"keydown",f.hitch(this,"_onContainerKeydown")),b(this.domNode,
"focus",f.hitch(this,"_onContainerFocus")),b(this.containerNode,b.selector(a,"focusin"),function(a){d._onChildFocus(l.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},
focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"))},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){g.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){g.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex",
"-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,b){var c=a.domNode,c=(a.label||(c.focusNode?
c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&c==b?-1:0},_onContainerKeydown:function(a){var b=this._keyNavCodes[a.keyCode];b?(b(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode==c.SPACE&&(this._searchTimer&&!a.ctrlKey&&!a.altKey&&!a.metaKey)&&(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))},_onContainerKeypress:function(a){a.charCode<=c.SPACE||(a.ctrlKey||
a.altKey||a.metaKey)||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase()))},_keyboardSearch:function(a,b){var c=null,d,g=0;f.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=b;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;d=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var f=this.focusedChild||
null;if(1==a||!f)if(f=this._getNextFocusableChild(f,1),!f)return;a=f;do{var h=this._keyboardSearchCompare(f,d);h&&0==g++&&(c=f);if(-1==h){g=-1;break}f=this._getNextFocusableChild(f,1)}while(f&&f!=a)})();this.onKeyboardSearch(c,a,d,g)},_onChildBlur:function(){},_getNextFocusableChild:function(a,b){var c=a;do{if(a)a=this._getNext(a,b);else if(a=this[0<b?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(a,b){if(a)for(a=a.domNode;a;)if((a=a[0>b?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=l.byNode(a);if(c)return c}return null}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){return h("dijit.MenuItem",[m,a,k,e],{templateString:n,baseClass:"dijitMenuItem",
label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c,d=a;"object"===typeof d&&(d=d.label||d.value);"string"===typeof d&&(c=d.search(/{\S}/),0<=c?(b=d.charAt(c+1),a=d.substr(0,c),d=d.substr(c+3),c=a+b+d,a=a+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+d):c=d,this.domNode.setAttribute("aria-label",c+" "+this.accelKey));this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",
disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);g.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&g.set(this.accelKeyNode,"id",this.id+"_accel");d.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==b("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){c.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,g.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w){n=d("dijit.layout.ScrollingTabController",[q,s],{baseClass:"dijitTabController dijitScrollingTabController",templateString:n,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",g.add(a,"tabStrip-disabled"));g.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);f.set(this.domNode,"visibility","");this._postStartup=!0;this.own(m(this.containerNode,"attrmodified-label, attrmodified-iconclass",l.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);f.set(this.containerNode,"width",f.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=a("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=c.getMarginSize(a).w,!0;f.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||f.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=r.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;c.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";r.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>k("ie")||k("trident")&&k("quirks")||k("webkit")?this.scrollNode.scrollLeft:f.get(this.containerNode,"width")-f.get(this.scrollNode,"width")+(k("trident")||k("edge")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>k("ie")||k("trident")&&k("quirks")||k("webkit"))return a;var b=f.get(this.containerNode,"width")-f.get(this.scrollNode,"width");return(k("trident")||
k("edge")?-1:1)*(a-b)},onSelectChild:function(a,b){var c=this.pane2button(a.id);if(c){var d=c.domNode;if(d!=this._selectedTab&&(this._selectedTab=d,this._postResize)){var e=this._getScroll();e>d.offsetLeft||e+f.get(this.scrollNode,"width")<d.offsetLeft+f.get(d,"width")?(d=this.createSmoothScroll(),b&&(d.onEnd=function(){c.focus()}),d.play()):b&&c.focus()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=f.get(this.scrollNode,"width"),c=f.get(this.containerNode,"width")-
b,d=this._getTabsWidth();if(a.length&&d>b)return{min:this.isLeftToRight()?0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:c};a=this.isLeftToRight()?0:c;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=f.get(this.scrollNode,"width"),c=this._getScrollBounds(),a=a.offsetLeft+f.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,c.min),c.max)},createSmoothScroll:function(a){if(0<arguments.length){var c=
this._getScrollBounds();a=Math.min(Math.max(a,c.min),c.max)}else a=this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var d=this,e=this.scrollNode,f=new b.Animation({beforeBegin:function(){this.curve&&delete this.curve;var c=e.scrollLeft,k=d._convertToScrollLeft(a);f.curve=new b._Line(c,k)},onAnimate:function(a){e.scrollLeft=a}});this._anim=f;this._setButtonClass(a);return f},_getBtnNode:function(a){for(a=a.target;a&&!g.contains(a,"tabStripButton");)a=a.parentNode;
return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,b){if(!b||!g.contains(b,"dijitTabDisabled")){var c=0.75*f.get(this.scrollNode,"width")*a,c=this._getScroll()+c;this._setButtonClass(c);this.createSmoothScroll(c).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});p=d("dijit.layout._ScrollingTabControllerButtonMixin",
null,{baseClass:"dijitTab tabStripButton",templateString:p,tabIndex:"",isFocusable:function(){return!1}});d("dijit.layout._ScrollingTabControllerButton",[x,p]);d("dijit.layout._ScrollingTabControllerMenuButton",[x,w,p],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new t({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=e.byId(this.containerId);h.forEach(b.getChildren(),function(a){var c=
new u({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return n})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect",
"dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(h,d,g,c,f){return g("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var b=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);f.parse(b,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,
scope:"dojo"}).then(c.hitch(this,function(b){this._startupWidgets=b;for(var c=0;c<b.length;c++)this._processTemplateNode(b[c],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(b,c,d){return c(b,"dojoType")||c(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){h.forEach(this._startupWidgets,function(b){b&&(!b._started&&b.startup)&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"mw-form/PushButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PushButton.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){return h(w.validate([g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x]),{baseClass:"mwWidget mwPushButton",templateString:v,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}},_qeClick:function(){this.emit("click")}})})},"MW/toolstrip/constants/MiscConstants":function(){define([],function(){return{DO_NOT_DISPLAY:"ToolstripDoNotDisplay",TAB_WIDTH:102}})},"MW/toolstrip/widgets/_WidgetMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{postCreate:function(){this.inherited(arguments);this._addDataAttribute("tag");this._addDataAttribute("type")},_addDataAttribute:function(d,g){g=g||this[d];this.domNode&&this.domNode.setAttribute("data-"+
d,g)},_setTagAttr:function(d){this._addDataAttribute("tag",d);this._set("tag",d)},_setTypeAttr:function(d){this._addDataAttribute("type",d);this._set("type",d)}})})},"mw-event-utils/doubleClickHandler":function(){define({createCallback:function(h,d,g){var c=0,f;void 0===g&&(g=200);return function(b){c+=1;1===c?f=setTimeout(function(){c=0;h(b)},g):2===c&&(clearTimeout(f),c=0,b.syntheticEvent||d(b))}}})},"MW/layout/ConfirmationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/has dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ConfirmationDialog.html mw-dialog-utils/DialogUtils dojo/i18n!l10n/nls/confirmationDialog".split(" "),
function(h,d,g,c,f,b,l,m,a){var k=["warning","question"],e=function(a,b){this.emit(a.name);b.onClose()},n={question:{icon:"icon_dialog_question_32",buttons:[{name:"failure",label:a.no},{name:"success",label:a.yes}]},warning:{icon:"icon_dialog_warning_32",buttons:[{name:"failure",label:a.cancel},{name:"success",label:a.ok}]}};c("mac")&&Object.keys(n).forEach(function(a){n[a].buttons.reverse()});return h([f,b],{baseClass:"mwConfirmationDialog",templateString:l,title:"I am the Title",message:"I am the message.",
type:"warning",postCreate:function(){this.inherited(arguments);g.add(this.iconNode,n[this.type].icon);this.messageNode.textContent=this.message},_setTypeAttr:function(a){if(-1===k.indexOf(a))throw Error("The 'type' property can only be one of: "+k);this._checkAndSetProperty("type",a)},_setTitleAttr:function(a){this._checkAndSetProperty("title",a)},_setMessageAttr:function(a){this._checkAndSetProperty("message",a)},_checkAndSetProperty:function(a,b){if(this._created)throw Error("The '"+a+"' can only be set during construction!");
this._set(a,b)},open:function(){var a=n[this.type].buttons;a.forEach(function(a){a.buttonHandler={handler:d.hitch(this,e)}},this);m.displayModalDialog(this,this.title,a,{dialogClass:"mwConfirmationDialogContainer"})}})})},"MW/uiframework/MnemonicsStates":function(){define(["dojo/dom-class","MW/uiframework/FocusManager"],function(h,d){return{_currentMnemonicsState:void 0,_toolstrip:void 0,NULL_NULL:1,NULL_CONTROL:2,NULL_TAB:3,CONTROL_TAB:4,TAB_TAB:5,getCurrentMnemonicsState:function(){return this._currentMnemonicsState},
setCurrentMnemonicsState:function(d,c){this._currentMnemonicsState=d;("undefined"!==typeof c?c:1)&&this._manageToolstripFocus(d)},setToolstrip:function(d){this._toolstrip=d},_manageToolstripFocus:function(g){g===this.NULL_NULL?d.refuseFocus(this._toolstrip.domNode):d.temporaryFocus(this._toolstrip.domNode);h.toggle(document.body,"mnemonicsMode",g!==this.NULL_NULL)}}})},"MW/uiframework/FocusManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/query dijit/popup dijit/registry".split(" "),
function(h,d,g,c,f,b,l,m){var a=function(a){for(;a;){if(a.getAttribute&&"refuse"===a.getAttribute("data-focus")||"refuse"===c.get(a,"data-focus"))return!0;a=a.parentNode}return!1},k=function(a){for(;a;){if("temporary"===c.get(a,"data-focus"))return!0;a=a.parentNode}return!1},e=function(a){for(var d=b("[data-tag\x3d'motwToolstrip.figureTab.menuAndToolbars.menubarWrapper']"),d=0<d.length?d[0]:null;a&&!("accept"===c.get(a,"data-focus")||d&&g.isDescendant(a,d));){if("refuse"===c.get(a,"data-focus"))return!1;
a=a.parentNode}return!0},n=null,p=null,q=null,r=h(null,{_restoreFocusToLastNonRefuseElementHandler:function(){r.restoreToLastNonRefuseElement()},_restoreFocusHandler:function(){r.restoreFocus()},_blurHandler:function(){r._windowBlurred=!0},_mouseDownHandler:function(b){!k(b.target)&&!e(b.target)&&(a(b.target)?setTimeout(function(){0===l._stack.length&&(m.getEnclosingWidget(p)&&m.getEnclosingWidget(p).set("focused",!0),p&&p.focus())},0):0<l._stack.length?setTimeout(function(){p&&p.focus()},0):p=b.target)},
_focusHandler:function(b){if("IFRAME"!==b.target.tagName)if(!0===r._windowBlurred)r._windowBlurred=!1,r.restoreFocus();else if(n=b.target,!a(n)&&!k(n)&&(q=b.target),!(n.getAttribute&&"temporary"===n.getAttribute("data-focus")||"temporary"===c.get(n,"data-focus"))&&!k(n))e(n)?b.target!==document.body&&(p=b.target):a(n)?p?setTimeout(function(){var a;if(!(a=0===l._stack.length&&p))a:{for(a=b.target;a;){if(f.contains(a,"dijitPopup")){a=!0;break a}a=a.parentNode}a=!1}a&&p.focus()},0):document.activeElement.blur():
b.target!==document.body&&(p=b.target)},_closeHandler:function(a){a.target.contains(document.activeElement)&&p&&p.focus()},constructor:function(a,b){r._instantiated=!0;b&&r.refuseFocus(b.domNode);document.addEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);document.addEventListener("restorefocus",this._restoreFocusHandler);window.addEventListener("blur",this._blurHandler);window.addEventListener("focus",this._focusHandler,!0);document.addEventListener("mousedown",
this._mouseDownHandler,!0);document.addEventListener("close",this._closeHandler,!0);document.body.classList.add("mwHasFocusManager")},destroy:function(){document.removeEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);document.removeEventListener("restorefocus",this._restoreFocusHandler);window.removeEventListener("blur",this._blurHandler);window.removeEventListener("focus",this._focusHandler,!0);document.removeEventListener("mousedown",this._mouseDownHandler,
!0);document.body.classList.remove("mwHasFocusManager")}});r.refuseFocus=function(a){a.setAttribute("data-focus","refuse")};r.acceptFocus=function(a){a.setAttribute("data-focus","accept")};r.temporaryFocus=function(a){a.setAttribute("data-focus","temporary")};r.restoreFocus=function(a){a?p.focus():setTimeout(function(){p&&p.focus()},0)};r.restoreToLastNonRefuseElement=function(){setTimeout(d.hitch(this,function(){q&&q.focus()},0))};r.isAvailable=function(){return!0===r._instantiated?!0:!1};return r})},
"MW/toolstrip/widgets/QAB":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAB.html ./_WidgetMixin dojo/aspect".split(" "),function(h,d,g,c,f,b,l){return h([d,g,c,b],{templateString:f,constructor:function(){this.own(l.before(this,"addChild",function(b,a){var c=0;0<=a&&(c=a);return[b,c]}),l.after(this,"addChild",function(){this.refresh()}),l.after(this,"removeChild",function(){this.refresh()}))},postCreate:function(){this.inherited(arguments);
this.refresh()},refresh:function(){this.showHideQAB();this.showHideQAGroups();this.showHideSeparators()},showHideQAB:function(){var b=0;this.getChildren().forEach(function(a){b+=a.getChildren().length});this.domNode.style.display=0===b?"none":"block"},showHideQAGroups:function(){this.getChildren().forEach(function(b){0===b.getChildren().length?b.domNode.style.display="none":b.domNode.style.display="inline-block"},this)},showHideSeparators:function(){this.getChildren().forEach(function(b,a){this._isFirstVisibleQAGroup(b,
a)?b.separatorNode.style.display="none":b.separatorNode.style.display="inline-block"},this)},_isFirstVisibleQAGroup:function(b,a){var c=this.getChildren(),d,f=!1;d=0;if(0===a)return!0;for(;d<=a-1;)"none"===c[d].domNode.style.display&&(f=!0),d+=1;return f},restoreFactoryControls:function(){}})})},"MW/toolstrip/widgets/QAGroup":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAGroup.html ./_WidgetMixin ./_ChildrenWrapperMixin ../utils/DragSorter dojo/aspect".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return h([g,c,f,l,m],{templateString:b,constructor:function(){var a=this;this.own(k.before(this,"addChild",function(a,b){var c=0;0<=b&&(c=b);return[a,c]}),k.after(this,"addChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}),k.after(this,"removeChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}))},postCreate:function(){this.inherited(arguments);this.enableQABCustomization&&(this._dragSorter=new a({containerNode:this.containerNode}),
this._dragSorter.on("nodemoved",d.hitch(this,function(a){this.itemMoved({itemId:this.getChildren()[a.oldIndex].id,newIndex:a.newIndex})})))},destroy:function(){this.enableQABCustomization&&this._dragSorter.destroy();this.inherited(arguments)},itemMoved:function(){}})})},"MW/toolstrip/widgets/_ChildrenWrapperMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(h,d){return h(null,{constructor:function(){this._wrappers={};this._childrenWidgets=[]},addChild:function(g,c){var f=
d.create("div",{id:g.id+"_wrapper","class":"toolstripComponentWrapper"},this.containerNode,c);0<=c?this._childrenWidgets.splice(c,0,g):this._childrenWidgets.push(g);this.own(g);d.place(g.domNode,f);this._started&&!g._started&&g.startup();this._wrappers[g.id]=f},removeChild:function(g){var c,f=this._wrappers[g.id];this._childrenWidgets.forEach(function(b,d){g.id===b.id&&(c=d)});this._childrenWidgets.splice(c,1);f&&(g.domNode&&f.removeChild(g.domNode),d.destroy(f),delete this._wrappers[g.id])},getChildren:function(){return this._childrenWidgets}})})},
"MW/toolstrip/utils/DragSorter":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/Evented dojo/dom-construct dojo/dom-geometry".split(" "),function(h,d,g,c,f,b,l){var m=["-webkit-","-moz-","-ms-",""];return h([f],{constructor:function(a){if(void 0===a.containerNode||1!==a.containerNode.nodeType)throw Error("A containerNode needs to be provided and it should be a DOM Node!");this._dragSorterContainerNode=a.containerNode;this._currentTarget=null;this._previousPageX=0;this._dragSorterContainerNode.classList.add("mwDragSortContainer");
this._dragSortOverlay=b.create("div",{"class":"mwDragSortContainerOverlay"},document.body);this._mouseDownListenerHandle=g(this._dragSorterContainerNode,"mousedown",d.hitch(this,this._mouseDownListener));this._mouseUpListenerHandle=g(window,"mouseup",d.hitch(this,this._mouseUpListener))},_mouseDownListener:function(a){if(c.isLeft(a)&&(this._currentTarget=this._getAncestorWhichIsADirectChildOfContainerNode(a.target),null!==this._currentTarget&&1<this._dragSorterContainerNode.children.length)){var b=
l.position(this._currentTarget);this._mouseMoveListenerHandle=g(document.body,"mousemove",d.hitch(this,this._mouseMoveListener,{index:this._getIndexOfNode(this._currentTarget),position:b,leftOffset:a.pageX-b.x,rightOffset:b.x+b.w-a.pageX,mouseDownCoords:{x:a.pageX,y:a.pageY}}));this._windowSelectStartHandle=g(window,"selectstart",function(a){a.preventDefault()})}},_mouseMoveListener:function(a,b){if(!(5>=Math.abs(a.mouseDownCoords.x-b.pageX)&&5>=Math.abs(a.mouseDownCoords.y-b.pageY))){this._mouseMoveHappened=
!0;var c=l.position(this._dragSorterContainerNode),d=l.getPadBorderExtents(this._dragSorterContainerNode),f=c.x+a.leftOffset+d.l,d=c.x+c.w-a.rightOffset-d.r,g=b.pageX,c=null;this._currentTarget.classList.add("mwDragTarget");document.body.classList.add("mwDragging");g<f?g=f:g>d&&(g=d);this._currentTarget.style.left=g-a.position.x-a.leftOffset+"px";c=b.pageX>this._previousPageX?"r":"l";this._previousPageX=b.pageX;f=this._findNodesOnEitherSide(c);for(d=0;d<this._dragSorterContainerNode.children.length;d++)if(g=
this._dragSorterContainerNode.children[d],g!==this._currentTarget){var h=l.position(g),m=l.position(this._currentTarget);"r"===c?d>=a.index?m.x+m.w>=h.x+h.w/2&&this._applyTranslateX(g,-m.w):-1<f.left.indexOf(g)&&"0"!==g.getAttribute("data-translated")&&this._applyTranslateX(g,0):"l"===c&&(d<=a.index?m.x<=h.x+h.w/2&&this._applyTranslateX(g,m.w):-1<f.right.indexOf(g)&&"0"!==g.getAttribute("data-translated")&&this._applyTranslateX(g,0))}}},_mouseUpListener:function(){this._mouseMoveListenerHandle&&this._mouseMoveListenerHandle.remove();
this._windowSelectStartHandle&&this._windowSelectStartHandle.remove();if(this._mouseMoveHappened){if(null!==this._currentTarget){var a=this._getIndexOfNode(this._currentTarget);this._moveCurrentTargetToNewLocation();this._currentTarget.style.left="";this._currentTarget.classList.remove("mwDragTarget");document.body.classList.remove("mwDragging");this._resetAllSiblingTranslateX();this.emit("nodemoved",{node:this._currentTarget,oldIndex:a,newIndex:this._getIndexOfNode(this._currentTarget)});this._currentTarget=
null}this._mouseMoveHappened=!1}},_findNodesOnEitherSide:function(a){var b={left:[],right:[]},c=l.position(this._dragSorterContainerNode),d=l.getPadBorderExtents(this._dragSorterContainerNode),f=l.position(this._currentTarget);2>=f.x-c.x-d.l?b.right=this._getCurrentTargetSiblings():2>=c.x+c.w-f.x-f.w-d.l?b.left=this._getCurrentTargetSiblings():this._getCurrentTargetSiblings().forEach(function(c){var d=l.position(c);("l"===a?f.x:f.x+f.w)>=d.x+d.w/2?b.left.push(c):b.right.push(c)});return b},_getIndexOfNode:function(a){return Array.prototype.indexOf.call(this._dragSorterContainerNode.children,
a)},_getCurrentTargetSiblings:function(){return[].slice.call(this._dragSorterContainerNode.children).filter(function(a){return a!==this._currentTarget},this)},_getAncestorWhichIsADirectChildOfContainerNode:function(a){var b=null;if(a!==this._dragSorterContainerNode)for(b=a;b.parentNode!==this._dragSorterContainerNode;)b=b.parentNode;return b},_moveCurrentTargetToNewLocation:function(){var a=null,c=l.position(this._dragSorterContainerNode),d=l.getPadBorderExtents(this._dragSorterContainerNode),f=l.position(this._currentTarget),
g=f.x-(c.x+d.l),c=g;this._getCurrentTargetSiblings().forEach(function(b){var c=l.position(b),c=Math.abs(f.x-(c.x+c.w));c<g&&(a=b,g=c)});g===c?b.place(this._currentTarget,this._dragSorterContainerNode,"first"):b.place(this._currentTarget,a,"after")},_applyTranslateX:function(a,b){a.setAttribute("data-translated",b);m.forEach(function(c){a.style[c+"transform"]="translate("+b+"px, 0)"})},_resetAllSiblingTranslateX:function(){this._getCurrentTargetSiblings().forEach(function(a){a.classList.add("mwNoTransition");
this._applyTranslateX(a,0);a.offsetHeight;a.classList.remove("mwNoTransition")},this)},destroy:function(){this._mouseDownListenerHandle.remove();this._mouseUpListenerHandle.remove();this._dragSorterContainerNode.classList.remove("mwDragSortContainer");b.destroy(this._dragSortOverlay)}})})},"MW/toolstrip/widgets/TabGroup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/TabGroup.html dijit/_Contained dijit/registry ./_WidgetMixin".split(" "),function(h,
d,g,c,f,b,l){return h([d,g,f,l],{templateString:c,constructor:function(){this.tabs=[]},addChild:function(b,a){var c=0,d=null,f,g=0,h,l;!a&&0!==a&&(a=this.tabs.length);this.tabs.splice(a,0,b);if(f=this.getParent()){l=f.getChildren();for(h=l.length;g<h;){if(this===l[g]){0<=a&&(d=c+a);break}c+=l[g].tabs.length;g+=1}f.addTab(b,d)}this.emit("childadded")},removeChild:function(b){var a=this.getParent(),c;c=this.tabs.indexOf(b);-1<c&&this.tabs.splice(c,1);0===this.tabs.length&&this.set("selectedTab","");
a&&a.removeTab(b);this.emit("childremoved")},_setSelectedTabAttr:function(c){var a=this.getParent(),d=b.byId(c);a&&c&&(a.selectTab(d),a.getChildren().forEach(function(a){a!==this&&a.set("selectedTab","")},this));this._set("selectedTab",c)}})})},"MW/toolstrip/widgets/Tab":function(){define("dojo/_base/declare dojo/dom-construct dijit/layout/ContentPane dijit/registry dojo/query dojo/dom-geometry MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(h,d,
g,c,f,b,l,m){return h([g,l,m],{constructor:function(){this["class"]="tabContentPane"},postCreate:function(){this.containerNode=d.create("span",{"class":"sectionContainer"},this.domNode)},resize:function(){if(!this.getParent().getParent()._ignoreResize){this.inherited(arguments);var a,c,d,f,g,h,l,m=0;if(!this._destroyed)if(this.inherited(arguments),h=this._getAllDescendantGalleries(),l=h.length,c=this.getChildren(),d=c.length,c.sort(function(a,b){var c=0;a.collapsePriority>b.collapsePriority?c=-1:
a.collapsePriority<b.collapsePriority&&(c=1);return c}),f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,g<f){for(a=l-1;0<=a;){for(;g<f;){if(!h[a].shrink()){m+=1;break}f=this._getWidthOfAllSections();g=b.position(this.domNode).w}a-=1}if(m===l){for(a=d-1;0<=a&&g<f;)c[a].hideDescendantLabels(),f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,a-=1;for(a=d-1;0<=a&&g<f;)c[a].collapse(),f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,a-=1}}else{for(a=0;a<d&&g>f;){c[a].expand();
f=this._getWidthOfAllSections();g=b.position(this.domNode).w;if(g<f){c[a].collapse();break}a+=1}for(a=0;a<d&&g>f;){c[a].showDescendantLabels();f=this._getWidthOfAllSections();g=b.position(this.domNode).w;if(g<f){c[a].hideDescendantLabels();break}a+=1}if(a===d){h=this._getAllDescendantGalleries();l=h.length;for(a=0;a<l;){for(;g>f;)if(h[a].grow()){if(f=this._getWidthOfAllSections(),g=b.position(this.domNode).w,g<f){h[a].shrink();break}}else break;a+=1}}}}},_getAllDescendantGalleries:function(){return f(".gallery",
this.domNode).map(function(a){return c.byNode(a)})},_getWidthOfAllSections:function(){var a,c,d,f=0;a=this.getChildren();c=a.length;for(d=0;d<c;d++)f+=b.position(a[d].domNode).w;return f+20}})})},"MW/toolstrip/mixins/property/RemovableMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_removable:!1,_removeMessage:"",_getRemovableAttr:function(){return this.get("_removable")},_setRemovableAttr:function(d){if("boolean"!==typeof d)throw Error("'removable' property expected a boolean value.");
this._set("_removable",d)},_getRemoveMessageAttr:function(){return this.get("_removeMessage")},_setRemoveMessageAttr:function(d){if("string"!==typeof d)throw Error("'_removeMessage' property expected a string value.");this._set("_removeMessage",d)},_emitRemoveEvent:function(){this.emit("remove");this.remove()},remove:function(){}})})},"MW/toolstrip/widgets/Section":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Section.html ./_WidgetMixin MW/toolstrip/form/SectionDropDownButton ./SectionPopup mw-mixins/ResizeMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){var q=["PushButton","DropDownButton","SplitButton","ToggleButton","ToggleSplitButton"];return h([b,l,m,k,p],{templateString:a,constructor:function(){this._isCollapsed=!1},_createSectionPopup:function(){this._sectionPopup=new n;this.own(this._sectionPopup);this._sectionDropDownButton=new e({menu:this._sectionPopup,label:this.get("title")});this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1");this.own(this._sectionDropDownButton);this.own(g.after(this._sectionDropDownButton,
"openDropDown",d.hitch(this,function(){})));this.own(g.after(this._sectionDropDownButton,"closeDropDown",d.hitch(this,function(){this.emit("restorefocus")})));this._sectionPopup.domNode.setAttribute("data-focus","temporary");this._sectionDropDownButton.placeAt(this.sectionDropDownContainer);this._sectionDropDownButton.startup();this._sectionDropDownButton.set("text",this.title)},_setTitleAttr:function(a){this.titleNode.textContent=a;this._sectionDropDownButton&&this._sectionDropDownButton.set("label",
a);this._set("title",a)},collapse:function(){this._sectionPopup||this._createSectionPopup();var a;this._isCollapsed||-1===this.collapsePriority?a=!1:(this._isCollapsed=a=!0,this.sectionWrapper.style.display="none",this.sectionDropDownContainer.style.display="inline-block",c.place(this.columnContainerWrapper,this._sectionDropDownButton.menu.domNode),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1"));return a},expand:function(){var a;this._isCollapsed?(a=!0,this._isCollapsed=!1,this.sectionWrapper.style.display=
"inline-block",this.sectionDropDownContainer.style.display="none",c.place(this.columnContainerWrapper,this.sectionWrapper,"first"),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","0")):a=!1;return a},showDescendantLabels:function(){this.domNode.classList.remove("mwHideDescendantLabels");this._updateDescendantTitle(!0)},hideDescendantLabels:function(){this.domNode.classList.add("mwHideDescendantLabels");this._updateDescendantTitle(!1)},getPopup:function(){return this._sectionPopup},closePopup:function(){this.isPopupOpen()&&
this._sectionDropDownButton.closeMenu()},addChild:function(a){this.inherited(arguments);"Column"===a.type&&a.updateChildrenOrientations()},isPopupOpen:function(){return!this._sectionPopup?!1:this._sectionDropDownButton.menu.domNode.parentNode&&"none"!==this._sectionDropDownButton.menu.domNode.parentNode.style.display},_updateDescendantTitle:function(a){var b,c;q.forEach(d.hitch(this,function(d){c=this.domNode.querySelectorAll("[data-type\x3d"+d+"]");for(b=0;b<c.length;++b)d=f.getEnclosingWidget(c[b]),
"Horizontal"===d.orientation&&(a?d._updateTitle(d.get("description")):d._updateTitle(d.get("text")))}))}})})},"MW/toolstrip/form/SectionDropDownButton":function(){define("dojo/_base/declare MW/toolstrip/form/DropDownButton ../mixins/property/IconOverrideMixin ../mixins/property/OrientationMixin ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/property/ShortcutMixin ../mixins/property/MenuIdMixin mw-mixins/mixinDependencyValidator".split(" "),function(h,d,g,c,f,b,l,m,a){return h(a.validate([d,
g,c,f,b,l,m]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionDropDownButton",type:"SectionDropDownButton",minWidth:38,orientation:"Vertical",verticalHeight:92,doNotSize:!0,postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},_setLabelAttr:function(a){if("string"!==typeof a)throw Error("'label' property must be of type string.");this.set("text",a);this.focusNode.setAttribute("title",a)},_setDescriptionAttr:function(){},_setShortcutAttr:function(){},_setPlatformizeShortcutAttr:function(){},
_getLabelAttr:function(){return this.get("text")},_getTextForDOM:function(a){return a}})})},"MW/toolstrip/form/DropDownButton":function(){define("dojo/_base/declare mw-form/DropDownButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TypeMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t){return h(t.validate([d,g,c,f,b,l,m,a,k,e,n,p,q,r,s]),{visualFamily:"toolstrip",minWidth:38})})},"mw-form/DropDownButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/DropDownButton.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D){return h(B.validate([d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A]),{baseClass:"mwWidget mwDropDownButton",templateString:D})})},"mw-mixins/property/ArrowModeMixin":function(){define(["dojo/_base/declare"],function(h){var d=["auto","inline","block"];return h(null,{arrowMode:"auto",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwArrowModeMixin")},_setArrowModeAttr:function(g){if("string"!==typeof g||-1===d.indexOf(g))throw Error("'arrowMode' property expects one of these values: "+
d);this.domNode.classList.add("mwArrowMode"+this._capitalize(g));d.forEach(function(c){c!==g&&this.domNode.classList.remove("mwArrowMode"+this._capitalize(c))},this);this._set("arrowMode",g)},_capitalize:function(d){return d.charAt(0).toUpperCase()+d.slice(1)}})})},"mw-form/mixins/property/DropDownButtonIconAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconAlignmentMixin","mw-mixins/property/ArrowModeMixin","mw-form/mixins/property/DropDownButtonArrowModeMixin"],function(h,
d,g,c){h=h(null,{_supportedValues:["left","top"],_setIconAlignmentAttr:function(){this.inherited(arguments);this.set("arrowMode",this.get("arrowMode"))}});h._dependencies=[{mixin:d,orderDependent:!0},{mixin:g,orderDependent:!1},{mixin:c,orderDependent:!1}];return h})},"mw-form/mixins/property/DropDownButtonArrowModeMixin":function(){define(["dojo/_base/declare","mw-mixins/property/ArrowModeMixin","mw-mixins/property/TextMixin","mw-form/mixins/property/DropDownButtonTextMixin"],function(h,d,g,c){h=
h(null,{_setArrowModeAttr:function(){this.inherited(arguments);this.set("text",this.get("text"))}});h._dependencies=[{mixin:d,orderDependent:!0},{mixin:g,orderDependent:!1},{mixin:c,orderDependent:!1}];return h})},"mw-form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(h,d,g,c,f){h=h(null,{_updateTextInDOM:function(b){this.inherited(arguments);
this._placeTextAndResize(b)},_placeTextAndResize:function(b){var c=this._getPeerAndPosition();d.place(this.textNode,c.peer,c.position);this._placeTextInNode(b,this.lastTextLineNode);this.set("width",this.get("width"));this.set("height",this.get("height"))},_getPeerAndPosition:function(){var b={};this._isInline()?(b.peer=this.arrowNode,b.position="before"):(b.peer=this.iconNode,b.position="after");return b},_getSplitTextAtLastNewLineCharacter:function(b){var c={};if(this._isInline()){var d=b.lastIndexOf("\n");
0<=d?(c.mainText=b.substring(0,d),c.lastTextLine=b.substring(d+1,b.length)):"left"===this.get("iconAlignment")?(c.mainText="",c.lastTextLine=b):(c.mainText=b,c.lastTextLine="")}else c.mainText=b,c.lastTextLine="";return c},_isInline:function(){return"inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")&&"top"===this.get("iconAlignment")},_getTextForDOM:function(b,c){b=this.inherited(arguments);var d=this._getSplitTextAtLastNewLineCharacter(b);return c===this.textNode?d.mainText:c===this.lastTextLineNode?
d.lastTextLine:b}});h._dependencies=[{mixin:g,orderDependent:!0},{mixin:c,orderDependent:!1},{mixin:f,orderDependent:!1}];return h})},"mw-form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-mixins/property/SizeMixin"],function(h,d,g){h=h(null,{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,doNotSize:!1,_setSize:function(c,f){this.inherited(arguments);if(this._started&&!this.doNotSize){var b="";if("auto"!==f){var g,h,a;h=d.getMarginBox(this.get("iconNode"));
var k=d.getMarginBox(this.get("textNode"));a=d.getMarginBox(this.get("arrowNode"));b=parseFloat(this._getAdjustedSize(c,f,this.domNode));if("width"===c&&"left"===this.get("iconAlignment")&&"inline"===this.get("arrowMode"))g=h.w+a.w,b<g?(g=b/2,b/=2):(h=g/2-h.w,a=g/2-a.w,g=b/2-h,b=b/2-a),this._setDomStyles("width",g,b);else if("height"===c&&"top"===this.get("iconAlignment")&&("inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")))g=h.h+k.h+a.h+1,0>g&&(g=0),b<g?(g=b/2,b/=2):(h=g/2-h.h,a=g/
2-(k.h+a.h),g=b/2-h+1,b=b/2-a-1),this._setDomStyles("height",g,b);else if("width"===c&&"left"===this.get("iconAlignment")&&("block"===this.get("arrowMode")||"auto"===this.get("arrowMode")))g=b-a.w,b=a.w,this._setDomStyles("width",g,b);else if("height"===c&&"top"===this.get("iconAlignment")&&"block"===this.get("arrowMode"))g=b-a.h-3,b=a.h+1,this._setDomStyles("height",g,b);else if("width"===c)b=(b<this.maxWidth?b:this.maxWidth)>this.minWidth?b:this.minWidth,this._setDomStyles("width",b,b);else if("height"===
c)b=(b<this.maxHeight?b:this.maxHeight)>this.minHeight?b:this.minHeight,this._setDomStyles("height",b,b);else throw Error("Invalid property value. The size type property expects one of these values: {'width', 'height', 'auto'}");}else this.domNode.style["min"+this._capitalize(c)]=this["min"+this._capitalize(c)]+"px";this._set(c,f)}},_setDomStyles:function(c,d,b){this.buttonNode.style[c]=d+"px";this.buttonNode.style["max"+this._capitalize(c)]=d+"px";this.dropDownNode.style[c]=b+"px";this.dropDownNode.style["max"+
this._capitalize(c)]=b+"px"},_capitalize:function(c){return c.charAt(0).toUpperCase()+c.slice(1)}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"MW/toolstrip/mixins/property/MnemonicMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{mnemonic:"",postCreate:function(){this.inherited(arguments);this._updateMnemonicInDOM(this.get("mnemonic"))},_setMnemonicAttr:function(d){if("string"!==typeof d)throw Error("mnemonic property expects a String!");this._started&&this._updateMnemonicInDOM(d);
this._set("mnemonic",d)},_updateMnemonicInDOM:function(d){if(0<d.length){if(d.split("").some(function(d){return 65>d.charCodeAt(0)||90<d.charCodeAt(0)}))throw Error("mnemonic property should be a String of uppercase characters!");this.focusNode.setAttribute("data-mnemonic",d)}}})})},"MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin":function(){define(["dojo/_base/declare"],function(h){var d=["all","none","horizontal","vertical"];return h(null,{mnemonicKeyNavDirection:"all",postCreate:function(){this.inherited(arguments);
this._updateMnemonicKeyNavDirectionInDOM(this.get("mnemonicKeyNavDirection"))},_setMnemonicKeyNavDirectionAttr:function(g){if(-1===d.indexOf(g))throw Error("'mnemonicKeyNavDirection' property expects one of these values: "+d);this._started&&this._updateMnemonicKeyNavDirectionInDOM(g);this._set("mnemonicKeyNavDirection",g)},_updateMnemonicKeyNavDirectionInDOM:function(d){this.focusNode.setAttribute("data-mnemonic-key-nav-direction",d)}})})},"MW/toolstrip/mixins/property/IconOverrideMixin":function(){define(["dojo/_base/declare",
"mw-mixins/property/IconMixin"],function(h,d){var g=h(null,{iconOverride:"",iconProp:"icon",postCreate:function(){this.inherited(arguments);this.set("iconOverride",this.get("iconOverride"))},_setIconOverrideAttr:function(c){if("string"!==typeof c)throw Error("'iconOverride' property expects a literal string!");this._removeOldIcon(this.get("iconOverride"));this._set("iconOverride",c);this._updateDOM(c)},_updateDOM:function(c){c=""!==this.iconOverride?this.iconOverride:this[this.iconProp]?this[this.iconProp]:
this.icon;arguments[0]=c;this.inherited(arguments)},_setIconPropAttr:function(c){this._set("iconProp",c);this._updateDOM(c)}});g._dependencies=[{mixin:d,orderDependent:!0}];return g})},"MW/toolstrip/mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this._addTextContentClass();this.set("text",this.get("text"))},_addTextContentClass:function(){(this.textNode||
this.domNode).classList.add("mwTextContent")},_getTextForDOM:function(d,g){return d},_placeTextInNode:function(d,g){g=g||this.textNode;this.textNode.setAttribute("data-text-content",this._getTextForDOM(d,g))}})})},"MW/toolstrip/mixins/property/SizeMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{postCreate:function(){this.inherited(arguments);this.height=this.width="auto"},_setHeightAttr:function(d){},_getHeightAttr:function(){return"Horizontal"===this.get("orientation")?
22:72}})})},"MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/SizeMixin"],function(h,d){var g=h(null,{_setSize:function(){}});g._dependencies=[{mixin:d,orderDependent:!0}];return g})},"MW/toolstrip/form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","MW/toolstrip/mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(h,
d,g,c){h=h(null,{_addTextContentClass:function(){},_getTextForDOM:function(c,b){var d,g,a=this._getTextNodes();if(b===a.inlineTextElement||b===a.lastTextLineElement){-1<(g=c.lastIndexOf("\n"))?(d=c.substring(0,g),g=c.substring(g+1,c.length)):(d=c,g="");if(b===a.inlineTextElement)return d;if(b===a.lastTextLineElement)return g}else return c},_placeTextInNode:function(c){this._getTextNodes().forEach(function(b){b.setAttribute("data-text-content",this._getTextForDOM(c,b))}.bind(this))},_getTextNodes:function(){var c=
[this.textLine,this.inlineTextLine,this.lastTextLine];c.textElement=c[0];c.inlineTextElement=c[1];c.lastTextLineElement=c[2];return c}});h._dependencies=[{mixin:d,orderDependent:!0},{mixin:g,orderDependent:!1},{mixin:c,orderDependent:!1}];return h})},"MW/toolstrip/mixins/property/OrientationMixin":function(){define(["dojo/_base/declare"],function(h){var d=["Horizontal","Vertical"];return h(null,{orientation:"Horizontal",horizontalHeight:22,verticalHeight:72,_setOrientationAttr:function(g){if(-1===
d.indexOf(g))throw Error("'orientation' property expects one of these values: "+d);this.domNode.classList.remove(this._getClassNameForOrientation(this.get("orientation")));this.domNode.classList.add(this._getClassNameForOrientation(g));"Horizontal"===g?this.set("iconProp","quickAccessIcon"):"Vertical"===g&&this.set("iconProp","icon");this._set("orientation",g)},_getClassNameForOrientation:function(d){return"mw"+d+"Orientation"}})})},"MW/toolstrip/mixins/property/TextOverrideMixin":function(){define(["dojo/_base/declare",
"MW/toolstrip/constants/MiscConstants","MW/toolstrip/mixins/property/TextMixin"],function(h,d,g){h=h(null,{textOverride:"",postCreate:function(){this.inherited(arguments);this.set("textOverride",this.get("textOverride"))},_setTextAttr:function(c){this.inherited(arguments);this._updateNoTextClass()},_setTextOverrideAttr:function(c){if("string"!==typeof c)throw Error("'textOverride' property expects a literal string!");this._placeTextInNode(c,void 0,"textOverride setter");this._set("textOverride",c);
this._updateNoTextClass()},_updateNoTextClass:function(){""===this.get("textOverride")&&""===this.get("text")||this.get("textOverride")===d.DO_NOT_DISPLAY?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(c,f,b){"textOverride setter"===b?c===d.DO_NOT_DISPLAY?c="":""===c&&(c=this.text):""!==this.textOverride&&(c=this.textOverride===d.DO_NOT_DISPLAY?"":this.textOverride);arguments[0]=c;arguments[1]=f;this.inherited(arguments)}});h._dependencies=
[{mixin:g,orderDependent:!0}];return h})},"MW/toolstrip/mixins/property/DescriptionOverrideMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin"],function(h,d){var g=h(null,{descriptionOverride:"",postCreate:function(){this.inherited(arguments);this.set("descriptionOverride",this.get("descriptionOverride"))},_setDescriptionOverrideAttr:function(c){if("string"!==typeof c)throw Error("'description' property expects a literal string!");this._updateDescription(c,!0);this._set("descriptionOverride",
c)},_updateDescription:function(c,d){d?""===c&&(c=this.description):""!==this.descriptionOverride&&(c=this.descriptionOverride);arguments[0]=c;this.inherited(arguments)}});g._dependencies=[{mixin:d,orderDependent:!0}];return g})},"MW/toolstrip/mixins/property/TypeMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{type:"",_setTypeAttr:function(d){if("string"!==typeof d)throw Error("type property expects a 'String'");this.domNode.setAttribute("data-type",d);this._set("type",
d)},postCreate:function(){this.inherited(arguments);this.set("type",this.get("type"))}})})},"MW/toolstrip/mixins/property/MenuIdMixin":function(){define(["dojo/_base/declare","dijit/registry","mw-menu/Menu","MW/toolstrip/widgets/gallery/GalleryPopup"],function(h,d,g,c){return h(null,{menuId:"",_setMenuIdAttr:function(c){this._set("menuId",c);this._syncAttributes()},_setMenuAttr:function(c){this.set("menuId",c.get("id"))},_getMenuIdAttr:function(){this._syncAttributes();return this._get("menuId")},
_getMenuAttr:function(){this._syncAttributes();return this._get("menu")},_syncAttributes:function(){var c=d.byId(this._get("menuId"))||null;this._get("menu")!==c&&(this._validateMenuAttr(c),this._set("menu",c))}})})},"MW/toolstrip/widgets/gallery/GalleryPopup":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/keys dojo/query dojo/dom-geometry dojo/_base/lang dojo/_base/window dojo/aspect dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/i18n!l10n/nls/toolstrip dojo/text!./templates/GalleryPopup.html mw-form/TextField mw-form/ToggleButton mw-form/PushButton MW/toolstrip/widgets/_PopupBase MW/toolstrip/constants/OrientationConstants MW/toolstrip/GalleryFilter MW/toolstrip/constants/TypeConstants MW/toolstrip/constants/gallery/GalleryViewConstants MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin MW/toolstrip/form/SearchTextField MW/toolstrip/ToolstripUtils".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O){return h([p,q,r,v,D,H,G],{templateString:t,showHeader:!0,constructor:function(){this.searchBox=new I({value:""});this.own(this.searchBox);this._searchBoxValue="";this._handleCloseButtonClick=m.hitch(this,function(){n.close(this)})},buildRendering:function(){this.inherited(arguments);this.searchBox.placeAt(this.searchTextFieldContainerNode)},postCreate:function(){var b=this;this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this.galleryItemFilters={};this._createSearchBoxAndButtons();this.own(k.after(this,"addChild",function(a){a.set("displayState",b.displayState);a.set("userCustomizable",b.userCustomizable);b.galleryStateChanged()},!0));this.own(k.after(this,"removeChild",function(){b.galleryStateChanged()},!0));this._handleFocusChange=function(a){a.target&&(a.target instanceof Element&&this.domNode&&this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display&&!this.domNode.contains(a.target)&&
this.domNode!==a.target)&&n.close(this);this._handleWindowBlur(a)}.bind(this);this._handleWindowBlur=function(a){(a.target===window||a.target===document.documentElement)&&n.close(this)}.bind(this);this.domNode.style.display="none";d.place(this.domNode,a.body());this.noSearchMatchNode.style.display="none";this.noSearchMatchNode.textContent=s.noSearchMatchNode;this._buildAndAddFilters();this._startupHeaderWidgets()},_buildAndAddFilters:function(){var a=this;this.galleryItemFilters.search=new y({id:"search",
checkerFunction:function(b){var c,d;c=a._searchBoxValue;d=RegExp(a._escapeRegExp(c),"i");return""===c||d.test(b.get("text"))||d.test(b.get("description"))||d.test(b.getParent().get("title"))}});this.galleryItemFilters.onlyShowEnabled=new y({id:"onlyShowEnabled",disabled:!0,checkerFunction:function(a){return!1===a.get("disabled")}})},_checkForPopupListInFooter:function(){var a;if(this.footerContainer&&(a=0<b(".toolstripPopupList",this.footerContainer).length?!0:!1))a=b(".toolstripPopupList",this.footerContainer)[0],
a=a.getAttribute("widgetid"),a=e.byId(a),a.onOpen()},enforceFilters:function(){var a,c;c=this.getChildren();this._favCategoryWidget&&c.push(this._favCategoryWidget);c.forEach(function(c){a=c.getChildren();a.forEach(function(a){g.remove(a.domNode,"hideFromView");Object.keys(this.galleryItemFilters).forEach(function(b){b=this.galleryItemFilters[b];!b.disabled&&!b.checkerFunction(a)&&g.add(a.domNode,"hideFromView")},this)},this);b(".hideFromView",c.domNode).length>=a.length?g.add(c.domNode,"hideFromView"):
g.remove(c.domNode,"hideFromView")},this);this._toggleDisplay(this.noSearchMatchNode,b(".Category.hideFromView",this.domNode).length===c.length)},_setUserCustomizableAttr:function(a){g.remove(this.domNode,"favoritesEnabled");g.remove(this.domNode,"favoritesDisabled");!0===a?g.add(this.domNode,"favoritesEnabled"):g.add(this.domNode,"favoritesDisabled");this._set("userCustomizable",a)},_setShowHeaderAttr:function(a){!1===a?(this.header.style.display="none",this.header.classList.remove("margin")):!0===
a&&(this.header.style.display=null,this.header.classList.add("margin"));this._set("showHeader",a)},_setDisplayStateAttr:function(a){g.remove(this.domNode,B.ICON);g.remove(this.domNode,B.LIST);g.add(this.domNode,a);this._favCategoryWidget&&this._favCategoryWidget.set("displayState",a);this.getChildren().forEach(function(b){b.set("displayState",a)});this._set("displayState",a);this._updateToggleButtons()},_updateToggleButtons:function(){this.displayState===B.ICON?this.iconViewButton&&!this.iconViewButton.checked&&
this.iconViewButton.set("checked",!0):this.listViewButton&&!this.listViewButton.checked&&this.listViewButton.set("checked",!0)},_setFooterIdAttr:function(a){var b=e.byId(a);b?(0===b.getChildren().length&&(b.domNode.style.display="none"),d.place(b.domNode,this.footerContainer),b.startup(),this.footerContainer.style.display="block"):this.footerContainer.style.display="none";this._set("footerId",a)},_setFavCategoryIdAttr:function(a){var b=e.byId(a);b&&(this._favCategoryWidget=b,0===b.getChildren().length&&
g.add(b.domNode,"hideFromView"),b.set("isFavoriteCategory",!0),b.set("galleryPopupId",this.id),d.place(b.domNode,this.favCategoryContainer),this.own(b),b.set("displayState",this.displayState));this._set("favCategoryId",a)},_setPlaceholderTextAttr:function(a){this.searchBox.set("placeholder",a)},_getPlaceholderTextAttr:function(){return this.searchBox.getAttribute("placeholder")},_toggleDisplay:function(a,b){a.style.display=b?"block":"none"},_handleSearchKeyDown:function(a){a.keyCode===f.ESCAPE&&""!==
a.target.value&&(this._resetSearchBoxValue(),a.stopPropagation())},_handleSearchBoxTyping:function(a){this._searchBoxValue=a.mwEventData.currentContent;this.enforceFilters()},_createSearchBoxAndButtons:function(){var a=this;this.searchBox.on("typing",m.hitch(this,this._handleSearchBoxTyping));this.searchBox.on("keydown",m.hitch(this,this._handleSearchKeyDown));this.listViewButton=new x({icon:"icon_view_list_16",tag:"listViewButton",buttonGroup:"galleryPopupView_"+this.id});this.own(this.listViewButton);
this.listViewButton.placeAt(this.listViewButtonContainerNode);this.listViewButton.on("click",m.hitch(this,function(){this.focus()}));this.iconViewButton=new x({icon:"icon_view_icon_16",tag:"iconViewButton",buttonGroup:"galleryPopupView_"+this.id,checked:!0});this.own(this.iconViewButton);this.iconViewButton.placeAt(this.iconViewButtonContainerNode);this.iconViewButton.on("click",m.hitch(this,function(){this.focus()}));c(this.closeButtonNode,"click",this._handleCloseButtonClick);this.listViewButton.on("change",
function(b){"checked"===b.mwEventData.propertyName&&!0===b.mwEventData.newValue&&a.set("displayState",B.LIST)});this.iconViewButton.on("change",function(b){"checked"===b.mwEventData.propertyName&&!0===b.mwEventData.newValue&&a.set("displayState",B.ICON)});this._updateToggleButtons()},_calculateSearchBoxWidth:function(){var a=l.getContentBox(this.domNode),b=l.getMarginBox(this.buttonWrapper),c=l.getMarginExtents(this.searchTextFieldContainerNode);this.searchBox.set("width",a.w-b.w-(c.l+c.r))},_calculateSelfMaxHeight:function(){var a=
window.innerHeight-this.domNode.getBoundingClientRect().top;this.domNode.style.maxHeight=a+"px"},_resetSearchBoxValue:function(){this.searchBox.set("value","");this._searchBoxValue="";this.enforceFilters()},_resizeContainerNode:function(a){this.domNode.style.width=a*this.galleryItemWidth+"px"},focus:function(){this.searchBox.focusNode.focus()},_startupHeaderWidgets:function(){this.searchBox.startup();this.listViewButton.startup();this.iconViewButton.startup()},_setColumnCountAttr:function(a){if("number"!==
typeof a||0>a)throw Error("'columnCount' property expects a positive integer number!");this._set("columnCount",a)},_calculateSelfWidth:function(){var a;a=this.get("columnCount")||7;this._resizeContainerNode(a)},onOpen:function(){this.inherited(arguments);this.domNode.parentNode.classList.add("galleryPopupWrapper");this.domNode.parentNode.style.height="auto";this._calculateSearchBoxWidth();this._calculateSelfMaxHeight();this._invokingGallery||this._calculateSelfWidth();this._checkForPopupListInFooter();
this._toggleDisplay(this.noSearchMatchNode,!1);setTimeout(function(){this.focus();setTimeout(function(){document.addEventListener("mousedown",this._handleFocusChange);document.addEventListener("pointerdown",this._handleFocusChange);window.addEventListener("blur",this._handleWindowBlur);this.globalListenersCreated=!0}.bind(this),0)}.bind(this),0)},onClose:function(){this.inherited(arguments);this._resetSearchBoxValue();document.removeEventListener("mousedown",this._handleFocusChange);document.removeEventListener("pointerdown",
this._handleFocusChange);window.removeEventListener("blur",this._handleWindowBlur);delete this.globalListenersCreated;this.emit("restorefocus")},destroy:function(){this.inherited(arguments);this.globalListenersCreated&&(document.removeEventListener("mousedown",this._handleFocusChange),document.removeEventListener("pointerdown",this._handleFocusChange),window.removeEventListener("blur",this._handleWindowBlur))},galleryStateChanged:function(){},onExecute:function(){},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26")},_qeTyping:function(a){this.searchBox._qeTyping(a)},_qeCloseClick:function(){this._handleCloseButtonClick()}})})},"MW/toolstrip/widgets/_PopupBase":function(){define(["dojo/_base/declare"],function(h){return h(null,{onOpen:function(){this.isShowingNow=!0},onClose:function(){this.isShowingNow=!1}})})},"MW/toolstrip/constants/OrientationConstants":function(){define([],function(){return{VERTICAL:"Vertical",HORIZONTAL:"Horizontal"}})},"MW/toolstrip/GalleryFilter":function(){define(["dojo/_base/declare",
"mw-log/Log"],function(h,d){return h(null,{constructor:function(g){g=g||{};d.assert(g.id,"An id is required for a filter!");d.assert(g.checkerFunction,"A checker function is required for a filter!");this.id=g.id;this.disabled=!!g.disabled;this.checkerFunction=g.checkerFunction}})})},"MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(h,d){return h(null,{_setGalleryItemRowCountAttr:function(g){d.remove(this.domNode,"oneRow");d.remove(this.domNode,
"twoRow");d.remove(this.domNode,"threeRow");1===g?d.add(this.domNode,"oneRow"):2===g?d.add(this.domNode,"twoRow"):3===g&&d.add(this.domNode,"threeRow");this._set("galleryItemRowCount",g)}})})},"MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(h,d){return h(null,{_setGalleryItemTextLineCountAttr:function(g){d.remove(this.domNode,"zeroLine");d.remove(this.domNode,"oneLine");d.remove(this.domNode,"twoLine");0===g?d.add(this.domNode,
"zeroLine"):1===g?d.add(this.domNode,"oneLine"):2===g&&d.add(this.domNode,"twoLine");this._set("galleryItemTextLineCount",g)}})})},"MW/toolstrip/form/SearchTextField":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","mw-form/TextField"],function(h,d,g,c,f){return h(f,{baseClass:"mwWidget mwTextField mwSearchTextField",postCreate:function(){this.inherited(arguments);this.clearLink=d.create("div",{"class":"clearTextContainerNode"},this.domNode,"first");this._toggleSearchBoxIcon();
this.on("typing",g.hitch(this,this._toggleSearchBoxIcon));this.watch("value",g.hitch(this,this._toggleSearchBoxIcon));this.own(c(this.clearLink,"click",g.hitch(this,this._onClickClearButtonHandler)))},_toggleSearchBoxIcon:function(){""!==this.inputNode.value?this.clearLink.classList.add("clearTextIconVisible"):this.clearLink.classList.remove("clearTextIconVisible")},_onClickClearButtonHandler:function(){this.set("value","");this._triggerTypingEvent("");this._toggleSearchBoxIcon()}})})},"MW/toolstrip/mixins/property/MenuMixin":function(){define(["dojo/_base/declare",
"dijit/focus","MW/uiframework/FocusManager","mw-dom-utils/domUtils"],function(h,d,g,c){return h(null,{postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},closeMenu:function(d){this.domNode.classList.contains("mwPopupMenuItem")||(g.isAvailable()&&!c.findParentNode(this.domNode,"mwSectionPopup")?(this.emit("restorefocus"),this._handleClosingPopup(d)):this.inherited(arguments))}})})},"MW/toolstrip/widgets/SectionPopup":function(){define("dojo/_base/declare mw-menu/Menu mw-mixins/ResizeMixin ../mixins/property/TypeMixin ../mixins/ScrollbarMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b){return h(b.validate([d,g,c,f]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionPopup"})})},"MW/toolstrip/mixins/ScrollbarMixin":function(){define(["dojo/_base/declare","dojo/sniff"],function(h,d){return h(null,{postCreate:function(){this.inherited(arguments);d("mac")||this.domNode.classList.add("mwScrollbarMixin")}})})},"MW/toolstrip/widgets/Panel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Panel.html ./_WidgetMixin mw-mixins/ResizeMixin".split(" "),
function(h,d,g,c,f,b,l){return h([d,g,c,b,l],{templateString:f,addChild:function(b){this.inherited(arguments);var a=this.getParent();a&&"Column"===a.type&&a.updateChildrenOrientations()}})})},"MW/toolstrip/widgets/Column":function(){define("dojo/aspect dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/Column.html ./_WidgetMixin ./_ChildrenWrapperMixin mw-mixins/ResizeMixin MW/toolstrip/hashes/listOfNewWidgets MW/toolstrip/constants/OrientationConstants".split(" "),function(h,
d,g,c,f,b,l,m,a,k){return d([g,c,b,l,m],{templateString:f,constructor:function(){var b=this;this._wrappers={};this.own(h.after(this,"addChild",function(c){b._wrappers[c.id].style.textAlign=b.horizontalAlignment;b.get("width")&&(-1!==a.indexOf(c.type)?c._allowedValues&&-1!==c._allowedValues.indexOf("100%")&&c.set("width","100%"):c.set("width","100%"))},!0))},_setHorizontalAlignmentAttr:function(a){Object.keys(this._wrappers).forEach(function(b){this._wrappers[b].style.textAlign=a},this);this._set("horizontalAlignment",
a)},_setWidthAttr:function(a){0<a&&(this.domNode.style.width=a+"px",this._set("width",a),this.getChildren().forEach(function(a){a.set("width","100%")}))},_setExtraColumnGapAttr:function(a){this._set("extraColumnGap",a);a?this.domNode.classList.add("extraColumnGap"):this.domNode.classList.remove("extraColumnGap")},resize:function(){this.inherited(arguments);var a=this.getChildren();a&&a.forEach(function(a){a.resize?a.resize():a.set("height",a.get("height"))},this)},addChild:function(a){this.inherited(arguments);
this.updateChildrenOrientations()},removeChild:function(a){this.inherited(arguments);this.updateChildrenOrientations()},updateChildrenOrientations:function(){var a=this.getParent();a&&("Section"===a.type?this._updateChildrenOrientations():"Panel"===a.type&&(a=a.getParent())&&"Column"===a.type&&a.updateChildrenOrientations())},_updateChildrenOrientations:function(){var a=this.getChildren();1===a.length?"Panel"===a[0].type?a[0].getChildren().forEach(function(a){a=a.getChildren();var b=1===a.length?
k.VERTICAL:k.HORIZONTAL;a.forEach(function(a){a.get("orientation")&&a.set("orientation",b)})}):a[0].set("orientation",k.VERTICAL):a.forEach(function(a){"Panel"===a.type?a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){a.get("orientation")&&a.set("orientation",k.HORIZONTAL)})}):a.get("orientation")&&a.set("orientation",k.HORIZONTAL)})}})})},"MW/toolstrip/menu/PopupListPanel":function(){define(["dojo/_base/declare","mw-menu/MenuPanel","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],
function(h,d,g,c){return h(c.validate([d,g]),{visualFamily:"toolstrip"})})},"mw-menu/MenuPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/registry mw-menu/mixins/KeyNavMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-mixins/PreventFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuPanel.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h(p.validate([d,c,b,l,m,a,g,e,k,n]),{baseClass:"mwWidget mwMenuPanel",templateString:q,maxHeight:100,closeRequest:function(a){var b=this._getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},_focusChange:function(a){var b=this._getParentWidget();null!=b&&b._focusChange&&(b._closeEventData={mwEventData:{gainedFocusWidget:a}},b._focusChange(a))},_getParentWidget:function(){return f.getEnclosingWidget(this.domNode.parentNode)}})})},
"MW/toolstrip/widgets/Footer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/Footer.html".split(" "),function(h,d,g,c,f,b){return h([d,g,c,f],{templateString:b,baseClass:"footer"})})},"MW/toolstrip/widgets/FooterCell":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/FooterCell.html ./_ChildrenWrapperMixin".split(" "),function(h,d,g,
c,f,b,l){return h([d,g,c,l,f],{templateString:b,baseClass:"footerCell"})})},"MW/toolstrip/widgets/gallery/Gallery":function(){define("dojo/_base/declare dojo/debounce dojo/dom-geometry dojo/aspect dojo/touch dojo/_base/lang dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/_HasDropDown dijit/registry dijit/_CssStateMixin dojo/text!./templates/Gallery.html ../../constants/gallery/GalleryViewConstants ../_WidgetMixin ./GalleryItemRowCountMixin ./GalleryItemTextLineCountMixin ./ScrollToSelectionMixin ./HideDisabledItemsMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/uiframework/FocusManager dojo/i18n!l10n/nls/toolstrip".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H){return h([a,k,e,q,n,t,u,x,w,v,z,y,A,B],{templateString:r,baseClass:"mwWidget mwGallery",visualFamily:"toolstrip",dropDownPosition:["below"],openIfEmpty:!0,postCreate:function(){this.inherited(arguments);this._focusManager={};this.own(c.after(this,"addChild",function(a){a.set("displayState",s.ICON)},!0),l(this.openPopupDiv,"click",function(a){this.isDropDownOpen()||this._onDropDownMouseDown(a)}.bind(this)),l(this.domNode,"keyup",function(a){(a.keyCode===
m.ENTER||a.keyCode===m.SPACE)&&this.openDropDown()}.bind(this)));var a=p.byId(this.galleryPopupId);a&&this.setupGalleryPopupListener(a);this.openPopupDiv.setAttribute("title",H.showMore)},openDropDown:function(){var a,c=p.byId(this.galleryPopupId);if(this.openIfEmpty||!(c.domNode.querySelectorAll(".Category.hideFromView").length>c.getChildren().length))a=c.columnCount?Math.max(c.columnCount,this.currentColumnCount):this.currentColumnCount,a=3>a?3*this.galleryItemWidth:a*this.galleryItemWidth,c.domNode.style.width=
a+30+"px",this.set("dropDown",c),this.setupGalleryPopupListener(c),this.inherited(arguments),this._handleWindowResizeHandler=b.hitch(this,"_handleWindowResize"),window.addEventListener("resize",this._handleWindowResizeHandler)},_shouldCloseDropDown:function(a,b){return a===window?!0:this.domNode&&this.domNode.contains(a)&&a.classList.contains("dijitDownArrowButton")&&(!b.domNode||!b.domNode.parentElement||"none"!==b.domNode.parentElement.style.display)||b.domNode&&b.domNode.contains(a)?!1:a.matches?
!a.matches(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.matchesSelector?!a.matchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.webkitMatchesSelector?!a.webkitMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.mozMatchesSelector?!a.mozMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.msMatchesSelector?!a.msMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):
a.oMatchesSelector?!a.oMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):!0},closeDropDown:function(){window.removeEventListener("resize",this._handleWindowResizeHandler);if(!this.dropDown&&(this.dropDown=p.byId(this.galleryPopupId),!this.dropDown))return;this.inherited(arguments)},_handleWindowResize:function(){this.closeDropDown()},_qeDropDownClick:function(){this.toggleDropDown()},_onDropDownMouseDown:function(a){a instanceof MouseEvent&&0!==a.button||this.inherited(arguments)},
setupGalleryPopupListener:function(a){a._invokingGallery=this;var b=this;this._galleryPopupListener&&(this._galleryPopupListener.remove(),this._galleryPopupListener=null);this._galleryPopupListener=c.after(a,"galleryStateChanged",function(){b.refresh()})},shrink:function(){var a;this.currentColumnCount>this.minColumnCount?(this.set("currentColumnCount",this.currentColumnCount-1),a=!0):a=!1;return a},grow:function(){var a;this.currentColumnCount<this.maxColumnCount?(this.set("currentColumnCount",this.currentColumnCount+
1),a=!0):a=!1;return a},_setCurrentColumnCountAttr:function(a){this._set("currentColumnCount",a);this._resizeContainerNode();this.refresh()},_setOpenIfEmptyAttr:function(a){if("boolean"!==typeof a)throw Error("'openIfEmpty' property expected a boolean value");this._set("openIfEmpty",a)},_resizeContainerNode:function(){var a=this.currentColumnCount*this.galleryItemWidth+"px";this.containerNode.style.width=a;this.textOverlayWrapperNode.style.width=a},_setGalleryItemWidthAttr:function(a){0<a&&(this._set("galleryItemWidth",
a),this._resizeContainerNode())},_setDisplayStateAttr:function(a){var b=g.position(this.domNode);this._set("displayState",a);this.domNode.classList.remove("busy");this.set("disabled",!1);"busy"===a?(this.busyLayer.style.height=b.h+"px",this.busyLayer.style.width=b.w+"px",this.domNode.classList.add("busy")):"blocked"===a&&this.set("disabled",!0)},_setTextOverlayAttr:function(a){this._set("textOverlay",a);a?(this.textOverlayWrapperNode.style.display="table",this.textOverlayNode.textContent=a):(this.textOverlayWrapperNode.style.display=
"none",this.textOverlayNode.textContent="")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},refresh:function(){},destroy:function(){this._galleryPopupListener.remove();this.inherited(arguments)},isDropDownOpen:function(){var a=p.byId(this.galleryPopupId);return!(a&&a.domNode&&(!a.domNode.parentElement.classList.contains("dijitPopup")&&"none"===a.domNode.style.display||a.domNode.parentElement&&"none"===a.domNode.parentElement.style.display))}})})},"MW/toolstrip/widgets/gallery/ScrollToSelectionMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{scrollToSelection:!1})})},"MW/toolstrip/widgets/gallery/HideDisabledItemsMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{hideDisabledItems:!0})})},"MW/toolstrip/widgets/gallery/GalleryCategory":function(){define("dojo/_base/declare dojo/aspect dojo/dom-construct dojo/on dojo/dnd/Source dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/dnd/Manager mw-dnd/DnDUtils dojo/text!./templates/GalleryCategory.html ../../constants/gallery/GalleryViewConstants ./_GalleryCategoryAnimationMixin ../_WidgetMixin ./GalleryItemAvatar".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return h([l,m,a,q,r],{templateString:n,userCustomizable:!0,postCreate:function(){var a=this;this.inherited(arguments);this.own(c(this.moveTopButtonNode,"click",function(){a.categoryMoved()}));this.own(d.after(this,"addChild",function(b,c){var d=this.getParent();c=0<=c?c:this.getChildren().length-1;d&&d.galleryStateChanged();b.set("displayState",a.displayState);a.dndSource&&a.dndSource.insertNodes(!1,[b.domNode],!1,this.getChildren()[c].domNode);this.showHideCategory()},
!0));this.own(d.after(this,"removeChild",function(a){(a=this.getParent())&&a.galleryStateChanged();this.showHideCategory()},!0));this.showHideCategory()},showHideCategory:function(){0===this.getChildren().length?this.domNode.classList.add("hideFromView"):this.domNode.classList.remove("hideFromView")},_setIsFavoriteCategoryAttr:function(a){a?this.titleIconNode.classList.add("starTitle"):this.titleIconNode.classList.remove("starTitle");this._set("isFavoriteCategory",a);this._createDndSource(this.displayState)},
_setDisplayStateAttr:function(a){this.getChildren().forEach(function(b){b.set("displayState",a)});this._createDndSource(a);this._set("displayState",a)},_setTitleAttr:function(a){""===a&&(this.header.style.display="none");this.titleNode.textContent=a;this._set("title",a)},_setUserCustomizableAttr:function(a){!1===a?this.moveTopNode.style.display="none":!0===a&&(this.moveTopNode.style.display=null);this._set("userCustomizable",a)},_createDndSource:function(a){var b=this,c={};this.isFavoriteCategory&&
(a===p.ICON&&(c={horizontal:!0}),this.dndSource&&(e.unregisterMakeAvatar(this.dndSource),this.dndSource.destroy()),this.dndSource=new f(this.containerNode,c),e.registerMakeAvatar(b.dndSource,function(){return new s(this)}),this.own(d.after(this.dndSource,"onDrop",function(a,c){b._onDropHandler(a,c)},!0)))},_onDropHandler:function(a,c){var d,e;e=b.byNode(c[0]);d=this.getIndexOfChild(e);this.itemMoved({itemId:e.id,newIndex:d})},_qeMoveToTopClick:function(){this.categoryMoved()},categoryMoved:function(){},
itemMoved:function(){}})})},"mw-dnd/DnDUtils":function(){define(["dojo/_base/declare","dojo/aspect","dojo/dnd/Manager","mw-utils/Utils"],function(h,d,g,c){var f={},b=function(b){var c=-1;Object.keys(f).some(function(a,d,e){return f[a].dndSource===b?(c=a,!0):!1});return c};d.around(g.manager(),"makeAvatar",function(b){return function(){var c=g.manager(),a;!1===Object.keys(f).some(function(b,d,g){return f[b].dndSource===c.source?(a=f[b].makeAvatarFunc.call(c),!0):!1})&&(a=b.call(c));return a}});return{registerMakeAvatar:function(d,
g){var a=b(d);-1===a&&(a=c.generateUuid());f[a]={dndSource:d,makeAvatarFunc:g}},unregisterMakeAvatar:function(c){c=b(c);-1!==c&&delete f[c]},destroy:function(b){b&&b.remove()}}})},"MW/toolstrip/widgets/gallery/_GalleryCategoryAnimationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/_base/fx dojo/fx dojo/query dijit/registry ../../constants/gallery/GalleryViewConstants".split(" "),function(h,d,g,c,f,b,l,m,a,k){return h(null,{animate:function(a){switch(a.type){case "move":this._animateCategoryMove(a);
break;case "childAdd":if(this.get("isFavoriteCategory"))this._animateFavoriteItemAdd(a);else a.onEnd();break;case "childRemove":if(this.get("isFavoriteCategory"))this._animateFavoriteItemRemove(a);else a.onEnd()}},_animateCategoryMove:function(a){var b,c,d,k;c=f.position(this.domNode);k=this._createCategoryClone(this);b=f.position(this._getGalleryPopupWidget().getChildren()[0].domNode).y;d=this._getGalleryPopupPos();b-=d.y;c.x-=d.x;c.y-=d.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&
(b=0);l.slideTo({node:k,duration:this._calculateDuration(0,c.y,0,b),left:c.x,top:b,onEnd:function(){g.destroy(k);a.onEnd()}}).play()},_animateFavoriteItemAdd:function(b){var c,d=this,h,m,s,t,u=0,x=0,w,v,z=!0;w=this._getGalleryPopupPos();v=f.position(this.domNode);h=a.byId(b.startId);m=f.position(h.domNode);c=this._createItemClone(h);h=this.getChildren().filter(function(a){return!a.domNode.classList.contains("hideFromView")});t=h.length;0===t?s=m:(h=h[t-1],h=f.position(h.domNode),this.displayState===
k.ICON?(w.w-(h.x-w.x+h.w)<h.w&&(z=!1),z?(s=h,u=h.w):(s=v,x=v.h)):this.displayState===k.LIST&&(s=h,x=h.h));this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});s.x-=w.x;s.y-=w.y;m.x-=w.x;m.y-=w.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&(x=s.y=0);m=this._calculateDuration(m.x,m.y,s.x,s.y);l.slideTo({node:c,duration:m,left:s.x+u,top:s.y+x,onEnd:function(){g.destroy(c);b.onEnd();d._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},
_animateFavoriteItemRemove:function(b){var c,d,k=this,h,m;m=this._getGalleryPopupPos();c=b.childWidget;h=f.position(c.domNode);d=this._createItemClone(c);c=a.byId(b.endId);c=f.position(c.domNode);c.x-=m.x;c.y-=m.y;h.x-=m.x;h.y-=m.y;c.y+c.h>m.h+this._getGalleryPopupWidget().categoryContainer.scrollTop&&(c.y=m.h-c.h);this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});h=this._calculateDuration(h.x,h.y,c.x,c.y);l.slideTo({node:d,duration:h,left:c.x+0,top:c.y+0,onEnd:function(){g.destroy(d);
b.onEnd();k._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},_getAllItemWidgets:function(){var b=[];a.byId(this.galleryPopupId).getChildren().forEach(function(a){b=b.concat(a.getChildren())});return b},_calculateDuration:function(a,b,c,d){return Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2))/0.7},_getGalleryPopupWidget:function(){return this.get("isFavoriteCategory")?a.byId(this.get("galleryPopupId")):this.getParent()},_getGalleryPopupPos:function(){return f.position(this._getGalleryPopupWidget().domNode)},
_createCategoryClone:function(a){a=this._createClone(a);m(".moveTopNode",a)[0].style.display="none";return a},_createItemClone:function(a){a=this._createClone(a);m(".favButton",a)[0].style.display="none";c.remove(a,"dojoDndItemAnchor");c.remove(a,"dojoDndItemOver");return a},_createClone:function(a){var b,c,k;k=this._getGalleryPopupPos();b=d.clone(a.domNode);c=f.position(a.domNode);a=f.getContentBox(a.domNode);c.x-=k.x;c.y-=k.y;g.place(b,this._getGalleryPopupWidget().domNode);b.style.position="absolute";
b.style.top=c.y+"px";b.style.left=c.x+"px";b.style.width=a.w+"px";b.style.height=a.h+"px";b.style.zIndex=5;return b}})})},"MW/toolstrip/widgets/gallery/GalleryItemAvatar":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/query dijit/registry".split(" "),function(h,d,g,c,f,b){return h([],{constructor:function(b){this.manager=b;this.construct()},construct:function(){var h,m,a;h=this.manager.nodes[0];m=h.cloneNode(!0);a=g.position(h);m.style.width=a.w+"px";
m.style.height=a.h+"px";a=f(".itemWrapper",m)[0];h=b.getEnclosingWidget(h).getParent();h=b.byId(h.get("galleryPopupId"));h=c.create("div",{"class":h.domNode.getAttribute("class")});d.remove(h,"galleryPopup");h.style.position="absolute";h.style.zIndex="1999";h.opacity=0.7;d.remove(m,"dojoDndItemOver dojoDndItem dojoDndItemAnchor");d.add(m,"galleryItemAvatar");d.remove(a);d.add(a,"itemWrapper");c.place(m,h);this.node=h},destroy:function(){c.destroy(this.node);this.node=!1},update:function(){d.toggle(this.node,
"dojoDndAvatarCanDrop",this.manager.canDropFlag)}})})},"MW/toolstrip/form/PushButton":function(){define("dojo/_base/declare mw-form/PushButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/QuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h(q.validate([d,g,c,f,b,l,m,a,k,e,n,p]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/QuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(h,d){var g=h(null,{quickAccessIcon:"",postCreate:function(){this.inherited(arguments);this.set("quickAccessIcon",this.get("quickAccessIcon"))},_setQuickAccessIconAttr:function(c){if("string"!==typeof c)throw Error("'quickAccessIcon' property expects a literal string!");
this._set("quickAccessIcon",c);this._updateDOM(c)},_updateDOM:function(c){""===c?c=this.icon:""!==this.quickAccessIcon&&(c=this.quickAccessIcon);this._removeOldIcon(this.get("quickAccessIcon"));arguments[0]=c;this.inherited(arguments)}});g._dependencies=[{mixin:d,orderDependent:!0}];return g})},"MW/toolstrip/form/SplitButton":function(){define("dojo/_base/declare mw-form/SplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){return h(u.validate([d,g,c,f,b,l,m,a,k,e,n,p,t,q,r,s]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/SplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-mixins/ResizeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O){return h(I.validate([d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G]),{baseClass:"mwWidget mwSplitButton",templateString:O,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/TabIndexNodesMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/DisabledMixin"],function(h,d,g){var c=function(c){if(("object"!==typeof c||
c.constructor!==Array)&&0<c.length&&c[0].constructor!==HTMLDivElement)throw Error("'tabIndexNodes' property expects an array of DOM nodes as input.");};h=h(null,{tabIndexNodes:[],addTabIndexNodes:function(d){c(d);this.set("tabIndexNodes",this.get("tabIndexNodes").concat(d))},removeTabIndexNodes:function(d){c(d);var b,g,h,a=this.get("tabIndexNodes");d.forEach(function(c){h=a.indexOf(c);-1===h?(b=a,g=[]):(b=a.slice(0,h),g=a.slice(h+1,h+1+(a.length-h)));a=b.concat(g);c.removeAttribute("tabIndex")});
this.set("tabIndexNodes",a)},_setTabIndexNodesAttr:function(d){c(d);this._set("tabIndexNodes",d);this._updateTabIndices()},_setDisabledAttr:function(c){this.inherited(arguments);this._updateTabIndices()},_updateTabIndices:function(){this.get("tabIndexNodes").forEach(d.hitch(this,function(c){this._setTabIndexOnNode(c)}))}});h._dependencies=[{mixin:g,orderDependent:!0}];return h})},"mw-form/mixins/property/DropDownNeverDisabledMixin":function(){define("dojo/_base/declare dojo/dom-geometry mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/TextMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonSizeMixin".split(" "),
function(h,d,g,c,f,b,l,m){h=h(null,{dropDownNeverDisabled:!1,_laskKnownDisabledNode:null,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDropDownNeverDisabledMixin");this.set("dropDownNeverDisabled",this.get("dropDownNeverDisabled"))},_setDropDownNeverDisabledAttr:function(a){if("boolean"!==typeof a)throw Error("'dropDownNeverDisabled' property expects a boolean!");this._set("dropDownNeverDisabled",a);a?this.domNode.classList.add("mwDropDownNeverDisabledTrue"):this.domNode.classList.remove("mwDropDownNeverDisabledTrue");
this._updateInteractions(a);this._setAriaDisabled();this._setTabIndexOnNode(this.focusNode)},_updateInteractions:function(a){a=this._getDisabledNode();this._removeDisableInteractions(this._laskKnownDisabledNode);this._addDisableInteractions(a);this._updateLastKnownDisabledNode(a)},_updateDisableNode:function(a){a?(this.domNode.classList.add("mwDisabled"),this.domNode.classList.remove("mwEnabled")):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"));this._updateInteractions(a)},
_updateLastKnownDisabledNode:function(a){this._laskKnownDisabledNode=a},_getDisabledNode:function(){var a;this.get("disabled")?this.dropDownNeverDisabled?a=this.buttonNode:this.dropDownNeverDisabled||(a=this.domNode):a=null;return a},_getOverlayPositionExtents:function(){var a=d.getBorderExtents(this.domNode);if(this.get("dropDownNeverDisabled")){var b=d.getMarginBox(this.focusNode);"left"===this.get("iconAlignment")?a.r=-b.w:"top"===this.get("iconAlignment")&&(a.b=-b.h)}return{t:-a.t+"px",r:-a.r+
"px",b:-a.b+"px",l:-a.l+"px"}}});h._dependencies=[{mixin:g,orderDependent:!0},{mixin:c,orderDependent:!0},{mixin:f,orderDependent:!0},{mixin:b,orderDependent:!0},{mixin:l,orderDependent:!0},{mixin:m,orderDependent:!0}];return h})},"mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on mw-dom-utils/domUtils mw-utils/widgetUtils mw-mixins/property/MenuMixin".split(" "),function(h,d,g,c,f,b,l,m){h=h(null,{buildRendering:function(){this.inherited(arguments);
c.place(this.buttonNode,this.focusNode,"before")},_onMouseClick:function(a){this.inherited(arguments);g.isDescendant(a.target,this.buttonNode)&&this.isMenuOpen()&&this.closeMenu(!1)}});h._dependencies=[{mixin:m,orderDependent:!0}];return h})},"mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-dom-utils/domUtils"],function(h,d,g,c){return h(null,{postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"mousedown",
d.hitch(this,function(c){this.buttonNode.contains(c.target)&&setTimeout(d.hitch(this,function(){this.focusNode.focus()}),0)})),g(this.focusNode,"focus",d.hitch(this,"_handleFocus")),g(this.focusNode,"blur",d.hitch(this,"_handleBlur")))},_handleFocus:function(){this.baseClass.split(" ").forEach(d.hitch(this,function(d){c.toggleClass(this.domNode,d+"Focused",!0)}))},_handleBlur:function(){this.baseClass.split(" ").forEach(d.hitch(this,function(d){c.toggleClass(this.domNode,d+"Focused",!1)}))}})})},
"MW/toolstrip/form/ToggleButton":function(){define("dojo/_base/declare mw-form/ToggleButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/IconOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h(q.validate([d,g,c,f,b,l,m,a,k,e,n,p]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_shouldUncheckWidget:function(d){return d.get("buttonGroup")===this.get("buttonGroup")&&d!==this&&d.get("checked")&&(!d.get("actionId")||d.get("actionId")!==this.get("actionId"))}})})},"MW/toolstrip/form/ColorPickerButton":function(){define("dijit/focus dojo/aspect dojo/_base/declare dojo/_base/lang dojo/keys dojo/query MW/toolstrip/form/SplitButton mw-menu/Menu mw-mixins/event/ChangeEventMixin mw-colorpicker/ColorPicker mw-colorpicker/ColorPalette mw-colorpicker/MColor mw-dom-utils/domUtils".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){return g([l,a],{baseClass:"mwWidget mwSplitButton mwColorPickerButton",visualFamily:"toolstrip",selectedColor:"#ff0000",closeOnColorSelection:!0,showPreview:!0,showRecentColors:!0,showCustomPicker:!0,constructor:function(){this.standardColors=n.getStandardLightThemeColors();this._colorPickerMenu=new m;this._colorPicker=new k({showPreview:!0,showCustomPicker:!0,showRecentColors:!0,standardColors:this.standardColors});this.recentColors=this._colorPicker.get("recentlyUsedColors");
this._swatchNode=document.createElement("div");this.own(this._colorPickerMenu);this.own(this._colorPicker)},buildRendering:function(){this.inherited(arguments);this._colorPickerMenu.addChild(this._colorPicker);this._swatchNode.classList.add("mwColorSwatchNode");this.iconNode.appendChild(this._swatchNode);this.set("menu",this._colorPickerMenu)},_setSelectedColorAttr:function(a){if("string"!==typeof a)throw Error("'selectedColor' property expects a literal string!");this._validateColor(a);this._swatchNode.style.backgroundColor=
a;this._set("selectedColor",a);this._updatePreview()},_getSelectedColorAttr:function(){return this._get("selectedColor")},_setShowPreviewAttr:function(a){this._colorPicker.set("showPreview",a);this._set("showPreview",a)},_getShowPreviewAttr:function(){return this._colorPicker.get("showPreview")},_setShowRecentColorsAttr:function(a){this._colorPicker.set("showRecentColors",a);this._set("showRecentColors",a)},_getShowRecentColorsAttr:function(){return this._colorPicker.get("showRecentColors")},_setShowCustomPickerAttr:function(a){this._colorPicker.set("showCustomPicker",
a);this._set("showCustomPicker",a)},_getShowCustomPickerAttr:function(){return this._colorPicker.get("showCustomPicker")},_setRecentColorsAttr:function(a){this._validateRecentColors(a);this._colorPicker.set("recentlyUsedColors",a);this._set("recentColors",a)},_getRecentColorsAttr:function(){return this._colorPicker.get("recentlyUsedColors")},_setStandardColorsAttr:function(a){this._validateStandardColors(a);this._set("standardColors",a);this._colorPicker.paletteNode.destroyRecursive();this._colorPicker.paletteNode=
new e({palette:[this.standardColors[0],this.standardColors[1],this.standardColors[2]]});this._colorPicker.paletteNode.domNode.classList.add(this._colorPicker.baseClass+"Palette");this._colorPicker.paletteNode.placeAt(this._colorPicker,"first").startup();this.own(this._colorPicker.paletteNode.set("onChange",c.hitch(this._colorPicker,"_updateWidgetValues",!1,!0,!0,!0)))},_getStandardColorsAttr:function(){return this._colorPicker.get("standardColors")},postCreate:function(){this.inherited(arguments);
this.own(d.after(this._colorPicker.paletteNode,"_onCellClick",c.hitch(this,"_updateSelectedColor")));this.own(d.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",c.hitch(this,"_updateSelectedColor")));this.menu.domNode.addEventListener("open",this._handleMenuCloseOnFocusOut.bind(this));this.menu.domNode.addEventListener("keydown",this._handleMenuKeyDown.bind(this));this._colorPicker.domNode.addEventListener("keydown",this._handleColorPickerKeyDown.bind(this));this.buttonNode.addEventListener("click",
this._handleButtonClick.bind(this))},_handleButtonClick:function(){var a=this.get("selectedColor");this._triggerChangeEvent("selectedColor",a,a)},_handleMenuCloseOnFocusOut:function(){var a=h.watch("curNode",c.hitch(this,function(b,c,d){if(null===d||!p.findParentNode(d,"mwMenu"))a.unwatch(),this._updatePreview(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(a){a.keyCode===f.DOWN_ARROW||a.keyCode===f.UP_ARROW?this._colorPicker.paletteNode.focus():a.keyCode===f.TAB&&a.stopPropagation()},
_closeMenuOnColorSelection:function(){this.closeOnColorSelection&&this.closeMenu()},_handleColorPickerKeyDown:function(a){"INPUT"===a.target.tagName&&(a.keyCode===f.ENTER?this._updateSelectedColor():a.keyCode===f.ESCAPE&&this.set("selectedColor",this.get("selectedColor")))},_updatePreview:function(){this.get("selectedColor")!==this._colorPicker.value&&this._colorPicker.set("value",this.get("selectedColor"),!1)},_updateRecentColors:function(){var a=this.get("selectedColor"),b=this._colorPicker.recentlyUsedColors,
e=b.indexOf(a);-1!==e&&8>e&&b.splice(e,1);b.unshift(a);this._colorPicker.set("recentlyUsedColors",b);this.own(d.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",c.hitch(this,"_updateSelectedColor")))},_updateSelectedColor:function(){var a=this.get("selectedColor");this.set("selectedColor",this._colorPicker.value);var b=this.get("selectedColor");this._updateRecentColors();this._closeMenuOnColorSelection();this._triggerChangeEvent("selectedColor",a,b)},_validateStandardColors:function(a){var b=
a.length;if(3<b)throw Error("StandardColors can consist of maximum 3 rows of colors");for(var c=0;c<b;c++)for(var d=a[c],e=0;e<d.length;e++){if("hex"!==this._isRGBOrHex(d[e]))throw Error("Color type invalid. Only hex color values allowed!");this._validateColor(d[e])}},_validateRecentColors:function(a){var b=a.length;if(8<b)throw Error("RecentColors should be 1x8 array");for(var c=0;c<b;c++){var d=a[c];if("hex"!==this._isRGBOrHex(d))throw Error("Color type invalid. Only hex color values allowed!");
this._validateColor(d)}},_validateColor:function(a){var b=this._isRGBOrHex(a);if("invalid"===b)throw Error("'color' invalid value!");if("hex"===b){if(!/[0-9a-f]{6}/i.test(a))throw Error("'color' invalid value!");}else if("rgb"===b){var c;a=a.substring(4,a.length-1);a=a.split(",");if(3!==a.length)throw Error("'color' invalid value!");a.forEach(function(a){a=parseFloat(a);0!==a%1&&(c=!0)});if(c){if(this._checkRGBDouble(a))throw Error("'color' invalid value!");}else if(this._checkRGBInt(a))throw Error("''color' invalid value!");
}},_isRGBOrHex:function(a){return 0===a.indexOf("#")?"hex":0===a.indexOf("rgb")?"rgb":"invalid"},_checkRGBDouble:function(a){for(var b=0;3>b;b++){var c=parseFloat(a[b]);if(0>c||1<c)return!0}},_checkRGBInt:function(a){for(var b=0;3>b;b++){var c=parseInt(a[b]);if(0>c||255<c)return!0}}})})},"mw-colorpicker/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ColorPalette ./ColorSpinner ./MColor dojo/text!./templates/ColorPicker.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){return h([f,b,l],{value:"#ff0000",showRecentColors:!0,showPreview:!0,showCustomPicker:!0,recentlyUsedColors:[],standardColors:[],_parsedStandardColors:"",_previewTitle:n.preview,templateString:e,baseClass:"mwColorPicker",constructor:function(){this._set("recentlyUsedColors","#ff0000 #ff00ff #ffff00 #00ff00 #ffffff #00ffff #0000ff #000000".split(" "));this._set("standardColors",k.getStandardLightThemeColors());this.inherited(arguments)},postMixInProperties:function(){this._set("_parsedStandardColors",
JSON.stringify(this.get("standardColors")));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.paletteNode.set("onChange",d.hitch(this,this._updateWidgetValues,!1,!0,!0,!0));this.spinnerNode.set("onChange",d.hitch(this,this._updateWidgetValues,!0,!1,!0,!0))},_setValueAttr:function(a,b){this._updateWidgetValues(!0,!0,!0,b,a)},_updateWidgetValues:function(a,b,c,d,e){var f=this.get("value");this._set("value",e);this._setPreviewColor(e);a&&this.paletteNode.set("value",e,!1);
b&&this.spinnerNode.set("value",e,!1);c&&this.recentColorsWidgetNode&&this.recentColorsWidgetNode.set("value",e,!1);(d||void 0===d)&&this.emit("change",{mwEventData:{propertyName:"value",oldValue:f,newValue:this.get("value")}})},_setPreviewColor:function(a){c.set(this.previewColorNode,"background",a)},_updateRecentColorsWidget:function(){this.recentColorsWidgetNode&&(this.recentColorsWidgetNode.destroy(),g.empty(this.recentColorsNode));this.recentColorsWidgetNode=new m({palette:[this.recentlyUsedColors.slice(0,
4),this.recentlyUsedColors.slice(4,8)],title:n.recentColors,value:this.value});this.recentColorsWidgetNode.set("onChange",d.hitch(this,this._updateWidgetValues,!0,!0,!1,!0));this.recentColorsWidgetNode.placeAt(this.recentColorsNode).startup()},_setRecentlyUsedColorsAttr:function(a){this._set("recentlyUsedColors",a);this._updateRecentColorsWidget()},_setShowRecentColorsAttr:function(a){this._set("showRecentColors",a);!1===a?(c.set(this.recentColorsNode,"display","none"),c.set(this.previewNode,"padding-left",
"10px"),c.set(this.previewColorNode,"width","202px")):(c.set(this.recentColorsNode,"display",""),c.set(this.previewNode,"padding-left",""),c.set(this.previewColorNode,"width",""))},_setShowPreviewAttr:function(a){this._set("showPreview",a);!1===a?c.set(this.previewNode,"display","none"):c.set(this.previewNode,"display","")},_setShowCustomPickerAttr:function(a){this._set("showCustomPicker",a);!1===a?c.set(this.spinnerNode.domNode,"display","none"):c.set(this.spinnerNode.domNode,"display","")}})})},
"mw-colorpicker/ColorPalette":function(){define("dojo/_base/declare dojo/dom-construct dojo/string dojo/dom-attr dijit/_PaletteMixin dijit/_TemplatedMixin dijit/_WidgetBase ./MColor dojo/text!./templates/ColorPalette.html dojo/text!./templates/ColorPaletteSwatch.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){var n=h([l,b,f],{palette:[],title:e.standardColors,_setTitleAttr:{node:"titleNode",type:"innerText"},baseClass:"mwColorPalette",templateString:a,constructor:function(){this._set("palette",
m.getStandardLightThemeColors());this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.dyeClass=n._Color;this._preparePalette(this.palette,{})}});n._Color=h([m],{template:k,getValue:function(){return this.toHex()},fillCell:function(a){var b=g.substitute(this.template,{color:this.toHex(),title:this.toMATLABFriendlyName()});c.set(a,"title",this.toMATLABFriendlyName());d.place(b,a)}});return n})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){return h("dijit._PaletteMixin",m,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(a){return new ("string"==typeof this.dyeClass?b.getObject(this.dyeClass):this.dyeClass)(a)},_preparePalette:function(d,g){this._cells=[];var k=this._blankGif;this.own(l(this.gridNode,a,b.hitch(this,"_onCellClick")));for(var h=0;h<d.length;h++)for(var m=c.create("tr",{tabIndex:"-1",role:"row"},
this.gridNode),t=0;t<d[h].length;t++){var u=d[h][t];if(u){var x=this._dyeFactory(u,h,t,g[u]),u=c.create("td",{"class":this.cellClass,tabIndex:"-1",title:g[u],role:"gridcell"},m);x.fillCell(u,k);u.idx=this._cells.length;this._cells.push({node:u,dye:x})}}this._xDim=d[0].length;this._yDim=d.length;var w={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},v;for(v in w)this.own(e.addKeyListener(this.domNode,{keyCode:f[v],ctrlKey:!1,altKey:!1,
shiftKey:!1},this,function(){var a=w[v];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){k.focus(this._currentFocus)},_onCellClick:function(a){for(var b=a.target;"TD"!=b.tagName;){if(!b.parentNode||b==this.gridNode)return;b=b.parentNode}var c=this._getDye(b).getValue();this._setCurrent(b);k.focus(b);this._setValueAttr(c,!0);a.stopPropagation();a.preventDefault()},
_setCurrent:function(a){"_currentFocus"in this&&d.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=a)&&d.set(a,"tabIndex",this.tabIndex)},_setValueAttr:function(a,b){0<=this._selectedCell&&g.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");this._selectedCell=-1;if(a)for(var c=0;c<this._cells.length;c++)if(a==this._cells[c].dye.getValue()){this._selectedCell=c;g.add(this._cells[c].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);
if(b||void 0===b)this.onChange(a)},onChange:function(){},_navigateByKey:function(a,c){if(-1!=c){var d=this._currentFocus.idx+a;d<this._cells.length&&-1<d&&(d=this._cells[d].node,this._setCurrent(d),this.defer(b.hitch(k,"focus",d)))}},_getDye:function(a){return this._cells[a.idx].dye}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(h,d,g,c,f,b){var l=b.typematic={_fireEventAndReload:function(){this._timer=
null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(g.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,a,c,d,f,h,l,r){if(f!=this._obj){this.stop();this._initialDelay=l||500;this._subsequentDelay=h||0.9;this._minDelay=r||10;this._obj=f;this._node=c;this._count=
this._currentTimeout=-1;this._callback=g.hitch(a,d);this._evt={faux:!0};for(var s in b)"layerX"!=s&&"layerY"!=s&&(a=b[s],"function"!=typeof a&&"undefined"!=typeof a&&(this._evt[s]=a));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,a,f,e,n,p,q){var r="keyCode"in a?"keyCode":"charCode"in a?"charCode":"charOrCode",s=[c(b,"keyCode"in a?"keydown":"charCode"in
a?"keypress":d._keypress,g.hitch(this,function(c){c[r]==a[r]&&(void 0===a.ctrlKey||a.ctrlKey==c.ctrlKey)&&(void 0===a.altKey||a.altKey==c.altKey)&&(void 0===a.metaKey||a.metaKey==(c.metaKey||!1))&&(void 0===a.shiftKey||a.shiftKey==c.shiftKey)?(c.stopPropagation(),c.preventDefault(),l.trigger(c,f,b,e,a,n,p,q)):l._obj==a&&l.stop()})),c(b,"keyup",g.hitch(this,function(){l._obj==a&&l.stop()}))];return{remove:function(){h.forEach(s,function(a){a.remove()})}}},addMouseListener:function(b,a,d,e,n,p){var q=
[c(b,"mousedown",g.hitch(this,function(c){c.preventDefault();l.trigger(c,a,b,d,b,e,n,p)})),c(b,"mouseup",g.hitch(this,function(a){this._obj&&a.preventDefault();l.stop()})),c(b,"mouseout",g.hitch(this,function(a){this._obj&&a.preventDefault();l.stop()})),c(b,"dblclick",g.hitch(this,function(c){c.preventDefault();9>f("ie")&&(l.trigger(c,a,b,d,b,e,n,p),setTimeout(g.hitch(this,l.stop),50))}))];return{remove:function(){h.forEach(q,function(a){a.remove()})}}},addListener:function(b,a,c,d,f,g,l,r){var s=
[this.addKeyListener(a,c,d,f,g,l,r),this.addMouseListener(b,d,f,g,l,r)];return{remove:function(){h.forEach(s,function(a){a.remove()})}}}};return l})},"mw-colorpicker/MColor":function(){define(["dojo/_base/declare","dojo/_base/Color"],function(h,d){var g=h([d],{toDoubleRGBString:function(){var c=this.toDoubleRGB();return"["+c[0].toFixed(2)+" "+c[1].toFixed(2)+" "+c[2].toFixed(2)+"]"},toMATLABFriendlyName:function(){var c=g.namedMATLABColors[this.toHex().toLowerCase()];return c?this.toDoubleRGBString()+
" - "+c:this.toDoubleRGBString()},toDoubleRGB:function(){return[this.r/255,this.g/255,this.b/255]}});g.fromDoubleRGB=function(c){c=c.map(function(c){return Math.round(255*c)});return new g(c)};g.namedMATLABColors={"#ff0000":"red (r)","#ff00ff":"magenta (m)","#ffff00":"yellow (y)","#00ff00":"green (g)","#00ffff":"cyan (c)","#0000ff":"blue (b)","#000000":"black (k)","#ffffff":"white (w)"};g.getStandardLightThemeColors=function(){return["#0073bd #d9541a #edb021 #7d2e8f #78ab30 #4dbfed #a3142e".split(" "),
"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};g.getStandardDarkThemeColors=function(){return["#ffff11 #139fff #ff6929 #64d413 #b746ff #0fffff #ff13a6".split(" "),"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};return g})},"mw-colorpicker/ColorSpinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/NumberSpinner dijit/form/ValidationTextBox ./MColor ./ToggleButtonGroup dojo/text!./templates/ColorSpinner.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){var q={value:0,smallDelta:0.01,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:1,strict:!0,places:"0,2"}},r={value:0,smallDelta:1,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:255,fractional:!1,strict:!0,places:"0"}},s={pattern:"^#[0-9a-f]{6}",required:!0,selectOnClick:!0,
intermediateChanges:!0,style:"width: 120px; height: 20px; font-size: 13px;"};return h([f,b,l],{onChange:function(){},value:"#000000",baseClass:"mwColorSpinner",templateString:n,_redTitle:p.redTitle,_greenTitle:p.greenTitle,_blueTitle:p.blueTitle,_hexTitle:p.hexTitle,postCreate:function(){this.inherited(arguments);this.redDoubleSpinner.set(q);this.greenDoubleSpinner.set(q);this.blueDoubleSpinner.set(q);this.redDoubleSpinner.set("onChange",d.hitch(this,this._doubleSpinnerChange));this.greenDoubleSpinner.set("onChange",
d.hitch(this,this._doubleSpinnerChange));this.blueDoubleSpinner.set("onChange",d.hitch(this,this._doubleSpinnerChange));this.redIntSpinner.set(r);this.greenIntSpinner.set(r);this.blueIntSpinner.set(r);this.redIntSpinner.set("onChange",d.hitch(this,this._intSpinnerChange));this.greenIntSpinner.set("onChange",d.hitch(this,this._intSpinnerChange));this.blueIntSpinner.set("onChange",d.hitch(this,this._intSpinnerChange));this.hexSpinner.set(s);this.hexSpinner.set("onChange",d.hitch(this,this._hexSpinnerChange));
this.toggleButton.onChange=d.hitch(this,this._handleToggleChange);this.toggleButton.set("buttonText",["[0-1]","[0-255]",p.hexTitle]);this.toggleButton.set("value",2);this.toggleButton.set("value",1);this._updateSpinnerValues(new k(this.value),!0,!0,!0,!1)},_setValueAttr:function(a,b){var c=new k(a);this._updateSpinnerValues(c,!0,!0,!0,b)},_updateSpinnerValues:function(a,b,c,d,e){this._set("value",a.toHex());b&&(b=a.toDoubleRGB(),this._setSpinnerValueWithoutFiringEvent(this.redDoubleSpinner,b[0]),
this._setSpinnerValueWithoutFiringEvent(this.greenDoubleSpinner,b[1]),this._setSpinnerValueWithoutFiringEvent(this.blueDoubleSpinner,b[2]));c&&(c=a.toRgb(),this._setSpinnerValueWithoutFiringEvent(this.redIntSpinner,c[0]),this._setSpinnerValueWithoutFiringEvent(this.greenIntSpinner,c[1]),this._setSpinnerValueWithoutFiringEvent(this.blueIntSpinner,c[2]));d&&this._setSpinnerValueWithoutFiringEvent(this.hexSpinner,a.toHex());if(e||void 0===e)this.onChange(this.get("value"))},_isSpinnerValid:function(a,
b,c){if(!0===a._beingDestroyed||!0===b._beingDestroyed||!0===c._beingDestroyed||!0===a._destroyed||!0===b._destroyed||!0===c._destroyed||!a.isValid()||!b.isValid()||!c.isValid())return!1;a=a.get("value");b=b.get("value");c=c.get("value");return isNaN(a)||void 0===a||isNaN(b)||void 0===b||isNaN(c)||void 0===c?!1:[a,b,c]},_doubleSpinnerChange:function(){var a=this._isSpinnerValid(this.redDoubleSpinner,this.greenDoubleSpinner,this.blueDoubleSpinner);!1!==a&&(a=k.fromDoubleRGB(a),this._updateSpinnerValues(a,
!1,!0,!0,!0))},_intSpinnerChange:function(){var a=this._isSpinnerValid(this.redIntSpinner,this.greenIntSpinner,this.blueIntSpinner);if(!1!==a){var b=new k;b.setColor(a);this._updateSpinnerValues(b,!0,!1,!0,!0)}},_hexSpinnerChange:function(a){this.hexSpinner.isValid()&&(a=new k(a),this._updateSpinnerValues(a,!0,!0,!1,!0))},_handleToggleChange:function(a){var b=[this.doubleSpinners,this.intSpinners,this.hexSpinners];b.forEach(function(a){c.set(a,"display","none")});c.set(b[a-1],"display","")},_setSpinnerValueWithoutFiringEvent:function(a,
b){a.set("intermediateChanges",!1);a.set("value",b,!1);a.set("intermediateChanges",!0)}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(h,d,g,c){return h("dijit.form.NumberSpinner",[g,c.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(c,b){var d=this.constraints,g=isNaN(c),a=!isNaN(d.max),k=!isNaN(d.min);g&&0!=b&&(c=0<b?k?d.min:a?d.max:0:a?this.constraints.max:k?d.min:0);var e=c+b;if(g||isNaN(e))return c;
a&&e>d.max&&(e=d.max);k&&e<d.min&&(e=d.min);return e},_onKeyDown:function(c){if(!this.disabled&&!this.readOnly&&(c.keyCode==d.HOME||c.keyCode==d.END)&&!c.ctrlKey&&(!c.altKey&&!c.metaKey)&&"undefined"!=typeof this.get("value")){var b=this.constraints[c.keyCode==d.HOME?"min":"max"];"number"==typeof b&&this._setValueAttr(b,!1);c.stopPropagation();c.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return h("dijit.form._Spinner",m,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:a,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(a){return a},_arrowPressed:function(a,b,c){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),b*c),!1),k.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(a,b,c){var f=this.smallDelta;b==this.textbox&&(b=c.keyCode,f=b==d.PAGE_UP||b==d.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==d.UP_ARROW||b==d.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==a?this._arrowReleased(b):this._arrowPressed(b,b==this.upArrowNode?1:-1,f)},_wheelTimer:null,_mouseWheeled:function(a){if(this.focused){a.stopPropagation();a.preventDefault();var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?
1:-1);a=a.detail?-1*a.detail:b;if(0!==a){var c=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(c,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(c)},50)}}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,f.wheel,g.hitch(this,"_mouseWheeled")),l.addListener(this.upArrowNode,this.textbox,{keyCode:d.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),l.addListener(this.downArrowNode,
this.textbox,{keyCode:d.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),l.addListener(this.upArrowNode,this.textbox,{keyCode:d.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),l.addListener(this.downArrowNode,this.textbox,{keyCode:d.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(h,d,g){return h("dijit.form.RangeBoundTextBox",g,{rangeMessage:"",rangeCheck:function(c,d){return("min"in d?0<=this.compare(c,d.min):!0)&&("max"in d?0>=this.compare(c,d.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var c=
this.get("value");if(null==c)return!1;var d=!1;"min"in this.constraints&&(d=this.constraints.min,d=0>this.compare(c,"number"==typeof d&&0<=d&&0!=c?0:d));!d&&"max"in this.constraints&&(d=this.constraints.max,d=0<this.compare(c,"number"!=typeof d||0<d?d:0));return d},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(c){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(c))},getErrorMessage:function(c){var d=
this.get("value");return null!=d&&""!==d&&("number"!=typeof d||!isNaN(d))&&!this.isInRange(c)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=d.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(h,d,g,c,f,
b){var l=function(a){a=a||{};var b=g.getLocalization("dojo.cldr","number",g.normalizeLocale(a.locale)),c=a.pattern?a.pattern:b[(a.type||"decimal")+"Format"];a="number"==typeof a.places?a.places:"string"===typeof a.places&&0<a.places.length?a.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:b.decimal,places:a}},m=h("dijit.form.NumberTextBoxMixin",null,{pattern:function(a){return"("+(this.focused&&this.editOptions?this._regExpGenerator(d.delegate(a,
this.editOptions))+"|":"")+this._regExpGenerator(a)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:f.format,_regExpGenerator:f.regexp,_decimalInfo:l(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(a){var b="number"==typeof a.places?a.places:0;b&&b++;"number"!=typeof a.max&&(a.max=9*Math.pow(10,15-b));"number"!=typeof a.min&&(a.min=-9*Math.pow(10,15-b));this.inherited(arguments,[a]);this.focusNode&&(this.focusNode.value&&
!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=l(a)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var a=this.get("value");"number"==typeof a&&!isNaN(a)&&(a=this.format(a,this.constraints),void 0!==a&&(this.textbox.value=a));this.inherited(arguments)}},format:function(a,b){var c=String(a);if("number"!=typeof a)return c;if(isNaN(a))return"";if(!("rangeCheck"in this&&this.rangeCheck(a,b))&&!1!==b.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&
(b=d.mixin({},b,this.editOptions));return this._formatter(a,b)},_parser:f.parse,parse:function(a,b){var c=d.mixin({},b,this.editOptions&&this.focused?this.editOptions:{});if(this.focused&&null!=c.places){var f=c.places,f="number"===typeof f?f:Number(f.split(",").pop());c.places="0,"+f}c=this._parser(a,c);this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(a,b));return c},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(a){if(null==
a||"string"==typeof a&&""==a)return NaN;"number"==typeof a&&(!isNaN(a)&&0!=a)&&(a=f.round(a,this._decimalInfo.places));return this.inherited(arguments,[a])},serialize:function(a,b){return"number"!=typeof a||isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var a=d.hitch(d.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(a,!0)},_setValueAttr:function(a,b,c){if(void 0!==a&&void 0===c)if(c=String(a),"number"==typeof a)if(isNaN(a))c="";else{if("rangeCheck"in this&&this.rangeCheck(a,
this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else a?a=void 0:(c="",a=NaN);this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var a=this.inherited(arguments);if(isNaN(a)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+f._realNumberRegexp(d.delegate(this.constraints))+"$").test(this.textbox.value))return a=Number(this.textbox.value),isNaN(a)?void 0:a}else return a},isValid:function(a){if(!this.focused||
this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&this.rangeCheck(b,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1},_isValidSubset:function(){var a="number"==typeof this.constraints.min,b="number"==typeof this.constraints.max,d=this.get("value");if(isNaN(d)||!a&&!b)return this.inherited(arguments);var f=d|0,g=0>d,h=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),
l=(this.maxLength||20)-this.textbox.value.length,m=h?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",f=h?f+"."+m:f+"",l=c.rep("9",l),h=d;g?h=Number(f+l):d=Number(f+l);return!(a&&d<this.constraints.min||b&&h>this.constraints.max)}});h=h("dijit.form.NumberTextBox",[b,m],{baseClass:"dijitTextBox dijitNumberTextBox"});h.Mixin=m;return h})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(h,d,g,c,f){var b={};
h.setObject("dojo.number",b);b.format=function(c,a){a=h.mixin({},a||{});var f=d.normalizeLocale(a.locale),f=d.getLocalization("dojo.cldr","number",f);a.customs=f;f=a.pattern||f[(a.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?null:b._applyPattern(c,f,a)};b._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;b._applyPattern=function(c,a,d){d=d||{};var e=d.customs.group,f=d.customs.decimal;a=a.split(";");var g=a[0];a=a[0>c?1:0]||"-"+g;if(-1!=a.indexOf("%"))c*=100;else if(-1!=a.indexOf("\u2030"))c*=
1E3;else if(-1!=a.indexOf("\u00a4"))e=d.customs.currencyGroup||e,f=d.customs.currencyDecimal||f,a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,b,c,e){a=d[["symbol","currency","displayName"][c.length-1]]||d.currency||"";return!a?"":b+a+e});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");var h=b._numberPatternRE,g=g.match(h);if(!g)throw Error("unable to find a number expression in pattern: "+a);!1===d.fractional&&(d.places=0);return a.replace(h,b._formatAbsolute(c,
g[0],{decimal:f,group:e,places:d.places,round:d.round}))};b.round=function(b,a,c){c=10/(c||10);return(c*+b).toFixed(a)/c};if(0==(0.9).toFixed()){var l=b.round;b.round=function(b,a,c){var d=Math.pow(10,-a||0),f=Math.abs(b);if(!b||f>=d)d=0;else if(f/=d,0.5>f||0.95<=f)d=0;return l(b,a,c)+(0<b?d:-d)}}b._formatAbsolute=function(d,a,f){f=f||{};!0===f.places&&(f.places=0);Infinity===f.places&&(f.places=6);a=a.split(".");var e="string"==typeof f.places&&f.places.indexOf(","),g=f.places;e?g=f.places.substring(e+
1):0<=g||(g=(a[1]||[]).length);0>f.round||(d=b.round(d,g,f.round));d=String(Math.abs(d)).split(".");var h=d[1]||"";a[1]||f.places?(e&&(f.places=f.places.substring(0,e)),e=void 0!==f.places?f.places:a[1]&&a[1].lastIndexOf("0")+1,e>h.length&&(d[1]=c.pad(h,e,"0",!0)),g<h.length&&(d[1]=h.substr(0,g))):d[1]&&d.pop();g=a[0].replace(",","");e=g.indexOf("0");-1!=e&&(e=g.length-e,e>d[0].length&&(d[0]=c.pad(d[0],e)),-1==g.indexOf("#")&&(d[0]=d[0].substr(d[0].length-e)));var g=a[0].lastIndexOf(","),l,r;-1!=
g&&(l=a[0].length-g-1,a=a[0].substr(0,g),g=a.lastIndexOf(","),-1!=g&&(r=a.length-g-1));a=[];for(g=d[0];g;)e=g.length-l,a.push(0<e?g.substr(e):g),g=0<e?g.slice(0,e):"",r&&(l=r,delete r);d[0]=a.reverse().join(f.group||",");return d.join(f.decimal||".")};b.regexp=function(c){return b._parseInfo(c).regexp};b._parseInfo=function(c){c=c||{};var a=d.normalizeLocale(c.locale),a=d.getLocalization("dojo.cldr","number",a),g=c.pattern||a[(c.type||"decimal")+"Format"],e=a.group,h=a.decimal,l=1;if(-1!=g.indexOf("%"))l/=
100;else if(-1!=g.indexOf("\u2030"))l/=1E3;else{var q=-1!=g.indexOf("\u00a4");q&&(e=a.currencyGroup||e,h=a.currencyDecimal||h)}a=g.split(";");1==a.length&&a.push("-"+a[0]);a=f.buildGroupRE(a,function(a){a="(?:"+f.escapeString(a,".")+")";return a.replace(b._numberPatternRE,function(a){var d={signed:!1,separator:c.strict?e:[e,""],fractional:c.fractional,decimal:h,exponent:!1};a=a.split(".");var f=c.places;1==a.length&&1!=l&&(a[1]="###");1==a.length||0===f?d.fractional=!1:(void 0===f&&(f=c.pattern?a[1].lastIndexOf("0")+
1:Infinity),f&&void 0==c.fractional&&(d.fractional=!0),!c.places&&f<a[1].length&&(f+=","+a[1].length),d.places=f);a=a[0].split(",");1<a.length&&(d.groupSize=a.pop().length,1<a.length&&(d.groupSize2=a.pop().length));return"("+b._realNumberRegexp(d)+")"})},!0);q&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,e){a=f.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");if(!a)return"";b=b?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return!c.strict?(b&&(b+="*"),
e&&(e+="*"),"(?:"+b+a+e+")?"):b+a+e}));return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:e,decimal:h,factor:l}};b.parse=function(c,a){var d=b._parseInfo(a),e=RegExp("^"+d.regexp+"$").exec(c);if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];d.factor*=-1}f=f.replace(RegExp("["+d.group+"\\s\\xa0]","g"),"").replace(d.decimal,".");return f*d.factor};b._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in
c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var a=b._integerRegexp(c),d=f.buildGroupRE(c.fractional,function(a){var b="";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),e=f.buildGroupRE(c.exponent,function(a){return a?"([eE]"+b._integerRegexp({signed:c.eSigned})+")":""}),a=a+d;d&&(a="(?:(?:"+a+")|(?:"+d+"))");return a+e};b._integerRegexp=function(b){b=b||{};"signed"in
b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var a=f.buildGroupRE(b.signed,function(a){return a?"[-+]":""},!0),c=f.buildGroupRE(b.separator,function(a){if(!a)return"(?:\\d+)";a=f.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var c=b.groupSize,d=b.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+c+"})",0<c-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*)"},!0);return a+
c};return b})},"mw-colorpicker/ToggleButtonGroup":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ToggleButton".split(" "),function(h,d,g,c,f,b,l){return h([c,f,b],{onChange:function(){},value:1,buttonText:["Option1","Option2"],baseClass:"mwToggleButtonGroup",postMixInProperties:function(){this.inherited(arguments);var b="";this.buttonText.forEach(function(a,c,d){var f="";0===c?f="firstToggle":c===d.length-
1&&(f="lastToggle");b+=g.substitute('\x3ctd\x3e\x3cbutton class\x3d"${className}" data-dojo-type\x3d"dijit/form/ToggleButton" data-dojo-attach-point\x3d"${attachPoint}" data-test-id\x3d"${dataTestId}"\x3e${buttonText}\x3c/button\x3e\x3c/td\x3e',{className:f,attachPoint:"button"+(c+1),buttonText:a,dataTestId:"toggleGroup_button"+(c+1)})});this.templateString='\x3ctable class\x3d"${baseClass}"\x3e\x3ctr class\x3d"${baseClass}Buttons"\x3e'+b+"\x3c/tr\x3e\x3c/table\x3e"},buildRendering:function(){this.inherited(arguments);
this.buttonWidgets=[];this.buttonText.forEach(d.hitch(this,function(b,a,c){b=this["button"+(a+1)];this.buttonWidgets.push(b);b.set("onChange",d.hitch(this,this._handleToggleChange,a+1))}))},postCreate:function(){this.inherited(arguments)},_setValueAttr:function(b,a){this.buttonWidgets.forEach(function(a){a.set("checked",!1,!1)});this.buttonWidgets[b-1].set("checked",!0,!1);if(this.get("value")!==b&&(this._set("value",b),a||void 0===a))this.onChange(this.get("value"))},_handleToggleChange:function(b){this.set("value",
b)},_setButtonTextAttr:function(b){b.forEach(d.hitch(this,function(a,b){this.buttonWidgets[b].set("label",a)}))}})})},"MW/toolstrip/form/GridPickerButton":function(){define("dijit/focus dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dojo/keys MW/GridPicker MW/toolstrip/form/DropDownButton mw-menu/Menu mw-dom-utils/domUtils".split(" "),function(h,d,g,c,f,b,l,m,a,k){return d([m,f],{baseClass:"mwWidget mwDropDownButton mwGridPickerButton",visualFamily:"toolstrip",maxRows:5,maxColumns:5,occupancy:0,
fillOrder:"rowMajor",constructor:function(b){b=b||{};this.maxRows=b.maxRows?b.maxRows:this.maxRows;this.maxColumns=b.maxColumns?b.maxColumns:this.maxColumns;this.occupancy=b.occupancy?b.occupancy:this.occupancy;this.fillOrder=b.fillOrder?b.fillOrder:this.fillOrder;this._gridPicker=new l({maxRows:this.maxRows,maxColumns:this.maxColumns,occupancy:this.occupancy,fillOrder:this.fillOrder});this._gridPickerMenu=new a;this.selection={};this.own(this._gridPicker);this.own(this._gridPickerMenu)},buildRendering:function(){this.inherited(arguments);
this._gridPickerMenu.addChild(this._gridPicker);this.set("menu",this._gridPickerMenu)},_setSelectionAttr:function(a){0!==Object.keys(a).length&&this._gridPicker.getLastSelectedRowCount()!==a.row&&this._gridPicker.getLastSelectedColumnCount()!==a.column&&this._gridPicker.highlightCells(a.row-1,a.column-1);this._set("selection",a)},_setMaxRowsAttr:function(a){if(this._created)throw Error("Max Rows can only be set at construction time");this._set("maxRows",a)},_setMaxColumnsAttr:function(a){if(this._created)throw Error("Max Columns can only be set at construction time");
this._set("maxColumns",a)},_setOccupancyAttr:function(a){this._gridPicker.set("occupancy",a);this._set("occupancy",a)},_setFillOrderAttr:function(a){this._gridPicker.set("fillOrder",a);this._set("fillOrder",a)},postCreate:function(){this.inherited(arguments);this._gridPicker.on(l.SELECTION_CHANGED,this._handleGridSelection.bind(this));this.menu.on("keydown",this._handleMenuKeyDown.bind(this));this.menu.on("open",this._handleMenuCloseOnFocusOut.bind(this))},_handleGridSelection:function(a){var b={};
b.row=a.rows;b.column=a.columns;this.set("selection",b);this.closeMenu()},_handleMenuCloseOnFocusOut:function(){var a=h.watch("curNode",g.hitch(this,function(b,c,d){if(null===d||!k.findParentNode(d,"mwMenu"))a.unwatch(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(a){a.keyCode===b.TAB&&a.stopPropagation();this._gridPicker.navigate(a)}})})},"MW/GridPicker":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/Evented dojo/keys dojo/on dojo/touch dijit/_WidgetBase".split(" "),
function(h,d,g,c,f,b,l,m,a){h=h([a,f],{maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",_highlightedRows:0,_highlightedColumns:0,_lastSelectedRows:0,_lastSelectedColumns:0,buildRendering:function(){this.inherited(arguments);this.domNode.classList.add("gridPicker");this.domNode.setAttribute("tabindex",0);this._createGrid()},postCreate:function(){this.inherited(arguments);this.domNode.addEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.addEventListener("click",this._commitSelection.bind(this));
this.domNode.addEventListener("mouseleave",this._clearHighlighting.bind(this))},getLastSelectedRowCount:function(){return this._lastSelectedRows},getLastSelectedColumnCount:function(){return this._lastSelectedColumns},navigate:function(a){var c=!1,d=!1;0!==this._highlightedRows&&0!==this._highlightedColumns&&(c=!0);switch(a.keyCode){case b.DOWN_ARROW:c?this.highlightCells(this._highlightedRows,this._highlightedColumns-1):this.highlightCells(0,0);d=!0;break;case b.UP_ARROW:c&&this.highlightCells(this._highlightedRows-
2,this._highlightedColumns-1);d=!0;break;case b.RIGHT_ARROW:c&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns);d=!0;break;case b.LEFT_ARROW:c&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns-2);d=!0;break;case b.ENTER:this._commitSelection();this._clearHighlighting();d=!0;break;case b.TAB:c?this._highlightedColumns<this.maxColumns?this.highlightCells(this._highlightedRows-1,this._highlightedColumns):this._highlightedRows<this.maxRows&&this.highlightCells(this._highlightedRows,
0):this.highlightCells(0,0);d=!0;break;case b.ESCAPE:this._clearHighlighting()}return d},highlightCells:function(a,b){var c,d,f=0;if(void 0!==a&&void 0!==b)if(this._highlightedRows=a+1,this._highlightedColumns=b+1,"rowMajor"===this.fillOrder)for(c=0;c<this.maxRows;c++)for(d=0;d<this.maxColumns;d++)c<=a&&d<=b?(this._cells[c][d].classList.add("selected"),f<this.occupancy?this._cells[c][d].classList.add("occupied"):this._cells[c][d].classList.remove("occupied"),f++):this._cells[c][d].classList.remove("selected");
else for(d=0;d<this.maxColumns;d++)for(c=0;c<this.maxRows;c++)c<=a&&d<=b?(this._cells[c][d].classList.add("selected"),f<this.occupancy?this._cells[c][d].classList.add("occupied"):this._cells[c][d].classList.remove("occupied"),f++):this._cells[c][d].classList.remove("selected")},_createGrid:function(){var a,b,c;this._cells=[];this._cells.length=this.maxRows;for(a=0;a<this.maxRows;a++){this._cells[a]=[];this._cells[a].length=this.maxColumns;for(b=0;b<this.maxColumns;b++)c=document.createElement("button"),
c.setAttribute("id",this.id+"Cell"+a+"_"+b),c.setAttribute("tabindex","0"),this.domNode.appendChild(c),c.classList.add("cell"),c.row=a,c.col=b,this._cells[a][b]=c;a<this.maxRows&&(b=document.createElement("br"),this.domNode.appendChild(b))}},_highlightSelection:function(a){this.highlightCells(a.target.row,a.target.col)},_clearHighlighting:function(){var a,b;for(a=0;a<this._highlightedRows;a++)for(b=0;b<this._highlightedColumns;b++)this._cells[a][b].classList.remove("selected");this._highlightedColumns=
this._highlightedRows=0},_commitSelection:function(){this._lastSelectedRows=this._highlightedRows;this._lastSelectedColumns=this._highlightedColumns;this.emit("gridSelectionChanged",{rows:this._lastSelectedRows,columns:this._lastSelectedColumns})},startup:function(){this.inherited(arguments)},destroy:function(){this.domNode.removeEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.removeEventListener("click",this._commitSelection.bind(this));this.domNode.removeEventListener("mouseleave",
this._clearHighlighting.bind(this));this.inherited(arguments)}});h.ROW_MAJOR="rowMajor";h.COLUMN_MAJOR="columnMajor";h.SELECTION_CHANGED="gridSelectionChanged";return h})},"MW/toolstrip/qab/QABPushButton":function(){define(["dojo/_base/declare","../form/PushButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,d,g,c){return h([d,g,c],{})})},"MW/toolstrip/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin",
"mw-mixins/property/DescriptionMixin","mw-mixins/property/ShortcutMixin"],function(h,d,g,c){h=h(null,{showText:!0,_setShowTextAttr:function(c){if("boolean"!==typeof c)throw Error("'showText' property expects a boolean!");this._set("showText",c);this._updateTooltip(c)},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setDescriptionAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setShortcutAttr:function(){this.inherited(arguments);
this._updateTooltip(this.get("showText"))},_updateTooltip:function(c){var b=this.get("text");b&&(b=b.replace(/\n/g," "));c=c?this.get("description"):b;this.get("shortcut")&&(c=c?c+" ("+this._getPlatformizedShortcut(this.get("shortcut"))+")":this._getPlatformizedShortcut(this.get("shortcut")));this.domNode.setAttribute("title",c);this._updateTextInDOM(this.get("text"))},_getTextForDOM:function(){return this.get("showText")?this.inherited(arguments):""}});h._dependencies=[{mixin:d,orderDependent:!0},
{mixin:g,orderDependent:!0},{mixin:c,orderDependent:!0}];return h})},"MW/toolstrip/qab/QABDropDownButton":function(){define(["dojo/_base/declare","../form/DropDownButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,d,g,c){return h([d,g,c],{})})},"MW/toolstrip/qab/QABSplitButton":function(){define(["dojo/_base/declare","../form/SplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,d,g,c){return h([d,g,c],{})})},
"MW/toolstrip/qab/QABToggleButton":function(){define(["dojo/_base/declare","../form/ToggleButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,d,g,c){return h([d,g,c],{})})},"MW/toolstrip/qab/QABToggleSplitButton":function(){define(["dojo/_base/declare","../form/ToggleSplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(h,d,g,c){return h([d,g,c],{})})},"MW/toolstrip/form/ToggleSplitButton":function(){define("dojo/_base/declare mw-form/ToggleSplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u){return h(u.validate([d,g,c,b,l,m,a,k,e,f,n,p,t,q,r,s]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/ToggleSplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O,S,M){return h(S.validate([d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I,O]),{baseClass:"mwWidget mwToggleSplitButton",templateString:M,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},postCreate:function(){this.set("checkableNode",this.buttonNode);this.inherited(arguments)}})})},"MW/toolstrip/widgets/qabcontrols/QABFloatingPaneDock":function(){define("dojo/_base/declare dojo/topic dijit/registry MW/toolstrip/constants/TypeConstants MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash MW/toolstrip/menu/PopupList MW/toolstrip/menu/ListItem MW/toolstrip/qab/QABDropDownButton".split(" "),
function(h,d,g,c,f,b,l,m){return h([m],{postCreate:function(){this.text=this[f[c.QAB_FLOATING_PANE_DOCK].text];this.inherited(arguments);d.publish("/floatingPaneDockUpdate",{newWidget:this});g.byId("dockDropDownMenu")?this._popupList=g.byId("dockDropDownMenu"):this._popupList=new b({id:"dockDropDownMenu"});this.set("menuId","dockDropDownMenu")},addItem:function(a){var b=new l({guiId:a.id,text:a.title});a.watch("title",function(){b.set("text",a.title)});b.on("click",function(){a.show();a.bringToTop()});
this._popupList.addChild(b);this._toggleSelectDisplayAndReset()},_findMenuItemForGuiId:function(a){var b=null;this._popupList.getChildren().some(function(c){b=c;return c.guiId===a});return b},removeItem:function(a){a=this._findMenuItemForGuiId(a.id);this._popupList.removeChild(a);a.destroyRecursive();this._destroyed||this._toggleSelectDisplayAndReset()},startup:function(){this.inherited(arguments);this._toggleSelectDisplayAndReset()},_toggleSelectDisplayAndReset:function(){0<this._popupList.getChildren().length?
this.set("disabled",!1):this.set("disabled",!0)},_positionDock:function(){}})})},"MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","../constants/TypeConstants","MW/toolstrip/hashes/listOfNewWidgets"],function(h,d,g){var c={},f,b,l,m;b={enabled:"disabled"};f=h.mixin({text:"label"},b);l=h.mixin({text:"label",showText:"showLabel",shortcut:"accelKey"},b);m=h.mixin({popupId:"menuId",hasDynamicPopup:"hasDynamicMenu"},b);c[d.PUSH_BUTTON]=-1===g.indexOf(d.PUSH_BUTTON)?
f:b;c[d.TOGGLE_BUTTON]=h.mixin({selected:"checked"},-1===g.indexOf(d.TOGGLE_BUTTON)?f:b,-1===g.indexOf(d.TOGGLE_BUTTON)?{}:{buttonGroupName:"buttonGroup"});c[d.TOGGLE_SPLIT_BUTTON]=h.mixin({selected:"checked"},-1===g.indexOf(d.TOGGLE_SPLIT_BUTTON)?b:m,-1===g.indexOf(d.TOGGLE_SPLIT_BUTTON)?{}:{buttonGroupName:"buttonGroup"},-1===g.indexOf(d.TOGGLE_SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});c[d.DROP_DOWN_BUTTON]=-1===g.indexOf(d.DROP_DOWN_BUTTON)?f:m;c[d.SPLIT_BUTTON]=h.mixin(-1===
g.indexOf(d.SPLIT_BUTTON)?f:m,-1===g.indexOf(d.SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});c[d.COLOR_PICKER_BUTTON]=b;c[d.GRID_PICKER_BUTTON]=b;c[d.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=f;c[d.LIST_ITEM]=-1===g.indexOf(d.LIST_ITEM)?l:b;c[d.LIST_ITEM_WITH_CHECKBOX]=h.mixin({selected:"checked"},-1===g.indexOf(d.LIST_ITEM_WITH_CHECKBOX)?l:b,-1===g.indexOf(d.LIST_ITEM_WITH_CHECKBOX)?{}:{closePopupOnClick:"closeMenuOnClick"});c[d.LIST_ITEM_WITH_RADIO_BUTTON]=h.mixin({selected:"checked"},
-1===g.indexOf(d.LIST_ITEM_WITH_RADIO_BUTTON)?l:b,-1===g.indexOf(d.LIST_ITEM_WITH_RADIO_BUTTON)?{}:{closePopupOnClick:"closeMenuOnClick",buttonGroupName:"buttonGroup"});c[d.LIST_ITEM_WITH_TEXTFIELD]=h.mixin(-1===g.indexOf(d.LIST_ITEM_WITH_TEXTFIELD)?{editable:"readOnly"}:{placeholderText:"placeholder"},{text:"value"},b);c[d.LIST_ITEM_WITH_POPUP]=-1===g.indexOf(d.LIST_ITEM_WITH_POPUP)?l:m;c[d.POPUP_LIST_HEADER]=h.mixin({title:-1===g.indexOf(d.POPUP_LIST_HEADER)?"label":"text"});c[d.SPINNER]=h.mixin({minorStepSize:-1===
g.indexOf(d.SPINNER)?"smallDelta":"step",majorStepSize:-1===g.indexOf(d.SPINNER)?"largeDelta":"step"},-1===g.indexOf(d.SPINNER)?{editable:"readOnly"}:{},b);c[d.TEXT_FIELD]=h.mixin({text:"value"},-1===g.indexOf(d.TEXT_FIELD)?{placeholderText:"placeHolder_asdfasdf",editable:"readOnly"}:{placeholderText:"placeholder"},b);c[d.TEXT_AREA]=h.mixin({text:"value"},-1===g.indexOf(d.TEXT_AREA)?{editable:"readOnly"}:{},b);c[d.RADIO_BUTTON]=h.mixin(-1===g.indexOf(d.RADIO_BUTTON)?{text:"label"}:{buttonGroupName:"buttonGroup"},
{selected:"checked"},b);c[d.LABEL]=h.mixin({},b);c[d.CHECK_BOX]=h.mixin(-1===g.indexOf(d.CHECK_BOX)?{text:"label"}:{},{selected:"checked"},b);c[d.COMBO_BOX]=h.mixin(-1===g.indexOf(d.COMBO_BOX)?{editable:"readOnly"}:{selectedItem:"value",placeholderText:"placeholder"},b);c[d.LIST]=h.mixin(-1===g.indexOf(d.LIST)?{}:{selectedItems:"value"},b);c[d.HORIZONTAL_SLIDER]=b;c[d.GALLERY]=b;c[d.GALLERY_ITEM]=b;c[d.TOGGLE_GALLERY_ITEM]=h.mixin({selected:"checked",buttonGroupName:"buttonGroup"},b);c[d.QAB_PUSH_BUTTON]=
c[d.PUSH_BUTTON];c[d.QAB_DROP_DOWN_BUTTON]=c[d.DROP_DOWN_BUTTON];c[d.QAB_FLOATING_PANE_DOCK]=f;c[d.QAB_SPLIT_BUTTON]=c[d.SPLIT_BUTTON];c[d.QAB_TOGGLE_BUTTON]=c[d.TOGGLE_BUTTON];c[d.QAB_TOGGLE_SPLIT_BUTTON]=c[d.TOGGLE_SPLIT_BUTTON];Object.keys(c).forEach(function(a){Object.keys(c[a]).forEach(function(b){c[a][c[a][b]]=b})});return c})},"MW/toolstrip/menu/PopupList":function(){define(["dojo/_base/declare","mw-menu/Menu","../mixins/property/TypeMixin","../mixins/ScrollbarMixin","mw-mixins/mixinDependencyValidator"],
function(h,d,g,c,f){return h(f.validate([d,g,c]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary")}})})},"MW/toolstrip/menu/ListItem":function(){define("dojo/_base/declare mw-menu/MenuItem MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin MW/toolstrip/mixins/property/QuickAccessIconMixin MW/toolstrip/mixins/property/RemovableMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return h(k.validate([d,g,c,f,b,l,m,a]),{visualFamily:"toolstrip",_setRemovableAttr:function(a){this.inherited(arguments);if(a){this.domNode.classList.add("removableTrue");this._removeNode=document.createElement("div");this._removeNode.classList.add("mwRemoveNode");var b=document.createElement("div");b.classList.add("clear_all");this._removeNode.appendChild(b);this.domNode.appendChild(this._removeNode);this._handleKeyupForRemove=function(a){46===a.keyCode&&(this._emitRemoveEvent(),
a.stopPropagation())}.bind(this);this.domNode.addEventListener("keyup",this._handleKeyupForRemove);this._removeNode.addEventListener("click",this._handleRemoveNodeClick.bind(this));this._removeNode.addEventListener("mouseup",this._handleRemoveNodeMouseup)}else this._removeNode&&(this.domNode.classList.remove("removableTrue"),this.domNode.removeChild(this._removeNode),this._removeNode=null,this.domNode.removeEventListener("keyup",this._handleKeyupForRemove));this._set("removable",a)},_handleRemoveNodeClick:function(a){this._emitRemoveEvent();
a.stopPropagation()},_handleRemoveNodeMouseup:function(a){a.stopPropagation()}})})},"MW/toolstrip/mixins/property/UseQuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(h,d){var g=h(null,{useQuickAccessIcon:!1,postCreate:function(){this.inherited(arguments);this.set("useQuickAccessIcon",this.get("useQuickAccessIcon"))},_setUseQuickAccessIconAttr:function(c){if("boolean"!==typeof c)throw Error("'useQuickAccessIcon' property expects a boolean!");this._set("useQuickAccessIcon",
c);c?this.set("iconProp","quickAccessIcon"):this.set("iconProp","icon")}});g._dependencies=[{mixin:d,orderDependent:!1}];return g})},"MW/toolstrip/menu/ListItemWithPopup":function(){define("dojo/_base/declare mw-menu/PopupMenuItem MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a){return h(a.validate([d,g,c,f,b,l,m]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/ListItemWithCheckBox":function(){define("dojo/_base/declare mw-menu/CheckBoxMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),function(h,d,g,c,f,b){return h(b.validate([d,g,c,f]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.checkBox.set("visualFamily",
"toolstrip")}})})},"MW/toolstrip/menu/ListItemWithTextField":function(){define("dojo/_base/declare dojo/_base/lang mw-menu/TextFieldMenuItem ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/mixinDependencyValidator".split(" "),function(h,d,g,c,f,b){return h(b.validate([g,c,f]),{visualFamily:"toolstrip",constructor:function(){this.textField._triggerTypingEvent=function(b){this.emit("typing",{mwEventData:{text:b}})}},_setLabelAttr:function(b){this.set("text",b);this._set("label",
b)},getLabelAttr:function(){this.get("text")},postCreate:function(){this.inherited(arguments);this.textField.set("visualFamily","toolstrip");this.watch("text",d.hitch(this,"_updateLabel"))},_updateLabel:function(b,c,a){this.set("label",a)},_onFocus:function(){this.inherited(arguments);this.emit("focusgained",{mwEventData:{text:this.textField.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.textField.inputNode.value}})}})})},"mw-menu/TextFieldMenuItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-dom-utils/domUtils mw-form/TextField mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-mixins/property/ValidationMixin dojo/text!./templates/TextFieldMenuItem.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H){return h(B.validate([b,l,m,a,k,s,t,x,u,w,p,q,r,v,z,y,A,D]),{baseClass:"mwWidget mwSharedMenuItem mwTextFieldMenuItem",templateString:H,closeOnEnter:!0,editable:!0,placeholder:"",constructor:function(){this.textField=new n({value:""});this.own(this.textField)},_setPlaceholderAttr:function(a){this.textField.set("placeholder",a);this._set("placeholder",a)},_getPlaceholderAttr:function(a){return this.textField.get("placeholder")},_setValueAttr:function(a){this.textField.set("value",
a);this._set("value",a)},_setEditableAttr:function(a){this.textField.set("editable",a);this._set("editable",a)},_getValueAttr:function(){return this.textField.get("value")},_getEditableAttr:function(){return this.textField.get("editable")},buildRendering:function(){this.inherited(arguments);this.textField.placeAt(this.shortcutKeyNode,"before");this.inputNode=this.textField.inputNode},postCreate:function(){this.inherited(arguments);this.textField.on("change",d.hitch(this,function(a){this.get("value")!==
a.mwEventData.newValue&&this.set("value",a.mwEventData.newValue)}));this.own(g(this.textField.focusNode,"change",d.hitch(this,"_onChange")),g(this.textField.focusNode,"keydown",d.hitch(this,"_onKeyDown")),g(this.domNode,"focus",d.hitch(this,"_focusGained")));this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"));this._setPlaceholderAttr(this.get("placeholder"));this.domNode.setAttribute("data-composite-primary","");this.domNode.setAttribute("spellcheck","false");
(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-child","");(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-primary-id",this.get("id"));this.textField.domNode.setAttribute("data-composite-child","");this.textField.domNode.setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.textField.startup()},_getDomNodeForValidationClasses:function(){return this.textField.domNode},_focusGained:function(a){this.focus&&
e.isFocusable(this.focusNode||this.domNode)&&this.focus()},focus:function(){var a=this.focusNode||this.domNode;a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));e.isFocusable(a)&&f.focus(this.getFocusNode())},getFocusNode:function(){return this.textField.focusNode},_onKeyDown:function(a){if(a.keyCode===c.TAB)a.preventDefault(),a.stopPropagation(),this.emit("synkeydown",{keyCode:c.TAB});else if(a.keyCode===c.ESCAPE)this.textField.inputNode.value=
this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),a.preventDefault(),a.stopPropagation(),this._requestClose(!1);else if(a.keyCode===c.ENTER){a=this.get("value");var b=this.textField.inputNode.value;a===b?this.emit("recommit",{mwEventData:{propertyName:"value",value:b}}):(this.emit("commit",{mwEventData:{propertyName:"value",value:b}}),this.set("value",b),this.textField._triggerChangeEvent("value",a,b));this.closeOnEnter&&!0===this.closeOnEnter&&this._requestClose(!1)}else(a.keyCode===
c.HOME||a.keyCode===c.END)&&a.stopPropagation()},_handleInputNodeClick:function(){!1!==this.textField.get("editable")&&this.textField.inputNode.select()},_emitClickEvent:function(a){this.emit("click",{mwEventData:{value:this.get("value")},_dojo_click:!0});a.target!==this.inputNode&&this.emit("itempushed")},_qeTypeOverWithEnter:function(a){this.textField._qeTypeOverWithEnter(a)},_qeTyping:function(a){this.textField._qeTyping(a)}})})},"MW/toolstrip/menu/ListItemWithRadioButton":function(){define("dojo/_base/declare mw-menu/RadioButtonMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin ../mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l){return h(l.validate([d,g,c,f,b]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.radioButton.set("visualFamily","toolstrip")}})})},"mw-menu/RadioButtonMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/RadioButton mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D,H,G,I){return h(G.validate([g,c,f,b,l,z,y,p,r,s,t,u,x,w,q,v,a,k,A,B,e,n,D,H]),{baseClass:"mwWidget mwSharedMenuItem mwRadioButtonMenuItem",templateString:I,constructor:function(){this.radioButton=new m({text:""});this.own(this.radioButton)},_setCheckedAttr:function(a){this.inherited(arguments);this.radioButton.set("checked",a)},buildRendering:function(){this.inherited(arguments);this.radioButton.placeAt(this.domNode,"first")},startup:function(){this.inherited(arguments);
this.radioButton.startup()},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/RadioButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/RadioButton.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){return h(w.validate([g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x]),{baseClass:"mwWidget mwRadioButton",templateString:v,postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",this._handleKeydown.bind(this)),d(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())},_onClick:function(){!0===
!this.get("checked")&&this.inherited(arguments)}})})},"MW/toolstrip/menu/PopupListSeparator":function(){define(["dojo/_base/declare","mw-menu/MenuSeparator","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(h,d,g,c){return h(c.validate([d,g]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/PopupListHeader":function(){define(["dojo/_base/declare","mw-menu/MenuHeader","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(h,d,g,c){return h(c.validate([d,
g]),{visualFamily:"toolstrip"})})},"mw-menu/MenuHeader":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/PreventFocusMixin mw-mixins/PreventSelectionMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuHeader.html".split(" "),function(h,d,g,c,f,b,l,m,a,k,e){return h(k.validate([d,g,c,f,b,l,m,a]),{baseClass:"mwWidget mwMenuHeader",templateString:e})})},
"MW/toolstrip/form/ComboBox":function(){define("dojo/_base/declare dojo/keys mw-form/ComboBox dijit/registry ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){return h([g,f,b,l,m,a,k,e,n],{visualFamily:"toolstrip",height:22,mnemonicKeyNavDirection:"none",
_setEditableAttr:function(a){this.inherited(arguments);!1===a?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.arrowNode.setAttribute("data-focus","refuse"))},postCreate:function(){this._textField.set("visualFamily","toolstrip");this.menu.set("visualFamily","toolstrip");this.inherited(arguments);!1===this.get("editable")?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.get("menu").domNode.setAttribute("data-focus",
"refuse"));this.get("menu").domNode.setAttribute("data-focus","temporary")},_handleTextFieldKeyDown:function(a){a.keyCode===d.ESCAPE&&(this.emit("textcancelled",{mwEventData:{text:this.inputNode.value}}),this.emit("restorefocustolastnonrefuseelement"));if(a.keyCode===d.ENTER){if(this.get("value")===this.inputNode.value){var b=this._getSelectedItemFromValue(this.get("value"));b&&b.label===this.inputNode.value&&void 0!==b.value?this.emit("recommit",{mwEventData:{value:b.value}}):this.emit("recommit",
{mwEventData:{text:this.get("value")}})}this.emit("restorefocustolastnonrefuseelement")}this.inherited(arguments)},_handleMenuClick:function(a){var b=this._getSelectedItemFromLabel(a.target.textContent);this.get("value")===b.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}});this.inherited(arguments)},_initMenuItems:function(a){this.inherited(arguments);this._started&&a.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},resize:function(){var a=this.get("width"),
b=2;"100%"===a&&(a=this.domNode.getBoundingClientRect().width-b,b=0);this._textField.domNode.style.width="calc("+a+"px - 22px - 2px - 1px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+b+"px)"},startup:function(){this.inherited(arguments);this.items.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},_openComboBoxMenu:function(){this.inherited(arguments);this.emit("dropdownclick",{})},closeMenu:function(){this.inherited(arguments);this.emit("restorefocustolastnonrefuseelement")},
_setItemsAttr:function(){this.inherited(arguments);this.menu.getChildren().forEach(function(a){a.classList.remove("mwDefaultVisualFamily");a.classList.add("mwToolstripVisualFamily")})},_setFooterIdAttr:function(a){var b=c.byId(a);b&&(this._createFooterNode(),b.placeAt(this.footerNode),b.startup());this._set("footerId",a)},_createFooterNode:function(){if(this.footerNode){var a=c.byId(this.get("footerId"));a&&a.destroyRecursive()}else this.footerNode=document.createElement("div"),this.get("menu").domNode.appendChild(this.footerNode)}})})},
"MW/toolstrip/mixins/AcceptFocusMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","accept")}})})},"MW/toolstrip/mixins/ColumnWidthMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_allowedValues:["auto","100%"],_validateSizeInput:function(d){"100%"!==d&&this.inherited(arguments)},_setSize:function(d,g){this._validateSizeInput(g);this._set(d,g);if(this._started){"100%"===
g&&this.getParent()&&(g=this.getParent().get("width"));var c="",c=0<=this._allowedValues.indexOf(g)?g:this._getAdjustedSize(d,g,this.domNode);this.domNode.style[d]=c}}})})},"MW/toolstrip/form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dojo/on mw-form/ListBox ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/AcceptFocusMixin ../mixins/ScrollbarMixin ../widgets/_ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return h(s.validate([f,b,l,m,a,k,e,n,p,q,r]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"horizontal",_setItemsAttr:function(a){this.inherited(arguments);this._started&&this._handleSelection(a)},_handleSelection:function(a){var b=[];a.forEach(function(a){!0===a.selected&&b.push(a.value)},this);0<b.length&&("single"===this.get("selectionMode")?this.set("value",[b[b.length-1]]):this.set("value",b))},postCreate:function(a){this.inherited(arguments);
this.own(c(this.containerNode,"keydown",d.hitch(this,"_handleKeyDownEvent")))},startup:function(){this.inherited(arguments);this._handleSelection(this.get("items"))},_handleKeyDownEvent:function(a){this.inherited(arguments);a.keyCode===g.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===g.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))}})})},"mw-form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/query dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/Destroyable dijit/Tooltip mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-html-utils/HtmlUtils dojo/text!./templates/ListBox.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z){k=h(k,{constructor:function(a){this.widget=a;this.own(f(a.containerNode,"mousedown",d.hitch(this,"_handleMouseDown")),f(a.containerNode,"keydown",d.hitch(this,"_handleKeyDown")))},_handleMouseDown:function(a){if(a.target.classList.contains("mwListItem")){var b=Number(a.target.getAttribute("data-mw-index")),c=this.widget._selectedIndices.indexOf(b);a=this._getNewSelectedIndexOnMouseDown(a,b,c);this._setSelectedItems(a)}},_handleKeyDown:function(a){a=
this._getNewSelectedIndexOnKeyDown(a);-1!==a&&(this._setSelectedItems(a),this.widget.scrollToIndex(a[0]))},_setSelectedItems:function(a){if(-1!==a){var b=[],c=this.widget.get("value");a.forEach(function(a){b.push(this.widget._indexValueMap[a])},this);this.widget.set("value",b);this.widget._triggerChangeEvent("value",c,b)}},_getNewSelectedIndexOnKeyDown:function(a){if(0===this.widget.items.length)return-1;var c=this.widget._selectedIndices[0],d=this.widget._getIndexes(),e=Math.min.apply(null,d),d=
Math.max.apply(null,d),f=[];switch(a.keyCode){case b.UP_ARROW:f=c===e||void 0===c&&this._anchorIndex===e?[e]:void 0===c&&void 0===this._anchorIndex?[d]:void 0===c&&void 0!==this._anchorIndex?[this._anchorIndex-1]:[c-1];a.stopPropagation();a.preventDefault();break;case b.DOWN_ARROW:f=c===d||void 0===c&&this._anchorIndex===d?[d]:void 0===c&&void 0===this._anchorIndex?[e]:void 0===c&&void 0!==this._anchorIndex?[this._anchorIndex+1]:[c+1];a.stopPropagation();a.preventDefault();break;default:f=-1}return f}});
var y=h(k,{_getNewSelectedIndexOnMouseDown:function(a,b,c){var d=[b];0<=c&&(d=a.ctrlKey||a.metaKey?[]:-1);this._anchorIndex=b;return d}}),A=h(k,{constructor:function(){this._anchorIndex=this.widget._selectedIndices[0]||1},_getNewSelectedIndexOnMouseDown:function(a,b,c){var d=[b],e;if(0<=c)a.shiftKey?d=this._getRangeOfIndices(b):(a.ctrlKey||a.metaKey?(d=this.widget._selectedIndices.slice(0),d.splice(c,1)):1===this.widget._selectedIndices.length&&(d=-1),e=!1);else if(a.shiftKey)d=this._getRangeOfIndices(b);
else if(e=!1,a.ctrlKey||a.metaKey)d=this.widget._selectedIndices.slice(0),d.push(b);!1===e&&(this._anchorIndex=b);return d},_getRangeOfIndices:function(a){var b,c=[],d=this._anchorIndex;if(a<=d)for(b=a;b<=d;b+=1)c.push(b);else for(b=d;b<=a;b+=1)c.push(b);return c}});return h(w.validate([l,m,a,n,p,q,r,s,t,u,x]),{templateString:z,baseClass:"mwWidget mwListBox",selectionMode:"single",constructor:function(){this._indexValueMap={};this._valueIndexMap={};this.items=[];this.value=[];this._selectedIndices=
[]},scrollToValue:function(a){this.scrollToIndex(this._valueIndexMap[a])},scrollToIndex:function(a){var b=this._getItemNodes().filter(function(b){return Number(b.getAttribute("data-mw-index"))===a},this)[0];if(b){var c=this.domNode;b.offsetTop+b.offsetHeight>c.offsetHeight+c.scrollTop?this.domNode.scrollTop=b.offsetTop+b.offsetHeight-this.domNode.offsetHeight:b.offsetTop<c.scrollTop&&(this.domNode.scrollTop=b.offsetTop)}},postCreate:function(){this.inherited(arguments);this.set("items",this.get("items"));
this.set("value",this.get("value"));this.own(f(this.containerNode,"mouseover",d.hitch(this,function(a){var b=this._getEscapedToolTipString(a);b&&0<b.length&&e.show(b,a.srcElement)})),f(this.containerNode,"mouseout",function(a){e.hide(a.srcElement)}));this._selectionStrategy=new this._selectionStrategyModule(this)},_getEscapedToolTipString:function(a){var b="";a=a.srcElement.getAttribute("data-mw-tooltiptext");null!==a&&(b=v.escapeHtml(a));return b},startup:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},
_setSelectionModeAttr:function(a){if(0===a.toLowerCase().indexOf("single"))this._selectionStrategyModule=y;else if(0===a.toLowerCase().indexOf("multiple"))this._selectionStrategyModule=A;else throw Error("Selection Mode should be one of: single, multiple");this._created&&(this._selectionStrategy.destroy(),this._selectionStrategy=new this._selectionStrategyModule(this));this._set("selectionMode",a)},_setItemsAttr:function(a){this._validateItemsArray(a);var b=this._getItemsListAndInitInternalDs(a);
this._updateDom(b);this._created&&this.set("value",[]);this._set("items",a);this._updateTooltipForClippedItems()},_setWidthAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_setHeightAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_validateItemsArray:function(a){if(Array.isArray(a))a.forEach(function(a){if(void 0===a.label||void 0===a.value)throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');
});else throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');},_setValueAttr:function(a){this._validateValueArray(a);this._set("value",a);var b=[];a.forEach(function(a){b.push(this._valueIndexMap[a])},this);this._setSelectedIndex(b)},_validateValueArray:function(a){if(Array.isArray(a)){if("single"===this.get("selectionMode")&&
1<a.length)throw Error("'value' property must be a single element array in single selection mode.");a.forEach(function(a){if(!this.items.some(function(b){return b.value===a}))throw Error("'value' must be a subset of the items' values.");},this)}else throw Error("'value' property expects an array.");},_setSelectedIndex:function(a){var b=this._getItemNodes();b.forEach(function(a){a.classList.remove("mwListItemSelected")});this._selectedIndices=a;0!==a.length&&b.forEach(function(b){var c=Number(b.getAttribute("data-mw-index"));
a.forEach(function(a){a===c&&b.classList.add("mwListItemSelected")})})},_getItemsListAndInitInternalDs:function(a){var b=[],c=a.length,d;this._indexValueMap={};this._valueIndexMap={};if(0<c)for(d=0;d<c;d+=1){var e=d+1;b[d]={index:e,label:a[d].label,value:a[d].value};this._indexValueMap[e]=a[d].value;this._valueIndexMap[a[d].value]=e}else b=[];return b},_updateDom:function(a){g.empty(this.containerNode);0<a.length&&a.forEach(function(a){g.create("li",{textContent:a.label,"data-mw-index":a.index,"data-mw-tooltiptext":"",
"class":"mwListItem"},this.containerNode)},this)},_updateTooltipForClippedItems:function(){this._getItemNodes().forEach(function(a){a.offsetWidth<a.scrollWidth?a.setAttribute("data-mw-tooltiptext",a.textContent):a.setAttribute("data-mw-tooltiptext","")})},_getIndexes:function(){var a=[];this._getItemNodes().forEach(function(b){a.push(Number(b.getAttribute("data-mw-index")))});return a},_getItemNodes:function(){return c("li",this.containerNode)},_qeSelectItemsByLabel:function(a){var b=this.get("items").filter(function(b){return-1<
a.indexOf(b.label)}).map(function(a){return a.value});this.set("value",b)},_qeSelectItemsByIndex:function(a){var b=this.get("items").filter(function(b,c){return-1<a.indexOf(c)}).map(function(a){return a.value});this.set("value",b)}})})},"MW/toolstrip/mixins/property/CompactMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_setCompactAttr:function(d){var g=!0===d?42:66;this.get("height")!==g&&this.set("height",g);this._set("compact",d)}})})},"MW/toolstrip/widgets/_ValidationMixin":function(){define("dojo/_base/declare dojo/dom-class dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window ./Tooltip".split(" "),
function(h,d,g,c,f,b,l,m){return h(null,{_createValidationtooltip:function(){this.validationTooltip||(this.validationTooltip=new m({}),this.own(this.validationTooltip),f.place(this.validationTooltip.domNode,l.body()),this._addTooltipEvents())},_setErrorTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("errorText",a)},_setWarningTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("warningText",a)},
_setValidationStateAttr:function(a){var b=!1,c=!1;"error"===a.toLowerCase()?(c=!0,this._createValidationtooltip(),this.validationTooltip.textNode.textContent=this.errorText):"warning"===a.toLowerCase()&&(b=!0,this._createValidationtooltip(),this.validationTooltip.textNode.textContent=this.warningText);this.validationTooltip&&(d.toggle(this._getDomNodeForValidationClasses(),"has-error",c),d.toggle(this.validationTooltip.domNode,"error-tooltip",c),d.toggle(this.validationTooltip.domNode,"warning-tooltip",
b),this.validationTooltip.domNode.style.visibility="hidden");this._set("validationState",a)},_flipDomOrder:function(a){var b=a.children[1];f.place(a.children[0],f.place(b,a),"after");f.place(b.children[0],f.place(b.children[1],b),"after")},_tooltipOrientation:function(){return d.contains(this.validationTooltip.domNode,"dijitTooltipLeft")?"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_getFocusWidget:function(){return this},_placeTooltip:function(){if(this.validationTooltip&&
("error"===this.validationState||"warning"===this.validationState)){var a=c.position(this.domNode),b,e,f,g,h,m,s,t=!1;b=a.x;e=a.y;f=a.w;"error"===this.validationState?(d.add(this._getDomNodeForValidationClasses(),"has-error"),this.validationTooltip.textNode.textContent=this.errorText,d.add(this.validationTooltip.domNode,"error-tooltip")):"warning"===this.validationState&&(this.validationTooltip.textNode.textContent=this.warningText,d.add(this.validationTooltip.domNode,"warning-tooltip"));this.validationTooltip.domNode.style.visibility=
"visible";m=c.position(this.validationTooltip.domNode).h/2;h=c.position(this.domNode).h/2;a=this.validationTooltip.domNode;s=c.position(l.body()).w;g=this._calculateTooltipWidth();b+f+g>s?(t=!0,b=b-g+"px",e=e+h-m+document.body.scrollTop+"px",d.contains(a.children[0],"tooltipConnector")&&this._flipDomOrder(a)):(b=b+f+"px",e=e+h-m+document.body.scrollTop+"px");d.toggle(this.validationTooltip.domNode,"tooltipLeft",t);d.toggle(this.validationTooltip.domNode,"tooltipRight",!t);this.validationTooltip.domNode.style.left=
b;this.validationTooltip.domNode.style.top=e}},_calculateTooltipWidth:function(){d.add(this.validationTooltip.domNode,"tooltipLeft");var a=c.position(this.validationTooltip.domNode).w;d.remove(this.validationTooltip.domNode,"tooltipLeft");return a},_addTooltipEvents:function(){var a=this;this.own(b(this,g.enter,function(){a._placeTooltip()}),b(this,g.leave,function(){a.validationTooltip&&(a.validationTooltip.domNode.style.visibility="hidden")}),b(this._getFocusWidget(),"focus",function(){a._placeTooltip();
a.validationTooltip&&("error"===a.get("validationState")||"warning"===a.get("validationState"))&&d.add(a.validationTooltip.domNode,"validationFocused")}),b(this._getFocusWidget(),"blur",function(){a.validationTooltip&&(d.remove(a.validationTooltip.domNode,"validationFocused"),a.validationTooltip.domNode.style.visibility="hidden")}))}})})},"MW/toolstrip/widgets/Tooltip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","./_TooltipMixin","dijit/_TemplatedMixin","dojo/text!./templates/Tooltip.html"],
function(h,d,g,c,f){return h([d,c,g],{templateString:f})})},"MW/toolstrip/widgets/_TooltipMixin":function(){define(["dojo/_base/declare","dojo/aspect","./_DescriptionMixin","mw-event-utils/platformize"],function(h,d,g,c){return h([g],{_updateDescription:function(){this.inherited(arguments);this._updateTooltip()},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip()},_setShortcutAttr:function(c){this._set("shortcut",c);this._updateTooltip()},_updateTooltip:function(){var c="",b="",
d="",g="",a="";this.textOverride?c=this.textOverride.replace(/\n/g," "):this.text&&(c=this.text.replace(/\n/g," "));this.shortcut&&(b=this._getPlatformSpecificShortcutString());this.descriptionOverride?d=this.descriptionOverride:this.description&&(d=this.description);!c&&b&&d?(c=d,d="",g=" "):c&&(b&&(g=" "),d&&(a=" - "));this.domNode.setAttribute("title",c+g+b+a+d)},_getPlatformSpecificShortcutString:function(){return"("+c.getPlatformSpecificString(this.shortcut)+")"}})})},"MW/toolstrip/widgets/_DescriptionMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{_setDescriptionAttr:function(d){this._set("description",d);this._updateDescription()},_setDescriptionOverrideAttr:function(d){this._set("descriptionOverride",d);this._updateDescription()},_updateDescription:function(){var d="";this.descriptionOverride?d=this.descriptionOverride:this.description&&(d=this.description);this.descriptionNode&&(this.descriptionNode.textContent=d)}})})},"MW/toolstrip/form/Label":function(){define("dojo/_base/declare mw-form/Label MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a){return h(a.validate([d,g,c,f,b,l,m]),{visualFamily:"toolstrip",height:22,_setTabIndexOnNode:function(){}})})},"mw-form/Label":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/AccessibilityClickMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Label.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){return h(w.validate([d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x]),{baseClass:"mwWidget mwLabel",templateString:v,_paddingAndBorder:0,_setTabIndexOnNode:function(){}})})},"MW/toolstrip/widgets/EmptyControl":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/EmptyControl.html","./_WidgetMixin"],function(h,d,g,c,f){return h([d,g,f],{templateString:c})})},"MW/toolstrip/form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/on dojo/keys mw-form/TextField MW/uiframework/utils ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){return h(s.validate([b,m,a,k,e,n,p,q,r]),{visualFamily:"toolstrip",width:150,height:22,mnemonicKeyNavDirection:"vertical",_onKeyUp:function(a){a.keyCode===f.ESCAPE?(this.inputNode.value=this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement")):a.keyCode===f.ENTER&&(this.get("value")===this.inputNode.value&&this.emit("recommit",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),
this.emit("commit",{}));this.inherited(arguments)},_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("spellcheck","false");this.own(c(this.inputNode,"focus",d.hitch(this,"_handleInputNodeFocus")))},_handleInputNodeFocus:function(a){!1!==this.get("editable")&&(l.detectIE()?setTimeout(d.hitch(this,function(){this.inputNode.select();return!1},0)):this.inputNode.select())},_onFocus:function(){this.inherited(arguments);
this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})}})})},"MW/uiframework/utils":function(){define([],function(){return{detectIE:function(){var h=window.navigator.userAgent,d=h.indexOf("MSIE ");if(0<d)return parseInt(h.substring(d+5,h.indexOf(".",d)),10);if(0<h.indexOf("Trident/"))return d=h.indexOf("rv:"),parseInt(h.substring(d+3,h.indexOf(".",d)),10);d=h.indexOf("Edge/");
return 0<d?parseInt(h.substring(d+5,h.indexOf(".",d)),10):!1}}})},"MW/toolstrip/form/TextArea":function(){define("dojo/_base/declare dojo/keys mw-form/TextArea ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/ScrollbarMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h(q.validate([g,c,f,b,l,m,a,k,e,n,p]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"none",_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},_onFocus:function(){this.inherited(arguments);this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})},_onKeyUp:function(a){a.keyCode===d.ESCAPE&&
this.emit("restorefocustolastnonrefuseelement");this.inherited(arguments)}})})},"MW/toolstrip/form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys mw-form/Spinner ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin mw-mixins/property/DescriptionMixin ../mixins/property/DescriptionOverrideMixin ../mixins/AcceptFocusMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p){return h(p.validate([c,f,b,l,m,a,k,e,n]),{visualFamily:"toolstrip",width:70,mnemonicKeyNavDirection:"none",postCreate:function(){this.inherited(arguments);this._textField.set("visualFamily","toolstrip")},_setMinimumAttr:function(a){this.set("limits",{minimum:a,maximum:this.limits.maximum});this._set("minimum",a)},_setMaximumAttr:function(a){this.set("limits",{minimum:this.limits.minimum,maximum:a});this._set("maximum",a)},_setValueAttr:function(a){a<this.get("limits").minimum||
a>this.get("limits").maximum||(this._checkValueInLimits(a),this._textField.set("value",a+""),this._set("value",a))},_onKeyDown:function(a){this.inherited(arguments);a.keyCode===g.ENTER?(this.get("value")+""===this._textField.inputNode.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{})):a.keyCode===g.ESCAPE&&this.emit("restorefocustolastnonrefuseelement")},resize:function(){this.containerNode.style.width="calc(100% -  21px)";
this._textField.domNode.style.width="100%"}})})},"mw-form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-form/TextField mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/FormatMixin mw-mixins/property/SizeMixin mw-mixins/property/ValidationMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/ResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Spinner.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D){var H=Number.MAX_VALUE,G=Number.NEGATIVE_INFINITY;return h(B.validate([m,a,k,e,n,q,r,s,t,u,x,w,v,z,y,A]),{baseClass:"mwWidget mwSpinner",templateString:D,width:150,height:22,value:100,step:1,errorText:"",horizontalAlignment:"right",_preventClick:!1,includeMinimum:!0,includeMaximum:!0,constructor:function(){this._textField=new p({horizontalAlignment:"right"});this.focusNode=this._textField.focusNode;this.inputNode=this._textField.inputNode;
this.own(this._textField);this.limits={minimum:0,maximum:Number.POSITIVE_INFINITY};this.own(this._textField.watch("value",d.hitch(this,function(a,b,c){isNaN(parseFloat(c))||this._set("value",parseFloat(c))})))},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.containerNode,"first")},_setEditableAttr:function(a){if("boolean"!==typeof a)throw Error("Editable property expects a boolean");this._textField.set("editable",a);a?this.domNode.classList.remove("mwNonEditable"):
this.domNode.classList.add("mwNonEditable");this._set("editable",a)},_setDisabledAttr:function(a){this.inherited(arguments);this._textField.set("disabled",a)},_setHorizontalAlignmentAttr:function(a){this.inherited(arguments);this._textField.set("horizontalAlignment",a)},_setStepAttr:function(a){if("number"!==typeof a)throw Error("'step' property expects a Number!");this._set("step",a)},_setValueAttr:function(a){if(a<this.get("limits").minimum||a>this.get("limits").maximum)throw Error("'Value' must be numeric and fall within the range of 'Limits'.");
this._checkValueInLimits(a);this._textField.set("value",a+"");this._set("value",a)},_checkValueInLimits:function(a){if(this._rangeCheck(a)){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");if(this.get("includeMaximum"))parseFloat(a)===this.get("limits").maximum&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled");else{var b=this._calculateIncrement(this.get("limits").maximum,-0.1);parseFloat(a)===
this.get("limits").maximum+b&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")}this.get("includeMinimum")?parseFloat(a)===this.get("limits").minimum&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):(b=this._calculateIncrement(this.get("limits").minimum,0.1),parseFloat(a)===this.get("limits").minimum+b&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"))}else if(this.get("includeMaximum")&&parseFloat(a)===this.get("limits").maximum||!this.get("includeMaximum")&&
parseFloat(a)<=this.get("limits").maximum)this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");else if(this.get("includeMinimum")&&parseFloat(a)===this.get("limits").minimum||!this.get("includeMinimum")&&parseFloat(a)>=this.get("limits").minimum)this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")},_getValueAttr:function(){return parseFloat(this._textField.get("value"))},
_setWidthAttr:function(a){this.inherited(arguments);this.resize()},_setLimitsAttr:function(a){if("object"!==typeof a)throw Error("'IncludeMinimum' property expects an 'Object'!");this._validateLimits(a);this._set("limits",a);this._applyConstraintsToValue()},_validateLimits:function(a){if("number"!==typeof a.maximum||"number"!==typeof a.minimum)throw Error("'Limits' expects an Object of numbers!");if(a.minimum>a.maximum)throw Error("'Minimum' should be less than maximum");},_setIncludeMinimumAttr:function(a){if("boolean"!==
typeof a)throw Error("'IncludeMinimum' property expects a 'Boolean'!");this._set("includeMinimum",a);this._applyConstraintsToValue()},_setIncludeMaximumAttr:function(a){if("boolean"!==typeof a)throw Error("'IncludeMaximum' property expects a 'Boolean'!");this._set("includeMaximum",a);this._applyConstraintsToValue()},_applyConstraintsToValue:function(){var a=this.get("includeMaximum")?this.get("limits").maximum:this.get("limits").maximum-this.get("step"),b=this.get("includeMinimum")?this.get("limits").minimum:
this.get("limits").minimum+this.get("step");this.get("limits").maximum<this.get("value")&&this.set("value",a);this.get("limits").minimum>this.get("value")&&this.set("value",b)},_getDomNodeForValidationClasses:function(){return this.domNode},postCreate:function(){this.inherited(arguments);this.set("value",this.value);this.own(b(this.domNode,"keydown",d.hitch(this,"_onKeyDown")),b(this.incrementButtonNodeWrapper,"click",d.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));
this._handleIncrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,b)}})),b(this.decrementButtonNodeWrapper,"click",d.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,b)}})),b(this.incrementButtonNodeWrapper,"mousedown",d.hitch(this,this._onIncrementButtonMouseDown)),b(this.decrementButtonNodeWrapper,
"mousedown",d.hitch(this,this._onDecrementButtonMouseDown)),b(this.incrementButtonNodeWrapper,"mouseup, mouseout",d.hitch(this,this._onButtonMouseUp)),b(this.decrementButtonNodeWrapper,"mouseup, mouseout",d.hitch(this,this._onButtonMouseUp)),b(this._textField,"focusin",d.hitch(this._textField,function(){this.inputNode.select()})));this._textField.on("change",d.hitch(this,function(a){this._onChangeHandler(a)}));this._textField.on("typing",d.hitch(this,function(a){this._handleValidation(a.mwEventData.currentContent)}))},
_onChangeHandler:function(a){var b;a.preventDefault();a.stopPropagation();"normal"!==this.get("validationState")?this._revertToOldValue(a.mwEventData.oldValue):(b=a.mwEventData.oldValue,a=a.mwEventData.newValue,this._triggerChangeEvent("value",this._isNumeric(b)?parseFloat(b):b,this._isNumeric(a)?parseFloat(a):a),this._checkValueInLimits(a),this.set("value",this._isNumeric(a)?parseFloat(a):a))},startup:function(){this._textField.startup();this.inherited(arguments)},_getParentPopup:function(a){for(;a;){if(a.classList&&
a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=c.position(this.domNode).w,b=c.position(this.buttonsContainerNode).w;if(0===b){var d=this._getParentPopup(this.buttonsContainerNode);if(null!==d){d.classList.add("dijitOffScreen");var e=g.get(d,"display");d.style.display="block";b=c.position(this.buttonsContainerNode).w;d.style.display=e}}c.getPadBorderExtents(this._textField.domNode);d=c.getPadBorderExtents(this.buttonsContainerNode);d=d.l+d.r;this.containerNode.style.width=
a-b+"px";this._textField.domNode.style.width=a-b-d+"px";this.inherited(arguments)},_onIncrementButtonMouseDown:function(){this._delayStart=setTimeout(d.hitch(this,function(){this._valueChangeTimer=setInterval(d.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleIncrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,b)}),100);this._preventClick=!0}),300)},_triggerChangingEvent:function(a,b,c){this.emit("changing",
{mwEventData:{propertyName:a,oldValue:b,newValue:c}})},_onDecrementButtonMouseDown:function(){this._delayStart=setTimeout(d.hitch(this,function(){this._valueChangeTimer=setInterval(d.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,b)}),100);this._preventClick=!0}),300)},_onButtonMouseUp:function(){clearInterval(this._valueChangeTimer);clearTimeout(this._delayStart);
this._preventClick=!1},_onKeyDown:function(a){a.keyCode===l.UP_ARROW?(a.preventDefault(),this._handleIncrement(this.get("step"))):a.keyCode===l.DOWN_ARROW?(a.preventDefault(),this._handleDecrement(this.get("step"))):a.keyCode===l.PAGE_UP?a.preventDefault():a.keyCode===l.PAGE_DOWN&&a.preventDefault()},_handleIncrement:function(a){var b;b=parseFloat(this._textField.get("value"))+a;this._rangeCheck(b)?(this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMaximum")?this.get("limits").maximum===b?this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"):this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMaximum")?(this._textField.set("value",this.get("limits").maximum),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").maximum))):
(b=this._calculateIncrement(this.get("limits").maximum,-0.1),b=this.get("limits").maximum+b,this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(b))),this._disableIncrementButton(b,a))},_handleDecrement:function(a){var b;b=parseFloat(this._textField.get("value"))-a;this._rangeCheck(b)?(this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMinimum")?this.get("limits").minimum===b?this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMinimum")?(this._textField.set("value",this.get("limits").minimum),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").minimum))):
(b=this._calculateIncrement(this.get("limits").minimum,0.1),b=this.get("limits").minimum+b,this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(b))),this._disableDecrementButton(b,a))},_calculateIncrement:function(a,b){var c=b;if(a===H||a===G||Infinity===a)return 0;for(;!1===this._rangeCheck(a+c,this.constraints);)c/=10;return c},_disableIncrementButton:function(a,b){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");
this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a+b)?(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled")):this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")},_disableDecrementButton:function(a,b){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a-
b)?(this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")):this.decrementButtonNode.classList.add("mwDecrementButtonDisabled")},_rangeCheck:function(a){a=parseFloat(a);var b=!1===this.get("includeMinimum")?a>this.get("limits").minimum:a>=this.get("limits").minimum;a=!1===this.get("includeMaximum")?a<this.get("limits").maximum:a<=this.get("limits").maximum;return b&&a},_setRevertTimeout:function(a){return a||2E3},
_revertToOldValue:function(a){this._hiddenDiv=f.create("div",{},this.domNode);var b=c.getBorderExtents(this.domNode);this._hiddenDiv.style.top=-b.t+"px";this._hiddenDiv.style.right=-b.r+"px";this._hiddenDiv.style.bottom=-b.b+"px";this._hiddenDiv.style.left=-b.l+"px";this._hiddenDiv.style.position="absolute";this._hiddenDiv.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation()});setTimeout(d.hitch(this,function(){!0!==this._destroyed&&(this._textField.set("value",a),this._handleDisplayFormat(),
this.set("validationState","normal"),f.destroy(this._hiddenDiv))}),this._setRevertTimeout())},_handleValidation:function(a){parseFloat(a)<=this.get("limits").minimum&&!this.get("includeMinimum")||parseFloat(a)<this.get("limits").minimum&&this.get("includeMinimum")||parseFloat(a)>this.get("limits").maximum&&this.get("includeMaximum")||parseFloat(a)>=this.get("limits").maximum&&!this.get("includeMaximum")||this._containsNonNumericCharacter(a)||isNaN(parseFloat(a))?this.set("validationState","error"):
(this.set("validationState","normal"),this.validationTooltip&&this.validationTooltip.domNode.classList.remove("mwValidationFocused"))},_containsNonNumericCharacter:function(a){return a.split("").some(function(a){return-1==="0123456789.".indexOf(a)})},_isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},_isInt:function(a){return Number(a)===a&&0===a%1},_formatShort:function(a){return a.toFixed(4)},_qeTypeOverWithEnter:function(a){var b=this.get("value");this.set("value",a);this._triggerChangeEvent("value",
b,a)}})})},"mw-mixins/property/FormatMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_FocusMixin"],function(h,d,g){h=h(null,{format:"",constructor:function(){this.displayValueFormatter=null},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwFormatMixin");this.set("format",this.get("format"))},startup:function(){this.inherited(arguments);this._handleDisplayFormat()},_setFormatAttr:function(c){if("string"!==typeof c)return Error("Format property expects a ''string");
this._set("format",c);this._handleDisplayFormat()},_handleDisplayFormat:function(){var c=this.get("format"),f=parseFloat(this._textField.get("value"));if(f||0===f)if(c.match("%*[0-9|.]d")||0<=c.indexOf("%i"))this._textField.setValueInDom(parseFloat(f).toFixed(4)+c.substr(c.indexOf("d")+1,c.length));else if(c.match("%*[0-9|.]f")){var b=parseFloat(c.replace(/(.*\.)(.*)(f.*)/,"$2"));b&&this._textField.setValueInDom(f.toFixed(b)+c.substr(c.indexOf("f")+1,c.length))}else this.displayValueFormatter&&this.displayValueFormatter(this.get("value")).then(d.hitch(this,
function(b){this._textField.setValueInDom(b)}))},_onBlur:function(){this.inherited(arguments);"normal"===this.get("validationState")&&this._handleDisplayFormat();this._formattedValueSet=!0},_onFocus:function(){this.inherited(arguments);this.get("disabled")||(!this._isInt(this.get("value"))||!this._isInt(this.get("step")))&&"normal"===this.get("validationState")&&this._textField.setValueInDom(this.get("value").toFixed(4));this._formattedValueSet=!1}});h._dependencies=[{mixin:g,orderDependent:!1}];
return h})},"MW/toolstrip/widgets/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dojo/query ./_SliderPropertyMixin ./_SliderKeyBoardEventMixin ../ToolstripUtils ./external/HorizontalSlider ./_TooltipMixin ./_WidgetMixin ./_ValidationMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin MW/uiframework/FocusManager".split(" "),function(h,d,g,c,f,
b,l,m,a,k,e,n,p,q,r,s,t){return h([a,b,l,k,e,n,p,q,r,s],{width:150,mnemonicKeyNavDirection:"vertical",_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=(this.maximum-this.minimum)/this.steps,e=[];a=Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum);for(b=this.minimum;b<=this.maximum;b+=d)e.push(b);d=m.getClosestValue(e,a);a=a-d[0]>d[1]-a?d[1]:d[0];this._setValueAttr(a,c)}},_setWidthAttr:function(a){this._set("width",a);this._sliderResize()},
_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._sliderResize()},_sliderResize:function(){var a,b,c;c=this.get("width");"100%"===c?void 0===this.majorTickLabels?this.getParent()&&(b=this.getParent().get("width"),this._setWidthOnChildren(b)):0<this.majorTickLabels.length?(a=f(".vc-MajorTickLabels",this.containerNode)[0],b=a.childElementCount,c=a.children[0],a=a.children[b-1],c=m.computeWidth(c.textContent),a=m.computeWidth(a.textContent),c/=2,a/=2,b=this.getParent().get("width"),
this.domNode.style.marginLeft=c+"px",this.domNode.style.marginRight=a+"px",this.domNode.style.width=b+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%",this._set("width",b)):(b=this.getParent().get("width"),this.domNode.style.marginLeft="5px",this.domNode.style.marginRight="5px",this.domNode.style.width=b+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%"):this._setWidthOnChildren(c)},_setWidthOnChildren:function(a){this.sliderTrackNode.style.width=
a-5+"px";this.containerNode.style.width=a-5+"px";this.domNode.style.marginLeft="5px";this.domNode.style.marginRight="5px"},_getDomNodeForValidationClasses:function(){return this.sliderTrackNode},constrainTicksToScaleLimits:function(a,b,c){var d=[],e=[],f;void 0===a.length&&(a=[a]);for(f=0;f<a.length;f+=1)a[f]>=b[0]&&a[f]<=b[1]&&(d[d.length]=a[f],void 0!==c&&(e[e.length]=c[f]));return void 0!==c?{ticks:d,labels:e}:{ticks:d}},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&f(".dijitRuleLabelContainerH",
this.majorTickLabelDijit.domNode).forEach(function(a){var b=-1*(m.computeWidth(a.children[0].innerHTML)/2);a.style.marginLeft=b+"px"})},postCreate:function(){this.inherited(arguments);this.own(g(this,"mouseup",d.hitch(this,function(){this.valueChanged({value:this.value});this._mouseUp=!0})));this.own(g(this,"mouseout",d.hitch(this,function(){this._mouseUp=!1})));this.own(g(this,"mousedragreleased",d.hitch(this,function(){this._emittedValue!==this.value&&!this._mouseUp&&(this.valueChanged({value:this.value}),
this._emittedValue=this.value)})));this.own(g(this,"keydown",d.hitch(this,this._handleKeyDown)))},_handleKeyDown:function(a){this.inherited(arguments);a.keyCode===c.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===c.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))},valueChanged:function(a){}})})},"MW/toolstrip/widgets/_SliderPropertyMixin":function(){define(["dojo/_base/declare"],function(h){return h(null,{_setStepsAttr:function(d){this._set("steps",
d)},_setNumberOfTicksAttr:function(d){this._set("numberOfTicks",d);var g=this.minimum,c=[];if(1<d){for(;c.length<d-1;)c.push(g),g+=(this.maximum-this.minimum)/(this.numberOfTicks-1);c.push(this.maximum);this.set("minorTicks",c)}else 1===d?(c.push((this.maximum+this.minimum)/2),this.set("minorTicks",c)):this.set("minorTicks",[])},_setLabelsAttr:function(d){var g=this.minimum,c=[];this._set("labels",d);if(0<d.length){if(1===d.length)c.push((this.minimum+this.maximum)/2);else for(;g<=this.maximum;)c.push(g),
g+=(this.maximum-this.minimum)/(this.labels.length-1);this.set("majorTicks",c);this.set("majorTickLabels",d)}else this.set("majorTicks",[]),this.set("majorTickLabels",[])}})})},"MW/toolstrip/widgets/_SliderKeyBoardEventMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/aspect","dojo/keys","../ToolstripUtils"],function(h,d,g,c,f){return h(null,{constructor:function(){this.own(g.after(this,"postCreate",this._attachKeyBoardEvent,!0))},_attachKeyBoardEvent:function(){var b;this.own(d(this,
"keyup",function(d){if(!this.get("disabled")){var g=[],a;a=[];g=(this.maximum-this.minimum)/this.steps;for(b=this.minimum;b<=this.maximum;b+=g)a.push(b);d.keyCode===c.LEFT_ARROW||d.keyCode===c.PAGE_DOWN?(g=f.getClosestValue(a,this.get("value"))[0],d=a.indexOf(g),a=0===d?a[0]:a[d-1],this.set("value",a)):d.keyCode===c.RIGHT_ARROW||d.keyCode===c.PAGE_UP?(g=f.getClosestValue(a,this.get("value"))[1],d=a.indexOf(g),a=0===d?a[1]:d===a.length-1?a[a.length-1]:a[d+1],this.set("value",a)):d.keyCode===c.END?
(a=a[a.length-1],this.set("value",a)):d.keyCode===c.HOME&&(a=a[0],this.set("value",a))}}))}})})},"MW/toolstrip/widgets/external/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/query ./_AbstractSlider ./HorizontalRule ./HorizontalRuleLabels".split(" "),function(h,d,g,c,f,b,l){return h(f,{baseClass:"vc-slider vc-horizontalSlider",width:200,height:6,_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_thumbPositionParam1:"width",_thumbPositionParam2:"left",
_isScaleDirectionReverse:!1,orientation:"horizontal",getRuleLabelConstructor:function(){return l},_setWidthAttr:function(b){this.sliderTrackNode.style.width=b+"px";this.containerNode.style.width=b+"px";this._set("width",b)},getRuleConstructor:function(){return b},postCreate:function(){this.inherited(arguments);this.own(this.watch("width",d.hitch(this,"_adjustThumbPosition")),this.watch("fontSize",d.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontWeight",d.hitch(this,"_adjustLabelContainerPositioning")),
this.watch("fontFamily",d.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontStyle",d.hitch(this,"_adjustLabelContainerPositioning")))},_setMajorTickLabelsAttr:function(b){this.inherited(arguments);this._adjustLabelContainerPositioning()},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&c(".dijitRuleLabelContainerH",this.majorTickLabelDijit.domNode).forEach(function(b){var a=-1*(g.position(b).w/2);b.style.marginLeft=a+"px"})},_computePreferredWidth:function(){var b,
a;b=this.width+this.sliderThumbSize.w;a=this._computePreferredWidthOfMajorTickLabels();return Math.max(b,a)},_computePreferredX:function(){var b=this._adjustTrackAndContainerOffset();return this.location[0]-b},_computePreferredHeight:function(){var b=this._getDomNodeOfWidgetAtEnd();b&&(this._bottomWidgetPosition=g.position(b));return(b?this._bottomWidgetPosition.y+this._bottomWidgetPosition.h:this.sliderThumbSize.y+this.sliderThumbSize.h)-this.sliderThumbSize.y},_computePreferredY:function(){var b;
b=g.position(this.sliderTrackNode);this._bottomWidgetPosition?(b=this._bottomWidgetPosition.y-b.y-b.h+this._bottomWidgetPosition.h,this._bottomWidgetPosition=null):b=this.sliderThumbSize.h/3;return this.location[1]-b},_computePreferredWidthOfMajorTickLabels:function(){var b=0;if(this.majorTickLabelDijit)var b=c(".dijitRuleLabel",this.containerNode),a=0,a=g.position(b[0]),d=g.position(this.sliderTrackNode),a=a.x<d.x-this.sliderThumbSize.w/2?a.x:d.x-this.sliderThumbSize.w/2,b=g.position(b[b.length-
1]),b=b.x-a+b.w;return b},_adjustTrackAndContainerOffset:function(){var b=c(".dijitRuleLabel",this.containerNode),a=this.sliderThumbSize.w/2;if(0===b.length)a=this.sliderThumbSize.w/2;else{for(var d=[],e=0;e<b.length;e+=1)d[e]=g.position(b[e]).x;d=Math.min.apply(null,d);b=g.position(this.sliderTrackNode);d<b.x-this.sliderThumbSize.w/2&&(a=b.x-d)}this.sliderTrackNode.style.left=a+"px";this.containerNode.style.left=a+"px";return a}})})},"MW/toolstrip/widgets/external/_AbstractSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/_base/event dijit/focus dijit/form/_FormValueWidget dijit/_Container dojo/text!./templates/Slider.html dojo/dnd/Moveable ./_SliderThumbMover".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return h([b,l],{templateString:m,sliderTrackNode:null,sliderThumbNode:null,value:0,maximum:100,minimum:0,THUMB_WIDTH:14,preferredSize:{width:0,height:0,left:0,bottom:0},_setHeightAttr:function(a){this.sliderTrackNode.style.height=a+"px";this._set("height",a)},_setOuterWidthAttr:function(a){this.domNode.style.width=a+"px"},_setOuterHeightAttr:function(a){this.domNode.height=a+"px"},_setLocationAttr:function(a){this._set("location",a)},_setPixelValue:function(a,b,c){!this.disabled&&
!this.readOnly&&this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum),c)},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.inherited(arguments)},_setMinimumAttr:function(a){this._set("minimum",a)},_setMaximumAttr:function(a){this._set("maximum",a)},_setMajorTicksAttr:function(a){if(this.majorTickDijit&&(this.majorTickDijit.destroy(),this.majorTickDijit=null,0===a.length)){this._set("majorTicks",a);return}var b=this.constrainTicksToScaleLimits(a,
[this.get("minimum"),this.get("maximum")]),c=this.getRuleConstructor();0===b.ticks.length?this._set("majorTicks",a):(this._set("majorTicks",b.ticks.slice(0)),this.majorTickDijit=new c({"class":"vc-MajorTickMarks",ticks:this.majorTicks,minimum:this.minimum,maximum:this.maximum,count:this.majorTicks.length}),this.majorTickDijit.placeAt(this.containerNode))},_setMinorTicksAttr:function(a){if(this.minorTickDijit&&(this.minorTickDijit.destroy(),this.minorTickDijit=null,0===a.length)){this._set("minorTicks",
a);return}var b=this.constrainTicksToScaleLimits(a,[this.get("minimum"),this.get("maximum")]),c=this.getRuleConstructor();0===b.ticks.length?this._set("minorTicks",a):(this._set("minorTicks",b.ticks.slice(0)),this.minorTickDijit=new c({"class":"vc-MinorTickMarks",count:this.minorTicks.length,ticks:this.minorTicks,minimum:this.minimum,maximum:this.maximum}),this.minorTickDijit.placeAt(this.containerNode))},_setMajorTickLabelsAttr:function(a){this.majorTickLabelDijit&&(this.majorTickLabelDijit.destroy(),
this.majorTickLabelDijit=null);if(0===a.length||0===a.join("").trim().length)this._set("majorTickLabels",a);else{var b=this.constrainTicksToScaleLimits(this.get("majorTicks"),[this.get("minimum"),this.get("maximum")],a),c=this.getRuleLabelConstructor();0===b.labels.length?this._set("majorTickLabels",a):(this._set("majorTickLabels",b.labels.slice(0)),this.majorTickLabelDijit=new c({"class":"vc-MajorTickLabels",minimum:this.minimum,maximum:this.maximum,labels:this.majorTickLabels,count:this.majorTickLabels.length,
ticks:this.majorTicks}),this.majorTickLabelDijit.placeAt(this.containerNode))}},_onTrackClick:function(a){if(!this.disabled&&!(this.readOnly||a.target===this.sliderThumbNode)){f.focus(this.sliderThumbNode);c.stop(a);var b=g.position(this.sliderTrackNode),d=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._isScaleDirectionReverse&&(d=b[this._pixelCount]-d);this._setPixelValue(d,b[this._pixelCount],!0);this.emit("mouseclicked");this._thumbMoveable.onMouseDown(a)}},postCreate:function(){this.inherited(arguments);
var b=h(k,{widget:this});this._thumbMoveable=new a(this.sliderThumbNode,{mover:b});this.own(this.watch("value",d.hitch(this,"_adjustThumbPosition")));this.own(this.watch("minimum",d.hitch(this,"_adjustThumbPosition")));this.own(this.watch("maximum",d.hitch(this,"_adjustThumbPosition")));this._adjustThumbPosition()},_adjustThumbPosition:function(){var a=(this.value-this.minimum)/(this.maximum-this.minimum),a=100*a-100*(this.THUMB_WIDTH/this[this._thumbPositionParam1]/2);this.sliderThumbNode.style[this._thumbPositionParam2]=
a+"%"},computePreferredSize:function(){var a,b,c,d;this.sliderThumbSize=g.position(this.sliderThumbNode);c=this._computePreferredWidth();a=this._computePreferredX();d=this._computePreferredHeight();b=this._computePreferredY();this.set("preferredSize",{width:c,height:d,left:a,bottom:b})},_getDomNodeOfWidgetAtEnd:function(){var a;this.majorTickLabelDijit?a=this.majorTickLabelDijit.domNode:this.majorTickDijit?a=this.majorTickDijit.domNode:this.minorTickDijit&&(a=this.minorTickDijit.domNode);return a}})})},
"MW/toolstrip/widgets/external/_SliderThumbMover":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dnd/Mover"],function(h,d,g){return h(g,{onMouseMove:function(c){var f=this.widget,b=f._sliderTrackDimensions;b||(b=f._sliderTrackDimensions=d.position(f.sliderTrackNode,!0));c=c[f._mousePixelCoord]-b[f._startingPixelCoord];f._isScaleDirectionReverse&&(c=b[f._pixelCount]-c);f._setPixelValue(c,b[f._pixelCount],!1);this._wasDragged=!0;f.emit("mousedragging")},onMouseUp:function(){var c=
this.widget;this._wasDragged?(c.emit("mousedragreleased"),this._wasDragged=!1):c.emit("mouseclicked");this.inherited(arguments)},destroy:function(){this.widget._sliderTrackDimensions=null;this.inherited(arguments)}})})},"MW/toolstrip/widgets/external/HorizontalRule":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(h,d,g){return h("dijit.form.HorizontalRule",[d,g],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,
container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',ticks:null,minimum:0,maximum:100,_isHorizontal:!0,isAddQeIdForTickBased:!0,_qeIdSuffix:"id\x3d",_genHTML:function(c,d){var b="";this.isAddQeIdForTickBased&&this.ticks&&(b='"'+this._qeIdSuffix+'"'+this["class"]+"_"+this.ticks[d]);return this._positionPrefix+c+this._positionSuffix+this.ruleStyle+b+this._suffix},buildRendering:function(){this.inherited(arguments);
var c="",d,b;if(this.ticks){b=this.maximum-this.minimum;for(d=0;d<this.count;d+=1)c+=this._genHTML(100*((this.ticks[d]-this.minimum)/b),d)}else{c=this._genHTML(0,0);b=100/(this.count-1);for(d=1;d<this.count-1;d+=1)c+=this._genHTML(b*d,d);c+=this._genHTML(100,this.count-1)}this.domNode.innerHTML=c}})})},"MW/toolstrip/widgets/external/HorizontalRuleLabels":function(){define(["dojo/_base/declare","dojo/number","dojo/query","./HorizontalRule"],function(h,d,g,c){return h("dijit.form.HorizontalRuleLabels",
c,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"',_suffix:"\x3c/div\x3e\x3c/div\x3e",_qeIdSuffix:"id\x3d",_calcPosition:function(c){return c},_genHTML:function(c,
b){var d=this._qeIdSuffix+'"'+this["class"]+"_"+this.labels[b]+'"\x3e';return this._positionPrefix+this._calcPosition(c)+this._positionSuffix+this.labelStyle+this._labelPrefix+d+this.labels[b]+this._suffix},getLabels:function(){var c=this.labels,b,h,m;!c.length&&this.srcNodeRef&&(c=g("\x3e li",this.srcNodeRef).map(function(a){return String(a.innerHTML)}));if(!c.length&&1<this.count){b=this.minimum;h=(this.maximum-b)/(this.count-1);for(m=0;m<this.count;m+=1)c.push(m<this.numericMargin||m>=this.count-
this.numericMargin?"":d.format(b,this.constraints)),b+=h}return c},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length}})})},"MW/toolstrip/form/RadioButton":function(){define("dojo/_base/declare mw-form/RadioButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){return h(e.validate([d,g,c,f,b,l,m,a,k]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/form/CheckBox":function(){define("dojo/_base/declare mw-form/CheckBox MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(h,d,g,c,f,b,l,m,a,k){return h(k.validate([d,g,c,f,b,l,m,a]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/widgets/ToolbarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/ToolbarWrapper.html ./_WidgetMixin".split(" "),function(h,d,g,c,f,b){return h([d,g,c,b],{templateString:f})})},"MW/toolstrip/widgets/MenubarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/MenubarWrapper.html ./_WidgetMixin".split(" "),
function(h,d,g,c,f,b){return h([d,g,c,b],{templateString:f})})},"MW/toolstrip/widgets/gallery/GalleryItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-geometry dojo/dom-construct dojo/_base/window dojo/on dojo/mouse dojo/touch dijit/popup dijit/_WidgetBase dijit/_CssStateMixin dijit/_TemplatedMixin dojo/text!./templates/GalleryItem.html ../../constants/gallery/GalleryViewConstants ../../constants/gallery/ItemLocationConstants ../../constants/TypeConstants mw-mixins/property/IconMixin ../_TooltipMixin ../_WidgetMixin mw-mixins/event/ChangeEventMixin mw-mixins/property/DisabledMixin mw-mixins/AccessibilityClickMixin MW/toolstrip/ToolstripUtils MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D){return h([e,n,p,u,x,w,v,z,y,B,D],{baseClass:"mwWidget mwGalleryItem",templateString:q,constructor:function(a){a=a||{};this.disabled=!!a.disabled;this._favButtonClickConnection=null;this._handleFavButtonClick=d.hitch(this,function(){this.favButtonPushed()})},postCreate:function(){var a=this;this.own(l(this.itemWrapperNode,"click",function(){a.disabled||a.itemPushed()}));this.inherited(arguments);this.attachFavButtonClickHandler()},_setIsFavoriteAttr:function(a){a?
this.domNode.classList.add("isFavorite"):this.domNode.classList.remove("isFavorite");this._set("isFavorite",a)},_setDisplayStateAttr:function(a){var b=this.getParent(),b=b&&b.getParent();if(!b||!(b.get("type")===t.GALLERY_POPUP&&b.get("displayState")!==a))this._set("displayState",a),this._updateItemDimensions(),this._updateText(),"DATA_URI"===this._getIconType(this.icon)&&this._updateIconNodeSize()},_updateItemDimensions:function(){this.displayState===r.LIST?this.domNode.style.width="auto":this._getPropertyFromAncestor("galleryItemWidth")&&
(this.domNode.style.width=this._getPropertyFromAncestor("galleryItemWidth")+"px")},attachFavButtonClickHandler:function(){this._favButtonClickConnection=l(this.favButtonNode,"click",this._handleFavButtonClick)},detachFavButtonClickHandler:function(){this._favButtonClickConnection&&(this._favButtonClickConnection.remove(),this._favButtonClickConnection=null)},_setTextAttr:function(a){this._set("text",a);this._updateText()},_setTextOverrideAttr:function(a){this._set("textOverride",a);this._updateText()},
_updateText:function(){var a;this.textOverride?a=this.textOverride:this.text&&(a=this.text);a&&(this.displayState===r.LIST&&(a=a.replace(/\n/g," "),this.shortcut&&(a=a+" "+this.shortcut)),this.labelNode.textContent=a,this._updateTooltip())},_getLocation:function(){var a=this.getParent(),b=!1;if(a)switch(a.type){case t.GALLERY_CATEGORY:b=s.CATEGORY;break;case t.GALLERY_FAVORITE_CATEGORY:b=s.FAVORITES;break;case t.GALLERY:b=s.GALLERY}return b},_getPropertyFromAncestor:function(a){var b=!1,c=this._getLocation();
if(c===s.GALLERY)b=this.getParent()[a];else if(c===s.CATEGORY||c===s.FAVORITES)this.getParent().getParent()&&(b=this.getParent().getParent()[a]);return b},itemPushed:function(){!1!==this.get("closePopupOnClick")&&k.close()},favButtonPushed:function(){},_setIconAttr:function(a){this.inherited(arguments);this.iconNode.classList.remove("dijitInline");"DATA_URI"===this._getIconType(a)&&this._updateIconNodeSize()},_updateIconNodeSize:function(){var a,b,c,d;this.icon&&1===this._getPropertyFromAncestor("galleryItemRowCount")&&
(d=this.iconNode,a=f.create("img",{src:this.icon.replace(/"/g,"").replace(/url\(|\)$/ig,"")}),b=this._getPropertyFromAncestor("galleryItemWidth"),g.after(a,"onload",function(){c=a.width>b-4?b-4:a.width;d.style.width=c+"px";d.style.height=a.height+"px"}))},_qeClick:function(){this.itemPushed()},_qeFavoriteClick:function(){this._handleFavButtonClick()}})})},"MW/toolstrip/constants/gallery/ItemLocationConstants":function(){define([],function(){return{GALLERY:"Gallery",FAVORITES:"Favorites",CATEGORY:"Category"}})},
"MW/toolstrip/widgets/gallery/ToggleGalleryItem":function(){define("dojo/_base/declare ./GalleryItem ../../constants/TypeConstants mw-mixins/event/ChangeEventMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(h,d,g,c,f,b,l,m){return h([d,c,f,b,l,m],{baseClass:"mwWidget mwToggleGalleryItem",postCreate:function(){this.set("checkableNode",this.itemWrapperNode);this.inherited(arguments)},
_setCheckedAttr:function(){this.inherited(arguments);if(!this._destroyed){var a=this.getParent(),b=null;a&&(a.type===g.GALLERY&&a.scrollToSelection?a.getChildren().some(function(a){return!0===a.get("checked")},this)||a.refresh():(b=a.getParent())&&b.type===g.GALLERY_POPUP&&b.scrollToSelection&&this.checked&&!b._invokingGallery.getChildren().some(function(a){return a.get("actionId")===this.get("actionId")},this)&&b.galleryStateChanged())}}})})},"MW/uiframework/hashes/ControlEventsHash":function(){define(["dojo/_base/lang",
"MW/toolstrip/hashes/ControlEventsHash"],function(h,d){var g={};h.mixin(g,d);return g})},"MW/toolstrip/hashes/ControlEventsHash":function(){define(["../constants/TypeConstants"],function(h){var d={};d[h.TOOLSTRIP]={actionEvents:[],componentEvents:["toolstripPlaced"]};d[h.TAB]={actionEvents:[],componentEvents:["remove"]};d[h.PUSH_BUTTON]={actionEvents:["buttonPushed"],componentEvents:[]};d[h.QAB]={actionEvents:[],componentEvents:["restoreFactoryControls"]};d[h.QAB_PUSH_BUTTON]=d[h.PUSH_BUTTON];d[h.TOGGLE_BUTTON]=
{actionEvents:[],componentEvents:[]};d[h.QAB_TOGGLE_BUTTON]=d[h.TOGGLE_BUTTON];d[h.DROP_DOWN_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};d[h.QAB_DROP_DOWN_BUTTON]=d[h.DROP_DOWN_BUTTON];d[h.SPLIT_BUTTON]={actionEvents:["buttonPushed"],componentEvents:["dropDownPerformed"]};d[h.COLOR_PICKER_BUTTON]={actionEvents:["valueChanged"],componentEvents:[]};d[h.QAB_SPLIT_BUTTON]=d[h.SPLIT_BUTTON];d[h.TOGGLE_SPLIT_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};d[h.QAB_TOGGLE_SPLIT_BUTTON]=
d[h.TOGGLE_SPLIT_BUTTON];d[h.COMBO_BOX]={actionEvents:"dropDownPerformed focusGained focusLost typing textCancelled recommit".split(" "),componentEvents:[]};d[h.POPUP_LIST]={actionEvents:[],componentEvents:["onOpen","onClose"]};d[h.LIST_ITEM]={actionEvents:["itemPushed"],componentEvents:["remove"]};d[h.LIST_ITEM_WITH_POPUP]={actionEvents:[],componentEvents:["dropDownPerformed"]};d[h.LIST_ITEM_WITH_CHECKBOX]={actionEvents:[],componentEvents:["closeRequest"]};d[h.TEXT_FIELD]={actionEvents:["focusGained",
"focusLost","typing","textCancelled","recommit"],componentEvents:[]};d[h.TEXT_AREA]={actionEvents:["focusGained","focusLost"],componentEvents:[]};d[h.LIST_ITEM_WITH_TEXTFIELD]={actionEvents:"focusGained focusLost typing commit recommit textCancelled itemPushed".split(" "),componentEvents:[]};d[h.HORIZONTAL_SLIDER]={actionEvents:["valueChanged"],componentEvents:[]};d[h.SPINNER]={actionEvents:["valueChanged","recommit"],componentEvents:[]};d[h.GALLERY]={actionEvents:[],componentEvents:["refresh"]};
d[h.GALLERY_POPUP]={actionEvents:[],componentEvents:["galleryStateChanged"]};d[h.GALLERY_CATEGORY]={actionEvents:[],componentEvents:["categoryMoved"]};d[h.GALLERY_FAVORITE_CATEGORY]={actionEvents:[],componentEvents:["itemMoved"]};d[h.GALLERY_ITEM]={actionEvents:["itemPushed"],componentEvents:["favButtonPushed","remove"]};d[h.TOGGLE_GALLERY_ITEM]={actionEvents:[],componentEvents:["favButtonPushed","remove"]};d[h.QA_GROUP]={actionEvents:[],componentEvents:["itemMoved"]};d[h.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=
d[h.SPLIT_BUTTON];return d})},"MW/uiframework/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash"],function(h,d){var g={};h.mixin(g,d);Object.keys(g).forEach(function(c){Object.keys(g[c]).forEach(function(d){g[c][g[c][d]]=d})});return g})},"MW/toolstrip/hashes/PeerNodeWidgetEventsHash":function(){define(["../constants/TypeConstants"],function(h){var d={};d[h.PUSH_BUTTON]={buttonPushed:"click"};d[h.DROP_DOWN_BUTTON]={dropDownPerformed:"dropdownclick"};
d[h.SPLIT_BUTTON]={dropDownPerformed:"dropdownclick",buttonPushed:"click"};d[h.COLOR_PICKER_BUTTON]={valueChanged:"change"};d[h.TOGGLE_SPLIT_BUTTON]={dropDownPerformed:"dropdownclick"};d[h.QAB_PUSH_BUTTON]=d[h.PUSH_BUTTON];d[h.QAB_DROP_DOWN_BUTTON]=d[h.DROP_DOWN_BUTTON];d[h.QAB_SPLIT_BUTTON]=d[h.SPLIT_BUTTON];d[h.QAB_TOGGLE_SPLIT_BUTTON]=d[h.TOGGLE_SPLIT_BUTTON];d[h.TEXT_FIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",textCancelled:"textcancelled"};d[h.TEXT_AREA]={focusGained:"focusgained",
focusLost:"focuslost"};d[h.COMBO_BOX]={focusGained:"focus",focusLost:"blur",typing:"typing",textCancelled:"textcancelled",dropDownPerformed:"dropdownclick"};d[h.POPUP_LIST]={onOpen:"open",onClose:"close"};d[h.SPINNER]={valueChanged:"change"};d[h.LIST_ITEM]={itemPushed:"click"};d[h.LIST_ITEM_WITH_TEXTFIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",commit:"commit",recommit:"recommit",textCancelled:"textcancelled",itemPushed:"itempushed"};d[h.LIST_ITEM_WITH_POPUP]={dropDownPerformed:"dropdownclick"};
d[h.LIST_ITEM_WITH_CHECKBOX]={closeRequest:"closeRequest"};return d})},"MW/toolstrip/hashes/ToolstripCollapseTriggers":function(){define(["../constants/TypeConstants"],function(h){var d={};d[h.PUSH_BUTTON]={events:["buttonPushed"],properties:[]};d[h.SPLIT_BUTTON]={events:["buttonPushed"],properties:[]};d[h.TOGGLE_BUTTON]={events:[],properties:["checked"]};d[h.LIST_ITEM]={events:["itemPushed"],properties:[]};d[h.LIST_ITEM_WITH_CHECKBOX]={events:["closeRequest"],properties:[]};d[h.COMBO_BOX]={events:[],
properties:["value"]};d[h.CHECK_BOX]={events:[],properties:["checked"]};d[h.RADIO_BUTTON]={events:[],properties:["checked"]};d[h.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]={events:["buttonPushed"],properties:[]};d[h.GALLERY_ITEM]={events:["itemPushed"],properties:[]};d[h.TOGGLE_GALLERY_ITEM]={events:[],properties:["checked"]};return d})},"MW/uiframework/supportedUIBuilderFunctions":function(){define({fromModelManager:"create destroy add remove get set exists indexOf getChildrenIds getParentId isAnOrphan addEventCallback addPropertySetCallback createPopupsFromConfig addTabGroupFromConfig createGalleryPopupFromConfig addGalleryItemToFavorites removeGalleryItemFromFavorites getGalleryState setGalleryState getQABState setQABState widgetByTag tagToId showPopup addToolstripFromConfig placeToolstripAt selectTab selectFirstTabInTabGroup getMenubarWrapperWidget getToolbarWrapperWidget".split(" "),
fromWidgetManager:["refreshGallery","isAnyPopupOpen","closeAllOpenPopups"]})},"MW/uiframework/contextmanager/TabGroupManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/dom-class","MW/uiframework/UIBuilderFactory"],function(h,d,g,c,f){return h(null,{constructor:function(b){this._contextManagerImpl=b.contextManagerImpl;this._toolstripId=b.contextManagerImpl.toolstripId;this._toolstripWidget=g.byId(this._toolstripId);this._uiBuilder=b.uiBuilder||f.getInstance();
this._registeredTabGroups={};this._lastSelectedTabId=this._lastValidContext=null;this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",d.hitch(this,this._currentContextChangedCallback)));this._handles.push(this._uiBuilder.addPropertySetCallback(this._toolstripId,d.hitch(this,this._selectedTabChangedCallback)))},registerTabGroups:function(b){this._registeredTabGroups[b.appId]||(this._registeredTabGroups[b.appId]={});this._registeredTabGroups[b.appId][b.contextId]||(this._registeredTabGroups[b.appId][b.contextId]=
{});this._registeredTabGroups[b.appId][b.contextId].tabGroupTags=b.tabGroupTags;b.appId===this._contextManagerImpl.parentAppId&&"global"===b.contextId&&this._addTabGroups(b.appId,b.contextId)},unregisterTabGroups:function(b){this._registeredTabGroups[b.appId]&&(this._registeredTabGroups[b.appId][b.contextId]?delete this._registeredTabGroups[b.appId][b.contextId]:delete this._registeredTabGroups[b.appId])},resetLastSelectedTab:function(b){this._registeredTabGroups[b.appId]&&(this._registeredTabGroups[b.appId][b.contextId]?
this._registeredTabGroups[b.appId][b.contextId].lastSelectedTabId=null:Object.keys(this._registeredTabGroups[b.appId]).forEach(function(c){this._registeredTabGroups[b.appId][c].lastSelectedTabId=null},this))},_currentContextChangedCallback:function(b,c,f){this._previouslySelectedTabId=this._uiBuilder.get(this._toolstripId,"selectedTab");if(!(JSON.stringify(c)===JSON.stringify(f)||null===f||void 0===f)&&this._registeredTabGroups[f.appId])this._lastValidContext=this._contextManagerImpl.get("currentContext"),
this._registeredTabGroupsForNewApp=d.clone(this._registeredTabGroups[f.appId]),this.removeAllContextualTabGroups(),f.contextIdList&&f.contextIdList.forEach(function(a){f.appId===this._contextManagerImpl.parentAppId&&"global"===a||this._addTabGroups(f.appId,a);this._contextManagerImpl.alternativeContextMemory||this._selectAppropriateTab(f.appId,a)},this),this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(f.appId)},removeAllContextualTabGroups:function(){this._ignoreSelectedTabChange=
!0;this._toolstripWidget._ignoreResize=!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(b){this._isAGlobalTabGroupOfParentApp(b)||this._uiBuilder.remove(b)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,"global")},removeContextualTabGroupsOfAppId:function(b){this._ignoreSelectedTabChange=!0;this._toolstripWidget._ignoreResize=
!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(c){-1<this._getAllRegisteredTabGroupTags(b).indexOf(this._uiBuilder.get(c,"tag"))&&this._uiBuilder.remove(c)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,"global")},_getAllRegisteredTabGroupTags:function(b){var c=[];this._registeredTabGroups[b]&&
Object.keys(this._registeredTabGroups[b]).forEach(function(d){c=c.concat(this._registeredTabGroups[b][d].tabGroupTags)},this);return c},_addTabGroups:function(b,f){this._registeredTabGroups[b]&&this._registeredTabGroups[b][f]&&(this._ignoreSelectedTabChange=!0,this._toolstripWidget._ignoreResize=!0,this._registeredTabGroups[b][f].tabGroupTags.forEach(function(b){this._uiBuilder.add(this._uiBuilder.tagToId(b),this._toolstripId)},this),this._ignoreSelectedTabChange=!1,this._toolstripWidget._ignoreResize=
!1,b===this._contextManagerImpl.parentAppId&&"global"===f||this._registeredTabGroups[b][f].tabGroupTags.forEach(d.hitch(this,function(b){b=this._uiBuilder.tagToId(b);this._uiBuilder.getChildrenIds(b).forEach(function(a){c.add(g.byId(a).controlButton.domNode,"toolstripContextualTab")})})))},_selectAppropriateTab:function(b,c){if(this._registeredTabGroups[b])if(this._contextManagerImpl.alternativeContextMemory)this._lastSelectedTabId&&!this._uiBuilder.isAnOrphan(this._lastSelectedTabId)?(this._uiBuilder.set(this._toolstripId,
"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",this._lastSelectedTabId)):this._registeredTabGroups[b].global&&(this._registeredTabGroups[b].global.tabGroupTags&&0<this._registeredTabGroups[b].global.tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[b].global.tabGroupTags[0],this._toolstripId);else if(this._registeredTabGroups[b][c]){var d=this._registeredTabGroupsForNewApp&&this._registeredTabGroupsForNewApp[c].lastSelectedTabId;!d||this._uiBuilder.isAnOrphan(d)?
this._registeredTabGroups[b]&&(this._registeredTabGroups[b][c]&&this._registeredTabGroups[b][c].tabGroupTags&&0<this._registeredTabGroups[b][c].tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[b][c].tabGroupTags[0],this._toolstripId):this._isAGlobalTab(this._previouslySelectedTabId,b)?this._isAGlobalTab(d,b)?this._uiBuilder.set(this._toolstripId,"selectedTab",this._previouslySelectedTabId):this._uiBuilder.set(this._toolstripId,"selectedTab",d):(this._uiBuilder.set(this._toolstripId,
"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",d))}},_selectedTabChangedCallback:function(b){!this._ignoreSelectedTabChange&&"selectedTab"===b.property&&(this._contextManagerImpl.alternativeContextMemory?this._lastSelectedTabId=b.newValue:this._lastValidContext&&(this._registeredTabGroups[this._lastValidContext.appId]&&this._lastValidContext.contextIdList)&&this._lastValidContext.contextIdList.forEach(function(c){this._registeredTabGroups[this._lastValidContext.appId][c]&&this._registeredTabGroups[this._lastValidContext.appId][c].tabGroupTags&&
(this._registeredTabGroups[this._lastValidContext.appId][c].lastSelectedTabId=b.newValue)},this))},_isAGlobalTabGroupOfParentApp:function(b){var c=!1;b=this._uiBuilder.get(b,"tag");this._contextManagerImpl.parentAppId&&this._registeredTabGroups[this._contextManagerImpl.parentAppId]&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags&&(c=-1<this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags.indexOf(b));
return c},_isAGlobalTab:function(b,c){var d=!1;return d=this._contextManagerImpl.parentAppId?this._isAChildOfRegisteredTabGroups(b,this._contextManagerImpl.parentAppId,"global"):this._isAChildOfRegisteredTabGroups(b,c,"global")},_isAChildOfRegisteredTabGroups:function(b,c,d){var a=!1;this._registeredTabGroups[c][d].tabGroupTags&&(b=this._uiBuilder.getParentId(b),b=this._uiBuilder.get(b,"tag"),-1<this._registeredTabGroups[c][d].tabGroupTags.indexOf(b)&&(a=!0));return a},cleanup:function(){this._handles.forEach(function(b){b.remove()})}})})},
"variableeditor/ClientPeerDocument":function(){define("variableeditor/ClientPeerDocument","dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dijit/layout/ContentPane variableeditor/VariableEditorUtils variableeditor/ContextPublishingUtils variableeditor/_ArgumentsMixin mw-peermodel/Observable mw-log/Log dojo/dom-construct dojo/dom-class dojo/dom-style dojo/query dojo/dom-geometry dojo/Deferred dojo/topic mw-browser-utils/BrowserUtils dojo/on variableeditor/views/SummaryBar datatoolsservices/CmdLineCodePublishService dojo/text!variableeditor/ClientPeerDocument.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v){return h("variableeditor.ClientPeerDocument",[c,l,g,m.Impl],{allArgs:{},varName:"",varDocID:"",userContext:{},clientPeerView:null,viewListeners:[],clientPeerManager:[],dataTagRoot:"",resizeBehaviour:"default",summaryBar:null,showSummaryBar:!0,templateString:v,varSize:"",varType:"",varSecondaryType:"",varSecondaryStatus:"",requestFocusOnStart:!0,cmdLineCodePublishSvc:null,cmdLineCodeEnabled:!1,constructor:function(a){this.allArgs={};this.userContext=
{};this.clientPeerView=null;this.viewListeners=[];this.clientPeerManager=[];this.varType=this.varSize=this.varName=this.dataTagRoot="";this.init(a)},init:function(a){if(a&&(this.allArgs=a,this.contextChannel=a.contextUpdateChannel||"",this.currentContext=a.contextId||"",this.setArgument("documentNode",this.allArgs),this.setArgument("rootNode",this.allArgs),this.setArgument("executionService",this.allArgs),this.allArgs.resizeBehaviour||(this.allArgs.resizeBehaviour=this.resizeBehaviour),this.setArgumentWithDefault("editable",
this.allArgs,!0),this.setArgumentWithDefault("resizeBehaviour",this.allArgs,"default"),this.setArgumentWithDefault("requestFocusOnStart",this.allArgs,!0),this.setArgumentWithDefault("showSummaryBar",this.allArgs,!0),this.setArgumentWithDefault("cssSpecifier",this.allArgs,""),this.setArgumentWithDefault("userContext",this.allArgs,{}),this.setArgumentWithDefault("clientPeerManager",this.allArgs,{}),this.setArgumentWithDefault("dataTagRoot",this.allArgs,""),a.rootNode&&a.rootNode.getProperty)){var c=
a.rootNode.getProperty("VECmdLineCodeGenEnabled");this.cmdLineCodeEnabled=c&&c.VECmdLineCodeGenEnabled?c.VECmdLineCodeGenEnabled:!1;a.rootNode.addEventListener("propertySet",d.hitch(this,"_handleRootPropertySet"))}var g=this;if(g.documentNode&&g.documentNode.hasProperty("name")&&g.documentNode.hasProperty("docID")){g.varName=g.documentNode.getProperty("name");g.varSize=g.documentNode.getProperty("size");g.varType=g.documentNode.getProperty("type");g.varSecondaryType=g.documentNode.getProperty("secondaryType");
g.varSecondaryStatus=g.documentNode.getProperty("secondaryStatus");g.varDocID=g.documentNode.getProperty("docID");g.userContext=g.documentNode.hasProperty("userContext")?g.documentNode.getProperty("userContext"):{};g.onClose=function(){f.logDebug("VE: Document Closed");g.clientPeerManager&&g.clientPeerManager.removeFocusedDocument(g);g.rootNode.dispatchEvent("peerEvent",g.rootNode,{type:"RemoveDocument",variable:g.varName,workspace:g.documentNode.getProperty("workspace")})};g.onShow=function(){g.domNode&&
!g.domNode.hasAttribute("data-tag")&&(g.dataTagRoot?g.domNode.setAttribute("data-tag",f.concatenateDataTagStrings(g.dataTagRoot,"document",g.varName)):g.domNode.setAttribute("data-tag",f.createDataTag("document",g.varName)));g.clientPeerManager&&(g.requestFocusOnStart&&g.clientPeerManager.setFocusedDocument(g),g.domNode.setAttribute("data-ManagerChannel",g.clientPeerManager.channel))};g.onFocus=function(){if(g.clientPeerManager){var a=[g.currentContext];g.varType&&a.push(g.varType);b.addToContext(g.contextChannel,
a,!1);g.clientPeerManager.setFocusedDocument(g)}};g.onBlur=function(){g.clientPeerManager&&g.clientPeerManager.removeFocusedDocument(g)};g.documentNode.addEventListener("childAdded",function(a){var b=a.data.child;a=a.target.getProperty("name");var c=b.getProperty("Editor");g._addView(c,g,b,a)});if(g.documentNode.getChildren&&0<g.documentNode.getChildren().length){a=g.documentNode.getChildren()[0];var c=g.documentNode.getProperty("name"),k=a.getProperty("Editor");g._addView(k,g,a,c)}g.documentNode.addEventListener("childRemoved",
function(a){g._removeView(g,a.data.child)});g.showSummaryBar&&(g.documentNode.addEventListener("propertySet",d.hitch(g,"_handlePropertySet")),g.summaryBar&&(g.summaryBar.setName(g.varName),g.summaryBar.setSize(g.varSize),g.summaryBar.setSecondaryType(g.varSecondaryType),g.summaryBar.setType(g.varType),g.summaryBar.setStatus(g.varSecondaryStatus),g.summaryBar.setStatusRef(g.varSecondaryStatus),g.summaryBar.initServices(g.allArgs.executionService,g.allArgs.helpDataService)));this.domNode&&e.add(this.domNode,
"fullWidthHeight")}},_updateCssStyle:function(){var a=this.domNode.getElementsByClassName("clientPeerViewDiv")[0];e.add(a,"hasSummaryBar")},_addView:function(b,c,d,e,g){try{f.logDebug("VE: Attempting module load of "+b),require([b],function(a){f.logDebug("VE: Loaded class "+b);c.clientPeerView=new a;var h=c.domNode.getElementsByClassName("clientPeerViewDiv");a=c;h&&h.hasOwnProperty(0)&&(h=h[0],a={domNode:h,addChild:function(a){k.place(a.domNode,h,"last")}});c.allArgs=f.mergeObjects(c.allArgs,{peerNode:d,
varName:e,container:a});c.clientPeerView.init(c.allArgs);c.resize();f.logDebug("VE: Dispatching Event viewAdded ");c.dispatchEvent("viewAdded",c.domNode,{peerDoc:c,peerView:c.clientPeerView});g&&g("success");c.cmdLineCodePublishSvc=new w({executionService:c.executionService,context:"VariableEditor/"+e,enabled:c.cmdLineCodeEnabled})}),f.logDebug("VE: Passed required module load.")}catch(h){a.error(h),a.error(h.stack),g&&g("error",h)}},_removeView:function(a,b){f.logDebug("VE: childRemoved listener fired");
a.dispatchEvent("viewRemoved",a.domNode,{peerDoc:a,peerView:a.clientPeerView});a&&a.clientPeerView&&(f.logDebug("VE: destroying the clientPeerView"),a.clientPeerView.destroy(),f.logDebug("VE: destroyed the clientPeerView"));if(a.domNode){var c=a.domNode.getElementsByClassName("clientPeerViewDiv");c&&c.hasOwnProperty(0)&&(c=c[0],k.empty(c))}b&&b.destroy();this.cmdLineCodePublishSvc&&this.cmdLineCodePublishSvc.unregister();a.clientPeerView={}},postCreate:function(){var a=this;this.own(u(window,"resize",
function(){a.resize&&a.resize()}));this.showSummaryBar&&(this.setSummaryBar(),this._updateCssStyle())},getView:function(a){if(a)return this.clientPeerView;var b=!1,c=new r(function(){b=!0});if(this.clientPeerView)c.resolve(this.clientPeerView);else{var d=this,e=function(){d.removeEventListener("viewAdded",e,this);b||c.resolve(d.clientPeerView)};this.addEventListener("viewAdded",e)}return c},focus:function(){var a=this;a.id&&require(["dijit/focus","dojo/dom","dojo/domReady!"],function(b,c){var d=c.byId(a.id);
c.isDescendant(b.curNode,d)||b.focus(c.byId(a.id))})},resize:function(){var a=300,b=300,c=0;switch(this.resizeBehaviour){case "fixed":this.allArgs.size&&(a=this.allArgs.size.width,b=this.allArgs.size.height);break;case "data":c=p(".dataBody",this.domNode);if(0===c.length)break;a=c[0];n.set(a,"min-width","initial");n.set(a,"min-height","initial");c=q.position(a);this.clientPeerView&&this.clientPeerView.table&&this.clientPeerView.table.defaultProperties?(b=c.h+this.clientPeerView.table.rowHeight+2,
a=c.w+this.clientPeerView.table.rowHeaderWidth+2):(b=c.h+20,a=c.w+32);c=this.limitSize(a,b);b=c.height;a=c.width;break;case "window":a=window.innerWidth;b=window.innerHeight;c=this.limitSize(a,b);b=c.height;a=c.width;break;case "container":a=this.domNode.parentElement;if(!a){this.inherited(arguments);return}c=q.position(a);if(0>=c.w||0>=c.h){this.inherited(arguments);return}a=c.w;b=c.h;c=this.limitSize(a,b);b=c.height;a=c.width;break;default:this.inherited(arguments);return}n.set(this.domNode,"width",
a+"px");n.set(this.domNode,"height",b+"px");this.inherited(arguments)},limitSize:function(a,b){this.allArgs.maxSize&&(this.allArgs.maxSize.width&&a>this.allArgs.maxSize.width&&(b+=t.getScrollbarWidth()),this.allArgs.maxSize.height&&b>this.allArgs.maxSize.height&&(a+=t.getScrollbarWidth()),this.allArgs.maxSize.width&&(a=Math.min(this.allArgs.maxSize.width,a)),this.allArgs.maxSize.height&&(b=Math.min(this.allArgs.maxSize.height,b)));this.allArgs.minSize&&(this.allArgs.minSize.width&&(a=Math.max(this.allArgs.minSize.width,
a)),this.allArgs.minSize.height&&(b=Math.max(this.allArgs.minSize.height,b)));return{width:a,height:b}},_handlePropertySet:function(a){a&&(a.data&&"size"===a.data.key)&&(this.varSize=a.data.newValue,this.summaryBar.setSize(a.data.newValue),s.publish("/datatools/sizeChanged",{doc:this,size:a.data.newValue}));a&&(a.data&&"type"===a.data.key)&&this.summaryBar.setType(a.data.newValue)},_handleRootPropertySet:function(a){a&&(a.data&&"VECmdLineCodeGenEnabled"===a.data.key)&&this.cmdLineCodePublishSvc.setEnabled(a.data.newValue.VECmdLineCodeGenEnabled)},
setSummaryBar:function(){this.documentNode&&(this.varName=this.documentNode.getProperty("name"),this.varSize=this.documentNode.getProperty("size"),this.varType=this.documentNode.getProperty("type"),this.varSecondaryStatus=this.documentNode.getProperty("secondaryStatus"),this.varSecondaryType=this.documentNode.getProperty("secondaryType"));if(this.showSummaryBar){this.summaryBar=new x(this.varName,this.varSize,this.varType,this.varSecondaryType,this.varSecondaryStatus,this.allArgs.executionService,
this.allArgs.helpDataService);this.summaryBar.startup();var a=this.domNode.getElementsByClassName("summaryBarDiv");a&&a.hasOwnProperty(0)&&(a=a[0],k.place(this.summaryBar.domNode,a,"last"));var c=this;u(a,"click",function(a){b.addToContext(c.contextChannel,["SummaryBar"],!0)})}}})})},"variableeditor/_ArgumentsMixin":function(){define("variableeditor/_ArgumentsMixin",["dojo/_base/declare"],function(h){return h("variableeditor._ArgumentsMixin",[],{setArgument:function(d,g){void 0!==g&&null!==g&&void 0!==
g[d]&&null!==g[d]&&(this[d]=g[d])},setArgumentWithDefault:function(d,g,c){void 0!==g&&null!==g&&(this[d]=void 0!==g[d]&&null!==g[d]?g[d]:c)}})})},"variableeditor/views/SummaryBar":function(){define("variableeditor/views/SummaryBar","dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/dom dojo/query dojo/dom-class variableeditor/constants/ClassTypeMaps variableeditor/constants/CssClassConstants variableeditor/VariableEditorUtils dojo/text!variableeditor/views/SummaryBar.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n){return h("variableeditor.views.SummaryBar",[g,c],{name:"",size:"",type:"",link:"",secondaryType:"",status:"",statuslink:"",templateString:n,constructor:function(a,b,c,d,e,f,g){this.name=a||"";this.size=b||"";this.type=c||"";this.secondaryType=d||"";this.status=e||"";this.executionService=f||"";this.helpDataService=g||""},postCreate:function(){this.setName(this.name);this.setSize(this.size);this.setType(this.type);this.setSecondaryType(this.secondaryType);this.setStatus(this.status);
this.setStatusRef(this.status);this._handleDocLink()},initServices:function(a,b){this.executionService=a;this.helpDataService=b},_handleDocLink:function(){var a=this,b=function(b,c,d){"statuslink"===d&&a.helpDataService?(c=a.helpDataService.addMOQueryParameter(c),a.helpDataService.iframeContainer.showIframe({host:c,name:"MATLAB Online Help",maximizeUrl:a.helpDataService.getMaximizeUrl(c)})):a.executionService&&a.executionService.executionEval("doc "+c);b.preventDefault()};f(this.summaryBarLink,"click",
d.hitch(this,function(c){b(c,a.type,"status")}));f(this.summaryBarStatusLink,"click",d.hitch(this,function(c){b(c,a.statuslink,"statuslink")}))},updateIconClass:function(){var b=l(".summaryBarSize",this.domNode)[0],c=e.getClassNameForIconList(this.type),d=c;this.secondaryType&&(d=c+"_"+this.secondaryType);e.removeFromClassList(b,a.ClassArray);e.addToClassList(b,k.VE_RENDERERS);a.IconTypeMap.hasOwnProperty(d)?e.addToClassList(b,a.IconTypeMap[d]):a.IconTypeMap.hasOwnProperty(c)?e.addToClassList(b,a.IconTypeMap[c]):
e.addToClassList(b,a.IconTypeMap.UNKNOWN)},setName:function(a){this.name=a||""},setSize:function(a){this.size=a||"";"0"===a&&(this.size=this.name);l(".summaryBarSize",this.domNode)[0].textContent=this.size},setType:function(a){var b=null;if(a){var c=a,b=a,d=a.split(/[.]+/);d&&1<d.length?c=d.pop():(a=a.split(/[ ]+/))&&1<a.length&&(b=a.pop());this.type=b}else this.resetToDefault();l(".summaryBarRef",this.domNode)[0].textContent=c;this.updateIconClass()},resetToDefault:function(){this.link=this.type=
" "},setStatus:function(a){this.status=a||"";a=l(".summaryBarStatus",this.domNode)[0];!this.hasStatusHyperlink()&&this.status&&0<this.status.length?a.textContent="("+this.status+")":a.textContent=""},setStatusRef:function(a){this.status=a||"";a=l(".summaryBarStatusRef",this.domNode)[0];this.hasStatusHyperlink()&&this.status&&0<this.status.length?(this.statuslink=this.getStatusHyperlink(),a.textContent=" ("+this.status+")"):a.textContent=""},hasStatusHyperlink:function(){return this.type&&"tall"===
this.type},getStatusHyperlink:function(){var a;switch(this.type){case "tall":a="https://www.mathworks.com/help/matlab/import_export/deferred-evaluation-of-tall-arrays.html"}return a},setSecondaryType:function(a){this.secondaryType=a||"";a=this.domNode.getElementsByClassName("summaryBarSecondaryType");a=a[0];a.textContent=this.secondaryType}})})},"datatoolsservices/CmdLineCodePublishService":function(){define("datatoolsservices/CmdLineCodePublishService",["dojo/_base/declare","dojo/_base/lang","dojo/aspect",
"mw-messageservice/MessageService","dojo/domReady!"],function(h,d,g,c){return h("datatoolsservices.CmdLineCodePublishService",[],{executionService:[],context:"",enabled:!1,codeObj:[],constructor:function(d){this.executionService=d.executionService;this.context=d.context;d.enabled&&(this.enabled=d.enabled);c.subscribe("/DataToolsCodePubChannel/"+this.context,"_publishCode",this)},unregister:function(){c.unsubscribe("/DataToolsCodePubChannel/"+this.context,"_publishCode",this)},_publishCode:function(c){if(c&&
c.data){this.codeObj=c=JSON.parse(c.data);if(this.executionService._setExecutionState)var b=g.after(this.executionService,"_setExecutionState",d.hitch(this,function(c,a){if(c&&"ready"===c){b.remove();var d=this.executionService.historyStore.items.length;this.executionService.historyStore.items[d-1].isError&&(d=this.executionService.historyStore.items[d-1].value.trim().split("\n"),d=this.codeObj.errorFcn.replace("%1$s",d[d.length-1]),this.executionService.executionEval(d))}}),!0);if(c.code)if(Array.isArray(c.code))for(var h=
0;h<c.code.length;h+=1)this._executeCode(c.code[h]);else this._executeCode(c.code)}},_executeCode:function(c){this.enabled?this.executionService.authoringEval(c):this.executionService.executionEval(c)},setEnabled:function(c){this.enabled=c}})})},"variableeditor/ContextUpdateManager":function(){define("variableeditor/ContextUpdateManager",["dojo/_base/declare","dojo/_base/lang","dojo/topic","MW/uiframework/contextmanager/ContextManagerFactory","MW/uiframework/UIBuilderFactory"],function(h,d,g,c,f){return h("variableeditor.ContextUpdateManager",
[],{constructor:function(b){this.defaultContextId=b.defaultContextId||"";this.contextChannel=b.contextUpdateChannel||"";this.managerChannel=b.managerChannel||"";this.contextManager=null;this.currentContext=[];this.init()},init:function(){try{this.contextManager=c.getInstance()}catch(b){}null===this.contextManager&&"/WorkspaceBrowser"===this.managerChannel&&(f.getInstance({actionService:null}).create({tag:"motwToolstrip",type:"Toolstrip"}),this.contextManager=c.getInstance({parentAppId:"motw",toolstripTag:"motwToolstrip",
toolstripId:"toolstripId",uiContainer:null,qabContextualControlsActionMap:{}}));this._setUpContextWatch();var d=this;this.contextManager&&g.subscribe(this.contextChannel,function(b){b.subContext&&d._updateSubContext(b)})},_setUpContextWatch:function(){if(this.contextManager){var b=this,c=this.defaultContextId;this.contextManager.watch("currentContext",function(d,a,f){var e=f.appId;"currentContext"===d&&(e&&e===c&&a!==f)&&b.setCurrentContext(b.currentContext.slice())})}},setCurrentContext:function(b){var c=
this.managerChannel;b&&(this.contextManager&&this.contextManager.set)&&this.contextManager.set("currentContext",{appId:c,contextIdList:b})},_updateSubContext:function(b){0<b.subContext.length?(this.currentContext=b.subContext,this.setCurrentContext(b.subContext)):this.setCurrentContext(this.currentContext)}})})},"variableeditor/views/editors/ColorEditor":function(){define("dojo/_base/Color dojo/_base/declare dojo/dom-class dojo/on mw-colorpicker/ColorPicker ./_ColorStylesSwatch dojo/text!variableeditor/views/editors/templates/ColorEditor.html dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(h,d,g,c,f,b,l,m,a){function k(a){"none"!==a&&("auto"!==a&&"flat"!==a&&"interp"!==a&&"texturemap"!==a)&&(a=(new h(a)).toHex());return a}return d([m,a],{value:null,showColorStyles:!1,templateString:l,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(){this.colorStylesSwatch=this.colorPicker=null;this.value=arguments[0].value;this.colorStyleOptions=arguments[0].colorStyleOptions;this.inherited(arguments)},
_setValueAttr:function(a){a=k(a);a!==this.get("value")&&this._setValue(a)},_setValue:function(a){this._set("value",a);a===this.COLOR_NONE?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!0),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_AUTO?(this.colorStylesSwatch&&
(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!0),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_FLAT?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!0),this.colorStylesSwatch.set("interpColorSelected",
!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_INTERP?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!0),this.colorStylesSwatch.set("texturemapColorSelected",!1)),this._unselectColorPicker(a)):a===this.COLOR_TEXTUREMAP?(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",
!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!0)),this._unselectColorPicker(a)):(this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",
!1),g.remove(this.colorPicker.previewColorNode,"mwColorPickerNonePreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerAutoPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerFlatPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerInterpPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerTextureMapPreview")),this.colorPicker.set("value",a,!1))},forceSetValue:function(a){a=k(a);this._setValue(a)},_getValueAttr:function(){return this.colorPicker.get("value")},
_setShowColorStylesAttr:function(a){a&&!this.colorStylesSwatch&&this._showColorStyelsSwatch()},buildRendering:function(){this.inherited(arguments);this.colorPicker=new f({showPreview:!0,showCustomPicker:!0,showRecentColors:!1,value:this.value});this.colorPicker.placeAt(this.domNode)},postCreate:function(){this.inherited(arguments);setTimeout(function(){this.colorPicker&&this.colorPicker.own(c(this.colorPicker,"change",this._handleChange.bind(this)))}.bind(this),0)},startup:function(){this.inherited(arguments);
this.colorPicker.startup();this.colorStylesSwatch&&this.colorStylesSwatch.startup()},destroy:function(){this.colorPicker&&this.colorPicker.destroy();this.colorStylesSwatch&&this.colorStylesSwatch.destroy();this.colorStylesSwatch=this.colorPicker=null;this.inherited(arguments)},_handleChange:function(a){a.mwEventData&&(a=a.mwEventData.newValue,this._set("value",a,!1),this.colorStylesSwatch&&(this.colorStylesSwatch.set("noneColorSelected",!1),this.colorStylesSwatch.set("autoColorSelected",!1),this.colorStylesSwatch.set("flatColorSelected",
!1),this.colorStylesSwatch.set("interpColorSelected",!1),this.colorStylesSwatch.set("texturemapColorSelected",!1)),g.remove(this.colorPicker.previewColorNode,"mwColorPickerNonePreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerAutoPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerFlatPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerInterpPreview"),g.remove(this.colorPicker.previewColorNode,"mwColorPickerTextureMapPreview"),this.emit("update-color",
{newColorValue:a}),this._enableColorSpinner())},_handleUpdateColor:function(a){if(a.newColorValue===this.COLOR_NONE||a.newColorValue===this.COLOR_AUTO||a.newColorValue===this.COLOR_FLAT||a.newColorValue===this.COLOR_INTERP||a.newColorValue===this.COLOR_TEXTUREMAP)this.colorPicker&&this._unselectColorPicker(a.newColorValue),this.emit("update-color",a)},_showColorStyelsSwatch:function(){this.colorStylesSwatch||(this.colorStylesSwatch=new b({colorStyleOptions:this.colorStyleOptions}),this.colorStylesSwatch.placeAt(this.domNode,
"first"),this.colorStylesSwatch.own(c(this.colorStylesSwatch,"update-color",this._handleUpdateColor.bind(this))))},_unselectColorPicker:function(a){var b=this.colorPicker.paletteNode.gridNode.querySelector(".dijitPaletteCellSelected"),c=this.colorPicker.recentColorsNode.querySelector(".dijitPaletteCellSelected");b&&b.classList.remove("dijitPaletteCellSelected");c&&c.classList.remove("dijitPaletteCellSelected");this.colorPicker.previewColorNode.classList.remove("mwColorPickerNonePreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerAutoPreview");
this.colorPicker.previewColorNode.classList.remove("mwColorPickerFlatPreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerInterpPreview");this.colorPicker.previewColorNode.classList.remove("mwColorPickerTextureMapPreview");a===this.COLOR_NONE?this.colorPicker.previewColorNode.classList.add("mwColorPickerNonePreview"):a===this.COLOR_AUTO?this.colorPicker.previewColorNode.classList.add("mwColorPickerAutoPreview"):a===this.COLOR_FLAT?this.colorPicker.previewColorNode.classList.add("mwColorPickerFlatPreview"):
a===this.COLOR_INTERP?this.colorPicker.previewColorNode.classList.add("mwColorPickerInterpPreview"):a===this.COLOR_TEXTUREMAP&&this.colorPicker.previewColorNode.classList.add("mwColorPickerTextureMapPreview");this._disableColorSpinner()},_disableColorSpinner:function(){var a=this.colorPicker.spinnerNode.domNode.querySelectorAll(".dijitTextBox");[].slice.call(a).forEach(function(a){g.add(a,"disableInput");a=a.querySelectorAll("input[type\x3d'text']");[].slice.call(a).forEach(function(a){a.tabIndex=
-1;a.value=""})})},_enableColorSpinner:function(){var a=this.colorPicker.spinnerNode.domNode.querySelectorAll(".dijitTextBox");[].slice.call(a).forEach(function(a){g.remove(a,"disableInput");a=a.querySelectorAll("input[type\x3d'text']");[].slice.call(a).forEach(function(a){a.tabIndex=0})})},_setReadOnly:function(){}})})},"variableeditor/views/editors/_ColorStylesSwatch":function(){define("dojo/_base/declare dojo/dom-class dojo/text!variableeditor/views/editors/templates/_ColorStylesSwatch.html dojo/i18n!variableeditor/app/l10n/nls/app dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(h,d,g,c,f,b){return h([f,b],{title:c.colorPickerColorStylesSwatchTitle,noneColorSelected:!0,autoColorSelected:!0,flatColorSelected:!0,interpColorSelected:!0,texturemapColorSelected:!0,templateString:g,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(b){this.colorStyleOptions=b.colorStyleOptions;this._noneStyleCellNode=this._renderStyleCell(this.COLOR_NONE,"mwColorPaletteSwatch mwColorPickerNoneColorSwatch");
this._autoStyleCellNode=this._renderStyleCell(this.COLOR_AUTO,"mwColorPaletteSwatch mwColorPickerAutoColorSwatch");this._flatStyleCellNode=this._renderStyleCell(this.COLOR_FLAT,"mwColorPaletteSwatch mwColorPickerFlatColorSwatch");this._interpStyleCellNode=this._renderStyleCell(this.COLOR_INTERP,"mwColorPaletteSwatch mwColorPickerInterpColorSwatch");this._texturemapStyleCellNode=this._renderStyleCell(this.COLOR_TEXTUREMAP,"mwColorPaletteSwatch mwColorPickerTextureMapColorSwatch")},_setNoneColorSelectedAttr:function(b){b?
d.add(this._noneStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._noneStyleCellNode,"dijitPaletteCellSelected");this._set("noneColorSelected",b)},_setFlatColorSelectedAttr:function(b){b?d.add(this._flatStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._flatStyleCellNode,"dijitPaletteCellSelected");this._set("flatColorSelected",b)},_setAutoColorSelectedAttr:function(b){b?d.add(this._autoStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._autoStyleCellNode,"dijitPaletteCellSelected");
this._set("autoColorSelected",b)},_setInterpColorSelectedAttr:function(b){b?d.add(this._interpStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._interpStyleCellNode,"dijitPaletteCellSelected");this._set("interpColorSelected",b)},_setTexturemapColorSelectedAttr:function(b){b?d.add(this._texturemapStyleCellNode,"dijitPaletteCellSelected"):d.remove(this._texturemapStyleCellNode,"dijitPaletteCellSelected");this._set("texturemapColorSelected",b)},postCreate:function(){this.inherited(arguments);this._renderStyleCells()},
_renderStyleCells:function(){this.colorStyleOptions.map(function(b){switch(b){case this.COLOR_AUTO:this.colorStyleNodes.appendChild(this._autoStyleCellNode);break;case this.COLOR_NONE:this.colorStyleNodes.appendChild(this._noneStyleCellNode);break;case this.COLOR_FLAT:this.colorStyleNodes.appendChild(this._flatStyleCellNode);break;case this.COLOR_INTERP:this.colorStyleNodes.appendChild(this._interpStyleCellNode);break;case this.COLOR_TEXTUREMAP:this.colorStyleNodes.appendChild(this._texturemapStyleCellNode)}}.bind(this))},
_renderStyleCell:function(b,c){var a=document.createElement("div");a.setAttribute("tabindex","0");a.setAttribute("class",c);var d=document.createElement("div");d.setAttribute("class","dijitPaletteCell");d.setAttribute("title",b);d.appendChild(a);d.onclick=this._handleSelect.bind(this);d.onkeypress=this._handlePress.bind(this);return d},_handlePress:function(b){32===b.keyCode&&this._handleSelect(b)},_handleSelect:function(b){if(b.currentTarget.children&&b.currentTarget.children[0]&&b.currentTarget.children[0].classList)if(b=
b.currentTarget.children[0].classList,b.contains("mwColorPickerAutoColorSwatch")){if(!this.autoColorSelected||!this._autoStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._autoStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!0),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"auto"})}else if(b.contains("mwColorPickerNoneColorSwatch")){if(!this.noneColorSelected||
!this._noneStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._noneStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!0),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"none"})}else if(b.contains("mwColorPickerFlatColorSwatch")){if(!this.flatColorSelected||!this._flatStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._flatStyleCellNode.classList.add("dijitPaletteCellSelected"),
this.set("noneColorSelected",!1),this.set("autoColorSelected",!1),this.set("flatColorSelected",!0),this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"flat"})}else if(b.contains("mwColorPickerInterpColorSwatch")){if(!this.interpColorSelected||!this._interpStyleCellNode.classList.contains("dijitPaletteCellSelected"))this._interpStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",
!1),this.set("flatColorSelected",!1),this.set("interpColorSelected",!0),this.set("texturemapColorSelected",!1),this.emit("update-color",{newColorValue:"interp"})}else if(b.contains("mwColorPickerTextureMapColorSwatch")&&(!this.texturemapColorSelected||!this._texturemapStyleCellNode.classList.contains("dijitPaletteCellSelected")))this._texturemapStyleCellNode.classList.add("dijitPaletteCellSelected"),this.set("noneColorSelected",!1),this.set("autoColorSelected",!1),this.set("flatColorSelected",!1),
this.set("interpColorSelected",!1),this.set("texturemapColorSelected",!0),this.emit("update-color",{newColorValue:"texturemap"})}})})},"variableeditor/views/editors/ColorTextBoxEditor":function(){define("variableeditor/views/editors/ColorTextBoxEditor","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils dojo/parser dojo/dom-construct dojo/sniff dijit/focus dojo/keys dojo/on variableeditor/views/editors/TextBoxEditor variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/editors/templates/ColorTextBoxEditor.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s){h=h("variableeditor.views.editors.ColorTextBoxEditor",[b,l,r],{_hasStyle:!1,_hasAlpha:!1,_inputBox:null,_alpha:1,_valueIsAdjusting:!1,_rangeZeroToOne:!0,_doubleClickDuration:0,_inputValueChangeListener:void 0,constructor:function(a){this.templateString=s;this._rangeZeroToOne=a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;a&&(this._allArgs=a,this.init(a));m.parse()},_setUIColor:function(a,b){var c=this._getColorValues(a),c=c.color;(b||void 0===
b)&&this._setForegroundValues(c,a)},_getUIColor:function(){return this._value===l.COLOR_AUTO||this._value===l.COLOR_FLAT||this._value===l.COLOR_NONE||this._value===l.COLOR_INTERP||this._value===l.COLOR_TEXTUREMAP||"string"===typeof this._value&&"3 double"===this._value.slice(-8)?this._value:new g(this._value)},_setForegroundValues:function(a,b){this._value=b;if(b===l.COLOR_AUTO||b===l.COLOR_FLAT||b===l.COLOR_NONE||b===l.COLOR_INTERP||b===l.COLOR_TEXTUREMAP||"string"===typeof b&&"3 double"===b.slice(-8))this._inputBox.setValue(b),
this._inputBox.setEditValue(b),this._inputBox._setUIValue(b);else{var c=this._rangeZeroToOne?255:1,d,e,f;this._rangeZeroToOne?(d=(Math.round(100*(a.r/c))/100).toFixed(2),e=(Math.round(100*(a.g/c))/100).toFixed(2),c=(Math.round(100*(a.b/c))/100).toFixed(2),f=(Math.round(100*a.a)/100).toFixed(2)):(d=a.r.toString(),e=a.g.toString(),c=a.b.toString(),f=a.a.toString());this._inputValueChangeListener.pause();this._inputBox.setValue(d+","+e+","+c+(this._hasAlpha?","+f:""));this._inputBox.setEditValue(d+","+
e+","+c+(this._hasAlpha?","+f:""));this._inputBox._setUIValue(d+","+e+","+c+(this._hasAlpha?","+f:""));this._inputValueChangeListener.resume()}},_setupDomClasses:function(a,b){a&&this.addCSSClasses("veDiagonalStrikeout");this._applyCssClass(b?b.dataType?b.dataType:b["class"]:"color",b?b.isTemporaryValue:!1,!1);this.isEditable()?this.removeCSSClasses("variableEditorNotEditable"):this.addCSSClasses("variableEditorNotEditable")},setValue:function(a){if(this.domNode){var b=!1,c=a;a&&a.hasOwnProperty("value")&&
(c=a.value);c||(c=l.WHITE.toCss(!0),b=!0);this.removeCSSClasses("veDiagonalStrikeout");this._setupDomClasses(b,a);this.domNode.setAttribute("data-tag",this.createDataTag("ColorRenderer","cell"));this._setUIColor(c);this.inherited(arguments)}else this._value=a},postCreate:function(){this._setupInputBoxNode();this._hasStyle=this._state?f.getLogicalValue(this._state.showStyle,!1):!1;this._hasAlpha=this._state?f.getLogicalValue(this._state.showAlpha,!1):!1;this.inherited(arguments);this.addCSSClasses("veColorRenderer");
k("mac")&&this.addCSSClasses("macScrollBarWidth")},_setupInputBoxNode:function(){var b=this._getAttachNode("colorValue");if(b){this._inputBox=new q({value:this._value,state:this._state,editable:this._editable,editOnSingleClick:!0});a.place(this._inputBox.domNode,b,"last");this._inputValueChangeListener=p.pausable(this._inputBox,"valueChanged",d.hitch(this,"_inputBoxValueChanged"));this._inputBox.addEventListener("click",d.hitch(this,"_inputMouseClick"));this._inputBox.addEventListener("editingStarted",
d.hitch(this,"_reDispatchEvent"));this._inputBox.addEventListener("editingStopped",d.hitch(this,"_reDispatchEvent"));var c=this,e=this._inputBox._handleKeyDown;this._inputBox._handleKeyDown=function(a){c._ignoreInvalidKeys(a);e.apply(c._inputBox,[a]);c._inputBoxKeyDown(a)};this._inputBox._handleBlurEvent=function(a){a===this&&c._handleBlurEvent(a)};var f=this._inputBox.edit,g=this;this._inputBox.edit=function(){g._originalValue=g._value;g.isEditable()&&(g._setUIColor(g._value),g.focusTextBox(!0));
f.apply(c._inputBox)}}b=d.hitch(this,"_handleKeyboardEvent");p(this.domNode,"keypress",b);this.focusNode=this._inputBox.focusNode},_reDispatchEvent:function(a){this.dispatchEvent(a.type,this,a.data)},_changeListenerState:function(a){a&&"string"===typeof a&&(this.inherited(arguments),this._inputBox._changeListenerState(a))},_swatchMouseClick:function(a){this._handleMouseEvent(a)},_inputMouseClick:function(a){this._inputBox.edit();this._handleMouseEvent(a.data)},_ignoreInvalidKeys:function(a){var b=
this._getKeyCode(a);b!==n.ESCAPE&&b!==n.ENTER&&(b===n.LEFT_ARROW||b===n.LEFT||b===n.RIGHT_ARROW||b===n.RIGHT||b===n.TAB||b===n.UP_ARROW||b===n.DOWN_ARROW||48<=b&&57>=b||188==b||190==b||62===b||b==n.DELETE||b==n.BACKSPACE||219==b||221==b||8==b||46==b||65<=b&&90>=b||b!=n.SPACE&&a.preventDefault())},_inputBoxKeyDown:function(a){a=this._getKeyCode(a);a===n.ESCAPE?this.cancelEditing():a===n.ENTER&&this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"keyDown")},_colorChanged:function(a,
b){this._isInvalidColor(a)?this.cancelEditing():this._colorsEqual(a,this._value)?(this._setUIColor(a),this.stopEditing()):this._commitNewValue(a,b)},_isInvalidColor:function(a){return a.constructor===Array?(a=a.filter(function(a){return!isNaN(a)&&0<=a&&255>=a}),3>a.length):!1},_commitNewValue:function(a,b){var c=this._value;this._value=this._getColorCommitValue(a);this._setUIColor(this._value,!1);f.removeFromClassList(this.domNode,"veDiagonalStrikeout");this.stopEditing();var d=this._getColorValues(this._value),
d=d&&d.color||l.WHITE;this._setUIColor(this._value);this._colorsEqual(c,this._value)||this.dispatchEvent("valueChanged",this,{editor:this,oldValue:this._originalValue,newValue:this._value,newColor:d,eventTriggerInfo:b})},_getNumericColorArrayValues:function(a){if(a===l.COLOR_AUTO||a===l.COLOR_FLAT||a===l.COLOR_NONE||a===l.COLOR_INTERP||a===l.COLOR_TEXTUREMAP||"string"===typeof a&&"3 double"===a.slice(-8))return a;var b=[];if(a){var c=this._rangeZeroToOne?255:1;a=a.split(/^\[|,| |\]$/g).filter(function(a){return 0!==
a.length});b=a.map(function(a){a=parseFloat(a)*c;return Math.round(Math.max(0,Math.min(255,a)))});3<b.length&&(b[3]=parseFloat(a[3]))}return b},_inputBoxValueChanged:function(a){var b=a.data.newValue,c=this._value;b&&(b=this._getNumericColorArrayValues(b))&&b.length&&(c=new g(b));this._valueIsAdjusting?(c=c||l.WHITE,this.dispatchEvent("valueAdjusting",this,{editor:this,oldValue:a.data.oldValue,newValue:c.toCss(!0),newColor:c})):this._colorChanged(c)},_handleBlurEvent:function(a){a=document.activeElement;
if(this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(!this.domNode.contains(a)||-1===e.activeStack.indexOf(this.domNode.id))&&this._renderer&&this._renderer.domNode&&a!==this._renderer.domNode)this._editing=!0,this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"widgetBlur")},_handleColorBlur:function(a){this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._editing&&a&&a.target&&!this.domNode.contains(a.target)&&this._renderer&&this._renderer.domNode&&
a.target!==this._renderer.domNode)&&this._colorChanged(this._getNumericColorArrayValues(this._inputBox._getUIValue()),"widgetBlur")},focusTextBox:function(a){a&&this._inputBox._focus()},stopEditing:function(){this.isEditing()&&this._inputBox&&(this._inputBox.stopEditing(),this._inputBox.setCursorPosition(0,0));this.inherited(arguments)},cancelEditing:function(){var a=this.isEditing();a&&this._inputBox&&this._inputBox.cancelEditing();this._setUIColor(this._originalValue);this._editing=a;this.inherited(arguments)},
_getUIValue:function(){var a=this._getUIColor();return a===l.COLOR_AUTO||a===l.COLOR_FLAT||a===l.COLOR_NONE||a===l.COLOR_INTERP||a===l.COLOR_TEXTUREMAP||"string"===typeof a&&"3 double"===a.slice(-8)?a:a.toCss(!0)},_setReadOnly:function(a){this._inputBox&&this._inputBox._setReadOnly&&this._inputBox._setReadOnly(a)},destroy:function(){this._inputBox.destroy();this.inherited(arguments)}});h.COLOR_VALUE_0_TO_1_INCREMENT=0.01;h.COLOR_VALUE_0_TO_255_INCREMENT=1;return h})},"variableeditor/views/editors/_ColorUtils":function(){define("variableeditor/views/editors/_ColorUtils",
["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/_base/Color"],function(h,d,g,c,f){var b=new f([255,255,255,1]);h=h("variableeditor.views.editors._ColorUtils",[],{_getColorStringFromValue:function(c){return"auto"===c||"flat"===c||"none"===c||"interp"===c||"texturemap"===c?b.toCss(!0):c&&c.toCss?c.toCss(!0):(new f(c)).toCss(!0)},_getColorValues:function(c){var d=c;c&&c.value&&(d=c.value);d||(d=b);var a={value:b.toCss(!0),alpha:1,color:b},g=b;"auto"===c||"flat"===c||"none"===
c||"interp"===c||"texturemap"===c?a.value=c:(Array.isArray(d)?(Array.isArray(d[0])&&(d[0]=255,d[1]=255,d[2]=255,d[3]=1),g=new f(d)):g=d.toRgba&&d.toCss?d:new f(d),a.value=g.toCss(!0),a.alpha=g.a);a.color=g;return a},_colorsEqual:function(b,c){var a=new f,d=new f;if(!b&&c||b&&!c)return!1;if("auto"===b||"flat"===b||"none"===b||"interp"===b||"texturemap"===b||"auto"===c||"flat"===c||"none"===c||"interp"===c||"texturemap"===c)return b===c;a=b&&b.toRgba&&b.toCss?b:new f(b);d=c&&c.toRgba&&c.toCss?c:new f(c);
return a.toCss(!0)===d.toCss(!0)},_getJSColorValuesFromMATLABStringArray:function(b,c){var a=b;void 0===c&&(c=!0);var d=c?255:1;if("string"===typeof b||b instanceof String)"["!==b.substr(0,1)&&(b="["+b+"]"),a=JSON.parse(b.replace(/, /g,",").replace(/ /g,",").replace(/\[/g,"[[").replace(/\]/g,"]]").replace(/;/g,"],["));if(Array.isArray(a)){if(0<a.length&&!Array.isArray(a[0])){var e=[];e[0]=a;a=e}a=a.map(function(a){var b=a.map(function(a){return Math.round(a*d)});4<=b.length&&(b[3]=a[3]);return b})}return a},
_getColorCommitValue:function(b){"auto"===b||("flat"===b||"none"===b||"interp"===b||"texturemap"===b)||(b=new f(b),b.a=this._alpha,b=b.toCss(!0));return b},_createColorGradientCss:function(b){var c="",a=this;b&&b.length&&(b=this._getJSColorValuesFromMATLABStringArray(b).map(function(b){return a._getColorStringFromValue(b)}).join(","),c="background: -webkit-linear-gradient(left,"+b+"); /* For Safari 5.1 to 6.0 */\nbackground: -o-linear-gradient(right,"+b+"); /* For Opera 11.1 to 12.0 */\nbackground: -moz-linear-gradient(right,"+
b+"); /* For Firefox 3.6 to 15 */\nbackground: linear-gradient(to right,"+b+"); /* Standard syntax */\n");return c},_isNone:function(b){return"string"===typeof b&&"none"===b.toLowerCase()}});h.WHITE=b;h.COLOR_AUTO="auto";h.COLOR_FLAT="flat";h.COLOR_NONE="none";h.COLOR_INTERP="interp";h.COLOR_TEXTUREMAP="texturemap";return h})},"variableeditor/views/editors/ColormapEditor":function(){define("variableeditor/views/editors/ColormapEditor","dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/on dojo/aspect variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/renderers/_TemplateMixin mw-form/ComboBox variableeditor/views/renderers/ColorOrderRenderer dijit/focus dojo/text!./templates/ColormapEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){var r={value:"custom",label:q.colormapEditorCustom},s=["parula","jet",{value:"hsv",label:"HSV"},"hot","cool","spring","summer","autumn","winter","gray","bone","copper","pink","lines","colorcube","prism","flag","white"];return h("variableeditor.views.editors.ColormapEditor",[m,a],{templateString:p,_select:void 0,_selectChangeListeners:void 0,_customValue:!1,_customRenderers:void 0,_resizeTimeouts:void 0,_buttonColormapNodes:void 0,_colormapList:s,_doubleClickDuration:0,
postCreate:function(){this.inherited(arguments);this._setupSelect()},_setupSelect:function(){this._select?this._setSelectItems():(this._select=new k(l.mergeObjects(this._allArgs,{editable:!1,disabled:!this.isEditable(),value:void 0,width:"100%",height:"100%",_validateSizeInput:function(a){"string"===typeof a&&"%"===a.charAt(a.length-1)||this.inherited(arguments)},_getAdjustedSize:function(a,b,c){if(("width"===a||"height"===a)&&"string"===typeof b){if("%"===b.charAt(b.length-1))return b}else return this.inherited(arguments)}})),
this.own(this._select),b.before(this._select,"_getSelectedItemFromLabel",function(a){return[this._fixLabel(a)]}.bind(this)),this._customRenderers={button:this._getNewCustomColormapRenderer(),menuItem:this._getNewCustomColormapRenderer()},this._addColormapToButton(),this._setSelectItems(),this._selectChangeListeners={_onChangeListener:f.pausable(this._select,"change",d.hitch(this,"_commitValue"))},this._resizeTimeouts={},this.own(f(window,"resize",d.hitch(this,"_resizeSelect"))),b.before(this._select,
"_openComboBoxMenu",function(){this._resizeMenu()}.bind(this)),this._select.startup(),g.empty(this.domNode),this.domNode.appendChild(this._select.domNode),this._resizeSelect())},destroy:function(){this.inherited(arguments);this._resizeTimeouts&&(this._resizeTimeouts.menu&&clearTimeout(this._resizeTimeouts.menu),this._resizeTimeouts.button&&clearTimeout(this._resizeTimeouts.button))},_commitValue:function(){!0!==this._beingDestroyed&&this.setValue(this._getUIValue())},_resizeSelect:function(){this.domNode&&
(c.position(this.domNode).h?(this._resizeTimeouts.button||(this._resizeTimeouts.button=setTimeout(d.hitch(this,"_resizeButton"),10)),this._resizeTimeouts.menu&&clearTimeout(this._resizeTimeouts.menu),this._resizeTimeouts.menu=setTimeout(d.hitch(this,"_resizeMenu"),100)):setTimeout(d.hitch(this,"_resizeSelect"),16))},_resizeButton:function(){this._resizeTimeouts.button=null;this._updateColorOrderRendererValue(this._customRenderers.button)},_resizeMenu:function(){this._resizeTimeouts.menu=null;if(this._select.domNode&&
this._select.get("menu")&&this._select.get("menu").domNode){var a=c.getContentBox(this._select.domNode).w;c.setContentSize(this._select.get("menu").domNode,{w:a})}this._updateColorOrderRendererValue(this._customRenderers.menuItem)},_getNewCustomColormapRenderer:function(){var a=l.mergeObjects(this._allArgs,{value:void 0,inPlaceEditor:null,editor:null}),a=new e(a);this.addCSSClasses(this._getIconClasses("custom"),a.domNode);this._customValue&&a.setValue(this._customValue);a.startup();return a},_addColormapToButton:function(){var a=
this._select.inputNode;this.addCSSClasses(["colormapItem","colormapButton"],a.parentNode);this.addCSSClasses(["colormapLabel","colormapButton"],a);this._buttonColormapNodes={icon:g.create("div",null,a,"before"),custom:g.place(this._customRenderers.button.domNode,a,"before")};this.addCSSClasses(["colormapIcon","colormapButton"],this._buttonColormapNodes.icon);this._setButtonNodeVisible(this._buttonColormapNodes.icon,!1);this.addCSSClasses(["colormapIcon","colormapButton"],this._buttonColormapNodes.custom);
this._setButtonNodeVisible(this._buttonColormapNodes.custom,!1)},_setSelectItems:function(){this._selectChangeListeners&&this._selectChangeListeners._onChangeListener&&this._selectChangeListeners._onChangeListener.pause();var a=this._getItems();this._select.set("items",a);var b=this._select.get("menu").domNode.childNodes[0];this.addCSSClasses("colormapMenu",b);for(var b=b.childNodes,c=0;c<b.length;c++)this._setupItemNode(b[c],a[c].value);this._setUIValue(this._value);this._selectChangeListeners&&
this._selectChangeListeners._onChangeListener&&this._selectChangeListeners._onChangeListener.resume()},_setupItemNode:function(a,b){this.addCSSClasses("colormapItem",a);var c=a.childNodes[0];this.addCSSClasses("colormapLabel",c);"custom"===b?g.place(this._customRenderers.menuItem.domNode,c,"before"):(c=g.create("div",null,c,"before"),this.addCSSClasses(this._getIconClasses(b),c))},setValue:function(a){var b=a;a&&a.hasOwnProperty("value")&&(b=a.value);this.inherited(arguments);this._setCustomValue(b);
this._select&&this._setUIValue(b)},_setCustomValue:function(a){if(this._isValidCustomValue(a)&&!l.compareValues(a,this._customValue)){var b=this.getState(),b=b?d.clone(b):{};b.customValue=a;this.setState(b);a&&this._customRenderers&&(this._updateColorOrderRendererValue(this._customRenderers.button,a),this._updateColorOrderRendererValue(this._customRenderers.menuItem,a))}},_updateColorOrderRendererValue:function(a,b){var c=void 0!==b;b=b||this._customValue;if(a&&b&&this._isValidCustomValue(b)){var d=
this._getColormapWidth(),d=Math.min(14>d?14:d,b.length);if(c||!a._value||a._value.length!==d)if(b.length>d){for(var c=[],d=(b.length-1)/(d-1),e=0;e<b.length;e+=d)c.push(b[Math.round(e)]);a.setValue(c)}else a.setValue(b)}},_getColormapWidth:function(){try{var a=c.getContentBox(this._select.domNode).w,b=c.position(this._select.arrowNode).w,d=c.position(this._select.inputNode).w,e=c.getPadBorderExtents(this._customRenderers.button.domNode).w+c.getMarginExtents(this._customRenderers.button.domNode).w;
return a-b-d-e}catch(f){return 0}},setState:function(a){this.domNode&&(a&&(void 0!==a.customValue&&(this._customValue=a.customValue),this._colormapList=this._fixColormapList(a.colormapList||this._colormapList),this._setupSelect()),this.inherited(arguments))},_getDefaultState:function(){return{customValue:!1,colormapList:s}},_getUIValue:function(){var a=this._select.get("value");return void 0===a||"custom"===a?this._customValue:a},_setUIValue:function(a){this._isUIOption(a)?("string"!==typeof a&&(a=
"custom"),this._select.set("value",a),this._setButtonColormap(a)):(a=this._getItems(),this.setValue(0<a.length?a[0].value:void 0))},_isUIOption:function(a){return this._isValidValue(a)&&(this._customValue||"string"===typeof a)},_setButtonColormap:function(a){if(this._buttonColormapNodes){var b="custom"===a,c=this._buttonColormapNodes.icon;c&&(this.replaceCSSClasses(this._getIconClasses(),this._getIconClasses(a),c),this._setButtonNodeVisible(c,!b));(a=this._buttonColormapNodes.custom)&&this._setButtonNodeVisible(a,
b)}},_setButtonNodeVisible:function(a,b){b?this.removeCSSClasses("hiddenColormapIcon",a):this.addCSSClasses("hiddenColormapIcon",a)},_setReadOnly:function(a){this._select&&this._select.set("disabled",a)},_focus:function(){this._select&&this._select.focusNode&&this._select.focusNode.focus&&n.curNode!==this._select.focusNode&&n.focus(this._select.focusNode)},hasValueChanged:function(a){return!l.compareValues(this._originalValue,a)},_getItems:function(a){a=a||this._colormapList;return a.map(function(a){var b=
a.value||a;return{value:b,label:this._fixLabel(a.label||b.charAt(0).toUpperCase()+b.slice(1))}}.bind(this))},_isValidValue:function(a){return!a?!1:"string"===typeof a?this._getItems().some(function(b){return b.value===a}):this._isValidCustomValue(a)},_isValidCustomValue:function(a){if(!1===a)return!0;if(!(a instanceof Array&&0<a.length))return!1;for(var b=0;b<a.length;b++){if(3!==a[b].length)return!1;for(var c=0;3>c;c++)if("number"!==typeof a[b][c]||0>a[b][c]||1<a[b][c])return!1}return!0},_fixColormapList:function(a){a=
a||this._colormapList;-1!==a.indexOf("all")&&(a=a.concat(s));var b=this._getItems(this._customValue?[r].concat(s):s);a=a.filter(function(a){return b.some(function(b){return!b.seen&&(b.value===a||b.value===a.value)?b.seen=!0:!1})});var c=a.some(function(a){return"custom"===a||"custom"===a.value});return this._customValue&&!c?[r].concat(a):a},_getIconClasses:function(a){a=a||this._getItems(["custom"].concat(s));"string"===typeof a?a=[{value:a}]:void 0!==a.value&&(a=[a]);for(var b=["colormapIcon"],c=
0;c<a.length;c++)b.push("cmap-"+a[c].value);return b},_fixLabel:function(a){return a.replace(/^[ \n\.]+/g,"")}})})},"variableeditor/views/renderers/ColorOrderRenderer":function(){define("variableeditor/views/renderers/ColorOrderRenderer","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/dom-style dojo/dom-construct dojo/dom-class dojo/parser variableeditor/views/renderers/_RendererBase variableeditor/views/editors/_ColorUtils variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/renderers/templates/ColorOrderRenderer.html".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e){h=h("variableeditor.views.renderers.ColorOrderRenderer",[m,a,k],{_rangeZeroToOne:!0,constructor:function(a){this.templateString=e;this._rangeZeroToOne=a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;a&&(this._allArgs=a,this.init(a));l.parse()},postCreate:function(){this.inherited(arguments);this._updateDomColors()},_createColorDivs:function(a,c){if(a&&c)for(var d=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne),e=100/d.length,g=0;g<
d.length;g+=1){var k=this._getColorStringFromValue(d[g]),k="width: "+e.toPrecision(4).toString()+"%;background: "+k+";",k=f.create("div",{style:k,innerHTML:"."});b.add(k,"colorDiv");f.place(k,c,"last")}},_updateDomColors:function(){if(this.domNode&&this._value){var a=this.domNode,b=this._getAttachNode("colorSwatch");a.removeChild(b);f.empty(b);this._createColorDivs(this._value,b);f.place(b,a,"last")}},setValue:function(a){this.inherited(arguments);this.domNode&&this._updateDomColors()},_setReadOnly:function(){}});
h.COLOR_SWATCH_ATTACH_POINT="colorSwatch";return h})},"variableeditor/views/editors/RGBColorEditor":function(){define("dojo/_base/declare mw-colorpicker/MColor variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/editors/ColorDropDownEditor variableeditor/views/renderers/_TemplateMixin variableeditor/VariableEditorUtils dojo/text!./templates/RGBColorEditor.html".split(" "),function(h,d,g,c,f,b,l,m,a){h=
h([g,c,l],{templateString:a,_showColorStyles:!1,_colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",_hasStyle:!1,_hasAlpha:!1,_inputBox:null,_alpha:1,_valueIsAdjusting:!1,_rangeZeroToOne:!0,_doubleClickDuration:0,_inputValueChangeListener:void 0,constructor:function(){this._colorTextBox=this._colorDropDown=null;this._showColorStyles=this._configValue();this._createColorDropDown();this._createColorTextBox()},postCreate:function(){this.inherited(arguments);
this._colorDropDown.startup();this._colorTextBox.startup();this._colorTextBox.placeAt(this.domNode);this._colorDropDown.placeAt(this.domNode);this._addListnersToComponents()},_configValue:function(){return this._allArgs&&this._allArgs.state&&this._allArgs.state.showStyle&&!0===this._allArgs.state.showStyle?(this._allArgs.state.styleOptions&&(Array.isArray(this._allArgs.state.styleOptions)&&0<this._allArgs.state.styleOptions.length)&&(this._colorStyleOptions=this._allArgs.state.styleOptions.slice()),
!0):!1},_createColorDropDown:function(){this._colorDropDown=new b({color:this._allArgs.value,showColorStyles:this._showColorStyles,colorStyleOptions:this._colorStyleOptions});this.own(this._colorDropDown)},_createColorTextBox:function(){var a=this._allArgs;a.inPlaceEditor=void 0;this._colorTextBox=new f(a);this._colorTextBox.setEditable(!0);var b=this._colorTextBox._isInvalidColor;this._colorTextBox._isInvalidColor=function(a){return this._isStyle(a)?this._isValidStyle(a)&&this._showColorStyles?!1:
!0:"string"===typeof a&&"3 double"===a.slice(-8)?!0:b.apply(this._colorTextBox,arguments)}.bind(this);this.own(this._colorTextBox)},_isValidStyle:function(a){var b=!1;-1<this._colorStyleOptions.indexOf(this.COLOR_AUTO)&&(b=b||this._isAuto(a));-1<this._colorStyleOptions.indexOf(this.COLOR_NONE)&&(b=b||this._isNone(a));-1<this._colorStyleOptions.indexOf(this.COLOR_FLAT)&&(b=b||this._isFlat(a));-1<this._colorStyleOptions.indexOf(this.COLOR_INTERP)&&(b=b||this._isInterp(a));-1<this._colorStyleOptions.indexOf(this.COLOR_TEXTUREMAP)&&
(b=b||this._isTextureMap(a));return b},_isStyle:function(a){return this._isNone(a)||this._isAuto(a)||this._isFlat(a)||this._isInterp(a)||this._isTextureMap(a)},_addListnersToComponents:function(){this._colorDropDown.on("color-changed",this._handleColorDropDownValueChange.bind(this));this._colorDropDown.on("dropdownclick",this._handleDropDownClick.bind(this));this._colorTextBox.addEventListener("editingStarted",this._reDispatchEvent.bind(this));this._colorTextBox.addEventListener("editingStopped",
this._reDispatchEvent.bind(this));this._colorTextBox.addEventListener("valueChanged",this._handleTextBoxValueChange.bind(this));this._colorTextBox.addEventListener("valueAdjusting",this._handleTextBoxValueChange.bind(this))},_handleDropDownClick:function(a){this.dispatchEvent("editingStarted",this,{})},_handleColorDropDownValueChange:function(a){var b=null,b=this._isNone(a.newColorValue)?this.COLOR_NONE:this._isAuto(a.newColorValue)?this.COLOR_AUTO:this._isFlat(a.newColorValue)?this.COLOR_FLAT:this._isInterp(a.newColorValue)?
this.COLOR_INTERP:this._isTextureMap(a.newColorValue)?this.COLOR_TEXTUREMAP:(new d(a.newColorValue)).toCss();this._colorsEqual(this._value,b)||(this._colorChanged(b),this._colorTextBox.setValue(this._value))},_reDispatchEvent:function(a){this.dispatchEvent(a.type,this,a.data)},_handleTextBoxValueChange:function(a){var b=null,b=this._isNone(a.data.newValue)?this.COLOR_NONE:this._isAuto(a.data.newValue)?this.COLOR_AUTO:this._isFlat(a.data.newValue)?this.COLOR_FLAT:this._isInterp(a.data.newValue)?this.COLOR_INTERP:
this._isTextureMap(a.data.newValue)?this.COLOR_TEXTUREMAP:(new d(a.data.newValue)).toCss();this._colorsEqual(this._value,b)||(this._editing=!1,this._colorChanged(b),this._colorDropDown.set("color",b))},setValue:function(a,b,c){this._setUIValue(a,b,c)},getValue:function(){return this._getUIValue()},_setUIValue:function(a){var b=null;"string"===typeof a&&"3 double"===a.slice(-8)?(this._editValue=this._value=a,this._colorDropDown&&this._colorDropDown.set("color","rgb(245, 245, 245)"),this._colorTextBox&&
this._colorTextBox.setValue(a)):(this._isNone(a)?this._editValue=this._value=this.COLOR_NONE:this._isAuto(a)?this._editValue=this._value=this.COLOR_AUTO:this._isFlat(a)?this._editValue=this._value=this.COLOR_FLAT:this._isInterp(a)?this._editValue=this._value=this.COLOR_INTERP:this._isTextureMap(a)?this._editValue=this._value=this.COLOR_TEXTUREMAP:(b=new d(a),this._value=b.toCss(),this._editValue=b.toCss()),this._colorDropDown&&this._colorDropDown.set("color",this._value),this._colorTextBox&&this._colorTextBox.setValue(this._value))},
_getUIValue:function(){return this._value},_isNone:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_NONE},_isAuto:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_AUTO},_isFlat:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_FLAT},_isInterp:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_INTERP},_isTextureMap:function(a){return"string"===typeof a&&a.toLowerCase()===this.COLOR_TEXTUREMAP},_colorChanged:function(a){this._commitNewValue(a);
this._editValue=this._value=a},setState:function(a){this.inherited(arguments);void 0!==a.isMetaData&&(this._colorTextBox&&this._colorTextBox._inputBox&&this._colorTextBox._inputBox._state)&&(this._colorTextBox._inputBox._state.isMetaData=m.getLogicalValue(a.isMetaData,!1))},_commitNewValue:function(a){var b=this._value;this.stopEditing();this.dispatchEvent("valueChanged",this,{editor:this,oldValue:b,newValue:a})},_setReadOnly:function(){}});h.CSS_SELECTOR="colorEditorWithTextBox";return h})},"variableeditor/views/editors/ColorDropDownEditor":function(){define("dojo/_base/declare dojo/query dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/dom-class dojo/_base/Color dojo/on dojo/_base/lang ./ColorEditor mw-form/DropDownButton dijit/TooltipDialog dojo/text!variableeditor/views/editors/templates/ColorDropDownEditor.html dijit/_WidgetBase dijit/_TemplatedMixin MW/toolstrip/widgets/_WidgetMixin dijit/_WidgetsInTemplateMixin dijit/_base/focus dojo/dom".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x){return h([q,r,t,s],{color:"#FF0000",templateString:p,showColorStyles:!1,colorStyleOptions:[],COLOR_AUTO:"auto",COLOR_NONE:"none",COLOR_FLAT:"flat",COLOR_INTERP:"interp",COLOR_TEXTUREMAP:"texturemap",constructor:function(){this._colorEditor=this._dropDownButtonNode=null;this.color=arguments[0].color;this.colorStyleOptions=arguments[0].colorStyleOptions;this.inherited(arguments)},destroy:function(){this.inherited(arguments)},_setColorAttr:function(a){a!==
this.COLOR_AUTO&&(a!==this.COLOR_NONE&&a!==this.COLOR_FLAT&&a!==this.COLOR_INTERP&&a!==this.COLOR_TEXTUREMAP)&&(a=(new l(a)).toHex());a!==this.get("color")&&(this._set("color",a),this._updateDropDownColor(this.get("color")),this._colorEditor&&this._colorEditor.set("value",a,!1))},_setShowColorStylesAttr:function(a){a&&this._colorEditor&&this._colorEditor.set("showColorStyles",!0)},buildRendering:function(){this.inherited(arguments);this._dropDownButtonNode=new e({hasDynamicMenu:!0});this.own(this._dropDownButtonNode);
this._colorSwatchInButton=this._dropDownButtonNode.iconNode;b.add(this._dropDownButtonNode.domNode,"colorDropDownEditor-dropDownButton");this._updateDropDownColor(this.get("color"));this._dropDownButtonNode.placeAt(this.domNode);this._updateDropDownColor(this.color)},postCreate:function(){this.inherited(arguments);this._dropDownButtonNode.on("dropdownclick",this._handleDropDownClick.bind(this))},startup:function(){this.inherited(arguments);this._dropDownButtonNode.startup()},_handleDropDownClick:function(a){this._colorEditor||
(this._colorEditor=new k({showColorStyles:this.showColorStyles,value:this.color,colorStyleOptions:this.colorStyleOptions}),this.own(this._colorEditor),this._tooltipDialogWithColorPicker=this._createTooltipDialogWithColorPicker(this._colorEditor),this._dropDownButtonNode.set("menu",this._tooltipDialogWithColorPicker),this._dropDownButtonNode.set("_menuOrientation","below below-alt above above-alt after before above-centered below-centered before-centered after-centered".split(" ")),this.own(this._tooltipDialogWithColorPicker),
this._tooltipDialogWithColorPicker.startup(),this._colorEditor.startup(),this._colorEditor.on("update-color",this._handleUpdateColor.bind(this)));this._colorEditor.forceSetValue(this.color);this._dropDownButtonNode.showMenu();this.defer(function(){this._tooltipDialogWithColorPicker.domNode.focus()}.bind(this));d(".colorEditor").forEach(function(a){b.remove(a,"colorDropDownEditor-dropDownButton-opened")});b.add(this._colorEditor.domNode,"colorDropDownEditor-dropDownButton-opened");this.emit("dropdownclick")},
_handleUpdateColor:function(a){a.newColorValue===this.COLOR_NONE?(this._updateDropDownColor(this.COLOR_NONE),this._set("color",this.COLOR_NONE)):a.newColorValue===this.COLOR_AUTO?(this._updateDropDownColor(this.COLOR_AUTO),this._set("color",this.COLOR_AUTO)):a.newColorValue===this.COLOR_FLAT?(this._updateDropDownColor(this.COLOR_FLAT),this._set("color",this.COLOR_FLAT)):a.newColorValue===this.COLOR_INTERP?(this._updateDropDownColor(this.COLOR_INTERP),this._set("color",this.COLOR_INTERP)):a.newColorValue===
this.COLOR_TEXTUREMAP?(this._updateDropDownColor(this.COLOR_TEXTUREMAP),this._set("color",this.COLOR_TEXTUREMAP)):(this._updateDropDownColor(a.newColorValue),this._set("color",a.newColorValue));this.emit("color-changed",a)},_updateDropDownColor:function(a){a&&(b.remove(this._colorSwatchInButton,"mwColorPickerNoneColorSwatch"),b.remove(this._colorSwatchInButton,"mwColorPickerAutoColorSwatch"),b.remove(this._colorSwatchInButton,"mwColorPickerFlatColorSwatch"),b.remove(this._colorSwatchInButton,"mwColorPickerInterpColorSwatch"),
b.remove(this._colorSwatchInButton,"mwColorPickerTextureMapColorSwatch"),a===this.COLOR_NONE?b.add(this._colorSwatchInButton,"mwColorPickerNoneColorSwatch"):a===this.COLOR_AUTO?b.add(this._colorSwatchInButton,"mwColorPickerAutoColorSwatch"):a===this.COLOR_FLAT?b.add(this._colorSwatchInButton,"mwColorPickerFlatColorSwatch"):a===this.COLOR_INTERP?b.add(this._colorSwatchInButton,"mwColorPickerInterpColorSwatch"):a===this.COLOR_TEXTUREMAP?b.add(this._colorSwatchInButton,"mwColorPickerTextureMapColorSwatch"):
f.set(this._colorSwatchInButton,"backgroundColor",a))},_createTooltipDialogWithColorPicker:function(a){return new n({content:a,"class":"ColorEditorTooltipDialog"})}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n,p){return h("dijit.TooltipDialog",[m,e,k,
a],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:n,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"keydown",f.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];d.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();l.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,
a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==c.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==
c.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(l.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(l.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}})})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),
function(h,d,g,c,f,b,l,m){b.focus=function(a){if(a){var c="node"in a?a.node:a,d=a.bookmark;a=a.openedForWindow;var g=d?d.isCollapsed:!1;if(c){var h="iframe"==c.tagName.toLowerCase()?c.contentWindow:c;if(h&&h.focus)try{h.focus()}catch(l){}b._onFocusNode(c)}if(d&&f.withGlobal(a||f.global,m.isCollapsed)&&!g){a&&a.focus();try{f.withGlobal(a||f.global,m.moveToBookmark,null,[d])}catch(r){}}}};b.watch("curNode",function(a,b,d){m._curFocus=d;m._prevFocus=b;d&&c.publish("focusNode",d)});b.watch("activeStack",
function(a,b,c){m._activeStack=c});b.on("widget-blur",function(a,b){c.publish("widgetBlur",a,b)});b.on("widget-focus",function(a,b){c.publish("widgetFocus",a,b)});g.mixin(m,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return m.getBookmark().isCollapsed},getBookmark:function(){return(f.global==window?l:new l.SelectionManager(f.global)).getBookmark()},moveToBookmark:function(a){return(f.global==window?l:new l.SelectionManager(f.global)).moveToBookmark(a)},getFocus:function(a,c){var e=!b.curNode||
a&&d.isDescendant(b.curNode,a.domNode)?m._prevFocus:b.curNode;return{node:e,bookmark:e&&e==b.curNode&&f.withGlobal(c||f.global,m.getBookmark),openedForWindow:c}},_activeStack:[],registerIframe:function(a){return b.registerIframe(a)},unregisterIframe:function(a){a&&a.remove()},registerWin:function(a,c){return b.registerWin(a,c)},unregisterWin:function(a){a&&a.remove()}});return m})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
function(h,d,g,c,f,b){var l=function(a){var k=a.document;this.getType=function(){if(k.getSelection){var b="text",c;try{c=a.getSelection()}catch(d){}c&&1==c.rangeCount&&(c=c.getRangeAt(0),c.startContainer==c.endContainer&&(1==c.endOffset-c.startOffset&&3!=c.startContainer.nodeType)&&(b="control"));return b}return k.selection.type.toLowerCase()};this.getSelectedText=function(){if(k.getSelection){var b=a.getSelection();return b?b.toString():""}return"control"==this.getType()?null:k.selection.createRange().text};
this.getSelectedHtml=function(){if(k.getSelection){var b=a.getSelection();if(b&&b.rangeCount){var c,d="";for(c=0;c<b.rangeCount;c++){var f=b.getRangeAt(c).cloneContents(),g=k.createElement("div");g.appendChild(f);d+=g.innerHTML}return d}return null}return"control"==this.getType()?null:k.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(k.getSelection){var b=a.getSelection();return b.anchorNode.childNodes[b.anchorOffset]}if((b=k.selection.createRange())&&
b.item)return k.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(k.getSelection){if(a=k.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=k.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var b=
this.getSelectedElement()||this.getParentElement();return this.getParentOfType(b,arguments)};this.isTag=function(a,b){if(a&&a.tagName)for(var c=a.tagName.toLowerCase(),d=0;d<b.length;d++){var f=String(b[d]).toLowerCase();if(c==f)return f}return""};this.getParentOfType=function(a,b){for(;a;){if(this.isTag(a,b).length)return a;a=a.parentNode}return null};this.collapse=function(b){if(k.getSelection){var c=a.getSelection();c.removeAllRanges?b?c.collapseToStart():c.collapseToEnd():c.collapse(b)}else c=
k.selection.createRange(),c.collapse(b),c.select()};this.remove=function(){var b=k.selection;k.getSelection?(b=a.getSelection(),b.deleteFromDocument()):"none"!=b.type.toLowerCase()&&b.clear();return b};this.selectElementChildren=function(b,f){var g;b=d.byId(b);if(k.getSelection){var h=a.getSelection();c("opera")?(g=h.rangeCount?h.getRangeAt(0):k.createRange(),g.setStart(b,0),g.setEnd(b,3==b.nodeType?b.length:b.childNodes.length),h.addRange(g)):h.selectAllChildren(b)}else if(g=b.ownerDocument.body.createTextRange(),
g.moveToElementText(b),!f)try{g.select()}catch(l){}};this.selectElement=function(a,b){var g;a=d.byId(a);if(k.getSelection){var h=k.getSelection();g=k.createRange();h.removeAllRanges&&(c("opera")&&h.getRangeAt(0)&&(g=h.getRangeAt(0)),g.selectNode(a),h.removeAllRanges(),h.addRange(g))}else try{h=a.tagName?a.tagName.toLowerCase():"",g="img"===h||"table"===h?f.body(k).createControlRange():f.body(k).createRange(),g.addElement(a),b||g.select()}catch(l){this.selectElementChildren(a,b)}};this.inSelection=
function(b){if(b){var c,d;if(k.getSelection){var f=a.getSelection();f&&0<f.rangeCount&&(d=f.getRangeAt(0));if(d&&d.compareBoundaryPoints&&k.createRange)try{if(c=k.createRange(),c.setStart(b,0),1===d.compareBoundaryPoints(d.START_TO_END,c))return!0}catch(g){}}else{d=k.selection.createRange();try{c=b.ownerDocument.body.createTextRange(),c.moveToElementText(b)}catch(h){}if(d&&c&&1===d.compareEndPoints("EndToStart",c))return!0}}return!1};this.getBookmark=function(){var c,d,f=k.selection,g=b.curNode;if(k.getSelection){if(f=
a.getSelection())if(f.isCollapsed){if(c=g?g.tagName:"")if(c=c.toLowerCase(),"textarea"==c||"input"==c&&(!g.type||"text"==g.type.toLowerCase()))return f={start:g.selectionStart,end:g.selectionEnd,node:g,pRange:!0},{isCollapsed:f.end<=f.start,mark:f};c={isCollapsed:!0};f.rangeCount&&(c.mark=f.getRangeAt(0).cloneRange())}else d=f.getRangeAt(0),c={isCollapsed:!1,mark:d.cloneRange()}}else if(f){c=g?g.tagName:"";c=c.toLowerCase();if(g&&c&&("button"==c||"textarea"==c||"input"==c)){if(f.type&&"none"==f.type.toLowerCase())return{isCollapsed:!0,
mark:null};d=f.createRange();return{isCollapsed:d.text&&d.text.length?!1:!0,mark:{range:d,pRange:!0}}}c={};try{d=f.createRange(),c.isCollapsed=!("Text"==f.type?d.htmlText.length:d.length)}catch(h){return c.isCollapsed=!0,c}if("CONTROL"==f.type.toUpperCase())if(d.length){c.mark=[];f=0;for(g=d.length;f<g;)c.mark.push(d.item(f++))}else c.isCollapsed=!0,c.mark=null;else c.mark=d.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return c};this.moveToBookmark=
function(b){if(b=b.mark)if(k.getSelection){var c=a.getSelection();c&&c.removeAllRanges?b.pRange?(c=b.node,c.selectionStart=b.start,c.selectionEnd=b.end):(c.removeAllRanges(),c.addRange(b)):console.warn("No idea how to restore selection for this browser!")}else if(k.selection&&b){var d;b.pRange?d=b.range:g.isArray(b)?(d=k.body.createControlRange(),h.forEach(b,function(a){d.addElement(a)})):(d=k.body.createTextRange(),d.moveToBookmark(b));d.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},
m=new l(window);m.SelectionManager=l;return m})},"variableeditor/views/editors/ColorOrderEditor":function(){define("variableeditor/views/editors/ColorOrderEditor","dojo/_base/declare dojo/_base/lang dijit/registry dojo/_base/Color dojo/dom-style dojo/parser dojo/dom-construct dojo/dom-class dojo/keys dojo/on dojo/dnd/Source dojo/dnd/Manager dijit/focus dojo/topic dojo/window dojo/sniff mw-dialog-utils/DialogUtils variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/editors/_ColorUtils variableeditor/views/editors/RGBColorEditor variableeditor/views/editors/ColorTextBoxEditor variableeditor/views/renderers/ColorOrderRenderer variableeditor/views/renderers/_TemplateMixin dojo/text!variableeditor/views/editors/templates/ColorOrderEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q,r,s,t,u,x,w,v,z,y,A,B,D){h=h("variableeditor.views.editors.ColorOrderEditor",[x,w,A],{AddNewLabel:D.colorOrderEditorAddNew,_colorOrderRenderer:void 0,_valueChanged:!1,_colorChangeListeners:{},_dndSource:void 0,_avatarMap:{},_inputValueType:"string",_rangeZeroToOne:!0,constructor:function(a){this.templateString=B;this.AddNewLabel=D.colorOrderEditorAddNew;this._colorOrderRenderer=void 0;this._colorChangeListeners={};this._dndSource=void 0;this._avatarMap={};this._rangeZeroToOne=
a?this._getPossibleBooleanFunctionValue(a.rangeZeroToOne,!0):!0;b.parse();a&&(this._allArgs=a,this.init(a));this._colorChangeListeners={};this._colorChangeListeners.documentClickListener=k.pausable(document,"mouseup",d.hitch(this,"_handleColorBlur"));this.colorEditorsCreated=!1},postCreate:function(){this._createColorOrderRenderer();this._createAddNewColorButton();this._value&&this._setUIValue(this._value,!0);s("mac")&&this.addCSSClasses("macScrollBarWidth");this.inherited(arguments)},setValue:function(a){this._inputValueType=
"string"===typeof a||a instanceof String?"string":"array";this._setUIValue(a);this.inherited(arguments)},edit:function(){this.inherited(arguments);this._updateColorList(this._value);var a=this._getAttachNode("colorAddButton");a&&p.focus(a)},stopEditing:function(){var a=this._getColorWidgets();a&&a.forEach&&a.forEach(function(a){a.stopEditing&&a.stopEditing()});this._changeObjectListenersState(this._colorChangeListeners,"pause");this.inherited(arguments)},cancelEditing:function(){this._setUIValue(this._originalValue,
!0);this._valueChanged=!1;this.inherited(arguments)},_handleBlurEvent:function(){},_handleColorBlur:function(a){if(!a.target.classList.contains("mwColorPaletteSwatch")&&!a.target.classList.contains("dijitTooltipConnector")){var b=dijit.registry.getEnclosingWidget(a.target);if(!(b&&0<=b.class.indexOf("mwColor"))){try{for(var c=this._getColorWidgets(),b=0;b<c.length;b+=1){var d=c[b];if(d._colorDropDown&&d._colorDropDown._tooltipDialogWithColorPicker&&d._colorDropDown._tooltipDialogWithColorPicker.domNode&&
d._colorDropDown._tooltipDialogWithColorPicker.domNode.contains(a.target))return}}catch(e){}this._getPossibleBooleanFunctionValue(this._commitOnBlur,!0)&&(this._editing&&a&&a.target&&this.domNode&&!this.domNode.contains(a.target)&&a.target!==this._renderer.domNode)&&(this._valueChanged?this.stopEditing():this.cancelEditing())}}},_changeListenerState:function(a){if(a&&"string"===typeof a){this.inherited(arguments);this._changeObjectListenersState(this._colorChangeListeners,a);var b=this._getColorWidgets();
b&&b.forEach&&b.forEach(function(b){b._changeListenerState(a)})}},_createAddNewColorButton:function(){var a=this._getAttachNode("colorAddButton");a&&(k(a,"click",d.hitch(this,"_addNewColor",w.WHITE.toRgba())),k(a,"keydown",d.hitch(this,"_handleKeyboardEvent")),this.focusNode=a)},_createColorOrderRenderer:function(){if(!this._colorOrderRenderer){this._colorOrderRenderer=new y(this._allArgs);this._colorOrderRenderer.setValue(this._value);this._colorOrderRenderer.startup();var a=this;this._colorOrderRenderer.addEventListener("click",
function(){a.stopEditing()});this._colorOrderRenderer.addEventListener("keydown",function(b){a._handleKeyDown(b.data)});var b=this._getAttachNode("colorOrderRendererDiv");l.place(this._colorOrderRenderer.domNode,b,"last")}},_updateColorOrderRenderer:function(){var a=this._getCommitValue();this._colorOrderRenderer&&this._colorOrderRenderer.setValue(a);this._renderer&&this._renderer.setValue(a)},_addNewColor:function(a){a||(a=w.WHITE.toRgba());a=this._createColorListItem(a);this._dndSource.insertNodes(!1,
[a]);this._valueChanged=!0;r.scrollIntoView(a);this._updateColorOrderRenderer()},_getColorWidgets:function(){var a=[];if(this.domNode){var b=this._getAttachNode("colorList");if(b&&(b=b.getElementsByClassName(v.CSS_SELECTOR))&&b.length)for(var c=0;c<b.length;c+=1){var d=g.getEnclosingWidget(b[c]);d&&a.push(d)}}return a},_getCommitValue:function(){var a="",b=this,a=this._getColorWidgets();"string"===this._inputValueType?(a=a.map(function(a){a=a._getUIValue();a=new c(a);var d=b._rangeZeroToOne?255:1;
return[a.r/d,a.g/d,a.b/d].join(" ")}).join(";"),a="["+a+"]"):a=a.map(function(a){a=a._getUIValue();a=new c(a);var d=b._rangeZeroToOne?255:1;return[a.r/d,a.g/d,a.b/d]});return a},_createColorList:function(a){if(this.domNode&&a&&this.isEditing()){var b=this._getAttachNode("colorListDiv"),c=this._getAttachNode("colorList");b.removeChild(c);this._destroyColorWidgets();l.empty(c);a=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne);for(var d=[],e=0;e<a.length;e+=1){var f=this._createColorListItem(a[e]);
d.push(f)}this._createDragAndDropSource(c,d);l.place(c,b,"last")}},_updateColorList:function(a){if(this.domNode&&a&&this.isEditing())if(!1===this.colorEditorsCreated)this._createColorList(this._value),this.colorEditorsCreated=!0;else{a=this._getJSColorValuesFromMATLABStringArray(a,this._rangeZeroToOne);for(var b=this._getColorWidgets(),c=0;c<b;c++)b[c].setValue(a[c])}},_createColorEditor:function(a){a=new v({value:a,editable:!0,state:this.getState(),rangeZeroToOne:this._rangeZeroToOne});a.startup();
var b=this;a.addEventListener("editingCanceled",function(){b._updateColorOrderRenderer()});a.addEventListener("valueChanged",function(){b._valueChanged=!0;b._updateColorOrderRenderer()});return a},_createColorListItem:function(a){a=this._createColorEditor(a);var b=l.create("li",{dndtype:"colorListItem",type:["colorListItem"]});m.add(b,"dojoDndItem");m.add(b,"colorListItem");var c=this.getState();!0===u.getLogicalValue(c.DnDSupported,!0)&&(c=l.create("div",{innerHTML:"."}),m.add(c,"dojoDndHandle"),
m.add(c,"colorDragHandle"),l.place(c,b,"first"));l.place(a.domNode,b,"last");c=l.create("div",{innerHTML:"."});m.add(c,"colorDeleteDiv");k(c,"click",d.hitch(this,"_deleteColorListItem",b,a));l.place(c,b,"last");b.colorEditorWidget=a;return b},_createDragAndDropSource:function(a,b){var c=this,e=u.createSelectableDnDTarget(a,{accept:["colorListItem"],checkAcceptanceCallback:function(b){c._valueChanged=!0;return b.node===a}});e.autoSync=!0;e.allowNested=!0;e.isSource=!0;e.copyOnly=!1;e.withHandles=!0;
e.creator=d.hitch(this,"_createDnDAvatar");this._dndSource=e;var f=e.onMouseMove;e.onMouseMove=function(a){c._adjustAvatarMap(e);f.call(e,a)};q.subscribe("/dnd/start",d.hitch(c,"_handleDnDTopic","pause"));q.subscribe("/dnd/drop",d.hitch(c,"_handleDnDTopic","resume"));q.subscribe("/dnd/cancel",d.hitch(c,"_handleDnDTopic","resume"));var g=e.onDrop;e.onDrop=function(a,b,d){c._valueChanged=!0;g&&(a===e||a.node===e.node)&&g.call(e,e,b,d)};e.insertNodes(!1,b);e.startup()},_handleDnDTopic:function(a){this._changeListenerState(a);
this._updateColorOrderRenderer();p.focus(this.focusNode)},_deleteColorListItem:function(a,b,c){var d=this._getAttachNode("colorAddButton");d&&p.focus(d);1<this._getColorWidgets().length?(this._dndSource.delItem(a.id),b.destroy(),l.destroy(a),this._valueChanged=!0):t.displayModalDialog(D.colorOrderEditorAtLeastOne,D.errorTitle,[{name:"ok",buttonHandler:{handler:"dismiss"}}]);c.preventDefault();c.stopPropagation();this._updateColorOrderRenderer()},_adjustAvatarMap:function(a){if(a.map)for(var b in a.map)if(a.map.hasOwnProperty(b)){var c=
a.map[b];if(c&&c.data&&"string"===typeof c.data&&(c=a.node.querySelector("#"+b))&&c.data)a.map[b].data=c.data}},_resetDojoDnDAvatarOffset:function(){var a=n.manager();a.OFFSET_X=16;a.OFFSET_Y=16},_createDnDAvatar:function(a,b){var c=l.create("span");c.id=dojo.dnd.getUniqueId();c.itemIndex=parseInt(a.data);m.add(c,"dojoDndItem");m.add(c,"colorOrderEditor");m.add(c,"colorListItemAvatar");if("avatar"===b&&a){if(a){var d=new v;d.setValue(a.getValue());d.startup();l.place(d.domNode,c,"last")}}else return c=
this._dndSource.defaultCreator(a,b),this._avatarMap[c.data]=a.colorEditorWidget,c.node.data=a.colorEditorWidget,c.data=a.colorEditorWidget,c;this._resetDojoDnDAvatarOffset();return{node:c,data:a,type:["colorListItem"]}},_handleKeyboardEvent:function(a){if(this.isEditing()){"keydown"===a.type&&this._handleKeyDown(a);var b=a;b.editor=this;this.dispatchEvent(a.type,this.domNode,b);a.stopPropagation()}else this.inherited(arguments)},_handleKeyDown:function(b){if(b){var c=this._getKeyCode(b);if(null!==
c&&c===a.ESCAPE){if(b.target)for(var c=this._getColorWidgets(),d=0;d<c.length;d+=1)if(c[d].domNode.contains(b.target)){c[d].cancelEditing();p.focus(this.focusNode);return}this.cancelEditing();b.stopPropagation();b.preventDefault()}}},_getUIValue:function(){return!this._valueChanged?this._originalValue:this._getCommitValue()},_setUIValue:function(a,b){if(JSON.stringify(a)!==JSON.stringify(this._value)||b)this._updateColorList(a),this._colorOrderRenderer&&this._colorOrderRenderer.setValue(a),this._renderer&&
this._renderer.setValue(a)},_setReadOnly:function(a){var b=this._getColorWidgets();b&&b.forEach&&b.forEach(function(b){b._setReadOnly&&b._setReadOnly(a)})},destroy:function(){this._destroyColorWidgets();this.inherited(arguments)},_destroyColorWidgets:function(){var a=this._getColorWidgets();if(a)for(var b=0;b<a.length;b+=1)a[b].destroy()}});h.COLOR_LIST_DIV_ATTACH_POINT="colorListDiv";h.COLOR_LIST_ATTACH_POINT="colorList";h.COLOR_LIST_ADD_NEW_ATTACH_POINT="colorAddButton";h.COLOR_ORDER_RENDERER_DIV=
"colorOrderRendererDiv";return h})},"variableeditor/views/editors/DatetimeEditor":function(){define("variableeditor/views/editors/DatetimeEditor",["dojo/_base/declare","dojo/_base/lang","dojo/keys","variableeditor/views/editors/TextBoxEditor"],function(h,d,g,c){return h("variableeditor.views.editors.DatetimeEditor",[c],{_handleKeyDown:function(c){var b=this._getKeyCode(c);c&&(null!==b&&b===g.TAB)&&(this._handleTabKey(c.shiftKey),c.preventDefault());this.inherited(arguments)},_handleTabKey:function(c){c?
this.goToPreviousField():this.goToNextField()},goToNextField:function(){var c=this._getUIValue();if(c&&"NaT"!==c){var b=this._getNextFieldIndices(c,this._inputBox.inputNode.selectionEnd);this._inputBox.inputNode.selectionStart=b[0];this._inputBox.inputNode.selectionEnd=b[1]}return b},_getNextFieldIndices:function(c,b){var d=c.substring(b,c.length),d=d.match(/[^a-z0-9]+/i),g=-1,a=1;null!==d&&(g=b+d.index,a=d[0].length);var d=c.substring(g+a,c.length),d=d.match(/[^a-z0-9]+/i),h=c.length;null!==d&&(h=
g+a+d.index);return[g+a,h]},goToPreviousField:function(){var c=this._getUIValue();if(c&&"NaT"!==c){var b=this._getPreviousFieldIndices(c,this._inputBox.inputNode.selectionStart);this._inputBox.inputNode.selectionStart=selectionStart;this._inputBox.inputNode.selectionEnd=selectionEnd}return b},_getPreviousFieldIndices:function(c,b){var d=this._reverse(c.substr(0,b)),d=d.match(/[^a-z0-9]+/i),g=c.length,a=1;null!==d&&(g=b-1-d.index,a=d[0].length);var d=this._reverse(c.substring(0,g-a+1)),d=d.match(/[^a-z0-9]+/i),
h=-1;null!==d&&(h=g-a-d.index);selectionStart=h+1;selectionEnd=g-a+1;return[selectionStart,selectionEnd]},_reverse:function(c){for(var b="",d=c.length-1;0<=d;d-=1)b+=c[d];return b},_getUIValue:function(){var c=this._inputBox.inputNode.value;if(void 0===c||null===c||""===c)c="NaT";return c},_setUIValue:function(c){if(void 0===c||null===c||""===c)c="NaT";this._inputBox.set("value",c)}})})},"variableeditor/views/editors/DisplayFormatTextBoxEditor":function(){define(["dojo/_base/declare","variableeditor/views/editors/TextBoxEditor"],
function(h,d){return h([d],{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-tag","datatools.variableeditor.views.editors.DisplayFormatTextBoxEditor")},_setupInputNode:function(){this.inherited(arguments);this._inputBox.set("spellcheck",!1)},setState:function(d){d&&(d.isMetaData=!1);this.inherited(arguments)}})})},"variableeditor/views/editors/FilePickerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/aspect dijit/focus variableeditor/VariableEditorUtils variableeditor/views/editors/_EditorBase variableeditor/views/renderers/_TemplateMixin variableeditor/views/editors/TextBoxEditor mw-form/ToggleButton mw-overlay-utils/BusyOverlay dojo/text!./templates/FilePickerEditor.html dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,d,g,c,f,b,l,m,a,k,e,n,p,q){return h([m,a],{templateString:p,_textBox:void 0,_browseButton:void 0,_busyIndicator:void 0,_filterSpec:"*",_isBrowsing:!1,_doubleClickDuration:0,postCreate:function(){this.inherited(arguments);this._createTextBox();this._createBrowseButton();this._createBusyIndicator();this._addListenersToComponents()},_createTextBox:function(){this._textBox=new k(l.mergeObjects(this._allArgs,{inPlaceEditor:void 0,state:{isMetaData:!1},spellcheck:!1}));this._textBox.placeAt(this.domNode).startup();
f.after(this._textBox,"stopEditing",function(){b.curNode===this._textBox.focusNode&&b.curNode.blur()}.bind(this));this._setUIValue(this._value)},_createBrowseButton:function(){this._browseButton=new e({text:q.filePickerEditorBrowse,icon:"fileIcon",disabled:!this.isEditable()});this._browseButton.placeAt(this.domNode).startup()},_createBusyIndicator:function(){this.ownerDocumentBody?(this._busyIndicator=new n(n.SIZE.SMALL),this._busyIndicator.set("target",this.ownerDocumentBody)):setTimeout(d.hitch(this,
"_createBusyIndicator"),100)},_addListenersToComponents:function(){this._textBox.addEventListener("valueChanged",d.hitch(this,"_handleTextBoxValueChanged"));this._browseButton.on("mousedown, click",d.hitch(this,"_handleBrowseButtonClick"))},_handleTextBoxValueChanged:function(){setTimeout(function(){var a=this._getUIValue();!this._isBrowsing&&this._value!==a&&!this._isBrowse(a)?this.setValue(a):this._setUIValue(this._value)}.bind(this))},_handleBrowseButtonClick:function(a){a.preventDefault();this._isBrowsing||
(this._setUIValue(this._value),this._setBrowsing(!0),this.setValue(this._getBrowse()))},setValue:function(a){var b=this._isBrowsing&&/ $/.test(a),c=this._isBrowse(a);(b||!c)&&this._setBrowsing(!1);a=(a||"").trim();this.inherited(arguments);this._setUIValue(a)},setState:function(a){this.domNode&&(a&&(this._filterSpec=a.filterSpec||"*"),this.inherited(arguments))},setEditable:function(a){this.inherited(arguments);var b=this.isEditable();this._textBox&&this._textBox.setEditable(b);this._browseButton&&
this._browseButton.set("disabled",!b)},_getUIValue:function(){return(this._textBox?this._textBox._getUIValue():this._value).trim()},_setUIValue:function(a){a=(a||"").trim();!this._isBrowse(a)&&this._textBox&&(this._textBox.stopEditing(),this._textBox.setValue(a),this._textBox.setEditValue(a))},_setBrowsing:function(a){this._browseButton&&(this._browseButton.set("checked",a),this[a?"addCSSClasses":"removeCSSClasses"]("open",this._browseButton.domNode),b.curNode&&b.focus(a?this._browseButton.domNode:
this._textBox.domNode));this._isBrowsing=a},_getBrowse:function(){return"?"+this._filterSpec},_isBrowse:function(a){return a&&"?"===a[0]}})})},"mw-overlay-utils/BusyOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/query dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin spinner/spin mw-log/Log dojo/text!./templates/busyOverlayTemplate.html".split(" "),function(h,d,g,c,f,b,l,m,a,
k,e,n,p,q,r,s){var t={rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9,top:"50%",left:"50%"},u={lines:11,length:8,width:4,radius:12,corners:0.5,className:"spinner spinnerLarge"},x={lines:11,length:5,width:3,radius:8,corners:1,className:"spinner spinnerMedium"},w={lines:11,length:4,width:2,radius:6,corners:1,className:"spinner spinnerSmall"},v={lines:9,length:2,width:2,radius:4,corners:0,className:"spinner spinnerXSmall"};d.mixin(u,t);d.mixin(x,t);d.mixin(w,t);d.mixin(v,
t);h=h("MW.utils.BusyOverlay",[n,p],{_displayed:!1,_started:!1,_spinner:null,_size:null,target:null,_text:"",_textSpan:null,_spinnerTextNode:null,templateString:s,constructor:function(a){this._textSpan=m.create("span");this._spinnerTextNode=m.create("div");Object.defineProperty(this,"text",{set:function(a){this._text=a;this._text&&"string"===typeof this._text||(this._text="");this._textSpan.textContent=this._text;this._started&&this._updateTitle()},get:function(){return this._text},enumerable:!0,
configurable:!0});this._setSpinnerSize(a);l.add(this._spinnerTextNode,"spinnerText");a&&a.text&&this.set("text",a.text)},_setSpinnerSize:function(a){try{if(null===a||void 0===a||a.text&&!a.size)this._size=d.clone(u);else if("object"===typeof a)this._size=a.size?d.clone(a.size):d.clone(a);else throw Error("Incorrect argument passed to BusyOverlay Object.");}catch(b){r.error(b.message)}},_updateTitle:function(){l.remove(this._textSpan,"spinnerCenter");this._textSpan.offsetWidth>=this._spinnerTextNode.offsetWidth?
f.set(this._spinnerTextNode,"title",this._text):f.set(this._spinnerTextNode,"title","");l.add(this._textSpan,"spinnerCenter")},_updateTextStyle:function(){var b=a.position(this._underlayNode).h/2+2*this._size.radius+15+"px";c.set(this._spinnerTextNode,"top",b)},startup:function(){if(!this._started){this._spinner=new q(this._size);if(this.target){if("string"===typeof this.target){var a=e.byId(this.target);this.target=a?a.domNode:g.byId(this.target)}m.place(this.domNode,this.target);m.place(this._textSpan,
this._spinnerTextNode);m.place(this._spinnerTextNode,this._busyOverlayNode)}this._text&&(this._updateTitle(),this.own(k(window,"resize",this._updateTextStyle.bind(this))));this._started=!0;this.inherited(arguments)}},postCreate:function(){this._underlayNode.style.zIndex=2E9-1;this.inherited(arguments)},show:function(){this._displayed||(this._started||this.startup(),this._displayed=!0,this._busyOverlayNode.style.display="inline",this._busyOverlayNode.className="mw-busyIndicator",this._updateTextStyle(),
c.set(this._spinnerTextNode,"display","block"),this._spinner.spin(this._spinnerNode),this.onShow())},hide:function(){this._displayed&&(this._displayed=!1,this._busyOverlayNode.style.display="none",this._spinner.stop(),this._spinnerTextNode.style.display="none",this.onHide())},uninitialize:function(){this.hide();this._spinner=this.target=null;this._displayed=!1;b(".spinnerText").forEach(m.destroy);this._spinnerTextNode=this._textSpan=null;this.inherited(arguments)},isVisible:function(){return this._displayed},
onShow:function(){},onHide:function(){this.inherited(arguments)}});h.SIZE={LARGE:u,MEDIUM:x,SMALL:w,XSMALL:v};Object.freeze(h.SIZE);Object.freeze(h.SIZE.LARGE);Object.freeze(h.SIZE.MEDIUM);Object.freeze(h.SIZE.SMALL);Object.freeze(h.SIZE.XSMALL);return h})},"spinner/spin":function(){define([],function(){function h(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function d(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function g(a,b,c,d){var f=
["opacity",b,~~(100*a),c,d].join("-");c=0.01+100*(c/d);d=Math.max(1-(1-a)/b*(100-c),a);var g=e.substring(0,e.indexOf("Animation")).toLowerCase();k[f]||(n.insertRule("@"+(g&&"-"+g+"-"||"")+"keyframes "+f+"{0%{opacity:"+d+"}"+c+"%{opacity:"+a+"}"+(c+0.01)+"%{opacity:1}"+(c+b)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",n.cssRules.length),k[f]=1);return f}function c(b,c){var d=b.style,e,f;c=c.charAt(0).toUpperCase()+c.slice(1);for(f=0;f<a.length;f++)if(e=a[f]+c,void 0!==d[e])return e;if(void 0!==d[c])return c}
function f(a,b){for(var d in b)a.style[c(a,d)||d]=b[d];return a}function b(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)void 0===a[d]&&(a[d]=c[d])}return a}function l(a){this.opts=b(a||{},l.defaults,p)}function m(){function a(b,c){return h("\x3c"+b+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"spin-vml"\x3e',c)}n.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(b,c){function e(){return f(a("group",{coordsize:k+" "+k,coordorigin:-h+" "+-h}),
{width:k,height:k})}function g(b,k,l){d(m,d(f(e(),{rotation:360/c.lines*b+"deg",left:~~k}),d(f(a("roundrect",{arcsize:c.corners}),{width:h,height:c.width,left:c.radius,top:-c.width>>1,filter:l}),a("fill",{color:"string"==typeof c.color?c.color:c.color[b%c.color.length],opacity:c.opacity}),a("stroke",{opacity:0}))))}var h=c.length+c.width,k=2*h,l=2*-(c.width+c.length)+"px",m=f(e(),{position:"absolute",top:l,left:l});if(c.shadow)for(l=1;l<=c.lines;l++)g(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d2,makeshadow\x3d1,shadowopacity\x3d.3)");
for(l=1;l<=c.lines;l++)g(l);return d(b,m)};l.prototype.opacity=function(a,b,c,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&b+d<a.childNodes.length&&(a=(a=(a=a.childNodes[b+d])&&a.firstChild)&&a.firstChild))a.opacity=c}}var a=["webkit","Moz","ms","O"],k={},e,n=function(){var a=h("style",{type:"text/css"});d(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,
zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};l.defaults={};b(l.prototype,{spin:function(a){this.stop();var b=this,c=b.opts,d=b.el=f(h(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex});f(d,{left:c.left,top:c.top});a&&a.insertBefore(d,a.firstChild||null);d.setAttribute("role","progressbar");b.lines(d,b.opts);if(!e){var g=0,k=(c.lines-1)*(1-c.direction)/2,l,m=c.fps,p=m/c.speed,n=(1-c.opacity)/(p*c.trail/100),q=p/c.lines;(function H(){g++;for(var a=
0;a<c.lines;a++)l=Math.max(1-(g+(c.lines-a)*q)%p*n,c.opacity),b.opacity(d,a*c.direction+k,l,c);b.timeout=b.el&&setTimeout(H,~~(1E3/m))})()}return b},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,b){function c(a,d){return f(h(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:d,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*k+b.rotate)+"deg) translate("+
b.radius+"px,0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var k=0,l=(b.lines-1)*(1-b.direction)/2,m;k<b.lines;k++)m=f(h(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:e&&g(b.opacity,b.trail,l+k*b.direction,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&d(m,f(c("#000","0 0 4px #000"),{top:"2px"})),d(a,d(m,c("string"==typeof b.color?b.color:b.color[k%b.color.length],"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,
b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var q=f(h("group"),{behavior:"url(#default#VML)"});!c(q,"transform")&&q.adj?m():e=c(q,"animation");return l})},"variableeditor/views/editors/IconTextBoxEditor":function(){define("variableeditor/views/editors/IconTextBoxEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","variableeditor/views/editors/TextBoxEditor"],function(h,d,g,c){return h("variableeditor.views.editors.IconTextBoxEditor",[c],{_setupDomClasses:function(c){this._applyCssClass(c?
c.dataType?c.dataType:c["class"]:"char",c?c.isTemporaryValue:!1,!0,this.domNode);this.addCSSClasses("cellRenderer",this.domNode)}})})},"variableeditor/views/editors/OpenvarEditor":function(){define("variableeditor/views/editors/OpenvarEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","variableeditor/views/editors/_EditorBase","variableeditor/VariableEditorMain"],function(h,d,g,c,f){return h("variableeditor.views.editors.OpenvarEditor",[c],{edit:function(){var b=this.getState().editorValue,
c=this.getState().workspace;this._openVariable(b,c)},_openVariable:function(b,c){f.getInstance().openVariable(b,c,void 0)},_setReadOnly:function(){}})})},"variableeditor/VariableEditorMain":function(){define("variableeditor/VariableEditorMain","dojo/_base/declare dojo/_base/lang variableeditor/ClientPeerManagerFactory variableeditor/VariableEditorUtils variableeditor/VariableEditorDnD mw-log/Log dojo/on dojo/dom mw-messageservice/MessageService dojo/dom-class".split(" "),function(h,d,g,c,f,b,l,m,
a,k){var e=h("variableeditor.VariableEditorMain",[f],{layoutService:[],clientPeerManager:{},orig_updateDataStyles:null,orig_updateColumnStyles:null,currentVariables:[],dropZoneClass:"VEDropZone",constructor:function(a){this.layoutService=[];this.executionService=[];this.helpDataService=[];this.clientPeerManager={};this.orig_updateColumnStyles=this.orig_updateDataStyles=null;this.currentVariables=[];this.focusedDocument={};this.initArgs(a);a&&(this.clientPeerManager=g.createManager({messageService:a.messageService,
executionService:a.executionService,helpDataService:a.helpDataService,channel:"/VariableEditor",ignoreUpdates:!1,editable:!0}),this.init())},initArgs:function(a){a&&(this.layoutService=a.layoutService,this.executionService=a.executionService,this.helpDataService=a.helpDataService)},init:function(){var d=this;this.clientPeerManager.addEventListener("variableAdded",function(e){try{if(e.data.peerDoc){var f=e.data.peerDoc;d.addWidget(f);d.currentVariables.push(f.varName);c.logDebug("VE: Document Added");
if(c.isPerformance())var g=(new Date).getTime();f.addEventListener("viewAdded",function(e){try{c.logDebug("VE: View Added");var f=e.data.peerView;d._attachDndHandles(e.data.peerDoc);var h=function(b){c.logDebug("VE: View Ready");var d=b.data.peerView;d.table.startup&&d.table.startup();if(c.isPerformance()&&0!==b.data.peerView.table.dataModel._partialData.length){var e=JSON.parse(b.data.peerView.table.dataModel._partialData[0][0]),f=b.data.peerView.table.dataModel._rowCount,k=b.data.peerView.table.dataModel._columnCount;
e.isTemporaryValue||(e=(new Date).getTime()-g,a.publish("/VELogChannel",{eventType:"VELoadPerformance",dataType:b.data.peerView.declaredClass,loadTime:e,rows:f,columns:k}))}d.removeEventListener("viewReady",h,this)};f.addEventListener("viewReady",h)}catch(k){b.error(k)}});f.addEventListener("viewRemoved",function(a){try{c.logDebug("VE: View Removed")}catch(d){b.error(d)}})}}catch(h){b.error(h)}});this.clientPeerManager.addEventListener("variableRemoved",function(a){a.data.peerDoc&&(a=a.data.peerDoc,
d.removeWidget(a),d.currentVariables.pop(a.varName))});this.clientPeerManager.addEventListener("variableFocusGained",function(a){a.data.peerDoc&&(a=a.data.peerDoc,d.layoutService.showWidget(a.varDocID),this.focusedDocument=a)});this.clientPeerManager.addEventListener("variableFocusLost",function(a){this.focusedDocument={}})},_attachDndHandles:function(a){this.dragEnterListener=l(a,"dragenter",d.hitch(this,this._onDragEnter,a.domNode,this.dropZoneClass));this.dragOverListener=l(a,"dragover",d.hitch(this,
this._onDragOver));this.dragLeaveListener=l(a,"dragleave",d.hitch(this,this._onDragLeave,a.domNode,this.dropZoneClass));this.dropListener=l(a,"drop",d.hitch(this,this._onDrop,a.domNode,this.dropZoneClass))},_onDrop:function(a,b,c){var d=c.dataTransfer.getData("text/workspacebrowser").split(","),e=this.clientPeerManager;d.forEach(function(a){a&&e&&e.openVariable(a)});this.inherited(arguments)},openVariable:function(a,b,c){this.clientPeerManager&&this.clientPeerManager.openVariable&&this.clientPeerManager.openVariable(a,
b,c)},closeVariable:function(a){this.clientPeerManager.closeVariable(a)},closeAllVariables:function(){this.clientPeerManager.closeAllVariables()},start:function(){this.clientPeerManager.start()},stop:function(){this.clientPeerManager.stop()},addWidget:function(a){this.layoutService.addWidget(a.varDocID,"vEditor2",a,{title:a.varName,tooltip:a.varName,userContext:a.userContext});this.layoutService.showWidget(a.varDocID)},showWidget:function(a){this.layoutService.showWidget(a.varDocID)},removeWidget:function(a){this.layoutService.removeWidget(a.varDocID)},
getVariables:function(){return this.currentVariables}});e.getInstance=function(a){if(!e._instance)return e._instance=new e(a),e._instance;a&&e._instance.initArgs(a);return e._instance};return{getInstance:e.getInstance}})},"variableeditor/VariableEditorDnD":function(){define("variableeditor/VariableEditorDnD",["dojo/_base/declare","dojo/dom-geometry","dojo/dom-class","dojo/domReady!"],function(h,d,g){return h("variableeditor.VariableEditorDnD",[],{ValidDataFlavor:"text/workspacebrowser",ValidDropEffect:"copy",
InvalidDropEffect:"none",_onDragEnter:function(c,d,b){b.preventDefault();b.stopPropagation();this.isDropZone(c,b)&&this.isValidDropObject(b)&&g.add(c,d)},isDropZone:function(c,f){var b=!1,g=d.position(c,!0);g&&(f.pageX>g.x&&f.pageX<g.x+g.w&&f.pageY>g.y&&f.pageY+5<g.y+g.h)&&(b=!0);return b},isValidDropObject:function(c){if(c.dataTransfer){if(c.dataTransfer.types.indexOf)return-1<c.dataTransfer.types.indexOf(this.ValidDataFlavor);if(c.dataTransfer.types.contains)return c.dataTransfer.types.contains(this.ValidDataFlavor)}return!1},
_onDragOver:function(c){c.preventDefault();c.stopPropagation();this.isValidDropObject(c)?c.dataTransfer.dropEffect=this.ValidDropEffect:c.dataTransfer.dropEffect=this.InvalidDropEffect;return!1},_onDragLeave:function(c,d,b){b.preventDefault();b.stopPropagation();this.isDropZone(c,b)||g.remove(c,d)},_onDrop:function(c,d,b){b.preventDefault();b.stopPropagation();g.remove(c,d);return!1}})})},"variableeditor/views/renderers/GroupedColumnRenderer":function(){define("variableeditor/views/renderers/GroupedColumnRenderer",
"dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dojo/on dojo/dom-construct dijit/registry variableeditor/VariableEditorUtils variableeditor/views/renderers/_RendererBase variableeditor/views/renderers/_VERendererMixin variableeditor/views/editors/_VEEditorConverterMixin mw-log/Log".split(" "),function(h,d,g,c,f,b,l,m,a,k,e,n){return h("variableeditor.views.renderers.GroupedColumnRenderer",[a,k],{_renderers:void 0,_rendererCompleteCallback:void 0,_savedArgs:void 0,constructor:function(a){this.addEventListener("renderersConstructed",
d.hitch(this,this._onRenderersConstructed));this._renderers=[];if(a&&a.table&&a.table.ColumnModelProperties&&a.renderedObject&&a.renderedObject.col&&a.renderedObject.value){for(var b=a.renderedObject,c=parseInt(b.row),f=parseInt(b.col),g=a.table,l=JSON.parse(b.value),m=this,b=function(a){var b=a.declaredClass;a.isInstanceOf(k)||h.safeMixin(a,new k);a.isInstanceOf(e)||h.safeMixin(a,new e);a.declaredClass=b;a._setRendererProperties(l[n],g);a._setupEventListeners(m);m._styleRendererDomNodes(a,c,f,n,
l.length);m._renderers.push(a);parseInt(a.domNode.dataset.idx)===l.length-1&&m.dispatchEvent("renderersConstructed",m,{})},n=0;n<l.length;n+=1)d.mixin(l[n],{row:c,col:f,columnIndex:n}),this._createRendererObjectForGroup(l[n],"groupedcolumnrenderer",a,g,b);this._savedArgs=a}},_createRendererObjectForGroup:function(a,b,c,d,e){var f=null,g=this.getCellIndices(a),h=g.row,g=g.column;try{var k=d.getCellPropertyValue(h,g,b,a);if(k)require([k],function(a){f=new a(c);e&&"function"===typeof e&&e(f)});else return null}catch(l){n.error(l)}return f},
setState:function(a){this.domNode&&(this._setupDomClasses(a),this.inherited(arguments))},_onRenderersConstructed:function(){0<this._renderers.length&&(this._renderersConstructed=!0);this._addRenderersToDomNode()},_addRenderersToDomNode:function(){if(0<this._renderers.length)for(var a=0;a<this._renderers.length;a+=1)this.domNode&&this._renderers[a].domNode&&(this.domNode.appendChild(this._renderers[a].domNode),this._renderers[a].startup())},_setupDomClasses:function(){this.addCSSClasses(["groupedColumnRenderer"],
this.domNode)},_setRendererProperties:function(a,c,f){if(!a.isInvalidCache){var g=this.getCellIndices(a),m=g.row,n=g.column,g=g.columnIndex,x=JSON.parse(a.value);this.setColumnIndex&&this.setColumnIndex(g);this.setRow&&this.setRow(m);this.setColumn&&this.setColumn(n);this.getState&&(g=this.populateRendererState(m,n,a,c),this.setState(g));if(0<this._renderers.length){for(var w,v=0;v<x.length;v+=1){var z=this._renderers[v],g=void 0;w="";if(z&&(g=l.getEnclosingWidget(z.domNode)))w=g.declaredClass;var y=
c.getCellPropertyValue(m,n,"groupedcolumnrenderer",a),A=d.mixin({row:m,col:n,colIndex:v},x[v]);if(this.comparePathToDeclaredClass(y,w))this._renderers[v]._setRendererProperties(A,c,f);else{var B;z&&(B=z.domNode);var D=this;this._createRendererObjectForGroup(A,"groupedcolumnrenderer",this._savedArgs,c,function(a){var d=a.declaredClass;a.isInstanceOf(k)||h.safeMixin(a,new k);a.isInstanceOf(e)||h.safeMixin(a,new e);a.declaredClass=d;a._setRendererProperties(x[v],c,f);D._renderers[v]=a;B?b.place(a.domNode,
B,"replace"):D.domNode.appendChild(a.domNode);a.startup();D._styleRendererDomNodes(a,m,n,v,x.length)});g&&g.destroy()}}if(x.length<this._renderers.length){for(a=this._renderers.length-1;a>=x.length;a-=1)this.domNode.removeChild(this._renderers[a].domNode),this._renderers.splice(a);for(a=0;a<this._renderers.length;a+=1)this._styleRendererDomNodes(this._renderers[a],m,n,a,x.length)}}}},_styleRendererDomNodes:function(a,b,c,d,e){for(var f=100/e+"%",h=0;h<this._renderers.length;h+=1)g.set(this._renderers[h].domNode,
"width",f);d===e-1&&(f=100-(e-1)*(100/e)+"%");g.set(a.domNode,"width",f);g.set(a.domNode,"height","100%");a.domNode.setAttribute("data-row",b);a.domNode.setAttribute("data-col",c);a.domNode.setAttribute("data-idx",d);m.addToClassList(a.domNode,"row_"+b);m.addToClassList(a.domNode,"col_"+c);m.addToClassList(a.domNode,"idx_"+d);m.addToClassList(a.domNode,"variableEditorTableCell");0===d&&m.addToClassList(a.domNode,"firstCell");d===e-1?(m.addToClassList(a.domNode,"lastCell"),0<d&&m.removeFromClassList(this._renderers[d-
1].domNode,"lastCell")):0<d&&m.addToClassList(a.domNode,"middleCell");m.removeFromClassList(a.domNode,"cell")},getCellIndices:function(a){var b=-1,c=-1,d=-1;a&&void 0!==a.row&&(b=parseInt(a.row));a&&void 0!==a.col&&(c=parseInt(a.col));a&&void 0!==a.columnIndex&&(d=parseInt(a.columnIndex));return{row:b,column:c,columnIndex:d}},postCreate:function(){this._renderersConstructed&&this._addRenderersToDomNode();this.inherited(arguments);this._removeListeners()},startup:function(){if(0<this._renderers.length)for(var a=
0;a<this._renderers.length;a+=1)this._renderers[a].startup&&this._renderers[a].startup()},onValueChanged:function(a){var b=null;a.data.editor?b=a.data.editor:a.data.renderer&&(b=a.data.renderer);null!==b&&d.mixin(a.data,{index:this._renderers.indexOf(b)});this.dispatchEvent(a.type,this,a.data)},onEditingStarted:function(a){this.dispatchEvent(a.type,this,a.data)},onEditingStopped:function(a){this.dispatchEvent(a.type,this,a.data)},onMouseDown:function(a){d.mixin(a.data,{index:this._renderers.indexOf(a.data.renderer)});
this.dispatchEvent(a.type,this,a.data)},onMouseEnter:function(a){d.mixin(a.data,{index:this._renderers.indexOf(a.data.renderer)});this.dispatchEvent(a.type,this,a.data)},onMouseUp:function(a){this.dispatchEvent(a.type,this,a.data)},_setReadOnly:function(){},comparePathToDeclaredClass:function(a,b){var c=a.split("/"),d=b.split("."),e=!0;if(c.length===d.length)for(var f=0;f<c.length&&e;f+=1)e=c[f]===d[f];else e=!1;return e}})})},"variableeditor/app/Main":function(){define("dojo/_base/declare variableeditor/ClientPeerManagerFactory mw-messageservice/MessageService dojo/dom dojo/dom-construct dijit/layout/TabContainer dijit/layout/ContentPane dojo/i18n!variableeditor/app/l10n/nls/app".split(" "),
function(h,d,g,c,f,b,l,m){return h(null,{constructor:function(a){this.domNode=a},start:function(){var a=g.messageService;a.start();d.start(!0);var c=new b({style:"overflow: hidden; left: 0px; top: 0px; width: 100%; height: 100%; display: inline-block;"},"tc_root");c.startup();var e=d.createManager({messageService:a,channel:"/VariableEditor",editable:!0});e.addEventListener("variableAdded",function(a){var b=a.data.peerDoc;b.title=b.varName;b.closable=!0;b.onClose=function(){e.closeVariable(b.varName)};
c.addChild(b)});e.addEventListener("variableRemoved",function(a){c.removeChild(a.data.peerDoc)});e.addEventListener("managerFocusChanged",function(a){})}})})},"mw-facade/MatlabFacade":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-remote/Remote mw-messageservice/MessageService mw-deprecation-utils/deprecation".split(" "),function(h,d,g,c,f,b){b.deprecated({deprecated:{module:"mw-facade/MatlabFacade"},replacement:{module:"mw-remote/Remote"}});return h(null,{constructor:function(b){f.start();
this._config=b||{};this._registerHandlers()},_config:{},_registerHandlers:function(){var b=this._config;c.registerFaultHandler("Eval",function(c,a){g.error("Error: "+c.code+", "+c.message);a&&d.isFunction(a.errorCallback)?a.errorCallback(c):d.isFunction(b.errorCallback)&&b.errorCallback(c)});c.registerResponseHandler("EvalResponse",function(c,a){g.info("eval response");a&&d.isFunction(a.evalCallback)?a.evalCallback(c):d.isFunction(b.evalCallback)&&b.evalCallback(c)});c.registerFaultHandler("FEval",
function(c,a){g.error("Error: "+c.code+", "+c.message);a&&d.isFunction(a.errorCallback)?a.errorCallback(c):d.isFunction(b.errorCallback)&&b.errorCallback(c)});c.registerResponseHandler("FEvalResponse",function(c,a){g.info("feval response");a&&d.isFunction(a.fevalCallback)?a.fevalCallback(c):d.isFunction(b.evalCallback)&&b.evalCallback(c)})},executionEval:function(b){d.isString(b)&&(b={matlabcode:b});c.sendMessage({Eval:{mcode:b.matlabcode}},b)},feval:function(b){b.arguments=b.arguments||[];b.nargout=
b.nargout||0;c.sendMessage({FEval:{"function":b["function"],arguments:b.arguments,nargout:b.nargout}},b)},publish:f.publish,subscribe:f.subscribe,unsubscribe:f.unsubscribe})})},"dojo/dnd/AutoSource":function(){define(["../_base/declare","./Source"],function(h,d){return h("dojo.dnd.AutoSource",d,{constructor:function(){this.autoSync=!0}})})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),
function(h){return h._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(h,d,g,c){var f=d("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(b){if(this._hash[b.id])throw Error("Tried to register widget with id\x3d\x3d"+b.id+" but that id is already registered");this._hash[b.id]=b;this.length++},remove:function(b){this._hash[b]&&(delete this._hash[b],this.length--)},forEach:function(b,
c){c=c||g.global;var d=0,a;for(a in this._hash)b.call(c,this._hash[a],d++,this._hash);return this},filter:function(b,c){c=c||g.global;var d=new f,a=0,h;for(h in this._hash){var e=this._hash[h];b.call(c,e,a++,this._hash)&&d.add(e)}return d},byId:function(b){return this._hash[b]},byClass:function(b){var c=new f,d,a;for(d in this._hash)a=this._hash[d],a.declaredClass==b&&c.add(a);return c},toArray:function(){var b=[],c;for(c in this._hash)b.push(this._hash[c]);return b},map:function(b,c){return h.map(this.toArray(),
b,c)},every:function(b,c){c=c||g.global;var d=0,a;for(a in this._hash)if(!b.call(c,this._hash[a],d++,this._hash))return!1;return!0},some:function(b,c){c=c||g.global;var d=0,a;for(a in this._hash)if(b.call(c,this._hash[a],d++,this._hash))return!0;return!1}});h.forEach("forEach filter byClass map every some".split(" "),function(b){c[b]=f.prototype[b]});return f})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(h,d,g,c,f){var b=
{getViewport:function(){return g.getBox()}};b.placeOnScreen=c.at;b.placeOnScreenAroundElement=function(b,f,a,g){var e;if(d.isArray(a))e=a;else{e=[];for(var h in a)e.push({aroundCorner:h,corner:a[h]})}return c.around(b,f,e,!0,g)};b.placeOnScreenAroundNode=b.placeOnScreenAroundElement;b.placeOnScreenAroundRectangle=b.placeOnScreenAroundElement;b.getPopupAroundAlignment=function(b,c){var a={};h.forEach(b,function(b){var d=c;switch(b){case "after":a[c?"BR":"BL"]=c?"BL":"BR";break;case "before":a[c?"BL":
"BR"]=c?"BR":"BL";break;case "below-alt":d=!d;case "below":a[d?"BL":"BR"]=d?"TL":"TR";a[d?"BR":"BL"]=d?"TR":"TL";break;case "above-alt":d=!d;default:a[d?"TL":"TR"]=d?"BL":"BR",a[d?"TR":"TL"]=d?"BR":"BL"}});return a};d.mixin(f,b);return f})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(h,d,g){var c=g._createWrapper;g._createWrapper=function(b){b.declaredClass||(b={_popupWrapper:b.parentNode&&h.contains(b.parentNode,"dijitPopup")?
b.parentNode:null,domNode:b,destroy:function(){},ownerDocument:b.ownerDocument,ownerDocumentBody:d.body(b.ownerDocument)});return c.call(this,b)};var f=g.open;g.open=function(b){if(b.orient&&"string"!=typeof b.orient&&!("length"in b.orient)){var c=[],d;for(d in b.orient)c.push({aroundCorner:d,corner:b.orient[d]});b.orient=c}return f.call(this,b)};return g})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(h,d){d.scrollIntoView=function(d,c){h.scrollIntoView(d,c)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],
function(){})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(h,d,g){d.mixin(g,{hasWaiRole:function(c,d){var b=this.getWaiRole(c);return d?-1<b.indexOf(d):0<b.length},getWaiRole:function(c){return d.trim((h.get(c,"role")||"").replace("wairole:",""))},setWaiRole:function(c,d){h.set(c,"role",d)},removeWaiRole:function(c,f){var b=h.get(c,"role");b&&(f?(b=d.trim((" "+b+" ").replace(" "+
f+" "," ")),h.set(c,"role",b)):c.removeAttribute("role"))},hasWaiState:function(c,d){return c.hasAttribute?c.hasAttribute("aria-"+d):!!c.getAttribute("aria-"+d)},getWaiState:function(c,d){return c.getAttribute("aria-"+d)||""},setWaiState:function(c,d,b){c.setAttribute("aria-"+d,b)},removeWaiState:function(c,d){c.removeAttribute("aria-"+d)}});return g})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(h,d){d.getDocumentWindow=function(d){return h.get(d)}})},"url:mw-form/templates/TextArea.html":'\x3cdiv\x3e\x3ctextarea class\x3d"mwInputNode mwAlignmentNode" data-dojo-attach-point\x3d"inputNode,focusNode" spellcheck\x3d"false"\x3e\x3c/textarea\x3e\x3c/div\x3e',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dojox/layout/resources/FloatingPane.html":'\x3cdiv class\x3d"dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv tabindex\x3d"0" role\x3d"button" class\x3d"dojoxFloatingPaneTitle" dojoAttachPoint\x3d"focusNode"\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"onclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"onclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"onclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\t\n\t\t\x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"onclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-dialog-utils/floatingPaneTemplate.html":'\x3cdiv tabindex\x3d"0" class\x3d"mwNonModalDialog dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv role\x3d"button" class\x3d"dojoxFloatingPaneTitle dijitDialogTitleBar" dojoAttachPoint\x3d"focusNode"\x3e\n        \x3c!--\n         This template is required because the dojox Floating pane template uses onClick Event instead of ondijitclick,\n         which causes some issues with Ipad. Dojo ticket for dialogs not closing on touch devices: http://bugs.dojotoolkit.org/ticket/13488\n         the fix was implemented in _onDijitClickMixin() so using ondijitclick solves the problem.\n\n         This template also groups the icons into a div so that it can be absolute positioned which\n         allows it to be stacked on top of the title node. Previously long titles were overlapping\n         the icons making them unclickable, z-index does not work because the buttons are floats.\n         g985154\n        --\x3e\n\t\t\x3cspan style\x3d"float:left" dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode dijitDialogTitle"\x3e\x3c/span\x3e\n\n        \x3cdiv class\x3d"dojoxFloatingIconContainer"\x3e\n            \x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"ondijitclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"ondijitclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"ondijitclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"ondijitclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n        \x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-notifications/templates/ProgressBar.html":'\x3cdiv data-test-id\x3d"${data-test-id}" data-value\x3d"${value}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"gutterNode" class\x3d"${baseClass}Gutter"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"progressNode" class\x3d"${baseClass}Progress"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressTextNode" class\x3d"${baseClass}Text"\x3e50%\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/TextField.html":'\x3cdiv\x3e\x3cinput class\x3d "mwInputNode mwAlignmentNode" spellcheck\x3d"false" type\x3d"text" data-dojo-attach-point\x3d"inputNode,focusNode"\x3e\x3c/div\x3e',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:variableeditor/views/table/DefaultHeaderTemplate.html":'\x3cdiv class\x3d"variableEditorHeaders" data-dojo-attach-point\x3d"variableEditorHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorHeaders"\x3e\n    \x3cdiv class\x3d"cell"\x3e\n        \x3cdiv class\x3d"Index"  style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"Label"  style\x3d"display: none;"  data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorColumnHeader.html":'\x3cdiv class\x3d"cell column variableEditorColumnHeaders" data-datatools-renderer-attach-point\x3d"variableEditorColumnHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorColumnHeaders"\x3e\n    \x3cdiv class\x3d"header cell"\x3e\n        \x3cdiv class\x3d"columnIndex" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cbr class\x3d"lineBreak" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"lineBreak"\x3e\n        \x3cdiv class\x3d"columnLabel" style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"drag" style\x3d"cursor: ew-resize;" data-datatools-renderer-attach-point\x3d"ColumnHeaderDrag"\x3e\n        \x3cdiv class\x3d"firstHalfOfDrag"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"dragBorder"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"secondHalfOfDrag"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorRowHeader.html":'\x3cdiv class\x3d"row variableEditorRowHeaders" data-datatools-renderer-attach-point\x3d"variableEditorRowHeaders" data-tag\x3d"datatools.variableeditor.views.table.variableEditorRowHeaders"\x3e\n    \x3cdiv class\x3d"cell" data-tag\x3d"datatools.variableeditor.views.table.variableEditorRowHeaders.cell"\x3e\n        \x3cdiv class\x3d"rowIndex"  style\x3d"display: none;" data-datatools-renderer-attach-point\x3d"headerIndex"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"rowLabel"  style\x3d"display: none;"  data-datatools-renderer-attach-point\x3d"headerLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/table/VariableEditorTemplate.html":'\x3cdiv class\x3d"mw_type_Table mw_type_TableBase mw_type_ListBase"\x3e\n    \x3cdiv class\x3d"header nospacing preventDragSelection topHeaderWrapper"\x3e\n        \x3cdiv class\x3d"inline row cornerSpacer rowHeaderColumn rowHeadersWrapper topRowHeaderWrapper" data-dojo-attach-point\x3d"cornerSpacerNode"\x3e\n            \x3cdiv class\x3d"row cell"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline wrapper headerWrapper"\x3e\n            \x3cdiv class\x3d"inline scrolled dataColumn columnHeaderScrollerNode" data-dojo-attach-point\x3d"columnHeaderScrollerNode"\x3e\n                \x3cdiv class\x3d"row dataWidth spacer columnHeaderNode" data-dojo-attach-point\x3d"columnHeaderNode"\x3e\n                    \x3cdiv class\x3d"cell spacer leftSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"cell spacer rightSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline row cornerSpacer verticalScrollSpacer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"body nospacing"\x3e\n        \x3cdiv class\x3d"inline wrapper rowHeadersWrapper preventDragSelection bottomRowHeaderWrapper"\x3e\n            \x3cdiv class\x3d"scrolled dataRow rowHeaderColumn rowHeaders rowHeaderScrollerNode" data-dojo-attach-point\x3d"rowHeaderScrollerNode"\x3e\n                \x3cdiv class\x3d"dataHeight spacer rowHeaderNode" data-dojo-attach-point\x3d"rowHeaderNode"\x3e\n                    \x3cdiv class\x3d"row spacer topSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"spacer bottomSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"cornerSpacer horizontalScrollSpacer rowHeaderColumn"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"inline wrapper dataBodyWrapper"\x3e\n            \x3cdiv class\x3d"scroller dataRow dataColumn dataScrollerNode" data-dojo-attach-point\x3d"dataScrollerNode"\x3e\n                \x3cdiv class\x3d"dataWidth dataHeight spacer dataBody" data-dojo-attach-point\x3d"dataNode"\x3e\n                    \x3cdiv class\x3d"row spacer topSpacer"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"spacer bottomSpacer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"columnResizer" data-dojo-attach-point\x3d"columnResizerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"loading"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-menu/templates/Menu.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" tabindex\x3d"0" data-focus\x3d"temporary"\x3e\x3c/div\x3e\n',"url:mw-form/templates/CheckBox.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"checkbox" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/CheckBoxRadioButtonMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwOverlayNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-form/templates/ComboBox.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"mwTextFieldContainerNode" data-dojo-attach-point\x3d"textFieldContainerNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwArrowContainerNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3cdiv class\x3d"mwArrowNode"\x3e\x3c/div\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"${type}" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-form/templates/ToggleButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-pressed\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/views/editors/templates/binaryToggleButtonEditor.html":'\x3cdiv class\x3d"binaryToggleButtonEditor" data-dojo-attach-point\x3d"binaryToggleButtonEditor" data-tag\x3d"datatools.variableeditor.views.editors.binaryToggleButtonEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/toggleButtonGroupEditor.html":'\x3cdiv class\x3d"toggleButtonGroupEditor" data-dojo-attach-point\x3d"toggleButtonGroupEditor" data-tag\x3d"datatools.variableeditor.views.editors.toggleButtonGroupEditor"\x3e\x3c/div\x3e\n',
"url:mw-menu/templates/MenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n        \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/MenuSeparator.html":'\x3cdiv data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/PopupMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n    \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutAndArrowWrapperNode"\n        \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwMenuArrowNode"  data-dojo-attach-point\x3d"menuArrowNode"\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/Toolstrip.html":'\x3cdiv id\x3d${id} class\x3d"toolstrip toolstripNode" data-focus\x3d"refuse"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"tabGroupContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"toolstripTabContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"topRightContainer" data-dojo-attach-point\x3d"topRightContainer"\x3e\n        \x3cdiv class\x3d"QABContainer" data-dojo-attach-point\x3d"QABContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchContainer" data-dojo-attach-point\x3d"searchContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchPopupContainer dijitOffScreen" data-dojo-attach-point\x3d"searchPopupContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"logoutContainer" data-dojo-attach-point\x3d"logoutContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"collapseButtonContainer" data-dojo-attach-point\x3d"collapseButtonContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:mw-form/templates/PushButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/layout/templates/ConfirmationDialog.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"messageNode" class\x3d"mwMessageNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/QAB.html":'\x3cdiv id\x3d${id} class\x3d"qab"\x3e\n    \x3cdiv class\x3d"leftArrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"mainArea" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/QAGroup.html":'\x3cdiv id\x3d${id} class\x3d"qaGroup"\x3e\n\x3cdiv data-dojo-attach-point\x3d"separatorNode" class\x3d"quickAccessGroupSeparator"\x3e\x3c/div\x3e\x3cdiv class\x3d"qaGroupContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/TabGroup.html":'\x3cdiv class\x3d"tabGroup"\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Section.html":"\x3cdiv id\x3d${id} class\x3d'section'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'sectionWrapper' class\x3d'sectionWrapper'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'columnContainerWrapper' class\x3d'columnContainerWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d'columnContainer'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'title'\x3e\x3c/div\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'sectionDropDownContainer' class\x3d'sectionDropDownContainer'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionDivider'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/DropDownButton.html":'\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"buttonNode" class\x3d"mwButtonNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonAlignmentNode" class\x3d"mwButtonAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonContainerNode" class\x3d"mwButtonContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode mwBlockTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"textLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownNode" class\x3d"mwDropDownNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownAlignmentNode" class\x3d"mwDropDownAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownContainerNode" class\x3d"mwDropDownContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextNode" class\x3d"mwTextNode mwInlineTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"arrowNode" class\x3d"mwArrowNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLineNode" class\x3d"mwLastTextLineNode"\n                        \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                    \x3e\x3c/div\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"arrowIconNode" class\x3d"mwArrowIconNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryPopup.html":"\x3cdiv id\x3d${id} class\x3d'toolstrip galleryPopup'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d'header'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'searchTextFieldContainerNode' class\x3d\"mwSearchTextFieldContainerNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'buttonWrapper' class\x3d'ButtonWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'listViewButtonContainerNode' class\x3d\"mwListViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'iconViewButtonContainerNode' class\x3d\"mwIconViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'closeButtonNode' class\x3d\"mwCloseButtonNode\" data-tag\x3d\"closeButton\"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"categoryContainer\" class\x3d'categoryContainer'\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"noSearchMatchNode\" class\x3d\"noSearchMatchNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"favCategoryContainer\" class\x3d\"favCategoryContainer\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d\"otherCategoriesContainer\"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"footerContainer\" class\x3d'footerContainer'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:MW/toolstrip/widgets/templates/Panel.html":"\x3cdiv id\x3d${id} class\x3d'panel'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/Column.html":"\x3cdiv id\x3d${id} class\x3d'column' data-dojo-attach-point\x3d\"containerNode\"\x3e\x3c/div\x3e","url:mw-menu/templates/MenuPanel.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:MW/toolstrip/widgets/templates/Footer.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/FooterCell.html":'\x3cdiv data-dojo-attach-point\x3d"footerCellNode"\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/gallery/templates/Gallery.html":'\x3cspan id\x3d${id} class\x3d\'gallery icon_view\' \x3e\n    \x3cdiv data-dojo-attach-point\x3d"_aroundNode" class\x3d"aroundNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\'containerNode\' class\x3d\'mainArea\'\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d\'openPopupDiv, focusNode, _buttonNode\' class\x3d\'openPopupDiv\'\x3e\n        \x3cdiv class\x3d"buttonDownArrow"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyLayer" class\x3d"busyLayer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyNode" class\x3d"busyIndicator"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"textOverlayWrapperNode" class\x3d"textOverlayWrapper"\x3e\n        \x3cdiv class\x3d"textOverlayCell"\x3e\n            \x3cspan data-dojo-attach-point\x3d"textOverlayNode" class\x3d"textOverlay"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/span\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryCategory.html":"\x3cdiv id\x3d${id} class\x3d\"Category\"\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d\"categoryHeader\"\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleIconNode' class\x3d'titleIcon'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'categoryTitle'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'moveTopNode' class\x3d'moveTopNode'\x3e\n            \x3cdiv class\x3d'moveTopLabel'\x3eTOP\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'moveTopButtonNode' class\x3d'moveTopButton'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"containerNode\" class\x3d'gridWrapperNode'\x3e\n    \x3c/div\x3e\n\x3c/div\x3e",
"url:mw-colorpicker/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline mwDisableSelection"\n    \x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"${baseClass}Title"\x3e${!title}\x3c/span\n    \x3e\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0"\n        \x3e\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',"url:mw-colorpicker/templates/ColorPaletteSwatch.html":'\x3cdiv class\x3d"dijitInline mwPaletteDiv"\n    \x3e\x3cdiv title\x3d"${title}" class\x3d"mwColorPaletteSwatch" style\x3d"background-color: ${color}" data-test-id\x3d"${color}"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-colorpicker/templates/ColorSpinner.html":'\x3cdiv class\x3d"mwDisableSelection"\n    \x3e\x3ctable\n        \x3e\x3ctr\n            \x3e\x3ctd colspan\x3d"3"\n            \x3e\x3cdiv data-dojo-type\x3d"mw-colorpicker/ToggleButtonGroup" data-dojo-attach-point\x3d"toggleButton" data-dojo-props\x3d"buttonText:[\'1\', \'2\', \'3\']"\x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Double" data-dojo-attach-point\x3d"doubleSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redDoubleSpinner" data-dojo-attach-point\x3d"redDoubleSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenDoubleSpinner" data-dojo-attach-point\x3d"greenDoubleSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueDoubleSpinner" data-dojo-attach-point\x3d"blueDoubleSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Int"  data-dojo-attach-point\x3d"intSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redIntSpinner" data-dojo-attach-point\x3d"redIntSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenIntSpinner" data-dojo-attach-point\x3d"greenIntSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueIntSpinner" data-dojo-attach-point\x3d"blueIntSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Hex" data-dojo-attach-point\x3d"hexSpinners"\n            \x3e\x3ctd colspan\x3d"3"\x3e${_hexTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/ValidationTextBox" data-test-id\x3d"hexSpinner" data-dojo-attach-point\x3d"hexSpinner" class\x3d"${baseClass}HexSpinner"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',
"url:mw-colorpicker/templates/ColorPicker.html":'\x3cdiv class\x3d"mwDisableSelection" data-test-id\x3d"mwColorPicker"\n    \x3e\x3cdiv class\x3d"${baseClass}Palette" data-dojo-type\x3d"mw-colorpicker/ColorPalette" data-dojo-attach-point\x3d"paletteNode" data-test-id\x3d"palette" data-dojo-props\x3d"palette: ${_parsedStandardColors}"\x3e\x3c/div\n    \x3e\x3ctable class\x3d"${baseClass}Middle"\n        \x3e\x3ctr\n            \x3e\x3ctd class\x3d"${baseClass}Recent" data-dojo-attach-point\x3d"recentColorsNode" data-test-id\x3d"recentColors"\x3e\x3c/td\n            \x3e\x3ctd\n                \x3e\x3cdiv data-dojo-attach-point\x3d"previewNode" class\x3d"${baseClass}Preview"\n                    \x3e\x3cspan data-dojo-attach-point\x3d"previewTitleNode"\x3e${_previewTitle}\x3c/span\n                    \x3e\x3cdiv class\x3d"${baseClass}PreviewColor" data-dojo-attach-point\x3d"previewColorNode" data-test-id\x3d"previewColor"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n    \x3e\x3cdiv class\x3d"${baseClass}Spinner" data-dojo-type\x3d"mw-colorpicker/ColorSpinner" data-dojo-attach-point\x3d"spinnerNode" data-test-id\x3d"spinner"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/TextFieldMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextContainer" data-dojo-attach-point\x3d"textContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:mw-form/templates/RadioButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"radio" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/MenuHeader.html":'\x3cdiv data-dojo-attach-point\x3d"textNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-form/templates/ListBox.html":'\x3cdiv\x3e\x3cul tabindex \x3d "0" data-dojo-attach-point\x3d "containerNode, focusNode"\x3e\x3c/ul\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Tooltip.html":'\x3cdiv class\x3d"validation-tooltip-dialog"\x3e\n        \x3cdiv class\x3d"tooltipConnector" data-dojo-attach-point\x3d"arrowNode" style\x3d"display:inline-block"\x3e\x3c/div\n                \x3e\x3cdiv  style\x3d"display:inline-block" class\x3d"validationContents" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"validationImage" style\x3d"display:inline-block"\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"validationText" style\x3d"display:inline-block"\x3e\x3c/div\x3e\x3c/div\x3e\n\n\x3c/div\x3e\n\n',
"url:mw-form/templates/Label.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/EmptyControl.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d "emptyControl"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/Spinner.html":'\x3cdiv\n    \x3e\x3cdiv class \x3d "mwContainerNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\n    \x3e\x3cdiv class \x3d "mwButtonsContainer" data-dojo-attach-point\x3d"buttonsContainerNode"\n        \x3e\x3cdiv class \x3d "mwIncrementButtonWrapper" data-dojo-attach-point\x3d"incrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwIncrementButton" data-dojo-attach-point\x3d"incrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv class \x3d "mwDecrementButtonWrapper" data-dojo-attach-point\x3d"decrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwDecrementButton" data-dojo-attach-point\x3d"decrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/external/templates/Slider.html":'\x3cdiv class\x3d"vc-userSelectNone vc-defaultFontRules" data-dojo-attach-event\x3d"press:_onTrackClick"\x3e\n    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"valueNode"\x3e\n    \x3cdiv class\x3d"vc-sliderTrack" data-dojo-attach-point\x3d"sliderTrackNode"\x3e\n        \x3cdiv class\x3d"vc-sliderThumb" data-dojo-attach-point\x3d"sliderThumbNode, focusNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"vc-sliderRuleAndLabelContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/ToolbarWrapper.html":"\x3cdiv class\x3d'toolbarWrapper'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/MenubarWrapper.html":"\x3cdiv class\x3d'menubarWrapper' data-focus\x3d'accept'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/gallery/templates/GalleryItem.html":'\x3cdiv id\x3d${id} class\x3d"Item"\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'itemWrapperNode, focusNode\' class\x3d"itemWrapper"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconWrapper" class\x3d"iconWrapper"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"labelWrapper" class\x3d\'labelWrapper\'\n            \x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"label"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d"description"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonWrapperNode\' class\x3d\'favButtonWrapper\'\n        \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonNode\' class\x3d\'favButton\'\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:variableeditor/views/SummaryBar.html":'\x3cdiv class\x3d"summaryBar" data-dojo-attach-point\x3d"summaryBarOuterContainer"\x3e\n    \x3cdiv class\x3d"summaryBarContainer"\x3e\n        \x3cdiv class\x3d"summaryBarIcon"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarSize"\x3e${size}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarLink" data-dojo-attach-point\x3d"summaryBarLink"\x3e\x3ca class\x3d"summaryBarRef" href\x3d"#"\x3e${type}\x3c/a\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarSecondaryType"\x3e${secondaryType}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarStatus"\x3e${status}\x3c/div\x3e\n        \x3cdiv class\x3d"summaryBarStatusLink" data-dojo-attach-point\x3d"summaryBarStatusLink"\x3e\x3ca class\x3d"summaryBarStatusRef" href\x3d"#"\x3e${status}\x3c/a\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:variableeditor/ClientPeerDocument.html":'\x3cdiv class\x3d"clientPeerDocument" data-dojo-attach-point\x3d"clientPeerDocumentContainer"\x3e\n    \x3cdiv class\x3d"summaryBarDiv"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"clientPeerViewDiv"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/_ColorStylesSwatch.html":'\x3cdiv class\x3d"dijitInline mwColorPickerPalette mwColorPalette mwColorPickerColorStylesSection"\x3e\n\t\x3cspan class\x3d"mwColorPaletteTitle"\x3e${title}\x3c/span\x3e\n\t\x3cdiv class\x3d "colorStyleNodes" data-dojo-attach-point\x3d"colorStyleNodes"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/ColorEditor.html":'\x3cdiv class\x3d"colorEditor" data-dojo-attach-point\x3d"colorEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/ColorTextBoxEditor.html":'\x3cdiv class\x3d"colorTextBoxEditor" data-dojo-attach-point\x3d"colorTextBoxEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorTextBoxEditor"\x3e\n    \x3cdiv class\x3d"colorValue" data-datatools-renderer-attach-point\x3d"colorValue" data-tag\x3d"datatools.variableeditor.views.editors.colorTextBoxEditor.colorValue"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:variableeditor/views/renderers/templates/ColorOrderRenderer.html":'\x3cdiv class\x3d"colorOrderRenderer" data-dojo-attach-point\x3d"colorOrderRenderer" data-tag\x3d"datatools.variableeditor.views.renderers.colorOrderRenderer"\x3e\n    \x3cdiv class\x3d"colorSwatch" data-datatools-renderer-attach-point\x3d"colorSwatch" data-tag\x3d"datatools.variableeditor.views.renderers.colorOrderRenderer.colorSwatch"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:variableeditor/views/editors/templates/ColormapEditor.html":'\x3cdiv class\x3d"colormapEditor" data-tag\x3d"datatools.variableeditor.views.editors.ColormapEditor"\x3e\x3c/div\x3e',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:variableeditor/views/editors/templates/ColorDropDownEditor.html":'\x3cdiv class\x3d"colorDropDownEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorDropDownEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/RGBColorEditor.html":'\x3cdiv class\x3d"rgbColorEditor colorEditorWithTextBox" data-dojo-attach-point\x3d"rgbColorEditor" data-tag\x3d"datatools.variableeditor.views.editors.rgbColorEditor"\x3e\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/ColorOrderEditor.html":'\x3cdiv class\x3d"colorOrderEditor" data-dojo-attach-point\x3d"colorOrderEditor" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor"\x3e\n    \x3cdiv class\x3d"colorOrderRendererDiv" data-datatools-renderer-attach-point\x3d"colorOrderRendererDiv" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorOrderRendererDiv"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"colorListDiv" data-datatools-renderer-attach-point\x3d"colorListDiv" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorListDiv"\x3e\n        \x3cul class\x3d"colorList container" data-datatools-renderer-attach-point\x3d"colorList" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorList"\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttonPanel" data-datatools-renderer-attach-point\x3d"buttonPanel" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.buttonPanel"\x3e\n        \x3cbutton type\x3d"button" class\x3d"colorAddButton" data-datatools-renderer-attach-point\x3d"colorAddButton" data-tag\x3d"datatools.variableeditor.views.editors.colorOrderEditor.colorAddButton"\x3e${AddNewLabel}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mw-overlay-utils/templates/busyOverlayTemplate.html":'\x3cdiv class\x3d"mw-busyIndicator" data-dojo-attach-point\x3d"_busyOverlayNode"\x3e\n\t\x3cdiv class\x3d"underlayNode" data-dojo-attach-point\x3d"_underlayNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"spinnerNode" data-dojo-attach-point\x3d"_spinnerNode" \x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:variableeditor/views/editors/templates/FilePickerEditor.html":'\x3cdiv class\x3d"filePickerEditor cellRenderer" data-tag\x3d"datatools.variableeditor.views.editors.FilePickerEditor"\x3e\x3c/div\x3e',
"*now":function(h){h(['dojo/i18n!*preload*variableeditor/nls/variableeditor*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("variableeditor/variableeditor",[],1);
//# sourceMappingURL=variableeditor.js.map