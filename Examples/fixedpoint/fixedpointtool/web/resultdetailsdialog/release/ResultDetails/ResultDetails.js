//>>built
/*
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
*/
require({cache:{"ResultDetails/View":function(){define("dijit/registry dojo/_base/array dojo/topic dojo/_base/lang dojo/dom-construct dojo/query dojo/NodeList-traverse ResultDetails/ViewModel ResultDetails/widgets/Alerts ResultDetails/widgets/ProposedDTSummary ResultDetails/widgets/RangeInformationSummary ResultDetails/widgets/HistogramContainer dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool dojo/string".split(" "),function(n,k,h,c,b,a,g,e,d,f,l,p,m,s){return{resultInfoDialogData:null,_widgetMap:[],
_viewModel:null,_histogram:null,setup:function(b){this._viewModel=new e;this._viewModel.createStore({id:"resultInfoStore"});this._parentDomNode=b.parentDomNode;h.subscribe("selectedRowDeleted",c.hitch(this,this.generateResultInfoDialogReport));this._viewModel.on("ItemsAddedToResultInfoStore",c.hitch(this,this.generateResultInfoDialogReport))},generateResultInfoDialogReport:function(a){var c;this.destroyWidgets();var e={};a&&0<a.data.length&&(e=a.data[0]);if(e&&e.ResultName){b.create("h2",{innerHTML:e.ResultName,
id:"resultName"},"header");this.generateMLFBSummary(e);c=!e.MLFBAutoApply&&("fxptds.MATLABVariableResult"===e.classOfResultObject||"fxptds.MATLABCppSystemObjectVariableResult"===e.classOfResultObject);if(e.hasOverflows||1!==e.DerivedRangeState||""!==e.ProposedDT&&(e.Errors||e.Warnings||c||"red"===e.Alert||"yellow"===e.Alert))c=new d({store:a,id:"NeedsAttentionSection"}),c.placeAt(this._parentDomNode,"last"),c.setup(),this._widgetMap.push(c);c=new f({store:a,id:"proposedDTSummarySection",isMajor:!0});
c.placeAt(this._parentDomNode,"last");c.setup();e=new l({store:a,id:"rangeInformationSummarySection"});e.placeAt(this._parentDomNode,"last");e.startup();this._widgetMap.push(c);this._widgetMap.push(e);if((c=a.data[0].Histogram)&&!this.isEmpty(c)&&("number"===typeof c.BinCounts||c.BinCounts&&0<c.BinCounts.length))c=new p({store:a.data[0].Histogram,id:"histogramSection"}),c.placeAt(this._parentDomNode,"last"),""===c.legendTableHeaderInRange.innerHTML&&c.startup(),this._widgetMap.push(c);a=new f({store:a,
id:"proposedDTDetailsSection",isMajor:!1});a.hasCommentBullets()?(a.placeAt(this._parentDomNode,"last"),a.setup(),this._widgetMap.push(a)):a.destroyRecursive()}else e&&e.isResultInvalid?b.create("label",{innerHTML:m.resultreportInvalidResultSelected,id:"invalidResultSelected"},"header"):b.create("label",{innerHTML:m.resultreportNoResultSelected,id:"noValidResultSelected"},"header")},generateMLFBSummary:function(a){if("fxptds.MATLABVariableResult"===a.classOfResultObject){var f={},f=this.getMATLABVarialbleSize(a.Size),
c=this.getFimathString(a.Fimath),f=[{id:"size",label:s.substitute(m.resultreportSize,[f])},{id:"complexity",label:a.Complexity?s.substitute(m.resultreportMatlabVarComplexity,[m.resultreportMatlabVarComplex]):s.substitute(m.resultreportMatlabVarComplexity,[m.resultreportMatlabVarReal])},{id:"scope",label:s.substitute(m.resultreportScope,[a.Scope])},{id:"fimath",label:c?s.substitute(m.resultreportFimath,[c]):m.resultreportNoMatlabFimath}];f.forEach(function(a,f){b.place("\x3cul\x3e\x3cli\x3e"+a.label+
"\x3c/li\x3e\x3c/ul\x3e","MATLABSummary")})}},getFimathString:function(b){var a="";b&&(a=b.split("...").join(" ").split("\n").join(""));return a},getMATLABVarialbleSize:function(b){return b.join(" x ")},destroy:function(b){this.destroyWidgets();this._viewModel.destroy();this._viewModel=null},destroyWidgets:function(f){k.forEach(this._widgetMap,function(b,a){b.destroyRecursive()});this._widgetMap=[];a("#resultName").forEach(b.destroy);a("#noValidResultSelected").forEach(b.destroy);a("#MATLABSummary").children().forEach(b.destroy);
a("#invalidResultSelected").forEach(b.destroy)},isEmpty:function(b){for(var a in b)if(b.hasOwnProperty(a))return!1;return JSON.stringify(b)===JSON.stringify({})}}})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(n,k,h){var c={},b={},a={length:0,add:function(a){if(b[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");b[a.id]=a;this.length++},remove:function(a){b[a]&&(delete b[a],this.length--)},byId:function(a){return"string"==
typeof a?b[a]:a},byNode:function(a){return b[a.getAttribute("widgetId")]},toArray:function(){var a=[],c;for(c in b)a.push(b[c]);return a},getUniqueId:function(a){var e;do e=a+"_"+(a in c?++c[a]:c[a]=0);while(b[e]);return"dijit"==h._scopeName?e:h._scopeName+"_"+e},findWidgets:function(a,c){function d(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var g=a.getAttribute("widgetId");g?(g=b[g])&&f.push(g):a!==c&&d(a)}}var f=[];d(a);return f},_destroyAll:function(){h._curFocus=null;h._prevFocus=
null;h._activeStack=[];n.forEach(a.findWidgets(k.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var c=1==a.nodeType&&a.getAttribute("widgetId");if(c)return b[c];a=a.parentNode}return null},_hash:b};return h.registry=a})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(n,k,h){var c=n.NodeList;k.extend(c,{_buildArrayFromCallback:function(b){for(var a=[],c=0;c<
this.length;c++){var e=b.call(this[c],this[c],a);e&&(a=a.concat(e))}return a},_getUniqueAsNodeList:function(b){for(var a=[],c=0,e;e=b[c];c++)1==e.nodeType&&-1==h.indexOf(a,e)&&a.push(e);return this._wrap(a,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(b,a){var c=this._getUniqueAsNodeList(b),c=a?n._filterResult(c,a):c;return c._stash(this)},_getRelatedUniqueNodes:function(b,a){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(a),b)},children:function(b){return this._getRelatedUniqueNodes(b,
function(a,b){return k._toArray(a.childNodes)})},closest:function(b,a){return this._getRelatedUniqueNodes(null,function(c,e){do if(n._filterResult([c],b,a).length)return c;while(c!=a&&(c=c.parentNode)&&1==c.nodeType);return null})},parent:function(b){return this._getRelatedUniqueNodes(b,function(a,b){return a.parentNode})},parents:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[];a.parentNode;)a=a.parentNode,c.push(a);return c})},siblings:function(b){return this._getRelatedUniqueNodes(b,
function(a,b){for(var c=[],d=a.parentNode&&a.parentNode.childNodes,f=0;f<d.length;f++)d[f]!=a&&c.push(d[f]);return c})},next:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=a.nextSibling;c&&1!=c.nodeType;)c=c.nextSibling;return c})},nextAll:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[],d=a;d=d.nextSibling;)1==d.nodeType&&c.push(d);return c})},prev:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=a.previousSibling;c&&1!=
c.nodeType;)c=c.previousSibling;return c})},prevAll:function(b){return this._getRelatedUniqueNodes(b,function(a,b){for(var c=[],d=a;d=d.previousSibling;)1==d.nodeType&&c.push(d);return c})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(b,a){return 0!=a%2})},odd:function(){return this.filter(function(b,a){return 0==
a%2})}});return c})},"ResultDetails/ViewModel":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/Evented dojo/store/Memory FPTDispatcher/Dispatcher".split(" "),function(n,k,h,c,b,a,g){return n([b],{_store:null,_storeDataId:null,_dispatcher:null,createStore:function(b){this._store||(this._store=new a({id:b.id,data:null}))},constructor:function(){g.startMessageService();g.subscribe("/slfxp_webchannel_","onUIModelData",this);g.publish("/slfxp_testchannel_","ClientReady")},
onUIModelData:function(a){var b=this._store;a=a.data;var f=this._storeDataId;f&&b.remove(f);null!==h.byId("resultName")&&c.destroy("resultName");a&&(this._storeDataId=b.put(a));this.emit("ItemsAddedToResultInfoStore",b)},destroy:function(a){g.unsubscribe("/slfxp_webchannel_","onUIModelData",this);g.destroy();this.store=null}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(n,k,h){return n("dojo.store.Memory",null,{constructor:function(c){for(var b in c)this[b]=
c[b];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:h,get:function(c){return this.data[this.index[c]]},getIdentity:function(c){return c[this.idProperty]},put:function(c,b){var a=this.data,g=this.index,e=this.idProperty,e=c[e]=b&&"id"in b?b.id:e in c?c[e]:Math.random();if(e in g){if(b&&!1===b.overwrite)throw Error("Object already exists");a[g[e]]=c}else g[e]=a.push(c)-1;return e},add:function(c,b){(b=b||{}).overwrite=!1;return this.put(c,b)},remove:function(c){var b=
this.index,a=this.data;if(c in b)return a.splice(b[c],1),this.setData(a),!0},query:function(c,b){return k(this.queryEngine(c,b)(this.data))},setData:function(c){c.items?(this.idProperty=c.identifier||this.idProperty,c=this.data=c.items):this.data=c;this.index={};for(var b=0,a=c.length;b<a;b++)this.index[c[b][this.idProperty]]=b}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(n,k,h){var c=function(b){function a(a){b[a]=function(){var d=
arguments,f=h(b,function(b){Array.prototype.unshift.call(d,b);return c(n[a].apply(n,d))});if("forEach"!==a||g)return f}}if(!b)return b;var g=!!b.then;g&&(b=k.delegate(b));a("forEach");a("filter");a("map");null==b.total&&(b.total=h(b,function(a){return a.length}));return b};k.setObject("dojo.store.util.QueryResults",c);return c})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(n){return function(k,h){function c(a){a=n.filter(a,k);var b=h&&h.sort;b&&a.sort("function"==
typeof b?b:function(a,c){for(var l,e=0;l=b[e];e++){var m=a[l.attribute],s=c[l.attribute],m=null!=m?m.valueOf():m,s=null!=s?s.valueOf():s;if(m!=s)return!!l.descending==(null==m||m>s)?-1:1}return 0});if(h&&(h.start||h.count)){var c=a.length;a=a.slice(h.start||0,(h.start||0)+(h.count||Infinity));a.total=c}return a}switch(typeof k){default:throw Error("Can not query with a "+typeof k);case "object":case "undefined":var b=k;k=function(a){for(var c in b){var e=b[c];if(e&&e.test){if(!e.test(a[c],a))return!1}else if(e!=
a[c])return!1}return!0};break;case "string":if(!this[k])throw Error("No filter function "+k+" was found in store");k=this[k];case "function":}c.matches=k;return c}})},"FPTDispatcher/Dispatcher":function(){define(["dojo/_base/lang","mw-log/Log","mw-facade/MatlabFacade","mw-messageservice/MessageService","mw-remote/Remote"],function(n,k,h,c,b){return{Instance:null,facade:null,channelSubscription:null,_publishChannel:"/slfxp_testchannel_",startMessageService:function(a){c.isStarted()||c.start()},publish:function(a,
b){c.publish(a,b)},subscribe:function(a,b,e){this.channelSubscription=c.subscribe(a,b,e)},unsubscribe:function(a,b,e){c.unsubscribe(a,b,e)},destroy:function(a){c.stop()},registerSuccessFailureHandlers:function(a){a&&a.scope&&(b.registerResponseHandler("FEvalResponse:"+a.classifierStr,a.successCallback,a.scope),b.registerFaultHandler("FEval:"+a.classifierStr,a.failureCallback,a.scope))},remoteSendMessage:function(a){a&&(a.matlabFunctionName&&a.classifierString)&&b.sendMessage({FEval:{"function":a.matlabFunctionName,
arguments:a.inputArgs?a.inputArgs:[],nargout:a.outputArgs?a.outputArgs:0,priority:a.priority?a.priority:1,dequeMode:"ppe"}},a.contextObject?a.contextObject:{},a.classifierString)}}})},"mw-log/Log":function(){define(["dojo/date/locale"],function(n){return function(){function k(c){e&&(d||!a||!a.log)&&e.apply(b,c)}function h(c){g[c]=function(){if(0!==f&&a&&a[c])if("assert"===c){if(!arguments[0])if(b.ScriptEngine){var d=Array.prototype.slice.call(arguments);d.shift();a[c](!1,d)}else a[c].apply(a,arguments)}else if(b.ScriptEngine)if(-1!==
c.indexOf("profile"))a[c]();else a[c](arguments[0]);else a[c].apply(a,arguments)}}function c(c,d){g[d]=function(){var e=Array.prototype.slice.call(arguments),g=n.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),y=[d].concat(e),e=[g].concat(e);l.push(y);l.length>p&&l.shift();k(y);if(a&&(0<f?f>c:m.length+f<=c))if(a.firebug&&"error"!==d)a[d].apply(b,e);else if(a[d])a[d](e);else a.log(e)}}var b=this,a=b.console,g={},e,d,f=9,l=[],p=25,m=["error","warn","info","debug","log"],s="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),
w;for(w=s.length;0<=(w-=1);)h(s[w]);for(w=m.length;0<=(w-=1);)c(w,m[w]);g.setLevel=function(a){f="number"===typeof a?a:9};g.setCallback=function(a,b,c){var f=l.length;e=a||null;d="boolean"===typeof b?b:!1;for(a=f-("number"===c?c:f);a<f;)k(l[a+=1])};return g}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(n,k,h,c,b,a,g,e,d){function f(a,b,f,d){return d.replace(/([a-z])\1*/ig,
function(l){var e,p,s=l.charAt(0);l=l.length;var w=["abbr","wide","narrow"];switch(s){case "G":e=b[4>l?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":e=a.getFullYear();switch(l){case 1:break;case 2:if(!f.fullYear){e=String(e);e=e.substr(e.length-2);break}default:p=!0}break;case "Q":case "q":e=Math.ceil((a.getMonth()+1)/3);p=!0;break;case "M":case "L":e=a.getMonth();3>l?(e+=1,p=!0):(s=["months","L"==s?"standAlone":"format",w[l-3]].join("-"),e=b[s][e]);break;case "w":e=m._getWeekOfYear(a,
0);p=!0;break;case "d":e=a.getDate();p=!0;break;case "D":e=m._getDayOfYear(a);p=!0;break;case "e":case "c":if(e=a.getDay(),2>l){e=(e-c.getFirstDayOfWeek(f.locale)+8)%7;break}case "E":e=a.getDay();3>l?(e+=1,p=!0):(s=["days","c"==s?"standAlone":"format",w[l-3]].join("-"),e=b[s][e]);break;case "a":s=12>a.getHours()?"am":"pm";e=f[s]||b["dayPeriods-format-wide-"+s];break;case "h":case "H":case "K":case "k":p=a.getHours();switch(s){case "h":e=p%12||12;break;case "H":e=p;break;case "K":e=p%12;break;case "k":e=
p||24}p=!0;break;case "m":e=a.getMinutes();p=!0;break;case "s":e=a.getSeconds();p=!0;break;case "S":e=Math.round(a.getMilliseconds()*Math.pow(10,l-3));p=!0;break;case "v":case "z":if(e=m._getZone(a,!0,f))break;l=4;case "Z":s=m._getZone(a,!1,f);s=[0>=s?"+":"-",g.pad(Math.floor(Math.abs(s)/60),2),g.pad(Math.abs(s)%60,2)];4==l&&(s.splice(0,0,"GMT"),s.splice(3,0,":"));e=s.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+d);}p&&(e=g.pad(e,l));return e})}function l(a,
b,c,f){var d=function(a){return a};b=b||d;c=c||d;f=f||d;var l=a.match(/(''|[^'])+/g),e="'"==a.charAt(0);k.forEach(l,function(a,f){a?(l[f]=(e?c:b)(a.replace(/''/g,"'")),e=!e):l[f]=""});return f(l.join(""))}function p(b,c,f,d){d=a.escapeString(d);f.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(a){var d;d=a.charAt(0);var l=a.length,e="",m="";f.strict?(1<l&&(e="0{"+(l-1)+"}"),2<l&&(m="0{"+(l-2)+"}")):(e="0?",m="0{0,2}");switch(d){case "y":d="\\d{2,4}";break;case "M":case "L":d=
2<l?"\\S+?":"1[0-2]|"+e+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+e+"[1-9][0-9]|"+m+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+e+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+e+"[1-9]";break;case "E":case "e":case "c":d=".+?";break;case "h":d="1[0-2]|"+e+"[1-9]";break;case "k":d="1[01]|"+e+"\\d";break;case "H":d="1\\d|2[0-3]|"+e+"\\d";break;case "K":d="1\\d|2[0-4]|"+e+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+l+"}";break;case "a":l=f.am||c["dayPeriods-format-wide-am"];
e=f.pm||c["dayPeriods-format-wide-pm"];d=l+"|"+e;f.strict||(l!=l.toLowerCase()&&(d+="|"+l.toLowerCase()),e!=e.toLowerCase()&&(d+="|"+e.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}b&&b.push(a);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var m={};n.setObject(d.id.replace(/\//g,"."),m);m._getZone=function(a,b,c){return b?h.getTimezoneName(a):a.getTimezoneOffset()};m.format=function(a,c){c=c||{};var d=b.normalizeLocale(c.locale),
e=c.formatLength||"short",d=m._getGregorianBundle(d),p=[],g=n.hitch(this,f,a,d,c);if("year"==c.selector)return l(d["dateFormatItem-yyyy"]||"yyyy",g);var s;"date"!=c.selector&&(s=c.timePattern||d["timeFormat-"+e])&&p.push(l(s,g));"time"!=c.selector&&(s=c.datePattern||d["dateFormat-"+e])&&p.push(l(s,g));return 1==p.length?p[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return p[b]})};m.regexp=function(a){return m._parseInfo(a).regexp};m._parseInfo=function(a){a=a||{};
var c=b.normalizeLocale(a.locale),c=m._getGregorianBundle(c),d=a.formatLength||"short",f=a.datePattern||c["dateFormat-"+d],e=a.timePattern||c["timeFormat-"+d],d="date"==a.selector?f:"time"==a.selector?e:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[e,f][b]}),g=[];return{regexp:l(d,n.hitch(this,p,g,c,a)),tokens:g,bundle:c}};m.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=m._parseInfo(b),f=d.tokens,e=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",d.strict?"":"i").exec(a&&
a.replace(c,""));if(!c)return null;var l=["abbr","wide","narrow"],p=[1970,0,1,0,0,0,0],g="",c=k.every(c,function(a,c){if(!c)return!0;var d=f[c-1],m=d.length,d=d.charAt(0);switch(d){case "y":if(2!=m&&b.strict)p[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),m=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),p[0]=a<d?m+a:m-100+a;else{if(b.strict)return!1;p[0]=a}break;case "M":case "L":if(2<m){if(m=e["months-"+("L"==d?"standAlone":"format")+"-"+l[m-3]].concat(),b.strict||
(a=a.replace(".","").toLowerCase(),m=k.map(m,function(a){return a.replace(".","").toLowerCase()})),a=k.indexOf(m,a),-1==a)return!1}else a--;p[1]=a;break;case "E":case "e":case "c":m=e["days-"+("c"==d?"standAlone":"format")+"-"+l[m-3]].concat();b.strict||(a=a.toLowerCase(),m=k.map(m,function(a){return a.toLowerCase()}));a=k.indexOf(m,a);if(-1==a)return!1;break;case "D":p[1]=0;case "d":p[2]=a;break;case "a":m=b.am||e["dayPeriods-format-wide-am"];d=b.pm||e["dayPeriods-format-wide-pm"];if(!b.strict){var s=
/\./g;a=a.replace(s,"").toLowerCase();m=m.replace(s,"").toLowerCase();d=d.replace(s,"").toLowerCase()}if(b.strict&&a!=m&&a!=d)return!1;g=a==d?"p":a==m?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;p[3]=a;break;case "m":p[4]=a;break;case "s":p[5]=a;break;case "S":p[6]=a}return!0}),d=+p[3];"p"===g&&12>d?p[3]=d+12:"a"===g&&12==d&&(p[3]=0);d=new Date(p[0],p[1],p[2],p[3],p[4],p[5],p[6]);b.strict&&d.setFullYear(p[0]);var s=f.join(""),w=-1!=s.indexOf("d"),s=-1!=s.indexOf("M");
if(!c||s&&d.getMonth()>p[1]||w&&d.getDate()>p[2])return null;if(s&&d.getMonth()<p[1]||w&&d.getDate()<p[2])d=h.add(d,"hour",1);return d};var s=[],w={};m.addCustomFormats=function(a,b){s.push({pkg:a,name:b});w={}};m._getGregorianBundle=function(a){if(w[a])return w[a];var c={};k.forEach(s,function(d){d=b.getLocalization(d.pkg,d.name,a);c=n.mixin(c,d)},this);return w[a]=c};m.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian");m.getNames=function(a,b,c,d){var f;d=m._getGregorianBundle(d);
a=[a,c,b];"standAlone"==c&&(c=a.join("-"),f=d[c],1==f[0]&&(f=void 0));a[1]="format";return(f||d[a.join("-")]).concat()};m.isWeekend=function(a,b){var d=c.getWeekend(b),f=(a||new Date).getDay();d.end<d.start&&(d.end+=7,f<d.start&&(f+=7));return f>=d.start&&f<=d.end};m._getDayOfYear=function(a){return h.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};m._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((m._getDayOfYear(a)+
(c-b+7)%7-1)/7);c==b&&d++;return d};return m})},"dojo/date":function(){define(["./has","./_base/lang"],function(n,k){var h={getDaysInMonth:function(c){var b=c.getMonth();return 1==b&&h.isLeapYear(c)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(c){c=c.getFullYear();return!(c%400)||!(c%4)&&!!(c%100)},getTimezoneName:function(c){var b=c.toString(),a="",g=b.indexOf("(");if(-1<g)a=b.substring(++g,b.indexOf(")"));else if(g=/([A-Z\/]+) \d{4}$/,b=b.match(g))a=b[1];else if(b=c.toLocaleString(),
g=/ ([A-Z\/]+)$/,b=b.match(g))a=b[1];return"AM"==a||"PM"==a?"":a},compare:function(c,b,a){c=new Date(+c);b=new Date(+(b||new Date));"date"==a?(c.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==a&&(c.setFullYear(0,0,0),b.setFullYear(0,0,0));return c>b?1:c<b?-1:0},add:function(c,b,a){var g=new Date(+c),e=!1,d="Date";switch(b){case "day":break;case "weekday":var f;(b=a%5)?f=parseInt(a/5):(b=0<a?5:-5,f=0<a?(a-5)/5:(a+5)/5);var l=c.getDay(),p=0;6==l&&0<a?p=1:0==l&&0>a&&(p=-1);l+=b;if(0==l||6==l)p=0<a?2:
-2;a=7*f+b+p;break;case "year":d="FullYear";e=!0;break;case "week":a*=7;break;case "quarter":a*=3;case "month":e=!0;d="Month";break;default:d="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(d)g["set"+d](g["get"+d]()+a);e&&g.getDate()<c.getDate()&&g.setDate(0);return g},difference:function(c,b,a){b=b||new Date;a=a||"day";var g=b.getFullYear()-c.getFullYear(),e=1;switch(a){case "quarter":c=c.getMonth();b=b.getMonth();c=Math.floor(c/3)+1;b=Math.floor(b/3)+1;e=b+4*g-c;break;case "weekday":g=Math.round(h.difference(c,
b,"day"));a=parseInt(h.difference(c,b,"week"));e=g%7;if(0==e)g=5*a;else{var d=0,f=c.getDay();b=b.getDay();a=parseInt(g/7);e=g%7;c=new Date(c);c.setDate(c.getDate()+7*a);c=c.getDay();if(0<g)switch(!0){case 6==f:d=-1;break;case 0==f:d=0;break;case 6==b:d=-1;break;case 0==b:d=-2;break;case 5<c+e:d=-2}else if(0>g)switch(!0){case 6==f:d=0;break;case 0==f:d=1;break;case 6==b:d=2;break;case 0==b:d=1;break;case 0>c+e:d=2}g=g+d-2*a}e=g;break;case "year":e=g;break;case "month":e=b.getMonth()-c.getMonth()+12*
g;break;case "week":e=parseInt(h.difference(c,b,"day")/7);break;case "day":e/=24;case "hour":e/=60;case "minute":e/=60;case "second":e/=1E3;case "millisecond":e*=b.getTime()-c.getTime()}return Math.round(e)}};k.mixin(k.getObject("dojo.date",!0),h);return h})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(n,k){var h={};n.setObject("dojo.cldr.supplemental",h);h.getFirstDayOfWeek=function(c){c={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,
qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[h._region(c)];return void 0===c?1:c};h._region=function(c){c=k.normalizeLocale(c);c=c.split("-");var b=c[1];b?4==b.length&&(b=c[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",
as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",
ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",
sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",
bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",
guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",
luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",
sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",
yav:"cm",zza:"tr"}[c[0]];return b};h.getWeekend=function(c){var b=h._region(c);c={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===c&&(c=6);void 0===b&&(b=0);return{start:c,end:b}};return h})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(n,k){var h={};k.setObject("dojo.regexp",h);h.escapeString=function(c,
b){return c.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};h.buildGroupRE=function(c,b,a){if(!(c instanceof Array))return b(c);for(var g=[],e=0;e<c.length;e++)g.push(b(c[e]));return h.group(g.join("|"),a)};h.group=function(c,b){return"("+(b?"?:":"")+c+")"};return h})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(n,k){var h=/[&<>'"\/]/g,c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},
b={};k.setObject("dojo.string",b);b.escape=function(a){return!a?"":a.replace(h,function(a){return c[a]})};b.rep=function(a,b){if(0>=b||!a)return"";for(var c=[];;){b&1&&c.push(a);if(!(b>>=1))break;a+=a}return c.join("")};b.pad=function(a,c,e,d){e||(e="0");a=String(a);c=b.rep(e,Math.ceil((c-a.length)/e.length));return d?a+c:c+a};b.substitute=function(a,b,c,d){d=d||n.global;c=c?k.hitch(d,c):function(a){return a};return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,l,p){if(""==l)return"$";
a=k.getObject(l,!1,b);p&&(a=k.getObject(p,!1,d).call(d,a,l));return c(a,l).toString()})};b.trim=String.prototype.trim?k.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return b})},"mw-facade/MatlabFacade":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-remote/Remote mw-messageservice/MessageService mw-deprecation-utils/deprecation".split(" "),function(n,k,h,c,b,a){a.deprecated({deprecated:{module:"mw-facade/MatlabFacade"},
replacement:{module:"mw-remote/Remote"}});return n(null,{constructor:function(a){b.start();this._config=a||{};this._registerHandlers()},_config:{},_registerHandlers:function(){var a=this._config;c.registerFaultHandler("Eval",function(b,c){h.error("Error: "+b.code+", "+b.message);c&&k.isFunction(c.errorCallback)?c.errorCallback(b):k.isFunction(a.errorCallback)&&a.errorCallback(b)});c.registerResponseHandler("EvalResponse",function(b,c){h.info("eval response");c&&k.isFunction(c.evalCallback)?c.evalCallback(b):
k.isFunction(a.evalCallback)&&a.evalCallback(b)});c.registerFaultHandler("FEval",function(b,c){h.error("Error: "+b.code+", "+b.message);c&&k.isFunction(c.errorCallback)?c.errorCallback(b):k.isFunction(a.errorCallback)&&a.errorCallback(b)});c.registerResponseHandler("FEvalResponse",function(b,c){h.info("feval response");c&&k.isFunction(c.fevalCallback)?c.fevalCallback(b):k.isFunction(a.evalCallback)&&a.evalCallback(b)})},executionEval:function(a){k.isString(a)&&(a={matlabcode:a});c.sendMessage({Eval:{mcode:a.matlabcode}},
a)},feval:function(a){a.arguments=a.arguments||[];a.nargout=a.nargout||0;c.sendMessage({FEval:{"function":a["function"],arguments:a.arguments,nargout:a.nargout}},a)},publish:b.publish,subscribe:b.subscribe,unsubscribe:b.unsubscribe})})},"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),
function(n,k,h,c,b,a,g,e,d,f,l){var p=this,m;m={reset:function(){var s=[],w=new b,v=new g({faultManager:w}),r=new a({responseManager:v});m.faultManager=w;m.responseManager=v;m.requestManager=r;m._serviceRegistryLookup=l;m._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var u=m.proxyClient=new h;m.createUploadIframeTarget=n.hitch(u,u.createUploadIframeTarget);m.cancelUpload=n.hitch(u,u.cancelUpload);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,
u);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,u);e.construct=function(a){a=a||{};d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||m.setEndpoint();a.allowedMessages=s;a.sendMessage=m.sendMessage;a.computeSessionId=m.getComputeSessionId;return new c(a)};m.registerEndpointLevelFaultHandler=n.hitch(w,w.registerEndpointLevelFaultHandler);m.sendMessage=n.hitch(r,r.sendMessage);m.registerDefaultMessageFactory=n.hitch(r,r.registerDefaultMessageFactory);
m.deregisterDefaultMessageFactory=n.hitch(r,r.deregisterDefaultMessageFactory);m.registerResponseHandler=n.hitch(v,v.registerResponseHandler);m.deregisterResponseHandler=n.hitch(v,v.deregisterResponseHandler);m.registerFaultHandler=n.hitch(w,w.registerFaultHandler);m.deregisterFaultHandler=n.hitch(w,w.deregisterFaultHandler);m.registerTopLevelFaultHandler=n.hitch(w,w.registerTopLevelFaultHandler);m.deregisterTopLevelFaultHandler=n.hitch(w,w.deregisterTopLevelFaultHandler);m.setServiceEndPoint=function(a,
b,c){d.setRoutingHostAndRoutingKey(a,b,c)};m.setServicePathSuffixForEndPoint=function(a,b){d.setPathSuffixForEndPoint(a,b)};m.ignoreTopLevelFault=m.registerTopLevelFaultHandler;m.setComputeToken=function(a){m._uploadIframeProxyUrlParameters[1]=a.computeSessionId;r.computeToken=a};m.setWorkerEndpoint=function(a,b){m._uploadIframeProxyUrlParameters[3]=b;d.setRoutingHostAndRoutingKey(d.getEndPointNames().WORKER_ENDPOINT,a,b)};m.setEndpoint=function(a){a||(a=m._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),
a||(f.info("ServiceRegistryLookup is empty, falling back to localhost"),a="/"));if(!a||"/"===a)a=p.location.protocol+"//"+p.location.host+"/";d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,a);d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);u.setRemotePageHost(a)};m.setAllowedMessages=function(a){s=a};m.allowAllMessages=function(){s=[]};m.getEndPoint=function(){return d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};
m.getUploadIframeProxyUrl=function(){var a=m.getWorkerRoutingHost();"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+u.getUploadIframeProxyUrlPath()+m._uploadIframeProxyUrlParameters.join("")};m.getComputeSessionId=function(){return r.computeToken?r.computeToken.computeSessionId:12345};m.getWorkerRoutingHost=function(){var a=d.getRoutingHost(d.getEndPointNames().WORKER_ENDPOINT);return a?a:location.protocol+"//"+location.host+"/"};m.getWorkerRoutingKey=function(){return d.getRoutingKey(d.getEndPointNames().WORKER_ENDPOINT)};
m.getServiceRegistryEndpoint=function(a){return m._serviceRegistryLookup.getServiceRegistryEndpoint(a)};m.enableServerOnWorkerAsync=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.disableServerOnWorkerAsync=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.isServerOnWorkerAsyncEnabled=function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.enableServerOnWorker=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};
m.disableServerOnWorker=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};m.isWorkerEndpointEnabled=function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ENDPOINT)};m.setWorkerOnlyMessageTypes=function(a){d.setMessageTypesToEndPoint(d.getEndPointNames().WORKER_ENDPOINT,a)};k.after(u,"onError",function(a){a&&w.handleNonTransactionFault(a)},!0)}};m.reset();return m})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),
function(n,k,h,c,b,a,g,e,d,f){var l=this,p=k([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,b,c,d,f){a=this._combineUriPaths(a||"","/");b=b||"";f=f||this.LATEST_VERSION;d=d||"";this.computeToken=c;a===this._host&&b===
this._key&&d===this._proxyUrl&&f===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=b,this._version=f,this._proxyUrl=d,a=this._calculateUrls(a,b,f,d),this._createIframe(a))},_calculateUrls:function(a,b,c,d){var f=this.REMOTE_PROXY+c+"/iframeProxyRelease.html";c=this.REMOTE_PROXY+c+"/CheckJsFile.js";d&&(f=d);f=this._combineUriPaths(a,f).split("?")[0];f+=b?"?routingkey\x3d"+b:"";c=this._combineUriPaths(a,c);c=b?c+("?routingkey\x3d"+b):c+("?time\x3d"+(new Date).getTime());return{fastFailUrl:c,
iFrameUrl:f}},_createIframe:function(a){var c=a.fastFailUrl,e=this;this._url=a.iFrameUrl;this.remoteIframe&&g.destroy(this.remoteIframe);d.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=g.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});this._checkUrl=(new f(c)).then(function(){},b.hitch(e,"_handleLoadTimeoutHitch"));this._loadTimeoutHandle=setTimeout(function(){e._handleLoadTimeoutHitch()},
this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=n.connect(l,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{clearTimeout(this._loadTimeoutHandle);var a=(parseFloat(this._version)-0.1).toFixed(1).toString();d.info("Unable to load proxy version "+this._version+", trying "+a+".");this.setRemotePageHost(this._host,this._key,this.computeToken,
this._proxyUrl,a)}},createUploadIframeTarget:function(a,c,d){this._uploadTargetCallbacks[a]=b.hitch(d||this,c);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(a,b,f){var l=this,e;this.computeToken&&(f=f||{},f.headers=f.headers||{},f.headers.computeToken=this.computeToken);e=this._getNewMessageId();b="sendMessage;"+
e+";"+b+";"+(f?c.toJson(f):"{}");b+=";"+a;a={deferred:new h(function(){"1.0"===l._version?d.warn("Cancelling is not supported by the 1.0 remote proxy."):l._postMessage("abort;"+e)}),id:e};this._errorLoading?a.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[e]=a,this._postMessage(b));return a.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},
_handleMessage:function(a){var b,c;if(a.source===this.remoteIframe.contentWindow){c=a.data.indexOf(";");b=a.data.substring(0,c);if(!b)throw Error("Client unable to parse message, no action specified: "+a.data);switch(b){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,c);break;case "uploadIframeMessage":b=a.data.indexOf(";",c+1);c=a.data.substring(c+1,b);a=a.data.substring(b+1,a.data.length);this._uploadTargetCallbacks[c](a);
break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+b+", data: "+a.data);}}},_sendMessageResponse:function(a,b){var d,f,l=a.data.indexOf(";",b+1);d=a.data.indexOf(";",l+1);var e=a.data.substring(b+
1,l),p=a.data.substring(l+1,d),l=a.data.substring(d+1,a.data.length);if(!e||!p)throw Error("Invalid message from remote iframe: "+a.data);d=this._transactions[e];if(!d)throw Error("Unknown transaction id: "+e+", from remote iframe: "+a.data);delete this._transactions[e];if(!d.deferred.isCanceled())if("success"===p){try{f=l&&c.fromJson(l)}catch(g){f=l}f=""===f?{}:f;d.deferred.resolve(f)}else"fault"===p&&l&&(f=l.split(";"),e=f.length-1,1<=e&&(l.statusCode=f[e])),this.onError(l),d.deferred.reject(l)},
_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,b;this._cleanupFailureChecks();if(!this._loaded)for(b in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,
this._transactions={},a)a.hasOwnProperty(b)&&a[b].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(a){function b(){if(0<c._errorRate&&Math.random()<c._errorRate&&0===a.indexOf("sendMessage;")){if(f=a.split(";",2)[1],l=c._transactions[f])delete c._transactions[f],d.error("Generating simulated error. Request was: ",a),c.onError("403 Forbidden;403"),l.deferred.reject("403 Forbidden;403")}else c.remoteIframe.contentWindow.postMessage(a,c._url)}var c=
this,f,l;this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){if(0===a.length)return b;0<b.length&&
("/"===b[0]&&a.lastIndexOf("/")===a.length-1?b=b.substring(1):"/"!==b[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+b})}});p.WebSocket=k([],{constructor:function(b){var c=this;this.proxyClient=p.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=b.indexOf("?")&&(b=b+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+b);a.after(this.proxyClient,"onWebsocketOpen",function(){c.onopen.apply(c,arguments)},!0);a.after(this.proxyClient,
"onWebsocketMsg",function(){c.onmessage.apply(c,arguments)},!0);a.after(this.proxyClient,"onWebsocketClose",function(){c.onclose.apply(c,arguments)},!0);a.after(this.proxyClient,"onWebsocketError",function(){c.onerror.apply(c,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return p})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(n,k,h,c,b){return function(a){var g,e,d;if(!a)throw Error("Expected a valid url in urlToEmptyJsFile");g={framedoc:null};e=c.get(a,g,!0);g=k.byId(e.id,g.frameDoc);d=h(g,"error",function(c){b.info("CheckUrlService detected an error accessing url: "+a);e.handleResponse(null,c);d.remove()});return e.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(n,k,h,c,b,a,g,e,d,f,l){function p(a,b){a.canDelete&&r._remove(a.id,b.options.frameDoc,!0)}function m(a){N&&N.length&&(b.forEach(N,function(a){r._remove(a.id,a.frameDoc);a.frameDoc=null}),N=[]);return a.options.jsonp?!a.data:!0}function s(a){return!!this.scriptLoaded}function w(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function v(a,b){if(this.canDelete){var c=this.response.options;N.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&
(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function r(b,c,d){var f=h.parseArgs(b,h.deepCopy({},c));b=f.url;c=f.options;var l=h.deferred(f,p,m,c.jsonp?null:c.checkString?w:s,v);a.mixin(l,{id:u+D++,canDelete:!1});c.jsonp&&(RegExp("[?\x26]"+c.jsonp+"\x3d").test(b)||(b+=(~b.indexOf("?")?"\x26":"?")+c.jsonp+"\x3d"+(c.frameDoc?"parent.":"")+u+"_callbacks."+l.id),l.canDelete=!0,B[l.id]=function(a){f.data=a;l.handleResponse(f)});h.notify&&h.notify.emit("send",f,l.promise.cancel);
if(!c.canAttach||c.canAttach(l)){var e=r._attach(l.id,b,c.frameDoc);if(!c.jsonp&&!c.checkString)var n=g(e,y,function(a){if("load"===a.type||z.test(e.readyState))n.remove(),l.scriptLoaded=a})}g.once(e,"error",function(a){l.reject(a);r._remove(l.id,c.frameDoc,!0)});k(l);return d?l:l.promise}f.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=n.id.replace(/[\/\.\-]/g,
"_"),D=0,y=f("script-readystatechange")?"readystatechange":"load",z=/complete|loaded/,B=c.global[u+"_callbacks"]={},N=[];r.get=r;r._attach=function(a,b,c){c=c||l.doc;var d=c.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};r._remove=function(a,b,c){d.destroy(e.byId(a,b));B[a]&&(c?B[a]=function(){delete B[a]}:delete B[a])};r._callbacksProperty=u+"_callbacks";return r})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare",
"mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(n,k,h){return n([k],{constructor:function(c){c=c||{};this.proxyClient=c.proxyClient;this.workerProxyClient=c.workerProxyClient;this.routingHost=c.routingHost;this.routingKey=c.routingKey;this.computeSessionId=c.computeSessionId},_doSend:function(c){return h.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(c,h.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),
function(n,k,h,c,b,a){return n(a,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var c=null;b.isEndpointMessageContainerBased(this.endPointName)?(c={uuid:this.uuid,messages:a},this.computeToken&&(c.computeToken=this.computeToken)):Object.keys(a).forEach(function(b){c=a[b]});this._sanitizeForJson(c);return h.toJson(c)},_sanitizeForJson:function(a){var b;if(c.isArray(a))a.forEach(this._sanitizeForJson,this);else if(c.isObject(a))for(b in a)a.hasOwnProperty(b)&&
(void 0===a[b]?delete a[b]:(c.isObject(a[b])||c.isArray(a[b]))&&this._sanitizeForJson(a[b]))},_doSend:function(a){return k.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();
this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],function(n){var k=null;null===k&&(k=new n);return k})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(n,k,h){return n([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},
WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",
pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(c,b,a,g,e){this.endPointsCollection[c]={routingHost:"",
routingKey:"",pathSuffix:a,enabled:b,messages:[],iframeProxy:null,iframeProxyName:g,acceptsMessageContainerMessages:e}},getPathSuffixForEndPoint:function(c){return this.endPointsCollection[c].pathSuffix},setPathSuffixForEndPoint:function(c,b){this.endPointsCollection[c].pathSuffix=b},getEndPointNames:function(){var c={},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(c[b]=b);return c},setRoutingHostAndRoutingKey:function(c,b,a){b&&b.lastIndexOf("/")!==b.length-1&&
(b+="/");this.endPointsCollection[c].routingHost=b;a&&(this.endPointsCollection[c].routingKey=a);b&&this._setIframeRoutingHostAndRoutingkey(c)},_setIframeRoutingHostAndRoutingkey:function(c){var b=this.getIframeProxyClientForEndPoint(c);b&&b.setRemotePageHost(this.endPointsCollection[c].routingHost,this.endPointsCollection[c].routingKey,null,this.endPointsCollection[c].iframeProxyUrl)},getRoutingHost:function(c){return this.endPointsCollection[c].routingHost},getRoutingKey:function(c){return this.endPointsCollection[c].routingKey},
getMessageTypesMappedToEndPoint:function(c){return this.endPointsCollection[c].messages},isEndPointEnabled:function(c){return this.endPointsCollection[c].enabled},setMessageTypesToEndPoint:function(c,b){this.endPointsCollection[c].messages=b},enableEndPoint:function(c){this.endPointsCollection[c].enabled=!0},disableEndPoint:function(c){this.endPointsCollection[c].enabled=!1},getEndPointForMessageType:function(c){var b=null,a;for(a in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(a)&&
(b=-1<k.lastIndexOf(this.endPointsCollection[a].messages,c)?a:b))if(this.isEndPointEnabled(b))break;else b=null;return b?b:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(c){var b=this.endPointsCollection[c].routingHost+this.endPointsCollection[c].pathSuffix;this.endPointsCollection[c].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[c].routingKey);return b},setIframeProxyClientForEndPoint:function(c,b){this.endPointsCollection[c].iframeProxy=b},getIframeProxyClientForEndPoint:function(c){var b=
this.endPointsCollection[c].iframeProxy;b||(b=new h(this.endPointsCollection[c].iframeProxyName),this.endPointsCollection[c].iframeProxy=b);return b},isEndpointMessageContainerBased:function(c){return c&&this.endPointsCollection[c]?this.endPointsCollection[c].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(c,b){this.endPointsCollection[c]&&-1===this.endPointsCollection[c].messages.indexOf(b)&&this.endPointsCollection[c].messages.push(b)},removeMessageTypesFromEndPoint:function(c,
b){if(this.endPointsCollection[c]){var a=this.endPointsCollection[c].messages.indexOf(b);-1<a&&this.endPointsCollection[c].messages.splice(a,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","mw-remote/RemoteEndPointsManager","mw-utils/Utils"],function(n,k,h,c,b){return n([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=
a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(a,b,e){if(b){var d=c.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[a]||(this.requestMessages[a]=[]);h.isArray(b)?b.forEach(function(b){this.addRequestMessage(a,b,e)},this):d?(b.uuid=b.uuid||this._generateUuid(),e&&(this.uuidClassifierMap[b.uuid]=
e),this.requestMessages[a].push(b)):this.requestMessages[a]=b;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(c){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(c))b[c]=a[c]},this);return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&
b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=new k,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,
b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var c in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(c)&&(b&&this.uuidClassifierMap[c]===b)&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&h.isArray(this.requestMessages[a])&&0===b.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},
_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return b.generateUuid()}})})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(n,k,h){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(c){var b=16*Math.random()|0;return("x"===c?b:b&3|8).toString(16)}).toUpperCase()},isImageData:function(c){return!!c&&(k.global.ImageData&&c instanceof k.global.ImageData||c.hasOwnProperty("width")&&
c.hasOwnProperty("height")&&c.hasOwnProperty("data"))},isArray:function(c){h.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(c)},getArrayLength:function(c){var b=0;if(!n.isArray(c))return!1;c.forEach(function(a){a&&(b+=1)});return b},isWhitespace:function(c){return/^\s+$/.test(c)},removeSurroundingNewLines:function(c){for(;"\n"===c.charAt(0);)c=c.substring(1);for(;"\n"===c.charAt(c.length-1);)c=c.substring(0,c.length-1);return c},getFirstUniqueElement:function(c,
b){var a=null;b.some(function(b){if(-1===c.indexOf(b))return a=b,!0});return a},unionOfWordSets:function(c,b,a){c=this._stringToArray(c);b=this._stringToArray(b);c=this.unionOfArrays(c,b);return a?c.join(" "):c},intersectionOfWordSets:function(c,b,a){c=this._stringToArray(c);b=this._stringToArray(b);c=this.intersectionOfArrays(c,b);return a?c.join(" "):c},differenceOfWordSets:function(c,b,a){c=this._stringToArray(c);b=this._stringToArray(b);c=this.unique(this.differenceOfArrays(c,b));return a?c.join(" "):
c},unionOfArrays:function(c,b){return this.unique(c.concat(b))},intersectionOfArrays:function(c,b){return this.nonunique(c.concat(b))},differenceOfArrays:function(c,b){if(void 0===window.Map)return this._legacyDifferenceOfArrays(c,b);var a,g,e,d=new Map,f=[];for(e=0;e<b.length;e++)d.set(b[e],null);for(e=0;e<c.length;e++)g=c[e],(a=d.has(g))||f.push(g);return f},_legacyDifferenceOfArrays:function(c,b){return this.unique(c.filter(function(a){return-1===b.indexOf(a)}))},unique:function(c){return c.filter(function(b,
a){return c.indexOf(b)===a})},nonunique:function(c){return this.unique(c.filter(function(b,a){return c.indexOf(b)!==a}))},arrayEquals:function(c,b,a){if(c===b)return!0;if(c.length!==b.length)return!1;a||(a=function(a,b){return a===b});for(var g=0,e=c.length;g<e;g++)if(!a(c[g],b[g]))return!1;return!0},removeEmptyElements:function(c){return c.filter(function(b){return!(""===b||null===b||void 0===b)})},_stringToArray:function(c){return!this._isString(c)?c:this.removeEmptyElements(c.split(" "))},_isString:function(c){return"string"===
typeof c||c instanceof String}}})},"mw-utils/deprecation":function(){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};define(["dojo/_base/config","mw-log/Log"],function(k,h){var c={deprecated:function(b){var a,c;if((k.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(b))c=window.showDeprecationsAsErrors||b.deprecationLevel===
this.ERROR?this.ERROR:this.WARN,a="DEPRECATED: ",b.deprecated&&(a+=b.deprecated.module,b.deprecated.method&&(a+="."+b.deprecated.method+"()"),a+="."),b.replacement&&(a+=" Use "+b.replacement.module,b.replacement.method&&(a+="."+b.replacement.method+"()"),a+=" instead."),b.removalVersion&&(a+=" Will be removed in version: "+b.removalVersion+"."),b.geckNumber&&(a+=" Please use g"+b.geckNumber+" to track latest information regarding this deprecation"),b.additionalInformation&&(a+=" "+b.additionalInformation),
h[c](a)},_isConfigValid:function(b){var a=!!b.deprecated&&"object"===n(b.deprecated)&&b.deprecated.hasOwnProperty("module");b.replacement&&(a=a&&"object"===n(b.replacement)&&b.replacement.hasOwnProperty("module"));b.geckNumber&&(a=a&&"number"===typeof b.geckNumber);a||h.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return a}};Object.defineProperties(c,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",
enumerable:!0}});return c})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(n,k,h,c){return k([],{constructor:function(b){b=b||{};this.faultHandlers=b.faultHandlers||{};this.topLevelHandlers=b.topLevelHandlers||[];this.endPointLevelHandlers=b.endPointLevelHandlers||{}},registerFaultHandler:function(b,a,c){c&&(a=h.hitch(c,a));this.faultHandlers[b]=a},deregisterFaultHandler:function(b){delete this.faultHandlers[b]},
registerTopLevelFaultHandler:function(b,a,c){c&&(a=h.hitch(c,a));if(h.isString(b)){if("*"===b)return b={matcher:b,handler:a},this.defaultTopLevelHandler=a,b;b=this._constructMatcherFromQuery(b)}b={matcher:b,handler:a};this.topLevelHandlers.push(b);return b},registerEndpointLevelFaultHandler:function(b,a,c,e){e&&(c=h.hitch(e,c));h.isString(a)&&(a=this._constructMatcherFromQuery(a));a={matcher:a,handler:c};this.endPointLevelHandlers[b]||(this.endPointLevelHandlers[b]=[]);this.endPointLevelHandlers[b].push(a);
return a},deregisterTopLevelFaultHandler:function(b){var a=this.topLevelHandlers.indexOf(b);-1<a?this.topLevelHandlers.splice(a,1):"*"===b.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(b){var a=[];b.split("||").forEach(function(b){b=h.trim(b);b=b.replace(/([\.])/g,"\\$1");b=b.replace(/\*/g,".*");a.push(RegExp("^"+b+"$"))});return function(b){return n.some(a,function(a){return a.test(b.faultCode||b.code||"")})}},handleFault:function(b){var a,c=function(a,c){var l;
if(l=b.getMessageClassifier(c))if(l=[a,l].join(":"),this.faultHandlers[l])this.faultHandlers[l](b.fault,b.context)};for(a in b.requestMessages)if(b.requestMessages.hasOwnProperty(a)){if(this.faultHandlers[a])this.faultHandlers[a](b.fault,b.context);var e=b.requestMessages[a];Array.isArray(e)&&e.forEach(h.hitch(this,c,a))}if(this.faultHandlers["*"])this.faultHandlers["*"](b.fault,b.context);this.endPointLevelHandlers[b.endPointName]?this._handleEndpointLevelFault(b):this._handleTopLevelFault(b)},_handleEndpointLevelFault:function(b){var a=
!1,c=n.filter(this.endPointLevelHandlers[b.endPointName],function(a){return a.matcher.call(this,b.fault,b.context)},this);0<c.length&&c[0].handler&&(a=!0,c[0].handler.call(this,b.fault,b.context,b));return a},_handleTopLevelFault:function(b){var a=n.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,b.fault,b.context)},this);(a=0<a.length?a[0].handler:this.defaultTopLevelHandler)&&a.call(this,b.fault,b.context,b)},handleNonTransactionFault:function(b){var a=n.filter(this.topLevelHandlers,
function(a){return a.matcher.call(this,b)},this);(a=0<a.length?a[0].handler:this.defaultTopLevelHandler)&&a.call(this,b)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),function(n,k,h,c,b,a,g){return k([],{defaultMapping:a,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||
{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(a,b,f){f&&(b=c.hitch(f,b));this.defaultFactories[a]=b},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(a,b,f){var l=this;b=c.hitch(f||this,b);this.mockHandlers[a]=function(a,c){var f,e=g.construct(c);f=b(a,e);f||(f=new h,f.callback());f.addCallback(function(){l.responseManager._processResult(e)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},
sendMessage:function(a,b,c){var l={},p={};b=b||{};this._createAndFillTransactions(a,b,c,l,p);a=Object.keys(l);for(b=0;b<a.length;b+=1)c=a[b],this._callMocks(p[c]),l[c].send(),this.responseManager.handleTransaction(l[c])},_getTransaction:function(a,b){return g.construct({context:b,computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,b,c){return g.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:c})},_createAndFillTransactions:function(a,c,f,l,p){var m,
g,h=function(a){var f,e,m,g,s;f=b.getEndPointForMessageType(a);g=l[f];s=p[f];g||(g=this._getTransaction(f,c),s=this._getMockTransaction(f,c,g.uuid),l[f]=g,p[f]=s);if(this.defaultFactories[a]&&(f=this.defaultFactories[a](g.context)))e=a.split(":"),m=e[0],e=e.slice(1,e.length).join(":"),this.mockHandlers[a]||g.addRequestMessage(m,f,e),s.addRequestMessage(m,f,e)},k,r;for(m in a)a.hasOwnProperty(m)&&(g=b.getEndPointForMessageType(m),k=p[g],r=l[g],l[g]||(r=this._getTransaction(g,c),k=this._getMockTransaction(g,
c,r.uuid),l[g]=r,p[g]=k),g=[m,f].join(":"),!this.mockHandlers[m]&&!this.mockHandlers[g]&&r.addRequestMessage(m,a[m],f),k.addRequestMessage(m,a[m],f),this.mapping[g]?this.mapping[g].forEach(h,this):this.mapping[m]&&this.mapping[m].forEach(h,this))},_callMocks:function(a){var b,f,l=a.context;delete a.context;var p=function(a,c){var f;if(f=b.getMessageClassifier(c))if(f=[a,f].join(":"),this.mockHandlers[f])this.mockHandlers[f]([c],b)};for(f in a.requestMessages)if(a.requestMessages.hasOwnProperty(f)){b=
c.mixin({},a);b.context=l;if(this.mockHandlers.hasOwnProperty(f))this.mockHandlers[f](b.requestMessages[f],b);Array.isArray(b.requestMessages[f])?b.requestMessages[f].forEach(c.hitch(this,p,f)):p(f,b.requestMessages[f])}if(this.mockHandlers["*"])this.mockHandlers["*"](f,b.requestMessages[f],b)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],
"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],
UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),function(n,k,h,c,b,a,g){return k([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(a,
c,f){f&&(c=b.hitch(f,c));this.responseHandlers[a]=c},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},handleTransaction:function(a){this.transactions.push(a);a.deferred.addCallback(b.hitch(this,this._processAll,a));a.deferred.addCallback(b.hitch(this,this._processResult,a));a.deferred.addErrback(b.hitch(this,this._processAll,a));a.deferred.addErrback(b.hitch(this,this._processFault,a))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},
_processResult:function(b){b.getResponseMessageTypes().forEach(function(d){var f=b.responseMessages[d],l=[];try{if(Array.isArray(f)){f.forEach(function(a){var c,f=b.getMessageClassifier(a);if(f){c=[d,f].join(":");var p=this,g=!1;b.getRequestMessageTypes().forEach(function(f){f=b.requestMessages[f];Array.isArray(f)?f.forEach(function(f){p.responseHandlers[c]&&f.uuid===a.uuid&&(p.responseHandlers[c]([a],b.context),g=!0)}):p.responseHandlers[c]&&f.uuid===a.uuid&&(p.responseHandlers[c]([a],b.context),
g=!0)});g||l.push(a)}else l.push(a)},this);if(0<l.length&&this.responseHandlers[d])this.responseHandlers[d](l,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](d,b.responseMessages[d],b.context)}}catch(p){a.error("Remote: Fault occurred while processing response.\nMessage: "+p.message+"\nType: "+d+"\nResponse: "+c.toJson(f))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(a){if(!g.isEndpointMessageContainerBased(a.endPointName)){var b=
Object.keys(a.requestMessages)[0];if(this.responseHandlers[b])this.responseHandlers[b](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)}})})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(n,k){var h=!1,c={_serviceData:{},getServiceRegistryEndpoint:function(b){if(c._serviceData.serviceregistry){var a,g;a=c._serviceData.serviceregistry.length;for(g=0;g<a;g+=1)if(c._serviceData.serviceregistry[g].name===b)return c._serviceData.serviceregistry[g].endpoint}return""}};
return{load:function(b,a,g){h?g(c):n("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!a.async}).then(function(a){c._serviceData=a;h=!0;g(c)},function(a){c._serviceData={};h=!0;g(c)})}}})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),function(n,k,h,c,b,a){var g=new c;
c={messageService:g,subscribe:n.hitch(g,"subscribe"),unsubscribe:n.hitch(g,"unsubscribe"),publish:n.hitch(g,"publish"),start:n.hitch(g,"start"),stop:n.hitch(g,"stop"),isRunning:n.hitch(g,"isStarted"),isStarted:n.hitch(g,"isStarted"),isConnected:n.hitch(g,"isConnected"),isFatallyDisconnected:n.hitch(g,"isFatallyDisconnected"),isDisconnected:n.hitch(g,"isDisconnected"),setLatency:n.hitch(g,"setLatency"),setErrorRate:n.hitch(g,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},
onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:n.hitch(g,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};k.after(g,"onConnected",n.hitch(c,"onConnected"),!0);k.after(g,"onDisconnected",n.hitch(c,"onDisconnected"),!0);k.after(g,"onReconnected",n.hitch(c,"onReconnected"),!0);k.after(g,"onFatallyDisconnected",
n.hitch(c,"onFatallyDisconnected"),!0);k.after(g,"onNotConnected",n.hitch(c,"onNotConnected"),!0);var e=a.enableServerOnWorkerAsync;a.enableServerOnWorkerAsync=function(){e();g.setDelegate(new h(a))};var d=a.disableServerOnWorkerAsync;a.disableServerOnWorkerAsync=function(){d();g.setDelegate(new b(a,g))};a.isServerOnWorkerAsyncEnabled()?a.enableServerOnWorkerAsync():a.disableServerOnWorkerAsync();return c})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(n,k,h,c,b,a,g,e,d){var f;a.JSON.toJSON=c.stringify;a.JSON.fromJSON=c.parse;var l=0,p=0,m={};setInterval(function(){l+=200;Object.keys(m).forEach(function(a){var b=m[a];b.execTime<=l&&(b.func(),delete m[a])})},200);var s=function(b,c,f){var e=new a.LongPollingTransport,e=a.Transport.derive(e);e.xhrSend=function(a){var b=c.sendMessage(a.body,a.url,{headers:a.headers});b.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){b.cancel()}}};var s=new a.Cometd(b),y=a.Utils.setTimeout;
a.Utils.setTimeout=function(a,b,c){if(0===c)return y(a,b,c);p+=1;m[p]={func:function(){try{b()}catch(a){s._debug("Exception invoking timed function",b,a)}},execTime:l+c};return p};a.Utils.clearTimeout=function(a){delete m[a]};a.WebSocket=d.WebSocket;d.WebSocket.proxyClient=c;s.registerExtension("ack",new g);f.websocket&&s.registerTransport("websocket",new a.WebSocketTransport,0);s.registerTransport("long-polling",e,1);return s};f=n([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(a,b,c,f){this.remote=a;this.constructCometD=b||s;this.cometdProperties=f||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};a=["maxNetworkDelay","connectTimeout","logLevel"];if(b=k.cometdProperties)for(f=0;f<a.length;f+=1){var l=a[f];void 0!==b[l]&&(this.cometdProperties[l]=b[l])}this.workerProxyAsyncClient=c||new d("remoteWorkerAsyncProducer");
var p=this;h.after(this.workerProxyAsyncClient,"onError",function(a){p.cometd&&(p.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to IFrame error."),p.cometd.disconnect());p.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){p._deferredCleanup=!1;p.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=f.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var a={};f.enableWebsocket&&this._webSocket.try?a.websocket=!0:(a.websocket=!1,this._webSocket.try=!1);var c=this.constructCometD("messageService",this.workerProxyAsyncClient,a);this.cometd=c;this.logCometdLifecycle&&e.info("MessageServiceAsync constructing new cometd instance.");a=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var d=this,l=new b;a.then(function(a){d.logCometdLifecycle&&e.info("MessageServiceAsync cometd handshake successful.",a,c.getClientId(),c);c.isDisconnected()?(e.error("MessageServiceAsync cometd handshake successful but still disconnected!"),c.disconnect(),l.reject(a)):("websocket"===c.getTransport().getType()&&(d._webSocket.connectedAtLeastOnce=!0),l.resolve(a))},function(a){d.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
a,c.getClientId(),c);c.disconnect();if(a.request&&a.request.supportedConnectionTypes){var b=a.request.supportedConnectionTypes;1<b.length&&("websocket"===b[0]&&!d._webSocket.connectedAtLeastOnce)&&(d._webSocket.try=!1)}l.reject(a)});this.cometdProperties.url=this._getEndpoint();c.init(this.cometdProperties);return l.promise},disconnect:function(){this.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var c=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return c},doSubscribe:function(a){this.logCometdSubscriptions&&
e.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(a){if(this.subscriptions[a]){this.logCometdSubscriptions&&e.info("MessageServiceAsync unsubscribing cometd from channel: "+a);var c=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[a]);delete this.subscriptions[a];
return c}return(new b).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(a){var c=new b;this._addOneShotListener(a,function(a){a.successful?c.resolve(a):(e.warn("Message failed: ",a),c.reject(a))});return c.promise},_addOneShotListener:function(a,b){var c=this,f=this.cometd,d;d=this.cometd.addListener(a,function(a){f.removeListener(d);b.apply(c,arguments)})},_createListenerForUnknownClient:function(){var a=
this.cometd,b=this;a.addListener("/meta/connect",function(c){!c.successful&&(c.advice&&"handshake"===c.advice.reconnect)&&(a.disconnect(),b.onConnectionError(c.error))})},_getEndpoint:function(){return this.routingHost+this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});f.enableWebsocket=!1;f.workerHostOverride=!1;0<=
location.search.indexOf("websocket\x3don")&&(f.enableWebsocket=!0);return f})},"dojox/cometd/cometd":function(){define(function(){var n=this.org=this.org||{};n.cometd={};n.cometd.JSON={};n.cometd.JSON.toJSON=n.cometd.JSON.fromJSON=function(k){throw"Abstract";};n.cometd.Utils={};n.cometd.Utils.isString=function(k){return void 0===k||null===k?!1:"string"===typeof k||k instanceof String};n.cometd.Utils.isArray=function(k){return void 0===k||null===k?!1:k instanceof Array};n.cometd.Utils.inArray=function(k,
h){for(var c=0;c<h.length;++c)if(k===h[c])return c;return-1};n.cometd.Utils.setTimeout=function(k,h,c){return window.setTimeout(function(){try{h()}catch(b){k._debug("Exception invoking timed function",h,b)}},c)};n.cometd.Utils.clearTimeout=function(k){window.clearTimeout(k)};n.cometd.TransportRegistry=function(){var k=[],h={};this.getTransportTypes=function(){return k.slice(0)};this.findTransportTypes=function(c,b,a){for(var g=[],e=0;e<k.length;++e){var d=k[e];!0===h[d].accept(c,b,a)&&g.push(d)}return g};
this.negotiateTransport=function(c,b,a,g){for(var e=0;e<k.length;++e)for(var d=k[e],f=0;f<c.length;++f)if(d===c[f]){var l=h[d];if(!0===l.accept(b,a,g))return l}return null};this.add=function(c,b,a){for(var g=!1,e=0;e<k.length;++e)if(k[e]===c){g=!0;break}g||("number"!==typeof a?k.push(c):k.splice(a,0,c),h[c]=b);return!g};this.find=function(c){for(var b=0;b<k.length;++b)if(k[b]===c)return h[c];return null};this.remove=function(c){for(var b=0;b<k.length;++b)if(k[b]===c)return k.splice(b,1),b=h[c],delete h[c],
b;return null};this.clear=function(){k=[];h={}};this.reset=function(){for(var c=0;c<k.length;++c)h[k[c]].reset()}};n.cometd.Transport=function(){var k,h;this.registered=function(c,b){k=c;h=b};this.unregistered=function(){h=k=null};this._debug=function(){h._debug.apply(h,arguments)};this._mixin=function(){return h._mixin.apply(h,arguments)};this.getConfiguration=function(){return h.getConfiguration()};this.getAdvice=function(){return h.getAdvice()};this.setTimeout=function(c,b){return n.cometd.Utils.setTimeout(h,
c,b)};this.clearTimeout=function(c){n.cometd.Utils.clearTimeout(c)};this.convertToMessages=function(c){if(n.cometd.Utils.isString(c))try{return n.cometd.JSON.fromJSON(c)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+c+'"'),b;}if(n.cometd.Utils.isArray(c))return c;if(void 0===c||null===c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c;};this.accept=function(c,b,a){throw"Abstract";};this.getType=function(){return k};this.send=
function(c,b){throw"Abstract";};this.reset=function(){this._debug("Transport",k,"reset")};this.abort=function(){this._debug("Transport",k,"aborted")};this.toString=function(){return this.getType()}};n.cometd.Transport.derive=function(k){function h(){}h.prototype=k;return new h};n.cometd.RequestTransport=function(){function k(a){for(;0<l.length;){var b=l[0],c=b[0],b=b[1];if(c.url===a.url&&c.sync===a.sync)l.shift(),a.messages=a.messages.concat(c.messages),this._debug("Coalesced",c.messages.length,"messages from request",
b.id);else break}}function h(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var c=this.getConfiguration().maxNetworkDelay,f=c;!0===b.metaConnect&&(f+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",f,"ms for the response, maxNetworkDelay",c);var d=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var c="Request "+b.id+" of transport "+d.getType()+" exceeded "+f+" ms max network delay";d._debug(c);d.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,
a.messages,"timeout",c)},f)}}function c(a){var b=++e,c={id:b,metaConnect:!1};f.length<this.getConfiguration().maxConnections-1?(f.push(c),h.call(this,a,c)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),l.push([a,c]))}function b(a,b){var d=n.cometd.Utils.inArray(a,f);0<=d&&f.splice(d,1);if(0<l.length){var d=l.shift(),e=d[0],g=d[1];this._debug("Transport dequeued request",g.id);if(b)this.getConfiguration().autoBatch&&k.call(this,e),c.call(this,e),this._debug("Transport completed request",
a.id,e);else{var h=this;this.setTimeout(function(){h.complete(g,!1,g.metaConnect);e.onFailure(g.xhr,e.messages,"error","Previous request failed")},0)}}}var a=new n.cometd.Transport,g=n.cometd.Transport.derive(a),e=0,d=null,f=[],l=[];g.complete=function(a,c,f){if(f){a=a.id;this._debug("Transport",this.getType(),"metaConnect complete, request",a);if(null!==d&&d.id!==a)throw"Longpoll request mismatch, completing request "+a;d=null}else b.call(this,a,c)};g.transportSend=function(a,b){throw"Abstract";
};g.transportSuccess=function(a,b,c){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),c&&0<c.length)a.onSuccess(c);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};g.transportFailure=function(a,b,c,f){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,c,f))};g.send=function(a,b){if(b){if(null!==d)throw"Concurrent metaConnect requests not allowed, request id\x3d"+d.id+" not yet completed";var f=++e;this._debug("Transport",
this.getType(),"metaConnect send, request",f,"envelope",a);f={id:f,metaConnect:!0};h.call(this,a,f);d=f}else c.call(this,a)};g.abort=function(){a.abort();for(var b=0;b<f.length;++b){var c=f[b];this._debug("Aborting request",c);c.xhr&&c.xhr.abort()}d&&(this._debug("Aborting metaConnect request",d),d.xhr&&d.xhr.abort());this.reset()};g.reset=function(){a.reset();d=null;f=[];l=[]};return g};n.cometd.LongPollingTransport=function(){var k=new n.cometd.RequestTransport,h=n.cometd.Transport.derive(k),c=
!0;h.accept=function(b,a,g){return c||!a};h.xhrSend=function(b){throw"Abstract";};h.transportSend=function(b,a){this._debug("Transport",this.getType(),"sending request",a.id,"envelope",b);var g=this;try{var e=!0;a.xhr=this.xhrSend({transport:this,url:b.url,sync:b.sync,headers:this.getConfiguration().requestHeaders,body:n.cometd.JSON.toJSON(b.messages),onSuccess:function(f){g._debug("Transport",g.getType(),"received response",f);var d=!1;try{var e=g.convertToMessages(f);0===e.length?(c=!1,g.transportFailure(b,
a,"no response",null)):(d=!0,g.transportSuccess(b,a,e))}catch(m){g._debug(m),d||(c=!1,g.transportFailure(b,a,"bad response",m))}},onError:function(f,d){c=!1;e?g.setTimeout(function(){g.transportFailure(b,a,f,d)},0):g.transportFailure(b,a,f,d)}});e=!1}catch(d){c=!1,this.setTimeout(function(){g.transportFailure(b,a,"error",d)},0)}};h.reset=function(){k.reset();c=!0};return h};n.cometd.CallbackPollingTransport=function(){var k=new n.cometd.RequestTransport,k=n.cometd.Transport.derive(k);k.accept=function(h,
c,b){return!0};k.jsonpSend=function(h){throw"Abstract";};k.transportSend=function(h,c){for(var b=this,a=0,g=h.messages.length,e=[];0<g;){var d=n.cometd.JSON.toJSON(h.messages.slice(a,a+g)),d=h.url.length+encodeURI(d).length;if(2E3<d){if(1===g){var f="Bayeux message too big ("+d+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){b.transportFailure(h,c,"error",f)},0);return}--g}else e.push(g),a+=g,g=h.messages.length-a}var l=h;if(1<e.length){a=0;g=e[0];this._debug("Transport",
this.getType(),"split",h.messages.length,"messages into",e.join(" + "));l=this._mixin(!1,{},h);l.messages=h.messages.slice(a,g);l.onSuccess=h.onSuccess;l.onFailure=h.onFailure;for(d=1;d<e.length;++d){var p=this._mixin(!1,{},h),a=g,g=g+e[d];p.messages=h.messages.slice(a,g);p.onSuccess=h.onSuccess;p.onFailure=h.onFailure;this.send(p,c.metaConnect)}}this._debug("Transport",this.getType(),"sending request",c.id,"envelope",l);try{var m=!0;this.jsonpSend({transport:this,url:l.url,sync:l.sync,headers:this.getConfiguration().requestHeaders,
body:n.cometd.JSON.toJSON(l.messages),onSuccess:function(a){var f=!1;try{var d=b.convertToMessages(a);0===d.length?b.transportFailure(l,c,"no response"):(f=!0,b.transportSuccess(l,c,d))}catch(e){b._debug(e),f||b.transportFailure(l,c,"bad response",e)}},onError:function(a,f){m?b.setTimeout(function(){b.transportFailure(l,c,a,f)},0):b.transportFailure(l,c,a,f)}});m=!1}catch(s){this.setTimeout(function(){b.transportFailure(l,c,"error",s)},0)}};return k};n.cometd.WebSocketTransport=function(){function k(){var a=
g.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,c=null,f=g.getConfiguration().connectTimeout;0<f&&(c=this.setTimeout(function(){c=null;m||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",f,"ms"),b.onClose(1002,"Connect Timeout"))},f));var d=new n.cometd.WebSocket(a),l=function(a){var f=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",f,"/",a,d);c&&(b.clearTimeout(c),c=null);if(d!==p)b._debug("Ignoring close event, WebSocket",
p);else b.onClose(f,a)};d.onopen=function(){b._debug("WebSocket opened",d);c&&(b.clearTimeout(c),c=null);if(d!==p)b._debug("Ignoring open event, WebSocket",p);else b.onOpen()};d.onclose=l;d.onerror=function(){l({code:1002})};d.onmessage=function(a){b._debug("WebSocket message",a,d);if(d!==p)b._debug("Ignoring message event, WebSocket",p);else b.onMessage(a)};p=d;this._debug("Transport",this.getType(),"configured callbacks on",d)}function h(a,b){var c=n.cometd.JSON.toJSON(a.messages);p.send(c);this._debug("Transport",
this.getType(),"sent",a,"metaConnect \x3d",b);var f=c=this.getConfiguration().maxNetworkDelay;b&&(f+=this.getAdvice().timeout,s=!0);for(var d=[],e=0;e<a.messages.length;++e){var m=a.messages[e];if(m.id){d.push(m.id);var g=p;l[m.id]=this.setTimeout(function(){g&&g.close(1E3,"Timeout")},f)}}this._debug("Transport",this.getType(),"waiting at most",f,"ms for messages",d,"maxNetworkDelay",c,", timeouts:",l)}function c(a,b){try{null===p?k.call(this):m&&h.call(this,a,b)}catch(c){var f=p;this.setTimeout(function(){a.onFailure(f,
a.messages,"error",c)},0)}}var b=new n.cometd.Transport,a=n.cometd.Transport.derive(b),g,e=!0,d=!1,f={},l={},p=null,m=!1,s=!1,w;a.onOpen=function(){this._debug("Transport",this.getType(),"opened",p);d=m=!0;this._debug("Sending pending messages",f);for(var a in f){var b=f[a],c=b[0],b=b[1];w=c.onSuccess;h.call(this,c,b)}};a.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,p);var b=!1;a=this.convertToMessages(a.data);for(var c=[],d=0;d<a.length;++d){var e=a[d];
if((/^\/meta\//.test(e.channel)||void 0===e.data)&&e.id){c.push(e.id);var m=l[e.id];m&&(this.clearTimeout(m),delete l[e.id],this._debug("Transport",this.getType(),"removed timeout for message",e.id,", timeouts",l))}"/meta/connect"===e.channel&&(s=!1);"/meta/disconnect"===e.channel&&!s&&(b=!0)}d=!1;for(e=0;e<c.length;++e){var g=c[e],h;for(h in f){var m=h.split(","),k=n.cometd.Utils.inArray(g,m);if(0<=k){d=!0;m.splice(k,1);g=f[h][0];k=f[h][1];delete f[h];0<m.length&&(f[m.join(",")]=[g,k]);break}}}d&&
this._debug("Transport",this.getType(),"removed envelope, envelopes",f);w.call(this,a);b&&p.close(1E3,"Disconnect")};a.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,p);e=d;for(var c in l)this.clearTimeout(l[c]);l={};for(var g in f)c=f[g][0],f[g][1]&&(s=!1),c.onFailure(p,c.messages,"closed "+a+"/"+b);f={};null!==p&&m&&p.close(1E3,"Close");m=!1;p=null};a.registered=function(a,c){b.registered(a,c);g=c};a.accept=function(a,b,c){return e&&!!n.cometd.WebSocket&&!1!==g.websocketEnabled};
a.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect \x3d",b);for(var d=[],l=0;l<a.messages.length;++l){var e=a.messages[l];e.id&&d.push(e.id)}f[d.join(",")]=[a,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",f);c.call(this,a,b)};a.abort=function(){b.abort();if(null!==p)try{p.close(1001)}catch(a){this._debug(a)}this.reset()};a.reset=function(){b.reset();null!==p&&m&&p.close(1E3,"Reset");e=!0;d=!1;l={};f={};p=null;m=!1;w=null};return a};n.cometd.Cometd=
function(k){function h(a){return n.cometd.Utils.isString(a)}function c(a){return void 0===a||null===a?!1:"function"===typeof a}function b(a,b){if(window.console){var f=window.console[a];c(f)&&f.apply(window.console,b)}}function a(){for(var a in Ea)for(var b=Ea[a],c=b.length-1;0<=c;--c){var f=b[c];f&&!f.listener&&(b.splice(c,1),H._debug("Removed subscription",f,"for channel",a))}}function g(a){ea!==a&&(H._debug("Status",ea,"-\x3e",a),ea=a)}function e(){return"disconnecting"===ea||"disconnected"===
ea}function d(a,b,f,d,l){try{return b.call(a,d)}catch(e){H._debug("Exception during execution of extension",f,e);a=H.onExtensionException;if(c(a)){H._debug("Invoking extension exception callback",f,e);try{a.call(H,e,f,l,d)}catch(p){H._info("Exception during execution of exception callback in extension",f,p)}}return d}}function f(a){for(var b=0;b<pa.length&&!(void 0===a||null===a);++b){var f=pa[b],l=f.extension.outgoing;c(l)&&(f=d(f.extension,l,f.name,a,!0),a=void 0===f?a:f)}return a}function l(a,
b){var f=Ea[a];if(f&&0<f.length)for(var d=f.length-1;0<=d;--d){var l=f[d];try{l.callback.call(l.scope,b)}catch(e){H._debug("Exception during notification",l,b,e);var p=H.onListenerException;if(c(p)){H._debug("Invoking listener exception callback",l,e);try{p.call(H,e,l.handle,l.listener,b)}catch(m){H._info("Exception during execution of listener callback",l,m)}}}}}function p(a,b){l(a,b);for(var c=a.split("/"),f=c.length-1,d=f;0<d;--d){var e=c.slice(0,d).join("/")+"/*";d===f&&l(e,b);e+="*";l(e,b)}}
function m(){null!==fb&&n.cometd.Utils.clearTimeout(fb);fb=null}function s(a){m();var b=ja.interval+ga;H._debug("Function scheduled in",b,"ms, interval \x3d",ja.interval,"backoff \x3d",ga,a);fb=n.cometd.Utils.setTimeout(H,a,b)}function w(a,b,d,l){for(var e=0;e<b.length;++e){var p=b[e];p.id=""+ ++Pa;ha&&(p.clientId=ha);var m=void 0;c(p._callback)&&(m=p._callback,delete p._callback);p=f(p);void 0!==p&&null!==p?(b[e]=p,m&&(gb[p.id]=m)):b.splice(e--,1)}0!==b.length&&(e=U.url,U.appendMessageTypeToURL&&
(e.match(/\/$/)||(e+="/"),l&&(e+=l)),a={url:e,sync:a,messages:b,onSuccess:function(a){try{Gb.call(H,a)}catch(b){H._debug("Exception during handling of messages",b)}},onFailure:function(a,b,c,f){try{tb.call(H,a,b,c,f)}catch(d){H._debug("Exception during handling of failure",d)}}},H._debug("Send",a),W.send(a,d))}function v(a){0<ya||!0===Fa?za.push(a):w(!1,[a],!1)}function r(){var a=za;za=[];0<a.length&&w(!1,a,!1)}function u(){g("connecting");s(function(){if(!e()){var a={channel:"/meta/connect",connectionType:W.getType()};
hb||(a.advice={timeout:0});g("connecting");H._debug("Connect sent",a);w(!1,[a],!0,"connect");g("connected")}})}function D(a){a&&(ja=H._mixin(!1,{},U.advice,a),H._debug("New advice",ja))}function y(a){m();a&&W.abort();ha=null;g("disconnected");ga=ya=0;0<za.length&&(tb.call(H,void 0,za,"error","Disconnected"),za=[])}function z(b){ha=null;a();e()?(X.reset(),D(U.advice)):D(H._mixin(!1,ja,{reconnect:"retry"}));ya=0;Fa=!0;va=b;b=X.findTransportTypes("1.0",wa,U.url);var c=H._mixin(!1,{},va,{version:"1.0",
minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:b,advice:{timeout:ja.timeout,interval:ja.interval}});W=X.negotiateTransport(b,"1.0",wa,U.url);H._debug("Initial transport is",W.getType());g("handshaking");H._debug("Handshake sent",c);w(!1,[c],!1,"handshake")}function B(){g("handshaking");Fa=!0;s(function(){z(va)})}function N(a){p("/meta/handshake",a);p("/meta/unsuccessful",a);!e()&&"none"!==ja.reconnect?(ga<U.maxBackoff&&(ga+=U.backoffIncrement),B()):y(!1)}function T(a){p("/meta/connect",
a);p("/meta/unsuccessful",a);a=e()?"none":ja.reconnect;switch(a){case "retry":u();ga<U.maxBackoff&&(ga+=U.backoffIncrement);break;case "handshake":X.reset();ga=0;B();break;case "none":y(!1);break;default:throw"Unrecognized advice action"+a;}}function R(a){y(!0);p("/meta/disconnect",a);p("/meta/unsuccessful",a)}function J(a){p("/meta/subscribe",a);p("/meta/unsuccessful",a)}function E(a){p("/meta/unsubscribe",a);p("/meta/unsuccessful",a)}function V(a){var b=gb[a.id];c(b)&&(delete gb[a.id],b.call(H,
a))}function Z(a){V(a);p("/meta/publish",a);p("/meta/unsuccessful",a)}function la(a){for(var b=0;b<pa.length&&!(void 0===a||null===a);++b){var f=pa[U.reverseIncomingExtensions?pa.length-1-b:b],l=f.extension.incoming;c(l)&&(f=d(f.extension,l,f.name,a,!1),a=void 0===f?a:f)}if(!(void 0===a||null===a))switch(D(a.advice),a.channel){case "/meta/handshake":if(a.successful){ha=a.clientId;b=X.negotiateTransport(a.supportedConnectionTypes,a.version,wa,U.url);if(null===b)throw"Could not negotiate transport with server; client "+
X.findTransportTypes(a.version,wa,U.url)+", server "+a.supportedConnectionTypes;W!==b&&(H._debug("Transport",W,"-\x3e",b),W=b);Fa=!1;r();a.reestablish=sa;sa=!0;p("/meta/handshake",a);a=e()?"none":ja.reconnect;switch(a){case "retry":ga=0;u();break;case "none":y(!1);break;default:throw"Unrecognized advice action "+a;}}else N(a);break;case "/meta/connect":if(hb=a.successful)switch(p("/meta/connect",a),a=e()?"none":ja.reconnect,a){case "retry":ga=0;u();break;case "none":y(!1);break;default:throw"Unrecognized advice action "+
a;}else T(a);break;case "/meta/disconnect":a.successful?(y(!1),p("/meta/disconnect",a)):R(a);break;case "/meta/subscribe":a.successful?p("/meta/subscribe",a):J(a);break;case "/meta/unsubscribe":a.successful?p("/meta/unsubscribe",a):E(a);break;default:void 0===a.successful?void 0!==a.data&&null!==a.data?p(a.channel,a):H._debug("Unknown message",a):a.successful?(V(a),p("/meta/publish",a)):Z(a)}}function Da(a){if(a=Ea[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function fa(a,b){var f={scope:a,
method:b};if(c(a))f.scope=void 0,f.method=a;else if(h(b)){if(!a)throw"Invalid scope "+a;f.method=a[b];if(!c(f.method))throw"Invalid callback "+b+" for scope "+a;}else if(!c(b))throw"Invalid callback "+b;return f}function S(a,b,c,f){b=fa(b,c);H._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);f={channel:a,scope:b.scope,callback:b.method,listener:f};b=Ea[a];b||(b=[],b.subscriptionCounter=0,Ea[a]=b);b.push(f);c=b.subscriptionCounter;b.subscriptionCounter+=1;f.id=c;f.handle=
[a,c];H._debug("Added listener",f,"for channel",a,"having id \x3d",c);return f.handle}var H=this,aa=k||"default",wa=!1,X=new n.cometd.TransportRegistry,W,ea="disconnected",Pa=0,ha=null,ya=0,za=[],Fa=!1,Ea={},ga=0,fb=null,pa=[],ja={},va,gb={},sa=!1,hb=!1,U={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=
function(a,b,c){for(var f=b||{},d=2;d<arguments.length;++d){var l=arguments[d];if(!(void 0===l||null===l))for(var e in l){var p=l[e],m=f[e];p!==b&&void 0!==p&&(f[e]=a&&"object"===typeof p&&null!==p?p instanceof Array?this._mixin(a,m instanceof Array?m:[],p):this._mixin(a,"object"===typeof m&&!(m instanceof Array)?m:{},p):p)}}return f};this._warn=function(){b("warn",arguments)};this._info=function(){"warn"!==U.logLevel&&b("info",arguments)};this._debug=function(){"debug"===U.logLevel&&b("debug",arguments)};
this._isCrossDomain=function(a){return a&&a!==window.location.host};var Gb,tb;this.send=v;this.receive=la;Gb=function(a){H._debug("Received",a);for(var b=0;b<a.length;++b)la(a[b])};tb=function(a,b,c,f){H._debug("handleFailure",a,b,c,f);for(c=0;c<b.length;++c){var d=b[c];switch(d.channel){case "/meta/handshake":N({successful:!1,failure:!0,channel:"/meta/handshake",request:d,xhr:a,advice:{reconnect:"retry",interval:ga}});break;case "/meta/connect":f=a;hb=!1;T({successful:!1,failure:!0,channel:"/meta/connect",
request:d,xhr:f,advice:{reconnect:"retry",interval:ga}});break;case "/meta/disconnect":R({successful:!1,failure:!0,channel:"/meta/disconnect",request:d,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":J({successful:!1,failure:!0,channel:"/meta/subscribe",request:d,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":E({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:d,xhr:a,advice:{reconnect:"none",interval:0}});break;default:Z({successful:!1,
failure:!0,channel:d.channel,request:d,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(a,b,f){if(f=X.add(a,b,f))this._debug("Registered transport",a),c(b.registered)&&b.registered(a,this);return f};this.getTransportTypes=function(){return X.getTransportTypes()};this.unregisterTransport=function(a){var b=X.remove(a);null!==b&&(this._debug("Unregistered transport",a),c(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=function(){X.clear()};this.findTransport=
function(a){return X.find(a)};this.configure=function(a){H._debug("Configuring cometd object with",a);h(a)&&(a={url:a});a||(a={});U=H._mixin(!1,U,a);if(!U.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(U.url);a=b[8];var c=b[9];wa=H._isCrossDomain(b[2]);U.appendMessageTypeToURL&&(void 0!==c&&0<c.length?(H._info("Appending message type to URI "+a+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),
U.appendMessageTypeToURL=!1):(b=a.split("/"),c=b.length-1,a.match(/\/$/)&&(c-=1),0<=b[c].indexOf(".")&&(H._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),U.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){g("disconnected");sa=!1;z(a)};this.disconnect=function(a,b){if(!e()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});
g("disconnecting");w(!0===a,[c],!1,"disconnect")}};this.startBatch=function(){++ya};this.endBatch=function(){--ya;if(0>ya)throw"Calls to startBatch() and endBatch() are not paired";0===ya&&(!e()&&!Fa)&&r()};this.batch=function(a,b){var c=fa(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(f){throw this._debug("Exception during execution of batch",f),this.endBatch(),f;}};this.addListener=function(a,b,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+
arguments.length;if(!h(a))throw"Illegal argument type: channel must be a string";return S(a,b,c,!0)};this.removeListener=function(a){if(!n.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=Ea[a[0]],c;if(0<b.length){c=a[1];a:{for(var f=0;f<b.length;){if(b[f].id===c){c=f;break a}f+=1}c=-1}-1!==c&&(b.splice(c,1),H._debug("Removed listener",a))}};this.clearListeners=function(){Ea={}};this.subscribe=function(a,b,f,d){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+
arguments.length;if(!h(a))throw"Illegal argument type: channel must be a string";if(e())throw"Illegal state: already disconnected";c(b)&&(d=f,f=b,b=void 0);var l=!Da(a),p=S(a,b,f,!1);l&&(l=this._mixin(!1,{},d,{channel:"/meta/subscribe",subscription:a}),v(l));return p};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(e())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];Da(c)||(c=this._mixin(!1,{},
b,{channel:"/meta/unsubscribe",subscription:c}),v(c))};this.clearSubscriptions=function(){a()};this.publish=function(a,b,f,d){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!h(a))throw"Illegal argument type: channel must be a string";if(e())throw"Illegal state: already disconnected";c(b)?(d=b,b=f={}):c(f)&&(d=f,f={});var l=this._mixin(!1,{},f,{channel:a,data:b,_callback:d});v(l)};this.getStatus=function(){return ea};this.isDisconnected=e;this.setBackoffIncrement=
function(a){U.backoffIncrement=a};this.getBackoffIncrement=function(){return U.backoffIncrement};this.getBackoffPeriod=function(){return ga};this.setLogLevel=function(a){U.logLevel=a};this.registerExtension=function(a,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!h(a))throw"Illegal argument type: extension name must be a string";for(var f=!1,d=0;d<pa.length;++d)if(pa[d].name===a){f=!0;break}if(f)return this._info("Could not register extension with name",
a,"since another extension with the same name already exists"),!1;pa.push({name:a,extension:b});this._debug("Registered extension",a);c(b.registered)&&b.registered(a,this);return!0};this.unregisterExtension=function(a){if(!h(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,f=0;f<pa.length;++f){var d=pa[f];if(d.name===a){pa.splice(f,1);b=!0;this._debug("Unregistered extension",a);a=d.extension;c(a.unregistered)&&a.unregistered();break}}return b};this.getExtension=function(a){for(var b=
0;b<pa.length;++b){var c=pa[b];if(c.name===a)return c.extension}return null};this.getName=function(){return aa};this.getClientId=function(){return ha};this.getURL=function(){return U.url};this.getTransport=function(){return W};this.getConfiguration=function(){return this._mixin(!0,{},U)};this.getAdvice=function(){return this._mixin(!0,{},ja)};n.cometd.WebSocket=window.WebSocket;n.cometd.WebSocket||(n.cometd.WebSocket=window.MozWebSocket)};return n.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],
function(n){return n.AckExtension=function(){var k,h=!1,c=-1;this.registered=function(b,a){k=a;k._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){k._debug("AckExtension: executing unregistration callback",void 0);k=null};this.incoming=function(b){var a=b.channel;if("/meta/handshake"==a)h=b.ext&&b.ext.ack,k._debug("AckExtension: server supports acks",h);else if(h&&"/meta/connect"==a&&b.successful&&(a=b.ext)&&"number"===typeof a.ack)c=a.ack,k._debug("AckExtension: server sent ack id",
c);return b};this.outgoing=function(b){var a=b.channel;"/meta/handshake"==a?(b.ext||(b.ext={}),b.ext.ack=k&&!1!==k.ackEnabled,c=-1):h&&"/meta/connect"==a&&(b.ext||(b.ext={}),b.ext.ack=c,k._debug("AckExtension: client sending ack id",c));return b}}})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),function(n,k,h,c,b,a,g,
e){return n([e],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(a){this.inherited(arguments);c.after(this._delegate,"onMessage",h.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,
b,c){this.logSubscriptions&&g.info("MessageService subscribe: "+a,b,c);this._addHandler(this.channelSubscriptions,a,b,c);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,b,c),this._deferProcessQueue(),a):this._queueSubscribe(a,b,c)},unsubscribe:function(a,c,l){this.logSubscriptions&&g.info("MessageService unsubscribe: "+a,c,l);if(this._removeHandler(this.channelSubscriptions,a,c,l))return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueUnsubscribe(a,
c,l),this._deferProcessQueue(),a):(new b).resolve();g.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new b).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},
_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,c){var l=new b;this._queuedOps.push({type:"publish",
channel:a,data:c,deferred:l});return l.promise},_queueSubscribe:function(a,c,l){var e=new b;this._queuedOps.push({type:"subscribe",channel:a,handler:c,scope:l,deferred:e});return e.promise},_queueUnsubscribe:function(a,c,l){for(var e=new b,m,g=0;g<this._queuedOps.length;g++)if(m=this._queuedOps[g],"subscribe"===m.type&&m.channel===a&&m.handler===c&&m.scope===l)return this._queuedOps.splice(g,1),m.deferred.resolve(),(new b).resolve();this._queuedOps.push({type:"unsubscribe",channel:a,handler:c,scope:l,
deferred:e});return e.promise},_processQueue:function(){var a=this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,a.scope));b.then(a.deferred.resolve,
a.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new b).resolve();var c=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return c},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?
(new b).resolve():this._delegate.doUnsubscribe(a)},handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},
registerMessageHandler:function(a,b,c){g.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(a,b,c){g.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return h.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||h.isString(a)?a:
this._serializeObject(a)},deserialize:function(a){return h.isArray(a)?this._deserializeArray(a):a instanceof Number||a instanceof Boolean||h.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,e){var m;e=e||this;"string"===typeof c&&"function"!==typeof e[c]?g.warn("Not adding invalid handler: "+c):(m=a[b],m||(m=[],a[b]=m),a={channel:b,handler:c,scope:e},m.push(a),m.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,e){var m;m=a[b];c=this._getHandlerIndex(m,
{handler:c,scope:e||this});0<=c&&m.splice(c,1);(!m||0===m.length)&&delete a[b];return 0<=c},_callHandlers:function(a,b,c){var e;if(a.hasOwnProperty(b)){a=a[b];for(e=0;e<a.length;e+=1)try{"string"===typeof a[e].handler?a[e].scope[a[e].handler].call(a[e].scope,c):a[e].handler.call(a[e].scope,c)}catch(m){g.error("Error while executing message handler on channel: "+b+", message: "+k.toJson(c)+", error: "+m)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===
a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=1){var e=this.typeSerializers[c];if(e.typeMatcher(a))return{__type__:e.type,__value__:e.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===
a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,a.__value__)}catch(c){g.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],
function(n,k){return n([],{constructor:function(h){h.stateMachine=this;this.state=new k(h)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(h,c){this.state.enter(h,c)},onEnterState:function(h){},onExitState:function(h){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(n,k,h,c,b,a,g,e){var d;return d=
n([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?
(a=this.namespace.split("."),a=a.pop()):h.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var b={},c,e;for(c in a)a.hasOwnProperty(c)&&(e=a[c],e.name&&e.name!==c&&h.error("State: error constructing substate: "+c+", the specified names don't match: "+e.name),e.name=c,e.namespace=e.namespace||[this.namespace,this.name].join("."),e.stateMachine=e.stateMachine||this.stateMachine,e.context=e.context||this.context,b[e.name]=new d(e));this.substates=b},constructTriggersAndTransitions:function(a){var b,
c={},d=[],e;for(b in a)a.hasOwnProperty(b)&&((e=this.constructTrigger(b))&&d.push(e),c[b]=this.constructTransition(b,a[b]));this.transitions=c;this.triggers=d},constructTrigger:function(f){var d,e,m;d=f.split(" ");if(2===d.length)"subscribe"===d[0]?m=b:"response"===d[0]||"fault"===d[0]?m=a:"timeout"===d[0]&&(m=g);else if("onEnterState"!==f||"onExitState"!==f)m=c;m&&(e=new m({name:f,context:this.context,triggerHandler:k.hitch(this,this.handleTrigger)}));return e},constructTransition:function(a,b){var c;
if(k.isFunction(b)||k.isString(b)||k.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=""):(c=b,b={},b.target=c);b.state=this;return new e(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});
this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))k.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();
this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(n,k,h,c,b){return n(b,{constructor:function(){this.connection={}},enable:function(){k.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=h.after(this.context,this.name,k.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],
function(n){return n([],{constructor:function(k){this.name="";this.context={};this.triggerHandler=k.triggerHandler||function(){};n.safeMixin(this,k)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(n,k,h,c,b){return n(b,{constructor:function(){var a=this.name.split(" ");(2>a.length||"subscribe"!==a[0])&&c.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");
this.messageId=a[1]||"";this.subscrition={}},enable:function(){this.subscription=h.subscribe(this.messageId,k.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(n,k,h,c,b){return n(b,{constructor:function(){var a=this.name.split(" ");(2>a.length||"response"!==a[0]&&"fault"!==a[0])&&h.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!c.registerResponseHandler||!c.registerFaultHandler)&&h.error("The remote package is not available, this type of trigger will not work.");this.messageId=a[1]||"";this.handlerType=a[0]},enable:function(){"response"===this.handlerType?c.registerResponseHandler(this.messageId,k.hitch(null,this.triggerHandler,this.name)):c.registerFaultHandler(this.messageId,k.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?c.deregisterResponseHandler(this.messageId):c.deregisterFaultHandler(this.messageId)}})})},
"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(n,k,h,c){return n(c,{constructor:function(){var b=this.name.split(" ");(2>b.length||"timeout"!==b[0])&&h.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(b[1]);this.handlerType=b[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(k.hitch(null,this.triggerHandler,this.name),
1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(n,k,h){return n([],{constructor:function(c){this.state={};this.target="";this.action=this.condition=null;n.safeMixin(this,c)},handleTrigger:function(c,b){var a="";this.checkCondition(c,b)&&(this.runAction(c,b),a=this.getTarget(c,this.target,b));
return a},checkCondition:function(c,b){return!this.condition?!0:k.hitch(this.state.context,this.condition).apply(null,[c,this.state.data].concat(b))},runAction:function(c,b){var a;this.action&&(a=k.hitch(this.state.context,this.action),a.apply(null,[c,this.state.data].concat(b)))},getTarget:function(c,b,a){var g,e,d;if(k.isString(b))e=b;else if(k.isFunction(b))b=k.hitch(this.state.context,b),e=b.apply(null,[c,this.state.data].concat(a));else if(k.isArray(b))for(g=0;g<b.length;g+=1){e=this.getTarget(c,
b[g],a);if(k.isString(e)){e={target:e};k.mixin(e,d);break}if(e&&e.target){k.mixin(e,d);break}d=e||{}}else h.warn("Transition: improper target: ",b);return e}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(n,k,h,c,b,a,g){return n([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",
namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",
_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,
stop:"disconnected"}}}}},setDelegate:function(b){if(this._delegate!==b){this._delegate=b;var c=this;h.after(b,"onConnectionError",function(){g.warn("MessageService received connection error, reconnecting");c._reconnect()},!0);this._states=new a(this._stateOptions);h.after(this._states,"onEnterState",k.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var b=this._currentState;this._currentState=a;this.logStateChanges&&g.info("MessageService state change: "+
b+" -\x3e "+a);if("connected"===b)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;g.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&g.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(g.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function a(b){l.push(this._delegate.doSubscribe(b.channel))}
var c,f,l=[];this._delegate.doStartBatch();for(c in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(c)&&(f=this.channelSubscriptions[c],f.forEach(a,this),this.channelSubscriptions[c].subscribed=!0);this._delegate.doEndBatch();b(l).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&g.info("Successfully connected."),
this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(n,k,h){var c=n.some;return function(b){var a,g;b instanceof Array?g=b:b&&"object"===typeof b&&
(a=b);var e,d=[];if(a){g=[];for(var f in a)Object.hasOwnProperty.call(a,f)&&(d.push(f),g.push(a[f]));e={}}else g&&(e=[]);if(!g||!g.length)return(new k).resolve(e);var l=new k;l.promise.always(function(){e=d=null});var p=g.length;c(g,function(b,c){a||d.push(c);h(b,function(a){l.isFulfilled()||(e[d[c]]=a,0===--p&&l.resolve(e))},l.reject);return l.isFulfilled()});return l.promise}})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred",
"mw-log/Log"],function(n,k,h){return n([],{pollDelay:50,constructor:function(c,b){this.remote=c;this.messageService=b;this.pending=0;c.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);c.registerResponseHandler("OpaqueMessageResponse",function(a){this.pending-=1;a.forEach(function(a){try{a.opaqueMessageDOs&&a.opaqueMessageDOs.forEach(b.handleMessage,b)}catch(c){h.error("Error while handling message: "+c)}});this.poll()},this)},onMessage:function(c){},
onConnectionError:function(c){},connect:function(){this.enabled=!0;this.poll();return(new k).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new k).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var c=this;this.timeout=setTimeout(function(){c.pending+=1;c.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});c.timeout=null},this.pollDelay)}},doPublish:function(c,b){clearTimeout(this.timeout);
this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:c,data:b}]}})},doSubscribe:function(c){},doUnsubscribe:function(c){},doStartBatch:function(){},doEndBatch:function(){}})})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],function(n,k){var h={deprecated:function(c){var b,a;if((n.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c))a=window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?
this.ERROR:this.WARN,b="DEPRECATED: ",c.deprecated&&(b+=c.deprecated.module,c.deprecated.method&&(b+="."+c.deprecated.method+"()"),b+="."),c.replacement&&(b+=" Use "+c.replacement.module,c.replacement.method&&(b+="."+c.replacement.method+"()"),b+=" instead."),c.removalVersion&&(b+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(b+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),c.additionalInformation&&(b+=" "+c.additionalInformation),k[a](b)},
_isConfigValid:function(c){var b=!!c.deprecated&&"object"===typeof c.deprecated&&c.deprecated.hasOwnProperty("module");c.replacement&&(b=b&&"object"===typeof c.replacement&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(b=b&&"number"===typeof c.geckNumber);b||k.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(h,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",
enumerable:!0}});return h})},"ResultDetails/widgets/Alerts":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!ResultDetails/widgets/templates/Alerts.html dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool dojo/i18n!Resources/SimulinkFixedPoint/nls/autoscaling dojo/dom-construct dojo/dom dojo/on dojo/string dijit/registry FPTDispatcher/Dispatcher ResultDetails/Util".split(" "),function(n,k,h,c,b,a,g,e,d,f,l,p,m){return n([k,h],{sectionTitle:b.resultAlertInfoSummary,
templateString:c,store:null,widgetsInTemplate:!0,_errorOrderedList:null,_warningOrderedList:null,constructor:function(a){n.safeMixin(this,a);this.docLink=null;this._CLASSIFIER_highlightDocLink="highlightMATLABDocumentation"},buildRendering:function(){this.inherited(arguments);var a=this.store.data[0];this.populateErrors(a);this.populateWarnings(a)},populateErrors:function(a){var c=this;if(a.hasOverflows||a.Errors)this._errorOrderedList=m.createUnorderedList({id:"errorOrderedList",appendID:this.errors}),
a.hasOverflows&&m.createListNode({content:b.alertresultoverflow,classLabel:"errors",refNode:c._errorOrderedList}),"undefined"!==typeof a.Errors&&a.Errors.forEach(function(a,b){m.createListNode({content:a,classLabel:"errors",refNode:c._errorOrderedList})});a.MLFBAutoApply&&this.populateMATLABVariableResultErrors(a)},populateWarnings:function(a){var b=this;"undefined"!==typeof a.Warnings&&(b.createWarningDomNode(),a.Warnings.forEach(function(a,c){m.createListNode({content:a,classLabel:"warnings",refNode:b._warningOrderedList})}));
this.populateMATLABVariableResultWarnings(a);this.populateDerivedRangeWarnings(a)},populateDerivedRangeWarnings:function(a){switch(a.DerivedRangeState){case 2:this.createWarningDomNode();m.createListNode({content:b.hiliteInportBlk,classLabel:"warnings",refNode:this._warningOrderedList});break;case 3:this.createWarningDomNode();m.createListNode({content:b.hiliteBlkwithoutDesign,classLabel:"warnings",refNode:this._warningOrderedList});break;case 4:this.createWarningDomNode(),m.createListNode({content:b.hiliteEmptyRange,
classLabel:"warnings",refNode:this._warningOrderedList})}},populateMATLABVariableResultErrors:function(c){if(("fxptds.MATLABVariableResult"===c.classOfResultObject||"fxptds.MATLABCppSystemObjectVariableResult"===c.classOfResultObject)&&"red"===c.Alert)this._errorOrderedList||(this._errorOrderedList=m.createUnorderedList({id:"errorOrderedList",appendID:this.errors})),this.codeViewLink=g.create("a",{id:"mlfbCodeViewLinkError",href:"",innerHTML:b.codeView}),c=f.substitute(a.mlfbCompatibilityError,[this.codeViewLink.outerHTML]),
m.createListNode({content:c,classLabel:"errors",refNode:this._errorOrderedList})},populateMATLABVariableResultWarnings:function(c){if(""!==c.ProposedDT&&("fxptds.MATLABVariableResult"===c.classOfResultObject||"fxptds.MATLABCppSystemObjectVariableResult"===c.classOfResultObject)){if("fxptds.MATLABVariableResult"===c.classOfResultObject)var d=b.resultAlertInfoMatlabVariableSummary,e=b.resultAlertInfoDocumentationExampleLink;else"fxptds.MATLABCppSystemObjectVariableResult"===c.classOfResultObject&&(d=
b.resultAlertInfoMatlabSysObj,e=b.resultMLSysObjDocumentationExampleLink);this.createWarningDomNode();c.MLFBAutoApply?"yellow"===c.Alert&&(this.codeViewLink=g.create("a",{id:"mlfbCodeViewLinkWarning",href:"",innerHTML:b.codeView}),c=f.substitute(a.mlfbCompatibilityWarning,[this.codeViewLink.outerHTML]),m.createListNode({content:c,classLabel:"warnings",refNode:this._warningOrderedList})):(m.createListNode({content:d,classLabel:"warnings",refNode:this._warningOrderedList}),g.create("h4",{style:{display:"inline-block"},
innerHTML:b.resultAlertInfoDocumentation,"class":"documentationTag"},this.documentationTagLink),this.docLink=g.create("a",{id:"mlfbDocLink",href:"",innerHTML:e},this.documentationTagLink),this.attachHyperLinkCallbackForDocumentation(c))}},attachHyperLinkCallbackForDocumentation:function(a){var b=this;p.registerSuccessFailureHandlers({classifierStr:b._CLASSIFIER_highlightDocLink,scope:b});b.own(d(b.docLink,"click",function(c){c.preventDefault();p.remoteSendMessage({matlabFunctionName:"fxptds.MATLABVariableResult"===
a.classOfResultObject?"fxptui.cb_launchApplyDocumentationForMATLABVariables":"fxptui.cb_launchApplyDocumentationForMATLABCPPVariables",inputArgs:[],outputArgs:0,priority:1,classifierString:b._CLASSIFIER_highlightDocLink,contextObject:{}})}))},attachHyperLinkCallbackCodeView:function(a){p.registerSuccessFailureHandlers({classifierStr:"openCodeView",scope:this});this.own(d(a,"click",function(a){a.preventDefault();p.remoteSendMessage({matlabFunctionName:"coder.internal.mlfb.gui.fxptToolOpenCodeView",
inputArgs:[],outputArgs:0,priority:1,classifierString:"openCodeView",contextObject:{}})}))},setup:function(a){a=e.byId("mlfbCodeViewLinkError");var b=e.byId("mlfbCodeViewLinkWarning");a&&this.attachHyperLinkCallbackCodeView(a);b&&this.attachHyperLinkCallbackCodeView(b)},createWarningDomNode:function(){this._warningOrderedList||(this._warningOrderedList=m.createUnorderedList({id:"warningOrderedList",appendID:this.warnings}))},destroy:function(a){this.inherited(arguments);this._warningOrderedList=this._errorOrderedList=
this.sectionTitle=this.codeViewLink=this.docLink=this.store=null}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),function(n,k,h,c,b,a,g,e,d,f,l,p,m,s,w,v,r,u,D,y,z,B,N){function T(a){return function(b){e[b?
"set":"remove"](this.domNode,a,b);this._set(a,b)}}m.add("dijit-legacy-requires",!s.isAsync);m("dijit-legacy-requires")&&r(0,function(){n(["dijit/_base/manager"])});var R={};return a("dijit._WidgetBase",[u,z],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:T("lang"),dir:"",_setDirAttr:T("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:c.blankGif||n.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},f;for(f in b.attributeMap)c.push(f);for(f in b)/^on/.test(f)&&(a[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+f.substr(5,f.length-9),(!b.attributeMap||!(f in b.attributeMap))&&c.push(f))}},postscript:function(a,b){this.create(a,b)},create:function(a,
b){this._introspect();this.srcNodeRef=g.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);a&&(this.params=a,w.mixin(this,a));this.postMixInProperties();this.id||(this.id=N.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=y.body(this.ownerDocument);
N.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var f=this.srcNodeRef;f&&(f.parentNode&&this.domNode!==f)&&(f.parentNode.replaceChild(this.domNode,f),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);k.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,
a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(k.map(a,function(a){return a+"Rtl"})));d.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,k.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&w.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},
destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,w.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,b);this.domNode&&k.forEach(N.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);N.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&
(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?e.remove(this.domNode,"widgetId"):f.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||f.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){k.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;w.isObject(a)?p.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",
a)},_attrToDom:function(a,b,c){c=3<=arguments.length?c:this.attributeMap[a];k.forEach(w.isArray(c)?c:[c],function(c){var f=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":w.isFunction(b)&&(b=w.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;f.tagName?e.set(f,c,b):f.set(c,b);break;case "innerText":f.innerHTML="";f.appendChild(this.ownerDocument.createTextNode(b));break;case "textContent":f.textContent=b;break;case "innerHTML":f.innerHTML=
b;break;case "class":d.replace(f,b,this[a]);break;case "toggleClass":d.toggle(f,c.className||a,b)}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var f=this[c.s];if(w.isFunction(f))var d=f.apply(this,Array.prototype.slice.call(arguments,1));else{var f=this.focusNode&&!w.isFunction(this.focusNode)?"focusNode":"domNode",e=this[f]&&this[f].tagName,
l;if(l=e)if(!(l=R[e])){l=this[f];var p={},m;for(m in l)p[m.toLowerCase()]=!0;l=R[e]=p}m=l;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:m&&c.l in m&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?f:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+
c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;if(this._created&&!(c===b||c!==c&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var f,d=this["on"+a];d&&(f=d.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&
v.emit(this.domNode,a.toLowerCase(),b);return f},on:function(a,b){var c=this._onMap(a);return c?h.after(this,c,b,!0):this.own(v(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},f;for(f in b.prototype)/^on/.test(f)&&(c[f.replace(/^on/,"").toLowerCase()]=f)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?N.findWidgets(this.containerNode):
[]},getParent:function(){return N.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,f){return this.own(b.connect(a,c,this,f))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(D.subscribe(a,w.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():l.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=p.get(this.domNode,"display")},placeAt:function(a,b){var c=
!a.tagName&&N.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c&&"domNode"in c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:g.byId(a,this.ownerDocument),f.place(this.domNode,c,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(w.hitch(this,function(){c&&(c=null,this._destroyed||w.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},
"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(n,k,h,c){return n("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(b){var a=this._attrPairNames;return a[b]?a[b]:a[b]={s:"_"+b+"Setter",g:"_"+b+"Getter"}},postscript:function(b){b&&this.set(b)},_get:function(b,a){return"function"===typeof this[a.g]?this[a.g]():this[b]},get:function(b){return this._get(b,this._getAttrNames(b))},set:function(b,a){if("object"===typeof b){for(var g in b)b.hasOwnProperty(g)&&
"_watchCallbacks"!=g&&this.set(g,b[g]);return this}g=this._getAttrNames(b);var e=this._get(b,g);g=this[g.s];var d;"function"===typeof g?d=g.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=a;if(this._watchCallbacks){var f=this;c(d,function(){f._watchCallbacks(b,e,a)})}return this},_changeAttrValue:function(b,a){var c=this.get(b);this[b]=a;this._watchCallbacks&&this._watchCallbacks(b,c,a);return this},watch:function(b,a){var c=this._watchCallbacks;if(!c)var e=this,c=this._watchCallbacks=
function(a,b,f,d){var h=function(c){if(c){c=c.slice();for(var d=0,g=c.length;d<g;d++)c[d].call(e,a,b,f)}};h(c["_"+a]);d||h(c["*"])};!a&&"function"===typeof b?(a=b,b="*"):b="_"+b;var d=c[b];"object"!==typeof d&&(d=c[b]=[]);d.push(a);var f={};f.unwatch=f.remove=function(){var b=h.indexOf(d,a);-1<b&&d.splice(b,1)};return f}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(n,k,h){return h("dijit.Destroyable",null,{destroy:function(c){this._destroyed=
!0},own:function(){var c=["destroyRecursive","destroy","remove"];n.forEach(arguments,function(b){function a(){e.remove();n.forEach(d,function(a){a.remove()})}var g,e=k.before(this,"destroy",function(a){b[g](a)}),d=[];b.then?(g="cancel",b.then(a,a)):n.forEach(c,function(c){"function"===typeof b[c]&&(g||(g=c),d.push(k.after(b,c,a,!0)))})},this);return arguments}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(n,k,h,c,b,a,g,e){var d=k("dijit._TemplatedMixin",e,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,d=this;return g.substitute(a,this,function(a,f){"!"==f.charAt(0)&&(a=c.getObject(f.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+" template:"+f);return null==a?"":"!"==f.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=n(this.templatePath,{sanitize:!0}));var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(c.isString(a)){if(b=h.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});d._templateCache={};d.getCachedTemplate=function(a,b,c){var e=d._templateCache,k=a,n=e[k];if(n){try{if(!n.ownerDocument||n.ownerDocument==(c||document))return n}catch(v){}h.destroy(n)}a=g.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[k]=a;b=h.toDom(a,c);if(1!=b.nodeType)throw Error("Invalid template: "+a);return e[k]=b};a("ie")&&b(window,"unload",function(){var a=
d._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&h.destroy(c);delete a[b]}});return d})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(n){return n.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(n,k,h,c){var b;b=function(a,b,d){c(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(d)};var a={},g=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
b&&(a=b[1])}else a="";return a},e={},d={};n.cache=function(c,d,e){var m;"string"==typeof c?/\//.test(c)?(m=c,e=d):m=k.toUrl(c.replace(/\./g,"/")+(d?"/"+d:"")):(m=c+"",e=d);c=void 0!=e&&"string"!=typeof e?e.value:e;e=e&&e.sanitize;if("string"==typeof c)return a[m]=c,e?g(c):c;if(null===c)return delete a[m],null;m in a||b(m,!0,function(b){a[m]=b});return e?g(a[m]):a[m]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?b(d):d)+(c[1]?"!"+c[1]:"")},load:function(c,
l,p){c=c.split("!");var m=1<c.length,h=c[0],k=l.toUrl(c[0]);c="url:"+k;var n=e,r=function(a){p(m?g(a):a)};h in a?n=a[h]:l.cache&&c in l.cache?n=l.cache[c]:k in a&&(n=a[k]);if(n===e)if(d[k])d[k].push(r);else{var u=d[k]=[r];b(k,!l.async,function(b){a[h]=a[k]=b;for(var c=0;c<u.length;)u[c++](b);delete d[k]})}else r(n)}}})},"dojo/request":function(){define(["./request/default!"],function(n){return n})},"dojo/request/default":function(){define(["exports","require","../has"],function(n,k,h){var c=h("config-requestProvider");
c||(c="./xhr");n.getPlatformDefaultId=function(){return"./xhr"};n.load=function(b,a,g,e){k(["platform"==b?"./xhr":c],function(a){g(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(n,k,h,c,b,a,g,e,d){var f=b.delegate(e,{mouseenter:a.enter,mouseleave:a.leave,keypress:h._keypress}),l;h=c("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];
this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,c,f){var d=
!0,e=this.attachScope||this,l=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(l)for(var g=l.split(/\s*,\s*/);l=g.shift();)b.isArray(e[l])?e[l].push(a):e[l]=a,d="containerNode"!=l,this._attachPoints.push(l);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){l=c.split(/\s*,\s*/);for(g=b.trim;c=l.shift();)if(c){var h=null;-1!=c.indexOf(":")?(h=c.split(":"),c=g(h[0]),h=g(h[1])):c=g(c);h||(h=c);this._attachEvents.push(f(a,c,b.hitch(e,h)))}}return d},_attach:function(a,b,c){b=b.replace(/^on/,
"").toLowerCase();b="dijitclick"==b?l||(l=n("./a11yclick")):f[b]||b;return g(a,b,c)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});b.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""});return h})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),
function(n,k,h,c,b,a,g,e,d,f){function l(b,c,f){return w&&f?function(b,c){return a(b,f,c)}:r?function(f,d){var e=a(f,c,function(a){d.call(this,a);E=(new Date).getTime()}),l=a(f,b,function(a){(!E||(new Date).getTime()>E+1E3)&&d.call(this,a)});return{remove:function(){e.remove();l.remove()}}}:function(c,f){return a(c,b,f)}}function p(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function m(b,d,l){if(!e.isRight(b)){var g=p(b.target);if(D=!b.target.disabled&&g&&g.dojoClick)if(z=(y="useTarget"==
D)?g:b.target,y&&b.preventDefault(),B=b.changedTouches?b.changedTouches[0].pageX-f.global.pageXOffset:b.clientX,N=b.changedTouches?b.changedTouches[0].pageY-f.global.pageYOffset:b.clientY,T=("object"==typeof D?D.x:"number"==typeof D?D:0)||4,R=("object"==typeof D?D.y:"number"==typeof D?D:0)||4,!u){u=!0;var m=function(a){D=y?h.isDescendant(f.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-f.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-f.global.pageYOffset:
a.clientY),z):D&&(a.changedTouches?a.changedTouches[0].target:a.target)==z&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-f.global.pageXOffset:a.clientX)-B)<=T&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-f.global.pageYOffset:a.clientY)-N)<=R};f.doc.addEventListener(d,function(a){e.isRight(a)||(m(a),y&&a.preventDefault())},!0);f.doc.addEventListener(l,function(b){if(!e.isRight(b)&&(m(b),D)){J=(new Date).getTime();var c=y?z:b.target;"LABEL"===c.tagName&&(c=h.byId(c.getAttribute("for"))||
c);var f=b.changedTouches?b.changedTouches[0]:b,d=function(a){var c=document.createEvent("MouseEvents");c._dojo_click=!0;c.initMouseEvent(a,!0,!0,b.view,b.detail,f.screenX,f.screenY,f.clientX,f.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);return c},l=d("mousedown"),p=d("mouseup"),g=d("click");setTimeout(function(){a.emit(c,"mousedown",l);a.emit(c,"mouseup",p);a.emit(c,"click",g);J=(new Date).getTime()},0)}},!0);b=function(a){f.doc.addEventListener(a,function(b){var f=b.target;D&&(!b._dojo_click&&
(new Date).getTime()<=J+1E3&&!("INPUT"==f.tagName&&c.contains(f,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=f.tagName||"radio"==f.type&&(c.contains(f,"dijitCheckBoxInput")||c.contains(f,"mblRadioButton"))||"checkbox"==f.type&&(c.contains(f,"dijitCheckBoxInput")||c.contains(f,"mblCheckBox")))&&"TEXTAREA"!=f.tagName&&"AUDIO"!=f.tagName&&"VIDEO"!=f.tagName)&&b.preventDefault())},!0)};b("click");b("mousedown");b("mouseup")}}}
var s=5>g("ios"),w=g("pointer-events")||g("MSPointer"),v=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=g("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),r=g("touch-events"),u,D,y=!1,z,B,N,T,R,J,E,V;g("touch")&&(w?d(function(){f.doc.addEventListener(v.down,function(a){m(a,v.move,v.up)},!0)}):d(function(){function c(a){var f=b.delegate(a,{bubbles:!0});6<=g("ios")&&(f.touches=a.touches,f.altKey=a.altKey,f.changedTouches=a.changedTouches,
f.ctrlKey=a.ctrlKey,f.metaKey=a.metaKey,f.shiftKey=a.shiftKey,f.targetTouches=a.targetTouches);return f}V=f.body();f.doc.addEventListener("touchstart",function(b){E=(new Date).getTime();var c=V;V=b.target;a.emit(c,"dojotouchout",{relatedTarget:V,bubbles:!0});a.emit(V,"dojotouchover",{relatedTarget:c,bubbles:!0});m(b,"touchmove","touchend")},!0);a(f.doc,"touchmove",function(b){E=(new Date).getTime();var d=f.doc.elementFromPoint(b.pageX-(s?0:f.global.pageXOffset),b.pageY-(s?0:f.global.pageYOffset));
d&&(V!==d&&(a.emit(V,"dojotouchout",{relatedTarget:d,bubbles:!0}),a.emit(d,"dojotouchover",{relatedTarget:V,bubbles:!0}),V=d),a.emit(d,"dojotouchmove",c(b))||b.preventDefault())});a(f.doc,"touchend",function(b){E=(new Date).getTime();var d=f.doc.elementFromPoint(b.pageX-(s?0:f.global.pageXOffset),b.pageY-(s?0:f.global.pageYOffset))||f.body();a.emit(d,"dojotouchend",c(b))})}));k={press:l("mousedown","touchstart",v.down),move:l("mousemove","dojotouchmove",v.move),release:l("mouseup","dojotouchend",
v.up),cancel:l(e.leave,"touchcancel",w?v.cancel:null),over:l("mouseover","dojotouchover",v.over),out:l("mouseout","dojotouchout",v.out),enter:e._eventHandler(l("mouseover","dojotouchover",v.over)),leave:e._eventHandler(l("mouseout","dojotouchout",v.out))};return n.touch=k})},"ResultDetails/Util":function(){define(["dojo/dom-construct","mw-log/Log"],function(n,k){return{createUnorderedList:function(h){if(h&&h.id&&h.appendID)return n.create("ul",{id:h.id},h.appendID,"last");k.error("createUnorderedList() expects an object with an id and appendID property to create a ul node successfully")},
createListNode:function(h){if(h&&h.content&&h.classLabel&&h.refNode)return n.create("li",{innerHTML:h.content,"class":h.classLabel},h.refNode);k.error("createListNode() expects an object with content, classLabel and refNode property to create a li node successfully")}}})},"ResultDetails/widgets/ProposedDTSummary":function(){define("dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dgrid/OnDemandGrid dijit/_TemplatedMixin dijit/_WidgetBase dijit/registry dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-construct dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool dojo/on dojo/store/Memory dojo/string dojo/text!ResultDetails/widgets/templates/proposedDTSummary.html FPTDispatcher/Dispatcher FPTUtils/js/Utils ResultDetails/Util".split(" "),
function(n,k,h,c,b,a,g,e,d,f,l,p,m,s,w,v,r,u){function D(a){return a?"commentListMajor":"commentListMinor"}return e([b,c],{templateString:w,sectionId:"proposedDTSummarySection",sectionGrid:"proposedDTGrid",sectionGridUnused:"",unusedrangesectionTitle:"",store:null,widgetsInTemplate:!0,_commentListMajor:null,_commentListMinor:null,_hasCommentBullets:!1,constructor:function(a){this.highLevelSummaryComments=[];this.actionSharedDT=[];this.actionLinks=[];this.sharedDTComments=[];this._constrainedDTSummary=
[];this._CLASSIFIER_HighlightDTGroup="Classifier_HighlightDTGroup";this._CLASSIFIER_HighlightSignalObject="Classifier_HighlightSignalObject";this._CLASSIFIER_HighlightConstrainedDTBlock="Classifier_HiliteConstrainedDTBlock";this._CLASSIFIER_HighlightParameterObject="Classifier_HighlightParameterObject";this.sectionId=(this.isMajor=a.isMajor)?"proposedDTSummarySection":"proposedDTDetailsSection";e.safeMixin(this,a);this.sectionTitle=(a=this.store.data[0])&&a.ProposedDTString?this.isMajor?l.resultreportProposedDataTypeSummary:
l.resultreportProposalDetails:""},hasCommentBullets:function(a){void 0!==a&&null!==a&&(this._hasCommentBullets=a);return this._hasCommentBullets},getShareDtHtml:function(a){this.actionSharedDT.push({id:"hiliteDTGroup",str:l.actionHILITEDTGROUP})},collectHighLevelSummary:function(a){if(a.HighLevelSummary&&a.HighLevelSummary.length)for(var b=0;b<a.HighLevelSummary.length;b++)this.highLevelSummaryComments.push(a.HighLevelSummary[b]);a.IsDataObjectResult&&this.actionLinks.push({id:"hiliteParameter",str:l.actionHILITEDataObjectClients})},
buildRenderingMinorOrMajor:function(a,b){var c=b.hasProposedDT,f=a.isMajor,d=!f,e=c?!1:f,f=c?d:f,c=c?d:!1;f&&r.nonZeroLength(a,"highLevelSummaryComments")&&a.populateComments(a.highLevelSummaryComments,a.isMajor);e&&r.nonZeroLength(b,"Comment")&&a.populateComments(b.Comment,a.isMajor);c&&b.SlopeBias&&a.populateComments([l.resultreportReplaceSlopeBias],a.isMajor);f&&a.createHyperLinkTags(a.actionLinks,a.isMajor);f&&r.nonZeroLength(a,"actionSharedDT")&&(a.populateComments([l.resultreportYesSharedDataType],
a.isMajor),a.createHyperLinkTags(a.actionSharedDT,a.isMajor));f&&a.populateComments(a._constrainedDTSummary,a.isMajor)},buildRenderingMajor:function(a,b){b.ProposedDTString?(a.gatherProposedDTSummary(b),a.buildRenderingMinorOrMajor(a,b),b.hasProposedDT&&a.createProposedDTGrid(b)):(b.SpecifiedDTString||"fxptds.MATLABVariableResult"===b.classOfResultObject&&b.CompiledDT)&&a.createProposedDTGrid(b);b.isSignednessUnspecified&&f.create("div",{innerHTML:s.substitute(l.resultreportUnSpecifiedSignedness,
["SpecifiedDT"]),id:"signednessUnspecified"},a.resultreportUnSpecifiedSignedness,"last")},buildRenderingMinor:function(a,b){a=this;b=a.store.data[0];b.ProposedDTString&&(a.gatherProposedDTSummary(b),a.buildRenderingMinorOrMajor(a,b))},buildRendering:function(a,b){this.inherited(arguments);a=this;b=a.store.data[0];a.isMajor?a.buildRenderingMajor(a,b):a.buildRenderingMinor(a,b)},gatherProposedDTSummary:function(a){this.collectHighLevelSummary(a);a.HighlightSharedElements&&this.getShareDtHtml(a);a.hasDTConstraints&&
a.collectConstrainedDTSummary&&this.getConstrainedDtHtml(a)},getConstrainedDtHtml:function(a){a.constraintSetComments[0]&&this._constrainedDTSummary.push(a.constraintSetComments)},createProposedDTGrid:function(a){var b=function(a,b){b||(b=a);return{field:a,label:b}},b=[b("Property"),b("DataType","Data Type"),b("Minimum"),b("Maximum"),b("Precision")];a=this.createStoreForProposedDTSummaryTable(a,b);new (e([h,n,k]))({id:"proposedDTGrid",store:a.store,maxRowsPerPage:3,columns:a.columns},this.proposedDTGrid)},
createStoreForProposedDTSummaryTable:function(a,b){var c=[];if(a.ProposedDT){var f=e.safeMixin({Property:l.resultreportProposedDataType,DataType:a.ProposedDT},a.ProposedDTRangeAndPrecision);c.push(f)}f={};f="fxptds.MATLABVariableResult"===a.classOfResultObject?e.safeMixin({Property:l.resultreportCompiledDT,DataType:a.CompiledDTString},a.CompiledDTRangeAndPrecision):e.safeMixin({Property:l.resultreportCurrentlySpecified,DataType:a.SpecifiedDTString},a.SpecifiedDTRangeAndPrecision);c.push(f);for(var c=
r.transposeDataForGrid(b,c),f=new m,d=0;d<c.arrayOfObjects.length;++d)f.add(c.arrayOfObjects[d]);return{store:f,columns:c.columns}},createHyperLinkTags:function(a,b){if(0<a.length){var c=this,d="_"+D(b),e=D(b);c[d]||(c[d]=u.createUnorderedList({id:e,appendID:c.comments}));g.forEach(a,function(a,b){f.place("\x3cul\x3e\x3cli\x3e\x3ca href\x3d'' id\x3d"+a.id+" class\x3d'comments'\x3e"+a.str+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e",c[d])});c.hasCommentBullets(!0)}},setup:function(a){this.createClickEventsForHyperLinks();
(a=dijit.registry.byId("proposedDTGrid"))&&(a._started||a.startup())},createLinkForHiliteDTGroup:function(a){var b=this;v.registerSuccessFailureHandlers({classifierStr:b._CLASSIFIER_HighlightDTGroup,scope:b});b.own(p(a,"click",function(a){a.preventDefault();v.remoteSendMessage({matlabFunctionName:"fxptui.cb_highlightdtgroup",inputArgs:[],outputArgs:0,priority:1,classifierString:b._CLASSIFIER_HighlightDTGroup,contextObject:{}})}))},createLinkForHiliteSigObj:function(a){var b=this;v.registerSuccessFailureHandlers({classifierStr:b._CLASSIFIER_HighlightSignalObject,
scope:b});b.own(p(a,"click",function(a){a.preventDefault();v.remoteSendMessage({matlabFunctionName:"fxptui.cb_highlightconnectedblks",inputArgs:[],outputArgs:0,priority:1,classifierString:b._CLASSIFIER_HighlightSignalObject,contextObject:{}})}))},createLinkForHiliteParameterObj:function(a){var b=this;v.registerSuccessFailureHandlers({classifierStr:b._CLASSIFIER_HighlightParameterObject,scope:b});b.own(p(a,"click",function(a){a.preventDefault();v.remoteSendMessage({matlabFunctionName:"fxptui.cb_highlightclientblks",
outputArgs:0,priority:1,classifierString:b._CLASSIFIER_HighlightParameterObject,contextObject:{}})}))},createLinkForHiliteConstrainedBlock:function(a){var b=this;v.registerSuccessFailureHandlers({classifierStr:b._CLASSIFIER_HighlightConstrainedDTBlock,scope:b});b.own(p(a,"click",function(a){a.preventDefault();v.remoteSendMessage({matlabFunctionName:"fxptui.cb_highlightconstrainedblock",inputArgs:[],outputArgs:0,priority:1,classifierString:b._CLASSIFIER_HighlightConstrainedDTBlock,contextObject:{}})}))},
createClickEventsForHyperLinks:function(){var a=d.byId("hiliteDTGroup");a&&this.createLinkForHiliteDTGroup(a);(a=d.byId("hiliteParameter"))&&this.createLinkForHiliteParameterObj(a);(a=d.byId("hiliteConstrainedBlock"))&&this.createLinkForHiliteConstrainedBlock(a)},populateComments:function(a,b){if(0<a.length){var c=this,f="_"+D(b),d=D(b);c[f]||(c[f]=u.createUnorderedList({id:d,appendID:c.comments}));g.forEach(a,function(a,b){u.createListNode({content:a,classLabel:"comments",refNode:c[f]})});c.hasCommentBullets(!0)}},
destroy:function(a){this.inherited(arguments);this.actionSharedDT=this.highLevelSummaryComments=this.store=null;this.actionLinks=[];this._commentListMinor=this._commentListMajor=this._constrainedDTSummary=this.sharedDTComments=null;this._hasCommentBullets=!1}})})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(n,k,h){return n(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){h.add(this);
this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var c=h.getEnclosingWidget(this.domNode.parentNode);c&&c.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);h.remove(this.id)},getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},resize:function(c){c&&k.setMarginBox(this.domNode,c);this.inherited(arguments)},
_set:function(c,b){this[c]=b},watch:function(){},getParent:function(){return h.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(n,k,h,c,b,a,g,e,d,f){function l(a){for(var b=a.length,c=b,f=a[0].length,d=Array(b);b--;)d[b]=Array(f);
for(var e={},b=0;b<c;b++)for(var l=d[b],p=a[b],g=0,m=0;g<f;g++){var h=p[m],k;if("undefined"==typeof l[g]){l[g]=h.id;if(h.rowSpan&&1<h.rowSpan){k=d;for(var n=h.rowSpan,s=b,w=g,v=h.id,S=1;S<n;S++)k[s+S][w]=v}if(0<b&&h.colSpan&&1<h.colSpan)for(k=1;k<h.colSpan;k++)if(l[++g]=h.id,h.rowSpan&&1<h.rowSpan)for(var n=d,s=h.rowSpan,w=b,v=g,S=h.id,H=1;H<s;H++)n[w+H][v]=S;e[h.id]=a[0][g].id;m++}}return e}function p(a,b,c,f,e){if(!(0>=c)){var l=a.columns[b],p;if(l&&(p={grid:a,columnId:b,width:c,bubbles:!0,cancelable:!0},
f&&(p.parentType=f),!a._resizedColumns||k.emit(a.headerNode,"dgrid-columnresize",p)))return"auto"===c?delete l.width:(l.width=c,c+="px"),(f=a._columnSizes[b])?f.set("width",c):f=d.addCssRule("#"+d.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+d.escapeCssIdentifier(b,"-"),"width: "+c+";"),a._columnSizes[b]=f,!1!==e&&a.resize(),!0}}var m,s,w=0,v={create:function(){m=f("div.dgrid-column-resizer");s=a.create("div",{className:"dgrid-resize-guard"})},destroy:function(){f(m,"!");a.destroy(s);m=s=null},
show:function(a){var b=g.position(a.domNode,!0);m.style.top=b.y+"px";m.style.height=b.h+"px";f(document.body,m);a.domNode.appendChild(s)},move:function(a){m.style.left=a+"px"},hide:function(){m.parentNode.removeChild(m);s.parentNode.removeChild(s)}};return n(null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);w++||v.create()},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();
--w||v.destroy()},resizeColumnWidth:function(a,b){return p(this,a,b)},configStructure:function(){var a=this._oldColumnSizes=c.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in a)b in this._columnSizes||a[b].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var b=a.id,c;"width"in a&&((c=this._oldColumnSizes[b])?c.set("width",a.width+"px"):c=d.addCssRule("#"+d.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+
d.escapeCssIdentifier(b,"-"),"width: "+a.width+"px;"),this._columnSizes[b]=c)},renderHeader:function(){this.inherited(arguments);var a=this,b;if(this.columnSets&&this.columnSets.length)for(var p=this.columnSets.length;p--;)b=c.mixin(b||{},l(this.columnSets[p]));else this.subRows&&1<this.subRows.length&&(b=l(this.subRows));for(var p=h(".dgrid-cell",a.headerNode),g=p.length;g--;){var m=p[g],n=m.columnId,s=a.columns[n],w=m.childNodes;if(s&&!1!==s.resizable){s=f("div.dgrid-resize-header-container");for(m.contents=
s;0<w.length;)f(s,w[0]);m=f(m,s,"div.dgrid-resize-handle.resizeNode-"+d.escapeCssIdentifier(n,"-"));m.columnId=b&&b[n]||n}}a.mouseMoveListen||(k(a.headerNode,".dgrid-resize-handle:mousedown"+(e("touch")?",.dgrid-resize-handle:touchstart":""),function(b){a._resizeMouseDown(b,this);a.mouseMoveListen.resume();a.mouseUpListen.resume()}),a._listeners.push(a.mouseMoveListen=k.pausable(document,"mousemove"+(e("touch")?",touchmove":""),d.throttleDelayed(function(b){a._updateResizerPosition(b)}))),a._listeners.push(a.mouseUpListen=
k.pausable(document,"mouseup"+(e("touch")?",touchend":""),function(b){a._resizeMouseUp(b);a.mouseMoveListen.pause();a.mouseUpListen.pause()})),a.mouseMoveListen.pause(),a.mouseUpListen.pause())},_resizeMouseDown:function(a,c){a.preventDefault();b.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=h(".dgrid-column-"+d.escapeCssIdentifier(c.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(a);v.show(this)},_resizeMouseUp:function(a){var c=this._columnSizes,
f,e,l;this.adjustLastColumn&&(l=this.headerNode.clientWidth-1);this._resizedColumns||(f=h(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?f=f.filter(function(a){return"0"==a.columnId.split("-")[0]&&!(a.columnId in c)}):this.subRows&&1<this.subRows.length&&(f=f.filter(function(a){return"0"==a.columnId.charAt(0)&&!(a.columnId in c)})),e=f.map(function(a){return a.offsetWidth}),f.forEach(function(a,b){p(this,a.columnId,e[b],null,!1)},this),this._resizedColumns=!0);b.setSelectable(this.domNode,
!0);f=this._targetCell;var g=this._getResizeMouseLocation(a)-this._startX,m=f.offsetWidth+g,k=this._getResizedColumnWidths(),n=k.totalWidth,k=k.lastColId,s=h(".dgrid-column-"+d.escapeCssIdentifier(k,"-"),this.headerNode)[0].offsetWidth;m<this.minWidth&&(m=this.minWidth);p(this,f.columnId,m,a.type)&&f.columnId!=k&&this.adjustLastColumn&&(n+g<l?p(this,k,"auto",a.type):s-g<=this.minWidth&&p(this,k,this.minWidth,a.type));v.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=
this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));v.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=h((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var f=b[c-1].columnId;c--;)a+=
b[c].offsetWidth;return{totalWidth:a,lastColId:f}}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(n,k){n.add("dom-contains",function(a,b,c){return!!c.contains});var h=[],c,b,a,g=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,e={defaultDelay:15,throttle:function(a,b,c){var p=!1;c=c||e.defaultDelay;return function(){p||(p=!0,a.apply(b,arguments),setTimeout(function(){p=!1},c))}},throttleDelayed:function(a,b,c){var p=!1;c=c||e.defaultDelay;return function(){if(!p){p=!0;var e=arguments;
setTimeout(function(){p=!1;a.apply(b,e)},c)}}},debounce:function(a,b,c){var p;c=c||e.defaultDelay;return function(){p&&(clearTimeout(p),p=null);var e=arguments;p=setTimeout(function(){a.apply(b,e)},c)}},each:function(a,b,c){var e,g;if(a)if("number"===typeof a.length){e=0;for(g=a.length;e<g;e++)b.call(c,a[e],e,a)}else for(e in a)b.call(c,a[e],e,a)},contains:function(a,b){return n("dom-contains")?a.contains(b):a.compareDocumentPosition(b)&8},addCssRule:function(d,f){c||(c=k(document.getElementsByTagName("head")[0],
"style"),c=c.sheet||c.styleSheet,b=c.deleteRule?"deleteRule":"removeRule",a=c.cssRules?"cssRules":"rules");var e=h.length;h[e]=(c.cssRules||c.rules).length;c.addRule?c.addRule(d,f):c.insertRule(d+"{"+f+"}",h[e]);return{get:function(b){return c[a][h[e]].style[b]},set:function(b,f){"undefined"!==typeof h[e]&&(c[a][h[e]].style[b]=f)},remove:function(){var a=h[e],f,d;if(void 0!==a){c[b](a);h[e]=void 0;f=e+1;for(d=h.length;f<d;f++)h[f]>a&&h[f]--}}}},escapeCssIdentifier:function(a,b){return"string"===typeof a?
a.replace(g,b||"\\$1"):a}};return e})},"put-selector/put":function(){(function(n){var k,h=/[-+,> ]/;n([],k=function(c,b){function a(b){function p(){r&&(v&&r!=v)&&(v==b&&(m||(m=h.test(z)&&c.createDocumentFragment()))?m:v).insertBefore(r,n||null)}for(var m,k,n,v,r,u=arguments,D=u[0],y=0;y<u.length;y++){var z=u[y];if("object"==typeof z){k=!1;if(z instanceof Array){r=c.createDocumentFragment();for(var B=0;B<z.length;B++)r.appendChild(a(z[B]));z=r}if(z.nodeType)r=z,p(),v=z,n=0;else for(B in z)r[B]=z[B]}else if(k)k=
!1,r.appendChild(c.createTextNode(z));else{1>y&&(b=null);k=!0;if(D=z.replace(g,function(g,m,h,k,s,B){m&&(p(),"-"==m||"+"==m?(v=(n=r||v).parentNode,r=null,"+"==m&&(n=n.nextSibling)):("\x3c"==m?v=r=(r||v).parentNode:(","==m?v=b:r&&(v=r),r=null),n=0),r&&(v=r));if((g=!h&&k)||!r&&(h||s))"$"==g?(g=u[++y],v.appendChild(c.createTextNode(g))):(g=g||a.defaultTag,(m=f&&u[y+1]&&u[y+1].name)&&(g="\x3c"+g+' name\x3d"'+m+'"\x3e'),r=d&&~(e=g.indexOf("|"))?c.createElementNS(d[g.slice(0,e)],g.slice(e+1)):c.createElement(g));
if(h)if("$"==k&&(k=u[++y]),"#"==h)r.id=k;else if(m=(g=r.className)&&(" "+g+" ").replace(" "+k+" "," "),"."==h)r.className=g?(m+k).substring(1):k;else if("!"==z){var D;f?a("div",r,"\x3c").innerHTML="":(D=r.parentNode)&&D.removeChild(r)}else m=m.substring(1,m.length-1),m!=g&&(r.className=m);s&&("$"==B&&(B=u[++y]),"style"==s?r.style.cssText=B:(h="!"==s.charAt(0)?(s=s.substring(1))&&"removeAttribute":"setAttribute",B=""===B?s:B,d&&~(e=s.indexOf("|"))?r[h+"NS"](d[s.slice(0,e)],s.slice(e+1),B):r[h](s,B)));
return""}))throw new SyntaxError("Unexpected char "+D+" in "+z);p();v=D=r||v}}b&&m&&b.appendChild(m);return D}h=b||h;var g=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,e,d=!1;c=c||document;var f="object"==typeof c.createElement;a.addNamespace=function(a,b){c.createElementNS?(d||(d={}))[a]=b:c.namespaces.add(a,b)};a.defaultTag="div";a.forDocument=k;return a})})(function(n,k,h){h=h||k;"function"===typeof define?define([],function(){return h()}):
"undefined"==typeof window?require("./node-html")(module,h):put=h()})},"xstyle/css":function(){define(["require"],function(n){function k(h,c,b){var a=document.documentElement;h=a.insertBefore(document.createElement(h),a.firstChild);h.id=c;c=(h.currentStyle||getComputedStyle(h,null))[b];a.removeChild(h);return c}return{load:function(h,c,b,a){function g(a){var f=k("x-parse",null,"content"),d=a&&(a.sheet||a.styleSheet);f&&"none"!=f&&"normal"!=f?c([eval(f)],function(c){a?c.process(a,b):(c.processAll(),
b(d))}):b(d)}var e=c.toUrl(h),d;e.match(/!$/)&&(d={wait:!1},e=e.slice(0,-1));var f=c.cache&&c.cache["url:"+e];if(f)f.xCss&&(f=f.cssText),n(["./core/load-css"],function(a){g(a.insertCss(f))});else{if("none"==k("div",h.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return g();n(["./core/load-css"],function(a){a(e,g,d)})}}}})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(n,k,h){return n([k,h],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),
function(n,k,h,c,b,a,g){function e(a,b){b&&b.nodeType&&a.appendChild(b)}function d(a,b,c,f){if(this.formatter){f=this.formatter;var d=this.grid.formatterScope;c.innerHTML="string"===typeof f&&d?d[f](b,a):this.formatter(b,a)}else null!=b&&c.appendChild(document.createTextNode(b))}var f=8>c("ie")&&!c("quirks");k=k(a,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!=typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&
a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var f=a.columnId;if(f){b=f;c=a;break}a=a.parentNode}while(a&&a!=this.domNode)}if(!c&&"undefined"!=typeof b){var d=this.row(a);if(f=d&&d.element)for(var f=f.getElementsByTagName("td"),e=0;e<f.length;e++)if(f[e].columnId==b){c=f[e];break}}if(null!=a)return{row:d||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(a,d,e,h){var k=b("table.dgrid-row-table[role\x3dpresentation]"),
n=9>c("ie")||c("quirks")?b(k,"tbody"):k,r,u,D,y,z,B,N,T,R,J;e=e||this.subRows;u=0;for(D=e.length;u<D;u++){B=e[u];r=b(n,"tr");B.className&&b(r,"."+B.className);y=0;for(z=B.length;y<z;y++){N=B[y];T=N.id;R=N.field?".field-"+g.escapeCssIdentifier(N.field,"-"):"";(J="function"===typeof N.className?N.className(h):N.className)&&(R+="."+J);R=b(a+(".dgrid-cell.dgrid-cell-padding"+(T?".dgrid-column-"+g.escapeCssIdentifier(T,"-"):"")+R.replace(/ +/g,"."))+"[role\x3d"+("th"===a?"columnheader":"gridcell")+"]");
R.columnId=T;f?(T=b(R,"!dgrid-cell-padding div.dgrid-cell-padding"),R.contents=T):T=R;if(J=N.colSpan)R.colSpan=J;if(J=N.rowSpan)R.rowSpan=J;d(T,N);r.appendChild(R)}}return k},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},renderRow:function(a,c){var f=this.createRowCells("td",function(b,f){var g=a;f.get?g=f.get(a):"field"in f&&"_item"!=f.field&&(g=
g[f.field]);f.renderCell?e(b,f.renderCell(a,g,b,c)):d.call(f,a,g,b,c)},c&&c.subRows,a);return b("div[role\x3drow]\x3e",f)},renderHeader:function(){var a=this,d=this.headerNode,g=d.childNodes.length;for(d.setAttribute("role","row");g--;)b(d.childNodes[g],"!");g=this.createRowCells("th",function(a,b){var c=b.headerNode=a;f&&(a=a.parentNode);var d=b.field;d&&(a.field=d);if(b.renderHeaderCell)e(c,b.renderHeaderCell(c));else if("label"in b||b.field)c.appendChild(document.createTextNode("label"in b?b.label:
b.field));!1!==b.sortable&&(d&&"_item"!=d)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[g.id=this.id+"-header"]=this.columns;d.appendChild(g);this._sortListener&&this._sortListener.remove();this._sortListener=h(g,"click,keydown",function(b){if("click"==b.type||32==b.keyCode||!c("opera")&&13==b.keyCode){var f=b.target,e,g,m;do if(f.sortable){m=[{attribute:e=f.field||f.columnId,descending:(g=a._sort[0])&&g.attribute==e&&!g.descending}];
e={bubbles:!0,cancelable:!0,grid:a,parentType:b.type,sort:m};h.emit(b.target,"dgrid-sort",e)&&(a._sortNode=f,a.set("sort",m));break}while((f=f.parentNode)&&f!=d)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,f;this.inherited(arguments);if(!c("ie")||7<c("ie")&&!c("quirks"))if(b.style.width="",b&&a&&(f=a.offsetWidth)!=b.offsetWidth)b.style.width=f+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(a,
b){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(a){var b=this.columns,c;for(c in b){var f=b[c];if(f.field==a)return f.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(b(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),b(this._lastSortedArrow,"!"),delete this._lastSortedArrow);c&&(this._sort=a);if(a[0]){var f=a[0].attribute,d=a[0].descending,f=this._sortNode||this._findSortArrowParent(f),e;delete this._sortNode;f&&(f=f.contents||
f,e=this._lastSortedArrow=b("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),e.innerHTML="\x26nbsp;",f.insertBefore(e,f.firstChild),b(f,d?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+g.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,b){var c=[],f=b instanceof Array;g.each(b,function(d,e){"string"==typeof d&&(b[e]=d={label:d});!f&&!d.field&&(d.field=e);e=d.id=d.id||(isNaN(e)?
e:a+e);this._configColumn&&(this._configColumn(d,e,b,a),e=d.id);f&&(this.columns[e]=d);d.grid=this;"function"===typeof d.init&&d.init();c.push(d)},this);return f?b:c},_destroyColumns:function(){var a=this.subRows,b=a&&a.length,c,f,d,e;this.cleanup();for(c=0;c<b;c++){f=0;for(e=a[c].length;f<e;f++)d=a[c][f],"function"===typeof d.destroy&&d.destroy()}},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=
this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){n.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",a)},setSubRows:function(a){n.deprecated("setSubRows(...)",
'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});k.appendIfNode=e;k.defaultRenderCell=d;return k})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc ./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(n,k,h,c,b,a,g,e,d){function f(a,b){d(document.body,a,".dgrid-scrollbar-measure");var c=a["offset"+b]-a["client"+b];a.className="";document.body.removeChild(a);return c}function l(a){var b=a?"."+a.replace(u,"."):"";this._class&&(b="!"+this._class.replace(u,"!")+b);d(this.domNode,b);this._class=a}function p(){return this._class}function m(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function s(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&
(this.bodyNode.scrollTop=a.y)}e("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var w,v;b.add("dom-scrollbar-width",function(a,b,c){return f(c,"Width")});b.add("dom-scrollbar-height",function(a,b,c){return f(c,"Height")});b.add("dom-rtl-scrollbar-left",function(a,c,f){a=d("div");d(document.body,f,".dgrid-scrollbar-measure[dir\x3drtl]");d(f,a);c=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");f.className="";document.body.removeChild(f);d(a,"!");f.removeAttribute("dir");
return c});var r=0,u=/ +/g,D=7>b("ie")&&!b("quirks")?function(){var a,b,c;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||[],c[0]!==b||c[1]!==a))this.resize(),this._prevWinDims=[b,a]}:function(){this._started&&this.resize()};return k(b("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,b){var c=this;
(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,c){var f=this.domNode=c||d("div"),e;a?(this.params=a,k.safeMixin(this,a),e=a["class"]||a.className||f.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&
this.postMixInProperties();this.id=f.id=f.id||this.id||"dgrid_"+r++;null===this.useTouchScroll&&(this.useTouchScroll=!b("dom-scrollbar-width"));this.buildRendering();e&&l.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var f=this.domNode,e=this.addUiClasses,g=this,l,p,m,h;h=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();f.className="";d(f,"[role\x3dgrid].dgrid.dgrid-"+
this.listType+(e?".ui-widget":""));l=this.headerNode=d(f,"div.dgrid-header.dgrid-header-row"+(e?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(b("quirks")||8>b("ie"))&&d(f,"div.dgrid-spacer");p=this.bodyNode=d(f,"div.dgrid-scroller");b("ff")&&(p.tabIndex=-1);this.headerScrollNode=d(f,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(e?".ui-widget-header":""));m=this.footerNode=d("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));d(f,m);h&&(f.className+=
" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));c(p,"scroll",function(a){g.showHeader&&(l.scrollLeft=a.scrollLeft||p.scrollLeft);a.stopPropagation();c.emit(f,"scroll",{scrollTarget:p})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=d(this.bodyNode,"div.dgrid-content"+(e?".ui-widget-content":""));this._listeners.push(this._resizeHandle=c(window,"resize",a.throttleDelayed(D,this)))},postCreate:b("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:
function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var c=this.bodyNode,f=this.headerNode,d=this.footerNode,e=f.offsetHeight,g=this.showFooter?d.offsetHeight:0,l=b("quirks")||7>b("ie");this.headerScrollNode.style.height=c.style.marginTop=e+"px";c.style.marginBottom=g+"px";l&&(c.style.height="",c.style.height=Math.max(this.domNode.offsetHeight-e-g,0)+"px",g&&(d.style.bottom=
"1px",setTimeout(function(){d.style.bottom=""},0)));w||(w=b("dom-scrollbar-width"),v=b("dom-scrollbar-height"),b("ie")&&(w++,v++),a.addCssRule(".dgrid-scrollbar-width","width: "+w+"px"),a.addCssRule(".dgrid-scrollbar-height","height: "+v+"px"),17!=w&&!l&&(a.addCssRule(".dgrid-header-row","right: "+w+"px"),a.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+w+"px")));l&&(f.style.width=c.clientWidth+"px",setTimeout(function(){f.scrollLeft=c.scrollLeft},0))},addCssRule:function(b,c){var f=a.addCssRule(b,
c);this.cleanAddedRules&&this._listeners.push(f);return f},on:function(a,f){var d=c(this.domNode,a,f);b("dom-addeventlistener")||this._listeners.push(d);return d},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners}this._started=!1;this.cleanup();d(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,b,c,f,e){if(b){var g=this.insertRow(a,b,c,f,e);d(g,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){d(g,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return g}},adjustRowIndices:function(a){var b=
a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&d(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,c){function f(){var b=arguments;if(-1<s)for(var e=0;e<b.length;e++){var g=b[e],p=k[g?0:k.length-1];if(p=p&&d(p)){var m=p[g?"previousSibling":"nextSibling"];m&&(m=l.row(m));m&&m.element!=p&&(g=g?"unshift":"push",a[g](m.data),
k[g](m.element),c.count++)}}}function d(a){return!h.isDescendant(a,l.domNode)&&document.getElementById(a.id)?l.row(a.id.slice(l.id.length+5)).element:a}function e(a){v=l.insertRow(a,w,null,p++,c);v.observerIndex=s;return v}function g(a){u=a.slice(0);(n=b?b.parentNode:l.contentNode)&&n.parentNode&&(n!==l.contentNode||a.length)?(n.insertBefore(w,b||null),(v=a[a.length-1])&&l.adjustRowIndices(v)):m[s]&&l.cleanEmptyObservers&&"undefined"!==typeof s&&(m[s].cancel(),m[s]=0,l._numObservers--);k=a;r&&(r.rows=
k)}c=c||{};var l=this,p=c.start||0,m=this.observers,k,n,s;b||(this._lastCollection=a);if(a.observe){l._numObservers++;var r=a.observe(function(e,g,p){var m,h,r;-1<g&&k[g]&&(m=k.splice(g,1)[0],m.parentNode==n&&((h=m.nextSibling)&&g!=p&&h.rowIndex--,l.removeRow(m)),c.count--,l._processScroll&&l._processScroll());if(-1<p){if(k.length)if(0===p)r=(r=k[p])&&d(r);else{if(r=k[p-1])r=d(r),r=(r.connected||r).nextSibling}else r=l._getFirstRowSibling&&l._getFirstRowSibling(n);m&&(r&&m.id===r.id)&&(r=(r.connected||
r).nextSibling);r&&!r.parentNode&&(r=document.getElementById(r.id));m=b&&b.parentNode||r&&r.parentNode||l.contentNode;if(m=l.newRow(e,m,r,c.start+p,c))if(m.observerIndex=s,k.splice(p,0,m),!h||p<g)h=m.previousSibling,h=!h||h.rowIndex+1==m.rowIndex||0==m.rowIndex?m:h;c.count++}0===g?f(1,1):g===a.length-(-1===p?0:1)&&f(0,0);g!=p&&h&&l.adjustRowIndices(h);l._onNotification(k,e,g,p)},!0);s=m.push(r)-1}var w=document.createDocumentFragment(),v,u;if(a.map){if(k=a.map(e,console.error),k.then)return a.then(function(b){a=
b;return k.then(function(a){g(a);f(1,1,0,0);return u})})}else{k=[];for(var D=0,W=a.length;D<W;D++)k[D]=e(a[D])}g(k);f(1,1,0,0);return u},_onNotification:function(a,b,c,f){},renderHeader:function(){},_autoId:0,insertRow:function(a,b,c,f,d){var e=d.parentId,e=this.id+"-row-"+(e?e+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),g=document.getElementById(e),l=g&&g.previousSibling;g&&(g===c&&(c=(c.connected||c).nextSibling),this.removeRow(g));g=this.renderRow(a,d);
g.className=(g.className||"")+" dgrid-row "+(1==f%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[g.id=e]=a;b.insertBefore(g,c||null);l&&this.adjustRowIndices(l);g.rowIndex=f;return g},renderRow:function(a,b){return d("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||d(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+
5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,f){var d,e;e=d=a.element;b=b||1;do if(a=d[0>b?"previousSibling":"nextSibling"]){do if((d=a)&&-1<(d.className+" ").indexOf(c+" ")){e=d;b+=0>b?1:-1;break}while(a=(!f||!d.hidden)&&d[0>b?"lastChild":"firstChild"])}else if(d=d.parentNode,
!d||d===this.bodyNode||d===this.headerNode)break;while(b);return e},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:b("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):s.call(this,a)}:s,getScrollPosition:b("touch")?function(){return this.useTouchScroll?this.inherited(arguments):m.call(this)}:m,get:function(a){var b=
"_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:p,_setClass:l,_getClassName:p,_setClassName:l,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();
this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(c,f){var d=c[a],e=f[a];void 0===d&&(d="");void 0===e&&(e="");return d==e?0:d>e==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){n.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;d(b,(a?"!":".")+"dgrid-header-hidden");
this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){n.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;d(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/TouchScroll":function(){define("dojo/_base/declare dojo/on ./util/touch ./util/has-css3 put-selector/put xstyle/css!./css/TouchScroll.css".split(" "),function(n,
k,h,c,b){function a(a,b,c,f){f=a.touchNode;var d=v[a.id],e,g,l;if("object"!==typeof b)l=b,b=c,c=g=!0;else{c="x"in b;g="y"in b;if(!c||!g)e=a.getScrollPosition();l=c?b.x:e.x;b=g?b.y:e.y}f.style[E]=V+-l+"px,"+-b+"px"+Z;d&&(c&&a._scrollbarXNode)&&(a._scrollbarXNode.style[E]=V+l*d.parentWidth/d.scrollWidth+"px,0"+Z);d&&(g&&a._scrollbarYNode)&&(a._scrollbarYNode.style[E]=V+"0,"+b*d.parentHeight/d.scrollHeight+"px"+Z);k.emit(a.touchNode.parentNode,"scroll",{scrollLeft:l,scrollTop:b})}function g(a){return v[a.id]?
z.exec(window.getComputedStyle(a.touchNode)[E]):y.exec(a.touchNode.style[E])}function e(a){var c=this.widget,c=[this.node,c._scrollbarXNode,c._scrollbarYNode],f=c.length;this.timer&&(clearTimeout(this.timer),this.timer=null);for(this.transitionHandler&&this.transitionHandler.remove();f--;)c[f]&&(c[f].style[J+"Duration"]="0");(!a||!a.preserveScrollbars)&&b(this.node.parentNode,".touchscroll-fadeout");delete this.resetEffects}function d(a){var b=a.widget,c=b.touchNode,f=b.id,d=0,e=0,l;if(h.countCurrentTouches(a,
c)===b.touchesToScroll){if(l=g(b))d=+l[1],e=+l[2];if(l=v[f])l.resetEffects&&l.resetEffects({preserveScrollbars:!0}),c.style[E]=V+d+"px,"+e+"px"+Z,r[f]=l;a=a.targetTouches[0];l=v[f]={widget:b,node:c,startX:d-a.pageX,startY:e-a.pageY,lastX:d,lastY:e,pageX:a.pageX,pageY:a.pageY,tickFunc:function(){var a=v[f],b,c;a&&(b=a.node,(c=y.exec(b.style[E]))?(b=+c[1],c=+c[2],a.velX=b-a.lastX,a.velY=c-a.lastY,a.lastX=b,a.lastY=c):a.lastX=a.lastY=0,a.timer=setTimeout(a.tickFunc,s))}};l.timer=setTimeout(l.tickFunc,
s)}}function f(c){var f=c.widget,d=f.id,e=f.touchesToScroll,g=v[d],l,p;if(!g||(l=h.countCurrentTouches(c,f.touchNode))!==e)l>e&&f.cancelTouchScroll();else{l=c.targetTouches;e=l[0];if(!g.scrollbarsShown&&(r[d]||Math.abs(e.pageX-g.pageX)>f.scrollThreshold||Math.abs(e.pageY-g.pageY)>f.scrollThreshold)){var d=f.touchNode,m=d.parentNode,k=m.offsetWidth-D,n=m.offsetHeight-D,s=g.scrollWidth=d.scrollWidth,B=g.scrollHeight=d.scrollHeight,w=g.parentWidth=m.offsetWidth,u=g.parentHeight=m.offsetHeight;s>w?(f._scrollbarXNode||
(p=b(m,"div.touchscroll-x")),p=f._scrollbarXNode=f._scrollbarXNode||b(p,"div.touchscroll-bar"),p.style.width=k*k/s+"px",p.style.left=d.offsetLeft+"px",b(m,".touchscroll-scrollable-x"),g.scrollableX=!0):b(m,"!touchscroll-scrollable-x");B>u?(f._scrollbarYNode||(p=b(m,"div.touchscroll-y")),p=f._scrollbarYNode=f._scrollbarYNode||b(p,"div.touchscroll-bar"),p.style.height=n*n/B+"px",p.style.top=d.offsetTop+"px",b(m,".touchscroll-scrollable-y"),g.scrollableY=!0):b(m,"!touchscroll-scrollable-y");b(m,"!touchscroll-fadeout");
g.scrollbarsShown=!0;for(p=l.length;p--;)l[p].touchScrolled=!0}if(g.scrollbarsShown&&(g.scrollableX||g.scrollableY))c.preventDefault(),c=g.scrollableX?g.startX+e.pageX:0,e=g.scrollableY?g.startY+e.pageY:0,p=g.scrollableX?-(g.scrollWidth-g.parentWidth):0,g=g.scrollableY?-(g.scrollHeight-g.parentHeight):0,0<c?c/=2:c<p&&(c=p-(p-c)/2),0<e?e/=2:e<g&&(e=g-(g-e)/2),a(f,-c,-e)}}function l(a){var b=a.widget,c=b.id;v[c]&&h.countCurrentTouches(a,b.touchNode)==b.touchesToScroll-1&&m(c)}function p(a,b,c){function f(){delete d.transitionHandler;
d.resetEffects();delete v[a]}var d=v[a],e=d.widget,g=d.node,l=d.scrollableX?Math.max(Math.min(0,b),-(d.scrollWidth-d.parentWidth)):b,p=d.scrollableY?Math.max(Math.min(0,c),-(d.scrollHeight-d.parentHeight)):c;delete d.timer;l!=b||p!=c?(d.transitionHandler=k.once(g,N,f),g.style[J+"Duration"]=e.bounceDuration+"ms",g.style[E]=V+l+"px,"+p+"px"+Z,l!=b&&d.scrollableX&&(g=d.widget._scrollbarXNode,g.style[J+"Duration"]=e.bounceDuration+"ms",g.style[E]=b>l?V+"0,0"+Z:V+(g.parentNode.offsetWidth-g.offsetWidth)+
"px,0"+Z),p!=c&&d.scrollableY&&(g=d.widget._scrollbarYNode,g.style[J+"Duration"]=e.bounceDuration+"ms",g.style[E]=c>p?V+"0,0"+Z:V+"0,"+(g.parentNode.offsetHeight-g.offsetHeight)+"px"+Z)):f()}function m(b){var c=v[b],f=r[b],d,g;delete r[b];c.timer&&clearTimeout(c.timer);c.resetEffects=e;(d=y.exec(c.node.style[E]))?(g=+d[1],d=+d[2]):g=d=0;if(!c.velX&&!c.velY||(0<=g||g<=-(c.scrollWidth-c.parentWidth))&&(0<=d||d<=-(c.scrollHeight-c.parentHeight)))p(b,g,d);else{if(f&&(f.velX||f.velY)&&(0>=c.velX&&0>=f.velX||
0<=c.velX&&0<=f.velX)&&(0>=c.velY&&0>=f.velY||0<=c.velY&&0<=f.velY))c.velX=1.15*(c.velX+f.velX),c.velY=1.15*(c.velY+f.velY);c.lastX=g;c.lastY=d;c.calcFunc=function(){var c=v[b],f,d,e,g,l,m;if(c)if(f=c.widget,l=f.glideDecel(c.velX),m=f.glideDecel(c.velY),Math.abs(l)>=u||Math.abs(m)>=u){e=c.lastX+l;g=c.lastY+m;if(0<e||e<-(c.scrollWidth-c.parentWidth))for(d=6;d--;)l=f.glideDecel(l);if(0<g||g<-(c.scrollHeight-c.parentHeight))for(d=6;d--;)m=f.glideDecel(m);a(f,-e,-g);c.lastX=e;c.lastY=g;c.velX=l;c.velY=
m;c.timer=setTimeout(c.calcFunc,w)}else p(b,c.lastX,c.lastY)};c.timer=setTimeout(c.calcFunc,w)}}var s=50,w=30,v={},r={},u=1,D=8,y=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,z=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,B=c("css-transitions"),N=c("transitionend"),T=c("css-transforms");c=c("css-transforms3d");var R,J,E,V,Z;c?(V="translate3d(",Z=",0)"):T&&(V="translate(",Z=")");if(!B||!V)return console.warn("CSS3 features unavailable for touch scroll effects."),function(){};
E=c||T;E=!0===E?"transform":E+"Transform";J=!0===B?"transition":B+"Transition";R=!0===T?"":"-"+T.toLowerCase()+"-";return n(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments)},_initTouch:function(){function a(){e.cancelTouchScroll()}function b(c){return function(b){b.widget=e;b.cancelTouchScroll=a;c.call(this,b)}}var c=this.touchNode=this.touchNode||this.containerNode,e=this,g;!c||!c.parentNode?console.warn("TouchScroll requires a nested node upon which to operate."):
(g=c.parentNode,g.style.overflow="hidden",c.style[J+"Property"]=R+"transform",c.style[J+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)",this._touchScrollListeners=[k(g,"touchstart",b(d)),k(g,"touchmove",b(f)),k(g,"touchend,touchcancel",b(l))])},destroy:function(){for(var a=this._touchScrollListeners.length;a--;)this._touchScrollListeners[a].remove();delete v[this.id];this.inherited(arguments)},scrollTo:function(b){var c=v[this.id],f=this.touchNode,d=f.parentNode;!b.preserveMomentum&&(c&&c.resetEffects)&&
c.resetEffects();b.x&&(b.x=Math.max(0,Math.min(b.x,f.scrollWidth-d.offsetWidth)));b.y&&(b.y=Math.max(0,Math.min(b.y,f.scrollHeight-d.offsetHeight)));a(this,b)},getScrollPosition:function(){var a=g(this);return a?{x:-a[1],y:-a[2]}:{x:0,y:0}},cancelTouchScroll:function(){var a=v[this.id];a&&(a.resetEffects?a.resetEffects():(a.timer&&clearTimeout(a.timer),b(a.node.parentNode,".touchscroll-fadeout")),delete v[this.id])},glideDecel:function(a){return 0.9*a}})})},"dgrid/util/touch":function(){define(["dojo/on",
"dojo/query"],function(n,k){function h(b,a,g,e){if(!(1<g.targetTouches.length)){var d=g.changedTouches[0],f=d.screenX,l=d.screenY;e&&g.preventDefault();var p=n(b,"touchend",function(b){var d=b.changedTouches[0];b.targetTouches.length||(Math.abs(d.screenX-f)<c.tapRadius&&Math.abs(d.screenY-l)<c.tapRadius&&(e&&b.preventDefault(),a.call(this,b)),p.remove())})}}var c={tapRadius:10,dbltapTime:250,selector:function(b,a,c){return function(e,d){var f=a.bubble;f?a=f:!1!==c&&(c=!0);return n(e,a,function(a){var f=
a.target;3==f.nodeType&&(f=f.parentNode);for(;!k.matches(f,b,e);)if(f==e||!c||!(f=f.parentNode))return;return d.call(f,a)})}},countCurrentTouches:function(b,a){if(!("touches"in b))return-1;var c,e,d;for(e=c=0;d=b.touches[c];++c)a.contains(d.target)&&++e;return e},tap:function(b,a){return n(b,"touchstart",function(c){h(b,a,c)})},dbltap:function(b,a){var g,e;return n(b,"touchstart",function(d){g?h(b,function(b){if(g){var d=b.changedTouches[0];Math.abs(d.screenX-g.screenX)<c.tapRadius&&Math.abs(d.screenY-
g.screenY)<c.tapRadius&&(e&&clearTimeout(e),g=e=null,a.call(this,b))}},d,!0):h(b,function(a){g=a.changedTouches[0];e=setTimeout(function(){g=e=null},c.dbltapTime)},d)})}};return c})},"dgrid/util/has-css3":function(){define(["dojo/has"],function(n){function k(c,b){var a=c.style,g;if(b in a)return!0;b=b.slice(0,1).toUpperCase()+b.slice(1);for(g=h.length;g--;)if(h[g]+b in a)return h[g];return!1}var h=["ms","O","Moz","Webkit"];n.add("css-transitions",function(c,b,a){return k(a,"transitionProperty")});
n.add("css-transforms",function(c,b,a){return k(a,"transform")});n.add("css-transforms3d",function(c,b,a){return k(a,"perspective")});n.add("transitionend",function(){var c=n("css-transitions");return!c?!1:!0===c?"transitionend":{ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[c]});return n})},"xstyle/has-class":function(){define(["dojo/has"],function(n){var k={};return function(){for(var h,c=arguments,b=0;b<c.length;b++)if(h=c[b],!k[h]){k[h]=!0;var a=h.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),
g=n(a[2]),e=-a[4];if((0<e?e<=g&&(-a[5]||e)>=g:!!g)==!a[1])document.documentElement.className+=" has-"+h}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(n,k,h,c,b,a,g,e,d){return h([n,k],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:e.defaultDelay,keepScrollPosition:!1,
rowHeight:22,postCreate:function(){this.inherited(arguments);var a=this;g(this.bodyNode,"scroll",e[this.pagingMethod](function(b){a._processScroll(b)},null,this.pagingDelay))},renderQuery:function(a,e){function g(a){d(y,"!");if(a)throw m._refreshDeferred&&(m._refreshDeferred.reject(a),delete m._refreshDeferred),a;}var m=this,h=e&&e.container||this.contentNode,k={query:a,count:0,options:e},n,r=this.preload,u,D={node:d(h,"div.dgrid-preload",{rowIndex:0}),count:0,query:a,next:k,options:e};D.node.style.height=
"0";k.node=n=d(h,"div.dgrid-preload");k.previous=D;n.rowIndex=this.minRowsPerPage;r?((k.next=r.next)&&n.offsetTop>=r.node.offsetTop?k.previous=r:(k.next=r,k.previous=r.previous),k.previous.next=k,k.next.previous=k):this.preload=k;var y=d(n,"-div.dgrid-loading");d(y,"div.dgrid-below").innerHTML=this.loadingMessage;e=c.mixin(this.get("queryOptions"),e,{start:0,count:this.minRowsPerPage},"level"in a?{queryLevel:a.level}:null);this._trackError(function(){return u=a(e)});if("undefined"===typeof u)g();
else return b.when(m.renderArray(u,n,e),function(a){return b.when("undefined"===typeof u.total?u.length:u.total,function(b){var c=a.length,f=n.parentNode,g=m.noDataNode;d(y,"!");"queryLevel"in e||(m._total=b);0===b&&(g&&(d(g,"!"),delete m.noDataNode),m.noDataNode=g=d("div.dgrid-no-data"),f.insertBefore(g,m._getFirstRowSibling(f)),g.innerHTML=m.noDataMessage);for(g=f=0;g<c;g++)f+=m._calcRowHeight(a[g]);c&&f&&(m.rowHeight=f/c);b-=c;k.count=b;n.rowIndex=c;b?n.style.height=Math.min(b*m.rowHeight,m.maxEmptySpace)+
"px":(n.style.display="none",e.count++);m._previousScrollPosition&&(m.scrollTo(m._previousScrollPosition),delete m._previousScrollPosition);m._processScroll();m._refreshDeferred&&(m._refreshDeferred.resolve(u),delete m._refreshDeferred);return a},g)},g),u},refresh:function(a){var c=this,d=a&&a.keepScrollPosition,e;"undefined"===typeof d&&(d=this.keepScrollPosition);d&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return d=this._refreshDeferred=new b,
e=c.renderQuery(function(a){return c.store.query(c.query,a)}),"undefined"===typeof e&&d.reject(),d.then(function(a){setTimeout(function(){g.emit(c.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:c,results:a})},0);delete c._refreshDeferred;return a},function(a){delete c._refreshDeferred;throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var b=a.nextSibling;return b&&!/\bdgrid-preload\b/.test(b.className)?
b.offsetTop-a.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(a){function e(a,b,c,f){var l=h.farOffRemoval,m=a.node;if(b>2*l){for(var k,n=m[c],r=0,B=0,v=[];k=n;){var u=h._calcRowHeight(k);if(r+u+l>b||0>n.className.indexOf("dgrid-row")&&0>n.className.indexOf("dgrid-loading"))break;n=k[c];r+=u;B+=k.count||1;h.removeRow(k,!0);v.push(k)}a.count+=B;f?(m.rowIndex-=B,g(a)):m.style.height=m.offsetHeight+r+"px";var w=d("div",v);setTimeout(function(){d(w,"!")},1)}}function g(a,b){a.node.style.height=
Math.min(a.count*h.rowHeight,b?Infinity:h.maxEmptySpace)+"px"}function m(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var h=this,k=h.bodyNode;a=a&&a.scrollTop||this.getScrollPosition().y;var k=k.offsetHeight+a,n,r,u=h.preload,D=h.lastScrollTop,y=h.bufferRows*h.rowHeight,z=y-h.rowHeight,B,N,T,R=!0;for(h.lastScrollTop=a;u&&!u.node.offsetWidth;)u=u.previous;for(;u&&u!=n;){n=h.preload;h.preload=u;r=u.node;var J=r.offsetTop;if(k+1+z<J)u=m(u,R=!1);else if(a-1-z>J+r.offsetHeight)u=
m(u,R=!0);else{var E=((r.rowIndex?a-y:k)-J)/h.rowHeight,J=(k-a+2*y)/h.rowHeight,V=Math.max(Math.min((a-D)*h.rowHeight,h.maxRowsPerPage/2),h.maxRowsPerPage/-2),J=J+Math.min(Math.abs(V),10);0==r.rowIndex&&(E-=J);E=Math.max(E,0);10>E&&(0<E&&J+E<h.maxRowsPerPage)&&(J+=Math.max(0,E),E=0);J=Math.min(Math.max(J,h.minRowsPerPage),h.maxRowsPerPage,u.count);if(0==J)u=m(u,R);else{var J=Math.ceil(J),E=Math.min(Math.floor(E),u.count-J),Z=c.mixin(h.get("queryOptions"),u.options);u.count-=J;var la=r,Da,fa=h.queryRowsOverlap;
if(V=(0<r.rowIndex||r.offsetTop>a)&&u){var S=u.previous;S&&(e(S,a-(S.node.offsetTop+S.node.offsetHeight),"nextSibling"),0<E&&S.node==r.previousSibling?(E=Math.min(u.count,E),u.previous.count+=E,g(u.previous,!0),r.rowIndex+=E,fa=0):J+=E,u.count-=E);Z.start=r.rowIndex-fa;Z.count=Math.min(J+fa,h.maxRowsPerPage);r.rowIndex=Z.start+Z.count}else u.next&&(e(u.next,u.next.node.offsetTop-k,"previousSibling",!0),la=r.nextSibling,la==u.next.node?(u.next.count+=u.count-E,u.next.node.rowIndex=E+J,g(u.next),u.count=
E,fa=0):Da=!0),Z.start=u.count,Z.count=Math.min(J+fa,h.maxRowsPerPage);Da&&(la&&la.offsetWidth)&&(Da=la.offsetTop);g(u);"level"in u.query&&(Z.queryLevel=u.query.level);if("queryLevel"in Z||!(Z.start>h._total||0>Z.count)){r=d(la,"-div.dgrid-loading[style\x3dheight:"+J*h.rowHeight+"px]");d(r,"div.dgrid-"+(V?"below":"above")).innerHTML=h.loadingMessage;r.count=J;var H=u.query(Z);if(void 0===h._trackError(function(){return H})){d(r,"!");return}(function(a,c,f,e){T=b.when(h.renderArray(e,a,Z),function(l){N=
e;la=a.nextSibling;d(a,"!");if(f&&la&&la.offsetWidth){var m=h.getScrollPosition();h.scrollTo({x:m.x,y:m.y+la.offsetTop-f,preserveMomentum:!0})}b.when(e.total||e.length,function(a){"queryLevel"in Z||(h._total=a);c&&(c.count=a-c.node.rowIndex,0===c.count&&Z.count++,g(c))});h._processScroll();return l},function(b){d(a,"!");throw b;})}).call(this,r,V,Da,H);u=u.previous}}}}if(T&&(B=this._refreshDeferred))delete this._refreshDeferred,b.when(T,function(){B.resolve(N)})},removeRow:function(b,c){if(b){var d=
b.previousSibling,e=b.nextSibling,d=d&&(null!=d.observerIndex?d.observerIndex:d.previousObserverIndex),g=e&&(null!=e.observerIndex?e.observerIndex:e.nextObserverIndex),e=b.observerIndex;b.observerIndex=void 0;c&&(b.nextObserverIndex=g,b.previousObserverIndex=d);if(this.cleanEmptyObservers&&(-1<e&&e!==d&&e!==g)&&(d=this.observers,g=d[e])){if(!c)for(var h=g.rows,k=0;k<h.length;k++)if(h[k]!=b&&a.isDescendant(h[k],this.domNode))return this.inherited(arguments);g.cancel();this._numObservers--;d[e]=0}}this.inherited(arguments)}})})},
"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(n,k,h,c,b,a,g){function e(a){return a}function d(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;a.grid=this;b.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return k(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",
constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};a.before(this,"configStructure",h.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_updateNotifyHandle:function(b){this._notifyHandle&&
(this._notifyHandle.remove(),delete this._notifyHandle);b&&"function"===typeof b.notify&&(this._notifyHandle=a.after(b,"notify",h.hitch(this,"_onNotify"),!0),b=this.get("sort"),(!b||!b.length)&&console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},_setStore:function(a,b,c){this._updateNotifyHandle(a);this.store=a;this.dirty={};this.set("query",b,c)},_setQuery:function(a,
b){var c=b&&b.sort;this.query=void 0!==a?a:this.query;this.queryOptions=b||this.queryOptions;c?this.set("sort",c):this.refresh()},setStore:function(a,b,c){n.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",a,b,c)},setQuery:function(a,b){n.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",a,b)},_getQueryOptions:function(){var a=h.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)a.sort=
this._sort;return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?h.delegate(a,{}):a},_setSort:function(a,b){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(a,b){this.inherited(arguments);a&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var a=this.inherited(arguments);this.store||(this.noDataNode=g(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return a},renderArray:function(){var a=
this,b=this.inherited(arguments);this.store||c.when(b,function(b){b.length&&a.noDataNode&&g(a.noDataNode,"!")});return b},insertRow:function(a,b,c,d,e){var g=this.store,k=this.dirty,g=g&&g.getIdentity(a),n;g in k&&!(g in this._updating)&&(n=k[g]);n&&(a=h.delegate(a,n));return this.inherited(arguments)},updateDirty:function(a,b,c){var d=this.dirty,e=d[a];e||(e=d[a]={});e[b]=c},setDirty:function(a,b,c){n.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(a,b,c)},save:function(){function a(f,
g){return function(a){var h=b._columnsWithSet,k=b._updating,n,r;if("function"===typeof a.set)a.set(g);else for(n in g)a[n]=g[n];for(n in h)r=h[n].set(a),void 0!==r&&(a[n]=r);k[f]=!0;return c.when(d.put(a),function(){delete e[f];delete k[f]})}}var b=this,d=this.store,e=this.dirty,g=new c,h=g.promise,k=function(a){var c;return b.getBeforePut||!(c=b.row(a).data)?function(){return d.get(a)}:function(){return c}},n;for(n in e)var u=a(n,e[n]),h=h.then(k(n)).then(u);g.resolve();return h},revert:function(){this.dirty=
{};this.refresh()},_trackError:function(a){var b;"string"==typeof a&&(a=h.hitch(this,a));try{b=a()}catch(g){d.call(this,g)}return c.when(b,e,h.hitch(this,d))},newRow:function(){var a=this.inherited(arguments);this.noDataNode&&(g(this.noDataNode,"!"),delete this.noDataNode);return a},removeRow:function(a,b){var c={element:a};!b&&(this.noDataMessage&&this.up(c).element===a&&this.down(c).element===a)&&(this.noDataNode=g(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);
return this.inherited(arguments)}})})},"FPTUtils/js/Utils":function(){define(["dojo/on","dojo/query","FPTDispatcher/Dispatcher"],function(n,k,h){var c=function(a,b){b||(b=a);return{field:a,label:b}},b={doc:"Doc",eval:"MatlabEval"};return{isEmptyArray:function(a){return Array.isArray(a)&&0===a.length},isNumericalValue:function(a){return!isNaN(Math.abs(a))},isEmptyObject:function(a){return 0===Object.keys(a).length},nonZeroLength:function(a,b){return a[b]&&a[b].length},doIfLength:function(a,b,c){a[b]&&
a[b].length&&c(a[b])},transposeDataForGrid:function(a,b,e){var d=a[0].field,f=d;e?f=e.field:e=a[0];e=[e];for(var l=0;l<b.length;++l)e.push(c(b[l][d]));for(var l=[],h=1;h<a.length;++h){var m={},k=a[h].field;m[f]=k;for(var n=0;n<b.length;++n)m[b[n][d]]=b[n][k];l.push(m)}return{columns:e,arrayOfObjects:l}},handleHyperlinks:function(a){var c=this;0<a.length&&a.forEach(function(a){if(b[a]){var d=c._getLinks(a);if(0<d.length){var f=c._getLinkHandler(a);c._attachLinkHandlers(a,d,f)}}})},_getLinks:function(a){return this["_get"+
b[a]+"Links"].apply(this)},_getLinkHandler:function(a){return this["_get"+b[a]+"LinkHandler"].apply(this)},_attachLinkHandlers:function(a,c,e){return this["_attach"+b[a]+"LinkHandlers"].apply(this,[c,e])},_getDocLinks:function(){return Array.prototype.slice.call(k("a[docanchor]"))},_getMatlabEvalLinks:function(){return Array.prototype.slice.call(k("a")).filter(function(a){return a.getAttribute("href").includes("matlab:")})},_getDocLinkHandler:function(){return function(a){h.remoteSendMessage({matlabFunctionName:"fxptui.Web.Callbacks.LaunchHelp",
inputArgs:[{anchor:a,topic:""}],outputArgs:0,priority:1,classifierString:"FixedPoint_fxpttool_help_classifier"})}},_getMatlabEvalLinkHandler:function(){return function(a){h.remoteSendMessage({matlabFunctionName:"eval",inputArgs:[a],outputArgs:0,priority:1,classifierString:"FixedPoint_fxpttool_matlabEval_classifier"})}},_attachDocLinkHandlers:function(a,b){a.forEach(function(a){var c=a.getAttribute("docanchor");n(a,"click",function(){b(c)})})},_attachMatlabEvalLinkHandlers:function(a,b){a.forEach(function(a){var c=
a.getAttribute("href").split(/:(.+)/)[1];n(a,"click",function(){b(c)});a.setAttribute("href","#")})}}})},"ResultDetails/widgets/RangeInformationSummary":function(){define("dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dgrid/OnDemandGrid dijit/_TemplatedMixin dijit/_WidgetBase dijit/registry dojo/_base/array dojo/_base/declare dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool dojo/store/Memory dojo/text!ResultDetails/widgets/templates/proposedDTSummary.html".split(" "),function(n,
k,h,c,b,a,g,e,d,f,l){return e([b,c],{templateString:l,sectionTitle:"",unusedrangesectionTitle:"",sectionId:"rangeInfoGridSection",sectionGrid:"rangeInfoGrid",sectionGridUnused:"unusedRangeInfoGrid",store:null,_resultInfoGridStore:null,_resultInfoUnusedDataGridStore:null,widgetsInTemplate:!0,constructor:function(a){e.safeMixin(this,a);var b=this.store.data[0];a=this.gatherDataForGrid(b);b=this.gatherUnusedDataForGrid(b);this._resultInfoGridStore||(this._resultInfoGridStore=this.createStore(a,"rangeInfoGridStore"));
this.sectionTitle=this.store.data[0].hasProposedDT&&0<this._resultInfoGridStore.data.length?d.resultreportRangeInformationUsed:d.resultreportRangeInformation;this._resultInfoUnusedDataGridStore||(this._resultInfoUnusedDataGridStore=this.createStore(b,"unusedRangeInfoGridStore"));this.unusedrangesectionTitle=this.store.data[0].hasProposedDT&&0<this._resultInfoUnusedDataGridStore.data.length?d.resultreportRangeInformationUnused:" "},buildRendering:function(){this.inherited(arguments);this.createRangeInformationGrid();
this.createUnusedRangeInformationGrid()},startup:function(){this.inherited(arguments);var a=dijit.registry.byId("rangeInfoGrid");a._started||a.startup();(a=dijit.registry.byId("unusedRangeInfoGrid"))&&(a._started||a.startup())},gatherDataForGrid:function(a){var b=[],c=a.isUsingSimMinMax,f=a.isAbstractSimulinkResult;(a.SharedDesignMin||a.SharedDesignMax)&&b.push({Property:d.resultreportSharedDesign,Minimum:a.SharedDesignMin,Maximum:a.SharedDesignMax});(a.DesignMax||a.DesignMin)&&b.push({Property:d.resultreportDesign,
Minimum:a.DesignMin,Maximum:a.DesignMax});c&&((a.SharedSimMin||a.SharedSimMax)&&b.push({Property:d.resultreportSharedSimulation,Minimum:a.SharedSimMin,Maximum:a.SharedSimMax}),(a.SimMax||a.SimMin)&&b.push({Property:d.resultreportSimulation,Minimum:a.SimMin,Maximum:a.SimMax}));(a.SharedInitValueMin||a.SharedInitValueMax)&&b.push({Property:d.resultreportSharedInitialValue,Minimum:a.SharedInitValueMin,Maximum:a.SharedInitValueMax});f&&(a.InitialValueMin||a.InitialValueMax)&&b.push({Property:d.resultreportInitialValue,
Minimum:a.InitialValueMin,Maximum:a.InitialValueMax});(a.SharedModelRequiredMin||a.SharedModelRequiredMax)&&b.push({Property:d.resultreportSharedModelRequired,Minimum:a.SharedModelRequiredMin,Maximum:a.SharedModelRequiredMax});f&&(a.ModelRequiredMin||a.ModelRequiredMax)&&b.push({Property:d.resultreportModelRequired,Minimum:a.ModelRequiredMin,Maximum:a.ModelRequiredMax});a.isUsingDerivedMinMax&&((a.SharedDerivedMin||a.SharedDerivedMax)&&b.push({Property:d.alertSharedDerived,Minimum:a.SharedDerivedMin,
Maximum:a.SharedDerivedMax}),(a.DerivedMin||a.DerivedMax)&&b.push({Property:d.resultreportDerived,Minimum:a.DerivedMin,Maximum:a.DerivedMax}),(a.CalcDerivedMin||a.CalcDerivedMax)&&b.push({Property:d.resultreportIntermediate,Minimum:a.CalcDerivedMin,Maximum:a.CalcDerivedMax}));return b},gatherUnusedDataForGrid:function(a){var b=[];a.isUsingSimMinMax||((a.SharedSimMin||a.SharedSimMax)&&b.push({Property:d.resultreportSharedSimulation,Minimum:a.SharedSimMin,Maximum:a.SharedSimMax}),(a.SimMax||a.SimMin)&&
b.push({Property:d.resultreportSimulation,Minimum:a.SimMin,Maximum:a.SimMax}));a.isUsingDerivedMinMax||((a.SharedDerivedMin||a.SharedDerivedMax)&&b.push({Property:d.alertSharedDerived,Minimum:a.SharedDerivedMin,Maximum:a.SharedDerivedMax}),(a.DerivedMin||a.DerivedMax)&&b.push({Property:d.resultreportDerived,Minimum:a.DerivedMin,Maximum:a.DerivedMax}),(a.CalcDerivedMin||a.CalcDerivedMax)&&b.push({Property:d.resultreportIntermediate,Minimum:a.CalcDerivedMin,Maximum:a.CalcDerivedMax}));return b},createStore:function(a,
b){return new f({id:b,data:a})},createRangeInformationGrid:function(){return new (e([h,n,k]))({id:"rangeInfoGrid",store:this._getStore(),noDataMessage:d.resultreportRangeInformationNotAvailable,columns:[{field:"Property",label:"Property"},{field:"Minimum",label:"Minimum"},{field:"Maximum",label:"Maximum"}]},this.rangeInfoGrid)},createUnusedRangeInformationGrid:function(){var a=null;this.store.data[0].hasProposedDT&&0<this._resultInfoUnusedDataGridStore.data.length&&(a=new (e([h,n,k]))({id:"unusedRangeInfoGrid",
store:this._resultInfoUnusedDataGridStore,noDataMessage:d.resultreportRangeInformationNotAvailable,columns:[{field:"Property",label:"Property"},{field:"Minimum",label:"Minimum"},{field:"Maximum",label:"Maximum"}]},this.unusedRangeInfoGrid));return a},_getStore:function(){return this._resultInfoGridStore},destroy:function(){this.inherited(arguments);this._resultInfoUnusedDataGridStore=this._resultInfoGridStore=this.store=null}})})},"ResultDetails/widgets/HistogramContainer":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetBase dojo/string dojo/html dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool dojo/text!ResultDetails/widgets/templates/HistogramContainer.html NumericTypeScope/Histogram dijit/layout/BorderContainer".split(" "),
function(n,k,h,c,b,a,g,e,d){return n([h,k],{templateString:g,sectionTitle:a.resultreportHistogramTitle,sectionId:"histogramSection",store:null,widgetsInTemplate:!0,constructor:function(a){n.safeMixin(this,a);if(0===this.store.length||this.isEmpty(this.store))this.sectionTitle=""},buildRendering:function(){this.inherited(arguments);this._mainContainer=new d({id:"graphArea"});this._mainContainer.placeAt(this.histogramContainer,"first");this._histogram=new e({id:"histogramPlot"})},startup:function(){this.inherited(arguments);
this._mainContainer.startup();this.createSimInfo();this.createHistogram()},createSimInfo:function(){if(this.store.ActualOverflows){this.simulationData.style.display="block";var f=0,d="";Array.isArray(this.store.OverflowWrap)?Array.isArray(this.store.OverflowSaturation)?(f=this.store.DivideByZero,d=a.resultreportOverflowDivsByZero):(f=this.store.OverflowSaturation,d=a.resultreportOverflowSaturations):(f=this.store.OverflowWrap,d=a.resultreportOverflowWraps);b.set(this.simulationData,'\x3cp\x3e\x3cspan id\x3d"simulationDataIndicator"\x3e\x26#9650;\x3c/span\x3e'+
c.substitute(a.resultreportOverflowAnalysis,[d])+" : "+f+"\x3c/p\x3e",{parseContent:!0})}else this.simulationData.style.display="none"},createHistogram:function(){this.isEmpty(this.store)||(this._histogram.createHistogram(this.store,!1,"FPT",this.domNode),this.setLegendContent())},setLegendContent:function(b){this.legendTableHeaderOverflows.innerHTML=c.substitute(a.resultreportHistogramLegendOverflows);this.legendTableHeaderInRange.innerHTML=c.substitute(a.resultreportHistogramLegendInRange);this.legendTableHeaderUnderflows.innerHTML=
c.substitute(a.resultreportHistogramLegendUnderflows);this.legendTableColumnPositive.innerHTML=c.substitute(a.resultreportHistogramPosValsLegend);this.legendTableColumnNegative.innerHTML=c.substitute(a.resultreportHistogramNegValsLegend);this.posOvNum.innerHTML=Math.round(this._histogram._positiveOverflowCount);this.posInNum.innerHTML=Math.round(this._histogram._positiveInRangeCount);this.posUnNum.innerHTML=Math.round(this._histogram._positiveUnderflowCount);this.negOvNum.innerHTML=Math.round(this._histogram._negativeOverflowCount);
this.negInNum.innerHTML=Math.round(this._histogram._negativeInRangeCount);this.negUnNum.innerHTML=Math.round(this._histogram._negativeUnderflowCount);this.numZeroes.innerHTML=c.substitute(a.resultreportHistogramNumZeros,[this._histogram._numZeros]);if(!this.store.ShowPotentialOverflows){b=this.legendTableContainer.children[0];var d=b.children[0];d.removeChild(d.children[1]);d.removeChild(d.children[2]);d=b.children[1];d.removeChild(d.children[1]);d.removeChild(d.children[2]);b=b.children[2];b.removeChild(b.children[1]);
b.removeChild(b.children[2])}},destroy:function(){this.inherited(arguments);this._mainContainer&&(this._mainContainer.destroy(),this._mainContainer=null);this._histogram&&(this._histogram.destroy(),this._histogram=null)},isEmpty:function(a){for(var b in a)return!1;return!0}})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(n,k,h,c,b,a,g){var e=0,d={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")},_emptyNode:a.empty,_setNodeContent:function(b,c){a.empty(b);if(c)if("number"==typeof c&&(c=c.toString()),"string"==typeof c&&(c=a.toDom(c,b.ownerDocument)),!c.nodeType&&k.isArrayLike(c))for(var d=c.length,e=0;e<c.length;e=d==c.length?e+1:0)a.place(c[e],b,"last");else a.place(c,b,"last");return b},_ContentSetter:c("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:n._scopeName,startup:!0,constructor:function(a,c){k.mixin(this,
a||{});c=this.node=b.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",e++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=d._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(e){console.error("Fatal "+this.declaredClass+
".setContent could not change content due to "+e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(h.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);a.empty(this.node)},onBegin:function(){var a=this.content;if(k.isString(a)&&(this.cleanContent&&(a=d._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};h.forEach(["dir",
"lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=g.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&d._setNodeContent(this.node,a,!0)}}),set:function(a,
b,c){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),b="");"number"==typeof b&&(b=b.toString());return c?(new d._ContentSetter(k.mixin(c,{content:b,node:a}))).set():d._setNodeContent(a,b,!0)}};k.setObject("dojo.html",d);return d})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(n,
k,h,c,b,a,g,e,d,f,l,p,m,s,w,v){function r(a){return eval("("+a+")")}function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<y){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=y}return b}function D(a,b){b||(b=n);var c=b._dojoParserCtorMap||(b._dojoParserCtorMap={}),d=a.join();if(!c[d]){for(var e=[],f=0,g=a.length;f<g;f++){var l=a[f];e[e.length]=c[l]=c[l]||h.getObject(l)||~l.indexOf("/")&&b(l)}f=e.shift();c[d]=e.length?f.createSubclass?f.createSubclass(e):
f.extend.apply(f,e):f}return c[d]}new Date("X");var y=0;d.after(h,"extend",function(){y++},!0);var z={_clearCache:function(){y++;_ctorMap={}},_functionFromScript:function(a,b){var d="",e="",f=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),f=(f||"").split(/\s*,\s*/);g&&g.length&&c.forEach(g.split(/\s*,\s*/),function(a){d+="with("+a+"){";e+="}"});return new Function(f,d+a.innerHTML+e)},instantiate:function(a,b,d){b=b||{};d=d||{};var e=(d.scope||k._scopeName)+"Type",f="data-"+
(d.scope||k._scopeName)+"-",g=f+"type",h=f+"mixins",l=[];c.forEach(a,function(a){var c=e in b?b[e]:a.getAttribute(g)||a.getAttribute(e);if(c){var d=a.getAttribute(h),c=d?[c].concat(d.split(/\s*,\s*/)):[c];l.push({node:a,types:c})}});return this._instantiate(l,b,d)},_instantiate:function(a,b,d,e){function g(a){!b._started&&!d.noStart&&c.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=c.map(a,function(a){var c=a.ctor||D(a.types,d.contextRequire);if(!c)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(c,a.node,b,d,a.scripts,a.inherited)},this);return e?f(a).then(g):g(a)},construct:function(a,b,f,g,n,p){function v(a){wa&&h.setObject(wa,a);for(H=0;H<ha.length;H++)d[ha[H].advice||"after"](a,ha[H].method,h.hitch(a,ha[H].func),!0);for(H=0;H<ya.length;H++)ya[H].call(a);for(H=0;H<za.length;H++)a.watch(za[H].prop,za[H].func);for(H=0;H<Fa.length;H++)w(a,Fa[H].event,Fa[H].func);return a}var D=a&&a.prototype;g=g||{};var z={};g.defaults&&h.mixin(z,g.defaults);p&&h.mixin(z,
p);var y;m("dom-attributes-explicit")?y=b.attributes:m("dom-attributes-specified-flag")?y=c.filter(b.attributes,function(a){return a.specified}):(p=(/^input$|^img$/i.test(b.nodeName)?b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),y=c.map(p.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var fa=g.scope||k._scopeName;
p="data-"+fa+"-";var S={};"dojo"!==fa&&(S[p+"props"]="data-dojo-props",S[p+"type"]="data-dojo-type",S[p+"mixins"]="data-dojo-mixins",S[fa+"type"]="dojotype",S[p+"id"]="data-dojo-id");for(var H=0,aa,fa=[],wa,X;aa=y[H++];){var W=aa.name,ea=W.toLowerCase();aa=aa.value;switch(S[ea]||ea){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":X=aa;break;case "data-dojo-id":case "jsid":wa=aa;break;case "data-dojo-attach-point":case "dojoattachpoint":z.dojoAttachPoint=
aa;break;case "data-dojo-attach-event":case "dojoattachevent":z.dojoAttachEvent=aa;break;case "class":z["class"]=b.className;break;case "style":z.style=b.style&&b.style.cssText;break;default:if(W in D||(W=u(a)[ea]||W),W in D)switch(typeof D[W]){case "string":z[W]=aa;break;case "number":z[W]=aa.length?Number(aa):NaN;break;case "boolean":z[W]="false"!=aa.toLowerCase();break;case "function":""===aa||-1!=aa.search(/[^\w\.]+/i)?z[W]=new Function(aa):z[W]=h.getObject(aa,!1)||new Function(aa);fa.push(W);
break;default:ea=D[W],z[W]=ea&&"length"in ea?aa?aa.split(/\s*,\s*/):[]:ea instanceof Date?""==aa?new Date(""):"now"==aa?new Date:l.fromISOString(aa):ea instanceof e?k.baseUrl+aa:r(aa)}else z[W]=aa}}for(y=0;y<fa.length;y++)S=fa[y].toLowerCase(),b.removeAttribute(S),b[S]=null;if(X)try{X=r.call(g.propsThis,"{"+X+"}"),h.mixin(z,X)}catch(Pa){throw Error(Pa.toString()+" in data-dojo-props\x3d'"+X+"'");}h.mixin(z,f);n||(n=a&&(a._noScript||D._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",b));var ha=[],ya=
[],za=[],Fa=[];if(n)for(H=0;H<n.length;H++)S=n[H],b.removeChild(S),f=S.getAttribute(p+"event")||S.getAttribute("event"),g=S.getAttribute(p+"prop"),X=S.getAttribute(p+"method"),fa=S.getAttribute(p+"advice"),y=S.getAttribute("type"),S=this._functionFromScript(S,p),f?"dojo/connect"==y?ha.push({method:f,func:S}):"dojo/on"==y?Fa.push({event:f,func:S}):z[f]=S:"dojo/aspect"==y?ha.push({method:X,advice:fa,func:S}):"dojo/watch"==y?za.push({prop:g,func:S}):ya.push(S);a=(n=a.markupFactory||D.markupFactory)?
n(z,b,a):new a(z,b);return a.then?a.then(v):v(a)},scan:function(a,b){function d(a){if(!a.inherited){a.inherited={};var b=a.node,c=d(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(s)||c.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],f=[],g={},h=(b.scope||k._scopeName)+"Type",l="data-"+(b.scope||k._scopeName)+"-",r=l+"type",s=l+"textdir",l=l+"mixins",u=a.firstChild,v=b.inherited;if(!v){var z=function(a,b){return a.getAttribute&&
a.getAttribute(b)||a.parentNode&&z(a.parentNode,b)},v={dir:z(a,"dir"),lang:z(a,"lang"),textDir:z(a,s)},w;for(w in v)v[w]||delete v[w]}for(var v={inherited:v},y,X;;)if(u)if(1!=u.nodeType)u=u.nextSibling;else if(y&&"script"==u.nodeName.toLowerCase())(W=u.getAttribute("type"))&&/^dojo\/\w/i.test(W)&&y.push(u),u=u.nextSibling;else if(X)u=u.nextSibling;else{var W=u.getAttribute(r)||u.getAttribute(h);w=u.firstChild;if(!W&&(!w||3==w.nodeType&&!w.nextSibling))u=u.nextSibling;else{X=null;if(W){var ea=u.getAttribute(l);
y=ea?[W].concat(ea.split(/\s*,\s*/)):[W];try{X=D(y,b.contextRequire)}catch(Pa){}X||c.forEach(y,function(a){~a.indexOf("/")&&!g[a]&&(g[a]=!0,f[f.length]=a)});ea=X&&!X.prototype._noScript?[]:null;v={types:y,ctor:X,parent:v,node:u,scripts:ea};v.inherited=d(v);e.push(v)}else v={node:u,scripts:y,parent:v};y=ea;X=u.stopParser||X&&X.prototype.stopParser&&!b.template;u=w}}else{if(!v||!v.node)break;u=v.node.nextSibling;X=!1;v=v.parent;y=v.scripts}var ha=new p;f.length?(m("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+
f.join(", ")),(b.contextRequire||n)(f,function(){ha.resolve(c.filter(e,function(a){if(!a.ctor)try{a.ctor=D(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):ha.resolve(e);return ha.promise},_require:function(a,b){var c=r("{"+a.innerHTML+"}"),d=[],e=[],f=new p,g=b&&b.contextRequire||n,l;for(l in c)d.push(l),
e.push(c[l]);g(e,function(){for(var a=0;a<d.length;a++)h.setObject(d[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var c=new p,d=c.promise;c.resolve(!0);var e=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(b,c){b&&("string"!=typeof b&&!("nodeType"in b))&&(c=b,b=c.rootNode);var d=b?a.byId(b):g.body();c=c||{};var e=c.template?{template:!0}:{},f=[],l=
this,k=this._scanAmd(d,c).then(function(){return l.scan(d,c)}).then(function(a){return l._instantiate(a,e,c,!0)}).then(function(a){return f=f.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});h.mixin(f,k);return f}};k.parser=z;b.parseOnLoad&&v(100,z,"parse");return z})},"dojo/_base/url":function(){define(["./kernel"],function(n){var k=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,h=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
c=function(){for(var b=arguments,a=[b[0]],g=1;g<b.length;g++)if(b[g]){var e=new c(b[g]+""),a=new c(a[0]+"");if(""==e.path&&!e.scheme&&!e.authority&&!e.query)null!=e.fragment&&(a.fragment=e.fragment),e=a;else if(!e.scheme&&(e.scheme=a.scheme,!e.authority&&(e.authority=a.authority,"/"!=e.path.charAt(0)))){for(var a=(a.path.substring(0,a.path.lastIndexOf("/")+1)+e.path).split("/"),d=0;d<a.length;d++)"."==a[d]?d==a.length-1?a[d]="":(a.splice(d,1),d--):0<d&&(!(1==d&&""==a[0])&&".."==a[d]&&".."!=a[d-1])&&
(d==a.length-1?(a.splice(d,1),a[d-1]=""):(a.splice(d-1,2),d-=2));e.path=a.join("/")}a=[];e.scheme&&a.push(e.scheme,":");e.authority&&a.push("//",e.authority);a.push(e.path);e.query&&a.push("?",e.query);e.fragment&&a.push("#",e.fragment)}this.uri=a.join("");b=this.uri.match(k);this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(h),this.user=b[3]||null,this.password=
b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};c.prototype.toString=function(){return this.uri};return n._Url=c})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(n,k){var h={};n.setObject("dojo.date.stamp",h);h.fromISOString=function(c,b){h._isoRegExp||(h._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var a=h._isoRegExp.exec(c),g=null;if(a){a.shift();a[1]&&a[1]--;a[6]&&(a[6]*=1E3);
b&&(b=new Date(b),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return b["get"+a]()}),function(b,c){a[c]=a[c]||b}));g=new Date(a[0]||1970,a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0);100>a[0]&&g.setFullYear(a[0]||1970);var e=0,d=a[7]&&a[7].charAt(0);"Z"!=d&&(e=60*(a[8]||0)+(Number(a[9])||0),"-"!=d&&(e*=-1));d&&(e-=g.getTimezoneOffset());e&&g.setTime(g.getTime()+6E4*e)}return g};h.toISOString=function(c,b){var a=function(a){return 10>a?"0"+a:a};
b=b||{};var g=[],e=b.zulu?"getUTC":"get",d="";"time"!=b.selector&&(d=c[e+"FullYear"](),d=["0000".substr((d+"").length)+d,a(c[e+"Month"]()+1),a(c[e+"Date"]())].join("-"));g.push(d);if("date"!=b.selector){d=[a(c[e+"Hours"]()),a(c[e+"Minutes"]()),a(c[e+"Seconds"]())].join(":");e=c[e+"Milliseconds"]();b.milliseconds&&(d+="."+(100>e?"0":"")+a(e));if(b.zulu)d+="Z";else if("time"!=b.selector)var e=c.getTimezoneOffset(),f=Math.abs(e),d=d+((0<e?"-":"+")+a(Math.floor(f/60))+":"+a(f%60));g.push(d)}return g.join("T")};
return h})},"NumericTypeScope/Histogram":function(){define("dojo/_base/declare dojo/dom dojo/query dojo/dom-construct d3/d3 dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool dojo/string dijit/layout/ContentPane dijit/Tooltip dojo/domReady!".split(" "),function(n,k,h,c,b,a,g,e,d){var f,l,p,m,s,w,v,r,u,D,y,z,B,N,T,R,J,E;return n(null,{_histParent:null,_positiveOverflowCount:0,_negativeOverflowCount:0,_positiveInRangeCount:0,_negativeInRangeCount:0,_positiveUnderflowCount:0,_negativeUnderflowCount:0,
_nonZeroOccurence:0,_toolTip:null,createHistogram:function(a,b,c,d){"FPT"===c&&(!a||0===a.length)||(E=a,this._histParent=d,this.plotSize(),this.drawHistogram(),this.drawAxis(),this.drawBins(),this.addTooltip())},plotSize:function(){var a=E.BinEdges,c=E.UnderflowBins;"number"===typeof c&&(c=[c]);var d=E.OverflowBins;"number"===typeof d&&(d=[d]);Array.isArray(a)||(a=[a],E.BinEdges=[E.BinEdges],E.BinCounts=[E.BinCounts],E.PosBinCounts=[E.PosBinCounts],E.NegBinCounts=[E.NegBinCounts],E.OverflowBins=[E.OverflowBins],
E.UnderflowBins=[E.UnderflowBins],E.PosCounts=[E.PosCounts],E.NegCounts=[E.NegCounts]);var e=Math.min.apply(Math,a);T=Math.min(E.LastUnder,e);e=Math.max.apply(Math,a);N=Math.max(E.LastOver,e);z=w=660;r=0.25*z;B=0.75*r;f=0.034*r;l=0.1*r;p=0.1*w;J=N-T+2;m=z/J;v={inrange:"#0072BD",underflow:"#F1B51C",overflow:"#E23D2D"};e=b.scale.ordinal().domain(["PositiveValues","NegativeValues"]).range(["positiveColor","negativeColor"]);u=Array(a.length);R=0;this._nonZeroOccurence=E.TotalOccurrences-E.NumZeros;this._numZeros=
E.NumZeros;for(var g=a.length,h=0;h<g;h++){u[h]=[];u[h].bin=a[h];u[h].PositiveValues=E.PosBinCounts[h];u[h].NegativeValues=E.NegBinCounts[h];u[h].TotalBinCounts=E.PosBinCounts[h]+E.NegBinCounts[h];u[h].PosCounts=E.PosCounts[h];u[h].NegCounts=E.NegCounts[h];-1!==c.indexOf(a[h])?(u[h].ColorCode="underflow",this._positiveUnderflowCount+=u[h].PosCounts,this._negativeUnderflowCount+=u[h].NegCounts):-1!==d.indexOf(a[h])?(u[h].ColorCode="overflow",this._positiveOverflowCount+=u[h].PosCounts,this._negativeOverflowCount+=
u[h].NegCounts):(u[h].ColorCode="inrange",this._positiveInRangeCount+=u[h].PosCounts,this._negativeInRangeCount+=u[h].NegCounts);R=Math.max(R,E.PosBinCounts[h]+E.NegBinCounts[h]);var k=0;u[h].bars=e.domain().map(function(a,b){return{name:a,y0:k,y1:k+=+u[h][a],binIdx:u[h].bin,colorCode:u[h].ColorCode,totalCount:u[h].TotalBinCounts}})}},drawHistogram:function(){b.select(".plotSVG").remove();s=b.select("#graphArea").append("svg").attr("class","plotSVG").attr("viewBox","0 0 "+(w+p)+" "+r).attr("width",
"100%").attr("height","100%").attr("overflow","scroll").attr("padding-bottom","10px").attr("preserveAspectRatio","xMidYMin").append("g").attr("transform","translate("+p+", "+f+")");b.select("#histogramContainer").style("height",r)},drawAxis:function(){y=b.scale.linear().domain([N+1,T-1]).range([0,z]);var c=b.svg.axis().scale(y).ticks(J).orient("bottom");D=b.scale.linear().domain([0,R]).range([B,0]);var d=b.svg.axis().scale(D).orient("left").ticks(4).tickFormat(function(a){return String(a)}),c=s.append("g").attr("class",
"xAxis").attr("transform","translate(0, "+B+")").call(c),e=Math.ceil(J/10);c.selectAll(".tick text").attr("x",m/2).text(null).filter(function(a,b){return b&&0===b%e?!0:!1}).text(2).append("tspan").attr("dy","-.4em").text(function(a){return a}).style("font-size",function(a){return"0.8em"});s.append("text").attr("class","xAxis").attr("text-anchor","middle").attr("dx","4em").attr("x",0.5*(0.96*z-p)).attr("y",r-l/2).text(a.resultreportHistogramXLabel);s.append("g").attr("class","yAxis").call(d).append("text").attr("transform",
"rotate(-90)").attr("y",0-p).attr("x",0-B/2).attr("dy","1em").attr("text-anchor","middle").text(g.substitute(a.resultreportHistogramYLabel))},drawBins:function(){var a=s.append("g").attr("id","binCollection").selectAll(".bins").data(u).enter().append("g").attr("class","bin"),b;for(b in v)s.append("defs").append("pattern").attr("id",b.concat("DiagonalHatch")).attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("path").attr("d","M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2").attr("stroke",
v[b]).attr("stroke-width",1);a.selectAll("rect").data(function(a,b){return a.bars}).enter().append("rect").attr("y",function(a){return D(a.y1)}).attr("x",function(a){return y(a.binIdx)}).attr("width",function(a,b){return 0.95*m}).attr("height",function(a,b){var c=a.y1;return D(a.y0)-D(c)}).attr("data-totalCount",function(a,b){return a.totalCount}).style("fill",function(a,b){return 0===b%2?v[a.colorCode]:"inrange"===a.colorCode?"url(#inrangeDiagonalHatch)":"underflow"===a.colorCode?"url(#underflowDiagonalHatch)":
"url(#overflowDiagonalHatch)"})},addTooltip:function(){this._toolTip=new d({connectId:"binCollection",selector:"g",position:["above"],getContent:function(a){a=a.firstChild.getAttribute("data-totalCount");return Number(a).toFixed(2).concat("%")}})},destroy:function(a){(a=k.byId(a))&&c.empty(a);this._toolTip&&this._toolTip.destroy()}})})},"d3/d3":function(){!function(){function n(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function k(a){return null!=a&&!isNaN(a)}function h(a){return{left:function(b,c,I,d){3>
arguments.length&&(I=0);4>arguments.length&&(d=b.length);for(;I<d;){var C=I+d>>>1;0>a(b[C],c)?I=C+1:d=C}return I},right:function(b,c,I,d){3>arguments.length&&(I=0);4>arguments.length&&(d=b.length);for(;I<d;){var C=I+d>>>1;0<a(b[C],c)?d=C:I=C+1}return I}}}function c(a){return a.length}function b(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(I){a.prototype=b}}function a(){}function g(a){return ib+a in this}function e(){var a=[];this.forEach(function(b){a.push(b)});
return a}function d(){var a=0,b;for(b in this)b.charCodeAt(0)===Wb&&++a;return a}function f(){for(var a in this)if(a.charCodeAt(0)===Wb)return!1;return!0}function l(){}function p(a,b,c){return function(){var I=c.apply(b,arguments);return I===b?a:I}}function m(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.substring(1);for(var c=0,I=ce.length;c<I;++c){var d=ce[c]+b;if(d in a)return d}}function s(){}function w(){}function v(t){function b(){for(var a=c,A=-1,I=a.length,d;++A<I;)(d=a[A].on)&&d.apply(this,
arguments);return t}var c=[],I=new a;b.on=function(a,b){var A=I.get(a),d;if(2>arguments.length)return A&&A.on;A&&(A.on=null,c=c.slice(0,d=c.indexOf(A)).concat(c.slice(d+1)),I.remove(a));b&&c.push(I.set(a,{on:b}));return t};return b}function r(){q.event.preventDefault()}function u(){for(var a=q.event,b;b=a.sourceEvent;)a=b;return a}function D(a){for(var b=new w,c=0,I=arguments.length;++c<I;)b[arguments[c]]=v(b);b.of=function(c,F){return function(I){try{var d=I.sourceEvent=q.event;I.target=a;q.event=
I;b[I.type].apply(c,F)}finally{q.event=d}}};return b}function y(a){Xb(a,Y);return a}function z(a){return"function"===typeof a?a:function(){return Yc(a,this)}}function B(a){return"function"===typeof a?a:function(){return Zc(a,this)}}function N(a,b){function c(){this.removeAttribute(a)}function I(){this.removeAttributeNS(a.space,a.local)}function d(){this.setAttribute(a,b)}function C(){this.setAttributeNS(a.space,a.local,b)}function e(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):
this.setAttribute(a,c)}function f(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=q.ns.qualify(a);return null==b?a.local?I:c:"function"===typeof b?a.local?f:e:a.local?C:d}function T(a){return a.trim().replace(/\s+/g," ")}function R(a){return RegExp("(?:^|\\s+)"+q.requote(a)+"(?:\\s+|$)","g")}function J(a,b){function c(){for(var F=-1;++F<d;)a[F](this,b)}function I(){for(var c=-1,F=b.apply(this,arguments);++c<d;)a[c](this,F)}a=
(a+"").trim().split(/^|\s+/).map(E);var d=a.length;return"function"===typeof b?I:c}function E(a){var b=R(a);return function(c,I){if(d=c.classList)return I?d.add(a):d.remove(a);var d=c.getAttribute("class")||"";I?(b.lastIndex=0,b.test(d)||c.setAttribute("class",T(d+" "+a))):c.setAttribute("class",T(d.replace(b," ")))}}function V(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function C(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):
this.style.setProperty(a,d,c)}return null==b?d:"function"===typeof b?C:e}function Z(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function la(a){return"function"===typeof a?a:(a=q.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function Da(a){return function(){return de(this,
a)}}function fa(a){arguments.length||(a=n);return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function S(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],C=0,f=e.length,x;C<f;C++)(x=e[C])&&b(x,C,c);return a}function H(a){Xb(a,Qa);return a}function aa(a){var b,c;return function(d,e,C){d=a[C].update;var f=d.length;C!=c&&(c=C,b=0);for(e>=b&&(b=e+1);!(e=d[b])&&++b<f;);return e}}function wa(){var a=this.__transition__;a&&++a.active}function X(a,b,c){function d(){var b=this[f];b&&(this.removeEventListener(a,
b,b.$),delete this[f])}function e(){var C=L(b,Ya(arguments));d.call(this);this.addEventListener(a,this[f]=C,C.$=c);C._=b}function C(){var b=RegExp("^__on([^.]+)"+q.requote(a)+"$"),c,A;for(A in this)if(c=A.match(b)){var F=this[A];this.removeEventListener(c[1],F,F.$);delete this[A]}}var f="__on"+a,x=a.indexOf("."),L=W;0<x&&(a=a.substring(0,x));var g=$c.get(a);g&&(a=g,L=ea);return x?b?e:d:b?s:C}function W(a,b){return function(c){var d=q.event;q.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{q.event=
d}}}function ea(a,b){var c=W(a,b);return function(a){var t=a.relatedTarget;(!t||t!==this&&!(t.compareDocumentPosition(this)&8))&&c.call(this,a)}}function Pa(){var a=".dragsuppress-"+ ++sg,b="click"+a,c=q.select(ta).on("touchmove"+a,r).on("dragstart"+a,r).on("selectstart"+a,r);if(Hb){var d=Ra.style,e=d[Hb];d[Hb]="none"}return function(C){c.on(a,null);Hb&&(d[Hb]=e);if(C){var f=function(){c.on(b,null)};c.on(b,function(){r();f()},!0);setTimeout(f,0)}}}function ha(a,b){b.changedTouches&&(b=b.changedTouches[0]);
var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>bd&&(ta.scrollX||ta.scrollY)){var c=q.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=c[0][0].getScreenCTM();bd=!(e.f||e.e);c.remove()}bd?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.matrixTransform(a.getScreenCTM().inverse());return[d.x,d.y]}c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function ya(){return q.event.changedTouches[0].identifier}
function za(){return q.event.target}function Fa(){return ta}function Ea(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function ga(a){return 1<a?ma:-1>a?-ma:Math.asin(a)}function fb(a){return((a=Math.exp(a))+1/a)/2}function pa(a){return(a=Math.sin(a/2))*a}function ja(){}function va(a,b,c){return this instanceof va?void(this.h=+a,this.s=+b,this.l=+c):2>arguments.length?a instanceof va?new va(a.h,a.s,a.l):$d(""+a,ae,va):new va(a,b,c)}function gb(a,b,c){function d(a){360<a?a-=360:0>a&&
(a+=360);return 60>a?e+(C-e)*a/60:180>a?C:240>a?e+(C-e)*(240-a)/60:e}var e,C;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;C=0.5>=c?c*(1+b):c+b-c*b;e=2*c-C;return new ra(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function sa(a,b,c){return this instanceof sa?void(this.h=+a,this.c=+b,this.l=+c):2>arguments.length?a instanceof sa?new sa(a.h,a.c,a.l):a instanceof U?tb(a.l,a.a,a.b):tb((a=be((a=q.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new sa(a,b,c)}function hb(a,
b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return new U(c,Math.cos(a*=P)*b,Math.sin(a)*b)}function U(a,b,c){return this instanceof U?void(this.l=+a,this.a=+b,this.b=+c):2>arguments.length?a instanceof U?new U(a.l,a.a,a.b):a instanceof sa?hb(a.l,a.c,a.h):be((a=ra(a)).r,a.g,a.b):new U(a,b,c)}function Gb(a,b,c){a=(a+16)/116;c=a-c/200;b=Tc(a+b/500)*ge;a=Tc(a)*he;c=Tc(c)*ie;return new ra(Vc(3.2404542*b-1.5371385*a-0.4985314*c),Vc(-0.969266*b+1.8760108*a+0.041556*c),Vc(0.0556434*b-0.2040259*a+1.0572252*c))}function tb(a,
b,c){return 0<a?new sa(Math.atan2(c,b)*ca,Math.sqrt(b*b+c*c),a):new sa(NaN,NaN,a)}function Tc(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function Uc(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Vc(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function ra(a,b,c){return this instanceof ra?void(this.r=~~a,this.g=~~b,this.b=~~c):2>arguments.length?a instanceof ra?new ra(a.r,a.g,a.b):$d(""+a,ra,gb):new ra(a,b,c)}function Vb(a){return new ra(a>>16,a>>
8&255,a&255)+""}function sb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function $d(a,b,c){var d=0,e=0,C=0,f,x;if(f=/([a-z]+)\((.*)\)/i.exec(a))switch(x=f[2].split(","),f[1]){case "hsl":return c(parseFloat(x[0]),parseFloat(x[1])/100,parseFloat(x[2])/100);case "rgb":return b(Xc(x[0]),Xc(x[1]),Xc(x[2]))}if(c=Zb.get(a))return b(c.r,c.g,c.b);if(null!=a&&"#"===a.charAt(0)&&!isNaN(c=parseInt(a.substring(1),16)))4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=e>>4,C=c&15,C|=
C<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,C=c&255);return b(d,e,C)}function ae(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),C=e-d,f=(e+d)/2;C?(d=0.5>f?C/(e+d):C/(2-e-d),a=60*(a==e?(b-c)/C+(b<c?6:0):b==e?(c-a)/C+2:(a-b)/C+4)):(a=NaN,d=0<f&&1>f?0:a);return new va(a,d,f)}function be(a,b,c){a=Wc(a);b=Wc(b);c=Wc(c);var d=Uc((0.4124564*a+0.3575761*b+0.1804375*c)/ge),e=Uc((0.2126729*a+0.7151522*b+0.072175*c)/he);a=Uc((0.0193339*a+0.119192*b+0.9503041*c)/ie);return U(116*e-16,
500*(d-e),200*(e-a))}function Wc(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function Xc(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function ba(a){return"function"===typeof a?a:function(){return a}}function ka(a){return a}function cd(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return $b(b,c,a,d)}}function $b(a,b,c,d){function e(){var a=L.status,b;if(!a&&L.responseText||200<=a&&300>a||304===a){try{b=c.call(C,
L)}catch(t){f.error.call(C,t);return}f.load.call(C,b)}else f.error.call(C,L)}var C={},f=q.dispatch("beforesend","progress","load","error"),x={},L=new XMLHttpRequest,g=null;ta.XDomainRequest&&(!("withCredentials"in L)&&/^(http(s)?:)?\/\//.test(a))&&(L=new XDomainRequest);"onload"in L?L.onload=L.onerror=e:L.onreadystatechange=function(){3<L.readyState&&e()};L.onprogress=function(a){var b=q.event;q.event=a;try{f.progress.call(C,L)}finally{q.event=b}};C.header=function(a,b){a=(a+"").toLowerCase();if(2>
arguments.length)return x[a];null==b?delete x[a]:x[a]=b+"";return C};C.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return C};C.responseType=function(a){if(!arguments.length)return g;g=a;return C};C.response=function(a){c=a;return C};["get","post"].forEach(function(a){C[a]=function(){return C.send.apply(C,[a].concat(Ya(arguments)))}});C.send=function(c,F,d){2===arguments.length&&"function"===typeof F&&(d=F,F=null);L.open(c,a,!0);null!=b&&!("accept"in x)&&(x.accept=b+",*/*");
if(L.setRequestHeader)for(var e in x)L.setRequestHeader(e,x[e]);null!=b&&L.overrideMimeType&&L.overrideMimeType(b);null!=g&&(L.responseType=g);if(null!=d)C.on("error",d).on("load",function(a){d(null,a)});f.beforesend.call(C,L);L.send(null==F?null:F);return C};C.abort=function(){L.abort();return C};q.rebind(C,f,"on");return null==d?C:C.get(tg(d))}function tg(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function dd(){var a=je(),a=ke()-a;24<a?(isFinite(a)&&(clearTimeout(ac),ac=setTimeout(dd,
a)),bc=0):(bc=1,le(dd))}function je(){var a=Date.now();for(Sa=cc;Sa;)a>=Sa.t&&(Sa.f=Sa.c(a-Sa.t)),Sa=Sa.n;return a}function ke(){for(var a,b=cc,c=Infinity;b;)b.f?b=a?a.n=b.n:cc=b.n:(b.t<c&&(c=b.t),b=(a=b).n);dc=a;return c}function ed(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function ug(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d?function(a){for(var b=a.length,t=[],A=0,e=d[0];0<b&&0<e;)t.push(a.substring(b-=e,b+e)),e=d[A=(A+1)%d.length];return t.reverse().join(c)}:ka;
return function(a){a=me.exec(a);var t=a[1]||" ",c=a[2]||"\x3e",F=a[3]||"",d=a[4]||"",I=a[5],g=+a[6],h=a[7],l=a[8],k=a[9],m=1,n="",p="",r=!1;l&&(l=+l.substring(1));if(I||"0"===t&&"\x3d"===c)I=t="0",c="\x3d",h&&(g-=Math.floor((g-1)/4));switch(k){case "n":h=!0;k="g";break;case "%":m=100;p="%";k="f";break;case "p":m=100;p="%";k="r";break;case "b":case "o":case "x":case "X":"#"===d&&(n="0"+k.toLowerCase());case "c":case "d":r=!0;l=0;break;case "s":m=-1,k="r"}"$"===d&&(n=e[0],p=e[1]);"r"==k&&!l&&(k="g");
if(null!=l)if("g"==k)l=Math.max(1,Math.min(21,l));else if("e"==k||"f"==k)l=Math.max(0,Math.min(20,l));var k=vg.get(k)||wg,s=I&&h;return function(a){var d=p;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):F;0>m?(d=q.formatPrefix(a,l),a=d.scale(a),d=d.symbol+p):a*=m;a=k(a,l);var M=a.lastIndexOf("."),na=0>M?a:a.substring(0,M);a=0>M?"":b+a.substring(M+1);!I&&h&&(na=f(na));var M=n.length+na.length+a.length+(s?0:e.length),qa=M<g?Array(M=g-M+1).join(t):"";s&&(na=f(qa+na));e+=n;a=na+a;return("\x3c"===
c?e+a+qa:"\x3e"===c?qa+e+a:"^"===c?qa.substring(0,M>>=1)+e+a+qa.substring(M):e+(s?a:qa+a))+d}}}function wg(a){return a+""}function Ta(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function jb(a,b,c){function d(b){var c=a(b),A=f(c,1);return b-c<A-b?c:A}function e(c){b(c=a(new oa(c-1)),1);return c}function f(a,t){b(a=new oa(+a),t);return a}function g(a,t,d){a=e(a);var I=[];if(1<d)for(;a<t;)c(a)%d||I.push(new Date(+a)),b(a,1);else for(;a<t;)I.push(new Date(+a)),b(a,
1);return I}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var x=a.utc=fc(a);x.floor=x;x.round=fc(d);x.ceil=fc(e);x.offset=fc(f);x.range=function(a,b,t){try{oa=Ta;var c=new Ta;c._=a;return g(c,b,t)}finally{oa=Date}};return a}function fc(a){return function(b,c){try{oa=Ta;var d=new Ta;d._=b;return a(d,c)._}finally{oa=Date}}}function xg(a){function b(a){function t(b){for(var c=[],F=-1,d=0,e,I;++F<A;)if(37===a.charCodeAt(F)){c.push(a.substring(d,F));if(null!=(e=ne[d=a.charAt(++F)]))d=a.charAt(++F);
if(I=v[d])d=I(b,null==e?"e"===d?" ":"0":e);c.push(d);d=F+1}c.push(a.substring(d,F));return c.join("")}var A=a.length;t.parse=function(b){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(t,a,b,0)!=b.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);b=null!=t.Z&&oa!==Ta;var A=new (b?Ta:oa);"j"in t?A.setFullYear(t.y,0,t.j):"w"in t&&("W"in t||"U"in t)?(A.setFullYear(t.y,0,1),A.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(A.getDay()+5)%7:t.w+7*t.U-(A.getDay()+6)%7)):A.setFullYear(t.y,t.m,t.d);A.setHours(t.H+
Math.floor(t.Z/100),t.M+t.Z%100,t.S,t.L);return b?A._:A};t.toString=function(){return a};return t}function c(a,b,t,A){for(var F,d=0,e=b.length,I=t.length;d<e;){if(A>=I)return-1;F=b.charCodeAt(d++);if(37===F){if(F=b.charAt(d++),F=w[F in ne?b.charAt(d++):F],!F||0>(A=F(a,t,A)))return-1}else if(F!=t.charCodeAt(A++))return-1}return A}var d=a.dateTime,e=a.date,f=a.time,g=a.periods,x=a.days,L=a.shortDays,ad=a.months,h=a.shortMonths;b.utc=function(a){function t(a){try{oa=Ta;var b=new oa;b._=a;return c(b)}finally{oa=
Date}}var c=b(a);t.parse=function(a){try{oa=Ta;var b=c.parse(a);return b&&b._}finally{oa=Date}};t.toString=c.toString;return t};b.multi=b.utc.multi=yg;var l=q.map(),k=gc(x),m=hc(x),n=gc(L),p=hc(L),r=gc(ad),s=hc(ad),u=gc(h),$=hc(h);g.forEach(function(a,b){l.set(a.toLowerCase(),b)});var v={a:function(a){return L[a.getDay()]},A:function(a){return x[a.getDay()]},b:function(a){return h[a.getMonth()]},B:function(a){return ad[a.getMonth()]},c:b(d),d:function(a,b){return ua(a.getDate(),b,2)},e:function(a,
b){return ua(a.getDate(),b,2)},H:function(a,b){return ua(a.getHours(),b,2)},I:function(a,b){return ua(a.getHours()%12||12,b,2)},j:function(a,b){return ua(1+K.dayOfYear(a),b,3)},L:function(a,b){return ua(a.getMilliseconds(),b,3)},m:function(a,b){return ua(a.getMonth()+1,b,2)},M:function(a,b){return ua(a.getMinutes(),b,2)},p:function(a){return g[+(12<=a.getHours())]},S:function(a,b){return ua(a.getSeconds(),b,2)},U:function(a,b){return ua(K.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,
b){return ua(K.mondayOfYear(a),b,2)},x:b(e),X:b(f),y:function(a,b){return ua(a.getFullYear()%100,b,2)},Y:function(a,b){return ua(a.getFullYear()%1E4,b,4)},Z:zg,"%":function(){return"%"}},w={a:function(a,b,t){n.lastIndex=0;return(b=n.exec(b.substring(t)))?(a.w=p.get(b[0].toLowerCase()),t+b[0].length):-1},A:function(a,b,t){k.lastIndex=0;return(b=k.exec(b.substring(t)))?(a.w=m.get(b[0].toLowerCase()),t+b[0].length):-1},b:function(a,b,t){u.lastIndex=0;return(b=u.exec(b.substring(t)))?(a.m=$.get(b[0].toLowerCase()),
t+b[0].length):-1},B:function(a,b,t){r.lastIndex=0;return(b=r.exec(b.substring(t)))?(a.m=s.get(b[0].toLowerCase()),t+b[0].length):-1},c:function(a,b,t){return c(a,v.c.toString(),b,t)},d:oe,e:oe,H:pe,I:pe,j:Ag,L:Bg,m:Cg,M:Dg,p:function(a,b,t){b=l.get(b.substring(t,t+=2).toLowerCase());return null==b?-1:(a.p=b,t)},S:Eg,U:Fg,w:Gg,W:Hg,x:function(a,b,t){return c(a,v.x.toString(),b,t)},X:function(a,b,t){return c(a,v.X.toString(),b,t)},y:Ig,Y:Jg,Z:Kg,"%":Lg};return b}function ua(a,b,c){var d=0>a?"-":"";
a=(d?-a:a)+"";var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function gc(a){return RegExp("^(?:"+a.map(q.requote).join("|")+")","i")}function hc(b){for(var c=new a,F=-1,d=b.length;++F<d;)c.set(b[F].toLowerCase(),F);return c}function Gg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Fg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c)))?(a.U=+b[0],c+b[0].length):-1}function Hg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c)))?(a.W=
+b[0],c+b[0].length):-1}function Jg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function Ig(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Kg(a,b,c){return/^[+-]\d{4}$/.test(b=b.substring(c,c+5))?(a.Z=-b,c+5):-1}function Cg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function oe(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+2)))?
(a.d=+b[0],c+b[0].length):-1}function Ag(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function pe(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Dg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Eg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Bg(a,b,c){da.lastIndex=0;return(b=da.exec(b.substring(c,c+3)))?
(a.L=+b[0],c+b[0].length):-1}function zg(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=~~(Q(b)/60),b=Q(b)%60;return a+ua(c,"0",2)+ua(b,"0",2)}function Lg(a,b,c){qe.lastIndex=0;return(a=qe.exec(b.substring(c,c+1)))?c+a[0].length:-1}function yg(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,A=a[c];!A[1](b);)A=a[++c];return A[0](b)}}function hd(){}function re(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function ic(a,b){if(a&&se.hasOwnProperty(a.type))se[a.type](a,
b)}function id(a,b,c){var d=-1;c=a.length-c;var e;for(b.lineStart();++d<c;)e=a[d],b.point(e[0],e[1],e[2]);b.lineEnd()}function te(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)id(a[c],b,1);b.polygonEnd()}function Mg(){function a(b,t){b*=P;t=t*P/2+O/4;var c=b-d,A=0<=c?1:-1,F=A*c,c=Math.cos(t),g=Math.sin(t),h=f*g,l=e*c+h*Math.cos(F),A=h*A*Math.sin(F);kb.add(Math.atan2(A,l));d=b;e=c;f=g}var b,c,d,e,f;Aa.point=function(g,x){Aa.point=a;d=(b=g)*P;e=Math.cos(x=(c=x)*P/2+O/4);f=Math.sin(x)};Aa.lineEnd=
function(){a(b,c)}}function lb(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function jc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function vb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function jd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function kc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function lc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function mc(a){return[Math.atan2(a[1],a[0]),ga(a[2])]}function nc(a,
b){return Q(a[0]-b[0])<G&&Q(a[1]-b[1])<G}function kd(a,b){a*=P;var c=Math.cos(b*=P);Ib(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Ib(a,b,c){++Jb;Ua+=(a-Ua)/Jb;Va+=(b-Va)/Jb;Ma+=(c-Ma)/Jb}function ue(){function a(t,e){t*=P;var f=Math.cos(e*=P),x=f*Math.cos(t),f=f*Math.sin(t),g=Math.sin(e),h=Math.atan2(Math.sqrt((h=c*g-d*f)*h+(h=d*x-b*g)*h+(h=b*f-c*x)*h),b*x+c*f+d*g);wb+=h;Ga+=h*(b+(b=x));Ha+=h*(c+(c=f));xa+=h*(d+(d=g));Ib(b,c,d)}var b,c,d;Ja.point=function(e,f){e*=P;var g=Math.cos(f*=P);b=g*
Math.cos(e);c=g*Math.sin(e);d=Math.sin(f);Ja.point=a;Ib(b,c,d)}}function ve(){Ja.point=kd}function Ng(){function a(b,c){b*=P;var t=Math.cos(c*=P),A=t*Math.cos(b),t=t*Math.sin(b),F=Math.sin(c),g=e*F-f*t,h=f*A-d*F,l=d*t-e*A,k=Math.sqrt(g*g+h*h+l*l),m=d*A+e*t+f*F,n=k&&-(1<m?0:-1>m?O:Math.acos(m))/k,k=Math.atan2(k,m);$a+=n*g;ab+=n*h;Na+=n*l;wb+=k;Ga+=k*(d+(d=A));Ha+=k*(e+(e=t));xa+=k*(f+(f=F));Ib(d,e,f)}var b,c,d,e,f;Ja.point=function(g,x){b=g;c=x;Ja.point=a;g*=P;var L=Math.cos(x*=P);d=L*Math.cos(g);
e=L*Math.sin(g);f=Math.sin(x);Ib(d,e,f)};Ja.lineEnd=function(){a(b,c);Ja.lineEnd=ve;Ja.point=kd}}function xb(){return!0}function we(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],t=a[b];if(nc(c,t)){e.lineStart();for(t=0;t<b;++t)e.point((c=a[t])[0],c[1]);e.lineEnd()}else b=new oc(c,a,null,!0),c=new oc(c,null,b,!1),b.o=c,f.push(b),g.push(c),b=new oc(t,a,null,!1),c=new oc(t,null,b,!0),b.o=c,f.push(b),g.push(c)}});g.sort(b);xe(f);xe(g);if(f.length){a=0;b=c;for(c=
g.length;a<c;++a)g[a].e=b=!b;b=f[0];for(var x,L;;){for(var h=b,l=!0;h.v;)if((h=h.n)===b)return;x=h.z;e.lineStart();do{h.v=h.o.v=!0;if(h.e){if(l){a=0;for(c=x.length;a<c;++a)e.point((L=x[a])[0],L[1])}else d(h.x,h.n.x,1,e);h=h.n}else{if(l){x=h.p.z;for(a=x.length-1;0<=a;--a)e.point((L=x[a])[0],L[1])}else d(h.x,h.p.x,-1,e);h=h.p}h=h.o;x=h.z;l=!l}while(!h.v);e.lineEnd()}}}function xe(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function oc(a,b,c,d){this.x=a;this.z=
b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function ye(a,b,c,d){return function(e,f){function g(b,c){var A=e(b,c);a(b=A[0],c=A[1])&&f.point(b,c)}function x(a,b){var c=e(a,b);n.point(c[0],c[1])}function L(){r.point=x;n.lineStart()}function h(){r.point=g;n.lineEnd()}function l(a,b){w.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function k(){u.lineStart();w=[]}function m(){l(w[0][0],w[0][1]);u.lineEnd();var a=u.clean(),b=ub.buffer(),c=b.length;w.pop();v.push(w);w=null;if(c)if(a&1){var a=b[0],c=
a.length-1,b=-1,t;if(0<c){$||(f.polygonStart(),$=!0);for(f.lineStart();++b<c;)f.point((t=a[b])[0],t[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),s.push(b.filter(Og))}var n=b(f),p=e.invert(d[0],d[1]),r={point:g,lineStart:L,lineEnd:h,polygonStart:function(){r.point=l;r.lineStart=k;r.lineEnd=m;s=[];v=[]},polygonEnd:function(){r.point=g;r.lineStart=L;r.lineEnd=h;s=q.merge(s);var a,b=p;a=v;var t=b[0],A=b[1],d=[Math.sin(t),-Math.cos(t),0],e=0,I=0;kb.reset();for(var M=0,x=a.length;M<
x;++M){var l=a[M],k=l.length;if(k)for(var m=l[0],n=m[0],b=m[1]/2+O/4,qa=Math.sin(b),ee=Math.cos(b),Yb=1;;){Yb===k&&(Yb=0);var b=l[Yb],ub=b[0],u=b[1]/2+O/4,fe=Math.sin(u),u=Math.cos(u),w=ub-n,z=0<=w?1:-1,B=z*w,ec=B>O,qa=qa*fe;kb.add(Math.atan2(qa*z*Math.sin(B),ee*u+qa*Math.cos(B)));e+=ec?w+z*Ba:w;if(ec^n>=t^ub>=t&&(m=vb(lb(m),lb(b)),lc(m),n=vb(d,m),lc(n),n=(ec^0<=w?-1:1)*ga(n[2]),A>n||A===n&&(m[0]||m[1])))I+=ec^0<=w?1:-1;if(!Yb++)break;n=ub;qa=fe;ee=u;m=b}}a=(e<-G||e<G&&0>kb)^I&1;s.length?($||(f.polygonStart(),
$=!0),we(s,Pg,a,c,f)):a&&($||(f.polygonStart(),$=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());$&&(f.polygonEnd(),$=!1);s=v=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},s,ub=ze(),u=b(ub),$=!1,v,w;return r}}function Og(a){return 1<a.length}function ze(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:s,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}
function Pg(a,b){return(0>(a=a.x)[0]?a[1]-ma-G:ma-a[1])-(0>(b=b.x)[0]?b[1]-ma-G:ma-b[1])}function Qg(a){function b(a,c){return Math.cos(a)*Math.cos(c)>e}function c(a,b,t){var A=lb(a),d=lb(b),F=[1,0,0],d=vb(A,d),f=jc(d,d),A=d[0],I=f-A*A;if(!I)return!t&&a;f=e*f/I;I=-e*A/I;A=vb(F,d);F=kc(F,f);d=kc(d,I);jd(F,d);d=jc(F,A);f=jc(A,A);I=d*d-f*(jc(F,F)-1);if(!(0>I)){var C=Math.sqrt(I),I=kc(A,(-d-C)/f);jd(I,F);I=mc(I);if(!t)return I;t=a[0];var x=b[0];a=a[1];b=b[1];var g;x<t&&(g=t,t=x,x=g);var na=x-t,h=Q(na-
O)<G,l=h||na<G;!h&&b<a&&(g=a,a=b,b=g);if(l?h?0<a+b^I[1]<(Q(I[0]-t)<G?a:b):a<=I[1]&&I[1]<=b:na>O^(t<=I[0]&&I[0]<=x))return b=kc(A,(-d+C)/f),jd(b,F),[I,mc(b)]}}function d(b,c){var A=f?a:O-a,F=0;b<-A?F|=1:b>A&&(F|=2);c<-A?F|=4:c>A&&(F|=8);return F}var e=Math.cos(a),f=0<e,g=Q(e)>G,x=ld(a,6*P);return ye(b,function(a){var t,e,M,x,h;return{lineStart:function(){x=M=!1;h=1},point:function(l,k){var m=[l,k],n,p=b(l,k),q=f?p?0:d(l,k):p?d(l+(0>l?O:-O),k):0;!t&&(x=M=p)&&a.lineStart();if(p!==M&&(n=c(t,m),nc(t,n)||
nc(m,n)))m[0]+=G,m[1]+=G,p=b(m[0],m[1]);if(p!==M)h=0,p?(a.lineStart(),n=c(m,t),a.point(n[0],n[1])):(n=c(t,m),a.point(n[0],n[1]),a.lineEnd()),t=n;else if(g&&t&&f^p){var r;if(!(q&e)&&(r=c(m,t,!0)))h=0,f?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1]))}p&&(!t||!nc(t,m))&&a.point(m[0],m[1]);t=m;M=p;e=q},lineEnd:function(){M&&a.lineEnd();t=null},clean:function(){return h|(x&&M)<<1}}},x,f?[0,-a]:[-O,
a-O])}function Ae(a,b,c,d){return function(e){var f=e.a,g=e.b,x=f.x,f=f.y,L=0,h=1,l=g.x-x,g=g.y-f,k;k=a-x;if(l||!(0<k)){k/=l;if(0>l){if(k<L)return;k<h&&(h=k)}else if(0<l){if(k>h)return;k>L&&(L=k)}k=c-x;if(l||!(0>k)){k/=l;if(0>l){if(k>h)return;k>L&&(L=k)}else if(0<l){if(k<L)return;k<h&&(h=k)}k=b-f;if(g||!(0<k)){k/=g;if(0>g){if(k<L)return;k<h&&(h=k)}else if(0<g){if(k>h)return;k>L&&(L=k)}k=d-f;if(g||!(0>k)){k/=g;if(0>g){if(k>h)return;k>L&&(L=k)}else if(0<g){if(k<L)return;k<h&&(h=k)}0<L&&(e.a={x:x+L*
l,y:f+L*g});1>h&&(e.b={x:x+h*l,y:f+h*g});return e}}}}}}function Be(a,b,c,d){function e(d,f){return Q(d[0]-a)<G?0<f?0:3:Q(d[0]-c)<G?0<f?2:1:Q(d[1]-b)<G?0<f?1:0:0<f?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),t=e(b,1);return c!==t?c-t:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(x){function h(f,C,x,L){var k=0,l=0;if(null==f||(k=e(f,x))!==(l=e(C,x))||0>g(f,C)^0<x){do L.point(0===k||3===k?a:c,1<k?d:b);while((k=(k+x+4)%4)!==l)}else L.point(C[0],C[1])}
function k(e,f){a<=e&&(e<=c&&b<=f&&f<=d)&&x.point(e,f)}function l(e,f){e=Math.max(-pc,Math.min(pc,e));f=Math.max(-pc,Math.min(pc,f));var C=a<=e&&e<=c&&b<=f&&f<=d;s&&u.push([e,f]);if(gd)w=e,$=f,z=C,gd=!1,C&&(x.lineStart(),x.point(e,f));else if(C&&y)x.point(e,f);else{var M={a:{x:B,y:D},b:{x:e,y:f}};p(M)?(y||(x.lineStart(),x.point(M.a.x,M.a.y)),x.point(M.b.x,M.b.y),C||x.lineEnd(),Za=!1):C&&(x.lineStart(),x.point(e,f),Za=!1)}B=e;D=f;y=C}var m=x,n=ze(),p=Ae(a,b,c,d),r,s,u,v={point:k,lineStart:function(){v.point=
l;s&&s.push(u=[]);gd=!0;y=!1;B=D=NaN},lineEnd:function(){r&&(l(w,$),z&&y&&n.rejoin(),r.push(n.buffer()));v.point=k;y&&x.lineEnd()},polygonStart:function(){x=n;r=[];s=[];Za=!0},polygonEnd:function(){x=m;r=q.merge(r);var b;b=[a,d];for(var c=0,A=s.length,e=b[1],F=0;F<A;++F)for(var M=1,g=s[F],na=g.length,k=g[0],l;M<na;++M)l=g[M],k[1]<=e?l[1]>e&&0<Ea(k,l,b)&&++c:l[1]<=e&&0>Ea(k,l,b)&&--c,k=l;b=0!==c;c=Za&&b;A=r.length;if(c||A)x.polygonStart(),c&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),A&&we(r,f,b,
h,x),x.polygonEnd();r=s=u=null}},w,$,z,B,D,y,gd,Za;return v}}function Ce(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function md(a){var b=0,c=O/3,d=nd(a);a=d(b,c);a.parallels=function(a){return!arguments.length?[180*(b/O),180*(c/O)]:d(b=a[0]*O/180,c=a[1]*O/180)};return a}function De(a,b){function c(a,b){var t=Math.sqrt(f-2*e*Math.sin(b))/e;return[t*Math.sin(a*=e),g-t*Math.cos(a)]}var d=Math.sin(a),
e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ga((f-(a*a+c*c)*e*e)/(2*e))]};return c}function Rg(){function a(b,c){qc+=e*b-d*c;d=b;e=c}var b,c,d,e;bb.point=function(f,g){bb.point=a;b=d=f;c=e=g};bb.lineEnd=function(){a(b,c)}}function Sg(){function a(b,c){g.push("M",b,",",c,f)}function b(a,t){g.push("M",a,",",t);x.point=c}function c(a,b){g.push("L",a,",",b)}function d(){x.point=a}function e(){g.push("Z")}var f=Ee(4.5),g=[],x={point:a,lineStart:function(){x.point=
b},lineEnd:d,polygonStart:function(){x.lineEnd=e},polygonEnd:function(){x.lineEnd=d;x.point=a},pointRadius:function(a){f=Ee(a);return x},result:function(){if(g.length){var a=g.join("");g=[];return a}}};return x}function Ee(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function mb(a,b){Ua+=a;Va+=b;++Ma}function Fe(){function a(t,d){var e=t-b,f=d-c,e=Math.sqrt(e*e+f*f);Ga+=e*(b+t)/2;Ha+=e*(c+d)/2;xa+=e;mb(b=t,c=d)}var b,c;Ka.point=function(d,e){Ka.point=a;mb(b=d,c=e)}}
function Ge(){Ka.point=mb}function Tg(){function a(b,c){var t=b-d,A=c-e,t=Math.sqrt(t*t+A*A);Ga+=t*(d+b)/2;Ha+=t*(e+c)/2;xa+=t;t=e*b-d*c;$a+=t*(d+b);ab+=t*(e+c);Na+=3*t;mb(d=b,e=c)}var b,c,d,e;Ka.point=function(f,g){Ka.point=a;mb(b=d=f,c=e=g)};Ka.lineEnd=function(){a(b,c)}}function Ug(a){function b(c,A){a.moveTo(c,A);a.arc(c,A,g,0,Ba)}function c(b,A){a.moveTo(b,A);x.point=d}function d(b,c){a.lineTo(b,c)}function e(){x.point=b}function f(){a.closePath()}var g=4.5,x={point:b,lineStart:function(){x.point=
c},lineEnd:e,polygonStart:function(){x.lineEnd=f},polygonEnd:function(){x.lineEnd=e;x.point=b},pointRadius:function(a){g=a;return x},result:s};return x}function He(a){function b(a){return(x?d:c)(a)}function c(b){return Ie(b,function(c,A){c=a(c,A);b.point(c[0],c[1])})}function d(b){function c(A,d){A=a(A,d);b.point(A[0],A[1])}function A(){q=NaN;w.point=F;b.lineStart()}function F(c,A){var d=lb([c,A]),f=a(c,A);e(q,r,p,s,u,v,q=f[0],r=f[1],p=c,s=d[0],u=d[1],v=d[2],x,b);b.point(q,r)}function f(){w.point=
c;b.lineEnd()}function I(){A();w.point=C;w.lineEnd=g}function C(a,b){F(h=a,b);na=q;k=r;l=s;m=u;n=v;w.point=F}function g(){e(q,r,p,s,u,v,na,k,h,l,m,n,x,b);w.lineEnd=f;f()}var h,na,k,l,m,n,p,q,r,s,u,v,w={point:c,lineStart:A,lineEnd:f,polygonStart:function(){b.polygonStart();w.lineStart=I},polygonEnd:function(){b.polygonEnd();w.lineStart=A}};return w}function e(b,c,A,d,F,I,x,h,k,l,m,n,p,q){var r=x-b,s=h-c,u=r*r+s*s;if(u>4*f&&p--){var v=d+l,w=F+m,B=I+n,z=Math.sqrt(v*v+w*w+B*B),D=Math.asin(B/=z),y=Q(Q(B)-
1)<G||Q(A-k)<G?(A+k)/2:Math.atan2(w,v),E=a(y,D),D=E[0],E=E[1],N=D-b,R=E-c,J=s*N-r*R;if(J*J/u>f||0.3<Q((r*N+s*R)/u-0.5)||d*l+F*m+I*n<g)e(b,c,A,d,F,I,D,E,y,v/=z,w/=z,B,p,q),q.point(D,E),e(D,E,y,v,w,B,x,h,k,l,m,n,p,q)}}var f=0.5,g=Math.cos(30*P),x=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);x=0<(f=a*a)&&16;return b};return b}function Vg(a){var b=He(function(b,c){return a([b*ca,c*ca])});return function(a){return Je(b(a))}}function Ke(a){this.stream=a}function Ie(a,b){return{point:b,
sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function cb(a){return nd(function(){return a})()}function nd(a){function b(a){a=x(a[0]*P,a[1]*P);return[a[0]*k+v,w-a[1]*k]}function c(a){return(a=x.invert((a[0]-v)/k,(w-a[1])/k))&&[a[0]*ca,a[1]*ca]}function d(){x=Ce(g=od(r,s,u),f);var a=f(n,p);v=l-a[0]*k;w=m+a[1]*k;return e()}function e(){y&&(y.valid=!1,y=null);return b}
var f,g,x,h=He(function(a,b){a=f(a,b);return[a[0]*k+v,w-a[1]*k]}),k=150,l=480,m=250,n=0,p=0,r=0,s=0,u=0,v,w,$=Le,B=ka,z=null,D=null,y;b.stream=function(a){y&&(y.valid=!1);y=Je($(g,h(B(a))));y.valid=!0;return y};b.clipAngle=function(a){if(!arguments.length)return z;$=null==a?(z=a,Le):Qg((z=+a)*P);return e()};b.clipExtent=function(a){if(!arguments.length)return D;B=(D=a)?Be(a[0][0],a[0][1],a[1][0],a[1][1]):ka;return e()};b.scale=function(a){if(!arguments.length)return k;k=+a;return d()};b.translate=
function(a){if(!arguments.length)return[l,m];l=+a[0];m=+a[1];return d()};b.center=function(a){if(!arguments.length)return[n*ca,p*ca];n=a[0]%360*P;p=a[1]%360*P;return d()};b.rotate=function(a){if(!arguments.length)return[r*ca,s*ca,u*ca];r=a[0]%360*P;s=a[1]%360*P;u=2<a.length?a[2]%360*P:0;return d()};q.rebind(b,h,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function Je(a){return Ie(a,function(b,c){a.point(b*P,c*P)})}function Kb(a,b){return[a,b]}function Me(a,
b){return[a>O?a-Ba:a<-O?a+Ba:a,b]}function od(a,b,c){return a?b||c?Ce(Ne(a),Oe(b,c)):Ne(a):b||c?Oe(b,c):Me}function Pe(a){return function(b,c){return b+=a,[b>O?b-Ba:b<-O?b+Ba:b,c]}}function Ne(a){var b=Pe(a);b.invert=Pe(-a);return b}function Oe(a,b){function c(a,b){var t=Math.cos(b),A=Math.cos(a)*t,t=Math.sin(a)*t,F=Math.sin(b),h=F*d+A*e;return[Math.atan2(t*f-h*g,A*d-F*e),ga(h*f+t*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);c.invert=function(a,b){var c=Math.cos(b),t=Math.cos(a)*
c,c=Math.sin(a)*c,A=Math.sin(b),F=A*f-c*g;return[Math.atan2(c*f+A*g,t*d+F*e),ga(F*d-t*e)]};return c}function ld(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,x){var h=g*b;if(null!=e){if(e=Qe(c,e),f=Qe(c,f),0<g?e<f:e>f)e+=g*Ba}else e=a+g*Ba,f=a-0.5*h;for(var k;0<g?e>f:e<f;e-=h)x.point((k=mc([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],k[1])}}function Qe(a,b){var c=lb(b);c[0]-=a;lc(c);var d=1<-c[1]?0:-1>-c[1]?O:Math.acos(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-G)%(2*Math.PI)}function Re(a,b,c){var d=
q.range(a,b-G,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function Se(a,b,c){var d=q.range(a,b-G,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function pd(a){return a.source}function qd(a){return a.target}function Wg(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),x=Math.sin(d),h=e*Math.cos(a),k=e*Math.sin(a),l=g*Math.cos(c),m=g*Math.sin(c),n=2*Math.asin(Math.sqrt(pa(d-b)+e*g*pa(c-a))),p=1/Math.sin(n);c=n?function(a){var b=Math.sin(a*=n)*
p,c=Math.sin(n-a)*p;a=c*h+b*l;var t=c*k+b*m,b=c*f+b*x;return[Math.atan2(t,a)*ca,Math.atan2(b,Math.sqrt(a*a+t*t))*ca]}:function(){return[a*ca,b*ca]};c.distance=n;return c}function Lb(a,b){function c(b,d){var A=Math.cos(b),e=Math.cos(d),A=a(A*e);return[A*e*Math.sin(b),A*Math.sin(d)]}c.invert=function(a,c){var t=Math.sqrt(a*a+c*c),d=b(t),e=Math.sin(d),d=Math.cos(d);return[Math.atan2(a*e,t*d),Math.asin(t&&c*e/t)]};return c}function Te(a,b){function c(a,b){0<f?b<-ma+G&&(b=-ma+G):b>ma-G&&(b=ma-G);var t=
f/Math.pow(Math.tan(O/4+b/2),e);return[t*Math.sin(e*a),f-t*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(O/4+b/2)/Math.tan(O/4+a/2)),f=d*Math.pow(Math.tan(O/4+a/2),e)/e;if(!e)return rc;c.invert=function(a,b){var c=f-b,t=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/t,1/e))-ma]};return c}function Ue(a,b){function c(a,b){var t=f-b;return[t*Math.sin(e*a),f-t*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-
Math.cos(b))/(b-a),f=d/e+a;if(Q(e)<G)return Kb;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function rc(a,b){return[a,Math.log(Math.tan(O/4+b/2))]}function Ve(a){var b=cb(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var t=e.apply(b,arguments);
if(t===b){if(f=null==a){var g=O*c(),h=d();e([[h[0]-g,h[1]-g],[h[0]+g,h[1]+g]])}}else f&&(t=null);return t};return b.clipExtent(null)}function rd(a,b){return[Math.log(Math.tan(O/4+b/2)),-a]}function yb(a){return a[0]}function Mb(a){return a[1]}function We(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=Ea(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Xg(a,b){return a[0]-b[0]||a[1]-b[1]}function sd(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Xe(a,
b,c,d){var e=a[0],f=c[0],g=b[0]-e,x=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(x*(a-c)-d*(e-f))/(d*g-x*b);return[e+f*g,a+f*b]}function Ye(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function Yg(){sc(this);this.edge=this.site=this.circle=null}function Ze(a){var b=$e.pop()||new Yg;b.site=a;return b}function td(a){zb(a);Ab.remove(a);$e.push(a);sc(a)}function af(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;var c=g.site,g=c.x,c=c.y,x=c-b;if(!x)return g;
var h=g-d,k=1/f-1/x,l=h/x;return k?(-l+Math.sqrt(l*l-2*k*(h*h/(-2*x)-c+x/2+e-f/2)))/k+d:(d+g)/2}function bf(a){this.site=a;this.edges=[]}function cf(a,b){return b.angle-a.angle}function Zg(){sc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Bb(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,g=d.x-c,x=d.y-f,d=e.x-c,e=e.y-f,h=2*(g*e-x*d);if(!(h>=-ud)){var k=g*g+x*x,l=d*d+e*e,x=(e*k-x*l)/h,g=(g*l-d*k)/h,e=g+f,f=df.pop()||new Zg;f.arc=a;f.site=b;f.x=
x+c;f.y=e+Math.sqrt(x*x+g*g);f.cy=e;a.circle=f;a=null;for(b=Nb._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}Nb.insert(a,f);a||(vd=f)}}}}function zb(a){var b=a.circle;b&&(b.P||(vd=b.N),Nb.remove(b),df.push(b),sc(b),a.circle=null)}function $g(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],g=b[1][1],x=a.l,h=a.r,k=x.x,x=x.y,l=h.x,h=h.y,m=(k+l)/2,n;if(h===x){if(m<c||m>=e)return;if(k>l){if(d){if(d.y>=g)return}else d={x:m,y:f};
c={x:m,y:g}}else{if(d){if(d.y<f)return}else d={x:m,y:g};c={x:m,y:f}}}else if(n=(k-l)/(h-x),m=(x+h)/2-n*m,-1>n||1<n)if(k>l){if(d){if(d.y>=g)return}else d={x:(f-m)/n,y:f};c={x:(g-m)/n,y:g}}else{if(d){if(d.y<f)return}else d={x:(g-m)/n,y:g};c={x:(f-m)/n,y:f}}else if(x<h){if(d){if(d.x>=e)return}else d={x:c,y:n*c+m};c={x:e,y:n*e+m}}else{if(d){if(d.x<c)return}else d={x:e,y:n*e+m};c={x:c,y:n*c+m}}a.a=d;a.b=c;return!0}function ef(a,b){this.l=a;this.r=b;this.a=this.b=null}function Ob(a,b,c,d){var e=new ef(a,
b);Cb.push(e);c&&tc(e,a,b,c);d&&tc(e,b,a,d);nb[a.i].edges.push(new uc(e,a,b));nb[b.i].edges.push(new uc(e,b,a));return e}function ah(a,b,c){a=new ef(a,null);a.a=b;a.b=c;Cb.push(a);return a}function tc(a,b,c,d){!a.a&&!a.b?(a.a=d,a.l=b,a.r=c):a.l===c?a.b=d:a.a=d}function uc(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function wd(){this._=null}function sc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Pb(a,
b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Qb(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function ff(a){for(;a.L;)a=a.L;return a}function xd(a,b){var c=a.sort(bh).pop(),d,e,f;Cb=[];nb=Array(a.length);Ab=new wd;for(Nb=new wd;;)if(f=vd,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){nb[c.i]=new bf(c);d=c;for(var g=d.x,x=d.y,h=f=e=void 0,k=void 0,l=Ab._;l;)if(h=af(l,x)-g,h>G)l=l.L;else{var k=
g,m;var n=l;m=x;var p=n.N;p?m=af(p,m):(n=n.site,m=n.y===m?n.x:Infinity);k-=m;if(k>G){if(!l.R){e=l;break}l=l.R}else{h>-G?(e=l.P,f=l):k>-G?(e=l,f=l.N):e=f=l;break}}g=Ze(d);Ab.insert(e,g);if(e||f)if(e===f)zb(e),f=Ze(e.site),Ab.insert(g,f),g.edge=f.edge=Ob(e.site,g.site),Bb(e),Bb(f);else if(f){zb(e);zb(f);x=e.site;l=x.x;k=x.y;m=d.x-l;var n=d.y-k,h=f.site,p=h.x-l,q=h.y-k,r=2*(m*q-n*p),s=m*m+n*n,u=p*p+q*q,l={x:(q*s-n*u)/r+l,y:(m*u-p*s)/r+k};tc(f.edge,x,h,l);g.edge=Ob(x,d,null,l);f.edge=Ob(d,h,null,l);Bb(e);
Bb(f)}else g.edge=Ob(e.site,g.site);d=c.x;e=c.y}c=a.pop()}else if(f){h=f.arc;f=h.circle;x=f.x;l=f.cy;f={x:x,y:l};m=h.P;k=h.N;g=[h];td(h);for(h=m;h.circle&&Q(x-h.circle.x)<G&&Q(l-h.circle.cy)<G;)m=h.P,g.unshift(h),td(h),h=m;g.unshift(h);zb(h);for(m=k;m.circle&&Q(x-m.circle.x)<G&&Q(l-m.circle.cy)<G;)k=m.N,g.push(m),td(m),m=k;g.push(m);zb(m);x=g.length;l=void 0;for(l=1;l<x;++l)m=g[l],h=g[l-1],tc(m.edge,h.site,m.site,f);h=g[0];m=g[x-1];m.edge=Ob(h.site,m.site,null,f);Bb(h);Bb(m)}else break;if(b){c=Cb;
d=Ae(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!$g(f,b)||!d(f)||Q(f.a.x-f.b.x)<G&&Q(f.a.y-f.b.y)<G)f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];f=b[1][1];l=nb;for(k=l.length;k--;)if((m=l[k])&&m.prepare()){p=m.edges;q=p.length;for(n=0;n<q;)if(r=p[n].end(),x=r.x,h=r.y,s=p[++n%q].start(),g=s.x,s=s.y,Q(x-g)>G||Q(h-s)>G)p.splice(n,0,new uc(ah(m.site,r,Q(x-c)<G&&f-h>G?{x:c,y:Q(g-c)<G?s:f}:Q(h-f)<G&&d-x>G?{x:Q(s-f)<G?g:d,y:f}:Q(x-d)<G&&h-e>G?{x:d,y:Q(g-d)<G?s:e}:Q(h-e)<G&&
x-c>G?{x:Q(s-e)<G?g:c,y:e}:null),m.site,null)),++q}}c={cells:nb,edges:Cb};Ab=Nb=Cb=nb=null;return c}function bh(a,b){return b.y-a.y||b.x-a.x}function ch(a){return a.x}function dh(a){return a.y}function gf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Rb(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=0.5*(c+e),x=0.5*(d+f);b=b.nodes;b[0]&&Rb(a,b[0],c,d,g,x);b[1]&&Rb(a,b[1],g,d,e,x);b[2]&&Rb(a,b[2],c,x,g,f);b[3]&&Rb(a,b[3],g,x,e,f)}}function yd(a,b){a=q.rgb(a);b=q.rgb(b);var c=a.r,d=a.g,e=a.b,f=
b.r-c,g=b.g-d,x=b.b-e;return function(a){return"#"+sb(Math.round(c+f*a))+sb(Math.round(d+g*a))+sb(Math.round(e+x*a))}}function hf(a,b){var c={},d={},e;for(e in a)e in b?c[e]=ob(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function Wa(a,b){b-=a=+a;return function(c){return a+b*c}}function jf(a,b){var c=zd.lastIndex=Ad.lastIndex=0,d,e,f,g=-1,x=[],h=[];a+="";for(b+="";(d=zd.exec(a))&&(e=Ad.exec(b));){if((f=e.index)>c)f=b.substring(c,f),x[g]?
x[g]+=f:x[++g]=f;(d=d[0])===(e=e[0])?x[g]?x[g]+=e:x[++g]=e:(x[++g]=null,h.push({i:g,x:Wa(d,e)}));c=Ad.lastIndex}c<b.length&&(f=b.substring(c),x[g]?x[g]+=f:x[++g]=f);return 2>x.length?h[0]?(b=h[0].x,function(a){return b(a)+""}):function(){return b}:(b=h.length,function(a){for(var c=0,t;c<b;++c)x[(t=h[c]).i]=t.x(a);return x.join("")})}function ob(a,b){for(var c=q.interpolators.length,d;0<=--c&&!(d=q.interpolators[c](a,b)););return d}function vc(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,
b.length),h;for(h=0;h<g;++h)c.push(ob(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function eh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function kf(a){return function(b){return 1-a(1-b)}}function lf(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function fh(a){return a*a}function gh(a){return a*a*a}function hh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function ih(a){return 1-
Math.cos(a*ma)}function jh(a){return Math.pow(2,10*(a-1))}function kh(a){return 1-Math.sqrt(1-a*a)}function lh(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function mf(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function nf(a){var b=[a.a,a.b],c=[a.c,a.d],d=of(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=of(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=
(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ca;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*ca:0}function of(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function pf(a,b){var c=[],d=[],e,f=q.transform(a),g=q.transform(b),h=f.translate,l=g.translate,k=f.rotate,m=g.rotate,n=f.skew,p=g.skew,f=f.scale,g=g.scale;h[0]!=l[0]||h[1]!=l[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:Wa(h[0],l[0])},{i:3,x:Wa(h[1],l[1])})):l[0]||l[1]?c.push("translate("+
l+")"):c.push("");k!=m?(180<k-m?m+=360:180<m-k&&(k+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:Wa(k,m)})):m&&c.push(c.pop()+"rotate("+m+")");n!=p?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:Wa(n,p)}):p&&c.push(c.pop()+"skewX("+p+")");f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:Wa(f[0],g[0])},{i:e-2,x:Wa(f[1],g[1])})):(1!=g[0]||1!=g[1])&&c.push(c.pop()+"scale("+g+")");e=d.length;return function(a){for(var b=-1,t;++b<e;)c[(t=d[b]).i]=t.x(a);return c.join("")}}
function mh(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function nh(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function oh(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=qf(b);for(var d=qf(d),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function qf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);
return b}function ph(a){a.fixed|=2}function qh(a){a.fixed&=-7}function rh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function sh(a){a.fixed&=-5}function rf(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,g=f.length,h=-1,l;++h<g;)l=f[h],null!=l&&(rf(l,b,c),a.charge+=l.charge,d+=l.charge*l.cx,e+=l.charge*l.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Sb(a,
b){q.rebind(a,b,"sort","children","value");a.nodes=a;a.links=th;return a}function Tb(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function Oa(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var e=-1,f,g;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function uh(a){return a.children}function vh(a){return a.value}function wh(a,b){return b.value-a.value}function th(a){return q.merge(a.map(function(a){return(a.children||
[]).map(function(b){return{source:a,target:b}})}))}function xh(a){return a.x}function yh(a){return a.y}function zh(a,b,c){a.y0=b;a.y=c}function Bd(a){return q.range(a.length)}function Cd(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Ah(a){for(var b=1,c=0,d=a[0][1],e,f=a.length;b<f;++b)if((e=a[b][1])>d)c=b,d=e;return c}function Bh(a){return a.reduce(Ch,0)}function Ch(a,b){return a+b[1]}function Dh(a,b){return sf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function sf(a,b){for(var c=
-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Eh(a){return[q.min(a),q.max(a)]}function Fh(a,b){return a.value-b.value}function Dd(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function tf(a,b){a._pack_next=b;b._pack_prev=a}function uf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return 0.999*e*e>c*c+d*d}function vf(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);g=Math.max(a.y+a.r,g)}if((c=a.children)&&(q=c.length)){var c,
d=Infinity,e=-Infinity,f=Infinity,g=-Infinity,h,l,k,m,n,p,q;c.forEach(Gh);h=c[0];h.x=-h.r;h.y=0;b(h);if(1<q&&(l=c[1],l.x=l.r,l.y=0,b(l),2<q)){k=c[2];wf(h,l,k);b(k);Dd(h,k);h._pack_prev=k;Dd(k,l);l=h._pack_next;for(m=3;m<q;m++){wf(h,l,k=c[m]);var r=0,s=1,u=1;for(n=l._pack_next;n!==l;n=n._pack_next,s++)if(uf(n,k)){r=1;break}if(1==r)for(p=h._pack_prev;p!==n._pack_prev&&!uf(p,k);p=p._pack_prev,u++);r?(s<u||s==u&&l.r<h.r?tf(h,l=n):tf(h=p,l),m--):(Dd(h,k),l=k,b(k))}}h=(d+e)/2;l=(f+g)/2;for(m=n=0;m<q;m++)k=
c[m],k.x-=h,k.y-=l,n=Math.max(n,k.r+Math.sqrt(k.x*k.x+k.y*k.y));a.r=n;c.forEach(Hh)}}function Gh(a){a._pack_next=a._pack_prev=a}function Hh(a){delete a._pack_next;delete a._pack_prev}function xf(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var f=e.length;++a<f;)xf(e[a],b,c,d)}}function wf(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f,g=g*g,d=d*d;b=0.5+(d-g)/(2*h);g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+b*e+g*f;c.y=
a.y+b*f-g*e}else c.x=a.x+d,c.y=a.y}function yf(a,b){return a.parent==b.parent?1:2}function Ed(a){var b=a.children;return b.length?b[0]:a.t}function Fd(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Ih(a){return 1+q.max(a,function(a){return a.y})}function Jh(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function zf(a){var b=a.children;return b&&b.length?zf(b[0]):a}function Af(a){var b=a.children,c;return b&&(c=b.length)?Af(b[c-1]):a}function Gd(a){return{x:a.x,y:a.y,dx:a.dx,
dy:a.dy}}function Bf(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function Db(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function wc(a){return a.rangeExtent?a.rangeExtent():Db(a.range())}function Kh(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function xc(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function Cf(a){return a?
{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Lh}function Mh(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=q.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Df(a,b,c,d){function e(){var l=2<Math.min(a.length,b.length)?Mh:Kh,k=d?nh:mh;g=l(a,b,k,c);h=l(b,a,k,ob);return f}function f(a){return g(a)}var g,h;
f.invert=function(a){return h(a)};f.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(mf)};f.clamp=function(a){if(!arguments.length)return d;d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};f.ticks=function(b){return q.range.apply(q,db(a,b))};f.tickFormat=function(b,c){return Hd(a,b,c)};f.nice=function(b){xc(a,Cf(db(a,
b)[2]));return e()};f.copy=function(){return Df(a,b,c,d)};return e()}function Id(a,b){return q.rebind(a,b,"range","rangeRound","interpolate","clamp")}function db(a,b){null==b&&(b=10);var c=Db(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;0.15>=d?e*=10:0.35>=d?e*=5:0.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+0.5*e;c[2]=e;return c}function Hd(a,b,c){a=db(a,b);if(c){b=me.exec(c);b.shift();if("s"===b[8]){var d=q.formatPrefix(Math.max(Q(a[0]),Q(a[1])));
b[7]||(b[7]="."+yc(d.scale(a[2])));b[8]="f";c=q.format(b.join(""));return function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Nh(b[8],a));c=b.join("")}else c=",."+yc(a[2])+"f";return q.format(c)}function yc(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}function Nh(a,b){var c=yc(b[2]);return a in Oh?Math.abs(c-yc(Math.max(Q(b[0]),Q(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Ef(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,
a):-Math.pow(b,-a)}function g(b){return a(e(b))}g.invert=function(b){return f(a.invert(b))};g.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return g};g.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return g};g.nice=function(){var b=xc(d.map(e),c?Math:Ph);a.domain(b);d=b.map(f);return g};g.ticks=function(){var a=Db(d),t=[],g=a[0],a=a[1],h=Math.floor(e(g)),l=Math.ceil(e(a)),k=b%1?2:b;if(isFinite(l-h)){if(c){for(;h<l;h++)for(var m=
1;m<k;m++)t.push(f(h)*m);t.push(f(h))}else for(t.push(f(h));h++<l;)for(m=k-1;0<m;m--)t.push(f(h)*m);for(h=0;t[h]<g;h++);for(l=t.length;t[l-1]>a;l--);t=t.slice(h,l)}return t};g.tickFormat=function(a,b){if(!arguments.length)return Ff;2>arguments.length?b=Ff:"function"!==typeof b&&(b=q.format(b));var t=Math.max(0.1,a/g.ticks().length),d=c?(A=1E-12,Math.ceil):(A=-1E-12,Math.floor),A;return function(a){return a/f(d(e(a)+A))<=t?b(a):""}};g.copy=function(){return Ef(a.copy(),b,c,d)};return Id(g,a)}function Gf(a,
b,c){function d(b){return a(e(b))}var e=zc(b),f=zc(1/b);d.invert=function(b){return f(a.invert(b))};d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return q.range.apply(q,db(c,a))};d.tickFormat=function(a,b){return Hd(c,a,b)};d.nice=function(a){return d.domain(xc(c,Cf(db(c,a)[2])))};d.exponent=function(g){if(!arguments.length)return b;e=zc(b=g);f=zc(1/b);a.domain(c.map(e));return d};d.copy=function(){return Gf(a.copy(),b,c)};return Id(d,
a)}function zc(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Hf(b,c){function d(a){return g[((f.get(a)||("range"===c.t?f.set(a,b.push(a)):NaN))-1)%g.length]}function e(a,c){return q.range(b.length).map(function(b){return a+c*b})}var f,g,h;d.domain=function(e){if(!arguments.length)return b;b=[];f=new a;for(var g=-1,h=e.length,l;++g<h;)f.has(l=e[g])||f.set(l,b.push(l));return d[c.t].apply(d,c.a)};d.range=function(a){if(!arguments.length)return g;g=a;h=0;c={t:"range",a:arguments};
return d};d.rangePoints=function(a,f){2>arguments.length&&(f=0);var l=a[0],k=a[1],m=(k-l)/(Math.max(1,b.length-1)+f);g=e(2>b.length?(l+k)/2:l+m*f/2,m);h=0;c={t:"rangePoints",a:arguments};return d};d.rangeBands=function(a,f,l){2>arguments.length&&(f=0);3>arguments.length&&(l=f);var k=a[1]<a[0],m=a[k-0],M=(a[1-k]-m)/(b.length-f+2*l);g=e(m+M*l,M);k&&g.reverse();h=M*(1-f);c={t:"rangeBands",a:arguments};return d};d.rangeRoundBands=function(a,f,l){2>arguments.length&&(f=0);3>arguments.length&&(l=f);var k=
a[1]<a[0],m=a[k-0],M=a[1-k],n=Math.floor((M-m)/(b.length-f+2*l));g=e(m+Math.round((M-m-(b.length-f)*n)/2),n);k&&g.reverse();h=Math.round(n*(1-f));c={t:"rangeRoundBands",a:arguments};return d};d.rangeBand=function(){return h};d.rangeExtent=function(){return Db(c.a[0])};d.copy=function(){return Hf(b,c)};return d.domain(b)}function If(a,b){function c(){var f=0,g=b.length;for(e=[];++f<g;)e[f-1]=q.quantile(a,f/g);return d}function d(a){if(!isNaN(a=+a))return b[q.bisect(e,a)]}var e;d.domain=function(b){if(!arguments.length)return a;
a=b.filter(k).sort(n);return c()};d.range=function(a){if(!arguments.length)return b;b=a;return c()};d.quantiles=function(){return e};d.invertExtent=function(c){c=b.indexOf(c);return 0>c?[NaN,NaN]:[0<c?e[c-1]:a[0],c<e.length?e[c]:a[a.length-1]]};d.copy=function(){return If(a,b)};return c()}function Jf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);g=c.length-1;return d}var f,g;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=
+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return Jf(a,b,c)};return e()}function Kf(a,b){function c(d){if(d<=d)return b[q.bisect(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return Kf(a,b)};
return c}function Lf(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return q.range.apply(q,db(a,b))};b.tickFormat=function(b,c){return Hd(a,b,c)};b.copy=function(){return Lf(a)};return b}function Qh(a){return a.innerRadius}function Rh(a){return a.outerRadius}function Mf(a){return a.startAngle}function Nf(a){return a.endAngle}function Of(a){function b(g){function A(){l.push("M",f(a(k),h))}for(var l=[],k=[],m=
-1,n=g.length,p,na=ba(c),q=ba(d);++m<n;)e.call(this,p=g[m],m)?k.push([+na.call(this,p,m),+q.call(this,p,m)]):k.length&&(A(),k=[]);k.length&&A();return l.length?l.join(""):null}var c=yb,d=Mb,e=xb,f=Ca,g=f.key,h=0.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=Jd.get(a)||Ca).key;
return b};b.tension=function(a){if(!arguments.length)return h;h=a;return b};return b}function Ca(a){return a.join("L")}function Kd(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Ld(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Ac(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Ca(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,
l=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],l=2);if(1<b.length){h=b[1];f=a[l];l++;d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(e=2;e<b.length;e++,l++)f=a[l],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}c&&(c=a[l],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]);return d}function Md(a,b){for(var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,l=a.length;++h<l;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);
return c}function Pf(a){if(3>a.length)return Ca(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f,"L",Ia(eb,g),",",Ia(eb,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Nd(e,g,h);a.pop();e.push("L",d);return e.join("")}function Ia(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Nd(a,b,c){a.push("C",Ia(Qf,b),",",Ia(Qf,c),",",Ia(Rf,b),",",Ia(Rf,c),",",Ia(eb,b),",",Ia(eb,c))}function Od(a,b){return(b[1]-a[1])/(b[0]-
a[0])}function Sf(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]+pb,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function Tf(a){function b(A){function l(){p.push("M",h(a(q),n),m,k(a(L.reverse()),n),"Z")}for(var p=[],L=[],q=[],r=-1,s=A.length,u,v=ba(c),w=ba(e),B=c===d?function(){return y}:ba(d),z=e===f?function(){return D}:ba(f),y,D;++r<s;)g.call(this,u=A[r],r)?(L.push([y=+v.call(this,u,r),D=+w.call(this,u,r)]),q.push([+B.call(this,u,r),+z.call(this,u,r)])):L.length&&(l(),L=[],q=[]);
L.length&&l();return p.length?p.join(""):null}var c=yb,d=yb,e=0,f=Mb,g=xb,h=Ca,l=h.key,k=h,m="L",n=0.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return g;
g=a;return b};b.interpolate=function(a){if(!arguments.length)return l;l="function"===typeof a?h=a:(h=Jd.get(a)||Ca).key;k=h.reverse||h;m=h.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return n;n=a;return b};return b}function Sh(a){return a.radius}function Uf(a){return[a.x,a.y]}function Th(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+pb;return[c*Math.cos(b),c*Math.sin(b)]}}function Uh(){return 64}function Vh(){return"circle"}function Vf(a){a=Math.sqrt(a/O);
return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Ub(a,b){Xb(a,ia);a.id=b;return a}function Pd(a,b,c,d){var e=a.id;return S(a,"function"===typeof c?function(a,t,f){a.__transition__[e].tween.set(b,d(c.call(a,a.__data__,t,f)))}:(c=d(c),function(a){a.__transition__[e].tween.set(b,c)}))}function Wh(a){null==a&&(a="");return function(){this.textContent=a}}function Bc(b,c,d,e){var f=b.__transition__||(b.__transition__={active:0,count:0}),g=f[d];if(!g){var h=e.time,g=f[d]={tween:new a,
time:h,ease:e.ease,delay:e.delay,duration:e.duration};++f.count;q.timer(function(a){function e(a){if(f.active>d)return k();f.active=d;g.event&&g.event.start.call(b,m,c);g.tween.forEach(function(a,d){(d=d.call(b,m,c))&&s.push(d)});q.timer(function(){r.c=l(a||1)?xb:l;return 1},0,h)}function l(a){if(f.active!==d)return k();a/=p;for(var e=I(a),h=s.length;0<h;)s[--h].call(b,e);if(1<=a)return g.event&&g.event.end.call(b,m,c),k()}function k(){--f.count?delete f[d]:delete b.__transition__;return 1}var m=
b.__data__,I=g.ease,n=g.delay,p=g.duration,r=Sa,s=[];r.t=n+h;if(n<=a)return e(a-n);r.c=e},0,h)}}function Wf(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function Xf(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function Qd(a){return a.toISOString()}function Rd(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,t=q.bisect(Cc,d);return t==Cc.length?[b.year,db(a.map(function(a){return a/31536E6}),c)[2]]:!t?[Xh,db(a,c)[2]]:b[d/Cc[t-1]<Cc[t]/
d?t-1:t]}d.invert=function(b){return qb(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(qb);a.domain(b);return d};d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,qb(+d+1),b).length}var t=d.domain(),f=Db(t);if(f=null==a?e(f,10):"number"===typeof a&&e(f,a))a=f[0],b=f[1];return d.domain(xc(t,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=qb(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=qb(+b+1);return b}}:a))};d.ticks=function(a,b){var c=Db(d.domain()),
t=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];t&&(a=t[0],b=t[1]);return a.range(c[0],qb(+c[1]+1),1>b?1:b)};d.tickFormat=function(){return c};d.copy=function(){return Rd(a.copy(),b,c)};return Id(d,a)}function qb(a){return new Date(a)}function Yh(a){return JSON.parse(a.responseText)}function Zh(a){var b=La.createRange();b.selectNode(La.body);return b.createContextualFragment(a.responseText)}var q={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Yf=[].slice,
Ya=function(a){return Yf.call(a)},La=document,Ra=La.documentElement,ta=window;try{Ya(Ra.childNodes)[0].nodeType}catch(yi){Ya=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}try{La.createElement("div").style.setProperty("opacity",0,"")}catch(zi){var Dc=ta.Element.prototype,$h=Dc.setAttribute,ai=Dc.setAttributeNS,Zf=ta.CSSStyleDeclaration.prototype,bi=Zf.setProperty;Dc.setAttribute=function(a,b){$h.call(this,a,b+"")};Dc.setAttributeNS=function(a,b,c){ai.call(this,a,b,c+"")};Zf.setProperty=
function(a,b,c){bi.call(this,a,b+"",c)}}q.ascending=n;q.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};q.min=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d&&!(null!=(e=a[c])&&e<=e);)e=void 0;for(;++c<d;)if(null!=(f=a[c])&&e>f)e=f}else{for(;++c<d&&!(null!=(e=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&e>f)e=f}return e};q.max=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d&&!(null!=(e=a[c])&&e<=e);)e=void 0;
for(;++c<d;)if(null!=(f=a[c])&&f>e)e=f}else{for(;++c<d&&!(null!=(e=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>e)e=f}return e};q.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(1===arguments.length){for(;++c<d&&!(null!=(e=g=a[c])&&e<=e);)e=g=void 0;for(;++c<d;)if(null!=(f=a[c]))e>f&&(e=f),g<f&&(g=f)}else{for(;++c<d&&!(null!=(e=g=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)if(null!=(f=b.call(a,a[c],c)))e>f&&(e=f),g<f&&(g=f)}return[e,g]};q.sum=function(a,b){var c=
0,d=a.length,e,f=-1;if(1===arguments.length)for(;++f<d;){if(!isNaN(e=+a[f]))c+=e}else for(;++f<d;)if(!isNaN(e=+b.call(a,a[f],f)))c+=e;return c};q.mean=function(a,b){var c=0,d=a.length,e,f=-1,g=d;if(1===arguments.length)for(;++f<d;)k(e=a[f])?c+=e:--g;else for(;++f<d;)k(e=b.call(a,a[f],f))?c+=e:--g;return g?c/g:void 0};q.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};q.median=function(a,b){1<arguments.length&&(a=a.map(b));a=a.filter(k);return a.length?
q.quantile(a.sort(n),0.5):void 0};var $f=h(n);q.bisectLeft=$f.left;q.bisect=q.bisectRight=$f.right;q.bisector=function(a){return h(1===a.length?function(b,c){return n(a(b),c)}:a)};q.shuffle=function(a){for(var b=a.length,c,d;b;)d=Math.random()*b--|0,c=a[b],a[b]=a[d],a[d]=c;return a};q.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};q.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);b<c;)e[b]=[d,d=a[++b]];return e};q.zip=function(){if(!(f=arguments.length))return[];
for(var a=-1,b=q.min(arguments,c),d=Array(b);++a<b;)for(var e=-1,f,g=d[a]=Array(f);++e<f;)g[e]=arguments[e][a];return d};q.transpose=function(a){return q.zip.apply(q,a)};q.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};q.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};q.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};q.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;){f=a[b];for(c=f.length;0<=
--c;)e[--d]=f[c]}return e};var Q=Math.abs;q.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;e=Q(c);for(var f=1;e*f%1;)f*=10;e=f;var f=-1,g;a*=e;b*=e;c*=e;if(0>c)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d};q.map=function(b){var c=new a;if(b instanceof a)b.forEach(function(a,b){c.set(a,b)});else for(var d in b)c.set(d,b[d]);return c};b(a,{has:g,get:function(a){return this[ib+
a]},set:function(a,b){return this[ib+a]=b},remove:function(a){a=ib+a;return a in this&&delete this[a]},keys:e,values:function(){var a=[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,value:c})});return a},size:d,empty:f,forEach:function(a){for(var b in this)b.charCodeAt(0)===Wb&&a.call(this,b.substring(1),this[b])}});var ib="\x00",Wb=ib.charCodeAt(0);q.nest=function(){function b(c,f,l){if(l>=e.length)return h?h.call(d,f):g?f.sort(g):
f;for(var A=-1,k=f.length,m=e[l++],n,p,M=new a,q;++A<k;)(q=M.get(n=m(p=f[A])))?q.push(p):M.set(n,[p]);c?(p=c(),f=function(a,d){p.set(a,b(c,d,l))}):(p={},f=function(a,d){p[a]=b(c,d,l)});M.forEach(f);return p}function c(a,b){if(b>=e.length)return a;var d=[],t=f[b++];a.forEach(function(a,e){d.push({key:a,values:c(e,b)})});return t?d.sort(function(a,b){return t(a.key,b.key)}):d}var d={},e=[],f=[],g,h;d.map=function(a,c){return b(c,a,0)};d.entries=function(a){return c(b(q.map,a,0),0)};d.key=function(a){e.push(a);
return d};d.sortKeys=function(a){f[e.length-1]=a;return d};d.sortValues=function(a){g=a;return d};d.rollup=function(a){h=a;return d};return d};q.set=function(a){var b=new l;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};b(l,{has:g,add:function(a){this[ib+a]=!0;return a},remove:function(a){a=ib+a;return a in this&&delete this[a]},values:e,size:d,empty:f,forEach:function(a){for(var b in this)b.charCodeAt(0)===Wb&&a.call(this,b.substring(1))}});q.behavior={};q.rebind=function(a,b){for(var c=
1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=p(a,b,b[e]);return a};var ce="webkit ms moz Moz o O".split(" ");q.dispatch=function(){for(var a=new w,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=v(a);return a};w.prototype.on=function(a,b){var c=a.indexOf("."),d="";0<=c&&(d=a.substring(c+1),a=a.substring(0,c));if(a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,null);return this}};q.event=null;q.requote=
function(a){return a.replace(ci,"\\$\x26")};var ci=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Xb={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Yc=function(a,b){return b.querySelector(a)},Zc=function(a,b){return b.querySelectorAll(a)},di=Ra.matches||Ra[m(Ra,"matchesSelector")],de=function(a,b){return di.call(a,b)};"function"===typeof Sizzle&&(Yc=function(a,b){return Sizzle(a,b)[0]||null},Zc=Sizzle,de=Sizzle.matchesSelector);q.selection=function(){return ag};var Y=q.selection.prototype=
[];Y.select=function(a){var b=[],c,d,e,f;a=z(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var l=-1,k=e.length;++l<k;)(f=e[l])?(c.push(d=a.call(f,f.__data__,l,g)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return y(b)};Y.selectAll=function(a){var b=[],c,d;a=B(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,l=g.length;++h<l;)if(d=g[h])b.push(c=Ya(a.call(d,d.__data__,h,e))),c.parentNode=d;return y(b)};var Sd={svg:"http://www.w3.org/2000/svg",
xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};q.ns={prefix:Sd,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.substring(0,b),a=a.substring(b+1));return Sd.hasOwnProperty(c)?{space:Sd[c],local:a}:a}};Y.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=q.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(N(b,
a[b]));return this}return this.each(N(a,b))};Y.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!R(a[e]).test(b))return!1;return!0}for(b in a)this.each(J(b,a[b]));return this}return this.each(J(a,b))};Y.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.each(V(c,
a[c],b));return this}if(2>d)return ta.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(V(a,b,c))};Y.property=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.each(Z(b,a[b]));return this}return this.each(Z(a,b))};Y.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=
a}):this.node().textContent};Y.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};Y.append=function(a){a=la(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};Y.insert=function(a,b){a=la(a);b=z(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,
arguments)||null)})};Y.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};Y.data=function(b,c){function d(b,e){var f,t=b.length,g=e.length,h=Math.min(t,g),F=Array(g),n=Array(g),I=Array(t),C,p;if(c){var h=new a,M=new a,q=[],r;for(f=-1;++f<t;)r=c.call(C=b[f],C.__data__,f),h.has(r)?I[f]=C:h.set(r,C),q.push(r);for(f=-1;++f<g;)r=c.call(e,p=e[f],f),(C=h.get(r))?(F[f]=C,C.__data__=p):M.has(r)||(n[f]={__data__:p}),M.set(r,p),h.remove(r);for(f=-1;++f<t;)h.has(q[f])&&
(I[f]=b[f])}else{for(f=-1;++f<h;)C=b[f],p=e[f],C?(C.__data__=p,F[f]=C):n[f]={__data__:p};for(;f<g;++f)n[f]={__data__:e[f]};for(;f<t;++f)I[f]=b[f]}n.update=F;n.parentNode=F.parentNode=I.parentNode=b.parentNode;l.push(n);k.push(F);m.push(I)}var e=-1,f=this.length,g,h;if(!arguments.length){for(b=Array(f=(g=this[0]).length);++e<f;)if(h=g[e])b[e]=h.__data__;return b}var l=H([]),k=y([]),m=y([]);if("function"===typeof b)for(;++e<f;)d(g=this[e],b.call(g,g.parentNode.__data__,e));else for(;++e<f;)d(g=this[e],
b);k.enter=function(){return l};k.exit=function(){return m};return k};Y.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};Y.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=Da(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var h=0,l=d.length;h<l;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return y(b)};Y.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],
f;0<=--d;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this};Y.sort=function(a){a=fa.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};Y.each=function(a){return S(this,function(b,c,d){a.call(b,b.__data__,c,d)})};Y.call=function(a){var b=Ya(arguments);a.apply(b[0]=this,b);return this};Y.empty=function(){return!this.node()};Y.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];
if(f)return f}return null};Y.size=function(){var a=0;this.each(function(){++a});return a};var Qa=[];q.selection.enter=H;q.selection.enter.prototype=Qa;Qa.append=Y.append;Qa.empty=Y.empty;Qa.node=Y.node;Qa.call=Y.call;Qa.size=Y.size;Qa.select=function(a){for(var b=[],c,d,e,f,g,h=-1,l=this.length;++h<l;){e=(f=this[h]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var k=-1,m=f.length;++k<m;)(g=f[k])?(c.push(e[k]=d=a.call(f.parentNode,g.__data__,k,h)),d.__data__=g.__data__):c.push(null)}return y(b)};
Qa.insert=function(a,b){2>arguments.length&&(b=aa(this));return Y.insert.call(this,a,b)};Y.transition=function(){for(var a=rb||++bg,b=[],c,d,e=Ec||{time:Date.now(),ease:hh,delay:0,duration:250},f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],l=-1,k=h.length;++l<k;)(d=h[l])&&Bc(d,l,a,e),c.push(d)}return Ub(b,a)};Y.interrupt=function(){return this.each(wa)};q.select=function(a){a=["string"===typeof a?Yc(a,La):a];a.parentNode=Ra;return y([a])};q.selectAll=function(a){a=Ya("string"===typeof a?
Zc(a,La):a);a.parentNode=Ra;return y([a])};var ag=q.select(Ra);Y.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.each(X(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(X(a,b,c))};var $c=q.map({mouseenter:"mouseover",mouseleave:"mouseout"});$c.forEach(function(a){"on"+a in La&&$c.remove(a)});var Hb="onselectstart"in La?null:m(Ra.style,"userSelect"),sg=0;q.mouse=function(a){return ha(a,u())};var bd=/WebKit/.test(ta.navigator.userAgent)?
-1:0;q.touches=function(a,b){2>arguments.length&&(b=u().touches);return b?Ya(b).map(function(b){var c=ha(a,b);c.identifier=b.identifier;return c}):[]};q.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,e,f,t,g){return function(){var b=q.event.target,h=this.parentNode,l=c.of(this,arguments),k=0,m=a(),A=".drag"+(null==m?"":"-"+m),n,p=q.select(f()).on(t+A,function(){var a=e(h,m),b,c;a&&(b=a[0]-M[0],c=a[1]-M[1],k|=b|c,M=a,l({type:"drag",x:a[0]+n[0],
y:a[1]+n[1],dx:b,dy:c}))}).on(g+A,function(){e(h,m)&&(p.on(t+A,null).on(g+A,null),C(k&&q.event.target===b),l({type:"dragend"}))}),C=Pa(),M=e(h,m);d?(n=d.apply(this,arguments),n=[n.x-M[0],n.y-M[1]]):n=[0,0];l({type:"dragstart"})}}var c=D(a,"drag","dragstart","dragend"),d=null,e=b(s,q.mouse,Fa,"mousemove","mouseup"),f=b(ya,q.touch,za,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return q.rebind(a,c,"on")};var O=Math.PI,Ba=2*O,ma=O/2,G=1E-6,ud=G*G,P=O/180,ca=
180/O,Fc=Math.SQRT2,Td=2;q.interpolateZoom=function(a,b){function c(a){var b=a*r;if(q){a=fb(p);var t=f/(Td*m),g,k=Fc*b+p;g=((k=Math.exp(2*k))-1)/(k+1);g*=a;var A=p,k=((A=Math.exp(A))-1/A)/2,t=t*(g-k);return[d+t*h,e+t*l,f*a/fb(Fc*b+p)]}return[d+a*h,e+a*l,f*Math.exp(Fc*b)]}var d=a[0],e=a[1],f=a[2],g=b[2],h=b[0]-d,l=b[1]-e,k=h*h+l*l,m=Math.sqrt(k),n=(g*g-f*f+4*k)/(2*f*Td*m),k=(g*g-f*f-4*k)/(2*g*Td*m),p=Math.log(Math.sqrt(n*n+1)-n),q=Math.log(Math.sqrt(k*k+1)-k)-p,r=(q||Math.log(g/f))/Fc;c.duration=1E3*
r;return c};q.behavior.zoom=function(){function a(b){b.on(z,l).on(ei+".zoom",m).on("dblclick.zoom",n).on(fd,k)}function b(a){return[(a[0]-p.x)/p.k,(a[1]-p.y)/p.k]}function c(a){p.k=Math.max(B[0],Math.min(B[1],a))}function d(a,b){b=[b[0]*p.k+p.x,b[1]*p.k+p.y];p.x+=a[0]-b[0];p.y+=a[1]-b[1]}function e(){J&&J.domain(Za.range().map(function(a){return(a-p.x)/p.k}).map(Za.invert));G&&G.domain(T.range().map(function(a){return(a-p.y)/p.k}).map(T.invert))}function f(a){a({type:"zoomstart"})}function g(a){e();
a({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function h(a){a({type:"zoomend"})}function l(){var a=this,c=q.event.target,e=R.of(a,arguments),t=0,k=q.select(ta).on($,function(){t=1;d(q.mouse(a),m);g(e)}).on(y,function(){k.on($,null).on(y,null);n(t&&q.event.target===c);h(e)}),m=b(q.mouse(a)),n=Pa();wa.call(a);f(e)}function k(){function a(){var c=q.touches(n);v=p.k;c.forEach(function(a){a.identifier in s&&(s[a.identifier]=b(a))});return c}function e(){var b=q.event.target;q.select(b).on(w,t).on(B,m);
$.push(b);for(var b=q.event.changedTouches,f=0,h=b.length;f<h;++f)s[b[f].identifier]=null;h=a();f=Date.now();1===h.length?(500>f-N&&(b=h[0],h=s[b.identifier],c(2*p.k),d(b,h),r(),g(M)),N=f):1<h.length&&(b=h[0],h=h[1],f=b[0]-h[0],b=b[1]-h[1],u=f*f+b*b)}function t(){for(var a=q.touches(n),b,e,f,h,l=0,k=a.length;l<k;++l,h=null)if(f=a[l],h=s[f.identifier]){if(e)break;b=f;e=h}if(h){var m=(m=f[0]-b[0])*m+(m=f[1]-b[1])*m,a=u&&Math.sqrt(m/u);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+h[0])/2,(e[1]+h[1])/2];
c(a*v)}N=null;d(b,e);g(M)}function m(){if(q.event.touches.length){for(var b=q.event.changedTouches,c=0,d=b.length;c<d;++c)delete s[b[c].identifier];for(var e in s)return void a()}q.selectAll($).on(qa,null);y.on(z,l).on(fd,k);D();h(M)}var n=this,M=R.of(n,arguments),s={},u=0,v,qa=".zoom-"+q.event.changedTouches[0].identifier,w="touchmove"+qa,B="touchend"+qa,$=[],y=q.select(n).on(z,null).on(fd,e),D=Pa();wa.call(n);e();f(M)}function m(){var a=R.of(this,arguments);E?clearTimeout(E):(s=b(u=v||q.mouse(this)),
wa.call(this),f(a));E=setTimeout(function(){E=null;h(a)},50);r();c(Math.pow(2,0.002*Gc())*p.k);d(u,s);g(a)}function n(){var a=R.of(this,arguments),e=q.mouse(this),t=b(e),l=Math.log(p.k)/Math.LN2;f(a);c(Math.pow(2,q.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));d(e,t);g(a);h(a)}var p={x:0,y:0,k:1},s,u,v,w=[960,500],B=cg,z="mousedown.zoom",$="mousemove.zoom",y="mouseup.zoom",E,fd="touchstart.zoom",N,R=D(a,"zoomstart","zoom","zoomend"),Za,J,T,G;a.event=function(a){a.each(function(){var a=R.of(this,
arguments),b=p;rb?q.select(this).transition().each("start.zoom",function(){p=this.__chart__||{x:0,y:0,k:1};f(a)}).tween("zoom:zoom",function(){var c=w[0],d=c/2,e=w[1]/2,f=q.interpolateZoom([(d-p.x)/p.k,(e-p.y)/p.k,c/p.k],[(d-b.x)/b.k,(e-b.y)/b.k,c/b.k]);return function(b){b=f(b);var t=c/b[2];this.__chart__=p={x:d-b[0]*t,y:e-b[1]*t,k:t};g(a)}}).each("end.zoom",function(){h(a)}):(this.__chart__=p,f(a),g(a),h(a))})};a.translate=function(b){if(!arguments.length)return[p.x,p.y];p={x:+b[0],y:+b[1],k:p.k};
e();return a};a.scale=function(b){if(!arguments.length)return p.k;p={x:p.x,y:p.y,k:+b};e();return a};a.scaleExtent=function(b){if(!arguments.length)return B;B=null==b?cg:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return v;v=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return w;w=b&&[+b[0],+b[1]];return a};a.x=function(b){if(!arguments.length)return J;J=b;Za=b.copy();p={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return G;G=b;T=b.copy();
p={x:0,y:0,k:1};return a};return q.rebind(a,R,"on")};var cg=[0,Infinity],Gc,ei="onwheel"in La?(Gc=function(){return-q.event.deltaY*(q.event.deltaMode?120:1)},"wheel"):"onmousewheel"in La?(Gc=function(){return q.event.wheelDelta},"mousewheel"):(Gc=function(){return-q.event.detail},"MozMousePixelScroll");q.color=ja;ja.prototype.toString=function(){return this.rgb()+""};q.hsl=va;var Ud=va.prototype=new ja;Ud.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return new va(this.h,this.s,this.l/
a)};Ud.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new va(this.h,this.s,a*this.l)};Ud.rgb=function(){return gb(this.h,this.s,this.l)};q.hcl=sa;var Vd=sa.prototype=new ja;Vd.brighter=function(a){return new sa(this.h,this.c,Math.min(100,this.l+Hc*(arguments.length?a:1)))};Vd.darker=function(a){return new sa(this.h,this.c,Math.max(0,this.l-Hc*(arguments.length?a:1)))};Vd.rgb=function(){return hb(this.h,this.c,this.l).rgb()};q.lab=U;var Hc=18,ge=0.95047,he=1,ie=1.08883,Wd=U.prototype=
new ja;Wd.brighter=function(a){return new U(Math.min(100,this.l+Hc*(arguments.length?a:1)),this.a,this.b)};Wd.darker=function(a){return new U(Math.max(0,this.l-Hc*(arguments.length?a:1)),this.a,this.b)};Wd.rgb=function(){return Gb(this.l,this.a,this.b)};q.rgb=ra;var Ic=ra.prototype=new ja;Ic.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return new ra(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return new ra(Math.min(255,b/a),Math.min(255,
c/a),Math.min(255,d/a))};Ic.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new ra(a*this.r,a*this.g,a*this.b)};Ic.hsl=function(){return ae(this.r,this.g,this.b)};Ic.toString=function(){return"#"+sb(this.r)+sb(this.g)+sb(this.b)};var Zb=q.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,
chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,
dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,
lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,
midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zb.forEach(function(a,b){Zb.set(a,new ra(b>>16,b>>8&255,b&255))});q.functor=ba;q.xhr=cd(ka);q.dsv=function(a,b){function c(a,f,t){3>arguments.length&&
(t=f,f=null);var g=$b(a,b,null==f?d:e(f),t);g.row=function(a){return arguments.length?g.response(null==(f=a)?d:e(a)):f};return g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=RegExp('["'+a+"\n]"),k=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+
a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})};c.parseRows=function(a,b){function c(){if(g>=t)return e;if(m)return m=!1,d;var b=g;if(34===a.charCodeAt(b)){for(var f=b;f++<t;)if(34===a.charCodeAt(f)){if(34!==a.charCodeAt(f+1))break;++f}g=f+2;var h=a.charCodeAt(f+1);13===h?(m=!0,10===a.charCodeAt(f+2)&&++g):10===h&&(m=!0);return a.substring(b+1,f).replace(/""/g,'"')}for(;g<t;){h=a.charCodeAt(g++);f=1;if(10===h)m=!0;else if(13===h)m=
!0,10===a.charCodeAt(g)&&(++g,++f);else if(h!==k)continue;return a.substring(b,g-f)}return a.substring(b)}for(var d={},e={},f=[],t=a.length,g=0,h=0,l,m;(l=c())!==e;){for(var A=[];l!==d&&l!==e;)A.push(l),l=c();(!b||(A=b(A,h++)))&&f.push(A)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new l,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")};
c.formatRows=function(a){return a.map(f).join("\n")};return c};q.csv=q.dsv(",","text/csv");q.tsv=q.dsv("\t","text/tab-separated-values");q.touch=function(a,b,c){3>arguments.length&&(c=b,b=u().changedTouches);if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return ha(a,f)};var cc,dc,bc,ac,Sa,le=ta[m(ta,"requestAnimationFrame")]||function(a){setTimeout(a,17)};q.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,f:!1,n:null};dc?dc.n=d:cc=d;dc=d;bc||
(ac=clearTimeout(ac),bc=1,le(dd))};q.timer.flush=function(){je();ke()};q.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var fi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*Q(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});q.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=q.round(a,ed(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/
3))));return fi[8+c/3]};var me=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,vg=q.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=q.round(a,ed(a,b))).toFixed(Math.max(0,
Math.min(20,ed(a*(1+1E-15),b))))}}),K=q.time={},oa=Date;Ta.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},
getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Xa.setUTCDate.apply(this._,arguments)},setDay:function(){Xa.setUTCDay.apply(this._,arguments)},setFullYear:function(){Xa.setUTCFullYear.apply(this._,arguments)},setHours:function(){Xa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Xa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Xa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Xa.setUTCMonth.apply(this._,
arguments)},setSeconds:function(){Xa.setUTCSeconds.apply(this._,arguments)},setTime:function(){Xa.setTime.apply(this._,arguments)}};var Xa=Date.prototype;K.year=jb(function(a){a=K.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});K.years=K.year.range;K.years.utc=K.year.utc.range;K.day=jb(function(a){var b=new oa(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-
1});K.days=K.day.range;K.days.utc=K.day.utc.range;K.dayOfYear=function(a){var b=K.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=K[a]=jb(function(a){(a=K.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=K.year(a).getDay();return Math.floor((K.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});
K[a+"s"]=c.range;K[a+"s"].utc=c.utc.range;K[a+"OfYear"]=function(a){var c=K.year(a).getDay();return Math.floor((K.dayOfYear(a)+(c+b)%7)/7)}});K.week=K.sunday;K.weeks=K.sunday.range;K.weeks.utc=K.sunday.utc.range;K.weekOfYear=K.sundayOfYear;var ne={"-":"",_:" ","0":"0"},da=/^\s*\d+/,qe=/^%/;q.locale=function(a){return{numberFormat:ug(a),timeFormat:xg(a)}};var dg=q.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM",
"PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});q.format=dg.numberFormat;q.geo={};hd.prototype={s:0,t:0,add:function(a){re(a,this.t,Jc);re(Jc.s,this.s,this);this.s?this.t+=Jc.t:this.s=Jc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};
var Jc=new hd;q.geo.stream=function(a,b){if(a&&eg.hasOwnProperty(a.type))eg[a.type](a,b);else ic(a,b)};var eg={Feature:function(a,b){ic(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)ic(c[d].geometry,b)}},se={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){id(a.coordinates,b,0)},MultiLineString:function(a,
b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)id(c[d],b,0)},Polygon:function(a,b){te(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)te(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)ic(c[d],b)}};q.geo.area=function(a){Eb=0;q.geo.stream(a,Aa);return Eb};var Eb,kb=new hd,Aa={sphere:function(){Eb+=4*O},point:s,lineStart:s,lineEnd:s,polygonStart:function(){kb.reset();Aa.lineStart=Mg},polygonEnd:function(){var a=
2*kb;Eb+=0>a?4*O+a:a;Aa.lineStart=Aa.lineEnd=Aa.point=s}};q.geo.bounds=function(){function a(b,c){$.push(z=[m=b,p=b]);c<n&&(n=c);c>r&&(r=c)}function b(c,d){var e=lb([c*P,d*P]);if(w){var f=vb(w,e),f=vb([f[1],-f[0],0],f);lc(f);var f=mc(f),g=c-s,l=0<g?1:-1,k=f[0]*ca*l,g=180<Q(g);g^(l*s<k&&k<l*c)?(f=f[1]*ca,f>r&&(r=f)):(k=(k+360)%360-180,g^(l*s<k&&k<l*c))?(f=-f[1]*ca,f<n&&(n=f)):(d<n&&(n=d),d>r&&(r=d));g?c<s?h(m,c)>h(m,p)&&(p=c):h(c,p)>h(m,p)&&(m=c):p>=m?(c<m&&(m=c),c>p&&(p=c)):c>s?h(m,c)>h(m,p)&&(p=
c):h(c,p)>h(m,p)&&(m=c)}else a(c,d);w=e;s=c}function c(){y.point=b}function d(){z[0]=m;z[1]=p;y.point=a;w=null}function e(a,c){if(w){var d=a-s;B+=180<Q(d)?d+(0<d?360:-360):d}else u=a,v=c;Aa.point(a,c);b(a,c)}function f(){Aa.lineStart()}function g(){e(u,v);Aa.lineEnd();Q(B)>G&&(m=-(p=180));z[0]=m;z[1]=p;w=null}function h(a,b){return 0>(b-=a)?b+360:b}function l(a,b){return a[0]-b[0]}function k(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var m,n,p,r,s,u,v,w,B,$,z,y={point:a,lineStart:c,lineEnd:d,
polygonStart:function(){y.point=e;y.lineStart=f;y.lineEnd=g;B=0;Aa.polygonStart()},polygonEnd:function(){Aa.polygonEnd();y.point=a;y.lineStart=c;y.lineEnd=d;0>kb?(m=-(p=180),n=-(r=90)):B>G?r=90:B<-G&&(n=-90);z[0]=m;z[1]=p}};return function(a){r=p=-(m=n=Infinity);$=[];q.geo.stream(a,y);if(a=$.length){$.sort(l);for(var b=1,c=$[0],d,e=[c];b<a;++b)d=$[b],k(d[0],c)||k(d[1],c)?(h(c[0],d[1])>h(c[0],c[1])&&(c[1]=d[1]),h(d[0],c[1])>h(c[0],c[1])&&(c[0]=d[0])):e.push(c=d);var f=-Infinity,g;a=e.length-1;b=0;
for(c=e[a];b<=a;c=d,++b)if(d=e[b],(g=h(c[1],d[0]))>f)f=g,m=d[0],p=c[1]}$=z=null;return Infinity===m||Infinity===n?[[NaN,NaN],[NaN,NaN]]:[[m,n],[p,r]]}}();q.geo.centroid=function(a){Jb=wb=Ua=Va=Ma=Ga=Ha=xa=$a=ab=Na=0;q.geo.stream(a,Ja);a=$a;var b=ab,c=Na,d=a*a+b*b+c*c;return d<ud&&(a=Ga,b=Ha,c=xa,wb<G&&(a=Ua,b=Va,c=Ma),d=a*a+b*b+c*c,d<ud)?[NaN,NaN]:[Math.atan2(b,a)*ca,ga(c/Math.sqrt(d))*ca]};var Jb,wb,Ua,Va,Ma,Ga,Ha,xa,$a,ab,Na,Ja={sphere:s,point:kd,lineStart:ue,lineEnd:ve,polygonStart:function(){Ja.lineStart=
Ng},polygonEnd:function(){Ja.lineStart=ue}},Le=ye(xb,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(f,g){var h=0<f?O:-O,l=Q(f-b);if(Q(l-O)<G)a.point(b,c=0<(c+g)/2?ma:-ma),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,c),a.point(f,c),e=0;else if(d!==h&&l>=O){Q(b-d)<G&&(b-=d*G);Q(f-h)<G&&(f-=h*G);var l=b,k=c,m=f,n,p,q=Math.sin(l-m);c=Q(q)>G?Math.atan((Math.sin(k)*(p=Math.cos(g))*Math.sin(m)-Math.sin(g)*(n=Math.cos(k))*Math.sin(l))/(n*p*q)):(k+g)/
2;a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}},function(a,b,c,d){null==a?(c*=ma,d.point(-O,c),d.point(0,c),d.point(O,c),d.point(O,0),d.point(O,-c),d.point(0,-c),d.point(-O,-c),d.point(-O,0),d.point(-O,c)):Q(a[0]-b[0])>G?(a=a[0]<b[0]?O:-O,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-O,-O/2]),pc=1E9;q.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){e&&(e.valid=
!1);e=f(a);e.valid=!0;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=Be(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]);e&&(e.valid=!1,e=null);return g}};return g.extent([[0,0],[960,500]])};(q.geo.conicEqualArea=function(){return md(De)}).raw=De;q.geo.albers=function(){return q.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};q.geo.albersUsa=function(){function a(b){var c=b[0];b=b[1];e=null;(g(c,b),e)||(h(c,b),e)||l(c,b);return e}var b=
q.geo.albers(),c=q.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=q.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},g,h,l;a.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(0.12<=e&&0.234>e&&-0.425<=g&&-0.214>g?c:0.166<=e&&0.234>e&&-0.214<=g&&-0.115>g?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,
b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();g.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){e.polygonEnd();f.polygonEnd();g.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();
b.scale(e);c.scale(0.35*e);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var k=b.scale(),m=+e[0],n=+e[1];g=b.translate(e).clipExtent([[m-0.455*k,n-0.238*k],[m+0.455*k,n+0.238*k]]).stream(f).point;h=c.translate([m-0.307*k,n+0.201*k]).clipExtent([[m-0.425*k+G,n+0.12*k+G],[m-0.214*k-G,n+0.234*k-G]]).stream(f).point;l=d.translate([m-0.205*k,n+0.212*k]).clipExtent([[m-0.214*k+G,n+0.166*k+G],[m-0.115*k-G,n+0.234*k-G]]).stream(f).point;return a};
return a.scale(1070)};var Kc,qc,bb={point:s,lineStart:s,lineEnd:s,polygonStart:function(){qc=0;bb.lineStart=Rg},polygonEnd:function(){bb.lineStart=bb.lineEnd=bb.point=s;Kc+=Q(qc/2)}},Lc,Mc,Nc,Oc,gi={point:function(a,b){a<Lc&&(Lc=a);a>Nc&&(Nc=a);b<Mc&&(Mc=b);b>Oc&&(Oc=b)},lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s},Ka={point:mb,lineStart:Fe,lineEnd:Ge,polygonStart:function(){Ka.lineStart=Tg},polygonEnd:function(){Ka.point=mb;Ka.lineStart=Fe;Ka.lineEnd=Ge}};q.geo.path=function(){function a(b){if(b){"function"===
typeof c&&g.pointRadius(+c.apply(this,arguments));if(!h||!h.valid)h=f(g);q.geo.stream(b,h)}return g.result()}function b(){h=null;return a}var c=4.5,d,e,f,g,h;a.area=function(a){Kc=0;q.geo.stream(a,f(bb));return Kc};a.centroid=function(a){Ua=Va=Ma=Ga=Ha=xa=$a=ab=Na=0;q.geo.stream(a,f(Ka));return Na?[$a/Na,ab/Na]:xa?[Ga/xa,Ha/xa]:Ma?[Ua/Ma,Va/Ma]:[NaN,NaN]};a.bounds=function(a){Nc=Oc=-(Lc=Mc=Infinity);q.geo.stream(a,f(gi));return[[Lc,Mc],[Nc,Oc]]};a.projection=function(a){if(!arguments.length)return d;
f=(d=a)?a.stream||Vg(a):ka;return b()};a.context=function(a){if(!arguments.length)return e;g=null==(e=a)?new Sg:new Ug(a);"function"!==typeof c&&g.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;c="function"===typeof b?b:(g.pointRadius(+b),+b);return a};return a.projection(q.geo.albersUsa()).context(null)};q.geo.transform=function(a){return{stream:function(b){b=new Ke(b);for(var c in a)b[c]=a[c];return b}}};Ke.prototype={point:function(a,b){this.stream.point(a,b)},
sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};q.geo.projection=cb;q.geo.projectionMutator=nd;(q.geo.equirectangular=function(){return cb(Kb)}).raw=Kb.invert=Kb;q.geo.rotation=function(a){function b(c){c=a(c[0]*P,c[1]*P);return c[0]*=ca,c[1]*=ca,c}a=od(a[0]%360*P,a[1]*P,2<a.length?a[2]*P:0);b.invert=function(b){b=a.invert(b[0]*
P,b[1]*P);return b[0]*=ca,b[1]*=ca,b};return b};Me.invert=Kb;q.geo.circle=function(){function a(){var c="function"===typeof b?b.apply(this,arguments):b,d=od(-c[0]*P,-c[1]*P,0).invert,f=[];e(null,null,1,{point:function(a,b){f.push(a=d(a,b));a[0]*=ca;a[1]*=ca}});return{type:"Polygon",coordinates:[f]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=ld((c=+b)*P,d*P);return a};a.precision=function(b){if(!arguments.length)return d;
e=ld(c*P,(d=+b)*P);return a};return a.angle(90)};q.geo.distance=function(a,b){var c=(b[0]-a[0])*P,d=a[1]*P,e=b[1]*P,f=Math.sin(c),c=Math.cos(c),g=Math.sin(d),d=Math.cos(d),h=Math.sin(e),e=Math.cos(e),l;return Math.atan2(Math.sqrt((l=e*f)*l+(l=d*h-g*e*c)*l),g*h+d*e*c)};q.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return q.range(Math.ceil(f/p)*p,e,p).map(v).concat(q.range(Math.ceil(k/r)*r,l,r).map(w)).concat(q.range(Math.ceil(d/m)*m,c,m).filter(function(a){return Q(a%
p)>G}).map(s)).concat(q.range(Math.ceil(h/n)*n,g,n).filter(function(a){return Q(a%r)>G}).map(u))}var c,d,e,f,g,h,l,k,m=10,n=m,p=90,r=360,s,u,v,w,B=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[v(f).concat(w(l).slice(1),v(e).reverse().slice(1),w(k).reverse().slice(1))]}};a.extent=function(b){return!arguments.length?a.minorExtent():a.majorExtent(b).minorExtent(b)};a.majorExtent=function(b){if(!arguments.length)return[[f,
k],[e,l]];f=+b[0][0];e=+b[1][0];k=+b[0][1];l=+b[1][1];f>e&&(b=f,f=e,e=b);k>l&&(b=k,k=l,l=b);return a.precision(B)};a.minorExtent=function(b){if(!arguments.length)return[[d,h],[c,g]];d=+b[0][0];c=+b[1][0];h=+b[0][1];g=+b[1][1];d>c&&(b=d,d=c,c=b);h>g&&(b=h,h=g,g=b);return a.precision(B)};a.step=function(b){return!arguments.length?a.minorStep():a.majorStep(b).minorStep(b)};a.majorStep=function(b){if(!arguments.length)return[p,r];p=+b[0];r=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[m,
n];m=+b[0];n=+b[1];return a};a.precision=function(b){if(!arguments.length)return B;B=+b;s=Re(h,g,90);u=Se(d,c,B);v=Re(k,l,90);w=Se(f,e,B);return a};return a.majorExtent([[-180,-90+G],[180,90-G]]).minorExtent([[-180,-80-G],[180,80+G]])};q.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=pd,c,d=qd,e;a.distance=function(){return q.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;
b=d;c="function"===typeof d?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};q.geo.interpolate=function(a,b){return Wg(a[0]*P,a[1]*P,b[0]*P,b[1]*P)};q.geo.length=function(a){Pc=0;q.geo.stream(a,Fb);return Pc};var Pc,Fb={sphere:s,point:s,lineStart:function(){function a(e,f){var g=Math.sin(f*=P),h=Math.cos(f),t=Q((e*=P)-b),l=Math.cos(t);Pc+=Math.atan2(Math.sqrt((t=h*Math.sin(t))*
t+(t=d*g-c*h*l)*t),c*g+d*h*l);b=e;c=g;d=h}var b,c,d;Fb.point=function(e,f){b=e*P;c=Math.sin(f*=P);d=Math.cos(f);Fb.point=a};Fb.lineEnd=function(){Fb.point=Fb.lineEnd=s}},lineEnd:s,polygonStart:s,polygonEnd:s},fg=Lb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(q.geo.azimuthalEqualArea=function(){return cb(fg)}).raw=fg;var gg=Lb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},ka);(q.geo.azimuthalEquidistant=function(){return cb(gg)}).raw=gg;(q.geo.conicConformal=
function(){return md(Te)}).raw=Te;(q.geo.conicEquidistant=function(){return md(Ue)}).raw=Ue;var hg=Lb(function(a){return 1/a},Math.atan);(q.geo.gnomonic=function(){return cb(hg)}).raw=hg;rc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-ma]};(q.geo.mercator=function(){return Ve(rc)}).raw=rc;var ig=Lb(function(){return 1},Math.asin);(q.geo.orthographic=function(){return cb(ig)}).raw=ig;var jg=Lb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(q.geo.stereographic=function(){return cb(jg)}).raw=
jg;rd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-ma]};(q.geo.transverseMercator=function(){var a=Ve(rd),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=rd;q.geom={};q.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=ba(c),f=ba(d),g,h=a.length,t=[],l=[];for(g=0;g<h;g++)t.push([+e.call(this,a[g],g),+f.call(this,
a[g],g),g]);t.sort(Xg);for(g=0;g<h;g++)l.push([t[g][0],-t[g][1]]);var e=We(t),l=We(l),f=l[0]===e[0],h=l[l.length-1]===e[e.length-1],k=[];for(g=e.length-1;0<=g;--g)k.push(a[t[e[g]][2]]);for(g=+f;g<l.length-h;++g)k.push(a[t[l[g]][2]]);return k}var c=yb,d=Mb;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};q.geom.polygon=function(a){Xb(a,Qc);return a};var Qc=q.geom.polygon.prototype=[];Qc.area=function(){for(var a=
-1,b=this.length,c,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return 0.5*e};Qc.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;for(arguments.length||(a=-1/(6*this.area()));++b<c;)f=g,g=this[b],h=f[0]*g[1]-g[0]*f[1],d+=(f[0]+g[0])*h,e+=(f[1]+g[1])*h;return[d*a,e*a]};Qc.clip=function(a){for(var b,c=Ye(a),d=-1,e=this.length-Ye(this),f,g,h=this[e-1],l,k,m;++d<e;){b=a.slice();a.length=0;l=this[d];k=b[(g=b.length-c)-1];for(f=-1;++f<g;)m=b[f],sd(m,h,l)?(sd(k,h,l)||a.push(Xe(k,
m,h,l)),a.push(m)):sd(k,h,l)&&a.push(Xe(k,m,h,l)),k=m;c&&a.push(a[0]);h=l}return a};var Cb,nb,Ab,$e=[],vd,Nb,df=[];bf.prototype.prepare=function(){for(var a=this.edges,b=a.length,c;b--;)c=a[b].edge,(!c.b||!c.a)&&a.splice(b,1);a.sort(cf);return a.length};uc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};wd.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=
a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=ff(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Pb(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Qb(this,d)):(e=d.L)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(Qb(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Pb(this,d)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?ff(d):c:d;b?b.L===
a?b.L=e:b.R=e:this._=e;c&&d?(f=e.C,e.C=a.C,e.L=c,c.U=e,e!==d?(b=e.U,e.U=a.U,a=e.R,b.L=a,e.R=d,d.U=e):(e.U=b,b=e,a=e.R)):(f=a.C,a=e);a&&(a.U=b);if(!f)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Pb(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){if(!a.R||!a.R.C)a.L.C=!1,a.C=!0,Qb(this,a),a=b.R;a.C=b.C;b.C=a.R.C=!1;Pb(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Qb(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){if(!a.L||!a.L.C)a.R.C=!1,a.C=!0,Pb(this,a),a=b.L;a.C=
b.C;b.C=a.L.C=!1;Qb(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};q.geom.voronoi=function(a){function b(a){var d=Array(a.length),e=h[0][0],f=h[0][1],g=h[1][0],l=h[1][1];xd(c(a),h).cells.forEach(function(b,c){var h=b.edges,k=b.site;(d[c]=h.length?h.map(function(a){a=a.start();return[a.x,a.y]}):k.x>=e&&k.x<=g&&k.y>=f&&k.y<=l?[[e,l],[g,l],[g,f],[e,f]]:[]).point=a[c]});return d}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/G)*G,y:Math.round(g(a,b)/G)*G,i:b}})}
var d=yb,e=Mb,f=d,g=e,h=Rc;if(a)return b(a);b.links=function(a){return xd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];xd(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(cf),g=-1,h=f.length,l,k=f[h-1].edge,k=k.l===e?k.r:k.l;++g<h;)l=k,k=f[g].edge,k=k.l===e?k.r:k.l,d<l.i&&(d<k.i&&0>(e.x-k.x)*(l.y-e.y)-(e.x-l.x)*(k.y-e.y))&&b.push([a[d],a[l.i],a[k.i]])});return b};b.x=function(a){return arguments.length?
(f=ba(d=a),b):d};b.y=function(a){return arguments.length?(g=ba(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return h===Rc?null:h;h=null==a?Rc:a;return b};b.size=function(a){return!arguments.length?h===Rc?null:h&&h[1]:b.clipExtent(a&&[[0,0],a])};return b};var Rc=[[-1E6,-1E6],[1E6,1E6]];q.geom.delaunay=function(a){return q.geom.voronoi().triangles(a)};q.geom.quadtree=function(a,b,c,d,e){function f(a){function k(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var l=a.x,m=a.y;if(null!=
l){if(!(0.01>Q(l-c)+Q(m-d))){var n=a.point;a.x=a.y=a.point=null;t(a,n,l,m,e,f,g,h)}t(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else t(a,b,c,d,e,f,g,h)}function t(a,b,c,d,e,f,g,h){var l=0.5*(e+g),m=0.5*(f+h),n=c>=l,p=d>=m,x=(p<<1)+n;a.leaf=!1;a=a.nodes[x]||(a.nodes[x]=gf());n?e=l:g=l;p?f=m:h=m;k(a,b,c,d,e,f,g,h)}var m,n=ba(g),p=ba(h),q,r,C,s,u,v,w,B;if(null!=b)u=b,v=c,w=d,B=e;else if(w=B=-(u=v=Infinity),q=[],r=[],s=a.length,l)for(C=0;C<s;++C)m=a[C],m.x<u&&(u=m.x),m.y<v&&(v=m.y),m.x>w&&(w=m.x),m.y>
B&&(B=m.y),q.push(m.x),r.push(m.y);else for(C=0;C<s;++C){var z=+n(m=a[C],C);m=+p(m,C);z<u&&(u=z);m<v&&(v=m);z>w&&(w=z);m>B&&(B=m);q.push(z);r.push(m)}z=w-u;m=B-v;z>m?B=v+z:w=u+m;var y=gf();y.add=function(a){k(y,a,+n(a,++C),+p(a,C),u,v,w,B)};y.visit=function(a){Rb(a,y,u,v,w,B)};C=-1;if(null==b){for(;++C<s;)k(y,a[C],q[C],r[C],u,v,w,B);--C}else a.forEach(y.add);q=r=a=m=null;return y}var g=yb,h=Mb,l;if(l=arguments.length)return g=ch,h=dh,3===l&&(e=c,d=b,c=b=0),f(a);f.x=function(a){return arguments.length?
(g=a,f):g};f.y=function(a){return arguments.length?(h=a,f):h};f.extent=function(a){if(!arguments.length)return null==b?null:[[b,c],[d,e]];null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]);return f};f.size=function(a){if(!arguments.length)return null==b?null:[d-b,e-c];null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]);return f};return f};q.interpolateRgb=yd;q.interpolateObject=hf;q.interpolateNumber=Wa;q.interpolateString=jf;var zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ad=RegExp(zd.source,
"g");q.interpolate=ob;q.interpolators=[function(a,b){var c=typeof b;return("string"===c?Zb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?yd:jf:b instanceof ja?yd:Array.isArray(b)?vc:"object"===c&&isNaN(b)?hf:Wa)(a,b)}];q.interpolateArray=vc;var kg=function(){return ka},hi=q.map({linear:kg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return fh},cubic:function(){return gh},sin:function(){return ih},exp:function(){return jh},circle:function(){return kh},elastic:function(a,b){var c;
2>arguments.length&&(b=0.45);arguments.length?c=b/Ba*Math.asin(1/a):(a=1,c=b/4);return function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Ba/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return lh}}),ii=q.map({"in":ka,out:kf,"in-out":lf,"out-in":function(a){return lf(kf(a))}});q.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",c=hi.get(c)||kg,b=ii.get(b)||ka;return eh(b(c.apply(null,Yf.call(arguments,
1))))};q.interpolateHcl=function(a,b){a=q.hcl(a);b=q.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;isNaN(g)&&(g=0,d=isNaN(d)?b.c:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return hb(c+f*a,d+g*a,e+h*a)+""}};q.interpolateHsl=function(a,b){a=q.hsl(a);b=q.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;isNaN(g)&&(g=0,d=isNaN(d)?b.s:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return gb(c+f*a,d+g*a,e+h*a)+""}};
q.interpolateLab=function(a,b){a=q.lab(a);b=q.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return Gb(c+f*a,d+g*a,e+h*a)+""}};q.interpolateRound=mf;q.transform=function(a){var b=La.createElementNS(q.ns.prefix.svg,"g");return(q.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new nf(c?c.matrix:ji)})(a)};nf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+
")scale("+this.scale+")"};var ji={a:1,b:0,c:0,d:1,e:0,f:0};q.interpolateTransform=pf;q.layout={};q.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(oh(a[c]));return b}};q.layout.chord=function(){function a(){var c={},t=[],n=q.range(g),p=[],r,s,u,v,F;d=[];e=[];r=0;for(v=-1;++v<g;){s=0;for(F=-1;++F<g;)s+=f[v][F];t.push(s);p.push(q.range(g));r+=s}l&&n.sort(function(a,b){return l(t[a],t[b])});k&&p.forEach(function(a,b){a.sort(function(a,c){return k(f[b][a],f[b][c])})});
r=(Ba-h*g)/r;s=0;for(v=-1;++v<g;){u=s;for(F=-1;++F<g;){var w=n[v],B=p[w][F],z=f[w][B],y=s,D=s+=z*r;c[w+"-"+B]={index:w,subindex:B,startAngle:y,endAngle:D,value:z}}e[w]={index:w,startAngle:u,endAngle:s,value:(s-u)/r};s+=h}for(v=-1;++v<g;)for(F=v-1;++F<g;)if(n=c[v+"-"+F],p=c[F+"-"+v],n.value||p.value)d.push(n.value<p.value?{source:p,target:n}:{source:n,target:p});m&&b()}function b(){d.sort(function(a,b){return m((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,
h=0,l,k,m;c.matrix=function(a){if(!arguments.length)return f;g=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return h;h=a;d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return l;l=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return k;k=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return m;m=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};q.layout.force=
function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.cx-b.x;var f=a.cy-b.y;c=e-c;e=d*d+f*f;if(c*c/r<e)return e<n&&(c=a.charge/e,b.px-=d*c,b.py-=f*c),!0;a.point&&(e&&e<n)&&(c=a.pointCharge/e,b.px-=d*c,b.py-=f*c)}return!a.charge}}function b(a){a.px=q.event.x;a.py=q.event.y;c.resume()}var c={},d=q.dispatch("start","tick","end"),e=[1,1],f,g,h=0.9,l=ki,k=li,m=-30,n=mi,p=0.1,r=0.64,s=[],u=[],v,w,B;c.tick=function(){if(0.005>(g*=0.99))return d.end({type:"end",alpha:g=0}),!0;var b=s.length,
c=u.length,f,l,k,n,r,C,A;for(f=0;f<c;++f)if(l=u[f],k=l.source,n=l.target,C=n.x-k.x,A=n.y-k.y,r=C*C+A*A)r=g*w[f]*((r=Math.sqrt(r))-v[f])/r,C*=r,A*=r,n.x-=C*(r=k.weight/(n.weight+k.weight)),n.y-=A*r,k.x+=C*(r=1-r),k.y+=A*r;if(r=g*p)if(C=e[0]/2,A=e[1]/2,f=-1,r)for(;++f<b;)l=s[f],l.x+=(C-l.x)*r,l.y+=(A-l.y)*r;if(m){rf(c=q.geom.quadtree(s),g,B);for(f=-1;++f<b;)(l=s[f]).fixed||c.visit(a(l))}for(f=-1;++f<b;)l=s[f],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);d.tick({type:"tick",
alpha:g})};c.nodes=function(a){if(!arguments.length)return s;s=a;return c};c.links=function(a){if(!arguments.length)return u;u=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return c};c.friction=function(a){if(!arguments.length)return h;h=+a;return c};c.charge=function(a){if(!arguments.length)return m;
m="function"===typeof a?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(n);n=a*a;return c};c.gravity=function(a){if(!arguments.length)return p;p=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(r);r=a*a;return c};c.alpha=function(a){if(!arguments.length)return g;a=+a;g?g=0<a?a:0:0<a&&(d.start({type:"start",alpha:g=a}),q.timer(c.tick));return c};c.start=function(){function a(c,e){if(!t){t=Array(d);for(g=0;g<d;++g)t[g]=[];for(g=0;g<h;++g){var f=
u[g];t[f.source.index].push(f.target);t[f.target.index].push(f.source)}}for(var f=t[b],g=-1,h=f.length,l;++g<h;)if(!isNaN(l=f[g][c]))return l;return Math.random()*e}var b,d=s.length,f=u.length,g=e[0],h=e[1],t,n;for(b=0;b<d;++b)(n=s[b]).index=b,n.weight=0;for(b=0;b<f;++b)n=u[b],"number"==typeof n.source&&(n.source=s[n.source]),"number"==typeof n.target&&(n.target=s[n.target]),++n.source.weight,++n.target.weight;for(b=0;b<d;++b)n=s[b],isNaN(n.x)&&(n.x=a("x",g)),isNaN(n.y)&&(n.y=a("y",h)),isNaN(n.px)&&
(n.px=n.x),isNaN(n.py)&&(n.py=n.y);v=[];if("function"===typeof l)for(b=0;b<f;++b)v[b]=+l.call(this,u[b],b);else for(b=0;b<f;++b)v[b]=l;w=[];if("function"===typeof k)for(b=0;b<f;++b)w[b]=+k.call(this,u[b],b);else for(b=0;b<f;++b)w[b]=k;B=[];if("function"===typeof m)for(b=0;b<d;++b)B[b]=+m.call(this,s[b],b);else for(b=0;b<d;++b)B[b]=m;return c.resume()};c.resume=function(){return c.alpha(0.1)};c.stop=function(){return c.alpha(0)};c.drag=function(){f||(f=q.behavior.drag().origin(ka).on("dragstart.force",
ph).on("drag.force",b).on("dragend.force",qh));if(!arguments.length)return f;this.on("mouseover.force",rh).on("mouseout.force",sh).call(f)};return q.rebind(c,d,"on")};var ki=20,li=1,mi=Infinity;q.layout.hierarchy=function(){function a(e){var f=[e],g=[],h;for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(k=c.call(a,h,h.depth))&&(l=k.length)){for(var l,k,m;0<=--l;)f.push(m=k[l]),m.parent=h,m.depth=h.depth+1;d&&(h.value=0);h.children=k}else d&&(h.value=+d.call(a,h,h.depth)||0),delete h.children;Oa(e,function(a){var c,
e;b&&(c=a.children)&&c.sort(b);if(d&&(e=a.parent))e.value+=a.value});return g}var b=wh,c=uh,d=vh;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){d&&(Tb(b,function(a){a.children&&(a.value=0)}),Oa(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);if(c=b.parent)c.value+=b.value}));return b};return a};q.layout.partition=
function(){function a(b,c,d,e){var f=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(f&&(h=f.length)){var g=-1,h,l;for(d=b.value?d/b.value:0;++g<h;)a(l=f[g],c,b=l.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(f,g){var h=d.call(this,f,g);a(h[0],0,e[0],e[1]/b(h[0]));return h}var d=q.layout.hierarchy(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Sb(c,d)};q.layout.pie=function(){function a(f){var g=
f.map(function(c,d){return+b.call(a,c,d)}),h=+("function"===typeof d?d.apply(this,arguments):d),l=(("function"===typeof e?e.apply(this,arguments):e)-h)/q.sum(g),k=q.range(f.length);null!=c&&k.sort(c===lg?function(a,b){return g[b]-g[a]}:function(a,b){return c(f[a],f[b])});var m=[];k.forEach(function(a){var b;m[a]={data:f[a],value:b=g[a],startAngle:h,endAngle:h+=b*l}});return m}var b=Number,c=lg,d=0,e=Ba;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;
c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};return a};var lg={};q.layout.stack=function(){function a(h,l){var k=h.map(function(c,d){return b.call(a,c,d)}),m=k.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),n=c.call(a,m,l),k=q.permute(k,n),m=q.permute(m,n),n=d.call(a,m,l),p=k.length,r=k[0].length,s,u,v;for(u=0;u<r;++u){e.call(a,k[0][u],v=n[u],m[0][u][1]);for(s=
1;s<p;++s)e.call(a,k[s][u],v+=m[s-1][u][1],m[s][u][1])}return h}var b=ka,c=Bd,d=Cd,e=zh,f=xh,g=yh;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:ni.get(b)||Bd;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:oi.get(b)||Cd;return a};a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return e;
e=b;return a};return a};var ni=q.map({"inside-out":function(a){var b=a.length,c,d=a.map(Ah),e=a.map(Bh),f=q.range(b).sort(function(a,b){return d[a]-d[b]}),g=0,h=0,l=[],k=[];for(a=0;a<b;++a)c=f[a],g<h?(g+=e[c],l.push(c)):(h+=e[c],k.push(c));return k.reverse().concat(l)},reverse:function(a){return q.range(a.length).reverse()},"default":Bd}),oi=q.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,l=[];for(g=0;g<c;++g){for(h=f=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h);d.push(h)}for(g=0;g<
c;++g)l[g]=(e-d[g])/2;return l},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,l,k,m,n,p,r=[];r[0]=n=p=0;for(f=1;f<d;++f){for(h=e=0;e<b;++e)h+=a[e][f][1];l=e=0;for(m=c[f][0]-c[f-1][0];e<b;++e){g=0;for(k=(a[e][f][1]-a[e][f-1][1])/(2*m);g<e;++g)k+=(a[g][f][1]-a[g][f-1][1])/m;l+=k*a[e][f][1]}r[f]=n-=h?l/h*m:0;n<p&&(p=n)}for(f=0;f<d;++f)r[f]-=p;return r},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(g=e=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=
g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Cd});q.layout.histogram=function(){function a(f,g){var h=[],l=f.map(c,this),k=d.call(this,l,g),m=e.call(this,k,l,g),t;g=-1;for(var n=l.length,p=m.length-1,r=b?1:1/n;++g<p;)t=h[g]=[],t.dx=m[g+1]-(t.x=m[g]),t.y=0;if(0<p)for(g=-1;++g<n;)t=l[g],t>=k[0]&&t<=k[1]&&(t=h[q.bisect(m,t,1,p)-1],t.y+=r,t.push(f[g]));return h}var b=!0,c=Number,d=Eh,e=Dh;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;
d=ba(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return sf(a,b)}:ba(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};q.layout.pack=function(){function a(f,g){var h=b.call(this,f,g),l=h[0],k=d[0],m=d[1],t=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};l.x=l.y=0;Oa(l,function(a){a.r=+t(a.value)});Oa(l,vf);if(c){var n=c*(e?1:Math.max(2*l.r/k,2*l.r/m))/2;Oa(l,function(a){a.r+=n});Oa(l,vf);Oa(l,
function(a){a.r-=n})}xf(l,k/2,m/2,e?1:1/Math.max(2*l.r/k,2*l.r/m));return h}var b=q.layout.hierarchy().sort(Fh),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return Sb(a,b)};q.layout.tree=function(){function a(k,m){var t=f.call(this,k,m),n=t[0],p=b(n);Oa(p,c);p.parent.m=-p.z;Tb(p,d);if(l)Tb(n,e);else{var r=
n,q=n,s=n;Tb(n,function(a){a.x<r.x&&(r=a);a.x>q.x&&(q=a);a.depth>s.depth&&(s=a)});var u=g(r,q)/2-r.x,v=h[0]/(q.x+g(q,r)/2+u),w=h[1]/(s.depth||1);Tb(n,function(a){a.x=(a.x+u)*v;a.y=a.depth*w})}return t}function b(a){a={A:null,children:[a]};for(var c=[a],d;null!=(d=c.pop());)for(var e=d.children,f,g=0,h=e.length;g<h;++g)c.push((e[g]=f={_:e[g],parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f);return a.children[0]}function c(a){var b=a.children,d=a.parent.children,
e=a.i?d[a.i-1]:null;if(b.length){for(var f=0,h=0,l=a.children,k=l.length,m;0<=--k;)m=l[k],m.z+=f,m.m+=f,f+=m.s+(h+=m.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+g(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+g(a._,e._));b=a.parent;d=a.parent.A||d[0];if(e){h=f=a;l=f.parent.children[0];k=f.m;m=h.m;for(var n=e.m,t=l.m,p;e=Fd(e),f=Ed(f),e&&f;){l=Ed(l);h=Fd(h);h.a=a;p=e.z+n-f.z-k+g(e._,f._);if(0<p){var r=e.a.parent===a.parent?e.a:d,q=a,s=p,x=s/(q.i-r.i);q.c-=x;q.s+=s;r.c+=x;q.z+=s;q.m+=s;k+=p;m+=p}n+=e.m;
k+=f.m;t+=l.m;m+=h.m}e&&!Fd(h)&&(h.t=e,h.m+=n-m);f&&!Ed(l)&&(l.t=f,l.m+=k-t,d=a)}b.A=d}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=h[0];a.y=a.depth*h[1]}var f=q.layout.hierarchy().sort(null).value(null),g=yf,h=[1,1],l=null;a.separation=function(b){if(!arguments.length)return g;g=b;return a};a.size=function(b){if(!arguments.length)return l?null:h;l=null==(h=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return l?h:null;l=null==(h=b)?null:e;return a};return Sb(a,
f)};q.layout.cluster=function(){function a(f,g){var h=b.call(this,f,g),l=h[0],k,m=0;Oa(l,function(a){var b=a.children;b&&b.length?(a.x=Jh(b),a.y=Ih(b)):(a.x=k?m+=c(a,k):0,a.y=0,k=a)});var n=zf(l),t=Af(l),p=n.x-c(n,t)/2,r=t.x+c(t,n)/2;Oa(l,e?function(a){a.x=(a.x-l.x)*d[0];a.y=(l.y-a.y)*d[1]}:function(a){a.x=(a.x-p)/(r-p)*d[0];a.y=(1-(l.y?a.y/l.y:1))*d[1]});return h}var b=q.layout.hierarchy().sort(null).value(null),c=yf,d=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return c;c=b;return a};
a.size=function(b){if(!arguments.length)return e?null:d;e=null==(d=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=null!=(d=b);return a};return Sb(a,b)};q.layout.treemap=function(){function a(b,c){for(var d=-1,e=b.length,f,g;++d<e;)g=(f=b[d]).value*(0>c?0:c),f.area=isNaN(g)||0>=g?0:g}function b(c){var e=c.children;if(e&&e.length){var f=k(c),g=[],h=e.slice(),l=Infinity,m,n="slice"===p?f.dx:"dice"===p?f.dy:"slice-dice"===p?c.depth&1?f.dy:f.dx:Math.min(f.dx,f.dy);a(h,f.dx*
f.dy/c.value);for(g.area=0;0<(c=h.length);){g.push(c=h[c-1]);g.area+=c.area;if(!(c="squarify"!==p)){m=n;c=g.area;for(var q=void 0,s=0,x=Infinity,u=-1,v=g.length;++u<v;)if(q=g[u].area)q<x&&(x=q),q>s&&(s=q);c*=c;m*=m;c=(m=c?Math.max(m*s*r/c,c/(m*x*r)):Infinity)<=l}c?(h.pop(),l=m):(g.area-=g.pop().area,d(g,n,f,!1),n=Math.min(f.dx,f.dy),g.length=g.area=0,l=Infinity)}g.length&&(d(g,n,f,!0),g.length=g.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=k(b),g=e.slice(),h=[];a(g,f.dx*
f.dy/b.value);for(h.area=0;b=g.pop();)h.push(b),h.area+=b.area,null!=b.z&&(d(h,b.z?f.dx:f.dy,f,!g.length),h.length=h.area=0);e.forEach(c)}}function d(a,b,c,e){var f=-1,h=a.length,l=c.x,k=c.y,m=b?g(a.area/b):0,n;if(b==c.dx){if(e||m>c.dy)m=c.dy;for(;++f<h;)n=a[f],n.x=l,n.y=k,n.dy=m,l+=n.dx=Math.min(c.x+c.dx-l,m?g(n.area/m):0);n.z=!0;n.dx+=c.x+c.dx-l;c.y+=m;c.dy-=m}else{if(e||m>c.dx)m=c.dx;for(;++f<h;)n=a[f],n.x=l,n.y=k,n.dx=m,k+=n.dy=Math.min(c.y+c.dy-k,m?g(n.area/m):0);n.z=!1;n.dy+=c.y+c.dy-k;c.x+=
m;c.dx-=m}}function e(d){d=n||f(d);var g=d[0];g.x=0;g.y=0;g.dx=h[0];g.dy=h[1];n&&f.revalue(g);a([g],g.dx*g.dy/g.value);(n?c:b)(g);m&&(n=d);return d}var f=q.layout.hierarchy(),g=Math.round,h=[1,1],l=null,k=Gd,m=!1,n,p="squarify",r=0.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return h;h=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return null==d?Gd(c):Bf(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return Bf(b,a)}if(!arguments.length)return l;var d;k=
null==(l=a)?Gd:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return m;m=a;n=null;return e};e.ratio=function(a){if(!arguments.length)return r;r=a;return e};e.mode=function(a){if(!arguments.length)return p;p=a+"";return e};return Sb(e,f)};q.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*
Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=q.random.normal.apply(q,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=q.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};q.scale={};var Lh={floor:ka,ceil:ka};q.scale.linear=function(){return Df([0,1],[0,1],ob,!1)};var Oh={s:1,g:1,p:1,r:1,e:1};
q.scale.log=function(){return Ef(q.scale.linear().domain([0,1]),10,!0,[1,10])};var Ff=q.format(".0e"),Ph={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};q.scale.pow=function(){return Gf(q.scale.linear(),1,[0,1])};q.scale.sqrt=function(){return q.scale.pow().exponent(0.5)};q.scale.ordinal=function(){return Hf([],{t:"range",a:[[]]})};q.scale.category10=function(){return q.scale.ordinal().range(pi)};q.scale.category20=function(){return q.scale.ordinal().range(qi)};q.scale.category20b=
function(){return q.scale.ordinal().range(ri)};q.scale.category20c=function(){return q.scale.ordinal().range(si)};var pi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Vb),qi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Vb),ri=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,
8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Vb),si=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Vb);q.scale.quantile=function(){return If([],[])};q.scale.quantize=function(){return Jf(0,1,[0,1])};q.scale.threshold=function(){return Kf([0.5],[0,1])};q.scale.identity=function(){return Lf([0,1])};q.svg={};q.svg.arc=function(){function a(){var f=
b.apply(this,arguments),g=c.apply(this,arguments),h=d.apply(this,arguments)+pb,l=e.apply(this,arguments)+pb,k=(l<h&&(k=h,h=l,l=k),l-h),m=k<O?"0":"1",n=Math.cos(h),h=Math.sin(h),t=Math.cos(l),l=Math.sin(l);return k>=ti?f?"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+-g+"A"+g+","+g+" 0 1,1 0,"+g+"M0,"+f+"A"+f+","+f+" 0 1,0 0,"+-f+"A"+f+","+f+" 0 1,0 0,"+f+"Z":"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+-g+"A"+g+","+g+" 0 1,1 0,"+g+"Z":f?"M"+g*n+","+g*h+"A"+g+","+g+" 0 "+m+",1 "+g*t+","+g*l+"L"+f*t+","+f*l+"A"+f+","+f+" 0 "+
m+",0 "+f*n+","+f*h+"Z":"M"+g*n+","+g*h+"A"+g+","+g+" 0 "+m+",1 "+g*t+","+g*l+"L0,0Z"}var b=Qh,c=Rh,d=Mf,e=Nf;a.innerRadius=function(c){if(!arguments.length)return b;b=ba(c);return a};a.outerRadius=function(b){if(!arguments.length)return c;c=ba(b);return a};a.startAngle=function(b){if(!arguments.length)return d;d=ba(b);return a};a.endAngle=function(b){if(!arguments.length)return e;e=ba(b);return a};a.centroid=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,f=(d.apply(this,arguments)+
e.apply(this,arguments))/2+pb;return[Math.cos(f)*a,Math.sin(f)*a]};return a};var pb=-ma,ti=Ba-G;q.svg.line=function(){return Of(ka)};var Jd=q.map({linear:Ca,"linear-closed":function(a){return Ca(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);1<c&&e.push("H",d[0]);return e.join("")},"step-before":Kd,"step-after":Ld,basis:Pf,"basis-open":function(a){if(4>a.length)return Ca(a);for(var b=[],c=-1,d=a.length,e,f=[0],g=[0];3>++c;)e=
a[c],f.push(e[0]),g.push(e[1]);b.push(Ia(eb,f)+","+Ia(eb,g));for(--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),Nd(b,f,g);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];4>++c;)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[Ia(eb,g),",",Ia(eb,h)];for(--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),Nd(b,g,h);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,l,k;++h<=
c;)l=a[h],k=h/c,l[0]=b*l[0]+(1-b)*(d+k*f),l[1]=b*l[1]+(1-b)*(e+k*g);return Pf(a)},cardinal:function(a,b){return 3>a.length?Ca(a):a[0]+Ac(a,Md(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ca(a):a[1]+Ac(a.slice(1,a.length-1),Md(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ca(a):a[0]+Ac((a.push(a[0]),a),Md([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ca(a);else{var b=a[0],c=[],d,e,f,g;d=0;e=a.length-1;var h=[];f=a[1];for(g=h[0]=Od(a[0],f);++d<e;)h[d]=
(g+(g=Od(f,f=a[d+1])))/2;h[d]=g;for(var l=-1,k=a.length-1;++l<k;)d=Od(a[l],a[l+1]),Q(d)<G?h[l]=h[l+1]=0:(e=h[l]/d,f=h[l+1]/d,g=e*e+f*f,9<g&&(g=3*d/Math.sqrt(g),h[l]=g*e,h[l+1]=g*f));for(l=-1;++l<=k;)g=(a[Math.min(k,l+1)][0]-a[Math.max(0,l-1)][0])/(6*(1+h[l]*h[l])),c.push([g||0,h[l]*g||0]);a=b+Ac(a,c)}return a}});Jd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Qf=[0,2/3,1/3,0],Rf=[0,1/3,2/3,0],eb=[0,1/6,2/3,1/6];q.svg.line.radial=function(){var a=Of(Sf);a.radius=a.x;delete a.x;a.angle=
a.y;delete a.y;return a};Kd.reverse=Ld;Ld.reverse=Kd;q.svg.area=function(){return Tf(ka)};q.svg.area.radial=function(){var a=Tf(Sf);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};q.svg.chord=function(){function a(e,f){var g=b(this,c,e,f),h=b(this,d,e,f);return"M"+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>O)+",1 "+g.p1)+(g.a0==h.a0&&g.a1==h.a1?"Q 0,0 "+g.p0:"Q 0,0 "+h.p0+
("A"+h.r+","+h.r+" 0 "+ +(h.a1-h.a0>O)+",1 "+h.p1)+("Q 0,0 "+g.p0))+"Z"}function b(a,c,d,h){var l=c.call(a,d,h);c=e.call(a,l,h);d=f.call(a,l,h)+pb;a=g.call(a,l,h)+pb;return{r:c,a0:d,a1:a,p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}var c=pd,d=qd,e=Sh,f=Mf,g=Nf;a.radius=function(b){if(!arguments.length)return e;e=ba(b);return a};a.source=function(b){if(!arguments.length)return c;c=ba(b);return a};a.target=function(b){if(!arguments.length)return d;d=ba(b);return a};a.startAngle=
function(b){if(!arguments.length)return f;f=ba(b);return a};a.endAngle=function(b){if(!arguments.length)return g;g=ba(b);return a};return a};q.svg.diagonal=function(){function a(e,f){var g=b.call(this,e,f),h=c.call(this,e,f),l=(g.y+h.y)/2,g=[g,{x:g.x,y:l},{x:h.x,y:l},h],g=g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=pd,c=qd,d=Uf;a.source=function(c){if(!arguments.length)return b;b=ba(c);return a};a.target=function(b){if(!arguments.length)return c;c=ba(b);return a};a.projection=function(b){if(!arguments.length)return d;
d=b;return a};return a};q.svg.diagonal.radial=function(){var a=q.svg.diagonal(),b=Uf,c=a.projection;a.projection=function(a){return arguments.length?c(Th(b=a)):b};return a};q.svg.symbol=function(){function a(d,e){return(mg.get(b.call(this,d,e))||Vf)(c.call(this,d,e))}var b=Vh,c=Uh;a.type=function(c){if(!arguments.length)return b;b=ba(c);return a};a.size=function(b){if(!arguments.length)return c;c=ba(b);return a};return a};var mg=q.map({circle:Vf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+
","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*ng));var b=a*ng;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Sc);var b=a*Sc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Sc);var b=a*Sc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});q.svg.symbolTypes=
mg.keys();var Sc=Math.sqrt(3),ng=Math.tan(30*P),ia=[],bg=0,rb,Ec;ia.call=Y.call;ia.empty=Y.empty;ia.node=Y.node;ia.size=Y.size;q.transition=function(a){return arguments.length?rb?a.transition():a:ag.transition()};q.transition.prototype=ia;ia.select=function(a){var b=this.id,c=[],d,e,f;a=z(a);for(var g=-1,h=this.length;++g<h;){c.push(d=[]);for(var l=this[g],k=-1,m=l.length;++k<m;)(f=l[k])&&(e=a.call(f,f.__data__,k,g))?("__data__"in f&&(e.__data__=f.__data__),Bc(e,k,b,f.__transition__[b]),d.push(e)):
d.push(null)}return Ub(c,b)};ia.selectAll=function(a){var b=this.id,c=[],d,e,f,g;a=B(a);for(var h=-1,l=this.length;++h<l;)for(var k=this[h],m=-1,n=k.length;++m<n;)if(d=k[m]){g=d.__transition__[b];e=a.call(d,d.__data__,m,h);c.push(d=[]);for(var p=-1,r=e.length;++p<r;)(f=e[p])&&Bc(f,p,b,g),d.push(f)}return Ub(c,b)};ia.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=Da(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);d=this[f];for(var h=0,l=d.length;h<l;h++)(e=d[h])&&a.call(e,e.__data__,
h,f)&&c.push(e)}return Ub(b,this.id)};ia.tween=function(a,b){var c=this.id;return 2>arguments.length?this.node().__transition__[c].tween.get(a):S(this,null==b?function(b){b.__transition__[c].tween.remove(a)}:function(d){d.__transition__[c].tween.set(a,b)})};ia.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b=this.getAttribute(h),c;return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,
c(a))})})}function f(a){return null==a?d:(a+="",function(){var b=this.getAttributeNS(h.space,h.local),c;return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?pf:ob,h=q.ns.qualify(a);return Pd(this,"attr."+a,b,h.local?f:e)};ia.attrTween=function(a,b){function c(a,d){var f=b.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function d(a,c){var f=b.call(this,
a,c,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=q.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};ia.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Pd(this,"style."+a,b,function(b){return null==b?d:(b+="",function(){var d=ta.getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&
(e=ob(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};ia.styleTween=function(a,b,c){3>arguments.length&&(c="");return this.tween("style."+a,function(d,e){var f=b.call(this,d,e,ta.getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})};ia.text=function(a){return Pd(this,"text",a,Wh)};ia.remove=function(){return this.each("end.transition",function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};ia.ease=function(a){var b=
this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=q.ease.apply(q,arguments));return S(this,function(c){c.__transition__[b].ease=a})};ia.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:S(this,"function"===typeof a?function(c,d,e){c.__transition__[b].delay=+a.call(c,c.__data__,d,e)}:(a=+a,function(c){c.__transition__[b].delay=a}))};ia.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:
S(this,"function"===typeof a?function(c,d,e){c.__transition__[b].duration=Math.max(1,a.call(c,c.__data__,d,e))}:(a=Math.max(1,a),function(c){c.__transition__[b].duration=a}))};ia.each=function(a,b){var c=this.id;if(2>arguments.length){var d=Ec,e=rb;rb=c;S(this,function(b,d,e){Ec=b.__transition__[c];a.call(b,b.__data__,d,e)});Ec=d;rb=e}else S(this,function(d){d=d.__transition__[c];(d.event||(d.event=q.dispatch("start","end"))).on(a,b)});return this};ia.transition=function(){for(var a=this.id,b=++bg,
c=[],d,e,f,g,h=0,l=this.length;h<l;h++){c.push(d=[]);e=this[h];for(var k=0,m=e.length;k<m;k++){if(f=e[k])g=Object.create(f.__transition__[a]),g.delay+=g.duration,Bc(f,k,b,g);d.push(f)}}return Ub(c,b)};q.svg.axis=function(){function a(k){k.each(function(){var a=q.select(this),k=this.__chart__||b,m=this.__chart__=b.copy(),n=null==h?m.ticks?m.ticks.apply(m,g):m.domain():h,p=null==l?m.tickFormat?m.tickFormat.apply(m,g):ka:l,r=a.selectAll(".tick").data(n,m),n=r.enter().insert("g",".domain").attr("class",
"tick").style("opacity",G),t=q.transition(r.exit()).style("opacity",G).remove(),s=q.transition(r.order()).style("opacity",1),u,v=wc(m),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),q.transition(a));n.append("line");n.append("text");var w=n.select("line"),B=s.select("line"),p=r.select("text").text(p),r=n.select("text"),z=s.select("text");switch(c){case "bottom":u=Wf;w.attr("y2",d);r.attr("y",Math.max(d,0)+f);B.attr("x2",0).attr("y2",d);z.attr("x",0).attr("y",
Math.max(d,0)+f);p.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+v[0]+","+e+"V0H"+v[1]+"V"+e);break;case "top":u=Wf;w.attr("y2",-d);r.attr("y",-(Math.max(d,0)+f));B.attr("x2",0).attr("y2",-d);z.attr("x",0).attr("y",-(Math.max(d,0)+f));p.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+v[0]+","+-e+"V0H"+v[1]+"V"+-e);break;case "left":u=Xf;w.attr("x2",-d);r.attr("x",-(Math.max(d,0)+f));B.attr("x2",-d).attr("y2",0);z.attr("x",-(Math.max(d,0)+f)).attr("y",0);p.attr("dy",
".32em").style("text-anchor","end");a.attr("d","M"+-e+","+v[0]+"H0V"+v[1]+"H"+-e);break;case "right":u=Xf,w.attr("x2",d),r.attr("x",Math.max(d,0)+f),B.attr("x2",d).attr("y2",0),z.attr("x",Math.max(d,0)+f).attr("y",0),p.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+e+","+v[0]+"H0V"+v[1]+"H"+e)}if(m.rangeBand)var y=m,D=y.rangeBand()/2,k=m=function(a){return y(a)+D};else k.rangeBand?k=m:t.call(u,m);n.call(u,k);s.call(u,m)})}var b=q.scale.linear(),c=og,d=6,e=6,f=3,g=[10],h=null,l;a.scale=
function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in ui?b+"":og;return a};a.ticks=function(){if(!arguments.length)return g;g=arguments;return a};a.tickValues=function(b){if(!arguments.length)return h;h=b;return a};a.tickFormat=function(b){if(!arguments.length)return l;l=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;
return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var og="bottom",ui={top:1,right:1,bottom:1,left:1};q.svg.brush=function(){function a(f){f.each(function(){var f=q.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),l=f.selectAll(".background").data([0]);
l.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var k=f.selectAll(".resize").data(u,ka);k.exit().remove();k.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return vi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",
6).attr("height",6).style("visibility","hidden");k.style("display",a.empty()?"none":null);f=q.transition(f);l=q.transition(l);g&&(k=wc(g),l.attr("x",k[0]).attr("width",k[1]-k[0]),c(f));h&&(k=wc(h),l.attr("y",k[0]).attr("height",k[1]-k[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+k[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",l[0]);a.selectAll(".extent,.n\x3erect,.s\x3erect").attr("width",l[1]-l[0])}function d(a){a.select(".extent").attr("y",
k[0]);a.selectAll(".extent,.e\x3erect,.w\x3erect").attr("height",k[1]-k[0])}function e(){function u(){var a=q.mouse(B),e=!1;K&&(a[0]+=K[0],a[1]+=K[1]);J||(q.event.altKey?(G||(G=[(l[0]+l[1])/2,(k[0]+k[1])/2]),H[0]=l[+(a[0]<G[0])],H[1]=k[+(a[1]<G[1])]):G=null);N&&v(a,g,0)&&(c(D),e=!0);R&&v(a,h,1)&&(d(D),e=!0);e&&(b(D),y({type:"brush",mode:J?"move":"resize"}))}function v(a,b,c){var d=wc(b);b=d[0];var e=d[1],d=H[c],f=c?k:l,g=f[1]-f[0];J&&(b-=d,e-=g+d);a=(c?s:p)?Math.max(b,Math.min(e,a[c])):a[c];J?b=(a+=
d)+g:(G&&(d=Math.max(b,Math.min(e,2*G[c]-a))),d<a?(b=a,a=d):b=d);if(f[0]!=a||f[1]!=b)return c?n=null:m=null,f[0]=a,f[1]=b,!0}function w(){u();D.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);q.select("body").style("cursor",null);V.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);T();y({type:"brushend"})}var B=this,z=q.select(q.event.target),y=f.of(B,arguments),
D=q.select(B),E=z.datum(),N=!/^(n|s)$/.test(E)&&g,R=!/^(e|w)$/.test(E)&&h,J=z.classed("extent"),T=Pa(),G,H=q.mouse(B),K,V=q.select(ta).on("keydown.brush",function(){32==q.event.keyCode&&(J||(G=null,H[0]-=l[1],H[1]-=k[1],J=2),r())}).on("keyup.brush",function(){32==q.event.keyCode&&2==J&&(H[0]+=l[1],H[1]+=k[1],J=0,r())});if(q.event.changedTouches)V.on("touchmove.brush",u).on("touchend.brush",w);else V.on("mousemove.brush",u).on("mouseup.brush",w);D.interrupt().selectAll("*").interrupt();if(J)H[0]=l[0]-
H[0],H[1]=k[0]-H[1];else if(E){var M=+/w$/.test(E),E=+/^n/.test(E);K=[l[1-M]-H[0],k[1-E]-H[1]];H[0]=l[M];H[1]=k[E]}else q.event.altKey&&(G=H.slice());D.style("pointer-events","none").selectAll(".resize").style("display",null);q.select("body").style("cursor",z.style("cursor"));y({type:"brushstart"});u()}var f=D(a,"brushstart","brush","brushend"),g=null,h=null,l=[0,0],k=[0,0],m,n,p=!0,s=!0,u=Xd[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:l,y:k,i:m,j:n},c=this.__chart__||
b;this.__chart__=b;rb?q.select(this).transition().each("start.brush",function(){m=c.i;n=c.j;l=c.x;k=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=vc(l,b.x),d=vc(k,b.y);m=n=null;return function(e){l=b.x=c(e);k=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){m=b.i;n=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return g;g=b;u=
Xd[!g<<1|!h];return a};a.y=function(b){if(!arguments.length)return h;h=b;u=Xd[!g<<1|!h];return a};a.clamp=function(b){if(!arguments.length)return g&&h?[p,s]:g?p:h?s:null;g&&h?(p=!!b[0],s=!!b[1]):g?p=!!b:h&&(s=!!b);return a};a.extent=function(b){var c,d,e,f,p;if(!arguments.length)return g&&(m?(c=m[0],d=m[1]):(c=l[0],d=l[1],g.invert&&(c=g.invert(c),d=g.invert(d)),d<c&&(p=c,c=d,d=p))),h&&(n?(e=n[0],f=n[1]):(e=k[0],f=k[1],h.invert&&(e=h.invert(e),f=h.invert(f)),f<e&&(p=e,e=f,f=p))),g&&h?[[c,e],[d,f]]:
g?[c,d]:h&&[e,f];if(g&&(c=b[0],d=b[1],h&&(c=c[0],d=d[0]),m=[c,d],g.invert&&(c=g(c),d=g(d)),d<c&&(p=c,c=d,d=p),c!=l[0]||d!=l[1]))l=[c,d];if(h&&(e=b[0],f=b[1],g&&(e=e[1],f=f[1]),n=[e,f],h.invert&&(e=h(e),f=h(f)),f<e&&(p=e,e=f,f=p),e!=k[0]||f!=k[1]))k=[e,f];return a};a.clear=function(){a.empty()||(l=[0,0],k=[0,0],m=n=null);return a};a.empty=function(){return!!g&&l[0]==l[1]||!!h&&k[0]==k[1]};return q.rebind(a,f,"on")};var vi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",
se:"nwse-resize",sw:"nesw-resize"},Xd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Yd=K.format=dg.timeFormat,pg=Yd.utc,qg=pg("%Y-%m-%dT%H:%M:%S.%LZ");Yd.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Qd:qg;Qd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Qd.toString=qg.toString;K.second=jb(function(a){return new oa(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});K.seconds=K.second.range;
K.seconds.utc=K.second.utc.range;K.minute=jb(function(a){return new oa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});K.minutes=K.minute.range;K.minutes.utc=K.minute.utc.range;K.hour=jb(function(a){var b=a.getTimezoneOffset()/60;return new oa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});K.hours=K.hour.range;K.hours.utc=K.hour.utc.range;K.month=jb(function(a){a=
K.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});K.months=K.month.range;K.months.utc=K.month.utc.range;var Cc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Zd=[[K.second,1],[K.second,5],[K.second,15],[K.second,30],[K.minute,1],[K.minute,5],[K.minute,15],[K.minute,30],[K.hour,1],[K.hour,3],[K.hour,6],[K.hour,12],[K.day,1],[K.day,2],[K.week,1],[K.month,1],[K.month,3],[K.year,1]],wi=Yd.multi([[".%L",
function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",xb]]),Xh={range:function(a,b,c){return q.range(Math.ceil(a/c)*c,+b,c).map(qb)},floor:ka,ceil:ka};Zd.year=K.year;K.scale=function(){return Rd(q.scale.linear(),Zd,wi)};var rg=Zd.map(function(a){return[a[0].utc,
a[1]]}),xi=pg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",xb]]);rg.year=K.year.utc;K.scale.utc=function(){return Rd(q.scale.linear(),rg,xi)};q.text=cd(function(a){return a.responseText});
q.json=function(a,b){return $b(a,"application/json",Yh,b)};q.html=function(a,b){return $b(a,"text/html",Zh,b)};q.xml=cd(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(q):"object"===typeof module&&module.exports&&(module.exports=q);this.d3=q}()},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),
function(n,k,h,c,b,a,g,e,d,f,l,p,m,s,w,v){return d("dijit.layout.ContentPane",[h,c,b],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:n._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=l.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);
a=k.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var b=w.getLocalization("dijit","loading",this.lang);this.loadingMessage=a.substitute(this.loadingMessage,b);this.errorMessage=a.substitute(this.errorMessage,b)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&e.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&k.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){e.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&k.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&e.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&k.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){n.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new f(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){n.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new f(k.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new f(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
k.isObject(this.ioArgs)&&k.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||s.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;e.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(e.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||m.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){a=this.preprocessContent(a);this.destroyDescendants();var c=this._contentSetter;c&&c instanceof g._ContentSetter||(c=this._contentSetter=new g._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+
this.id+" could not change content due to "+b.message,b)}})}));var d=k.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(k.isObject(a)&&a.domNode?a.domNode:a,d),e=this;return v(d&&d.then?d:c.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(a))})},
preprocessContent:function(a){return a},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(n,k,h,c,b,a,g,e,d,f,l,p,m){function s(){}function w(a){return function(b,c,d,e){return b&&"string"==typeof c&&b[c]==s?b.on(c.substring(2).toLowerCase(),g.hitch(d,e)):a.apply(h,arguments)}}n.around(h,"connect",w);a.connect&&n.around(a,"connect",w);n=c("dijit._Widget",[l,p,m],{onClick:s,onDblClick:s,onKeyDown:s,onKeyPress:s,onKeyUp:s,onMouseDown:s,onMouseMove:s,onMouseOut:s,onMouseOver:s,onMouseLeave:s,onMouseEnter:s,onMouseUp:s,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
s&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===s?h.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(b,c){a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(b,c)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){a.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?e("[widgetId]",this.containerNode).map(f.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&d(0,function(){require(["dijit/_base"])});
return n})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(n,k,h,c,b,a){n=c("dijit._OnDijitClickMixin",null,{connect:function(b,c,d){return this.inherited(arguments,[b,"ondijitclick"==c?a:c,d])}});n.a11yclick=a;return n})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(n,k,h,c){function b(a){if((a.keyCode===n.ENTER||a.keyCode===n.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=
a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var a;h(document,"keydown",function(c){b(c)?(a=c.target,c.preventDefault()):a=null});h(document,"keyup",function(c){b(c)&&c.target==a&&(a=null,h.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var g=function(a,b){a.dojoClick=!0;return h(a,"click",b)};g.click=g;g.press=function(a,b){var f=h(a,c.press,function(a){("mousedown"!=a.type||k.isLeft(a))&&b(a)}),g=
h(a,"keydown",function(a){(a.keyCode===n.ENTER||a.keyCode===n.SPACE)&&b(a)});return{remove:function(){f.remove();g.remove()}}};g.release=function(a,b){var f=h(a,c.release,function(a){("mouseup"!=a.type||k.isLeft(a))&&b(a)}),g=h(a,"keyup",function(a){(a.keyCode===n.ENTER||a.keyCode===n.SPACE)&&b(a)});return{remove:function(){f.remove();g.remove()}}};g.move=c.move;return g})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(n,k,h,c){c.extend(k,
{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return h("dijit._FocusMixin",null,{_focusManager:n})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(n,k,h,c,b,a,g,e,d,f,l,p,m,s,w,v,r){var u,D,y=new (k([p,
g],{curNode:null,activeStack:[],constructor:function(){var b=e.hitch(this,function(a){h.isDescendant(this.curNode,a)&&this.set("curNode",null);h.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});n.before(a,"empty",b);n.before(a,"destroy",b)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,e=a.document&&a.document.body;if(e){var f=l("pointer-events")?"pointerdown":l("MSPointer")?"MSPointerDown":l("touch-events")?"mousedown, touchstart":
"mousedown",g=d(a.document,f,function(a){if(!a||!(a.target&&null==a.target.parentNode))c._onTouchNode(b||a.target,"mouse")}),h=d(e,"focusin",function(a){if(a.target.tagName){var d=a.target.tagName.toLowerCase();"#document"==d||"body"==d||(w.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),k=d(e,"focusout",function(a){c._onBlurNode(b||a.target)});return{remove:function(){g.remove();h.remove();k.remove();e=g=h=k=null}}}},_onBlurNode:function(a){a=(new Date).getTime();
a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(e.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<D+100||(this._clearActiveWidgetsTimer=setTimeout(e.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,d){D=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer);b.contains(a,"dijitPopup")&&(a=a.firstChild);var e=[];try{for(;a;){var f=c.get(a,"dijitPopupParent");if(f)a=v.byId(f).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===m.body())break;a=s.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),h=g&&v.byId(g);h&&!("mouse"==d&&h.get("disabled"))&&e.unshift(g);a=a.parentNode}}}catch(l){}this._setStack(e,d)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),
this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,e=a.length-1;if(a[e]!=c[d]){this.set("activeStack",a);var f;for(f=d;0<=f&&c[f]!=a[f];f--)if(d=v.byId(c[f]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),this.emit("widget-blur",d,b);for(f++;f<=e;f++)if(d=v.byId(a[f]))d.set("focused",
!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));f(function(){var a=y.registerWin(s.get(document));l("ie")&&d(window,"unload",function(){a&&(a.remove(),a=null)})});r.focus=function(a){y.focus(a)};for(var z in y)/^_/.test(z)||(r.focus[z]="function"==typeof y[z]?e.hitch(y,z):y[z]);y.watch(function(a,b,c){r.focus[a]=c});return y})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(n,k,h,c,b,a,g){var e={_isElementShown:function(a){var b=c.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=h.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return h.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(e){try{b=a.contentWindow.document.body}catch(g){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return h.get(a,"disabled")?void 0:h.has(a,"tabIndex")?+h.get(a,"tabIndex"):e.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=e.effectiveTabIndex(a)},isFocusable:function(a){return-1<=e.effectiveTabIndex(a)},_getTabNavigable:function(b){function c(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var g,k,m,n,w,v,r={},u=e._isElementShown,D=e.effectiveTabIndex,y=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=a("ie")&&"HTML"!==b.scopeName||!u(b))){var d=D(b);if(0<=d){if(0==d)g||(g=b),k=b;else if(0<d){if(!m||d<n)n=d,m=b;if(!w||d>=v)v=d,w=b}d=c(b);h.get(b,"checked")&&d&&(r[d]=b)}"SELECT"!=b.nodeName.toUpperCase()&&y(b)}};u(b)&&y(b);return{first:r[c(g)]||g,last:r[c(k)]||k,lowest:r[c(m)]||m,highest:r[c(w)]||w}},getFirstInTabbingOrder:function(a,
b){var c=e._getTabNavigable(k.byId(a,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,b){var c=e._getTabNavigable(k.byId(a,b));return c.last?c.last:c.highest}};b.mixin(g,e);return e})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(n,k,h,c,b){var a=b.doc.documentElement;b=c("ie");var g=c("trident"),e=c("opera"),d=Math.floor,f=c("ff"),l=n.boxModel.replace(/-/,""),e={dj_quirks:c("quirks"),dj_opera:e,dj_khtml:c("khtml"),
dj_webkit:c("webkit"),dj_safari:c("safari"),dj_chrome:c("chrome"),dj_edge:c("edge"),dj_gecko:c("mozilla"),dj_ios:c("ios"),dj_android:c("android")};b&&(e.dj_ie=!0,e["dj_ie"+d(b)]=!0,e.dj_iequirks=c("quirks"));g&&(e.dj_trident=!0,e["dj_trident"+d(g)]=!0);f&&(e["dj_ff"+d(f)]=!0);e["dj_"+l]=!0;var p="",m;for(m in e)e[m]&&(p+=m+" ");a.className=k.trim(a.className+" "+p);h(function(){if(!n.isBodyLtr()){var b="dj_rtl dijitRtl "+p.replace(/ /g,"-rtl ");a.className=k.trim(a.className+" "+b+"dj_rtl dijitRtl "+
p.replace(/ /g,"-rtl "))}});return c})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(n,k,h,c){h(function(){k("highcontrast")&&n.add(c.body(),"dijit_a11y")});return k})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(n,k,h,c,b,a,g){b.add("highcontrast",function(){var a=g.doc.createElement("div");try{a.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(k.blankGif||n.toUrl("./resources/blank.gif"))+'");';g.body().appendChild(a);var d=c.getComputedStyle(a),f=d.backgroundImage;return d.borderTopColor==d.borderRightColor||f&&("none"==f||"url(invalid-url:)"==f)}catch(h){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+h.toString()),!1}finally{8>=b("ie")?a.outerHTML="":g.body().removeChild(a)}});a(function(){b("highcontrast")&&h.add(g.body(),"dj_a11y")});return b})},"dijit/_Container":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(n,k,h,c){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(b,a){var c=this.containerNode;if(0<a){for(c=c.firstChild;0<a;)1==c.nodeType&&a--,c=c.nextSibling;c?a="before":(c=this.containerNode,a="last")}h.place(b.domNode,c,a);this._started&&!b._started&&b.startup()},removeChild:function(b){"number"==typeof b&&(b=this.getChildren()[b]);
b&&(b=b.domNode)&&b.parentNode&&b.parentNode.removeChild(b)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(b,a){var c=this.getChildren(),e=n.indexOf(c,b);return c[e+a]},getIndexOfChild:function(b){return n.indexOf(this.getChildren(),b)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(n,
k,h,c,b,a,g,e,d,f){return k("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(d.on("resize",a.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;g("\x3e *",this.containerNode).some(function(c){var d=
e.byNode(c);d&&d.resize?a.push(d):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;h.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,d){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
b&&c.setMarginBox(this.domNode,b);var e=this.containerNode;if(e===this.domNode){var g=d||{};a.mixin(g,b||{});if(!("h"in g)||!("w"in g))g=a.mixin(c.getMarginBox(e),g);this._contentBox=f.marginBox2contentBox(e,g)}else this._contentBox=c.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||c.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),
b,d=0;b=a[d++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!h.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define(["dojo/Evented",
"dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(n,k,h,c,b){var a=new n,g;h(function(){var e=b.getBox();a._rlh=k(window,"resize",function(){var c=b.getBox();e.h==c.h&&e.w==c.w||(e=c,a.emit("resize"))});if(8==c("ie")){var d=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=d&&(d=screen.deviceXDPI,a.emit("resize"))},500)}c("ios")&&(k(document,"focusin",function(a){g=a.target}),k(document,"focusout",function(a){g=null}))});a.getEffectiveBox=function(a){a=b.getBox(a);var d=g&&
g.tagName&&g.tagName.toLowerCase();if(c("ios")&&g&&!g.readOnly&&("textarea"==d||"input"==d&&/^(color|email|number|password|search|tel|text|url)$/.test(g.type)))a.h*=0==orientation||180==orientation?0.66:0.4,d=g.getBoundingClientRect(),a.h=Math.max(a.h,d.top+d.height);return a};return a})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(n,k,h,c,b){function a(a,c){var f=a.resize?a.resize(c):h.setMarginBox(a.domNode,
c);f?b.mixin(a,f):(b.mixin(a,h.getMarginBox(a.domNode)),b.mixin(a,c))}var g={marginBox2contentBox:function(a,b){var f=c.getComputedStyle(a),g=h.getMarginExtents(a,f),k=h.getPadBorderExtents(a,f);return{l:c.toPixelValue(a,f.paddingLeft),t:c.toPixelValue(a,f.paddingTop),w:b.w-(g.w+k.w),h:b.h-(g.h+k.h)}},layoutChildren:function(c,d,f,g,h){d=b.mixin({},d);k.add(c,"dijitLayoutContainer");f=n.filter(f,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(n.filter(f,function(a){return"center"==
a.region||"client"==a.layoutAlign}));n.forEach(f,function(b){var c=b.domNode,e=b.region||b.layoutAlign;if(!e)throw Error("No region setting for "+b.id);var f=c.style;f.left=d.l+"px";f.top=d.t+"px";f.position="absolute";k.add(c,"dijitAlign"+(e.substring(0,1).toUpperCase()+e.substring(1)));c={};g&&g==b.id&&(c["top"==b.region||"bottom"==b.region?"h":"w"]=h);"leading"==e&&(e=b.isLeftToRight()?"left":"right");"trailing"==e&&(e=b.isLeftToRight()?"right":"left");"top"==e||"bottom"==e?(c.w=d.w,a(b,c),d.h-=
b.h,"top"==e?d.t+=b.h:f.top=d.t+d.h+"px"):"left"==e||"right"==e?(c.h=d.h,a(b,c),d.w-=b.w,"left"==e?d.l+=b.w:f.left=d.l+d.w+"px"):("client"==e||"center"==e)&&a(b,d)})}};b.setObject("dijit.layout.utils",g);return g})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(n,k,h,c,b,a,g,e,d,f,l,p,m,s,w,v,r,u){function D(){}var y=k("dijit._MasterTooltip",[s,w],{duration:p.defaultDuration,templateString:r,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new v(this.domNode);this.fadeIn=h.fadeIn({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,"_onShow")});this.fadeOut=h.fadeOut({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,"_onHide")})},show:function(a,b,c,d,f,h,l){if(!this.aroundNode||!(this.aroundNode===
b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;f&&this.set("textDir",f);this.containerNode.align=d?"right":"left";var k=m.around(this.domNode,b,c&&c.length?c:z.defaultPosition,!d,e.hitch(this,"orient")),n=k.aroundNodePos;"M"==k.corner.charAt(0)&&"M"==k.aroundCorner.charAt(0)?(this.connectorNode.style.top=n.y+(n.h-this.connectorNode.offsetHeight>>1)-k.y+"px",this.connectorNode.style.left=""):"M"==k.corner.charAt(1)&&
"M"==k.aroundCorner.charAt(1)?this.connectorNode.style.left=n.x+(n.w-this.connectorNode.offsetWidth>>1)-k.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");g.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=h||D;this.onMouseLeave=l||D}},orient:function(b,c,d,e,f){this.connectorNode.style.top="";var g=e.h;e=e.w;b.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove",
"BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+"-"+d];this.domNode.style.width="auto";var h=a.position(this.domNode);if(l("ie")||l("trident"))h.w+=2;var k=Math.min(Math.max(e,1),h.w);a.setMarginBox(this.domNode,{w:k});"B"==d.charAt(0)&&"B"==c.charAt(0)?(b=a.position(b),c=
this.connectorNode.offsetHeight,b.h>g?(this.connectorNode.style.top=g-(f.h+c>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-c/2,0),b.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,h.w-e)},_onShow:function(){l("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=
!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=D},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});u.showTooltip=function(a,b,c,d,e,f,g){c&&(c=n.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));z._masterTT||(u._masterTT=z._masterTT=new y);return z._masterTT.show(a,b,c,d,e,f,g)};u.hideTooltip=function(a){return z._masterTT&&z._masterTT.hide(a)};
var z=k("dijit.Tooltip",s,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){n.forEach(this._connections||[],function(a){n.forEach(a,function(a){a.remove()})},this);this._connectIds=n.filter(e.isArrayLike(a)?a:a?[a]:[],function(a){return c.byId(a,this.ownerDocument)},this);this._connections=n.map(this._connectIds,function(a){a=c.byId(a,this.ownerDocument);var b=this.selector,g=b?function(a){return f.selector(b,a)}:function(a){return a},h=this;
return[f(a,g(d.enter),function(){h._onHover(this)}),f(a,g("focusin"),function(){h._onHover(this)}),f(a,g(d.leave),e.hitch(h,"_onUnHover")),f(a,g("focusout"),e.hitch(h,"set","state","DORMANT"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==n.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=n.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);
b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;n.forEach(e.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);
switch(a){case "DORMANT":this._connectNode&&(z.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}z.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,e.hitch(this,"set","state","SHOWING"),e.hitch(this,"set","state","HIDE TIMER"));
this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},
onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");n.forEach(this._connections||[],function(a){n.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});z._MasterTooltip=y;z.show=u.showTooltip;z.hide=u.hideTooltip;z.defaultPosition=["after-centered","before-centered"];return z})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(n,k,h,c,b){var a={};n.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(b){a[b]=c[b]});h.mixin(a,{defaultDuration:k.defaultDuration||200});h.mixin(b,a);return b})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(n,k,h,c,b,a,g){function e(c,d,e,g){var s=a.getEffectiveBox(c.ownerDocument);(!c.parentNode||"body"!=String(c.parentNode.tagName).toLowerCase())&&b.body(c.ownerDocument).appendChild(c);var w=null;n.some(d,function(a){var b=a.corner,d=a.pos,h=0,
l={w:{L:s.l+s.w-d.x,R:d.x-s.l,M:s.w}[b.charAt(1)],h:{T:s.t+s.h-d.y,B:d.y-s.t,M:s.h}[b.charAt(0)]},n=c.style;n.left=n.right="auto";e&&(h=e(c,a.aroundCorner,b,l,g),h="undefined"==typeof h?0:h);var r=c.style,v=r.display,J=r.visibility;"none"==r.display&&(r.visibility="hidden",r.display="");n=k.position(c);r.display=v;r.visibility=J;v={L:d.x,R:d.x-n.w,M:Math.max(s.l,Math.min(s.l+s.w,d.x+(n.w>>1))-n.w)}[b.charAt(1)];J={T:d.y,B:d.y-n.h,M:Math.max(s.t,Math.min(s.t+s.h,d.y+(n.h>>1))-n.h)}[b.charAt(0)];d=
Math.max(s.l,v);r=Math.max(s.t,J);v=Math.min(s.l+s.w,v+n.w);J=Math.min(s.t+s.h,J+n.h);v-=d;J-=r;h+=n.w-v+(n.h-J);if(null==w||h<w.overflow)w={corner:b,aroundCorner:a.aroundCorner,x:d,y:r,w:v,h:J,overflow:h,spaceAvailable:l};return!h});w.overflow&&e&&e(c,w.aroundCorner,w.corner,w.spaceAvailable,g);d=w.y;var v=w.x,r=b.body(c.ownerDocument);/relative|absolute/.test(h.get(r,"position"))&&(d-=h.get(r,"marginTop"),v-=h.get(r,"marginLeft"));r=c.style;r.top=d+"px";r.left=v+"px";r.right="auto";return w}var d=
{TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return g.place={at:function(a,b,c,g,h){c=n.map(c,function(a){var c={corner:a,aroundCorner:d[a],pos:{x:b.x,y:b.y}};g&&(c.pos.x+="L"==a.charAt(1)?g.x:-g.x,c.pos.y+="T"==a.charAt(0)?g.y:-g.y);return c});return e(a,c,h)},around:function(a,b,d,g,s){function w(a,b){J.push({aroundCorner:a,corner:b,pos:{x:{L:B,R:B+T,M:B+(T>>1)}[a.charAt(1)],y:{T:N,B:N+R,M:N+(R>>1)}[a.charAt(0)]}})}var v;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(v=k.position(b,!0),
/^(above|below)/.test(d[0])){var r=k.getBorderExtents(b),u=b.firstChild?k.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},D=k.getBorderExtents(a),y=a.firstChild?k.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};v.y+=Math.min(r.t+u.t,D.t+y.t);v.h-=Math.min(r.t+u.t,D.t+y.t)+Math.min(r.b+u.b,D.b+y.b)}}else v=b;if(b.parentNode){r="absolute"==h.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=k.position(b,!0);D=h.getComputedStyle(b);/relative|absolute/.test(D.position)&&
(r=!1);if(!r&&/hidden|auto|scroll/.test(D.overflow)){var y=Math.min(v.y+v.h,u.y+u.h),z=Math.min(v.x+v.w,u.x+u.w);v.x=Math.max(v.x,u.x);v.y=Math.max(v.y,u.y);v.h=y-v.y;v.w=z-v.x}"absolute"==D.position&&(r=!0);b=b.parentNode}}var B=v.x,N=v.y,T="w"in v?v.w:v.w=v.width,R="h"in v?v.h:(c.deprecated("place.around: dijit/place.__Rectangle: { x:"+B+", y:"+N+", height:"+v.height+", width:"+T+" } has been deprecated.  Please use { x:"+B+", y:"+N+", h:"+v.height+", w:"+T+" }","","2.0"),v.h=v.height),J=[];n.forEach(d,
function(a){var b=g;switch(a){case "above-centered":w("TM","BM");break;case "below-centered":w("BM","TM");break;case "after-centered":b=!b;case "before-centered":w(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":w(b?"TL":"TR",b?"TR":"TL");w(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":w(b?"BL":"BR",b?"TL":"TR");w(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":w(b?"TL":"TR",b?"BL":"BR");w(b?"TR":"TL",b?"BR":"BL");break;default:w(a.aroundCorner,
a.corner)}});a=e(a,J,s,{w:T,h:R});a.aroundNodePos=v;return a}}})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(n,k,h,c,b,a,g,e){e.add("config-bgIframe",e("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||e("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var d=new function(){var a=[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>e("ie")?(d="\x3ciframe src\x3d'"+
(h.dojoBlankHtmlUrl||n.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",d=document.createElement(d)):(d=c.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),b.set(d,"opacity",0.1)),d.tabIndex=-1);return d};this.push=function(b){b.style.display="none";a.push(b)}};k.BackgroundIframe=function(c){if(!c.id)throw Error("no id");
if(e("config-bgIframe")){var h=this.iframe=d.pop();c.appendChild(h);7>e("ie")||e("quirks")?(this.resize(c),this._conn=g(c,"resize",a.hitch(this,"resize",c))):b.set(h,{width:"100%",height:"100%"})}};a.extend(k.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}});
return k.BackgroundIframe})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),function(n,k,h,c,b,a,g,e,d,f,l,p,m,s,w,v){var r=h("dijit.layout._Splitter",[m,s],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=k(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var b=
this.horizontal?"h":"w",c=a.getMarginBox(this.child.domNode)[b],d=n.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],b=a.getContentBox(d.domNode)[b]-10;return Math.min(this.child.maxSize,c+b)},_startDrag:function(e){this.cover||(this.cover=b.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));c.add(this.cover,"dijitSplitterCoverActive");this.fake&&b.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),
c.add(this.domNode,"dijitSplitterShadow"),b.place(this.fake,this.domNode,"after");c.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&c.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var h=this._factor,k=this.horizontal,m=k?"pageY":"pageX",n=e[m],p=this.domNode.style,k=k?"h":"w",r=g.getComputedStyle(this.child.domNode),s=a.getMarginBox(this.child.domNode,r)[k],u=this._computeMaxSize(),v=Math.max(this.child.minSize,
a.getPadBorderExtents(this.child.domNode,r)[k]+10),k=this.region,w="top"==k||"bottom"==k?"top":"left",la=parseInt(p[w],10),Da=this._resize,fa=d.hitch(this.container,"_layoutChildren",this.child.id),k=this.ownerDocument;this._handlers=this._handlers.concat([f(k,l.move,this._drag=function(a,b){var c=a[m]-n,d=h*c+s,e=Math.max(Math.min(d,u),v);(Da||b)&&fa(e);p[w]=c+la+h*(e-d)+"px"}),f(k,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),f(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();
a.preventDefault()}),f(k,l.release,d.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault()},_onMouse:function(a){a="mouseover"==a.type||"mouseenter"==a.type;c.toggle(this.domNode,"dijitSplitterHover",a);c.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&c.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&b.destroy(this.fake),c.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),
this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&k(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(b){this._resize=!0;var c=this.horizontal,d=1;switch(b.keyCode){case c?e.UP_ARROW:e.LEFT_ARROW:d*=-1;case c?e.DOWN_ARROW:e.RIGHT_ARROW:break;default:return}c=a.getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*
d;this.container._layoutChildren(this.child.id,Math.max(Math.min(c,this._computeMaxSize()),this.child.minSize));b.stopPropagation();b.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),u=h("dijit.layout._Gutter",[m,s],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},
buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}});h=h("dijit.layout.BorderContainer",w,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:r,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var c=a.region,e=a.isLeftToRight();"leading"==c&&(c=e?"left":"right");"trailing"==c&&(c=e?"right":"left");if(c&&
"center"!=c&&(a.splitter||this.gutters)&&!a._splitterWidget)e=a.splitter?this._splitterClass:u,d.isString(e)&&(e=d.getObject(e)),e=new e({id:a.id+"_splitter",container:this,child:a,region:c,live:this.liveSplitters}),e.isSplitter=!0,a._splitterWidget=e,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),b.place(e.domNode,a.domNode,c?"before":"after"),e.startup()},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);
this.inherited(arguments)},getChildren:function(){return n.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(a){return n.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(b,c){if(!this.cs||!this.pe){var d=this.domNode;this.cs=g.getComputedStyle(d);this.pe=a.getPadExtents(d,this.cs);this.pe.r=g.toPixelValue(d,this.cs.paddingRight);this.pe.b=g.toPixelValue(d,this.cs.paddingBottom);g.set(d,"padding","0px")}this.inherited(arguments)},
_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var c=[];n.forEach(this._getOrderedChildren(),function(a){c.push(a);a._splitterWidget&&c.push(a._splitterWidget)});v.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},c,a,b)}},destroyRecursive:function(){n.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});h.ChildWidgetProperties={splitter:!1,
minSize:0,maxSize:Infinity};d.mixin(h.ChildWidgetProperties,w.ChildWidgetProperties);d.extend(p,h.ChildWidgetProperties);h._Splitter=r;h._Gutter=u;return h})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(n,k){n.cookie=function(h,c,b){var a=document.cookie,g;if(1==arguments.length)g=(g=a.match(RegExp("(?:^|; )"+k.escapeString(h)+"\x3d([^;]*)")))?decodeURIComponent(g[1]):void 0;else{b=b||{};a=b.expires;if("number"==typeof a){var e=new Date;e.setTime(e.getTime()+864E5*a);a=
b.expires=e}a&&a.toUTCString&&(b.expires=a.toUTCString());c=encodeURIComponent(c);var a=h+"\x3d"+c,d;for(d in b)a+="; "+d,e=b[d],!0!==e&&(a+="\x3d"+e);document.cookie=a}return g};n.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return n.cookie})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),
function(n,k,h,c,b,a,g,e){k=k("dijit.layout.LayoutContainer",g,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(n.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(a){this.inherited(arguments);a.region&&h.add(a.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var a=n.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:
-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);a.sort(function(a,b){for(var c=a.weight,d=b.weight,e=0;e<c.length;e++)if(c[e]!=d[e])return c[e]-d[e];return 0});return n.map(a,function(a){return a.pane})},layout:function(){e.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},removeChild:function(a){this.inherited(arguments);this._started&&this.layout();h.remove(a.domNode,this.baseClass+"Pane");c.set(a.domNode,
{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});c.set(a.domNode,/top|bottom/.test(a.region)?"width":"height","auto")}});k.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};b.extend(a,k.ChildWidgetProperties);return k})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(n,k,h,c,b,a,g,e,d){return a("dijit.layout._LayoutWidget",
[k,h,c],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(b.on("resize",n.hitch(this,"resize")))}},resize:function(a,b){var c=this.domNode;a&&e.setMarginBox(c,a);var g=b||{};n.mixin(g,a||{});if(!("h"in g)||!("w"in g))g=n.mixin(e.getMarginBox(c),
g);var h=d.getComputedStyle(c),k=e.getMarginExtents(c,h),v=e.getBorderExtents(c,h),g=this._borderBox={w:g.w-(k.w+v.w),h:g.h-(k.h+v.h)},k=e.getPadExtents(c,h);this._contentBox={l:d.toPixelValue(c,h.paddingLeft),t:d.toPixelValue(c,h.paddingTop),w:g.w-k.w,h:g.h-k.h};this.layout()},layout:function(){},_setupChild:function(a){g.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){g.remove(a.domNode,
this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(n,k){return n("dijit._Contained",null,{_getSibling:function(h){var c=this.getParent();return c&&c._getSiblingOfChild&&c._getSiblingOfChild(this,"previous"==h?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var h=
this.getParent();return!h||!h.getIndexOfChild?-1:h.getIndexOfChild(this)}})})},"dgrid/extensions/_DnD-touch-autoscroll":function(){define(["dojo/aspect","dojo/dom-geometry","dojo/dnd/autoscroll","../List"],function(n,k,h,c){var b=h.autoScrollNodes,a,g;a={};n.after(c.prototype,"postCreate",function(b){var c=this.id;a[c]&&console.warn("dgrid instance registered with duplicate id '"+c+"'");a[c]=this;return b});n.after(c.prototype,"destroy",function(b){delete a[this.id];return b});g=function(b){for(var c,
f;b;){if((c=b.id)&&(f=a[c]))return f;b=b.parentNode}};h.autoScrollNodes=function(a){var c=a.target,f=g(c),l,n,m,s,w,v;if(f&&(c=f.touchNode.parentNode,c=k.position(c,!0),l=a.pageX-c.x,n=a.pageY-c.y,m=Math.min(h.H_TRIGGER_AUTOSCROLL,c.w/2),s=Math.min(h.V_TRIGGER_AUTOSCROLL,c.h/2),l<m?w=-m:l>c.w-m&&(w=m),n<s?v=-s:n>c.h-s&&(v=s),w||v)){a=f.getScrollPosition();c={};w&&(c.x=a.x+w);v&&(c.y=a.y+v);f.scrollTo(c);return}b.call(this,a)};return h})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(n,k,h,c,b,a){var g={};n.setObject("dojo.dnd.autoscroll",g);g.getViewport=a.getBox;g.V_TRIGGER_AUTOSCROLL=32;g.H_TRIGGER_AUTOSCROLL=32;g.V_AUTOSCROLL_VALUE=16;g.H_AUTOSCROLL_VALUE=16;var e,d=h.doc,f=Infinity,l=Infinity;g.autoScrollStart=function(b){d=b;e=a.getBox(d);b=h.body(d).parentNode;f=Math.max(b.scrollHeight-e.h,0);l=Math.max(b.scrollWidth-e.w,0)};g.autoScroll=function(b){var c=e||a.getBox(d),k=h.body(d).parentNode,n=0,v=0;b.clientX<g.H_TRIGGER_AUTOSCROLL?n=-g.H_AUTOSCROLL_VALUE:b.clientX>
c.w-g.H_TRIGGER_AUTOSCROLL&&(n=Math.min(g.H_AUTOSCROLL_VALUE,l-k.scrollLeft));b.clientY<g.V_TRIGGER_AUTOSCROLL?v=-g.V_AUTOSCROLL_VALUE:b.clientY>c.h-g.V_TRIGGER_AUTOSCROLL&&(v=Math.min(g.V_AUTOSCROLL_VALUE,f-k.scrollTop));window.scrollBy(n,v)};g._validNodes={div:1,p:1,td:1};g._validOverflow={auto:1,scroll:1};g.autoScrollNodes=function(a){for(var d,e,f,l,n,u,D=0,y=0,z=a.target;z;){if(1==z.nodeType&&z.tagName.toLowerCase()in g._validNodes){f=b.getComputedStyle(z);l=f.overflow.toLowerCase()in g._validOverflow;
n=f.overflowX.toLowerCase()in g._validOverflow;u=f.overflowY.toLowerCase()in g._validOverflow;if(l||n||u)d=c.getContentBox(z,f),e=c.position(z,!0);if(l||n){f=Math.min(g.H_TRIGGER_AUTOSCROLL,d.w/2);n=a.pageX-e.x;if(k("webkit")||k("opera"))n+=h.body().scrollLeft;D=0;0<n&&n<d.w&&(n<f?D=-f:n>d.w-f&&(D=f),z.scrollLeft+=D)}if(l||u){l=Math.min(g.V_TRIGGER_AUTOSCROLL,d.h/2);u=a.pageY-e.y;if(k("webkit")||k("opera"))u+=h.body().scrollTop;y=0;0<u&&u<d.h&&(u<l?y=-l:u>d.h-l&&(y=l),z.scrollTop+=y)}if(D||y)return}try{z=
z.parentNode}catch(B){z=null}}g.autoScroll(a)};return g})},"url:ResultDetails/widgets/templates/Alerts.html":'\x3cdiv\x3e\n\t\x3ch3 class\x3d"resultInfoDialogHeadingSection"\x3e${sectionTitle}\x3c/h3\x3e\n\t\x3cdiv id\x3d"resultInfoDialog" data-dojo-attach-point\x3d"Alerts"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"errors"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"warnings"\x3e\x3c/div\x3e\n\t\t\x3cdiv class \x3d "documentationTagLink " data-dojo-attach-point\x3d"documentationTagLink"\x3e\x3c/div\x3e\n\t\t\x3cdiv class \x3d "mlfbApply " data-dojo-attach-point\x3d"mlfbApply"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n\n\t\x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:ResultDetails/widgets/templates/proposedDTSummary.html":'\x3cdiv\x3e\n\t\x3ch3 class\x3d"resultInfoDialogHeadingSection"\x3e${sectionTitle}\x3c/h3\x3e\n\t\x3cdiv id\x3d"${sectionId}" data-dojo-attach-point\x3d"${sectionId}"\x3e\n\t\t\x3cdiv class \x3d "comments" data-dojo-attach-point\x3d"comments"\x3e\x3c/div\x3e\n\t\t\x3cdiv class \x3d "${sectionGrid} resultDetailsGrid" data-dojo-attach-point\x3d"${sectionGrid}"\x3e\x3c/div\x3e\n\t\t\x3cdiv class \x3d "comments" data-dojo-attach-point\x3d"resultreportUnSpecifiedSignedness"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3ch3 class\x3d"resultInfoDialogHeadingSection"\x3e${unusedrangesectionTitle}\x3c/h3\x3e\n\t\x3cdiv class \x3d "${sectionGridUnused} resultDetailsGrid" data-dojo-attach-point\x3d"${sectionGridUnused}"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ResultDetails/widgets/templates/HistogramContainer.html":'\x3cdiv\x3e\n\t\x3ch3 class\x3d"resultInfoDialogHeadingSection"\x3e${sectionTitle}\x3c/h3\x3e\n\t\x3cdiv id\x3d"simulationData" data-dojo-attach-point\x3d"simulationData"\x3e\n\t\t\x3c!-- Show overflow info if present --\x3e\n\t\x3c/div\x3e\n    \x3cdiv id\x3d"histogramContainer" data-dojo-attach-point\x3d"histogramContainer"\x3e\n    \x3c!-- START: Legend Table Addition --\x3e\n\t\x3ctable data-dojo-attach-point\x3d "legendTableContainer" class\x3d"legend-table"\x3e\n\t\t\x3ctr class\x3d"legend-title"\x3e\n\t\t\t\x3cth class\x3d"legend-column"\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\x3cth data-dojo-attach-point\x3d"legendTableHeaderOverflows"\x3e\x3c/th\x3e\n\t\t\t\x3cth data-dojo-attach-point\x3d"legendTableHeaderInRange"\x3e\x3c/th\x3e\n\t\t\t\x3cth data-dojo-attach-point\x3d"legendTableHeaderUnderflows"\x3e\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd data-dojo-attach-point\x3d"legendTableColumnPositive" class\x3d"legend-column"\x3e\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3csvg width\x3d"10" height\x3d"10"\x3e\n\t\t\t\t\t\x3crect width\x3d"10" height\x3d"10" class\x3d"overflowPositiveRect"/\x3e\n\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"posOvNum"\x3e\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3csvg width\x3d"10" height\x3d"10"\x3e\n\t\t\t\t\t\x3crect width\x3d"10" height\x3d"10" class\x3d"inPositiveRect"/\x3e\n\t\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"posInNum"\x3e\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3csvg width\x3d"10" height\x3d"10"\x3e\n\t\t\t\t\t\x3crect width\x3d"10" height\x3d"10" class\x3d"underflowPositiveRect"/\x3e\n\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"posUnNum"\x3e\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd data-dojo-attach-point\x3d"legendTableColumnNegative" class\x3d"legend-column"\x3e\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3csvg width\x3d"10" height\x3d"10"\x3e\n\t\t\t\t\t\x3crect width\x3d"10" height\x3d"10" style\x3d"fill:url(#overflowDiagonalHatch)"/\x3e\n\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"negOvNum"\x3e\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3csvg width\x3d"10" height\x3d"10"\x3e\n\t\t\t\t\t\x3crect width\x3d"10" height\x3d"10" style\x3d"fill:url(#inrangeDiagonalHatch)"/\x3e\n\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"negInNum"\x3e\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3csvg width\x3d"10" height\x3d"10"\x3e\n\t\t\t\t\t\x3crect width\x3d"10" height\x3d"10" style\x3d"fill:url(#underflowDiagonalHatch)"/\x3e\n\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"negUnNum"\x3e\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/table\x3e\n\t\x3cp class\x3d"num-zeros"  data-dojo-attach-point\x3d"numZeroes"\x3e\x3c/p\x3e\n\t\x3c!-- END: Legend Table Addition --\x3e\n\t\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"*now":function(n){n(['dojo/i18n!*preload*ResultDetails/nls/ResultDetails*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("ResultDetails/ResultDetails",[],1);
//# sourceMappingURL=ResultDetails.js.map