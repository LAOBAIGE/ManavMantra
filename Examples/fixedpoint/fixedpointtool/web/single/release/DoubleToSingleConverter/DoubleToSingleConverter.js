//>>built
/*
 Copyright 2013 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2012-2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.

 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2013-2017 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2013-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2013-2016 The MathWorks, Inc.
 @module MW/dialog/DialogUtils

 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.

 Copyright 2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2016-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2013-14 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
*/
require({cache:{"DoubleToSingleConverter/main":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dijit/layout/ContentPane FPTUtils/js/Framework FPTDispatcher/Dispatcher FPTToolstrip/configs/SUDConfig FPTToolstrip/js/SUDWidgetHandler DoubleToSingleConverter/toolstrip/configs/WorkflowConfig DoubleToSingleConverter/toolstrip/configs/HelpConfig DoubleToSingleConverter/toolstrip/configs/HelpPopupList DoubleToSingleConverter/toolstrip/widgetCallbackManager DoubleToSingleConverter/View MW/uiframework/uicontainer/DocumentTypeProperties".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){return g(null,{_currentSystem:null,_framework:null,_documentPanel:null,_uiBuilder:null,_sudSubscription:null,constructor:function(c){f.startMessageService();this._framework=new b({domNodeTag:c.domNodeTag,toolstripConfigs:[d],toolstripPropupConfigs:[m],showTree:!1});this._uiBuilder=this._framework.getMainContainer().uiBuilder;this._framework.addOnlyToQuickAccessBar(l.QABOnlyDescriptor);var h={title:"Results",documentType:"Results",documentProperties:new s({collectiveLabel:"Results"}),
panelId:"mainDocument"},e=new a;this._documentPanel=this._framework.addDocumentPanel(h,e);this._View=new q({parentContainer:this._documentPanel,rootContainer:c.domNodeTag})},startup:function(){var d,a,b,m=this;this._framework.startup();this._sudHandler=new h(k.getID());d={startupTreeUniqueID:this._sudHandler.getUUID(),treeDepth:this._sudHandler.getTreeDepth()};a=(new n).getCallbackMap();for(var l=0;l<a.length;l++)b=this._uiBuilder.tagToId(a[l].tag),a[l].hasOwnProperty("preActionCallback")&&this._uiBuilder.addEventCallback(b,
c.hitch(m,a[l].preActionCallback),m),this._uiBuilder.addEventCallback(b,c.hitch(m,"executeOnServer",a[l]),m);this._framework.setFocus("mainDocument");e.subscribe("SUDSelected",function(d){m._View.displaySUD(d);d=m._uiBuilder.tagToId("singletoolstrip.convert_phase.convert");m._uiBuilder.set(d,"enabled",!0)});f.publish("/singleconverter/ready",d)},initiateConversion:function(){this._View.initiateConversion()},executeOnServer:function(d){f.remoteSendMessage({matlabFunctionName:d.callback,inputArgs:d.inputArgs,
outputArgs:0,priority:1,classifierString:d.classifierString})},destroy:function(){this._sudHandler.destroyRecursive();this._sudHandler=null;this._framework.destroyRecursive();this._View.destroyRecursive();f.destroy()}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return d("dijit.layout.ContentPane",[e,a,b],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:g._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(d,a,b){var f=new b(d,a);return!f.href&&f._contentSetter&&f._contentSetter.parseDeferred&&!f._contentSetter.parseDeferred.isFulfilled()?f._contentSetter.parseDeferred.then(function(){return f}):f},create:function(d,a){if((!d||!d.template)&&a&&!("href"in d)&&!("content"in d)){a=m.byId(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);
d=c.delegate(d,{content:b})}this.inherited(arguments,[d,a])},postMixInProperties:function(){this.inherited(arguments);var d=p.getLocalization("dijit","loading",this.lang);this.loadingMessage=f.substitute(this.loadingMessage,d);this.errorMessage=f.substitute(this.errorMessage,d)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&h.forEach(this._contentSetter.parseResults,
function(d){!d._started&&(!d._destroyed&&c.isFunction(d.startup))&&(d.startup(),d._started=!0)},this)},_startChildren:function(){h.forEach(this.getChildren(),function(d){!d._started&&(!d._destroyed&&c.isFunction(d.startup))&&(d.startup(),d._started=!0)});this._contentSetter&&h.forEach(this._contentSetter.parseResults,function(d){!d._started&&(!d._destroyed&&c.isFunction(d.startup))&&(d.startup(),d._started=!0)},this)},setHref:function(d){g.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",d)},_setHrefAttr:function(d){this.cancel();this.onLoadDeferred=new l(c.hitch(this,"cancel"));this.onLoadDeferred.then(c.hitch(this,"onLoad"));this._set("href",d);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(d){g.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",d)},_setContentAttr:function(d){this._set("href",
"");this.cancel();this.onLoadDeferred=new l(c.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(c.hitch(this,"onLoad"));this._setContent(d||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(d){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new l(c.hitch(this,"cancel"));this.onLoadDeferred.then(c.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var d=this,a={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
c.isObject(this.ioArgs)&&c.mixin(a,this.ioArgs);var b=this._xhrDfd=(this.ioMethod||s.get)(a),f;b.then(function(a){f=a;try{return d._isDownloaded=!0,d._setContent(a,!1)}catch(b){d._onError("Content",b)}},function(a){b.canceled||d._onError("Download",a);delete d._xhrDfd;return a}).then(function(){d.onDownloadEnd();delete d._xhrDfd;return f});delete this._hrefChanged},_onLoadHandler:function(d){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(d)}catch(a){console.error("Error "+this.widgetId+
" running custom onLoad code: "+a.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(d){console.error("Error "+this.widgetId+" running custom onUnload code: "+d.message)}},destroyDescendants:function(d){this.isLoaded&&this._onUnloadHandler();var a=this._contentSetter;h.forEach(this.getChildren(),function(a){a.destroyRecursive?a.destroyRecursive(d):a.destroy&&a.destroy(d);a._destroyed=!0});a&&(h.forEach(a.parseResults,function(a){a._destroyed||(a.destroyRecursive?
a.destroyRecursive(d):a.destroy&&a.destroy(d),a._destroyed=!0)}),delete a.parseResults);d||q.empty(this.containerNode);delete this._singleChild},_setContent:function(d,a){d=this.preprocessContent(d);this.destroyDescendants();var b=this._contentSetter;b&&b instanceof k._ContentSetter||(b=this._contentSetter=new k._ContentSetter({node:this.containerNode,_onError:c.hitch(this,this._onError),onContentError:c.hitch(this,function(d){d=this.onContentError(d);try{this.containerNode.innerHTML=d}catch(a){console.error("Fatal "+
this.id+" could not change content due to "+a.message,a)}})}));var f=c.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!d.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),f=b.set(c.isObject(d)&&d.domNode?d.domNode:d,f),h=this;return r(f&&f.then?f:b.parseDeferred,function(){delete h._contentSetterParams;a||(h._started&&(h._startChildren(),h._scheduleLayout()),h._onLoadHandler(d))})},
preprocessContent:function(d){return d},_onError:function(d,a,b){this.onLoadDeferred.reject(a);d=this["on"+d+"Error"].call(this,a);b?console.error(b,a):d&&this._setContent(d,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){function s(){}function p(d){return function(a,b,f,c){return a&&"string"==typeof b&&a[b]==s?a.on(b.substring(2).toLowerCase(),k.hitch(f,c)):d.apply(e,arguments)}}g.around(e,"connect",p);f.connect&&g.around(f,"connect",p);g=a("dijit._Widget",[m,n,q],{onClick:s,onDblClick:s,onKeyDown:s,onKeyPress:s,onKeyUp:s,onMouseDown:s,onMouseMove:s,onMouseOut:s,onMouseOver:s,onMouseLeave:s,onMouseEnter:s,onMouseUp:s,constructor:function(d){this._toConnect={};for(var a in d)this[a]===
s&&(this._toConnect[a.replace(/^on/,"").toLowerCase()]=d[a],delete d[a])},postCreate:function(){this.inherited(arguments);for(var d in this._toConnect)this.on(d,this._toConnect[d]);delete this._toConnect},on:function(d,a){return this[this._onMap(d)]===s?e.connect(this.domNode,d.toLowerCase(),this,a):this.inherited(arguments)},_setFocusedAttr:function(d){this._focused=d;this._set("focused",d)},setAttribute:function(d,a){f.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(d,a)},attr:function(d,a){return 2<=arguments.length||"object"===typeof d?this.set.apply(this,arguments):this.get(d)},getDescendants:function(){f.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?h("[widgetId]",this.containerNode).map(l.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&d(0,function(){require(["dijit/_base"])});
return g})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(g,c,e){var a={},b={},f={length:0,add:function(a){if(b[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");b[a.id]=a;this.length++},remove:function(a){b[a]&&(delete b[a],this.length--)},byId:function(a){return"string"==typeof a?b[a]:a},byNode:function(a){return b[a.getAttribute("widgetId")]},toArray:function(){var a=[],f;for(f in b)a.push(b[f]);
return a},getUniqueId:function(f){var c;do c=f+"_"+(f in a?++a[f]:a[f]=0);while(b[c]);return"dijit"==e._scopeName?c:e._scopeName+"_"+c},findWidgets:function(a,f){function d(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var e=a.getAttribute("widgetId");e?(e=b[e])&&c.push(e):a!==f&&d(a)}}var c=[];d(a);return c},_destroyAll:function(){e._curFocus=null;e._prevFocus=null;e._activeStack=[];g.forEach(f.findWidgets(c.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&
a.destroy())})},getEnclosingWidget:function(a){for(;a;){var f=1==a.nodeType&&a.getAttribute("widgetId");if(f)return b[f];a=a.parentNode}return null},_hash:b};return e.registry=f})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B){function D(d){return function(a){h[a?"set":"remove"](this.domNode,d,a);this._set(d,a)}}q.add("dijit-legacy-requires",!s.isAsync);q("dijit-legacy-requires")&&t(0,function(){g(["dijit/_base/manager"])});var A={};return f("dijit._WidgetBase",[u,w],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:D("lang"),dir:"",_setDirAttr:D("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(d){this._set("ownerDocument",d)},attributeMap:{},_blankGif:a.blankGif||g.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var d=this.constructor;if(!d._setterAttrs){var a=d.prototype,b=d._setterAttrs=[],d=d._onMap={},f;for(f in a.attributeMap)b.push(f);for(f in a)/^on/.test(f)&&(d[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+f.substr(5,
f.length-9),(!a.attributeMap||!(f in a.attributeMap))&&b.push(f))}},postscript:function(d,a){this.create(d,a)},create:function(d,a){this._introspect();this.srcNodeRef=k.byId(a);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);d&&(this.params=d,p.mixin(this,d));this.postMixInProperties();this.id||(this.id=B.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=
this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=v.body(this.ownerDocument);B.add(this);this.buildRendering();var b;if(this.domNode){this._applyAttributes();var f=this.srcNodeRef;f&&(f.parentNode&&this.domNode!==f)&&(f.parentNode.replaceChild(this.domNode,f),b=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();b&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var d={},a;for(a in this.params||{})d[a]=this._get(a);
c.forEach(this.constructor._setterAttrs,function(a){if(!(a in d)){var b=this._get(a);b&&this.set(a,b)}},this);for(a in d)this.set(a,d[a])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(c.map(a,function(d){return d+"Rtl"})));d.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=
!0,c.forEach(this.getChildren(),function(d){!d._started&&(!d._destroyed&&p.isFunction(d.startup))&&(d.startup(),d._started=!0)}))},destroyRecursive:function(d){this._beingDestroyed=!0;this.destroyDescendants(d);this.destroy(d)},destroy:function(d){function a(b){b.destroyRecursive?b.destroyRecursive(d):b.destroy&&b.destroy(d)}this._beingDestroyed=!0;this.uninitialize();c.forEach(this._connects,p.hitch(this,"disconnect"));c.forEach(this._supportingWidgets,a);this.domNode&&c.forEach(B.findWidgets(this.domNode,
this.containerNode),a);this.destroyRendering(d);B.remove(this.id);this._destroyed=!0},destroyRendering:function(d){this.bgIframe&&(this.bgIframe.destroy(d),delete this.bgIframe);this.domNode&&(d?h.remove(this.domNode,"widgetId"):l.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(d||l.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(d){c.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(d)})},uninitialize:function(){return!1},_setStyleAttr:function(d){var a=
this.domNode;p.isObject(d)?n.set(a,d):a.style.cssText=a.style.cssText?a.style.cssText+("; "+d):d;this._set("style",d)},_attrToDom:function(a,b,f){f=3<=arguments.length?f:this.attributeMap[a];c.forEach(p.isArray(f)?f:[f],function(f){var c=this[f.node||f||"domNode"];switch(f.type||"attribute"){case "attribute":p.isFunction(b)&&(b=p.hitch(this,b));f=f.attribute?f.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;c.tagName?h.set(c,f,b):c.set(f,b);break;case "innerText":c.innerHTML="";c.appendChild(this.ownerDocument.createTextNode(b));
break;case "textContent":c.textContent=b;break;case "innerHTML":c.innerHTML=b;break;case "class":d.replace(c,b,this[a]);break;case "toggleClass":d.toggle(c,f.className||a,b)}},this)},get:function(d){var a=this._getAttrNames(d);return this[a.g]?this[a.g]():this._get(d)},set:function(d,a){if("object"===typeof d){for(var b in d)this.set(b,d[b]);return this}b=this._getAttrNames(d);var f=this[b.s];if(p.isFunction(f))var c=f.apply(this,Array.prototype.slice.call(arguments,1));else{var f=this.focusNode&&
!p.isFunction(this.focusNode)?"focusNode":"domNode",h=this[f]&&this[f].tagName,e;if(e=h)if(!(e=A[h])){e=this[f];var m={},k;for(k in e)m[k.toLowerCase()]=!0;e=A[h]=m}k=e;b=d in this.attributeMap?this.attributeMap[d]:b.s in this?this[b.s]:k&&b.l in k&&"function"!=typeof a||/^aria-|^data-|^role$/.test(d)?f:null;null!=b&&this._attrToDom(d,a,b);this._set(d,a)}return c||this},_attrPairNames:{},_getAttrNames:function(d){var a=this._attrPairNames;if(a[d])return a[d];var b=d.replace(/^[a-z]|-[a-zA-Z]/g,function(d){return d.charAt(d.length-
1).toUpperCase()});return a[d]={n:d+"Node",s:"_set"+b+"Attr",g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(d,a){var b=this[d];this[d]=a;if(this._created&&!(b===a||b!==b&&a!==a))this._watchCallbacks&&this._watchCallbacks(d,b,a),this.emit("attrmodified-"+d,{detail:{prevValue:b,newValue:a}})},_get:function(d){return this[d]},emit:function(d,a,b){a=a||{};void 0===a.bubbles&&(a.bubbles=!0);void 0===a.cancelable&&(a.cancelable=!0);a.detail||(a.detail={});a.detail.widget=this;var f,c=this["on"+d];
c&&(f=c.apply(this,b?b:[a]));this._started&&!this._beingDestroyed&&r.emit(this.domNode,d.toLowerCase(),a);return f},on:function(d,a){var b=this._onMap(d);return b?e.after(this,b,a,!0):this.own(r(this.domNode,d,a))[0]},_onMap:function(d){var a=this.constructor,b=a._onMap;if(!b){var b=a._onMap={},f;for(f in a.prototype)/^on/.test(f)&&(b[f.replace(/^on/,"").toLowerCase()]=f)}return b["string"==typeof d&&d.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+
"]"},getChildren:function(){return this.containerNode?B.findWidgets(this.containerNode):[]},getParent:function(){return B.getEnclosingWidget(this.domNode.parentNode)},connect:function(d,a,f){return this.own(b.connect(d,a,this,f))[0]},disconnect:function(d){d.remove()},subscribe:function(d,a){return this.own(x.subscribe(d,p.hitch(this,a)))[0]},unsubscribe:function(d){d.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():m.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&
"none"!=n.get(this.domNode,"display")},placeAt:function(d,a){var b=!d.tagName&&B.byId(d);b&&b.addChild&&(!a||"number"===typeof a)?b.addChild(this,a):(b=b&&"domNode"in b?b.containerNode&&!/after|before|replace/.test(a||"")?b.containerNode:b.domNode:k.byId(d,this.ownerDocument),l.place(this.domNode,b,a),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(d,a){var b=setTimeout(p.hitch(this,function(){b&&(b=null,this._destroyed||p.hitch(this,d)())}),a||0);return{remove:function(){b&&
(clearTimeout(b),b=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(g,c,e,a){return g("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var f=this._attrPairNames;return f[a]?f[a]:f[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,f){return"function"===typeof this[f.g]?this[f.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(b,
f){if("object"===typeof b){for(var c in b)b.hasOwnProperty(c)&&"_watchCallbacks"!=c&&this.set(c,b[c]);return this}c=this._getAttrNames(b);var h=this._get(b,c);c=this[c.s];var d;"function"===typeof c?d=c.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=f;if(this._watchCallbacks){var e=this;a(d,function(){e._watchCallbacks(b,h,f)})}return this},_changeAttrValue:function(a,f){var c=this.get(a);this[a]=f;this._watchCallbacks&&this._watchCallbacks(a,c,f);return this},watch:function(a,f){var c=
this._watchCallbacks;if(!c)var h=this,c=this._watchCallbacks=function(d,a,b,f){var e=function(f){if(f){f=f.slice();for(var c=0,e=f.length;c<e;c++)f[c].call(h,d,a,b)}};e(c["_"+d]);f||e(c["*"])};!f&&"function"===typeof a?(f=a,a="*"):a="_"+a;var d=c[a];"object"!==typeof d&&(d=c[a]=[]);d.push(f);var l={};l.unwatch=l.remove=function(){var a=e.indexOf(d,f);-1<a&&d.splice(a,1)};return l}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(g,c,e){return e("dijit.Destroyable",
null,{destroy:function(a){this._destroyed=!0},own:function(){var a=["destroyRecursive","destroy","remove"];g.forEach(arguments,function(b){function f(){h.remove();g.forEach(d,function(d){d.remove()})}var e,h=c.before(this,"destroy",function(d){b[e](d)}),d=[];b.then?(e="cancel",b.then(f,f)):g.forEach(a,function(a){"function"===typeof b[a]&&(e||(e=a),d.push(c.after(b,a,f,!0)))})},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),
function(g,c,e,a,b,f){g=a("dijit._OnDijitClickMixin",null,{connect:function(a,b,d){return this.inherited(arguments,[a,"ondijitclick"==b?f:b,d])}});g.a11yclick=f;return g})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(g,c,e,a){function b(a){if((a.keyCode===g.ENTER||a.keyCode===g.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var f;e(document,"keydown",function(a){b(a)?(f=a.target,a.preventDefault()):
f=null});e(document,"keyup",function(a){b(a)&&a.target==f&&(f=null,e.emit(a.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey,altKey:a.altKey,_origType:a.type}))});var k=function(a,d){a.dojoClick=!0;return e(a,"click",d)};k.click=k;k.press=function(b,d){var f=e(b,a.press,function(a){("mousedown"!=a.type||c.isLeft(a))&&d(a)}),m=e(b,"keydown",function(a){(a.keyCode===g.ENTER||a.keyCode===g.SPACE)&&d(a)});return{remove:function(){f.remove();m.remove()}}};
k.release=function(b,d){var f=e(b,a.release,function(a){("mouseup"!=a.type||c.isLeft(a))&&d(a)}),m=e(b,"keyup",function(a){(a.keyCode===g.ENTER||a.keyCode===g.SPACE)&&d(a)});return{remove:function(){f.remove();m.remove()}}};k.move=a.move;return k})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(g,c,e,a,b,f,k,h,d,l){function m(a,d,b){return p&&b?function(a,d){return f(a,b,d)}:t?function(b,c){var e=
f(b,d,function(a){c.call(this,a);F=(new Date).getTime()}),m=f(b,a,function(a){(!F||(new Date).getTime()>F+1E3)&&c.call(this,a)});return{remove:function(){e.remove();m.remove()}}}:function(d,b){return f(d,a,b)}}function n(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function q(d,b,c){if(!h.isRight(d)){var m=n(d.target);if(x=!d.target.disabled&&m&&m.dojoClick)if(w=(v="useTarget"==x)?m:d.target,v&&d.preventDefault(),y=d.changedTouches?d.changedTouches[0].pageX-l.global.pageXOffset:d.clientX,
B=d.changedTouches?d.changedTouches[0].pageY-l.global.pageYOffset:d.clientY,D=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,A=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,!u){u=!0;var k=function(a){x=v?e.isDescendant(l.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-l.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-l.global.pageYOffset:a.clientY),w):x&&(a.changedTouches?a.changedTouches[0].target:a.target)==w&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-
l.global.pageXOffset:a.clientX)-y)<=D&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-l.global.pageYOffset:a.clientY)-B)<=A};l.doc.addEventListener(b,function(a){h.isRight(a)||(k(a),v&&a.preventDefault())},!0);l.doc.addEventListener(c,function(a){if(!h.isRight(a)&&(k(a),x)){z=(new Date).getTime();var d=v?w:a.target;"LABEL"===d.tagName&&(d=e.byId(d.getAttribute("for"))||d);var b=a.changedTouches?a.changedTouches[0]:a,c=function(d){var f=document.createEvent("MouseEvents");f._dojo_click=!0;f.initMouseEvent(d,
!0,!0,a.view,a.detail,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return f},m=c("mousedown"),l=c("mouseup"),n=c("click");setTimeout(function(){f.emit(d,"mousedown",m);f.emit(d,"mouseup",l);f.emit(d,"click",n);z=(new Date).getTime()},0)}},!0);d=function(d){l.doc.addEventListener(d,function(b){var f=b.target;x&&(!b._dojo_click&&(new Date).getTime()<=z+1E3&&!("INPUT"==f.tagName&&a.contains(f,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&
b.stopImmediatePropagation(),"click"==d&&(("INPUT"!=f.tagName||"radio"==f.type&&(a.contains(f,"dijitCheckBoxInput")||a.contains(f,"mblRadioButton"))||"checkbox"==f.type&&(a.contains(f,"dijitCheckBoxInput")||a.contains(f,"mblCheckBox")))&&"TEXTAREA"!=f.tagName&&"AUDIO"!=f.tagName&&"VIDEO"!=f.tagName)&&b.preventDefault())},!0)};d("click");d("mousedown");d("mouseup")}}}var s=5>k("ios"),p=k("pointer-events")||k("MSPointer"),r=function(){var a={},d;for(d in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[d]=
k("MSPointer")?"MSPointer"+d.charAt(0).toUpperCase()+d.slice(1):"pointer"+d;return a}(),t=k("touch-events"),u,x,v=!1,w,y,B,D,A,z,F,E;k("touch")&&(p?d(function(){l.doc.addEventListener(r.down,function(a){q(a,r.move,r.up)},!0)}):d(function(){function a(d){var f=b.delegate(d,{bubbles:!0});6<=k("ios")&&(f.touches=d.touches,f.altKey=d.altKey,f.changedTouches=d.changedTouches,f.ctrlKey=d.ctrlKey,f.metaKey=d.metaKey,f.shiftKey=d.shiftKey,f.targetTouches=d.targetTouches);return f}E=l.body();l.doc.addEventListener("touchstart",
function(a){F=(new Date).getTime();var d=E;E=a.target;f.emit(d,"dojotouchout",{relatedTarget:E,bubbles:!0});f.emit(E,"dojotouchover",{relatedTarget:d,bubbles:!0});q(a,"touchmove","touchend")},!0);f(l.doc,"touchmove",function(d){F=(new Date).getTime();var b=l.doc.elementFromPoint(d.pageX-(s?0:l.global.pageXOffset),d.pageY-(s?0:l.global.pageYOffset));b&&(E!==b&&(f.emit(E,"dojotouchout",{relatedTarget:b,bubbles:!0}),f.emit(b,"dojotouchover",{relatedTarget:E,bubbles:!0}),E=b),f.emit(b,"dojotouchmove",
a(d))||d.preventDefault())});f(l.doc,"touchend",function(d){F=(new Date).getTime();var b=l.doc.elementFromPoint(d.pageX-(s?0:l.global.pageXOffset),d.pageY-(s?0:l.global.pageYOffset))||l.body();f.emit(b,"dojotouchend",a(d))})}));c={press:m("mousedown","touchstart",r.down),move:m("mousemove","dojotouchmove",r.move),release:m("mouseup","dojotouchend",r.up),cancel:m(h.leave,"touchcancel",p?r.cancel:null),over:m("mouseover","dojotouchover",r.over),out:m("mouseout","dojotouchout",r.out),enter:h._eventHandler(m("mouseover",
"dojotouchover",r.over)),leave:h._eventHandler(m("mouseout","dojotouchout",r.out))};return g.touch=c})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(g,c,e,a){a.extend(c,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return e("dijit._FocusMixin",null,{_focusManager:g})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){var u,x,v=new (c([n,k],{curNode:null,activeStack:[],constructor:function(){var a=h.hitch(this,function(a){e.isDescendant(this.curNode,a)&&this.set("curNode",null);e.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});g.before(f,"empty",a);g.before(f,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var f=this,c=a.document&&a.document.body;if(c){var e=m("pointer-events")?"pointerdown":m("MSPointer")?
"MSPointerDown":m("touch-events")?"mousedown, touchstart":"mousedown",h=d(a.document,e,function(a){if(!a||!(a.target&&null==a.target.parentNode))f._onTouchNode(b||a.target,"mouse")}),l=d(c,"focusin",function(a){if(a.target.tagName){var d=a.target.tagName.toLowerCase();"#document"==d||"body"==d||(p.isFocusable(a.target)?f._onFocusNode(b||a.target):f._onTouchNode(b||a.target))}}),k=d(c,"focusout",function(a){f._onBlurNode(b||a.target)});return{remove:function(){h.remove();l.remove();k.remove();c=h=
l=k=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(d,f){x=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);b.contains(d,"dijitPopup")&&(d=d.firstChild);var c=[];try{for(;d;){var e=a.get(d,"dijitPopupParent");if(e)d=r.byId(e).domNode;else if(d.tagName&&"body"==d.tagName.toLowerCase()){if(d===q.body())break;d=s.get(d.ownerDocument).frameElement}else{var m=d.getAttribute&&d.getAttribute("widgetId"),h=m&&r.byId(m);h&&!("mouse"==f&&h.get("disabled"))&&c.unshift(m);d=d.parentNode}}}catch(l){}this._setStack(c,
f)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,d){var b=this.activeStack,f=b.length-1,c=a.length-1;if(a[c]!=b[f]){this.set("activeStack",a);var e;for(e=f;0<=e&&b[e]!=a[e];e--)if(f=r.byId(b[e]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(d),
this.emit("widget-blur",f,d);for(e++;e<=c;e++)if(f=r.byId(a[e]))f.set("focused",!0),f._focusManager==this&&f._onFocus(d),this.emit("widget-focus",f,d)}},focus:function(a){if(a)try{a.focus()}catch(d){}}}));l(function(){var a=v.registerWin(s.get(document));m("ie")&&d(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){v.focus(a)};for(var w in v)/^_/.test(w)||(t.focus[w]="function"==typeof v[w]?h.hitch(v,w):v[w]);v.watch(function(a,d,b){t.focus[a]=b});return v})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(g,c,e,a,b,f,k){var h={_isElementShown:function(d){var b=a.get(d);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=e.get(d,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return e.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var f=a.contentDocument;if("designMode"in f&&"on"==f.designMode)return!0;b=f.body}catch(c){try{b=a.contentWindow.document.body}catch(h){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return e.get(a,"disabled")?void 0:e.has(a,"tabIndex")?+e.get(a,"tabIndex"):h.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=h.effectiveTabIndex(a)},isFocusable:function(a){return-1<=h.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var c,k,q,g,p,r,t={},u=h._isElementShown,x=h.effectiveTabIndex,v=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=f("ie")&&"HTML"!==a.scopeName||!u(a))){var d=x(a);if(0<=d){if(0==d)c||(c=a),k=a;else if(0<d){if(!q||d<g)g=d,q=a;if(!p||d>=r)r=d,p=a}d=b(a);e.get(a,"checked")&&d&&(t[d]=a)}"SELECT"!=a.nodeName.toUpperCase()&&v(a)}};u(a)&&v(a);return{first:t[b(c)]||c,last:t[b(k)]||k,lowest:t[b(q)]||q,highest:t[b(p)]||p}},getFirstInTabbingOrder:function(a,
b){var f=h._getTabNavigable(c.byId(a,b));return f.lowest?f.lowest:f.first},getLastInTabbingOrder:function(a,b){var f=h._getTabNavigable(c.byId(a,b));return f.last?f.last:f.highest}};b.mixin(k,h);return h})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(g,c,e,a,b){var f=b.doc.documentElement;b=a("ie");var k=a("trident"),h=a("opera"),d=Math.floor,l=a("ff"),m=g.boxModel.replace(/-/,""),h={dj_quirks:a("quirks"),dj_opera:h,dj_khtml:a("khtml"),
dj_webkit:a("webkit"),dj_safari:a("safari"),dj_chrome:a("chrome"),dj_edge:a("edge"),dj_gecko:a("mozilla"),dj_ios:a("ios"),dj_android:a("android")};b&&(h.dj_ie=!0,h["dj_ie"+d(b)]=!0,h.dj_iequirks=a("quirks"));k&&(h.dj_trident=!0,h["dj_trident"+d(k)]=!0);l&&(h["dj_ff"+d(l)]=!0);h["dj_"+m]=!0;var n="",q;for(q in h)h[q]&&(n+=q+" ");f.className=c.trim(f.className+" "+n);e(function(){if(!g.isBodyLtr()){var a="dj_rtl dijitRtl "+n.replace(/ /g,"-rtl ");f.className=c.trim(f.className+" "+a+"dj_rtl dijitRtl "+
n.replace(/ /g,"-rtl "))}});return a})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(g,c,e,a){e(function(){c("highcontrast")&&g.add(a.body(),"dijit_a11y")});return c})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(g,c,e,a,b,f,k){b.add("highcontrast",function(){var f=k.doc.createElement("div");try{f.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(c.blankGif||g.toUrl("./resources/blank.gif"))+'");';k.body().appendChild(f);var d=a.getComputedStyle(f),e=d.backgroundImage;return d.borderTopColor==d.borderRightColor||e&&("none"==e||"url(invalid-url:)"==e)}catch(m){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+m.toString()),!1}finally{8>=b("ie")?f.outerHTML="":k.body().removeChild(f)}});f(function(){b("highcontrast")&&e.add(k.body(),"dj_a11y")});return b})},"dijit/_Container":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(g,c,e,a){return c("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,f){var c=this.containerNode;if(0<f){for(c=c.firstChild;0<f;)1==c.nodeType&&f--,c=c.nextSibling;c?f="before":(c=this.containerNode,f="last")}e.place(a.domNode,c,f);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);
a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,f){var c=this.getChildren(),e=g.indexOf(c,a);return c[e+f]},getIndexOfChild:function(a){return g.indexOf(this.getChildren(),a)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(g,
c,e,a,b,f,k,h,d,l){return c("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(d.on("resize",f.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],d=!1;k("\x3e *",this.containerNode).some(function(b){var f=
h.byNode(b);f&&f.resize?a.push(f):!/script|link|style/i.test(b.nodeName)&&b.offsetHeight&&(d=!0)});this._singleChild=1==a.length&&!d?a[0]:null;e.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,d){this._resizeCalled=!0;this._scheduleLayout(a,d)},_scheduleLayout:function(a,d){this._isShown()?this._layout(a,d):(this._needLayout=!0,this._changeSize=a,this._resultSize=d)},_layout:function(d,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
d&&a.setMarginBox(this.domNode,d);var c=this.containerNode;if(c===this.domNode){var e=b||{};f.mixin(e,d||{});if(!("h"in e)||!("w"in e))e=f.mixin(a.getMarginBox(c),e);this._contentBox=l.marginBox2contentBox(c,e)}else this._contentBox=a.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var d=this._contentBox||a.getContentBox(this.containerNode);this._singleChild.resize({w:d.w,h:d.h})}else for(var d=this.getChildren(),
b,f=0;b=d[f++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,d=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!e.contains(a,"dijitHidden")&&d&&d.style&&"none"!=d.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define(["dojo/Evented",
"dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(g,c,e,a,b){var f=new g,k;e(function(){var e=b.getBox();f._rlh=c(window,"resize",function(){var a=b.getBox();e.h==a.h&&e.w==a.w||(e=a,f.emit("resize"))});if(8==a("ie")){var d=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=d&&(d=screen.deviceXDPI,f.emit("resize"))},500)}a("ios")&&(c(document,"focusin",function(a){k=a.target}),c(document,"focusout",function(a){k=null}))});f.getEffectiveBox=function(f){f=b.getBox(f);var d=k&&
k.tagName&&k.tagName.toLowerCase();if(a("ios")&&k&&!k.readOnly&&("textarea"==d||"input"==d&&/^(color|email|number|password|search|tel|text|url)$/.test(k.type)))f.h*=0==orientation||180==orientation?0.66:0.4,d=k.getBoundingClientRect(),f.h=Math.max(f.h,d.top+d.height);return f};return f})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(g,c,e,a,b){function f(a,d){var f=a.resize?a.resize(d):e.setMarginBox(a.domNode,
d);f?b.mixin(a,f):(b.mixin(a,e.getMarginBox(a.domNode)),b.mixin(a,d))}var k={marginBox2contentBox:function(b,d){var f=a.getComputedStyle(b),c=e.getMarginExtents(b,f),k=e.getPadBorderExtents(b,f);return{l:a.toPixelValue(b,f.paddingLeft),t:a.toPixelValue(b,f.paddingTop),w:d.w-(c.w+k.w),h:d.h-(c.h+k.h)}},layoutChildren:function(a,d,e,m,k){d=b.mixin({},d);c.add(a,"dijitLayoutContainer");e=g.filter(e,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(g.filter(e,function(a){return"center"==
a.region||"client"==a.layoutAlign}));g.forEach(e,function(a){var b=a.domNode,e=a.region||a.layoutAlign;if(!e)throw Error("No region setting for "+a.id);var h=b.style;h.left=d.l+"px";h.top=d.t+"px";h.position="absolute";c.add(b,"dijitAlign"+(e.substring(0,1).toUpperCase()+e.substring(1)));b={};m&&m==a.id&&(b["top"==a.region||"bottom"==a.region?"h":"w"]=k);"leading"==e&&(e=a.isLeftToRight()?"left":"right");"trailing"==e&&(e=a.isLeftToRight()?"right":"left");"top"==e||"bottom"==e?(b.w=d.w,f(a,b),d.h-=
a.h,"top"==e?d.t+=a.h:h.top=d.t+d.h+"px"):"left"==e||"right"==e?(b.h=d.h,f(a,b),d.w-=a.w,"left"==e?d.l+=a.w:h.left=d.l+d.w+"px"):("client"==e||"center"==e)&&f(a,d)})}};b.setObject("dijit.layout.utils",k);return k})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(g,c){var e=/[&<>'"\/]/g,a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};c.setObject("dojo.string",b);b.escape=function(b){return!b?"":b.replace(e,function(b){return a[b]})};
b.rep=function(a,b){if(0>=b||!a)return"";for(var c=[];;){b&1&&c.push(a);if(!(b>>=1))break;a+=a}return c.join("")};b.pad=function(a,c,e,d){e||(e="0");a=String(a);c=b.rep(e,Math.ceil((c-a.length)/e.length));return d?a+c:c+a};b.substitute=function(a,b,e,d){d=d||g.global;e=e?c.hitch(d,e):function(a){return a};return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,f,n){if(""==f)return"$";a=c.getObject(f,!1,b);n&&(a=c.getObject(n,!1,d).call(d,a,f));return e(a,f).toString()})};b.trim=String.prototype.trim?
c.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return b})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(g,c,e,a,b,f,k){var h=0,d={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:f.empty,_setNodeContent:function(a,d){f.empty(a);if(d)if("number"==
typeof d&&(d=d.toString()),"string"==typeof d&&(d=f.toDom(d,a.ownerDocument)),!d.nodeType&&c.isArrayLike(d))for(var b=d.length,e=0;e<d.length;e=b==d.length?e+1:0)f.place(d[e],a,"last");else f.place(d,a,"last");return a},_ContentSetter:a("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:g._scopeName,startup:!0,constructor:function(a,d){c.mixin(this,a||{});d=this.node=b.byId(this.node||d);this.id||(this.id=["Setter",d?d.id||d.tagName:
"",h++].join("_"))},set:function(a,d){void 0!==a&&(this.content=a);d&&this._mixin(d);this.onBegin();this.setContent();var b=this.onEnd();return b&&b.then?b:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=d._setNodeContent(a,this.content)}catch(b){var f=this.onContentError(b);try{a.innerHTML=f}catch(c){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+c.message,c)}}this.node=a},empty:function(){this.parseDeferred&&
(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(e.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);f.empty(this.node)},onBegin:function(){var a=this.content;if(c.isString(a)&&(this.cleanContent&&(a=d._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&
this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var d={},b;for(b in a)b in d||(this[b]=a[b])},_parse:function(){var a=this.node;try{var d={};e.forEach(["dir","lang","textDir"],function(a){this[a]&&(d[a]=this[a])},this);var b=this;this.parseDeferred=
k.parse({rootNode:a,noStart:!this.startup,inherited:d,scope:this.parserScope}).then(function(a){return b.parseResults=a},function(a){b._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(f){this._onError("Content",f,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,f){a=this["on"+a+"Error"].call(this,b);f?console.error(f,b):a&&d._setNodeContent(this.node,a,!0)}}),set:function(a,b,f){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
b="");"number"==typeof b&&(b=b.toString());return f?(new d._ContentSetter(c.mixin(f,{content:b,node:a}))).set():d._setNodeContent(a,b,!0)}};c.setObject("dojo.html",d);return d})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){function t(a){return eval("("+a+")")}function u(a){var d=a._nameCaseMap,
b=a.prototype;if(!d||d._extendCnt<v){var d=a._nameCaseMap={},f;for(f in b)"_"!==f.charAt(0)&&(d[f.toLowerCase()]=f);d._extendCnt=v}return d}function x(a,d){d||(d=g);var b=d._dojoParserCtorMap||(d._dojoParserCtorMap={}),f=a.join();if(!b[f]){for(var c=[],h=0,m=a.length;h<m;h++){var k=a[h];c[c.length]=b[k]=b[k]||e.getObject(k)||~k.indexOf("/")&&d(k)}h=c.shift();b[f]=c.length?h.createSubclass?h.createSubclass(c):h.extend.apply(h,c):h}return b[f]}new Date("X");var v=0;d.after(e,"extend",function(){v++},
!0);var w={_clearCache:function(){v++;_ctorMap={}},_functionFromScript:function(d,b){var f="",c="",e=d.getAttribute(b+"args")||d.getAttribute("args"),h=d.getAttribute("with"),e=(e||"").split(/\s*,\s*/);h&&h.length&&a.forEach(h.split(/\s*,\s*/),function(a){f+="with("+a+"){";c+="}"});return new Function(e,f+d.innerHTML+c)},instantiate:function(d,b,f){b=b||{};f=f||{};var e=(f.scope||c._scopeName)+"Type",h="data-"+(f.scope||c._scopeName)+"-",m=h+"type",k=h+"mixins",l=[];a.forEach(d,function(a){var d=
e in b?b[e]:a.getAttribute(m)||a.getAttribute(e);if(d){var f=a.getAttribute(k),d=f?[d].concat(f.split(/\s*,\s*/)):[d];l.push({node:a,types:d})}});return this._instantiate(l,b,f)},_instantiate:function(d,b,f,c){function e(d){!b._started&&!f.noStart&&a.forEach(d,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return d}d=a.map(d,function(a){var d=a.ctor||x(a.types,f.contextRequire);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,
a.node,b,f,a.scripts,a.inherited)},this);return c?l(d).then(e):e(d)},construct:function(b,f,k,l,n,g){function r(a){H&&e.setObject(H,a);for(G=0;G<S.length;G++)d[S[G].advice||"after"](a,S[G].method,e.hitch(a,S[G].func),!0);for(G=0;G<X.length;G++)X[G].call(a);for(G=0;G<T.length;G++)a.watch(T[G].prop,T[G].func);for(G=0;G<N.length;G++)p(a,N[G].event,N[G].func);return a}var C=b&&b.prototype;l=l||{};var v={};l.defaults&&e.mixin(v,l.defaults);g&&e.mixin(v,g);var K;q("dom-attributes-explicit")?K=f.attributes:
q("dom-attributes-specified-flag")?K=a.filter(f.attributes,function(a){return a.specified}):(g=(/^input$|^img$/i.test(f.nodeName)?f:f.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),K=a.map(g.split(/\s+/),function(a){var d=a.toLowerCase();return{name:a,value:"LI"==f.nodeName&&"value"==a||"enctype"==d?f.getAttribute(d):f.getAttributeNode(d).value}}));var x=l.scope||c._scopeName;g="data-"+x+"-";var w={};"dojo"!==x&&(w[g+"props"]=
"data-dojo-props",w[g+"type"]="data-dojo-type",w[g+"mixins"]="data-dojo-mixins",w[x+"type"]="dojotype",w[g+"id"]="data-dojo-id");for(var G=0,J,x=[],H,L;J=K[G++];){var I=J.name,R=I.toLowerCase();J=J.value;switch(w[R]||R){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":L=J;break;case "data-dojo-id":case "jsid":H=J;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=J;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=
J;break;case "class":v["class"]=f.className;break;case "style":v.style=f.style&&f.style.cssText;break;default:if(I in C||(I=u(b)[R]||I),I in C)switch(typeof C[I]){case "string":v[I]=J;break;case "number":v[I]=J.length?Number(J):NaN;break;case "boolean":v[I]="false"!=J.toLowerCase();break;case "function":""===J||-1!=J.search(/[^\w\.]+/i)?v[I]=new Function(J):v[I]=e.getObject(J,!1)||new Function(J);x.push(I);break;default:R=C[I],v[I]=R&&"length"in R?J?J.split(/\s*,\s*/):[]:R instanceof Date?""==J?new Date(""):
"now"==J?new Date:m.fromISOString(J):R instanceof h?c.baseUrl+J:t(J)}else v[I]=J}}for(K=0;K<x.length;K++)w=x[K].toLowerCase(),f.removeAttribute(w),f[w]=null;if(L)try{L=t.call(l.propsThis,"{"+L+"}"),e.mixin(v,L)}catch(aa){throw Error(aa.toString()+" in data-dojo-props\x3d'"+L+"'");}e.mixin(v,k);n||(n=b&&(b._noScript||C._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",f));var S=[],X=[],T=[],N=[];if(n)for(G=0;G<n.length;G++)w=n[G],f.removeChild(w),k=w.getAttribute(g+"event")||w.getAttribute("event"),
l=w.getAttribute(g+"prop"),L=w.getAttribute(g+"method"),x=w.getAttribute(g+"advice"),K=w.getAttribute("type"),w=this._functionFromScript(w,g),k?"dojo/connect"==K?S.push({method:k,func:w}):"dojo/on"==K?N.push({event:k,func:w}):v[k]=w:"dojo/aspect"==K?S.push({method:L,advice:x,func:w}):"dojo/watch"==K?T.push({prop:l,func:w}):X.push(w);b=(n=b.markupFactory||C.markupFactory)?n(v,f,b):new b(v,f);return b.then?b.then(r):r(b)},scan:function(d,b){function f(a){if(!a.inherited){a.inherited={};var d=a.node,
b=f(a.parent),d={dir:d.getAttribute("dir")||b.dir,lang:d.getAttribute("lang")||b.lang,textDir:d.getAttribute(u)||b.textDir},c;for(c in d)d[c]&&(a.inherited[c]=d[c])}return a.inherited}var e=[],h=[],m={},k=(b.scope||c._scopeName)+"Type",l="data-"+(b.scope||c._scopeName)+"-",r=l+"type",u=l+"textdir",l=l+"mixins",p=d.firstChild,t=b.inherited;if(!t){var s=function(a,d){return a.getAttribute&&a.getAttribute(d)||a.parentNode&&s(a.parentNode,d)},t={dir:s(d,"dir"),lang:s(d,"lang"),textDir:s(d,u)},v;for(v in t)t[v]||
delete t[v]}for(var t={inherited:t},w,L;;)if(p)if(1!=p.nodeType)p=p.nextSibling;else if(w&&"script"==p.nodeName.toLowerCase())(I=p.getAttribute("type"))&&/^dojo\/\w/i.test(I)&&w.push(p),p=p.nextSibling;else if(L)p=p.nextSibling;else{var I=p.getAttribute(r)||p.getAttribute(k);v=p.firstChild;if(!I&&(!v||3==v.nodeType&&!v.nextSibling))p=p.nextSibling;else{L=null;if(I){var R=p.getAttribute(l);w=R?[I].concat(R.split(/\s*,\s*/)):[I];try{L=x(w,b.contextRequire)}catch(aa){}L||a.forEach(w,function(a){~a.indexOf("/")&&
!m[a]&&(m[a]=!0,h[h.length]=a)});R=L&&!L.prototype._noScript?[]:null;t={types:w,ctor:L,parent:t,node:p,scripts:R};t.inherited=f(t);e.push(t)}else t={node:p,scripts:w,parent:t};w=R;L=p.stopParser||L&&L.prototype.stopParser&&!b.template;p=v}}else{if(!t||!t.node)break;p=t.node.nextSibling;L=!1;t=t.parent;w=t.scripts}var S=new n;h.length?(q("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+h.join(", ")),(b.contextRequire||g)(h,function(){S.resolve(a.filter(e,function(a){if(!a.ctor)try{a.ctor=
x(a.types,b.contextRequire)}catch(d){}for(var f=a.parent;f&&!f.types;)f=f.parent;var c=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(c&&c.stopParser&&!b.template);a.instantiate=!f||f.instantiate&&f.instantiateChildren;return a.instantiate}))})):S.resolve(e);return S.promise},_require:function(a,d){var b=t("{"+a.innerHTML+"}"),f=[],c=[],h=new n,m=d&&d.contextRequire||g,k;for(k in b)f.push(k),c.push(b[k]);m(c,function(){for(var a=0;a<f.length;a++)e.setObject(f[a],arguments[a]);h.resolve(arguments)});
return h.promise},_scanAmd:function(a,d){var b=new n,f=b.promise;b.resolve(!0);var c=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){f=f.then(function(){return c._require(a,d)});a.parentNode.removeChild(a)});return f},parse:function(a,d){a&&("string"!=typeof a&&!("nodeType"in a))&&(d=a,a=d.rootNode);var b=a?f.byId(a):k.body();d=d||{};var c=d.template?{template:!0}:{},h=[],m=this,l=this._scanAmd(b,d).then(function(){return m.scan(b,d)}).then(function(a){return m._instantiate(a,c,d,!0)}).then(function(a){return h=
h.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});e.mixin(h,l);return h}};c.parser=w;b.parseOnLoad&&r(100,w,"parse");return w})},"dojo/_base/url":function(){define(["./kernel"],function(g){var c=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,e=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,a=function(){for(var b=arguments,f=[b[0]],k=1;k<b.length;k++)if(b[k]){var h=new a(b[k]+""),f=new a(f[0]+"");if(""==h.path&&!h.scheme&&
!h.authority&&!h.query)null!=h.fragment&&(f.fragment=h.fragment),h=f;else if(!h.scheme&&(h.scheme=f.scheme,!h.authority&&(h.authority=f.authority,"/"!=h.path.charAt(0)))){for(var f=(f.path.substring(0,f.path.lastIndexOf("/")+1)+h.path).split("/"),d=0;d<f.length;d++)"."==f[d]?d==f.length-1?f[d]="":(f.splice(d,1),d--):0<d&&(!(1==d&&""==f[0])&&".."==f[d]&&".."!=f[d-1])&&(d==f.length-1?(f.splice(d,1),f[d-1]=""):(f.splice(d-1,2),d-=2));h.path=f.join("/")}f=[];h.scheme&&f.push(h.scheme,":");h.authority&&
f.push("//",h.authority);f.push(h.path);h.query&&f.push("?",h.query);h.fragment&&f.push("#",h.fragment)}this.uri=f.join("");b=this.uri.match(c);this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(e),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};a.prototype.toString=function(){return this.uri};return g._Url=a})},
"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(g,c,e){var a=g.some;return function(b){var f,k;b instanceof Array?k=b:b&&"object"===typeof b&&(f=b);var h,d=[];if(f){k=[];for(var l in f)Object.hasOwnProperty.call(f,l)&&(d.push(l),k.push(f[l]));h={}}else k&&(h=[]);if(!k||!k.length)return(new c).resolve(h);var m=new c;m.promise.always(function(){h=d=null});var n=k.length;a(k,function(a,b){f||d.push(b);e(a,function(a){m.isFulfilled()||(h[d[b]]=a,0===--n&&m.resolve(h))},
m.reject);return m.isFulfilled()});return m.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(g,c){var e={};g.setObject("dojo.date.stamp",e);e.fromISOString=function(a,b){e._isoRegExp||(e._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var f=e._isoRegExp.exec(a),k=null;if(f){f.shift();f[1]&&f[1]--;f[6]&&(f[6]*=1E3);b&&(b=new Date(b),c.forEach(c.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return b["get"+a]()}),function(a,d){f[d]=f[d]||a}));k=new Date(f[0]||1970,f[1]||0,f[2]||1,f[3]||0,f[4]||0,f[5]||0,f[6]||0);100>f[0]&&k.setFullYear(f[0]||1970);var h=0,d=f[7]&&f[7].charAt(0);"Z"!=d&&(h=60*(f[8]||0)+(Number(f[9])||0),"-"!=d&&(h*=-1));d&&(h-=k.getTimezoneOffset());h&&k.setTime(k.getTime()+6E4*h)}return k};e.toISOString=function(a,b){var f=function(a){return 10>a?"0"+a:a};b=b||{};var c=[],e=b.zulu?"getUTC":"get",d="";"time"!=b.selector&&(d=a[e+"FullYear"](),d=["0000".substr((d+
"").length)+d,f(a[e+"Month"]()+1),f(a[e+"Date"]())].join("-"));c.push(d);if("date"!=b.selector){d=[f(a[e+"Hours"]()),f(a[e+"Minutes"]()),f(a[e+"Seconds"]())].join(":");e=a[e+"Milliseconds"]();b.milliseconds&&(d+="."+(100>e?"0":"")+f(e));if(b.zulu)d+="Z";else if("time"!=b.selector)var e=a.getTimezoneOffset(),l=Math.abs(e),d=d+((0<e?"-":"+")+f(Math.floor(l/60))+":"+f(l%60));c.push(d)}return c.join("T")};return e})},"FPTUtils/js/Framework":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/Deferred dijit/registry dijit/layout/ContentPane FPTTree/js/Tree FPTUtils/js/TreeHandler MW/uiframework/UIContainer MW/uiframework/uicontainer/ChildProperties mw-utils/Utils dojo/text!./DefaultLayoutWithTree.json dojo/text!./DefaultLayoutWithoutTree.json dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool mw-log/Log".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g(null,{constructor:function(a){a instanceof Object||r.assert(!1,"The input to the constructor is not an object");var b=this._initToolstripContent(a.toolstripConfigs),f=s;a.showTree&&(f=q);a.layout&&(f=a.layout);if(""===this._UUID||"undefined"===typeof this._UUID||null===this._UUID)this._UUID=n.generateUuid().toLowerCase();this._containedPanelIDs=[];this._containedPanels={};this._mainContainer=new l(a.domNodeTag,{showSingleDocumentTab:!1,offerDocumentMaximizeButton:!1,
tabGroupTags:b,enableOnTopExpand:!0,defaultLayout:f});a.toolstripPropupConfigs instanceof Array?a.toolstripPropupConfigs.forEach(function(a,d){this._mainContainer.uiBuilder.createPopupsFromConfig(a)},this):a.toolstripPropupConfigs&&this._mainContainer.uiBuilder.createPopupsFromConfig(a.toolstripPropupConfigs);a.toolstripConfigs instanceof Array?a.toolstripConfigs.forEach(function(a,d){this._mainContainer.uiBuilder.addTabGroupFromConfig(a,b[d])},this):this._mainContainer.uiBuilder.addTabGroupFromConfig(a.toolstripConfigs,
b[0]);a.showTree&&(this._treeProperties=new m({title:p.labelModelHierarchy,panelId:"TreeHierarchyPanel",region:"left"}),this._treeContentPane=new k({id:"treeContentPane"}),this._containedPanelIDs.push(this._treeProperties.panelId),this._mainContainer.addPanel(this._treeContentPane,this._treeProperties),this._tree=new h({AutoExpand:!1,ShowRoot:!0,ShowObjectNode:!0,fptTreeWidgetID:"mainTree",treeBusyNodeID:"mainTreeSpinner"}),this.addWatchListenerOnTreeSelectedItem(),this._treeHandler=new d(this._tree,
this._UUID),this._tree.placeAt(this._treeContentPane))},addWatchListenerOnTreeSelectedItem:function(a){var d=this;this._tree.tree.watch("selectedItem",function(a,b,f){f&&(d._highlightStyleDeferred&&(d._highlightStyleDeferred.resolve(),d._highlightStyleDeferred=void 0),d._tree.saveCurrentSelection(),e.publish("notifyTreeSelectionChanged",f))})},addDocumentPanel:function(a,d){this._mainContainer.registerDocumentType(a.documentType,a.documentProperties);var b=new m({documentType:a.documentType,title:a.title,
panelId:a.panelId,closable:a.closable});this._mainContainer.addDocument(d,b);this._containedPanelIDs.push(a.panelId);return this._containedPanels[a.panelId]=d},addPanel:function(a){var d=new k,b=c.mixin(new m({title:a.title,panelId:a.panelId}),a);this._mainContainer.addPanel(d,b);this._containedPanelIDs.push(a.panelId);return this._containedPanels[a.panelId]=d},addOnlyToQuickAccessBar:function(a){if(a){var d=this._mainContainer.uiBuilder.tagToId(a.tabGroupTag),d=this._mainContainer.uiBuilder.get(d,
"QAGroupId");a.parentId=d;this._mainContainer.uiBuilder.create(a)}},startup:function(){this._mainContainer.startup()},setFocus:function(a){a=this._containedPanels[a];void 0===a.get("tabindex")&&a.set("tabindex",-1);a.domNode.focus()},getUUID:function(){return this._UUID},getTreeContentPane:function(){return this._treeContentPane},getTreeDepth:function(){return this._treeHandler.getTreeDepth()},getTreeWidget:function(){return this._tree.getTreeWidget()},destroyRecursive:function(){this._mainContainer.destroyRecursive();
this._mainContainer=null;this._tree&&(this._tree.destroyRecursive(),this._treeHandler.destroy(),this._treeHandler=this._tree=null)},getMainContainer:function(){return this._mainContainer},getMainContainerNode:function(){return f.byId(this._mainContainer.id)},_initToolstripContent:function(a){var d=[];if(a instanceof Array)for(var b=0,f=a.length;b<f;b++)d[b]=a[b].tag;else d=[a.tag];return d},updateTree:function(a){var d=this;a instanceof Array||(a=[a]);a.forEach(function(a){d._tree.updateTreeNodeChildren({data:a})});
0<a.length&&this._tree._refreshTree()},getTopModelInTree:function(){return this._tree.getTopModelName()},selectTreeNodeAndHighlight:function(d,f){var c=this,e=new b,h=d.path.split("/"),m=function(){var h=c._tree.getSelectedNode();h&&h.item.identifier!==d.identifier&&a.remove(h.rowNode,f);c._prevNode&&(c._prevNode.rowNode&&c._prevNode.item.identifier!==d.identifier)&&a.remove(c._prevNode.rowNode,f);!h||h.item.identifier!==d.identifier?(c._highlightStyleDeferred=new b,c._highlightStyleDeferred.then(function(){var d=
c._tree.getSelectedNode();d&&(a.add(d.rowNode,f),c._prevNode=d,e.resolve())}),c._tree.selectTreeNode(d.identifier)):h&&(a.add(h.rowNode,f),c._prevNode=h,e.resolve())};if(this._tree.getDataForTreeID(d.identifier))m();else{var k=this._tree._modelHierarchy.query({path:h[0]})[0];k&&c._treeHandler.fetchDataForTreeNode(k,h.length-1,d,m)}return e},restorePreviousSelection:function(){this._tree.restorePreviousSelection()}})})},"FPTTree/js/Tree":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/on dojo/dom dojo/topic dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tree dijit/registry ./TreeStore dojo/text!FPTTree/js/templates/Tree.html mw-overlay-utils/BusyOverlay mw-log/Log".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){return g([h,d],{templateString:q,constructor:function(a){"object"!==typeof a&&p.error("Expected an object with 4 properties: AutoExpand, ShowRoot, tree and spinner IDs");g.safeMixin(this,a);this._modelHierarchy=new n(this.ShowObjectNode);this._selectedNodeID=""},buildRendering:function(){this.inherited(arguments);this._busyIndicator||(this._busyIndicator=new s,this._busyIndicator.set("target",this._get(this.treeBusyNodeID)));this.tree=new l({model:this._modelHierarchy.treeStore,
autoExpand:this.AutoExpand,showRoot:this.ShowRoot,persist:!0,getIconClass:function(a,d){return a.iconClass},getRowClass:function(a,d){var b=a["class"];"FPTRoot"!==a.identifier&&"DataObjects"!==a.identifier&&(b=b.concat(" ","settingControl"));return b}},this._get(this.fptTreeWidgetID))},postCreate:function(){this.inherited(arguments);this._busyIndicator.show();this.tree.startup()},attachOnClickCallback:function(d,b){this.tree.own(a(this.tree,"click",c.hitch(d,b)))},attachOnOpenCallback:function(d,
b){this.tree.own(a(this.tree,"open",c.hitch(d,b)))},updateHierarchy:function(a,d){this._busyIndicator.isVisible()||this._busyIndicator.show();var b=this,f=new k;f.then(function(){d&&d.resolve();b.showTree()});this._modelHierarchy.clearAndUpdateStore(a,f)},updateTreeNodeChildren:function(a,d){this._modelHierarchy.addToStore(a);d&&this._modelHierarchy.query({identifier:d.toLoadIdentifier})[0]&&d.resolve();this.hideSpinner()},getRoot:function(){return this.tree.rootNode},selectTreeNode:function(a){a=
this._modelHierarchy.query({identifier:a})[0];var d=!1;a&&(a=this.buildPathArray(a),this.tree.set("paths",[a]),d=!0);return d},_refreshTree:function(){this.tree.dndController.selectNone();this.tree._itemNodeMap={};this.tree.model.root.children=null;this.tree.rootNode&&this.tree.rootNode.destroyRecursive();this.tree.postMixInProperties();this.tree._load()},showTree:function(){this._refreshTree();this._busyIndicator&&this._busyIndicator.hide()},buildPathArray:function(a){var d,b="";d=this.tree.model.store.query({identifier:a.parent});
if(!d||Array.isArray(d)&&0===d.length)b=[a.identifier];else{for(b=[d[0].identifier];Array.isArray(d)&&0!==d.length;)d=this.tree.model.store.query({identifier:d[0].parent}),Array.isArray(d)&&0<d.length&&b.push(d[0].identifier);Array.isArray(b)||(b=[b]);b=b.reverse();b.push(a.identifier)}return b},destroyRecursive:function(){this.inherited(arguments);this._busyIndicator&&(this._busyIndicator.destroy(),this._busyIndicator=null);this.tree&&(this.tree.destroyRecursive(),this.tree=null);this._modelHierarchy.clearStore();
this.destroy()},expandNodes:function(a,d){var b=a.getChildren();if(0<d&&a.item.itemFullyLoaded)for(var f=0;f<b.length;f+=1)b[f].item.itemFullyLoaded&&(b[f].isExpanded||this.tree._expandNode(b[f]),this.expandNodes(b[f],d-1))},saveCurrentSelection:function(){this.tree.selectedItem&&(this._selectedNodeID=this.tree.selectedItem.identifier)},restorePreviousSelection:function(){if(this._selectedNodeID){var a=this._modelHierarchy.query({identifier:this._selectedNodeID})[0],a=this.buildPathArray(a);this.tree.set("path",
a)}},getTreeWidget:function(){return this.tree},getSelectedNode:function(){return this.tree.selectedNode},getSelectedItem:function(){return this.tree.selectedItem},getSpinnerWidget:function(){return this._busyIndicator},getDataForTreeID:function(a){return this._modelHierarchy.query({identifier:a})[0]},getTopModelName:function(){return this._modelHierarchy.treeStore.topModel},showSpinner:function(){this._busyIndicator.show()},hideSpinner:function(){this._busyIndicator.hide()}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(g,c,e,a,b,f,k,h){var d=c("dijit._TemplatedMixin",h,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(d){var b=this.declaredClass,f=this;return k.substitute(d,this,function(d,c){"!"==c.charAt(0)&&(d=a.getObject(c.substr(1),!1,f));if("undefined"==typeof d)throw Error(b+" template:"+c);return null==d?"":"!"==c.charAt(0)?d:this._escapeValue(""+d)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=g(this.templatePath,{sanitize:!0}));var b=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),f;if(a.isString(b)){if(f=e.toDom(this._stringRepl(b),this.ownerDocument),1!=f.nodeType)throw Error("Invalid template: "+b);}else f=b.cloneNode(!0);this.domNode=f}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(a){var d=this.containerNode;if(a&&d)for(;a.hasChildNodes();)d.appendChild(a.firstChild)}});d._templateCache={};d.getCachedTemplate=function(a,b,f){var c=d._templateCache,h=a,g=c[h];if(g){try{if(!g.ownerDocument||g.ownerDocument==(f||document))return g}catch(r){}e.destroy(g)}a=k.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return c[h]=a;b=e.toDom(a,f);if(1!=b.nodeType)throw Error("Invalid template: "+a);return c[h]=b};f("ie")&&b(window,"unload",function(){var a=
d._templateCache,b;for(b in a){var f=a[b];"object"==typeof f&&e.destroy(f);delete a[b]}});return d})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(g){return g.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(g,c,e,a){var b;b=function(d,b,f){a(d,{sync:!!b,headers:{"X-Requested-With":null}}).then(f)};var f={},k=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var d=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
d&&(a=d[1])}else a="";return a},h={},d={};g.cache=function(a,d,e){var h;"string"==typeof a?/\//.test(a)?(h=a,e=d):h=c.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")):(h=a+"",e=d);a=void 0!=e&&"string"!=typeof e?e.value:e;e=e&&e.sanitize;if("string"==typeof a)return f[h]=a,e?k(a):a;if(null===a)return delete f[h],null;h in f||b(h,!0,function(a){f[h]=a});return e?k(f[h]):f[h]};return{dynamic:!0,normalize:function(a,d){var b=a.split("!"),f=b[0];return(/^\./.test(f)?d(f):f)+(b[1]?"!"+b[1]:"")},load:function(a,
c,e){a=a.split("!");var g=1<a.length,s=a[0],p=c.toUrl(a[0]);a="url:"+p;var r=h,t=function(a){e(g?k(a):a)};s in f?r=f[s]:c.cache&&a in c.cache?r=c.cache[a]:p in f&&(r=f[p]);if(r===h)if(d[p])d[p].push(t);else{var u=d[p]=[t];b(p,!c.async,function(a){f[s]=f[p]=a;for(var b=0;b<u.length;)u[b++](a);delete d[p]})}else t(r)}}})},"dojo/request":function(){define(["./request/default!"],function(g){return g})},"dojo/request/default":function(){define(["exports","require","../has"],function(g,c,e){var a=e("config-requestProvider");
a||(a="./xhr");g.getPlatformDefaultId=function(){return"./xhr"};g.load=function(b,f,e,h){c(["platform"==b?"./xhr":a],function(a){e(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(g,c,e,a,b,f,k,h,d){var l=b.delegate(h,{mouseenter:f.enter,mouseleave:f.leave,keypress:e._keypress}),m;e=a("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];
this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var d=a;;)if(1==d.nodeType&&(this._processTemplateNode(d,function(a,d){return a.getAttribute(d)},this._attach)||this.searchContainerNode)&&d.firstChild)d=d.firstChild;else{if(d==a)break;for(;!d.nextSibling;)if(d=d.parentNode,d==a)return;d=d.nextSibling}},_processTemplateNode:function(a,d,f){var c=
!0,e=this.attachScope||this,h=d(a,"dojoAttachPoint")||d(a,"data-dojo-attach-point");if(h)for(var k=h.split(/\s*,\s*/);h=k.shift();)b.isArray(e[h])?e[h].push(a):e[h]=a,c="containerNode"!=h,this._attachPoints.push(h);if(d=d(a,"dojoAttachEvent")||d(a,"data-dojo-attach-event")){h=d.split(/\s*,\s*/);for(k=b.trim;d=h.shift();)if(d){var m=null;-1!=d.indexOf(":")?(m=d.split(":"),d=k(m[0]),m=k(m[1])):d=k(d);m||(m=d);this._attachEvents.push(f(a,d,b.hitch(e,m)))}}return c},_attach:function(a,d,b){d=d.replace(/^on/,
"").toLowerCase();d="dijitclick"==d?m||(m=g("./a11yclick")):l[d]||d;return k(a,d,b)},_detachTemplateNodes:function(){var a=this.attachScope||this;c.forEach(this._attachPoints,function(d){delete a[d]});this._attachPoints=[];c.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});b.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""});return e})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G,J){function H(a){return r.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var L=a("dijit._TreeNode",[A,z,F,E,C],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:K,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var d=Math.max(a,0)*this.tree._nodePixelIndent+"px";l.set(this.domNode,"backgroundPosition",d+" 0px");l.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",d);g.forEach(this.getChildren(),function(d){d.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var d=this.tree,b=d.model;d._v10Compat&&a===b.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(a,d,b){var f="_"+d+"Class";d+="Node";var c=this[f];this[f]=this.tree["get"+b+"Class"](a,this.isExpanded);h.replace(this[d],this[f]||"",c||"");l.set(this[d],this.tree["get"+b+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;h.toggle(this.domNode,"dijitTreeIsRoot",a);h.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var d=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;h.replace(this.expandoNode,d[a],d);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return H(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");h.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=n.wipeIn({node:this.containerNode,duration:D.defaultDuration}),d=this._expandDeferred=new b(function(){a.stop()});c.after(a,"onEnd",function(){d.resolve(!0)},!0);a.play();return H(d)},collapse:function(){if(this._collapseDeferred)return H(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");h.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=n.wipeOut({node:this.containerNode,duration:D.defaultDuration}),d=this._collapseDeferred=new b(function(){a.stop()});c.after(a,"onEnd",function(){d.resolve(!0)},
!0);a.play();return H(d)},indent:0,setChildItems:function(a){var d=this.tree,b=d.model,c=[],e=d.focusedChild,h=this.getChildren();g.forEach(h,function(a){F.prototype.removeChild.call(this,a)},this);this.defer(function(){g.forEach(h,function(a){if(!a._destroyed&&!a.getParent()){d.dndController.removeTreeNode(a);var f=function(a){var c=b.getIdentity(a.item),e=d._itemNodesMap[c];1==e.length?delete d._itemNodesMap[c]:(c=g.indexOf(e,a),-1!=c&&e.splice(c,1));g.forEach(a.getChildren(),f)};f(a);if(d.persist){var c=
g.map(a.getTreePath(),function(a){return d.model.getIdentity(a)}).join("/"),h;for(h in d._openedNodes)h.substr(0,c.length)==c&&delete d._openedNodes[h];d._saveExpandedNodes()}d.lastFocusedChild&&!k.isDescendant(d.lastFocusedChild,d.domNode)&&delete d.lastFocusedChild;e&&!k.isDescendant(e,d.domNode)&&d.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,g.forEach(a,function(a){var f=b.getIdentity(a),e=d._itemNodesMap[f],h;if(e)for(var k=0;k<e.length;k++)if(e[k]&&
!e[k].getParent()){h=e[k];h.set("indent",this.indent+1);break}h||(h=this.tree._createTreeNode({item:a,tree:d,isExpandable:b.mayHaveChildren(a),label:d.getLabel(a),labelType:d.model&&d.model.labelType||"text",tooltip:d.getTooltip(a),ownerDocument:d.ownerDocument,dir:d.dir,lang:d.lang,textDir:d.textDir,indent:this.indent+1}),e?e.push(h):d._itemNodesMap[f]=[h]);this.addChild(h);(this.tree.autoExpand||this.tree._state(h))&&c.push(d._expandNode(h))},this),g.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=f(c);this.tree._startPaint(a);return H(a)},getTreePath:function(){for(var a=this,d=[];a&&a!==this.tree.rootNode;)d.unshift(a.item),a=a.getParent();d.unshift(this.tree.rootNode.item);return d},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var d=this.getChildren();0==d.length&&(this.isExpandable=!1,this.collapse());g.forEach(d,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");h.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){y.focus(this.focusNode)}}),I=a("dijit.Tree",[A,P,z,C],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:U,persist:!1,autoExpand:!1,
dndController:J,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,d){u.publish(this.id,r.mixin({tree:this,event:a},d||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=
this.id+"SaveStateCookie");this.expandChildrenDeferred=new b;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(t(this.containerNode,t.selector(".dijitTreeNode",x.enter),function(d){a._onNodeMouseEnter(B.byNode(this),d)}),t(this.containerNode,t.selector(".dijitTreeNode",x.leave),function(d){a._onNodeMouseLeave(B.byNode(this),d)}),t(this.containerNode,t.selector(".dijitTreeRow",w.press),function(d){a._onNodePress(B.getEnclosingWidget(this),
d)}),t(this.containerNode,t.selector(".dijitTreeRow",w),function(d){a._onClick(B.getEnclosingWidget(this),d)}),t(this.containerNode,t.selector(".dijitTreeRow","dblclick"),function(d){a._onDblClick(B.getEnclosingWidget(this),d)}));this.model||this._store2model();this.own(c.after(this.model,"onChange",r.hitch(this,"_onItemChange"),!0),c.after(this.model,"onChildrenChange",r.hitch(this,"_onItemChildrenChange"),!0),c.after(this.model,"onDelete",r.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);
if(this.dndController){r.isString(this.dndController)&&(this.dndController=r.getObject(this.dndController));for(var d={},b=0;b<this.dndParams.length;b++)this[this.dndParams[b]]&&(d[this.dndParams[b]]=this[this.dndParams[b]]);this.dndController=new this.dndController(this,d)}this._load();this.onLoadDeferred=H(this.pendingCommandsPromise);this.onLoadDeferred.then(r.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;s.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");
var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=r.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=r.hitch(this,function(a,d,b){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,d,b)}));this.model=new G(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(r.hitch(this,function(a){var d=this.rootNode=this.tree._createTreeNode({item:a,
tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(d.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(d.containerNode.setAttribute("aria-label",
this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(d.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),d.labelNode.setAttribute("role","presentation"),d.labelNode.removeAttribute("aria-selected"),d.containerNode.setAttribute("role","tree"),d.containerNode.setAttribute("aria-expanded","true"),d.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(d.domNode);
a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(d):this._itemNodesMap[a]=[d];d._updateLayout();this._expandNode(d).then(r.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),r.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=r.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",
[a])},_setSelectedItemsAttr:function(a){var d=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(r.hitch(this,function(){var b=g.map(a,function(a){return!a||r.isString(a)?a:d.model.getIdentity(a)}),f=[];g.forEach(b,function(a){f=f.concat(d._itemNodesMap[a]||[])});this.set("selectedNodes",f)}))},_setPathAttr:function(a){return a.length?H(this.set("paths",[a]).then(function(a){return a[0]})):H(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function d(a,
f){var c=a.shift(),e=g.filter(f,function(a){return a.getIdentity()==c})[0];if(e)return a.length?b._expandNode(e).then(function(){return d(a,e.getChildren())}):e;throw new I.PathError("Could not expand path at "+c);}var b=this;return H(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return f(g.map(a,function(a){a=g.map(a,function(a){return a&&r.isObject(a)?b.model.getIdentity(a):a});if(a.length)return d(a,[b.rootNode]);throw new I.PathError("Empty path");}))}).then(function(a){b.set("selectedNodes",
a);return b.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(b){return d._expandNode(b).then(function(){var d=g.filter(b.getChildren()||[],function(a){return a.isExpandable});return f(g.map(d,a))})}var d=this;return H(a(this.rootNode))},collapseAll:function(){function a(b){var c=g.filter(b.getChildren()||[],function(a){return a.isExpandable}),c=f(g.map(c,a));return!b.isExpanded||
b==d.rootNode&&!d.showRoot?c:c.then(function(){return d._collapseNode(b)})}var d=this;return H(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,d){return!a||this.model.mayHaveChildren(a)?d?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},
_onDownArrow:function(a,d){var b=this._getNext(d);b&&b.isTreeNode&&this.focusNode(b)},_onUpArrow:function(a,d){var b=d.getPreviousSibling();if(b)for(d=b;d.isExpandable&&d.isExpanded&&d.hasChildren();)b=d.getChildren(),d=b[b.length-1];else if(b=d.getParent(),this.showRoot||b!==this.rootNode)d=b;d&&d.isTreeNode&&this.focusNode(d)},_onRightArrow:function(a,d){d.isExpandable&&!d.isExpanded?this._expandNode(d):d.hasChildren()&&(d=d.getChildren()[0])&&d.isTreeNode&&this.focusNode(d)},_onLeftArrow:function(a,
d){if(d.isExpandable&&d.isExpanded)this._collapseNode(d);else{var b=d.getParent();b&&(b.isTreeNode&&(this.showRoot||b!==this.rootNode))&&this.focusNode(b)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var d=a.getChildren();if(!d.length)break;a=d[d.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&
a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var d=a.getNextSibling();if(d)return d;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,d){return k.isDescendant(a,d.expandoNode)||k.isDescendant(a,d.expandoNodeText)},_onNodePress:function(a,d){this.focusNode(a)},__click:function(a,d,b,f){var c=this.isExpandoNode(d.target,a);a.isExpandable&&(b||c)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:d}),this[f](a.item,a,
d),this.focusNode(a));d.stopPropagation();d.preventDefault()},_onClick:function(a,d){this.__click(a,d,this.openOnClick,"onClick")},_onDblClick:function(a,d){this.__click(a,d,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){s.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.",
"","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){s.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var d=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(d);return d}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var d=this.model,f=
a.item,c=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new b,d.getChildren(f,function(d){a.unmarkProcessing();a.setChildItems(d).then(function(){a._loadDeferred.resolve(d)})},function(d){console.error(c,": error loading "+a.label+" children: ",d);a._loadDeferred.reject(d)}));d=a._loadDeferred.then(r.hitch(this,function(){var d=a.expand();this.onOpen(a.item,a);this._state(a,!0);return d}));this._startPaint(d);return d},focusNode:function(a){var d=this.domNode.scrollLeft;this.focusChild(a);
this.domNode.scrollLeft=d},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var d=this.model.getIdentity(a);if(d=this._itemNodesMap[d]){var b=this.getLabel(a),f=this.getTooltip(a);g.forEach(d,function(d){d.set({item:a,label:b,tooltip:f});d._updateItemClasses(a)})}},_onItemChildrenChange:function(a,d){var b=this.model.getIdentity(a);(b=this._itemNodesMap[b])&&g.forEach(b,function(a){a.setChildItems(d)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var d=
this._itemNodesMap[a];d&&(g.forEach(d,function(a){this.dndController.removeTreeNode(a);var d=a.getParent();d&&d.removeChild(a);this.lastFocusedChild&&!k.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!k.isDescendant(this.focusedChild,this.domNode)&&this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=e(this.cookieName);a&&g.forEach(a.split(","),function(a){this._openedNodes[a]=
!0},this)}},_state:function(a,d){if(!this.persist)return!1;var b=g.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[b];d?this._openedNodes[b]=!0:delete this._openedNodes[b];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],d;for(d in this._openedNodes)a.push(d);e(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),
delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!r.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&d.setMarginBox(this.domNode,a);this._nodePixelIndent=d.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(r.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},
_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var d=r.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});v(a,d,d)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);
this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new L(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});I.PathError=m("TreePathError");I._TreeNode=L;return I})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(g,c){g.cookie=function(e,a,b){var f=document.cookie,k;if(1==arguments.length)k=(k=f.match(RegExp("(?:^|; )"+
c.escapeString(e)+"\x3d([^;]*)")))?decodeURIComponent(k[1]):void 0;else{b=b||{};f=b.expires;if("number"==typeof f){var h=new Date;h.setTime(h.getTime()+864E5*f);f=b.expires=h}f&&f.toUTCString&&(b.expires=f.toUTCString());a=encodeURIComponent(a);var f=e+"\x3d"+a,d;for(d in b)f+="; "+d,h=b[d],!0!==h&&(f+="\x3d"+h);document.cookie=f}return k};g.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),
navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return g.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(g,c){var e={};c.setObject("dojo.regexp",e);e.escapeString=function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};e.buildGroupRE=function(a,b,f){if(!(a instanceof Array))return b(a);for(var c=[],h=0;h<a.length;h++)c.push(b(a[h]));return e.group(c.join("|"),
f)};e.group=function(a,b){return"("+(b?"?:":"")+a+")"};return e})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){e.isAsync||l(0,function(){m(["./fx/Toggler"])});e=e.fx={};l={_fire:function(a,d){this[a]&&this[a].apply(this,d||[]);return this}};var n=function(d){this._index=-1;this._animations=d||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=
0;a.forEach(this._animations,function(a){a&&("undefined"!=typeof a.duration&&(this.duration+=a.duration),a.delay&&(this.duration+=a.delay))},this)};n.prototype=new c;g.extend(n,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=b.after(this._current,"onAnimate",
g.hitch(this,"_onAnimate"),!0),this._onEndCtx=b.after(this._current,"onEnd",g.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,d){this._current||(this._current=this._animations[this._index=0]);if(!d&&"playing"==this._current.status())return this;var f=b.after(this._current,"beforeBegin",g.hitch(this,function(){this._fire("beforeBegin")}),!0),c=b.after(this._current,"onBegin",g.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),e=b.after(this._current,"onPlay",g.hitch(this,
function(a){this._fire("onPlay",arguments);f.remove();c.remove();e.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=b.after(this._current,"onAnimate",g.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=b.after(this._current,"onEnd",g.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=b.after(this._current,"onPause",g.hitch(this,function(d){this._fire("onPause",
arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(d,b){this.pause();var f=this.duration*d;this._current=null;a.some(this._animations,function(a,d){if(f<=a.duration)return this._current=a,this._index=d,!0;f-=a.duration;return!1},this);this._current&&this._current.gotoPercent(f/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=
this._animations[this._index]}var d=b.after(this._current,"onStop",g.hitch(this,function(a){this._fire("onStop",arguments);d.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});g.extend(n,l);e.chain=function(a){return new n(g.isArray(a)?a:Array.prototype.slice.call(a,0))};var q=function(d){this._animations=d||
[];this._connects=[];this.duration=this._finished=0;a.forEach(d,function(a){var d=a.duration;a.delay&&(d+=a.delay);this.duration<d&&(this.duration=d);this._connects.push(b.after(a,"onEnd",g.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new f.Animation({curve:[0,1],duration:this.duration});var c=this;a.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){c._connects.push(b.after(c._pseudoAnimation,a,function(){c._fire(a,arguments)},!0))})};g.extend(q,
{_doAction:function(d,b){a.forEach(this._animations,function(a){a[d].apply(a,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,d){var b=this._pseudoAnimation;b[a].apply(b,d)},play:function(a,d){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(d,b){var f=this.duration*d;a.forEach(this._animations,
function(a){a.gotoPercent(a.duration<f?1:f/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();a.forEach(this._connects,function(a){a.remove()})}});g.extend(q,l);e.combine=function(a){return new q(g.isArray(a)?a:Array.prototype.slice.call(a,0))};e.wipeIn=function(a){var d=a.node=k.byId(a.node),c=d.style,e;a=
f.animateProperty(g.mixin({properties:{height:{start:function(){e=c.overflow;c.overflow="hidden";if("hidden"==c.visibility||"none"==c.display)return c.height="1px",c.display="",c.visibility="",1;var a=h.get(d,"height");return Math.max(a,1)},end:function(){return d.scrollHeight}}}},a));var m=function(){c.height="auto";c.overflow=e};b.after(a,"onStop",m,!0);b.after(a,"onEnd",m,!0);return a};e.wipeOut=function(a){var d=(a.node=k.byId(a.node)).style,c;a=f.animateProperty(g.mixin({properties:{height:{end:1}}},
a));b.after(a,"beforeBegin",function(){c=d.overflow;d.overflow="hidden";d.display=""},!0);var e=function(){d.overflow=c;d.height="auto";d.display="none"};b.after(a,"onStop",e,!0);b.after(a,"onEnd",e,!0);return a};e.slideTo=function(a){var c=null,e=null,m=function(a){return function(){var b=h.getComputedStyle(a),f=b.position;c="absolute"==f?a.offsetTop:parseInt(b.top)||0;e="absolute"==f?a.offsetLeft:parseInt(b.left)||0;"absolute"!=f&&"relative"!=f&&(b=d.position(a,!0),c=b.y,e=b.x,a.style.position=
"absolute",a.style.top=c+"px",a.style.left=e+"px")}}(a.node=k.byId(a.node));m();a=f.animateProperty(g.mixin({properties:{top:a.top||0,left:a.left||0}},a));b.after(a,"beforeBegin",m,!0);return a};return e})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(g,c,e,a,b){var f={};g.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(b){f[b]=a[b]});e.mixin(f,{defaultDuration:c.defaultDuration||
200});e.mixin(b,f);return b})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(g,c){return g("dijit._Contained",null,{_getSibling:function(c){var a=this.getParent();return a&&a._getSiblingOfChild&&a._getSiblingOfChild(this,"previous"==c?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var c=this.getParent();return!c||!c.getIndexOfChild?-1:c.getIndexOfChild(this)}})})},
"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n){c=c("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);g.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,f.hitch(this,"_setStateClass"))},
this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",
!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(b){d=d.concat(g.map(d,function(a){return a+b}),"dijit"+b)}var d=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var b="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(b);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?
a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var b=this.stateNode||this.domNode,f={};g.forEach(b.className.split(" "),function(a){f[a]=!0});"_stateClasses"in this&&g.forEach(this._stateClasses,function(a){delete f[a]});g.forEach(d,function(a){f[a]=!0});var c=[],e;for(e in f)c.push(e);b.className=c.join(" ");this._stateClasses=d},_subnodeCssMouseEvent:function(d,b,f){function c(f){a.toggle(d,b+"Active",f)}if(!this.disabled&&!this.readOnly)switch(f.type){case "mouseover":case "MSPointerOver":case "pointerover":a.toggle(d,
b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":a.toggle(d,b+"Hover",!1);c(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":c(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":c(!1);break;case "focus":case "focusin":a.toggle(d,b+"Focused",!0);break;case "blur":case "focusout":a.toggle(d,b+"Focused",!1)}},_trackMouseState:function(a,d){a._cssState=d}});h(function(){function a(d,
b,f){if(!f||!e.isDescendant(f,b))for(;b&&b!=f;b=b.parentNode)if(b._cssState){var c=n.getEnclosingWidget(b);c&&(b==c.domNode?c._cssMouseEvent(d):c._subnodeCssMouseEvent(b,b._cssState,d))}}var b=l.body(),f;k(b,d.over,function(d){a(d,d.target,d.relatedTarget)});k(b,d.out,function(d){a(d,d.target,d.relatedTarget)});k(b,m.press,function(d){f=d.target;a(d,f)});k(b,m.release,function(d){a(d,f);f=null});k(b,"focusin, focusout",function(a){var d=a.target;if(d._cssState&&!d.getAttribute("widgetId")){var b=
n.getEnclosingWidget(d);b&&b._subnodeCssMouseEvent(d,d._cssState,a)}})});return c})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(g,c,e,a,b,f,k,h){return c("dijit._KeyNavMixin",h,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);e.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var d=this._keyNavCodes={};d[a.HOME]=b.hitch(this,
"focusFirstChild");d[a.END]=b.hitch(this,"focusLastChild");d[this.isLeftToRight()?a.LEFT_ARROW:a.RIGHT_ARROW]=b.hitch(this,"_onLeftArrow");d[this.isLeftToRight()?a.RIGHT_ARROW:a.LEFT_ARROW]=b.hitch(this,"_onRightArrow");d[a.UP_ARROW]=b.hitch(this,"_onUpArrow");d[a.DOWN_ARROW]=b.hitch(this,"_onDownArrow")}var c=this,d="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(f(this.domNode,"keypress",b.hitch(this,"_onContainerKeypress")),f(this.domNode,"keydown",
b.hitch(this,"_onContainerKeydown")),f(this.domNode,"focus",b.hitch(this,"_onContainerFocus")),f(this.containerNode,f.selector(d,"focusin"),function(a){c._onChildFocus(k.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},
focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"))},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){e.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){e.set(this.domNode,
"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,b,f,c){a&&this.focusChild(a)},
_keyboardSearchCompare:function(a,b){var f=a.domNode,f=(a.label||(f.focusNode?f.focusNode.label:"")||f.innerText||f.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&f==b?-1:0},_onContainerKeydown:function(d){var b=this._keyNavCodes[d.keyCode];b?(b(d,this.focusedChild),d.stopPropagation(),d.preventDefault(),this._searchString=""):d.keyCode==a.SPACE&&(this._searchTimer&&!d.ctrlKey&&!d.altKey&&!d.metaKey)&&(d.stopImmediatePropagation(),d.preventDefault(),this._keyboardSearch(d,
" "))},_onContainerKeypress:function(d){d.charCode<=a.SPACE||(d.ctrlKey||d.altKey||d.metaKey)||(d.preventDefault(),d.stopPropagation(),this._keyboardSearch(d,String.fromCharCode(d.charCode).toLowerCase()))},_keyboardSearch:function(a,f){var c=null,e,h=0;b.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=f;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;e=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=
null;this._searchString=""},this.multiCharSearchDuration);var d=this.focusedChild||null;if(1==a||!d)if(d=this._getNextFocusableChild(d,1),!d)return;a=d;do{var b=this._keyboardSearchCompare(d,e);b&&0==h++&&(c=d);if(-1==b){h=-1;break}d=this._getNextFocusableChild(d,1)}while(d&&d!=a)})();this.onKeyboardSearch(c,a,e,h)},_onChildBlur:function(){},_getNextFocusableChild:function(a,b){var f=a;do{if(a)a=this._getNext(a,b);else if(a=this[0<b?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=f&&a.isFocusable())return a}while(a!=
f);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(a,b){if(a)for(a=a.domNode;a;)if((a=a[0>b?"previousSibling":"nextSibling"])&&"getAttribute"in a){var f=k.byNode(a);if(f)return f}return null}})})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(g,c,e,a){return e("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,
query:null,deferItemLoadingUntilExpand:!1,constructor:function(b){a.mixin(this,b);this.connects=[];b=this.store;if(!b.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");b.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([c.after(b,"onNew",a.hitch(this,"onNewItem"),!0),c.after(b,"onDelete",a.hitch(this,"onDeleteItem"),!0),c.after(b,"onSet",a.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var a;a=
this.connects.pop();)a.remove()},getRoot:function(b,f){this.root?b(this.root):this.store.fetch({query:this.query,onComplete:a.hitch(this,function(a){if(1!=a.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];b(this.root)}),onError:f})},mayHaveChildren:function(a){return g.some(this.childrenAttrs,function(f){return this.store.hasAttribute(a,f)},this)},getChildren:function(b,f,c){var e=this.store;if(e.isItemLoaded(b)){for(var d=
[],l=0;l<this.childrenAttrs.length;l++)var m=e.getValues(b,this.childrenAttrs[l]),d=d.concat(m);var n=0;this.deferItemLoadingUntilExpand||g.forEach(d,function(a){e.isItemLoaded(a)||n++});0==n?f(d):g.forEach(d,function(a,b){e.isItemLoaded(a)||e.loadItem({item:a,onItem:function(a){d[b]=a;0==--n&&f(d)},onError:c})})}else{var q=a.hitch(this,arguments.callee);e.loadItem({item:b,onItem:function(a){q(a,f,c)},onError:c})}},isItem:function(a){return this.store.isItem(a)},fetchItemByIdentity:function(a){this.store.fetchItemByIdentity(a)},
getIdentity:function(a){return this.store.getIdentity(a)},getLabel:function(a){return this.labelAttr?this.store.getValue(a,this.labelAttr):this.store.getLabel(a)},newItem:function(a,f,c){var e={parent:f,attribute:this.childrenAttrs[0]},d;this.newItemIdAttr&&a[this.newItemIdAttr]?this.fetchItemByIdentity({identity:a[this.newItemIdAttr],scope:this,onItem:function(l){l?this.pasteItem(l,null,f,!0,c):(d=this.store.newItem(a,e))&&void 0!=c&&this.pasteItem(d,f,f,!1,c)}}):(d=this.store.newItem(a,e))&&void 0!=
c&&this.pasteItem(d,f,f,!1,c)},pasteItem:function(a,f,c,e,d){var l=this.store,m=this.childrenAttrs[0];f&&g.forEach(this.childrenAttrs,function(d){if(l.containsValue(f,d,a)){if(!e){var c=g.filter(l.getValues(f,d),function(d){return d!=a});l.setValues(f,d,c)}m=d}});if(c)if("number"==typeof d){var n=l.getValues(c,m).slice();n.splice(d,0,a);l.setValues(c,m,n)}else l.setValues(c,m,l.getValues(c,m).concat(a))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(b,
f){f&&this.getChildren(f.item,a.hitch(this,function(a){this.onChildrenChange(f.item,a)}))},onDeleteItem:function(a){this.onDelete(a)},onSetItem:function(b,f){if(-1!=g.indexOf(this.childrenAttrs,f))this.getChildren(b,a.hitch(this,function(a){this.onChildrenChange(b,a)}));else this.onChange(b)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(g,c,e,a,b){return c("dijit.tree.ForestStoreModel",
b,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(a){this.root={store:this,root:!0,id:a.rootId,label:a.rootLabel,children:a.rootChildren}},mayHaveChildren:function(a){return a===this.root||this.inherited(arguments)},getChildren:function(b,c,e){b===this.root?this.root.children?c(this.root.children):this.store.fetch({query:this.query,onComplete:a.hitch(this,function(a){this.root.children=a;c(a)}),onError:e}):this.inherited(arguments)},isItem:function(a){return a===this.root?!0:this.inherited(arguments)},
fetchItemByIdentity:function(a){if(a.identity==this.root.id){var b=a.scope||e.global;a.onItem&&a.onItem.call(b,this.root)}else this.inherited(arguments)},getIdentity:function(a){return a===this.root?this.root.id:this.inherited(arguments)},getLabel:function(a){return a===this.root?this.root.label:this.inherited(arguments)},newItem:function(a,b,c){return b===this.root?(this.onNewRootItem(a),this.store.newItem(a)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(a,b,c,d,e){if(b===
this.root&&!d)this.onLeaveRoot(a);this.inherited(arguments,[a,b===this.root?null:b,c===this.root?null:c,d,e]);if(c===this.root)this.onAddToRoot(a)},onAddToRoot:function(a){},onLeaveRoot:function(a){},_requeryTop:function(){var b=this.root.children||[];this.store.fetch({query:this.query,onComplete:a.hitch(this,function(a){this.root.children=a;if(b.length!=a.length||g.some(b,function(b,d){return a[d]!=b}))this.onChildrenChange(this.root,a)})})},onNewItem:function(a,b){this._requeryTop();this.inherited(arguments)},
onDeleteItem:function(a){-1!=g.indexOf(this.root.children,a)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(a,b,c,d){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){return c("dijit.tree._dndSelector",m,{constructor:function(){this.selection=
{};this.anchor=null;this.events.push(h(this.tree.domNode,d.press,a.hitch(this,"onMouseDown")),h(this.tree.domNode,d.release,a.hitch(this,"onMouseUp")),h(this.tree.domNode,d.move,a.hitch(this,"onMouseMove")),h(this.tree.domNode,l.press,a.hitch(this,"onClickPress")),h(this.tree.domNode,l.release,a.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],d=this.selection,b;for(b in d)a.push(d[b]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);
this.selection=this.anchor=null},addTreeNode:function(a,d){this.setSelection(this.getSelectedTreeNodes().concat([a]));d&&(this.anchor=a);return a},removeTreeNode:function(a){var d=g.filter(this.getSelectedTreeNodes(),function(d){return!f.isDescendant(d.domNode,a.domNode)});this.setSelection(d);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},setSelection:function(d){var b=this.getSelectedTreeNodes();g.forEach(this._setDifference(b,d),a.hitch(this,function(a){a.setSelected(!1);
this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));g.forEach(this._setDifference(d,b),a.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,d){g.forEach(d,function(a){a.__exclude__=!0});var b=g.filter(a,function(a){return!a.__exclude__});g.forEach(d,function(a){delete a.__exclude__});return b},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),d=[],b=[];g.forEach(a,function(a){var f=a.getTreePath();
b.push(a);d.push(f)},this);a=g.map(b,function(a){return a.item});this.tree._set("paths",d);this.tree._set("path",d[0]||[]);this.tree._set("selectedNodes",b);this.tree._set("selectedNode",b[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(a.target,this.current)){"mousedown"==a.type&&k.isLeft(a)&&a.preventDefault();var d="keydown"==a.type?this.tree.focusedChild:this.current;
if(d){var f=b.getCopyKeyState(a),c=d.id;!this.singular&&!a.shiftKey&&this.selection[c]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(d,f,a.shiftKey))}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,b.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,d){if(a===d)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-
d.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(d)&2?1:-1;if(document.createRange){var b=doc.createRange();b.setStartBefore(a);var f=doc.createRange();f.setStartBefore(d);return b.compareBoundaryPoints(b.END_TO_END,f)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(a,d,b){if(this.singular)this.anchor==a&&d?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(b&&
this.anchor){d=this._compareNodes(this.anchor.rowNode,a.rowNode);b=this.anchor;0>d?d=b:(d=a,a=b);for(b=[];d!=a;)b.push(d),d=this.tree._getNext(d);b.push(a);this.setSelection(b)}else this.selection[a.id]&&d?this.removeTreeNode(a):d?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,d){d=d||e.global;for(var b in this.selection)a.call(d,this.getItem(b),b,this)}})})},"dojo/dnd/common":function(){define(["../sniff",
"../_base/kernel","../_base/lang","../dom"],function(g,c,e,a){var b=e.getObject("dojo.dnd",!0);b.getCopyKeyState=function(a){return a[g("mac")?"metaKey":"ctrlKey"]};b._uniqueId=0;b.getUniqueId=function(){var f;do f=c._scopeName+"Unique"+ ++b._uniqueId;while(a.byId(f));return f};b._empty={};b.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return b})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),
function(g,c,e,a,b,f){return c("dijit.tree._dndContainer",null,{constructor:function(c,h){this.tree=c;this.node=c.domNode;a.mixin(this,h);this.containerState="";e.add(this.node,"dojoDndContainer");this.events=[b(this.node,f.enter,a.hitch(this,"onOverEvent")),b(this.node,f.leave,a.hitch(this,"onOutEvent")),g.after(this.tree,"_onNodeMouseEnter",a.hitch(this,"onMouseOver"),!0),g.after(this.tree,"_onNodeMouseLeave",a.hitch(this,"onMouseOut"),!0),b(this.node,"dragstart, selectstart",function(a){a.preventDefault()})]},
destroy:function(){for(var a;a=this.events.pop();)a.remove();this.node=this.parent=null},onMouseOver:function(a){this.current=a},onMouseOut:function(){this.current=null},_changeState:function(a,b){var d="dojoDnd"+a,f=a.toLowerCase()+"State";e.replace(this.node,d+b,d+this[f]);this[f]=b},_addItemClass:function(a,b){e.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){e.remove(a,"dojoDndItem"+b)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container",
"")}})})},"FPTTree/js/TreeStore":function(){define(["dojo/_base/declare","dojo/store/Memory","dojo/store/Observable","dijit/tree/ObjectStoreModel","dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool"],function(g,c,e,a,b){return g(null,{constructor:function(f){this.MemoryStore=new c({data:[{identifier:"FPTRoot",name:b.titleFPTRoot,path:"FPTRoot",iconClass:"SimulinkRoot",itemFullyLoaded:!0,hasChildren:!0,id:"FPTRoot"}],getChildren:function(a){return this.query({parent:a.identifier})}});this.dataStore=
new e(this.MemoryStore);this.treeStore=new a({store:this.dataStore,topModel:"",query:{},mayHaveChildren:function(a){a=this.store.query({identifier:a.identifier});return 0!==a.length?a[0].hasChildren:!1}});this._showObjectNode=f;this._timeoutIDArray=[]},clearAndUpdateStore:function(a,c){var e=a.data,d={identifier:"FPTRoot",name:b.titleFPTRoot,path:"FPTRoot",iconClass:"SimulinkRoot",itemFullyLoaded:!0,hasChildren:!0,id:"FPTRoot"};this.clearStore();this.treeStore.query={identifier:"FPTRoot"};this.dataStore.put(d);
this._showObjectNode&&this._addObjectNodeToTree();Array.isArray(e)||(e=[e]);this.treeStore.topModel=e[0].TopModel;for(d=0;d<e.length;d+=1){e[d].Models.id=e[d].Models.identifier;this.dataStore.put(e[d].Models);var l=e[d].children;Array.isArray(l)||(l=[l]);250>=l.length?this.updateStore(l,c):this.updateStoreWithTimeout(l,c)}},updateStore:function(a,b){for(var c=0;c<a.length;c+=1)a[c].id=a[c].identifier,this.dataStore.put(a[c]);b.resolve()},updateStoreWithTimeout:function(a,b){for(var c=parseInt(a.length/
100),d=0;d<=c;d+=1){var e=a.slice(100*d,100*d+99),e=this._createSetTimeout(e,b,d);this._timeoutIDArray.push(e)}},_createSetTimeout:function(a,b,c){var d=this;return setTimeout(function(a,b){return function(){for(var f=0;f<a.length;f+=1)a[f].id=a[f].identifier,d.dataStore.put(a[f]);d.decrementDataAddCount(b)}}(a,b),10*c)},decrementDataAddCount:function(a){clearTimeout(this._timeoutIDArray[0]);this._timeoutIDArray.shift();0===this._timeoutIDArray.length&&a.resolve()},addToStore:function(a){a=a.data;
Array.isArray(a)||(a=[a]);for(var b=0;b<a.length;b+=1){a[b].id=a[b].identifier;this.query({identifier:a[b].id})[0]&&this.dataStore.remove(a[b].id);var c=this.query({name:a[b].name})[0];c&&(c.parent===a[b].parent&&-1===c.identifier.indexOf("_dummy"))&&this.dataStore.remove(c.id);this.query({parent:a[b].id})[0]&&(a[b].hasChildren=!0,a[b].itemFullyLoaded=!0);if(c=this.query({identifier:a[b].parent})[0])c.hasChildren=!0,c.itemFullyLoaded=!0,this.dataStore.put(c);this.dataStore.put(a[b])}},clearStore:function(){var a=
this.dataStore.data;if(a)for(;0<a.length;)this.dataStore.remove(a[0].id)},query:function(a){return this.dataStore.query(a)},_addObjectNodeToTree:function(){this.dataStore.put({identifier:"DataObjects",name:b.titleDataObjects,path:"FPTRoot/DataObjects",iconClass:"DataRoot",id:"DataObjects",parent:"FPTRoot",itemFullyLoaded:!0,hasChildren:!1})}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(g,c,e){return g("dojo.store.Memory",
null,{constructor:function(a){for(var b in a)this[b]=a[b];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:e,get:function(a){return this.data[this.index[a]]},getIdentity:function(a){return a[this.idProperty]},put:function(a,b){var f=this.data,c=this.index,e=this.idProperty,e=a[e]=b&&"id"in b?b.id:e in a?a[e]:Math.random();if(e in c){if(b&&!1===b.overwrite)throw Error("Object already exists");f[c[e]]=a}else c[e]=f.push(a)-1;return e},add:function(a,b){(b=b||{}).overwrite=
!1;return this.put(a,b)},remove:function(a){var b=this.index,f=this.data;if(a in b)return f.splice(b[a],1),this.setData(f),!0},query:function(a,b){return c(this.queryEngine(a,b)(this.data))},setData:function(a){a.items?(this.idProperty=a.identifier||this.idProperty,a=this.data=a.items):this.data=a;this.index={};for(var b=0,f=a.length;b<f;b++)this.index[a[b][this.idProperty]]=b}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(g,c,
e){var a=function(b){function f(f){b[f]=function(){var d=arguments,c=e(b,function(b){Array.prototype.unshift.call(d,b);return a(g[f].apply(g,d))});if("forEach"!==f||k)return c}}if(!b)return b;var k=!!b.then;k&&(b=c.delegate(b));f("forEach");f("filter");f("map");null==b.total&&(b.total=e(b,function(a){return a.length}));return b};c.setObject("dojo.store.util.QueryResults",a);return a})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(g){return function(c,e){function a(a){a=
g.filter(a,c);var b=e&&e.sort;b&&a.sort("function"==typeof b?b:function(a,c){for(var f,e=0;f=b[e];e++){var h=a[f.attribute],g=c[f.attribute],h=null!=h?h.valueOf():h,g=null!=g?g.valueOf():g;if(h!=g)return!!f.descending==(null==h||h>g)?-1:1}return 0});if(e&&(e.start||e.count)){var h=a.length;a=a.slice(e.start||0,(e.start||0)+(e.count||Infinity));a.total=h}return a}switch(typeof c){default:throw Error("Can not query with a "+typeof c);case "object":case "undefined":var b=c;c=function(a){for(var c in b){var e=
b[c];if(e&&e.test){if(!e.test(a[c],a))return!1}else if(e!=a[c])return!1}return!0};break;case "string":if(!this[c])throw Error("No filter function "+c+" was found in store");c=this[c];case "function":}a.matches=c;return a}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(g,c,e,a){g=function(b){function f(a,d){var c=b[a];c&&(b[a]=function(f){var h;"put"===a&&(h=b.getIdentity(f));if(l)return c.apply(this,arguments);l=!0;try{var k=c.apply(this,
arguments);e(k,function(a){d("object"==typeof a&&a||f,h)});return k}finally{l=!1}})}var k=[],h=0;b=c.delegate(b);b.notify=function(a,d){h++;for(var b=k.slice(),c=0,f=b.length;c<f;c++)b[c](a,d)};var d=b.query;b.query=function(f,l){l=l||{};var g=d.apply(this,arguments);if(g&&g.forEach){var s=c.mixin({},l);delete s.start;delete s.count;var p=b.queryEngine&&b.queryEngine(f,s),r=h,t=[],u;g.observe=function(d,c){1==t.push(d)&&k.push(u=function(d,f){e(g,function(e){var m=e.length!=l.count,k,g;if(++r!=h)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var q,C=-1,u=-1;if(void 0!==f){var K=[].concat(e);p&&!d&&(K=p(e));k=0;for(g=e.length;k<g;k++){var s=e[k];if(b.getIdentity(s)==f&&!(0>K.indexOf(s))){q=s;C=k;(p||!d)&&e.splice(k,1);break}}}if(p){if(d&&(p.matches?p.matches(d):p([d]).length))k=-1<C?C:e.length,e.splice(k,0,d),u=a.indexOf(p(e),d),e.splice(k,1),l.start&&0==u||!m&&u==e.length?u=-1:e.splice(u,0,d)}else d&&(void 0!==f?u=C:l.start||(u=b.defaultIndex||0,e.splice(u,0,d)));if((-1<C||-1<u)&&(c||!p||C!=u)){m=t.slice();for(k=0;e=m[k];k++)e(d||q,C,
u)}})});var f={};f.remove=f.cancel=function(){var b=a.indexOf(t,d);-1<b&&(t.splice(b,1),t.length||k.splice(a.indexOf(k,u),1))};return f}}return g};var l;f("put",function(a,d){b.notify(a,d)});f("add",function(a){b.notify(a)});f("remove",function(a){b.notify(void 0,a)});return b};c.setObject("dojo.store.Observable",g);return g})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(g,
c,e,a,b,f,k){return e("dijit.tree.ObjectStoreModel",k,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(a){b.mixin(this,a);this.childrenCache={}},getRoot:function(a,d){if(this.root)a(this.root);else{var c=this.store.query(this.query);c.then&&this.own(c);f(c,b.hitch(this,function(d){if(1!=d.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+d.length+" items, but must return exactly one");this.root=d[0];a(this.root);c.observe&&c.observe(b.hitch(this,
function(a){this.onChange(a)}),!0)}),d)}},mayHaveChildren:function(){return!0},getChildren:function(a,d,c){var e=this.store.getIdentity(a);if(this.childrenCache[e])f(this.childrenCache[e],d,c);else{var k=this.childrenCache[e]=this.store.getChildren(a);k.then&&this.own(k);k.observe&&this.own(k.observe(b.hitch(this,function(d,c,e){this.onChange(d);c!=e&&f(k,b.hitch(this,"onChildrenChange",a))}),!0));f(k,d,c)}},isItem:function(){return!0},getIdentity:function(a){return this.store.getIdentity(a)},getLabel:function(a){return a[this.labelAttr]},
newItem:function(a,d,b,c){return this.store.put(a,{parent:d,before:c})},pasteItem:function(c,d,f,e,k,q){var s=new a;if(d===f&&!e&&!q)return s.resolve(!0),s;d&&!e?this.getChildren(d,b.hitch(this,function(a){a=[].concat(a);var b=g.indexOf(a,c);a.splice(b,1);this.onChildrenChange(d,a);s.resolve(this.store.put(c,{overwrite:!0,parent:f,oldParent:d,before:q}))})):s.resolve(this.store.put(c,{overwrite:!0,parent:f,oldParent:d,before:q}));return s},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},
"mw-overlay-utils/BusyOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/query dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin spinner/spin mw-log/Log dojo/text!./templates/busyOverlayTemplate.html".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9,top:"50%",left:"50%"},u={lines:11,length:8,
width:4,radius:12,corners:0.5,className:"spinner spinnerLarge"},x={lines:11,length:5,width:3,radius:8,corners:1,className:"spinner spinnerMedium"},v={lines:11,length:4,width:2,radius:6,corners:1,className:"spinner spinnerSmall"},w={lines:9,length:2,width:2,radius:4,corners:0,className:"spinner spinnerXSmall"};c.mixin(u,t);c.mixin(x,t);c.mixin(v,t);c.mixin(w,t);g=g("MW.utils.BusyOverlay",[n,q],{_displayed:!1,_started:!1,_spinner:null,_size:null,target:null,_text:"",_textSpan:null,_spinnerTextNode:null,
templateString:r,constructor:function(a){this._textSpan=h.create("span");this._spinnerTextNode=h.create("div");Object.defineProperty(this,"text",{set:function(a){this._text=a;this._text&&"string"===typeof this._text||(this._text="");this._textSpan.textContent=this._text;this._started&&this._updateTitle()},get:function(){return this._text},enumerable:!0,configurable:!0});this._setSpinnerSize(a);k.add(this._spinnerTextNode,"spinnerText");a&&a.text&&this.set("text",a.text)},_setSpinnerSize:function(a){try{if(null===
a||void 0===a||a.text&&!a.size)this._size=c.clone(u);else if("object"===typeof a)this._size=a.size?c.clone(a.size):c.clone(a);else throw Error("Incorrect argument passed to BusyOverlay Object.");}catch(d){p.error(d.message)}},_updateTitle:function(){k.remove(this._textSpan,"spinnerCenter");this._textSpan.offsetWidth>=this._spinnerTextNode.offsetWidth?b.set(this._spinnerTextNode,"title",this._text):b.set(this._spinnerTextNode,"title","");k.add(this._textSpan,"spinnerCenter")},_updateTextStyle:function(){var b=
d.position(this._underlayNode).h/2+2*this._size.radius+15+"px";a.set(this._spinnerTextNode,"top",b)},startup:function(){if(!this._started){this._spinner=new s(this._size);if(this.target){if("string"===typeof this.target){var a=m.byId(this.target);this.target=a?a.domNode:e.byId(this.target)}h.place(this.domNode,this.target);h.place(this._textSpan,this._spinnerTextNode);h.place(this._spinnerTextNode,this._busyOverlayNode)}this._text&&(this._updateTitle(),this.own(l(window,"resize",this._updateTextStyle.bind(this))));
this._started=!0;this.inherited(arguments)}},postCreate:function(){this._underlayNode.style.zIndex=2E9-1;this.inherited(arguments)},show:function(){this._displayed||(this._started||this.startup(),this._displayed=!0,this._busyOverlayNode.style.display="inline",this._busyOverlayNode.className="mw-busyIndicator",this._updateTextStyle(),a.set(this._spinnerTextNode,"display","block"),this._spinner.spin(this._spinnerNode),this.onShow())},hide:function(){this._displayed&&(this._displayed=!1,this._busyOverlayNode.style.display=
"none",this._spinner.stop(),this._spinnerTextNode.style.display="none",this.onHide())},uninitialize:function(){this.hide();this._spinner=this.target=null;this._displayed=!1;f(".spinnerText").forEach(h.destroy);this._spinnerTextNode=this._textSpan=null;this.inherited(arguments)},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){this.inherited(arguments)}});g.SIZE={LARGE:u,MEDIUM:x,SMALL:v,XSMALL:w};Object.freeze(g.SIZE);Object.freeze(g.SIZE.LARGE);Object.freeze(g.SIZE.MEDIUM);
Object.freeze(g.SIZE.SMALL);Object.freeze(g.SIZE.XSMALL);return g})},"spinner/spin":function(){define([],function(){function g(a,d){var b=document.createElement(a||"div"),c;for(c in d)b[c]=d[c];return b}function c(a){for(var d=1,b=arguments.length;d<b;d++)a.appendChild(arguments[d]);return a}function e(a,d,b,c){var f=["opacity",d,~~(100*a),b,c].join("-");b=0.01+100*(b/c);c=Math.max(1-(1-a)/d*(100-b),a);var e=m.substring(0,m.indexOf("Animation")).toLowerCase();l[f]||(n.insertRule("@"+(e&&"-"+e+"-"||
"")+"keyframes "+f+"{0%{opacity:"+c+"}"+b+"%{opacity:"+a+"}"+(b+0.01)+"%{opacity:1}"+(b+d)%100+"%{opacity:"+a+"}100%{opacity:"+c+"}}",n.cssRules.length),l[f]=1);return f}function a(a,b){var c=a.style,f,e;b=b.charAt(0).toUpperCase()+b.slice(1);for(e=0;e<d.length;e++)if(f=d[e]+b,void 0!==c[f])return f;if(void 0!==c[b])return b}function b(d,b){for(var c in b)d.style[a(d,c)||c]=b[c];return d}function f(a){for(var d=1;d<arguments.length;d++){var b=arguments[d],c;for(c in b)void 0===a[c]&&(a[c]=b[c])}return a}
function k(a){this.opts=f(a||{},k.defaults,q)}function h(){function a(d,b){return g("\x3c"+d+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"spin-vml"\x3e',b)}n.addRule(".spin-vml","behavior:url(#default#VML)");k.prototype.lines=function(d,f){function e(){return b(a("group",{coordsize:k+" "+k,coordorigin:-m+" "+-m}),{width:k,height:k})}function h(d,k,l){c(g,c(b(e(),{rotation:360/f.lines*d+"deg",left:~~k}),c(b(a("roundrect",{arcsize:f.corners}),{width:m,height:f.width,left:f.radius,top:-f.width>>
1,filter:l}),a("fill",{color:"string"==typeof f.color?f.color:f.color[d%f.color.length],opacity:f.opacity}),a("stroke",{opacity:0}))))}var m=f.length+f.width,k=2*m,l=2*-(f.width+f.length)+"px",g=b(e(),{position:"absolute",top:l,left:l});if(f.shadow)for(l=1;l<=f.lines;l++)h(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d2,makeshadow\x3d1,shadowopacity\x3d.3)");for(l=1;l<=f.lines;l++)h(l);return c(d,g)};k.prototype.opacity=function(a,d,b,c){a=a.firstChild;c=c.shadow&&c.lines||0;if(a&&d+
c<a.childNodes.length&&(a=(a=(a=a.childNodes[d+c])&&a.firstChild)&&a.firstChild))a.opacity=b}}var d=["webkit","Moz","ms","O"],l={},m,n=function(){var a=g("style",{type:"text/css"});c(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),q={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};k.defaults={};f(k.prototype,{spin:function(a){this.stop();
var d=this,c=d.opts,f=d.el=b(g(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex});b(f,{left:c.left,top:c.top});a&&a.insertBefore(f,a.firstChild||null);f.setAttribute("role","progressbar");d.lines(f,d.opts);if(!m){var e=0,h=(c.lines-1)*(1-c.direction)/2,k,l=c.fps,n=l/c.speed,q=(1-c.opacity)/(n*c.trail/100),s=n/c.lines;(function F(){e++;for(var a=0;a<c.lines;a++)k=Math.max(1-(e+(c.lines-a)*s)%n*q,c.opacity),d.opacity(f,a*c.direction+h,k,c);d.timeout=d.el&&setTimeout(F,~~(1E3/
l))})()}return d},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,d){function f(a,c){return b(g(),{position:"absolute",width:d.length+d.width+"px",height:d.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/d.lines*h+d.rotate)+"deg) translate("+d.radius+"px,0)",borderRadius:(d.corners*d.width>>1)+"px"})}for(var h=0,k=(d.lines-1)*(1-d.direction)/2,l;h<d.lines;h++)l=
b(g(),{position:"absolute",top:1+~(d.width/2)+"px",transform:d.hwaccel?"translate3d(0,0,0)":"",opacity:d.opacity,animation:m&&e(d.opacity,d.trail,k+h*d.direction,d.lines)+" "+1/d.speed+"s linear infinite"}),d.shadow&&c(l,b(f("#000","0 0 4px #000"),{top:"2px"})),c(a,c(l,f("string"==typeof d.color?d.color:d.color[h%d.color.length],"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,d,b){d<a.childNodes.length&&(a.childNodes[d].style.opacity=b)}});var s=b(g("group"),{behavior:"url(#default#VML)"});
!a(s,"transform")&&s.adj?h():m=a(s,"animation");return k})},"mw-log/Log":function(){define(["dojo/date/locale"],function(g){return function(){function c(a){h&&(d||!f||!f.log)&&h.apply(b,a)}function e(a){k[a]=function(){if(0!==l&&f&&f[a])if("assert"===a){if(!arguments[0])if(b.ScriptEngine){var d=Array.prototype.slice.call(arguments);d.shift();f[a](!1,d)}else f[a].apply(f,arguments)}else if(b.ScriptEngine)if(-1!==a.indexOf("profile"))f[a]();else f[a](arguments[0]);else f[a].apply(f,arguments)}}function a(a,
d){k[d]=function(){var e=Array.prototype.slice.call(arguments),h=g.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),k=[d].concat(e),e=[h].concat(e);m.push(k);m.length>n&&m.shift();c(k);if(f&&(0<l?l>a:q.length+l<=a))if(f.firebug&&"error"!==d)f[d].apply(b,e);else if(f[d])f[d](e);else f.log(e)}}var b=this,f=b.console,k={},h,d,l=9,m=[],n=25,q=["error","warn","info","debug","log"],s="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),
p;for(p=s.length;0<=(p-=1);)e(s[p]);for(p=q.length;0<=(p-=1);)a(p,q[p]);k.setLevel=function(a){l="number"===typeof a?a:9};k.setCallback=function(a,b,f){var e=m.length;h=a||null;d="boolean"===typeof b?b:!1;for(a=e-("number"===f?f:e);a<e;)c(m[a+=1])};return k}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(g,c,e,a,b,f,k,h,d){function l(d,b,c,f){return f.replace(/([a-z])\1*/ig,
function(e){var h,m,l=e.charAt(0);e=e.length;var g=["abbr","wide","narrow"];switch(l){case "G":h=b[4>e?"eraAbbr":"eraNames"][0>d.getFullYear()?0:1];break;case "y":h=d.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){h=String(h);h=h.substr(h.length-2);break}default:m=!0}break;case "Q":case "q":h=Math.ceil((d.getMonth()+1)/3);m=!0;break;case "M":case "L":h=d.getMonth();3>e?(h+=1,m=!0):(l=["months","L"==l?"standAlone":"format",g[e-3]].join("-"),h=b[l][h]);break;case "w":h=q._getWeekOfYear(d,
0);m=!0;break;case "d":h=d.getDate();m=!0;break;case "D":h=q._getDayOfYear(d);m=!0;break;case "e":case "c":if(h=d.getDay(),2>e){h=(h-a.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":h=d.getDay();3>e?(h+=1,m=!0):(l=["days","c"==l?"standAlone":"format",g[e-3]].join("-"),h=b[l][h]);break;case "a":l=12>d.getHours()?"am":"pm";h=c[l]||b["dayPeriods-format-wide-"+l];break;case "h":case "H":case "K":case "k":m=d.getHours();switch(l){case "h":h=m%12||12;break;case "H":h=m;break;case "K":h=m%12;break;case "k":h=
m||24}m=!0;break;case "m":h=d.getMinutes();m=!0;break;case "s":h=d.getSeconds();m=!0;break;case "S":h=Math.round(d.getMilliseconds()*Math.pow(10,e-3));m=!0;break;case "v":case "z":if(h=q._getZone(d,!0,c))break;e=4;case "Z":l=q._getZone(d,!1,c);l=[0>=l?"+":"-",k.pad(Math.floor(Math.abs(l)/60),2),k.pad(Math.abs(l)%60,2)];4==e&&(l.splice(0,0,"GMT"),l.splice(3,0,":"));h=l.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+f);}m&&(h=k.pad(h,e));return h})}function m(a,
d,b,f){var e=function(a){return a};d=d||e;b=b||e;f=f||e;var h=a.match(/(''|[^'])+/g),m="'"==a.charAt(0);c.forEach(h,function(a,c){a?(h[c]=(m?b:d)(a.replace(/''/g,"'")),m=!m):h[c]=""});return f(h.join(""))}function n(a,d,b,c){c=f.escapeString(c);b.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(c){var f;f=c.charAt(0);var e=c.length,h="",m="";b.strict?(1<e&&(h="0{"+(e-1)+"}"),2<e&&(m="0{"+(e-2)+"}")):(h="0?",m="0{0,2}");switch(f){case "y":f="\\d{2,4}";break;case "M":case "L":f=
2<e?"\\S+?":"1[0-2]|"+h+"[1-9]";break;case "D":f="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+m+"[1-9]";break;case "d":f="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":f="[1-4][0-9]|5[0-3]|"+h+"[1-9]";break;case "E":case "e":case "c":f=".+?";break;case "h":f="1[0-2]|"+h+"[1-9]";break;case "k":f="1[01]|"+h+"\\d";break;case "H":f="1\\d|2[0-3]|"+h+"\\d";break;case "K":f="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":f="[0-5]\\d";break;case "S":f="\\d{"+e+"}";break;case "a":e=b.am||d["dayPeriods-format-wide-am"];
h=b.pm||d["dayPeriods-format-wide-pm"];f=e+"|"+h;b.strict||(e!=e.toLowerCase()&&(f+="|"+e.toLowerCase()),h!=h.toLowerCase()&&(f+="|"+h.toLowerCase()),-1!=f.indexOf(".")&&(f+="|"+f.replace(/\./g,"")));f=f.replace(/\./g,"\\.");break;default:f=".*"}a&&a.push(c);return"("+f+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var q={};g.setObject(d.id.replace(/\//g,"."),q);q._getZone=function(a,d,b){return d?e.getTimezoneName(a):a.getTimezoneOffset()};q.format=function(a,d){d=d||{};var c=b.normalizeLocale(d.locale),
f=d.formatLength||"short",c=q._getGregorianBundle(c),e=[],h=g.hitch(this,l,a,c,d);if("year"==d.selector)return m(c["dateFormatItem-yyyy"]||"yyyy",h);var k;"date"!=d.selector&&(k=d.timePattern||c["timeFormat-"+f])&&e.push(m(k,h));"time"!=d.selector&&(k=d.datePattern||c["dateFormat-"+f])&&e.push(m(k,h));return 1==e.length?e[0]:c["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,d){return e[d]})};q.regexp=function(a){return q._parseInfo(a).regexp};q._parseInfo=function(a){a=a||{};
var d=b.normalizeLocale(a.locale),d=q._getGregorianBundle(d),c=a.formatLength||"short",f=a.datePattern||d["dateFormat-"+c],e=a.timePattern||d["timeFormat-"+c],c="date"==a.selector?f:"time"==a.selector?e:d["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,d){return[e,f][d]}),h=[];return{regexp:m(c,g.hitch(this,n,h,d,a)),tokens:h,bundle:d}};q.parse=function(a,d){var b=/[\u200E\u200F\u202A\u202E]/g,f=q._parseInfo(d),h=f.tokens,m=f.bundle,b=RegExp("^"+f.regexp.replace(b,"")+"$",f.strict?"":"i").exec(a&&
a.replace(b,""));if(!b)return null;var k=["abbr","wide","narrow"],l=[1970,0,1,0,0,0,0],g="",b=c.every(b,function(a,b){if(!b)return!0;var f=h[b-1],e=f.length,f=f.charAt(0);switch(f){case "y":if(2!=e&&d.strict)l[0]=a;else if(100>a)a=Number(a),f=""+(new Date).getFullYear(),e=100*f.substring(0,2),f=Math.min(Number(f.substring(2,4))+20,99),l[0]=a<f?e+a:e-100+a;else{if(d.strict)return!1;l[0]=a}break;case "M":case "L":if(2<e){if(e=m["months-"+("L"==f?"standAlone":"format")+"-"+k[e-3]].concat(),d.strict||
(a=a.replace(".","").toLowerCase(),e=c.map(e,function(a){return a.replace(".","").toLowerCase()})),a=c.indexOf(e,a),-1==a)return!1}else a--;l[1]=a;break;case "E":case "e":case "c":e=m["days-"+("c"==f?"standAlone":"format")+"-"+k[e-3]].concat();d.strict||(a=a.toLowerCase(),e=c.map(e,function(a){return a.toLowerCase()}));a=c.indexOf(e,a);if(-1==a)return!1;break;case "D":l[1]=0;case "d":l[2]=a;break;case "a":e=d.am||m["dayPeriods-format-wide-am"];f=d.pm||m["dayPeriods-format-wide-pm"];if(!d.strict){var n=
/\./g;a=a.replace(n,"").toLowerCase();e=e.replace(n,"").toLowerCase();f=f.replace(n,"").toLowerCase()}if(d.strict&&a!=e&&a!=f)return!1;g=a==f?"p":a==e?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;l[3]=a;break;case "m":l[4]=a;break;case "s":l[5]=a;break;case "S":l[6]=a}return!0}),f=+l[3];"p"===g&&12>f?l[3]=f+12:"a"===g&&12==f&&(l[3]=0);f=new Date(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);d.strict&&f.setFullYear(l[0]);var n=h.join(""),p=-1!=n.indexOf("d"),n=-1!=n.indexOf("M");
if(!b||n&&f.getMonth()>l[1]||p&&f.getDate()>l[2])return null;if(n&&f.getMonth()<l[1]||p&&f.getDate()<l[2])f=e.add(f,"hour",1);return f};var s=[],p={};q.addCustomFormats=function(a,d){s.push({pkg:a,name:d});p={}};q._getGregorianBundle=function(a){if(p[a])return p[a];var d={};c.forEach(s,function(f){f=b.getLocalization(f.pkg,f.name,a);d=g.mixin(d,f)},this);return p[a]=d};q.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian");q.getNames=function(a,d,b,f){var c;f=q._getGregorianBundle(f);
a=[a,b,d];"standAlone"==b&&(b=a.join("-"),c=f[b],1==c[0]&&(c=void 0));a[1]="format";return(c||f[a.join("-")]).concat()};q.isWeekend=function(d,b){var f=a.getWeekend(b),c=(d||new Date).getDay();f.end<f.start&&(f.end+=7,c<f.start&&(c+=7));return c>=f.start&&c<=f.end};q._getDayOfYear=function(a){return e.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};q._getWeekOfYear=function(a,d){1==arguments.length&&(d=0);var b=(new Date(a.getFullYear(),0,1)).getDay(),f=Math.floor((q._getDayOfYear(a)+
(b-d+7)%7-1)/7);b==d&&f++;return f};return q})},"dojo/date":function(){define(["./has","./_base/lang"],function(g,c){var e={getDaysInMonth:function(a){var b=a.getMonth();return 1==b&&e.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var b=a.toString(),f="",c=b.indexOf("(");if(-1<c)f=b.substring(++c,b.indexOf(")"));else if(c=/([A-Z\/]+) \d{4}$/,b=b.match(c))f=b[1];else if(b=a.toLocaleString(),
c=/ ([A-Z\/]+)$/,b=b.match(c))f=b[1];return"AM"==f||"PM"==f?"":f},compare:function(a,b,f){a=new Date(+a);b=new Date(+(b||new Date));"date"==f?(a.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==f&&(a.setFullYear(0,0,0),b.setFullYear(0,0,0));return a>b?1:a<b?-1:0},add:function(a,b,f){var c=new Date(+a),e=!1,d="Date";switch(b){case "day":break;case "weekday":var l;(b=f%5)?l=parseInt(f/5):(b=0<f?5:-5,l=0<f?(f-5)/5:(f+5)/5);var m=a.getDay(),g=0;6==m&&0<f?g=1:0==m&&0>f&&(g=-1);m+=b;if(0==m||6==m)g=0<f?2:
-2;f=7*l+b+g;break;case "year":d="FullYear";e=!0;break;case "week":f*=7;break;case "quarter":f*=3;case "month":e=!0;d="Month";break;default:d="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(d)c["set"+d](c["get"+d]()+f);e&&c.getDate()<a.getDate()&&c.setDate(0);return c},difference:function(a,b,f){b=b||new Date;f=f||"day";var c=b.getFullYear()-a.getFullYear(),h=1;switch(f){case "quarter":a=a.getMonth();b=b.getMonth();a=Math.floor(a/3)+1;b=Math.floor(b/3)+1;h=b+4*c-a;break;case "weekday":c=Math.round(e.difference(a,
b,"day"));f=parseInt(e.difference(a,b,"week"));h=c%7;if(0==h)c=5*f;else{var d=0,l=a.getDay();b=b.getDay();f=parseInt(c/7);h=c%7;a=new Date(a);a.setDate(a.getDate()+7*f);a=a.getDay();if(0<c)switch(!0){case 6==l:d=-1;break;case 0==l:d=0;break;case 6==b:d=-1;break;case 0==b:d=-2;break;case 5<a+h:d=-2}else if(0>c)switch(!0){case 6==l:d=0;break;case 0==l:d=1;break;case 6==b:d=2;break;case 0==b:d=1;break;case 0>a+h:d=2}c=c+d-2*f}h=c;break;case "year":h=c;break;case "month":h=b.getMonth()-a.getMonth()+12*
c;break;case "week":h=parseInt(e.difference(a,b,"day")/7);break;case "day":h/=24;case "hour":h/=60;case "minute":h/=60;case "second":h/=1E3;case "millisecond":h*=b.getTime()-a.getTime()}return Math.round(h)}};c.mixin(c.getObject("dojo.date",!0),e);return e})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(g,c){var e={};g.setObject("dojo.cldr.supplemental",e);e.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,
qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[e._region(a)];return void 0===a?1:a};e._region=function(a){a=c.normalizeLocale(a);a=a.split("-");var b=a[1];b?4==b.length&&(b=a[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",
as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",
ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",
sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",
bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",
guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",
luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",
sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",
yav:"cm",zza:"tr"}[a[0]];return b};e.getWeekend=function(a){var b=e._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===a&&(a=6);void 0===b&&(b=0);return{start:a,end:b}};return e})},"FPTUtils/js/TreeHandler":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/Deferred dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool FPTDispatcher/Dispatcher dojo/domReady!".split(" "),
function(g,c,e,a,b,f){return g(null,{constructor:function(a,b,d){this.uiTree=a;this.treeLevel=2;this._hierarchyUpdateChannel="/fpt/model/hierarchy/"+b;this._treeUpdateChannel="/fpt/model/treeupdate/"+b;this._treeReadyChannel="/fpt/treedata/ready/"+b;this._childrenUpdateChannel="/fpt/treedata/getTreeNodeChildren/"+b;this._treeSelectionChannel="/fpt/treedata/currentSelection/"+b;this._treeSelectNodeChannel="/fpt/treedata/makeSelection/"+b;this._treeNotSelectableChannel="/fpt/treedata/treeSelectionFailed/"+
b;d&&(this.treeLevel=d);this.uiTree.attachOnOpenCallback(this,"_getChildren");this._modelSubscription=f.subscribe(this._hierarchyUpdateChannel,"_updateHierarchy",this);this._treeUpdateSubscription=f.subscribe(this._treeUpdateChannel,"_updateTreeNodeChildren",this);this._selectTreeNodeSubscription=f.subscribe(this._treeSelectNodeChannel,"_selectTreeNode",this);e.subscribe("notifyTreeSelectionChanged",c.hitch(this,this._publishTreeSelection))},destroy:function(){f.unsubscribe(this._hierarchyUpdateChannel,
"_updateHierarchy",this);f.unsubscribe(this._treeUpdateChannel,"_updateTreeNodeChildren",this);f.unsubscribe(this._treeSelectNodeChannel,"_selectTreeNode",this);this._selectTreeNodeSubscription=this._treeUpdateSubscription=this._modelSubscription=null},_getChildren:function(a){if(!a.itemFullyLoaded&&a.hasChildren){var b={identifier:a.identifier,"class":a["class"],level:this.treeLevel};this.uiTree.showSpinner();f.publish(this._childrenUpdateChannel,b);a.itemFullyLoaded=!0}},attachOnClickCallback:function(a,
b){this.uiTree.attachOnClickCallback(a,b)},getTreeDepth:function(){return this.treeLevel},_updateHierarchy:function(a){this.uiTree.updateHierarchy(a,this._initDataDeferredFcn);this._expandDefaultNodes();this._initDataDeferredFcn=void 0},_expandDefaultNodes:function(){this.uiTree.expandNodes(this.uiTree.getRoot(),1)},_updateTreeNodeChildren:function(a){this.uiTree.updateTreeNodeChildren(a,this._treeUpdateDeferredFcn);this._treeUpdateDeferredFcn&&this._treeUpdateDeferredFcn.isResolved()&&(this._treeUpdateDeferredFcn=
void 0)},fetchDataForTreeNode:function(b,c,d,e){e&&(this._treeUpdateDeferredFcn=new a,this._treeUpdateDeferredFcn.then(e),this._treeUpdateDeferredFcn.toLoadIdentifier=d.identifier);b={identifier:b.identifier,"class":b["class"],level:c,targetNode:d};this.uiTree.showSpinner();f.publish(this._childrenUpdateChannel,b)},attachOnDataAvailable:function(b){b&&(this._initDataDeferredFcn=new a,this._initDataDeferredFcn.then(b))},_selectTreeNode:function(a){this.uiTree.selectTreeNode(a.data.identifier)||f.publish(this._treeNotSelectableChannel,
{id:a.data.identifier,selectable:!1})},_publishTreeSelection:function(a){f.publish(this._treeSelectionChannel,a)}})})},"FPTDispatcher/Dispatcher":function(){define(["dojo/_base/lang","mw-log/Log","mw-facade/MatlabFacade","mw-messageservice/MessageService","mw-remote/Remote"],function(g,c,e,a,b){return{Instance:null,facade:null,channelSubscription:null,_publishChannel:"/slfxp_testchannel_",startMessageService:function(b){a.isStarted()||a.start()},publish:function(b,c){a.publish(b,c)},subscribe:function(b,
c,e){this.channelSubscription=a.subscribe(b,c,e)},unsubscribe:function(b,c,e){a.unsubscribe(b,c,e)},destroy:function(b){a.stop()},registerSuccessFailureHandlers:function(a){a&&a.scope&&(b.registerResponseHandler("FEvalResponse:"+a.classifierStr,a.successCallback,a.scope),b.registerFaultHandler("FEval:"+a.classifierStr,a.failureCallback,a.scope))},remoteSendMessage:function(a){a&&(a.matlabFunctionName&&a.classifierString)&&b.sendMessage({FEval:{"function":a.matlabFunctionName,arguments:a.inputArgs?
a.inputArgs:[],nargout:a.outputArgs?a.outputArgs:0,priority:a.priority?a.priority:1,dequeMode:"ppe"}},a.contextObject?a.contextObject:{},a.classifierString)}}})},"mw-facade/MatlabFacade":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-remote/Remote mw-messageservice/MessageService mw-deprecation-utils/deprecation".split(" "),function(g,c,e,a,b,f){f.deprecated({deprecated:{module:"mw-facade/MatlabFacade"},replacement:{module:"mw-remote/Remote"}});return g(null,{constructor:function(a){b.start();
this._config=a||{};this._registerHandlers()},_config:{},_registerHandlers:function(){var b=this._config;a.registerFaultHandler("Eval",function(a,d){e.error("Error: "+a.code+", "+a.message);d&&c.isFunction(d.errorCallback)?d.errorCallback(a):c.isFunction(b.errorCallback)&&b.errorCallback(a)});a.registerResponseHandler("EvalResponse",function(a,d){e.info("eval response");d&&c.isFunction(d.evalCallback)?d.evalCallback(a):c.isFunction(b.evalCallback)&&b.evalCallback(a)});a.registerFaultHandler("FEval",
function(a,d){e.error("Error: "+a.code+", "+a.message);d&&c.isFunction(d.errorCallback)?d.errorCallback(a):c.isFunction(b.errorCallback)&&b.errorCallback(a)});a.registerResponseHandler("FEvalResponse",function(a,d){e.info("feval response");d&&c.isFunction(d.fevalCallback)?d.fevalCallback(a):c.isFunction(b.evalCallback)&&b.evalCallback(a)})},executionEval:function(b){c.isString(b)&&(b={matlabcode:b});a.sendMessage({Eval:{mcode:b.matlabcode}},b)},feval:function(b){b.arguments=b.arguments||[];b.nargout=
b.nargout||0;a.sendMessage({FEval:{"function":b["function"],arguments:b.arguments,nargout:b.nargout}},b)},publish:b.publish,subscribe:b.subscribe,unsubscribe:b.unsubscribe})})},"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){var n=
this,q;q={reset:function(){var s=[],p=new b,r=new k({faultManager:p}),t=new f({responseManager:r});q.faultManager=p;q.responseManager=r;q.requestManager=t;q._serviceRegistryLookup=m;q._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var u=q.proxyClient=new e;q.createUploadIframeTarget=g.hitch(u,u.createUploadIframeTarget);q.cancelUpload=g.hitch(u,u.cancelUpload);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,u);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,
u);h.construct=function(b){b=b||{};d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||q.setEndpoint();b.allowedMessages=s;b.sendMessage=q.sendMessage;b.computeSessionId=q.getComputeSessionId;return new a(b)};q.registerEndpointLevelFaultHandler=g.hitch(p,p.registerEndpointLevelFaultHandler);q.sendMessage=g.hitch(t,t.sendMessage);q.registerDefaultMessageFactory=g.hitch(t,t.registerDefaultMessageFactory);q.deregisterDefaultMessageFactory=g.hitch(t,t.deregisterDefaultMessageFactory);
q.registerResponseHandler=g.hitch(r,r.registerResponseHandler);q.deregisterResponseHandler=g.hitch(r,r.deregisterResponseHandler);q.registerFaultHandler=g.hitch(p,p.registerFaultHandler);q.deregisterFaultHandler=g.hitch(p,p.deregisterFaultHandler);q.registerTopLevelFaultHandler=g.hitch(p,p.registerTopLevelFaultHandler);q.deregisterTopLevelFaultHandler=g.hitch(p,p.deregisterTopLevelFaultHandler);q.setServiceEndPoint=function(a,b,c){d.setRoutingHostAndRoutingKey(a,b,c)};q.setServicePathSuffixForEndPoint=
function(a,b){d.setPathSuffixForEndPoint(a,b)};q.ignoreTopLevelFault=q.registerTopLevelFaultHandler;q.setComputeToken=function(a){q._uploadIframeProxyUrlParameters[1]=a.computeSessionId;t.computeToken=a};q.setWorkerEndpoint=function(a,b){q._uploadIframeProxyUrlParameters[3]=b;d.setRoutingHostAndRoutingKey(d.getEndPointNames().WORKER_ENDPOINT,a,b)};q.setEndpoint=function(a){a||(a=q._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(l.info("ServiceRegistryLookup is empty, falling back to localhost"),
a="/"));if(!a||"/"===a)a=n.location.protocol+"//"+n.location.host+"/";d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,a);d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);u.setRemotePageHost(a)};q.setAllowedMessages=function(a){s=a};q.allowAllMessages=function(){s=[]};q.getEndPoint=function(){return d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};q.getUploadIframeProxyUrl=function(){var a=q.getWorkerRoutingHost();
"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+u.getUploadIframeProxyUrlPath()+q._uploadIframeProxyUrlParameters.join("")};q.getComputeSessionId=function(){return t.computeToken?t.computeToken.computeSessionId:12345};q.getWorkerRoutingHost=function(){var a=d.getRoutingHost(d.getEndPointNames().WORKER_ENDPOINT);return a?a:location.protocol+"//"+location.host+"/"};q.getWorkerRoutingKey=function(){return d.getRoutingKey(d.getEndPointNames().WORKER_ENDPOINT)};q.getServiceRegistryEndpoint=function(a){return q._serviceRegistryLookup.getServiceRegistryEndpoint(a)};
q.enableServerOnWorkerAsync=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};q.disableServerOnWorkerAsync=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};q.isServerOnWorkerAsyncEnabled=function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};q.enableServerOnWorker=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};q.disableServerOnWorker=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};q.isWorkerEndpointEnabled=
function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ENDPOINT)};q.setWorkerOnlyMessageTypes=function(a){d.setMessageTypesToEndPoint(d.getEndPointNames().WORKER_ENDPOINT,a)};c.after(u,"onError",function(a){a&&p.handleNonTransactionFault(a)},!0)}};q.reset();return q})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),
function(g,c,e,a,b,f,k,h,d,l){var m=this,n=c([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,d,b,c,f){a=this._combineUriPaths(a||"","/");d=d||"";f=f||this.LATEST_VERSION;c=c||"";this.computeToken=b;a===this._host&&d===
this._key&&c===this._proxyUrl&&f===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=d,this._version=f,this._proxyUrl=c,a=this._calculateUrls(a,d,f,c),this._createIframe(a))},_calculateUrls:function(a,d,b,c){var f=this.REMOTE_PROXY+b+"/iframeProxyRelease.html";b=this.REMOTE_PROXY+b+"/CheckJsFile.js";c&&(f=c);f=this._combineUriPaths(a,f).split("?")[0];f+=d?"?routingkey\x3d"+d:"";b=this._combineUriPaths(a,b);b=d?b+("?routingkey\x3d"+d):b+("?time\x3d"+(new Date).getTime());return{fastFailUrl:b,
iFrameUrl:f}},_createIframe:function(a){var c=a.fastFailUrl,f=this;this._url=a.iFrameUrl;this.remoteIframe&&k.destroy(this.remoteIframe);d.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=k.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});this._checkUrl=(new l(c)).then(function(){},b.hitch(f,"_handleLoadTimeoutHitch"));this._loadTimeoutHandle=setTimeout(function(){f._handleLoadTimeoutHitch()},
this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=g.connect(m,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{clearTimeout(this._loadTimeoutHandle);var a=(parseFloat(this._version)-0.1).toFixed(1).toString();d.info("Unable to load proxy version "+this._version+", trying "+a+".");this.setRemotePageHost(this._host,this._key,this.computeToken,
this._proxyUrl,a)}},createUploadIframeTarget:function(a,d,c){this._uploadTargetCallbacks[a]=b.hitch(c||this,d);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(b,c,f){var h=this,m;this.computeToken&&(f=f||{},f.headers=f.headers||{},f.headers.computeToken=this.computeToken);m=this._getNewMessageId();c="sendMessage;"+
m+";"+c+";"+(f?a.toJson(f):"{}");c+=";"+b;b={deferred:new e(function(){"1.0"===h._version?d.warn("Cancelling is not supported by the 1.0 remote proxy."):h._postMessage("abort;"+m)}),id:m};this._errorLoading?b.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[m]=b,this._postMessage(c));return b.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},
_handleMessage:function(a){var d,b;if(a.source===this.remoteIframe.contentWindow){b=a.data.indexOf(";");d=a.data.substring(0,b);if(!d)throw Error("Client unable to parse message, no action specified: "+a.data);switch(d){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,b);break;case "uploadIframeMessage":d=a.data.indexOf(";",b+1);b=a.data.substring(b+1,d);a=a.data.substring(d+1,a.data.length);this._uploadTargetCallbacks[b](a);
break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+d+", data: "+a.data);}}},_sendMessageResponse:function(d,b){var c,f,e=d.data.indexOf(";",b+1);c=d.data.indexOf(";",e+1);var h=d.data.substring(b+
1,e),m=d.data.substring(e+1,c),e=d.data.substring(c+1,d.data.length);if(!h||!m)throw Error("Invalid message from remote iframe: "+d.data);c=this._transactions[h];if(!c)throw Error("Unknown transaction id: "+h+", from remote iframe: "+d.data);delete this._transactions[h];if(!c.deferred.isCanceled())if("success"===m){try{f=e&&a.fromJson(e)}catch(l){f=e}f=""===f?{}:f;c.deferred.resolve(f)}else"fault"===m&&e&&(f=e.split(";"),h=f.length-1,1<=h&&(e.statusCode=f[h])),this.onError(e),c.deferred.reject(e)},
_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,d;this._cleanupFailureChecks();if(!this._loaded)for(d in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,
this._transactions={},a)a.hasOwnProperty(d)&&a[d].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(a){function b(){if(0<c._errorRate&&Math.random()<c._errorRate&&0===a.indexOf("sendMessage;")){if(f=a.split(";",2)[1],e=c._transactions[f])delete c._transactions[f],d.error("Generating simulated error. Request was: ",a),c.onError("403 Forbidden;403"),e.deferred.reject("403 Forbidden;403")}else c.remoteIframe.contentWindow.postMessage(a,c._url)}var c=
this,f,e;this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,d){if(0===a.length)return d;0<d.length&&
("/"===d[0]&&a.lastIndexOf("/")===a.length-1?d=d.substring(1):"/"!==d[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+d})}});n.WebSocket=c([],{constructor:function(a){var d=this;this.proxyClient=n.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+a);f.after(this.proxyClient,"onWebsocketOpen",function(){d.onopen.apply(d,arguments)},!0);f.after(this.proxyClient,
"onWebsocketMsg",function(){d.onmessage.apply(d,arguments)},!0);f.after(this.proxyClient,"onWebsocketClose",function(){d.onclose.apply(d,arguments)},!0);f.after(this.proxyClient,"onWebsocketError",function(){d.onerror.apply(d,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return n})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(g,c,e,a,b){return function(f){var k,h,d;if(!f)throw Error("Expected a valid url in urlToEmptyJsFile");k={framedoc:null};h=a.get(f,k,!0);k=c.byId(h.id,k.frameDoc);d=e(k,"error",function(a){b.info("CheckUrlService detected an error accessing url: "+f);h.handleResponse(null,a);d.remove()});return h.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m){function n(a,d){a.canDelete&&t._remove(a.id,d.options.frameDoc,!0)}function q(a){B&&B.length&&(b.forEach(B,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),B=[]);return a.options.jsonp?!a.data:!0}function s(a){return!!this.scriptLoaded}function p(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function r(a,d){if(this.canDelete){var b=this.response.options;B.push({id:this.id,frameDoc:b.ioArgs?b.ioArgs.frameDoc:b.frameDoc});b.ioArgs&&
(b.ioArgs.frameDoc=null);b.frameDoc=null}d?this.reject(d):this.resolve(a)}function t(a,d,b){var h=e.parseArgs(a,e.deepCopy({},d));a=h.url;d=h.options;var m=e.deferred(h,n,q,d.jsonp?null:d.checkString?p:s,r);f.mixin(m,{id:u+x++,canDelete:!1});d.jsonp&&(RegExp("[?\x26]"+d.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+d.jsonp+"\x3d"+(d.frameDoc?"parent.":"")+u+"_callbacks."+m.id),m.canDelete=!0,y[m.id]=function(a){h.data=a;m.handleResponse(h)});e.notify&&e.notify.emit("send",h,m.promise.cancel);
if(!d.canAttach||d.canAttach(m)){var l=t._attach(m.id,a,d.frameDoc);if(!d.jsonp&&!d.checkString)var g=k(l,v,function(a){if("load"===a.type||w.test(l.readyState))g.remove(),m.scriptLoaded=a})}k.once(l,"error",function(a){m.reject(a);t._remove(m.id,d.frameDoc,!0)});c(m);return b?m:m.promise}l.add("script-readystatechange",function(a,d){return"undefined"!==typeof d.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=g.id.replace(/[\/\.\-]/g,
"_"),x=0,v=l("script-readystatechange")?"readystatechange":"load",w=/complete|loaded/,y=a.global[u+"_callbacks"]={},B=[];t.get=t;t._attach=function(a,d,b){b=b||m.doc;var c=b.createElement("script");c.type="text/javascript";c.src=d;c.id=a;c.async=!0;c.charset="utf-8";return b.getElementsByTagName("head")[0].appendChild(c)};t._remove=function(a,b,c){d.destroy(h.byId(a,b));y[a]&&(c?y[a]=function(){delete y[a]}:delete y[a])};t._callbacksProperty=u+"_callbacks";return t})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare",
"mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(g,c,e){return g([c],{constructor:function(a){a=a||{};this.proxyClient=a.proxyClient;this.workerProxyClient=a.workerProxyClient;this.routingHost=a.routingHost;this.routingKey=a.routingKey;this.computeSessionId=a.computeSessionId},_doSend:function(a){return e.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(a,e.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),
function(g,c,e,a,b,f){return g(f,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var c=null;b.isEndpointMessageContainerBased(this.endPointName)?(c={uuid:this.uuid,messages:a},this.computeToken&&(c.computeToken=this.computeToken)):Object.keys(a).forEach(function(d){c=a[d]});this._sanitizeForJson(c);return e.toJson(c)},_sanitizeForJson:function(b){var c;if(a.isArray(b))b.forEach(this._sanitizeForJson,this);else if(a.isObject(b))for(c in b)b.hasOwnProperty(c)&&
(void 0===b[c]?delete b[c]:(a.isObject(b[c])||a.isArray(b[c]))&&this._sanitizeForJson(b[c]))},_doSend:function(a){return c.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();
this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],function(g){var c=null;null===c&&(c=new g);return c})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(g,c,e){return g([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},
WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",
pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(a,b,c,e,h){this.endPointsCollection[a]={routingHost:"",
routingKey:"",pathSuffix:c,enabled:b,messages:[],iframeProxy:null,iframeProxyName:e,acceptsMessageContainerMessages:h}},getPathSuffixForEndPoint:function(a){return this.endPointsCollection[a].pathSuffix},setPathSuffixForEndPoint:function(a,b){this.endPointsCollection[a].pathSuffix=b},getEndPointNames:function(){var a={},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(a[b]=b);return a},setRoutingHostAndRoutingKey:function(a,b,c){b&&b.lastIndexOf("/")!==b.length-1&&
(b+="/");this.endPointsCollection[a].routingHost=b;c&&(this.endPointsCollection[a].routingKey=c);b&&this._setIframeRoutingHostAndRoutingkey(a)},_setIframeRoutingHostAndRoutingkey:function(a){var b=this.getIframeProxyClientForEndPoint(a);b&&b.setRemotePageHost(this.endPointsCollection[a].routingHost,this.endPointsCollection[a].routingKey,null,this.endPointsCollection[a].iframeProxyUrl)},getRoutingHost:function(a){return this.endPointsCollection[a].routingHost},getRoutingKey:function(a){return this.endPointsCollection[a].routingKey},
getMessageTypesMappedToEndPoint:function(a){return this.endPointsCollection[a].messages},isEndPointEnabled:function(a){return this.endPointsCollection[a].enabled},setMessageTypesToEndPoint:function(a,b){this.endPointsCollection[a].messages=b},enableEndPoint:function(a){this.endPointsCollection[a].enabled=!0},disableEndPoint:function(a){this.endPointsCollection[a].enabled=!1},getEndPointForMessageType:function(a){var b=null,f;for(f in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(f)&&
(b=-1<c.lastIndexOf(this.endPointsCollection[f].messages,a)?f:b))if(this.isEndPointEnabled(b))break;else b=null;return b?b:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(a){var b=this.endPointsCollection[a].routingHost+this.endPointsCollection[a].pathSuffix;this.endPointsCollection[a].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[a].routingKey);return b},setIframeProxyClientForEndPoint:function(a,b){this.endPointsCollection[a].iframeProxy=b},getIframeProxyClientForEndPoint:function(a){var b=
this.endPointsCollection[a].iframeProxy;b||(b=new e(this.endPointsCollection[a].iframeProxyName),this.endPointsCollection[a].iframeProxy=b);return b},isEndpointMessageContainerBased:function(a){return a&&this.endPointsCollection[a]?this.endPointsCollection[a].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(a,b){this.endPointsCollection[a]&&-1===this.endPointsCollection[a].messages.indexOf(b)&&this.endPointsCollection[a].messages.push(b)},removeMessageTypesFromEndPoint:function(a,
b){if(this.endPointsCollection[a]){var c=this.endPointsCollection[a].messages.indexOf(b);-1<c&&this.endPointsCollection[a].messages.splice(c,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","mw-remote/RemoteEndPointsManager","mw-utils/Utils"],function(g,c,e,a,b){return g([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=
a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(b,c,h){if(c){var d=a.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[b]||(this.requestMessages[b]=[]);e.isArray(c)?c.forEach(function(a){this.addRequestMessage(b,a,h)},this):d?(c.uuid=c.uuid||this._generateUuid(),h&&(this.uuidClassifierMap[c.uuid]=
h),this.requestMessages[b].push(c)):this.requestMessages[b]=c;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(c){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(c))b[c]=a[c]},this);return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&
b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=new c,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,
b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var c in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(c)&&(b&&this.uuidClassifierMap[c]===b)&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&e.isArray(this.requestMessages[a])&&0===b.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},
_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return b.generateUuid()}})})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(g,c,e){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)}).toUpperCase()},isImageData:function(a){return!!a&&(c.global.ImageData&&a instanceof c.global.ImageData||a.hasOwnProperty("width")&&
a.hasOwnProperty("height")&&a.hasOwnProperty("data"))},isArray:function(a){e.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(a)},getArrayLength:function(a){var b=0;if(!g.isArray(a))return!1;a.forEach(function(a){a&&(b+=1)});return b},isWhitespace:function(a){return/^\s+$/.test(a)},removeSurroundingNewLines:function(a){for(;"\n"===a.charAt(0);)a=a.substring(1);for(;"\n"===a.charAt(a.length-1);)a=a.substring(0,a.length-1);return a},getFirstUniqueElement:function(a,
b){var c=null;b.some(function(b){if(-1===a.indexOf(b))return c=b,!0});return c},unionOfWordSets:function(a,b,c){a=this._stringToArray(a);b=this._stringToArray(b);a=this.unionOfArrays(a,b);return c?a.join(" "):a},intersectionOfWordSets:function(a,b,c){a=this._stringToArray(a);b=this._stringToArray(b);a=this.intersectionOfArrays(a,b);return c?a.join(" "):a},differenceOfWordSets:function(a,b,c){a=this._stringToArray(a);b=this._stringToArray(b);a=this.unique(this.differenceOfArrays(a,b));return c?a.join(" "):
a},unionOfArrays:function(a,b){return this.unique(a.concat(b))},intersectionOfArrays:function(a,b){return this.nonunique(a.concat(b))},differenceOfArrays:function(a,b){if(void 0===window.Map)return this._legacyDifferenceOfArrays(a,b);var c,e,h,d=new Map,l=[];for(h=0;h<b.length;h++)d.set(b[h],null);for(h=0;h<a.length;h++)e=a[h],(c=d.has(e))||l.push(e);return l},_legacyDifferenceOfArrays:function(a,b){return this.unique(a.filter(function(a){return-1===b.indexOf(a)}))},unique:function(a){return a.filter(function(b,
c){return a.indexOf(b)===c})},nonunique:function(a){return this.unique(a.filter(function(b,c){return a.indexOf(b)!==c}))},arrayEquals:function(a,b,c){if(a===b)return!0;if(a.length!==b.length)return!1;c||(c=function(a,b){return a===b});for(var e=0,h=a.length;e<h;e++)if(!c(a[e],b[e]))return!1;return!0},removeEmptyElements:function(a){return a.filter(function(a){return!(""===a||null===a||void 0===a)})},_stringToArray:function(a){return!this._isString(a)?a:this.removeEmptyElements(a.split(" "))},_isString:function(a){return"string"===
typeof a||a instanceof String}}})},"mw-utils/deprecation":function(){var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};define(["dojo/_base/config","mw-log/Log"],function(c,e){var a={deprecated:function(a){var f,k;if((c.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))k=window.showDeprecationsAsErrors||a.deprecationLevel===
this.ERROR?this.ERROR:this.WARN,f="DEPRECATED: ",a.deprecated&&(f+=a.deprecated.module,a.deprecated.method&&(f+="."+a.deprecated.method+"()"),f+="."),a.replacement&&(f+=" Use "+a.replacement.module,a.replacement.method&&(f+="."+a.replacement.method+"()"),f+=" instead."),a.removalVersion&&(f+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(f+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),a.additionalInformation&&(f+=" "+a.additionalInformation),
e[k](f)},_isConfigValid:function(a){var c=!!a.deprecated&&"object"===g(a.deprecated)&&a.deprecated.hasOwnProperty("module");a.replacement&&(c=c&&"object"===g(a.replacement)&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(c=c&&"number"===typeof a.geckNumber);c||e.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return c}};Object.defineProperties(a,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",
enumerable:!0}});return a})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(g,c,e,a){return c([],{constructor:function(a){a=a||{};this.faultHandlers=a.faultHandlers||{};this.topLevelHandlers=a.topLevelHandlers||[];this.endPointLevelHandlers=a.endPointLevelHandlers||{}},registerFaultHandler:function(a,c,k){k&&(c=e.hitch(k,c));this.faultHandlers[a]=c},deregisterFaultHandler:function(a){delete this.faultHandlers[a]},
registerTopLevelFaultHandler:function(a,c,k){k&&(c=e.hitch(k,c));if(e.isString(a)){if("*"===a)return a={matcher:a,handler:c},this.defaultTopLevelHandler=c,a;a=this._constructMatcherFromQuery(a)}a={matcher:a,handler:c};this.topLevelHandlers.push(a);return a},registerEndpointLevelFaultHandler:function(a,c,k,h){h&&(k=e.hitch(h,k));e.isString(c)&&(c=this._constructMatcherFromQuery(c));c={matcher:c,handler:k};this.endPointLevelHandlers[a]||(this.endPointLevelHandlers[a]=[]);this.endPointLevelHandlers[a].push(c);
return c},deregisterTopLevelFaultHandler:function(a){var c=this.topLevelHandlers.indexOf(a);-1<c?this.topLevelHandlers.splice(c,1):"*"===a.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(a){var c=[];a.split("||").forEach(function(a){a=e.trim(a);a=a.replace(/([\.])/g,"\\$1");a=a.replace(/\*/g,".*");c.push(RegExp("^"+a+"$"))});return function(a){return g.some(c,function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(a){var c,k=function(d,c){var f;
if(f=a.getMessageClassifier(c))if(f=[d,f].join(":"),this.faultHandlers[f])this.faultHandlers[f](a.fault,a.context)};for(c in a.requestMessages)if(a.requestMessages.hasOwnProperty(c)){if(this.faultHandlers[c])this.faultHandlers[c](a.fault,a.context);var h=a.requestMessages[c];Array.isArray(h)&&h.forEach(e.hitch(this,k,c))}if(this.faultHandlers["*"])this.faultHandlers["*"](a.fault,a.context);this.endPointLevelHandlers[a.endPointName]?this._handleEndpointLevelFault(a):this._handleTopLevelFault(a)},_handleEndpointLevelFault:function(a){var c=
!1,e=g.filter(this.endPointLevelHandlers[a.endPointName],function(c){return c.matcher.call(this,a.fault,a.context)},this);0<e.length&&e[0].handler&&(c=!0,e[0].handler.call(this,a.fault,a.context,a));return c},_handleTopLevelFault:function(a){var c=g.filter(this.topLevelHandlers,function(c){return c.matcher.call(this,a.fault,a.context)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&c.call(this,a.fault,a.context,a)},handleNonTransactionFault:function(a){var c=g.filter(this.topLevelHandlers,
function(c){return c.matcher.call(this,a)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&c.call(this,a)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),function(g,c,e,a,b,f,k){return c([],{defaultMapping:f,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||
{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(b,d,c){c&&(d=a.hitch(c,d));this.defaultFactories[b]=d},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(b,d,c){var f=this;d=a.hitch(c||this,d);this.mockHandlers[b]=function(a,b){var c,h=k.construct(b);c=d(a,h);c||(c=new e,c.callback());c.addCallback(function(){f.responseManager._processResult(h)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},
sendMessage:function(a,d,b){var c={},f={};d=d||{};this._createAndFillTransactions(a,d,b,c,f);a=Object.keys(c);for(d=0;d<a.length;d+=1)b=a[d],this._callMocks(f[b]),c[b].send(),this.responseManager.handleTransaction(c[b])},_getTransaction:function(a,d){return k.construct({context:d,computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,d,b){return k.construct({context:d,computeToken:this.computeToken,endPointName:a,uuid:b})},_createAndFillTransactions:function(a,d,c,f,e){var k,
g,p=function(a){var c,h,l,k,g;c=b.getEndPointForMessageType(a);k=f[c];g=e[c];k||(k=this._getTransaction(c,d),g=this._getMockTransaction(c,d,k.uuid),f[c]=k,e[c]=g);if(this.defaultFactories[a]&&(c=this.defaultFactories[a](k.context)))h=a.split(":"),l=h[0],h=h.slice(1,h.length).join(":"),this.mockHandlers[a]||k.addRequestMessage(l,c,h),g.addRequestMessage(l,c,h)},r,t;for(k in a)a.hasOwnProperty(k)&&(g=b.getEndPointForMessageType(k),r=e[g],t=f[g],f[g]||(t=this._getTransaction(g,d),r=this._getMockTransaction(g,
d,t.uuid),f[g]=t,e[g]=r),g=[k,c].join(":"),!this.mockHandlers[k]&&!this.mockHandlers[g]&&t.addRequestMessage(k,a[k],c),r.addRequestMessage(k,a[k],c),this.mapping[g]?this.mapping[g].forEach(p,this):this.mapping[k]&&this.mapping[k].forEach(p,this))},_callMocks:function(b){var d,c,f=b.context;delete b.context;var e=function(a,b){var c;if(c=d.getMessageClassifier(b))if(c=[a,c].join(":"),this.mockHandlers[c])this.mockHandlers[c]([b],d)};for(c in b.requestMessages)if(b.requestMessages.hasOwnProperty(c)){d=
a.mixin({},b);d.context=f;if(this.mockHandlers.hasOwnProperty(c))this.mockHandlers[c](d.requestMessages[c],d);Array.isArray(d.requestMessages[c])?d.requestMessages[c].forEach(a.hitch(this,e,c)):e(c,d.requestMessages[c])}if(this.mockHandlers["*"])this.mockHandlers["*"](c,d.requestMessages[c],d)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],
"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],
UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),function(g,c,e,a,b,f,k){return c([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(a,
d,c){c&&(d=b.hitch(c,d));this.responseHandlers[a]=d},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},handleTransaction:function(a){this.transactions.push(a);a.deferred.addCallback(b.hitch(this,this._processAll,a));a.deferred.addCallback(b.hitch(this,this._processResult,a));a.deferred.addErrback(b.hitch(this,this._processAll,a));a.deferred.addErrback(b.hitch(this,this._processFault,a))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},
_processResult:function(b){b.getResponseMessageTypes().forEach(function(d){var c=b.responseMessages[d],e=[];try{if(Array.isArray(c)){c.forEach(function(a){var c,f=b.getMessageClassifier(a);if(f){c=[d,f].join(":");var l=this,k=!1;b.getRequestMessageTypes().forEach(function(d){d=b.requestMessages[d];Array.isArray(d)?d.forEach(function(d){l.responseHandlers[c]&&d.uuid===a.uuid&&(l.responseHandlers[c]([a],b.context),k=!0)}):l.responseHandlers[c]&&d.uuid===a.uuid&&(l.responseHandlers[c]([a],b.context),
k=!0)});k||e.push(a)}else e.push(a)},this);if(0<e.length&&this.responseHandlers[d])this.responseHandlers[d](e,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](d,b.responseMessages[d],b.context)}}catch(k){f.error("Remote: Fault occurred while processing response.\nMessage: "+k.message+"\nType: "+d+"\nResponse: "+a.toJson(c))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(a){if(!k.isEndpointMessageContainerBased(a.endPointName)){var d=
Object.keys(a.requestMessages)[0];if(this.responseHandlers[d])this.responseHandlers[d](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)}})})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(g,c){var e=!1,a={_serviceData:{},getServiceRegistryEndpoint:function(b){if(a._serviceData.serviceregistry){var c,e;c=a._serviceData.serviceregistry.length;for(e=0;e<c;e+=1)if(a._serviceData.serviceregistry[e].name===b)return a._serviceData.serviceregistry[e].endpoint}return""}};
return{load:function(b,c,k){e?k(a):g("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!c.async}).then(function(b){a._serviceData=b;e=!0;k(a)},function(b){a._serviceData={};e=!0;k(a)})}}})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),function(g,c,e,a,b,f){var k=new a;
a={messageService:k,subscribe:g.hitch(k,"subscribe"),unsubscribe:g.hitch(k,"unsubscribe"),publish:g.hitch(k,"publish"),start:g.hitch(k,"start"),stop:g.hitch(k,"stop"),isRunning:g.hitch(k,"isStarted"),isStarted:g.hitch(k,"isStarted"),isConnected:g.hitch(k,"isConnected"),isFatallyDisconnected:g.hitch(k,"isFatallyDisconnected"),isDisconnected:g.hitch(k,"isDisconnected"),setLatency:g.hitch(k,"setLatency"),setErrorRate:g.hitch(k,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},
onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:g.hitch(k,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};c.after(k,"onConnected",g.hitch(a,"onConnected"),!0);c.after(k,"onDisconnected",g.hitch(a,"onDisconnected"),!0);c.after(k,"onReconnected",g.hitch(a,"onReconnected"),!0);c.after(k,"onFatallyDisconnected",
g.hitch(a,"onFatallyDisconnected"),!0);c.after(k,"onNotConnected",g.hitch(a,"onNotConnected"),!0);var h=f.enableServerOnWorkerAsync;f.enableServerOnWorkerAsync=function(){h();k.setDelegate(new e(f))};var d=f.disableServerOnWorkerAsync;f.disableServerOnWorkerAsync=function(){d();k.setDelegate(new b(f,k))};f.isServerOnWorkerAsyncEnabled()?f.enableServerOnWorkerAsync():f.disableServerOnWorkerAsync();return a})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(g,c,e,a,b,f,k,h,d){var l;f.JSON.toJSON=a.stringify;f.JSON.fromJSON=a.parse;var m=0,n=0,q={};setInterval(function(){m+=200;Object.keys(q).forEach(function(a){var d=q[a];d.execTime<=m&&(d.func(),delete q[a])})},200);var s=function(a,b,c){var e=new f.LongPollingTransport,e=f.Transport.derive(e);e.xhrSend=function(a){var d=b.sendMessage(a.body,a.url,{headers:a.headers});d.then(a.onSuccess,function(d){a.onError(d,d)});return{abort:function(){d.cancel()}}};var h=new f.Cometd(a),l=f.Utils.setTimeout;
f.Utils.setTimeout=function(a,d,b){if(0===b)return l(a,d,b);n+=1;q[n]={func:function(){try{d()}catch(a){h._debug("Exception invoking timed function",d,a)}},execTime:m+b};return n};f.Utils.clearTimeout=function(a){delete q[a]};f.WebSocket=d.WebSocket;d.WebSocket.proxyClient=b;h.registerExtension("ack",new k);c.websocket&&h.registerTransport("websocket",new f.WebSocketTransport,0);h.registerTransport("long-polling",e,1);return h};l=g([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(a,b,f,m){this.remote=a;this.constructCometD=b||s;this.cometdProperties=m||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};a=["maxNetworkDelay","connectTimeout","logLevel"];if(b=c.cometdProperties)for(m=0;m<a.length;m+=1){var l=a[m];void 0!==b[l]&&(this.cometdProperties[l]=b[l])}this.workerProxyAsyncClient=f||new d("remoteWorkerAsyncProducer");
var k=this;e.after(this.workerProxyAsyncClient,"onError",function(a){k.cometd&&(k.logCometdLifecycle&&h.info("MessageServiceAsync disconnecting cometd due to IFrame error."),k.cometd.disconnect());k.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){k._deferredCleanup=!1;k.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=l.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var a={};l.enableWebsocket&&this._webSocket.try?a.websocket=!0:(a.websocket=!1,this._webSocket.try=!1);var d=this.constructCometD("messageService",this.workerProxyAsyncClient,a);this.cometd=d;this.logCometdLifecycle&&h.info("MessageServiceAsync constructing new cometd instance.");a=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var c=this,f=new b;a.then(function(a){c.logCometdLifecycle&&h.info("MessageServiceAsync cometd handshake successful.",a,d.getClientId(),d);d.isDisconnected()?(h.error("MessageServiceAsync cometd handshake successful but still disconnected!"),d.disconnect(),f.reject(a)):("websocket"===d.getTransport().getType()&&(c._webSocket.connectedAtLeastOnce=!0),f.resolve(a))},function(a){c.logCometdLifecycle&&h.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
a,d.getClientId(),d);d.disconnect();if(a.request&&a.request.supportedConnectionTypes){var b=a.request.supportedConnectionTypes;1<b.length&&("websocket"===b[0]&&!c._webSocket.connectedAtLeastOnce)&&(c._webSocket.try=!1)}f.reject(a)});this.cometdProperties.url=this._getEndpoint();d.init(this.cometdProperties);return f.promise},disconnect:function(){this.logCometdLifecycle&&h.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&h.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,d){var b=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),d);return b},doSubscribe:function(a){this.logCometdSubscriptions&&
h.info("MessageServiceAsync subscribing cometd to channel: "+a);var d=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return d},doUnsubscribe:function(a){if(this.subscriptions[a]){this.logCometdSubscriptions&&h.info("MessageServiceAsync unsubscribing cometd from channel: "+a);var d=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[a]);delete this.subscriptions[a];
return d}return(new b).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(a){var d=new b;this._addOneShotListener(a,function(a){a.successful?d.resolve(a):(h.warn("Message failed: ",a),d.reject(a))});return d.promise},_addOneShotListener:function(a,d){var b=this,c=this.cometd,f;f=this.cometd.addListener(a,function(a){c.removeListener(f);d.apply(b,arguments)})},_createListenerForUnknownClient:function(){var a=
this.cometd,d=this;a.addListener("/meta/connect",function(b){!b.successful&&(b.advice&&"handshake"===b.advice.reconnect)&&(a.disconnect(),d.onConnectionError(b.error))})},_getEndpoint:function(){return this.routingHost+this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});l.enableWebsocket=!1;l.workerHostOverride=!1;0<=
location.search.indexOf("websocket\x3don")&&(l.enableWebsocket=!0);return l})},"dojox/cometd/cometd":function(){define(function(){var g=this.org=this.org||{};g.cometd={};g.cometd.JSON={};g.cometd.JSON.toJSON=g.cometd.JSON.fromJSON=function(c){throw"Abstract";};g.cometd.Utils={};g.cometd.Utils.isString=function(c){return void 0===c||null===c?!1:"string"===typeof c||c instanceof String};g.cometd.Utils.isArray=function(c){return void 0===c||null===c?!1:c instanceof Array};g.cometd.Utils.inArray=function(c,
e){for(var a=0;a<e.length;++a)if(c===e[a])return a;return-1};g.cometd.Utils.setTimeout=function(c,e,a){return window.setTimeout(function(){try{e()}catch(a){c._debug("Exception invoking timed function",e,a)}},a)};g.cometd.Utils.clearTimeout=function(c){window.clearTimeout(c)};g.cometd.TransportRegistry=function(){var c=[],e={};this.getTransportTypes=function(){return c.slice(0)};this.findTransportTypes=function(a,b,f){for(var k=[],h=0;h<c.length;++h){var d=c[h];!0===e[d].accept(a,b,f)&&k.push(d)}return k};
this.negotiateTransport=function(a,b,f,k){for(var h=0;h<c.length;++h)for(var d=c[h],l=0;l<a.length;++l)if(d===a[l]){var m=e[d];if(!0===m.accept(b,f,k))return m}return null};this.add=function(a,b,f){for(var k=!1,h=0;h<c.length;++h)if(c[h]===a){k=!0;break}k||("number"!==typeof f?c.push(a):c.splice(f,0,a),e[a]=b);return!k};this.find=function(a){for(var b=0;b<c.length;++b)if(c[b]===a)return e[a];return null};this.remove=function(a){for(var b=0;b<c.length;++b)if(c[b]===a)return c.splice(b,1),b=e[a],delete e[a],
b;return null};this.clear=function(){c=[];e={}};this.reset=function(){for(var a=0;a<c.length;++a)e[c[a]].reset()}};g.cometd.Transport=function(){var c,e;this.registered=function(a,b){c=a;e=b};this.unregistered=function(){e=c=null};this._debug=function(){e._debug.apply(e,arguments)};this._mixin=function(){return e._mixin.apply(e,arguments)};this.getConfiguration=function(){return e.getConfiguration()};this.getAdvice=function(){return e.getAdvice()};this.setTimeout=function(a,b){return g.cometd.Utils.setTimeout(e,
a,b)};this.clearTimeout=function(a){g.cometd.Utils.clearTimeout(a)};this.convertToMessages=function(a){if(g.cometd.Utils.isString(a))try{return g.cometd.JSON.fromJSON(a)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+a+'"'),b;}if(g.cometd.Utils.isArray(a))return a;if(void 0===a||null===a)return[];if(a instanceof Object)return[a];throw"Conversion Error "+a+", typeof "+typeof a;};this.accept=function(a,b,c){throw"Abstract";};this.getType=function(){return c};this.send=
function(a,b){throw"Abstract";};this.reset=function(){this._debug("Transport",c,"reset")};this.abort=function(){this._debug("Transport",c,"aborted")};this.toString=function(){return this.getType()}};g.cometd.Transport.derive=function(c){function e(){}e.prototype=c;return new e};g.cometd.RequestTransport=function(){function c(a){for(;0<m.length;){var d=m[0],b=d[0],d=d[1];if(b.url===a.url&&b.sync===a.sync)m.shift(),a.messages=a.messages.concat(b.messages),this._debug("Coalesced",b.messages.length,"messages from request",
d.id);else break}}function e(a,d){this.transportSend(a,d);d.expired=!1;if(!a.sync){var b=this.getConfiguration().maxNetworkDelay,c=b;!0===d.metaConnect&&(c+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",c,"ms for the response, maxNetworkDelay",b);var f=this;d.timeout=this.setTimeout(function(){d.expired=!0;d.xhr&&d.xhr.abort();var b="Request "+d.id+" of transport "+f.getType()+" exceeded "+c+" ms max network delay";f._debug(b);f.complete(d,!1,d.metaConnect);a.onFailure(d.xhr,
a.messages,"timeout",b)},c)}}function a(a){var d=++h,b={id:d,metaConnect:!1};l.length<this.getConfiguration().maxConnections-1?(l.push(b),e.call(this,a,b)):(this._debug("Transport",this.getType(),"queueing request",d,"envelope",a),m.push([a,b]))}function b(d,b){var f=g.cometd.Utils.inArray(d,l);0<=f&&l.splice(f,1);if(0<m.length){var f=m.shift(),e=f[0],h=f[1];this._debug("Transport dequeued request",h.id);if(b)this.getConfiguration().autoBatch&&c.call(this,e),a.call(this,e),this._debug("Transport completed request",
d.id,e);else{var k=this;this.setTimeout(function(){k.complete(h,!1,h.metaConnect);e.onFailure(h.xhr,e.messages,"error","Previous request failed")},0)}}}var f=new g.cometd.Transport,k=g.cometd.Transport.derive(f),h=0,d=null,l=[],m=[];k.complete=function(a,c,f){if(f){a=a.id;this._debug("Transport",this.getType(),"metaConnect complete, request",a);if(null!==d&&d.id!==a)throw"Longpoll request mismatch, completing request "+a;d=null}else b.call(this,a,c)};k.transportSend=function(a,d){throw"Abstract";
};k.transportSuccess=function(a,d,b){if(!d.expired)if(this.clearTimeout(d.timeout),this.complete(d,!0,d.metaConnect),b&&0<b.length)a.onSuccess(b);else a.onFailure(d.xhr,a.messages,"Empty HTTP response")};k.transportFailure=function(a,d,b,c){d.expired||(this.clearTimeout(d.timeout),this.complete(d,!1,d.metaConnect),a.onFailure(d.xhr,a.messages,b,c))};k.send=function(b,c){if(c){if(null!==d)throw"Concurrent metaConnect requests not allowed, request id\x3d"+d.id+" not yet completed";var f=++h;this._debug("Transport",
this.getType(),"metaConnect send, request",f,"envelope",b);f={id:f,metaConnect:!0};e.call(this,b,f);d=f}else a.call(this,b)};k.abort=function(){f.abort();for(var a=0;a<l.length;++a){var b=l[a];this._debug("Aborting request",b);b.xhr&&b.xhr.abort()}d&&(this._debug("Aborting metaConnect request",d),d.xhr&&d.xhr.abort());this.reset()};k.reset=function(){f.reset();d=null;l=[];m=[]};return k};g.cometd.LongPollingTransport=function(){var c=new g.cometd.RequestTransport,e=g.cometd.Transport.derive(c),a=
!0;e.accept=function(b,c,e){return a||!c};e.xhrSend=function(a){throw"Abstract";};e.transportSend=function(b,c){this._debug("Transport",this.getType(),"sending request",c.id,"envelope",b);var e=this;try{var h=!0;c.xhr=this.xhrSend({transport:this,url:b.url,sync:b.sync,headers:this.getConfiguration().requestHeaders,body:g.cometd.JSON.toJSON(b.messages),onSuccess:function(d){e._debug("Transport",e.getType(),"received response",d);var h=!1;try{var g=e.convertToMessages(d);0===g.length?(a=!1,e.transportFailure(b,
c,"no response",null)):(h=!0,e.transportSuccess(b,c,g))}catch(q){e._debug(q),h||(a=!1,e.transportFailure(b,c,"bad response",q))}},onError:function(d,m){a=!1;h?e.setTimeout(function(){e.transportFailure(b,c,d,m)},0):e.transportFailure(b,c,d,m)}});h=!1}catch(d){a=!1,this.setTimeout(function(){e.transportFailure(b,c,"error",d)},0)}};e.reset=function(){c.reset();a=!0};return e};g.cometd.CallbackPollingTransport=function(){var c=new g.cometd.RequestTransport,c=g.cometd.Transport.derive(c);c.accept=function(c,
a,b){return!0};c.jsonpSend=function(c){throw"Abstract";};c.transportSend=function(c,a){for(var b=this,f=0,k=c.messages.length,h=[];0<k;){var d=g.cometd.JSON.toJSON(c.messages.slice(f,f+k)),d=c.url.length+encodeURI(d).length;if(2E3<d){if(1===k){var l="Bayeux message too big ("+d+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){b.transportFailure(c,a,"error",l)},0);return}--k}else h.push(k),f+=k,k=c.messages.length-f}var m=c;if(1<h.length){f=0;k=h[0];this._debug("Transport",
this.getType(),"split",c.messages.length,"messages into",h.join(" + "));m=this._mixin(!1,{},c);m.messages=c.messages.slice(f,k);m.onSuccess=c.onSuccess;m.onFailure=c.onFailure;for(d=1;d<h.length;++d){var n=this._mixin(!1,{},c),f=k,k=k+h[d];n.messages=c.messages.slice(f,k);n.onSuccess=c.onSuccess;n.onFailure=c.onFailure;this.send(n,a.metaConnect)}}this._debug("Transport",this.getType(),"sending request",a.id,"envelope",m);try{var q=!0;this.jsonpSend({transport:this,url:m.url,sync:m.sync,headers:this.getConfiguration().requestHeaders,
body:g.cometd.JSON.toJSON(m.messages),onSuccess:function(d){var c=!1;try{var f=b.convertToMessages(d);0===f.length?b.transportFailure(m,a,"no response"):(c=!0,b.transportSuccess(m,a,f))}catch(e){b._debug(e),c||b.transportFailure(m,a,"bad response",e)}},onError:function(d,c){q?b.setTimeout(function(){b.transportFailure(m,a,d,c)},0):b.transportFailure(m,a,d,c)}});q=!1}catch(s){this.setTimeout(function(){b.transportFailure(m,a,"error",s)},0)}};return c};g.cometd.WebSocketTransport=function(){function c(){var a=
k.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var d=this,b=null,c=k.getConfiguration().connectTimeout;0<c&&(b=this.setTimeout(function(){b=null;q||(d._debug("Transport",d.getType(),"timed out while connecting to URL",a,":",c,"ms"),d.onClose(1002,"Connect Timeout"))},c));var f=new g.cometd.WebSocket(a),e=function(a){var c=a?a.code:1E3;a=a?a.reason:void 0;d._debug("WebSocket closed",c,"/",a,f);b&&(d.clearTimeout(b),b=null);if(f!==n)d._debug("Ignoring close event, WebSocket",
n);else d.onClose(c,a)};f.onopen=function(){d._debug("WebSocket opened",f);b&&(d.clearTimeout(b),b=null);if(f!==n)d._debug("Ignoring open event, WebSocket",n);else d.onOpen()};f.onclose=e;f.onerror=function(){e({code:1002})};f.onmessage=function(a){d._debug("WebSocket message",a,f);if(f!==n)d._debug("Ignoring message event, WebSocket",n);else d.onMessage(a)};n=f;this._debug("Transport",this.getType(),"configured callbacks on",f)}function e(a,d){var b=g.cometd.JSON.toJSON(a.messages);n.send(b);this._debug("Transport",
this.getType(),"sent",a,"metaConnect \x3d",d);var c=b=this.getConfiguration().maxNetworkDelay;d&&(c+=this.getAdvice().timeout,s=!0);for(var f=[],e=0;e<a.messages.length;++e){var h=a.messages[e];if(h.id){f.push(h.id);var l=n;m[h.id]=this.setTimeout(function(){l&&l.close(1E3,"Timeout")},c)}}this._debug("Transport",this.getType(),"waiting at most",c,"ms for messages",f,"maxNetworkDelay",b,", timeouts:",m)}function a(a,d){try{null===n?c.call(this):q&&e.call(this,a,d)}catch(b){var f=n;this.setTimeout(function(){a.onFailure(f,
a.messages,"error",b)},0)}}var b=new g.cometd.Transport,f=g.cometd.Transport.derive(b),k,h=!0,d=!1,l={},m={},n=null,q=!1,s=!1,p;f.onOpen=function(){this._debug("Transport",this.getType(),"opened",n);d=q=!0;this._debug("Sending pending messages",l);for(var a in l){var b=l[a],c=b[0],b=b[1];p=c.onSuccess;e.call(this,c,b)}};f.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,n);var d=!1;a=this.convertToMessages(a.data);for(var b=[],c=0;c<a.length;++c){var f=a[c];
if((/^\/meta\//.test(f.channel)||void 0===f.data)&&f.id){b.push(f.id);var e=m[f.id];e&&(this.clearTimeout(e),delete m[f.id],this._debug("Transport",this.getType(),"removed timeout for message",f.id,", timeouts",m))}"/meta/connect"===f.channel&&(s=!1);"/meta/disconnect"===f.channel&&!s&&(d=!0)}c=!1;for(f=0;f<b.length;++f){var h=b[f],k;for(k in l){var e=k.split(","),q=g.cometd.Utils.inArray(h,e);if(0<=q){c=!0;e.splice(q,1);h=l[k][0];q=l[k][1];delete l[k];0<e.length&&(l[e.join(",")]=[h,q]);break}}}c&&
this._debug("Transport",this.getType(),"removed envelope, envelopes",l);p.call(this,a);d&&n.close(1E3,"Disconnect")};f.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,n);h=d;for(var c in m)this.clearTimeout(m[c]);m={};for(var f in l)c=l[f][0],l[f][1]&&(s=!1),c.onFailure(n,c.messages,"closed "+a+"/"+b);l={};null!==n&&q&&n.close(1E3,"Close");q=!1;n=null};f.registered=function(a,d){b.registered(a,d);k=d};f.accept=function(a,d,b){return h&&!!g.cometd.WebSocket&&!1!==k.websocketEnabled};
f.send=function(d,b){this._debug("Transport",this.getType(),"sending",d,"metaConnect \x3d",b);for(var c=[],f=0;f<d.messages.length;++f){var e=d.messages[f];e.id&&c.push(e.id)}l[c.join(",")]=[d,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",l);a.call(this,d,b)};f.abort=function(){b.abort();if(null!==n)try{n.close(1001)}catch(a){this._debug(a)}this.reset()};f.reset=function(){b.reset();null!==n&&q&&n.close(1E3,"Reset");h=!0;d=!1;m={};l={};n=null;q=!1;p=null};return f};g.cometd.Cometd=
function(c){function e(a){return g.cometd.Utils.isString(a)}function a(a){return void 0===a||null===a?!1:"function"===typeof a}function b(d,b){if(window.console){var c=window.console[d];a(c)&&c.apply(window.console,b)}}function f(){for(var a in $)for(var d=$[a],b=d.length-1;0<=b;--b){var c=d[b];c&&!c.listener&&(d.splice(b,1),G._debug("Removed subscription",c,"for channel",a))}}function k(a){R!==a&&(G._debug("Status",R,"-\x3e",a),R=a)}function h(){return"disconnecting"===R||"disconnected"===R}function d(d,
b,c,f,e){try{return b.call(d,f)}catch(h){G._debug("Exception during execution of extension",c,h);d=G.onExtensionException;if(a(d)){G._debug("Invoking extension exception callback",c,h);try{d.call(G,h,c,e,f)}catch(m){G._info("Exception during execution of exception callback in extension",c,m)}}return f}}function l(b){for(var c=0;c<Y.length&&!(void 0===b||null===b);++c){var f=Y[c],e=f.extension.outgoing;a(e)&&(f=d(f.extension,e,f.name,b,!0),b=void 0===f?b:f)}return b}function m(d,b){var c=$[d];if(c&&
0<c.length)for(var f=c.length-1;0<=f;--f){var e=c[f];try{e.callback.call(e.scope,b)}catch(h){G._debug("Exception during notification",e,b,h);var m=G.onListenerException;if(a(m)){G._debug("Invoking listener exception callback",e,h);try{m.call(G,h,e.handle,e.listener,b)}catch(l){G._info("Exception during execution of listener callback",e,l)}}}}}function n(a,d){m(a,d);for(var b=a.split("/"),c=b.length-1,f=c;0<f;--f){var e=b.slice(0,f).join("/")+"/*";f===c&&m(e,d);e+="*";m(e,d)}}function q(){null!==Q&&
g.cometd.Utils.clearTimeout(Q);Q=null}function s(a){q();var d=Z.interval+W;G._debug("Function scheduled in",d,"ms, interval \x3d",Z.interval,"backoff \x3d",W,a);Q=g.cometd.Utils.setTimeout(G,a,d)}function p(d,b,c,f){for(var e=0;e<b.length;++e){var h=b[e];h.id=""+ ++aa;S&&(h.clientId=S);var m=void 0;a(h._callback)&&(m=h._callback,delete h._callback);h=l(h);void 0!==h&&null!==h?(b[e]=h,m&&(M[h.id]=m)):b.splice(e--,1)}0!==b.length&&(e=V.url,V.appendMessageTypeToURL&&(e.match(/\/$/)||(e+="/"),f&&(e+=
f)),d={url:e,sync:d,messages:b,onSuccess:function(a){try{fa.call(G,a)}catch(d){G._debug("Exception during handling of messages",d)}},onFailure:function(a,d,b,c){try{da.call(G,a,d,b,c)}catch(f){G._debug("Exception during handling of failure",f)}}},G._debug("Send",d),I.send(d,c))}function r(a){0<X||!0===N?T.push(a):p(!1,[a],!1)}function t(){var a=T;T=[];0<a.length&&p(!1,a,!1)}function u(){k("connecting");s(function(){if(!h()){var a={channel:"/meta/connect",connectionType:I.getType()};ea||(a.advice=
{timeout:0});k("connecting");G._debug("Connect sent",a);p(!1,[a],!0,"connect");k("connected")}})}function x(a){a&&(Z=G._mixin(!1,{},V.advice,a),G._debug("New advice",Z))}function v(a){q();a&&I.abort();S=null;k("disconnected");W=X=0;0<T.length&&(da.call(G,void 0,T,"error","Disconnected"),T=[])}function w(a){S=null;f();h()?(L.reset(),x(V.advice)):x(G._mixin(!1,Z,{reconnect:"retry"}));X=0;N=!0;ba=a;a=L.findTransportTypes("1.0",H,V.url);var d=G._mixin(!1,{},ba,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",
supportedConnectionTypes:a,advice:{timeout:Z.timeout,interval:Z.interval}});I=L.negotiateTransport(a,"1.0",H,V.url);G._debug("Initial transport is",I.getType());k("handshaking");G._debug("Handshake sent",d);p(!1,[d],!1,"handshake")}function y(){k("handshaking");N=!0;s(function(){w(ba)})}function B(a){n("/meta/handshake",a);n("/meta/unsuccessful",a);!h()&&"none"!==Z.reconnect?(W<V.maxBackoff&&(W+=V.backoffIncrement),y()):v(!1)}function D(a){n("/meta/connect",a);n("/meta/unsuccessful",a);a=h()?"none":
Z.reconnect;switch(a){case "retry":u();W<V.maxBackoff&&(W+=V.backoffIncrement);break;case "handshake":L.reset();W=0;y();break;case "none":v(!1);break;default:throw"Unrecognized advice action"+a;}}function A(a){v(!0);n("/meta/disconnect",a);n("/meta/unsuccessful",a)}function z(a){n("/meta/subscribe",a);n("/meta/unsuccessful",a)}function F(a){n("/meta/unsubscribe",a);n("/meta/unsuccessful",a)}function E(d){var b=M[d.id];a(b)&&(delete M[d.id],b.call(G,d))}function C(a){E(a);n("/meta/publish",a);n("/meta/unsuccessful",
a)}function P(b){for(var c=0;c<Y.length&&!(void 0===b||null===b);++c){var f=Y[V.reverseIncomingExtensions?Y.length-1-c:c],e=f.extension.incoming;a(e)&&(f=d(f.extension,e,f.name,b,!1),b=void 0===f?b:f)}if(!(void 0===b||null===b))switch(x(b.advice),b.channel){case "/meta/handshake":if(b.successful){S=b.clientId;c=L.negotiateTransport(b.supportedConnectionTypes,b.version,H,V.url);if(null===c)throw"Could not negotiate transport with server; client "+L.findTransportTypes(b.version,H,V.url)+", server "+
b.supportedConnectionTypes;I!==c&&(G._debug("Transport",I,"-\x3e",c),I=c);N=!1;t();b.reestablish=ca;ca=!0;n("/meta/handshake",b);b=h()?"none":Z.reconnect;switch(b){case "retry":W=0;u();break;case "none":v(!1);break;default:throw"Unrecognized advice action "+b;}}else B(b);break;case "/meta/connect":if(ea=b.successful)switch(n("/meta/connect",b),b=h()?"none":Z.reconnect,b){case "retry":W=0;u();break;case "none":v(!1);break;default:throw"Unrecognized advice action "+b;}else D(b);break;case "/meta/disconnect":b.successful?
(v(!1),n("/meta/disconnect",b)):A(b);break;case "/meta/subscribe":b.successful?n("/meta/subscribe",b):z(b);break;case "/meta/unsubscribe":b.successful?n("/meta/unsubscribe",b):F(b);break;default:void 0===b.successful?void 0!==b.data&&null!==b.data?n(b.channel,b):G._debug("Unknown message",b):b.successful?(E(b),n("/meta/publish",b)):C(b)}}function K(a){if(a=$[a])for(var d=0;d<a.length;++d)if(a[d])return!0;return!1}function U(d,b){var c={scope:d,method:b};if(a(d))c.scope=void 0,c.method=d;else if(e(b)){if(!d)throw"Invalid scope "+
d;c.method=d[b];if(!a(c.method))throw"Invalid callback "+b+" for scope "+d;}else if(!a(b))throw"Invalid callback "+b;return c}function O(a,d,b,c){d=U(d,b);G._debug("Adding listener on",a,"with scope",d.scope,"and callback",d.method);c={channel:a,scope:d.scope,callback:d.method,listener:c};d=$[a];d||(d=[],d.subscriptionCounter=0,$[a]=d);d.push(c);b=d.subscriptionCounter;d.subscriptionCounter+=1;c.id=b;c.handle=[a,b];G._debug("Added listener",c,"for channel",a,"having id \x3d",b);return c.handle}var G=
this,J=c||"default",H=!1,L=new g.cometd.TransportRegistry,I,R="disconnected",aa=0,S=null,X=0,T=[],N=!1,$={},W=0,Q=null,Y=[],Z={},ba,M={},ca=!1,ea=!1,V={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,d,b){for(var c=d||{},f=2;f<arguments.length;++f){var e=arguments[f];if(!(void 0===e||
null===e))for(var h in e){var m=e[h],l=c[h];m!==d&&void 0!==m&&(c[h]=a&&"object"===typeof m&&null!==m?m instanceof Array?this._mixin(a,l instanceof Array?l:[],m):this._mixin(a,"object"===typeof l&&!(l instanceof Array)?l:{},m):m)}}return c};this._warn=function(){b("warn",arguments)};this._info=function(){"warn"!==V.logLevel&&b("info",arguments)};this._debug=function(){"debug"===V.logLevel&&b("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var fa,da;this.send=
r;this.receive=P;fa=function(a){G._debug("Received",a);for(var d=0;d<a.length;++d)P(a[d])};da=function(a,d,b,c){G._debug("handleFailure",a,d,b,c);for(b=0;b<d.length;++b){var f=d[b];switch(f.channel){case "/meta/handshake":B({successful:!1,failure:!0,channel:"/meta/handshake",request:f,xhr:a,advice:{reconnect:"retry",interval:W}});break;case "/meta/connect":c=a;ea=!1;D({successful:!1,failure:!0,channel:"/meta/connect",request:f,xhr:c,advice:{reconnect:"retry",interval:W}});break;case "/meta/disconnect":A({successful:!1,
failure:!0,channel:"/meta/disconnect",request:f,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":z({successful:!1,failure:!0,channel:"/meta/subscribe",request:f,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":F({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:f,xhr:a,advice:{reconnect:"none",interval:0}});break;default:C({successful:!1,failure:!0,channel:f.channel,request:f,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=
function(d,b,c){if(c=L.add(d,b,c))this._debug("Registered transport",d),a(b.registered)&&b.registered(d,this);return c};this.getTransportTypes=function(){return L.getTransportTypes()};this.unregisterTransport=function(d){var b=L.remove(d);null!==b&&(this._debug("Unregistered transport",d),a(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=function(){L.clear()};this.findTransport=function(a){return L.find(a)};this.configure=function(a){G._debug("Configuring cometd object with",
a);e(a)&&(a={url:a});a||(a={});V=G._mixin(!1,V,a);if(!V.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var d=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(V.url);a=d[8];var b=d[9];H=G._isCrossDomain(d[2]);V.appendMessageTypeToURL&&(void 0!==b&&0<b.length?(G._info("Appending message type to URI "+a+b+" is not supported, disabling 'appendMessageTypeToURL' configuration"),V.appendMessageTypeToURL=!1):(d=a.split("/"),b=d.length-
1,a.match(/\/$/)&&(b-=1),0<=d[b].indexOf(".")&&(G._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),V.appendMessageTypeToURL=!1)))};this.init=function(a,d){this.configure(a);this.handshake(d)};this.handshake=function(a){k("disconnected");ca=!1;w(a)};this.disconnect=function(a,d){if(!h()){void 0===d&&"boolean"!==typeof a&&(d=a,a=!1);var b=this._mixin(!1,{},d,{channel:"/meta/disconnect"});k("disconnecting");p(!0===a,[b],!1,"disconnect")}};
this.startBatch=function(){++X};this.endBatch=function(){--X;if(0>X)throw"Calls to startBatch() and endBatch() are not paired";0===X&&(!h()&&!N)&&t()};this.batch=function(a,d){var b=U(a,d);this.startBatch();try{b.method.call(b.scope),this.endBatch()}catch(c){throw this._debug("Exception during execution of batch",c),this.endBatch(),c;}};this.addListener=function(a,d,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(a))throw"Illegal argument type: channel must be a string";
return O(a,d,b,!0)};this.removeListener=function(a){if(!g.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var d=$[a[0]],b;if(0<d.length){b=a[1];a:{for(var c=0;c<d.length;){if(d[c].id===b){b=c;break a}c+=1}b=-1}-1!==b&&(d.splice(b,1),G._debug("Removed listener",a))}};this.clearListeners=function(){$={}};this.subscribe=function(d,b,c,f){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(d))throw"Illegal argument type: channel must be a string";
if(h())throw"Illegal state: already disconnected";a(b)&&(f=c,c=b,b=void 0);var m=!K(d),l=O(d,b,c,!1);m&&(m=this._mixin(!1,{},f,{channel:"/meta/subscribe",subscription:d}),r(m));return l};this.unsubscribe=function(a,d){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(h())throw"Illegal state: already disconnected";this.removeListener(a);var b=a[0];K(b)||(b=this._mixin(!1,{},d,{channel:"/meta/unsubscribe",subscription:b}),r(b))};this.clearSubscriptions=function(){f()};
this.publish=function(d,b,c,f){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!e(d))throw"Illegal argument type: channel must be a string";if(h())throw"Illegal state: already disconnected";a(b)?(f=b,b=c={}):a(c)&&(f=c,c={});var m=this._mixin(!1,{},c,{channel:d,data:b,_callback:f});r(m)};this.getStatus=function(){return R};this.isDisconnected=h;this.setBackoffIncrement=function(a){V.backoffIncrement=a};this.getBackoffIncrement=function(){return V.backoffIncrement};
this.getBackoffPeriod=function(){return W};this.setLogLevel=function(a){V.logLevel=a};this.registerExtension=function(d,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(d))throw"Illegal argument type: extension name must be a string";for(var c=!1,f=0;f<Y.length;++f)if(Y[f].name===d){c=!0;break}if(c)return this._info("Could not register extension with name",d,"since another extension with the same name already exists"),!1;Y.push({name:d,extension:b});
this._debug("Registered extension",d);a(b.registered)&&b.registered(d,this);return!0};this.unregisterExtension=function(d){if(!e(d))throw"Illegal argument type: extension name must be a string";for(var b=!1,c=0;c<Y.length;++c){var f=Y[c];if(f.name===d){Y.splice(c,1);b=!0;this._debug("Unregistered extension",d);d=f.extension;a(d.unregistered)&&d.unregistered();break}}return b};this.getExtension=function(a){for(var d=0;d<Y.length;++d){var b=Y[d];if(b.name===a)return b.extension}return null};this.getName=
function(){return J};this.getClientId=function(){return S};this.getURL=function(){return V.url};this.getTransport=function(){return I};this.getConfiguration=function(){return this._mixin(!0,{},V)};this.getAdvice=function(){return this._mixin(!0,{},Z)};g.cometd.WebSocket=window.WebSocket;g.cometd.WebSocket||(g.cometd.WebSocket=window.MozWebSocket)};return g.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(g){return g.AckExtension=function(){var c,e=!1,a=-1;this.registered=
function(a,f){c=f;c._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){c._debug("AckExtension: executing unregistration callback",void 0);c=null};this.incoming=function(b){var f=b.channel;if("/meta/handshake"==f)e=b.ext&&b.ext.ack,c._debug("AckExtension: server supports acks",e);else if(e&&"/meta/connect"==f&&b.successful&&(f=b.ext)&&"number"===typeof f.ack)a=f.ack,c._debug("AckExtension: server sent ack id",a);return b};this.outgoing=function(b){var f=b.channel;
"/meta/handshake"==f?(b.ext||(b.ext={}),b.ext.ack=c&&!1!==c.ackEnabled,a=-1):e&&"/meta/connect"==f&&(b.ext||(b.ext={}),b.ext.ack=a,c._debug("AckExtension: client sending ack id",a));return b}}})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),function(g,c,e,a,b,f,k,h){return g([h],{logSubscriptions:!1,constructor:function(){this.batching=
!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(d){this.inherited(arguments);a.after(this._delegate,"onMessage",e.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,b,c){this.logSubscriptions&&k.info("MessageService subscribe: "+
a,b,c);this._addHandler(this.channelSubscriptions,a,b,c);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,b,c),this._deferProcessQueue(),a):this._queueSubscribe(a,b,c)},unsubscribe:function(a,c,f){this.logSubscriptions&&k.info("MessageService unsubscribe: "+a,c,f);if(this._removeHandler(this.channelSubscriptions,a,c,f))return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueUnsubscribe(a,c,f),this._deferProcessQueue(),a):(new b).resolve();
k.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new b).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",
arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,c){var f=new b;this._queuedOps.push({type:"publish",channel:a,data:c,deferred:f});return f.promise},
_queueSubscribe:function(a,c,f){var e=new b;this._queuedOps.push({type:"subscribe",channel:a,handler:c,scope:f,deferred:e});return e.promise},_queueUnsubscribe:function(a,c,f){for(var e=new b,h,k=0;k<this._queuedOps.length;k++)if(h=this._queuedOps[k],"subscribe"===h.type&&h.channel===a&&h.handler===c&&h.scope===f)return this._queuedOps.splice(k,1),h.deferred.resolve(),(new b).resolve();this._queuedOps.push({type:"unsubscribe",channel:a,handler:c,scope:f,deferred:e});return e.promise},_processQueue:function(){var a=
this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var d;"publish"===a.type?d=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?d=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(d=this._doUnsubscribe(a.channel,a.handler,a.scope));d.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},
_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new b).resolve();var c=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return c},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?(new b).resolve():this._delegate.doUnsubscribe(a)},
handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},registerMessageHandler:function(a,b,c){k.error("registerMessageHandler is not supported any more.")},
deregisterMessageHandler:function(a,b,c){k.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return e.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||e.isString(a)?a:this._serializeObject(a)},deserialize:function(a){return e.isArray(a)?this._deserializeArray(a):a instanceof
Number||a instanceof Boolean||e.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,f){var e;f=f||this;"string"===typeof c&&"function"!==typeof f[c]?k.warn("Not adding invalid handler: "+c):(e=a[b],e||(e=[],a[b]=e),a={channel:b,handler:c,scope:f},e.push(a),e.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,f){var e;e=a[b];c=this._getHandlerIndex(e,{handler:c,scope:f||this});0<=c&&e.splice(c,1);(!e||0===e.length)&&delete a[b];return 0<=c},_callHandlers:function(a,
b,f){var e;if(a.hasOwnProperty(b)){a=a[b];for(e=0;e<a.length;e+=1)try{"string"===typeof a[e].handler?a[e].scope[a[e].handler].call(a[e].scope,f):a[e].handler.call(a[e].scope,f)}catch(h){k.error("Error while executing message handler on channel: "+b+", message: "+c.toJson(f)+", error: "+h)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=
1){var f=this.typeSerializers[c];if(f.typeMatcher(a))return{__type__:f.type,__value__:f.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,
a.__value__)}catch(c){k.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],function(g,c){return g([],{constructor:function(e){e.stateMachine=this;this.state=new c(e)},start:function(){this.state.enter()},
stop:function(){this.state.exit()},_changeState:function(c,a){this.state.enter(c,a)},onEnterState:function(c){},onExitState:function(c){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(g,c,e,a,b,f,k,h){var d;return d=g([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};
this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?(a=this.namespace.split("."),a=a.pop()):e.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var b=
{},c,f;for(c in a)a.hasOwnProperty(c)&&(f=a[c],f.name&&f.name!==c&&e.error("State: error constructing substate: "+c+", the specified names don't match: "+f.name),f.name=c,f.namespace=f.namespace||[this.namespace,this.name].join("."),f.stateMachine=f.stateMachine||this.stateMachine,f.context=f.context||this.context,b[f.name]=new d(f));this.substates=b},constructTriggersAndTransitions:function(a){var d,b={},c=[],f;for(d in a)a.hasOwnProperty(d)&&((f=this.constructTrigger(d))&&c.push(f),b[d]=this.constructTransition(d,
a[d]));this.transitions=b;this.triggers=c},constructTrigger:function(d){var e,h,g;e=d.split(" ");if(2===e.length)"subscribe"===e[0]?g=b:"response"===e[0]||"fault"===e[0]?g=f:"timeout"===e[0]&&(g=k);else if("onEnterState"!==d||"onExitState"!==d)g=a;g&&(h=new g({name:d,context:this.context,triggerHandler:c.hitch(this,this.handleTrigger)}));return h},constructTransition:function(a,d){var b;if(c.isFunction(d)||c.isString(d)||c.isArray(d))"onEnterState"===a||"onExitState"===a?(b=d,d={},d.action=b,d.target=
""):(b=d,d={},d.target=b);d.state=this;return new h(d)},enter:function(a,d){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(d)));a?this.changeSubstates(a,d):this.changeToDefaultSubstate(d)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},
disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var d,b;if(this.transitions[a]&&(b=Array.prototype.slice.call(arguments,1,arguments.length),d=this.transitions[a].handleTrigger(a,b)))c.isString(d)||(b=d.args,d=d.target),this.stateMachine._changeState(d,b)},changeSubstates:function(a,d){var b=this.activeSubstates();this.substates[a]&&(0<=b.length&&b[0].name!==a&&b.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,d))},changeToDefaultSubstate:function(a){0===
this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],d;for(d in this.substates)this.substates.hasOwnProperty(d)&&this.substates[d].active&&a.push(this.substates[d]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(g,c,e,a,b){return g(b,{constructor:function(){this.connection=
{}},enable:function(){c.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=e.after(this.context,this.name,c.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],function(g){return g([],{constructor:function(c){this.name="";this.context={};this.triggerHandler=
c.triggerHandler||function(){};g.safeMixin(this,c)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(g,c,e,a,b){return g(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"subscribe"!==b[0])&&a.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");this.messageId=b[1]||"";this.subscrition={}},enable:function(){this.subscription=
e.subscribe(this.messageId,c.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(g,c,e,a,b){return g(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"response"!==b[0]&&"fault"!==b[0])&&e.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!a.registerResponseHandler||!a.registerFaultHandler)&&e.error("The remote package is not available, this type of trigger will not work.");this.messageId=b[1]||"";this.handlerType=b[0]},enable:function(){"response"===this.handlerType?a.registerResponseHandler(this.messageId,c.hitch(null,this.triggerHandler,this.name)):a.registerFaultHandler(this.messageId,c.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?a.deregisterResponseHandler(this.messageId):a.deregisterFaultHandler(this.messageId)}})})},
"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(g,c,e,a){return g(a,{constructor:function(){var a=this.name.split(" ");(2>a.length||"timeout"!==a[0])&&e.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(a[1]);this.handlerType=a[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(c.hitch(null,this.triggerHandler,this.name),
1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(g,c,e){return g([],{constructor:function(a){this.state={};this.target="";this.action=this.condition=null;g.safeMixin(this,a)},handleTrigger:function(a,b){var c="";this.checkCondition(a,b)&&(this.runAction(a,b),c=this.getTarget(a,this.target,b));
return c},checkCondition:function(a,b){return!this.condition?!0:c.hitch(this.state.context,this.condition).apply(null,[a,this.state.data].concat(b))},runAction:function(a,b){var f;this.action&&(f=c.hitch(this.state.context,this.action),f.apply(null,[a,this.state.data].concat(b)))},getTarget:function(a,b,f){var k,h,d;if(c.isString(b))h=b;else if(c.isFunction(b))b=c.hitch(this.state.context,b),h=b.apply(null,[a,this.state.data].concat(f));else if(c.isArray(b))for(k=0;k<b.length;k+=1){h=this.getTarget(a,
b[k],f);if(c.isString(h)){h={target:h};c.mixin(h,d);break}if(h&&h.target){c.mixin(h,d);break}d=h||{}}else e.warn("Transition: improper target: ",b);return h}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(g,c,e,a,b,f,k){return g([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",
namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",
_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,
stop:"disconnected"}}}}},setDelegate:function(a){if(this._delegate!==a){this._delegate=a;var d=this;e.after(a,"onConnectionError",function(){k.warn("MessageService received connection error, reconnecting");d._reconnect()},!0);this._states=new f(this._stateOptions);e.after(this._states,"onEnterState",c.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var d=this._currentState;this._currentState=a;this.logStateChanges&&k.info("MessageService state change: "+
d+" -\x3e "+a);if("connected"===d)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;k.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&k.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(k.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function a(d){f.push(this._delegate.doSubscribe(d.channel))}
var d,c,f=[];this._delegate.doStartBatch();for(d in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(d)&&(c=this.channelSubscriptions[d],c.forEach(a,this),this.channelSubscriptions[d].subscribed=!0);this._delegate.doEndBatch();b(f).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&k.info("Successfully connected."),
this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","mw-log/Log"],function(g,c,e){return g([],{pollDelay:50,constructor:function(a,
b){this.remote=a;this.messageService=b;this.pending=0;a.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);a.registerResponseHandler("OpaqueMessageResponse",function(a){this.pending-=1;a.forEach(function(a){try{a.opaqueMessageDOs&&a.opaqueMessageDOs.forEach(b.handleMessage,b)}catch(c){e.error("Error while handling message: "+c)}});this.poll()},this)},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.enabled=!0;
this.poll();return(new c).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new c).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var a=this;this.timeout=setTimeout(function(){a.pending+=1;a.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});a.timeout=null},this.pollDelay)}},doPublish:function(a,b){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:a,
data:b}]}})},doSubscribe:function(a){},doUnsubscribe:function(a){},doStartBatch:function(){},doEndBatch:function(){}})})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],function(g,c){var e={deprecated:function(a){var b,f;if((g.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))f=window.showDeprecationsAsErrors||a.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",a.deprecated&&(b+=a.deprecated.module,a.deprecated.method&&(b+=
"."+a.deprecated.method+"()"),b+="."),a.replacement&&(b+=" Use "+a.replacement.module,a.replacement.method&&(b+="."+a.replacement.method+"()"),b+=" instead."),a.removalVersion&&(b+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(b+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),a.additionalInformation&&(b+=" "+a.additionalInformation),c[f](b)},_isConfigValid:function(a){var b=!!a.deprecated&&"object"===typeof a.deprecated&&a.deprecated.hasOwnProperty("module");
a.replacement&&(b=b&&"object"===typeof a.replacement&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(b=b&&"number"===typeof a.geckNumber);b||c.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(e,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return e})},"MW/uiframework/UIContainer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/Evented dojo/on dojo/Stateful dojo/when dijit/layout/ContentPane dijit/popup dijit/registry mw-actiondataservice/ActionDataService mw-keybindings/KeyBindings mw-keybindings/KeyBindingsFactory mw-log/Log mw-messageservice/MessageService mw-form/PushButton MW/layout/BorderBar MW/layout/BorderContainer MW/layout/LayoutContainerEvent MW/layout/DocumentContainer MW/layout/DocumentContainerActions MW/layout/DocumentGroupProperties MW/layout/DocumentGroupRegistry MW/layout/LayoutUtils MW/layout/MainContainer MW/layout/SelectionManager MW/layout/StatefulExtension MW/toolstrip/constants/DisplayStateConstants MW/toolstrip/constants/TypeConstants MW/uiframework/FocusManager MW/uiframework/UIBuilderFactory MW/uiframework/contextmanager/ContextManagerFactory MW/uiframework/MnemonicsManager MW/uiframework/MnemonicsStates MW/uiframework/uicontainer/ChildProperties MW/uiframework/uicontainer/ContextDriver MW/uiframework/uicontainer/DockingManager MW/uiframework/uicontainer/DocumentTypeProperties MW/uiframework/uicontainer/LocalSessionDataService MW/uiframework/uicontainer/WindowBoundsUtils MW/uiframework/uicontainer/peer/UIContainerPeer MW/uiframework/utils mw-utils/allApprove dojo/i18n!l10n/nls/layout exports".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G,J,H,L,I,R,aa,S,X,T,N,$,W){var Q=g([b,k,E],{Fixed:void 0,minorVersion:1,hasToolstrip:!0,hasMnemonics:!1,enableQABCustomization:!1,documentGroupingFacet:R.FACET,showSingleDocumentTab:!0,enableOnTopExpand:!0,mainContainerTraversalOrder:["top","left","center","bottom","right"],Dynamic:void 0,constructor:function(a,b){var h,l,C=this;g.safeMixin(this,b);this.appId=this.appId||a;this.id=a;this.toolstripTag=a+"Toolstrip";this._messageChannel=
"/"+this.appId+"/uicontainer";this._layoutKey=this.appId+"Layout";this._documentsKey=this.appId+"Documents";this._dockedContainers={};this._panels={};this._documents=[];this._toolBars=[];this._closeApprovers=[];this._childProperties={};this._groupRegistry=this.parentContainer?this.parentContainer._groupRegistry:new D;this._documentTypes=[];this._panelSetTitles={global:this.globalPanelSetTitle};this._propertyDelegates={};this._pendingTypeProperties={};delete this.Fixed;delete this.Dynamic;I.setContainer(this);
void 0===this.persistDocuments&&(this.persistDocuments=this.persistLayout);if(this.isDocked)this.sessionDataService=this.parentContainer.sessionDataService,this.actionService=this.parentContainer.actionService,this.uiBuilder=this.parentContainer.uiBuilder,this._selectionManger=this.parentContainer._selectionManager,this._contextManager=this.parentContainer._contextManager,this._contextDriver=this.parentContainer._contextDriver,this._focusManager=this.parentContainer._focusManager,this.parentContainer._dockedContainers[a]=
this;else{h=this.parentContainer?"uiroot":a;this._outerContainer=new x({id:h,uiContainer:this},h);e.add(this._outerContainer.domNode,"hideAllChildren");this._mainContainer=new z({id:a+"Main",enableOnTopExpand:this.enableOnTopExpand,borderOptions:this.borderOptions,panelSetTitles:this._panelSetTitles,traversalOrder:this.mainContainerTraversalOrder});this._mainContainer.on(v.STATE_CHANGED,c.hitch(this,"_mainContainerStateChanged"));this._outerContainer.addWithProperties(this._mainContainer,c.mixin(new k,
{region:"center"}));this.title&&this.set("title",this.title);S.addWindowBoundsListener(window,function(a,d){C._changeAttrValue("windowBounds",a);!d&&!C.parentContainer&&C._handleStateChange()});window.cefclient?(window.cefclient.handleWindowClosed=function(){C._canClose().then(function(){I.closeUndockedWindows();window.cefclient.sendMessage("close")})},window.cefclient.sendMessage("js-custom-close-set")):this.parentContainer||f(window,"beforeunload",function(){I.closeUndockedWindows()});this.parentContainer||
(window.name=a);this.sessionDataService||(this.sessionDataService=new aa,this.sessionDataService.setMinimumSaveInterval(this._layoutKey,1E3));this.actionService||(this.actionService=new n({nameSpace:"/actions/main"}));this.uiBuilder||(this.uiBuilder=U.getInstance({actionService:this.actionService,enableQABCustomization:this.enableQABCustomization}));this._selectionManager=this._mainContainer.selectionManager;if(this.hasToolstrip){this._toolstripId=this.uiBuilder.create({tag:this.toolstripTag,type:P.TOOLSTRIP});
this.toolstrip=m.byId(this._toolstripId);this.uiBuilder.addPropertySetCallback(this._toolstripId,c.hitch(this,this._handleToolstripPropertyChange));this.toolstrip.watch("selectedTab",c.hitch(this,this._handleToolstripSelectedTabChange));h=new d({id:"toolstripWrapper"});h.set("content",this.toolstrip);this._outerContainer.addWithProperties(h,{region:"top"});u.setCloseClickExclusion(h.domNode);if(this.parentContainer&&this.isDockable)(new t({"class":"dockButton",icon:"smallDock",showText:!1,description:this.title?
c.replace($.dockSomething,{placeholder:this.title}):$.dock})).placeAt(this.toolstrip.topRightContainer).on("click",c.hitch(this,"_dock"));l=this.parentContainer&&this.contentType!==I.CHILD_UI_CONTENT?this.parentContainer.id:a;this._contextManager=O.getInstance({uiContainer:this,uiBuilder:this.uiBuilder,parentAppId:l,toolstripTag:this.toolstripTag,qabContextualControlsActionMap:this.qabControlToActionMap||{},alternativeContextMemory:b.alternativeContextMemory});h.dontSelectOnFocus=!0;this._childProperties.toolstripWrapper=
h;this._selectionManager.addChild(h,h)}h=T.detectIE();if(this.hasMnemonics&&(!1===h||13<=h)){if(!this.hasToolstrip)throw Error("'hasMnemonics' cannot be true without 'hasToolstrip' also being true!");this._mnemonicsManager=new G({toolstripId:this._toolstripId})}this._focusManager=new K(this);this._propertyDelegates[z.IS_LEFT_COLLAPSED]=this._mainContainer;this._propertyDelegates[z.IS_RIGHT_COLLAPSED]=this._mainContainer;this._propertyDelegates[z.IS_BOTTOM_COLLAPSED]=this._mainContainer;this._propertyDelegates[z.LEFT_WIDTH]=
this._mainContainer;this._propertyDelegates[z.RIGHT_WIDTH]=this._mainContainer;this._propertyDelegates[z.BOTTOM_HEIGHT]=this._mainContainer;this._propertyDelegates[F.SELECTED_CHILD]=this._selectionManager;this._contextManager&&(this._contextDriver=new L(l,this));this._documentContainerPropertyDelegator=this._createDocumentContainerPropertyDelegator();this._documentContainerActions=new y(this.actionService);this.reserveDocumentSpace&&this._addDocumentContainer();this._propertyDelegates[w.TAB_POSITION]=
this._documentContainerPropertyDelegator;this._propertyDelegates[w.ARRANGEMENT]=this._documentContainerPropertyDelegator;this._propertyDelegates[w.GRID_SIZE]=this._documentContainerPropertyDelegator;this._propertyDelegates[w.ROW_WEIGHTS]=this._documentContainerPropertyDelegator;this._propertyDelegates[w.COLUMN_WEIGHTS]=this._documentContainerPropertyDelegator;this._propertyDelegates[w.TILE_COVERAGE]=this._documentContainerPropertyDelegator;this.defaultLayout&&"string"===typeof this.defaultLayout&&
(this.defaultLayout=JSON.parse(this.defaultLayout));this._initializeLayout();if(this.persistLayout)this._mainContainer.on(v.STATE_CHANGED,function(){C._isDestroying||C._handleStateChange()});r.subscribe(this._messageChannel,function(a){switch(a.data.type){case "attach":C._peer||(C._peer=new X({serverChannel:a.data.serverChannel,clientChannel:a.data.clientChannel,uiContainer:C}));break;case "detach":C._peer&&(C._peer.detachFromContainer(),C._peer=null)}})}this._keyBindings=s.getInstance(this.actionService)},
startup:function(){if(!this._started){this.emit("starting");this._started=!0;this.isDocked||(this.tabGroupTags&&this._contextManager&&this._contextManager.register("TabGroups",{appId:this.id,contextId:"global",tabGroupTags:this.tabGroupTags}),e.remove(this._outerContainer.domNode,"hideAllChildren"),this._outerContainer.startup(),window.cefclient||this._changeAttrValue("windowBounds",S.getWindowBounds(window)));this._restoreDocuments();if(!this.isDocked&&this.parentContainer){var a;for(a=0;a<this._documents.length;a++)if(this._documents[a].properties.get(H.IS_SHOWING)){this._documents[a].properties.set(H.IS_SELECTED,
!0);break}}r.publish(this._messageChannel,"started");this.emit("started");this._createKeyBindings()}},_createKeyBindings:function(){e.add(document.body,"keyboardNavigation");this._createNavigationKeyBinding();this._createBackwardNavigationKeyBinding()},_setKeyBindingAction:function(a){this.actionService.addAction(a);this._keyBindings.getBinding(a.shortcut).setAction(".keyboardNavigation",a.id)},_createNavigationKeyBinding:function(){var a={id:"navigationBinding",enabled:!0,shortcut:[q.Keys.CTRL,q.Keys.F6],
callback:c.hitch(this,"_navigateAcrossChildren","forward")};this._setKeyBindingAction(a)},_createBackwardNavigationKeyBinding:function(){var a={id:"backwardNavigationBinding",enabled:!0,shortcut:[q.Keys.CTRL,q.Keys.SHIFT,q.Keys.F6],callback:c.hitch(this,"_navigateAcrossChildren","backward")};this._setKeyBindingAction(a)},_navigateAcrossChildren:function(a){var d=this._mnemonicsManager.getToolstrip();J.getCurrentMnemonicsState()!==J.NULL_NULL&&this._selectChild(this._childProperties.toolstripWrapper);
if(A.isPopupShowing()){var b=l.getTopPopup();b&&b.parent&&b.parent.domNode&&d.domNode&&d.domNode.contains(b.parent.domNode)&&this._selectChild(this._childProperties.toolstripWrapper)}b=this._selectionManager[F.SELECTED_CHILD];"toolstripWrapper"===b.id&&(this._mnemonicsManager.removeFocusFromToolstrip(),"expanded_on_top"===d.get("displayState")&&d.set("displayState",C.COLLAPSED));if(a=this._getNextChildToBeSelected(a,b))"toolstripWrapper"===a.id&&this._mnemonicsManager.setFocusOnCurrentToolstripTab(),
a.addressBarContainer&&!a.focus&&a.addressBarContainer.getElementsByClassName("currentLocationNode")[0].click(),this._selectChild(a)},_getNextChildToBeSelected:function(a,d){return"forward"===a?this._selectionManager.getNextChild(d,!1):this._selectionManager.getPreviousChild(d,!1)},_selectChild:function(a){a.widget?this._selectionManager.setSelected(a.widget,!0):this._selectionManager.setSelected(a,!0)},getRootNode:function(){return this._outerContainer.domNode},shutdown:function(){var a=this,d;this.emit("stopping");
r.publish(this._messageChannel,"terminated");this._peer&&(this._peer.destroy(),delete this._peer);this.isDocked?(Object.keys(this._panels).forEach(function(b){d=a._panels[b].properties;d.isContextual=d.saveIsContextual;a.parentContainer.removePanel(b)}),this.persistDocuments&&this._saveDocuments(),this._getDocumentTypes().forEach(function(b){a.parentContainer._documentContainer.removeGroup(b);d=a._getPropertiesForType(b);d.tabGroupTags=d.saveTabGroupTags;d.panelIds=d.savePanelIds;a.parentContainer.unregisterDocumentType(b)}),
this._actionIds&&this._actionIds.forEach(function(d){a.actionService.removeAction(d)}),this._toolstripComponentTags&&this._toolstripComponentTags.forEach(function(d){(d=a.uiBuilder.tagToId(d))&&a.uiBuilder.destroy(d)}),delete this.parentContainer._dockedContainers[this.id]):(this.persistLayout&&this._saveLayout(),this.persistDocuments&&this._saveDocuments(),this._peer&&this._peer.detachFromContainer(),this.destroyRecursive());this.emit("stopped")},addPanel:function(a,d,b,c){b&&!d&&(d=b.createProperties(this,
c));var f={widget:a,properties:d||a,factory:b,state:c},e=f.properties.panelId;d=f.properties;var h=this;this.persistLayout&&this._assertPropertyDefined(f,"panelId");this._panels[e]||(this._assertPropertyDefined(f,"title"),p.assert("center"!==d.region,"Attempting to place panel: "+d.title+" in center.  Only documents can appear there"),this._panels[e]=f,this.isDocked?(d.saveIsContextual=d.isContextual,d.isContextual=!0,this.parentContainer.addPanel(a,d,b,c)):(d.qabControlToActionMap&&this._contextManager&&
Object.keys(d.qabControlToActionMap).forEach(function(a){h._contextManager.register("QuickAccessAction",{appId:d.panelId,contextId:"global",quickAccessControlTag:a,actionId:d.qabControlToActionMap[a]})}),f.properties.isContextual?f.properties.isOpen=!1:this._waitingForLayout||this._addPanelToLayout(f),f.watches=[f.properties.watch(H.IS_OPEN,function(a,d,b){!h._restoringLayout&&(b&&!1===d)&&h._addPanelToLayout(f)})]),this.emit(v.CHILD_ADDED,{childType:"panel",widget:f.widget,properties:f.properties}))},
removePanel:function(a){var d=this,b=this.getChildProperties(a),c;if(b)return this.isDocked?(delete this._panels[b.panelId],c=this.parentContainer.removePanel(a)):(b.set(H.IS_OPEN,!1),a=this._panels[b.panelId],a.widget&&(delete this._childProperties[a.widget.id],c=a.widget),delete this._panels[b.panelId],a.watches.forEach(function(a){a.remove()}),b.qabControlToActionMap&&this._contextManager&&Object.keys(b.qabControlToActionMap).forEach(function(a){d._contextManager.unregister("QuickAccessAction",
{appId:b.panelId,contextId:"global",quickAccessControlTag:a})}),this.emit(v.CHILD_REMOVED,{childType:"panel",widget:a.widget,properties:a.properties})),c},registerDocumentType:function(a,d){var b=this;this.registerDocumentGroup(R.FACET,a,d,!1);this._addDocumentType(a);this._restoreDocuments();this.parentContainer&&this.contentType===a&&this._outerContainer.own(d.watch("title",function(a,d,c){b.set("title",c)}))},unregisterDocumentType:function(a){this.isDocked?this.parentContainer.unregisterDocumentType(a):
(this._removeDocumentType(a),this._groupRegistry.unregister(R.FACET,a))},registerDocumentGroup:function(a,d,b,c){b._autoUnregister=!1!==c;void 0===b.get(B.DOCUMENT_COUNT)&&b.set(B.DOCUMENT_COUNT,0);this._groupRegistry.register(a,d,b)},unregisterDocumentGroup:function(a,d){this._groupRegistry.unregister(a,d)},addDocument:function(a,d){d=d||a;var b={widget:a,properties:d},f=this;if(this.isDocked)d.owningContainer=this,this._documents.push(b),this.parentContainer.addDocument(a,d);else{this._assertPropertyDefined(b,
"documentType");this._assertPropertyDefined(b,"title");var e=this._groupRegistry.getGroupPropertiesFromDocumentProperties(R.FACET,d);p.assert(e,"DocumentTypeProperties haven't been registered for "+b.properties.documentType);b.factory=e.documentFactory;this._documents.push(b);a&&(this._childProperties[a.id]=d);if(!this.parentContainer){var h;e.get(R.IS_DOCKED)?!d.isDocking&&(e.isUndockable()&&!1===d.get(R.IS_DOCKED))&&(h=this._addDocumentUndocked(b)):h=this._addDocumentUndocked(b,d.documentType);
if(h||!1===d.isDockable){this._documents.pop();a&&a.destroyRecursive();return}}var m=!this.parentContainer||this.contentType===d.documentType;!this.parentContainer&&e.isUndockable()&&d.setForWindow(window,"_undock",c.hitch(this,"_undockDocument"));!d.isUndocking&&!d.isDocking&&this._adjustDocumentCounts(d,1);d.actions&&this._convertStringsToActions(d.actions);this._addDocumentToLayout(b);d.set(H.IS_DOCKED,m);b.factory&&this._saveDocuments();d.watch(H.IS_OPEN,function(a,d,b){!b&&!f._isDestroying&&
f._saveDocuments()});d.__dockWatch=d.watch(H.IS_DOCKED,function(b,c,e){e!==c&&(e?(m||f._dock(),d.__undockedWindow&&delete d.__undockedWindow):m&&f._undockDocument(a))});d.__boundsWatch=d.watch(H.WINDOW_BOUNDS,function(a,b,c){d.__undockedWindow&&(S.applyDefaultBounds(c,!0),S.convertBoundsToPixels(c),S.setWindowBounds(d.__undockedWindow,c))});this.parentContainer&&this.contentType===I.SINGLE_DOCUMENT_CONTENT&&this._outerContainer.own(d.watch("title",function(a,d,b){f.set("title",b)}));this.emit(v.CHILD_ADDED,
{childType:"document",widget:b.widget,properties:b.properties});d.set("isUndocking",!1);d.set("isDocking",!1)}},loadActions:function(a){var d=this;this.actionService.loadActions(a);this.isDocked&&(this._actionIds||(this._actionIds=[]),a.forEach(function(a){d._actionIds.push(a.id)}))},createPopupsFromConfig:function(a){var d=this;this.uiBuilder.createPopupsFromConfig(a);this.isDocked&&(this._toolstripComponentTags||(this._toolstripComponentTags=[]),a.popups.forEach(function(a){d._toolstripComponentTags.push(a.tag)}))},
addTabGroupFromConfig:function(a,d){this.uiBuilder.addTabGroupFromConfig(a,d);this.isDocked&&(this._toolstripComponentTags||(this._toolstripComponentTags=[]),this._toolstripComponentTags.push(d))},addToolBar:function(d,b,c){var f=this;0<this._toolBars.length&&this.removeToolBar(this._toolBars[0].widget);c&&!b&&(b=c.createProperties(this));c&&!d&&(d=c.createWidget(this,b));b||(b=d);var e=function(b){b?(a.set(d.domNode,"display","block"),a.set(d.domNode,"height","27px")):(a.set(d.domNode,"display",
"none"),a.set(d.domNode,"height","0"))};e(!1!==b.isShowing);b.region="top";b.layoutOrder=-1;this._mainContainer.addWithProperties(d,b);c=[];c[0]=b.watch(H.IS_SHOWING,function(a,d,b){e(b);f._mainContainer.layout()});this._toolBars[0]={widget:d,properties:b,watches:c};this._childProperties[d.id]=d;this._selectionManager.addChild(d,b)},removeToolBar:function(a){if(0<this._toolBars.length&&(this._toolBars[0].widget===a||this._toolBars[0].properties.title===a))this._mainContainer.removeChild(this._toolBars[0].widget),
this._toolBars[0].watches[0].remove(),this._toolBars.length=0},addCloseApprover:function(a){this._closeApprovers.push(a)},removeCloseApprover:function(a){a=this._closeApprovers.indexOf(a);0<=a&&this._closeApprovers.splice(a,1)},getRootUIContainer:function(){for(var a=this;a.parentContainer;)a=a.parentContainer;return a},getPanels:function(){var a=this,d=[];Object.keys(this._panels).forEach(function(b){b=a._panels[b];d.push({widget:b.widget,properties:b.properties})});return d},getDocuments:function(a){var d=
[];this._documents.forEach(function(b){(!a||a===b.properties.documentType)&&d.push({widget:b.widget,properties:b.properties})});return d},getChildProperties:function(a,d){if("string"===typeof a){var b=this._getChildInfo(a,d);if(b)return b.properties}return this._childProperties[a.id]},getChildWidget:function(a,d){var b=this._getChildInfo(a,d);return b?b.widget:null},getDocumentTypes:function(){var a=this,d=[];this._getDocumentTypes().forEach(function(b){d.push({type:b,properties:a._getPropertiesForType(b)})});
return d},getDocumentTypeProperties:function(a){return this._getPropertiesForType(a)},own:function(a){this._outerContainer.own(a)},destroyRecursive:function(){var a=this;this._isDestroying=!0;this._documentContainer&&this._documentContainer.clear();this._mnemonicsManager&&this._mnemonicsManager.destroy();this._contextManager&&O.destroy();this.uiBuilder&&U.destroyInstance();this._focusManager&&this._focusManager.destroy();Object.keys(this._panels).forEach(function(d){var b=a._panels[d].widget;a.removePanel(d);
b&&b.destroyRecursive()});this._getRegisteredDocumentTypes().forEach(function(d){a.parentContainer?a._removeDocumentType(d):a.unregisterDocumentType(d)});this._outerContainer.destroyRecursive();this.actionService.destroy();this._keyBindings&&s.destroyInstance();this._isDestroyed=!0},resetLayout:function(){this._initializeLayout()},createChildUI:function(a,d,b){void 0===b&&(b=I.shouldDockUI(a));a=I.createPackingList(this);a.containerFactoryPath=d.modulePath;a.cssFiles=d.getCSSFiles();a.parent=this;
b?(a.isDocked=!0,I.buildContainer(Q,a)):(b=I.savePackingList(a),I.spawnContainer(this,d.getPage()||this.undockedPage,I.CHILD_UI_CONTENT,b))},isChildContainer:function(){return!!this.parentContainer},getChildUIContainer:function(a){return(a=this._dockedContainers[a])&&!a._isDestroyed?a:null},_getChildInfo:function(a,d){var b,c;if(!d){if("string"===typeof a&&(b=this._panels[a]))return b;for(c=0;c<this._panels.length;c++)if(b=this._panels[c],b.properties.title===a||b.widget===a||b.properties===a)return b}for(c=
0;c<this._documents.length;c++)if(b=this._documents[c],(b.properties.title===a||b.properties.documentId===a||b.widget.id===a||b.widget===a||b.properties===a)&&(!d||b.properties.documentType===d))return b;return null},_getDocumentInfo:function(a){var d,b;for(d=0;d<this._documents.length;d++)if(b=this._documents[d],b.widget===a)return b;return null},_getPropertiesForType:function(a){return this._groupRegistry.getProperties(R.FACET,a)},_getDocumentTypes:function(){return this._documentTypes},_getRegisteredDocumentTypes:function(){return this._groupRegistry.getIds(R.FACET)},
_adjustDocumentCounts:function(a,d){this._adjustCountsRecursive(a,this.documentGroupingFacet,d)},_adjustCountsRecursive:function(a,d,b){var c=a[d];c&&(groupProperties=this._groupRegistry.getProperties(d,c),groupProperties.set(B.DOCUMENT_COUNT,groupProperties.get(B.DOCUMENT_COUNT)+b),groupProperties._autoUnregister&&0===groupProperties.get(B.DOCUMENT_COUNT)&&this._groupRegistry.unregister(d,c),groupProperties.subGroupingFacet&&this._adjustCountsRecursive(a,groupProperties.subGroupingFacet,b))},_addPanelToLayout:function(a){var d=
a.properties;d.region=d.region||"left";a.widget||(a.widget=a.factory.createWidget(this,a.state));d.actions&&this._convertStringsToActions(d.actions);this._childProperties[a.widget.id]=a.properties;a.properties!==a.widget?this._mainContainer.addWithProperties(a.widget,a.properties):this._mainContainer.addChild(a.widget);d.set(H.IS_OPEN,!0)},_addDocumentType:function(a){var d=this;if(!(0<=this._documentTypes.indexOf(a))){this._documentTypes.push(a);var b=this._getPropertiesForType(a),f=this._pendingTypeProperties[a];
f&&f.windowBounds&&(b.windowBounds=f.windowBounds);if(this.isDocked)b.saveTabGroupTags=b.tabGroupTags,this.tabGroupTags&&(b.tabGroupTags=b.tabGroupTags||[],b.tabGroupTags=this.tabGroupTags.concat(b.tabGroupTags)),b.savePanelIds=b.panelIds,f=Object.keys(this._panels),0<f.length&&(b.panelIds=f.concat(b.panelIds)),b.owningContainerId=this.id,this.parentContainer._addDocumentType(a);else{this._panelSetTitles[a]=b.title;b.plusActions&&this._convertStringsToActions(b.plusActions);b.tabGroupTags&&this._contextManager&&
this._contextManager.register("TabGroups",{appId:a,contextId:"global",tabGroupTags:b.tabGroupTags});b.panelIds&&this._contextManager&&this._contextManager.register("Panels",{appId:a,contextId:"global",panelIds:b.panelIds});b.contexts&&this._contextManager&&b.contexts.forEach(function(d){d.tabGroupTags&&this._contextManager.register("TabGroups",{appId:a,contextId:d.contextId,tabGroupTags:d.tabGroupTags});d.panelIds&&this._contextManager.register("Panels",{appId:a,contextId:d.contextId,panelIds:d.panelIds})},
this);b.qabControlToActionMap&&this._contextManager&&Object.keys(b.qabControlToActionMap).forEach(function(c){d._contextManager.register("QuickAccessAction",{appId:a,contextId:"global",quickAccessControlTag:c,actionId:b.qabControlToActionMap[c]})});!I.isUndockedWindow()&&b.setForWindow&&(!this.parentContainer&&b.owningContainerId&&b.owningContainerId!==this.id?b.setForWindow(window,"_undock",c.hitch(this,"_undockChildUI",b.owningContainerId)):!this.parentContainer&&b.isUndockable()&&b.setForWindow(window,
"_undock",c.hitch(this,"_undockType",a)));if(!this.parentContainer&&b.tabGroupFactories)for(var e in b.tabGroupFactories)this.uiBuilder.tagToId(e)||b.tabGroupFactories[e].createWidget(this,null,b);var h=b.get(R.IS_DOCKED);b.__dockWatch=b.watch(R.IS_DOCKED,function(b,c,f){f!==c&&(f?h||d._dock():h&&d._undockType(a))});b.__boundsWatch=b.watch(H.WINDOW_BOUNDS,function(d,c,f){if((d=I._getWindowForType(a))&&!b.__respondingToBoundsChange)S.applyDefaultBounds(f,!0),S.convertBoundsToPixels(f),S.setWindowBounds(d,
f)});this.emit(v.CHILD_ADDED,{childType:"documentType",typeId:a,properties:b})}}},_removeDocumentType:function(a){var d=this,b=this._documentTypes.indexOf(a);0>b||(this._documentTypes.splice(b,1),b=this._getPropertiesForType(a),delete this._panelSetTitles[a],b&&(b.tabGroupTags&&this._contextManager&&this._contextManager.unregister("TabGroups",{appId:a,contextId:"global"}),b.qabControlToActionMap&&this._contextManager&&Object.keys(b.qabControlToActionMap).forEach(function(b){d._contextManager.unregister("QuickAccessAction",
{appId:a,contextId:"global",quickAccessControlTag:b})}),b.contexts&&this._contextManager&&b.contexts.forEach(function(b){b.tabGroupTags&&d._contextManager.unregister("TabGroups",{appId:a,contextId:b.contextId});b.panelIds&&d._contextManager.unregister("Panels",{appId:a,contextId:b.contextId})},this),b.__dockWatch&&(b.__dockWatch.remove(),delete b.__dockWatch),b.__boundsWatch&&(b.__boundsWatch.remove(),delete b.__boundsWatch),b.__undockedWindow&&delete b.__undockedWindow,this.emit(v.CHILD_REMOVED,
{childType:"documentType",typeId:a,properties:b})))},_addDocumentToLayout:function(a){this._documentContainer||this._addDocumentContainer();a.properties!==a.widget?this._documentContainer.addWithProperties(a.widget,a.properties):this._documentContainer.addChild(a.widget);a.properties.set(H.IS_OPEN,!0)},_addToLayout:function(a,d){var b=this._panels[a];b&&(b.properties.setId=d,b.properties.set(H.IS_OPEN,!0))},_removeFromLayout:function(a){(a=this._panels[a])&&a.properties.set(H.IS_OPEN,!1)},_getContextualState:function(a){return this._mainContainer.getState(a)},
_setContextualState:function(a,d){this._mainContainer.setState(a,d,!0)},getOccupiedBorders:function(){return this._mainContainer.getOccupiedBorders()},_assertPropertyDefined:function(a,d){p.assert(a.properties[d],d+" not specified")},_convertStringsToActions:function(a){var d,b,c;for(d=0;d<a.length;d++)b=a[d],"string"===typeof b?(c=this.actionService.getAction(b))&&(a[d]=this._createLazyAction(b)):b instanceof Array&&this._convertStringsToActions(b)},_createLazyAction:function(a){var d=this.actionService,
b=this.actionService.getAction(a);return{text:b.text.replace("\n"," "),description:b.description,itemType:b.itemType,getEnabled:function(){return d.getAction(a).enabled},getSelected:function(){return d.getAction(a).selected},setEnabled:function(b){d.updateAction(a,{enabled:b})},setSelected:function(b){d.updateAction(a,{selected:b})},callback:function(b){b&&b.view?b.view.DockingManager.getContainer().actionService.getAction(a).callback(arguments):d.getAction(a).callback(arguments)}}},_addDocumentContainer:function(){if(!this._documentContainer){var a=
this,d=new w({id:this.id+"DocumentContainer",groupRegistry:this._groupRegistry,groupingFacet:this.documentGroupingFacet,showSingleDocumentTab:this.showSingleDocumentTab,offerMaximizeButton:this.offerDocumentMaximizeButton,userTilingEnabled:!1!==this.userDocumentTilingEnabled,groupTabsByType:this.groupDocumentsByType,selectionManager:this._selectionManager});this._documentContainerState&&(d.setState(this._documentContainerState),delete this._documentContainerState);this._mainContainer.addWithProperties(d,
c.mixin(new k,{region:"center"}));d.on(v.CHILD_REMOVED,function(b,c){var f=a._getDocumentInfo(b),e=a._documents.indexOf(f);a._documents.splice(e,1);delete a._childProperties[b.id];if(f.properties.owningContainer&&f.properties.owningContainer!==a){var h=f.properties.owningContainer._documents,e=h.indexOf(f);h.splice(e,1)}!c.isUndocking&&!c.isDocking&&a._adjustDocumentCounts(c,-1);if(d.isEmpty()&&!a._isDestroying&&!a._isDocking)if(a.parentContainer&&a.contentType!==I.CHILD_UI_CONTENT)window.close();
else{var m=a._selectionManager.get(F.SELECTED_CHILD);a.reserveDocumentSpace||a._removeDocumentContainer();a._mainContainer.isExpanded("center")&&a._mainContainer.restore("center");if(m)a.reserveDocumentSpace||setTimeout(function(){a._selectionManager.setSelected(m,!0)},0);else{var k;a._documentContainer||(k=a._mainContainer.getChildInRegion("bottom"));k||(k=a._mainContainer.nextChild(a._documentContainer,!0));if(k&&k.nextChild){var l=k.nextChild(null,!0);l&&setTimeout(function(){a._selectionManager.setSelected(l,
!0)},0)}}}a.emit(v.CHILD_REMOVED,{childType:"document",widget:f.widget,properties:f.properties})});if(this.persistLayout)d.on(v.STATE_CHANGED,function(){a._handleStateChange()});this._documentContainer=d;this._documentContainerActions.setContainer(d);this._contextDriver&&this._contextDriver.setDocumentContainer(d);this._documentContainerPropertyDelegator.setDocumentContainer(d);this._mainContainerStateChanged()}},_removeDocumentContainer:function(){this._documentContainer&&(this._documentContainer.clear(),
this._documentContainerState=this._documentContainer.getState(),this._mainContainer.removeChild(this._documentContainer),this._documentContainer.destroyRecursive(),delete this._documentContainer,this._documentContainerActions.setContainer(null),this._contextDriver&&this._contextDriver.setDocumentContainer(null))},_mainContainerStateChanged:function(){if(this._documentContainer){var a=this._mainContainer.isExpanded("center");a!=this._isDocumentContainerExpanded&&(this._isDocumentContainerExpanded=
a,this._documentContainer.ancestorMaximizeUpdated(a))}},_initializeLayout:function(){var a=this;this.persistLayout&&!this.cleanStart?(this._waitingForLayout=!0,this.sessionDataService.retrieve(this._layoutKey).then(function(d){a._restoreLayout(d,!0);a._waitingForLayout=!1;a.persistDocuments&&a.sessionDataService.retrieve(a._documentsKey).then(function(d){a._documentsToRestore=d;a._restoreDocuments()},function(){})},function(){a._restoreLayout(a.defaultLayout);a._waitingForLayout=!1})):this.defaultLayout&&
this._restoreLayout(this.defaultLayout)},_saveLayout:function(){if(this.persistLayout&&!this._restoringLayout&&!this._waitingForLayout)try{this.sessionDataService.save(this._layoutKey,this.get("layout"))}catch(a){}},_restoreLayout:function(a,d){this._restoringLayout=!0;var b=this;a&&this._canRestoreLayout(a.majorVersion,a.minorVersion)&&(Object.keys(this._panels).forEach(function(a){a=b._panels[a];A.saveScrollPosition(a.widget,a.properties)}),a.windowBounds&&this.set("windowBounds",a.windowBounds),
d&&a.types&&Object.keys(a.types).forEach(function(d){var c=a.types[d],f=b._getPropertiesForType(d);f?c.windowBounds&&(f.windowBounds=c.windowBounds):b._pendingTypeProperties[d]=c}),this._contextManager&&this._contextManager._panelManager.setContextualStates(a.contexts),this._mainContainer.setState(a.main),a.center&&a.center.gridSize&&(this._documentContainer?this._documentContainer.setState(a.center):(this._documentContainerState=a.center,this._documentContainerPropertyDelegator.setDocumentContainerState(this._documentContainerState))),
Object.keys(this._panels).forEach(function(d){d=this._panels[d];var b=d.properties;!b.get(H.IS_OPEN)&&(!b.isContextual&&(!a||z.stateIncludes(a.main,b.panelId)))&&this._addPanelToLayout(d)},this),Object.keys(b._panels).forEach(function(a){a=b._panels[a];A.restoreScrollPosition(a.widget,a.properties)}),this._restoringLayout=!1,window.cefclient&&!this._windowShown&&(window.cefclient.sendMessage("bringToFront"),this._windowShown=!0))},_saveDocuments:function(){if(this.persistDocuments&&!this._restoringDocuments){var a=
[];this._documents.forEach(function(d){d.factory&&a.push({title:d.properties.title||"untitled",documentType:d.properties.documentType,state:d.factory.getState(d.widget,d.properties),factoryPath:d.factory.modulePath})});this.sessionDataService.save(this._documentsKey,a)}},_restoreDocuments:function(){var a=this;if(this._documentsToRestore){this._restoringDocuments=!0;var d=[];this._documentsToRestore.forEach(function(b){a._started&&a._getPropertiesForType(b.documentType)?require([b.factoryPath],function(d){var c=
new d;h(c.createProperties(a,b.state),function(d){h(c.createWidget(a,b.state,d),function(b){a.addDocument(b,d)})})}):d.push(b)});0<d.length?this._documentsToRestore=d:delete this._documentsToRestore;this._restoringDocuments=!1}},_canRestoreLayout:function(a,d){return 1===a&&d===this.minorVersion},_titleSetter:function(a){this.title=a;window.cefclient?window.cefclient.sendMessage("setTitle",[this.title]):(a=document.getElementsByTagName("title")[0],a.innerHTML=this.title)},_layoutGetter:function(){var a=
this,d={majorVersion:1,minorVersion:this.minorVersion,main:this._mainContainer.getState(),center:this._documentContainer?this._documentContainer.getState():this._documentContainerState};d.center||delete d.center;var b=this.get("windowBounds");b&&(d.windowBounds=b);d.types={};this._documentTypes.forEach(function(b){var c=a._getPropertiesForType(b);c.windowBounds&&(d.types[b]={windowBounds:c.windowBounds})});0===Object.keys(d.types).length&&delete d.types;this._contextManager&&(d.contexts=this._contextManager._panelManager.getContextualStates());
return d},_layoutSetter:function(a){"string"===typeof a&&(a=JSON.parse(a));this._restoreLayout(a);this._saveLayout()},_footerGetter:function(){return this.isDocked?this.parentContainer._footerGetter():this._mainContainer.getFooter()},_footerSetter:function(a){this.isDocked||this._mainContainer.setFooter(a)},_windowBoundsSetter:function(a){S.applyDefaultBounds(a);S.convertBoundsToPixels(a);S.setWindowBounds(window,a)},_isVisibleSetter:function(a){window.cefclient&&a!==this.get("isVisible")&&(window.cefclient.sendMessage("setVisible",
[a]),this._changeAttrValue("isVisible",a))},_isToolstripCollapsedGetter:function(){return this.uiBuilder.get(this._toolstripId,"displayState")!==C.EXPANDED},_isToolstripCollapsedSetter:function(a){this.uiBuilder.set(this._toolstripId,"displayState",a?C.COLLAPSED:C.EXPANDED)},_selectedToolstripTabGetter:function(){var a=this.toolstrip.get("selectedTab");if(!a){var d=this.getToolstripTabs();0<d.length&&(a=d[0].id)}return a?{id:a,tag:this.uiBuilder.get(a,"tag"),title:this.uiBuilder.get(a,"title")}:null},
_selectedToolstripTabSetter:function(a){var d,b,c=a.id;if(!c)if(a.tag)c=this.uiBuilder.tagToId(a.tag);else if(a.title){b=this.getToolstripTabs();for(d=0;d<b.length&&!c;d++)b[d].title===a.title&&(c=b[d].id)}c&&this.uiBuilder.set(this._toolstripId,"selectedTab",c)},_handleToolstripPropertyChange:function(a){if("displayState"===a.property){var d=a.oldValue!==C.EXPANDED;a=a.newValue!==C.EXPANDED;d!==a&&this.notifyStateWatchers("isToolstripCollapsed",d,a)}},_handleToolstripSelectedTabChange:function(a,
d,b){a=this._getToolstripTabFromId(d);b=this._getToolstripTabFromId(b);this.notifyStateWatchers("selectedToolstripTab",a,b)},getToolstripTabs:function(){var a=this,d=[];this.uiBuilder.getChildrenIds(this._toolstripId).forEach(function(b){a.uiBuilder.getChildrenIds(b).forEach(function(b){d.push({id:b,tag:a.uiBuilder.get(b,"tag"),title:a.uiBuilder.get(b,"title")})})});return d},_getToolstripTabFromId:function(a){var d,b,c;if(a){b=this.getToolstripTabs();for(c=0;c<b.length&&!d;c++)b[c].id===a&&(d=b[c])}return d},
_handleStateChange:function(){var a=this;this._isSavePending||setTimeout(function(){a._saveLayout();a._isSavePending=!1},0);this.notifyStateWatchers("layout",{},{})},set:function(a,d){if(a===F.SELECTED_CHILD&&"string"===typeof d){var b=this._getChildInfo(d);b&&(d=b.widget)}(b=this._propertyDelegates[a])?b.set(a,d):this.inherited(arguments)},_createDocumentContainerPropertyDelegator:function(){var a=this,d=new k;return c.mixin(d,{get:function(d){return a._documentContainer?a._documentContainer.get(d):
a._documentContainerState[d]},set:function(b,c){a._documentContainer?a._documentContainer.set(b,c):(a._documentContainerState[b]=c,d._changeAttrValue(b,c))},setDocumentContainer:function(a){if(a){var b=function(a,b,c){d._changeAttrValue(a,c)};a.own(a.watch(w.TAB_POSITION,b));a.own(a.watch(w.ARRANGEMENT,b));a.own(a.watch(w.GRID_SIZE,b));a.own(a.watch(w.ROW_WEIGHTS,b));a.own(a.watch(w.COLUMN_WEIGHTS,b));a.own(a.watch(w.TILE_COVERAGE,b))}},setDocumentContainerState:function(a){a&&(d._changeAttrValue(w.TAB_POSITION,
a[w.TAB_POSITION]),d._changeAttrValue(w.ARRANGEMENT,a[w.ARRANGEMENT]),d._changeAttrValue(w.GRID_SIZE,a[w.GRID_SIZE]),d._changeAttrValue(w.ROW_WEIGHTS,a[w.ROW_WEIGHTS]),d._changeAttrValue(w.COLUMN_WEIGHTS,a[w.COLUMN_WEIGHTS]),d._changeAttrValue(w.TILE_COVERAGE,a[w.TILE_COVERAGE]))}})},get:function(a){var d=this._propertyDelegates[a];return d?d.get(a):this.inherited(arguments)},watch:function(a,d){var b=this;if(!d&&"function"===typeof a){var c=[];d=a;Object.keys(this._propertyDelegates).forEach(function(a){c.push(b._propertyDelegates[a].watch(a,
d))});c.push(this.inherited(arguments));var f={};f.unwatch=f.remove=function(){c.forEach(function(a){a.remove()});c.length=0};return f}return(f=this._propertyDelegates[a])?f.watch(a,d):this.inherited(arguments)},_undockType:function(a,d){var b=!1,c,f,e=this._getPropertiesForType(a);if(e.isUndocking)return b;e.isUndocking=!0;if(d){f=[];f.length=d.length;for(c=0;c<f.length;c++)f[c]=this._getDocumentInfo(d[c])}else f=this._getDocumentsForType(a);var h={panels:this._getPanelsForType(a),types:[a],documents:f};
if(0==h.documents.length)b=!0;else{h.documents.forEach(function(a){a.properties.set("isUndocking",!0)});h=I.createPackingList(this,h);h.title=e.title;h.parent=this;h.contentType=a;var m=I.savePackingList(h);try{var k=I.spawnContainer(this,this.undockedPage,a,m,e.windowBounds);k&&S.addWindowBoundsListener(k,function(a){e.__respondingToBoundsChange=!0;e._changeAttrValue("windowBounds",a);e.__respondingToBoundsChange=!1});if(this._documentContainer)if(h.documentContainerState=this._documentContainer.getState(),
d)for(c=0;c<f.length;c++)this._documentContainer.removeChild(d[c]);else this._documentContainer.removeGroup(a);e.set(R.IS_DOCKED,!1);b=!0}catch(l){this._displayUndockFailureAlert()}}e.isUndocking=!1;return b},_undockDocument:function(a){var d=!1,b=this._getDocumentInfo(a);if(!b)return d;var c=b.properties;c.__dockWatch&&(c.__dockWatch.remove(),delete c.__dockWatch);var f=c.documentType;c.isUndocking=!0;b={panels:this._getPanelsForType(f),types:[f],documents:[b]};b=I.createPackingList(this,b);b.title=
c.title;b.parent=this;b.contentType=I.SINGLE_DOCUMENT_CONTENT;b=I.savePackingList(b);try{var e=I.spawnContainer(this,this.undockedPage,I.SINGLE_DOCUMENT_CONTENT,b,c.windowBounds);c.__undockedWindow=e;this._documentContainer&&this._documentContainer.removeChild(a);S.addWindowBoundsListener(e,function(a){c.__undockedWindow=null;c._changeAttrValue("windowBounds",a);c.__undockedWindow=e});d=!0}catch(h){this._displayUndockFailureAlert(),c.isUndocking=!1}return d},_undockChildUI:function(a){var d=this;
this._dockedContainers[a].shutdown();require([I.getUIFactoryPath(a)],function(b){d.createChildUI(a,new b,!1)})},_addDocumentUndocked:function(a,d){var b=!1;if(d){var c=this._getPropertiesForType(d),f={panels:this._getPanelsForType(d),types:[d],documents:[a]},f=I.createPackingList(this,f);f.title=c.title;f.parent=this;f.contentType=d;c=I.savePackingList(f);try{I.sendToUndockedContainer(this,this.undockedPage,d,c),b=!0}catch(e){this._displayUndockFailureAlert()}return b}return this._undockDocument(a.widget)},
_getPanelsForType:function(a){var d=this;a=this._getPropertiesForType(a);var b=[];a.panelIds&&(b=b.concat(a.panelIds));a.contexts&&a.contexts.forEach(function(a){a.panelIds&&a.panelIds.forEach(function(a){0>b.indexOf(a)&&b.push(a)})});var c=[];b.forEach(function(a){c.push(d._panels[a])});return c},_getDocumentsForType:function(a){var d=[];this._documents.forEach(function(b){b.properties.documentType===a&&d.push(b)});return d},_dock:function(){if(!this._isDocking){this._isDocking=!0;var a=this;if(this.contentType==
I.CHILD_UI_CONTENT)this.shutdown(),window.close(),require([I.getUIFactoryPath(this.id)],function(d){a.parentContainer.createChildUI(a.id,new d,!0)});else{var d={panels:this._getAllPanels(),types:this._getDocumentTypes(),documents:this._getAllDocuments()},b=I.createPackingList(this,d);b.parent=this;b.contentType=this.contentType;this._documentContainer&&(this.contentType!==I.SINGLE_DOCUMENT_CONTENT&&(b.documentContainerState=this._documentContainer.getState()),d.documents.forEach(function(a){a.properties.set("isDocking",
!0)}),this._documentContainer.removeAll());this._getDocumentTypes().forEach(function(d){a._removeDocumentType(d)});I.returnToOriginalContainer(a,I.savePackingList(b));this.destroyRecursive();window.close()}}},_getAllPanels:function(){var a=this,d=[];Object.keys(this._panels).forEach(function(b){d.push(a._panels[b])});return d},_getAllDocuments:function(){var a=[];document.length=this._documents.length;var d;for(d=0;d<this._documents.length;d++)a[d]=this._documents[d];return a},_displayUndockFailureAlert:function(){var a=
"Unable to create undocked window.";window.cefclinet||(a+="\nPlease configure the browser to allow popups from this site.");alert(a)},_canClose:function(){var a=this._closeApprovers.slice(0);this._documents.forEach(function(d){d.properties.canClose&&a.push(c.hitch(d.properties,"canClose"))});return N(a)}});Q.stateIncludes=function(a,d){return a.main&&z.stateIncludes(a.main,d)};Q.windowContainsASingleUndockedDocument=function(){return!!(I.getContainer()&&I.getContainer().contentType===I.SINGLE_DOCUMENT_CONTENT)};
Q.DOCUMENT_TAB_POSITION=w.TAB_POSITION;Q.DOCUMENT_GRID_SIZE=w.GRID_SIZE;Q.DOCUMENT_ROW_WEIGHTS=w.ROW_WEIGHTS;Q.DOCUMENT_COLUMN_WEIGHTS=w.COLUMN_WEIGHTS;Q.DOCUMENT_TILE_COVERAGE=w.TILE_COVERAGE;Q.FOOTER="footer";Q.IS_LEFT_COLLAPSED=z.IS_LEFT_COLLAPSED;Q.IS_RIGHT_COLLAPSED=z.IS_RIGHT_COLLAPSED;Q.IS_BOTTOM_COLLAPSED=z.IS_BOTTOM_COLLAPSED;Q.IS_VISIBLE="isVisible";Q.IS_TOOLSTRIP_COLLAPSED="isToolstripCollapsed";Q.SELECTED_TOOLSTRIP_TAB="selectedToolstripTab";Q.LAYOUT="layout";Q.LEFT_WIDTH=z.LEFT_WIDTH;
Q.RIGHT_WIDTH=z.RIGHT_WIDTH;Q.BOTTOM_HEIGHT=z.BOTTOM_HEIGHT;Q.SELECTED_CHILD=F.SELECTED_CHILD;Q.TITLE="title";Q.WINDOW_BOUNDS="windowBounds";Q.DOCUMENT_ARRANGEMENT=w.ARRANGEMENT;Q.STARTING="starting";Q.STARTED="started";Q.STOPPING="stopping";Q.STOPPED="stopped";Q.CHILD_ADDED=v.CHILD_ADDED;Q.CHILD_REMOVED=v.CHILD_REMOVED;W.UIContainer=Q;W.CHILD_ADDED=Q.CHILD_ADDED;W.CHILD_REMOVED=Q.CHILD_REMOVED;return Q})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){function t(){this._popupWrapper&&(f.destroy(this._popupWrapper),delete this._popupWrapper)}e=e(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,d=k.position(this._firstAroundNode,!0),b=d.x-a.x,a=d.y-a.y;if(b||a){this._firstAroundPosition=d;for(d=0;d<this._stack.length;d++){var c=this._stack[d].wrapper.style;c.top=parseFloat(c.top)+a+"px";"auto"==c.right?c.left=parseFloat(c.left)+
b+"px":c.right=parseFloat(c.right)-b+"px"}}this._aroundMoveListener=setTimeout(m.hitch(this,"_repositionAll"),b||a?10:50)}},_createWrapper:function(a){var d=a._popupWrapper,b=a.domNode;d||(d=f.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),d.appendChild(b),b=b.style,b.display="",b.visibility="",b.position="",b.top="0px",a._popupWrapper=d,c.after(a,"destroy",t,!0),"ontouchend"in document&&n(d,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}),d.dojoClick=!0);return d},moveOffScreen:function(a){var d=this._createWrapper(a);a=k.isBodyLtr(a.ownerDocument);var b={visibility:"hidden",top:"-9999px",display:""};b[a?"left":"right"]="-9999px";b[a?"right":"left"]="auto";h.set(d,b);return d},hide:function(a){var d=this._createWrapper(a);h.set(d,{display:"none",height:"auto",overflowY:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},
getTopPopup:function(){for(var a=this._stack,d=a.length-1;0<d&&a[d].parent===a[d-1].widget;d--);return a[d]},open:function(c){var f=this._stack,e=c.popup,g=e.domNode,r=c.orient||["below","below-alt","above","above-alt"],t=c.parent?c.parent.isLeftToRight():k.isBodyLtr(e.ownerDocument),D=c.around,A=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;if(!c.doNotClose)for(;f.length&&(!c.parent||!a.isDescendant(c.parent.domNode,f[f.length-1].widget.domNode));)this.close(f[f.length-1].widget);
var z=this.moveOffScreen(e);e.startup&&!e._started&&e.startup();var F,E=k.position(g);if("maxHeight"in c&&-1!=c.maxHeight)F=c.maxHeight||Infinity;else{F=p.getEffectiveBox(this.ownerDocument);var C=D?k.position(D,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};F=Math.floor(Math.max(C.y,F.h-(C.y+C.h)))}E.h>F&&(E=h.getComputedStyle(g),h.set(z,{overflowY:"scroll",height:F+"px",border:E.borderLeftWidth+" "+E.borderLeftStyle+" "+E.borderLeftColor}),g._originalStyle=g.style.cssText,g.style.border="none");
b.set(z,{id:A,style:{zIndex:this._beginZIndex+f.length},"class":"dijitPopup "+(e.baseClass||e["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==f.length&&D&&(this._firstAroundNode=D,this._firstAroundPosition=k.position(D,!0),this._aroundMoveListener=setTimeout(m.hitch(this,"_repositionAll"),50));d("config-bgIframe")&&!e.bgIframe&&(e.bgIframe=new s(z));A=e.orient?m.hitch(e,"orient"):null;r=D?q.around(z,D,r,t,A):q.at(z,c,"R"==r?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],
c.padding,A);z.style.visibility="visible";g.style.visibility="visible";g=[];g.push(n(z,"keydown",m.hitch(this,function(a){if(a.keyCode==l.ESCAPE&&c.onCancel)a.stopPropagation(),a.preventDefault(),c.onCancel();else if(a.keyCode==l.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));e.onCancel&&c.onCancel&&g.push(e.on("cancel",c.onCancel));g.push(e.on(e.onExecute?"execute":"change",m.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));
f.push({widget:e,wrapper:z,parent:c.parent,onExecute:c.onExecute,onCancel:c.onCancel,onClose:c.onClose,handlers:g});if(e.onOpen)e.onOpen(r);return r},close:function(a){for(var d=this._stack;a&&g.some(d,function(d){return d.widget==a})||!a&&d.length;){var b=d.pop(),c=b.widget,f=b.onClose;c.bgIframe&&(c.bgIframe.destroy(),delete c.bgIframe);if(c.onClose)c.onClose();for(var e;e=b.handlers.pop();)e.remove();c&&c.domNode&&this.hide(c);f&&f()}0==d.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return r.popup=new e})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(g,c,e,a,b,f,k){function h(a,d,h,k){var s=f.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&b.body(a.ownerDocument).appendChild(a);var p=null;g.some(d,function(d){var b=d.corner,f=d.pos,
e=0,m={w:{L:s.l+s.w-f.x,R:f.x-s.l,M:s.w}[b.charAt(1)],h:{T:s.t+s.h-f.y,B:f.y-s.t,M:s.h}[b.charAt(0)]},g=a.style;g.left=g.right="auto";h&&(e=h(a,d.aroundCorner,b,m,k),e="undefined"==typeof e?0:e);var r=a.style,t=r.display,z=r.visibility;"none"==r.display&&(r.visibility="hidden",r.display="");g=c.position(a);r.display=t;r.visibility=z;t={L:f.x,R:f.x-g.w,M:Math.max(s.l,Math.min(s.l+s.w,f.x+(g.w>>1))-g.w)}[b.charAt(1)];z={T:f.y,B:f.y-g.h,M:Math.max(s.t,Math.min(s.t+s.h,f.y+(g.h>>1))-g.h)}[b.charAt(0)];
f=Math.max(s.l,t);r=Math.max(s.t,z);t=Math.min(s.l+s.w,t+g.w);z=Math.min(s.t+s.h,z+g.h);t-=f;z-=r;e+=g.w-t+(g.h-z);if(null==p||e<p.overflow)p={corner:b,aroundCorner:d.aroundCorner,x:f,y:r,w:t,h:z,overflow:e,spaceAvailable:m};return!e});p.overflow&&h&&h(a,p.aroundCorner,p.corner,p.spaceAvailable,k);d=p.y;var r=p.x,t=b.body(a.ownerDocument);/relative|absolute/.test(e.get(t,"position"))&&(d-=e.get(t,"marginTop"),r-=e.get(t,"marginLeft"));t=a.style;t.top=d+"px";t.left=r+"px";t.right="auto";return p}var d=
{TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return k.place={at:function(a,b,c,f,e){c=g.map(c,function(a){var c={corner:a,aroundCorner:d[a],pos:{x:b.x,y:b.y}};f&&(c.pos.x+="L"==a.charAt(1)?f.x:-f.x,c.pos.y+="T"==a.charAt(0)?f.y:-f.y);return c});return h(a,c,e)},around:function(d,b,f,k,s){function p(a,d){z.push({aroundCorner:a,corner:d,pos:{x:{L:y,R:y+D,M:y+(D>>1)}[a.charAt(1)],y:{T:B,B:B+A,M:B+(A>>1)}[a.charAt(0)]}})}var r;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(r=c.position(b,!0),
/^(above|below)/.test(f[0])){var t=c.getBorderExtents(b),u=b.firstChild?c.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=c.getBorderExtents(d),v=d.firstChild?c.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0};r.y+=Math.min(t.t+u.t,x.t+v.t);r.h-=Math.min(t.t+u.t,x.t+v.t)+Math.min(t.b+u.b,x.b+v.b)}}else r=b;if(b.parentNode){t="absolute"==e.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=c.position(b,!0);x=e.getComputedStyle(b);/relative|absolute/.test(x.position)&&
(t=!1);if(!t&&/hidden|auto|scroll/.test(x.overflow)){var v=Math.min(r.y+r.h,u.y+u.h),w=Math.min(r.x+r.w,u.x+u.w);r.x=Math.max(r.x,u.x);r.y=Math.max(r.y,u.y);r.h=v-r.y;r.w=w-r.x}"absolute"==x.position&&(t=!0);b=b.parentNode}}var y=r.x,B=r.y,D="w"in r?r.w:r.w=r.width,A="h"in r?r.h:(a.deprecated("place.around: dijit/place.__Rectangle: { x:"+y+", y:"+B+", height:"+r.height+", width:"+D+" } has been deprecated.  Please use { x:"+y+", y:"+B+", h:"+r.height+", w:"+D+" }","","2.0"),r.h=r.height),z=[];g.forEach(f,
function(a){var d=k;switch(a){case "above-centered":p("TM","BM");break;case "below-centered":p("BM","TM");break;case "after-centered":d=!d;case "before-centered":p(d?"ML":"MR",d?"MR":"ML");break;case "after":d=!d;case "before":p(d?"TL":"TR",d?"TR":"TL");p(d?"BL":"BR",d?"BR":"BL");break;case "below-alt":d=!d;case "below":p(d?"BL":"BR",d?"TL":"TR");p(d?"BR":"BL",d?"TR":"TL");break;case "above-alt":d=!d;case "above":p(d?"TL":"TR",d?"BL":"BR");p(d?"TR":"TL",d?"BR":"BL");break;default:p(a.aroundCorner,
a.corner)}});d=h(d,z,s,{w:D,h:A});d.aroundNodePos=r;return d}}})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(g,c,e,a,b,f,k,h){h.add("config-bgIframe",h("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||h("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var d=new function(){var d=[];this.pop=function(){var c;d.length?(c=d.pop(),c.style.display=""):(9>h("ie")?(c="\x3ciframe src\x3d'"+
(e.dojoBlankHtmlUrl||g.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",c=document.createElement(c)):(c=a.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),b.set(c,"opacity",0.1)),c.tabIndex=-1);return c};this.push=function(a){a.style.display="none";d.push(a)}};c.BackgroundIframe=function(a){if(!a.id)throw Error("no id");
if(h("config-bgIframe")){var c=this.iframe=d.pop();a.appendChild(c);7>h("ie")||h("quirks")?(this.resize(a),this._conn=k(a,"resize",f.hitch(this,"resize",a))):b.set(c,{width:"100%",height:"100%"})}};f.extend(c.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}});
return c.BackgroundIframe})},"mw-actiondataservice/ActionDataService":function(){define(["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","mw-peermodel/_PropertyIndexerMixin","mw-utils/Utils"],function(g,c,e,a,b){return g([e,a],{constructor:function(a){a=a||{};this._mode=a.mode||"StandAlone";this._nameSpace=a.nameSpace||"/actions/"+b.generateUuid();this._setupPeerModel();this._callbacks={};this._actionChangeCallbacks={};this._propertyToIndex="id"},_setupPeerModel:function(){switch(this._mode){case "StandAlone":this._peerModelManager=
c.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsServer":this._peerModelManager=c.getServerInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsClient":this._peerModelManager=c.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);
break;default:throw Error("The mode provided is not valid! Please use one of the following: StandAlone, ActAsServer or ActAsClient");}},onPropertySet:function(a){this.onActionChange({id:a.target.getProperty("id"),key:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})},onChildAdd:function(a){a.data.child.getProperty("id")||a.data.child.setProperty("id",a.data.child.getId());this.onActionAdd({id:a.data.child.getProperty("id")})},loadActions:function(a){Array.isArray(a)&&a.forEach(function(a){this.addAction(a)},
this)},addAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be added while in ActAsClient Mode!");var b;a=a||{};if(a.id&&this._getPeerNodeIdForIndexedProperty(a.id))throw Error("Action id must be unique!");b=this._peerModelManager.getRoot().addChild("Action",a);a.id||b.setProperty("id",b.getId());a.callback&&this.addActionCallback(b.getProperty("id"),a.callback);return b.getId()},getAction:function(a){return(a=this._actionById(a))?a.getProperties():null},getAllActions:function(){return this._peerModelManager.getRoot().getChildren().map(function(a){return a.getProperties()})},
removeAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be removed while in ActAsClient Mode!");var b=this._getPeerNodeIdForIndexedProperty(a);if(b&&this._peerModelManager.hasById(b))this._peerModelManager.getById(b).destroy(),delete this._callbacks[a];else throw Error("This is not a valid action id!");},enableAction:function(a){this.updateAction(a,{enabled:!0})},disableAction:function(a){this.updateAction(a,{enabled:!1})},updateAction:function(a,b,c){var d=this._actionById(a);
d&&(b.callback&&this.addActionCallback(a,b.callback),d.setProperties(b,c))},actionHasProperty:function(a,b){return this._actionById(a).hasProperty(b)},executeAction:function(a,b){var c;b=b||{};c=this._actionById(a);!0===c.getProperty("enabled")&&c.dispatchEvent("peerEvent",c,b)},addActionCallback:function(a,b,c){var d=this._actionById(a),e;this.removeActionCallback(a);e=function(a){delete a.data.type;b.call(c||d.getProperties(),a.data)};this._callbacks[a]={callback:e,scope:c};d.addEventListener("peerEvent",
e,c)},removeActionCallback:function(a){var b=this._actionById(a),c;if(c=this._callbacks[a])b.removeEventListener("peerEvent",c.callback,c.scope),delete this._callbacks[a]},addActionChangeCallback:function(a,b,c){var d=this._actionById(a),e;this.removeActionChangeCallback(a);e=function(a){b.call(c,{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue},a.originator)};this._actionChangeCallbacks[a]={callback:e,scope:c};d.addEventListener("propertySet",e,c)},removeActionChangeCallback:function(a){var b=
this._actionById(a);this._actionChangeCallbacks[a]&&(b.removeEventListener("propertySet",this._actionChangeCallbacks[a].callback,this._actionChangeCallbacks[a].scope),delete this._actionChangeCallbacks[a])},onActionChange:function(a){},onActionAdd:function(a){},_actionById:function(a){var b;(a=this._getPeerNodeIdForIndexedProperty(a))&&this._peerModelManager.hasById(a)&&(b=this._peerModelManager.getById(a));return b},destroy:function(){c.cleanup(this._nameSpace)}})})},"mw-peermodel/PeerModelManager":function(){define(["dojo/_base/declare",
"./PropSetPeerSynchronizer","./PeerNode","./PeerSynchronizer","./Observable"],function(g,c,e,a,b){var f=g([b],{getNamespace:function(){},move:function(a,b,c,f){},setRoot:function(a,b,c){},getRoot:function(){},hasRoot:function(){},hasById:function(a){},getById:function(a){},setSyncEnabled:function(a,b){},isSyncEnabled:function(){},getByType:function(a,b){},getByProperty:function(a,b,c){}}),k=g([f,b.Syncable],{setRootWithId:function(a,b,c,f){}}),h=g([k,b.Impl],{constructor:function(){this._root=null;
this._sync=!1;this._idCache={}},setRootWithId:function(a,b,c,f){if(this.hasRoot())throw Error("Root node already exists.");a=new e.Impl(a,b,c,this._idCache);this._setRoot(a,f);return a},setRoot:function(a,b,c){if(this.hasRoot())throw Error("Root node already exists.");a=e.Impl.createNode(a,b,this._idCache);this._setRoot(a,c);return a},_setRoot:function(a,b){this._root=a;var c=this;this._root.destroy=function(a){c.dispatchEvent("rootDestroyed",this,void 0,a);e.Impl.prototype.destroy.call(this,a);c._root=
null;c.dispatchEvent("rootUnset",this,void 0,a)};this.dispatchEvent("rootSet",this._root,void 0,b);return this._root},getRoot:function(){return this._root},hasRoot:function(){return!!this._root},hasById:function(a){return this._idCache.hasOwnProperty(a)},getById:function(a){if(this._idCache.hasOwnProperty(a))return this._idCache[a];throw Error("No root node exists");},move:function(a,b,c,f){if(a.getRoot()!==b.getRoot())throw Error("Can not move a node to a different peer model");if(a===b||a.hasDescendant(a.getId()))throw Error("Can not move a node to be a child or descendant of itself");
var e,h;if(a.hasParent())e=a.getParent(),h=e.getChildIndex(a);else throw Error("Only un-orphaned nodes can be moved.");if(h!==c||e!==b)e._removeChild(a),c=b._addChild(a,c),this.dispatchEvent("childMoved",a,{oldParent:e,oldIndex:h,newParent:b,newIndex:c},f)},setSyncEnabled:function(a,b){this._sync!==a&&(this._sync=a,this.dispatchEvent("syncChanged",this,{syncEnabled:this._sync},b))},isSyncEnabled:function(){return this._sync},getByType:function(a,b){var c=[];b||(b=this.getRoot());b&&b.accept(function(b){b.getType()===
a&&c.push(b)});return c},getByProperty:function(a,b,c){var f=[];c||(c=this.getRoot());c&&c.accept(function(c){c.hasProperty(a)&&c.getProperty(a)===b&&f.push(c)});return f}});f._clientPropSet=!0;f.setClientPropSetEnabled=function(a){f._clientPropSet=a};f.clearInstances=function(){f._instances={};f._serverInstances={}};f.clearInstances();f.getInstance=f.getClientInstance=function(d,b){if(!this._instances[d]){var e=new h,k;k=f._clientPropSet?new c(d,e,b):new a(d,e,b);this._instances[d]={manager:e,synchronizer:k}}return this._instances[d].manager};
f.getServerInstance=function(d,b){if(!this._serverInstances[d]){var e=new h,k;k=f._clientPropSet?new c(d,e,b,!1):new a(d,e,b,!1);this._serverInstances[d]={manager:e,synchronizer:k}}return this._serverInstances[d].manager};f.cleanup=function(a){f._instances[a]&&(f._instances[a].manager.setSyncEnabled(!1),f._instances[a].manager.hasRoot()&&f._instances[a].manager.getRoot().destroy(),delete f._instances[a])};f.Impl=h;return f})},"mw-peermodel/PropSetPeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./PeerSynchronizer".split(" "),
function(g,c,e,a,b,f){return g([f],{propertiesSetObserver:function(b){if(b.originator!==this._originator&&(Object.keys(b.data.newValues).forEach(function(a){this.updateVersionVector(a,b.target)},this),this.shouldSync()&&this.isReady())){var f=this.createNewMessage();f.targetId=b.target.getId();var d=b.data.newValues,e=b.data.oldValues;Object.keys(d).forEach(function(c){if(a.isImageData(d[c])){var g=e[c];delete b.data.newValues[c];if(!this.isClient&&a.isImageData(g)){var q=this.createNewMessage();
q.targetId=b.target.getId();q.key=c;q.newValue=this.imageDifferencer.computeImageDataDifferences(g,d[c]);this.publish(this.getChannel("imageUpdate"),f)}}else(null===d[c]||void 0===d[c])&&delete b.data.newValues[c]},this);0<Object.keys(d).length&&(f.properties=b.data.newValues,f.versionVector=c.clone(b.target._versionVector),this.publish(this.getChannel(b.type),f))}},propertiesSetSubscriber:function(a){this.log("propertiesSetSubscriber",a);var b=a.data,d=b.targetId;if(this.manager.hasById(d))try{var c=
this.manager.getById(d),f;for(f in b.properties)b.properties.hasOwnProperty(f)&&(b.properties[f]instanceof Image?(this.imageDifferencer.updatePropertyWithImage(c,f,b.properties[f]),delete b.properties[f]):this.shouldUpdateProperties(f,c,a.data.versionVector)||delete b.properties[f],a.data.versionVector&&this.mergeVersionVectors(f,c,a.data.versionVector));c.setProperties(b.properties,this._originator);this._updateNodePagedData(c)}catch(e){this._error("Error while trying set properties.",a,e)}},shouldUpdateProperties:function(a,
b,d){return this.isClient?!(b._versionVector&&b._versionVector[a]&&(!d||!d[a])):!d||!d[a]||!b._versionVector||!b._versionVector[a]||b._versionVector[a][this.clientId]<=d[a][this.clientId]},updateVersionVector:function(a,b){this.isClient&&(!b._versionVector||!b._versionVector[a])?(b._versionVector=b._versionVector||{},b._versionVector[a]={},Object.keys(this.syncEnabled).forEach(function(d){b._versionVector[a][d]=1})):b._versionVector&&b._versionVector[a]&&(b._versionVector[a][this.clientId]+=1)},mergeVersionVectors:function(a,
b,d){if(d&&d[a]){if(!b._versionVector||!b._versionVector[a])b._versionVector=b._versionVector||{},b._versionVector[a]={};Object.keys(d[a]).forEach(function(c){b._versionVector[a][c]=Math.max(d[a][c],b._versionVector[a][c]||1)})}},convertNode:function(a){var b=this.inherited(arguments);b.versionVectors=a._versionVector;return b},updateNodeRecursive:function(a,b){b.versionVectors&&Object.keys(b.versionVectors).forEach(function(d){this.mergeVersionVectors(d,a,b.versionVectors)},this);this.inherited(arguments)}})})},
"mw-peermodel/PeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./ImageDifferencer ./PagedData ./Serializers".split(" "),function(g,c,e,a,b,f,k,h,d){var l;l=g(null,{_MAX_RETRIES:3,constructor:function(h,g,l,s,p){this.namespace=h;this.manager=g;this.messageService=l||f.messageService;d.setupSerializers(this.messageService);this._originator={};this.messageCount=0;this.syncEnabled={};this.isClient=void 0===s?
!0:!!s;this.clientId="string"===typeof p?p:b.generateUuid();this.imageDifferencer=new k(this._originator);this._queue=[];e.after(this.messageService,"onConnected",c.hitch(this,this._handleConnected));e.after(this.messageService,"onNotConnected",c.hitch(this,this._handleNotConnected));this.messageService.isConnected()?this._handleConnected():this._handleNotConnected();try{this.addManagerListeners(),this.addMessageSubscriptions()}catch(r){a.error("Not able to create peer synchronizer: "+r)}},remove:function(){this._handleNotConnected();
this.removeMessageSubscriptions();this.removeManagerListeners()},_handleNotConnected:function(){this.log("Not connected");this._handshook=this._connected=!1},_handleConnected:function(){this.log("Connected");this._connected=!0;this._startHandshake()},_startHandshake:function(){this.log("Starting handshake");var a=this.createNewMessage();a.clientId=this.clientId;a.syncEnabled=this.manager.isSyncEnabled();this.publish(this.getChannel("getStatus"),a)},_handshakeComplete:function(){this.log("Handshake complete");
this._handshook=!0;this._processQueue()},_processQueue:function(){var a=this._queue;this._queue=[];this.log("Processing queue",a);a.forEach(function(a){this.publish(a.channel,a.message)},this)},shouldSync:function(a){return this.manager.isSyncEnabled()&&(!a||a.originator!==this._originator)},isReady:function(){return this._connected&&this._handshook},syncChangedObserver:function(){this.syncEnabled[this.clientId]=this.manager.isSyncEnabled();this.manager.isSyncEnabled()?(this.addSyncMessageSubscriptions(),
this.addSyncManagerListeners(),this._connected&&this._startHandshake()):(this.removeSyncMessageSubscriptions(),this.removeSyncManagerListeners(),this._handshook=!1)},getStatusSubscriber:function(a){this.log("getStatusSubscriber",a);var d=this.createNewMessage();d.syncEnabled=this.manager.isSyncEnabled();d.clientId=this.clientId;this.publish(this.getChannel("status"),d);this.statusSubscriber(a)},statusSubscriber:function(a){this.log("Status received",a);this.syncEnabled[a.data.clientId]=a.data.syncEnabled;
this.isClient&&this.manager.isSyncEnabled()&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},getFullUpdateSubscriber:function(){this.log("getFullUpdate requested");if(this.manager.isSyncEnabled()){var a=this.createNewMessage();this.manager.hasRoot()&&(a.root=this.convertNodesRecursive(this.manager.getRoot(),0));this.publish(this.getChannel("fullUpdate"),a);this._handshakeComplete()}},fullUpdateSubscriber:function(a){this.log("fullUpdate received",a);if(this.shouldSync())try{var d=
a.data.root;d?(this.manager.hasRoot()&&(d.id!==this.manager.getRoot().getId()||d.type!==this.manager.getRoot().getType())&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete(),this.manager.hasRoot()||this.manager.setRootWithId(d.id,d.type,d.properties,this._originator),this.updateNodeRecursive(this.manager.getRoot(),d)):(this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete())}catch(b){this._error("Error while trying to do a full update.",
a,b)}},rootSetObserver:function(a){this.addNodeListeners(a.target);if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.target=this.convertNode(a.target);this.publish(this.getChannel(a.type),d)}},rootSetSubscriber:function(a){this.log("rootSetSubscriber",a);if(this.shouldSync())try{var d=a.data.target;this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator);var b=this.manager.setRootWithId(d.id,d.type,d.properties,this._originator);this.updateNodeRecursive(b,d)}catch(c){this._error("Error setting new root.",
a,c)}},rootDestroyedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.targetId=a.target.getId();this.publish(this.getChannel(a.type),d)}},rootDestroyedSubscriber:function(a){this.log("rootDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.hasRoot()&&this.manager.getRoot().getId()===a.data.targetId?this.manager.getRoot().destroy(this._originator):this._error("Tried to unset the wrong root.",a)}catch(d){this._error("Error destroying root.",a,d)}},
childMovedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.targetId=a.target.getId();d.oldParentId=a.data.oldParent.getId();d.oldIndex=a.data.oldIndex;d.newParentId=a.data.newParent.getId();d.newIndex=a.data.newIndex;this.publish(this.getChannel(a.type),d)}},childMovedSubscriber:function(a){this.log("childMovedSubscriber",a);if(this.shouldSync())try{var d=a.data,b=this.manager.getById(d.targetId),c=this.manager.getById(d.newParentId);this.manager.move(b,
c,d.newIndex,this._originator)}catch(f){this._error("Error while trying to move.",a,f)}},childAddedObserver:function(a){var d=a.data.child;this.addNodeListeners(d);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.parentId=a.target.getId();b.child=this.convertNode(d);b.index=a.data.index;this.publish(this.getChannel("subTreeAdded"),b)}},subTreeAddedSubscriber:function(a){this.log("subTreeAddedSubscriber",a);if(this.shouldSync())try{var d=a.data.child,b=this.manager.getById(a.data.parentId).addChildWithId(d.id,
d.type,d.properties,a.data.index,this._originator);this.updateNodeRecursive(b,d)}catch(c){this._error("Error while trying to add a subtree of nodes.",a,c)}},childDetachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.childId=a.data.child.getId();this.publish(this.getChannel(a.type),d)}},childDetachedSubscriber:function(a){this.log("childDetachedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).detach(this._originator)}catch(d){this._error("Error while trying to detach.",
a,d)}},childReattachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.childId=a.data.child.getId();d.index=a.data.index;this.publish(this.getChannel(a.type),d)}},childReattachedSubscriber:function(a){this.log("childReattachedSubscriber",a);if(this.shouldSync())try{var d=a.data;this.manager.getById(d.childId).reattach(d.index,this._originator)}catch(b){this._error("Error while trying to reattach.",a,b)}},subTreeDestroyedObserver:function(a){var d=a.data.child;
this.removeNodeListenersRecursive(d);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=d.getId();this.publish(this.getChannel(a.type),b)}},subTreeDestroyedSubscriber:function(a){this.log("subTreeDestroyedSubscriber",a);if(this.shouldSync())try{this.manager.getById(a.data.childId).destroy(this._originator)}catch(d){this._error("Error while trying to destroy subtree.",a,d)}},propertiesSetObserver:function(a){if(this.shouldSync(a)&&this.isReady()&&!this.isClient){var d=[],
c=this.createNewMessage(),f;c.targetId=a.target.getId();var e=a.data.newValues,h=a.data.oldValues;for(f in e)if(e.hasOwnProperty(f)&&b.isImageData(e[f])){var k=h[f];if(k&&b.isImageData(k)){d.push(f);var g=this.createNewMessage();g.targetId=a.target.getId();g.key=f;g.newValue=this.imageDifferencer.computeImageDataDifferences(k,e[f]);this.publish(this.getChannel("imageUpdate"),c)}}d.forEach(function(d){delete a.data.newValues[d]});c.properties=a.data.newValues;this.publish(this.getChannel(a.type),c)}},
propertiesSetSubscriber:function(a){this.log("propertiesSetSubscriber",a);if(this.shouldSync()||this.isClient)try{var d=a.data,b=this.manager.getById(d.targetId),c;for(c in d.properties)d.properties.hasOwnProperty(c)&&(d.properties[c]instanceof Image?this.imageDifferencer.updatePropertyWithImage(b,c,d.properties[c]):(b.setProperty(c,d.properties[c],this._originator),this._updateNodePagedData(b)))}catch(f){this._error("Error while trying to update properties.",a,f)}},imageUpdateSubscriber:function(a){this.log("imageUpdateSubscriber",
a);if(this.shouldSync())try{var d=a.data,b=this.manager.getById(d.targetId);this.imageDifferencer.applyImageDifferences(b,d.key,d.newValue)}catch(c){this._error("Error while trying to update images.",a,c)}},propertiesUnsetObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var d,b=this.createNewMessage();b.targetId=a.target.getId();b.keys=[];for(d in a.data.oldValues)a.data.oldValues.hasOwnProperty(d)&&b.keys.push(d);this.publish(this.getChannel(a.type),b)}},propertiesUnsetSubscriber:function(a){this.log("propertiesUnsetSubscriber",
a);if(this.shouldSync())try{var d=a.data;this.manager.getById(d.targetId).unsetProperties(d.keys,this._originator)}catch(b){this._error("Error while trying to unset properties.",a,b)}},peerEventObserver:function(a){var d=this.createNewMessage();d.targetId=a.target.getId();d.data=a.data;var b=this.getChannel(a.type);this.shouldSync(a)&&(this.isReady()?this.publish(b,d):this._queue.push({channel:b,message:d}))},peerEventSubscriber:function(a){this.log("peerEventSubscriber",a);if(this.shouldSync())try{var d=
a.data,b=this.manager.getById(d.targetId);b.dispatchEvent("peerEvent",b,d.data,this._originator)}catch(c){this._error("Error while trying dispatch a peer event.",a,c)}},publish:function(d,b,c){this.log("Publishing message",d,b);var f=this.messageService.publish(d,b),e=this;c=void 0===c?this._MAX_RETRIES:c;f.then(void 0,function(){0<c?(a.warn("Error sending message (will retry "+c+"): ",d,b),e.publish(d,b,c-1)):e._error("Error sending message, retry didn't work.",d,b)})},getChannel:function(a){return"/peermodel"+
this.namespace+"/"+a},createNewMessage:function(){this.messageCount+=1;return{message:this.messageCount}},log:function(){if(this.namespace===l.debugNamespace){var d=Array.prototype.slice.call(arguments),d=["PeerSynchronizer ("+this.namespace+")"].concat(d);a.info.apply(a,d)}},convertNodesRecursive:function(a,d){var b=this.convertNode(a,d),c=[],f=a.getChildren(),e;for(e=0;e<f.length;e+=1)c.push(this.convertNodesRecursive(f[e],e));b.children=c;return b},convertNode:function(a,d){d=d||0;return{id:a.getId(),
type:a.getType(),index:d,properties:a.getProperties()}},updateNodeRecursive:function(a,d){for(var b,c,f,e,h,k=a?[a]:[],g=d?[d]:[];0<g.length;){a=k.pop();d=g.pop();b=this._getFilteredPropertyKeys(d.properties);if(!a._handled){a._handled=!0;c=a.getProperties();f=Object.keys(c);h=f.length;for(e=0;e<h;e+=1)b.filtered[f[e]]=c[f[e]]}a.replaceProperties(b.filtered,this._originator);this._updateNodePagedData(a,c);this._updateNodeImageProperties(a,d.properties,b.images);this._destroyOldChildren(a,d);this._addNewChildren(a,
d);this._updateChildIndices(a,d);k=k.concat(a.getChildren());d.children&&(g=g.concat(d.children))}},_destroyOldChildren:function(a,d){var b,c=a.getChildren();for(b=0;b<c.length;b+=1)this._dataHasChild(d,c[b])||c[b].destroy(this._originator)},_addNewChildren:function(a,d){var b,c,f;if(d.children)for(b=0;b<d.children.length;b+=1)c=d.children[b],a.hasChild(c.id)||(f=this._getFilteredPropertyKeys(c.properties),a.addChildWithId(c.id,c.type,f.filtered,b,this._originator))},_updateChildIndices:function(a,
d){var b,c;if(d.children)for(b=0;b<d.children.length;b+=1)c=d.children[b],c=a.getChild(c.id),a.getChildIndex(c)!==b&&this.manager.move(c,a,b,this._originator)},_dataHasChild:function(a,d){var b;if(a.children)for(b=0;b<a.children.length;b+=1)if(a.children[b].id===d.getId()&&a.children[b].type===d.getType())return!0;return!1},_error:function(d,b,c){a.error(d,b,c);this.manager.isSyncEnabled()&&this.isClient&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},_getFilteredPropertyKeys:function(a){var d=
{},b=[],c;for(c in a)a.hasOwnProperty(c)&&(null!==a[c]&&void 0!==a[c])&&(a[c]instanceof Image?b.push(c):d[c]=a[c]);return{filtered:d,images:b}},_updateNodePagedData:function(a,d){var b;d||(d=a.getProperties());for(b in d)d.hasOwnProperty(b)&&d[b]instanceof h&&d[b].setPeerNode(a,b)},_updateNodeImageProperties:function(a,d,b){var c;for(c=0;c<b.length;c+=1)this.imageDifferencer.updatePropertyWithImage(a,b[c],d[b[c]])},addMessageSubscriptions:function(){this._messageSubscribed||(this._onConnectedSub=
e.after(this.messageService,"onReconnected",c.hitch(this,"syncChangedObserver")),this.messageService.subscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!0);this.manager.isSyncEnabled()&&this.addSyncMessageSubscriptions()},removeMessageSubscriptions:function(){this._messageSubscribed&&(this._onConnectedSub.remove(),this.messageService.unsubscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!1);this.removeSyncMessageSubscriptions()},
syncMessageChannels:"status getFullUpdate fullUpdate rootSet rootDestroyed childMoved childDetached childReattached subTreeAdded subTreeDestroyed propertiesSet propertiesUnset imageUpdate peerEvent".split(" "),addSyncMessageSubscriptions:function(){this._syncMessageSubscribed||(this.log("addSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.subscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!0)},removeSyncMessageSubscriptions:function(){this._syncMessageSubscribed&&
(this.log("removeSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.unsubscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!1)},addManagerListeners:function(){this._managerListeners||(this.manager.addSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!0);this.manager.isSyncEnabled()&&this.addSyncManagerListeners()},removeManagerListeners:function(){this._managerListeners&&(this.manager.removeSyncEventListener("syncChanged",
"syncChangedObserver",this),this._managerListeners=!1);this.removeSyncManagerListeners()},addSyncManagerListeners:function(){this._syncManagerListeners||(this.manager.addSyncEventListener("rootSet","rootSetObserver",this),this.manager.addSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.addSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.addNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!0)},removeSyncManagerListeners:function(){this._syncManagerListeners&&
(this.manager.removeSyncEventListener("rootSet","rootSetObserver",this),this.manager.removeSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.removeSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.removeNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!1)},nodeEvents:"childAdded subTreeDestroyed childDetached childReattached propertiesSet propertiesUnset peerEvent partialUpdate".split(" "),addNodeListeners:function(a){this.nodeEvents.forEach(function(d){a.addSyncEventListener(d,
d+"Observer",this)},this)},removeNodeListeners:function(a){this.nodeEvents.forEach(function(d){a.removeSyncEventListener(d,d+"Observer",this)},this)},addNodeListenersRecursive:function(a){this.addNodeListeners(a);var d=a.getChildren();for(a=0;a<d.length;a+=1)this.addNodeListenersRecursive(d[a])},removeNodeListenersRecursive:function(a){this.removeNodeListeners(a);var d=a.getChildren();for(a=0;a<d.length;a+=1)this.removeNodeListenersRecursive(d[a])}});l.debugNamespace="/change this to debug something";
return l})},"mw-peermodel/ImageDifferencer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mw-utils/Deferred mw-utils/DeferredList mw-log/Log".split(" "),function(g,c,e,a,b,f){return g([],{_updateQueue:{},constructor:function(a){this._canvas=e.create("canvas");this._context=this._canvas.getContext("2d");this._originator=a},computeImageDataDifferences:function(a,b){return[{x:0,y:0,image:b}]},applyImageDifferences:function(a,c,d){var e,g=d.length,n=this;if(0!==g){var q=this._createQueuedDeferred(a,
c);q.name="applyImageDifferences deferred";var s=[];for(e=0;e<g;e+=1)s.push(this._wrapImageInDeferred(d[e].image));e=new b(s,!1,!0,!1);var p=n._updateQueue[a.getId()+c][n._updateQueue[a.getId()+c].length-2];e.then(function(){p?p.then(function(){n._applyLoadedImageDifferences(a,c,d,q)}):n._applyLoadedImageDifferences(a,c,d,q)},function(){f.log("rejecting deferred applyImageDifferences");q.reject();n._cancelQueuedDeferreds(a,c)});return q}},updatePropertyWithImage:function(a,b,d){var c=this._wrapImageInDeferred(d),
f=this._createQueuedDeferred(a,b);f.name="updateImage deferred";var e=this;c.then(function(){e._canvas.width=d.width;e._canvas.height=d.height;e._context.drawImage(d,0,0,d.width,d.height);var c=e._context.getImageData(0,0,e._canvas.width,e._canvas.height);a.setProperty(b,c,e._originator);e._cancelQueuedDeferreds(a,b,f);f.isCanceled()||f.resolve()},function(){f.isCanceled()||f.reject()});return f},_applyLoadedImageDifferences:function(a,b,d,c){var f=a.getProperty(b);this._canvas.width=f.width;this._canvas.height=
f.height;this._context.putImageData(f,0,0);for(f=0;f<d.length;f+=1)this._context.beginPath(),this._context.clearRect(d[f].x,d[f].y,d[f].image.width,d[f].image.height),this._context.closePath(),this._context.drawImage(d[f].image,d[f].x,d[f].y);d=this._context.getImageData(0,0,this._canvas.width,this._canvas.height);a.setProperty(b,d,this._originator);c.resolve()},_wrapImageInDeferred:function(b){var c=new a;c.name="wrapImage deferred";var d=function(){setTimeout(function(){b.onload&&(c.resolve(),b.onload=
null,b.onerror=null)},0)};b.onload=d;b.onerror=function(){f.log("Error loading image");c.reject();b.onload=null;b.onerror=null};b.complete&&0<b.src.length&&d();return c},_createQueuedDeferred:function(b,f){var d;d=new a;var e=c.hitch(this,this._removeDeferredFromQueue,b,f,d);d.then(e,e);this._updateQueue[b.getId()+f]=this._updateQueue[b.getId()+f]||[];this._updateQueue[b.getId()+f].push(d);return d},_removeDeferredFromQueue:function(a,b,d){void 0===this._updateQueue[a.getId()+b]?delete this._updateQueue[a.getId()+
b]:(d=this._updateQueue[a.getId()+b].indexOf(d),0<=d&&this._updateQueue[a.getId()+b].splice(d,1),0===this._updateQueue[a.getId()+b].length&&(this._updateQueue[a.getId()+b]=void 0,delete this._updateQueue[a.getId()+b]))},_cancelQueuedDeferreds:function(a,b,d){for(var c=this._updateQueue[a.getId()+b];c&&0<c.length;){var f=c.shift();if(d&&f===d)return;f.cancel("Queued deferreds cancelled")}this._updateQueue[a.getId()+b]=void 0;delete this._updateQueue[a.getId()+b]}})})},"mw-utils/Deferred":function(){define([],
function(){var g=function(){this._state=0;this._callbacks=[];this._errbacks=[]};g.prototype.then=function(c,e){1===this._state&&c?c():2===this._state&&e?e():(c&&this._callbacks.push(c),e&&this._errbacks.push(e));return this};g.prototype.resolve=function(){if(0===this._state){for(this._state=1;this._callbacks.length;)this._callbacks.pop()();this._callbacks=[];this._errbacks=[]}};g.prototype.reject=function(){if(0===this._state){for(this._state=2;this._errbacks.length;)this._errbacks.pop()();this._callbacks=
[];this._errbacks=[]}};g.prototype.cancel=function(){0===this._state&&(this._state=3,this._callbacks=[],this._errbacks=[])};g.prototype.isCanceled=function(){return 3===this._state};return g})},"mw-utils/DeferredList":function(){define(["./Deferred"],function(g){var c=function(c){g.apply(this);this._successes=0;this._total=c.length;var a;for(a=0;a<this._total;a+=1)c[a].then(this._callback.bind(this),this.reject.bind(this))};c.prototype=new g;c.prototype.constructor=c;c.prototype._callback=function(){this._successes+=
1;this._successes===this._total&&this.resolve()};return c})},"mw-peermodel/PagedData":function(){define(["dojo/_base/declare"],function(g){return g([],{constructor:function(c){c=c||{};this._peerNode=c.peerNode;this._propertyKey=c.propertyKey;this._partialData=c.partialData||[];this._rowCount=c.rowCount||0;this._columnCount=c.columnCount||0;this._currentStartRow=c.currentStartRow||0;this._currentEndRow=c.currentEndRow||0;this._currentStartCol=c.currentStartCol||0;this._currentEndCol=c.currentEndCol||
0;this._queuedOperations=[]},setPeerNode:function(c,e){this._peerNode=c;this._propertyKey=e;var a;for(a=0;a<this._queuedOperations.length;a+=1)this._queuedOperations[a].apply(this);this._queuedOperations=[]},getPartialData:function(){return this._partialData},getRowCount:function(){return this._rowCount},getColumnCount:function(){return this._columnCount},getCurrentStartRow:function(){return 0<=this._currentStartRow?this._currentStartRow:0},getCurrentEndRow:function(){return this.getCurrentStartRow()+
this._partialData.length},getCurrentStartCol:function(){return 0<=this._currentStartCol?this._currentStartCol:0},getCurrentEndCol:function(){return 0<this._partialData.length?Array.isArray(this._partialData[0])?this.getCurrentStartCol()+this._partialData[0].length:1:0<=this._currentEndCol?this._currentEndCol:0},changeData:function(c,e,a){if(this._peerNode){var b,f;for(b=0;b<a.length;b+=1){var g=this._partialData[c-this._currentStartRow+b],h=a[b];for(f=0;f<h.length;f+=1)g[e-this._currentStartCol+f]=
h[f]}var d=this;setTimeout(function(){d._peerNode.dispatchEvent("peerEvent",d._peerNode,{type:"changeData",key:d._propertyKey,startRow:c,startCol:e,newData:a})},0)}else this._queuedOperations.push(function(){this.changeData(c,e,a)})},updatePartialData:function(c,e,a,b){if(!(c===this._currentStartRow&&a===this._currentStartCol&&e===this._currentEndRow&&b===this._currentEndCol))if(this._peerNode){if("undefined"===typeof a||"undefined"===typeof b)b=a=-1;this._peerNode.dispatchEvent("peerEvent",this._peerNode,
{type:"partialUpdate",key:this._propertyKey,startRow:c,startCol:a,endRow:e,endCol:b})}else this._queuedOperations.push(function(){this.updatePartialData(c,e,a,b)})}})})},"mw-peermodel/Serializers":function(){define(["mw-utils/Utils","./PagedData"],function(g,c){var e={imageSerializer:function(a){this._serializerCanvas||(this._serializerCanvas=document.createElement("canvas"),this._serializerContext=this._serializerCanvas.getContext("2d"));if(this._serializerCanvas.width!==a.width||this._serializerCanvas.height!==
a.height)this._serializerCanvas.width=a.width,this._serializerCanvas.height=a.height;this._serializerContext.putImageData(a,0,0);return this._serializerCanvas.toDataURL()},imageDeserializer:function(a){var b=new Image;b.src=a;return b},pagedDataSerializer:function(a){return{rowCount:a.getRowCount(),columnCount:a.getColumnCount(),currentStartRow:a.getCurrentStartRow(),currentEndRow:a.getCurrentEndRow(),currentStartCol:a.getCurrentStartCol(),currentEndCol:a.getCurrentEndCol(),partialData:a.getPartialData()}},
pagedDataDeserializer:function(a){a=e.messageService.deserialize(a);return new c(a)},setupSerializers:function(a){e.messageService=a;a._peerModelSerializersSetup||(a.registerTypeSerializer(g.isImageData,"image",e.imageSerializer),a.registerTypeDeserializer("image",e.imageDeserializer),a.registerTypeSerializer(function(a){return a instanceof c},"pagedData",e.pagedDataSerializer),a.registerTypeDeserializer("pagedData",e.pagedDataDeserializer));a._peerModelSerializersSetup=!0}};return e})},"mw-peermodel/PeerNode":function(){define("dojo/_base/declare dojo/_base/lang ./Observable ./PeerEventObservable mw-utils/Utils mw-log/Log".split(" "),
function(g,c,e,a,b,f){var k=g([a],{getId:function(){},getType:function(){},setProperty:function(a,b,c){},getProperty:function(a){},hasProperty:function(a){},unsetProperty:function(a,b){},setProperties:function(a,b){},unsetProperties:function(a,b){},replaceProperties:function(a,b){},getProperties:function(){},addChild:function(a,b,c,f){},hasChild:function(a){},getChild:function(a){},getChildIndex:function(a){},getChildren:function(){},hasDescendant:function(a){},getDescendant:function(a){},getNumberOfChildren:function(){},
hasDetachedChildren:function(){},getDetachedChildren:function(){},detach:function(a){},reattach:function(a,b){},isDetached:function(){},isAncestorDetached:function(){},destroy:function(a){},remove:function(){},hasParent:function(){},getParent:function(){},getRoot:function(){},accept:function(a){}}),h;h=g([k,a.Impl,e.Syncable],{constructor:function(a,b,f,e){if(!c.isString(a)||!c.isString(b))throw Error("Node type and ID must be strings");this._type=b;this._id=a;this._idCache=e||{};this._idCache[a]=
this;this._properties={};f&&this._setProperties(f,void 0,!0);this._children=[];this._detached=[]},getId:function(){return this._id},getType:function(){return this._type},setProperty:function(a,b,c){if(null===b||void 0===b)throw Error("Illegal argument. Value must not be null or undefined.");var f=this._setPropertyAndDispatchPropertySetEvent(a,b,c);this._dispatchSinglePropertiesSetEvent(a,f,b,c)},_setPropertyAndDispatchPropertySetEvent:function(a,b,c,f){var e=this._properties[a];e!==b&&(this._properties[a]=
b,f||this.dispatchEvent("propertySet",this,{key:a,oldValue:e,newValue:b},c));return e},_dispatchSinglePropertiesSetEvent:function(a,b,c,f){if(b!==c){var e={oldValues:{},newValues:{}};e.oldValues[a]=b;e.newValues[a]=c;this.dispatchEvent("propertiesSet",this,e,f)}},unsetProperty:function(a,b){var c=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b);this._dispatchSinglePropertiesUnsetEvent(a,c,b)},unsetProperties:function(a,b){var c={oldValues:{}};a.forEach(function(a){c.oldValues[a]=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,
b)},this);this.dispatchEvent("propertiesUnset",this,c,b)},_unsetPropertyAndDispatchPropertyUnsetEvent:function(a,b){var c;this.hasProperty(a)&&(c=this._properties[a],delete this._properties[a],this.dispatchEvent("propertyUnset",this,{key:a,oldValue:c},b));return c},_dispatchSinglePropertiesUnsetEvent:function(a,b,c){var f={oldValues:{}};f.oldValues[a]=b;this.dispatchEvent("propertiesUnset",this,f,c)},hasProperty:function(a){return this._properties.hasOwnProperty(a)},getProperty:function(a){return this._properties[a]},
setProperties:function(a,b){this._setProperties(a,b,!1)},_setProperties:function(a,b,c){var e,h,g;for(e in a)a.hasOwnProperty(e)&&(h=a[e],(null===h||void 0===h)&&f.warn("Illegal argument. Property value must not be null or undefined. This will become an exception in the future."));var k=!1,r={oldValues:{},newValues:{}};for(e in a)a.hasOwnProperty(e)&&(h=a[e],g=this._setPropertyAndDispatchPropertySetEvent(e,h,b,c),g!==h&&(k=!0,r.oldValues[e]=g,r.newValues[e]=h));k&&!c&&this.dispatchEvent("propertiesSet",
this,r,b)},replaceProperties:function(a,b){var c;this.setProperties(a,b);for(c in this._properties)this._properties.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&this.unsetProperty(c,b)},getProperties:function(){var a,b={};for(a in this._properties)this._properties.hasOwnProperty(a)&&this.hasProperty(a)&&(b[a]=this.getProperty(a));return b},addChild:function(a,b,c,f){"number"===typeof b&&(c=b,b=null);a=h.createNode(a,b,this._idCache);c=this._addChild(a,c);this.dispatchEvent("childAdded",this,{child:a,
index:c},f);return a},addChildWithId:function(a,b,c,f,e){a=new h(a,b,c,this._idCache);f=this._addChild(a,f);this.dispatchEvent("childAdded",this,{child:a,index:f||0},e);return a},hasChild:function(a){if(c.isString(a)){var b,f,e=this._children.length;for(b=0;b<e;b+=1)if(f=this._children[b],f.getId()===a)return!0;return!1}a=this.getChildIndex(a);return 0<=a&&this._children[a]},getChild:function(a){if(c.isString(a)){var b,f,e=this._children.length;for(b=0;b<e;b+=1)if(f=this._children[b],f.getId()===
a)return f;throw Error("No child found with id: "+a);}return this._children[a]},getChildIndex:function(a){var b,c=this._children.length;for(b=0;b<c;b+=1)if(this._children[b].getId()===a.getId())return b;return-1},getChildren:function(){return this._children.map(function(a){return a})},hasDescendant:function(a){var b,c,f=this._children.length;for(b=0;b<f;b+=1)if(c=this._children[b],c.getId()===a||c.hasDescendant(a))return!0;f=this._detached.length;for(b=0;b<f;b+=1)if(c=this._detached[b],c.getId()===
a||c.hasDescendant(a))return!0;return!1},getDescendant:function(a){var b,c,f=this._children.length;for(b=0;b<f;b+=1){c=this._children[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}f=this._detached.length;for(b=0;b<f;b+=1){c=this._detached[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}throw Error("No descendant found with id: "+a);},getNumberOfChildren:function(){return this._children.length},hasDetachedChildren:function(){return 0<this._detached.length},
getDetachedChildren:function(){return this._detached.map(function(a){return a})},detach:function(a){if(!this.isDetached()){var b={child:this,index:this.getParent().getChildIndex(this)},c=this.getParent();this.getParent()._detachChild(this);c.dispatchEvent("childRemoved",c,b,a);c.dispatchEvent("childDetached",c,b,a)}},_detachChild:function(a){this._removeChild(a);this._detached.push(a)},reattach:function(a,b){this.isDetached()&&(a=0<=a?a:this.getParent().getNumberOfChildren(),a=this.getParent()._reattachChild(this,
a),this.getParent().dispatchEvent("childReattached",this.getParent(),{child:this,index:a},b))},_reattachChild:function(a,b){var c=this._detached.indexOf(a);this._detached.splice(c,1);return this._addChild(a,b)},isDetached:function(){return this.hasParent()&&0<=this.getParent().getDetachedChildren().indexOf(this)},isAncestorDetached:function(){return this.hasParent()&&(this.getParent().isDetached()||this.getParent().isAncestorDetached())},destroy:function(a){this.hasParent()&&this.getParent().dispatchEvent("subTreeDestroyed",
this.getParent(),{child:this},a);this._destroyNodesRecursive(a)},remove:function(){this.destroy()},_destroyNodesRecursive:function(a){try{this.getChildren().forEach(function(b){b._destroyNodesRecursive(a)});var b,c;this.hasParent()&&(c=this.getParent(),b=c.getChildIndex(this),c._removeChild(this),this._setParent(null),c.dispatchEvent("childRemoved",c,{child:this,index:b},a),c.dispatchEvent("childDestroyed",c,{child:this,index:b},a));this.dispatchEvent("destroyed",this,void 0,a)}finally{delete this._idCache[this._id]}},
hasParent:function(){return!!this._parent},getParent:function(){return this._parent},getRoot:function(){return this.hasParent()?this.getParent().getRoot():this},accept:function(a){a(this);this._children.forEach(function(b){b.accept(a)});this._detached.forEach(function(b){b.accept(a)})},_addChild:function(a,b){b=this._checkIndex(b);a._setParent(this);this._children.splice(b,0,a);return b},_removeChild:function(a){var b;"number"===typeof a?(b=a,a=this._children[b]):b=this.getChildIndex(a);b=this._checkIndex(b);
a&&this._children.splice(b,1)},_checkIndex:function(a){if(void 0===a||null===a)a=this._children.length;return Math.max(0,Math.min(a,this._children.length))},_setParent:function(a){this._parent=a},toString:function(a){a=a||0;var b,c,f,e="";for(f=0;f<a;f+=1)e+="    ";e+="{id\x3d'"+this._id+"'";e+=", type\x3d'"+this._type+"'";e+=", properties\x3d{";for(c in this._properties)if(this._properties.hasOwnProperty(c)){try{b=dojo.toJson(this._properties[c])}catch(h){b=this._properties[c].toString()}40<b.length&&
(b=b.slice(0,40)+"...");e+=c+": "+b+", "}e=e.slice(0,e.length-2);e+="}, children\x3d[";for(f=0;f<this._children.length;f+=1)e+="\n"+this._children[f].toString(a+1);e+="], detached\x3d[";for(f=0;f<this._detached.length;f+=1)e+="\n"+this._detached[f].toString(a+1);return e+"]}"},equals:function(a){var b;if(!a)return!1;if(this===a)return!0;if(this._id!==a._id)return!1;if(this._parent&&a._parent){if(this._parent.getId()!==a._parent.getId())return!1}else if(this._parent!==a._parent)return!1;if(!this._propertiesEqual(this,
a)||this._type!==a._type||this._children.length!==a._children.length||this._detached.length!==a._detached.length)return!1;for(b=0;b<this._children.length;b+=1)if(!this._children[b].equals(a._children[b]))return!1;for(b=0;b<this._detached.length;b+=1)if(!this._detached[b].equals(a._detached[b]))return!1;return!0},_propertiesEqual:function(a,b){return a._properties!==b._properties?!1:!0}});k.createNode=h.createNode=function(a,c,f){var e=b.generateUuid();return new h(e,a,c,f)};k.Impl=h;return k})},"mw-peermodel/Observable":function(){define(["dojo/_base/declare",
"dojo/_base/lang","mw-log/Log"],function(g,c,e){var a=g([],{addEventListener:function(a,c,e){},removeEventListener:function(a,c,e){},hasEventListener:function(a,c,e){},dispatchEvent:function(a,c,e,h){}});a.Syncable=g([],{addSyncEventListener:function(a,c,e){},removeSyncEventListener:function(a,c,e){}});a.Impl=g([a,a.Syncable],{constructor:function(){this._listeners={};this._syncListeners={}},addEventListener:function(a,c,e){this._addEventListener(this._listeners,a,c,e)},addSyncEventListener:function(a,
c,e){this._addEventListener(this._syncListeners,a,c,e)},_addEventListener:function(a,c,e,h){h=h||this;a[c]=a[c]||[];var d={scope:h,callback:e};0>this._getEventListenerIndex(a,c,e,h)&&a[c].push(d)},hasEventListener:function(a,c,e){return 0<=this._getEventListenerIndex(this._listeners,a,c,e)},removeEventListener:function(a,c,e){this._removeEventListener(this._listeners,a,c,e)},removeSyncEventListener:function(a,c,e){this._removeEventListener(this._syncListeners,a,c,e)},_removeEventListener:function(a,
c,e,h){e=this._getEventListenerIndex(a,c,e,h||this);if(0<=e)a[c].splice(e,1);else throw Error("Listener does not exist");},_getEventListenerIndex:function(a,c,e,h){h=h||this;if(a=a[c]){var d=a.length;for(c=0;c<d;c+=1)if(a[c].scope===h&&a[c].callback===e)return c}return-1},dispatchEvent:function(a,c,e,h){this._dispatchEvent(this._syncListeners,a,c,e,h);this._dispatchEvent(this._listeners,a,c,e,h)},_dispatchEvent:function(a,f,g,h,d){if(void 0!==h&&(c.isArray(h)||c.isString(h)||null===h||"number"===
typeof h||"boolean"===typeof h))throw Error("Invalid event data, must be object");var l=a[f];if(l){var l=l.slice(0),m=l.length;for(a=0;a<m;a+=1)try{var n={type:f,target:g||this,data:h||{},originator:d};"string"===typeof l[a].callback?l[a].scope[l[a].callback].call(l[a].scope,n):l[a].callback.call(l[a].scope,n)}catch(q){e.error("Error while dispatching event handler of type: "+f+", message: "+q)}}}});return a})},"mw-peermodel/PeerEventObservable":function(){define(["dojo/_base/declare","./Observable"],
function(g,c){var e=g([c],{addPeerEventListener:function(a,b,c){},removePeerEventListener:function(a,b,c){},hasPeerEventListener:function(a,b,c){},dispatchPeerEvent:function(a,b,c,e){}});e.Impl=g([c.Impl],{addPeerEventListener:function(a,b,c){var e=function(e){e.data.type&&e.data.type===a&&b.call(c,e)};e.type=a;e.callback=b;e.scope=c;this.addEventListener("peerEvent",e)},hasPeerEventListener:function(a,b,c){return!!this._getPeerEventObserver(a,b,c)},removePeerEventListener:function(a,b,c){if(a=this._getPeerEventObserver(a,
b,c))this.removeEventListener("peerEvent",a.callback,a.scope);else throw Error("Listener does not exist");},_getPeerEventObserver:function(a,b,c){return this._listeners.peerEvent?this._listeners.peerEvent.filter(function(e){return e.callback.callback&&e.callback.type===a&&e.callback.callback===b&&e.callback.scope===c})[0]:null},dispatchPeerEvent:function(a,b,c,e){c||(c={});c.type=a;this.dispatchEvent("peerEvent",b,c,e)}});return e})},"mw-peermodel/_PeerModelListenerMixin":function(){define(["dojo/_base/declare"],
function(g){return g([],{start:function(c){c=c||this.manager;c.setSyncEnabled(!0)},stop:function(c){c=c||this.manager;c.setSyncEnabled(!1)},addManagerListeners:function(c){c=c||this.manager;c.addEventListener("rootSet",this.rootSetObserver,this);c.addEventListener("rootUnset",this.rootUnsetObserver,this);c.addEventListener("childMoved",this.childMovedObserver,this)},removeManagerListeners:function(c){c=c||this.manager;c.removeEventListener("rootSet",this.rootSetObserver,this);c.removeEventListener("rootUnset",
this.rootUnsetObserver,this);c.removeEventListener("childMoved",this.childMovedObserver,this)},addNodeListeners:function(c){c.addEventListener("childAdded",this.childAddedObserver,this);c.addEventListener("childDestroyed",this.childDestroyedObserver,this);c.addEventListener("propertySet",this.propertySetObserver,this);c.addEventListener("peerEvent",this.peerEventObserver,this)},removeNodeListeners:function(c){c.removeEventListener("childAdded",this.childAddedObserver,this);c.removeEventListener("childDestroyed",
this.childDestroyedObserver,this);c.removeEventListener("propertySet",this.propertySetObserver,this);c.removeEventListener("peerEvent",this.peerEventObserver,this)},rootSetObserver:function(c){this.addNodeListeners(c.target)},rootUnsetObserver:function(c){this.removeNodeListeners(c.target)},childMovedObserver:function(c){this.onChildMove(c)},childAddedObserver:function(c){this.addNodeListeners(c.data.child);this.onChildAdd(c)},childDestroyedObserver:function(c){this.removeNodeListeners(c.data.child);
this.onChildDestroy(c)},propertySetObserver:function(c){this.onPropertySet(c)},peerEventObserver:function(c){this.onPeerEvent(c)},onPeerEvent:function(c){},onChildAdd:function(c){},onChildDestroy:function(c){},onPropertySet:function(c){},onChildMove:function(c){}})})},"mw-peermodel/_PropertyIndexerMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect"],function(g,c,e){return g([],{constructor:function(){this._propertyIndexMap={};e.before(this,"onChildAdd",c.hitch(this,function(a){var b=
a.data.child.getProperty(this._propertyToIndex);b&&(this._propertyIndexMap[b]=a.data.child.getId())}));e.before(this,"onPropertySet",c.hitch(this,function(a){a.data.key===this._propertyToIndex&&a.data.newValue&&(this._propertyIndexMap[a.data.newValue]=a.target.getId())}));e.before(this,"onChildDestroy",c.hitch(this,function(a){delete this._propertyIndexMap[a.data.child.getProperty(this._propertyToIndex)]}))},_getPeerNodeIdForIndexedProperty:function(a){return this._propertyIndexMap[a]}})})},"mw-keybindings/KeyBindings":function(){define("dojo/_base/declare dojo/_base/lang mw-keybindings/DefaultKeys mw-keybindings/StandardKeySequences mw-keybindings/BindingUtils mw-keybindings/Binding mw-keybindings/KeyHandler mw-keybindings/Platforms mw-actiondataservice/ActionDataService".split(" "),
function(g,c,e,a,b,f,k,h,d){g=g([],{constructor:function(a){if(!c.isObject(a)||!a.isInstanceOf(d))throw Error("actionDataService passed into KeyBindings constructor must be an instance of mw-actiondataservice/ActionDataService ");this._actionDataService=a;this._bindingMap={};this._keyHandler=new k(this)},getBinding:function(a,d){var c=b.getKeyBindingData(a,d).keySequenceIdentifier,e;void 0===this._bindingMap[c]&&(e=new f(a,d,this._actionDataService),this._bindingMap[c]=e);b.validateNoBrowserConflicts(this._bindingMap[c]);
return this._bindingMap[c]},getBindingFromKeySequenceIdentifier:function(a){return this._bindingMap[a]},removeBinding:function(a){if(!c.isObject(a)||!a.isInstanceOf(f))throw Error("Binding must be an instance of mw-keybindings/Binding ");var b=a.getKeySequenceIdentifier();if(void 0===this._bindingMap[b])throw Error("Error removing the binding: "+a.getShortcut()+". No such binding exists in the map.");a.cleanup();delete this._bindingMap[b]},cleanup:function(){this._bindingMap=null;this._keyHandler.destroy()}});
g.Keys=e;g.StandardKeySequences=a;g.Platform=h;return g})},"mw-keybindings/DefaultKeys":function(){define(["dojo/_base/lang","mw-keybindings/KeyboardKeys"],function(g,c){return g.mixin(c,{SYSCTRL:9E3,COMMAND:9001})})},"mw-keybindings/KeyboardKeys":function(){define(["dojo/_base/lang","mw-keybindings/Platforms"],function(){return{BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,
RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,"0":48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOWS:91,RIGHT_WINDOWS:92,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,
F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,DASH:189,EQUALS:187,OPEN_BRACKET:219,CLOSE_BRACKET:221,COMMA:188,PERIOD:190,FORWARD_SLASH:191,BACKWARD_SLASH:220,SINGLE_QUOTE:222,SEMI_COLON:186,BACK_TICK:192}})},"mw-keybindings/Platforms":function(){define([],function(){return{Windows:"Windows",Mac:"Mac",Linux:"Linux",Unspecified:"Unspecified"}})},"mw-keybindings/StandardKeySequences":function(){define(["mw-keybindings/DefaultKeys"],function(g){return{Cut:[g.SYSCTRL,
g.X],Copy:[g.SYSCTRL,g.C],Paste:[g.SYSCTRL,g.V],Undo:[g.SYSCTRL,g.Z],Redo:[g.SYSCTRL,g.Y]}})},"mw-keybindings/BindingUtils":function(){define("dojo/_base/lang dojo/sniff mw-keybindings/DefaultKeys mw-keybindings/ModifierKeys mw-keybindings/Platforms mw-keybindings/shortcutStringGenerator dojo/text!./browserconflicts.json".split(" "),function(g,c,e,a,b,f,k){var h=[],d;for(d in e)h.push(e[d]);var l=[];for(d in b)l.push(b[d]);var m=function(d,k){var m=d;if(void 0===m)throw Error("Invalid key sequence for a binding: cannot be null");
Array.isArray(m)||(m=[m]);if(0===m.length)throw Error("Invalid key sequence for a binding: cannot be empty");for(var p=0;p<m.length;p++){var v=m[p];if(void 0===v||-1===h.indexOf(v))throw Error("Invalid keyCode for a binding : "+m[p]);}Array.isArray(d)||(d=[d]);m=b.Unspecified;if(void 0!==k&&!g.isObject(k))throw Error("Optional platform must be an object with a Platform property");if(g.isObject(k)){if(!k.hasOwnProperty("platform"))throw Error("No platform property specified in optional platform object");
if(-1===l.indexOf(k.platform))throw Error("Invalid platform for a binding : "+k.platform);m=k.platform;if(m!==b.Mac&&q(e.COMMAND,d))throw Error("Can not create a binding with the COMMAND key and specify platform other than mac");}for(var v=[],p=[],s=0;s<d.length;s++){var y=d[s];if(-1!==a.indexOf(y)){if(0!==p.length)throw Error(" modifier keys must come before keycode");v.push(y)}else p.push(y)}var s=q(e.CTRL,v),y=q(e.SHIFT,v),B=q(e.ALT,v),D=q(e.COMMAND,v);q(e.SYSCTRL,v)&&(c("mac")?D=!0:s=!0);v=f.getString(v.concat(p));
if(0===p.length)throw Error("Invalid key sequence: "+v+". Excluding modifiers, there must be one key for the binding");if(1!==p.length)throw Error("Invalid key sequence: "+v+". Excluding modifiers, there can only be one key for the binding");var A=n([s,y,B,D],p[0],m);return{hasCtrlKey:s,hasShiftKey:y,hasAltKey:B,hasMetaKey:D,keyCode:p[0],shortcut:v,platform:m,keySequenceIdentifier:A}},n=function(a,b,d){return JSON.stringify({modifierKeys:a,keyCode:b,platform:d})},q=function(a,b){var d=!1;-1!==b.indexOf(a)&&
(d=!0);return d},s=JSON.parse(k),p=function(){var a={};Object.keys(s).forEach(function(d){var c=s[d];d=c.keys;var f=[],h=Object.keys(c.platform);h.push(b.Unspecified);d.forEach(function(a){if(e.hasOwnProperty(a))f.push(e[a]);else throw Error("Invalid key entry in the json file for the conflicting Key Binding");});h.forEach(function(d){d=m(f,{platform:b[d]}).keySequenceIdentifier;a[d]=c})});return a}();return{generateKeySequenceIdentifier:n,getKeyBindingData:m,validateNoBrowserConflicts:function(a){var b=
a.keySequenceIdentifier;p[b]&&console.warn("The requested key binding "+a.shortcut+" is a known browser conflict which is not supported in \n"+JSON.stringify(p[b].platform))}}})},"mw-keybindings/ModifierKeys":function(){define(["mw-keybindings/DefaultKeys"],function(g){return[g.CTRL,g.ALT,g.SHIFT,g.COMMAND,g.SYSCTRL,g.LEFT_WINDOWS,g.RIGHT_WINDOWS]})},"mw-keybindings/shortcutStringGenerator":function(){define(["dojo/sniff","mw-keybindings/DefaultKeys","dojo/i18n!./l10n/nls/keyBindings"],function(g,
c,e){var a={};a[c.SYSCTRL]={macString:"\u2303",otherPlatformsString:"Ctrl"};a[c.COMMAND]={macString:"\u2303",otherPlatformsString:""};a[c.BACKSPACE]={macString:"\u232b",otherPlatformsString:e.BACKSPACE};a[c.TAB]={macString:"\u21e5",otherPlatformsString:e.TAB};a[c.CLEAR]={macString:"\u2327",otherPlatformsString:e.CLEAR};a[c.ENTER]={macString:"\u23ce",otherPlatformsString:e.ENTER};a[c.SHIFT]={macString:"\u21e7",otherPlatformsString:e.SHIFT};a[c.CTRL]={macString:"\u2303",otherPlatformsString:e.CTRL};
a[c.ALT]={macString:"\u2325",otherPlatformsString:e.ALT};a[c.PAUSE_BREAK]={macString:e.PAUSE_BREAK,otherPlatformsString:e.PAUSE_BREAK};a[c.CAPS_LOCK]={macString:"\u21ea",otherPlatformsString:e.CAPS_LOCK};a[c.ESCAPE]={macString:"\u238b",otherPlatformsString:e.ESCAPE};a[c.SPACE]={macString:"\u2423",otherPlatformsString:e.SPACE};a[c.PAGE_UP]={macString:"\u23ce",otherPlatformsString:e.PAGE_UP};a[c.PAGE_DOWN]={macString:"\u2191",otherPlatformsString:e.PAGE_DOWN};a[c.END]={macString:"\u2198",otherPlatformsString:e.END};
a[c.HOME]={macString:"\u2196",otherPlatformsString:e.HOME};a[c.LEFT_ARROW]={macString:"\u2190",otherPlatformsString:e.LEFT};a[c.UP_ARROW]={macString:"\u2191",otherPlatformsString:e.UP};a[c.RIGHT_ARROW]={macString:"\u2192",otherPlatformsString:e.RIGHT};a[c.DOWN_ARROW]={macString:"\u2193",otherPlatformsString:e.DOWN};a[c.INSERT]={macString:e.INSERT,otherPlatformsString:e.INSERT};a[c.DELETE]={macString:"\u2326",otherPlatformsString:e.DELETE};a[c.LEFT_WINDOWS]={macString:"",otherPlatformsString:e.LEFT+
" "+e.WINDOWS};a[c.RIGHT_WINDOWS]={macString:"",otherPlatformsString:e.RIGHT+" "+e.WINDOWS};a[c.NUMPAD_MULTIPLY]={macString:"\u2328 *",otherPlatformsString:e.NUM_PAD+" *"};a[c.NUMPAD_PLUS]={macString:"\u2328 +",otherPlatformsString:e.NUM_PAD+" +"};a[c.NUMPAD_MINUS]={macString:"\u2328 -",otherPlatformsString:e.NUM_PAD+" -"};a[c.NUMPAD_PERIOD]={macString:"\u2328 .",otherPlatformsString:e.NUM_PAD+" ."};a[c.NUMPAD_DIVIDE]={macString:"\u2328 /",otherPlatformsString:e.NUM_PAD+" /"};a[c.NUM_LOCK]={macString:e.NUM_LOCK,
otherPlatformsString:e.NUM_LOCK};a[c.SCROLL_LOCK]={macString:e.SCROLL_LOCK,otherPlatformsString:e.SCROLL_LOCK};a[c.DASH]={macString:"-",otherPlatformsString:"-"};a[c.EQUALS]={macString:"\x3d",otherPlatformsString:"\x3d"};a[c.OPEN_BRACKET]={macString:"[",otherPlatformsString:"["};a[c.CLOSE_BRACKET]={macString:"]",otherPlatformsString:"]"};a[c.COMMA]={macString:",",otherPlatformsString:","};a[c.PERIOD]={macString:".",otherPlatformsString:"."};a[c.FORWARD_SLASH]={macString:"/",otherPlatformsString:"/"};
a[c.BACKWARD_SLASH]={macString:"\\",otherPlatformsString:"\\"};a[c.SINGLE_QUOTE]={macString:"'",otherPlatformsString:"'"};a[c.SEMI_COLON]={macString:";",otherPlatformsString:";"};a[c.BACK_TICK]={macString:"`",otherPlatformsString:"`"};return{getString:function(b){b=b.map(function(b){var c=a[b],e="";48<=b&&57>=b||65<=b&&90>=b?e=String.fromCharCode(b):96<=b&&105>=b?(e=g("mac")?"\u2328":"NumPad",e=[e,b-96].join(" ")):112<=b&&126>=b?e="F"+(b-111):(c?(c.macString||(console.warn("This keyCode "+b+" doesn't have a corresponding 'macString' defined!"),
c.macString=""),c.otherPlatformsString||(console.warn("This keyCode "+b+" doesn't have a corresponding 'otherPlatformsString' defined!"),c.otherPlatformsString="")):(console.warn("This keyCode "+b+" doesn't have a corresponding shortcutString map entry defined!"),c={macString:"",otherPlatformsString:""}),e=g("mac")?c.macString:c.otherPlatformsString);return e});return g("mac")?b.join(""):b.join("+")}}})},"mw-keybindings/Binding":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-keybindings/BindingUtils"],
function(g,c,e){return g(null,{constructor:function(a,b,c){this._actionDataService=c;this._keyBindingData=e.getKeyBindingData(a,b);this._selectorActionMap={}},setAction:function(a,b,c){try{document.querySelector(a)}catch(e){throw Error("Invalid selector for key binding: "+a);}if(void 0!==this._selectorActionMap[a])throw Error("An action already exists on this binding for the following selector: "+a);var h=this._actionDataService.getAction(b);if(null===h)throw Error("Cannot assign the action to the binding.  No action exists in the ActionDataService with the following id: "+
b);this._selectorActionMap[a]={actionId:b,preventDefault:c&&c.hasOwnProperty("preventDefault")?c.preventDefault:!0,stopPropagation:c&&c.hasOwnProperty("stopPropagation")?c.stopPropagation:!0};a=(h.shortcut||"").concat(","+this.getShortcut());","===a[0]&&(a=a.slice(1,a.length));this._actionDataService.updateAction(b,{shortcut:a})},removeAction:function(a){if(void 0===this._selectorActionMap[a])throw Error("No such action exists on this binding for the following selector: "+a);var b=this._selectorActionMap[a],
c=this._actionDataService.getAction(b.actionId).shortcut,e=this.getShortcut(),c=c.replace(","+e,""),c=c.replace(e+",",""),c=c.replace(e,"");this._actionDataService.updateAction(b.actionId,{shortcut:c.toString()});delete this._selectorActionMap[a]},cleanup:function(){var a=this.getShortcut(),b;for(b in this._selectorActionMap){var c=this._selectorActionMap[b].actionId,e=this._actionDataService.getAction(c).shortcut.replace(","+a,""),e=e.replace(a+",",""),e=e.replace(a,"");this._actionDataService.updateAction(c,
{shortcut:e.toString()})}},getShortcut:function(){return this._keyBindingData.shortcut},getKeySequenceIdentifier:function(){return this._keyBindingData.keySequenceIdentifier},executeAction:function(a){this._actionDataService.executeAction(a)},getActionInfoForNode:function(a){var b;Object.keys(this._selectorActionMap).some(c.hitch(this,function(c){this._matches(a,c)&&(b=c)}));return this._selectorActionMap[b]},_matches:function(a,b){for(var c=(a.document||a.ownerDocument).querySelectorAll(b),e=c.length;0<=
--e&&c.item(e)!==a;);return-1<e}})})},"mw-keybindings/KeyHandler":function(){define("dojo/_base/declare dojo/sniff dojo/_base/event dojo/query dojo/_base/lang dojo/on dijit/Destroyable mw-keybindings/BindingUtils mw-keybindings/Platforms".split(" "),function(g,c,e,a,b,f,k,h,d){return g(k,{constructor:function(a){this._listeners=[];this._keyBindings=a;this._attachListeners();this.BINDING_EXECUTION_STATUS={BINDING_NOT_FOUND:0,BINDING_EXECUTION_SUCCESSFUL:1,EXECUTION_INVALID_FOR_BINDING:2}},_attachListeners:function(){this.own(f(document,
"keydown",b.hitch(this,"onKeyDown")))},_removeListeners:function(){this._listeners.forEach(function(a){a.remove()})},onKeyDown:function(a){var b=this._lookupBinding(a);return!b?this.BINDING_EXECUTION_STATUS.BINDING_NOT_FOUND:this._executeBindingForDomNode(b,a.target,a)?this.BINDING_EXECUTION_STATUS.BINDING_EXECUTION_SUCCESSFUL:this.BINDING_EXECUTION_STATUS.EXECUTION_INVALID_FOR_BINDING},_lookupBinding:function(a){var b=[a.ctrlKey,a.shiftKey,a.altKey,a.metaKey],e=void 0,e=navigator.userAgent.toLowerCase(),
e=c("mac")?d.Mac:-1<e.indexOf("windows")?d.Windows:-1<e.indexOf("linux")?d.Linux:d.Unspecified,e=h.generateKeySequenceIdentifier(b,a.keyCode,e),e=this._keyBindings.getBindingFromKeySequenceIdentifier(e);void 0===e&&(e=h.generateKeySequenceIdentifier(b,a.keyCode,d.Unspecified),e=this._keyBindings.getBindingFromKeySequenceIdentifier(e));return void 0===e?null:e},_executeBindingForDomNode:function(a,b,d){if(!b)return!1;var c=a.getActionInfoForNode(b);if(c)return a.executeAction(c.actionId),c.preventDefault&&
d.preventDefault(),c.stopPropagation||this._executeBindingForDomNode(a,b.parentElement,d),!0;this._executeBindingForDomNode(a,b.parentElement,d);return!1},getMatchingSelector:function(a,b){var d;a.some(function(a){b.matches(a)&&(d=a)});return d}})})},"mw-keybindings/KeyBindingsFactory":function(){define(["mw-keybindings/KeyBindings"],function(g){var c=null;return KeyBindingsFactory={getInstance:function(e){c||(c={actionDataServiceUsed:e,keyBindingsObject:new g(e)});if(e!==c.actionDataServiceUsed)throw Error("The keyBinding API is already registered with a different actionDataService, cannot use this actionDataService as an argument");
return c.keyBindingsObject},destroyInstance:function(){c&&(c.keyBindingsObject.cleanup(),delete c.keyBindingsObject,c=null)}}})},"mw-form/PushButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PushButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){return g(v.validate([e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x]),{baseClass:"mwWidget mwPushButton",templateString:w,postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",this._handleKeydown.bind(this)),c(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/TagMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{tag:"",_setTagAttr:function(c){if("string"!==typeof c)throw Error("tag property expects a 'String'");this.domNode.setAttribute("data-tag",c);this._set("tag",c)},postCreate:function(){this.inherited(arguments);this.set("tag",this.get("tag"))}})})},"mw-mixins/property/DescriptionMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize"],
function(g,c){return g(null,{description:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDescriptionMixin");this.set("description",this.get("description"))},_setDescriptionAttr:function(c){if("string"!==typeof c)throw Error("'description' property expects a literal string!");this._updateDescription(c);this._set("description",c)},_updateDescription:function(c){this._lastKnownDescription=c;if(this.descriptionNode)this.descriptionNode.textContent=c,!1===this.get("showDescription")?
this.domNode.classList.add("mwHideDescription"):""===c?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");else{var a=this;setTimeout(function(){a._destroyed||a._updateTitle(c)},200)}},_updateTitle:function(e,a){var b;a?(""!==e&&void 0!==e&&(e=""===this._lastKnownDescription?e:" ("+e+")"),b=this._lastKnownDescription+e):b=this.get("shortcut")?e?e+" ("+c.getPlatformSpecificString(this.get("shortcut"))+")":c.getPlatformSpecificString(this.get("shortcut")):
e;this.domNode.setAttribute("title",b)}})})},"mw-event-utils/platformize":function(){define(["dojo/sniff"],function(g){var c=[{regExp:/ctrl|cntrl|control/gi,macString:"\u2303",otherPlatformsString:"Ctrl"},{regExp:/meta/gi,macString:"\u2318",otherPlatformsString:"Ctrl"},{regExp:/shift/gi,macString:"\u21e7",otherPlatformsString:"Shift"},{regExp:/alt/gi,macString:"\u2325",otherPlatformsString:"Alt"},{regExp:/enter/gi,macString:"\u23ce",otherPlatformsString:"Enter"},{regExp:/delete/gi,macString:"\u2326",
otherPlatformsString:"Delete"},{regExp:/del/gi,macString:"\u2326",otherPlatformsString:"Del"},{regExp:/Spacebar/gi,macString:"\u2423",otherPlatformsString:"Spacebar"},{regExp:/space/gi,macString:"\u2423",otherPlatformsString:"Space"},{regExp:/up/gi,macString:"\u2191",otherPlatformsString:"Up"},{regExp:/down/gi,macString:"\u2193",otherPlatformsString:"Down"},{regExp:/left/gi,macString:"\u2190",otherPlatformsString:"Left"},{regExp:/right/gi,macString:"\u2192",otherPlatformsString:"Right"}];return{getPlatformSpecificString:function(e,
a){a=a||{};e=e.replace(/ /g,"");e=e.replace(/_/g,"+");e=e.toUpperCase();c.forEach(function(b){var c;g("mac")?(c=b.macString,!a.dontConvertCtrlToCmd&&"\u2303"===c&&(c="\u2318")):c=b.otherPlatformsString;e=e.replace(b.regExp,c)});return e=g("mac")?e.replace(/\+(?!$)/g,""):e}}})},"mw-mixins/property/DisabledMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{disabled:!1,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDisabledMixin");this.set("disabled",
this.get("disabled"))},startup:function(){this.inherited(arguments);this.get("disabled")&&(this.domNode.dojoClick=!1)},_disableInteractionHandler:function(c){c.preventDefault();c.stopImmediatePropagation();c.stopPropagation()},_addDisableInteractions:function(c){null!==c&&(c.addEventListener("mousedown",this._disableInteractionHandler,!0),c.addEventListener("click",this._disableInteractionHandler,!0))},_removeDisableInteractions:function(c){null!==c&&(c.removeEventListener("mousedown",this._disableInteractionHandler,
!0),c.removeEventListener("click",this._disableInteractionHandler,!0))},_getDisabledNode:function(){return this.domNode},_updateDisableNode:function(c){var e=this._getDisabledNode();c?(this.domNode.classList.add("mwDisabled"),this.domNode.classList.remove("mwEnabled"),this._addDisableInteractions(e)):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"),this._removeDisableInteractions(e))},_setDisabledAttr:function(c){if("boolean"!==typeof c)throw Error("'disabled' property expects a boolean!");
this._set("disabled",c);this._updateDisableNode(c);this.set("hovering",!1);this.set("active",!1);this._setAriaDisabled();this.baseClass.split(" ").forEach(function(e){c?this.domNode.classList.add(e+"Disabled"):this.domNode.classList.remove(e+"Disabled")}.bind(this));c?this.domNode.classList.add("dijitDisabled"):this.domNode.classList.remove("dijitDisabled");this._setTabIndexOnNode(this.focusNode)},_setTabIndexOnNode:function(c){this.get("disabled")&&!this.get("dropDownNeverDisabled")?c.removeAttribute("tabIndex"):
c.setAttribute("tabIndex","0")},_setAriaDisabled:function(){(this.disabledNode?this.disabledNode:this.domNode).setAttribute("aria-disabled",this.get("disabled")&&!this.get("dropDownNeverDisabled")?"true":"false")}})})},"mw-mixins/property/HorizontalAlignmentMixin":function(){define(["dojo/_base/declare"],function(g){var c=["left","center","right"],e={};Object.keys(c).forEach(function(a){e[c[a]]="mwHorizontalAlignment"+(c[a].charAt(0).toUpperCase()+c[a].slice(1))});return g(null,{horizontalAlignment:"center",
postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwHorizontalAlignmentMixin")},_setHorizontalAlignmentAttr:function(a){if(-1===c.indexOf(a))throw Error("'Vertical alignment' property expects '' one of these values: "+c);this._applyHorizontalAlignmentClass(a);this._set("horizontalAlignment",a)},_applyHorizontalAlignmentClass:function(a){var b;b=this.get("horizontalAlignment");(b=e[b])&&this.domNode.classList.remove(b);this.domNode.classList.add(e[a])}})})},"mw-mixins/property/IconAlignmentMixin":function(){define(["dojo/_base/declare",
"dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/IconMixin"],function(g,c,e,a){g=g(null,{CLASS_NAME_PREFIX:"mwIconAlignment",constructor:function(){this.ICON_ALIGNMENT_CONFIGURATION={top:{className:this.CLASS_NAME_PREFIX+"Top",textNodeLocation:"after"},right:{className:this.CLASS_NAME_PREFIX+"Right",textNodeLocation:"before"},bottom:{className:this.CLASS_NAME_PREFIX+"Bottom",textNodeLocation:"before"},left:{className:this.CLASS_NAME_PREFIX+"Left",textNodeLocation:"after"}}},
iconAlignment:"left",_supportedValues:["top","right","bottom","left"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconAlignmentMixin")},_setIconAlignmentAttr:function(a){if(!(this.get("iconAlignment")===a&&this._started)){if(-1===this._supportedValues.indexOf(a))throw Error("'iconAlignment' property expects one of these values: "+this._supportedValues);var e=this.ICON_ALIGNMENT_CONFIGURATION[this.get("iconAlignment")].className;this.domNode.classList.remove(e);this.domNode.classList.add(this.ICON_ALIGNMENT_CONFIGURATION[a].className);
c.place(this.textNode,this.iconNode,this.ICON_ALIGNMENT_CONFIGURATION[a].textNodeLocation);this._set("iconAlignment",a)}}});g._dependencies=[{mixin:e,orderDependent:!1},{mixin:a,orderDependent:!1}];return g})},"mw-mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this.set("text",this.get("text"))},_setTextAttr:function(c){if("string"!==typeof c)throw Error("'text' property expects a literal string!");
this._updateTextInDOM(c);this._set("text",c)},_updateTextInDOM:function(c){this._placeTextInNode(c);0===this._getTextForDOM(c).length?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(c,e){void 0===e&&(e=this.textNode);for(;e.firstChild;)e.removeChild(e.firstChild);var a=this._getTextForDOM(c,e);if(0<a.length){var b=document.createElement("span");b.classList.add("mwTextLine");b.textContent=a;e.appendChild(b);e.classList.remove("mwEmptyNode")}else e.classList.add("mwEmptyNode")},
_getTextForDOM:function(c){return c}})})},"mw-mixins/property/IconMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/on"],function(g,c,e,a){return g(null,{_iconTypes:{DATA_URI:"data_uri",CSS_CLASS:"css_class"},icon:"",_lastIconApplied:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconMixin");this.set("icon",this.get("icon"))},_setIconAttr:function(a){if("string"!==typeof a)throw Error("'icon' property expects a literal string!");
this._set("icon",a);this._updateDOM(a)},_updateDOM:function(a){this._removeOldIcon();this._applyNewIcon(a)},_removeOldIcon:function(){var a=this._lastIconApplied,c=this._getIconType(a);c===this._iconTypes.DATA_URI?this._removeImageStyles(this.iconNode):c===this._iconTypes.CSS_CLASS&&""!==a&&a.trim().split(" ").forEach(function(a){this.iconNode.classList.remove(a)},this)},_applyNewIcon:function(b){var f=this._getIconType(b);if(f===this._iconTypes.DATA_URI){var g=e.create("img",{src:b});this.own(a.once(g,
"load",c.hitch(this,function(){this._applyImageStyles(this.iconNode,b,g);this.emit("iconapplied");this.emit("updatelayout");e.destroy(g)})))}else f===this._iconTypes.CSS_CLASS&&""!==b&&b.trim().split(" ").forEach(function(a){this.iconNode.classList.add(a)},this);0===b.length?this.domNode.classList.add("mwNoIcon"):this.domNode.classList.remove("mwNoIcon");this._lastIconApplied=b},_getIconType:function(a){var c="";return c=-1<a.indexOf("data:")?this._iconTypes.DATA_URI:this._iconTypes.CSS_CLASS},_applyImageStyles:function(a,
c,e){a.style.backgroundImage="url("+c+")";a.style.width=e.width+"px";a.style.height=e.height+"px"},_removeImageStyles:function(a){a.style.backgroundImage="";a.style.width="";a.style.height=""}})})},"mw-mixins/property/SizeMixin":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(g,c){return c(null,{width:"auto",height:"auto",_allowedValues:["auto"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwSizeMixin");this.on("updatelayout",g.hitch(this,this._updateLayout))},
startup:function(){this.inherited(arguments);this._updateLayout()},_updateLayout:function(){this._setWidthAttr(this.get("width"));this._setHeightAttr(this.get("height"))},_setWidthAttr:function(c){this._setSize("width",c)},_setHeightAttr:function(c){this._setSize("height",c)},_validateSizeInput:function(c){if(!("string"===typeof c&&"auto"===c||"number"===typeof c&&0<c))throw Error(" Property should either be 'auto' or a positive integer");},_setSize:function(c,a){this._validateSizeInput(a);this._set(c,
a);if(this._started){var b="",b=0<=this._allowedValues.indexOf(a)?a:this._getAdjustedSize(c,a,this.domNode);this.domNode.style[c]=b}},_getAdjustedSize:function(c,a,b){return a+"px"}})})},"mw-mixins/property/VisualFamilyMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{visualFamily:"default",_setVisualFamilyAttr:function(c){if("string"!==typeof c||0===c.length)throw Error("'visualFamily' property expects a literal non-empty string!");var e=this._getClassNameForVisualFamily(this.get("visualFamily"));
this.domNode.classList.remove(e);e=this._getClassNameForVisualFamily(c);this.domNode.classList.add(e);this._set("visualFamily",c)},_getClassNameForVisualFamily:function(c){return"mw"+c.charAt(0).toUpperCase()+c.slice(1)+"VisualFamily"}})})},"mw-mixins/property/VerticalAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/SizeMixin"],function(g,c){var e=["top","middle","bottom"],a={};Object.keys(e).forEach(function(b){a[e[b]]="mwVerticalAlignment"+(e[b].charAt(0).toUpperCase()+
e[b].slice(1))});var b=g(null,{verticalAlignment:"middle",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwVerticalAlignmentMixin")},_setVerticalAlignmentAttr:function(a){if(-1===e.indexOf(a))throw Error("'Vertical alignment' property expects '' one of these values: "+e[a]);this._applyVerticalAlignmentClass(a);this._set("verticalAlignment",a)},_applyVerticalAlignmentClass:function(b){var c;c=this.get("verticalAlignment");(c=a[c])&&this.domNode.classList.remove(c);this.domNode.classList.add(a[b])}});
b._dependencies=[{mixin:c,orderDependent:!0}];return b})},"mw-mixins/IconAndTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","mw-mixins/property/SizeMixin"],function(g,c,e){g=g(null,{_paddingAndBorder:6,_setSize:function(a,b){this.inherited(arguments);if(this._started){var c="";"auto"===b?this._setSpecialSizeOnAdditionalNodes(a,"none"):(c=this._getAdjustedSize(a,b,this.domNode),this._setSpecialSizeOnAdditionalNodes(a,parseInt(c)-this._paddingAndBorder+"px"));this.contentWrapperNode.style[a]=
"100%"}},_setSpecialSizeOnAdditionalNodes:function(a,b){"width"===a?this.iconAndTextContainerNode.style.maxWidth=b:"height"===a&&(this.textNode.style.maxHeight=b)}});g._dependencies=[{mixin:e,orderDependent:!0}];return g})},"mw-mixins/PreventSelectionMixin":function(){define(["dojo/_base/declare","dojo/on"],function(g,c){return g(null,{postCreate:function(){this.inherited(arguments);this._getNonSelectableNodes().forEach(function(e){c(e,"selectstart",function(a){if((document.documentMode||"Netscape"===
navigator.appName&&-1===navigator.appVersion.indexOf("Trident"))&&("INPUT"!==a.target.nodeName||"TEXTAREA"!==a.target.nodeName))return!1;a.preventDefault()})})},_getNonSelectableNodes:function(){return[this.domNode]}})})},"mw-mixins/mixinDependencyValidator":function(){define([],function(){return{validate:function(g){return g}}})},"MW/layout/BorderBar":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx/easing dojo/mouse dojo/on dojo/touch dijit/focus dijit/layout/ContentPane mw-form/ToggleButton ./AnimationTiming ./ButtonBar ./Geometry ./LayoutChildProperty ./LayoutContainerEvent ./LayoutUtils ./SelectionBlocker ./TitledPane dojo/i18n!l10n/nls/layout".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){var F=g([r],{buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"onTopPane");k.add(this.domNode,"untitledPane")},destroy:function(){var a=this;this.getChildren().forEach(function(b){a.removeChild(b)});this.inherited(arguments)}}),E;g=g([x],{showTitleBars:!0,animationEnabled:!0,defaultExpandSize:300,constructor:function(){this._childInfo=[]},postMixInProperties:function(){this.inherited(arguments);if("left"===this.region||
"right"==this.region)this.orientation="vertical";this.dragOffEdge=v.oppositeRegion(this.region)},buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"borderBar");k.add(this.domNode,this.orientation+"Bar");k.add(this.domNode,this.region+"Bar");"vertical"===this.orientation&&(l.set(this.domNode,{width:"22px"}),k.add(this.domNode,this.region+"SideBar"));this.own(q(this.ownerDocument,s.press,e.hitch(this,"_handleTouch")));B.preventDefaultContextMenu(this.domNode);B.setLocaleOnDomNode(this.domNode);
var a=h.create("div",{id:this.region+"_expandAllButton"});k.add(a,"expandButton");f.set(a,"title","vertical"===this.orientation?z.expandSidePanel:z.expandBottomPanel);b.setSelectable(a,!1);B.preventFocus(a);var d=e.hitch(this,"_expandAll");q(a,"click",d);q(this.domNode,"dblclick",d);this.setPostNeighbor(a)},acceptLoan:function(a,b,d){var c={text:b.title};b.description&&(c.title=b.description);var f={properties:b,childLender:a,button:new t(c)};k.add(f.button.domNode,"mwCollapsedPanelButton");f.button.disarm=
e.hitch(f.button,function(){this.set("disabled",!0)});f.button.rearm=e.hitch(f.button,function(){this.set("disabled",!1)});b.setId&&k.add(f.button.domNode,"contextualButton");B.preventFocus(f.button.domNode);l.set(f.button.domNode,{position:"absolute"});this._bindChildProperties(f,b);this._childInfo.push(f);d||this.addButton(f.button,b);f.button.on("change",function(){f.button.checked?setTimeout(function(){b.set(w.IS_SELECTED,!0)},150):b.set(w.IS_SELECTED,!1)})},cancelLoan:function(a){a=this._getIndexFromProperties(a);
if(0<=a){var b=this._childInfo[a];b.onTopPane&&this._completeCollapse(b);var d=b.button;delete d.onChange;this.removeButton(b.button,function(){d.destroyRecursive()});b.unbindChildProperties();this._childInfo.splice(a,1)}},removeAll:function(){var a=this.animationEnabled;for(this.animationEnabled=!1;0<this._childInfo.length;)this.cancelLoan(this._childInfo[0].properties);this.animationEnabled=a},destroyRecursive:function(){this.removeAll();this.inherited(arguments)},dragChildIn:function(a,b,d){this.acceptLoan(a,
b.properties,!0);a=this._getIndexFromProperties(b.properties);a=this._childInfo[a];this.dragIn(a.button,a.properties,d?d:b.index)},collapseAllChildrenImmediately:function(){var a=this;this._animationTimer&&(clearInterval(this._animationTimer),delete this._animationTimer);this._childInfo.forEach(function(b){b.onTopPane&&a._completeCollapse(b);b.animationState&&delete b.animationState});this._childInfo.forEach(function(a){a.button.set("checked",!1)})},_bindChildProperties:function(a,b){var d=this,c,
e,f;b.watch&&(b.set&&b.get)&&(c=b.watch(w.TITLE,function(b,d,c){a.button.set("text",c)}),e=b.watch(w.DESCRIPTION,function(b,d,c){a.button.set("title",c)}),f=b.watch(w.IS_SELECTED,function(b,c,e){d.getParent()&&(a.button.set("checked",e),e&&!d._isExpandedOrExpanding(a)?d._expand(a):!e&&!d._isCollapsedOrCollapsing(a)&&d._collapse(a))}),a.unbindChildProperties=function(){c&&c.remove();e&&e.remove();f&&f.remove();delete a.unbindChildProperties})},_createPrototypeButton:function(){var a=new t({id:this.id+
"prototype",text:"Prototype"});k.add(a.domNode,"mwCollapsedPanelButton");return a},_getIndexFromProperties:function(a){var b;for(b=0;b<this._childInfo.length;b++)if(this._childInfo[b].properties===a)return b;return-1},_collapse:function(a){var b,c;if(!this._isCollapsedOrCollapsing(a)){var f=e.hitch(this,"_completeCollapse",a);!this.animationEnabled||!B.isAnimationEnabled()?f():(b=(new Date).valueOf(),a.animationState||(a.animationState={},a.animationState.currentBox=d.getMarginBox(a.onTopPane.domNode)),
"vertical"===this.orientation?(c=a.animationState.currentBox.w,a.animationState.initialPosition=a.animationState.currentBox.l,a.animationState.finalPosition=a.animationState.initialPosition+("left"===this.region?-c:c)):(c=a.animationState.currentBox.h,a.animationState.initialPosition=a.animationState.currentBox.t,a.animationState.finalPosition=a.animationState.initialPosition+("top"===this.region?-c:c)),a.animationState.isExpanding=!1,a.animationState.startTime=b,a.animationState.duration=u.computeDuration(Math.abs(a.animationState.finalPosition-
a.animationState.initialPosition)),a.animationState.doneHandler=f,this._animationTimer||(this._animationTimer=setInterval(e.hitch(this,"_updateOnTopPositions"),u.UPDATE_INTERVAL)))}},_completeCollapse:function(a){B.saveScrollPosition(a.widget,a.properties);this._hideChild(a);this._removeChildFocusOverride(a);a.childLender.returnChild(a.properties,a.widget);delete a.widget},_expand:function(a){var b,d,c="vertical"===this.orientation;this._deselectAll(a);if(!this._isExpandedOrExpanding(a)){a.onTopPane||
(a.widget=a.childLender.borrowChild(a.properties),this._overrideChildFocus(a),this._showChild(a),B.restoreScrollPosition(a.widget,a.properties));b=this._computeExpandedBox(a);var f=e.hitch(this,"_completeExpand",a);!this.animationEnabled||!B.isAnimationEnabled()?(this._positionChild(a,b),f()):(d=(new Date).valueOf(),a.animationState?a.animationState.initialPosition=c?a.animationState.currentBox.l:a.animationState.currentBox.t:(a.animationState={},c?(a.animationState.initialPosition=b.l+("left"===
this.region?-a.onTopSize:a.onTopSize),a.animationState.finalPosition=b.l,b=e.clone(b),b.l=a.animationState.initialPosition):(a.animationState.initialPosition=b.t+("top"===this.region?-a.onTopSize:a.onTopSize),a.animationState.finalPosition=b.t,b=e.clone(b),b.t=a.animationState.initialPosition),this._positionChild(a,b),a.animationState.currentBox=b),a.animationState.isExpanding=!0,a.animationState.startTime=d,a.animationState.duration=u.computeDuration(Math.abs(a.animationState.finalPosition-a.animationState.initialPosition)),
a.animationState.doneHandler=f,this._animationTimer||(this._animationTimer=setInterval(e.hitch(this,"_updateOnTopPositions"),u.UPDATE_INTERVAL)))}},_completeExpand:function(a){a.focusPending&&(this._focusChild(a),a.focusPending=!1)},_computeExpandedBox:function(a){var b=d.position(this.domNode),c=d.getMarginBox(this.domNode);"vertical"===this.orientation?(c.t=b.y,c.l="left"===this.region?c.l+(b.x+c.w):b.x+b.w-c.w-a.onTopSize,c.w=a.onTopSize):(c.l=b.x,c.t="top"===this.region?c.t+(b.y+c.h):b.y+b.h-
c.h-a.onTopSize,c.h=a.onTopSize);return c},_computeClipBox:function(a){var b=d.position(this.domNode),c;switch(this.region){case "left":b=b.x+b.w;a.l<b&&(c={l:b-a.l,t:0,w:a.w,h:a.h});break;case "right":b=b.x-a.l;a.w>b&&(c={l:0,t:0,w:b,h:a.h});break;case "top":b=b.y+b.h;a.t<b&&(c={l:0,t:b-a.t,w:a.w,h:a.h});break;case "bottom":b=b.y-a.t,a.h>b&&(c={l:0,t:0,w:a.w,h:b})}return c},_expandAll:function(){this.collapseAllChildrenImmediately();this.emit(y.EXPAND_ALL)},_overrideChildFocus:function(a){var b=
this;a.originalFocus=a.widget.focus;a.widget.focus=function(){a.animationState?a.focusPending=!0:b._focusChild(a)}},_removeChildFocusOverride:function(a){a.focusPending=!1;a.originalFocus?a.widget.focus=a.originalFocus:delete a.widget.focus},_focusChild:function(a){a.originalFocus?e.hitch(a.widget,a.originalFocus)():p.focus(a.widget.domNode)},_showChild:function(b){var d=b.widget.id+"OnTopPane";b.onTopPane=this.showTitleBars?new A({id:d,contentWidget:b.widget,contentProperties:b.properties}):new F({id:d,
content:b.widget});b.onTopPane.parentBar=this;b.onTopPane.placeAt(a.body());b.onTopPane.startup();b.onTopSize||(b.onTopSize=this.defaultExpandSize);l.set(b.onTopPane.domNode,"position","absolute");k.add(b.onTopPane.domNode,"onTopPane");b.edgeCoverNode=h.create("div",{id:b.widget.id+"EdgeCover"},a.body());k.add(b.edgeCoverNode,"vertical"===this.orientation?"edgeCoverV":"edgeCoverH");b.edgeConnection=q(b.edgeCoverNode,s.press,e.hitch(this,"_beginEdgeDrag",b));b.properties.set(w.IS_SHOWING,!0)},_hideChild:function(b){a.body().removeChild(b.onTopPane.domNode);
b.onTopPane.destroy();delete b.onTopPane;h.destroy(b.edgeCoverNode);delete b.edgeCoverNode;b.edgeConnection.remove();delete b.edgeConnection;b.properties.set(w.IS_SHOWING,!1)},_positionChild:function(a,b){var c;a.onTopPane&&(c=this._computeClipBox(b),l.set(a.onTopPane.domNode,c?B.formatClipStyle(c):{clip:"auto"}),a.onTopPane.resize(b),c=e.clone(b),"vertical"===this.orientation?(c.l="left"===this.region?b.l+b.w-2:b.l-3,c.w=7):(c.t="top"===this.region?b.t+b.h-2:b.t-3,c.h=7),d.setMarginBox(a.edgeCoverNode,
c))},_isExpandedOrExpanding:function(a){return a.onTopPane&&!this._isCollapsing(a)},_isCollapsedOrCollapsing:function(a){return!a.onTopPane||this._isCollapsing(a)},_isExpanding:function(a){return a.animationState&&a.animationState.isExpanding},_isCollapsing:function(a){return a.animationState&&!a.animationState.isExpanding},_updateOnTopPositions:function(){var a=!1,b=(new Date).valueOf(),d,c,e,f,h=this,g="vertical"===this.orientation;this._childInfo.forEach(function(k){k.animationState&&(d=k.animationState,
c=b-d.startTime,e=d.currentBox,c<d.duration?(f=d.initialPosition+(d.finalPosition-d.initialPosition)*m.cubicInOut(c/d.duration),g?e.l=f:e.t=f,a=!0):(g?e.l=d.finalPosition:e.t=d.finalPosition,d.doneHandler&&d.doneHandler(),delete k.animationState,h._isExpandedOrExpanding(k)&&k.widget.focus()),h._positionChild(k,e))});a||(clearInterval(this._animationTimer),delete this._animationTimer)},_handleTouch:function(a){if(!this._edgeDragInfo&&!B.isPopupShowing()){var d=this._getExpandedOrExpandingInfo();if(d&&
!b.isDescendant(a.target,d.onTopPane.domNode)&&!b.isDescendant(a.target,this.domNode)&&(!E||!b.isDescendant(a.target,E)))this._deselectAll(),c.stop(a)}},_beginButtonDrag:function(a,b){this.inherited(arguments);c.stop(b)},_beginEdgeDrag:function(a,b){!this._edgeDragInfo&&(n.isLeft(b)&&!a.animationState)&&(this._edgeDragInfo={childInfo:a,initialPosition:"vertical"===this.orientation?b.pageX:b.pageY,initialBox:d.getMarginBox(a.onTopPane.domNode)},n.isLeft(b)&&(this._edgeDragInfo.connections=[q(this.ownerDocument,
s.move,e.hitch(this,"_continueEdgeDrag")),q(this.ownerDocument,s.release,e.hitch(this,"_endEdgeDrag"))],D.blockUntilRelease(this.domNode)))},_continueEdgeDrag:function(a){var b=this._edgeDragInfo,d=b.childInfo,c=e.clone(b.initialBox);"vertical"===this.orientation?(a=a.pageX-b.initialPosition,"left"===this.region?c.w+=a:(c.l+=a,c.w-=a),d.onTopSize=c.w):(a=a.pageY-b.initialPosition,"top"===this.region?c.h+=a:(c.t+=a,c.h-=a));this._positionChild(d,c)},_endEdgeDrag:function(){this._edgeDragInfo.connections.forEach(function(a){a.remove()});
delete this._edgeDragInfo},_getExpandedOrExpandingInfo:function(){var a,b;for(a=0;a<this._childInfo.length;a++)if(b=this._childInfo[a],this._isExpandedOrExpanding(b))return b;return null},_deselectAll:function(a){var b=this;this._childInfo.forEach(function(d){d!==a&&b._isExpandedOrExpanding(d)&&d.properties.set(w.IS_SELECTED,!1)})},_emitDragOffEvent:function(a){var b=this._getIndexFromProperties(a.properties),b=this._childInfo[b];a.widget=b.widget;a.box=d.getMarginBox(this.domNode);b=b.onTopSize?
b.onTopSize:this.defaultExpandSize;"horizontal"===this.orientation?a.box.h=b:a.box.w=b;this.emit(y.DRAG_OUT,a)},resize:function(){var a=this;this.inherited(arguments);this._childInfo.forEach(function(b){b.onTopPane&&a._positionChild(b,a._computeExpandedBox(b))})},_measureButton:function(a){if("horizontal"===this.orientation)return this.inherited(arguments);var b=this._getPrototypeButton();b.set("text",a.button.get("text"));b=d.getMarginBox(b.domNode);b.h=b.w;b.w=22;return b},_transformClipBox:function(a,
b){if("vertical"===this.orientation){a.t=a.l;a.l=b.h-a.h;var d=a.w;a.w=a.h;a.h=d}},getChildFromIndex:function(a){for(var b=0;b<this._childInfo.length;b++)if(this._childInfo[b].properties&&this._childInfo[b].properties.index===a)return this._childInfo[b];return null},getFirstChild:function(){return this.getChildFromIndex(0)},nextChild:function(a,b){return this._findNextChildBasedOnDirection(a,b,"forward")},getLastChild:function(){return this.getChildFromIndex(this._childInfo.length-1)},previousChild:function(a,
b){return this._findNextChildBasedOnDirection(a,b,"backward")},_findNextChildBasedOnDirection:function(a,b,d){if(b)return null;if(!a)return(a="forward"===d?this.getFirstChild():this.getLastChild())&&a.properties&&a.properties.widget?a.properties.widget:a;for(var c=0;c<this._childInfo.length;c++)for(var e=a.getChildren(),f=0;f<e.length;f++)if(this._childInfo[c].widget===e[f]&&this._childInfo[c].properties&&(b="forward"===d?this.getChildFromIndex(this._childInfo[c].properties.index+1):this.getChildFromIndex(this._childInfo[c].properties.index-
1))&&b.properties&&b.properties.widget)return b.properties.widget;return null}});g.setCloseClickExclusion=function(a){E=a};return g})},"dojo/fx/easing":function(){define(["../_base/lang"],function(g){var c={linear:function(c){return c},quadIn:function(c){return Math.pow(c,2)},quadOut:function(c){return-1*c*(c-2)},quadInOut:function(c){c*=2;return 1>c?Math.pow(c,2)/2:-1*(--c*(c-2)-1)/2},cubicIn:function(c){return Math.pow(c,3)},cubicOut:function(c){return Math.pow(c-1,3)+1},cubicInOut:function(c){c*=
2;return 1>c?Math.pow(c,3)/2:(Math.pow(c-2,3)+2)/2},quartIn:function(c){return Math.pow(c,4)},quartOut:function(c){return-1*(Math.pow(c-1,4)-1)},quartInOut:function(c){c*=2;return 1>c?Math.pow(c,4)/2:-0.5*(Math.pow(c-2,4)-2)},quintIn:function(c){return Math.pow(c,5)},quintOut:function(c){return Math.pow(c-1,5)+1},quintInOut:function(c){c*=2;return 1>c?Math.pow(c,5)/2:(Math.pow(c-2,5)+2)/2},sineIn:function(c){return-1*Math.cos(c*(Math.PI/2))+1},sineOut:function(c){return Math.sin(c*(Math.PI/2))},sineInOut:function(c){return-1*
(Math.cos(Math.PI*c)-1)/2},expoIn:function(c){return 0==c?0:Math.pow(2,10*(c-1))},expoOut:function(c){return 1==c?1:-1*Math.pow(2,-10*c)+1},expoInOut:function(c){if(0==c)return 0;if(1==c)return 1;c*=2;if(1>c)return Math.pow(2,10*(c-1))/2;--c;return(-1*Math.pow(2,-10*c)+2)/2},circIn:function(c){return-1*(Math.sqrt(1-Math.pow(c,2))-1)},circOut:function(c){return Math.sqrt(1-Math.pow(c-1,2))},circInOut:function(c){c*=2;return 1>c?-0.5*(Math.sqrt(1-Math.pow(c,2))-1):0.5*(Math.sqrt(1-Math.pow(c-2,2))+
1)},backIn:function(c){return Math.pow(c,2)*(2.70158*c-1.70158)},backOut:function(c){c-=1;return Math.pow(c,2)*(2.70158*c+1.70158)+1},backInOut:function(c){c*=2;if(1>c)return Math.pow(c,2)*(3.5949095*c-2.5949095)/2;c-=2;return(Math.pow(c,2)*(3.5949095*c+2.5949095)+2)/2},elasticIn:function(c){if(0==c||1==c)return c;c-=1;return-1*Math.pow(2,10*c)*Math.sin((c-0.075)*2*Math.PI/0.3)},elasticOut:function(c){return 0==c||1==c?c:Math.pow(2,-10*c)*Math.sin((c-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(c){if(0==
c)return 0;c*=2;if(2==c)return 1;var a=0.3*1.5,b=a/4;if(1>c)return c-=1,-0.5*Math.pow(2,10*c)*Math.sin((c-b)*2*Math.PI/a);c-=1;return 0.5*Math.pow(2,-10*c)*Math.sin((c-b)*2*Math.PI/a)+1},bounceIn:function(e){return 1-c.bounceOut(1-e)},bounceOut:function(c){c<1/2.75?c=7.5625*Math.pow(c,2):c<2/2.75?c=7.5625*Math.pow(c-1.5/2.75,2)+0.75:c<2.5/2.75?(c-=2.25/2.75,c=7.5625*Math.pow(c,2)+0.9375):(c-=2.625/2.75,c=7.5625*Math.pow(c,2)+0.984375);return c},bounceInOut:function(e){return 0.5>e?c.bounceIn(2*e)/
2:c.bounceOut(2*e-1)/2+0.5}};g.setObject("dojo.fx.easing",c);return c})},"mw-form/ToggleButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/ToggleButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D){return g(B.validate([e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y]),{baseClass:"mwWidget mwToggleButton",templateString:D,postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",this._handleKeydown.bind(this)),c(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){switch(a.keyCode){case 13:this.get("disabled")||a.target.click();break;case 32:a.preventDefault()}},_handleKeyup:function(a){switch(a.keyCode){case 32:this.get("disabled")||
a.target.click()}}})})},"mw-mixins/property/CheckedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-mixins/event/ChangeEventMixin"],function(g,c,e,a){g=g(null,{checked:!1,checkableNode:null,postCreate:function(){this.get("checkableNode")||this.set("checkableNode",this.domNode);this.inherited(arguments);this.domNode.classList.add("mwCheckedMixin");this.own(e(this.get("checkableNode"),"click",c.hitch(this,"_onClick")))},_setCheckedAttr:function(a){this._set("checked",a);
this._setAriaPressed();this._setAriaChecked();this.baseClass.split(" ").forEach(function(c){a?this.domNode.classList.add(c+"Checked"):this.domNode.classList.remove(c+"Checked")},this)},_setCheckableNodeAttr:function(a){this.checkableNode=a||this.domNode},_setAriaPressed:function(){var a=this.focusNode?this.focusNode:this.domNode;a.hasAttribute("aria-pressed")&&a.setAttribute("aria-pressed",this.get("checked"))},_setAriaChecked:function(){var a=this.focusNode?this.focusNode:this.domNode;a.hasAttribute("aria-checked")&&
a.setAttribute("aria-checked",this.get("checked"))},_onClick:function(){var a=this.get("checked"),c=!this.get("checked");this.set("checked",c,!0);this._triggerChangeEvent("checked",a,c)}});g._dependencies=[{mixin:a,orderDependent:!1}];return g})},"mw-mixins/event/ChangeEventMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(g,c){return g(null,{_triggerChangeEvent:function(c,a,b){this.emit("change",{mwEventData:{propertyName:c,oldValue:a,newValue:b}})},_qeTypeOverWithEnter:function(c){var a=
this.get("value");this.set("value",c);this._triggerChangeEvent("value",a,c)},postCreate:function(){this.inherited(arguments);this.own(this.on("change",c.hitch(this,function(c){c.preventDefault();c.mwEventData||(c.stopPropagation(),this._triggerChangeEvent("checked",!this.get("checked"),this.get("checked")))})))}})})},"mw-mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare","dojo/query","dijit/registry","mw-mixins/property/CheckedMixin","mw-mixins/event/ChangeEventMixin"],function(g,
c,e,a,b){g=g(null,{buttonGroup:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwButtonGroupMixin")},_setButtonGroupAttr:function(a){if("string"!==typeof a)throw Error("'buttonGroup' property expects a literal string!");0<a.length?this.domNode.setAttribute("data-mw-buttongroup",a):this.domNode.removeAttribute("data-mw-buttongroup");this._set("buttonGroup",a)},_setCheckedAttr:function(a,b){this.inherited(arguments);a&&this.get("buttonGroup")&&e.toArray().forEach(function(a){this._shouldUncheckWidget(a)&&
(a.set("checked",!1),b&&a._triggerChangeEvent("checked",!0,!1))},this)},_shouldUncheckWidget:function(a){return a.get("buttonGroup")===this.get("buttonGroup")&&a!==this&&a.get("checked")},_onClick:function(a){if(this.get("checked")&&this.get("buttonGroup"))return a.stopPropagation(),a.preventDefault(),!1;this.inherited(arguments)}});g._dependencies=[{mixin:a,orderDependent:!0},{mixin:b,orderDependent:!1}];return g})},"MW/layout/AnimationTiming":function(){define([],function(){return{UPDATE_INTERVAL:30,
MOVEMENT_RATE:0.5,MIN_DURATION:200,MAX_DURATION:750,computeDuration:function(g){return Math.max(this.MIN_DURATION,Math.min(this.MAX_DURATION,Math.abs(g)/this.MOVEMENT_RATE))}}})},"MW/layout/ButtonBar":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx/easing dojo/Evented dojo/mouse dojo/on dojo/touch dojo/Stateful dijit/focus dijit/popup dijit/layout/_LayoutWidget mw-menu/ContextMenu mw-menu/MenuItem ./AnimationTiming ./Geometry ./LayoutChildProperty ./LayoutContainerEvent ./LayoutUtils ./SelectionBlocker".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){g=g([u,m],{orientation:"horizontal",reorderingEnabled:!0,distributeButtons:!1,shrinkWidthToFit:!1,shrinkHeightToFit:!1,minimumButtonWidth:50,minimumButtonHeight:0,setGap:0,displayToolTipsWhenTruncated:!1,animationEnabled:!0,entryExitEdge:null,dragOffEnabled:!1,dragOffEdge:null,constructor:function(){this._buttonInfo=[]},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"buttonBar");this._previousButton=k.create("div",
{id:this.id+"_previousButton"},this.domNode);a.setSelectable(this._previousButton,!1);d.set(this._previousButton,{position:"absolute"});A.preventFocus(this._previousButton,!0);d.set(this._previousButton,{display:"none"});q(this._previousButton,s.press,e.hitch(this,"_handleScrollButtonPress"));this._nextButton=k.create("div",{id:this.id+"_nextButton"},this.domNode);a.setSelectable(this._nextButton,!1);d.set(this._nextButton,{position:"absolute"});A.preventFocus(this._nextButton,!0);d.set(this._nextButton,
{display:"none"});q(this._nextButton,s.press,e.hitch(this,"_handleScrollButtonPress"))},startup:function(){this._started||(this.inherited(arguments),f.add(this._previousButton,"scrollLeftButton"),this._scrollButtonWidth=Math.round(d.get(this._previousButton,"width")),f.remove(this._previousButton,"scrollLeftButton"),f.add(this._previousButton,"scrollUpButton"),this._scrollButtonHeight=Math.round(d.get(this._previousButton,"height")),f.remove(this._previousButton,"scrollUpButton"),this._updateScrollButtonIcons())},
destroy:function(){this._abortAnimation();this.inherited(arguments)},addButton:function(a,c,f,g,k){var l=this,m={button:a,properties:c,targetBox:{l:0,t:0,w:0,h:0},currentBox:{l:0,t:0,w:0,h:0},isShowing:!0,addPending:!0,hasToolTip:!!b.get(a.domNode,"title")},n,p;d.set(a.domNode,{position:"absolute"});this._bindButtonProperties(m,c);void 0===g&&(g=c.get(B.INDEX));p=this._indexOfFirstInSet(c.setId);0>p&&(p=this._buttonInfo.length);void 0===g?(g=this._indexOfLastInSet(c.setId),g=0>g?this._buttonInfo.length:
g+1):g+=p;void 0!==g&&0<=g&&g<this._buttonInfo.length?this._buttonInfo.splice(g,0,m):(g=this._buttonInfo.length,this._buttonInfo.push(m));f&&(this._justAddedIndex=g);m.properties.set(B.INDEX,g-p);g!==this._indexOfLastInSet(c.setId)&&this._updateButtonIndices();m.connection=q(a.domNode,s.press,e.hitch(this,"_beginButtonDrag",m));void 0===k&&(k=!0);this._addPending||(this._abortAnimation(),this._addPending=!0,n=function(){var a,b,c;l._addPending=!1;if(l.domNode)if(l._started&&!k&&l.animationEnabled&&
A.isAnimationEnabled()&&l.entryExitEdge){c=(new Date).valueOf();l._computeLayout(g);for(a=0;a<l._buttonInfo.length;a++){b=l._buttonInfo[a];if(b.addPending){b.addPending=!1;y.copyBox(b.targetBox,b.currentBox);switch(l.entryExitEdge){case "left":b.currentBox.l-=b.currentBox.w;break;case "right":b.currentBox.l+=b.currentBox.w;break;case "top":b.currentBox.t-=b.currentBox.h;break;case "bottom":b.currentBox.t+=b.currentBox.h}d.set(b.button.domNode,{visibility:"hidden"});b.isShowing=!1;h.setMarginBox(b.button.domNode,
b.currentBox)}l._setupAnimation(b,c)}l._plusButtonInfo&&l._setupAnimation(l._plusButtonInfo,c);l._animationDoneResponse=function(){l.layout()};l._startAnimation()}else{l.layout();for(a=0;a<l._buttonInfo.length;a++)b=l._buttonInfo[a],b.addPending&&(b.addPending=!1,d.set(b.button.domNode,{visibility:"visible"}))}});d.set(a.domNode,{visibility:"hidden"});this.addChild(a);n&&(!k&&this.animationEnabled&&A.isAnimationEnabled()?setTimeout(n,0):n())},removeButton:function(a,b,d){var c=this;a=this._indexFromButton(a);
a=this._buttonInfo[a];a.unbindButtonProperties&&a.unbindButtonProperties();a.connection.remove();a.removePending=!0;a.removeCallback=b;this._removePending||(this._abortAnimation(),this._removePending=!0,b=function(){if(c.domNode){var a,b,f,e=[];for(a=0;a<c._buttonInfo.length;a++)b=c._buttonInfo[a],b.removePending||e.push(b);c._animationDoneResponse=function(){for(a=0;a<c._buttonInfo.length;a++)b=c._buttonInfo[a],b.removePending&&(c.removeChild(b.button),b.removeCallback&&b.removeCallback());c._buttonInfo=
e;c._removePending=!1;c._updateButtonIndices();c.layout()};void 0===d&&(d=!0);if(c._started&&!d&&c.animationEnabled&&A.isAnimationEnabled()&&c.entryExitEdge){f=c._buttonInfo;c._buttonInfo=e;c._computeLayout();c._buttonInfo=f;f=(new Date).valueOf();for(a=0;a<c._buttonInfo.length;a++){b=c._buttonInfo[a];if(b.removePending)switch(c.entryExitEdge){case "left":b.targetBox.l-=b.targetBox.w;break;case "right":b.targetBox.l+=b.targetBox.w;break;case "top":b.targetBox.t-=b.targetBox.h;break;case "bottom":b.targetBox.t+=
b.targetBox.h}c._setupAnimation(b,f)}c._plusButtonInfo&&c._setupAnimation(c._plusButtonInfo,f);c._startAnimation()}else c._animationDoneResponse(),delete c._animationDoneResponse}},!d&&this.animationEnabled&&A.isAnimationEnabled()?setTimeout(b,0):b())},getButtons:function(){var a=[],b,d;for(b=0;b<this._buttonInfo.length;b++)d=this._buttonInfo[b],d.removePending||a.push(d.button);return a},getButtonsInSet:function(a){var b=[],d,c;d=this._indexOfFirstInSet(a);a=this._indexOfLastInSet(a);if(0<=d)for(;d<=
a;d++)c=this._buttonInfo[d],c.removePending||b.push(c.button);return b},setPlusButton:function(a){this._plusButtonInfo&&(this.removeChild(this._plusButtonInfo.button),this._plusButtonInfo.button.destroyRecursive(),delete this._plusButtonInfo);a&&(this._plusButtonInfo={button:a,targetBox:{l:0,t:0,w:0,h:0},currentBox:{l:0,t:0,w:0,h:0},isShowing:!0},d.set(a.domNode,{position:"absolute"}),this.addChild(a));this.layout()},getPlusButton:function(){return this._plusButtonInfo?this._plusButtonInfo.button:
null},setPreNeighbor:function(a){if(this._preNeighbor!==a){this._preNeighbor&&(A.removeFromParent(this._preNeighbor),delete this._preNeighborBox);if(this._preNeighbor=a)d.set(a,{position:"absolute"}),k.place(a,this.domNode);this.layout()}},getPreNeighbor:function(){return this._preNeighbor},setPostNeighbor:function(a){if(this._postNeighbor!==a&&(this._postNeighbor&&(A.removeFromParent(this._postNeighbor),delete this._postNeighborBox),this._postNeighbor=a))d.set(a,{position:"absolute"}),k.place(a,
this.domNode)},getPostNeighbor:function(){return this._postNeighbor},setFiller:function(a){a!==this._fillerWidget&&(this._fillerWidget&&(this.removeChild(this._fillerWidget),d.set(this._fillerWidget.domNode,{top:"auto",left:"auto",position:"static"}),delete this._fillerWidget),a&&(d.set(a.domNode,{position:"absolute"}),this._fillerWidget=a,this.addChild(a)),this.layout())},dragIn:function(a,b,d){var c,f,e,g,k,l=typeof d;if("number"===l)c=d;else{f=h.position(this.domNode);e=d.x-f.x;g=d.y-f.y;for(c=
0;c<this._buttonInfo.length;c++)if(k=this._buttonInfo[c].currentBox,"horizontal"===this.orientation){if(e<k.l+k.w/2)break}else if(g<k.t+k.h/2)break}this.addButton(a,b,!1,c,!0);if("number"!==l&&("vertical"===this.orientation||0<f.h))a=this._buttonInfo[this._indexFromButton(a)],e=f.x+a.currentBox.l+a.currentBox.w/2,g=f.y+a.currentBox.t+a.currentBox.h/2,this._beginButtonDragAtPoint(a,e,g),this._buttonDragInfo.hasOrderChanged=!0,this._continueButtonDrag({pageX:d.x,pageY:d.y})},_bindButtonProperties:function(a,
b){var d=this,c,f,e;c=a.button.watch("label",function(){delete a.preferredSize;d.layout()});f=a.button.watch("checked",function(b,c,f){f&&d._scrollIntoView(d._buttonInfo.indexOf(a))});e=b.watch(B.INDEX,function(c,f,e){!d._isUpdatingIndices&&(f!==e&&f===d._buttonInfo.indexOf(a)&&e<d._buttonInfo.length)&&(c=a.properties.setId?d._indexOfFirstInSet(b.setId):0,d._changeButtonIndices(f+c,e+c,1),d.layout())});a.unbindButtonProperties=function(){c.unwatch();f.unwatch();e.unwatch()}},_indexFromButton:function(a){var b;
for(b=0;b<this._buttonInfo.length;b++)if(this._buttonInfo[b].button===a)return b;return-1},_indexFromProperties:function(a){var b;for(b=0;b<this._buttonInfo.length;b++)if(this._buttonInfo[b].properties===a)return b;return-1},_indexOfFirstInSet:function(a){var b;for(b=0;b<this._buttonInfo.length&&this._buttonInfo[b].properties.setId!==a;b++);return b>=this._buttonInfo.length?-1:b},_indexOfLastInSet:function(a){var b;for(b=this._buttonInfo.length-1;0<=b&&this._buttonInfo[b].properties.setId!==a;b--);
return b},_getSetMemberCount:function(a){var b=this._indexOfFirstInSet(a);return 0>b?0:this._indexOfLastInSet(a)-b+1},resize:function(){this.computedStyle||(this.computedStyle=d.getComputedStyle(this.domNode));this._clearButtonClipping();this.inherited(arguments)},layout:function(){if(this.domNode&&!(this._buttonDragInfo&&this._buttonDragInfo.hasMoved||this._addPending||this._removePending)){var a;void 0!==this._justAddedIndex?(a=this._justAddedIndex,delete this._justAddedIndex):a=this._getCheckedIndex();
if(this._computeLayout(a)){var d,c;for(a=0;a<this._buttonInfo.length;a++)d=this._buttonInfo[a],h.setMarginBox(d.button.domNode,d.targetBox),y.copyBox(d.targetBox,d.currentBox),this.displayToolTipsWhenTruncated&&!d.hasToolTip&&(c=this._isTruncated(d)?d.button.get("label"):null,c!==b.get(d.button.domNode,"title")&&(c?b.set(d.button.domNode,"title",c):b.remove(d.button.domNode,"title",c)));h.setMarginBox(this._previousButton,this._previousButtonBox);h.setMarginBox(this._nextButton,this._nextButtonBox);
this._plusButtonInfo&&(h.setMarginBox(this._plusButtonInfo.button.domNode,this._plusButtonInfo.targetBox),y.copyBox(this._plusButtonInfo.targetBox,this._plusButtonInfo.currentBox));this._preNeighbor&&h.setMarginBox(this._preNeighbor,this._preNeighborBox);this._postNeighbor&&h.setMarginBox(this._postNeighbor,this._postNeighborBox);this._fillerWidget&&(this._fillerWidget.resize?this._fillerWidget.resize(this._fillerBox):h.setMarginBox(this._fillerWidget.domNode,this._fillerBox));this._updateScrollButtonVisibility();
this._updateButtonVisibility()}}},_isTruncated:function(a){return"horizontal"===this.orientation&&a.currentBox.w<a.preferredSize.w||"vertical"===this.orientation&&a.currentBox.h<a.preferredSize.h},getPreferredSize:function(){var a,b,d="horizontal"===this.orientation,c=this._getPlusButtonSize();a=this._getPreNeighborSize();b=this._getPostNeighborSize();c={w:c.w,h:c.h};d?(c.w+=a.w,c.w+=b.w):(c.h+=a.h,c.h+=b.h);if(!this._buttonInfo.length&&d&&(a=this._getPrototypeButton()))a.set("label","Prototype"),
b=h.getMarginBox(a.domNode),b.h>c.h&&(c.h=b.h);for(a=0;a<this._buttonInfo.length;a++)b=this._buttonInfo[a],b=this._getButtonSize(b),d?(c.w+=b.w,b.h>c.h&&(c.h=b.h)):(c.h+=b.h,b.w>c.w&&(c.w=b.w));return c},_computeLayout:function(a){this.computedStyle||(this.computedStyle=d.getComputedStyle(this.domNode));var b=h.getMarginBox(this.domNode,this.computedStyle);if(!b||0===b.h||0===b.w)return!1;b.l=0;b.t=0;var c,f,e,g,k,l,m,n,p,r;c=g=0;var u=this._buttonInfo.length;for(r=k=0;r<u;r++)n=this._buttonInfo[r],
m=this._getButtonSize(n),n.targetBox.w=m.w,n.targetBox.h=m.h,n.targetBox.l=0,n.targetBox.t=0,n.preGap=0,0<r&&n.properties.setId!==e&&(n.preGap=this.setGap,k+=this.setGap),e=n.properties.setId;this._getPlusButtonSize();this._getPreNeighborSize();this._getPostNeighborSize();if("horizontal"===this.orientation){c=b.w;this._plusButtonInfo&&(c-=this._plusButtonInfo.preferredSize.w);this._postNeighbor&&(c-=this._postNeighborBox.w,this._postNeighborBox.l=b.w-this._postNeighborBox.w,b.w-=this._postNeighborBox.w);
this._preNeighbor&&(c-=this._preNeighborBox.w,g+=this._preNeighborBox.w,this._preNeighborBox.h=b.h,b.w-=this._preNeighborBox.w,b.l+=this._preNeighborBox.w);if(this.distributeButtons&&0<u){n=Math.max(c/u,this.minimumButtonWidth);for(r=0;r<u;r++)this._buttonInfo[r].targetBox.w=n}e=k;for(r=k=0;r<u;r++)n=this._buttonInfo[r],e+=n.targetBox.w,n.targetBox.h=b.h,n.targetBox.w>this.minimumButtonWidth&&(k+=n.targetBox.w-this.minimumButtonWidth);if(e>c){l=e-c;for(r=0;r<u;r++)if(n=this._buttonInfo[r],(this.shrinkWidthToFit||
n.properties.get(B.TITLE_SHORTENING_ALLOWED))&&n.targetBox.w>this.minimumButtonWidth)m=l*(n.targetBox.w-this.minimumButtonWidth)/k+1,m=Math.max(n.targetBox.w-m,this.minimumButtonWidth),e-=n.targetBox.w-m,n.targetBox.w=m}if(e>c){p={low:0,high:u-1};g+=this._scrollButtonWidth;c-=2*this._scrollButtonWidth;if(this._showingRange){r=this._showingRange.high;for(0<=a&&a>r&&(r=a);p.high>r&&e>c;p.high--)n=this._buttonInfo[p.high],n=n.targetBox.w+n.preGap,e-=n;r=this._showingRange.low;for(0<=a&&a<r&&(r=a);p.low<
r&&e>c;p.low++)n=this._buttonInfo[p.low],n=n.targetBox.w+n.preGap,e-=n,g-=n}r=p.low;for(0<=a&&a>r&&(r=a);p.high>r&&e>c;p.high--)n=this._buttonInfo[p.high],n=n.targetBox.w+n.preGap,e-=n;r=p.high;for(0<=a&&a<r&&(r=a);p.low<r&&e>c;p.low++)n=this._buttonInfo[p.low],n=n.targetBox.w+n.preGap,e-=n,g-=n;p.low===p.high&&(n=this._buttonInfo[p.low],!this.shrinkWidthToFit&&(!n.properties.get(B.TITLE_SHORTENING_ALLOWED)&&c<n.targetBox.w&&n.targetBox.w>this.minimumButtonWidth)&&(m=n.targetBox.w-c,m=Math.max(n.targetBox.w-
m,this.minimumButtonWidth),e-=n.targetBox.w-m,n.targetBox.w=m,f=!0));!f&&(0<p.low&&p.high===u-1)&&(g+=c-e)}for(r=0;r<u;r++)n=this._buttonInfo[r],n.targetBox.l=g+n.preGap,g+=n.targetBox.w+n.preGap;this._previousButtonBox={l:b.l,t:0,w:this._scrollButtonWidth,h:b.h};this._nextButtonBox={l:b.l+b.w-this._scrollButtonWidth,t:0,w:this._scrollButtonWidth,h:b.h};this._plusButtonInfo&&(this._plusButtonInfo.targetBox.t=0,this._plusButtonInfo.targetBox.h=b.h,this._plusButtonInfo.targetBox.w=this._plusButtonInfo.preferredSize.w,
p?(this._plusButtonInfo.targetBox.l=b.l+b.w-this._plusButtonInfo.preferredSize.w,this._nextButtonBox.l-=this._plusButtonInfo.preferredSize.w):(this._plusButtonInfo.targetBox.l=g,g+=this._plusButtonInfo.preferredSize.w));this._fillerWidget&&(this._fillerBox={l:g,t:0,w:b.w-g,h:b.h})}else{f=b.h;this._plusButtonInfo&&(f-=this._plusButtonInfo.preferredSize.h);this._preNeighbor&&(f-=this._preNeighborBox.h,c+=this._preNeighborBox.h,this._preNeighborBox.w=b.w,b.h-=this._preNeighborBox.h,b.t+=this._preNeighborBox.h);
this._postNeighbor&&(f-=this._postNeighborBox.h,this._postNeighborBox.t=b.h-this._postNeighborBox.h,this._postNeighborBox.w=b.w,b.h-=this._postNeighborBox.h);g=k;for(r=k=0;r<u;r++)n=this._buttonInfo[r],g+=n.targetBox.h,n.targetBox.w=b.w,n.targetBox.h>this.minimumButtonHeight&&(k+=n.targetBox.h-this.minimumButtonHeight);if(g>f){e=g-b.h;for(r=0;r<u;r++)if(n=this._buttonInfo[r],(this.shrinkHeightToFit||n.properties.get(B.TITLE_SHORTENING_ALLOWED))&&n.targetBox.h>this.minimumButtonHeight)m=e*(n.targetBox.h-
this.minimumButtonHeight)/k+1,m=Math.max(n.targetBox.h-m,this.minimumButtonHeight),g-=n.targetBox.h-m,n.targetBox.h=m}if(g>f&&1<u){p={low:0,high:u-1};c+=this._scrollButtonHeight;f-=2*this._scrollButtonHeight;if(this._showingRange){r=this._showingRange.high;for(0<=a&&a>r&&(r=a);p.high>r&&g>f;p.high--)n=this._buttonInfo[p.high],n=n.targetBox.h+n.preGap,g-=n;r=this._showingRange.low;for(0<=a&&a<r&&(r=a);p.low<r&&g>f;p.low++)n=this._buttonInfo[p.low],n=n.targetBox.h+n.preGap,g-=n,c-=n}r=p.low;for(0<=
a&&a>r&&(r=a);p.high>r&&g>f;p.high--)n=this._buttonInfo[p.high],n=n.targetBox.h+n.preGap,g-=n;r=p.high;for(0<=a&&a<r&&(r=a);p.low<r&&g>f;p.low++)n=this._buttonInfo[p.low],n=n.targetBox.h+n.preGap,g-=n,c-=n;0<p.low&&p.high===u-1&&(c+=f-g)}for(r=0;r<u;r++)n=this._buttonInfo[r],n.targetBox.t=c+n.preGap,c+=n.targetBox.h+n.preGap;this._previousButtonBox={l:0,t:b.t,w:b.w,h:this._scrollButtonHeight};this._nextButtonBox={l:0,t:b.t+b.h-this._scrollButtonHeight,w:b.w,h:this._scrollButtonHeight};this._plusButtonInfo&&
(this._plusButtonInfo.targetBox.l=0,this._plusButtonInfo.targetBox.w=b.w,this._plusButtonInfo.targetBox.h=this._plusButtonInfo.preferredSize.h,p?(this._plusButtonInfo.targetBox.t=b.t+b.h-this._plusButtonInfo.preferredSize.h,this._nextButtonBox.t-=this._plusButtonInfo.preferredSize.h):(this._plusButtonInfo.targetBox.t=c,c+=this._plusButtonInfo.preferredSize.h));this._fillerWidget&&(this._fillerBox={l:0,t:c,w:b.w,h:b.h-c})}this._showingRange=p;return!0},_getCheckedIndex:function(){var a;for(a=0;a<this._buttonInfo.length;a++)if(this._buttonInfo[a].button.get("checked"))return a;
return-1},_getButtonSize:function(a){a.preferredSize||(a.preferredSize=this._measureButton(a));return a.preferredSize},_getPlusButtonSize:function(){if(!this._plusButtonInfo)return{w:0,h:0};this._plusButtonInfo.preferredSize||(this._plusButtonInfo.preferredSize=h.getMarginBox(this._plusButtonInfo.button.domNode));return this._plusButtonInfo.preferredSize},_getPreNeighborSize:function(){if(!this._preNeighbor)return{w:0,h:0};this._preNeighborBox||(this._preNeighborBox=this._getDefaultSize(this._preNeighbor));
return this._preNeighborBox},_getPostNeighborSize:function(){if(!this._postNeighbor)return{w:0,h:0};this._postNeighborBox||(this._postNeighborBox=this._getDefaultSize(this._postNeighbor));return this._postNeighborBox},_measureButton:function(a){this._getPrototypeButton();return this._prototypeButton?(this._configurePrototypeButton(this._prototypeButton,a.button,a.properties),h.getMarginBox(this._prototypeButton.domNode)):{w:80,h:24}},_getPrototypeButton:function(){if(!this._prototypeButton&&(this._prototypeButton=
this._createPrototypeButton()))d.set(this._prototypeButton.domNode,{position:"absolute",visibility:"hidden"}),this.addChild(this._prototypeButton);return this._prototypeButton},_getDefaultSize:function(a){a=h.getMarginBox(a);a.defaultW=a.w;a.defaultH=a.h;return a},_diffBox:function(a,b){return{l:a.l-b.l,t:a.t-b.t,w:a.w-b.w,h:a.h-b.h}},_updateButtonVisibility:function(){var a,b,c,f,e=this._buttonInfo.length,h=this._showingRange;for(a=0;a<e;a++)f=this._buttonInfo[a],c=b=!1,!h||this._buttonDragInfo&&
this._buttonDragInfo.buttonInfo[0]===f?b=!0:a>=h.low&&a<=h.high?b=!0:a==h.high+1?c=b=!0:a==h.low-1&&h.high==e-1&&(c=b=!0),b!=f.isShowing&&(d.set(f.button.domNode,{visibility:b?"visible":"hidden"}),f.isShowing=b),c!==f.isClipped&&(c?(b=this._computeScrollBounds(this._getBarBounds()),b=y.computeClip(f.targetBox,b),this._transformClipBox&&this._transformClipBox(b,f.targetBox),d.set(f.button.domNode,A.formatClipStyle(b))):d.set(f.button.domNode,{clip:"auto"}),f.isClipped=c)},_updateScrollButtonVisibility:function(){this._showingRange?
(d.set(this._previousButton,{display:"block"}),d.set(this._nextButton,{display:"block"}),this._fillerWidget&&d.set(this._fillerWidget.domNode,{visibility:"hidden"}),0<this._showingRange.low?f.remove(this._previousButton,"disabled"):f.add(this._previousButton,"disabled"),this._showingRange.high<this._buttonInfo.length-1?f.remove(this._nextButton,"disabled"):f.add(this._nextButton,"disabled")):(d.set(this._previousButton,{display:"none"}),d.set(this._nextButton,{display:"none"}),this._fillerWidget&&
d.set(this._fillerWidget.domNode,{visibility:"visible"}))},_createPrototypeButton:function(){return null},_configurePrototypeButton:function(a,b,d){a.set("label",b.get("label"));a.set("text",b.get("text"))},_updateScrollButtonIcons:function(){"horizontal"===this.orientation?(f.remove(this._previousButton,"scrollUpButton"),f.remove(this._nextButton,"scrollDownButton"),f.add(this._previousButton,"scrollLeftButton"),f.add(this._nextButton,"scrollRightButton")):(f.remove(this._previousButton,"scrollLeftButton"),
f.remove(this._nextButton,"scrollRightButton"),f.add(this._previousButton,"scrollUpButton"),f.add(this._nextButton,"scrollDownButton"))},_updateNeighbors:function(){this._preNeighborBox&&(this._preNeighborBox.w=this._preNeighborBox.defaultW,this._preNeighborBox.h=this._preNeighborBox.defaultH);this._postNeighborBox&&(this._postNeighborBox.w=this._postNeighborBox.defaultW,this._postNeighborBox.h=this._postNeighborBox.defaultH)},_setOrientationAttr:function(a){a!==this.orientation&&(this._abortAnimation(),
this._set("orientation",a),this._updateScrollButtonIcons(),this._updateNeighbors())},_setShrinkWidthToFitAttr:function(a){a!==this.shrinkWidthToFit&&(this._set("shrinkWidthToFit",a),this.layout())},_setShrinkHeightToFitAttr:function(a){a!==this.shrinkHeightToFit&&(this._set("shrinkHeightToFit",a),this.layout())},_setMinimumButtonWidthAttr:function(a){a!==this.minimumButtonWidth&&(this._set("minimumButtonWidth",a),this.layout())},_setMinimumButtonHeightAttr:function(a){a!==this.minimumButtonHeight&&
(this._set("minimumButtonHeight",a),this.layout())},_handleScrollButtonPress:function(a){this._scrollInfo={button:a.target,connection:q(this.ownerDocument,s.release,e.hitch(this,"_handleScrollButtonRelease")),timer:setTimeout(e.hitch(this,"_handleScrollButtonTimeout",a),500)};A.stopEvent(a)},_handleScrollButtonRelease:function(a){this._scrollInfo&&this._scrollInfo.button===a.target&&(a.target===this._previousButton?this._scrollToPrevious():this._scrollToNext(),this._cleanupScrollInfo())},_handleScrollButtonTimeout:function(){var a,
b,d,c,e;if(this._scrollInfo){z.blockSelection(this.domNode);t.close();b=new x({targetNodes:[this._scrollInfo.button],id:this.id+"ScrollMenu"});for(a=0;a<this._buttonInfo.length;a++)c=this._buttonInfo[a].button,e=function(a){return function(){a.set("checked",!0)}}(c),d=new v({text:c.get("label")}),f.add(d.domNode,a>=this._showingRange.low&&a<=this._showingRange.high?"showingButtonBarOverflowItem":"hiddenButtonBarOverflowItem"),c.get("checked")&&f.add(d.domNode,"checkedButtonBarOverflowItem"),q(d.domNode,
s.release,e),q(d.domNode,"click",e),b.addChild(d);b.open({target:this._scrollInfo.button});b.on("close",function(){setTimeout(function(){b.destroyRecursive()},0);z.unblockSelection()});this._cleanupScrollInfo()}},_cleanupScrollInfo:function(){this._scrollInfo&&(clearTimeout(this._scrollInfo.timer),this._scrollInfo.connection.remove(),delete this._scrollInfo)},_scrollToPrevious:function(){0<this._showingRange.low&&this._scrollIntoView(this._showingRange.low-1)},_scrollToNext:function(){this._showingRange.high<
this._buttonInfo.length-1&&this._scrollIntoView(this._showingRange.high+1)},_scrollIntoView:function(a){if(this._showingRange&&(a<this._showingRange.low||a>this._showingRange.high)){this._computeLayout(a);var b=(new Date).valueOf();for(a=0;a<this._buttonInfo.length;a++)this._setupAnimation(this._buttonInfo[a],b);this._startAnimation()}},_setupAnimation:function(a,b){b=b||(new Date).valueOf();var d=this._diffBox(a.targetBox,a.currentBox);a.animationInfo={startBox:e.clone(a.currentBox),startTime:b,
duration:this._computeButtonAnimationDuration(d),boxDiff:d}},_startAnimation:function(){!this.animationEnabled||!A.isAnimationEnabled()?this._updateButtonPositions():this._buttonAnimationTimer||(this._buttonAnimationTimer=setInterval(e.hitch(this,"_updateButtonPositions"),w.UPDATE_INTERVAL))},_endAnimation:function(){this._buttonAnimationTimer&&(clearInterval(this._buttonAnimationTimer),delete this._buttonAnimationTimer,this._clearButtonClipping(),this._animationDoneResponse&&(this._animationDoneResponse(),
delete this._animationDoneResponse))},_abortAnimation:function(){this._buttonAnimationTimer&&(clearInterval(this._buttonAnimationTimer),delete this._buttonAnimationTimer,this._clearButtonClipping())},_updateButtonPositions:function(){var a=!1,b=(new Date).valueOf(),d,c,f=this._getBarBounds();for(d=0;d<this._buttonInfo.length;d++)c=this._buttonInfo[d],this._updateButtonPosition(c,b,f)&&(a=!0);this._plusButtonInfo&&this._updateButtonPosition(this._plusButtonInfo,b,f)&&(a=!0);a||(this._endAnimation(),
this._updateButtonVisibility(),this._updateScrollButtonVisibility())},_updateButtonPosition:function(a,b,c){var f,e,g,k;g=!1;a.animationInfo&&(f=a.animationInfo,e=b-f.startTime,b=a.currentBox,this.animationEnabled&&A.isAnimationEnabled()&&e<f.duration?(g=l.cubicInOut(e/f.duration),b.l=f.startBox.l+f.boxDiff.l*g,b.t=f.startBox.t+f.boxDiff.t*g,b.w=f.startBox.w+f.boxDiff.w*g,b.h=f.startBox.h+f.boxDiff.h*g,g=!0):(y.copyBox(a.targetBox,b),delete a.animationInfo),a!==this._plusButtonInfo&&(c=this._computeScrollBounds(c),
y.boxesOverlap(b,c)?(a.isShowing||(d.set(a.button.domNode,{visibility:"visible"}),a.isShowing=!0),k=y.computeClip(b,c)):(d.set(a.button.domNode,{visibility:"hidden"}),a.isShowing=!1)),k&&(k.w<b.w||k.h<b.h)?(this._transformClipBox&&this._transformClipBox(k,a.targetBox),d.set(a.button.domNode,A.formatClipStyle(k)),a.isClipped=!0):a.isClipped&&(d.set(a.button.domNode,{clip:"auto"}),a.isClipped=!1),h.setMarginBox(a.button.domNode,b));return g},_getBarBounds:function(){var a=h.getMarginBox(this.domNode,
this.computedStyle);a.l=-1;a.t=-1;a.w+=2;a.h+=2;return a},_getVisibleButtonSetBounds:function(a){return y.intersectionBox(this._getButtonSetBounds(a),this._computeScrollBounds())},_getButtonSetBounds:function(a){var b=this._indexOfFirstInSet(a);a=this._indexOfLastInSet(a);if(!(0>b||0>a)){b=this._buttonInfo[b].currentBox;a=this._buttonInfo[a].currentBox;var d=this._getBarBounds();"horizontal"===this.orientation?(d.l=b.l,d.w=a.l-b.l+a.w):(d.t=b.t,d.h=a.t-b.t+a.h);return d}},_computeScrollBounds:function(a){var b;
a=a||this._getBarBounds();return this._showingRange?("horizontal"===this.orientation?(b=this._previousButtonBox.l+this._previousButtonBox.w,b={l:b,t:a.t,w:this._nextButtonBox.l-b,h:a.h}):(b=this._previousButtonBox.t+this._previousButtonBox.h,b={l:a.l,t:b,w:a.w,h:this._nextButtonBox.t-b}),y.intersectionBox(a,b)):a},_clearButtonClipping:function(){var a,b;for(a=0;a<this._buttonInfo.length;a++)b=this._buttonInfo[a],b.isClipped&&(b.button.domNode&&d.set(b.button.domNode,{clip:"auto"}),b.isClipped=!1)},
_computeButtonAnimationDuration:function(a){a=Math.max(Math.abs(a.l),Math.max(Math.abs(a.t),Math.max(Math.abs(a.w),Math.abs(a.h))));return w.computeDuration(a)},_beginButtonDrag:function(a,b){var d,c,f,e;n.isLeft(b)&&this.reorderingEnabled&&(1<this._buttonInfo.length&&(c=a.properties.setId,f=this._indexOfFirstInSet(c),e=this._indexOfLastInSet(c),f===e&&(this._beginSetDragAtPoint(c,null,b.pageX,b.pageY),d=!0,this._buttonDragInfo.initiatedButtonDrag=!0)),d||this._beginButtonDragAtPoint(a,b.pageX,b.pageY))},
_beginButtonDragAtPoint:function(a,b,d){var c=this._buttonInfo.indexOf(a);this._buttonDragInfo=b={buttonInfo:[a],startBox:a.targetBox,startX:b,startY:d,lastX:b,lastY:d,startIndex:c,currentIndex:c,connections:[q(this.ownerDocument,s.move,e.hitch(this,"_continueButtonDrag")),q(this.ownerDocument,s.release,e.hitch(this,"_endDrag",!1))]};z.blockUntilRelease(this.domNode);b.indexLowerLimit=this._indexOfFirstInSet(a.properties.setId);b.indexUpperLimit=this._indexOfLastInSet(a.properties.setId);a=Math.max(b.indexLowerLimit,
this._showingRange?this._showingRange.low:0);a=this._buttonInfo[a].currentBox;d=Math.min(b.indexUpperLimit,this._showingRange?this._showingRange.high:this._buttonInfo.length-1);d=this._buttonInfo[d].currentBox;"horizontal"===this.orientation?(b.lowerLimit=a.l,b.upperLimit=d.l+d.w):(b.lowerLimit=a.t,b.upperLimit=d.t+d.h)},_continueButtonDrag:function(a){var b=this._buttonDragInfo,d=b.buttonInfo[0],c="horizontal"===this.orientation,f,e,g,k;c?(f=a.pageX-b.startX,e=a.pageX-b.lastX,b.lastX=a.pageX,g=a.pageY-
b.startY,k=this.dragOffEdge?"top"===this.dragOffEdge?-1:1:0):(f=a.pageY-b.startY,e=a.pageY-b.lastY,b.lastY=a.pageY,g=a.pageX-b.startX,k=this.dragOffEdge?"left"===this.dragOffEdge?-1:1:0);var l=d.currentBox,m=h.position(this.domNode);m.l=m.x;m.t=m.y;if(this.dragOffEnabled&&!y.isNearBox(m,a.pageX,a.pageY,b.hasOrderChanged?50:6)&&0<=g*k)this._endDrag(!0),this._emitDragOffEvent({button:d.button,properties:d.properties,index:b.startIndex-this._indexOfFirstInSet(d.properties.setId),mousePoint:{x:a.pageX,
y:a.pageY}});else{if(!b.hasMoved)if(1<this._buttonInfo.length&&(5<f||-5>f))b.hasMoved=!0,this._prepareButtonForDrag(d);else return;this._dragBox(l,f,b);h.setMarginBox(d.button.domNode,l);b.isBelowLimit||b.isAboveLimit?this._buttonAnimationTimer||this._slideButtons():0!==e&&(a=b.startIndex<b.currentIndex?b.currentIndex:b.currentIndex-1,d=b.startIndex>b.currentIndex?b.currentIndex:b.currentIndex+1,a==b.startIndex&&a++,d==b.startIndex&&d++,c?0>e&&a>=b.indexLowerLimit?(c=this._buttonInfo[a],e=c.targetBox,
l.l<e.l+e.w/2&&(e.l+=l.w,b.currentIndex--,this._setupAnimation(c),this._startAnimation(),b.hasOrderChanged=!0)):0<e&&d<=b.indexUpperLimit&&(c=this._buttonInfo[d],e=c.targetBox,l.l+l.w>e.l+e.w/2&&(e.l-=l.w,b.currentIndex++,this._setupAnimation(c),this._startAnimation(),b.hasOrderChanged=!0)):0>e&&a>=b.indexLowerLimit?(c=this._buttonInfo[a],e=c.targetBox,l.t<e.t+e.h/2&&(e.t+=l.h,b.currentIndex--,this._setupAnimation(c),this._startAnimation(),b.hasOrderChanged=!0)):0<e&&d<=b.indexUpperLimit&&(c=this._buttonInfo[d],
e=c.targetBox,l.t+l.h>e.t+e.h/2&&(e.t-=l.h,b.currentIndex++,this._setupAnimation(c),this._startAnimation(),b.hasOrderChanged=!0)))}},_emitDragOffEvent:function(a){this.emit(D.DRAG_OUT,a)},_endDrag:function(a,b){var d=this,c=this._buttonDragInfo,e=this._buttonInfo[c.startIndex]===c.buttonInfo[0],f=!c.buttonInfo[0].removePending;delete this._buttonDragInfo;c.connections.forEach(function(a){a.remove()});c.hasMoved&&(e&&f)&&(c.currentIndex!==c.startIndex&&(this._changeButtonIndices(c.startIndex,c.currentIndex,
c.buttonInfo.length),this.emit(D.STATE_CHANGED)),this._computeLayout(c.currentIndex),c.buttonInfo.forEach(function(a){d._setupAnimation(a)}),this._animationDoneResponse=function(){c.buttonInfo.forEach(function(a){d._restoreButtonAfterDrag(a)})},this._startAnimation());!this._animationTimer&&this._animationDoneResponse&&(this._animationDoneResponse(),delete this._animationDoneResponse)},_beginSetDrag:function(a,b,d){n.isLeft(d)&&this.reorderingEnabled&&this._beginSetDragAtPoint(a,b,d.pageX,d.pageY);
A.stopEvent(d)},_beginSetDragAtPoint:function(a,b,d,c){var f=this._indexOfFirstInSet(a),h=this._indexOfLastInSet(a);this._buttonDragInfo=a={setId:a,headerBox:b,startBox:this._getButtonSetBounds(a),startX:d,startY:c,lastX:d,lastY:c,startIndex:f,currentIndex:f,connections:[q(this.ownerDocument,s.move,e.hitch(this,"_continueSetDrag")),q(this.ownerDocument,s.release,e.hitch(this,"_endDrag",!1))]};z.blockUntilRelease(this.domNode);f=h-f+1;b=[];for(d=a.startIndex;d<a.startIndex+f;d++)b.push(this._buttonInfo[d]);
this._buttonDragInfo.buttonInfo=b;a.indexLowerLimit=0;a.indexUpperLimit=this._buttonInfo.length-f;f=this._buttonInfo[this._showingRange?this._showingRange.low:0].currentBox;h=Math.max(h,this._showingRange?this._showingRange.high:this._buttonInfo.length-1);h=this._buttonInfo[h].currentBox;"horizontal"===this.orientation?(a.lowerLimit=f.l,a.upperLimit=h.l+h.w):(a.lowerLimit=f.t,a.upperLimit=h.t+h.h)},_continueSetDrag:function(a){var b=this._buttonDragInfo,d="horizontal"===this.orientation,c,f,g,k,l,
m,n,p,r;d?(c=a.pageX-b.startX,f=a.pageX-b.lastX,b.lastX=a.pageX,g=a.pageY-b.startY,k=this.dragOffEdge?"top"===this.dragOffEdge?-1:1:0):(c=a.pageY-b.startY,f=a.pageY-b.lastY,b.lastY=a.pageY,g=a.pageX-b.startX,k=this.dragOffEdge?"left"===this.dragOffEdge?-1:1:0);l=this._getButtonSetBounds(b.setId);var u=h.position(this.domNode);u.l=u.x;u.t=u.y;b.headerBox&&(u=y.unionBox(u,b.headerBox));if(this.dragOffEnabled&&!y.isNearBox(u,a.pageX,a.pageY,b.hasOrderChanged?50:6)&&0<=g*k)this._endDrag(!0),l={index:b.startIndex,
mousePoint:{x:a.pageX,y:a.pageY}},b.initiatedButtonDrag?(l.button=b.buttonInfo[0].button,l.properties=b.buttonInfo[0].properties,l.index-=this._indexOfFirstInSet(b.setId)):l.setId=b.setId,this._emitDragOffEvent(l);else{if(!b.hasMoved)if(5<c||-5>c){b.hasMoved=!0;for(a=0;a<b.buttonInfo.length;a++)this._prepareButtonForDrag(b.buttonInfo[a],!0)}else return;this._dragBox(l,c,b);for(a=0;a<b.buttonInfo.length;a++)c=b.buttonInfo[a],c.currentBox=e.clone(c.targetBox),d?c.currentBox.l+=l.l-b.startBox.l:c.currentBox.t+=
l.t-b.startBox.t,h.setMarginBox(c.button.domNode,c.currentBox);if(b.isBelowLimit||b.isAboveLimit)this._buttonAnimationTimer||this._slideButtons();else if(0!==f)if(a=b.buttonInfo.length,b.currentIndex==b.startIndex?(c=b.currentIndex-1,a=b.currentIndex+a):(c=b.currentIndex>b.startIndex?b.currentIndex+a-1:b.currentIndex-1,a=c+1),0>f&&b.currentIndex>b.indexLowerLimit?(m=this._buttonInfo[c].properties.setId,p=c-this._indexOfFirstInSet(m)+1,m=this._getButtonSetBounds(m)):0<f&&b.currentIndex<b.indexUpperLimit&&
(n=this._buttonInfo[a].properties.setId,r=this._indexOfLastInSet(n)-a+1,n=this._getButtonSetBounds(n)),d)if(p){if(l.l<m.l+m.w/2){b.currentIndex-=p;for(d=0;d<p;d++,c--)r=this._buttonInfo[c],m=r.targetBox,m.l+=l.w+this.setGap,this._setupAnimation(r);this._startAnimation();b.hasOrderChanged=!0}}else{if(r&&l.l+l.w>n.l+n.w/2){b.currentIndex+=r;for(d=0;d<r;d++,a++)p=this._buttonInfo[a],n=p.targetBox,n.l-=l.w+this.setGap,this._setupAnimation(p);this._startAnimation();b.hasOrderChanged=!0}}else if(p){if(l.t<
m.t+m.h/2){b.currentIndex-=p;for(d=0;d<p;d++,c--)r=this._buttonInfo[c],m=r.targetBox,m.t+=l.h+this.setGap,this._setupAnimation(r);this._startAnimation();b.hasOrderChanged=!0}}else if(r&&l.t+l.h>n.t+n.h/2){b.currentIndex+=r;for(d=0;d<r;d++,a++)p=this._buttonInfo[a],n=p.targetBox,n.t-=l.h+this.setGap,this._setupAnimation(p);this._startAnimation();b.hasOrderChanged=!0}}},_dragBox:function(a,b,d){d.isAboveLimit=!1;d.isBelowLimit=!1;"horizontal"===this.orientation?(a.l=d.startBox.l+b,a.l<=d.lowerLimit?
(a.l=d.lowerLimit,d.isBelowLimit=!0):a.l+a.w>=d.upperLimit&&(a.l=d.upperLimit-a.w,d.isAboveLimit=!0)):(a.t=d.startBox.t+b,a.t<=d.lowerLimit?(a.t=d.lowerLimit,d.isBelowLimit=!0):a.t+a.h>=d.upperLimit&&(a.t=d.upperLimit-a.h,d.isAboveLimit=!0))},_prepareButtonForDrag:function(a,b){a.button.disarm&&a.button.disarm();b?f.add(a.button.domNode,"movingSet"):f.add(a.button.domNode,"movingButton")},_restoreButtonAfterDrag:function(a){a.button.rearm&&setTimeout(function(){a.button.rearm()},0);f.remove(a.button.domNode,
"movingButton");f.remove(a.button.domNode,"movingSet")},_slideButtons:function(){var a=this,b=this._buttonDragInfo,c=b.buttonInfo[0],f=this._buttonInfo.length,e="horizontal"===this.orientation,h,g,k;if(this._showingRange){if(b.isBelowLimit&&0<b.currentIndex){h=b.currentIndex-1;g=this._buttonInfo[h];d.set(g.button.domNode,{visibility:"visible"});if(e){k=g.currentBox.w;g.currentBox.l=b.lowerLimit-k;g.targetBox.l=g.currentBox.l;for(e=h;e<f;e++)h=this._buttonInfo[e],h!==c&&(h.targetBox.l+=k,e<b.currentIndex&&
(h.targetBox.l+=c.currentBox.w),this._setupAnimation(h))}else{k=g.currentBox.h;g.currentBox.t=b.lowerLimit-k;g.targetBox.t=g.currentBox.t;for(e=h;e<f;e++)h=this._buttonInfo[e],h!==c&&(h.targetBox.t+=k,e<b.currentIndex&&(h.targetBox.t+=c.currentBox.h),this._setupAnimation(h))}b.currentIndex--;this._showingRange.low--;this._showingRange.high--;h=!0}else if(b.isAboveLimit&&b.currentIndex<f-1){f=b.currentIndex+1;h=this._buttonInfo[f];d.set(h.button.domNode,{visibility:"visible"});if(e){g=h.currentBox.w;
h.currentBox.l=b.upperLimit;h.targetBox.l=h.currentBox.l;for(e=f;0<=e;e--)h=this._buttonInfo[e],h!==c&&(h.targetBox.l-=g,e>b.currentIndex&&(h.targetBox.l-=c.currentBox.w),this._setupAnimation(h))}else{g=h.currentBox.h;h.currentBox.t=b.upperLimit;h.targetBox.t=h.currentBox.t;for(e=f;0<=e;e--)h=this._buttonInfo[e],h!==c&&(h.targetBox.t-=g,e>b.currentIndex&&(h.targetBox.t-=c.currentBox.h),this._setupAnimation(h))}b.currentIndex++;this._showingRange.high++;this._showingRange.low++;h=!0}h&&(this._animationDoneResponse=
function(){a._buttonDragInfo===b&&(b.isBelowLimit||b.isAboveLimit)&&setTimeout(function(){a._buttonDragInfo===b&&(b.isBelowLimit||b.isAboveLimit)&&a._slideButtons()},100)},this._startAnimation())}},_changeButtonIndices:function(a,b,d){a=this._buttonInfo.splice(a,d);for(d=0;d<a.length;d++)this._buttonInfo.splice(b+d,0,a[d]);this._updateButtonIndices()},_updateButtonIndices:function(){this._isUpdatingIndices=!0;var a,b,d,c=0;for(a=0;a<this._buttonInfo.length;a++)b=this._buttonInfo[a].properties,d!==
b.setId&&(c=a,d=b.setId),b.set(B.INDEX,a-c);this._isUpdatingIndices=!1},on:function(a){a===D.DRAG_OUT&&(this.dragOffEnabled=!0);return this.inherited(arguments)}});g.ORIENTATION="orientation";g.SHRINK_WIDTH_TO_FIT="shrinkWidthToFit";g.SHRINK_HEIGHT_TO_FIT="shrinkHeightToFit";g.MINIMUM_BUTTON_WIDTH="minimumButtonWidth";g.MINIMUM_BUTTON_HEIGHT="minimumButtonHeight";return g})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(g,c,e,a,b,f,k,h,d){return f("dijit.layout._LayoutWidget",[c,e,a],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(b.on("resize",g.hitch(this,"resize")))}},resize:function(a,b){var c=this.domNode;a&&h.setMarginBox(c,a);var e=
b||{};g.mixin(e,a||{});if(!("h"in e)||!("w"in e))e=g.mixin(h.getMarginBox(c),e);var f=d.getComputedStyle(c),k=h.getMarginExtents(c,f),r=h.getBorderExtents(c,f),e=this._borderBox={w:e.w-(k.w+r.w),h:e.h-(k.h+r.h)},k=h.getPadExtents(c,f);this._contentBox={l:d.toPixelValue(c,f.paddingLeft),t:d.toPixelValue(c,f.paddingTop),w:e.w-k.w,h:e.h-k.h};this.layout()},layout:function(){},_setupChild:function(a){k.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,
b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){k.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"mw-menu/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dijit/focus dojo/keys dojo/on dojo/query dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){return g(v.validate([d,n,l,m,q,s,p,r,t,u,x]),{baseClass:"mwWidget mwContextMenu",disabled:!1,templateString:w,postCreate:function(){this.inherited(arguments);this._activeEventListeners=[];this._onOpenEventListenersInfo=[{event:"wheel",target:document.body,callback:c.hitch(this,"_onWheel")},{event:"mousewheel",target:document.body,callback:c.hitch(this,"_onWheel")},{event:"mousedown",target:document.body,callback:c.hitch(this,function(a){this._shouldCloseMenu(a.target)&&
this.closeMenu()}),useCapture:!0},{event:"mouseenter",target:document.body,callback:c.hitch(this,this._onMouseMovement),useCapture:!0},{event:"mouseover",target:document.body,callback:c.hitch(this,this._onMouseMovement),useCapture:!0},{event:"keydown",target:this.domNode,callback:c.hitch(this,function(b){b.keyCode===a.ESCAPE&&(this.closeMenu(),document.body.classList.contains("mwHasFocusManager")?this.emit("restorefocus"):e.focus(this._previousFocusNode))})},{event:"change",target:this.domNode,callback:c.hitch(this,
function(a){a=k.getEnclosingWidget(a.target);a.domNode.hasAttribute("data-composite-child")&&(a=k.byNode(document.getElementById(a.domNode.getAttribute("data-composite-primary-id"))));(a.get("closeMenuOnClick")||void 0===a.get("closeMenuOnClick"))&&this.closeMenu()})},{event:"close",target:this.domNode,callback:c.hitch(this,this._cleanupOnClose)}];this.own(b(this.domNode,"open",c.hitch(this,this._handleOpen)));this.set("disabled",this.disabled)},_setDisabledAttr:function(a){if("boolean"===typeof value)throw Error("Expected 'disabled' property to be a boolean");
a?this._removeRightClickEventListener():this._addRightClickEventListener();this._set("disabled",a)},_addRightClickEventListener:function(){this._rightClickListener||(this._rightClickListener=b(document.body,"contextmenu",c.hitch(this,this._createCallback(c.hitch(this,this._onContextMenu),c.hitch(this,this._onDoubleContextMenu),200,!0))),this.own(this._rightClickListener))},_removeRightClickEventListener:function(){this._rightClickListener&&(this._rightClickListener.remove(),delete this._rightClickListener)},
_addOnOpenEventListeners:function(){if(this._activeEventListeners.length<this._onOpenEventListenersInfo.length)for(var a=0;a<this._onOpenEventListenersInfo.length;a++)this._onOpenEventListenersInfo[a].useCapture?(this._onOpenEventListenersInfo[a].target.addEventListener(this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback,!0),this._activeEventListeners[a]=[{target:this._onOpenEventListenersInfo[a].target,event:this._onOpenEventListenersInfo[a].event,callback:this._onOpenEventListenersInfo[a].callback,
useCapture:!0}]):this._activeEventListeners[a]=this.own(b(this._onOpenEventListenersInfo[a].target,this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback))},_removeOnOpenEventListeners:function(){if(0<this._activeEventListeners.length)for(;0<this._activeEventListeners.length;){var a=this._activeEventListeners.pop()[0];a.useCapture?a.target.removeEventListener(a.event,a.callback,!0):a.remove()}},_onWheel:function(a){this.isDescendant(a.target)||this.closeMenu()},isMenuOpen:function(){return this.domNode&&
this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display},open:function(a){this.openMenu(a)},openMenu:function(a){if(!this.get("disabled")){this._computeTargetNodes(a);a.doNotClose=this._nodeMatchesSelector(a.target,".galleryPopup, .galleryPopup  *, .mwSectionPopup, .mwSectionPopup *");if(a.target){var b=k.getEnclosingWidget(a.target);b&&b.id&&this.domNode.setAttribute("data-target-id",b.id)}if("contextmenu"===a.type)this._handleRightClick(a);else if(a.target instanceof HTMLElement&&
isNaN(a.x)&&isNaN(a.y))this._handleOpenWithDomNode(a);else if(!a.target&&!isNaN(a.x)&&!isNaN(a.y))this._handleOpenWithXY(a);else throw Error("Invalid parameters passed");}},_onMouseMovement:function(a){this.isDescendant(a.target)||(a.stopImmediatePropagation(),a.preventDefault())},_nodeMatchesSelector:function(a,b){var d=!1;a&&b&&(a.matches?d=a.matches(b):a.matchesSelector?d=a.matchesSelector(b):a.webkitMatchesSelector?d=a.webkitMatchesSelector(b):a.mozMatchesSelector?d=a.mozMatchesSelector(b):a.msMatchesSelector?
d=a.msMatchesSelector(b):a.oMatchesSelector&&(d=a.oMatchesSelector(b)));return d},_handleRightClick:function(a){var b;if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(b=this.willOpenCallback({target:a.target,x:a.clientX,y:a.clientY})))return;this._previousFocusNode=a.target;1>a.pageX&&1>a.pageY?this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose}):this._showMenu({x:a.pageX,y:a.pageY,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithDomNode:function(a){var b;
if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(b=this.willOpenCallback({target:a})))return;this._previousFocusNode=a.target;this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithXY:function(a){var b;if(this.willOpenCallback&&(b=this.willOpenCallback({target:a.target})))return;this._showMenu({x:a.x,y:a.y,popup:this})},_showMenu:function(a){h.open(a)},_handleOpen:function(){this._addOnOpenEventListeners();this._handleEmptyContextMenu()},_handleEmptyContextMenu:function(){0===
this.domNode.children.length?this.domNode.parentElement&&(this.domNode.parentElement.style.display="none"):this.domNode.parentElement&&(this.domNode.parentElement.style.display="")},close:function(){this.closeMenu()},closeMenu:function(){h.close(this)},_cleanupOnClose:function(){this._removeOnOpenEventListeners();this.domNode&&(this.domNode.removeAttribute("data-target-id"),this.domNode.parentNode&&(this.domNode.parentNode.style.overflowX="visible",this.domNode.parentNode.style.overflowY="visible"))},
_shouldCloseMenu:function(a){var b=!0;if(!this.isMenuOpen())return!1;if(a&&(this.isDescendant(a)||this.targetNodes&&0<=this.targetNodes.indexOf(a)))b=!1;return b},_setTargetNodesAttr:function(a){if(null===a||void 0===a)a=[];this._set("targetNodes",a)},_computeTargetNodes:function(a){this._contextMenuNodes=[];this.targetNodes&&this.targetNodes.forEach(function(b){"string"===typeof b?f(b).forEach(function(a){var b=a.querySelectorAll("*");Object.keys(b).forEach(function(a){this._contextMenuNodes.push(b[a])},
this);this._contextMenuNodes.push(a)},this):"function"===typeof b?(b=b(a))&&(1<b.length?b.forEach(function(a){this._contextMenuNodes.push(a)}.bind(this)):this._contextMenuNodes.push(b)):this._contextMenuNodes.push(b)},this);return this._contextMenuNodes},_onContextMenu:function(a){a.preventDefault();this.openMenu(a)},_onDoubleContextMenu:function(a){a.preventDefault()},_getTargetNode:function(a){null!==a&&a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));
return a},_createCallback:function(a,b,d,c){var e=0,f;void 0===d&&(d=200);return function(h){!0===c&&-0<=this._computeTargetNodes(h).indexOf(h.target)&&h.preventDefault();e+=1;1===e?f=setTimeout(function(){e=0;a(h)},d):2===e&&(clearTimeout(f),e=0,b(h))}},destroy:function(){this._removeOnOpenEventListeners();this.inherited(arguments)}})})},"mw-menu/mixins/KeyNavMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys","mw-menu/mixins/ContainerFocusMixin"],function(g,c,
e,a,b){g=g(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",c.hitch(this,"_onKeyDown")),e(this.domNode,"synkeydown",c.hitch(this,"_onKeyDown")))},_onKeyDown:function(b){b.keyCode===a.DOWN_ARROW?(this._handleFocusNext(b.target),b.preventDefault()):b.keyCode===a.UP_ARROW?(this._handleFocusPrevious(b.target),b.preventDefault()):b.keyCode===a.PAGE_UP||b.keyCode===a.HOME?(this._moveToFirstChild(b.target),b.preventDefault()):b.keyCode===a.PAGE_DOWN||b.keyCode===a.END?
(this._moveToLastChild(b.target),b.preventDefault()):b.keyCode===a.TAB&&(this._handleFocusNext(b.target),b.preventDefault())},_handleFocusNext:function(a){(null===a||this._isActiveElement(a))&&this.focusNext(this._getTargetNode(a))},_handleFocusPrevious:function(a){(null===a||this._isActiveElement(a))&&this.focusPrevious(this._getTargetNode(a))},_moveToFirstChild:function(){this.focusFirst()},_moveToLastChild:function(){this.focusLast()},_getTargetNode:function(a){return a},_isActiveElement:function(a){return a.hasAttribute("data-composite-primary")?
a.contains(document.activeElement):a===document.activeElement}});g._dependencies=[{mixin:b,orderDependent:!1}];return g})},"mw-menu/mixins/ContainerFocusMixin":function(){define(["dojo/_base/declare","mw-dom-utils/domUtils","dijit/focus"],function(g,c,e){return g(null,{isCyclic:!0,_setIsCyclicAttr:function(a){if("boolean"!==typeof a)throw Error("'isCyclic' property expects a boolean value.");this._set("isCyclic",a)},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwContainerFocusMixin");
this.focusNode=this.focusNode||this.domNode},focus:function(a){this.inherited(arguments);a?this._focusNearestFocusableNode(a,!0,"next"):this.focusNode&&c.isFocusable(this.focusNode)&&e.focus(this.focusNode)},focusNext:function(a){this.inherited(arguments);a||(a=document.activeElement&&c.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(a,!1,"next")},focusPrevious:function(a){this.inherited(arguments);a||(a=document.activeElement&&
c.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(a,!1,"previous")},focusFirst:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"next")},focusLast:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"previous")},_focusNearestFocusableNode:function(a,b,f){a=this._getAppropriateNodeFromInput(a);if(0<c.getChildren(this.domNode).length&&(null==a||c.isDescendant(a,this.domNode,!0)))a=
this._findFocusableChild(a,b,f),null!==a&&(c.isElementInViewport(a)||a.scrollIntoView(!0),e.focus(a))},_findFocusableChild:function(a,b,e){var g=!1,h,d=!1;a=this._getAppropriateNodeFromInput(a);null==b&&(b=!0);if(!e||0>["next","previous"].indexOf(e))e="next";if(a===this.domNode)g=!0;else for((h=a)&&!b&&(h=c.getAdjacentElement(h,e));h&&!c.isFocusable(h);){if(h===a){if(d)return null;d=!0}h=c.getAdjacentElement(h,e)}if(g||!h&&this.isCyclic||null==a){switch(e){case "next":h=c.getFirstChild(this.domNode);
break;case "previous":h=c.getLastChild(this.domNode)}h=this._findFocusableChild(h,!0,e)}h&&(a=this._getAppropriateNodeFromInput(h));return a},_getAppropriateNodeFromInput:function(a){if(null==a)return null;a=a.focusNode||a.domNode||a;if(!(a instanceof Element))throw Error("Input argument expects a Widget or DOM node.");return a}})})},"mw-dom-utils/domUtils":function(){define(["dojo/sniff"],function(g){var c={},e={INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",
INVALID_BOOLEAN:"The input parameter must be of type 'boolean'.",INVALID_OBJECT:"The input parameter must be of type 'object'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},a=function(a){if(!(a instanceof
Element))throw Error(e.INVALID_ELEMENT);},b=function(a){if(-1===["String","string"].indexOf(typeof a))throw Error(e.INVALID_STRING);},f=function(a){if(-1===["Boolean","boolean"].indexOf(typeof a))throw Error(e.INVALID_BOOLEAN);},k=function(a){if(-1===["Object","object"].indexOf(typeof a))throw Error(e.INVALID_OBJECT);};c._qeSetup=function(){c._qeTools={};c._qeTools.errorMessages=e;c._qeTools.validateElement=a;c._qeTools.validateString=b;c._qeTools.validateBoolean=f;c._qeTools.validateObject=k;c._qeTools.overrideErrorMessaged=
function(a){e=a};c._qeTools.overrideValidateElement=function(b){a=b};c._qeTools.overrideValidateString=function(a){b=a};c._qeTools.overrideValidateBoolean=function(a){f=a};c._qeTools.overrideValidateObject=function(a){k=a}};c.isLeftMouseButton=function(a){return!0===a.synthetic&&g("trident")?1===a.button:0===a.button};c.parseFocusEvent=function(a){if(!(a instanceof FocusEvent))throw Error(e.INVALID_FOCUS_EVENT);var b={};b.lostFocusNode=a.target;b.gainedFocusNode=g("chrome")||g("safari")?a.relatedTarget:
document.activeElement;b.type=a.type;b.eventdata=a;return b};c.getParent=function(b){a(b);return b.parentNode};c.findParentNode=function(a,b,c){var e=null,f;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(c){if(a.hasAttribute(b)&&a.getAttribute(b)===c){e=a;break}}else{if(a.hasAttribute(b)){e=a;break}if(a.classList.contains(b)){e=a;break}}a=(f=a.getAttribute("dijitpopupparent"))?document.getElementById(f):a.parentNode}return e};c.getNodeType=function(b){a(b);return{1:"Element",3:"Text",7:"Processing Instruction",
8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[b.nodeType]};c.getById=function(a){b(a);return window.document.getElementById(a)};c.getByClass=function(a){b(a);return window.document.getElementsByClassName(a)};c.getByAttr=function(a){b(a);return window.document.querySelectorAll("["+a+"]")};c.getByAttrValue=function(a,d){b(a);b(d);return window.document.querySelectorAll("["+a+"\x3d"+d.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")};c.getByName=function(a){b(a);return window.document.getElementById("[name\x3d"+
a+"]")};c.getByTag=function(a){b(a);return window.document.getElementsByTagName(a)};c.matchesSelector=function(c,d){if(!c||!d)return!1;a(c);b(d);return c[c.msMatchesSelector?"msMatchesSelector":"matches"](d)};c.getComputedStyle=function(c,d){a(c);return d?(b(d),window.getComputedStyle(c,null)[d]):window.getComputedStyle(c,null)};c.getStyle=function(c,d){a(c);b(d);if(void 0===c.style[d])throw Error(e.INVALID_STYLE);return c.style[d]};c.setStyle=function(c,d,f){a(c);b(d);b(f);c.style[d]=f;if(c.style[d]!==
f)throw Error(e.INVALID_VALUE);};c.hasAttr=function(c,d){a(c);b(d);return c.hasAttribute(d)};c.hasAttrValue=function(c,d,e){a(c);b(d);b(e);return c.hasAttribute(d)&&c.getAttribute(d)===e};c.getAttr=function(c,d){a(c);b(d);return c.getAttribute(d)};c.setAttr=function(c,d,e){a(c);b(d);b(e);c.setAttribute(d,e)};c.addAttr=function(c,d){a(c);b(d);c.setAttribute(d,"")};c.removeAttr=function(c,d){a(c);b(d);c.removeAttribute(d)};c.getClasses=function(b){a(b);return b.classList?b.classList:{_element:b,_getClassArray:function(){return this._element.className.split(" ")},
_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:b.className.split(" ").length,item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),
!1;this.add(a);return!0}}};c.getClass=function(a,b){if(null==b||"number"!==typeof b||0>b||0!==b%1)throw Error(e.INTEGER_INDEX);return c.getClasses(a).item(b)};c.addClass=function(a,b){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return c.getClasses(a).add(b)};c.removeClass=function(a,b){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return c.getClasses(a).remove(b)};c.toggleClass=function(a,b,f){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return f?c.getClasses(a).toggle(b,
f):c.getClasses(a).toggle(b)};c.containsClass=function(a,b){if(null==b||"string"!==typeof b)throw Error(e.STRING_INDEX);return c.getClasses(a).contains(b)};c.classCount=function(a){return c.getClasses(a).length};c.getChildCount=function(b){a(b);return b.childElementCount};c.getChildren=function(b){a(b);return b.children};c.isDescendant=function(b,d,e){a(b);a(d);if(e&&b===d)return!0;for(;b&&b!==window.document;)if(b=c.getParent(b),b===d)return!0;return!1};c.isDescendantOrInLaw=function(a,b,f,g){var k;
if("function"!==typeof f)throw Error(e.SPOUSE_NODE);k=c.isDescendant(a,b,g);!1===k&&(a=f(a)||a.parentNode)&&a!==window.document&&(k=c.isDescendantOrInLaw(a,b,f,g));return k};c.getFirstChild=function(b){a(b);return!c.isContainer(b)||1>c.getChildCount(b)?null:c.getChildren(b)[0]};c.getLastChild=function(b){var d;a(b);d=c.getChildCount(b);return!c.isContainer(b)||1>d?null:c.getChildren(b)[d-1]};c.isContainer=function(b){a(b);return 0<c.getChildCount(b)};c.getAdjacentElement=function(b,c){a(b);if(!c||
0>["next","previous"].indexOf(c))c="next";return b=b[c+"Sibling"]};c.getElementPositionInViewPort=function(b){a(b);b=b.getBoundingClientRect();return{x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top}};c.getElementPositionOnPage=function(b){a(b);b=c.getElementPositionInViewPort(b);b.x+=window.pageXOffset;b.y+=window.pageYOffset;return b};c.setPositionExtents=function(a,b){k(b);var e={};e.top=b.t?b.t:b.top?b.top:"auto";e.right=b.r?b.r:b.right?b.right:"auto";e.bottom=b.b?b.b:b.bottom?b.bottom:"auto";
e.left=b.l?b.l:b.left?b.left:"auto";["top","right","bottom","left"].forEach(function(b){c.setStyle(a,b,e[b])})};c.isFocusable=function(b){a(b);return b&&!b.hasAttribute("disabled")&&(!b.hasAttribute("aria-disabled")||"true"!==b.getAttribute("aria-disabled"))&&"none"!==b.style.display&&!b.hasAttribute("data-refuse-key-nav")};c.isElementInViewport=function(b,c){var e,f,g,k;a(b);e=b.getBoundingClientRect();f=window.innerWidth||document.documentElement.clientWidth;g=window.innerHeight||document.documentElement.clientHeight;
k=function(a,b){return document.elementFromPoint(a,b)};return 0>=e.width||0>=e.height||0>e.right||0>e.bottom||e.left>f||e.top>g?!1:2>e.width&&2>e.height?(f=e.left+(e.right-e.left)/2,g=e.top+(e.bottom-e.top)/2,b.contains(k(f,g))):2>e.width?(f=e.left+(e.right-e.left)/2,c?b.contains(k(f,e.top+1))&&b.contains(k(f,e.bottom-1)):b.contains(k(f,e.top+1))||b.contains(k(f,e.bottom-1))):2>e.height?(g=e.top+(e.bottom-e.top)/2,c?b.contains(k(e.left+1,g))&&b.contains(k(e.right-1,g)):b.contains(k(e.left+1,g))||
b.contains(k(e.right-1,g))):c?b.contains(k(e.left+1,e.top+1))&&b.contains(k(e.right-1,e.top+1))&&b.contains(k(e.right-1,e.bottom-1))&&b.contains(k(e.left+1,e.bottom-1)):b.contains(k(e.left+1,e.top+1))||b.contains(k(e.right-1,e.top+1))||b.contains(k(e.right-1,e.bottom-1))||b.contains(k(e.left+1,e.bottom-1))};c._obscuredProps={};c._obscuredProps.sawPosAbsolute=!1;c._obscuredProps.elementPosition=null;c.isElementObscuredByParent=function(b,d){var e,f,g,k;a(b);k=!1;if(g=c.getParent(b))if(d||(c._obscuredProps.elementPosition=
c.getElementPositionOnPage(b),c._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(b,null).position),e=c._obscuredProps.elementPosition,f=c._obscuredProps.sawPosAbsolute,g&&"Element"===c.getNodeType(g)&&"BODY"!==g.nodeName){var s=c.getElementPositionOnPage(g);g=window.getComputedStyle(g,null);/relative|absolute/.test(g.position)&&(f=c._sawPosAbsolute=!1);!f&&/hidden|auto|scroll/.test(g.overflow)&&(k=e.y<s.y||e.y+e.h>s.y+s.h||e.x<s.x||e.x+e.w>s.x+s.w)}return k};c.isElementObscuredByAncestor=
function(b){var d,e;a(b);d=!1;c._obscuredProps.elementPosition=c.getElementPositionOnPage(b);for(c._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(b,null).position;(e=c.getParent(b))&&"Element"===c.getNodeType(e)&&"BODY"!==e.nodeName;)d=c.isElementObscuredByParent(b,!0),b=e;return d};return c})},"mw-menu/mixins/OnOpenMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry"],function(g,c,e){return g(null,{_focusOnOpen:!0,_matchMinWidthToInvokingWidget:!0,
onOpen:function(){setTimeout(c.hitch(this,function(){if(this._focusOnOpen&&this.focus){var a=window.pageXOffset,b=window.pageYOffset;this.focus();window.scrollTo(a,b)}}),0);this._emitOpenEvent();this._updateLayout()},_updateLayout:function(){this._removeAllWidths();this._matchMinWidthToInvokingWidget&&this._updateWidth();this._updateHeight()},_removeAllWidths:function(){this.domNode.style.width="";this.getChildren().forEach(function(a){a.domNode.style.width=""})},_updateWidth:function(){if(this._invokingWidget&&
this.domNode.offsetWidth<this._invokingWidget.domNode.offsetWidth){var a=0;this.domNode.parentElement&&(a=e.getMarginBox(this.domNode.parentElement).w-e.getMarginBox(this.domNode).w);this.domNode.style.width=this._invokingWidget.domNode.offsetWidth-a+"px"}},_updateHeight:function(){if(this.domNode&&this.domNode.parentElement&&this.domNode.parentElement.classList&&this.domNode.parentElement.classList.contains("dijitPopup")){var a,b=this.domNode,c=b.parentElement;a=window.getComputedStyle(b,null);var e=
window.getComputedStyle(c,null),e=parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth)+parseInt(e.borderTopWidth)+parseInt(e.borderBottomWidth);a="ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints?window.innerHeight||document.documentElement.clientHeight:document.documentElement.clientHeight;""!==b.style.height&&(b.style.height="");c.offsetTop+b.clientHeight>a&&(b.style.height=a-c.offsetTop-e+"px");c.style.overflow="hidden";c.style.overflowX=
"hidden";c.style.overflowY="hidden"}},_setFocusOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'focusOnOpen' property expects a boolean value.");this._set("_focusOnOpen",a)},_emitOpenEvent:function(){this.emit("open",{})}})})},"mw-menu/mixins/OnCloseMixin":function(){define(["dojo/_base/declare","mw-menu/mixins/OnOpenMixin"],function(g,c){var e=g(null,{_closeEventData:{},onClose:function(){this._emitCloseEvent();this._closeEventData={}},_emitCloseEvent:function(){this.emit("close",this._closeEventData)}});
e._dependencies=[{mixin:c,orderDependent:!1}];return e})},"mw-menu/mixins/MenuFocusMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/has dojo/touch dojo/keys dijit/popup dijit/registry mw-dom-utils/domUtils mw-utils/widgetUtils mw-menu/mixins/ContainerFocusMixin".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){var n=a("touch")&&!window.PointerEvent;g=g(null,{postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwMenuFocusMixin");this.focusNode=this.focusNode||
this.domNode;this.own(e(this.domNode,"close",c.hitch(this,this._handleClose)))},focus:function(){this.inherited(arguments);this._addFocusListeners()},_focusLost:function(a){setTimeout(c.hitch(this,function(){if(l.isMenuOpen(this)){var b=a instanceof FocusEvent?h.getEnclosingWidget(d.parseFocusEvent(a).gainedFocusNode):h.getEnclosingWidget(a.target),c,e,f;(c=b?b.focusNode&&b.focusNode instanceof Element?b.focusNode:b.domNode?b.domNode:null:null)&&c.hasAttribute("data-composite-child")&&(b=h.getEnclosingWidget(document.getElementById(c.getAttribute("data-composite-primary-id"))));
c=this.isDescendant(b,this);e=b&&b.domNode&&-1<[].slice.call(document.querySelectorAll(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu *")).indexOf(b.domNode);f=this._invokingWidget&&b===this._invokingWidget;(!b||!c&&!e&&!f)&&this._focusChange(b)}}),0)},_handleKeydown:function(a){a.keyCode===f.ESCAPE&&this._focusLost(a)},_handleClose:function(){this._removeFocusListeners()},_addFocusListeners:function(){this.focusNode&&(this._focusNodeBlurListener=e(this.focusNode,"blur",c.hitch(this,
"_focusLost")),this.own(this._focusNodeBlurListener),this._windowBlurListener=e(window,"blur",c.hitch(this,"_focusLost")),this.own(this._windowBlurListener),this._documentClickListener=e(document.body,n?b.press:"mousedown",c.hitch(this,"_focusLost")),this.own(this._documentClickListener),this._escapeKeydownListener=e(document.body,"keydown",c.hitch(this,"_handleKeydown")),this.own(this._escapeKeydownListener))},_removeFocusListeners:function(){this._focusNodeBlurListener&&(this._focusNodeBlurListener.remove(),
delete this._focusNodeBlurListener);this._windowBlurListener&&(this._windowBlurListener.remove(),delete this._windowBlurListener);this._documentClickListener&&(this._documentClickListener.remove(),delete this._documentClickListener);this._escapeKeydownListener&&(this._escapeKeydownListener.remove(),delete this._escapeKeydownListener)},_focusChange:function(a){this._closeEventData={mwEventData:{gainedFocusWidget:a}};null==a?this.closeRequest(!1):!this.isInvokingWidget(a)&&!this.isDescendant(a,this)&&
this.closeRequest(!1)},closeRequest:function(a){if(null==a||0>[!0,!1].indexOf(a))a=!0;this.close&&this.close();this._invokingWidget&&this._invokingWidget.isMenuOpen()&&this._invokingWidget.closeMenu(a);l.isMenuOpen(this)&&k.close(this)},isInvokingWidget:function(a){if(null==a)return!1;a instanceof HTMLElement&&(a=h.getEnclosingWidget(a));return a===this._invokingWidget},isDescendant:function(a,b){if(null==a)return!1;a.domNode&&(a=a.domNode);null==b?b=this.domNode:b.domNode&&(b=b.domNode);return d.isDescendantOrInLaw(a,
b,function(a){return a.hasAttribute("dijitpopupparent")?document.getElementById(a.getAttribute("dijitpopupparent")):null},!0)}});g._dependencies=[{mixin:m,orderDependent:!0}];return g})},"mw-utils/widgetUtils":function(){define(["dijit/registry","mw-utils/domUtils"],function(g,c){var e={findParentWidget:function(a,b){var e=null,k;for(a instanceof HTMLElement&&(a=g.getEnclosingWidget(a));a;){if(a.get("type")===b){e=a;break}if(c.containsClass(a.domNode,b)){e=a;break}a=(k=c.getAttr(a.domNode.parentNode,
"dijitpopupparent"))?g.byId(k):a.getParent()}return e},isMenuChild:function(a){return null!=c.findParentNode(a,"dijitPopup")},getParentMenu:function(a){a=c.findParentNode(a,"dijitPopup");return!a?null:g.getEnclosingWidget(a.children[0])},isInvokingWidget:function(a,b){return b?e.getMenuWidget(a)===b:null!=e.getMenuWidget(a)},getInvokingWidget:function(a){if(a._invokingWidget)return a._invokingWidget;a=c.findParentNode(a,"dijitPopup");return!a?null:g.getEnclosingWidget(document.getElementById(a.getAttribute("dijitpopupparent")))},
getMenuWidget:function(a){return a.menu||a.dropDown},isMenuOpen:function(a){if(null==a)return!1;var b=a;a.domNode&&a.domNode.hasAttribute("data-composite-child")&&(a=document.getElementById(a.domNode.getAttribute("data-composite-primary-id")),b=g.getEnclosingWidget(a));return b&&b.dropDown&&(c.containsClass(b.domNode,"dijitOpened")||c.containsClass(b.domNode,"dijitHasDropDownOpen"))||b&&b.isMenuOpen&&b.isMenuOpen()||b&&b.domNode&&c.findParentNode(b,"dijitPopup")&&(b.getParent&&b.getParent()&&b.getParent().isMenuOpen&&
b.getParent().isMenuOpen()||"none"!==c.getStyle(c.findParentNode(b,"dijitPopup"),"display"))},isDescendant:function(a,b){if(null==a)return!1;a.domNode&&(a=a.domNode);if(null==b)return!1;b.domNode&&(b=b.domNode);return c.isDescendantOrInLaw(a,b,function(a){if((a=g.getEnclosingWidget(a))&&e.isMenuChild(a)&&e.isMenuOpen(a))if((a=e.getInvokingWidget(a))&&a.domNode)return a.domNode;return null},!0)},getPrimaryWidget:function(a){var b;if(a.domNode)b=a.domNode;else if(a instanceof HTMLElement)b=a;else throw Error("The input value must be a widget or HTML Element.");
return b&&b.hasAttribute("data-composite-child")?g.getEnclosingWidget(c.getById(b.getAttribute("data-composite-primary-id"))):a}};return e})},"mw-utils/domUtils":function(){define(["dojo/sniff"],function(g){var c={messages:{INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",
INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},_validateElement:function(e){if(!(e instanceof Element))throw Error(c.messages.INVALID_ELEMENT);},_validateString:function(e){if("String"===typeof e)throw Error(c.messages.INVALID_STRING);},isLeftMouseButton:function(c){return!0===c.synthetic&&g("ie")?1===c.button:0===c.button},parseFocusEvent:function(e){if(!(e instanceof
FocusEvent))throw Error(c.messages.INVALID_FOCUS_EVENT);var a={};a.lostFocusNode=e.target;a.gainedFocusNode=g("chrome")||g("safari")?e.relatedTarget:document.activeElement;a.type=e.type;a.eventdata=e;return a},getParent:function(e){c._validateElement(e);return e.parentNode},findParentNode:function(e,a,b){var f=null,g;e.domNode&&(e=e.domNode);for(;e&&e!==window.document;){if(c.hasAttr(e,a)){f=e;break}if(c.hasAttrValue(e,a,b)){f=e;break}if(c.containsClass(e,a)){f=e;break}e=(g=c.getAttr(e,"dijitpopupparent"))?
c.getById(g):e.parentNode}return f},getNodeType:function(e){c._validateElement(e);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[e.nodeType]},getById:function(e){c._validateString(e);return window.document.getElementById(e)},getByClass:function(e){c._validateString(e);return window.document.getElementsByClassName(e)},getByAttr:function(e){c._validateString(e);return window.document.querySelectorAll("["+e+"]")},getByAttrValue:function(e,
a){c._validateString(e);c._validateString(a);return window.document.querySelectorAll("["+e+"\x3d"+a.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")},getByName:function(e){c._validateString(e);return window.document.getElementById("[name\x3d"+e+"]")},getByTag:function(e){c._validateString(e);return window.document.getElementsByTagName(e)},getComputedStyle:function(e,a){c._validateElement(e);return a?(c._validateString(a),window.getComputedStyle(e,null)[a]):window.getComputedStyle(e,null)},
getStyle:function(e,a){c._validateElement(e);c._validateString(a);if(void 0===e.style[a])throw Error(c.messages.INVALID_STYLE);return e.style[a]},setStyle:function(e,a,b){c._validateElement(e);c._validateString(a);c._validateString(b);e.style[a]=b;if(e.style[a]!==b)throw Error(c.messages.INVALID_VALUE);},hasAttr:function(e,a){c._validateElement(e);c._validateString(a);return e.hasAttribute(a)},hasAttrValue:function(e,a,b){c._validateElement(e);c._validateString(a);c._validateString(b);return e.hasAttribute(a)&&
e.getAttribute(a)===b},getAttr:function(e,a){c._validateElement(e);c._validateString(a);return e.getAttribute(a)},setAttr:function(e,a,b){c._validateElement(e);c._validateString(a);c._validateString(b);e.setAttribute(a,b)},addAttr:function(e,a){c._validateElement(e);c._validateString(a);e.setAttribute(a,"")},removeAttr:function(e,a){c._validateElement(e);c._validateString(a);e.removeAttribute(a)},getClasses:function(e){c._validateElement(e);return e.classList?e.classList:{_element:e,_getClassArray:function(){return this._element.className.split(" ")},
_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:e.className.split(" ").length,item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),
!1;this.add(a);return!0}}},getClass:function(e,a){if(null==a||"number"!==typeof a||0>a||0!==a%1)throw Error(c.messages.INTEGER_INDEX);return c.getClasses(e).item(a)},addClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(c.messages.STRING_INDEX);return c.getClasses(e).add(a)},removeClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(c.messages.STRING_INDEX);return c.getClasses(e).remove(a)},toggleClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(c.messages.STRING_INDEX);
return c.getClasses(e).toggle(a)},containsClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(c.messages.STRING_INDEX);return c.getClasses(e).contains(a)},classCount:function(e){return c.getClasses(e).length},getChildCount:function(e){c._validateElement(e);return e.childElementCount},getChildren:function(e){c._validateElement(e);return e.children},isDescendant:function(e,a,b){c._validateElement(e);c._validateElement(a);if(b&&e===a)return!0;for(;e&&e!==window.document;)if(e=c.getParent(e),
e===a)return!0;return!1},isDescendantOrInLaw:function(e,a,b,f){var g;if("function"!==typeof b)throw Error(c.messages.SPOUSE_NODE);g=c.isDescendant(e,a,f);!1===g&&(e=b(e)||e.parentNode)&&e!==window.document&&(g=c.isDescendantOrInLaw(e,a,b,f));return g},getFirstChild:function(e){c._validateElement(e);return!c.isContainer(e)||1>c.getChildCount(e)?null:c.getChildren(e)[0]},getLastChild:function(e){var a;c._validateElement(e);a=c.getChildCount(e);return!c.isContainer(e)||1>a?null:c.getChildren(e)[a-1]},
isContainer:function(e){c._validateElement(e);return 0<c.getChildCount(e)},getAdjacentElement:function(e,a){c._validateElement(e);if(!a||0>["next","previous"].indexOf(a))a="next";return e=e[a+"Sibling"]},getElementPositionInViewPort:function(e){c._validateElement(e);e=e.getBoundingClientRect();return{x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top}},getElementPositionOnPage:function(e){c._validateElement(e);e=c.getElementPositionInViewPort(e);e.x+=window.pageXOffset;e.y+=window.pageYOffset;return e},
isFocusable:function(e){c._validateElement(e);return e&&!e.hasAttribute("disabled")&&(!e.hasAttribute("aria-disabled")||"true"!==e.getAttribute("aria-disabled"))&&"none"!==e.style.display&&!e.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(e){var a,b,f,g;c._validateElement(e);a=e.getBoundingClientRect();b=window.innerWidth||doc.documentElement.clientWidth;f=window.innerHeight||doc.documentElement.clientHeight;g=function(a,b){return document.elementFromPoint(a,b)};return 0>a.right||
0>a.bottom||a.left>b||a.top>f?!1:e.contains(g(a.left,a.top))||e.contains(g(a.right,a.top))||e.contains(g(a.right,a.bottom))||e.contains(g(a.left,a.bottom))},_obscuredProps:{}};c._obscuredProps.sawPosAbsolute=!1;c._obscuredProps.elementPosition=null;c.isElementObscuredByParent=function(e,a){var b,f,g,h;c._validateElement(e);h=!1;if(g=c.getParent(e))if(a||(c._obscuredProps.elementPosition=c.getElementPositionOnPage(e),c._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(e,null).position),
b=c._obscuredProps.elementPosition,f=c._obscuredProps.sawPosAbsolute,g&&"Element"===c.getNodeType(g)&&"BODY"!==g.nodeName){var d=c.getElementPositionOnPage(g);g=window.getComputedStyle(g,null);/relative|absolute/.test(g.position)&&(f=c._sawPosAbsolute=!1);!f&&/hidden|auto|scroll/.test(g.overflow)&&(h=b.y<d.y||b.y+b.h>d.y+d.h||b.x<d.x||b.x+b.w>d.x+d.w)}return h};c.isElementObscuredByAncestor=function(e){var a,b;c._validateElement(e);a=!1;c._obscuredProps.elementPosition=c.getElementPositionOnPage(e);
for(c._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(e,null).position;(b=c.getParent(e))&&"Element"===c.getNodeType(b)&&"BODY"!==b.nodeName;)a=c.isElementObscuredByParent(e,!0),e=b;return a};return c})},"mw-menu/mixins/property/MaxHeightMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{maxHeight:800,_setMaxHeightAttr:function(c){if("number"!==typeof c)throw Error("'MaxHeight' property expects a Number!");this.domNode.style.maxHeight=c+"px";this._set("maxHeight",
c)}})})},"mw-menu/MenuItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuItem.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){return g(A.validate([c,e,a,b,f,h,d,l,m,n,q,s,p,r,t,u,x,v,k,w,y,B,D]),{baseClass:"mwWidget mwSharedMenuItem mwMenuItem",templateString:z,closeMenuOnClick:!0,_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},_qeClick:function(){this._emitClickEvent()}})})},"mw-menu/mixins/MenuItemTextColorMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin","mw-menu/mixins/property/ShowDescriptionMixin"],
function(g,c,e){g=g(null,{_setDescriptionAttr:function(a){this.inherited(arguments);""!==a?this.textNode.classList.add("mwBlueText"):this.textNode.classList.remove("mwBlueText")},_setShowDescriptionAttr:function(a){this.inherited(arguments);a?this.textNode.classList.add("mwBlueText"):this.textNode.classList.remove("mwBlueText")},postCreate:function(){this.inherited(arguments);(this.get("showDescription")&&""===this.get("description")||!this.get("showDescription")&&""!==this.get("description"))&&this.textNode.classList.remove("mwBlueText")}});
g._dependencies=[{mixin:c,orderDependent:!0},{mixin:e,orderDependent:!0}];return g})},"mw-menu/mixins/property/ShowDescriptionMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{showDescription:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowDescriptionMixin")},_setShowDescriptionAttr:function(c){if("boolean"!==typeof c)throw Error("'showDescription' property expects a Boolean!");!1===c?this.domNode.classList.add("mwHideDescription"):this.descriptionNode&&
""===this.descriptionNode.textContent?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");this._set("showDescription",c)}})})},"mw-menu/mixins/property/CloseMenuOnClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/popup"],function(g,c,e,a){return g(null,{closeMenuOnClick:!1,postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"change",c.hitch(this,"_onChange")));this.domNode.classList.add("mwCloseMenuOnClickMixin");
this.set("closeMenuOnClick",this.get("closeMenuOnClick"))},_setCloseMenuOnClickAttr:function(a){if("boolean"!==typeof a)throw Error("'closeMenuOnClick' property expects a Boolean!");this._set("closeMenuOnClick",a);a?this.domNode.classList.add("mwClosePopupOnClick"):this.domNode.classList.remove("mwClosePopupOnClick")},_onChange:function(){this.get("closeMenuOnClick")&&(a.close(),this.emit("closeRequest"))}})})},"mw-mixins/property/ShortcutMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize",
"mw-mixins/property/DescriptionMixin"],function(g,c,e){g=g(null,{shortcut:"",platformizeShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShortcutMixin");this.set("shortcut",this.get("shortcut"))},_setShortcutAttr:function(a){if("string"!==typeof a)throw Error("'shortcut' property expects a literal string!");this._updateShortcut(a);this._set("shortcut",a)},_updateShortcut:function(a){this.shortcutKeyNode?(this.shortcutKeyNode.textContent=this._getPlatformizedShortcut(a),
!1===this.get("showShortcut")?this.domNode.classList.add("mwHideShortcut"):""===a?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut")):this._updateTitle(this._getPlatformizedShortcut(a),!0)},_getPlatformizedShortcut:function(a){return this.get("platformizeShortcut")?c.getPlatformSpecificString(a):a},_setPlatformizeShortcutAttr:function(a){if("boolean"!==typeof a)throw Error("'platformizeShortcut' property expects a boolean value!");this._set("platformizeShortcut",
a);this._updateShortcut(this.get("shortcut"))}});g._dependencies=[{mixin:e,orderDependent:!0,type:"shortcut"}];return g})},"mw-menu/mixins/property/ShowIconMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{showIcon:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowIconMixin")},_setShowIconAttr:function(c){if("boolean"!==typeof c)throw Error("'showIcon' property expects a Boolean!");c?this.domNode.classList.remove("mwHideIcon"):this.domNode.classList.add("mwHideIcon");
this._set("showIcon",c)}})})},"mw-menu/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{showText:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowTextMixin")},_setShowTextAttr:function(c){if("boolean"!==typeof c)throw Error("'showText' property expects a Boolean!");c?this.domNode.classList.remove("mwHideText"):this.domNode.classList.add("mwHideText");this._set("showText",c)}})})},"mw-menu/mixins/property/ShowShortcutMixin":function(){define(["dojo/_base/declare"],
function(g){return g(null,{showShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowShortcutMixin")},_setShowShortcutAttr:function(c){if("boolean"!==typeof c)throw Error("'showShortcut' property expects a Boolean!");!1===c?this.domNode.classList.add("mwHideShortcut"):this.shortcutNode&&""===this.shortcutNode.textContent?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut");this._set("showShortcut",c)}})})},"mw-menu/mixins/SingleLineTextMixin":function(){define(["dojo/_base/declare",
"mw-mixins/property/TextMixin"],function(g,c){var e=g(null,{_getTextForDOM:function(a){a=this.inherited(arguments);return a=a.replace(/\n/g," ")}});e._dependencies=[{mixin:c,orderDependent:!0}];return e})},"mw-mixins/AccessibilityClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys"],function(g,c,e,a){return g(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",c.hitch(this,function(b){b.keyCode===a.SPACE&&-1===Array.prototype.slice.call(this.domNode.classList).indexOf("mwComboBox")&&
b.preventDefault();setTimeout(c.hitch(this,function(){if(!0!==this.get("disabled"))switch(b.keyCode){case a.ENTER:this._emitClickEvent(b);break;case a.SPACE:this._emitClickEvent(b)}}),0)})));this.own(e(this.domNode,"keyup",c.hitch(this,function(b){var c=b.keyCode===a.ENTER||b.keyCode===a.SPACE,e=/input|button|textarea/i.test(b.target.nodeName);c&&!e&&b.stopPropagation()})))},_emitClickEvent:function(a){e.emit(a.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:a.keyCode},_dojo_click:!0})},
_qeClick:function(){this.emit("click")}})})},"mw-menu/mixins/FocusableMenuChildMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom dojo/on dojo/mouse dojo/touch dijit/focus dijit/registry mw-dom-utils/domUtils".split(" "),function(g,c,e,a,b,f,k,h,d,l){return g(null,{postCreate:function(){this.inherited(arguments);var a=e("touch")&&!window.PointerEvent;this.own(b(this.domNode,"click",c.hitch(this,"_onMouseClick")),b(this.domNode,a?k.release:"mouseup",c.hitch(this,"_onMouseUp")),
b(this.domNode,f.enter,c.hitch(this,"_onMouseEnter")),b(this.domNode,"focusout",c.hitch(this,"_focusLost")));this.domNode.classList.add("mwFocusableMenuChildMixin")},_focusLost:function(b){setTimeout(c.hitch(this,function(){var c,e=l.parseFocusEvent(b).gainedFocusNode,f=d.getEnclosingWidget(e);if(f&&(c=f.focusNode||f.domNode)&&c.hasAttribute("data-composite-child"))if(f=d.getEnclosingWidget(a.byId(c.getAttribute("data-composite-primary-id"))),f===this)return;this!==f&&(c=this.getParentWidget(),(null==
f||l.isFocusable(e))&&(c&&c._focusChange)&&c._focusChange(f),this.focusLost&&this.focusLost(f))}),0)},_onMouseClick:function(a){a.mwEventData?(this.focus(),this.closeMenuOnClick&&this._requestClose(!1)):(a.preventDefault(),a.stopImmediatePropagation())},_onMouseEnter:function(a){this.focusNode&&l.isFocusable(this.focusNode)&&this.focus()},_onMouseUp:function(a){a.preventDefault();a.stopPropagation();!(this.getParentWidget()&&!0===this.getParentWidget()._mouseDownTriggered)&&l.isFocusable(this.focusNode)&&
this._emitClickEvent&&(l.isLeftMouseButton(a)||"dojotouchend"===a.type)&&this._emitClickEvent(a)},_requestClose:function(a){var b=this.getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},focus:function(){this.inherited(arguments);l.isFocusable(this.focusNode)&&(h.focus(this.focusNode||this.domNode),(this.focusNode||this.domNode).focus())},getParentWidget:function(a){if(null==a)if(this.domNode)a=this.domNode;else return null;
a.domNode&&(a=a.domNode);if(a.parentNode)a=l.getParent(a);else return null;return d.getEnclosingWidget(a)}})})},"mw-menu/mixins/MenuChildResizeMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(g,c){var e="icon text shortcut description showIcon showText showShortcut showDescription".split(" ");return g(null,{postCreate:function(){this.inherited(arguments);this.watch(c.hitch(this,function(a,b,c){-1<e.indexOf(a)&&("icon"!==a||this._getIconType(c)!==this._iconTypes.DATA_URI)&&
this.emit("updatelayout")}));this.domNode.classList.add("mwMenuChildResizeMixin")}})})},"MW/layout/Geometry":function(){define(["dojo/dom-geometry","dojo/dom-style"],function(g,c){return{copyBox:function(c,a){a.l=c.l;a.t=c.t;a.w=c.w;a.h=c.h},boxContains:function(c,a,b){return a>=c.l&&a<=c.l+c.w&&b>=c.t&&b<=c.t+c.h},computeClip:function(c,a){var b=c.l+c.w,f=a.l+a.w,g=c.t+c.h,h=a.t+a.h,d={l:0,t:0,w:c.w,h:c.h};c.l<a.l&&(d.l=a.l-c.l,d.w-=d.l);c.t<a.t&&(d.t=a.t-c.t,d.h-=d.t);b>f&&(d.w-=b-f);g>h&&(d.h-=
g-h);return d},intersectionBox:function(c,a){var b=Math.max(c.l,a.l),f=Math.max(c.t,a.t),g=Math.min(c.l+c.w,a.l+a.w),h=Math.min(c.t+c.h,a.t+a.h);return{l:b,t:f,w:g-b,h:h-f}},unionBox:function(c,a){var b=Math.min(c.l,a.l),f=Math.min(c.t,a.t),g=Math.max(c.l+c.w,a.l+a.w),h=Math.max(c.t+c.h,a.t+a.h);return{l:b,t:f,w:g-b,h:h-f}},constrainBox:function(c,a){c.l<a.l&&(c.l=a.l);c.t<a.t&&(c.t=a.t);c.l+c.w>a.l+a.w&&(c.l=a.l+a.w-c.w);c.t+c.h>a.t+a.h&&(c.t=a.t+a.h-c.h)},boxesOverlap:function(c,a){var b=this.intersectionBox(c,
a);return 0<b.w&&0<b.h},areBoxesEqual:function(c,a){return c.l===a.l&&c.t===a.t&&c.w===a.w&&c.h===a.h},isNearBox:function(c,a,b,f,g){g=g||f;return a>=c.l-f&&a<=c.l+c.w+f&&b>=c.t-g&&b<=c.t+c.h+g},getNearestBorder:function(c,a,b,f){var g=f*c.w;f*=c.h;a-=c.l;b-=c.t;if(a>g&&a<c.w-g&&b>f&&b<c.h-f)return"center";a*=c.h;b*=c.w;c=a<c.w*c.h-b;return a>b?c?"top":"right":c?"left":"bottom"},oppositeRegion:function(c){switch(c){case "top":return"bottom";case "bottom":return"top";case "left":return"right";case "right":return"left"}return"center"},
measure:function(e,a){var b;e.parentNode||(c.set(e,{visibility:"hidden",position:"absolute"}),a.appendChild(e),b=!0);var f=g.getMarginBox(e);b&&(a.removeChild(e),c.set(e,{visibility:"visible"}));return f}}})},"MW/layout/LayoutChildProperty":function(){define([],function(){return{TITLE:"title",DESCRIPTION:"description",REGION:"region",IS_OPEN:"isOpen",IS_ENABLED:"isEnabled",IS_COLLAPSIBLE:"isCollapsible",IS_COLLAPSED:"isCollapsed",IS_EXPANDED:"isExpanded",IS_MAXIMIZED:"isMaximized",IS_RESIZABLE:"isResizable",
IS_SELECTABLE:"isSelectable",IS_SELECTED:"isSelected",IS_SHOWING:"isShowing",ACTIONS:"actions",INDEX:"index",TILE:"tile",PERMISSIBLE_REGIONS:"permissibleRegions",PREFERRED_WIDTH:"preferredWidth",PREFERRED_HEIGHT:"preferredHeight",MINIMUM_WIDTH:"minimumWidth",MINIMUM_HEIGHT:"minimumHeight",SET_ID:"setId",TITLE_SHORTENING_ALLOWED:"titleShorteningAllowed",DESTROY_ON_CLOSE:"destroyOnClose"}})},"MW/layout/LayoutContainerEvent":function(){define([],function(){return{STATE_CHANGED:"state_changed",CHILD_ADDED:"child_added",
CHILD_REMOVED:"child_removed",DRAG_OUT_INITIATED:"drag_out_initiated",DRAG_OUT:"drag_out",EXPAND_ALL:"expand",COLLAPSE_ALL:"collapse",SPLITTER_DRAG_STARTED:"splitterDragStarted",SPLITTER_DRAG_ENDED:"splitterDragEnded",CLOSE:"close"}})},"MW/layout/LayoutUtils":function(){define("dojo/_base/event dojo/_base/kernel dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-style dojo/on dojo/sniff dojo/touch dijit/focus dijit/popup".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){var n=function(a,b){(!a||b.target===
a)&&b.preventDefault()},q=function(a){p.stopEvent(a)},s=!0,p={formatClipStyle:function(a){return{clip:"rect("+a.t+"px,"+(a.l+a.w)+"px,"+(a.t+a.h)+"px,"+a.l+"px)"}},isShowing:function(a){return!a||"hidden"!==f.get(a,"visibility")&&"none"!==f.get(a,"display")&&this.isShowing(a.parent)},setSize:function(a,c){a.resize?a.resize(c):b.setMarginBox(a.domNode,c)},restoreStyle:function(a){f.set(a.domNode,{top:"auto",left:"auto",position:"static",display:"block",clip:"auto"})},removeFromParent:function(a){if(a){var b=
a.parentNode;b&&(h("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}},getScrollPosition:function(a){var b={l:0,t:0};if(a=this._findScrollPane(a))b.l=a.scrollLeft,b.t=a.scrollTop;return b},setScrollPosition:function(a,b){var c=this._findScrollPane(a);c&&(c.scrollLeft=b.l,c.scrollTop=b.t)},saveScrollPosition:function(a,b){b.scrollPane||(b.scrollPane=this._findScrollPane(a));b.scrollPane&&!b.savedScrollTop&&(b.savedScrollTop=b.scrollPane.scrollTop,b.savedScrollLeft=b.scrollPane.scrollLeft)},
restoreScrollPosition:function(a,b){b.scrollPane&&(b.savedScrollTop&&(b.scrollPane.scrollTop=b.savedScrollTop,delete b.savedScrollTop),b.savedScrollLeft&&(b.scrollPane.scrollLeft=b.savedScrollLeft,delete b.savedScrollLeft))},_findScrollPane:function(a){var b=dojo.query(".scrollPane",a.domNode);return 0<b.length?b[0]:this._findScrolledChild(a.domNode)},_findScrolledChild:function(a){if(a.scrollTop||a.scrollLeft)return a;if(!a.children)return null;var b,c;for(b=0;b<a.children.length;b++)if(c=this._findScrolledChild(a.children[b]))return c;
return null},saveIfNotDefault:function(a,b,c,d){c=c.get?c.get(b):c[b];void 0!==c&&c!==d&&(a[b]=c)},restoreOrSetDefault:function(a,b,c,d){a=void 0===a[b]?d:a[b];c.set?c.set(b,a):c[b]=a},preventDefaultContextMenu:function(a,b){k(a,"contextmenu",e.partial(n,!1===b?a:null))},preventFocus:function(a,b){b||k(a,d.press,q)},stopEvent:function(a){if(this.isPopupShowing()){if(!this.popupHasFocus()){var b=l.curNode;setTimeout(function(){l.focus(b)},0)}}else g.stop(a)},isPopupShowing:function(){return 0<m._stack.length},
popupHasFocus:function(){var b=m.getTopPopup().widget.domNode;return b&&(b===l.curNode||a.isDescendant(l.curNode,b))},setLocaleOnDomNode:function(a){(0===c.locale.indexOf("ko")||0===c.locale.indexOf("ja")||0===c.locale.indexOf("zh"))&&a.classList.add("isCJK")},disableLayoutAnimation:function(){s=!1},enableLayoutAnimation:function(){s=!0},isAnimationEnabled:function(){return s}};return p})},"MW/layout/SelectionBlocker":function(){define(["dojo/dom-class","dojo/on","dojo/touch"],function(g,c,e){var a,
b,f;return{blockUntilRelease:function(a){if(!b){this.blockSelection(a);var f=this;b=c(window,e.release,function(){f.unblockSelection(a);b=null})}},blockSelection:function(b){a||(f=b.ownerDocument.body,g.add(f,"noselect"),a=!0)},unblockSelection:function(){a&&(g.remove(f,"noselect"),a=!1)}}})},"MW/layout/TitledPane":function(){define("dojo/_base/declare dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/layout/_LayoutWidget MW/layout/TitleBar".split(" "),function(g,c,e,a,b,f,k){return g([f],
{postCreate:function(){this.inherited(arguments);e.add(this.domNode,"titledPane");this.titleBar||(this.titleBar=new k({id:this.contentWidget.id+"TitledPaneTitleBar",properties:this.contentProperties,title:this.title}),this._createdTitleBar=!0);b.set(this.titleBar.domNode,"position","absolute");this.addChild(this.titleBar);b.set(this.contentWidget.domNode,"position","absolute");this.addChild(this.contentWidget)},destroy:function(){this.removeChild(this.contentWidget);this._createdTitleBar||this.removeChild(this.titleBar);
this.inherited(arguments)},layout:function(){if(this._started&&this.domNode){this.computedStyle||(this.computedStyle=b.getComputedStyle(this.domNode));var c=a.getContentBox(this.domNode,this.computedStyle);if(c&&0!==c.h){var d={l:0,t:0,w:c.w,h:k.getPreferredHeight()};a.setMarginBox(this.titleBar.domNode,d);c.t+=d.h;c.h-=d.h;this.contentWidget.resize?this.contentWidget.resize(c):a.setMarginBox(this.contentWidget.domNode,c)}}}})})},"MW/layout/TitleBar":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/mouse dojo/on dojo/touch dijit/_TemplatedMixin dijit/_WidgetBase MW/layout/ActionsMenu MW/layout/LayoutChildProperty MW/layout/LayoutUtils MW/layout/Tab mw-menu/ContextMenu dojo/i18n!l10n/nls/layout dojo/text!./templates/TitleBar.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y){var B=g([x,s],{templateString:y,buildRendering:function(){this.inherited(arguments);b.setSelectable(this.domNode,!1);u.preventFocus(this.domNode,!0);u.setLocaleOnDomNode(this.domNode);var a=this;this._watches=[];this.properties?(this.set(t.TITLE,this.properties.title),this._watches.push(this.properties.watch(t.TITLE,function(b,c,d){a.set(t.TITLE,d)})),this.set("toolTip",this.properties.description),this._watches.push(this.properties.watch(t.DESCRIPTION,
function(b,c,d){a.set("toolTip",d)})),this.set(t.IS_COLLAPSED,this.properties.isCollapsed),this._watches.push(this.properties.watch(t.IS_COLLAPSED,function(b,c,d){a.set(t.IS_COLLAPSED,d)})),this.set(t.ACTIONS,this.properties.actions),this._watches.push(this.properties.watch(t.CONEXT_ACTIONS,function(b,c,d){a.set(t.ACTIONS,d)})),this.properties.get(t.IS_SELECTED)&&k.add(a.domNode,"selected"),this._watches.push(this.properties.watch(t.IS_SELECTED,function(b,c,d){a.domNode&&(d?k.add(a.domNode,"selected"):
k.remove(a.domNode,"selected"))})),this.own(n(this.domNode,q.press,function(b){a.get(t.IS_COLLAPSED)?a.isArmed=!1:!1!==a.properties.isSelectable&&a.properties.set(t.IS_SELECTED,!0);u.stopEvent(b)}))):(this._setTitleAttr(this.title),this._setToolTipAttr(this.description),this._setIsCollapsedAttr(this.isCollapsed),this._setActionsAttr(this.actions));this.title&&f.set(this.actionsNode,"title",e.replace(w.childActions,{placeholder:this.title}));this.own(n(this.actionsNode,q.press,e.hitch(this,"_displayActionsMenu")))},
destroy:function(){this._watches.forEach(function(a){a.remove()});this._contextMenu&&this._contextMenu.destroyRecursive();this.inherited(arguments)},_setTitleAttr:function(a){this.titleNode.innerHTML=a;this._set("title",a)},_getTitleAttr:function(){return this.titleNode.innerHTML},_setToolTipAttr:function(a){a?f.set(this.titleNode,"title",a):f.remove(this.titleNode,"title");this._set("toolTip",a)},_getToolTipAttr:function(){return f.get(this.titleNode,"title")},_setIsCollapsedAttr:function(a){this.isCollapsible&&
(a?k.replace(this.toggleNode,"expandIcon","collapseIcon"):k.replace(this.toggleNode,"collapseIcon","expandIcon"));this._set(t.IS_COLLAPSED,a)},_setIsCollapsibleAttr:function(a){this._set(t.IS_COLLAPSIBLE,a);a?(a=this.isCollapsed,delete this.isCollapsed,this.set("isCollapsed",a),l.set(this.titleNode,{left:"16px"})):(k.remove(this.toggleNode,"expandIcon"),k.remove(this.toggleNode,"collapseIcon"),l.set(this.titleNode,{left:"0"}))},_setActionsAttr:function(a){l.set(this.actionsNode,{visibility:a&&0<a.length?
"visible":"hidden"});this._set(t.ACTIONS,a);this._updateContextMenu()},_displayActionsMenu:function(a){m.isLeft(a)&&(r.display(this.actionsNode,this.actions),c.stop(a))},_updateContextMenu:function(){var a=this;this.actions&&0<this.actions.length?this._contextMenu||(this._contextMenu=new v({id:this.id+"ContextMenu",targetNodes:[this.domNode,"#"+this.id+" *"]}),this._contextMenu.willOpenCallback=function(){a._contextMenu.getChildren().forEach(function(a){a.destroyRecursive()});r._addMenuItems(a._contextMenu,
a.actions)}):(this._contextMenu&&this._contextMenu.destroyRecursive(),u.preventDefaultContextMenu(this.domNode))}});B.getPreferredHeight=function(){if(!B._preferredHeight){var b=new B({id:"dummyTitleBar",title:"Dummy Title"});l.set(b.toggleNode,{position:"static"});l.set(b.titleNode,{position:"static"});l.set(b.actionsNode,{position:"static"});h.place(b.domNode,a.body());l.set(b.domNode,{visibility:"hidden"});this._preferredHeight=d.getMarginBox(b.domNode).h;a.body().removeChild(b.domNode);b.destroy()}return B._preferredHeight};
return B})},"MW/layout/ActionsMenu":function(){define("dojo/on dojo/touch dijit/focus mw-menu/ContextMenu mw-menu/Menu mw-menu/MenuItem mw-menu/CheckBoxMenuItem mw-menu/MenuSeparator mw-menu/PopupMenuItem dijit/popup MW/layout/SelectionBlocker".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){return{display:function(b,c){c&&(b._actionsMenu?b._actionsMenu.close():(m.blockSelection(b),b._actionsMenu=new a({targetNodes:[b],id:"ActionsMenu"}),this._addMenuItems(b._actionsMenu,c),b._actionsMenu.open({target:b}),
b._actionsMenu.on("close",function(){setTimeout(function(){b._actionsMenu.destroyRecursive();delete b._actionsMenu},0);m.unblockSelection()})))},_addMenuItems:function(a,e){var m,p,r;for(m=0;m<e.length;m++)(p=e[m])?p instanceof Array?(r=new b,this._addMenuItems(r,p.slice(1)),a.addChild(new d({text:p[0],menu:r}))):(r=function(a){return function(b){if(a.enabled||a.getEnabled&&a.getEnabled())a.setSelected&&a.getSelected?a.setSelected(!a.getSelected()):a.selected=!a.selected,a.callback(b),l.close()}}(p),
"check"===p.itemType?(p=new k({text:p.text,disabled:!(p.getEnabled?p.getEnabled():p.enabled),checked:p.getSelected?p.getSelected():p.selected}),g(p.domNode,"click",r)):(p=new f({text:p.text,disabled:!(p.getEnabled?p.getEnabled():p.enabled)}),g(p.domNode,c.release,r)),a.addChild(p)):a.addChild(new h)}}})},"mw-menu/Menu":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/DestroyedMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g(p.validate([e,f,a,b,n,k,h,d,l,m,q,s]),{baseClass:"mwWidget mwMenu",templateString:r,_getTargetNode:function(a){a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));return a},isMenuOpen:function(){return this.domNode&&this.domNode.parentElement?"none"!==this.domNode.parentElement.style.display:!1}})})},"mw-mixins/property/DestroyedMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,
{_destroyed:!1,destroy:function(){this._set("_destroyed",!0);this.inherited(arguments)},isDestroyed:function(){return this.get("_destroyed")}})})},"mw-menu/CheckBoxMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/CheckBox mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E){return g(F.validate([e,a,b,f,k,w,y,d,l,m,n,s,p,r,t,u,x,q,v,B,D,A,z]),{baseClass:"mwWidget mwSharedMenuItem mwCheckBoxMenuItem",templateString:E,constructor:function(){this.checkBox=new h({text:""});this.own(this.checkBox)},_setCheckedAttr:function(a){this.inherited(arguments);this.checkBox.set("checked",a);this.get("closeMenuOnClick")&&(a?(this.checkBox.domNode.classList.add("mwSpecialCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwNoCheckBoxIcon")):
(this.checkBox.domNode.classList.add("mwNoCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwSpecialCheckBoxIcon")))},buildRendering:function(){this.inherited(arguments);this.checkBox.placeAt(this.domNode,"first")},postCreate:function(){this.inherited(arguments);this.checkBox._triggerChangeEvent=function(){};this.checkBox._onClick=function(){};this.domNode.setAttribute("data-composite-primary","");(this.checkBox.focusNode||this.checkBox.domNode).setAttribute("data-composite-child","");(this.checkBox.focusNode||
this.checkBox.domNode).setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.checkBox.startup()},_onClick:function(){this.inherited(arguments);this.checkBox.set("checked",this.get("checked"))},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/CheckBox":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBox.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v){return g(x.validate([e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u]),{baseClass:"mwWidget mwCheckBox",templateString:v,postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",this._handleKeydown.bind(this)),c(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())}})})},"mw-mixins/property/ValidationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(g,c,e,a,b,f,k,h,d){var l=g([h,d],{templateString:'\x3cdiv class\x3d"mwValidationTooltipDialog"\x3e\x3cdiv class\x3d"mwArrowNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwContentsNode" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',_setTextAttr:function(a){this.textNode.textContent=
a;this._set("text",a)}}),m=["error","warning","normal"];return g(null,{warningText:"",errorText:"",validationState:"normal",_setErrorTextAttr:function(a){if("string"!==typeof a)throw Error("errorText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("errorText",a)},_setWarningTextAttr:function(a){if("string"!==typeof a)throw Error("warningText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("warningText",
a)},_setValidationStateAttr:function(a){if("string"!==typeof a)throw Error("validationState property expects a 'string'!");if(-1===m.indexOf(a.toLowerCase()))throw Error("validationState property expects the value to be 'normal', 'error' or 'warning'!");this._set("validationState",a);var b=!1,c=!1;"error"===a.toLowerCase()?(c=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("errorText"))):"warning"===a.toLowerCase()&&(b=!0,this._createValidationTooltip(),this.validationTooltip.set("text",
this.get("warningText")));this.validationTooltip&&(this.domNode.classList.contains("mwWidgetFocused")&&(this.validationTooltip.domNode.classList.add("mwValidationFocused"),this._placeTooltip()),c?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):(this._getDomNodeForValidationClasses().classList.remove("mwValidationError"),this.validationTooltip.domNode.classList.remove("mwErrorTooltip")),b?this.validationTooltip.domNode.classList.add("mwWarningTooltip"):
this.validationTooltip.domNode.classList.remove("mwWarningTooltip"),"normal"===a.toLowerCase()&&(this.validationTooltip.domNode.style.visibility="hidden"))},_createValidationTooltip:function(){this.validationTooltip||(this.validationTooltip=new l,this.validationTooltip.startup(),this.own(this.validationTooltip),this._addTooltipEvents())},_flipDomOrder:function(a){var c=a.children[1];b.place(a.children[0],b.place(c,a),"after");b.place(c.children[0],b.place(c.children[1],c),"after")},_tooltipOrientation:function(){return this.validationTooltip.domNode.classList.contains("mwTooltipLeft")?
"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){b.place(this.validationTooltip.domNode,k.body());var c=a.position(this.domNode),d,e,f,g,h,m,l,v=!1;d=c.x;e=c.y;f=c.w;"error"===this.validationState?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.set("text",this.errorText),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):
"warning"===this.validationState&&(this.validationTooltip.set("text",this.warningText),this.validationTooltip.domNode.classList.add("mwWarningTooltip"));this.validationTooltip.domNode.style.visibility="visible";m=a.position(this.validationTooltip.domNode).h/2;h=a.position(this.domNode).h/2;c=this.validationTooltip.domNode;l=a.position(k.body()).w;g=this._calculateTooltipWidth();var w=(document.documentElement||document.body.parentNode||document.body).scrollTop;d+f+g>l?(v=!0,d=d-g+"px",e=e+h-m+w+"px",
c.children[0].classList.contains("mwArrowNode")&&this._flipDomOrder(c)):(d=d+f+"px",e=e+h-m+w+"px");v?(this.validationTooltip.domNode.classList.add("mwTooltipLeft"),this.validationTooltip.domNode.classList.remove("mwTooltipRight")):(this.validationTooltip.domNode.classList.remove("mwTooltipLeft"),this.validationTooltip.domNode.classList.add("mwTooltipRight"));this.validationTooltip.domNode.style.left=d;this.validationTooltip.domNode.style.top=e}},_calculateTooltipWidth:function(){this.validationTooltip.domNode.classList.add("mwTooltipLeft");
var b=a.position(this.validationTooltip.domNode).w;this.validationTooltip.domNode.classList.remove("mwTooltipLeft");return b},_addTooltipEvents:function(){this.own(f(this,e.enter,c.hitch(this,function(){this._placeTooltip()})),f(this,e.leave,c.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.style.visibility="hidden")})),f(this.focusNode,"focus",c.hitch(this,function(){this._placeTooltip();this.validationTooltip&&("error"===this.get("validationState")||"warning"===this.get("validationState"))&&
this.validationTooltip.domNode.classList.add("mwValidationFocused")})),f(this.focusNode,"blur",c.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.classList.remove("mwValidationFocused"),this.validationTooltip.domNode.style.visibility="hidden")})))}})})},"mw-form/mixins/CheckBoxRadioButtonTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry"],function(g,c){return g(null,{_setWidthAttr:function(){this.inherited(arguments);if(this._started)if("auto"!==
this.get("width")){var e=c.position(this.checkBoxRadioIconNode),a=c.getMarginExtents(this.textNode);this.textNode.style.width=this.width-(e.w+a.l)+"px"}else this.textNode.style.width="auto"}})})},"mw-menu/MenuSeparator":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/PreventFocusMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuSeparator.html".split(" "),function(g,
c,e,a,b,f,k,h,d){return g(h.validate([c,e,a,b,f,k]),{baseClass:"mwWidget mwMenuSeparator",templateString:d})})},"mw-mixins/PreventFocusMixin":function(){define(["dojo/_base/declare","dojo/on"],function(g,c){return g(null,{postCreate:function(){this.inherited(arguments);this._getNonFocusableNodes().forEach(function(e){c(e,"mousedown",function(a){a.preventDefault()})})},_getNonFocusableNodes:function(){return[this.domNode]}})})},"mw-menu/PopupMenuItem":function(){define("dojo/_base/declare dijit/focus dojo/on dojo/keys dojo/dom-geometry dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/IconMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PopupMenuItem.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G){return g(O.validate([k,h,d,l,m,n,q,s,p,r,t,u,C,x,v,w,y,B,D,A,z,F,E,K,U,P]),{baseClass:"mwWidget mwSharedMenuItem mwPopupMenuItem",templateString:G,_focusSubMenuOnOpen:!1,menuOrientation:"horizontal",keyPressButtons:"right_arrow_a11y",postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",f.hitch(this,"_handleRightArrow")))},_setFocusSubMenuOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'doFocus' argument expects a boolean value.");
this._set("_focusSubMenuOnOpen",a)},_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},focusLost:function(a){this.get("menu")&&(this.get("menu").isDescendant&&!this.get("menu").isDescendant(a,this.get("menu")))&&(this.get("menu")._closeEventData={mwEventData:{gainedFocusWidget:a}},this.closeMenu(!1))},focus:function(){this.inherited(arguments);this.get("disabled")||this.openMenu()},_handleRightArrow:function(b){b.keyCode===a.RIGHT_ARROW&&(this.isMenuOpen()?
this.get("menu").focusFirst():(this.set("_focusSubMenuOnOpen",!0),this.openMenu()))},_showMenu:function(){var a=this.get("menu");null!==a&&(!this._doNotOpen&&!this.isMenuOpen())&&(a._leftArrowListener=e(a.domNode,"keydown",f.hitch(a,this._handleLeftArrow)),a._menuCloseListener=e(a.domNode,"close",f.hitch(a,this._handleCloseMenu)),a._storeFocusOnOpen=a.get("_focusOnOpen"),a._storeOnOpen=a.onOpen,a._storeMatchMinWidthToInvokingWidget=a.get("_matchMinWidthToInvokingWidget"),a.set("_focusOnOpen",this.get("_focusSubMenuOnOpen")),
a.onOpen=this.onOpen,a._matchMinWidthToInvokingWidget=!1,a.domNode.classList.add("mwPopupMenuItemPopup"),this.inherited(arguments))},_handleCloseMenu:function(a){if(a&&a.mwEventData&&a.mwEventData.hasOwnProperty("gainedFocusWidget")){var b=this._invokingWidget.getParentWidget();a=a.mwEventData.gainedFocusWidget;!b.isInvokingWidget(a)&&!b.isDescendant(a,b)&&(this._leftArrowListener&&this._leftArrowListener.remove(),this._menuCloseListener&&this._menuCloseListener.remove(),delete this._leftArrowListener,
delete this._menuCloseListener,this._focusOnOpen=this._storeFocusOnOpen,this.onOpen=this._storeOnOpen,this._matchMinWidthToInvokingWidget=this._storeMatchMinWidthToInvokingWidget,this.domNode.classList.remove("mwPopupMenuItemPopup"),b._focusChange(a))}},_handleLeftArrow:function(b){b.keyCode===a.LEFT_ARROW&&(this._doNotOpen=!0,this._invokingWidget.focus(),this._doNotOpen=!1)},onOpen:function(){this.inherited(arguments);this._emitOpenEvent();this._updateLayout();b.position(this.domNode).x>b.position(this._invokingWidget.domNode).x?
(this.domNode.classList.add("mwPopupMenuItemPopupRight"),this.domNode.classList.remove("mwPopupMenuItemPopupleft"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentLeft")):(this.domNode.classList.add("mwPopupMenuItemPopupLeft"),this.domNode.classList.remove("mwPopupMenuItemPopupRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentLeft"));
this.domNode.parentElement.classList.add("mwPopupMenuItemParent");0<this.getChildren().length&&(this._focusOnOpen&&this.focusFirst)&&(this._storeFocus=this.focus,this.focus=function(){this.focusFirst();this.focus=this._storeFocus;delete this._storeFocus});this._invokingWidget.set("_focusSubMenuOnOpen",!1)},_closeMenuOnParentClick:function(){return!1},_updateWidth:function(){}})})},"mw-mixins/property/MenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-geometry dojo/has dojo/keys dojo/on dojo/touch dijit/focus dijit/popup dijit/Viewport dijit/_WidgetBase".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){var s={left:[0],center:[1],right:[2],all:[0,1,2],none:[]},p=function(a){if(!0===a.synthetic&&window.syn&&-1!==a.type.indexOf("mouse"))switch(a.button){case window.syn.mouse.browser.left[a.type].button:return 0;case window.syn.mouse.browser.right[a.type].button:return 2;default:return 1}else return a.button},r={down_arrow:[k.DOWN_ARROW],right_arrow:[k.RIGHT_ARROW],left_arrow:[k.LEFT_ARROW],up_arrow:[k.UP_ARROW],enter:[k.ENTER],space:[k.SPACE],a11y:[k.ENTER,k.SPACE],
down_arrow_a11y:[k.DOWN_ARROW,k.ENTER,k.SPACE],right_arrow_a11y:[k.RIGHT_ARROW,k.ENTER,k.SPACE],left_arrow_a11y:[k.LEFT_ARROW,k.ENTER,k.SPACE],up_arrow_a11y:[k.UP_ARROW,k.ENTER,k.SPACE],none:[]},t={below:["below","below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]};return g(null,{menu:null,menuNode:null,aroundNode:null,_clickButtons:s.left,_keyPressButtons:r.a11y,_menuOrientation:t.vertical,_setMenuAttr:function(a){this._validateMenuAttr(a);this._set("menu",
a)},_validateMenuAttr:function(a){if(null!==a&&!(a instanceof q))throw Error("'menu' property expects a widget");},_setMenuNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'menuNode' property expects a DOM node.");a?this._set("menuNode",a):this._set("menuNode",this.focusNode||this.domNode)},_setAroundNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'aroundNode' property expects a DOM node.");a?this._set("aroundNode",a):this._set("aroundNode",this.domNode)},_setClickButtonsAttr:function(a){if("string"!==
typeof a||-1===s.hasOwnProperty(a))throw Error("'clickButtons' property expects one of these values: "+Object.keys(s));this._set("_clickButtons",s[a])},_setKeyPressButtonsAttr:function(a){if("string"!==typeof a||-1===r.hasOwnProperty(a))throw Error("'keyPressButtons' property expects one of these values: "+Object.keys(r));this._set("_keyPressButtons",r[a])},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===t.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+
Object.keys(t));this._set("_menuOrientation",t[a])},postCreate:function(){var a;this.inherited(arguments);this.domNode.classList.add("mwMenuMixin");this.menuNode=this.menuNode||this.focusNode||this.domNode;this.aroundNode=this.aroundNode||this.domNode;a=f("touch")&&!window.PointerEvent;this.own(h(this.menuNode,a?d.press:"mousedown",c.hitch(this,"_onPress")),h(this.menuNode,"mousedown",c.hitch(this,"_onMouseDown")),h(this.menuNode,"keydown",c.hitch(this,"_onKeyDown")),h(this.menuNode,"keyup",c.hitch(this,
"_onKeyUp")),h(this.domNode,"click",c.hitch(this,"_onMouseClick")),this.watch("disabled",c.hitch(this,function(a,b,c){c&&this._handleClosingPopup(!1)})))},_onPress:function(a){var b=-1<this._clickButtons.indexOf(p(a))||"touchstart"===a.type,d=!this.isMenuOpen()||this._closeMenuOnParentClick();this.get("menu")&&(this.get("menu")._lastPressEvent=a);b&&d?(this.get("menu")&&(this.get("menu")._mouseDownTriggered=!0,setTimeout(c.hitch(this,function(){this.get("menu")&&"_mouseDownTriggered"in this.get("menu")&&
delete this.get("menu")._mouseDownTriggered}),300)),this.toggleMenu(a.target)):this.isMenuOpen()&&(a.preventDefault(),a.stopImmediatePropagation())},_onMouseDown:function(a){this.inherited(arguments);var b=this.get("menu")&&"_mouseDownTriggered"in this.get("menu"),c=this.get("menu")&&"_lastPressEvent"in this.get("menu")&&"touchstart"===this.get("menu")._lastPressEvent.type;if(this.isMenuOpen()||b&&c)a.preventDefault(),a.stopImmediatePropagation()},_onMouseClick:function(b){this.get("menu")&&"_mouseDownTriggered"in
this.get("menu")&&delete this.get("menu")._mouseDownTriggered;this.inherited(arguments);a.isDescendant(b.target,this.menuNode)&&b.stopImmediatePropagation()},_onKeyDown:function(a){this.inherited(arguments);if(!this.get("disabled")||this.get("dropDownNeverDisabled"))if(a.keyCode===k.ESCAPE)this.domNode.classList.contains("mwFocusableMenuChildMixin")?this.closeMenu(!1):this.closeMenu(!0);else if(-1<this._keyPressButtons.indexOf(a.keyCode)&&(!this.isMenuOpen()||this._closeMenuOnParentClick()&&this.isMenuOpen()))this._toggleOnKeyUp=
!0},_onKeyUp:function(a){this.inherited(arguments);this._toggleOnKeyUp&&(delete this._toggleOnKeyUp,(!this.isMenuOpen()||this.closeMenuOnClick)&&this.toggleMenu(a.target))},_onBlur:function(){this.isMenuOpen()&&(this.get("menu")._invokingWidget===this&&!this.get("menu").domNode.classList.contains("mwMenu")&&!this.get("menu").domNode.classList.contains("mwSectionPopup"))&&(a.isDescendant(document.activeElement,this.domNode)?this.closeMenu(!0):this.closeMenu(!1));this.inherited(arguments)},_qeDropDownClick:function(){this.toggleMenu()},
toggleMenu:function(b){b=b||this.menuNode;b=b.domNode||b;a.isDescendant(b,this.menuNode)&&(this.isMenuOpen()?this.closeMenu(!0):this.openMenu())},openMenu:function(){this._showMenu()},_showMenu:function(){null!=this.get("menu")&&setTimeout(c.hitch(this,function(){var a,c,d=this;if(null!=d.get("menu")){null==this.aroundNode&&(c=a=0);"_invokingWidget"in this.get("menu")&&this.get("menu")._invokingWidget&&(this.get("menu")._lastInvokingWidget=this.get("menu")._invokingWidget);this.get("menu")._invokingWidget=
this;this.domNode.classList.add("mwHasMenuOpened");this.get("menu")._onPositionListener=e.around(b,"position",function(a){return function(b,c){var d="ontouchstart"in window||navigator.maxTouchPoints,e=document.body.clientWidth>window.innerWidth;return c&&d&&e?a(b,!1):a(b,c)}});this.get("menu").own(this.get("menu")._onPositionListener);m.open({parent:this,popup:d.get("menu"),x:a,y:c,around:d.aroundNode,orient:d._menuOrientation,maxHeight:d.get("maxHeight"),onCancel:function(){if(d.domNode.classList.contains("mwFocusableMenuChildMixin")){var a=
d.getParent();d.closeMenu(!1);a._closeEventData={mwEventData:{gainedFocusWidget:null}};a.closeRequest(!1)}else d.closeMenu(!0)},onClose:function(){d.get("menu")&&"_lastInvokingWidget"in d.get("menu")?(null!=d.get("menu")._lastInvokingWidget&&d._cleanUpAfterClose(d,!0),delete d.get("menu")._lastInvokingWidget):d._cleanUpAfterClose(d,!1);d.get("menu")&&"_onPositionListener"in d.get("menu")&&(d.get("menu")._onPositionListener.remove(),delete d.get("menu")._onPositionListener)}});var f=d.own(h(n,"resize",
function(){d.getParentWidget?d.closeMenu(!1):d.closeMenu(!0);f.length?[].slice.call(f).forEach(function(a){a.remove()}):f.remove()}))}}),0)},closeMenu:function(a){var b=this._handleClosingPopup(a);this._handleFocusOnClose(a,b)},_handleClosingPopup:function(a){if(this.isMenuOpen()){if(this.get("menu")){this.get("menu").getChildren().forEach(function(b){"menu"in b&&b.isMenuOpen()&&(b.get("menu")._closeEventData=this._closeEventData,b.closeMenu(a))},this);var b=this.get("menu")._closeEventData;m.close(this.get("menu"));
return b}}else if(this.get("menu"))return this.get("menu")._closeEventData},_handleFocusOnClose:function(a,b){!0===a?this.focus?this.focus():l.focus(this.focusNode||this.domNode):b&&"mwEventData"in b&&"gainedFocusWidget"in b.mwEventData&&b.mwEventData.gainedFocusWidget?l.focus(b.mwEventData.gainedFocusWidget.focusNode||b.mwEventData.gainedFocusWidget.domNode):l.focus(document.body)},startup:function(){if(!this._started){if(!this.get("menu")&&this.srcNodeRef){var a=query("[widgetId]",this.srcNodeRef)[0];
a&&this.set("menu",registry.byNode(a))}this.get("menu")&&m.hide(this.get("menu"));this.inherited(arguments)}},destroy:function(){this.isMenuOpen()&&this.closeMenu(!0);this.inherited(arguments)},_closeMenuOnParentClick:function(){return!0},_cleanUpAfterClose:function(a,b){!b&&a.get("menu")&&delete a.get("menu")._invokingWidget;a.domNode&&a.domNode.classList.remove("mwHasMenuOpened")},isMenuOpen:function(){return this.get("menu")&&this.get("menu")._invokingWidget&&this.get("menu")._invokingWidget===
this&&this.get("menu").domNode&&this.get("menu").domNode.parentElement&&this.get("menu").domNode.parentElement.classList.contains("dijitPopup")?"none"!==this.get("menu").domNode.parentElement.style.display:!1}})})},"mw-mixins/property/HasDynamicMenuMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/MenuMixin"],function(g,c,e){g=g(null,{hasDynamicMenu:!1,_setHasDynamicMenuAttr:function(a){this._set("hasDynamicMenu",a)},postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwHasDynamicMenuMixin");this.set("hasDynamicMenu",this.get("hasDynamicMenu"))},openMenu:function(){this.get("hasDynamicMenu")?this.emit("dropdownclick",{}):this._showMenu()},showMenu:function(){this._showMenu();var a=this.menu.on("updatelayout",c.hitch(this.menu,function(){this._updateLayout&&this._updateLayout()})),b=this.menu.on("close",function(){a.remove();b.remove()})}});g._dependencies=[{mixin:e,orderDependent:!0}];return g})},"MW/layout/Tab":function(){define("dojo/_base/declare dojo/_base/event dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/has dojo/mouse dojo/on dojo/touch dijit/_TemplatedMixin dijit/_WidgetBase ./LayoutChildProperty ./LayoutContainerEvent ./LayoutUtils dojo/text!./templates/Tab.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g([n,m],{templateString:r,buildRendering:function(){var a=this;this.inherited(arguments);this._setLabelAttr(this.label);this._setToolTipAttr(this.toolTip);this._setEnabledAttr(this.enabled);!this.closable&&this.closeNode&&f.set(this.closeNode,{display:"none"});e.setSelectable(this.domNode,!1);p.preventFocus(this.domNode,!0);d(this.domNode,l.press,function(b){b.target===a.closeNode?a.isCloseArmed=!0:a.isArmed=!0;a.releaseConnection=d(a.ownerDocument,
l.release,function(){a.isCloseArmed=!1;a.isArmed=!1;a.releaseConnection.remove()});p.stopEvent(b)});d(this.domNode,l.release,function(b){h.isRight(b)||(h.isMiddle(b)?(a.isArmed||a.isCloseArmed)&&(a.closable&&!k("ie"))&&a.emit(s.CLOSE,a):b.target===a.closeNode?a.isCloseArmed&&a.emit(s.CLOSE,a):a.isArmed&&!1!==a.enabled&&(a.set("checked",!0),!1!==a.properties.isSelectable&&a.properties.set(q.IS_SELECTED,!0)))});this.checked&&b.add(this.domNode,"checkedTab")},disarm:function(){this.isArmed=!1},_setLabelAttr:function(a){this.labelNode&&
(this.labelNode.textContent=a);this._set("label",a)},_getLabelAttr:function(){return this.labelNode?this.labelNode.textContent:""},_setToolTipAttr:function(b){b?a.set(this.domNode,"title",b):a.remove(this.domNode,"title");this._set("toolTip",b)},_setCheckedAttr:function(a){if(this.checked!==a||!this._started)this._set("checked",a),a?b.add(this.domNode,"checkedTab"):b.remove(this.domNode,"checkedTab")},_setClosableAttr:function(a){if(this.closable!==a||!this._started)this._set("closable",a),this.closeNode&&
f.set(this.closeNode,{display:a?"inline":"none"})},_setEnabledAttr:function(a){if(this.enabled!==a||!this._started)this._set("enabled",a),a?b.remove(this.domNode,"disabled"):b.add(this.domNode,"disabled")}})})},"MW/layout/BorderContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/fx dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/mouse dojo/on dojo/touch dijit/layout/_LayoutWidget dijit/layout/ContentPane MW/layout/HidingContainer MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/MaximizingContainer MW/layout/Restorable MW/layout/SelectionBlocker MW/layout/Traversable mw-log/Log dojo/text!./templates/CollapsedBorderChildH.html dojo/text!./templates/CollapsedBorderChildV.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F){var E=Number.MAX_VALUE,C=["top","left","center","right","bottom"],P=["left","top","center","bottom","right"];return g([p,m,D,t,w],{_:void 0,design:"headline",animationEnabled:!0,minimumCenterWidth:100,minimumCenterHeight:100,baseClass:"borderContainer",constructor:function(){this._borderInfo={};this._dragInfo={}},buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"mwLayoutContainer")},startup:function(){if(!this._started){var a=
this;this.getChildren().forEach(function(b){a._setupChild(b)});this.inherited(arguments)}},addWithProperties:function(a,b){var c=b.region,d;A.assert(c,"No region specified for "+a.id);a.region=c;"center"===c?(this._bindCenterProperties(b),this._isCenterProportional=b.isProportional):(d=this._createBorderInfo(c,a),this._bindChildProperties(d,b),b===a?this._getInfoFromWidget(a,d):(e.mixin(d,b),void 0===b.isResizable&&(d.isResizable=d.hasSplitter)),this._borderInfo[c]=d);this.addChild(a)},addChild:function(a){var b=
a.region,c;A.assert(b,"No region specified for "+a.id);"center"===b?(this._centerWidget=a,this._bindCenterProperties(a)):this._isBorderRegion(b)&&((c=this._borderInfo[b])?A.assert(c.widget.getParent()!==this,b+" region already occupied"):(c=this._createBorderInfo(b,a),this._borderInfo[b]=c,this._getInfoFromWidget(a,c)),this._bindChildProperties(c,a));this.inherited(arguments);this._started&&(this._pendingState&&this._isPopulatedPerState(this._pendingState)?(this._restoreState(this._pendingState),
delete this._pendingState):this.layout(),this.emit(x.STATE_CHANGED));"center"===b&&this._updateExpandedStates()},_setupChild:function(a){var b=a.region,c,d,g;this.inherited(arguments);l.set(a.domNode,"position","absolute");if(b){if(b=this._borderInfo[b]){if(a==b.collapsedWidget)return;b.initComplete=!0}else this._initialCenterWidth=a.domNode.style.width,this._initialCenterHeight=a.domNode.style.height;b&&b.hasSplitter&&(d="H"===b.splitterOrientation?"height":"width",g="H"===b.splitterOrientation?
"padding-top":"padding-left",b.isResizable?(b.initialDimension=this._getDimensionFromStyle(b),b.splitterNode=h.create("div",{id:a.domNode.id+"Splitter"},this.domNode),k.add(b.splitterNode,"splitter"+b.splitterOrientation),f.setSelectable(b.splitterNode,!1),v.preventFocus(b.splitterNode,!0),c=h.create("div",{id:a.domNode.id+"SplitterLine"},b.splitterNode),k.add(c,"splitterLine"+b.splitterOrientation),f.setSelectable(c,!1),v.preventFocus(c,!0),b.splitterThickness=Math.round(l.get(b.splitterNode,d)),
b.visibleSplitterThickness=Math.round(l.get(c,d)),b.preSplitterOverlap=Math.round(l.get(b.splitterNode,g)),b.postSplitterOverlap=b.splitterThickness-b.visibleSplitterThickness-b.preSplitterOverlap,b.followOpposite&&l.set(b.splitterNode,{visibility:"hidden"}),d=e.hitch(this,"_beginSplitterDrag",b),q(b.splitterNode,s.press,d),q(c,s.press,d),d=e.hitch(this,"_handleDoubleClick",b),q(b.splitterNode,"dblclick",d),q(c,"dblclick",d),d=function(a){a.preventDefault()},q(b.splitterNode,"contextmenu",d),q(c,
"contextmenu",d)):(b.splitterNode=h.create("div",{id:a.domNode.id+"Splitter"},this.domNode),l.set(b.splitterNode,"position","absolute"),k.add(b.splitterNode,"splitterLine"+b.splitterOrientation),f.setSelectable(b.splitterNode,!1),v.preventFocus(b.splitterNode),b.splitterThickness=Math.round(l.get(b.splitterNode,d)),b.visibleSplitterThickness=b.splitterThickness,b.preSplitterOverlap=0,b.postSplitterOverlap=0),"function"===typeof b.restoredSplitterPosition&&(b.restoredSplitterPosition=b.restoredSplitterPosition()),
b.collapsePending&&(c=this.animationEnabled,this.animationEnabled=!1,d=b.restoredSplitterPosition,g=b.restoredReferenceDimension,this._collapse(b),b.restoredSplitterPosition=d,b.restoredReferenceDimension=g,this.animationEnabled=c,delete b.collapsePending))}},getChildInRegion:function(a){return"center"===a&&this._centerWidget?this._centerWidget:(a=this._borderInfo[a])?a.widget:null},removeChildInRegion:function(a){(a=this.getChildInRegion(a))&&this.removeChild(a);return a},removeChild:function(a){var b=
a.region,c,d={top:"auto",left:"auto",position:"static",clip:"auto"};if("center"===b)this._centerWidget=null,this._unbindCenterProperties&&this._unbindCenterProperties(),d.width=this._initialCenterWidth,d.height=this._initialCenterHeight;else if(c=this._borderInfo[b])c.unbindChildProperties&&c.unbindChildProperties(),c.initialDimension&&("H"===c.splitterOrientation?d.height=c.initialDimension:d.width=c.initialDimension),c.splitterNode&&h.destroy(c.splitterNode),c.isCollapsed&&p.prototype.removeChild.apply(this,
[c.collapsedWidget]),c.collapsedWidget&&c.collapsedWidget.isDefaultCollapsedWidget&&c.collapsedWidget.destroyRecursive(),delete this._borderInfo[b];this.inherited(arguments);if(c||"center"===b)this._started&&(this.layout(),this.emit(x.STATE_CHANGED)),l.set(a.domNode,d)},collapse:function(a){(a=this._borderInfo[a])&&this._collapse(a)},isCollapsed:function(a){return(a=this._borderInfo[a])?!!a.isCollapsed:!1},isCollapsing:function(a){return(a=this._borderInfo[a])?!!a.isCollapsing:!1},expand:function(a){var b,
c,d=[],e;if("center"===a||!this._centerWidget){c=Object.keys(this._borderInfo);for(b=0;b<c.length;b+=1)e=c[b],e!==a&&!this._borderInfo[e].isCollapsed&&(this._collapse(this._borderInfo[e]),d.push(e));"center"===a?(this._setCenterExpanded(!0),this._regionsCollapsedUponCenterExpand=d):this._borderInfo[a]&&(this._setExpanded(this._borderInfo[a],!0),this._borderInfo[a].regionsCollapsedUponExpand=d)}},isExpanded:function(a){return"center"===a?this._isCenterExpanded:this._borderInfo[a]&&this._borderInfo[a].isExpanded},
restore:function(a){var b,c,d,e;if("center"===a)b=this._isCenterExpanded,d=this._regionsCollapsedUponCenterExpand,this._setCenterExpanded(!1),this._regionsCollapsedUponCenterExpand=null;else if((c=this._borderInfo[a])&&c.isExpanded)b=!0,d=c.regionsCollapsedUponExpand,this._setExpanded(c,!1),c.regionsCollapsedUponExpand=null;if(b){b=Object.keys(this._borderInfo);for(c=0;c<b.length;c+=1)e=b[c],e!==a&&(!d||-1!==d.indexOf(e))&&this._restore(this._borderInfo[b[c]])}else c&&this._restore(c)},canMaximizeLocally:function(a){a=
a.region;var b,c;if(a){if(this.isExpanded(a)||"center"!==a)return!1;a=Object.keys(this._borderInfo);for(b=0;b<a.length;b++)if(c=this._borderInfo[a[b]],c.isCollapsible&&!c.isCollapsed)return!0}return!1},canRestoreLocally:function(a){return(a=a.region)?this.isExpanded(a):!1},maximizeLocally:function(a){(a=a.region)&&this.expand(a)},restoreLocally:function(a){(a=a.region)&&this.restore(a)},revealChild:function(a){a=a.region;this.isCollapsed(a)&&this.restore(a)},nextChild:function(a,b){if(0===this.getChildren().length)return null;
var c=this.traversalOrder||("headline"===this.design?C:P),d=c[c.length-1];if(a&&a.region===d&&this.getParent())return null;var e=a?c.indexOf(a.region):-1,f,g,h;for(f=(e+1)%c.length;f!==e;f=(f+1)%c.length){g=c[f];if("center"===g&&this._centerWidget)return this._centerWidget;if((h=this._borderInfo[g])&&(!b||!h.isCollapsed))if(h.widget.nextChild){if(h.widget.nextChild(null,b))return h.widget}else return h.widget;if((!h||b&&h.isCollapsed)&&g===d&&this.getParent())break}return null},previousChild:function(a,
b){if(0===this.getChildren().length)return null;var c=this.traversalOrder||("headline"===this.design?C:P),d=c[0];if(a&&a.region===d&&this.getParent())return null;var e=a?c.indexOf(a.region):c.length,f,g,h;for(f=(e-1+c.length)%c.length;f!==e;f=(f-1)%c.length){g=c[f];if("center"===g&&this._centerWidget)return this._centerWidget;if((h=this._borderInfo[g])&&(!b||!h.isCollapsed))if(h.widget.previousChild){if(h.widget.previousChild(null,b))return h.widget}else return h.widget;if((!h||b&&h.isCollapsed)&&
g===d&&this.getParent())break}return null},isShowingLocally:function(a){return a.getParent()===this&&!this.isCollapsed(a.region)&&!this.isCollapsing(a.region)},resize:function(){var a,b,c,e,f;this.computedStyle||(this.computedStyle=l.getComputedStyle(this.domNode));this.inherited(arguments);!1===this._isCenterProportional&&(this._portionsAreStale=!0);b=Object.keys(this._dragInfo);0<b.length&&(f=d.getContentBox(this.domNode,this.computedStyle));for(a=0;a<b.length;a+=1)if(c=b[a],e=this._dragInfo[c],
e.animation)switch(c){case "left":f.w!==e.lastReferenceDimension&&(c=f.w-e.lastReferenceDimension,e.oppositeCollapsePosition+=c,e.upperLimit+=c,e.lastReferenceDimension=f.w);break;case "top":f.h!==e.lastReferenceDimension&&(c=f.h-e.lastReferenceDimension,e.oppositeCollapsePosition+=c,e.upperLimit+=c,e.lastReferenceDimension=f.h);break;case "right":f.w!==e.lastReferenceDimension&&(c=f.w-e.lastReferenceDimension,e.collapsePosition+=c,e.upperLimit+=c,e.lastReferenceDimension=f.w);break;case "bottom":f.h!==
e.lastReferenceDimension&&(c=f.h-e.lastReferenceDimension,e.collapsePosition+=c,e.upperLimit+=c,e.lastReferenceDimension=f.h)}},getFreeDimension:function(a){return(a=this._borderInfo[a])&&a.freeDimension?a.freeDimension:0},setFreeDimension:function(a,b){var c=this._borderInfo[a];if(c){var e=d.getContentBox(this.domNode,this.computedStyle),f=this._computeSplitterOverhead(),e="H"===c.splitterOrientation?e.h-f.h:e.w-f.w;0<e&&(f=Math.floor(0.25*e),b>=e?b=Math.max(e-100,f):0>b&&(b=f));c.freeDimension=
b;c.isProportional&&(c.proportion=0<e?c.freeDimension/e:1);this._started&&this.layout()}},getNonCollapsedFreeDimension:function(a){var b=this._borderInfo[a];return b&&b.isCollapsed&&b.preCollapseFreeDimension?b.preCollapseFreeDimension:this.getFreeDimension(a)},getProportion:function(a){return this._getProportion(this._borderInfo[a])},setProportion:function(a,b){var c=this._borderInfo[a];if(c){if(0>b||1<=b)b=0.25;c.proportion=b;this._started&&this.layout()}},getState:function(){var a=d.getContentBox(this.domNode,
this.computedStyle),b={referenceWidth:a.w,referenceHeight:a.h,isCenterExpanded:!!this._isCenterExpanded},c,e=this;Object.keys(this._borderInfo).forEach(function(d){c=e._borderInfo[d];c.isResizable&&(b[d]=e._getBorderState(c,"left"===d||"right"===d?a.w:a.h))});return b},setState:function(a){this._isPopulatedPerState(a)?this._restoreState(a):this._pendingState=a},isRestoringState:function(){return void 0!==this._pendingState},endStateRestore:function(){delete this._pendingState},_isPopulatedPerState:function(a){var b=
!0,c=["left","right","top","bottom"],d,e,f;for(d=0;d<c.length&&b;d+=1)e=c[d],f=!!this._borderInfo[e]&&this._borderInfo[e].isResizable,f!==(void 0!==a[e])&&(b=!1);return b},_restoreState:function(a){var b=d.getContentBox(this.domNode,this.computedStyle),c=a.referenceWidth===b.w,e=a.referenceHeight===b.h,f=this;this._updateLayoutConstraints();Object.keys(this._borderInfo).forEach(function(b){a[b]&&("H"===f._borderInfo[b].splitterOrientation?f._restoreBorderState(b,a[b],e,a.referenceHeight):f._restoreBorderState(b,
a[b],c,a.referenceWidth))})},_getBorderState:function(a,b){var c={freeDimension:a.isCollapsed?this._computeFreeDimensionFromSplitterPosition(a,a.restoredSplitterPosition,b):a.freeDimension,isCollapsed:!!a.isCollapsed};a.proportion&&(c.proportion=a.proportion);return c},_restoreBorderState:function(a,b,c,d){var f,g=this._borderInfo[a];if(g){var h=this.animationEnabled;this.animationEnabled=!1;g.isResizable&&!g.followOpposite&&(c?(this.setFreeDimension(a,b.freeDimension),f=b.freeDimension):(this.setProportion(a,
b.proportion?b.proportion:0.25),f=Math.floor(this._getProportion(g)*d)));g.isCollapsible&&g.isCollapsed!==b.isCollapsed&&(b.isCollapsed?this._collapse(g):this._restore(g));b.isCollapsed&&(g.restoredSplitterPosition=g.initComplete?this._computeSplitterPositionFromFreeDimension(g,f,d):e.hitch(this,"_computeSplitterPositionFromFreeDimension",g,f,d),g.restoredReferenceDimension=d);this.animationEnabled=h}},_getProportion:function(a){return a&&(a.proportion||0===a.portion)?a.proportion:0.25},_getDimensionFromStyle:function(a){return a.widget.domNode.style["H"===
a.splitterOrientation?"height":"width"]},_getBorderThickness:function(a){var b=d.getBorderExtents(a.widget.domNode);return"H"===a.splitterOrientation?b.h:b.w},layout:function(){this._started&&this.domNode&&this._layoutChildren()},_isBorderRegion:function(a){return"left"===a||"right"===a||"top"===a||"bottom"===a},_oppositeRegion:function(a){switch(a){case "top":return"bottom";case "bottom":return"top";case "left":return"right";case "right":return"left"}return"center"},_oppositeBorderInfo:function(a){return this._borderInfo[this._oppositeRegion(a.region)]},
_layoutChildren:function(){this._updateLayoutConstraints();var a=d.getContentBox(this.domNode,this.computedStyle);if(!a||0===a.h||0===a.w)return!1;var b=e.clone(a),c=b.w,f=b.h,g,h,k,m,n={};h={};var p,r,u={},q={},t=this._computeSplitterOverhead(),C=0<Object.keys(this._dragInfo).length,s,A=[];g=Object.keys(this._borderInfo);for(r=0;r<g.length;r++)p=this._borderInfo[g[r]],p.initComplete&&A.push(p);A.sort(function(a,b){return 2*a.layoutOrder+("left"===a.region||"top"===a.region?0:1)-(2*b.layoutOrder+
("left"===b.region||"top"===b.region?0:1))});for(r=0;r<A.length;r++){p=A[r];g=e.clone(b);k=e.clone(b);m=e.clone(b);switch(p.region){case "top":C&&this._portionsAreStale&&this._updatePortion(p,f,t.h);s=this._computeFreeDimension(p,f,t.h);g.h=s;b.t+=g.h;b.h-=g.h;p.splitterNode&&(k.t=b.t-p.preSplitterOverlap,k.h=p.splitterThickness,b.t+=p.visibleSplitterThickness,b.h-=p.visibleSplitterThickness);p.isCollapsed&&(m.h=this._getCollapsedThickness(p));break;case "bottom":C&&this._portionsAreStale&&this._updatePortion(p,
f,t.h);s=this._computeFreeDimension(p,f,t.h);g.h=s;g.t=b.t+b.h-g.h;b.h-=g.h;p.splitterNode&&(k.t=g.t-p.preSplitterOverlap-p.visibleSplitterThickness,k.h=p.splitterThickness,b.h-=p.visibleSplitterThickness);p.isCollapsed&&(m.h=this._getCollapsedThickness(p),m.t=a.t+a.h-m.h);break;case "left":C&&this._portionsAreStale&&this._updatePortion(p,c,t.w);s=this._computeFreeDimension(p,c,t.w);g.w=s;b.l+=g.w;b.w-=g.w;p.splitterNode&&(k.l=b.l-p.preSplitterOverlap,k.w=p.splitterThickness,b.l+=p.visibleSplitterThickness,
b.w-=p.visibleSplitterThickness);p.isCollapsed&&(m.w=this._getCollapsedThickness(p));break;case "right":C&&this._portionsAreStale&&this._updatePortion(p,c,t.w),s=this._computeFreeDimension(p,c,t.w),g.w=s,g.l=b.l+b.w-g.w,b.w-=g.w,p.splitterNode&&(k.l=g.l-p.preSplitterOverlap-p.visibleSplitterThickness,k.w=p.splitterThickness,b.w-=p.visibleSplitterThickness),p.isCollapsed&&(m.w=this._getCollapsedThickness(p),m.l=a.l+a.w-m.w)}n[p.region]={};n[p.region].borderBox=g;n[p.region].splitterBox=k;n[p.region].collapsedBox=
m;h[p.region]=p.isProportional&&!p.isCollapsed;u[p.region]=Math.max(p.minSize,p.minAutoSize)-s;q[p.region]=p.maxSize-s}C&&(this._portionsAreStale=!1);if(this._centerWidget&&!1===this._isCenterProportional&&this._centerSize&&!this._isCenterExpanded&&!C){c=b.w-this._centerSize.w;if(0!==c&&(r=p=c,h.left&&h.right&&(p=this._borderInfo.left.portion,r=this._borderInfo.right.portion,p=c*p/(p+r),r=c-p),h.left&&(p=Math.max(u.left,Math.min(q.left,p)),this._borderInfo.left.freeDimension+=p,n.left.borderBox.w+=
p,b.l+=p,b.w-=p,n.left.splitterBox.l+=p),h.right&&(r=Math.max(u.right,Math.min(q.right,r)),this._borderInfo.right.freeDimension+=r,n.right.borderBox.w+=r,n.right.borderBox.l-=r,b.w-=r,n.right.splitterBox.l-=r),"sidebar"===this.design&&(h.left||h.right)))n.top&&(n.top.borderBox.l=b.l,n.top.borderBox.w=b.w,n.top.splitterBox.l=b.l,n.top.splitterBox.w=b.w),n.bottom&&(n.bottom.borderBox.l=b.l,n.bottom.borderBox.w=b.w,n.bottom.splitterBox.l=b.l,n.bottom.splitterBox.w=b.w);c=b.h-this._centerSize.h;if(0!==
c&&(r=p=c,h.top&&h.bottom&&(p=this._borderInfo.top.portion,r=this._borderInfo.bottom.portion,p=c*p/(p+r),r=c-p),h.top&&(p=Math.max(u.top,Math.min(q.top,p)),this._borderInfo.top.freeDimension+=p,n.top.borderBox.h+=p,b.t+=p,b.h-=p,n.top.splitterBox.t+=p),h.bottom&&(r=Math.max(u.bottom,Math.min(q.bottom,r)),this._borderInfo.bottom.freeDimension+=r,n.bottom.borderBox.h+=r,n.bottom.borderBox.t-=r,b.h-=r,n.bottom.splitterBox.t-=r),"headline"===this.design&&(h.top||h.bottom)))n.left&&(n.left.borderBox.t=
b.t,n.left.borderBox.h=b.h,n.left.splitterBox.t=b.t,n.left.splitterBox.h=b.h),n.right&&(n.right.borderBox.t=b.t,n.right.borderBox.h=b.h,n.right.splitterBox.t=b.t,n.right.splitterBox.h=b.h)}for(r=0;r<A.length;r++){p=A[r];g=n[p.region].borderBox;k=n[p.region].splitterBox;m=n[p.region].collapsedBox;h={t:0,l:0,w:a.l+a.w,h:a.t+a.h};switch(p.region){case "top":g.h<p.minSize?(c=p.minSize-g.h,g.t-=c,g.h=p.minSize,h.t=c):h=null;break;case "bottom":g.h<p.minSize?(h.h=g.h,g.h=p.minSize):h=null;break;case "left":g.w<
p.minSize?(c=p.minSize-g.w,g.l-=c,g.w=p.minSize,h.l=c):h=null;break;case "right":g.w<p.minSize?(h.w=g.w,g.w=p.minSize):h=null}v.setSize(p.widget,g);p.isCollapsed&&v.setSize(this._getCollapsedWidget(p),m);p.isResizable&&l.set(p.widget.domNode,null===h?{clip:"auto"}:v.formatClipStyle(h));p.splitterNode&&(d.setMarginBox(p.splitterNode,k),p.splitterBox=k);p.properties&&(p.properties.freeDimension!==p.freeDimension&&void 0!==p.freeDimension)&&p.properties.set("freeDimension",p.freeDimension)}if(this._centerWidget&&
(v.setSize(this._centerWidget,b),!this._centerSize||C))this._centerSize=b;return!0},_updateLayoutConstraints:function(){if(this._started){var a=this,b,c,d;!this._centerWidget&&!this.isRestoringState()&&Object.keys(this._borderInfo).forEach(function(e){b=a._borderInfo[e];c=("left"===e||"right"===e)&&"headline"===a.design||("top"===e||"bottom"===e)&&"sidebar"===a.design;d=a._oppositeBorderInfo(b);b.isCollapsed&&(c&&(!d||d.isCollapsed||!d.isCollapsible))&&a._setCollapsed(b,!1)});var e,f,g;if(this._borderInfo.left||
this._borderInfo.right){e=!this._centerWidget&&("headline"===this.design||!(this._borderInfo.top||this._borderInfo.bottom));if(this._borderInfo.right&&this._borderInfo.right.isResizable&&(f=!(!e||!this._borderInfo.left),g=!(!e||this._borderInfo.left),f!==this._borderInfo.right.followOpposite||g!==this._borderInfo.right.fillAvailable))this._borderInfo.right.followOpposite=f,this._borderInfo.right.fillAvailable=g,delete this._borderInfo.right.freeDimension,this._borderInfo.left&&delete this._borderInfo.left.freeDimension,
g&&this._setCollapsed(this._borderInfo.right,!1),this._setSplitterVisible(this._borderInfo.right,!(f||g));this._borderInfo.left&&this._borderInfo.left.isResizable&&(g=!(!e||this._borderInfo.right),g!==this._borderInfo.left.fillAvailable&&((this._borderInfo.left.fillAvailable=g)&&this._setCollapsed(this._borderInfo.left,!1),delete this._borderInfo.left.freeDimension,this._setSplitterVisible(this._borderInfo.left,!g)))}if(this._borderInfo.bottom||this._borderInfo.top){e=!this._centerWidget&&("sidebar"===
this.design||!(this._borderInfo.left||this._borderInfo.right));if(this._borderInfo.bottom&&this._borderInfo.bottom.isResizable&&(f=!(!e||!this._borderInfo.top),g=!(!e||this._borderInfo.top),f!==this._borderInfo.bottom.followOpposite||g!==this._borderInfo.bottom.fillAvailable))this._borderInfo.bottom.followOpposite=f,this._borderInfo.bottom.fillAvailable=g,delete this._borderInfo.bottom.freeDimension,this._borderInfo.top&&delete this._borderInfo.top.freeDimension,this._setSplitterVisible(this._borderInfo.bottom,
!(f||g));this._borderInfo.top&&this._borderInfo.top.isResizable&&(g=!(!e||this._borderInfo.bottom),g!==this._borderInfo.top.fillAvailable&&((this._borderInfo.top.fillAvailable=g)&&this._setCollapsed(this._borderInfo.top,!1),delete this._borderInfo.top.freeDimension,this._setSplitterVisible(this._borderInfo.top,!g)))}}},_setSplitterVisible:function(a,b){a.splitterNode&&l.set(a.splitterNode,{visibility:b?"visible":"hidden"})},_setCollapsed:function(a,b){(a.isCollapsed=b)?k.add(a.widget.domNode,"collapsedChild"):
k.remove(a.widget.domNode,"collapsedChild");a.properties&&(a.properties.set(u.IS_COLLAPSED,b),b?a.properties.set(u.IS_SHOWING,!1):v.isShowing(this.domNode)&&a.properties.set(u.IS_SHOWING,!0));var c=this._getCollapsedWidget(a);b?(l.set(c.domNode,"position","absolute"),p.prototype.addChild.apply(this,[c])):p.prototype.removeChild.apply(this,[c])},_setExpanded:function(a,b){a.isExpanded=b;a.properties&&a.properties.set(u.IS_EXPANDED,b)},_setCenterExpanded:function(a){this._isCenterExpanded=a;this._centerProperties&&
this._centerProperties.set(u.IS_EXPANDED,a)},_createBorderInfo:function(a,b){return{region:a,widget:b,hasSplitter:!1,isResizable:!1,splitterOrientation:"top"===a||"bottom"===a?"H":"V",minSize:0,minAutoSize:0,maxSize:E,isCollapsible:!1,layoutOrder:"headline"===this.design&&("top"===a||"bottom"===a)||"sidebar"===this.design&&("left"===a||"right"===a)?0:1,isProportional:!1,proportion:0.25,collapsedWidget:b.collapsedWidget,fillAvailable:!1,followOpposite:!1}},_getInfoFromWidget:function(a,b){void 0!==
a.splitter?b.hasSplitter=a.splitter:void 0!==a.hasSplitter&&(b.hasSplitter=a.hasSplitter);void 0!==a.collapsible?b.isCollapsible=a.collapsible:void 0!==a.isCollapsibled&&(b.isCollapsible=a.isCollapsible);b.isResizable=void 0!==a.resizable?a.resizable:void 0!==a.isResizable?a.isResizable:b.hasSplitter;void 0!==a.minSize&&(b.minSize=a.minSize);void 0!==a.minAutoSize&&(b.minAutoSize=a.minAutoSize);void 0!==a.maxSize&&(b.maxSize=a.maxSize);void 0!==a.layoutOrder&&(b.layoutOrder=a.layoutOrder)},_bindChildProperties:function(a,
b){var c=this,d,e;!a.properties&&(b.watch&&b.set&&b.get)&&(a.properties=b,d=b.watch(u.IS_COLLAPSED,function(b,d,e){e!==a.isCollapsed&&(e?c._collapse(a):c._restore(a))}),e=b.watch(u.IS_EXPANDED,function(b,d,e){e!==a.isExpanded&&(e?c.expand(a.region):c.restore(a.region))}),a.unbindChildProperties=function(){d&&d.remove();e&&e.remove();delete a.properties;delete a.unbindChildProperties})},_bindCenterProperties:function(a){var b=this,c;!this._centerProperties&&(a.watch&&a.set&&a.get)&&(this._centerProperties=
a,c=a.watch(u.IS_EXPANDED,function(a,c,d){d!==b._isCenterExpanded&&(d?b.expand("center"):b.restore("center"))}),this._unbindCenterProperties=function(){c.remove();delete this._centerProperties;delete this._unbindCenterProperties})},_getProperties:function(a){return"center"===a?this._centerProperties:(a=this._borderInfo[a])?a.properties:null},_computeSplitterOverhead:function(){var a=0,b=0,c=this._borderInfo;Object.keys(this._borderInfo).forEach(function(d){c[d.hasSplitter]&&("H"===c[d].splitterOrientation?
b+=c[d].visibleSplitterThickness:a+=c[d].visibleSplitterThickness)});return{w:a,h:b}},_computeFreeDimension:function(a,b,c){var d=Math.max(1,b-c),e;if(e=this._dragInfo[a.region])return a.freeDimension=this._computeFreeDimensionFromSplitterPosition(a,e.splitterPosition,b),this._enforceFreeDimensionLimits(a),a.freeDimension;if(a.isCollapsed)return void 0===a.freeDimension&&(a.freeDimension=this._getCollapsedThickness(a)),a.freeDimension;if(a.fillAvailable)return b;if(e=this._oppositeBorderInfo(a)){if(a.followOpposite)return a.freeDimension=
b-e.freeDimension-(e.splitterNode?e.visibleSplitterThickness:0),a.freeDimension;if(e.followOpposite&&e.isCollapsed)return a.freeDimension=b-a.postSplitterOverlap-a.visibleSplitterThickness-a.preSplitterOverlap,a.freeDimension}if(!a.freeDimension||!a.isResizable&&!a.isProportional){if(e=void 0!==a.initialDimension?a.initialDimension:this._getDimensionFromStyle(a))0<=e.indexOf("%")?a.freeDimension=Math.floor(parseInt(e.slice(0,-1),10)*d/100):a.freeDimension=l.toPixelValue(a.widget.domNode,e)+this._getBorderThickness(a);
this._updatePortion(a,b,c)}if(a.isProportional||!a.freeDimension)b=a.freeDimension,a.freeDimension=Math.floor(this._getProportion(a)*d),a.minSize&&a.freeDimension<a.minSize&&(a.freeDimension=a.minSize),a.minAutoSize&&a.freeDimension<a.minAutoSize&&(a.freeDimension=a.minAutoSize,b&&b<a.freeDimension&&(a.freeDimension=b));this._enforceFreeDimensionLimits(a);return a.freeDimension},_computeFreeDimensionFromSplitterPosition:function(a,b,c){var e=d.getPadExtents(this.domNode,this.computedStyle);b="left"===
a.region||"top"===a.region?b+a.preSplitterOverlap:c-b-a.splitterThickness+a.postSplitterOverlap;switch(a.region){case "left":b-=e.l;break;case "top":b-=e.t;break;case "right":b+=e.l;break;case "bottom":b+=e.t}return b},_computeSplitterPositionFromFreeDimension:function(a,b,c){var e=d.getPadExtents(this.domNode,this.computedStyle);b="left"===a.region||"top"===a.region?b-a.preSplitterOverlap:c-b-a.splitterThickness+a.postSplitterOverlap;switch(a.region){case "left":b+=e.l;break;case "top":b+=e.t;break;
case "right":b-=e.l;break;case "bottom":b-=e.t}return b},_enforceFreeDimensionLimits:function(a){void 0!==a.maxSize&&a.freeDimension>a.maxSize&&(a.freeDimension=a.maxSize);!a.isCollapsible&&(void 0!==a.minSize&&a.freeDimension<a.minSize)&&(a.freeDimension=a.minSize)},_updatePortion:function(a,b,c){a.freeDimension&&(!a.isCollapsed&&a.isProportional&&!a.fillAvailable)&&(b=Math.max(1,b-c),a.proportion=a.freeDimension/b)},_collapse:function(a){if(!a.isCollapsed&&a.isCollapsible)if(a.initComplete){var b=
a.followOpposite;b&&(a=this._oppositeBorderInfo(a));var c=this._dragInfo[a.region];c||(c=this._initDragInfo(a,0,0),this._dragInfo[a.region]=c);c.done=!0;this._doCollapse(c,b)}else a.collapsePending=!0},_restore:function(a){if(a.isCollapsed){var b=a.followOpposite;b&&(a=this._oppositeBorderInfo(a));var c=this._dragInfo[a.region];c||(c=this._initDragInfo(a,0,0),this._dragInfo[a.region]=c);c.done=!0;this._doRestore(c,b)}},_beginSplitterDrag:function(a,b){if((n.isLeft(b)||"touchstart"===b.type)&&!a.isRestoring){if(this._dragInfo[a.region])return;
var c=this._initDragInfo(a,b.pageX,b.pageY);this._dragInfo[a.region]=c;c.connections=[q(this.ownerDocument,s.move,e.hitch(this,"_continueSplitterDrag",c)),q(this.ownerDocument,s.release,e.hitch(this,"_endSplitterDrag",c))];B.blockUntilRelease(this.domNode)}v.stopEvent(b)},_initDragInfo:function(a,b,c){var e={borderInfo:a},f=this._oppositeBorderInfo(a),g=d.getContentBox(this.domNode,this.computedStyle),h=a.splitterBox||d.getMarginBox(a.splitterNode),k=d.getPadExtents(this.domNode,this.computedStyle),
m=a.isCollapsed||f&&f.followOpposite&&f.isCollapsed,l="left"===a.region||"right"===a.region?this.minimumCenterWidth:this.minimumCenterHeight;"V"===a.splitterOrientation?(e.startPoint=b,e.splitterPosition=h.l,e.initialPosition=h.l,e.lastReferenceDimension=g.w,b=k.l,c=g.w,m||(a.restoredSplitterPosition=h.l,a.restoredReferenceDimension=g.w)):(e.startPoint=c,e.splitterPosition=h.t,e.initialPosition=h.t,e.lastReferenceDimension=g.h,b=k.t,c=g.h,m||(a.restoredSplitterPosition=h.t,a.restoredReferenceDimension=
g.h));"left"===a.region||"top"===a.region?(e.lowerLimit=b+this._getCollapsedThickness(a)-a.preSplitterOverlap,e.upperLimit=c+b,f?f.followOpposite?(e.upperLimit-=this._getCollapsedThickness(f)+a.splitterThickness-a.postSplitterOverlap,e.oppositeCollapsePosition=e.upperLimit):e.upperLimit-=l+f.freeDimension:e.upperLimit-=l,e.collapsePosition=e.lowerLimit):(e.lowerLimit=b+l+(f?f.freeDimension:0),e.upperLimit=b+c-this._getCollapsedThickness(a)-a.splitterThickness+a.postSplitterOverlap,e.collapsePosition=
e.upperLimit);e.lastPoint=e.startPoint;return e},_continueSplitterDrag:function(a,b){var c=a.borderInfo,e,f=d.getContentBox(this.domNode,this.computedStyle),g,h,f="V"===c.splitterOrientation?f.w:f.h;g="V"===c.splitterOrientation?b.pageX:b.pageY;var k=g-a.lastPoint;"right"===c.region||"bottom"===c.region?k*=-1:e=this._oppositeBorderInfo(c);a.lastPoint=g;g=a.lastPoint-a.startPoint;3<Math.abs(g)&&!a.hasSplitterMoved&&(a.hasSplitterMoved=!0,this.emit(x.SPLITTER_DRAG_STARTED,c.region));g=a.initialPosition+
g;g<a.lowerLimit?g=a.lowerLimit:g>a.upperLimit&&(g=a.upperLimit);c.isCollapsible&&(h=this._computeFreeDimensionFromSplitterPosition(c,g,f),0<k&&0<h&&this._setCollapsed(c,!1),0>k&&(0<h&&h<c.freeDimension&&h<c.minSize-0)&&this._doCollapse(a));e&&(e.followOpposite&&e.isCollapsible)&&(k*=-1,h=this._computeFreeDimensionFromSplitterPosition(e,g,f),0<k&&0<h&&this._setCollapsed(e,!1),0>k&&(0<h&&h<e.freeDimension&&h<e.minSize-0)&&this._doCollapse(a,!0));if(!a.animation&&!c.isCollapsed&&(!e||!e.followOpposite||
!e.isCollapsed)&&g!==a.splitterPosition)a.splitterPosition=g,this.layout()},_endSplitterDrag:function(a){var b=a.borderInfo,c=this._oppositeBorderInfo(b);a.connections.forEach(function(a){a.remove()});if(a.hasSplitterMoved){if(!b.isCollapsed&&(!c||!c.followOpposite||!c.isCollapsed)&&!a.animation)c=d.getContentBox(this.domNode,this.computedStyle),b.proportion="H"===b.splitterOrientation?b.freeDimension/c.h:b.freeDimension/c.w;a.animation?a.done=!0:(delete this._dragInfo[b.region],this.emit(x.SPLITTER_DRAG_ENDED,
b.region),this.emit(x.STATE_CHANGED))}else b.isCollapsed?this._restore(b):c&&(c.followOpposite&&c.isCollapsed)&&this._restore(c),delete this._dragInfo[b.region]},_handleDoubleClick:function(a,b){if(!a.isCollapsed&&!a.isRestoring){var c=this._oppositeBorderInfo(a);(!c||!c.followOpposite)&&this._collapse(a)}v.stopEvent(b)},_doCollapse:function(b,c){if(!b.animation){var d=this,e=b.borderInfo,f=c?d._oppositeBorderInfo(e):e;e.preCollapseFreeDimension=e.freeDimension;var g=function(){b.animation=null;b.splitterPosition=
c?b.oppositeCollapsePosition:b.collapsePosition;d._layoutChildren()||(e.freeDimension=d._getCollapsedThickness(e));f.isCollapsing=!1;d._setCollapsed(f,!0);d._updateExpandedStates();d.layout();b.done&&(delete d._dragInfo[e.region],d.emit(x.STATE_CHANGED));d.emit(x.SPLITTER_DRAG_ENDED,e.region)};f.isCollapsing=!0;!this.animationEnabled||!v.isAnimationEnabled()?g():(b.splitterStartPosition=b.splitterPosition,b.animation=(new a.Animation({curve:[0,1],onAnimate:function(a){b.splitterPosition=b.splitterStartPosition+
Math.floor(a*((c?b.oppositeCollapsePosition:b.collapsePosition)-b.splitterStartPosition));d.layout()},onEnd:g})).play())}},_doRestore:function(b,c){if(!b.animation){var e=this,f=b.borderInfo;f.isRestoring=!0;var g=d.getContentBox(this.domNode,this.computedStyle),g="V"===f.splitterOrientation?g.w:g.h,h,k;f.restoredSplitterPosition&&(h=f.restoredSplitterPosition,g!==f.restoredReferenceDimension&&(h*=g,h/=f.restoredReferenceDimension));h||(k="left"===f.region||"top"===f.region?0.25:0.75,h=Math.floor(k*
g));c?this._setCollapsed(this._oppositeBorderInfo(f),!1):this._setCollapsed(f,!1);this._setCenterExpanded(!1);g=Object.keys(this._borderInfo);for(k=0;k<g.length;k+=1)this._setExpanded(this._borderInfo[g[k]],!1);g=function(){b.animation=null;b.splitterPosition=h;e.layout();b.done&&(delete e._dragInfo[f.region],e.emit(x.STATE_CHANGED));f.isRestoring=!1};!this.animationEnabled||!v.isAnimationEnabled()?g():b.animation=(new a.Animation({curve:[b.splitterPosition,h],onAnimate:function(a){b.splitterPosition=
Math.floor(a);e.layout()},onEnd:g})).play()}},_getCollapsedWidget:function(a){if(!a.collapsedWidget){var b=new r({content:"H"===a.splitterOrientation?z:F});b.isDefaultCollapsedWidget=!0;k.add(b.domNode,"collapsedBorderChild"+a.splitterOrientation);f.setSelectable(b.domNode,!1);v.preventFocus(b.domNode);var c=a.followOpposite?this._oppositeBorderInfo(a):a;b.own(q(b.domNode,s.press,e.hitch(this,"_beginSplitterDrag",c)));b.own(q(b.domNode,"contextmenu",function(a){a.preventDefault()}));a.collapsedWidget=
b}return a.collapsedWidget},_getCollapsedThickness:function(a){if(!a.collapsedThickness){var b=this._getCollapsedWidget(a),c;l.set(b.domNode,{visibility:"hidden"});h.place(b.domNode,this.domNode);c=d.getContentBox(b.domNode);a.collapsedThickness="H"===a.splitterOrientation?c.h:c.w;this.domNode.removeChild(b.domNode);l.set(b.domNode,{visibility:"visible"})}return a.collapsedThickness},_updateExpandedStates:function(){var a=0,b=0,c,d,e,f;this._centerWidget&&(a+=1,c="center");d=Object.keys(this._borderInfo);
for(e=0;e<d.length&&1>=a;e+=1)f=this._borderInfo[d[e]],f.isCollapsible&&(b++,f.isCollapsed||(a+=1,c=d[e]));1===a&&("center"===c?!this._isCenterExpanded&&b&&(this._setCenterExpanded(!0),this._regionsCollapsedUponCenterExpand=d):(f=this._borderInfo[c],f.isExpanded||(this._setExpanded(f,!0),f.regionsCollapsedUponExpand=d.filter(function(a){return a!==c}))))},destroyRecursive:function(){var a,b,c;a=Object.keys(this._borderInfo);for(b=0;b<a.length;b++)c=this._borderInfo[a[b]],c.collapsedWidget&&!c.isCollapsed&&
c.collapsedWidget.destroyRecursive();this.inherited(arguments)}})})},"MW/layout/HidingContainer":function(){define(["dojo/_base/declare"],function(g){var c=g([],{isShowingLocally:function(c){return c.getParent()===this}});c.isShowingGlobally=function(e){for(var a=e.getParent();a;){if(a.isInstanceOf(c)&&!a.isShowingLocally(e))return!1;e=a;a=e.getParent()}return!0};return c})},"MW/layout/MaximizingContainer":function(){define(["dojo/_base/declare"],function(g){var c=g([],{canMaximizeLocally:function(c){return!1},
canRestoreLocally:function(c){return!1},maximizeLocally:function(c){},restoreLocally:function(c){}});c.canMaximizeGlobally=function(e){var a=c._getMaximizingContainerAncestor(e);return a&&(a.canMaximizeLocally(e)||c.canMaximizeGlobally(a))};c.canRestoreGlobally=function(e){var a=c._getMaximizingContainerAncestor(e);return a&&(a.canRestoreLocally(e)||c.canRestoreGlobally(a))};c.maximizeGlobally=function(e){var a=c._getMaximizingContainerAncestor(e);a&&(c.maximizeGlobally(a),a.canMaximizeLocally(e)&&
a.maximizeLocally(e))};c.restoreGlobally=function(e){var a=c._getMaximizingContainerAncestor(e);a&&(c.restoreGlobally(a),a.canRestoreLocally(e)&&a.restoreLocally(e))};c._getMaximizingContainerAncestor=function(e){for(e=e.getParent();e&&!e.isInstanceOf(c);)e=e.getParent();return e};return c})},"MW/layout/Restorable":function(){define(["dojo/_base/declare"],function(g){return g([],{getState:function(){return null},setState:function(c){},isRestoringState:function(){return!1},endStateRestore:function(){}})})},
"MW/layout/Traversable":function(){define(["dojo/_base/declare"],function(g){return g([],{revealChild:function(c){},nextChild:function(c,e){return null},previousChild:function(c,e){return null}})})},"MW/layout/DocumentContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/mouse dojo/on dojo/Stateful dojo/touch dijit/focus dijit/registry mw-menu/ContextMenu mw-menu/Menu mw-menu/MenuItem mw-menu/MenuSeparator mw-menu/PopupMenuItem mw-menu/RadioButtonMenuItem MW/layout/ActionsMenu MW/layout/DocumentGroupProperties MW/layout/DocumentGroupRegistry MW/layout/Geometry MW/layout/GroupedTabContainer MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/MaximizingContainer MW/layout/Restorable MW/layout/SelectionBlocker MW/layout/SelectionManager MW/layout/StatefulExtension MW/layout/TabContainer MW/layout/TileContainer MW/layout/TileTabContainer MW/layout/Traversable mw-utils/allApprove MW/GridPicker mw-log/Log dojo/i18n!l10n/nls/layout".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G,J,H,L,I,R,aa,S,X,T){var N=g([I,U,R,K,J],{Fixed:void 0,showSingleDocumentTab:!0,Dynamic:void 0,tabPosition:"top",tabContainerClass:F,baseClass:"documentContainer",_selectionCount:0,_subContainerCount:0,_maximizeUpdateDepth:0,constructor:function(){this._selectionOrder={};this._lastRegionForGroup={};this._groupWatches={}},postMixInProperties:function(){var a=this;this.inherited(arguments);delete this.Dynamic;this.groupRegistry||
(this.groupRegistry=new A);this.typeInfo&&(this.groupingFacet="documentType",Object.keys(this.typeInfo).forEach(function(b){a.groupRegistry.register("documentType",b,new D(a.typeInfo[b]))}));this._isChildContainer||(this.selectionManager||(this.selectionManager=new G),this.selectionManager.registerContainer(this),this.own(this.selectionManager.watch(G.SELECTED_CHILD,function(b,c,d){var e;a.containsDocument(d)&&(e=a._getGroupId(d));a._updateSelectedGroup(e)})));this.showSingleChildTab=this.showSingleDocumentTab},
postCreate:function(){var a=this;this.inherited(arguments);this._updateBackground();this.watch("animationEnabled",function(b,c,d){a._getChildContainers().forEach(function(a){a.set("animationEnabled",d)})});this.watch(L.GRID_SIZE,function(b,c,d){a._updateRegions();a.notifyStateWatchers(N.ARRANGEMENT,this._getArrangementFromGridSize(c),this._getArrangementFromGridSize(d));(1<d.w||1<d.h)&&a._clearMaximizedState()});var b=function(){a._getTabContainers().forEach(function(b){a._updatePlusActions(b)})};
this.own(this.groupRegistry.on(A.PROPERTIES_ADDED,b));this.own(this.groupRegistry.on(A.PROPERTIES_REMOVED,b))},buildRendering:function(){this.inherited(arguments);this._isChildContainer||f.add(this.domNode,"rootContainer");this._containedGroupId&&f.add(this.domNode,"groupContainer")},startup:function(){this._started||(this.inherited(arguments),this._startingState&&(this.setState(this._startingState),delete this._startingState,this._endStateRestorePending&&(this.endStateRestore(),delete this._endStateRestorePending)))},
destroyRecursive:function(){this.selectionManager&&this.selectionManager.unregisterContainer(this);this.inherited(arguments)},addChild:function(a){var b,c,d,e,f,g,h,k,m=-1;if(!this._isInternalAdd){(b=this._getProperties(a))||(b=a);if(this.groupingFacet){if(c=b[this.groupingFacet],b.setId=c)d=this.groupRegistry.getProperties(this.groupingFacet,c),b.__showHeader=!1!==d.showGroupHeader}else delete b.setId;b.childId||(b.childId=this._generateChildId(b));if(void 0!==this._targetTile)m=this._targetTile,
delete this._targetTile;else if(this._targetSubContainer)g=this._targetSubContainer,this._unbindChildProperties(a,b),g.addWithProperties(a,b),delete this._targetSubContainer;else if(c)if(b.set(E.TITLE_SHORTENING_ALLOWED,!!d.get(D.SHRINK_TABS_TO_FIT)),this._isAddingBack||(a.own(d.watch(D.SHRINK_TABS_TO_FIT,function(a,c,d){b.set(E.TITLE_SHORTENING_ALLOWED,d)})),this._addGroupWatches(c,d)),this.isRestoringState()&&this._pendingState&&this._pendingState.subContainers)for(h=0;h<this._pendingState.subContainers.length;h++){if(e=
this._pendingState.subContainers[h],this._stateIncludesDocument(e,b.childId)&&(f=this.getGrandChildren(function(a,b){return b.childId===e.containerId}),0<f.length&&(g=f[0],this._unbindChildProperties(a,b),g.addWithProperties(a,b),this.isRestoringState()&&!this._areAnyTabContainersRestoringState()))){this.endStateRestore();break}}else if(this.getDocumentCount(c))f=this._getMostRecent(c),f.child&&f.child.isInstanceOf(N)?(g=f.child,this._unbindChildProperties(a,b),g.addWithProperties(a,b)):void 0===
b.tile&&(m=f.tile);else{if(2>=this._tileCount)if(f=this._getPreferredRegion(c),1==this._tileCount&&void 0!==f&&"center"!==f){if(m=0,h=this.getChildInTile(0).get(H.SHOWING_CHILD))h=this._getGroupId(h),h=this._getPreferredRegion(h),this._areCorrespondingRegions(f,h)||(this._isSplittingForAdd=!0,m=this._splitTile(0,f),this._isSplittingForAdd=!1,k=!0)}else m=this._getTileFromRegion(f)}else void 0===b.tile&&(m=this._chooseTile(),0<=m&&!this.getChildInTile(m).isEmpty()&&(m=this._getMostRecent().tile));
if(c&&!g&&(d.constrainToSubContainer||d.defaultTiling&&!this.getDocumentCount(c)))g=this._createSubContainer(c,d),c=this._createSubContainerProperties(g,c,d),g.setState(d.defaultTiling),void 0===m&&(m=0),this._bindChildProperties(g,c),this._addToTabContainer(m,g,c,void 0,!0,!0),this._unbindChildProperties(a,b),g.addWithProperties(a,b);void 0!==m&&[].splice.call(arguments,1,0,m)}g?!this._isInternalAdd&&!this._isAddingBack&&this.emit(C.CHILD_ADDED,a,b):(g=this.isRestoringState(),this.inherited(arguments),
b&&(d&&b.get(E.IS_SELECTED))&&d.setForWindow(window,D.LAST_SELECTED,a),this._started&&(!g&&b&&(!d||!d.suppressInitialFocus))&&b.set(E.IS_SELECTED,!0),k&&this._updateRegions());this._isInternalAdd||this._updateBackground()},getDocuments:function(a){var b=this,c=[];this._gatherDocuments(c,function(c){return!a||b._getGroupId(c)===a});return c},getDocumentCount:function(a){return this.getDocuments(a).length},isEmpty:function(){return 0===this.getDocumentCount()},containsDocument:function(b){return b&&
a.isDescendant(b.domNode,this.domNode)},getShowingDocuments:function(){var a=this,b=[];this._gatherDocuments(b,function(b){return(b=a._getProperties(b))&&b.isShowing});return b},getContainingRegion:function(a){return 1===this._tileCount?"center":2===this._tileCount?(a=this._getTileContainingChild(a),2===this.gridSize.w?a?"right":"left":a?"bottom":"top"):""},moveDocument:function(a,b){this._getProperties(a).set(E.REGION,b)},setPreferredRegionsToDefault:function(){this._lastRegionForGroup={}},removeAll:function(a){this._getChildContainers().forEach(function(b){b.removeAll(a)});
this.inherited(arguments)},removeGroup:function(a){this.getDocuments(a).forEach(e.hitch(this,"removeChild"))},closeDocument:function(a,b){a.getParent().closeChild(a,b)},closeGroup:function(a){this._closingGroupId=a;this._closeDocuments(this.getDocuments(a));delete this._closingGroupId},closeAll:function(){this._closeDocuments(this.getDocuments())},clear:function(){this._closeDocuments(this.getDocuments(),!0);this._eliminateEmptySubContainers();this.set(L.GRID_SIZE,{w:1,h:1})},canMaximizeLocally:function(a){return 1<
this._tileCount||!(this._isPopuplatingMenu||this._getProperties(a).get(E.IS_SHOWING))},canRestoreLocally:function(a){return!!this._preMaximizeState},maximizeLocally:function(a){var b=this._getProperties(a);1<this._tileCount&&(this._isChildContainer?(a=this._getRootContainer(),a._preMaximizeState||(a._preMaximizeState=a.getState(!0),a._preMaximizeState.emptyTileCount=a.getEmptyTileCount())):this._preMaximizeState||(this._preMaximizeState=this.getState(!0),this._preMaximizeState.emptyTileCount=this.getEmptyTileCount()),
this.set(L.GRID_SIZE,{w:1,h:1}));b.set(E.IS_SHOWING,!0);setTimeout(function(){b.set(E.IS_SELECTED,!0)},0)},restoreLocally:function(a){this._preMaximizeState&&(this.setState(this._preMaximizeState),this.endStateRestore(),delete this._preMaximizeState)},_subTileGroup:function(a,b){var c;c=this._getChildContainers(a);if(0<c.length)c[0].set(L.GRID_SIZE,b);else if(1<b.w||1<b.h)c=this.getDocuments(a),c.length&&this._extractToSubContainer(c,this._getTileContainingChild(c[0]),b)},_moveGroup:function(a,b){var c=
this,d=this._getChildContainers(a);0<d.length?this._moveChild(d[0],this._getTileContainingChild(d[0]),b,!0):this.getDocuments(a).forEach(function(a){c._getProperties(a).set(E.TILE,b)});this.eliminateEmptyTiles()},nextChild:function(a,b){var c=a?this.getTileContaining(a)+1:0;return c<this._tileCount?this.getChildInTile(c):null},previousChild:function(a,b){var c=a?this.getTileContaining(a)-1:this._tileCount-1;return 0<=c?this.getChildInTile(c):null},getState:function(a){var b=this,c=this.inherited(arguments);
this._containedGroupId&&(c.groupId=this._containedGroupId);var d=this._getChildContainers();d.length&&(c.subContainers=[],d.forEach(function(d){var e=d.getState(a);e.containerId=b._getProperties(d).childId;d._updateChildStates(e,a);c.subContainers.push(e)}));Object.keys(this._lastRegionForGroup).length&&(c.groupRegions=e.clone(this._lastRegionForGroup));if(!a){for(var f,g,h,d=0;d<c.tileStates.length;d++){g=c.tileStates[d].children;for(f=0;f<g.length;f++)h=this._selectionOrder[g[f].id],void 0!==h&&
(g[f].selectionOrder=h)}this._preMaximizeState&&(c.preMaximizeState=this._preMaximizeState)}this._updateChildStates(c,a);return c},setState:function(a){var b=this;if(this._started){this._isInSetState=!0;a.groupRegions&&Object.keys(a.groupRegions).forEach(function(c){b._lastRegionForGroup[c]||(b._lastRegionForGroup[c]=a.groupRegions[c])});a.preMaximizeState&&(this._preMaximizeState=a.preMaximizeState);var c=[];this._removeDocumentsRecursive(c);this.inherited(arguments);a.subContainers&&a.subContainers.forEach(function(c){var d=
b.groupRegistry.getProperties(b.groupingFacet,c.groupId),e=c.groupId,f=b._createSubContainer(e,d),d=b._createSubContainerProperties(f,e,d);d.childId=c.containerId;e=b._getTileForChildFromState(a,d.childId);b._addToTabContainer(e,f,d,void 0,!0,!0);b._bindChildProperties(f,d);f.setState(c)});this._isAddingBack=!0;c.forEach(function(a){b.addWithProperties(a.widget,a.properties)});this._isAddingBack=!1;var d,e,f,g=this._getRootContainer();if(a.tileStates)for(c=0;c<a.tileStates.length;c++){e=a.tileStates[c].children;
for(d=0;d<e.length;d++)f=e[d].selectionOrder,void 0!==f&&(this._selectionOrder[e[d].id]=f,g&&f>g._selectionCount&&(g._selectionCount=f))}this._isInSetState=!1}else this._startingState=a},isRestoringState:function(){return this._isInSetState||this.inherited(arguments)},endStateRestore:function(){if(this._startingState)this._endStateRestorePending=!0;else{this.inherited(arguments);this._eliminateEmptySubContainers();this._preMaximizeState&&this._preMaximizeState.emptyTileCount>=this.getEmptyTileCount()||
(this._isSettingTileCoverage||this._isSettingGridSize)||this.eliminateEmptyTiles();var a=this;this.getShowingDocuments().forEach(function(b){var c=a._getProperties(b);(c=a._getGroupProperties(b,c))&&!c.getForWindow(window,D.LAST_SELECTED)&&c.setForWindow(window,D.LAST_SELECTED,b)})}},_stateIncludesDocument:function(a,b){var c;if(0<=this._getTileForChildFromState(a,b))return!0;if(a.subContainers)for(c=0;c<a.subContainers.length;c++)if(this._stateIncludesDocument(a.subContainers[c],b))return!0;return!1},
_updateChildStates:function(a,b){var c=this,d=this._getRootContainer(),e=this._getChildInfoMap();a.tileStates.forEach(function(a){if(!b){var f=[];a.children.forEach(function(a){var b=e[a.childId],b=b?c._getGroupProperties(b.widget,b.properties):null;(!b||b.willReopen)&&f.push(a)});a.children=f}a.children.forEach(function(a){var b=e[a.childId];b&&!b.properties.documentId&&(a.childId=d._generateChildId(b.properties))})})},_getChildInfoMap:function(){var a={};this.getGrandChildren(function(b,c){b.isInstanceOf(N)||
(a[c.childId]={widget:b,properties:c});return!1});return a},_generateChildId:function(a){var b;b=this._appendGroupToId(this.groupingFacet,a,"");return b+=a.documentId?a.documentId:a.title},_appendGroupToId:function(a,b,c){if(a){var d=b[a];c+=d+"_";a=this.groupRegistry.getProperties(a,d);c=this._appendGroupToId(a.subGroupingFacet,b,c)}return c},_removeDocumentsRecursive:function(a){var b=this,c=[];this._getTabContainers().forEach(function(a){b._removeChildrenFromTabContainer(a,c)});c.forEach(function(c){c.widget.isInstanceOf(N)?
c.widget._removeDocumentsRecursive(a):(c.properties[b._getUnbindingKey(c.widget)](),a.push(c))})},_areAnyTabContainersRestoringState:function(){var a=this.inherited(arguments),b,c;if(!a){c=this._getChildContainers();for(b=0;b<c.length&&!a;b++)a=c[b].isRestoringState()}return a},_addChildWatches:function(a,b,c){this.inherited(arguments);if(!a.isInstanceOf(N)){var d=this,e=function(c,e,g){var h;if(g&&(e=d._getRootContainer())){(c=d._getGroupProperties(a,b))&&c.setForWindow&&c.setForWindow(window,D.LAST_SELECTED,
a);e=e._selectionCount++;d._selectionOrder[b.childId]=e;for(h=d;h&&h._isChildContainer;)g=h._getParentContainer(),(c=g._getGroupProperties(a,b))&&c.setForWindow&&c.setForWindow(window,D.LAST_SELECTED,a),g._selectionOrder[g._getProperties(h).childId]=e,h=g;if(c=d._getGroupId(a))(c=a.getParent().getTabForChild(a))&&f.add(c.domNode,"selectedGroup")}},e=b.preferredWatch?b.preferredWatch(E.IS_SELECTED,e):b.watch(E.IS_SELECTED,e);c.push(e);e=b.watch(E.REGION,function(c,e,f){var g;!d._isUpdatingRegions&&
f!==e&&("center"===f?2===d._tileCount&&setTimeout(function(){var c=d._isUpdatingRegions;d._isUpdatingRegions=!0;b.set(E.REGION,d._getRegionFromTile(d._getTileContainingChild(a)));d._isUpdatingRegions=c},0):1===d._tileCount?g=d._splitTile(0,f):2===d._tileCount&&(g=d._getTileFromRegion(f)),void 0!==g&&d._moveChild(a,1-g,g,b.get(E.IS_SHOWING)||d.getChildInTile(g).isEmpty()))});c.push(e);e=b.watch(E.IS_MAXIMIZED,function(b,c,e){d._maximizeUpdateDepth||(e?d._maximize(a):d._restore(a));d._updateMaximizeButton(a)});
c.push(e)}},_addGroupWatches:function(a,b){var c=this;this._groupWatches[a]||(this._groupWatches[a]=[],this._groupWatches[a].push(b.watch(E.IS_MAXIMIZED,function(b,d,e){b=c._getChildContainers(a);0<b.length&&(c._maximizeUpdateDepth||(e?c._maximize(b[0]):c._restore(b[0])),c._updateMaximizeButton(b[0]))})),this._groupWatches[a].push(b.watch(E.TILE,function(d,e,f){c._tileUpdateDepth||(0>f||f>=c._tileCount?(c._tileUpdateDepth++,b.set(E.TILE,c._getTileContainingGroup(a)),c._tileUpdateDepth--):c._moveGroup(a,
f))})),this._groupWatches[a].push(b.watch(D.SUB_GRID_SIZE,function(b,d,e){e&&!c._isUpdatingSubContainerGridSize&&c._subTileGroup(a,e)})))},_removeGroupWatches:function(a){var b=this._groupWatches[a];b&&(b.forEach(function(a){a.remove()}),delete this._groupWatches[a])},_setArrangementAttr:function(a){if(a!==this.get("arrangement"))switch(a){case N.NO_SPLIT:this.set(L.GRID_SIZE,{w:1,h:1});break;case N.LEFT_RIGHT_SPLIT:this.set(L.GRID_SIZE,{w:2,h:1});break;case N.TOP_BOTTOM_SPLIT:this.set(L.GRID_SIZE,
{w:1,h:2})}},_getArrangementAttr:function(){return this._getArrangementFromGridSize(this.gridSize)},_getArrangementFromGridSize:function(a){var b=N.CUSTOM_TILING,c=a.w*a.h;1===c?b=N.NO_SPLIT:2===c&&(b=2===a.w?N.LEFT_RIGHT_SPLIT:N.TOP_BOTTOM_SPLIT);return b},_setTabPositionAttr:function(a){this._setTabContainerProperty(H.TAB_POSITION,this.tabPosition,a)},_getTabPositionAttr:function(){return this._getTabContainerProperty(H.TAB_POSITION,"top")},_setTabContainerProperty:function(a,b,c){this._getTabContainers().forEach(function(b){b.set(a,
c)});this._getChildContainers().forEach(function(b){b.set(a,c)});this.tabProperties[a]=c;this.notifyStateWatchers(H.TAB_POSITION,b,this.get(H.TAB_POSITION));this.get(a)!==b&&this.emit(C.STATE_CHANGED)},_getTabContainerProperty:function(a,b){var c=this._getTabContainers(),d=0===c.length?b:c[0].get(a),e;for(e=1;e<c.length;e++)if(c[e].get(a)!==d){d="mixed";break}c=this._getChildContainers();for(e=0;e<c.length;e++)if(c[e].get(a)!==d){d="mixed";break}return d},_createTabContainer:function(){var c=this;
this.tabProperties.tabAnimationEnabled=this.animationEnabled;this.tabProperties.displayToolTipsOnTruncatedTabs=!0;this.groupingFacet&&this.groupRegistry&&(this.tabProperties.actionsMenuCreator=e.hitch(this,"_createSetActionsMenu"),this.tabProperties.groupPropertiesFetcher=e.hitch(this,"_getGroupProperties"));this._isChildContainer&&(this.tabProperties.isContentBorderVisible=!0);var d=this.inherited(arguments);P.preventDefaultContextMenu(d.containerNode,!1);var g;if(!0===this.offerMaximizeButton||
void 0===this.offerMaximizeButton&&d.hideSingleTab)g=k.create("div",{id:d.id+"_maximizeButton"}),f.add(g,"maximizeButton"),b.set(g,"title",T.maximize),a.setSelectable(g,!1),P.preventFocus(g),n(g,"click",function(){var a=d.get(H.SHOWING_CHILD);a&&c._toggleMaximize(a)}),d.setUpperRightOverlay(g,function(a){var b=d.get(H.SHOWING_CHILD);return b&&(c.offerMaximizeButton||void 0===c.offerMaximizeButton&&!a&&(K.canMaximizeGlobally(b)||K.canRestoreGlobally(b)))});this._updatePlusActions(d);this._containedGroupId||
(d._actionsButton=this._createActionsButton(d,1),this._updateActionsButtonLocation(d),g=this._createActionsButton(d,2),d.setGripNeighbor(g),this._createActionsMenu(d,[d._actionsButton,g]));d.own(d.watch(H.SHOWING_CHILD,function(a,b,e){b&&(a=c._getProperties(b),a.get(E.IS_MAXIMIZED)&&(c._maximizeUpdateDepth++,a.set(E.IS_MAXIMIZED,!1),e&&c._getProperties(e).set(E.IS_MAXIMIZED,!0),c._maximizeUpdateDepth--));c._updatePlusActions(d)}));d.own(d.watch(H.TAB_POSITION,function(a,b){c.notifyStateWatchers(H.TAB_POSITION,
b,c.get(H.TAB_POSITION));c._updateActionsButtonLocation(d)}));d.own(n(d.tablist.domNode,"dblclick",e.hitch(this,"_handleTabDoubleClick",d)));this._createTabContextMenu(d);return d},_handleTabDoubleClick:function(a,b){var c=this._getEnclosingTab(a,b.target);c&&c.widget&&this._toggleMaximize(c.widget)},_toggleMaximize:function(a){K.canMaximizeGlobally(a)?this._maximize(a):K.canRestoreGlobally(a)&&this._restore(a)},_createActionsButton:function(b,c){var d=k.create("div",{id:b.id+"ActionsButton"+c});
f.add(d,"actionsButton");a.setSelectable(d,!1);P.preventFocus(d,!0);return d},_updateActionsButtonLocation:function(a){"top"===a.tabPosition||"bottom"===a.tabPosition?a._tabBar.setPostNeighbor(a._actionsButton):a._tabBar.getPostNeighbor()===a._actionsButton&&a._tabBar.setPostNeighbor(null)},_createTabContextMenu:function(a){var b=this,c=a.tablist.domNode,d=new t({id:c.id+"Menu",targetNodes:[c,"#"+c.id+" *"]});a.own(d);d.willOpenCallback=function(c){(c=b._getEnclosingTab(a,c.target))?(c=b._getContextFromWidget(c.widget),
c.isTab=!0):(c=a.get(H.SHOWING_CHILD),c=b._getContextFromWidget(c));b._populateMenu(a,d,c)}},_createActionsMenu:function(a,b){var e=this,f=new t({id:a.id+"ActionsMenu",targetNodes:b});a.own(f);b.forEach(function(a){n(a,s.press,function(a){var b=!f.domNode.parentElement||"none"===d.get(f.domNode.parentElement,"display");if((m.isLeft(a)||"touchstart"===a.type)&&b)c.stop(a),f.open({target:a.target})})});f.willOpenCallback=function(){var b=a.get(H.SHOWING_CHILD);e._populateMenu(a,f,e._getContextFromWidget(b))};
return f},_createSetActionsMenu:function(a,b,c){var d=this,e,f;"string"===typeof b?(f=b,e=this._getContextForSet(a,b)):(f=this._getProperties(b).childId,e=this._getContextFromWidget(b));var g=new t({id:f+(c?"ContextMenu":"ActionsMenu"),targetNodes:[]});g.willOpenCallback=function(){d._populateMenu(a,g,e)};return g},_populateMenu:function(a,b,c){var d,e,f,g,h,k=this;this._clearMenu(b);this._isPopuplatingMenu=!0;c.isDocument&&(d=c.children[0],e=this._getProperties(d),this.groupingFacet&&(f=e[this.groupingFacet])&&
(g=this.groupRegistry.getProperties(this.groupingFacet,f)),e.actions&&c.isTab&&(B._addMenuItems(b,e.actions),b.addChild(new v)),(h=this._createMaximizeDocumentMenuItem(d,e))&&b.addChild(h),this._getUndockFunction(e)&&b.addChild(this._createUndockDocumentMenuItem(d,e)),f&&this._getUndockFunction(g)&&b.addChild(this._createUndockGroupMenuItem(f,g)),this._isClosable(d)&&(b.addChild(this._createCloseDocumentMenuItem(d,e)),f&&this._isAnyInGroupClosable(f)&&b.addChild(this._createCloseGroupMenuItem(f,g))));
if(c.subContainer||1<c.children.length)f=c.subContainer?c.subContainer._containedGroupId:this._getGroupId(c.children[0]),g=this.groupRegistry.getProperties(this.groupingFacet,f),c.subContainer&&(h=this._createMaximizeSetMenuItem(g,c.subContainer))&&b.addChild(h),this._getUndockFunction(g)&&b.addChild(this._createUndockSetMenuItem(g,f,c.children)),this._isAnyClosable(c.children)&&b.addChild(this._createCloseSetMenuItem(g,c.children));this._hasClosableDocument()&&b.addChild(this._createCloseAllMenuItem());
0<b.getChildren().length&&b.addChild(new v);if(this.userTilingEnabled&&1<this._getRegisteredGroupCount()){if(c.isDocument&&1<this._getRegisteredGroupCount()&&!this.restrictToSingleSplit){if(c=c.children[0],f=this._getGroupId(c)){g=this.groupRegistry.getProperties(this.groupingFacet,f);c=c.getParent();var m=[];c.getChildrenInTabOrder().forEach(function(a){k._getGroupId(a)===f&&m.push(a)});1<m.length&&b.addChild(this._createTileSetSubMenu(b,m,void 0,g,this.getTileContaining(c)))}}else(c.subContainer||
1<c.children.length&&!this.restrictToSingleSplit)&&b.addChild(this._createTileSetSubMenu(b,c.children,c.subContainer,g,this.getTileContaining(a)));b.addChild(this._createTileAllSubMenu(b))}b.addChild(this._createTabPositionSubMenu(a));this._isPopuplatingMenu=!1},_createMaximizeDocumentMenuItem:function(a,b){return this._createMaximizeMenuItem(a,b.title)},_createUndockDocumentMenuItem:function(a,b){var c=this,d=new x({text:e.replace(T.undockSomething,{placeholder:b.title}),tag:"undockDocument"});n(d.domNode,
"click",function(){c._getUndockFunction(b)(a)});return d},_createCloseDocumentMenuItem:function(a,b){var c=this,d=new x({text:e.replace(T.closeSomething,{placeholder:b.title}),tag:"closeDocument"});n(d.domNode,"click",function(){c.closeDocument(a)});return d},_createUndockGroupMenuItem:function(a,b){var c=this,d=new x({text:e.replace(T.undockSomething,{placeholder:b.collectiveLabel}),tag:"undockGroup"});n(d.domNode,"click",function(){c._getUndockFunction(b)()});return d},_createCloseGroupMenuItem:function(a,
b){var c=this,d=new x({text:e.replace(T.closeSomething,{placeholder:b.collectiveLabel}),tag:"closeGroup"});n(d.domNode,"click",function(){c.closeGroup(a)});return d},_createMaximizeSetMenuItem:function(a,b){return this._createMaximizeMenuItem(b,a.collectiveLabel)},_createMaximizeMenuItem:function(a,b){var c=this,d;K.canMaximizeGlobally(a)?(d=new x({text:e.replace(T.maximizeSomething,{placeholder:b}),tag:"maximize"+(a._isChildContainer?"Group":"Document")}),n(d.domNode,"click",function(){c._maximize(a)})):
K.canRestoreGlobally(a)&&(d=new x({text:e.replace(T.restoreSomething,{placeholder:b}),tag:"restore"+(a._isChildContainer?"Group":"Document")}),n(d.domNode,"click",function(){c._restore(a)}));return d},_createUndockSetMenuItem:function(a,b,c){var d=this;b=new x({text:e.replace(T.undockSomething,{placeholder:a.collectiveLabel}),tag:"undockGroup"});n(b.domNode,"click",function(){d._getUndockFunction(a)(c)});return b},_createCloseSetMenuItem:function(a,b){var c=this,d=new x({text:e.replace(T.closeSomething,
{placeholder:a.collectiveLabel}),tag:"closeGroup"});n(d.domNode,"click",function(){c._closeDocuments(b)});return d},_createTileSetSubMenu:function(a,b,c,d,e){var f=this;return this._createTileSubMenu(a,c,b.length,!!c,d.collectiveLabel,d.defaultTiling,function(a){var g={w:a.columns,h:a.rows};c?1===a.rows&&1===a.columns&&!d.defaultTiling&&!d.constrainToSubContainer?f._eliminateSubContainer(c):c.set(L.GRID_SIZE,g):f._extractToSubContainer(b,e,g)})},_createTileAllSubMenu:function(a){var b=this;return this._createTileSubMenu(a,
this,this._getChildCount(),!0,void 0,void 0,function(a){b.set(L.GRID_SIZE,{w:a.columns,h:a.rows})})},_createTileSubMenu:function(a,b,c,d,f,g,h){var k=b?b.get(L.GRID_SIZE):{w:1,h:1},m=new u;d&&(d=new y({text:T.singleTileLabel,checked:1===k.w&&1===k.h,closeMenuOnClick:!0,tag:"Single"}),n(d.domNode,"click",function(){h({rows:1,columns:1})}),m.addChild(d));d=new y({text:T.leftRightSplitLabel,checked:2===k.w&&1===k.h,closeMenuOnClick:!0,tag:"LeftRight"});n(d.domNode,"click",function(){h({rows:1,columns:2})});
m.addChild(d);d=new y({text:T.topBottomSplitLabel,checked:1===k.w&&2===k.h,closeMenuOnClick:!0,tag:"TopBottom"});n(d.domNode,"click",function(){h({rows:2,columns:1})});m.addChild(d);g&&b&&(d=new y({text:"Default Tiling",checked:I.areStatesSimilar(g,b.getState()),closeMenuOnClick:!0,tag:"Default"}),n(d.domNode,"click",function(){b.setState(g)}),m.addChild(d));this.restrictToSingleSplit||(c=new S({occupancy:c}),c.on(S.SELECTION_CHANGED,function(b){a.close();h(b)}),m.addChild(new v),m.addChild(c));return new w({text:!b||
b._isChildContainer?f?e.replace(T.subtileSomething,{placeholder:f}):T.subtile:T.tileAll,menu:m,tag:!b||b._isChildContainer?"tileGroup":"tileAll"})},_createCloseAllMenuItem:function(){var a=this,b=new x({text:T.closeAll,tag:"closeAll"});n(b.domNode,"click",function(){a.closeAll()});return b},_createTabPositionSubMenu:function(a){var b=this,c=new u,d={};["top","bottom","left","right"].forEach(function(e){d[e]=new y({text:T[e],closeMenuOnClick:!0,checked:e===a.tabPosition,buttonGroup:"tabArrangementButtonGroup",
tag:"TabPosition"+e.substr(0,1).toUpperCase()+e.substr(1)});n(d[e].domNode,"change",function(){var c,d;a.set(H.TAB_POSITION,e);c=b.get(H.TAB_POSITION);c!==b.tabPosition&&(d=b.tabPosition,b._set(H.TAB_POSITION,c),"mixed"===c&&(b.tabPosition=d),b.emit(C.STATE_CHANGED))});c.addChild(d[e])});return new w({text:T.tabPosition,menu:c,tag:"tabPosition"})},_clearMenu:function(a){a.getChildren().forEach(function(a){a.destroyRecursive()})},_getContextFromWidget:function(a){var b={};a&&a.isInstanceOf(N)?(b.children=
a.getGrandChildren(),b.subContainer=a):a?(b.children=[a],b.isDocument=!0):b.children=[];return b},_getContextForSet:function(a,b){var c=this,d={children:[]};a.getChildrenInTabOrder().forEach(function(a){c._getGroupId(a)===b&&d.children.push(a)});return d},_getEnclosingTab:function(a,b){for(;b;){if(f.contains(b,"tab"))return r.byNode(b);b=b.parentNode}return null},_closeDocuments:function(a,b){var c=this,d=[],f=[],g=[];a.forEach(function(a){var h=c._getProperties(a);h&&h.closable&&h.canClose&&!b?(f.push(a),
d.push(e.hitch(h,"canClose"))):g.push(a)});aa(d).then(function(){f.forEach(function(a){c.closeDocument(a,!0)});g.forEach(function(a){(b||c._isClosable(a))&&c.closeDocument(a,b)})})},_isClosable:function(a){return!1!==this._getProperties(a).closable},_isAnyInGroupClosable:function(a){return this._isAnyClosable(this.getDocuments(a))},_hasClosableDocument:function(){return this._isAnyClosable(this.getDocuments())},_isAnyClosable:function(a){var b;for(b=0;b<a.length;b++)if(this._isClosable(a[b]))return!0;
return!1},_gatherDocuments:function(a,b){this.getGrandChildren().forEach(function(c){c.isInstanceOf(N)?c._gatherDocuments(a,b):b(c)&&a.push(c)})},_maximize:function(a){K.maximizeGlobally(a);this._maximizeUpdateDepth++;this._getProperties(a).set(E.IS_MAXIMIZED,!0);this._maximizeUpdateDepth--},_restore:function(a){var b=this._getProperties(a);K.restoreGlobally(a);this._maximizeUpdateDepth++;b.set(E.IS_MAXIMIZED,!1);this._maximizeUpdateDepth--},ancestorMaximizeUpdated:function(a){var b;if(a){if(1===
this._tileCount&&(a=this.getChildInTile(0).get(H.SHOWING_CHILD)))b=this._getProperties(a),a.isInstanceOf(N)&&(b=b.groupProperties),this._maximizeUpdateDepth++,b.set(E.IS_MAXIMIZED,!0),this._maximizeUpdateDepth--}else this._clearMaximizedState()},_clearMaximizedState:function(){delete this._preMaximizeState;this._maximizeUpdateDepth++;this.getGrandChildren(function(a,b){a.isInstanceOf(N)&&(b=b.groupProperties);b.set(E.IS_MAXIMIZED,!1);return!1});this._maximizeUpdateDepth--},_getParentContainer:function(){var a=
this.getParent();return this._isChildContainer&&a&&a.isInstanceOf(H)&&(a=a.getParent())&&a.isInstanceOf(N)?a:null},_getRootContainer:function(){for(var a=this;a&&a._isChildContainer;)a=a._getParentContainer();return a},_getChildContainers:function(a){return this.getGrandChildren(function(b){return b.isInstanceOf(N)&&(!a||b._containedGroupId===a)})},_getChildCount:function(){return this.getGrandChildren().length},_getGroupCount:function(){return Object.keys(this._getDocumentCensus()).length},_getDocumentCensus:function(){var a=
this,b={};this.getGrandChildren().forEach(function(c){if(c.isInstanceOf(N))b[c._containedGroupId]=c.getDocumentCount();else{c=a._getProperties(c);var d;a.groupingFacet&&(d=c[a.groupingFacet]);b[d]?b[d]++:b[d]=1}});return b},_getGroupId:function(a,b){b||(b=this._getProperties(a));return a.isInstanceOf(N)?a._containedGroupId:this.groupingFacet&&b?b[this.groupingFacet]:""},_getGroupProperties:function(a,b){var c=this._getGroupId(a,b);return c?this.groupRegistry.getProperties(this.groupingFacet,c):null},
_getRegisteredGroupCount:function(){return this.groupingFacet?this.groupRegistry.getIds(this.groupingFacet).length:0},_getUndockFunction:function(a){return a.getForWindow&&a.getForWindow(window,"_undock")},_getTileContainingGroup:function(a){var b=this,c=-1,d,e;for(d=0;d<this._tileCount;d++)(e=this.getChildInTile(d))&&!e.isEmpty()&&e.getChildrenInTabOrder().forEach(function(e){b._getGroupId(e)==a&&(-1===c?c=d:c!=d&&(c=-2))});-2===c&&(c=-1);return c},_getMostRecent:function(a,b){var c=this,d={tile:-1},
e=-1,f=this._getTabContainers(),g,h,k;for(g=0;g<f.length;g++)f[g].getChildrenInTabOrder().forEach(function(f){h=c._properties[f.id];k=c._selectionOrder[h.childId];void 0===k&&(k=0);if(k>e&&(!b||h.get(E.IS_SHOWING))&&(!a||h.groupId===a||c.groupingFacet&&h[c.groupingFacet]===a))e=k,d.tile=g,d.child=f});return d},_addToTabContainer:function(a,b,c){this.inherited(arguments);var d=this._getRegionFromTile(a);d&&(this._isUpdatingRegions=!0,c.set(E.REGION,d),this.groupingFacet&&this._updateGroupRegion(c[this.groupingFacet]),
this._isUpdatingRegions=!1)},_handleChildRemove:function(a,b,c,d){var e,f,g,h=this;this._isTemporaryRemove||delete this._selectionOrder[c.childId];this.inherited(arguments);if(!this._isTemporaryRemove&&(!c.get("isUndocking")&&!c.get("isDocking")&&c.set(E.IS_OPEN,!1),(e=this._getGroupProperties(b,c))&&e.getForWindow&&e.setForWindow&&e.getForWindow(window,D.LAST_SELECTED)===b&&setTimeout(function(){e.getForWindow(window,D.LAST_SELECTED)===b&&e.setForWindow(window,D.LAST_SELECTED,h._getMostRecent(h._getGroupId(b,
c),!0).child)},0),!this._destroyed&&!this._beingDestroyed)){if(d){for(f=0;!g&&f<this._tileCount;f++,a++)a>=this._tileCount&&(a=0),g=this.getChildInTile(a).get(H.SHOWING_CHILD);g&&this._getProperties(g).set(E.IS_SELECTED,!0)}this._updateBackground();this.groupingFacet&&(f=c[this.groupingFacet],this._updateGroupRegion(f),this.getDocumentCount(f)||this._removeGroupWatches(f))}!this._isTemporaryRemove&&!1!==c.get(E.DESTROY_ON_CLOSE)&&b.destroyRecursive()},isChangingTiling:function(){return this._isChangingTiling},
_prepareForGridSizeChange:function(a){var b=this._getGroupCount(),c=this._getSelectedDocument(),d=this.inherited(arguments);d.groupCount=b;d.selectedDocument=c;d.oldTileCount=this._tileCount;this._clearDocumentSelection(c);return d},_reactToGridSizeChange:function(a){this.inherited(arguments);this._reselectedDocument(a.selectedDocument);this._updateBackground()},_distributeChildrenFollowingGridSizeChange:function(a){var b,c,d,e,f,g;a.childInfo.length&&a.groupCount>=this._tileCount?(b=this,c=-1,f=
0,1===a.oldTileCount&&2===this._tileCount&&(g=this.getChildInTile(0).getChildrenInTabOrder(),g.length&&(c=0,f=g.length,d=this._getGroupId(g[f-1]))),a.childInfo.forEach(function(a){a&&(e=b._getGroupId(a.widget,a.properties),e!==d&&c<b._tileCount-1&&(c++,f=0,d=e),delete a.properties.index,b._addToTabContainer(c,a.widget,a.properties,void 0,!f,!0),f++)})):this.inherited(arguments)},_prepareForMerge:function(a,b){var c=this._getSelectedDocument(),d=this.inherited(arguments)||{};d.selectedDocument=c;this._clearDocumentSelection(c);
return d},_reactToMerge:function(a,b,c){this.inherited(arguments);this._reselectedDocument(c.selectedDocument)},_prepareForSplit:function(a,b){var c=this._getSelectedDocument(),d=this.inherited(arguments)||{};d.selectedDocument=c;this._clearDocumentSelection(c);return d},_reactToSplit:function(a,b,c){this.inherited(arguments);this._isSplittingForAdd||this._reselectedDocument(c.selectedDocument)},eliminateTile:function(){var a=this._getSelectedDocument();this._clearDocumentSelection(a);var b=this.inherited(arguments);
this._reselectedDocument(a);return b},_getSelectedDocument:function(){var a=this.selectionManager?this.selectionManager.get(G.SELECTED_CHILD):null;a&&!this.containsDocument(a)&&(a=null);return a},_clearDocumentSelection:function(a){a&&this.selectionManager&&(this.selectionManager.blockSuccession(),this.selectionManager.setSelected(a,!1),p.set("activeStack",[]),this.selectionManager.unblockSuccession())},_reselectedDocument:function(a){var b=this;a&&this.selectionManager&&this.containsDocument(a)&&
setTimeout(function(){b.selectionManager.setSelected(a,!0)},0)},_extractToSubContainer:function(a,b,c){this._getRootContainer()._isChangingTiling=!0;var d=this,e=this._getGroupId(a[0]),f=this.groupRegistry.getProperties(this.groupingFacet,e),g=this._createSubContainer(e,f),e=this._createSubContainerProperties(g,e,f);d._bindChildProperties(g,e);this._addToTabContainer(b,g,e,void 0,!0,!0);var h=[];this._getTabContainers().forEach(function(b){d._removeChildrenFromTabContainer(b,h,function(b){return 0<=
a.indexOf(b)})});h.forEach(function(a){a.properties.index=void 0;d._transferPropertyBinding(a.widget,a.properties,d,g);g._addToTabContainer(0,a.widget,a.properties,void 0,!1,!0)});e.set(E.IS_SHOWING,!0);g.set(L.GRID_SIZE,c);g._updateBackground();this._clearMaximizedState();this._getRootContainer()._isChangingTiling=!1;this.emit(C.STATE_CHANGED)},_createSubContainer:function(a,b){var c=this,d=new N({id:c.id+a+this._subContainerCount++,groupingFacet:b.subGroupingFacet,groupRegistry:this.groupRegistry,
_containedGroupId:a,_isChildContainer:!0,animationEnabled:this.animationEnabled});d.watch(L.GRID_SIZE,function(a,e,f){c._isUpdatingSubContainerGridSize=!0;b.set(D.SUB_GRID_SIZE,f);c._isUpdatingSubContainerGridSize=!1;1===f.w&&(1===f.h&&!b.defaultTiling&&!b.constrainToSubContainer)&&c._eliminateSubContainer(d)});d.on(C.CHILD_REMOVED,function(a,b){c.emit(C.CHILD_REMOVED,a,b);d.domNode&&d.isEmpty()&&c._eliminateSubContainer(d)});d.on(C.STATE_CHANGED,function(){c.emit(C.STATE_CHANGED)});d.watch(H.TAB_POSITION,
function(a,b){c.notifyStateWatchers(H.TAB_POSITION,b,c.get(H.TAB_POSITION))});return d},_createSubContainerProperties:function(a,b,c){var d=this,e=b+Math.random(),f=new q({title:c.title,groupId:b,groupProperties:c,childId:e,setId:e,isSubContainer:!0});a.own(c.watch(E.TITLE,function(a,b,c){f.title=c}));a.own(f.watch(E.IS_SELECTED,function(b,c,d){d&&(f.set(E.IS_SHOWING,!0),b=a._getMostRecent(),b.child&&a._getProperties(b.child).set(E.IS_SELECTED,!0))}));a.own(f.watch(E.TILE,function(a,b,e){d._tileUpdateDepth++;
c.set(E.TILE,e);d._tileUpdateDepth--}));a.own(f.watch(E.IS_MAXIMIZED,function(a,b,e){d._maximizeUpdateDepth++;c.set(E.IS_MAXIMIZED,e);d._maximizeUpdateDepth--}));return f},_transferPropertyBinding:function(a,b,c,d){c._unbindChildProperties(a,b);d._bindChildProperties(a,b);d.groupingFacet?b.setId=b[d.groupingFacet]:delete b.setId},_eliminateSubContainer:function(a,b){this._getRootContainer()._isChangingTiling=!0;var c=this,d=[];void 0===b&&(b=this._getTileContainingChild(a));a._getTabContainers().forEach(function(b){a._removeChildrenFromTabContainer(b,
d)});d.forEach(function(d){c._transferPropertyBinding(d.widget,d.properties,a,c);d.properties.index=void 0;c._addToTabContainer(b,d.widget,d.properties,void 0,!0,!0)});var e=this._getProperties(a);this.getChildInTile(b).removeChild(a);this._unbindChildProperties(a,e);a.destroyRecursive();this._updateBackground();e.groupProperties.set(D.SUB_GRID_SIZE,void 0);this.emit(C.STATE_CHANGED);this._getRootContainer()._isChangingTiling=!1},_eliminateEmptySubContainers:function(){var a=this;this._getChildContainers().forEach(function(b){b._eliminateEmptySubContainers();
b.isEmpty()&&a._eliminateSubContainer(b)})},_areCorrespondingRegions:function(a,b){return a===b||this._normalizeRegion(a)===this._normalizeRegion(b)},_normalizeRegion:function(a){"top"===a?a="left":"bottom"===a&&(a="right");return a},_getRegionFromTile:function(a){var b=["left","right","top","bottom"],c;2>=this._tileCount&&(c=1<this.gridSize.w?b[a]:1<this.gridSize.h?b[a+2]:"center");return c},_getTileFromRegion:function(a){switch(a){case "bottom":return 1;case "right":return 1}return 0},_updatePlusActions:function(a){var b,
c,d,f,g,h=this,k=this._getRootContainer();if(k&&this.showSingleDocumentTab){f=[];if((b=a.get(H.SHOWING_CHILD))&&k.groupingFacet)c=a.getChildProperties(b)[k.groupingFacet],d=this.groupRegistry.getProperties(k.groupingFacet,c),d.plusAction?f.push(d.plusAction):d.plusActions&&(f=f.concat(d.plusActions));(0<f.length||!b)&&this.groupRegistry.getIds(k.groupingFacet).forEach(function(a){d=h.groupRegistry.getProperties(k.groupingFacet,a);d.plusAction?f.push(d.plusAction):d.plusActions&&(f=f.concat(d.plusActions))});
for(b=0;b<f.length;b++)c=e.clone(f[b]),c.callback=e.partial(function(b){for(g=h;g._isChildContainer;)g._getParentContainer()._targetSubContainer=g,g=g._getParentContainer();h._targetTile=h.getTileContaining(a);b.callback.apply(null,Array.prototype.slice.call(arguments,1))},f[b]),f[b]=c;a.set(H.PLUS_ACTIONS,f)}},_updateMaximizeButton:function(a){var c=a.getParent();if(c&&(c=c.getUpperRightOverlay()))K.canMaximizeGlobally(a)?(f.replace(c,"maximizeButton","restoreButton"),b.set(c,"title",T.maximize)):
K.canRestoreGlobally(a)&&(f.replace(c,"restoreButton","maximizeButton"),b.set(c,"title",T.restore))},_updateBackground:function(){this.isEmpty()&&1==this._tileCount?f.add(this.domNode,"empty"):f.remove(this.domNode,"empty")},_updateRegions:function(){var a=this,b={},c,d,e,f,g;if(2>=this._tileCount){this._isUpdatingRegions=!0;for(c=0;c<this._tileCount;c++)e=this._getRegionFromTile(c),(d=this.getChildInTile(c))&&!d.isEmpty()&&d.getChildrenInTabOrder().forEach(function(c){f=a._getProperties(c);f.set(E.REGION,
e);a.groupingFacet&&(g=f[a.groupingFacet])&&(b[g]?e!==b[g]&&(b[g]="__MIXED__"):b[g]=e)});Object.keys(b).forEach(function(c){e=b[c];"__MIXED__"===e?delete a._lastRegionForGroup[c]:"center"!==e&&(a._lastRegionForGroup[c]=e)});this._isUpdatingRegions=!1}},_updateGroupRegion:function(a){var b;this._closingGroupId!==a&&2==this._tileCount&&(b=this._getTileContainingGroup(a),0<=b?(b=this._getRegionFromTile(b),this._lastRegionForGroup[a]=b):this.getDocumentCount(a)&&delete this._lastRegionForGroup[a])},_getPreferredRegion:function(a){return this._lastRegionForGroup[a]||
this.groupRegistry.getProperties(this.groupingFacet,a).defaultRegion||"left"},_updateSelectedGroup:function(a){a!==this._selectedGroupId&&(this._selectedGroupId&&this._getGroupTabs(this._selectedGroupId).forEach(function(a){f.remove(a.domNode,"selectedGroup")}),a&&this._getGroupTabs(a).forEach(function(a){f.add(a.domNode,"selectedGroup")}),this._selectedGroupId=a)},_getGroupTabs:function(a){var b=this,c=this.getGrandChildren(function(c,d){return b._getGroupId(c,d)===a}),d=[],e,f;for(f=0;f<c.length;f++)(e=
c[f].getParent().getTabForChild(c[f]))&&d.push(e);return d},emit:function(a,b,c){(a!==C.CHILD_ADDED&&a!==C.CHILD_REMOVED||!c||!c.isSubContainer)&&this.inherited(arguments)}});N.TAB_POSITION=H.TAB_POSITION;N.GRID_SIZE=L.GRID_SIZE;N.ROW_WEIGHTS=L.ROW_WEIGHTS;N.COLUMN_WEIGHTS=L.COLUMN_WEIGHTS;N.TILE_COVERAGE=L.TILE_COVERAGE;N.LAST_SELECTED=D.LAST_SELECTED;N.DOCUMENT_COUNT=D.DOCUMENT_COUNT;N.ARRANGEMENT="arrangement";N.NO_SPLIT=0;N.LEFT_RIGHT_SPLIT=1;N.TOP_BOTTOM_SPLIT=2;N.CUSTOM_TILING=3;N.getEnclosingContainer=
function(a){for(a=a.getParent();a&&!a.isInstanceOf(N);)a=a.getParent();return a};return N})},"mw-menu/RadioButtonMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/RadioButton mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C){return g(E.validate([e,a,b,f,k,y,B,q,p,r,t,u,x,v,s,w,d,l,D,A,m,n,z,F]),{baseClass:"mwWidget mwSharedMenuItem mwRadioButtonMenuItem",templateString:C,constructor:function(){this.radioButton=new h({text:""});this.own(this.radioButton)},_setCheckedAttr:function(a){this.inherited(arguments);this.radioButton.set("checked",a)},buildRendering:function(){this.inherited(arguments);this.radioButton.placeAt(this.domNode,"first")},startup:function(){this.inherited(arguments);
this.radioButton.startup()},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"mw-form/RadioButton":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/RadioButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){return g(v.validate([e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x]),{baseClass:"mwWidget mwRadioButton",templateString:w,postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",this._handleKeydown.bind(this)),c(this.domNode,"keyup",this._handleKeyup.bind(this)))},_handleKeydown:function(a){32===a.keyCode&&a.preventDefault()},_handleKeyup:function(a){32===a.keyCode&&(this.get("disabled")||a.target.click())},_onClick:function(){!0===
!this.get("checked")&&this.inherited(arguments)}})})},"MW/layout/DocumentGroupProperties":function(){define("dojo/_base/declare dojo/_base/lang MW/layout/LayoutChildProperty MW/layout/PerWindowStateful MW/layout/TabContainer mw-log/Log".split(" "),function(g,c,e,a,b,f){c=g([a],{Fixed:void 0,Dynamic:void 0,constructor:function(a){g.safeMixin(this,a);this.title||(this.title=this.collectiveLabel);this.collectiveLabel||(this.collectiveLabel=this.title);f.assert(this.title,"Neither title nor collectiveLabel specified for document group");
delete this.Fixed;delete this.Dynamic},setForWindow:function(a,b,c){this.inherited(arguments);this.set(b,c)}});c.DOCUMENT_COUNT="documentCount";c.IS_MAXIMIZED=e.IS_MAXIMIZED;c.LAST_SELECTED="lastSelected";c.SHRINK_TABS_TO_FIT=b.SHRINK_TABS_TO_FIT;c.SUB_GRID_SIZE="subGridSize";c.TILE=e.TILE;return c})},"MW/layout/PerWindowStateful":function(){define(["dojo/_base/declare","dojo/Stateful"],function(g,c){return g([c],{setForWindow:function(c,a,b){this.set(this._composeKey(c,a),b)},getForWindow:function(c,
a){return this.get(this._composeKey(c,a))},watchForWindow:function(c,a,b){return this.watch(this._composeKey(c,a),b)},_composeKey:function(c,a){return(c.name||"")+a}})})},"MW/layout/TabContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/mouse dojo/on dojo/Stateful dojo/touch dijit/focus dijit/Menu dijit/MenuItem dijit/popup dijit/_TemplatedMixin dijit/_WidgetBase dijit/layout/_LayoutWidget MW/layout/ButtonBar MW/layout/Geometry MW/layout/HidingContainer MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/Restorable MW/layout/SelectionBlocker MW/layout/StatefulExtension MW/layout/Traversable MW/layout/TabBar mw-mixins/property/TagMixin dojo/text!./templates/TabPlusButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G){var J=g([v,x],{templateString:G,buildRendering:function(){var b=this;this.inherited(arguments);this._setActionsAttr(this.actions);a.setSelectable(this.domNode,!1);F.preventFocus(this.domNode);n(this.plusNode,"click",function(a){b.actions[0].callback(a)});n(this.dropDownNode,s.press,e.hitch(this,"_displayPlusMenu"))},_setActionsAttr:function(a){this._set("actions",a);d.set(this.dropDownNode,{display:2>this.actions.length?
"none":"inline"});0<this.actions.length&&b.set(this.domNode,"title",this.actions[0].text)},_displayPlusMenu:function(){var a,b,c,d;C.blockSelection(this.domNode);u.close();b=new r({id:this.id+"PlusMenu"});for(a=0;a<this.actions.length;a++)c=this.actions[a],d=function(a){return function(b){a.callback(b);u.close()}}(c),c=new t({label:c.text,onClick:d}),n(c.domNode,s.release,d),b.addChild(c);u.open({around:this.dropDownNode,popup:b,onClose:function(){b.destroyRecursive();C.unblockSelection()},onCancel:function(){u.close()}});
p.focus(b.domNode)}}),H=g([w,l,E,K,D,P,O],{Fixed:void 0,displayToolTipsOnTruncatedTabs:!1,isContentBorderVisible:!0,selectionHighlightingEnabled:!1,tabReorderingEnabled:!1,tabsRepositioningEnabled:!1,tabWidthAdjustmentEnabled:!1,plusDropDownEnabled:!0,baseClass:"mwTabContainer",Dynamic:void 0,tabPosition:"top",shrinkTabsToFit:!1,hideSingleTab:!1,successionOption:"mostRecent",tabAnimationEnabled:!0,tabBarClass:U,_showOrder:0,_areTabsHidden:!1,constructor:function(){this._tabInfo=[];this.plusActions=
[];delete this.Fixed;delete this.Dynamic},buildRendering:function(){var b=this;this.inherited(arguments);f.add(this.domNode,"mwLayoutContainer");F.setLocaleOnDomNode(this.domNode);this.containerNode=k.create("div",{id:this.id+"Wrapper"},this.domNode);this._updateContainerBorder();this._tabBar=new this.tabBarClass({id:this.id+"_tablist",orientation:this._orientationFromTabPosition(this.tabPosition),displayToolTipsWhenTruncated:this.displayToolTipsOnTruncatedTabs,reorderingEnabled:this.tabReorderingEnabled,
shrinkWidthToFit:this.shrinkTabsToFit,animationEnabled:this.tabAnimationEnabled,tabOpening:B.oppositeRegion(this.tabPosition),distributeButtons:this.distributeTabs,selectionHighlightingEnabled:this.selectionHighlightingEnabled});this.tabClass&&(this._tabBar.tabClass=this.tabClass);this.tablist=this._tabBar;this._tabBar.placeAt(this.domNode);a.setSelectable(this._tabBar.domNode,!1);this._tabBar.on(z.CLOSE,e.hitch(this,"_tabCloseHandler"));this._tabBar.on(z.STATE_CHANGED,function(){b.emit(z.STATE_CHANGED)});
this._tabBar.watch(y.SHRINK_WIDTH_TO_FIT,function(a,c,d){b.notifyStateWatchers("shrinkTabsToFit",c,d);b.layout()});this._tabBar.watch(y.MINIMUM_BUTTON_WIDTH,function(a,c,d){b.notifyStateWatchers("minimumTabWidth",c,d);b.layout()});if(this.tabsRepositioningEnabled){this._horizontalBarGrip=k.create("div",{id:this.id+"HGrip"});f.add(this._horizontalBarGrip,"horizontalBarGrip");a.setSelectable(this._horizontalBarGrip,!1);F.preventFocus(this._horizontalBarGrip,!0);this._verticalBarGrip=k.create("div",
{id:this.id+"VGrip"});f.add(this._verticalBarGrip,"verticalBarGrip");a.setSelectable(this._verticalBarGrip,!1);F.preventFocus(this._verticalBarGrip,!0);var c=e.hitch(this,"_beginTabsDrag");n(this._horizontalBarGrip,s.press,c);n(this._verticalBarGrip,s.press,c);n(this._tabBar.domNode,s.press,c)}this.tabWidthAdjustmentEnabled&&(this._tabBarEdgeCover=k.create("div",{id:this.id+"TabBarEdgeCover"},this.domNode),f.add(this._tabBarEdgeCover,"edgeCoverV"),n(this._tabBarEdgeCover,s.press,e.hitch(this,"_beginTabBarEdgeDrag")),
this._updateTabBarEdgeCoverVisibility())},postCreate:function(){var a=this;this.inherited(arguments);this._pendingStyles&&(this._pendingStyles.forEach(function(b){a._addCustomStyle(b.selector,b.style)}),delete this._pendingStyles)},startup:function(){if(!this._started){var a=this;this.getChildren().forEach(function(b){a._setupChild(b)});this.inherited(arguments);this._updateBarGrip(this._tabBar.orientation);this._updateTabsVisibility();this._tabBar.startup()}},destroy:function(){this._styleSheet&&
document.head.removeChild(this._styleSheet);this.inherited(arguments)},addWithProperties:function(a,b,c,d,e){b=this._createTabInfo(a,b);b.initialIndex=c;b.immediate=e;this._tabInfo.push(b);this.addChild(a,c,d,e)},addChild:function(a,b,c,d){var e=this._getTabInfoFromDomId(a.id);e||(e=this._createTabInfo(a),e.initialIndex=b,e.immediate=d,this._tabInfo.push(e));var f=this._pendingState;f&&(this._updateInfoFromState(f,e)?(e.immediate=!0,c=1===this._tabInfo.length||!!(f.showingChildId&&f.showingChildId===
e.properties.childId)||!!(f.showingChildTitle&&f.showingChildTitle===e.properties.title),f.toRestoreCount--):f.toRestoreCount=0,0===f.toRestoreCount&&this.endStateRestore());!1===c&&e.properties.set(A.IS_SHOWING,!1);this._updateTabsVisibility();this.inherited(arguments);this.emit(z.CHILD_ADDED,e.widget,e.properties);this._setChildVisible(e,!1);!1!==c&&this._showChild(e);this._updateTabsVisibility();this.layout()},removeChild:function(a,b){var c=this._getLocalIndexFromDomId(a.id),e,g;0<=c&&(e=this._tabInfo[c],
e.unbindChildProperties&&e.unbindChildProperties(),e.isRemoving=!0,this._suppressSuccession||(g=this._chooseSuccessor(e)),this._tabBar.removeTab(e.properties,b),e.properties.get(A.IS_SELECTED)&&f.remove(this._tabBar.domNode,"selected"),this._tabInfo.splice(c,1),this.hideSingleTab&&1===this._tabInfo.length&&this._tabBar.removeTab(this._tabInfo[0].properties,b),this._showChild(g),a.domNode&&this.inherited(arguments),this._updateTabsVisibility(),this._started&&(this.layout(),this.emit(z.STATE_CHANGED)),
this._setChildVisible(e,!0),a.domNode&&d.set(a.domNode,{top:"auto",left:"auto",position:"static"}),this.emit(z.CHILD_REMOVED,e.widget,e.properties))},closeChild:function(a,b,c){if(c=this._getTabInfoFromDomId(a.id))b||!c.properties.canClose?(b||!a.onClose||a.onClose(this,a))&&this._doClose(c):(a=c.properties.canClose())&&("function"===typeof a.then?a.then(e.hitch(this,"_doClose",c),function(){}):this._doClose(c))},_doClose:function(a){var b=a.widget,c=b.getParent();c&&(c.removeChild(b),a.properties.set(A.IS_OPEN,
!1),a.properties.set(A.IS_SHOWING,!1))},isEmpty:function(){return 0===this._tabInfo.length},getTabCount:function(){return this._tabInfo.length},removeAll:function(a){for(var b;0<this._tabInfo.length;)b=this._tabInfo[0].widget,this.removeChild(b),a&&b.destroyRecursive()},setSuppressSuccession:function(a){this._suppressSuccession=a},getTabBar:function(){return this._tabBar},getTabForChild:function(a){return this._tabBar.getTabForProperties(this.getChildProperties(a))},getChildrenInTabOrder:function(){var a=
[],b,c;if(1===this._tabInfo.length)a.push(this._tabInfo[0].widget);else{b=this._tabBar.getButtons();for(c=0;c<b.length;c++)a.push(b[c].widget)}return a},getChildrenInShowOrder:function(){var a=this._tabInfo.slice(0);a.sort(function(a,b){return a.showOrder-b.showOrder});var b=[],c;for(c=0;c<a.length;c++)b.push(a[c].widget);return b},getChildProperties:function(a){return(a=this._getTabInfo(a))?a.properties:null},dragIn:function(a,b){var c=this._createTabInfo(a.widget,a.properties);c.initialIndex=a.index;
a.mousePoint=b;c.dragInInfo=a;c.immediate=!0;this._tabInfo.push(c);this.addChild(a.widget)},setGripNeighbor:function(a){a!==this._gripNeighbor&&(this._gripNeighbor&&(F.removeFromParent(this._gripNeighbor),f.remove(this._verticalBarGrip,"withNeighbor")),a&&(k.place(a,this._verticalBarGrip),f.add(this._verticalBarGrip,"withNeighbor")),this._gripNeighbor=a)},getGripNeighbor:function(){return this._gripNeighbor},setUpperRightOverlay:function(a,b){this._upperRightOverlay=a;this._shouldShowOverlayCallback=
b;this._updateUpperRightOverlayVisibility();k.place(a,this.domNode)},getUpperRightOverlay:function(){return this._upperRightOverlay},showChild:function(a){this.set("showingChild",a)},revealChild:function(a){this.showChild(a)},nextChild:function(a,b){if(b){var c=this.get("showingChild");return c===a?null:c}c=this.getChildrenInTabOrder();if(!a)return 0<c.length?c[0]:null;for(var d=0;d<c.length-1;d++)if(c[d]===a)return c[d+1];return null},previousChild:function(a,b){if(b){var c=this.get("showingChild");
return c===a?null:c}c=this.getChildrenInTabOrder();if(!a)return 0<c.length?c[c.length-1]:null;for(var d=c.length-1;0<d;d--)if(c[d]===a)return c[d-1];return null},isShowingLocally:function(a){return this._showingInfo&&this._showingInfo.widget===a},getState:function(){var a,b,c={children:[]};c.children.length=this._tabInfo.length;F.saveIfNotDefault(c,"tabPosition",this,"top");F.saveIfNotDefault(c,"shrinkTabsToFit",this,!1);F.saveIfNotDefault(c,"maximumTabWidth",this,void 0);this._showingInfo&&(b=this._showingInfo,
b.properties.childId?c.showingChildId=b.properties.childId:c.showingChildTitle=b.properties.title);var d=this.getChildrenInTabOrder();for(a=0;a<d.length;a++)b=this._getTabInfoFromDomId(d[a].id),c.children[a]={showOrder:b.showOrder},b.properties.childId?c.children[a].childId=b.properties.childId:c.children[a].title=b.properties.title;return c},setState:function(a){var b=this,c,d;F.restoreOrSetDefault(a,"tabPosition",this,"top");F.restoreOrSetDefault(a,"shrinkTabsToFit",this,!1);F.restoreOrSetDefault(a,
"maximumTabWidth",this,void 0);var e=0;a.toRestoreCount=a.children.length;d=0;a.children.forEach(function(f){var g,h;delete f.restored;for(h=0;h<b._tabInfo.length;h++)if(g=b._tabInfo[h],f.childId&&f.childId===g.properties.childId||!f.childId&&f.title===g.properties.title){g.properties.set(A.INDEX,d++);g.showOrder=f.showOrder;f.restored=!0;a.toRestoreCount--;e++;if(a.showingChildId&&f.childId===a.showingChildId||!a.showingChildId&&f.title===a.showingChildTitle)c=g;break}});0<a.toRestoreCount&&e===
this._tabInfo.length&&(this._pendingState=a);c&&this._showChild(c)},isRestoringState:function(){return!!this._pendingState},endStateRestore:function(){delete this._pendingState},isExpecting:function(a){return this._pendingState&&H.stateIncludes(this._pendingState,a)},_updateInfoFromState:function(a,b){var c,d,e=0;for(c=0;c<a.children.length;c++){d=a.children[c];if(d.childId&&d.childId===b.properties.childId||!d.childId&&d.title===b.properties.title)return b.initialIndex=e,b.showOrder=d.showOrder,
d.restored=!0;d.restored&&e++}return!1},resize:function(){this.computedStyle||(this.computedStyle=d.getComputedStyle(this.domNode));this.inherited(arguments)},layout:function(){if(this.domNode){var a=h.getContentBox(this.domNode,this.computedStyle);if(a&&0!==a.h){var b,c,d;if(!this._areTabsHidden){b=this._tabBar.getPreferredSize();"vertical"===this._tabBar.orientation&&(b.w=Math.max(b.w,this._tabBar.get(y.MINIMUM_BUTTON_WIDTH)),c=Math.max(this.maximumTabWidth||a.w-100,0),b.w>c?b.w=c:0<this._tabInfo.length&&
this._set("maximumTabWidth",0));c=e.clone(a);switch(this.tabPosition){case "top":c.h=b.h;a.t+=c.h;a.h-=c.h;break;case "bottom":c.t=a.t+a.h-b.h;c.h=b.h;a.h-=c.h;break;case "left":c.w=b.w;a.l+=c.w;a.w-=c.w;d=e.clone(a);d.l-=3;d.w=7;break;case "right":c.l=a.l+a.w-b.w,c.w=b.w,a.w-=c.w,d=e.clone(c),d.l-=3,d.w=7}this._tabBar.resize(c)}h.setMarginBox(this.containerNode,a);this._showBox=a;this._showingInfo&&(this._positionChild(this._showingInfo),this._upperRightOverlay&&h.setMarginBox(this._upperRightOverlay,
{l:a.l+a.w-18,t:a.t+2,w:16,h:16}));d&&this.tabWidthAdjustmentEnabled&&h.setMarginBox(this._tabBarEdgeCover,d)}}},_positionChild:function(a){var b;if(this._showBox){if(this.isContentBorderVisible)b={l:0,t:0,w:this._showBox.w-2,h:this._showBox.h-2};else{b={l:0,t:0,w:this._showBox.w,h:this._showBox.h};switch(this.tabPosition){case "bottom":b.h-=1;break;case "right":b.w-=1}this._areTabsHidden||("top"===this.tabPosition||"bottom"===this.tabPosition?b.h-=1:b.w-=1)}F.setSize(a.widget,b)}},_updateBarGrip:function(a){"horizontal"===
a?this._horizontalBarGrip&&this._tabBar.setPreNeighbor(this._horizontalBarGrip):this._verticalBarGrip&&this._tabBar.setPreNeighbor(this._verticalBarGrip)},_updateTabsVisibility:function(){var a=this._tabInfo.length,a=!(this.reserveSpaceForTabs||1<a||0<a&&!this.hideSingleTab||0<this.plusActions.length);a!==this._areTabsHidden&&(this._areTabsHidden=a,d.set(this._tabBar.domNode,{visibility:a?"hidden":"visible"}),this._updateContainerBorder());this._updateUpperRightOverlayVisibility()},_updateUpperRightOverlayVisibility:function(){this._upperRightOverlay&&
this._shouldShowOverlayCallback&&d.set(this._upperRightOverlay,{visibility:this._shouldShowOverlayCallback(!(this._areTabsHidden||this.hideSingleTab&&2>this._tabInfo.length))?"visible":"hidden"})},_updateContainerBorder:function(){var a;this.isContentBorderVisible?a="fullTabContentWrapper":this._areTabsHidden||(a=this._getContentWrapperClass(this.tabPosition));a!==this._wrapperClass&&(this._wrapperClass&&f.remove(this.containerNode,this._wrapperClass),(this._wrapperClass=a)&&f.add(this.containerNode,
a))},_updateTabBarEdgeCoverVisibility:function(){this._tabBarEdgeCover&&d.set(this._tabBarEdgeCover,{visibility:"vertical"===this._tabBar.orientation?"visible":"hidden"})},_getContentWrapperClass:function(a){return a+"TabContentWrapper"},_createTabInfo:function(a,b){if(b&&(!b.watch||!b.set||!b.get)){var c=new q;e.mixin(c,b);b=c}return{widget:a,properties:b||a,showOrder:-1}},_getLocalIndexFromDomId:function(a){var b;for(b=0;b<this._tabInfo.length;b++)if(this._tabInfo[b].widget.id===a)return b;return-1},
_getTabInfo:function(a){var b=null;"string"===typeof a?(b=this._getTabInfoFromChildId(a))||(b=this._getTabInfoFromTitle(a)):a&&(b=this._getTabInfoFromDomId(a.id));return b},_getTabInfoFromDomId:function(a){a=this._getLocalIndexFromDomId(a);return 0>a?null:this._tabInfo[a]},_getTabInfoFromTitle:function(a){var b;for(b=0;b<this._tabInfo.length;b++)if(this._tabInfo[b].properties.title===a)return this._tabInfo[b];return null},_getTabInfoFromChildId:function(a){var b;for(b=0;b<this._tabInfo.length;b++)if(this._tabInfo[b].properties.childId===
a)return this._tabInfo[b];return null},_setupChild:function(a){this.inherited(arguments);d.set(a.domNode,"position","absolute");var b=this._getTabInfoFromDomId(a.id),c=this._tabInfo.length,e;b&&!b.childWasSetup&&(b.childWasSetup=!0,this._bindChildProperties(b),this.hideSingleTab&&(2===c&&0===this._tabBar.getButtons().length)&&(e=this._tabInfo[0],this._tabBar.addTab(e.widget,e.properties,e.initialIndex,b.immediate)),(!this.hideSingleTab||1<c)&&b!==e&&this._tabBar.addTab(a,b.properties,b.initialIndex,
b.immediate,b.dragInInfo),b===this._showingInfo&&b.properties.set(A.IS_SHOWING,!0))},_bindChildProperties:function(a){var b=this,c=[];a.properties&&(c.push(a.properties.watch(A.IS_SHOWING,function(c,d,e){e&&b._showChild(a)})),c.push(a.properties.watch(A.IS_OPEN,function(c,d,e){e||b._doClose(a)})),c.push(a.properties.watch(A.TITLE,function(){"vertical"===b._orientationFromTabPosition(b.tabPosition)&&setTimeout(function(){b.layout()},0)})),c.push(a.properties.watch(A.IS_ENABLED,function(c,d,e){1===
b._tabInfo.length?b._showChild(e?a:null):!e&&a===b._showingInfo&&b._showChild(b._chooseSuccessor(a))})),a.unbindChildProperties=function(){c.forEach(function(a){a.remove()});delete a.unbindChildProperties})},_showChild:function(a){if(this._showingInfo!==a){var b=null,c,d;this._showingInfo&&(this._setChildVisible(this._showingInfo,!1),this.selectedChildWidget=null,c=this._showingInfo.properties,b=this._showingInfo.widget,d=this._showingInfo.isRemoving);if(this._showingInfo=a)this._setChildVisible(a,
!0),this.selectedChildWidget=a.widget,a.showOrder=this._showOrder++,this._started&&a.properties.set(A.IS_SHOWING,!0),this._positionChild(a);this._started&&(c&&!d)&&c.set(A.IS_SHOWING,!1);this.notifyStateWatchers("showingChild",b,a?a.widget:null);if(a&&a.widget.onShow)a.widget.onShow();this._started&&this.emit(z.STATE_CHANGED)}},_setChildVisible:function(a,b){a.widget.domNode&&(b?(f.remove(a.widget.domNode,"hiddenChild"),d.set(a.widget.domNode,{visibility:"visible"})):(f.add(a.widget.domNode,"hiddenChild"),
d.set(a.widget.domNode,{visibility:"hidden"})))},_chooseSuccessor:function(a){var b,c,d,e;if("mostRecent"===this.successionOption){d=-2;for(b=0;b<this._tabInfo.length;b++)c=this._tabInfo[b],c!==a&&(c.showOrder>d&&!1!==c.properties.get(A.IS_ENABLED))&&(d=c.showOrder,e=c)}else if("neighbor"===this.successionOption){a=a.properties.get(A.INDEX);c=this._tabBar.getButtons();for(b=a-1;0<=b;b--)if(!1!==c[b].enabled){e=this._getTabInfoFromDomId(c[b].widget.id);break}for(b=a+1;!e&&b<c.length;b++)if(!1!==c[b].enabled){e=
this._getTabInfoFromDomId(c[b].widget.id);break}}return e},_tabCloseHandler:function(a){this.closeChild(a.widget,!1,!0)},_orientationFromTabPosition:function(a){return"top"===a||"bottom"===a?"horizontal":"vertical"},_setTabPositionAttr:function(a){this.tabPosition!==a&&(this._set("tabPosition",a),this._tabBar.set(y.ORIENTATION,this._orientationFromTabPosition(a)),this._tabBar.set(U.TAB_OPENING,B.oppositeRegion(a)),this._updateBarGrip(this._tabBar.orientation),this._updateContainerBorder(),this._updateTabBarEdgeCoverVisibility(),
this.layout())},_setShrinkTabsToFitAttr:function(a){this._tabBar.set(y.SHRINK_WIDTH_TO_FIT,a)},_getShrinkTabsToFitAttr:function(){return this._tabBar.get(y.SHRINK_WIDTH_TO_FIT)},_setMinimumTabWidthAttr:function(a){this._tabBar.set(y.MINIMUM_BUTTON_WIDTH,a)},_getMinimumTabWidthAttr:function(){return this._tabBar.get(y.MINIMUM_BUTTON_WIDTH)},_setMaximumTabWidthAttr:function(a){this._set("maximumTabWidth",a);("left"===this.tabPosition||"right"===this.tabPosition)&&this.layout()},_setHideSingleTabAttr:function(a){var b,
c;a!==this.hideSingleTab&&(b=this._areTabsHidden,this._set("hideSingleTab",a),1===this._tabInfo.length&&this._started&&(c=this._tabInfo[0],a?this._tabBar.removeTab(c.properties):(this._tabBar.addTab(c.widget,c.properties,c.initialIndex),c.properties.set(A.IS_SHOWING,!0))),this._updateTabsVisibility(),b!==this._areTabsHidden&&this.layout())},_setShowingChildAttr:function(a){this._showChild(this._getTabInfo(a))},_getShowingChildAttr:function(){return this._showingInfo?this._showingInfo.widget:null},
_setPlusActionsAttr:function(a){var b,c;0===a.length?this._tabBar.setPlusButton(null):(this.plusDropDownEnabled||(a=a.slice(0,1)),b=Math.min(this.plusActions.length,2),c=Math.min(a.length,2),b===c?this._tabBar.getPlusButton().set("actions",a):this._tabBar.setPlusButton(new J({actions:a})));this._set("plusActions",a);this._updateTabsVisibility()},_setTabAnimationEnabledAttr:function(a){this._tabBar.set("animationEnabled",a);this._set("tabAnimationEnabled",a)},_setTabBackgroundAttr:function(a){var b=
"background:"+a;this._addCustomStyle(".mwTabContainer .tabBar",b);this._addCustomStyle(".mwTabContainer .tab:not(.checkedTab)",b);this._addCustomStyle(".mwTabContainer .tabBar.selected","background: rgb(169,190,211)");this._addCustomStyle(".mwTabContainer .tabBar.selected .tab:not(.checkedTab)","background: rgb(169,190,211)");this._set("tabBackground",a)},_setTabForegroundAttr:function(a){this._addCustomStyle(".mwTabContainer .tab:not(.checkedTab)","color:"+a);this._set("tabForeground",a)},_setShowingTabBackgroundAttr:function(a){this._addCustomStyle(".mwTabContainer .tab.checkedTab",
"background:"+a);this._addCustomStyle(".mwTabContainer .tab.bottomOpen.checkedTab","border-bottom: 1px solid "+a);this._addCustomStyle(".mwTabContainer .tab.topOpen.checkedTab","border-top: 1px solid "+a);this._addCustomStyle(".mwTabContainer .tab.leftOpen.checkedTab","border-left: 1px solid "+a);this._addCustomStyle(".mwTabContainer .tab.rightOpen.checkedTab","border-right: 1px solid "+a);this._set("showingTabBackground",a)},_setShowingTabForegroundAttr:function(a){this._addCustomStyle(".mwTabContainer .tab.checkedTab",
"color:"+a);this._set("showingTabForeground",a)},_addCustomStyle:function(a,b){this.id?(this._styleSheet||(this._styleSheet=document.createElement("style"),this._styleSheet.appendChild(document.createTextNode("")),document.head.appendChild(this._styleSheet)),this._styleSheet.sheet.insertRule("#"+this.id+a+" {"+b+"}",this._styleSheet.sheet.cssRules.length)):(this._pendingStyles||(this._pendingStyles=[]),this._pendingStyles.push({selector:a,style:b}))},_beginTabsDrag:function(a){if(m.isLeft(a)&&!this._dragConnections&&
(a.target===this._horizontalBarGrip||a.target===this._verticalBarGrip||a.target===this._tabBar.domNode))this._dragConnections=[n(this.ownerDocument,s.move,e.hitch(this,"_continueTabsDrag")),n(this.ownerDocument,s.release,e.hitch(this,"_endTabsDrag"))],C.blockUntilRelease(this.domNode);F.stopEvent(a)},_continueTabsDrag:function(a){var b=h.position(this.domNode);b.l=b.x;b.t=b.y;a=B.getNearestBorder(b,a.pageX,a.pageY,0.25);"center"!==a&&a!==this.tabPosition&&this.set("tabPosition",a)},_endTabsDrag:function(){this._dragConnections.forEach(function(a){a.remove()});
delete this._dragConnections},on:function(a,b){var c=this;return a===z.DRAG_OUT?this._tabBar.on(a,function(a){a.button&&(a.widget=a.button.widget);a.box=c._getShowBox();b(a)}):this.inherited(arguments)},_getShowBox:function(){var a=e.clone(this._showBox),b=h.position(this.domNode);a.l+=b.x;a.t+=b.y;return a},_beginTabBarEdgeDrag:function(a){if(m.isLeft(a)&&this._showBox){var b=h.getContentBox(this.domNode,this.computedStyle),b={initialX:a.pageX,initialWidth:"left"===this.tabPosition?this._showBox.l:
b.w-this._showBox.w};m.isLeft(a)&&(b.connections=[n(this.ownerDocument,s.move,e.hitch(this,"_continueTabBarEdgeDrag",b)),n(this.ownerDocument,s.release,e.hitch(this,"_endTabBarEdgeDrag",b))],C.blockUntilRelease(this.domNode))}},_continueTabBarEdgeDrag:function(a,b){var c=a.initialWidth+("left"===this.tabPosition?b.pageX-a.initialX:a.initialX-b.pageX),c=Math.max(c,this.get("minimumTabWidth"));this.set("maximumTabWidth",c)},_endTabBarEdgeDrag:function(a){a.connections.forEach(function(a){a.remove()});
this.emit(z.STATE_CHANGED)}});H.stateIncludes=function(a,b){var c,d;for(c=0;c<a.children.length;c++)if(d=a.children[c],!d.restored&&(d.childId&&d.childId===b||!d.childId&&d.title===b))return!0;return!1};H.TAB_POSITION="tabPosition";H.SHRINK_TABS_TO_FIT="shrinkTabsToFit";H.MINIMUM_TAB_WIDTH="minimumTabWidth";H.MAXIMUM_TAB_WIDTH="maximumTabWidth";H.HIDE_SINGLE_TAB="hideSingleTab";H.SUCCESSION_OPTION="successionOption";H.SHOWING_CHILD="showingChild";H.PLUS_ACTIONS="plusActions";H.TAB_BACKGROUND="tabBackground";
H.TAB_FOREGROUND="tabForeground";H.SHOWING_TAB_BACKGROUND="showingTabBackground";H.SHOWING_TAB_FOREGROUND="showingTabForeground";H.SUCCESSOR_NONE="none";H.SUCCESSOR_MOST_RECENT="mostRecent";H.SUCCESSOR_NEIGHBOR="neighbor";return H})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(g,c,e,
a,b,f,k,h,d,l,m,n,q,s,p,r){m("dijit-legacy-requires")&&r(0,function(){g(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return e("dijit.Menu",p,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):c.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return q.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(c){c=a.byId(c,this.ownerDocument);var e;if("iframe"==c.tagName.toLowerCase()){var f=c;e=this._iframeContentWindow(f);e=n.body(e.document)}else e=c==n.body(this.ownerDocument)?this.ownerDocument.documentElement:c;var g={node:c,
iframe:f};b.set(c,"_dijitMenu"+this.id,this._bindings.push(g));var k=d.hitch(this,function(a){var b=this.selector,c=b?function(a){return l.selector(b,a)}:function(a){return a},d=this;return[l(a,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<d._lastKeyDown+500||d._scheduleOpen(this,f,{x:a.pageX,y:a.pageY},a.target)}),l(a,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==h.F10||d.leftClickToOpen&&a.keyCode==h.SPACE)a.stopPropagation(),
a.preventDefault(),d._scheduleOpen(this,f,null,a.target),d._lastKeyDown=(new Date).getTime()})]});g.connects=e?k(e):[];f&&(g.onloadHandler=d.hitch(this,function(){var a=this._iframeContentWindow(f),a=n.body(a.document);g.connects=k(a)}),f.addEventListener?f.addEventListener("load",g.onloadHandler,!1):f.attachEvent("onload",g.onloadHandler))},unBindDomNode:function(c){var d;try{d=a.byId(c,this.ownerDocument)}catch(e){return}c="_dijitMenu"+this.id;if(d&&b.has(d,c)){for(var f=b.get(d,c)-1,g=this._bindings[f],
h;h=g.connects.pop();)h.remove();(h=g.iframe)&&(h.removeEventListener?h.removeEventListener("load",g.onloadHandler,!1):h.detachEvent("onload",g.onloadHandler));b.remove(d,c);delete this._bindings[f]}},_scheduleOpen:function(a,b,c,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:d,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(b){function c(){r.refocus&&q&&q.focus();s.close(r)}var d=b.target,e=b.iframe,g=b.coords,h=!g;this.currentTarget=
b.delegatedTarget;if(g){if(e){b=f.position(e,!0);var d=this._iframeContentWindow(e),d=f.docScroll(d.document),l=k.getComputedStyle(e),p=k.toPixelValue,n=(m("ie")&&m("quirks")?0:p(e,l.paddingLeft))+(m("ie")&&m("quirks")?p(e,l.borderLeftWidth):0),e=(m("ie")&&m("quirks")?0:p(e,l.paddingTop))+(m("ie")&&m("quirks")?p(e,l.borderTopWidth):0);g.x+=b.x+n-d.x;g.y+=b.y+e-d.y}}else g=f.position(d,!0),g.x+=10,g.y+=10;var r=this,e=this._focusManager.get("prevNode");b=this._focusManager.get("curNode");var q=!b||
a.isDescendant(b,this.domNode)?e:b;s.open({popup:this,x:g.x,y:g.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();h||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);s.close(this)}},destroy:function(){c.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],
function(g,c,e,a){return g("dijit.DropDownMenu",a,{templateString:e,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(a){this._moveToPopup(a);a.stopPropagation();a.preventDefault()},_onLeftArrow:function(a){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else a.stopPropagation(),a.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){return c("dijit._MenuBase",[n,p,s,q],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){b.toggle(this.domNode,"dijitMenuActive",a);b.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=m.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,b="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(h(this.containerNode,h.selector(b,k.enter),function(){a.onItemHover(m.byNode(this))}),h(this.containerNode,h.selector(b,k.leave),function(){a.onItemUnhover(m.byNode(this))}),h(this.containerNode,h.selector(b,l),function(b){a.onItemClick(m.byNode(this),b);b.stopPropagation()}),
h(this.containerNode,h.selector(b,"focusin"),function(){a._onItemFocus(m.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,d){this.inherited(arguments);if(a&&(-1==d||a.popup&&1==d))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var c=a.popup;c.parentMenu=this;this.own(this._mouseoverHandle=h.once(c.domNode,"mouseover",f.hitch(this,"_onPopupHover")));var d=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&
d.focusChild(a);d._cleanUp()},onExecute:f.hitch(this,"_cleanUp",!0),onClose:function(){d._mouseoverHandle&&(d._mouseoverHandle.remove(),delete d._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(a.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return c("dijit._KeyNavContainer",[d,l,h],{connectKeyNavHandlers:function(a,c){var d=this._keyNavCodes={},e=f.hitch(this,"focusPrev"),h=f.hitch(this,"focusNext");g.forEach(a,function(a){d[a]=e});g.forEach(c,function(a){d[a]=h});d[b.HOME]=f.hitch(this,"focusFirstChild");d[b.END]=f.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){a.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);g.forEach(this.getChildren(),
f.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
k.byNode(a))&&a.getParent()==this}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n){return g("dijit.MenuItem",[h,d,l,m],{templateString:n,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c,d=a;"object"===typeof d&&(d=d.label||
d.value);"string"===typeof d&&(c=d.search(/{\S}/),0<=c?(b=d.charAt(c+1),a=d.substr(0,c),d=d.substr(c+3),c=a+b+d,a=a+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+d):c=d,this.domNode.setAttribute("aria-label",c+" "+this.accelKey));this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);
e.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&e.set(this.accelKeyNode,"id",this.id+"_accel");c.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==f("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(b){a.toggle(this.domNode,"dijitMenuItemSelected",b)},setLabel:function(a){b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.",
"","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,e.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}})})},"MW/layout/StatefulExtension":function(){define(["dojo/_base/declare"],function(g){return g([],{notifyStateWatchers:function(c,e,a){this._watchCallbacks&&
this._watchCallbacks(c,e,a)},preferredWatch:function(c,e){handle=this.watch(c,e);if("string"===typeof c){var a=this._watchCallbacks["_"+c],b=a.length;if(1<b){var f=a[b-1];for(i=b-1;1<=i;i--)a[i]=a[i-1];a[0]=f}}return handle}})})},"MW/layout/TabBar":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-style dojo/has dijit/_TemplatedMixin dijit/_WidgetBase ./ButtonBar ./LayoutChildProperty ./LayoutContainerEvent ./Tab".split(" "),function(g,c,e,a,b,f,k,h,d,
l,m,n){g=g([d],{tabOpening:"bottom",setGap:5,tabClass:n,postMixInProperties:function(){this.inherited(arguments);this.entryExitEdge=this.tabOpening},buildRendering:function(){this.inherited(arguments);a.add(this.domNode,"tabBar")},addTab:function(b,c,d,e,f){var g=[],h=this,k=new this.tabClass({id:this.id+"_"+b.id,label:c.title,toolTip:c.description,closable:c.closable,enabled:!1!==c.isEnabled,widget:b,properties:c,checked:c.get(l.IS_SHOWING)});a.add(k.domNode,this._getClassForOpening(this.tabOpening));
c.get(l.IS_SELECTED)&&a.add(k.domNode,"selected");c.setId&&a.add(k.domNode,"mwSetMember");this.selectionHighlightingEnabled&&g.push(c.watch(l.IS_SELECTED,function(b,c,d){d?a.add(k.domNode,"selected"):a.remove(k.domNode,"selected")}));g.push(k.watch("checked",function(){c.set(l.IS_SHOWING,k.get("checked"))}));k.on(m.CLOSE,function(a){h.emit(m.CLOSE,{widget:a.widget,properties:a.properties})});g.push(c.watch(l.IS_SHOWING,function(a,b,c){k.set("checked",c)}));g.push(c.watch(l.TITLE,function(a,b,c){k.set("label",
c)}));g.push(c.watch(l.DESCRIPTION,function(a,b,c){k.set("toolTip",c)}));g.push(c.watch(l.INDEX,function(b,c,d){d?a.remove(k.domNode,"firstTab"):a.add(k.domNode,"firstTab");d===h._buttonInfo.length-1?a.add(k.domNode,"lastTab"):a.remove(k.domNode,"lastTab")}));g.push(c.watch(l.IS_ENABLED,function(a,b,c){k.set("enabled",c)}));f?this.dragIn(k,c,f.mousePoint||f.index):this.addButton(k,c,!0,d,e);d=this._indexFromProperties(c);this._buttonInfo[d].unbindChildProperties=function(){g.forEach(function(a){a.remove()})};
b=this._buttonInfo.length;d===b-1&&1<b&&a.remove(this._buttonInfo[b-2].button.domNode,"lastTab");return k},removeTab:function(a,b){var c,d;c=this._indexFromProperties(a);0<=c&&(c=this._buttonInfo[c],d=c.button,c.unbindChildProperties(),this.removeButton(d,function(){d.destroyRecursive()},b))},getTabForProperties:function(a){var b;a=this._indexFromProperties(a);0<=a&&(b=this._buttonInfo[a].button);return b},_computeLayout:function(){if(this.inherited(arguments)){var a;for(i=0;i<this._buttonInfo.length;i++)switch(a=
this._buttonInfo[i].targetBox,this.tabOpening){case "bottom":a.h+=f("ie")?1.5:1;break;case "top":a.t-=1;a.h+=1;break;case "right":a.w+=1;break;case "left":a.l-=1,a.w+=1}return!0}return!1},_createPrototypeButton:function(){var a=new n({id:this.id+"prototype",label:"prototype"});b.set(a.iconNode,{position:"static"});b.set(a.labelNode,{position:"static"});b.set(a.closeNode,{position:"static"});return a},_configurePrototypeButton:function(a,b){a.set("label",b.get("label")+"###");a.set("closable",b.get("closable"))},
_setTabOpeningAttr:function(b){var c,d;if(b!=this.tabOpening){c=this._getClassForOpening(this.tabOpening);d=this._getClassForOpening(b);this._set("tabOpening",b);this.entryExitEdge=b;for(b=0;b<this._buttonInfo.length;b++)a.replace(this._buttonInfo[b].button.domNode,d,c)}},_getClassForOpening:function(a){return a+"Open"},_beginButtonDrag:function(a,b){b.target===a.button.closeNode?c.stop(b):this.inherited(arguments)},_isTruncated:function(a){return this.inherited(arguments)||"vertical"===this.orientation&&
a.currentBox.w<a.preferredSize.w}});g.TAB_OPENING="tabOpening";return g})},"MW/layout/DocumentGroupRegistry":function(){define(["dojo/_base/declare","dojo/Evented"],function(g,c){var e=g([c],{constructor:function(){this._groups={}},register:function(a,b,c){this._groups[a]||(this._groups[a]={});b&&(this._groups[a][b]=c,c.groupId=b,this.emit(e.PROPERTIES_ADDED,a,b,c))},unregister:function(a,b){this._groups[a]&&(b?(this.emit(e.PROPERTIES_REMOVED,a,b,this._groups[a][b]),delete this._groups[a][b]):delete this._groups[a])},
getFacets:function(){return Object.keys(this._groups)},getIds:function(a){return this._groups[a]?Object.keys(this._groups[a]):[]},getProperties:function(a,b){this._groups[a]||this.register(a);return b?this._groups[a][b]:this._groups[a]},getGroupPropertiesFromDocumentProperties:function(a,b){if(this._groups[a]&&b[a])return this._groups[a][b[a]]}});e.PROPERTIES_ADDED="propertiesAdded";e.PROPERTIES_REMOVED="propertiesRemoved";return e})},"MW/layout/GroupedTabContainer":function(){define(["dojo/_base/declare",
"dojo/_base/lang","MW/layout/GroupedTabBar","MW/layout/TabContainer"],function(g,c,e,a){return g([a],{tabBarClass:e,buildRendering:function(){this.inherited(arguments);this._tabBar.actionsMenuCreator=c.partial(this.actionsMenuCreator,this);this._tabBar.groupPropertiesFetcher=this.groupPropertiesFetcher},getSetMembersInTabOrder:function(a){var c=[],e;if(1===this._tabInfo.length)e=this._tabInfo[0].widget,this.getChildProperties(e).setId===a&&c.push(e);else{a=this._tabBar.getButtonsInSet(a);for(e=0;e<
a.length;e++)c.push(a[e].widget)}return c}})})},"MW/layout/GroupedTabBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/mouse dojo/touch dojo/on dijit/popup ./DocumentGroupProperties ./Geometry ./LayoutUtils ./TabBar ./TabGroupHeader".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){return g([r],{addTab:function(a,e,f,g,h){var k=this.inherited(arguments);e.groupId&&b.add(k.domNode,"groupTab");
e.setId&&e.__showHeader&&m(k.headerNode,d.enter,c.hitch(this,"_initiateHeaderDisplay",k,a,e))},_initiateHeaderDisplay:function(b,d,e){var f=this;if(e.groupId||!(2>this._getSetMemberCount(e.setId))){var g=this._computeHeaderBounds(e.setId,b.headerNode);this._removeConnections();var h=setTimeout(c.hitch(this,"_showHeader",b,d,e,g),200);this._connections=[m(this.ownerDocument,l.move,function(c){f._header?c.target!==f._header.domNode&&(c.target!==b.headerNode&&!a.isDescendant(c.target,f._header.domNode))&&
f._hideHeader():s.boxContains(g,c.pageX,c.pageY)||(clearTimeout(h),f._removeConnections())})]}},_showHeader:function(f,g,n,r){!this._header&&this._connections&&(this._header=new t({id:n.setId+"Header",setId:n.groupId||n.setId,label:this.groupPropertiesFetcher(g,n).title,createMenu:c.partial(this.actionsMenuCreator,n.groupId?f.widget:n.setId),menuCloseCallback:c.hitch(this,"_hideHeader")}),b.add(this._header.domNode,this.tabOpening+"Open"),a.setSelectable(this._header.domNode,!1),p.preventFocus(this._header.domNode,
!0),this._header.placeAt(e.body()),k.setMarginBox(this._header.domNode,r),"vertical"===this.orientation&&h.set(this._header.labelNode,{width:r.h-24+"px"}),this._connections.push(m(this._header.domNode,d.leave,c.hitch(this,"_hideHeader"))),this._connections.push(m(this._header.domNode,l.press,c.hitch(this,"_beginSetDrag",n.setId,r))))},_hideHeader:function(){if(this._header&&!this._buttonDragInfo&&(0===n._stack.length||n._stack[0].widget!==this._header.menu&&n._stack[0].widget!==this._header.contextMenu))e.body().removeChild(this._header.domNode),
this._header.destroy(),this._removeConnections(),delete this._header},_continueSetDrag:function(){this.inherited(arguments);this._updateHeaderPosition()},_updateButtonPositions:function(){this.inherited(arguments);this._updateHeaderPosition()},_updateHeaderPosition:function(){if(this._header){var a=k.getMarginBox(this._header.domNode),b=this._getVisibleButtonSetBounds(this._header.setId),c=k.position(this.domNode);b.l+=c.x;b.t+=c.y;"horizontal"===this.orientation?(a.l=b.l,a.w=b.w):(a.t=b.t,a.h=b.h);
k.setMarginBox(this._header.domNode,a)}},_computeHeaderBounds:function(a,b){var c=this._getVisibleButtonSetBounds(a),d=k.getMarginBox(b);switch(this.tabOpening){case "bottom":c.t+=d.t+d.h-20+1;c.h=20;break;case "top":c.t+=d.t;c.h=20;break;case "right":c.l+=d.l+d.w-20+1;c.w=20;break;case "left":c.l+=d.l,c.w=20}d=k.position(this.domNode);c.l+=d.x;c.t+=d.y;s.constrainBox(c,{l:0,t:0,w:e.body().clientWidth,h:e.body().clientHeight});return c},_removeConnections:function(){this._connections&&(this._connections.forEach(function(a){a.remove()}),
delete this._connections)}})})},"MW/layout/TabGroupHeader":function(){define("dojo/_base/declare dojo/_base/event dojo/dom dojo/dom-style dojo/on dojo/mouse dojo/touch dijit/_TemplatedMixin dijit/_WidgetBase MW/layout/LayoutUtils dojo/text!./templates/TabGroupHeader.html".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){return g([d,h],{templateString:m,buildRendering:function(){this.inherited(arguments);this.labelNode.textContent=this.label;e.setSelectable(this.domNode,!1);l.preventFocus(this.domNode,!0);
l.preventDefaultContextMenu(this.domNode);l.setLocaleOnDomNode(this.domNode);var d=this;this.createMenu?(b(this.actionsNode,k.press,function(a){f.isLeft(a)&&!d.menu&&(d.menu=d.createMenu(),d.menu.targetNodes=[d.actionsNode],d.menu.on("close",function(){d.menuCloseCallback();setTimeout(function(){d.menu.destroyRecursive();delete d.menu},0)}),d.menu.open({target:a.target}),c.stop(a))}),this.contextMenu=this.createMenu(!0),this.contextMenu.targetNodes=[this.domNode,this.labelNode],this.own(this.contextMenu)):
a.set(this.actionsNode,{display:"none"})}})})},"MW/layout/SelectionManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/Stateful dijit/focus dijit/popup dijit/registry mw-log/Log MW/layout/HidingContainer MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){g=g(k,{_successionBlockCount:0,constructor:function(){this._childProperties={};this._containerConnections={}},registerContainer:function(a){this._containerConnections[a.id]=
[a.on(s.CHILD_ADDED,c.hitch(this,"addChild")),a.on(s.CHILD_REMOVED,c.hitch(this,"removeChild"))]},unregisterContainer:function(a){var b=this._containerConnections[a.id];b&&(b.forEach(function(a){a.remove()}),delete this._containerConnections[a.id])},addChild:function(a,c){if(!1!==c.get(q.IS_SELECTABLE)&&!this._childProperties[a.id]){!a.focus&&(!a.domNode||!b.has(a.domNode,"tabindex"))&&m.warn("The widget (id: "+a.id+") has neither a focus() method nor a tabindex and therefore won't accept focus correctly.");
var d=this;this._childProperties[a.id]=c;var f=function(b,c,e){e&&d.selectedChild!==a?(b=d.selectedChild,d._changeAttrValue("selectedChild",a),b&&d._setSelected(d._childProperties[b.id],!1),d._revealChild(a),!d._isRespondingToFocus&&(a.domNode&&0>h.activeStack.indexOf(a.domNode.id))&&(a.focus?a.focus():h.focus(a.domNode))):!e&&d.selectedChild===a&&(0<d._successionBlockCount?d._changeAttrValue("selectedChild",null):(b=d.getNextChild(a,!0))&&d._childProperties[b.id]&&d._setSelected(d._childProperties[b.id],
!0))};c.selectionManagerSelectWatch=c.watch(q.IS_SELECTED,f);c.get(q.IS_SELECTED)&&f(q.IS_SELECTED,!1,!0);c.selectionManagerShowWatch=c.watch(q.IS_SHOWING,function(a,b,e){e||setTimeout(function(){c.get(q.IS_SHOWING)||d._setSelected(c,!1)},0)});f=function(){d._isRespondingToFocus=!0;d._setSelected(c,!0);d._isRespondingToFocus=!1};a.dontSelectOnFocus||(a.onFocus?c.selectionManagerOnFocusAspect=e.after(a,"onFocus",f):a.onFocus=f)}},removeChild:function(a,b){var c;delete this._childProperties[a.id];b.selectionManagerSelectWatch&&
(b.selectionManagerSelectWatch.unwatch(),delete b.selectionManagerSelectWatch);b.selectionManagerShowWatch&&(b.selectionManagerShowWatch.unwatch(),delete b.selectionManagerShowWatch);b.selectionManagerOnFocusAspect&&(b.selectionManagerOnFocusAspect.remove(),delete b.selectionManagerOnFocusAspect);a===this.selectedChild&&(b.documentType?this._changeAttrValue("selectedChild",null):(c=0<this._successionBlockCount?null:this.getNextChild(a,!0))?this._setSelected(this._childProperties[c.id],!0):(this._setSelected(b,
!1),this._changeAttrValue("selectedChild",null)))},setSuccessionFilter:function(a){this._canSelectFilter=a},blockSuccession:function(){this._successionBlockCount++},unblockSuccession:function(){this._successionBlockCount--},setSelected:function(a,b){var c=this._childProperties[a.id];c&&this._setSelected(c,b)},_setSelected:function(a,b){b!=a.get(q.IS_SELECTED)&&a.set(q.IS_SELECTED,b)},_selectedChildSetter:function(a){this.setSelected(a,!0)},_revealChild:function(a){for(var b=a.domNode?a.getParent():
null;b;)b.revealChild&&b.revealChild(a),a=b,b=b.getParent()},_getFirstChild:function(a,b){return!a||!a.nextChild?a:this._getFirstChild(a.nextChild(null,b),b)},getNextChild:function(a,b){var c=a.getParent()||a.parentBar,d,e;if(!c)return null;if(c.nextChild&&(!b||b&&n.isShowingGlobally(c)))for(;;){if(d=c.nextChild(a,b))d=this._getFirstChild(d,b);else break;if(d)if(this._childProperties[d.id])if(d.properties&&!0===d.properties.get(q.IS_SELECTED))break;else if(this._canSelectFilter&&!this._canSelectFilter(d,
this._childProperties[d.id]))break;else return d;else{if(e&&e===d)return null;void 0===e&&(c.getParent&&null===c.getParent())&&(e=d);a=d;d.getParent&&d.getParent()!==c&&(c=d.getParent())}else break}return this.getNextChild(c,b)},_getLastChild:function(a,b){return!a||!a.previousChild?a:this._getLastChild(a.previousChild(null,b),b)},getPreviousChild:function(a,b){var c=a.getParent()||a.parentBar,d,e;if(!c)return null;if(c.previousChild&&(!b||b&&n.isShowingGlobally(c)))for(;;){if(d=c.previousChild(a,
b))d=this._getLastChild(d,b);else break;if(d)if(this._childProperties[d.id])if(d.properties&&!0===d.properties.get(q.IS_SELECTED))break;else if(this._canSelectFilter&&!this._canSelectFilter(d,this._childProperties[d.id]))break;else return d;else{if(e&&e===d)return null;void 0===e&&(c.getParent&&null===c.getParent())&&(e=d);a=d;d.getParent&&d.getParent()!==c&&(c=d.getParent())}else break}return this.getPreviousChild(c,b)}});g.SELECTED_CHILD="selectedChild";return g})},"MW/layout/TileContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/fx dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/mouse dojo/on dojo/touch dijit/layout/_LayoutWidget MW/layout/Geometry MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/Restorable MW/layout/SelectionBlocker MW/layout/StatefulExtension MW/layout/Traversable mw-log/Log".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D){g=g([p,m,v,y,B],{gridSize:{w:1,h:1},indexing:"rowMajor",minCellHeight:16,minCellWidth:16,offerSplitterRemoveButtons:!0,baseClass:"tileContainer",buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"mwLayoutContainer");k.add(this.domNode,"mwTileContainer")},postCreate:function(){this.inherited(arguments);this._createSplitters()},startup:function(){if(!this._started){var a=this;this.getChildren().forEach(function(b){a._setupChild(b)});
this.inherited(arguments)}},addWithProperties:function(a,b){this._addChildInfo({widget:a,properties:b});this.addChild(a)},addChild:function(a){var b=this._childInfoFromDomId(a.id);b||(b={widget:a,properties:a},this._addChildInfo(b));this.inherited(arguments);this.layout();this.emit(u.CHILD_ADDED,b.widget,b.properties)},removeChild:function(a){return this.removeChildInTile(this._tileFromDomId(a.id))},removeChildInTile:function(a,b){void 0===b&&(b=!0);var c;if(0<=a){var d=this._children[a];d&&(this._superRemoveChild(d.widget),
this._children[a]=null,b&&this.layout(),this.emit(u.CHILD_REMOVED,d.widget,d.properties),x.restoreStyle(d.widget),c=d.widget)}return c},removeAll:function(a){var b,c;for(b=0;b<this._tileCount;b++)this._children[b]&&(c=this._children[b].widget,this.removeChildInTile(b),a&&c.destroyRecursive())},getChildInTile:function(a){return 0>a||a>=this._children.length?null:(a=this._children[this._convertToInternalTile(a)])?a.widget:null},isTileEmpty:function(a){return!this.getChildInTile(a)},getTileContaining:function(a){return this._convertToExternalTile(this._getTileContainingInternal(a))},
getChildrenInTileOrder:function(){var a=[],b;for(b=0;b<this._tileCount;b++)this._children[b]&&this._children[b].widget&&a.push(this._children[b].widget);return a},_initGrid:function(){var a,b,c;this._tileCount=this.gridSize.w*this.gridSize.h;this._children=[];this._children.length=this._tileCount;this._tileCellBox=[];this._tileCellBox.length=this._tileCount;this._tileInCell=[];this._tileInCell.length=this.gridSize.h;for(a=c=0;a<this.gridSize.h;a++){this._tileInCell[a]=[];this._tileInCell[a].length=
this.gridSize.w;for(b=0;b<this.gridSize.w;b++,c++)this._tileInCell[a][b]=c,this._tileCellBox[c]={l:b,t:a,w:1,h:1}}this._rowTop=[];this._rowTop.length=this.gridSize.h+1;this._columnLeft=[];this._columnLeft.length=this.gridSize.w+1;this._rowWeight=this._getDefaultWeights(this.gridSize.h);this._columnWeight=this._getDefaultWeights(this.gridSize.w)},_getDefaultWeights:function(a){var b=[],c,d;b.length=a;c=1/a;for(d=0;d<a;d++)b[d]=c;return b},_createSplitters:function(){var a=this,b,c,g,m,l,p;this._horizontalSplitters=
[];this._horizontalSplitters.length=this.gridSize.h-1;for(b=0;b<this.gridSize.h-1;b++){this._horizontalSplitters[b]=[];this._horizontalSplitters[b].length=this.gridSize.w;for(c=0;c<this.gridSize.w;c++)g=h.create("div",{id:this.id+"HorizontalSplitter"+b+"_"+c},this.domNode),this._horizontalSplitters[b][c]=g,k.add(g,"splitterH"),k.add(g,"removable"),f.setSelectable(g,!1),x.preventFocus(g,!0),x.preventDefaultContextMenu(g),m=h.create("div",{id:this.id+"HorizontalLine"+b+"_"+c},g),k.add(m,"splitterLineH"),
f.setSelectable(m,!1),x.preventFocus(m,!0),l=e.hitch(this,"_beginHorizontalSplitterDrag",b),q(g,s.press,l),q(m,s.press,l),this.offerSplitterRemoveButtons&&(l=h.create("div",{id:this.id+"HorizontalDot"+b+"_"+c},m),k.add(l,"dot"),f.setSelectable(l,!1),x.preventFocus(l,!0),p=e.partial(function(b,c,e,f){var g=d.position(b).x;f.pageX>=g-4&&f.pageX<=g+5&&a._showRemoveSplitButton(b,c,e,"horizontal",f)},l,b,c),q(l,n.enter,e.hitch(this,"_showRemoveSplitButton",l,b,c,"horizontal")),q(g,"mousemove",p),q(m,"mousemove",
p))}this._verticalSplitters=[];this._verticalSplitters.length=this.gridSize.w-1;for(c=0;c<this.gridSize.w-1;c++){this._verticalSplitters[c]=[];this._verticalSplitters[c].length=this.gridSize.h;for(b=0;b<this.gridSize.h;b++)g=h.create("div",{id:this.id+"VerticalSplitter"+b+"_"+c},this.domNode),this._verticalSplitters[c][b]=g,k.add(g,"splitterV"),k.add(g,"removable"),f.setSelectable(g,!1),x.preventFocus(g,!0),x.preventDefaultContextMenu(g),m=h.create("div",{id:this.id+"VerticalLine"+b+"_"+c},g),k.add(m,
"splitterLineV"),f.setSelectable(m,!1),x.preventFocus(m,!0),l=e.hitch(this,"_beginVerticalSplitterDrag",c),q(g,s.press,l),q(m,s.press,l),this.offerSplitterRemoveButtons&&(l=h.create("div",{id:this.id+"VerticalDot"+b+"_"+c},m),k.add(l,"dot"),f.setSelectable(l,!1),x.preventFocus(l,!0),p=e.partial(function(b,c,e,f){var g=d.position(b).y;f.pageY>=g-4&&f.pageY<=g+5&&a._showRemoveSplitButton(b,c,e,"vertical",f)},l,b,c),q(l,n.enter,e.hitch(this,"_showRemoveSplitButton",l,b,c,"vertical")),q(g,"mousemove",
p),q(m,"mousemove",p))}},_destroySplitters:function(){var a,b;for(a=0;a<this._horizontalSplitters.length;a++)for(b=0;b<this._horizontalSplitters[a].length;b++)h.destroy(this._horizontalSplitters[a][b]);for(b=0;b<this._verticalSplitters.length;b++)for(a=0;a<this._verticalSplitters[b].length;a++)h.destroy(this._verticalSplitters[b][a])},_refreshSplitters:function(){this._destroySplitters();this._createSplitters()},_redistributeChildren:function(a){if(a.length===this._children.length)this._children=
a;else{var b,c,d;for(c=b=0;c<a.length;c++)a[c]&&(b<this._children.length?(this._children[b]=a[c],b++):(d=a[c],this._superRemoveChild(d.widget),this.emit(u.CHILD_REMOVED,d.widget,d.properties),x.restoreStyle(d.widget)))}},_showRemoveSplitButton:function(a,c,e,g,m){var l=this,p,u;if(!m.buttons){if(this._removeSplitButton){if(this._removeSplitButton._dot===a)return;this._removeSplitButton._cleanup()}var v=h.create("div",{id:this.id+"RemoveSplitterButton"},b.body());v._dot=a;k.add(v,"removeSplitterButton");
f.setSelectable(v,!1);x.preventFocus(v,!0);p=d.position(a);p.l=p.x-6;p.t=p.y-6;p.w=14;p.h=14;d.setMarginBox(v,p);v._cleanup=function(){h.destroy(v);u.forEach(function(a){a.remove()});delete l._removeSplitButton};u=[q(v,n.leave,v._cleanup),q(v,s.press,function(a){v._cleanup();"horizontal"===g?l.mergeTopBottom(c,e):l.mergeLeftRight(c,e);x.stopEvent(a)}),q(this.ownerDocument,s.move,function(a){r.boxContains(p,a.pageX,a.pageY)||v._cleanup()})];this._removeSplitButton=v}},_addChildInfo:function(a){this._bindChildProperties(a.widget,
a.properties);var b=a.properties.tile,b=void 0===b?this._findFirstEmptyTile():this._convertToInternalTile(b);D.assert(0<=b&&b<this._tileCount,"Cannot add child in tile "+b);this._children[b]=a;a.properties.set(t.TILE,b)},_setupChild:function(a){this.inherited(arguments);l.set(a.domNode,"position","absolute")},_bindChildProperties:function(a,b){},_findFirstEmptyTile:function(){var a;for(a=0;a<this._tileCount&&this._children[a];a++);return a},_childInfoFromDomId:function(a){a=this._tileFromDomId(a);
return 0<=a?this._children[a]:null},_tileFromDomId:function(a){var b;for(b=0;b<this._tileCount&&!(this._children[b]&&this._children[b].widget.id===a);b++);return b<this._tileCount?b:-1},resize:function(){this.computedStyle||(this.computedStyle=l.getComputedStyle(this.domNode));this.inherited(arguments)},layout:function(){var a,b,c,e;if(this._started&&this.domNode&&(a=d.getContentBox(this.domNode,this.computedStyle))&&0!==a.h){if(this._referenceHeight!==a.h){this._referenceHeight=a.h;b=a.h-(this.gridSize.h-
1)*this._getVisibleSplitterThickness();this._rowTop[0]=a.t;for(c=0;c<this.gridSize.h-1;c=e)e=c+1,this._rowTop[e]=this._rowTop[c]+Math.round(this._rowWeight[c]*b);this._rowTop[this.gridSize.h]=a.t+a.h}if(this._referenceWidth!==a.w){this._referenceWidth=a.w;c=a.w-(this.gridSize.w-1)*this._getVisibleSplitterThickness();this._columnLeft[0]=a.l;for(b=0;b<this.gridSize.w-1;b=e)e=b+1,this._columnLeft[e]=this._columnLeft[b]+Math.round(this._columnWeight[b]*c);this._columnLeft[this.gridSize.w]=a.l+a.w}a={l:0,
t:0,w:0,h:this._getSplitterThickness()};for(c=0;c<this.gridSize.h-1;c++){a.t=this._rowTop[c+1]-this._getPreSplitterOverlap();for(b=0;b<this.gridSize.w;b++)a.l=this._columnLeft[b],a.w=this._columnLeft[b+1]-a.l+1,d.setMarginBox(this._horizontalSplitters[c][b],a)}a.w=this._getSplitterThickness();for(b=0;b<this.gridSize.w-1;b++){a.l=this._columnLeft[b+1]-this._getPreSplitterOverlap();for(c=0;c<this.gridSize.h;c++)a.t=this._rowTop[c],a.h=this._rowTop[c+1]-a.t+1,d.setMarginBox(this._verticalSplitters[b][c],
a)}for(a=0;a<this._tileCount;a++)this._children[a]&&x.setSize(this._children[a].widget,this.getTilePixelBox(a))}},_getSplitterThickness:function(){this._splitterThickness||this._measureSplitters();return this._splitterThickness||8},_getVisibleSplitterThickness:function(){this._visibleSplitterThickness||this._measureSplitters();return this._visibleSplitterThickness||1},_getPreSplitterOverlap:function(){this._preSplitterOverlap||this._measureSplitters();return this._preSplitterOverlap||2},_measureSplitters:function(){var a;
this._horizontalSplitters.length?(a=this._horizontalSplitters[0][0],this._splitterThickness=Math.round(l.get(a,"height")),this._visibleSplitterThickness=Math.round(l.get(a.firstChild,"height")),this._preSplitterOverlap=Math.round(l.get(a,"padding-top"))):this._verticalSplitters.length&&(a=this._verticalSplitters[0][0],this._splitterThickness=Math.round(l.get(a,"width")),this._visibleSplitterThickness=Math.round(l.get(a.firstChild,"width")),this._preSplitterOverlap=Math.round(l.get(a,"padding-left")))},
getTilePixelBox:function(a){var b=this._tileCellBox[a];a=b.l+b.w;var c=b.t+b.h,d=this._columnLeft[b.l],e=this._columnLeft[a],b=this._rowTop[b.t],f=this._rowTop[c];a<this.gridSize.w&&(e-=this._getVisibleSplitterThickness());c<this.gridSize.h&&(f-=this._getVisibleSplitterThickness());return{l:d,t:b,w:e-d,h:f-b}},_getCellFromPoint:function(a,b){var c={row:this._getRowFromY(b),column:this._getColumnFromX(a)};return 0>c.row||0>c.column?null:c},_getRowFromY:function(a){var b;for(b=-1;b<this.gridSize.h;b++)if(a<
this._rowTop[b+1])return b;return-1},_getColumnFromX:function(a){var b;for(b=-1;b<this.gridSize.w;b++)if(a<this._columnLeft[b+1])return b;return-1},_getTileContainingInternal:function(a){var b;for(b=0;b<this._tileCount&&this._children[b].widget!==a;b++);return b===this._tileCount?-1:b},_convertToInternalTile:function(a){return"columnMajor"===this.indexing&&0<=a?this._convertToColumnMajor(a):a},_convertToExternalTile:function(a){return"columnMajor"===this.indexing&&0<=a?this._convertToRowMajor(a):
a},_convertToColumnMajor:function(a){this._columnMajorTile||this._computeTileConversionTables();return this._columnMajorTile[a]},_convertToRowMajor:function(a){this._rowMajorTile||this._computeTileConversionTables();return this._rowMajorTile[a]},_computeTileConversionTables:function(){var a,b,c,d;this._columnMajorTile=[];this._columnMajorTile.length=this._tileCount;this._rowMajorTile=[];this._rowMajorTile.length=this._tileCount;for(a=0;a<this._tileCount;a++)this._columnMajorTile[a]=-1,this._rowMajorTile[a]=
-1;for(b=c=0;b<this.gridSize.w;b++)for(a=0;a<this.gridSize.h;a++)d=this._tileInCell[a][b],0>this._columnMajorTile[d]&&(this._columnMajorTile[d]=c,this._rowMajorTile[c]=d,c++)},_clearTileConversionTables:function(){delete this._columnMajorTile;delete this._rowMajorTile},_beginHorizontalSplitterDrag:function(a,b){n.isLeft(b)&&!this._splitterDragInfo&&(this._splitterDragInfo={splitterIndex:a,startY:b.pageY,initialPosition:this._rowTop[a+1],localLowerLimit:this._getSplitterTopLocalLowerLimit(a,this._rowTop),
localUpperLimit:this._getSplitterTopLocalUpperLimit(a,this._rowTop),globalLowerLimit:this._getSplitterTopGlobalLowerLimit(a),globalUpperLimit:this._getSplitterTopGlobalUpperLimit(a),connections:[q(this.ownerDocument,s.move,e.hitch(this,"_continueHorizontalSplitterDrag")),q(this.ownerDocument,s.release,e.hitch(this,"_endSplitterDrag"))]},w.blockUntilRelease(this.domNode));x.stopEvent(b)},_continueHorizontalSplitterDrag:function(a){var b=this._splitterDragInfo,c=!!a.ctrlKey;this._rowTop[b.splitterIndex+
1]=this._enforceDragLimits(b.initialPosition+(a.pageY-b.startY),b,c);c&&(this._scaleCells(b.splitterIndex,this.gridSize.h,this._rowTop,this._rowWeight),b.localLowerLimit=this._getSplitterTopLocalLowerLimit(b.splitterIndex,this._rowTop),b.localUpperLimit=this._getSplitterTopLocalUpperLimit(b.splitterIndex,this._rowTop));this.layout()},_endSplitterDrag:function(){this._splitterDragInfo.connections.forEach(function(a){a.remove()});delete this._splitterDragInfo;this._updateWeights();this.emit(u.STATE_CHANGED)},
_beginVerticalSplitterDrag:function(a,b){n.isLeft(b)&&!this._splitterDragInfo&&(this._splitterDragInfo={splitterIndex:a,startX:b.pageX,initialPosition:this._columnLeft[a+1],localLowerLimit:this._getSplitterLeftLocalLowerLimit(a,this._columnLeft),localUpperLimit:this._getSplitterLeftLocalUpperLimit(a,this._columnLeft),globalLowerLimit:this._getSplitterLeftGlobalLowerLimit(a),globalUpperLimit:this._getSplitterLeftGlobalUpperLimit(a),connections:[q(this.ownerDocument,s.move,e.hitch(this,"_continueVerticalSplitterDrag")),
q(this.ownerDocument,s.release,e.hitch(this,"_endSplitterDrag"))]},w.blockUntilRelease(this.domNode));x.stopEvent(b)},_continueVerticalSplitterDrag:function(a){var b=this._splitterDragInfo,c=!!a.ctrlKey;this._columnLeft[b.splitterIndex+1]=this._enforceDragLimits(b.initialPosition+(a.pageX-b.startX),b,c);c&&(this._scaleCells(b.splitterIndex,this.gridSize.w,this._columnLeft,this._columnWeight),b.localLowerLimit=this._getSplitterLeftLocalLowerLimit(b.splitterIndex,this._columnLeft),b.localUpperLimit=
this._getSplitterLeftLocalUpperLimit(b.splitterIndex,this._columnLeft));this.layout()},_enforceDragLimits:function(a,b,c){c?a<b.globalLowerLimit?a=b.globalLowerLimit:a>b.globalUpperLimit&&(a=b.globalUpperLimit):a<b.localLowerLimit?a=b.localLowerLimit:a>b.localUpperLimit&&(a=b.localUpperLimit);return a},_scaleCells:function(a,b,c,d){var e,f,g,h;f=[];f.length=b;if(0<a){e=c[a+1]-c[0];for(h=g=0;h<a+1;h++)f[h]=d[h]*e,g+=d[h];for(h=0;h<a;h++)c[h+1]=c[h]+f[h]/g}if(a<b-2){e=c[b]-c[a+1];g=0;for(h=a+1;h<b;h++)f[h]=
d[h]*e,g+=d[h];for(h=a+1;h<b;h++)c[h+1]=c[h]+f[h]/g}},_setGridSizeAttr:function(a){var b=this._tileCount;if(!b||!(this.gridSize.w===a.w&&this.gridSize.h===a.h)){this._isSettingGridSize=!0;var c,d;b&&(d=this._prepareForGridSizeChange(a),c=this._children);var f=this.gridSize;this.gridSize=e.clone(a);this._initGrid();b&&(this._clearTileConversionTables(),this._refreshSplitters(),this._redistributeChildren(c),this._reactToGridSizeChange(d));this._referenceWidth=this._referenceHeight=0;this.layout();this._queueGridSizeChangeNotification(f,
a);this._flushPendingNotifications();this._isSettingGridSize=!1}},_getTileCountAttr:function(){return this._tileCount},getTileCellBox:function(a){return this._tileCellBox[this._convertToInternalTile(a)]},getAdjacency:function(a,b){var c=this._tileCellBox[a],d=this._tileCellBox[b];if(a<b){if(c.l+c.w===d.l)return"left";if(c.t+c.h===d.t)return"top"}else if(a>b){if(d.l+d.w===c.l)return"right";if(d.t+d.h===c.t)return"bottom"}return""},_setColumnWeightsAttr:function(a){var b=0,c;for(c=0;c<Math.min(a.length,
this.gridSize.w-1)&&1>b;c++)this._columnWeight[c]=a[c],b+=a[c];a=this.gridSize.w-c;for(b=Math.max(1-b,0)/a;c<this.gridSize.w;c++)this._columnWeight[c]=b;this._referenceWidth=0;this.layout();this.notifyStateWatchers("columnWeights",[],this._columnWeight)},_getColumnWeightsAttr:function(){return this._columnWeight.slice(0,this.gridSize.w)},_setRowWeightsAttr:function(a){var b=0,c;for(c=0;c<Math.min(a.length,this.gridSize.h-1)&&1>b;c++)this._rowWeight[c]=a[c],b+=a[c];a=this.gridSize.h-c;for(b=Math.max(1-
b,0)/a;c<this.gridSize.h;c++)this._rowWeight[c]=b;this._referenceHeight=0;this.layout();this.notifyStateWatchers("rowWeights",[],this._rowWeight)},_getRowWeightsAttr:function(){return this._rowWeight.slice(0,this.gridSize.h)},setColumnSpan:function(a,b,c){this._checkSpanParameters(a,b,c);var d=this,e,f,g,h;h=this._tileInCell[a][b];var k=this._convertToExternalTile(h),m=this._convertToExternalTile(h+1),l=this._tileCellBox[h];if(l.w!==c){if(l.w<c){l.l+c>this.gridSize.w&&(c=this.gridSize.w-l.l);e=!0;
for(b=l.l+l.w;b<l.l+c&&e;)a=this._tileInCell[l.t][b],e=this._tileCellBox[a].h===l.h,b+=this._tileCellBox[a].w;if(!e)return;e=c-l.w;b=[];for(a=h+1;0<e;a++)g=this._tileCellBox[a].w,g<=e?(e-=g,b.push(a)):(this._tileCellBox[a].l+=e,this._tileCellBox[a].w-=e,e=0);e=b.length;l.w=c;this._recordOccupyingTile(l,h);if(0<e){f=this._prepareForMerge(h,b);b.forEach(function(a){d.removeChildInTile(a,!1)});for(a=h+1;a<this._tileCount-e;a++)this._children[a]=this._children[a+e],this._tileCellBox[a]=this._tileCellBox[a+
e],this._recordOccupyingTile(this._tileCellBox[a],a);this._tileCount-=e}this._coalesceColumn(l.l);0<e&&(this._reactToMerge(h,b,f),this.emit("tiles_merged",k,m),this._pendingStateChangeNotification=!0)}else{f=h+1;h=l.w-c;l.w=c;for(a=this._tileCount-1;a>=f;a--)this._children[a+1]=this._children[a],this._tileCellBox[a+1]=this._tileCellBox[a],this._recordOccupyingTile(this._tileCellBox[a+1],a+1);this._tileCellBox[f]={l:l.l+c,t:l.t,w:h,h:l.h};this._recordOccupyingTile(this._tileCellBox[f],f);this._tileCount++;
this.emit("tile_split",k,"vertical");this._pendingStateChangeNotification=!0}this._updateSplitterVisibility();this.layout();this._flushPendingNotifications()}},setRowSpan:function(a,b,c){this._checkSpanParameters(a,b,c);var d=this,e,f,g,h,k,m,l=this._tileInCell[a][b],n=this._convertToExternalTile(l),p=this._tileCellBox[l];if(p.h!==c){if(p.h<c){p.t+c>this.gridSize.h&&(c=this.gridSize.h-p.t);e=!0;for(a=p.t+p.h;a<p.t+c&&e;)b=this._tileInCell[a][p.l],e=this._tileCellBox[b].w===p.w,a+=this._tileCellBox[b].h;
if(!e)return;f=c-p.h;e=[];e.length=f;h=-1;g=0;for(a=p.t+p.h;a<p.t+c;)b=this._tileInCell[a][p.l],m=this._tileCellBox[b].h,m<=f?(f-=m,0===g&&(h=this._convertToExternalTile(b)),e[g++]=b):(this._tileCellBox[b].t+=f,this._tileCellBox[b].h-=f,f=0),a+=this._tileCellBox[b].h;p.h=c;this._recordOccupyingTile(p,l);if(0<g){k=this._prepareForMerge(l,e);e.forEach(function(a){d.removeChildInTile(a,!1)});b=l+1;for(c=0;b<this._tileCount-g;b++)c<g&&b+c===e[c]&&c++,this._children[b]=this._children[b+c],this._tileCellBox[b]=
this._tileCellBox[b+c],this._recordOccupyingTile(this._tileCellBox[b],b);this._tileCount-=g}this._coalesceRow(p.t);0<g&&(this._reactToMerge(l,e,k),this.emit("tiles_merged",n,h),this._pendingStateChangeNotification=!0)}else{k=this._tileInCell[p.t+c][p.l+p.w];a=p.h-c;p.h=c;for(b=this._tileCount-1;b>=k;b--)this._children[b+1]=this._children[b],this._tileCellBox[b+1]=this._tileCellBox[b],this._recordOccupyingTile(this._tileCellBox[b+1],b+1);this._tileCellBox[k]={l:p.l,t:p.t+c,w:p.w,h:a};this._recordOccupyingTile(this._tileCellBox[k],
k);this._tileCount++;this.emit("tile_split",n,"horizontal");this._pendingStateChangeNotification=!0}this._updateSplitterVisibility();this.layout();this._flushPendingNotifications()}},_checkSpanParameters:function(a,b,c){D.assert(a<this.gridSize.h,"Row \x3d "+a+" exceeds grid height \x3d "+this.gridSize.h);D.assert(b<this.gridSize.w,"Column \x3d "+b+" exceeds grid width \x3d "+this.gridSize.w);D.assert(1<=c,"Span \x3d "+c+" must be at least 1")},eliminateTile:function(a,b){a=this._convertToInternalTile(a);
b=this._convertToInternalTile(b);var c=["east","south","west","north"],d=this._tileCellBox[a],e,f,g,h,k,m;if(0<=b&&(e=this._tileCellBox[b],e.l+e.w<=d.l?f="west":e.t+e.h<=d.t?f="north":e.l>=d.l+d.w?f="east":e.t>=d.t+d.h&&(f="south"),f)){g=f;for(e=0;c[e]!==f;e++)h=c[e],c[e]=g,g=h;c[e]=g}for(e=0;e<c.length&&!k;e++)switch(c[e]){case "north":if(0<d.t){g=this._tileInCell[d.t-1][d.l];if(this._tileCellBox[g].l!==d.l)break;g=this._tileInCell[d.t-1][d.l+d.w-1];h=this._tileCellBox[g];if(h.l+h.w===d.l+d.w){k=
"north";for(f=d.l;f<d.l+d.w;f++)this._tileInCell[d.t][f]===a&&(g=this._tileInCell[d.t-1][f],h=this._tileCellBox[g],h.h+=d.h,this._recordOccupyingTile(h,g));this._coalesceRow(d.t-1)}}break;case "south":if(d.t+d.h<this.gridSize.h){g=this._tileInCell[d.t+d.h][d.l];if(this._tileCellBox[g].l!==d.l)break;g=this._tileInCell[d.t+d.h][d.l+d.w-1];h=this._tileCellBox[g];if(h.l+h.w===d.l+d.w){k="south";for(f=d.l;f<d.l+d.w;f++)this._tileInCell[d.t][f]===a&&(g=this._tileInCell[d.t+d.h][f],h=this._tileCellBox[g],
h.t-=d.h,h.h+=d.h,this._recordOccupyingTile(h,g));this._coalesceRow(d.t)}}break;case "east":if(d.l+d.w<this.gridSize.w){g=this._tileInCell[d.t][d.l+d.w];if(this._tileCellBox[g].t!==d.t)break;g=this._tileInCell[d.t+d.h-1][d.l+d.w];h=this._tileCellBox[g];if(h.t+h.h===d.t+d.h){k="east";for(f=d.t;f<d.t+d.h;f++)this._tileInCell[f][d.l]===a&&(g=this._tileInCell[f][d.l+d.w],h=this._tileCellBox[g],h.l-=d.w,h.w+=d.w,this._recordOccupyingTile(h,g));this._coalesceColumn(d.l)}}break;case "west":if(0<d.l){g=this._tileInCell[d.t][d.l-
1];if(this._tileCellBox[g].t!==d.t)break;g=this._tileInCell[d.t+d.h-1][d.l-1];h=this._tileCellBox[g];if(h.t+h.h===d.t+d.h){k="west";for(f=d.t;f<d.t+d.h;f++)this._tileInCell[f][d.l]===a&&(g=this._tileInCell[f][d.l-1],h=this._tileCellBox[g],h.w+=d.w,this._recordOccupyingTile(h,g));this._coalesceColumn(d.l-1)}}}if(k){m=this._children[a];this._tileCount--;a<b?(this._children[a]=this._children[b],this._tileCellBox[a]=this._tileCellBox[b],this._recordOccupyingTile(this._tileCellBox[a],a),c=b):(this._children[a]=
null,c=a);for(;c<this._tileCount;c++)this._children[c]=this._children[c+1],this._tileCellBox[c]=this._tileCellBox[c+1],this._recordOccupyingTile(this._tileCellBox[c],c);(this._children[this._tileCount]=m)&&this.removeChildInTile(this._tileCount,!1);this._updateSplitterVisibility();this.layout();this._flushPendingNotifications()}return m?m.widget:null},mergeTopBottom:function(a,b){var c=this._tileInCell[a][b],d=this._tileInCell[a+1][b],e=this._convertToExternalTile(c),f=this._convertToExternalTile(d),
g;this._children[d]&&(!this._children[c]||this._children[d].properties.get(t.IS_SELECTED))?g=d:(g=c,c=d);d=this._prepareForMerge(g,[c]);this._mergeTiles(g,c);this._coalesceRow(a);this._updateSplitterVisibility();this._reactToMerge(g,[c],d);this.layout();this.emit("tiles_merged",e,f);this._pendingStateChangeNotification=!0;this._flushPendingNotifications()},mergeLeftRight:function(a,b){var c=this._tileInCell[a][b],d=this._tileInCell[a][b+1],e=this._convertToExternalTile(c),f=this._convertToExternalTile(d),
g;this._children[d]&&(!this._children[c]||this._children[d].properties.get(t.IS_SELECTED))?g=d:(g=c,c=d);d=this._prepareForMerge(g,[c]);this._mergeTiles(g,c);this._coalesceColumn(b);this._updateSplitterVisibility();this._reactToMerge(g,[c],d);this.layout();this.emit("tiles_merged",e,f);this._pendingStateChangeNotification=!0;this._flushPendingNotifications()},splitTopBottom:function(a,b){var c=this._tileInCell[a][b],d=this._convertToExternalTile(c),f=this._tileCellBox[c],g=e.clone(f),h=this._prepareForSplit(c,
"vertical"),k,m,l,n;if(1<f.h)g.t=a>f.t?a:a+1,f.h=g.t-f.t,g.h-=f.h;else{k=!0;g.t=a+1;g.h=1;var f={w:this.gridSize.w,h:this.gridSize.h+1},p=[];p.length=f.h;var r=[];r.length=f.h+1;for(m=0;m<=a;m++)p[m]=this._tileInCell[m],r[m]=this._rowTop[m];p[m]=[];p[m].length=this.gridSize.w;var u=-1,q=-1;for(l=0;l<this.gridSize.w;l++)n=this._tileInCell[m-1][l],n!==c&&n!==u&&this._tileCellBox[n].h++,u=p[m][l]=n,l<b&&(q=n);r[m]=this._rowTop[m-1]+this._rowTop[m]>>1;for(n=q+1;n<this._tileCount;n++)n!==c&&this._tileCellBox[n].t>
a&&this._tileCellBox[n].t++;for(m++;m<f.h;m++)p[m]=this._tileInCell[m-1],r[m]=this._rowTop[m-1];r[f.h]=this._rowTop[this.gridSize.h];m=this.gridSize;this.gridSize=f;this._tileInCell=p;this._rowTop=r;this._rowWeight=[];this._rowWeight.length=this.gridSize.h;this._clearTileConversionTables();this._refreshSplitters();this._updateWeights();this._queueGridSizeChangeNotification(m,f)}this._insertTile(g);k||this._coalesceRow(a);this._updateSplitterVisibility();this._reactToSplit(c,"vertical",h);this.layout();
this.emit("tile_split",d,"horizontal");this._pendingStateChangeNotification=!0;this._flushPendingNotifications()},splitLeftRight:function(a,b){var c=this._tileInCell[a][b],d=this._convertToExternalTile(c),f=this._tileCellBox[c],g=e.clone(f),h=this._prepareForSplit(c,"horizontal"),k,m,l,n;if(1<f.w)g.l=b>f.l?b:b+1,f.w=g.l-f.l,g.w-=f.w;else{k=!0;g.l=b+1;g.w=1;var f={w:this.gridSize.w+1,h:this.gridSize.h},p=-1;for(m=0;m<this.gridSize.h;m++){var r=[];r.length=f.w;for(l=0;l<=b;l++)r[l]=this._tileInCell[m][l];
n=this._tileInCell[m][l-1];r[l]=n;n!==c&&n!==p&&(this._tileCellBox[n].w++,p=n);var u=n;for(l++;l<f.w;l++)n=this._tileInCell[m][l-1],r[l]=n,n!==u&&this._tileCellBox[n].t===m&&this._tileCellBox[n].l++,u=n;this._tileInCell[m]=r}m=[];m.length=f.w+1;for(l=0;l<=b;l++)m[l]=this._columnLeft[l];m[l]=this._columnLeft[l-1]+this._columnLeft[l]>>1;for(l++;l<=f.w;l++)m[l]=this._columnLeft[l-1];this._columnLeft=m;this._columnWeight=[];this._columnWeight.length=f.w;l=this.gridSize;this.gridSize=f;this._clearTileConversionTables();
this._refreshSplitters();this._updateWeights();this._queueGridSizeChangeNotification(l,f)}this._insertTile(g);k||this._coalesceColumn(b);this._updateSplitterVisibility();this._reactToSplit(c,"horizontal",h);this.layout();this.emit("tile_split",d,"vertical");this._pendingStateChangeNotification=!0;this._flushPendingNotifications()},_insertTile:function(a){var b=this.gridSize.w*this.gridSize.h,c=[];c.length=b;var d=[];d.length=b;var e=b=-1;0<a.l&&(b=this._tileInCell[a.t][a.l-1]);0<a.t&&(e=this._tileInCell[a.t-
1][this.gridSize.w-1]);b=b>e?b:e;for(e=0;e<=b;e++)c[e]=this._children[e],d[e]=this._tileCellBox[e];d[e]=a;for(this._recordOccupyingTile(a,e);e<this._tileCount;e++)c[e+1]=this._children[e],d[e+1]=this._tileCellBox[e],this._recordOccupyingTile(this._tileCellBox[e],e+1);this._tileCellBox=d;this._children=c;this._tileCount++},_mergeTiles:function(a,b){this._children[b]&&this.removeChildInTile(b,!1);var c=b<a?b:a;this._tileCellBox[c]=r.unionBox(this._tileCellBox[b],this._tileCellBox[a]);this._recordOccupyingTile(this._tileCellBox[c],
c);this._children[c]=this._children[a];this._tileCount--;for(c=b>a?b:a;c<this._tileCount;c++)this._children[c]=this._children[c+1],this._tileCellBox[c]=this._tileCellBox[c+1],this._recordOccupyingTile(this._tileCellBox[c],c);this._children[this._tileCount]=null},_coalesceRow:function(a){var b=this._tileInCell[a][0],c=this._tileCellBox[b].t,d=c+this._tileCellBox[b].h,e=d-c,f;for(f=1;f<this.gridSize.w&&1<e;f++)b=this._tileInCell[a][f],e=this._tileCellBox[b].t,e>c&&(c=e),b=e+this._tileCellBox[b].h,b<
d&&(d=b),e=d-c;if(1<e){a=-1;for(f=0;f<this.gridSize.w;f++)b=this._tileInCell[c][f],b!==a&&(this._tileCellBox[b].h-=e-1,a=b);var d={w:this.gridSize.w,h:this.gridSize.h-e+1},g=[];g.length=d.h;var h=[];h.length=d.h+1;for(a=0;a<=c;a++)g[a]=this._tileInCell[a],h[a]=this._rowTop[a];var k=[];k.length=d.w;for(f=0;f<k.length;f++)k[f]=-1;for(;a<d.h;a++){g[a]=this._tileInCell[a+e-1];h[a]=this._rowTop[a+e-1];var m=-1;for(f=0;f<this.gridSize.w;f++)b=g[a][f],b!==m&&(b!==k[f]&&b!==this._tileInCell[c][f])&&(this._tileCellBox[b].t-=
e-1,m=b,k[f]=b)}h[d.h]=this._rowTop[this.gridSize.h];c=this.gridSize;this.gridSize=d;this._tileInCell=g;this._rowTop=h;this._clearTileConversionTables();this._refreshSplitters();this._updateWeights();this._queueGridSizeChangeNotification(c,d)}},_coalesceColumn:function(a){var b=this._tileInCell[0][a],c=this._tileCellBox[b].l,d=c+this._tileCellBox[b].w,e=d-c,f;for(f=1;f<this.gridSize.h&&1<e;f++)b=this._tileInCell[f][a],e=this._tileCellBox[b].l,e>c&&(c=e),b=e+this._tileCellBox[b].w,b<d&&(d=b),e=d-c;
if(1<e){a=-1;for(f=0;f<this.gridSize.h;f++)b=this._tileInCell[f][c],b!==a&&(this._tileCellBox[b].w-=e-1,a=b);d={w:this.gridSize.w-e+1,h:this.gridSize.h};f=[];f.length=d.w+1;for(a=0;a<=c;a++)f[a]=this._columnLeft[a];for(;a<=d.w;a++)f[a]=this._columnLeft[a+e-1];this._columnLeft=f;var g=[];g.length=d.w;for(a=c;a<g.length;a++)g[a]=-1;for(f=0;f<this.gridSize.h;f++){var h=[];h.length=d.w;for(a=0;a<=c;a++)h[a]=this._tileInCell[f][a];for(var k=-1;a<d.w;a++)h[a]=this._tileInCell[f][a+e-1],b=h[a],b!==k&&(b!==
g[a]&&b!==this._tileInCell[f][c])&&(this._tileCellBox[b].l-=e-1,k=g[a]=b);this._tileInCell[f]=h}c=this.gridSize;this.gridSize=d;this._clearTileConversionTables();this._refreshSplitters();this._updateWeights();this._queueGridSizeChangeNotification(c,d)}},_recordOccupyingTile:function(a,b){var c=a.t+a.h,d=a.l+a.w,e,f;for(e=a.t;e<c;e++)for(f=a.l;f<d;f++)this._tileInCell[e][f]=b;this._clearTileConversionTables()},_updateWeights:function(){var a=this._getVisibleSplitterThickness(),b=this._rowTop[this.gridSize.h]-
this._rowTop[0]-(this.gridSize.h-1)*a,c=this._columnLeft[this.gridSize.w]-this._columnLeft[0]-(this.gridSize.w-1)*a,d;if(0<b)for(d=0;d<this.gridSize.h;d++)this._rowWeight[d]=(this._rowTop[d+1]-this._rowTop[d]-(d?a:0))/b;else this._rowWeight=this._getDefaultWeights(this.gridSize.h);if(0<c)for(b=0;b<this.gridSize.w;b++)this._columnWeight[b]=(this._columnLeft[b+1]-this._columnLeft[b]-(b?a:0))/c;else this._columnWeight=this._getDefaultWeights(this.gridSize.w);this.notifyStateWatchers("rowWeights",[],
this.get("rowWeights"));this.notifyStateWatchers("columnWeights",[],this.get("columnWeights"))},_updateSplitterVisibility:function(){var a,b,c,d,e,f;for(a=0;a<this.gridSize.h;a++){c=this._tileInCell[a][0];for(b=1;b<this.gridSize.w;b++)d=this._tileInCell[a][b],f=this._verticalSplitters[b-1][a],d===c?l.set(f,{visibility:"hidden"}):(l.set(f,{visibility:"visible"}),c=this._tileCellBox[c],e=this._tileCellBox[d],c.t===e.t&&c.h===e.h&&(1===e.h||a===e.t+Math.floor((e.h-1)/2))?(k.add(f,"removable"),0===(e.h&
1)?k.add(f,"shiftDot"):k.remove(f,"shiftDot")):k.remove(f,"removable"),c=d)}for(b=0;b<this.gridSize.w;b++){c=this._tileInCell[0][b];for(a=1;a<this.gridSize.h;a++)d=this._tileInCell[a][b],f=this._horizontalSplitters[a-1][b],d===c?l.set(f,{visibility:"hidden"}):(l.set(f,{visibility:"visible"}),c=this._tileCellBox[c],e=this._tileCellBox[d],c.l===e.l&&c.w===e.w&&(1===e.w||b===e.l+Math.floor((e.w-1)/2))?(k.add(f,"removable"),0===(e.w&1)?k.add(f,"shiftDot"):k.remove(f,"shiftDot")):k.remove(f,"removable"),
c=d)}},_getSplitterTopLocalUpperLimit:function(a,b){var c=b[this.gridSize.h],d,e,f,g,h;d=a+1;for(e=0;e<this.gridSize.w;e++,g=f)f=this._tileInCell[d][e],f!==g&&this._tileCellBox[f].t===d&&(g=this._tileCellBox[f].h,h=void 0,this._children[f]&&(h=this._children[f].properties.minimumHeight),void 0===h&&(h=this.minCellHeight*g),g=b[d+g]-h,g<c&&(c=g));return c},_getSplitterTopGlobalUpperLimit:function(a){var b,c=[];c.length=this.gridSize.h+1;c[this.gridSize.h]=this._rowTop[this.gridSize.h];for(b=this.gridSize.h-
2;b>=a;b--)c[b+1]=this._getSplitterTopLocalUpperLimit(b,c);return c[a+1]},_getSplitterTopLocalLowerLimit:function(a,b){var c=b[0],d,e,f,g;for(d=0;d<this.gridSize.w;d++,f=e)e=this._tileInCell[a][d],e!==f&&(f=this._tileCellBox[e].h,this._tileCellBox[e].t+f-1===a&&(g=void 0,this._children[e]&&(g=this._children[e].properties.minimumHeight),void 0===g&&(g=this.minCellHeight*f),f=b[a-f+1]+g,f>c&&(c=f)));return c},_getSplitterTopGlobalLowerLimit:function(a){var b,c=[];c.length=this.gridSize.h+1;c[0]=this._rowTop[0];
for(b=0;b<=a;b++)c[b+1]=this._getSplitterTopLocalLowerLimit(b,c);return c[a+1]},_getSplitterLeftLocalUpperLimit:function(a,b){var c=b[this.gridSize.w],d,e,f,g,h;e=a+1;for(d=0;d<this.gridSize.h;d++,g=f)f=this._tileInCell[d][e],f!==g&&this._tileCellBox[f].l===e&&(g=this._tileCellBox[f].w,h=void 0,this._children[f]&&(h=this._children[f].properties.minimumWidth),void 0===h&&(h=this.minCellWidth*g),g=b[e+g]-h,g<c&&(c=g));return c},_getSplitterLeftGlobalUpperLimit:function(a){var b,c=[];c.length=this.gridSize.w+
1;c[this.gridSize.w]=this._columnLeft[this.gridSize.w];for(b=this.gridSize.w-2;b>=a;b--)c[b+1]=this._getSplitterLeftLocalUpperLimit(b,c);return c[a+1]},_getSplitterLeftLocalLowerLimit:function(a,b){var c=b[0],d,e,f,g;for(d=0;d<this.gridSize.h;d++,f=e)e=this._tileInCell[d][a],e!==f&&(f=this._tileCellBox[e].w,this._tileCellBox[e].l+f-1===a&&(g=void 0,this._children[e]&&(g=this._children[e].properties.minimumWidth),void 0===g&&(g=this.minCellWidth*f),f=b[a-f+1]+g,f>c&&(c=f)));return c},_getSplitterLeftGlobalLowerLimit:function(a){var b,
c=[];c.length=this.gridSize.w+1;c[0]=this._columnLeft[0];for(b=0;b<=a;b++)c[b+1]=this._getSplitterLeftLocalLowerLimit(b,c);return c[a+1]},_superRemoveChild:function(a){p.prototype.removeChild.apply(this,[a])},getState:function(){var a,b={gridSize:this.gridSize,tileCount:this._tileCount,tileCellBox:[],referenceWidth:this._referenceWidth||0,referenceHeight:this._referenceHeight||0,columnWeight:this._columnWeight.slice(0,this.gridSize.w),rowWeight:this._rowWeight.slice(0,this.gridSize.h),columnLeft:this._columnLeft.slice(0),
rowTop:this._rowTop.slice(0)};b.tileCellBox.length=this._tileCount;for(a=0;a<this._tileCount;a++)b.tileCellBox[a]=e.clone(this._tileCellBox[a]);return b},setState:function(a){var b,c;this.gridSize=a.gridSize;this._tileCount=a.tileCount;this._referenceWidth=a.referenceWidth;this._referenceHeight=a.referenceHeight;this._columnWeight=a.columnWeight.slice(0);this._rowWeight=a.rowWeight.slice(0);a.columnLeft?this._columnLeft=a.columnLeft.slice(0):(this._columnLeft=[],this._columnLeft.length=this.gridSize.w+
1,this._referenceWidth=0);a.rowTop?this._rowTop=a.rowTop.slice(0):(this._rowTop=[],this._rowTop.length=this.gridSize.h+1,this._referenceHeight=0);this._tileCellBox=[];this._tileCellBox.length=a.tileCellBox.length;for(c=0;c<a.tileCellBox.length;c++)this._tileCellBox[c]=e.clone(a.tileCellBox[c]);a=this._children;this._children=[];this._children.length=this._tileCount;b=Math.min(a.length,this._children.length);for(c=0;c<b;c++)this._children[c]=a[c];for(;c<a.length;c++)a[c]&&(this._superRemoveChild(a[c].widget),
this.emit(u.CHILD_REMOVED,a[c].widget,a[c].properties));this._tileInCell=[];this._tileInCell.length=this.gridSize.h;for(c=0;c<this.gridSize.h;c++)this._tileInCell[c]=[],this._tileInCell[c].length=this.gridSize.w;for(c=0;c<this._tileCount;c++)this._recordOccupyingTile(this._tileCellBox[c],c);this._clearTileConversionTables();this._refreshSplitters();this._updateSplitterVisibility();this.layout()},_setTileCoverageAttr:function(a){if(!this._areCoveragesEqual(a,this._tileInCell)){this._isSettingTileCoverage=
!0;a=this._convertTileCoverageToState(a);var b=this._prepareForGridSizeChange(a.gridSize),c=this._children;this.setState(a);this._redistributeChildren(c);this._reactToGridSizeChange(b);this.notifyStateWatchers("tileCoverage",{},this._tileInCell);this._isSettingTileCoverage=!1}},_getTileCoverageAttr:function(){var a=[],b;a.length=this._tileInCell.length;for(b=0;b<this._tileInCell.length;b++)a[b]=this._tileInCell[b].slice(0,this.gridSize.w);return a},_areCoveragesEqual:function(a,b){if(a.length!==b.length)return!1;
var c,d;for(c=0;c<a.length;c++){if(a[c].length!==b[c].length)return!1;for(d=0;d<a[c].length;d++)if(a[c][d]!==b[c][d])return!1}return!0},_convertTileCoverageToState:function(a){var b={h:a.length,w:a[0].length};a={gridSize:b,tileCellBox:this._getTileCellBoxesFromTileCoverage(a),columnWeight:b.w!==this.gridSize.w?this._getDefaultWeights(b.w):this._columnWeight.slice(0),rowWeight:b.h!==this.gridSize.h?this._getDefaultWeights(b.h):this._rowWeight.slice(0)};a.tileCount=a.tileCellBox.length;return a},_getTileCellBoxesFromTileCoverage:function(a){var b=
[],c,d,e,f,g,h;for(c=0;c<a.length;c++)for(d=0;d<a[c].length;d++)if(e=a[c][d],e>=b.length){f=c+1;for(h=1;f<a.length&&a[f][d]===e;f++,h++);f=d+1;for(g=1;f<a[c].length&&a[c][f]===e;f++,g++);b.push({l:d,t:c,w:g,h:h})}return b},_queueGridSizeChangeNotification:function(a,b){if(a.w!==b.w||a.h!==b.h)this._pendingGridSizeNotification={oldSize:a,newSize:b}},_flushPendingNotifications:function(){var a=this,b;this._pendingGridSizeNotification&&(this.notifyStateWatchers("gridSize",this._pendingGridSizeNotification.oldSize,
this._pendingGridSizeNotification.newSize),this.notifyStateWatchers("tileCoverage",{},this._tileInCell),delete this._pendingGridSizeNotification,b=!0);if(this._pendingStateChangeNotification||b)delete this._pendingStateChangeNotification,setTimeout(function(){a.emit(u.STATE_CHANGED);a.notifyStateWatchers("tileCoverage",{},a._tileInCell)},0)},_prepareForGridSizeChange:function(a){},_reactToGridSizeChange:function(a){},_prepareForMerge:function(a,b){},_reactToMerge:function(a,b,c){},_prepareForSplit:function(a,
b){},_reactToSplit:function(a,b,c){}});g.GRID_SIZE="gridSize";g.ROW_WEIGHTS="rowWeights";g.COLUMN_WEIGHTS="columnWeights";g.TILE_COVERAGE="tileCoverage";g.ROW_MAJOR="rowMajor";g.COLUMN_MAJOR="columnMajor";g.VERTICAL="vertical";g.HORIZONTAL="horizontal";g.TILE_SPLIT="tile_split";g.TILES_MERGED="tiles_merged";g.areStatesSimilar=function(a,b){if(a.gridSize.w!==b.gridSize.w||a.gridSize.h!==b.gridSize.h||a.tileCount!==b.tileCount)return!1;var c;for(c=0;c<a.tileCount;c++)if(!r.areBoxesEqual(a.tileCellBox[c],
b.tileCellBox[c]))return!1;for(c=0;c<a.columnWeight;c++)if(0.005<Math.abs(a.columnWeight[c]-b.columnWeight[c]))return!1;for(c=0;c<a.rowWeight.length;c++)if(0.005<Math.abs(a.rowWeight[c]-b.rowWeight[c]))return!1;return!0};return g})},"MW/layout/TileTabContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on dojo/Stateful dojo/touch MW/layout/Geometry MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/SelectionBlocker MW/layout/TabContainer MW/layout/TileContainer mw-log/Log".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x){g=g([u],{animationEnabled:!0,showSingleChildTab:!0,tileByDragEnabled:!0,dragBetweenTilesEnabled:!0,userTilingEnabled:!0,_tabContainerCount:0,_tileUpdateDepth:0,tabContainerClass:t,constructor:function(){this._properties={}},postMixInProperties:function(){this.offerSplitterRemoveButtons=this.userTilingEnabled;this.inherited(arguments);var a={tabPosition:"top",isContentBorderVisible:!1,tabReorderingEnabled:!0,tabsRepositioningEnabled:!0,tabWidthAdjustmentEnabled:!0,
plusDropDownEnabled:!1,selectionHighlightingEnabled:!0,tabAnimationEnabled:!0},b;if(this.tabProperties)for(b in a)void 0===this.tabProperties[b]&&(this.tabProperties[b]=a[b]);else this.tabProperties=a},postCreate:function(){var a=this;this.inherited(arguments);this._addTabContainers();this.watch("animationEnabled",function(a,b,c){this._getTabContainers().forEach(function(a){a.set("tabAnimationEnabled",c)})});this.showSingleChildTab||this.watch(u.GRID_SIZE,function(b,c,d){a._getTabContainers().forEach(function(b){b.set(t.HIDE_SINGLE_TAB,
1===a._tileCount||!a.userTilingEnabled)})})},addWithProperties:function(a,b,c){this._isInternalAdd?this.inherited(arguments):(this._bindChildProperties(a,b),this.addChild(a,c))},addChild:function(a,b){var c,d,e;this._isInternalAdd?this.inherited(arguments):(c=this._properties[a.id],c||(c=a,this._bindChildProperties(a,c)),x.assert(c.title,"No title specified for "+a.id),void 0===c.closable&&(c.closable=!0),void 0===b&&(b=-1),this._pendingState&&(d=this._getTileForChildFromState(this._pendingState,
c.childId||c.title),0<=d?b=d:(0<=b&&b<this._tileCount&&(this._addToTabContainer(b,a,c,void 0,!0,!0===this._isAddingBack),e=!0),this.endStateRestore())),e||(0>b&&(b=void 0===c.tile?this._chooseTile():c.tile),b=Math.max(0,Math.min(b,this._tileCount-1)),this._addToTabContainer(b,a,c,void 0,!0,!0===this._isAddingBack),this.isRestoringState()&&!this._areAnyTabContainersRestoringState()&&this.endStateRestore()),this._isAddingBack||this.emit(s.CHILD_ADDED,a,c),this.emit(s.STATE_CHANGED))},removeChild:function(a){if(this._isInternalRemove)this.inherited(arguments);
else{var b=a.getParent();b&&b.removeChild(a,!0===this._isTemporaryRemove)}},removeAll:function(a){this._getTabContainers().forEach(function(b){b.removeAll(a)})},isEmpty:function(){var a=!0,b=this._getTabContainers(),c;for(c=0;c<b.length&&a;c++)a=b[c].isEmpty();return a},getEmptyTileCount:function(){var a=0,b=this._getTabContainers(),c;for(c=0;c<b.length;c++)b[c].isEmpty()&&a++;return a},getGrandChildren:function(a){var b=[],c=this._getTabContainers(),d=this,e;for(e=0;e<c.length;e++)c[e].getChildrenInTabOrder().forEach(function(c){(!a||
a(c,d._getProperties(c)))&&b.push(c)});return b},getGrandChildCount:function(){var a=0,b=this._getTabContainers(),c;for(c=0;c<b.length;c++)a+=b[c].getChildren().length;return a},eliminateEmptyTiles:function(){for(var a,b,c,d=!0;d;)if(d=!1,b=this.getChildrenInTileOrder(),1<b.length)for(a=0;a<b.length;a++)if(b[a].isEmpty()&&(c=this.eliminateTile(a))){c.destroyRecursive();d=!0;break}},_bindChildProperties:function(a,b){var c=[];if(this._isInternalAdd)this.inherited(arguments);else{this._properties[a.id]=
b;b.watch&&(b.set&&b.get)&&this._addChildWatches(a,b,c);var d=this._getUnbindingKey(a);b[d]=function(){c.forEach(function(a){a.remove()});delete b[d]}}},_unbindChildProperties:function(a,b){var c=this._getUnbindingKey(a);if(b[c])b[c]()},_addChildWatches:function(a,b,c){var d=this,e=b.watch(q.TILE,function(c,e,f){d._tileUpdateDepth||(c=d._getTileContainingChild(a),0>f||f>=d._tileCount?(d._tileUpdateDepth++,b.set(q.TILE,c),d._tileUpdateDepth--):f!==c&&(c=b.get(q.IS_SHOWING)||d.getChildInTile(f).isEmpty(),
d._moveChild(a,e,f,c)))});c.push(e)},_getUnbindingKey:function(a){return"_"+this.id+a.id+"Unbind"},_createTabContainer:function(){var b=this;this.tabProperties.id=this.id+"TabContainer"+this._tabContainerCount++;this.tabProperties.hideSingleTab=!this.showSingleChildTab&&(1===this._tileCount||!this.userTilingEnabled);var c=new this.tabContainerClass(this.tabProperties);c.own(a.around(c,"removeChild",function(a){return function(d,e){var f=b._properties[d.id],g=f.get(q.IS_SELECTED);a.call(this,d,e||
!b._interactiveClose,!1);b._handleChildRemove(b.getTileContaining(c),d,f,g)}}));c.own(a.around(c,"closeChild",function(a){return function(c,d,e){b._interactiveClose=e;a.call(this,c,d,e,!1);delete b._interactiveClose}}));c.own(c.on(s.STATE_CHANGED,function(){b.emit(s.STATE_CHANGED)}));this.userTilingEnabled&&this.dragBetweenTilesEnabled&&c.own(c.on(s.DRAG_OUT,e.hitch(this,"_beginChildDrag",c)));return c},_chooseTile:function(){var a,b=this.getChildrenInTileOrder();for(a=0;a<this._tileCount-1&&!b[a].isEmpty();a++);
return a},_destroyTabContainer:function(a){a.destroyRecursive()},_addTabContainer:function(a,b){this._isInternalAdd=!0;this.addWithProperties(a,new l({tile:b,minimumWidth:100,minimumHeight:100}));this._isInternalAdd=!1},_removeTabContainer:function(a){this._isInternalRemove=!0;var b=this;this.getChildInTile(a).getChildren().forEach(function(a){p.saveScrollPosition(a,b._getProperties(a))});a=this.removeChildInTile(a,!1);this._isInternalRemove=!1;return a},_addToTabContainer:function(a,b,c,d,f,g){var h=
this.getChildInTile(a);x.assert(h,"No tab container in tile");c!==b?h.addWithProperties(b,c,d,f,g):h.addChild(b,d,f,g);c.tile!==a&&(this._tileUpdateDepth++,c.set(q.TILE,a),this._tileUpdateDepth--);!1!==f&&setTimeout(e.partial(p.restoreScrollPosition,b,c),0)},_getProperties:function(a){return this._properties[a.id]},_getTabContainers:function(){return this.getChildrenInTileOrder()},_getTileContainingChild:function(a){return(a=a.getParent())?this.getTileContaining(a):-1},_updateTiles:function(){var a=
this,b,c;this._tileUpdateDepth++;for(b=0;b<this._tileCount;b++)(c=this.getChildInTile(b))&&!c.isEmpty()&&c.getChildrenInTabOrder().forEach(function(c){a._getProperties(c).set(q.TILE,b)});this._tileUpdateDepth--},_removeChildrenFromTabContainer:function(a,b,c){var d=this;this._isTemporaryRemove=!0;a.setSuppressSuccession(!0);a.getChildrenInTabOrder().forEach(function(e){d._removeChildFromTabContainer(e,a,b,c)});a.setSuppressSuccession(!1);this._isTemporaryRemove=!1},_removeChildFromTabContainer:function(a,
b,c,d){var e={widget:a,properties:this._getProperties(a)};if(!d||d(e.widget,e.properties))c.push(e),p.saveScrollPosition(e.widget,e.properties),b.removeChild(a,!0)},_handleChildRemove:function(a,b,c,d){!this._isTemporaryRemove&&(!this._destroyed&&!this._beingDestroyed)&&(this.getChildInTile(a).isEmpty()&&this._shouldEliminateEmptyTile()&&(a=this.eliminateTile(a))&&a.destroyRecursive(),this._unbindChildProperties(b,c),delete this._properties[b.id],this.emit(s.CHILD_REMOVED,b,c),this.emit(s.STATE_CHANGED))},
_shouldEliminateEmptyTile:function(){return this.tileByDragEnabled&&(3>=this._tileCount&&!this._childDragInfo||this._childDragInfo&&(1<this.getChildInTile(this._childDragInfo.tile).getChildrenInTabOrder().length||this._tileCount>this._childDragInfo.initialTileCount))},_prepareForGridSizeChange:function(a){var b=this,c={tabContainerInfo:this._children,childInfo:[]};a=a.w*a.h;var d,e;if(2!==this._tileCount||2!==a){if(1===this._tileCount&&2===a&&(a=c.tabContainerInfo[0].widget,d=a.get(t.SHOWING_CHILD))){c.splitIndex=
Math.max(1,b._getProperties(d).get(q.INDEX));this._isTemporaryRemove=!0;d=a.getChildrenInTabOrder();for(e=c.splitIndex;e<d.length;e++)b._removeChildFromTabContainer(d[e],a,c.childInfo);this._isTemporaryRemove=!1}void 0===c.splitIndex&&(this._isTemporaryRemove=!0,c.tabContainerInfo.forEach(function(a){a&&b._removeChildrenFromTabContainer(a.widget,c.childInfo)}),this._isTemporaryRemove=!1)}return c},_reactToGridSizeChange:function(a){var b,c;this._addTabContainers();for(b=this._tileCount;b<a.tabContainerInfo.length;b++)if(c=
a.tabContainerInfo[b])this._superRemoveChild(c.widget),c.widget.destroyRecursive();this._distributeChildrenFollowingGridSizeChange(a)},_distributeChildrenFollowingGridSizeChange:function(a){var b=this,c=a.splitIndex?1:0,d=0,e=0;a.childInfo.forEach(function(a){a&&(delete a.properties.index,b._addToTabContainer(c,a.widget,a.properties,void 0,!e,!0),e++,d++,c<b._tileCount-1&&(c++,e=0))})},_prepareForMerge:function(a,b){var c=this,d={removedTabContainers:[],removedChildren:[]};b.forEach(function(a){a=
c.getChildInTile(a);d.removedTabContainers.push(a);c._removeChildrenFromTabContainer(a,d.removedChildren)});return d},_reactToMerge:function(a,b,c){var d=this,e=this.getChildInTile(a).isEmpty();c.removedChildren.forEach(function(b){delete b.properties.index;d._addToTabContainer(a,b.widget,b.properties,void 0,e,!0);e=!1});this._updateTiles();c.removedTabContainers.forEach(function(a){a.destroyRecursive()})},_reactToSplit:function(a,b){var c,d,e,f;if(!this._suppressRedistribution){c=this._tileCellBox[a];
c="vertical"===b?this._tileInCell[c.t+1][c.l]:this._tileInCell[c.t][c.l+1];this._addTabContainer(this._createTabContainer(),c);d=this.getChildInTile(a);e=d.get(t.SHOWING_CHILD);d=d.getChildrenInTabOrder();e=Math.max(1,d.indexOf(e));for(f=!0;e<d.length;e++)this._moveChild(d[e],a,c,f),f=!1}this._updateTiles()},_beginChildDrag:function(a,b){var c=b.setId?a.getSetMembersInTabOrder(b.setId):[b.widget];if(this.getGrandChildren().length>c.length||1<this._tileCount)this._childDragInfo={children:c,initialTileCount:this._tileCount,
sourceContainer:a,startTile:this.getTileContaining(a),startX:b.mousePoint.x,startY:b.mousePoint.y,connections:[d(this.ownerDocument,m.move,e.hitch(this,"_continueChildDrag")),d(this.ownerDocument,m.release,e.hitch(this,"_endChildDrag"))]},r.blockUntilRelease(this.domNode)},_continueChildDrag:function(a){var b=this._childDragInfo,c,d,f,g,m,l;!b.hasMoved&&10<=Math.abs(a.pageY-b.startY)&&(b.hasMoved=!0,c=k.position(this.domNode),b.pageXOffset=c.x,b.pageYOffset=c.y);if(b.hasMoved&&(c=a.pageX-b.pageXOffset,
d=a.pageY-b.pageYOffset,a=this._getCellFromPoint(c,d))){a=this._tileInCell[a.row][a.column];f=this.getTilePixelBox(a);g=this.getChildInTile(a);m=g.getChildrenInTabOrder();l=g.getTabBar();l=k.getMarginBox(l.domNode);l.l+=f.l;l.t+=f.t;if(g.isEmpty()||!this.tileByDragEnabled||1===m.length&&m[0]===b.children[0]||this.restrictToSingleSplit&&1<this._tileCount&&b.sourceContainer.getTabCount()>b.children.length||n.boxContains(l,c,d))c="center";else if(c=n.getNearestBorder(f,c,d,0.25),this.getChildInTile(b.startTile).getTabCount()===
b.children.length&&(d=this.getAdjacency(b.startTile,a),d===c||d===n.oppositeRegion(c)))c="center";if(a!==b.tile||c!==b.border){b.tile=a;b.border=c;a=e.clone(f);if("top"===c||"bottom"===c)f=a.h/2,a.h=f,"bottom"===c&&(a.t+=f);else if("left"===c||"right"===c)f=a.w/2,a.w=f,"right"===c&&(a.l+=f);b.targetIndicator||(this._addDropTargetIndicator(b),h.set(b.targetIndicator,{display:"block"}));k.setMarginBox(b.targetIndicator,a)}}},_endChildDrag:function(a){var b=this,c=this._childDragInfo,d,e,f,g;if(c.hasMoved){if((c.startTile!==
c.tile||"center"!==c.border)&&"center"!==c.border)c.tile=this._splitTile(c.tile,c.border),c.startTile=this._getTileContainingChild(c.children[0]);g=!0;if(c.startTile!==c.tile&&(1<c.children.length&&(g=!1,d=this.getChildInTile(c.startTile).getChildrenInShowOrder()),c.children.forEach(function(a){b._moveChild(a,c.startTile,c.tile,g)}),1<c.children.length)){f=c.children[0].getParent();for(a=d.length-1;0<=a;a--)if(e=d[a],0<=c.children.indexOf(e)){f.showChild(e);break}}this._removeDropTargetIndicator(c)}c.connections.forEach(function(a){a.remove()});
delete this._childDragInfo},_splitTile:function(a,b){var c;c=this._tileCellBox[a];this._suppressRedistribution=!0;"top"===b||"bottom"===b?(this.splitTopBottom(c.t,c.l),c=this._tileInCell[c.t+1][c.l]):(this.splitLeftRight(c.t,c.l),c=this._tileInCell[c.t][c.l+1]);this._suppressRedistribution=!1;"top"===b||"left"===b?(this._addTabContainer(this._removeTabContainer(a),c),this._addTabContainer(this._createTabContainer(),a),c=a):this._addTabContainer(this._createTabContainer(),c);return c},_addDropTargetIndicator:function(a){a.targetIndicator=
f.create("div",{id:this.domNode.id+"DropIndicatorBox"},this.domNode);b.add(a.targetIndicator,"dropIndicatorBox")},_removeDropTargetIndicator:function(a){a.targetIndicator&&(f.destroy(a.targetIndicator),delete a.targetIndicator)},_moveChild:function(a,b,c,d){var e=this.getChildInTile(b),f=this._getProperties(a);this._isTemporaryRemove=!0;p.saveScrollPosition(a,f);e.removeChild(a,!0);f.set(q.INDEX,void 0);this._isTemporaryRemove=!1;this._addToTabContainer(c,a,f,void 0,d,!0);e.isEmpty()&&this._shouldEliminateEmptyTile()&&
(a=this.eliminateTile(b,c))&&a.destroyRecursive()},getState:function(){var a,b=this.inherited(arguments);b.tileStates=[];b.tileStates.length=this._tileCount;for(a=0;a<this._tileCount;a++)b.tileStates[a]=this.getChildInTile(a).getState();return b},setState:function(a){var b=this,c,d,e;this._pendingState=a;c=this._getTabContainers();var f=[],g=[];c.forEach(function(a){b._removeChildrenFromTabContainer(a,f)});this.inherited(arguments);this.showSingleChildTab||this._getTabContainers().forEach(function(a){a.set(t.HIDE_SINGLE_TAB,
1<b._tileCount||!b.userTilingEnabled)});this._addTabContainers();if(a.tileStates)for(d=0;d<this._tileCount;d++)this.getChildInTile(d).setState(a.tileStates[d]);c.forEach(function(a){a.getParent()||a.destroyRecursive()});for(c=0;c<f.length;c++)e=f[c],d=e.properties.childId||e.properties.title,d=this._getTileForChildFromState(a,d),0<=d?this._addToTabContainer(d,e.widget,e.properties,void 0,!0,!0):g.push(e);if(g.length){for(c=0;c<g.length;c++)e=g[c],d=this._chooseTile(),this._addToTabContainer(d,e.widget,
e.properties,void 0,!0,!0);this.endStateRestore()}this._areAnyTabContainersRestoringState()||delete this._pendingState},isRestoringState:function(){return!!this._pendingState},endStateRestore:function(){delete this._pendingState;var a;for(a=0;a<this._tileCount;a++)this.getChildInTile(a).endStateRestore()},_getTileForChildFromState:function(a,b){var c;for(c=0;c<a.tileStates.length;c++)if(t.stateIncludes(a.tileStates[c],b))return c;return-1},_areAnyTabContainersRestoringState:function(){var a;for(a=
0;a<this._tileCount;a++)if(this.getChildInTile(a).isRestoringState())return!0;return!1},_addTabContainers:function(){var a;for(a=0;a<this._tileCount;a++)this._children[a]||this._addTabContainer(this._createTabContainer(),a)},eliminateTile:function(){var a=this.inherited(arguments);a&&this._updateTiles();return a},emit:function(a,b,c){(a!==s.CHILD_ADDED&&a!==s.CHILD_REMOVED||!b||!b.isInstanceOf(t))&&this.inherited(arguments)}});g.areStatesSimilar=function(a,b){if(!u.areStatesSimilar(a,b))return!1;
var c,d,e,f,g,h;for(c=0;c<a.tileStates.length;c++){d=a.tileStates[c].children;e=b.tileStates[c].children;for(f=0;f<d.length;f++){h=d[f].childId;for(g=0;g<e.length&&h!==e[g].childId;g++);if(g===e.length)return!1}}return!0};return g})},"mw-utils/allApprove":function(){define(["dojo/Deferred"],function(g){return function(c){var e=new g,a=0;(function f(){if(a===c.length)e.resolve();else{var g=c[a++]();g&&"function"===typeof g.then?g.then(function(){f()},function(){e.reject()}):g?f():e.reject()}})();return e.promise}})},
"MW/GridPicker":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/Evented dojo/keys dojo/on dojo/touch dijit/_WidgetBase".split(" "),function(g,c,e,a,b,f,k,h,d){g=g([d,b],{maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",_highlightedRows:0,_highlightedColumns:0,_lastSelectedRows:0,_lastSelectedColumns:0,buildRendering:function(){this.inherited(arguments);this.domNode.classList.add("gridPicker");this.domNode.setAttribute("tabindex",0);this._createGrid()},postCreate:function(){this.inherited(arguments);
this.domNode.addEventListener("mousemove",this._highlightSelection.bind(this),!0);this.domNode.addEventListener("click",this._commitSelection.bind(this));this.domNode.addEventListener("mouseleave",this._clearHighlighting.bind(this))},getLastSelectedRowCount:function(){return this._lastSelectedRows},getLastSelectedColumnCount:function(){return this._lastSelectedColumns},navigate:function(a){var b=!1,c=!1;0!==this._highlightedRows&&0!==this._highlightedColumns&&(b=!0);switch(a.keyCode){case f.DOWN_ARROW:b?
this.highlightCells(this._highlightedRows,this._highlightedColumns-1):this.highlightCells(0,0);c=!0;break;case f.UP_ARROW:b&&this.highlightCells(this._highlightedRows-2,this._highlightedColumns-1);c=!0;break;case f.RIGHT_ARROW:b&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns);c=!0;break;case f.LEFT_ARROW:b&&this.highlightCells(this._highlightedRows-1,this._highlightedColumns-2);c=!0;break;case f.ENTER:this._commitSelection();this._clearHighlighting();c=!0;break;case f.TAB:b?
this._highlightedColumns<this.maxColumns?this.highlightCells(this._highlightedRows-1,this._highlightedColumns):this._highlightedRows<this.maxRows&&this.highlightCells(this._highlightedRows,0):this.highlightCells(0,0);c=!0;break;case f.ESCAPE:this._clearHighlighting()}return c},highlightCells:function(a,b){var c,d,e=0;if(void 0!==a&&void 0!==b)if(this._highlightedRows=a+1,this._highlightedColumns=b+1,"rowMajor"===this.fillOrder)for(c=0;c<this.maxRows;c++)for(d=0;d<this.maxColumns;d++)c<=a&&d<=b?(this._cells[c][d].classList.add("selected"),
e<this.occupancy?this._cells[c][d].classList.add("occupied"):this._cells[c][d].classList.remove("occupied"),e++):this._cells[c][d].classList.remove("selected");else for(d=0;d<this.maxColumns;d++)for(c=0;c<this.maxRows;c++)c<=a&&d<=b?(this._cells[c][d].classList.add("selected"),e<this.occupancy?this._cells[c][d].classList.add("occupied"):this._cells[c][d].classList.remove("occupied"),e++):this._cells[c][d].classList.remove("selected")},_createGrid:function(){var a,b,c;this._cells=[];this._cells.length=
this.maxRows;for(a=0;a<this.maxRows;a++){this._cells[a]=[];this._cells[a].length=this.maxColumns;for(b=0;b<this.maxColumns;b++)c=document.createElement("button"),c.setAttribute("id",this.id+"Cell"+a+"_"+b),c.setAttribute("tabindex","0"),this.domNode.appendChild(c),c.classList.add("cell"),c.row=a,c.col=b,this._cells[a][b]=c;a<this.maxRows&&(b=document.createElement("br"),this.domNode.appendChild(b))}},_highlightSelection:function(a){this.highlightCells(a.target.row,a.target.col)},_clearHighlighting:function(){var a,
b;for(a=0;a<this._highlightedRows;a++)for(b=0;b<this._highlightedColumns;b++)this._cells[a][b].classList.remove("selected");this._highlightedColumns=this._highlightedRows=0},_commitSelection:function(){this._lastSelectedRows=this._highlightedRows;this._lastSelectedColumns=this._highlightedColumns;this.emit("gridSelectionChanged",{rows:this._lastSelectedRows,columns:this._lastSelectedColumns})},startup:function(){this.inherited(arguments)},destroy:function(){this.domNode.removeEventListener("mousemove",
this._highlightSelection.bind(this),!0);this.domNode.removeEventListener("click",this._commitSelection.bind(this));this.domNode.removeEventListener("mouseleave",this._clearHighlighting.bind(this));this.inherited(arguments)}});g.ROW_MAJOR="rowMajor";g.COLUMN_MAJOR="columnMajor";g.SELECTION_CHANGED="gridSelectionChanged";return g})},"MW/layout/DocumentContainerActions":function(){define(["dojo/_base/declare","MW/layout/DocumentContainer","MW/layout/LayoutContainerEvent","dojo/i18n!l10n/nls/layout"],
function(g,c,e,a){var b=g(null,{constructor:function(b){g.safeMixin(this,b);this.selected=this.enabled=!1;this.text=a[b.id.replace("layout.","")+"Label"]}}),f=["layout.noSplit","layout.leftRightSplit","layout.topBottomSplit"],k=["layout.tabsToTop","layout.tabsToBottom","layout.tabsToLeft","layout.tabsToRight"],h=g(null,{constructor:function(a){var b=this;this.actionService=a;this.actions=[];var e=[c.NO_SPLIT,c.LEFT_RIGHT_SPLIT,c.TOP_BOTTOM_SPLIT];for(a=0;a<f.length;a+=1)this.actions.push(this._createSplitAction(f[a],
e[a]));e=["top","bottom","left","right"];for(a=0;a<k.length;a+=1)this.actions.push(this._createTabPositionAction(k[a],e[a]));this.actionService.loadActions(this.actions);this.actions.forEach(function(a){b.actionService.addActionChangeCallback(a.id,function(c){"selected"===c.property&&(c.newValue&&!b._respondingToWatch?b.actionService.executeAction(a.id):a.updateSelection())})})},setContainer:function(a){var b=this;a?(this._documentContainer=a,a.on(e.CHILD_ADDED,function(){b._updateSplitActionEnables()}),
a.on(e.CHILD_REMOVED,function(){b._updateSplitActionEnables()}),a.watch(c.ARRANGEMENT,function(){b._respondingToWatch=!0;b._updateSplitActionSelections();b._respondingToWatch=!1}),a.watch(c.TAB_POSITION,function(){b._respondingToWatch=!0;b._updatePositionActionSelections();b._respondingToWatch=!1})):this._documentContainer&&(b._documentContainer=null);this._updateSplitActionSelections();this._updateSplitActionEnables();this._updatePositionActionEnables();this._updatePositionActionSelections()},_createSplitAction:function(a,
e){var f=this;return new b({id:a,callback:function(){f._documentContainer&&f._documentContainer.set(c.ARRANGEMENT,e)},updateSelection:function(){var a=!1;f._documentContainer&&(a=f._documentContainer.get(c.ARRANGEMENT)===e);f.actionService.updateAction(this.id,{selected:a})}})},_createTabPositionAction:function(a,e){var f=this,g=new b({id:a,callback:function(){f._documentContainer&&(f._documentContainer.set(c.TAB_POSITION,e),g.updateSelection())},updateSelection:function(){f._documentContainer&&f.actionService.updateAction(this.id,
{selected:f._documentContainer.get(c.TAB_POSITION)===e})}});return g},_updateSplitActionEnables:function(){var a={enabled:!!this._documentContainer&&2<=this._documentContainer.getDocumentCount()};this.actionService.updateAction("layout.noSplit",{enabled:!!this._documentContainer});this.actionService.updateAction("layout.leftRightSplit",a);this.actionService.updateAction("layout.topBottomSplit",a)},_updateSplitActionSelections:function(){var a;for(a=0;3>a;a+=1)this.actions[a].updateSelection()},_updatePositionActionEnables:function(){var a=
this,b={enabled:!!this._documentContainer};k.forEach(function(c){a.actionService.updateAction(c,b)})},_updatePositionActionSelections:function(){var a;for(a=3;a<this.actions.length;a+=1)this.actions[a].updateSelection()}});h.NO_SPLIT="layout.noSplit";h.LEFT_RIGHT_SPLIT="layout.leftRightSplit";h.TOP_BOTTOM_SPLIT="layout.topBottomSplit";h.TABS_TO_TOP="layout.tabsToTop";h.TABS_TO_BOTTOM="layout.tabsToBottom";h.TABS_TO_LEFT="layout.tabsToLeft";h.TABS_TO_RIGHT="layout.tabsToRight";return h})},"MW/layout/MainContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/has dojo/mouse dojo/on dojo/Stateful dojo/touch dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/registry dijit/layout/ContentPane MW/layout/BorderContainer MW/layout/BottomContainer MW/layout/Geometry MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/PanelContainer MW/layout/PanelDragger MW/layout/Restorable MW/layout/SelectionManager MW/layout/SideContainer MW/layout/StatefulExtension".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A){var z=g([w],{constructor:function(a){this._mainContainer=a},_continueDrag:function(a){var b=m.position(this._mainContainer.domNode);b.l=b.x;b.t=b.y;var c,d,e,f,g;this._mainContainer.getChildInRegion("top")&&(e=this._mainContainer.getFreeDimension("top"),b.t+=e,b.h-=e);if(a.pageX>=b.l&&a.pageX<=b.l+b.w&&a.pageY>=b.t&&a.pageY<=b.t+b.h){e=f=b.w/8;g=b.h/8;switch(this._originInfo.region){case "left":e=Math.min(e,this._originInfo.containerSize.w);
break;case "right":f=Math.min(f,this._originInfo.containerSize.w);break;case "bottom":g=Math.min(g,this._originInfo.containerSize.h)}!this._mainContainer._getPanelContainerInRegion("left")&&a.pageX<b.l+e?c="left":!this._mainContainer._getPanelContainerInRegion("right")&&a.pageX>b.l+b.w-f?c="right":!this._mainContainer._getPanelContainerInRegion("bottom")&&(a.pageY>b.t+b.h-g&&a.pageX>b.l+this._mainContainer.getFreeDimension("left")&&a.pageX<b.l+b.w-this._mainContainer.getFreeDimension("right"))&&(c=
"bottom")}c&&this._isDragInPermitted(this._originInfo,c)&&(this._originInfo.region===c&&(d=this._originInfo.container),d||(d=this._mainContainer._createPanelContainer(c)),this._mainContainer._addPanelContainer(d,c,this._originInfo.widget));this.inherited(arguments)},_endDrag:function(){var a=this._originInfo.widget;this.inherited(arguments);var b=this._mainContainer._getPanelContainerAncestor(a);a.properties&&b&&a.properties.set(u.REGION,b.region)},_positionPanel:function(a){var b=m.position(this._mainContainer.domNode),
c;a.t<b.y?a.t=b.y:(c=b.y+b.h-20,a.t>c&&(a.t=c));a.l<b.x?a.l=b.x:(b=b.x+b.w-20,a.l>b&&(a.l=b));this.inherited(arguments)},_clearOriginInfo:function(){this._originInfo.container.isEmpty()&&this._mainContainer._destroyPanelContainer(this._originInfo.container);this.inherited(arguments)},_isDragInPermitted:function(a,b){return"bottom"===b&&!this._mainContainer._hasCenterChild()?!1:this.inherited(arguments)}}),F={left:"isLeftCollapsed",right:"isRightCollapsed",bottom:"isBottomCollapsed"},E={left:"leftWidth",
right:"rightWidth",bottom:"bottomHeight"};g=g([p,A],{FixedProperties:void 0,design:"sidebar",enableOnTopExpand:!0,DynamicProperties:void 0,constructor:function(){this._panelDragger=new z(this);this._pendingPanelIdToRegionMap={};this._requestedDimension={}},postMixInProperties:function(){this.inherited(arguments);this.selectionManager||(this.selectionManager=new B);this.selectionManager.registerContainer(this)},buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"mainContainer")},
addWithProperties:function(a,b){var c=b.region;this._isInternalAdd||"center"===c||"top"===c?this.inherited(arguments):(a.region=c,this._bindDescendantProperties(a,b),this.addChild(a))},addChild:function(a){var b=a.region,c,d,e,f;if(this._isInternalAdd||"center"===b||"top"===b)this.inherited(arguments),this._updateBottomContainer();else{this._bindDescendantProperties(a,a);a.properties.panelId||(a.properties.panelId=a.layoutId);if(this.isRestoringState()){c=["left","right","bottom"];for(d=0;d<c.length&&
!f;d+=1)if((e=this._getPanelContainerInRegion(c[d]))&&e.isExpecting(a.properties.panelId))this._addToPanelContainer(e,a),f=!0,a.properties.set(u.REGION,c[d]);if(f)return;this.endStateRestore()}if(c=this._pendingPanelIdToRegionMap[a.properties.panelId])b=c,delete this._pendingPanelIdToRegionMap[a.properties.panelId];this._addToBorder(a,b)}},removeChild:function(a){var b=a.region;this._isInternalRemove||"center"===b||"top"===b?(this.inherited(arguments),this._updateBottomContainer()):(this._getPanelContainerAncestor(a).removePanel(a,
a.properties),a.properties&&a.unbindDescendantProperties())},removeAllPanels:function(a){var b=this;["left","right","bottom"].forEach(function(c){var d=b._getPanelContainerInRegion(c);d&&(d.removeAll(a),b._removePanelContainer(c))})},setFooter:function(a){var b=this.getChildInRegion("bottom");b&&b.isInstanceOf(r)?b.setFooter(a):a?this._addFooterToBottom(a):this._removeFooterFromBottom()},getFooter:function(){var a=this.getChildInRegion("bottom");return a?a.getFooter():null},getState:function(a){var b=
a?{}:this.inherited(arguments),c=this;["left","right","bottom"].forEach(function(d){var f=c._getPanelContainerInRegion(d);f&&(b[d]||(b[d]={}),e.mixin(b[d],f.getState(a)),a&&c._containsOnly(f,a)&&(b[d].border=c._getBorderState(c._borderInfo[d])))});return b},setState:function(a,b,c){var d,e,f=this,g,h=[];d=[];var k;this._isInSetState=!0;["left","right","bottom"].forEach(function(e){(g=f._getPanelContainerInRegion(e))?(g.getPanels().forEach(function(k){var m=k.properties||k;h.push(m.panelId);if(!c&&
m.setId===b&&(!a[e]||!f._stateIncludes(e,a[e],m.panelId)))k.originalRegion=e,d.push(k),g.removePanel(k,m)}),!a[e]&&g.isEmpty()&&(f._removePanelContainer(e),g=null)):a[e]&&(a[e].panels&&0<a[e].panels.length)&&(g=f._createPanelContainer(e),f._addPanelContainer(g,e));g&&a[e]&&g.setState(a[e],b)});0<d.length&&(e=[],d.forEach(function(b){var c=!1,d=b.properties||b;["left","right","bottom"].forEach(function(e){a[e]&&f._stateIncludes(e,a[e],d.panelId)&&(f._addToPanelContainer(f._getPanelContainerInRegion(e),
b),d.set(u.REGION,e),c=!0)});c||e.push(b)}),e.forEach(function(a){(a.properties||a).set(u.IS_OPEN,!1)}),d.forEach(function(a){delete a.originalRegion}));b?(k=m.getContentBox(this.domNode,this.computedStyle),["left","right","bottom"].forEach(function(b){a[b]&&a[b].border&&("bottom"===b?f._restoreBorderState(b,a[b].border,a.referenceHeight===k.h,a.referenceHeight):f._restoreBorderState(b,a[b].border,a.referenceWidth===k.w,a.referenceWidth))})):this.inherited(arguments);["left","right","bottom"].forEach(function(b){a[b]&&
a[b].panels&&a[b].panels.forEach(function(a){a=a.panelId;0>h.indexOf(a)&&(f._pendingPanelIdToRegionMap[a]=b)})});this._isInSetState=!1},isRestoringState:function(){var a=!1;if(this.inherited(arguments))a=!0;else{var b,c=this;["left","right","bottom"].forEach(function(d){(b=c._getPanelContainerInRegion(d))&&(b.isInstanceOf(y)&&b.isRestoringState())&&(a=!0)})}return a},endStateRestore:function(){var a=this;["left","right","bottom"].forEach(function(b){var c=a._getPanelContainerInRegion(b);c&&(c.isEmpty()?
a._removePanelContainer(b):c.isRestoringState()&&c.endStateRestore())})},revealChild:function(a){(!this.enableOnTopExpand||!this.isCollapsed(a.region))&&this.inherited(arguments)},getOccupiedBorders:function(){var a=this,b=[];["left","right","bottom"].forEach(function(c){a.getChildInRegion(c)&&b.push(c)});return b},_addToBorder:function(a,b){var c=this._getPanelContainerInRegion(b);c||(c=this._createPanelContainer(b),this._addPanelContainer(c,b,a));this._addToPanelContainer(c,a)},_addToPanelContainer:function(a,
b){a.addPanel(b,b.properties);this.isCollapsed(a.region)||b.properties.set(u.IS_SHOWING,!0)},_bindDescendantProperties:function(a,b){var c=this,d,e;!a.unbindDescendantProperties&&(b.watch&&b.set&&b.get)&&(a.properties=b,d=b.watch(u.IS_OPEN,function(b,c,d){d||a.unbindDescendantProperties()}),e=b.watch(u.REGION,function(b,d,e){c.isRestoringState()||(b=c._getPanelContainerAncestor(a),b.region!==e&&(b.removePanel(a,a.properties),c._addToBorder(a,e)))}),a.unbindDescendantProperties=function(){d&&d.remove();
e&&e.remove();delete a.properties;delete a.unbindDescendantProperties})},_createPanelContainer:function(a){var b="bottom"===a?this._createBottomContainer():this._createSideContainer(a);this._panelDragger.attach(b);var c=this;b.on(x.CHILD_ADDED,function(d,e){b!==c.getChildInRegion(a)&&c._addPanelContainer(b,a);c.emit(x.CHILD_ADDED,d,e)});b.on(x.CHILD_REMOVED,function(d,e){!c._isInSetState&&b.isEmpty()&&c._removePanelContainer(a);c.emit(x.CHILD_REMOVED,d,e)});b.on(x.STATE_CHANGED,function(){c.emit(x.STATE_CHANGED)});
this.enableOnTopExpand&&(b.on(x.EXPAND_ALL,function(){c.set(F[a],!1)}),b.on(x.COLLAPSE_ALL,function(){c.set(F[a],!0)}));return b},_createSideContainer:function(a){return new D({id:this.id+a+"SideContainer",region:a,enableOnTopExpand:this.enableOnTopExpand,panelSetTitles:this.panelSetTitles,animationEnabled:this.animationEnabled,borderOptions:this.borderOptions?this.borderOptions[a]:null})},_createBottomContainer:function(){return new r({id:this.id+"BottomContainer",hasNeighborAbove:this._hasCenterChild(),
enableOnTopExpand:this.enableOnTopExpand,animationEnabled:this.animationEnabled,borderOptions:this.borderOptions?this.borderOptions.bottom:null})},_getPanelContainerAncestor:function(a){for(a=a.getParent();a;){if(a.isInstanceOf(v))return a;if(a.parentBar)return this.getChildInRegion(a.parentBar.region);a=a.getParent()}return null},_setIsLeftCollapsedAttr:function(a){this._setIsRegionCollapsed("left",a)},_getIsLeftCollapsedAttr:function(){return this._getIsRegionCollapsed("left")},_setIsRightCollapsedAttr:function(a){this._setIsRegionCollapsed("right",
a)},_getIsRightCollapsedAttr:function(){return this._getIsRegionCollapsed("right")},_setIsBottomCollapsedAttr:function(a){this._setIsRegionCollapsed("bottom",a)},_getIsBottomCollapsedAttr:function(){return this._getIsRegionCollapsed("bottom")},_setIsRegionCollapsed:function(a,b){var c=this._borderInfo[a];c&&c.properties&&c.properties.set(u.IS_COLLAPSED,b)},_getIsRegionCollapsed:function(a){return(a=this._borderInfo[a])&&a.properties?a.properties.get(u.IS_COLLAPSED):!1},_setLeftWidthAttr:function(a){this._setRegionDimension("left",
a)},_getLeftWidthAttr:function(){return this._getRegionDimension("left")},_setRightWidthAttr:function(a){this._setRegionDimension("right",a)},_getRightWidthAttr:function(){return this._getRegionDimension("right")},_setBottomHeightAttr:function(a){this._setRegionDimension("bottom",a)},_getBottomHeightAttr:function(){return this._getRegionDimension("bottom")},_setRegionDimension:function(a,b){this._requestedDimension[a]=b;this.getChildInRegion(a)&&this.setFreeDimension(a,this._convertToAbsoluteDimension(a,
b))},_getRegionDimension:function(a){return this.getChildInRegion(a)?this.getFreeDimension(a):this._requestedDimension[a]},_convertToAbsoluteDimension:function(a,b){if(1>b){var c=m.getContentBox(this.domNode,this.computedStyle);"left"===a||"right"===a?0<c.w&&(b=Math.floor(b*c.w)):0<c.h&&(b=Math.floor(b*c.h))}return b},_addPanelContainer:function(a,b,c){var d=this,f;"bottom"===b&&(f=this._removeFooterFromBottom())&&a.setFooter(f);f=a.isContainerCollapsed();var g=new k({region:b,hasSplitter:!0,isResizable:!0,
isCollapsible:!0,isProportional:!0,minSize:120});this.borderOptions&&this.borderOptions[b]&&e.mixin(g,this.borderOptions[b]);var h=this._requestedDimension[b];!h&&c&&(h="left"===b||"right"===b?c.properties.preferredWidth:c.properties.preferredHeight);h&&(0<h&&1>h)&&(g.proportion=h);g.watch(u.IS_COLLAPSED,function(c,e,f){d.notifyStateWatchers(F[b],e,f);a.collapseChange(f)});g.watch("freeDimension",function(a,c,e){d.notifyStateWatchers(E[b],c,e)});this._isInternalAdd=!0;this.addWithProperties(a,g);
this._isInternalAdd=!1;void 0!==h&&(c&&0>=h&&(c=t.measure(c.domNode,this.domNode),h="left"===b||"right"===b?c.w:side.h),1<=h&&this.setFreeDimension(b,h));f&&this.collapse(b)},_removePanelContainer:function(a){var b=this._getPanelContainerInRegion(a);if(b){this._isInternalRemove=!0;this.removeChild(b);this._isInternalRemove=!1;if("bottom"===a&&(a=b.getFooter()))b.setFooter(null),this._addFooterToBottom(a);(!this._panelDragger._originInfo||this._panelDragger._originInfo.container!==b)&&this._destroyPanelContainer(b)}},
_destroyPanelContainer:function(a){a.destroyRecursive();a.collapsedWidget&&a.collapsedWidget.destroyRecursive()},_getPanelContainerInRegion:function(a){return(a=this.getChildInRegion(a))&&a.isInstanceOf(v)?a:null},_hasCenterChild:function(){return!!this.getChildInRegion("center")},_updateBottomContainer:function(){var a=this._getPanelContainerInRegion("bottom");a&&a.set("hasNeighborAbove",this._hasCenterChild())},_addFooterToBottom:function(a){var b=new s({id:this.id+"FooterContainer"});l.add(b.domNode,
"footerContainer");n.set(b.domNode,{height:"22px"});b.addChild(a);b.getFooter=function(){return a};this._isInternalAdd=!0;this.addWithProperties(b,{region:"bottom",hasSplitter:!1,isResizable:!1});this._isInternalAdd=!1},_removeFooterFromBottom:function(){var a=this.getChildInRegion("bottom"),b;a&&(this._isInternalRemove=!0,this.removeChild(a),this._isInternalRemove=!1,b=a.getChildren()[0],a.removeChild(b),a.destroyRecursive());return b},_stateIncludes:function(a,b,c){return"bottom"===a?r.stateIncludes(b,
c):D.stateIncludes(b,c)},_containsOnly:function(a,b){var c=a.getPanels(),d;for(d=0;d<c.length;d++)if(!c[d].properties||c[d].properties.setId!==b)return!1;return!0}});g.IS_LEFT_COLLAPSED="isLeftCollapsed";g.IS_RIGHT_COLLAPSED="isRightCollapsed";g.IS_BOTTOM_COLLAPSED="isBottomCollapsed";g.LEFT_WIDTH="leftWidth";g.RIGHT_WIDTH="rightWidth";g.BOTTOM_HEIGHT="bottomHeight";g.stateIncludes=function(a,b){return a.left&&D.stateIncludes(a.left,b)||a.right&&D.stateIncludes(a.right,b)||a.bottom&&r.stateIncludes(a.bottom,
b)};return g})},"MW/layout/BottomContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/mouse dojo/on dojo/touch MW/layout/BorderBar MW/layout/BorderContainer MW/layout/ButtonBar MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/LendingTabContainer MW/layout/PanelContainer MW/layout/Restorable MW/layout/SelectionBlocker MW/layout/TabContainer MW/layout/TitleBar mw-log/Log dojo/i18n!l10n/nls/layout".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F){var E=g([p,w,y],{enableOnTopExpand:!0,constructor:function(){this.region="bottom"},buildRendering:function(){var c=this;this.inherited(arguments);f.add(this.domNode,"bottomContainer");this._tabContainer=new v({isContentBorderVisible:!1,tabReorderingEnabled:!0,region:"center",distributeTabs:!0,tabAnimationEnabled:!1,tabClass:A});this._tabContainer._tabBar.dragOffEdge="top";this._tabContainer._tabBar.entryExitEdge=null;this._tabContainer._tabBar.setGap=
0;this.addChild(this._tabContainer);this._tabContainer.on(u.DRAG_OUT,function(a){c.emit(u.DRAG_OUT,a)});this._tabContainer.on(u.STATE_CHANGED,function(a){c.emit(u.STATE_CHANGED,a)});this._tabContainer.on(u.CHILD_REMOVED,function(a,b){c._bottomBar.cancelLoan(b);l.prototype.emit.apply(c,[u.CHILD_REMOVED,a,b])});this._footerContainer=new r({id:this.id+"FooterContainer",region:"bottom"});f.add(this._footerContainer.domNode,"footerContainer");d.set(this._footerContainer.domNode,{height:"22px"});this.addChild(this._footerContainer);
if(!this.borderOptions||!1!==this.borderOptions.isCollapsible)this._collapseAllButton=k.create("div",{id:this.id+"BottomCollapseAllButton"}),f.add(this._collapseAllButton,"collapseButton"),b.set(this._collapseAllButton,"title",F.collapseBottomPanel),a.setSelectable(this._collapseAllButton,!1),x.preventFocus(this._collapseAllButton),this._footerContainer.setPostNeighbor(this._collapseAllButton),n(this._collapseAllButton,"click",function(){c.emit(u.COLLAPSE_ALL)});this._buttonBar=this._bottomBar=new s({id:this.id+
"BottomBar",region:"bottom",animationEnabled:this.animationEnabled});this.enableOnTopExpand&&(this.collapsedWidget=this._bottomBar);this._bottomBar.on(u.DRAG_OUT,function(a){a.widget=a.properties.widget;c.emit(u.DRAG_OUT,a)});this._bottomBar.on(u.EXPAND_ALL,function(){c.emit(u.EXPAND_ALL)})},addPanel:function(a,b){var c,d,e,f;if(this.isRestoringState()){var g=b?b.panelId:a.panelId;f=!0;for(c=d=0;c<this._stateToRestore.panels.length;c++)if(e=this._stateToRestore.panels[c],e.panelId===g){e.restored=
!0;if(e.showing||e.selected)this._pendingShow=a;break}else e.restored&&d++;d===this._stateToRestore.panels.length&&(this.endStateRestore(),d=void 0)}b?this._tabContainer.addWithProperties(a,b,d,!0,f):this._tabContainer.addChild(a,d,!0,f);this.isRestoringState()&&this._stateToRestore.panels.length===this.getPanelCount()&&this.endStateRestore();b=b||a;b.widget=a;this._bottomBar.acceptLoan(this._tabContainer,b);this.emit(u.CHILD_ADDED,a,b)},removePanel:function(a,b){this._tabContainer.removeChild(a,
!0)},removeAll:function(){this._tabContainer.removeAll();this._bottomBar.removeAll()},getPanels:function(){return this._tabContainer.getChildrenInTabOrder()},getPanelCount:function(){return this._tabContainer.getTabCount()},revealChild:function(a){},nextChild:function(a,b){return this._tabContainer.nextChild(a,b)},previousChild:function(a,b){return this._tabContainer.previousChild(a,b)},getState:function(a){var b={panels:[]},c=this._tabContainer;c.getChildrenInTabOrder().forEach(function(d){var e=
c.getChildProperties(d);a===e.setId&&(e={panelId:e?e.panelId:d.panelId},d===c.get(D.SHOWING_CHILD)&&(e.showing=!0),b.panels.push(e))},this);return b},setState:function(a,b){var c=this._tabContainer,d,e,f,g=[],h=[];if(0<a.panels.length){var k=c.getChildrenInTabOrder();for(e=0;e<k.length;e++)f=k[e],d=c.getChildProperties(f),d.setId===b&&(this.removePanel(f,d),g.push(f),h.push(d));this._stateToRestore=a;for(e=0;e<g.length;e++)this.addPanel(g[e],h[e])}},isRestoringState:function(){return void 0!==this._stateToRestore},
endStateRestore:function(){this._pendingShow&&(this._tabContainer.showChild(this._pendingShow),delete this._pendingShow);delete this._stateToRestore},isExpecting:function(a){return this._stateToRestore&&E.stateIncludes(this._stateToRestore,a)},setFooter:function(a){if(this._footer!==a){this._footer=a;var b=this.getParent();null==a?(this._bottomBar.setFiller(null),this._footerContainer.setFiller(null)):b&&b.isCollapsed&&b.isCollapsed("bottom")?this._bottomBar.setFiller(a):this._footerContainer.setFiller(a)}},
getFooter:function(){return this._footer},_setHasNeighborAboveAttr:function(a){this._set("hasNeighborAbove",a);this._tabContainer.set(D.HIDE_SINGLE_TAB,!a);this._tabContainer._tabBar.dragOffEdge=a?"top":null;this._collapseAllButton&&d.set(this._collapseAllButton,{visibility:a?"visible":"hidden"})},collapseChange:function(a){this.inherited(arguments);this._footer&&(a?(this._footerContainer.setFiller(null),this._bottomBar.setFiller(this._footer)):(this._bottomBar.setFiller(null),this._footerContainer.setFiller(this._footer)));
var b=this._tabContainer.get(D.SHOWING_CHILD);b&&this._tabContainer.getChildProperties(b).set(t.IS_SHOWING,!a)},dragIn:function(a,b){var c;this.isOrWasContainerCollapsed(a)?(this._tabContainer.addWithProperties(a.widget,a.properties),this._bottomBar.dragChildIn(this._tabContainer,a,b),c=!0):(this._tabContainer.dragIn(a,b),this._bottomBar.acceptLoan(this._tabContainer,a.properties));this.emit(u.CHILD_ADDED,a.widget,a.properties);c&&this.reCollapseContainer(a)}});E.stateIncludes=function(a,b){if(!a.panels)return!1;
var c;for(c=0;c<a.panels.length;c+=1)if(a.panels[c].panelId===b)return!0;return!1};return E})},"MW/layout/LendingTabContainer":function(){define(["dojo/_base/declare","MW/layout/TabContainer","MW/layout/TabContainerLender"],function(g,c,e){return g([c,e],{})})},"MW/layout/TabContainerLender":function(){define("dojo/_base/declare dojo/dom-style dijit/layout/_LayoutWidget MW/layout/ChildLender MW/layout/HidingContainer MW/layout/LayoutChildProperty MW/layout/TabContainer".split(" "),function(g,c,e,
a,b,f,k){return g([a],{borrowChild:function(a){if(a=this._getWidgetFromProperties(a))this._superRemoveChild(a),a!==this.get(k.SHOWING_CHILD)&&c.set(a.domNode,{visibility:"visible"});return a},returnChild:function(a){var d=this._getWidgetFromProperties(a);d&&(this._superAddChild(d),d===this.get(k.SHOWING_CHILD)?a.set(f.IS_SHOWING,b.isShowingGlobally(this)):c.set(d.domNode,{visibility:"hidden"}))},_getWidgetFromProperties:function(a){var b;for(b=0;b<this._tabInfo.length;b++)if(this._tabInfo[b].properties===
a)return this._tabInfo[b].widget;return null},_superAddChild:function(a){e.prototype.addChild.apply(this,[a])},_superRemoveChild:function(a){e.prototype.removeChild.apply(this,[a])}})})},"MW/layout/ChildLender":function(){define(["dojo/_base/declare"],function(g){return g([],{borrowChild:function(c){},returnChild:function(c){}})})},"MW/layout/PanelContainer":function(){define(["dojo/_base/declare","dojo/dom-geometry","MW/layout/LayoutChildProperty","MW/layout/Traversable"],function(g,c,e,a){return g([a],
{addPanel:function(a,c){},removePanel:function(a,c){},getPanels:function(){return[]},getPanelCount:function(){return 0},isEmpty:function(){return 0===this.getPanelCount()},isContainerCollapsed:function(){var a=this.getParent(),c=this.region;return!(!a||!c||!a.isCollapsed(c))},isContainerCollapsing:function(){var a=this.getParent(),c=this.region;return!(!a||!c||!a.isCollapsing(c))},isOrWasContainerCollapsed:function(a){return this.isContainerCollapsed()||this.region===a.region&&a.wasCollapsed},reCollapseContainer:function(a){if(!this.isContainerCollapsed()){var c=
this.getParent(),e=c.animationEnabled;c.animationEnabled=!1;c.setFreeDimension(this.region,a.freeDimension);c.collapse(this.region);c.animationEnabled=e}},collapseChange:function(a){!a&&this.collapsedWidget&&this.collapsedWidget.collapseAllChildrenImmediately()},destroyRecursive:function(){this._buttonBar&&this._buttonBar.destroyRecursive();this.inherited(arguments)},getDragInBox:function(){var a=c.position(this.isContainerCollapsed()?this.collapsedWidget.domNode:this.domNode);a.l=a.x;a.t=a.y;return a},
dragIn:function(a,c){}})})},"MW/layout/PanelDragger":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/fx dojo/_base/lang dojo/_base/window dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/mouse dojo/touch ./LayoutContainerEvent ./LayoutUtils ./PanelContainer ./TitleBar ./TitledPane".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){return g(null,{constructor:function(){this._containers=[]},attach:function(b){this._containers.push(b);
var c=this;b.on(s.DRAG_OUT,a.hitch(this,"_handleDragOut",b));b.panelDraggerConnections=[f.after(b,"destroy",function(){c.detach(b)})]},detach:function(a){a.panelDraggerConnections.forEach(function(a){a.remove()});this._containers.splice(this._containers.indexOf(a),1)},_handleDragOut:function(b,c){if(this._isDragOutPermitted(c,b.region)){this._originInfo||(this._originInfo=c,this._originInfo.container=b,this._originInfo.region=b.region,this._originInfo.wasCollapsed=b.isContainerCollapsed(),this._originInfo.freeDimension=
b.getParent().getNonCollapsedFreeDimension(b.region),this._originInfo.containerSize=b.getDragInBox());b.removePanel(c.widget,c.properties);this._showPanel(c.widget,c.properties);var d=c.mousePoint,e=a.clone(this._originInfo.box),f=t.getPreferredHeight();e.t=d.y-f/2;e.l=d.x-e.w/2;e.w+=2;e.h+=f+2;this._positionPanel(e);this._initialMousePoint=d;this._initialBox=e;this._moveConnection=k(b.ownerDocument,q.move,a.hitch(this,"_continueDrag"));this._releaseConnection||(this._releaseConnection=k(b.ownerDocument,
q.release,a.hitch(this,"_endDrag")))}},_showPanel:function(a,c){this._titledPane=new u({id:a.id+"_TitledPane",contentWidget:a,contentProperties:c});d.place(this._titledPane.domNode,b.body());this._titledPane.startup();m.set(this._titledPane.domNode,"position","absolute");h.add(this._titledPane.domNode,"onTopPane")},_hidePanel:function(){b.body().removeChild(this._titledPane.domNode);this._titledPane.destroy();delete this._titledPane},_positionPanel:function(a){this._titledPane.resize(a);this._currentBox=
a},_continueDrag:function(b){var c,d,e;for(c=0;c<this._containers.length;c+=1)if(d=this._containers[c],this._isDragInPermitted(this._originInfo,d.region)&&(e=d.getDragInBox(),e.l<b.pageX&&b.pageX<e.l+e.w&&e.t<b.pageY&&b.pageY<e.t+e.h)){this._stopDragEvents();this._hidePanel();d.dragIn(this._originInfo,{x:b.pageX,y:b.pageY});this._clearDragInfo();return}c=a.clone(this._initialBox);c.l+=b.pageX-this._initialMousePoint.x;c.t+=b.pageY-this._initialMousePoint.y;this._positionPanel(c)},_clearDragInfo:function(){delete this._initialMousePoint;
delete this._initialBox},_clearOriginInfo:function(){delete this._originInfo},_stopDragEvents:function(){this._moveConnection&&(this._moveConnection.remove(),delete this._moveConnection)},_endDrag:function(){if(this._titledPane&&this._originInfo){this._stopDragEvents();var b=this;this._initialBox=this._currentBox;var c=new e.Animation({curve:[0,1],onAnimate:function(c){var d;b._initialBox&&(d=a.clone(b._initialBox),d.l+=Math.floor(c*(b._originInfo.box.l-d.l)),d.t+=Math.floor(c*(b._originInfo.box.t-
d.t)),b._positionPanel(d))},onEnd:function(){b._hidePanel();b._originInfo.container.dragIn(b._originInfo);b._clearDragInfo();b._clearOriginInfo()}});if(p.isAnimationEnabled())c.play();else c.onEnd()}else this._clearOriginInfo();this._releaseConnection.remove();delete this._releaseConnection},_isDragOutPermitted:function(a,b){var c=a.properties.permissibleRegions,d;if(c){for(d=0;d<c.length;d++)if(c[d]!==b)return!0;return!1}return!0},_isDragInPermitted:function(a,b){var c=a.properties.permissibleRegions;
return a.region===b||!c||0<c.indexOf(b)}})})},"MW/layout/SideContainer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/Evented dojo/on dijit/layout/_LayoutWidget MW/layout/AccordionContainer MW/layout/BorderBar MW/layout/ChildLender MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/PanelContainer MW/layout/Restorable MW/layout/TabContainer mw-log/Log dojo/i18n!l10n/nls/layout".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){var y=g([m,q],{borrowChild:function(a){a=this._panelIndexFromProperties(a);return 0<=a?(a=this._panelInfo[a],this._superRemoveChild(a.widget),k.set(a.widget.domNode,"display","block"),a.widget):null},returnChild:function(a){a=this._panelIndexFromProperties(a);0<=a&&(a=this._panelInfo[a],a.isCollapsed&&k.set(a.widget.domNode,"display","none"),this._superAddChild(a.widget))},_superAddChild:function(a){l.prototype.addChild.apply(this,[a])},_superRemoveChild:function(a){l.prototype.removeChild.apply(this,
[a])}});g=g([x,t],{enableOnTopExpand:!0,constructor:function(){this.isContentBorderVisible=!1;this.tabPosition="bottom";this.reserveSpaceForTabs=this.hideSingleTab=!0;this.set(x.SHOWING_TAB_BACKGROUND,"rgb(245,245,245)");this.set(x.TAB_BACKGROUND,"rgb(230,230,230)");this._setInfo={}},postMixInProperties:function(){var a=this;this.inherited(arguments);v.assert(this.region,"No region specified for SideContainer");this._buttonBar=this._sideBar=new n({id:this.id+"SideBar",region:this.region,animationEnabled:this.animationEnabled});
this.enableOnTopExpand&&(this.collapsedWidget=this._sideBar);this._sideBar.on(p.DRAG_OUT,function(b){b.widget=b.properties.widget;a.emit(p.DRAG_OUT,b)})},buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"sideContainer");b.add(this.domNode,this.region+"SideContainer");var c=this;if(!this.borderOptions||!1!==this.borderOptions.isCollapsible){var g=f.create("div",{id:this.id+"CollapseAllButton"},this.domNode);b.add(g,"collapseButton");a.set(g,"title",w.collapseSidePanel);e.setSelectable(g,
!1);r.preventFocus(g);d(g,"click",function(){c.emit(p.COLLAPSE_ALL)});"left"===this.region?this._tabBar.setPreNeighbor(g):this._tabBar.setPostNeighbor(g);this._sideBar.on(p.EXPAND_ALL,function(){c.emit(p.EXPAND_ALL)})}},addPanel:function(a,b){var c=this._getSetInfo(b.setId);b.widget=a;if(!c.container&&(this._createAccordionContainer(c),this._addAccordionContainer(c),c.pendingShowSetId)){var d=this._setInfo[c.pendingShowSetId];d&&(d!==c&&d.container)&&this.showChild(d.container);delete c.pendingShowSetId}b?
c.container.addWithProperties(a,b):c.container.addChild(a);this._sideBar.acceptLoan(c.container,b||a)},removePanel:function(a,b){var c=this._getSetInfo(b.setId).container;c&&c.removeChild(a)},removeAll:function(){var a=Object.keys(this._setInfo),b,c,d;for(b=0;b<a.length;b++)c=a[b],d=this._setInfo[c],d.container&&d.container.removeAll(),delete this._setInfo[c];this._sideBar.removeAll()},getPanels:function(){var a=Object.keys(this._setInfo),b,c,d=[];for(b=0;b<a.length;b++)c=a[b],c=this._setInfo[c],
c.container&&(d=d.concat(c.container.getPanels()));return d},getPanelCount:function(){var a=Object.keys(this._setInfo),b,c,d=0;for(b=0;b<a.length;b++)c=a[b],c=this._setInfo[c],c.container&&(d+=c.container.getPanels().length);return d},removePanelSet:function(a){if((a=this._setInfo[a])&&a.container)a.containerState=a.container.getState(),a.container.getParent()&&(this.removeChild(a.container),a.container.removeAll(),a.container.destroyRecursive(),delete a.container)},revealChild:function(a){},nextChild:function(a,
b){var c,d,e=this.get(x.SHOWING_CHILD);e&&(c=e.nextChild(a,b),!c&&!b&&(d=this.getChildrenInTabOrder(),1<d.length&&(c=d.indexOf(e)+1,c>=d.length&&(c=0),c=d[c].nextChild(null,b))));return c},previousChild:function(a,b){var c,d,e=this.get(x.SHOWING_CHILD);e&&(c=e.previousChild(a,b),!c&&!b&&(d=this.getChildrenInTabOrder(),1<d.length&&(c=d.indexOf(e)-1,0>c&&(c=d.length-1),c=d[c].previousChild(null,b))));return c},getState:function(a){var b=this._setInfo[a||"global"];a={};if(b)if(b.container){if(a.panels=
b.container.getState(),b=this.get(x.SHOWING_CHILD))a.showingSetId=b.setInfo.id}else b.containerState&&(a.panels=b.containerState);return a},setState:function(a,b){var c=this._getSetInfo(b||"global");a.panels&&(c.container?c.container.setState(a.panels):(c.containerState=a.panels,c.pendingShowSetId=a.showingSetId))},isRestoringState:function(){var a=this._setInfo.global;return!(!a||!(a.containerState||a.container&&a.container.isRestoringState()))},endStateRestore:function(){var a=Object.keys(this._setInfo),
b,c;for(b=0;b<a.length;b++)c=a[b],c=this._setInfo[c],c.container&&c.container.isRestoringState()&&c.container.endStateRestore()},isExpecting:function(a){var b=Object.keys(this._setInfo),c,d;for(c=0;c<b.length;c++)if(d=b[c],d=this._getSetInfo(d),d.container&&d.container.isExpecting(a)||d.containerState&&m.stateIncludes(d.containerState,a))return!0;return!1},_getSetInfo:function(a){a=a||"global";var b=this._setInfo[a];b||(b={id:a},this._setInfo[a]=b);return b},_createAccordionContainer:function(a){var b=
this,c,d;this.panelSetTitles&&(d=this.panelSetTitles[a.id]);d||(d=a.id);c=new y({id:this.id+("global"===a.id?"":a.id)+"AccordionContainer",region:this.region,title:d,setInfo:a});c.on(p.DRAG_OUT,function(a){b.emit(p.DRAG_OUT,a)});c.on(p.CHILD_ADDED,function(a,c){h.prototype.emit.apply(b,[p.CHILD_ADDED,a,c])});c.on(p.CHILD_REMOVED,function(d,e){b._sideBar.cancelLoan(e);c.isEmpty()&&(b.removeChild(c,!0),c.destroyRecursive(),delete a.container);h.prototype.emit.apply(b,[p.CHILD_REMOVED,d,e])});c.on(p.STATE_CHANGED,
function(a){b.emit(p.STATE_CHANGED,a)});c.watch(s.IS_SHOWING,function(a,d,e){b._updateChildren(c,e)});a.containerState&&(c.setState(a.containerState),delete a.containerState);a.container=c},_addAccordionContainer:function(a){"global"===a.id?this.addChild(a.container,0,!0,!0):this.addChild(a.container,void 0,!0,!0)},collapseChange:function(a){this.inherited(arguments);var b=this.get(x.SHOWING_CHILD);b&&this._updateChildren(b,!a)},_updateChildren:function(a,b){a.getPanelProperties().forEach(function(a){a.get(s.IS_COLLAPSED)||
a.set(s.IS_SHOWING,b)})},dragIn:function(a,b){var c=a.properties,d=this._getSetInfo(c.setId);d.container||(this._createAccordionContainer(d),this._addAccordionContainer(d));this.isOrWasContainerCollapsed(a)?(d.container.addWithProperties(a.widget,c),this._sideBar.dragChildIn(d.container,a,b),this.reCollapseContainer(a)):(this.showChild(d.container),d.container.dragIn(a,b),this._sideBar.acceptLoan(d.container,c))},on:function(a,b){return h.prototype.on.apply(this,[a,b])},emit:function(a,b){a!==p.CHILD_ADDED&&
a!==p.CHILD_REMOVED&&this.inherited(arguments)}});g.DEFAULT_PANEL_SET_ID="global";g.stateIncludes=function(a,b){return a.panels&&m.stateIncludes(a.panels,b)};return g})},"MW/layout/AccordionContainer":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/fx dojo/fx/easing dojo/on dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/has dojo/mouse dojo/touch dijit/focus dijit/layout/_LayoutWidget MW/layout/AnimationTiming MW/layout/HidingContainer MW/layout/LayoutChildProperty MW/layout/LayoutContainerEvent MW/layout/LayoutUtils MW/layout/Restorable MW/layout/SelectionBlocker ./Traversable MW/layout/TitleBar".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){var F=g([t,n,B,A,x],{_:void 0,animationEnabled:!0,autoCollapseEnabled:!0,dragOutEnabled:!1,baseClass:"accordionContainer",constructor:function(){this._panelInfo=[]},buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"mwLayoutContainer")},startup:function(){if(!this._started){var a=this;this.getChildren().forEach(function(b){a._setupChild(b)});this.inherited(arguments);this._pendingState&&this._isPopulatedPerState(this._pendingState)&&
(this._restoreState(this._pendingState),delete this._pendingState,this.emit(w.STATE_CHANGED))}},addWithProperties:function(a,b,c){var d=this._createPanelInfo(a);b!==a?e.mixin(d,b):this._getInfoFromWidget(a,d);this._bindChildProperties(d,b);void 0===b.isCollapsible&&(d.isCollapsible=!!b.title);void 0===c?this._panelInfo.push(d):this._panelInfo.splice(c,0,d);this.addChild(a)},addChild:function(a,b){var c=this._getPanelInfoFromDomId(a.id);c?a.title||(a.title=c.title):(c=this._createPanelInfo(a),void 0===
b?this._panelInfo.push(c):this._panelInfo.splice(b,0,c),this._getInfoFromWidget(a,c));this._bindChildProperties(c,a);void 0!==c.preferredHeight&&(0<c.preferredHeight&&1>c.preferredHeight)&&(c.portion=c.preferredHeight);this.inherited(arguments);this._updateExpandCollapseControlVisibility();this.emit(w.CHILD_ADDED,c.widget,c.properties);this._started&&(this._pendingState&&this._isPopulatedPerState(this._pendingState)?(this._restoreState(this._pendingState),delete this._pendingState):this.layout(),
this.emit(w.STATE_CHANGED));this._updatePanelIndices()},_setupChild:function(a){var b,c;this.inherited(arguments);m.set(a.domNode,"position","absolute");if((b=this._getPanelInfoFromDomId(a.id))&&!b.childWasSetup){b.childWasSetup=!0;void 0!==b.preferredHeight&&(1<b.preferredHeight?b.initialHeight=b.preferredHeight:0>=b.preferredHeight&&(b.initialHeight=m.get(a.domNode,"height")));b.splitterNode=d.create("div",{id:this.id+a.id+"Splitter"},this.domNode);h.add(b.splitterNode,"splitter");k.setSelectable(b.splitterNode,
!1);y.preventFocus(b.splitterNode,!0);this._splitterThickness||(this._splitterThickness=Math.round(m.get(b.splitterNode,"height")));0===this._panelInfo.indexOf(b)&&m.set(b.splitterNode,"display","none");if(c=b.properties.title)b.titleBar=new z({id:a.id+"TitleBar",properties:b.properties,title:c,isCollapsible:b.isCollapsible&&1<this._panelInfo.length}),d.place(b.titleBar.domNode,this.domNode),c=e.hitch(this,"_toggleExpand",b),b.titleBar.connections=[f(b.titleBar.domNode,"dblclick",c),f(b.titleBar.toggleNode,
"click",c),f(b.titleBar.domNode,p.press,e.hitch(this,"_beginTitleDrag",b))];c=d.create("div",{id:a.domNode.id+"SplitterLine"},b.splitterNode);h.add(c,"splitterLine");k.setSelectable(c,!1);y.preventFocus(c,!0);this._visibleSplitterThickness||(this._visibleSplitterThickness=Math.round(m.get(c,"height")),this._splitterOverlap=Math.round(m.get(b.splitterNode,"padding-top")));c=e.hitch(this,"_beginSplitterDrag",b);f(b.splitterNode,p.press,c);f(b.splitterNode,"contextmenu",function(a){a.preventDefault()})}},
removeChild:function(a){var b=this._panelIndexFromDomId(a.id),c,e;0<=b&&(c=this._panelInfo[b],this._titleDragInfo&&this._endTitleDrag(!0),c.splitterNode&&d.destroy(c.splitterNode),c.titleBar&&c.titleBar.destroyRecursive(),c.properties&&(e=c.properties,c.unbindChildProperties()),this._panelInfo.splice(b,1),this.inherited(arguments),e&&(e.set(v.IS_COLLAPSED,!1),e.set(v.IS_SHOWING,!0)),this._updateExpandCollapseControlVisibility(),this._updatePanelIndices(),this.emit(w.CHILD_REMOVED,a,e),this._started&&
(this.layout(),this.emit(w.STATE_CHANGED)),y.restoreStyle(a))},getPanels:function(){var a,b=[];b.length=this._panelInfo.length;for(a=0;a<this._panelInfo.length;a++)b[a]=this._panelInfo[a].widget;return b},getPanelProperties:function(){var a,b=[];b.length=this._panelInfo.length;for(a=0;a<this._panelInfo.length;a++)b[a]=this._panelInfo[a].properties;return b},isEmpty:function(){return 0===this._panelInfo.length},removeAll:function(a){for(var b;0<this._panelInfo.length;)b=this._panelInfo[this._panelInfo.length-
1].widget,this.removeChild(b),a&&b.destroyRecursive()},on:function(a){a===w.DRAG_OUT&&(this.dragOutEnabled=!0);this.inherited(arguments)},collapse:function(a){a=this._getPanelIndex(a);0<=a&&this._collapse(this._panelInfo[a])},isCollapsed:function(a){a=this._getPanelIndex(a);return 0<=a&&this._panelInfo[a].isCollapsed},expand:function(a){a=this._getPanelIndex(a);0<=a&&this._expand(this._panelInfo[a])},revealChild:function(a){this.expand(a)},nextChild:function(a,b){var c=this._panelInfo.length;if(!c)return null;
var d=a?this._getPanelIndex(a):-1;if(-1===d)for(var e=0;e<this._panelInfo.length;e+=1)this._panelInfo[e].widget&&(this._panelInfo[e].properties&&!0===this._panelInfo[e].properties.get(v.IS_SELECTED))&&(a=this._panelInfo[e].widget,d=this._getPanelIndex(a));for(d++;d<c;d++)if(e=this._panelInfo[d],(!b||!e.isCollapsed)&&e.widget&&e.properties&&!e.properties.get(v.IS_SELECTED))return e.widget;return null},previousChild:function(a,b){var c=this._panelInfo.length;if(!c)return null;var c=a?this._getPanelIndex(a):
c,d;for(c--;0<=c;c--)if(d=this._panelInfo[c],!b||!d.isCollapsed)return d.widget;return null},isShowingLocally:function(a){return a.getParent()===this&&!this.isCollapsed(a)},setPortions:function(a){var b=Math.min(a.length,this._panelInfo.length),c;for(c=0;c<b;c+=1)this._panelInfo[c].portion=a[c];this.layout()},getState:function(){var a=[];a.length=this._panelInfo.length;var b,c;for(b=0;b<this._panelInfo.length;b+=1)c=this._panelInfo[b],a[b]={panelId:c.panelId,collapsed:!!c.explicitlyCollapsed,portion:c.portion};
return a},setState:function(a){this._isPopulatedPerState(a)?this._restoreState(a):this._pendingState=a},isRestoringState:function(){return void 0!==this._pendingState},endStateRestore:function(){delete this._pendingState},isExpecting:function(a){return this._pendingState&&F.stateIncludes(this._pendingState,a)},resize:function(){this.computedStyle||(this.computedStyle=m.getComputedStyle(this.domNode));this.inherited(arguments)},layout:function(){if(this._started&&this.domNode){var a=this._panelInfo.length,
c,d,f,g,h,k,m,p=(new Date).valueOf();if(!(0===a||this._titleDragInfo)){var n=l.getContentBox(this.domNode,this.computedStyle);if(n&&0!==n.h){this._portionsAreStale&&this._lastLayoutHeight!==n.h&&this._updatePortions(this._lastLayoutHeight);var r=this._calculateAllHeights(n.h<=this._lastLayoutHeight);h=!1;for(c=0;c<a&&!h;c++)if(g=this._panelInfo[c],(d=0===r[c])&&!g.isCollapsed&&!this._isCollapsing(g)||!d&&g.isCollapsed&&!this._isExpanding(g))h=!0;if(h&&this.animationEnabled&&y.isAnimationEnabled()){for(c=
0;c<a;c++)if(g=this._panelInfo[c],d=0===r[c],!d||!g.isCollapsed)g.animationStartHeight=g.isCollapsed?0:l.getMarginBox(g.widget.domNode).h,g.animationHeightChange=r[c]-g.animationStartHeight,g.animationStartTime=p,g.animationDuration=u.computeDuration(g.animationHeightChange);this._animationTimer||(this._animationTimer=setInterval(e.hitch(this,"layout"),u.UPDATE_INTERVAL))}d=e.clone(n);h=!1;for(c=0;c<a;c++)if(g=this._panelInfo[c],f=e.clone(d),f.t-=g.titleBar?this._splitterThickness/2:this._splitterOverlap,
f.h=this._splitterThickness,l.setMarginBox(g.splitterNode,f),0<c&&(d.t+=g.titleBar?0:this._visibleSplitterThickness),g.titleBar&&(d.h=z.getPreferredHeight(),l.setMarginBox(g.titleBar.domNode,d),d.t+=d.h),g.animationStartTime&&(f=p-g.animationStartTime,f>=g.animationDuration?(delete g.animationStartTime,delete g.animationDuration,delete g.animationStartHeight,delete g.animationHeightChange):(h=!0,r[c]=g.animationStartHeight+g.animationHeightChange*b.cubicInOut(f/g.animationDuration))),0===r[c]?g.isCollapsed||
(this._finishCollapse(g),k=!0):g.isCollapsed&&(this._finishExpand(g),this._animationTimer?this._animatingExpand=!0:m=!0),!g.isCollapsed&&(d.h=r[c],y.setSize(g.widget,d),this._splitterDragInfo&&(g.initialHeight&&g.initialHeight!=r[c])&&(g.userAdjustedHeight=!0),d.t+=d.h,!g.animationStartTime||0<g.animationHeightChange))g.lastExpandedHeight=d.h;this._animationTimer&&!h&&(this._animatingExpand&&(m=!0,delete this._animatingExpand),clearInterval(this._animationTimer),delete this._animationTimer,this._animationDoneResponse&&
(this._animationDoneResponse(),delete this._animationDoneResponse));this._lastLayoutHeight=n.h;(k||m)&&this.emit(w.STATE_CHANGED)}}}},_createPanelInfo:function(a){return{widget:a,isCollapsible:!0,isResizable:!0,minSize:40,maxSize:Number.MAX_VALUE}},_getInfoFromWidget:function(a,b){b.panelId=a.panelId;void 0!==a.title&&(b.isCollapsible=!0);void 0!==a.isCollapsible&&(b.isCollapsible=a.isCollapsible);void 0!==a.closable&&(b.closable=a.closable);void 0!==a.portion&&(b.portion=a.portion);void 0!==a.minSize&&
(b.minSize=a.minSize);void 0!==a.maxSize&&(b.maxSize=a.maxSize);void 0!==a.preferredHeight&&(b.preferredHeight=a.preferredHeight)},_bindChildProperties:function(a,b){var c=this,d,e,f;!a.properties&&(b.watch&&b.set&&b.get)&&(a.properties=b,d=b.watch(v.IS_COLLAPSED,function(b,d,e){e!==a.isCollapsed&&(e?c._collapse(a):c._expand(a))}),e=b.watch(v.IS_OPEN,function(b,d,e){e||c._closePanel(a)}),f=b.watch(v.INDEX,function(b,d,e){!c._isUpdatingIndices&&(d!==e&&d===c._panelInfo.indexOf(a)&&e<c._panelInfo.length)&&
(c._changePanelIndex(d,e),c.layout())}),a.unbindChildProperties=function(){d&&d.remove();e&&e.remove();f&&f.remove();delete a.properties;delete a.unbindChildProperties})},_panelIndexFromDomId:function(a){var b;for(b=0;b<this._panelInfo.length;b++)if(this._panelInfo[b].widget.id===a)return b;return-1},_panelIndexFromPanelId:function(a){var b;for(b=0;b<this._panelInfo.length;b++)if(this._panelInfo[b].panelId===a)return b;return-1},_panelIndexFromProperties:function(a){var b;for(b=0;b<this._panelInfo.length;b++)if(this._panelInfo[b].properties===
a)return b;return-1},_panelIndexFromTitle:function(a){var b;for(b=0;b<this._panelInfo.length;b++)if(this._panelInfo[b].properties.title===a)return b;return-1},_panelIndexFromString:function(a){var b=this._panelIndexFromPanelId(a);0>b&&(b=this._panelIndexFromTitle(a));return b},_getPanelInfoFromDomId:function(a){a=this._panelIndexFromDomId(a);return 0<=a?this._panelInfo[a]:null},_getPanelIndex:function(a){var b=typeof a;return"number"===b?a:"string"===b?this._panelIndexFromString(a):this._panelIndexFromDomId(a.id)},
_collapse:function(a){!a.isCollapsed&&a.isCollapsible&&(a.explicitlyCollapsed=!0,a.explicitlyExpanded=!1,this.layout(),this._portionsAreStale=!0)},_expand:function(a){a.isCollapsed&&(a.explicitlyCollapsed=!1,a.explicitlyExpanded=!0,this.layout(),this._portionsAreStale=!0)},_finishCollapse:function(a){a.isCollapsed=!0;a.explicitlyExpanded=!1;m.set(a.widget.domNode,"display","none");a.properties&&(a.properties.set(v.IS_COLLAPSED,!0),a.properties.set(v.IS_SHOWING,!1))},_finishExpand:function(a){a.isCollapsed=
!1;a.explicitlyCollapsed=!1;m.set(a.widget.domNode,"display","block");a.properties&&(a.properties.set(v.IS_COLLAPSED,!1),a.properties.set(v.IS_SHOWING,!0))},_toggleExpand:function(a,b){a.titleBar&&a.titleBar.get(v.IS_COLLAPSIBLE)&&(a.isCollapsed?(this._expand(a),a.properties&&a.properties.set(v.IS_SELECTED,!0)):(a.distributeUnusedHeight=b.ctrlKey,this._collapse(a)))},_updateExpandCollapseControlVisibility:function(){var a,b;if(1===this._panelInfo.length)(a=this._panelInfo[0].titleBar)&&a.set(v.IS_COLLAPSIBLE,
!1);else for(a=0;a<this._panelInfo.length;a++)b=this._panelInfo[a],b.titleBar&&b.titleBar.set(v.IS_COLLAPSIBLE,b.isCollapsible)},_isPopulatedPerState:function(a){if(a.length!==this._panelInfo.length)return!1;var b;for(b=0;b<a.length;b+=1)if(0>this._panelIndexFromPanelId(a[b].panelId))return!1;return!0},_restoreState:function(a){var b=[];b.length=this._panelInfo.length;var c,d;for(d=0;d<a.length;d+=1)c=this._panelIndexFromPanelId(a[d].panelId),c=this._panelInfo[c],c.portion=a[d].portion,c.explicitlyCollapsed=
a[d].collapsed,c.explicitlyCollapsed!==c.isCollapsed&&(c.explicitlyCollapsed?this._finishCollapse(c):this._finishExpand(c)),b[d]=c;this._panelInfo=b;this.endStateRestore();this._updatePanelIndices();this.layout()},_canDragSplitter:function(a){return 0<this._panelInfo.indexOf(a)},_beginSplitterDrag:function(a,b){s.isLeft(b)&&this._canDragSplitter(a)&&(this._splitterDragInfo=this._initSplitterDragInfo(a,b.pageX,b.pageY),this._splitterDragInfo.connections=[f(this.ownerDocument,p.move,e.hitch(this,"_continueSplitterDrag")),
f(this.ownerDocument,p.release,e.hitch(this,"_endSplitterDrag"))],D.blockUntilRelease(this.domNode));y.stopEvent(b)},_initSplitterDragInfo:function(a,b,c){b={panelInfo:a};var d=l.getContentBox(this.domNode,this.computedStyle),e=a.splitterBox||l.getMarginBox(a.splitterNode);b.startY=c;b.initialPosition=e.t;b.splitterPosition=e.t;b.initialHeights=[];b.initialHeights.length=this._panelInfo.length;for(c=0;c<this._panelInfo.length;c+=1)e=this._panelInfo[c],b.initialHeights[c]=e.isCollapsed?e.explicitlyCollapsed?
0:this._getMinPanelHeight(e):l.getMarginBox(e.widget.domNode).h;c=this._panelInfo.indexOf(a);b.lowerLimit=d.t+this._getMinHeight(0,c);b.upperLimit=d.t+d.h-this._getMinHeight(c,this._panelInfo.length-c);return b},_continueSplitterDrag:function(a){var b=this._splitterDragInfo,c=b.initialPosition+(a.pageY-b.startY);b.proportionalResize=a.ctrlKey;c<b.lowerLimit?c=b.lowerLimit:c>b.upperLimit&&(c=b.upperLimit);c!==b.splitterPosition&&(b.hasMoved=!0,b.splitterPosition=c,this.layout())},_endSplitterDrag:function(){var a=
this._splitterDragInfo;a.hasMoved?(this._animationTimer?this._animationDoneResponse=function(){this._updatePortions();delete this._splitterDragInfo}:(this._updatePortions(),delete this._splitterDragInfo),this.emit(w.STATE_CHANGED)):delete this._splitterDragInfo;a.connections.forEach(function(a){a.remove()})},_beginTitleDrag:function(a,b){s.isLeft(b)?this._beginTitleDragAtPoint(a,b.pageX,b.pageY):a.closable&&(s.isMiddle(b)&&!q("ie"))&&this._closePanel(a)},_beginTitleDragAtPoint:function(a,b,c){this._titleDragInfo=
this._initTitleDragInfo(a,b,c);this._titleDragInfo.connections=[f(this.ownerDocument,p.move,e.hitch(this,"_continueTitleDrag")),f(this.ownerDocument,p.release,e.hitch(this,"_endTitleDrag",!1))];D.blockUntilRelease(this.domNode)},_initTitleDragInfo:function(a,b,c){var d={panelInfo:a};d.startY=c;d.startX=b;d.lastY=c;d.initialIndex=this._panelInfo.indexOf(a);d.currentIndex=d.initialIndex;d.panelHeight=l.getMarginBox(a.widget.domNode).h;d.initialTops=this._getTops();return d},_getTops:function(){var a,
b,c=[];c.length=this._panelInfo.length+1;for(b=0;b<this._panelInfo.length;b+=1)a=this._panelInfo[b],c[b]=a.titleBar?l.getMarginBox(a.titleBar.domNode).t:l.getMarginBox(a.splitterNode).t+this._splitterOverlap;a?a.isCollapsed?c[b]=c[b-1]+(a.titleBar?z.getPreferredHeight():this._visibleSplitterThickness):(a=l.getMarginBox(a.widget.domNode),c[b]=a.t+a.h):(a=l.getContentBox(this.domNode,this.computedStyle),c[b]=a.t+a.h);return c},_continueTitleDrag:function(a){var b=this._titleDragInfo,c=b.panelInfo,f=
a.pageY-b.startY,g=a.pageY-b.lastY,k=l.position(this.domNode),p=l.getContentBox(this.domNode,this.computedStyle),n;if(!b.hasMoved){if(b.startY===a.pageY&&b.startX===a.pageX)return;h.add(c.titleBar.domNode,"movingPanel");c.isCollapsed||h.add(c.widget.domNode,"movingPanel");m.set(c.splitterNode,{visibility:"hidden"});c.moveBackground=d.create("div",{id:this.id+"MoveBackground"},this.domNode);h.add(c.moveBackground,"moveBackground");b.hasMoved=!0}b.lastY=a.pageY;this.dragOutEnabled&&(a.pageX<k.x||a.pageX>
k.x+k.w)?this._dragOut(c,{x:a.pageX,y:a.pageY}):(k=e.clone(p),k.t=b.initialTops[b.initialIndex],n=p.t+p.h,a=b.initialTops[b.initialIndex+1]-k.t,k.t+=f,k.t<p.t?k.t=p.t:k.t+a>n&&(k.t=n-a),f=k.t,p=k.t+a,k.h=a,this._positionPanel(c,k),0>g&&0<b.currentIndex?(c=(g=b.currentIndex>b.initialIndex)?b.currentIndex:b.currentIndex-1,g=(b.initialTops[c]+b.initialTops[c+1])/2-(g?a:0),f<g&&(g=this._panelInfo[c],k.t=b.initialTops[c],k.h=b.initialTops[c+1]-k.t,c<b.initialIndex&&(k.t+=a),this._movePanel(g,k),b.currentIndex-=
1)):0<g&&b.currentIndex<this._panelInfo.length-1&&(c=(g=b.currentIndex<b.initialIndex)?b.currentIndex:b.currentIndex+1,g=(b.initialTops[c]+b.initialTops[c+1])/2+(g?a:0),p>g&&(g=this._panelInfo[c],k.t=b.initialTops[c],k.h=b.initialTops[c+1]-k.t,c>b.initialIndex&&(k.t-=a),this._movePanel(g,k),b.currentIndex+=1)))},_endTitleDrag:function(a){var b=this,c=this._titleDragInfo,e=c.panelInfo,f=c.hasMoved,g;a?(this._animationTimer&&(clearInterval(this._animationTimer),delete this._animationTimer,this._panelInfo.forEach(function(a){delete a.animationStartTime;
delete a.animationDuration;delete a.animationStartHeight;delete a.animationHeightChange})),e.moveBackground&&(d.destroy(e.moveBackground),delete e.moveBackground)):f&&((g=c.currentIndex!==c.initialIndex)&&this._changePanelIndex(c.initialIndex,c.currentIndex),a=l.getContentBox(this.domNode,this.computedStyle),a.t=c.currentIndex<=c.initialIndex?c.initialTops[c.currentIndex]:c.initialTops[c.currentIndex+1]-c.panelHeight,a.h=c.panelHeight,this._movePanel(e,a),this._animationDoneResponse=function(){h.remove(e.titleBar.domNode,
"movingPanel");e.isCollapsed||h.remove(e.widget.domNode,"movingPanel");m.set(e.splitterNode,{visibility:"visible"});e.moveBackground&&(d.destroy(e.moveBackground),delete e.moveBackground);f&&(b.layout(),g&&this.emit(w.STATE_CHANGED))});c.connections.forEach(function(a){a.remove()});delete this._titleDragInfo;!this._animationTimer&&this._animationDoneResponse&&(this._animationDoneResponse(),delete this._animationDoneResponse)},_changePanelIndex:function(a,b){var c=this._panelInfo[a];this._panelInfo.splice(a,
1);this._panelInfo.splice(b,0,c);this._updatePanelIndices()},_dragOut:function(a,b){var c=this._titleDragInfo,d;a.isCollapsed?(d=l.position(a.titleBar.domNode),d.h=200):d=l.position(a.widget.domNode);d.l=d.x;d.t=d.y;c={widget:a.widget,properties:a.properties,index:c.initialIndex,portion:a.portion,isCollapsed:a.isCollapsed,box:d,mousePoint:b};h.remove(a.widget.domNode,"movingPanel");this.emit(w.DRAG_OUT,c);0<=this._panelInfo.indexOf(a)&&this._endTitleDrag(!1)},dragIn:function(a,b){var c,d;if(b){d=
this._getTops();for(c=0;c<d.length-1&&!(b.y<(d[c]+d[c+1])/2);c+=1);}else c=a.index;this.addWithProperties(a.widget,a.properties,c);b&&this._beginTitleDragAtPoint(this._getPanelInfoFromDomId(a.widget.id),b.x,b.y)},_positionPanel:function(a,b){var c=b.h,d;a.moveBackground&&(d=e.clone(b),d.t-=1,d.h+=2,l.setMarginBox(a.moveBackground,d));a.titleBar?(b.h=z.getPreferredHeight(),l.setMarginBox(a.titleBar.domNode,b),b.t+=b.h,c-=b.h):(d=e.clone(b),d.t-=this._splitterOverlap,d.h=this._splitterThickness,l.setMarginBox(a.splitterNode,
d),b.t+=this._visibleSplitterThickness,c-=this._visibleSplitterThickness);a.isCollapsed||(b.h=c,y.setSize(a.widget,b))},_movePanel:function(a,b){!this.animationEnabled||!y.isAnimationEnabled()?this._positionPanel(a,b):(a.animationStartTop=a.titleBar?l.getMarginBox(a.titleBar.domNode).t:l.getMarginBox(a.splitterNode).t+this._splitterOverlap,a.animationStopBox=b,a.animationStartTime=(new Date).valueOf(),a.animationDuration=u.computeDuration(b.t-a.animationStartTop),this._animationTimer||(this._animationTimer=
setInterval(e.hitch(this,"_updatePanelPositions"),u.UPDATE_INTERVAL)))},_closePanel:function(a){var b=a.properties;this.removeChild(a.widget);b&&(b.set(v.IS_OPEN,!1),b.set(v.IS_SHOWING,!1))},_updatePanelPositions:function(){var a=!1,c=(new Date).valueOf(),d,f,g,h;for(d=0;d<this._panelInfo.length;d++)f=this._panelInfo[d],f.animationStartTime&&f.animationStopBox&&(h=c-f.animationStartTime,g=e.clone(f.animationStopBox),h<f.animationDuration?(g.t=f.animationStartTop+(g.t-f.animationStartTop)*b.cubicInOut(h/
f.animationDuration),a=!0):(delete f.animationStartTime,delete f.animationDuration),this._positionPanel(f,g));a||(clearInterval(this._animationTimer),delete this._animationTimer,this._animationDoneResponse&&(this._animationDoneResponse(),delete this._animationDoneResponse))},_updatePortions:function(a){var b,c,d;a=a||l.getContentBox(this.domNode,this.computedStyle).h-this._getOverhead();for(d=0;d<this._panelInfo.length;d++)b=this._panelInfo[d],c=b.isCollapsed?this._getMinPanelHeight(b):l.getContentBox(b.widget.domNode).h,
b.portion=c/a;this._portionsAreStale=!1},_getOverhead:function(a,b){if(void 0===a)a=0,b=this._panelInfo.length-1;else if(a>b){var c=a;a=b;b=c}var c=0,d,e;for(d=a;d<=b;d++)e=this._panelInfo[d],e.titleBar?c+=z.getPreferredHeight():0<d&&(c+=this._visibleSplitterThickness);return c},_getMinPanelHeight:function(a){return!a.isResizable?a.initialHeight:a.minSize instanceof Function?a.minSize():a.minSize},_getMaxPanelHeight:function(a){return!a.isResizable?a.initialHeight:a.maxSize instanceof Function?a.maxSize():
a.maxSize},_getMinHeight:function(a,b){var c,d,e=0;for(c=a;c<a+b;c++)d=this._panelInfo[c],d.titleBar?e+=z.getPreferredHeight():0<c&&(e+=this._visibleSplitterThickness),this._canCollapse(d)||(e+=this._getMinPanelHeight(d));return e},_canCollapse:function(a){return this.autoCollapseEnabled&&a.isCollapsible||a.isCollapsed},_calculateAllHeights:function(a){var b=l.getContentBox(this.domNode,this.computedStyle),c=[];c.length=this._panelInfo.length;var d,e;this._splitterDragInfo?(a=this._splitterDragInfo,
d=this._panelInfo.indexOf(a.panelInfo),e=a.splitterPosition-b.t,e=this._calculateHeights(d-1,0,e,a.proportionalResize,!1,c),this._calculateHeights(d,this._panelInfo.length-1,b.h-e,a.proportionalResize,!1,c)):this._calculateHeights(this._panelInfo.length-1,0,b.h,!0,a,c);return c},_calculateHeights:function(a,b,c,d,e,f){var g=c,h=0;c-=this._getOverhead(a,b);var k=[],m,l,p,n,r;n=0;var u=[],q=[];u.length=f.length;q.length=f.length;if(a<=b){m=a;for(l=b;a<=b;a++)k.push(a)}else{m=b;for(l=a;a>=b;a--)k.push(a)}if(d){r=
b=0;p=1/this._panelInfo.length;for(a=m;a<=l;a++)d=this._panelInfo[a],this._keepCollapsed(d,e)?!d.isCollapsed&&!d.distributeUnusedHeight&&(r+=d.portion||p):(n=this._getFixedHeight(d))?h+=n:(d.workingPortion=d.portion||p,0<r&&(d.workingPortion+=r,r=0),b+=d.workingPortion);if(0<r)for(a=l-1;a>=m;a--)if(d=this._panelInfo[a],!this._keepCollapsed(d,e))if(n=this._getFixedHeight(d))h+=n;else{d.workingPortion+=r;b+=r;break}for(a=n=0;a<k.length;a++)p=k[a],d=this._panelInfo[p],f[p]=0,this._keepCollapsed(d,e)||
(u[p]=this._getMinPanelHeight(d),q[p]=this._getMaxPanelHeight(d),f[p]=this._getFixedHeight(d),f[p]||(f[p]=Math.min(Math.max((c-h)*d.workingPortion/b,u[p]),q[p])),n+=f[p]);n-=c;0<n&&(n=this._reduceThenCollapse(n,k,u,f));for(e=0;0>n&&3>e;e++){for(a=b=0;a<k.length;a++)p=k[a],d=this._panelInfo[p],0<f[p]&&f[p]<q[p]&&(b+=d.workingPortion);if(0===b)break;c=-n;for(a=0;a<k.length;a++)p=k[a],d=this._panelInfo[p],0<f[p]&&(h=c*d.workingPortion/b,n+=h,f[p]+=h,f[p]>q[p]&&(n+=q[p]-f[p],f[p]=q[p]))}}else if(this._splitterDragInfo){for(a=
n=0;a<k.length;a++)p=k[a],d=this._panelInfo[p],u[p]=this._getMinPanelHeight(d),q[p]=this._getMaxPanelHeight(d),f[p]=this._splitterDragInfo.initialHeights[p],0===f[p]&&(f[p]=u[p]),n+=f[p];n-=c;0<n&&(n=this._reduceAndCollapse(n,k,u,f));if(0>n)for(a=0;a<k.length;a++)if(p=k[a],0<f[p])if(f[p]-=n,n=0,f[p]>q[p])n=q[p]-f[p],f[p]=q[p];else break;if(0>n&&l===this._panelInfo.length-1)for(p=m-1;0<=p;p-=1)if(0<f[p])if(f[p]-=n,n=0,f[p]>q[p])n=q[p]-f[p],f[p]=q[p];else break}return g+n},_reduceThenCollapse:function(a,
b,c,d){var e,f,g;for(f=0;0<a&&f<b.length;f++)e=b[f],0<d[e]&&d[e]>c[e]&&(g=Math.min(d[e]-c[e],a),d[e]-=g,a-=g);if(0<a&&this.autoCollapseEnabled){for(f=0;0<a&&f<b.length;f++)e=b[f],c=this._panelInfo[e],0<d[e]&&c.isCollapsed&&(25>a?(d[e]-=a,a=0):c.isCollapsible&&(a-=d[e],d[e]=0));for(f=0;0<a&&f<b.length;f++)e=b[f],c=this._panelInfo[e],0<d[e]&&(25>a?(d[e]-=a,a=0):c.isCollapsible&&(a-=d[e],d[e]=0))}return a},_reduceAndCollapse:function(a,b,c,d){var e,f,g,h;for(g=0;0<a&&g<b.length;g++)e=b[g],f=this._panelInfo[e],
0<d[e]&&(h=d[e]-c[e],h<a&&this.autoCollapseEnabled&&f.isCollapsible?(a-=d[e],d[e]=0):0<h&&(f=Math.min(h,a),d[e]-=f,a-=f));return a},_isCollapsing:function(a){return void 0!==a.animationStartHeight&&0===a.animationStartHeight+a.animationHeightChange},_isExpanding:function(a){return 0===a.animationStartHeight},_keepCollapsed:function(a,b){return a.explicitlyCollapsed||a.isCollapsed&&!a.explicitlyExpanded&&b},_getFixedHeight:function(a){return a.userAdjustedHeight&&a.isResizable?void 0:a.initialHeight},
_updatePanelIndices:function(){this._isUpdatingIndices=!0;var a,b;for(i=0;i<this._panelInfo.length;i++)a=this._panelInfo[i],(b=a.properties)&&b.get(v.INDEX)!==i&&b.set(v.INDEX,i),a.splitterNode&&m.set(a.splitterNode,"display",0===i?"none":"block");this._isUpdatingIndices=!1}});F.stateIncludes=function(a,b){var c;for(c=0;c<a.length;c+=1)if(a[c].panelId===b)return!0;return!1};return F})},"MW/toolstrip/constants/DisplayStateConstants":function(){define([],function(){return{COLLAPSED:"collapsed",EXPANDED:"expanded",
EXPANDED_ON_TOP:"expanded_on_top"}})},"MW/toolstrip/constants/TypeConstants":function(){define([],function(){return{TOOLSTRIP_ROOT:"ToolstripRoot",QAB_ROOT:"QABRoot",POPUP_ROOT:"PopupRoot",GALLERY_ROOT:"GalleryRoot",GALLERY_POPUP_ROOT:"GalleryPopupRoot",GALLERY_FAVORITE_CATEGORY_ROOT:"GalleryFavoriteCategoryRoot",TOOLSTRIP:"Toolstrip",QAB:"QuickAccessBar",QA_GROUP:"QuickAccessGroup",TAB_GROUP:"TabGroup",TAB:"Tab",SECTION:"Section",PANEL:"Panel",COLUMN:"Column",COLOR_PICKER_BUTTON:"ColorPickerButton",
GRID_PICKER_BUTTON:"GridPickerButton",PUSH_BUTTON:"PushButton",DROP_DOWN_BUTTON:"DropDownButton",SPLIT_BUTTON:"SplitButton",TOGGLE_BUTTON:"ToggleButton",POPUP_LIST:"PopupList",LIST_ITEM:"ListItem",POPUP_LIST_PANEL:"PopupListPanel",LIST_ITEM_WITH_CHECKBOX:"ListItemWithCheckBox",LIST_ITEM_WITH_TEXTFIELD:"ListItemWithTextField",LIST_ITEM_WITH_RADIO_BUTTON:"ListItemWithRadioButton",LIST_ITEM_WITH_POPUP:"ListItemWithPopup",POPUP_LIST_SEPARATOR:"PopupListSeparator",POPUP_LIST_HEADER:"PopupListHeader",COMBO_BOX:"ComboBox",
LIST:"List",LABEL:"Label",EMPTY_CONTROL:"EmptyControl",TEXT_FIELD:"TextField",TEXT_AREA:"TextArea",SPINNER:"Spinner",HORIZONTAL_SLIDER:"HorizontalSlider",RADIO_BUTTON:"RadioButton",CHECK_BOX:"CheckBox",TOGGLE_SPLIT_BUTTON:"ToggleSplitButton",FOOTER:"Footer",FOOTER_CELL:"FooterCell",QAB_PUSH_BUTTON:"QABPushButton",QAB_DROP_DOWN_BUTTON:"QABDropDownButton",QAB_SPLIT_BUTTON:"QABSplitButton",QAB_TOGGLE_BUTTON:"QABToggleButton",QAB_TOGGLE_SPLIT_BUTTON:"QABToggleSplitButton",QAB_FLOATING_PANE_DOCK:"QABFloatingPaneDock",
MENUBAR_WRAPPER:"MenubarWrapper",TOOLBAR_WRAPPER:"ToolbarWrapper",GALLERY:"Gallery",GALLERY_POPUP:"GalleryPopup",GALLERY_CATEGORY:"GalleryCategory",GALLERY_FAVORITE_CATEGORY:"GalleryFavoriteCategory",GALLERY_ITEM:"GalleryItem",TOGGLE_GALLERY_ITEM:"ToggleGalleryItem"}})},"MW/uiframework/FocusManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/query dijit/popup dijit/registry".split(" "),function(g,c,e,a,b,f,k,h){var d=function(b){for(;b;){if(b.getAttribute&&
"refuse"===b.getAttribute("data-focus")||"refuse"===a.get(b,"data-focus"))return!0;b=b.parentNode}return!1},l=function(b){for(;b;){if("temporary"===a.get(b,"data-focus"))return!0;b=b.parentNode}return!1},m=function(b){for(var c=f("[data-tag\x3d'motwToolstrip.figureTab.menuAndToolbars.menubarWrapper']"),c=0<c.length?c[0]:null;b&&!("accept"===a.get(b,"data-focus")||c&&e.isDescendant(b,c));){if("refuse"===a.get(b,"data-focus"))return!1;b=b.parentNode}return!0},n=null,q=null,s=null,p=g(null,{_restoreFocusToLastNonRefuseElementHandler:function(){p.restoreToLastNonRefuseElement()},
_restoreFocusHandler:function(){p.restoreFocus()},_blurHandler:function(){p._windowBlurred=!0},_mouseDownHandler:function(a){!l(a.target)&&!m(a.target)&&(d(a.target)?setTimeout(function(){0===k._stack.length&&(h.getEnclosingWidget(q)&&h.getEnclosingWidget(q).set("focused",!0),q&&q.focus())},0):0<k._stack.length?setTimeout(function(){q&&q.focus()},0):q=a.target)},_focusHandler:function(c){if("IFRAME"!==c.target.tagName)if(!0===p._windowBlurred)p._windowBlurred=!1,p.restoreFocus();else if(n=c.target,
!d(n)&&!l(n)&&(s=c.target),!(n.getAttribute&&"temporary"===n.getAttribute("data-focus")||"temporary"===a.get(n,"data-focus"))&&!l(n))m(n)?c.target!==document.body&&(q=c.target):d(n)?q?setTimeout(function(){var a;if(!(a=0===k._stack.length&&q))a:{for(a=c.target;a;){if(b.contains(a,"dijitPopup")){a=!0;break a}a=a.parentNode}a=!1}a&&q.focus()},0):document.activeElement.blur():c.target!==document.body&&(q=c.target)},_closeHandler:function(a){a.target.contains(document.activeElement)&&q&&q.focus()},constructor:function(a,
b){p._instantiated=!0;b&&p.refuseFocus(b.domNode);document.addEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);document.addEventListener("restorefocus",this._restoreFocusHandler);window.addEventListener("blur",this._blurHandler);window.addEventListener("focus",this._focusHandler,!0);document.addEventListener("mousedown",this._mouseDownHandler,!0);document.addEventListener("close",this._closeHandler,!0);document.body.classList.add("mwHasFocusManager")},
destroy:function(){document.removeEventListener("restorefocustolastnonrefuseelement",this._restoreFocusToLastNonRefuseElementHandler);document.removeEventListener("restorefocus",this._restoreFocusHandler);window.removeEventListener("blur",this._blurHandler);window.removeEventListener("focus",this._focusHandler,!0);document.removeEventListener("mousedown",this._mouseDownHandler,!0);document.body.classList.remove("mwHasFocusManager")}});p.refuseFocus=function(a){a.setAttribute("data-focus","refuse")};
p.acceptFocus=function(a){a.setAttribute("data-focus","accept")};p.temporaryFocus=function(a){a.setAttribute("data-focus","temporary")};p.restoreFocus=function(a){a?q.focus():setTimeout(function(){q&&q.focus()},0)};p.restoreToLastNonRefuseElement=function(){setTimeout(c.hitch(this,function(){s&&s.focus()},0))};p.isAvailable=function(){return!0===p._instantiated?!0:!1};return p})},"MW/uiframework/UIBuilderFactory":function(){define(["./UIBuilder","mw-actiondataservice/ActionDataService"],function(g,
c){var e={};return{getInstance:function(a){a=a||{};a.channel=a.channel||"/DefaultUIBuilderPeerModelChannel";a.enableQABCustomization=a.enableQABCustomization||!1;e[a.channel]||(a.isMATLABDriven=!!a.isMATLABDriven,a.actionService=a.actionService||new c({nameSpace:a.channel+"_Action",mode:a.isMATLABDriven?"ActAsClient":"StandAlone"}),e[a.channel]=new g(a));return e[a.channel]},destroyInstance:function(a){a=a||"/DefaultUIBuilderPeerModelChannel";e[a]&&(e[a].cleanup(),delete e[a])}}})},"MW/uiframework/UIBuilder":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry ./constants/TypeConstants ./managers/ModelManager ./managers/WidgetManager ./supportedUIBuilderFunctions".split(" "),
function(g,c,e,a,b,f,k){return g(null,{constructor:function(g){var d,l;d=new b(g);l=new f({modelManager:d});k.fromModelManager.forEach(function(a){this[a]=c.hitch(d,d[a])},this);k.fromWidgetManager.forEach(function(a){this[a]=c.hitch(l,l[a])},this);this.cleanup=function(){d.cleanup();l.cleanup()};g.manageTabGroupsOutsidePeerModel&&(this.add=function(b,c,e){(e=d.manager.getById(b))&&e.getType()===a.TAB_GROUP?l.addOutsidePeerModel(b,c):d.add(b,c,indes)},this.remove=function(b){var c=d.manager.getById(b);
c&&c.getType()===a.TAB_GROUP?l.removeOutsidePeerModel(b):d.remove(b)},this.get=function(b,c){if("selectedTab"===c&&d.manager.getById(b).getType()===a.TOOLSTRIP){var f=e.byId(b);return f?f.get(c):""}return d.get(b,c)},this.set=function(b,c,f){if("selectedTab"===c&&d.manager.getById(b).getType()===a.TOOLSTRIP)(b=e.byId(b))&&b.set(c,f);else return d.set(b,c,f)},this.getChildrenIds=function(b){if(d.manager.getById(b).getType()===a.TOOLSTRIP){b=e.byId(b).getChildren();var c=[];c.length=b.length;for(var f=
0;f<c.length;f++)c[f]=b[f].id;return c}return d.getChildrenIds(b)},this.isAnOrphan=function(b){return d.manager.getById(b).getType()===a.TAB?(b=e.byId(b),!(b&&b.getParent()&&b.getParent().getParent())):d.isAnOrphan(b)},this.selectFirstTabInTabGroup=function(a,b){var c=d.tagToPeerNodeIdMap[a];if(c&&(c=d.manager.getById(c))&&0<c.getChildren().length){var f=e.byId(b);f&&(f.set("selectedTab",""),f.set("selectedTab",c.getChildren()[0].getId()))}},this.addPropertySetCallback=function(b,c,f){return d.manager.getById(b).getType()===
a.TOOLSTRIP?(b=e.byId(b))?b.watch(function(a,b,d){c({property:a,oldValue:b,newValue:d})}):null:d.addPropertySetCallback(b,c,f)})}})})},"MW/uiframework/constants/TypeConstants":function(){define(["dojo/_base/lang","MW/toolstrip/constants/TypeConstants"],function(g,c){var e={ROOT:"Root",ORPHAN_ROOT:"OrphanRoot"};g.mixin(e,c);return e})},"MW/uiframework/managers/ModelManager":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/dom dojo/dom-attr mw-peermodel/PeerModelManager mw-peermodel/_PeerModelListenerMixin ../constants/TypeConstants ../hashes/ComponentPropertiesHash ../hashes/IconPropertiesSupportingBase64 ../hashes/ComponentsWithNoParent MW/toolstrip/hashes/ComponentsSupportedByFooterCell MW/toolstrip/hashes/ComponentsEligibleForQAB MW/toolstrip/ToolstripUtils ../../toolstrip/hashes/listOfNewWidgets MW/toolstrip/hashes/DefaultGalleryItemWidths mw-log/Log".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){return g([k],{constructor:function(a){a=a||{};this.isMATLABDriven=a.isMATLABDriven;this._channel=a.channel;this.actionService=a.actionService;this.enableQABCustomization=a.enableQABCustomization;this._autoGeneratedActions={};this.tagToPeerNodeIdMap={};this._typeToRootNodeMap={};this._setupPeerModelManager()},_setupPeerModelManager:function(){var a;this.manager=f.getInstance(this._channel);this.addManagerListeners();this.isMATLABDriven?this.start():(this._root=
this.manager.setRoot(h.ROOT),this._root.addChild(h.ORPHAN_ROOT),this._root.addChild(h.TOOLSTRIP_ROOT),this._root.addChild(h.POPUP_ROOT),this._root.addChild(h.QAB_ROOT),a=this._root.addChild(h.GALLERY_ROOT),a.addChild(h.GALLERY_POPUP_ROOT),a.addChild(h.GALLERY_FAVORITE_CATEGORY_ROOT))},create:function(a){var b,e,f,g;this._supportBase64URL(a);e=c.clone(a);f=e.parentId;b=this._verifyProperties(e);if(s.supportsAction(a.type))if(a.actionId){if(g=this.actionService.getAction(a.actionId))this._supportBase64URL(g),
this._convertPopupTagToId(g),Object.keys(d[a.type]).forEach(function(c){d[a.type][c].notInAction||this._isAValidValue(g[c],d[a.type][c],d[a.type])||(g[c]=b.actionNodeProps[c])},this),this.actionService.updateAction(a.actionId,g)}else b.viewNodeProps.actionId=this.actionService.addAction(b.actionNodeProps),this._autoGeneratedActions[b.viewNodeProps.actionId]=!0;e=this._getCorrespondingParentNode(b.type,f);s.isAFooterCell(e.getType())&&-1===n.indexOf(a.type)&&t.error(a.type+" is not supported by Footer Cell");
e=e.addChild(b.type,b.viewNodeProps);"Toolstrip"===b.type&&f&&this.placeToolstripById(e.getId(),f);this._postProcessing(e);return e.getId()},_getCorrespondingParentNode:function(a,b){var c;switch(a){case h.TOOLSTRIP:c=this._getRootNodeByType(h.TOOLSTRIP_ROOT);break;case h.QAB:c=this._getRootNodeByType(h.QAB_ROOT);break;case h.POPUP_LIST:c=this.exists(b)?this.manager.getById(b):this._getRootNodeByType(h.POPUP_ROOT);break;case h.GALLERY_POPUP:c=this._getRootNodeByType(h.GALLERY_POPUP_ROOT);break;case h.GALLERY_FAVORITE_CATEGORY:c=
this._getRootNodeByType(h.GALLERY_FAVORITE_CATEGORY_ROOT);break;default:c=this.exists(b)?this.manager.getById(b):this._getRootNodeByType(h.ORPHAN_ROOT)}return c},_findAncestorTabGroupId:function(a){for(;this.get(a,"type")!==h.TAB_GROUP;)if(null===a||this._root===this.manager.getById(a)){a=null;break}else a=this.getParentId(a);return a},_createCorrespondingComponentInQAB:function(a,b){var c=this._findAncestorTabGroupId(a);if(null!==c){var c=this.get(c,"QAGroupId"),d=this.get(a,"actionId"),e=this.get(a,
"tag")+"_qab",f=[];this.manager.getByType(h.QA_GROUP).forEach(function(a){f=f.concat(this.manager.getByProperty("actionId",d,a))},this);0===f.length&&(a=this.create({type:q[this.get(a,"type")],tag:e,actionId:d,parentId:c}),b&&this.move(a,c,0),this._hookupRemoveFromQABListener(a));return a}},_hookupAddToQABListener:function(a){var b=this.get(a,"actionId");this.actionService._actionById(b).addEventListener("propertySet",function(b){"isInQAB"===b.data.key&&!0===b.data.newValue&&this._createCorrespondingComponentInQAB(a,
!0)},this)},_hookupRemoveFromQABListener:function(a){var b=this.get(a,"actionId");this.actionService._actionById(b).addEventListener("propertySet",function(b){"isInQAB"===b.data.key&&!1===b.data.newValue&&this.exists(a)&&this.destroy(a)},this)},_postProcessing:function(a){var b,c;-1<Object.keys(q).indexOf(a.getType())&&(this._hookupAddToQABListener(a.getId()),!0===this.get(a.getId(),"isInQAB")&&this._createCorrespondingComponentInQAB(a.getId()));switch(a.getType()){case h.TOOLSTRIP:b=this.create({type:h.QAB});
this.set(a.getId(),"QABId",b);break;case h.TAB_GROUP:c=a.getParent();c.getType()===h.TOOLSTRIP&&(b=c.getProperty("QABId"));c=this.get(a.getId(),"tag");b=this.create({type:h.QA_GROUP,parentId:b,tag:c?c+"_qaGroup":""});this.set(a.getId(),"QAGroupId",b);break;case h.GALLERY_POPUP:b=this.create({type:h.GALLERY_FAVORITE_CATEGORY});this.set(a.getId(),"favCategoryId",b);break;case h.GALLERY:this.set(a.getId(),"currentColumnCount",this.get(a.getId(),"maxColumnCount"));break;case h.GALLERY_CATEGORY:this.addEventCallback(a.getId(),
function(b){"categoryMoved"===b.eventType&&(a.setProperty("animation",{shouldAnimate:!0,startId:"",endId:""}),this.manager.move(a,a.getParent(),0))},this);break;case h.QA_GROUP:case h.GALLERY_FAVORITE_CATEGORY:this.addEventCallback(a.getId(),function(b){"itemMoved"===b.eventType&&this.manager.move(this.manager.getById(b.itemId),a,b.newIndex)},this);break;case h.GALLERY_ITEM:case h.TOGGLE_GALLERY_ITEM:this.addEventCallback(a.getId(),function(b){var c;"favButtonPushed"===b.eventType&&(b=a.getProperty("tag"),
c=a.getProperty("actionId"),(c=this.actionService.getAction(c).isFavorite)?this.removeGalleryItemFromFavorites(b,!0,a.getId()):this.addGalleryItemToFavorites(b,!0,a.getId()))},this)}},addGalleryItemToFavorites:function(a,b,c){var d,e,f;b=b?!0:!1;if(f=this._peerNodeByTag(a,this._getRootNodeByType(h.GALLERY_POPUP_ROOT)))e=f.getParent(),a=f.getProperty("actionId"),d=this.actionService.getAction(a).isFavorite,d||(d=e.getParent().getProperty("favCategoryId"),this.create({type:f.getType(),tag:f.getProperty("tag"),
actionId:a,parentId:d,animation:{shouldAnimate:b,startId:c?c:f.getId(),endId:""}}),this.actionService.updateAction(a,{isFavorite:!0}))},removeGalleryItemFromFavorites:function(a,b,c){var d,e,f,g;b=b?!0:!1;this.exists(c)&&(f=this.manager.getById(c));if(a=this._peerNodeByTag(a,this._getRootNodeByType(h.GALLERY_POPUP_ROOT)))if(f=f?f.getParent():a.getParent(),a=a.getProperty("actionId"),d=this.actionService.getAction(a).isFavorite)f.getType()===h.GALLERY_FAVORITE_CATEGORY?(e=f.getId(),g=this.manager.getByProperty("actionId",
a,this.manager.getByProperty("favCategoryId",e,this._getRootNodeByType(h.GALLERY_POPUP_ROOT))[0])[0].getId()):f.getType()===h.GALLERY_CATEGORY&&(e=f.getParent().getProperty("favCategoryId"),g=c),c=this.manager.getByProperty("actionId",a,this.manager.getById(e))[0],c.setProperty("animation",{shouldAnimate:b,startId:"",endId:g}),this.destroy(c.getId()),this.actionService.updateAction(a,{isFavorite:!1})},add:function(a,b,c){var d,e;if(this._getRootNodeByType(h.ORPHAN_ROOT).hasDescendant(a))if(d=this.manager.getById(a),
e=this.manager.getById(b),t.assert(e,"The parentId provided is not valid!"),"FooterCell"===e._type&&-1===n.indexOf(d._type))t.warn(d._type+" is not supported by Footer Cell");else{if(0>c||c>e.getChildren().length)c=e.getChildren().length;this.manager.move(d,e,c);this.get(a,"type")===h.TAB_GROUP&&this.get(b,"type")===h.TOOLSTRIP&&(a=this.get(a,"QAGroupId"),b=this.get(b,"QABId"),this.add(a,b,this.manager.getById(b).getNumberOfChildren()-c))}else t.assert(!1,"The child being added should be an orphan!")},
remove:function(a){var b;this.exists(a)?(b=this.manager.getById(a),this.manager.move(b,this._getRootNodeByType(h.ORPHAN_ROOT)),this.get(a,"type")===h.TAB_GROUP&&this.remove(this.get(a,"QAGroupId"))):t.assert(!1,"The node does not exist!")},destroy:function(a){var b;this.exists(a)?(a=this.manager.getById(a),b=a.getProperty("actionId"),a.destroy(),this._autoGeneratedActions[b]&&0===this.manager.getByProperty("actionId",b).length&&(this.actionService.removeAction(b),delete this._autoGeneratedActions[b])):
t.assert(!1,"The node does not exist!")},get:function(a,b){var c,e;if(this.exists(a))return c=this.manager.getById(a),"type"===b?e=c.getType():d[c.getType()][b].notInAction?(t.assert(c.hasProperty(b),"This is not a valid property!"),e=c.getProperty(b)):s.supportsAction(c.getType())?(c=c.getProperty("actionId"),t.assert(this.actionService.actionHasProperty(c,b),"This is not a valid property!"),e=this.actionService.getAction(c)[b]):t.assert(!1,"This is not a valid property!"),e;t.assert(!1,"The node does not exist!")},
getChildrenIds:function(a){if(this.exists(a))return a=this.manager.getById(a),a.getChildren().map(function(a){return a.getId()});t.assert(!1,"The node does not exist!")},exists:function(a){return this.manager.hasById(a)},indexOf:function(a){var b=-1,c;c=this.manager.getById(a);this.getParentId(a)&&(b=c.getParent().getChildIndex(c));return b},isAnOrphan:function(a){return this._getRootNodeByType(h.ORPHAN_ROOT).hasDescendant(a)},getParentId:function(a){var b;if(!this.exists(a))return t.assert(!1,"A component with the given id does not exist!"),
null;b=this.manager.getById(a);return!this._getRootNodeByType(h.ORPHAN_ROOT).hasChild(a)&&-1===m.indexOf(b.getType())?b.getParent().getId():null},set:function(a,b,c,e){var f,g={};this.exists(a)?(a=this.manager.getById(a),f=d[a.getType()],f[b]&&this._isAValidValue(c,f[b],b)&&(f[b].notInAction?a.setProperty(b,c,e):s.supportsAction(a.getType())?(a=a.getProperty("actionId"),g[b]=c,this.actionService.updateAction(a,g,e)):t.assert(!1,"This is not a valid property!"))):t.assert(!1,"The node does not exist!")},
move:function(a,b,c){a=this.manager.getById(a);t.assert(a,"The node being moved does not exist!");b=this.manager.getById(b);t.assert(b,"The new parent node does not exist!");if(0>c||c>b.getChildren().length)c=b.getChildren().length;this.manager.move(a,b,c)},getAllProperties:function(a){var b,e,f;b=this.manager.getById(a);e=b.getProperties();if(s.supportsAction(b.getType())&&(a=b.getProperty("actionId")))(f=this.actionService.getAction(a))&&Object.keys(f).forEach(c.hitch(this,function(a){d[b.getType()][a]||
delete f[a]})),e=c.mixin(e,f);return e},_supportBase64URL:function(a){var b;Object.keys(l).forEach(c.hitch(this,function(c){c in a&&(b=a[c],"string"===typeof b&&0===b.indexOf("url(")&&(a[c]=this._stripURL(b)))}))},_stripURL:function(a){a=a.slice(4);return a.slice(0,a.length-1)},_verifyProperties:function(a){var b={},c,e,f={viewNodeProps:{},actionNodeProps:{}};t.assert(a.type,"Type needs to be provided for all components!");c=d[a.type];f.type=a.type;this._convertPopupTagToId(a);Object.keys(c).forEach(function(d){this._isAValidValue(a[d],
c[d],d)?b[d]=a[d]:c[d].required?t.error(d+" needs to be provided for component of type "+a.type):b[d]=c[d].defaultValue},this);Object.keys(b).forEach(function(a){c[a].notInAction?f.viewNodeProps[a]=b[a]:f.actionNodeProps[a]=b[a]});f.type===h.GALLERY_POPUP?f.viewNodeProps.galleryItemWidth||(f.viewNodeProps.galleryItemWidth=r[f.viewNodeProps.galleryItemRowCount][f.viewNodeProps.galleryItemTextLineCount]):f.type===h.GALLERY&&(e=this.manager.getById(f.viewNodeProps.galleryPopupId),f.viewNodeProps.galleryItemWidth=
e.getProperty("galleryItemWidth"),f.viewNodeProps.galleryItemRowCount=e.getProperty("galleryItemRowCount"),f.viewNodeProps.galleryItemTextLineCount=e.getProperty("galleryItemTextLineCount"),f.viewNodeProps.scrollToSelection=e.getProperty("scrollToSelection"));return f},_convertPopupTagToId:function(a){var b,c={},d={popupTag:"popupId",galleryPopupTag:"galleryPopupId"};Object.keys(d).forEach(function(e){b=d[e];a[e]&&((e=this.tagToId(a[e]))&&(a[b]=e),c[b]=a[b],c[b]&&this.actionService.updateAction(a.id,
c))},this)},_isAValidValue:function(a,b,c){var d,e=!0;void 0===a||null===a?e=!1:"Array"===b.type?Array.isArray(a)||(t.warn(c+" property default type is "+b.type+" but you have passed "+typeof a),e=!1):(d=b.type.toLowerCase(),typeof a!==d&&(e=!1,a=Array.isArray(a)?"Array":typeof a,t.warn(c+" property default type is "+b.type+" but you have passed "+a)));return e},selectTab:function(a){var b;this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]),b=a.getParent(),this._widgetByPeerNode(b).set("selectedTab",
a.getId()))},selectFirstTabInTabGroup:function(a){if(this.tagToPeerNodeIdMap[a]&&(a=this.manager.getById(this.tagToPeerNodeIdMap[a]))&&0<a.getChildren().length)this.set(this.getParentId(a.getId()),"selectedTab",""),this.set(this.getParentId(a.getId()),"selectedTab",a.getChildren()[0].getId())},placeToolstripAt:function(a,b){var c=this.widgetByTag(a);c.placeAt(b);c.startup()},placeToolstripById:function(a,b){var c=this.widgetById(a);c.placeAt(b);c.startup()},widgetByTag:function(a){return e.byId(this.tagToId(a))},
widgetById:function(a){return e.byId(a)},_widgetByPeerNode:function(a){return e.byId(a.getId().toString())},_peerNodeByTag:function(a,b){b=b||this._getRootNodeByType(h.ROOT);return this.manager.getByProperty("tag",a,b)[0]},showPopup:function(c,d){var f=e.byId(c.toString());f&&a.byId(b.get(f.domNode,"widgetid"))&&(-1<p.indexOf(f.type)?(d&&f.set("menuId",d),f.showMenu()):(f.set("popupId",d),s.isAListItemWithPopup(f.get("type"))?f.getParent().hover_timer=f.getParent().defer(function(){f.getParent()._openItemPopup(f)},
f.getParent().popupDelay):f.toggleDropDown()))},addEventCallback:function(a,b,c){var d,e,f,g;t.assert(this.exists(a),"The node does not exist!");d=this.manager.getById(a);e=function(a){delete a.data.type;b.call(c||d.getProperties(),a.data)};d.addEventListener("peerEvent",e,c);s.supportsAction(d.getType())&&(a=d.getProperty("actionId"),f=this.actionService._actionById(a),g=function(a){delete a.data.type;b.call(c||f.getProperties(),a.data)},f.addEventListener("peerEvent",g,c));return{remove:function(){d.removeEventListener("peerEvent",
e,c);s.supportsAction(d.getType())&&f.removeEventListener("peerEvent",g,c)}}},addPropertySetCallback:function(a,b,c){var d,e,f,g=this;t.assert(this.exists(a),"The node does not exist!");e=this.manager.getById(a);f=function(a){a.originator&&"UI"===a.originator.source&&b.call(c||e.getProperties(),{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})};a=function(a,d){d&&"UI"===d.source&&b.call(c,a)};e.addEventListener("propertySet",f,c);s.supportsAction(e.getType())&&(d=e.getProperty("actionId"),
this.actionService.addActionChangeCallback(d,a,c));return{remove:function(){e.removeEventListener("propertySet",f,c);s.supportsAction(e.getType())&&g.actionService.removeActionChangeCallback(d)}}},tagToId:function(a){if(a)return this.tagToPeerNodeIdMap[a]},createPopupsFromConfig:function(a){a.popups.forEach(function(a){this._addConfigItem(a)},this)},createGalleryPopupFromConfig:function(a){this._addConfigItem(a)},addToolstripFromConfig:function(a){this.create(a)},addTabGroupFromConfig:function(a,
b,c){this._addConfigItem(this._findInConfig(a,b),c)},_addConfigItem:function(a,b){e.byId(a.id)?this.add(a.id,a.parentId):(b&&(a.parentId=this.tagToId(b)),a.id=this.create(a),a.children&&this._addChildren(a.id,a.children))},_addChildren:function(a,b){b.forEach(function(b){b.parentId=a;this._addConfigItem(b)},this)},_findInConfig:function(a,b){function c(a,b){a.tag===b?d=a:a.children&&a.children.forEach(function(a){c(a,b)})}var d;c(a,b);return d},cleanup:function(){this.isMATLABDriven||this._getRootNodeByType(h.ROOT).destroy();
this.actionService.destroy();f.cleanup(this._channel)},_getRootNodeByType:function(a){var b=null;if(this._typeToRootNodeMap[a])b=this._typeToRootNodeMap[a];else{var c=this.manager.getByType(a);c&&(b=c[0]);this._typeToRootNodeMap[a]=b}return b},getAllCategoriesInDescendingOrder:function(a){var b=[];a=a.getChildren();for(var c=a.pop();c;)b.push(c),c=a.pop();return b},getGalleryState:function(a){var b,c=[],d;a=this.tagToId(a);d={items:{tags:[],isFavorite:[]},categories:{tags:[]}};if(this.exists(a))return a=
this.manager.getById(a),b=this.manager.getById(a.getProperty("favCategoryId")),b=b.getChildren(),a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){c.push(a)})}),b.concat(c).forEach(function(a){var b;b=a.getProperty("actionId");a=a.getProperty("tag");b=this.actionService.getAction(b).isFavorite;-1===d.items.tags.indexOf(a)&&(d.items.tags.push(a),d.items.isFavorite.push(b))},this),d.categories.tags=a.getChildren().map(function(a){return a.getProperty("tag")}),a.setProperty("state",
d),d;t.assert(!1,"The node does not exist!")},setGalleryState:function(a,b){var c,d,e,f,g,h,k=0,m=this.tagToId(a);this.exists(m)?(c=this.manager.getById(m),f=c.getProperty("favCategoryId"),g=this.manager.getById(f),g.getChildren().forEach(function(a){-1!==b.items.tags.indexOf(a.getProperty("tag"))&&(this.actionService.updateAction(a.getProperty("actionId"),{isFavorite:!1}),a.destroy())},this),b.items.tags.forEach(function(a,e){var g;b.items.isFavorite[e]&&(d=this.manager.getByProperty("tag",a,c),
0<d.length&&(h=d[0].getProperty("actionId"),g=this.create({type:d[0].getType(),tag:a,actionId:h}),this.add(g,f,k),k+=1,this.actionService.updateAction(h,{isFavorite:!0})))},this),b.categories.tags.forEach(function(a,b){e=this.tagToId(a);this.exists(e)&&this.move(e,m,b)},this)):t.assert(!1,"The node does not exist!")},getQABState:function(a){var b=[];a=this.get(this.tagToId(a),"QABId");this.getChildrenIds(a).forEach(function(a){this.getChildrenIds(a).forEach(function(a){var c={};c.tag=this.get(a,"tag");
c.showText=this.get(a,"showText");b.push(c)},this)},this);return b},setQABState:function(a,b,c){this.get(this.tagToId(a),"QABId");if(!Array.isArray(b)&&void 0!==b){var d=[];Object.keys(b).forEach(function(a){var c={};c.tag=a;c.showText=b[a].showText;d.push(c)});b=d}void 0===b||0===b.length?c.forEach(function(a){a=this.create(a);this.set(a,"isInQAB",!0);this._hookupRemoveFromQABListener(a)},this):b.forEach(function(a){var b=a.tag,d=!1,e=!!a.showText;c.forEach(function(a){a.tag===b&&(d=!0,a.showText=
e,a=this.create(a),this.set(a,"isInQAB",!0),this._hookupRemoveFromQABListener(a))},this);if(!d)if(a=b.replace("_qab",""),a=this.tagToId(a),-1<Object.keys(q).indexOf(this.get(a,"type"))&&!1===this.get(a,"isInQAB")){var f=this._createCorrespondingComponentInQAB(a);this.set(f,"showText",e);this.set(a,"isInQAB",!0)}else(a=this.tagToId(b))&&this.set(a,"showText",e)},this)}})})},"MW/uiframework/hashes/ComponentPropertiesHash":function(){define("dojo/_base/lang MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties MW/toolstrip/hashes/componentproperties/containers/QABProperties MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties MW/toolstrip/hashes/componentproperties/containers/TabProperties MW/toolstrip/hashes/componentproperties/containers/ColumnProperties MW/toolstrip/hashes/componentproperties/containers/SectionProperties MW/toolstrip/hashes/componentproperties/containers/PanelProperties MW/toolstrip/hashes/componentproperties/containers/FooterProperties MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListProperties MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/LabelProperties MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties MW/toolstrip/hashes/componentproperties/controls/GalleryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G,J,H,L,I,R,aa,S,X,T,N,$,W,Q,Y,Z,ba,M){var ca={};Array.prototype.slice.call(arguments).forEach(function(a,b){0<b&&g.mixin(ca,a)});return ca})},"MW/toolstrip/hashes/componentproperties/containers/ToolstripProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../../../constants/DisplayStateConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a,b){var f={};f[c.TOOLSTRIP]=
g.mixin({displayState:{type:"string",notInAction:!0,defaultValue:e.EXPANDED},QABId:{type:"string",notInAction:!0,defaultValue:""},selectedTab:{type:"String",notInAction:!0,defaultValue:""}},a,b);return f})},"MW/toolstrip/hashes/componentproperties/properties/TypeProperty":function(){define(["./VerifyComponentProperty"],function(g){return{type:new g({type:"string",defaultValue:"",notInAction:!0,required:!0})}})},"MW/toolstrip/hashes/componentproperties/properties/VerifyComponentProperty":function(){define(["mw-log/Log"],
function(g){return function(c){c=c||{};"string"!==typeof c.type&&g.error(c.type,"Type property is required");"boolean"!==typeof c.notInAction&&g.error(c.notInAction,"NotInAction property is required");"boolean"!==typeof c.required&&g.error(c.required,"Required property is required");void 0===c.defaultValue&&g.error(c.defaultValue,"DefaultValue  property is required");return c}})},"MW/toolstrip/hashes/componentproperties/properties/TagProperty":function(){define(["./VerifyComponentProperty"],function(g){return{tag:new g({type:"string",
defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/QABProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.QAB]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/containers/QAGroupProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],
function(g,c,e,a){var b={};b[c.QA_GROUP]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/containers/TabGroupProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.TAB_GROUP]=g.mixin({selectedTab:{type:"string",notInAction:!0,defaultValue:""},QAGroupId:{type:"string",notInAction:!0,defaultValue:""}},e,a);return b})},"MW/toolstrip/hashes/componentproperties/containers/TabProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/MnemonicProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(g,c,e,a,b,f,k,h){var d={};d[c.TAB]=g.mixin({},e,a,b,f,k,h);return d})},"MW/toolstrip/hashes/componentproperties/properties/TitleProperty":function(){define(["./VerifyComponentProperty"],function(g){return{title:new g({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MnemonicProperty":function(){define(["./VerifyComponentProperty"],function(g){return{mnemonic:new g({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},
"MW/toolstrip/hashes/componentproperties/properties/RemovableProperty":function(){define(["./VerifyComponentProperty"],function(g){return{removable:new g({type:"boolean",defaultValue:!1,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/RemoveMessageProperty":function(){define(["./VerifyComponentProperty"],function(g){return{removeMessage:new g({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/containers/ColumnProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../../../constants/AlignmentConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a,b){var f={};f[c.COLUMN]=g.mixin({horizontalAlignment:{type:"string",notInAction:!0,defaultValue:e.LEFT},width:{type:"number",notInAction:!0,defaultValue:0},extraColumnGap:{type:"boolean",notInAction:!0,defaultValue:!1}},a,b);return f})},"MW/toolstrip/constants/AlignmentConstants":function(){define([],function(){return{LEFT:"left",RIGHT:"right",CENTER:"center"}})},
"MW/toolstrip/hashes/componentproperties/containers/SectionProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(g,c,e,a,b){var f={};f[c.SECTION]=g.mixin({collapsePriority:{type:"number",notInAction:!0,defaultValue:0}},e,a,b);return f})},"MW/toolstrip/hashes/componentproperties/containers/PanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants",
"../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.PANEL]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/containers/FooterProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.FOOTER]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/containers/FooterCellProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.FOOTER_CELL]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/controls/PushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.PUSH_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/properties/IconProperty":function(){define(["./VerifyComponentProperty"],function(g){return{icon:new g({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/QuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],function(g){return{quickAccessIcon:new g({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IconOverrideProperty":function(){define(["./VerifyComponentProperty"],function(g){return{iconOverride:new g({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextProperty":function(){define(["./VerifyComponentProperty"],function(g){return{text:new g({type:"string",defaultValue:"",notInAction:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/TextOverrideProperty":function(){define(["./VerifyComponentProperty"],
function(g){return{textOverride:new g({type:"string",defaultValue:"",notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/EnabledProperty":function(){define(["./VerifyComponentProperty"],function(g){return{enabled:new g({type:"boolean",shouldBeFlipped:!0,notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionProperty":function(){define(["./VerifyComponentProperty"],function(g){return{description:new g({type:"string",
notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/DescriptionOverrideProperty":function(){define(["./VerifyComponentProperty"],function(g){return{descriptionOverride:new g({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ShortcutProperty":function(){define(["./VerifyComponentProperty"],function(g){return{shortcut:new g({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},
"MW/toolstrip/hashes/componentproperties/properties/ActionIdProperty":function(){define(["./VerifyComponentProperty"],function(g){return{actionId:new g({type:"string",notInAction:!0,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/IsInQABProperty":function(){define(["./VerifyComponentProperty"],function(g){return{isInQAB:new g({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){var x={};x[c.TOGGLE_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u);return x})},"MW/toolstrip/hashes/componentproperties/properties/SelectedProperty":function(){define(["./VerifyComponentProperty"],function(g){return{selected:new g({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ButtonGroupNameProperty":function(){define(["./VerifyComponentProperty"],function(g){return{buttonGroupName:new g({type:"string",
defaultValue:"",required:!1,notInAction:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/DropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){var y={};y[c.DROP_DOWN_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w);return y})},"MW/toolstrip/hashes/componentproperties/properties/PopupIdProperty":function(){define(["./VerifyComponentProperty"],function(g){return{popupId:new g({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HasDynamicPopupProperty":function(){define(["./VerifyComponentProperty"],function(g){return{hasDynamicPopup:new g({type:"boolean",
notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ErrorTextProperty":function(){define(["./VerifyComponentProperty"],function(g){return{errorText:new g({type:"string",notInAction:!1,defaultValue:"This component is in error state",required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/WarningTextProperty":function(){define(["./VerifyComponentProperty"],function(g){return{warningText:new g({type:"string",notInAction:!1,defaultValue:"This component is in Warning state",
required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ValidationStateProperty":function(){define(["./VerifyComponentProperty"],function(g){return{validationState:new g({type:"string",notInAction:!1,defaultValue:"normal",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y){var B={};B[c.SPLIT_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y);return B})},"MW/toolstrip/hashes/componentproperties/properties/DropDownAlwaysEnabledProperty":function(){define(["./VerifyComponentProperty"],function(g){return{dropDownAlwaysEnabled:new g({type:"boolean",shouldBeFlipped:!1,notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DropDownAlwaysEnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D){var A={};A[c.TOGGLE_SPLIT_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D);return A})},"MW/toolstrip/hashes/componentproperties/controls/ColorPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/QuickAccessIconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.COLOR_PICKER_BUTTON]=g.mixin({},{selectedColor:{type:"string",defaultValue:"#ff0000",notInAction:!0,required:!1},closeOnColorSelection:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showPreview:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showRecentColors:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showCustomPicker:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,
p,r);return t})},"MW/toolstrip/hashes/componentproperties/controls/GridPickerButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/ActionIdProperty ../properties/IsInQABProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){var p={};p[c.GRID_PICKER_BUTTON]=g.mixin({},{maxRows:{type:"number",defaultValue:5,notInAction:!0,required:!1},maxColumns:{type:"number",defaultValue:5,notInAction:!0,required:!1},occupancy:{type:"number",defaultValue:0,notInAction:!0,required:!1},fillOrder:{type:"string",defaultValue:"rowMajor",notInAction:!0,required:!1},selection:{type:"Object",defaultValue:{},notInAction:!0,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s);return p})},"MW/toolstrip/hashes/componentproperties/controls/QABPushButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/ShowTextProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){var s={};s[c.QAB_PUSH_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q);return s})},"MW/toolstrip/hashes/componentproperties/properties/ShowTextProperty":function(){define(["./VerifyComponentProperty"],function(g){return{showText:new g({type:"boolean",defaultValue:!1,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/QABDropDownButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.QAB_DROP_DOWN_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/controls/QABFloatingPaneDockProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){var u={};u[c.QAB_FLOATING_PANE_DOCK]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t);return u})},"MW/toolstrip/hashes/componentproperties/controls/QABSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ShowTextProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.QAB_SPLIT_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.QAB_TOGGLE_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/controls/QABToggleSplitButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/QuickAccessIconProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/SelectedProperty ../properties/DescriptionProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IsInQABProperty ../properties/PopupIdProperty ../properties/HasDynamicPopupProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty ../properties/ButtonGroupNameProperty ../properties/ShowTextProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v){var w={};w[c.QAB_TOGGLE_SPLIT_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v);return w})},"MW/toolstrip/hashes/componentproperties/controls/ComboBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/TextProperty ../properties/ItemsProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.COMBO_BOX]=g.mixin({},{selectedItem:{type:"string",defaultValue:"",notInAction:!1,required:!1},editable:{type:"boolean",notInAction:!1,defaultValue:!1,required:!1},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""}},e,a,b,f,k,h,d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/properties/ItemsProperty":function(){define(["./VerifyComponentProperty"],function(g){return{items:new g({type:"Array",notInAction:!1,
defaultValue:[],required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/PlaceholderTextProperty":function(){define(["./VerifyComponentProperty"],function(g){return{placeholderText:new g({type:"string",notInAction:!1,defaultValue:"",required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ItemsProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.LIST]=g.mixin({},{selectedItems:{type:"Array",defaultValue:[],notInAction:!1,required:!1},selectionMode:{type:"string",defaultValue:"single",notInAction:!1,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/properties/CompactProperty":function(){define(["./VerifyComponentProperty"],function(g){return{compact:new g({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/PopupListProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.POPUP_LIST]=g.mixin({},{maxHeight:{type:"number",defaultValue:600,notInAction:!0,required:!1}},e,a);return b})},"MW/toolstrip/hashes/componentproperties/controls/PopupListPanelProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.POPUP_LIST_PANEL]=g.mixin({},
{maxHeight:{type:"number",defaultValue:100,notInAction:!0,required:!1}},e,a);return b})},"MW/toolstrip/hashes/componentproperties/controls/PopupListHeaderProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty","../properties/TitleProperty"],function(g,c,e,a,b){var f={};f[c.POPUP_LIST_HEADER]=g.mixin({},e,a,b);return f})},"MW/toolstrip/hashes/componentproperties/controls/PopupListSeparatorProperties":function(){define(["dojo/_base/lang",
"../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.POPUP_LIST_SEPARATOR]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/controls/TextAreaProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/CompactProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.TEXT_AREA]=g.mixin({},{},e,a,b,f,k,h,d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/properties/EditableProperty":function(){define(["./VerifyComponentProperty"],function(g){return{editable:new g({type:"boolean",notInAction:!1,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/TextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EditableProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.TEXT_FIELD]=g.mixin({},{},e,a,b,f,k,h,d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/controls/HorizontalSliderProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.HORIZONTAL_SLIDER]=g.mixin({},{value:{type:"number",defaultValue:5,notInAction:!1,required:!1},minimum:{type:"number",defaultValue:-10,notInAction:!1,required:!1},maximum:{type:"number",defaultValue:10,notInAction:!1,required:!1},steps:{type:"number",defaultValue:10,notInAction:!1,required:!1},numberOfTicks:{type:"number",defaultValue:10,notInAction:!1,required:!1},labels:{type:"Array",notInAction:!1,required:!1,defaultValue:[]}},e,a,b,f,k,h,
d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/properties/ValueProperty":function(){define(["./VerifyComponentProperty"],function(g){return{value:new g({notInAction:!1,type:"number",defaultValue:5,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MinimumProperty":function(){define(["./VerifyComponentProperty"],function(g){return{minimum:new g({type:"number",notInAction:!1,defaultValue:-20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/MaximumProperty":function(){define(["./VerifyComponentProperty"],
function(g){return{maximum:new g({type:"number",notInAction:!1,defaultValue:20,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/SpinnerProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ValueProperty ../properties/MinimumProperty ../properties/MaximumProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty MW/toolstrip/hashes/listOfNewWidgets".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){var u={};u[c.SPINNER]=g.mixin({},{editable:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1},minorStepSize:{type:"number",defaultValue:5,notInAction:!1,required:!1},majorStepSize:{type:"number",defaultValue:10,notInAction:!1,required:!1},errorText:{type:"string",notInAction:!1,defaultValue:"The value entered is not in range",required:!1}},-1===t.indexOf(c.SPINNER)?{}:{format:{type:"string",defaultValue:"",notInAction:!0,required:!1}},e,a,b,f,k,
h,d,l,m,n,q,s,p,r);return u})},"MW/toolstrip/hashes/listOfNewWidgets":function(){define(["../constants/TypeConstants"],function(g){return[g.LABEL,g.PUSH_BUTTON,g.TOGGLE_BUTTON,g.DROP_DOWN_BUTTON,g.SPLIT_BUTTON,g.TOGGLE_SPLIT_BUTTON,g.TEXT_FIELD,g.TEXT_AREA,g.CHECK_BOX,g.RADIO_BUTTON,g.COMBO_BOX,g.SPINNER,g.LIST,g.LIST_ITEM,g.LIST_ITEM_WITH_CHECKBOX,g.LIST_ITEM_WITH_RADIO_BUTTON,g.LIST_ITEM_WITH_POPUP,g.LIST_ITEM_WITH_TEXTFIELD,g.POPUP_LIST,g.POPUP_LIST_PANEL,g.POPUP_LIST_SEPARATOR,g.POPUP_LIST_HEADER,
g.QAB_PUSH_BUTTON,g.QAB_TOGGLE_BUTTON,g.QAB_DROP_DOWN_BUTTON,g.QAB_SPLIT_BUTTON,g.QAB_TOGGLE_SPLIT_BUTTON,g.COLOR_PICKER_BUTTON,g.GRID_PICKER_BUTTON]})},"MW/toolstrip/hashes/componentproperties/controls/RadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ButtonGroupNameProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.RADIO_BUTTON]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/controls/CheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/SelectedProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.CHECK_BOX]=g.mixin({},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/controls/LabelProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/IconProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){var q={};q[c.LABEL]=g.mixin({},e,a,b,f,k,h,d,l,m,n);return q})},"MW/toolstrip/hashes/componentproperties/controls/EmptyControlProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty","../properties/TagProperty"],function(g,c,e,a){var b={};b[c.EMPTY_CONTROL]=g.mixin({},e,a);return b})},"MW/toolstrip/hashes/componentproperties/controls/MenuBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l){var m={};m[c.MENUBAR_WRAPPER]=g.mixin({},{},e,a,b,f,k,h,d,l);return m})},"MW/toolstrip/hashes/componentproperties/controls/ToolBarWrapperProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l){var m={};m[c.TOOLBAR_WRAPPER]=g.mixin({},e,a,b,f,k,h,d,l);return m})},"MW/toolstrip/hashes/componentproperties/controls/GalleryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/EnabledProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/ScrollToSelectionProperty ../properties/HideDisabledItemsProperty ../properties/MnemonicProperty ../properties/OpenIfEmptyProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){b={};b[c.GALLERY]=g.mixin({},{galleryPopupId:{type:"string",notInAction:!0,required:!0},minColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:3},maxColumnCount:{type:"number",notInAction:!0,defaultValue:7},currentColumnCount:{type:"number",notInAction:!0,required:!1,defaultValue:7},textOverlay:{type:"string",notInAction:!0,required:!1,defaultValue:""},displayState:{type:"string",notInAction:!0,required:!1,defaultValue:"normal"},shouldRefresh:{type:"boolean",
notInAction:!0,defaultValue:!0,required:!1},enabled:{type:"boolean",shouldBeFlipped:!0,notInAction:!0,defaultValue:!0,required:!1}},e,a,f,k,h,d,l,m,n);return b})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemRowCountProperty":function(){define(["./VerifyComponentProperty"],function(g){return{galleryItemRowCount:new g({type:"number",notInAction:!0,defaultValue:1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemTextLineCountProperty":function(){define(["./VerifyComponentProperty"],
function(g){return{galleryItemTextLineCount:new g({type:"number",notInAction:!0,defaultValue:2,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/GalleryItemWidthProperty":function(){define(["./VerifyComponentProperty"],function(g){return{galleryItemWidth:new g({type:"number",notInAction:!0,defaultValue:0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/ScrollToSelectionProperty":function(){define(["./VerifyComponentProperty"],function(g){return{scrollToSelection:new g({type:"boolean",
notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/HideDisabledItemsProperty":function(){define(["./VerifyComponentProperty"],function(g){return{hideDisabledItems:new g({type:"boolean",notInAction:!0,defaultValue:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/OpenIfEmptyProperty":function(){define(["./VerifyComponentProperty"],function(g){return{openIfEmpty:new g({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},
"MW/toolstrip/hashes/componentproperties/controls/GalleryPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/GalleryItemRowCountProperty ../properties/GalleryItemTextLineCountProperty ../properties/GalleryItemWidthProperty ../properties/DisplayStateProperty ../properties/ScrollToSelectionProperty dojo/i18n!l10n/nls/toolstrip".split(" "),function(g,c,e,a,b,f,k,h,d,l){var m={};m[c.GALLERY_POPUP]=g.mixin({},
{columnCount:{type:"number",notInAction:!0,required:!1,defaultValue:0},favCategoryId:{type:"string",notInAction:!0,required:!1,defaultValue:""},footerId:{type:"string",notInAction:!0,required:!1,defaultValue:""},placeholderText:{type:"string",notInAction:!0,required:!1,defaultValue:l.gallerySearch},showHeader:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0},userCustomizable:{type:"boolean",notInAction:!0,required:!1,defaultValue:!0}},e,a,b,f,k,h,d);return m})},"MW/toolstrip/hashes/componentproperties/properties/DisplayStateProperty":function(){define(["../../../constants/gallery/GalleryViewConstants",
"./VerifyComponentProperty"],function(g,c){return{displayState:new c({type:"string",notInAction:!0,defaultValue:g.ICON,required:!1})}})},"MW/toolstrip/constants/gallery/GalleryViewConstants":function(){define([],function(){return{ICON:"icon_view",LIST:"list_view"}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryCategoryProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TitleProperty ../properties/DisplayStateProperty ../properties/AnimationProperty".split(" "),
function(g,c,e,a,b,f,k){var h={};h[c.GALLERY_CATEGORY]=g.mixin({},e,a,b,f,k);return h})},"MW/toolstrip/hashes/componentproperties/properties/AnimationProperty":function(){define(["./VerifyComponentProperty"],function(g){return{animation:new g({type:"object",notInAction:!0,defaultValue:{shouldAnimate:!1,startId:"",endId:""},required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/GalleryFavoriteCategoryProperties":function(){define(["dojo/_base/lang","../../../constants/TypeConstants","../properties/TypeProperty",
"../properties/TagProperty","../properties/DisplayStateProperty"],function(g,c,e,a,b){var f={};f[c.GALLERY_FAVORITE_CATEGORY]=g.mixin({},{title:{type:"string",notInAction:!0,required:!1,defaultValue:"FAVORITES"}},e,a,b);return f})},"MW/toolstrip/hashes/componentproperties/controls/GalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){var x={};x[c.GALLERY_ITEM]=g.clone(g.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u));x[c.GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return x})},"MW/toolstrip/hashes/componentproperties/properties/ClosePopupOnClickProperty":function(){define(["./VerifyComponentProperty"],function(g){return{closePopupOnClick:new g({type:"boolean",notInAction:!1,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ToggleGalleryItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/DisplayStateProperty ../properties/SelectedProperty ../properties/IconProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/AnimationProperty ../properties/ButtonGroupNameProperty ../properties/ClosePopupOnClickProperty ../properties/RemovableProperty ../properties/RemoveMessageProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v){var w={};w[c.TOGGLE_GALLERY_ITEM]=g.clone(g.mixin({},{isFavorite:{type:"boolean",defaultValue:!1,notInAction:!1,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v));w[c.TOGGLE_GALLERY_ITEM].closePopupOnClick.defaultValue=!0;return w})},"MW/toolstrip/hashes/componentproperties/controls/ListItemProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty ../properties/RemovableProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){var x={};x[c.LIST_ITEM]=g.mixin({},{showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u);return x})},"MW/toolstrip/hashes/componentproperties/properties/ShowDescriptionProperty":function(){define(["./VerifyComponentProperty"],function(g){return{showDescription:new g({type:"boolean",defaultValue:!0,notInAction:!0,required:!1})}})},"MW/toolstrip/hashes/componentproperties/properties/UseQuickAccessIconProperty":function(){define(["./VerifyComponentProperty"],
function(g){return{useQuickAccessIcon:new g({type:"boolean",notInAction:!0,defaultValue:!1,required:!1})}})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithCheckBoxProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.LIST_ITEM_WITH_CHECKBOX]=g.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithRadioButtonProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/SelectedProperty ../properties/ClosePopupOnClickProperty ../properties/ButtonGroupNameProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){var t={};t[c.LIST_ITEM_WITH_RADIO_BUTTON]=g.mixin({},{showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p,r);return t})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithTextFieldProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/EnabledProperty ../properties/EditableProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/PlaceholderTextProperty ../properties/ErrorTextProperty ../properties/WarningTextProperty ../properties/ValidationStateProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){var r={};r[c.LIST_ITEM_WITH_TEXTFIELD]=g.mixin({},{label:{type:"string",defaultValue:"",notInAction:!1,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p);return r})},"MW/toolstrip/hashes/componentproperties/controls/ListItemWithPopupProperties":function(){define("dojo/_base/lang ../../../constants/TypeConstants ../properties/TypeProperty ../properties/TagProperty ../properties/TextProperty ../properties/TextOverrideProperty ../properties/IconProperty ../properties/IconOverrideProperty ../properties/EnabledProperty ../properties/DescriptionProperty ../properties/DescriptionOverrideProperty ../properties/MnemonicProperty ../properties/ShortcutProperty ../properties/ActionIdProperty ../properties/ShowDescriptionProperty ../properties/HasDynamicPopupProperty ../properties/QuickAccessIconProperty ../properties/UseQuickAccessIconProperty".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){var x={};x[c.LIST_ITEM_WITH_POPUP]=g.mixin({},{popupId:{type:"string",defaultValue:"",notInAction:!1,required:!1},showIcon:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1,description:"Using this you can toggle the visibility of the icon on the list item."},showText:{type:"boolean",defaultValue:!0,notInAction:!0,required:!1}},e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u);return x})},"MW/uiframework/hashes/IconPropertiesSupportingBase64":function(){define({icon:!0,
iconClass:!0,quickAccessIcon:!0})},"MW/uiframework/hashes/ComponentsWithNoParent":function(){define(["../constants/TypeConstants"],function(g){return[g.TOOLSTRIP,g.POPUP_LIST,g.GALLERY_POPUP,g.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/ComponentsSupportedByFooterCell":function(){define(["../constants/TypeConstants"],function(g){return[g.PUSH_BUTTON,g.TOGGLE_BUTTON,g.RADIO_BUTTON,g.TEXT_FIELD,g.LABEL,g.CHECK_BOX]})},"MW/toolstrip/hashes/ComponentsEligibleForQAB":function(){define(["../constants/TypeConstants"],
function(g){var c={};c[g.PUSH_BUTTON]=g.QAB_PUSH_BUTTON;c[g.DROP_DOWN_BUTTON]=g.QAB_DROP_DOWN_BUTTON;c[g.SPLIT_BUTTON]=g.QAB_SPLIT_BUTTON;c[g.TOGGLE_BUTTON]=g.QAB_TOGGLE_BUTTON;c[g.TOGGLE_SPLIT_BUTTON]=g.QAB_TOGGLE_SPLIT_BUTTON;return c})},"MW/toolstrip/ToolstripUtils":function(){define("dijit/registry dojo/_base/kernel dojo/_base/window dojo/dom-geometry dojo/dom-construct ./constants/TypeConstants ./hashes/ComponentsThatDontSupportAction ./hashes/PeerNodeTypesWithNoCorrespondingWidget ./hashes/ComponentsThatSupportAnimation".split(" "),
function(g,c,e,a,b,f,k,h,d){return{isGalleryPopupAttachedWithGallery:function(a){return a.domNode.classList.contains("gallery")},isAPopupList:function(a){return a===f.POPUP_LIST},isAListItemWithPopup:function(a){return a===f.LIST_ITEM_WITH_POPUP},isAMenubarWrapper:function(a){return a===f.MENUBAR_WRAPPER},isAToolbarWrapper:function(a){return a===f.TOOLBAR_WRAPPER},isAColumn:function(a){return a===f.COLUMN},isAPanel:function(a){return a===f.PANEL},supportsAction:function(a){return-1===k.indexOf(a)},
isAFooterCell:function(a){return a===f.FOOTER_CELL},hasNoCorrespondingWidget:function(a){return-1<h.indexOf(a)},supportsAnimation:function(a){return-1<d.indexOf(a)},findParent:function(a,b){for(var c=null,d;a;){d=null;if(a.get("type")===b){c=a;break}a.domNode.parentNode&&(d=a.domNode.parentNode.getAttribute("dijitpopupparent"));a=d?g.byId(d):a.getParent()}return c},findParentToolstrip:function(a){return this.findParent(a,f.TOOLSTRIP)},findParentSection:function(a){return this.findParent(a,f.SECTION)},
getClosestValue:function(a,b){for(var c=-1,d=a.length,e;1<d-c;)e=Math.round((c+d)/2),a[e]<=b?c=e:d=e;a[c]===b&&(d=c);return[a[c],a[d]]},computeWidth:function(a,b,c){return parseInt(this._computeStyle(a,null,b,c).width)},computeHeight:function(a,b,c){return parseInt(this._computeStyle(a,b,null,c).height)},_computeStyle:function(a,c,d,f){null==c&&(c="auto");null==d&&(d="auto");null==f&&(f="");f=-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf((navigator.language||navigator.userLanguage).toLowerCase())?b.create("div",
{"class":"dijitOffScreen",style:'font-size: 13px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+f},e.body()):b.create("div",{"class":"dijitOffScreen",style:'font-size: 11px; font-family: Arial, "Helvetica Neue", sans-serif; text-transform: uppercase;'+f},e.body());f.style.width=c;f.style.height=d;f.textContent=a;a=window.getComputedStyle(f,null);a={width:a.width,height:a.height};b.destroy(f);return a}}})},"MW/toolstrip/hashes/ComponentsThatDontSupportAction":function(){define(["../constants/TypeConstants"],
function(g){return[g.TOOLSTRIP,g.QAB,g.QA_GROUP,g.TAB_GROUP,g.TAB,g.SECTION,g.COLUMN,g.PANEL,g.EMPTY_CONTROL,g.POPUP_LIST,g.POPUP_LIST_PANEL,g.POPUP_LIST_HEADER,g.POPUP_LIST_SEPARATOR,g.FOOTER,g.FOOTER_CELL,g.GALLERY,g.GALLERY_POPUP,g.GALLERY_CATEGORY,g.GALLERY_FAVORITE_CATEGORY]})},"MW/toolstrip/hashes/PeerNodeTypesWithNoCorrespondingWidget":function(){define(["MW/uiframework/constants/TypeConstants"],function(g){return[g.ROOT,g.ORPHAN_ROOT,g.TOOLSTRIP_ROOT,g.POPUP_ROOT,g.QAB_ROOT,"QAGroupRoot",
g.GALLERY_ROOT,g.GALLERY_POPUP_ROOT,g.GALLERY_FAVORITE_CATEGORY_ROOT]})},"MW/toolstrip/hashes/ComponentsThatSupportAnimation":function(){define(["../constants/TypeConstants"],function(g){return[g.GALLERY_FAVORITE_CATEGORY,g.GALLERY_CATEGORY]})},"MW/toolstrip/hashes/DefaultGalleryItemWidths":function(){define([],function(){return{1:{"0":68,1:68,2:68},2:{"0":52,1:102},3:{"0":52,1:98}}})},"MW/uiframework/managers/WidgetManager":function(){define("dojo/aspect dojo/debounce dojo/_base/lang dojo/_base/declare dijit/registry dijit/popup ../constants/TypeConstants ../WidgetFactory ../hashes/ControlEventsHash ../hashes/ComponentPropertiesHash ../hashes/PeerNodeWidgetPropertiesHash ../../toolstrip/hashes/listOfNewWidgets ../../toolstrip/hashes/PeerNodeWidgetEventsHash MW/toolstrip/hashes/ToolstripCollapseTriggers MW/toolstrip/constants/DisplayStateConstants MW/toolstrip/ToolstripUtils mw-log/Log".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){return a(null,{constructor:function(a){var b=this;a=a||{};t.assert(a.modelManager,"Model Manager needs to be passed in!");this._modelManager=a.modelManager;this._openPopups=[];this._galleryRefreshMap={};this._aspects=[g.after(this._modelManager,"onChildAdd",function(a){b.childAddedObserver(a)},!0),g.after(this._modelManager,"onChildDestroy",function(a){b.childDestroyedObserver(a)},!0),g.after(this._modelManager,"onPropertySet",function(a){b.propertySetObserver(a)},
!0),g.after(this._modelManager,"onChildMove",function(a){b.childMovedObserver(a)},!0),g.after(this._modelManager,"onPeerEvent",function(a){b.peerEventObserver(a)},!0),g.after(this._modelManager.actionService,"onActionChange",e.hitch(this,this._onActionChange),!0),g.after(this._modelManager.actionService,"onActionAdd",e.hitch(this,this._onActionAdd),!0),g.after(this._modelManager.actionService,"onPeerEvent",e.hitch(this,this._onActionPeerEvent),!0)]},childAddedObserver:function(a){var d,e,f,g,h,m,
l,p=this;d=a.data.child;e=a.target;r.hasNoCorrespondingWidget(d.getType())||(h=this._getWidgetProperties(d),l=d.getId(),h.id=l.toString(),b.byId(h.id)||(""!==h.tag&&(this._modelManager.tagToPeerNodeIdMap[h.tag]=l),f=this._buildWidget(h,d),g=this._getWidgetForPeerNode(e),f.get("type")===k.GALLERY?(p.refreshGallery(d.getId()),p._modelManager.addEventCallback(d.getId(),c(function(a){"refresh"===a.eventType&&p.refreshGallery(d.getId())},100))):f.get("type")===k.GALLERY_POPUP&&this._modelManager.manager.getByProperty("galleryPopupId",
f.id).forEach(function(a){b.byId(a.getId()).setupGalleryPopupListener(f)}),m=function(){g&&g.addChild(f,a.data.index)},e=d.getProperty("animation"),r.supportsAnimation(a.target.getType())&&e&&!0===e.shouldAnimate?g.animate({type:"childAdd",childWidget:f,startId:e.startId,endId:e.endId,onEnd:function(){m();d.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):m()))},addOutsidePeerModel:function(a,c){var d=this._modelManager.manager.getById(a),e=this._modelManager.manager.getById(c),
f=this._getWidgetProperties(d);f.id=d.getId().toString();d=b.byId(f.id)||this._buildWidget(f,d);(e=this._getWidgetForPeerNode(e))&&e.addChild(d)},removeOutsidePeerModel:function(a){a=this._modelManager.manager.getById(a);a=this._getWidgetForPeerNode(a);var b=a.getParent();b&&b.removeChild(a)},_buildWidget:function(a,b){if(a.type===k.TOOLSTRIP||a.type===k.QA_GROUP)a.enableQABCustomization=this._modelManager.enableQABCustomization;var c=h.create(a),d=this;this._addWatchToWidgetProperties(c,b);this._attachPopupMonitor(c);
this._hookupEvents(c,b);this._listenForToolstripCollapseTrigger(c);this._aspects.push(g.after(c,"removeChild",function(a){d._resetStateRecursive(a)},!0));return c},_listenForToolstripCollapseTrigger:function(a){var b=this,c=s[a.get("type")];c&&(c.events.forEach(function(c){if(-1<n.indexOf(a.type))a.on(q[a.type][c],function(){b._collapseParents(a)});else a.own(g.after(a,c,function(){b._collapseParents(a)}))}),a.watch(function(d){-1<c.properties.indexOf(d)&&b._collapseParents(a)}))},_collapseParents:function(a){this._collapseParentSection(a);
this._collapseParentToolstrip(a)},_collapseParentSection:function(a){(a=r.findParentSection(a))&&a.closePopup()},_collapseParentToolstrip:function(a){var b=r.findParentToolstrip(a);b&&(b.get("displayState")===p.EXPANDED_ON_TOP&&"FooterCell"!==a.getParent().type)&&b.set("displayState",p.COLLAPSED)},_attachPopupMonitor:function(a){var b=this,c;switch(a.get("type")){case k.POPUP_LIST:c=a;break;case k.COMBO_BOX:c=a.dropDown;break;case k.GALLERY_POPUP:c=a;break;case k.SECTION:c=a.getPopup()}c&&(this._aspects.push(g.after(c,
"onOpen",function(){b._onPopupOpen(c)})),this._aspects.push(g.after(c,"onClose",function(){b._onPopupClose()})))},_getWidgetProperties:function(a){var b=this._modelManager.getAllProperties(a.getId()),c,d;Object.keys(b).forEach(function(f){if((c=m[a.getType()])&&c[f])d=l[a.getType()][f],b[c[f]]=d.shouldBeFlipped?!b[f]:e.clone(b[f]),delete b[f]});b.type=a.getType();return b},childDestroyedObserver:function(a){var b,c,d,f,g,h;d=a.data.child;f=a.target;h=d.getId();if(b=this._getWidgetForPeerNode(d))Object.keys(this._modelManager.tagToPeerNodeIdMap).forEach(e.hitch(this,
function(a){this._modelManager.tagToPeerNodeIdMap[a]===h&&delete this._modelManager.tagToPeerNodeIdMap[a]})),c=this._getWidgetForPeerNode(f),g=function(){(r.isAMenubarWrapper(b.get("type"))||r.isAToolbarWrapper(b.get("type")))&&b.getChildren().forEach(function(a){b.removeChild(a)});c&&c.removeChild(b);b.destroyRecursive()},f=d.getProperty("animation"),r.supportsAnimation(a.target.getType())&&f&&!0===f.shouldAnimate?c.animate({type:"childRemove",childWidget:b,startId:f.startId,endId:f.endId,onEnd:function(){g();
d.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):g()},childMovedObserver:function(a){var b,c,d,e,f,g;d=this._getWidgetForPeerNode(a.target);b=this._getWidgetForPeerNode(a.data.oldParent);c=this._getWidgetForPeerNode(a.data.newParent);e=function(){c&&c.addChild(d,a.data.newIndex)};f=function(){b&&b.removeChild(d)};(g=a.target.getProperty("animation"))&&!0===g.shouldAnimate?r.supportsAnimation(a.target.getType())?d.animate({type:"move",oldIndex:a.data.oldIndex,newIndex:a.data.newIndex,
onEnd:function(){f();e();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):r.supportsAnimation(a.data.newParent.getType())?c.animate({type:"childAdd",childWidget:d,startId:g.startId,endId:g.endId,onEnd:function(){f();e();a.target.setProperty("animation",{shouldAnimate:!1,startId:"",endId:""})}}):r.supportsAnimation(a.data.oldParent.getType())&&b.animate({type:"childRemove",childWidget:d,startId:g.startId,endId:g.endId,onEnd:function(){f();e();a.target.setProperty("animation",
{shouldAnimate:!1,startId:"",endId:""})}}):(f(),e())},propertySetObserver:function(a){var b=this._getWidgetForPeerNode(a.target),c,d,e;b&&("tag"===a.data.key&&(d=b.get("tag"),e=this._modelManager.tagToPeerNodeIdMap[d],delete this._modelManager.tagToPeerNodeIdMap[d],this._modelManager.tagToPeerNodeIdMap[a.data.newValue]=e),this._setWidgetProperty(b,a.data.key,a.data.newValue),"actionId"===a.data.key&&(c=this._getWidgetProperties(a.target),Object.keys(c).forEach(function(d){c=this._getWidgetProperties(a.target);
b.set(d,c[d])},this)))},_getWidgetsWithActionId:function(a){return b.toArray().filter(function(b){return b.actionId===a&&l[b.type]})},_onActionChange:function(a){"id"!==a.key&&this._getWidgetsWithActionId(a.id).forEach(function(b){b._destroyed||this._setWidgetProperty(b,a.key,a.newValue)},this)},_onActionAdd:function(a){if(this._modelManager.isMATLABDriven){var b=this._modelManager.actionService.getAction(a.id),c=Object.keys(b);this._getWidgetsWithActionId(a.id).forEach(function(a){c.forEach(function(c){a._destroyed||
this._setWidgetProperty(a,c,b[c])},this)},this)}},_setWidgetProperty:function(a,b,c){var d=b,e=m[a.get("type")];-1!==Object.keys(l[a.type]).indexOf(b)&&(e&&e[b]&&(d=e[b]),b=l[a.type][b],b.shouldBeFlipped?a.set(d,!c):a.set(d,c))},peerEventObserver:function(a){switch(a.data.eventType){case "placeToolStrip":this._modelManager.placeToolstripById(a.target.getId(),a.data.hostId);break;case "showPopup":this._modelManager.showPopup(a.target.getId(),a.data.popupId);break;case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},
_refreshGalleryFromMATLAB:function(a){this._galleryRefreshMap[a]=this._galleryRefreshMap[a]?this._galleryRefreshMap[a]+1:1;2===this._galleryRefreshMap[a]&&(this.refreshGallery(a),delete this._galleryRefreshMap[a])},_onActionPeerEvent:function(a){switch(a.data.eventType){case "refreshGallery":this._refreshGalleryFromMATLAB(a.data.galleryId)}},_addWatchToWidgetProperties:function(a,b){var c,d=this,e,f=m[b.getType()],g=l[b.getType()];a.watch(function(a,h,k){d._modelManager.exists(b.getId())&&(c=a,f&&
f[a]&&(c=f[a]),-1!==Object.keys(g).indexOf(c)&&(e=l[b.getType()][c],e.shouldBeFlipped&&(k=!k),d._modelManager.set(b.getId(),c,k,{source:"UI"})))})},_hookupEvents:function(a,b){function c(d,k){var m="aspect";-1<n.indexOf(h)&&(m="on");d.forEach(function(c){function d(a){var g={};"aspect"===m?g=a||{}:a&&a.mwEventData&&e.mixin(g,a.mwEventData);g.eventType=c;"action"===k?f._modelManager.actionService.executeAction(b.getProperty("actionId"),g):b.dispatchEvent("peerEvent",b,g)}if("aspect"===m)a.own(g.after(a,
c,d,!0));else{var l=c;q[h]&&q[h][c]&&(l=q[h][c]);a.on(l,d)}})}var f=this,h=b.getType(),k=d[h];k&&(c(k.actionEvents,"action"),c(k.componentEvents,"peerNode"))},_getWidgetForPeerNode:function(a){return b.byId(a.getId().toString())},_onPopupClose:function(){this._openPopups.pop();this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},_onPopupOpen:function(a){this._openPopups.push(a);this.onOpenPopupCountChange(this._openPopups.length,this._openPopups)},onOpenPopupCountChange:function(a,
b){},isAnyPopupOpen:function(){return 0<f._stack.length&&this._modelManager.exists(f._stack[0].widget.id)},closeAllOpenPopups:function(){this.isAnyPopupOpen()&&f.close()},_resetStateRecursive:function(a){["hovering","active"].forEach(function(b){!0===a.get(b)&&a.set(b,!1)});a.getChildren&&0<a.getChildren().length&&this._resetStateOfChildren(a)},_resetStateOfChildren:function(a){a.getChildren().forEach(function(a){this._resetStateRecursive(a)},this)},refreshGallery:function(a){var c=b.byId(a);if(c){if(this._modelManager.isMATLABDriven){var d=
this._modelManager.get(a,"galleryPopupId");if(d){if(!this._modelManager.manager.hasById(d))return;d=this._modelManager.manager.getById(d);if(this._modelManager.manager.getByType(k.GALLERY_ITEM,d).concat(this._modelManager.manager.getByType(k.TOGGLE_GALLERY_ITEM,d)).some(function(a){return!this._modelManager.actionService.getAction(a.getProperty("actionId"))},this))return}}!1!==c.get("shouldRefresh")&&(d=[],!0===c.get("hideDisabledItems")?(d=this._getUniqueGalleryItems(a,!0),0===d.length&&(d=this._getUniqueGalleryItems(a))):
d=this._getUniqueGalleryItems(a),c.destroyDescendants(),d.forEach(function(a){var b=this._getWidgetProperties(a);a=this._buildWidget(b,a);c.addChild(a)},this),0===d.length&&c.closeDropDown())}},_getUniqueGalleryItems:function(a,b){function c(a){l=!h.some(function(b){return b.getProperty("actionId")===a.getProperty("actionId")});b&&(l=l&&!0===this._modelManager.get(a.getId(),"enabled"));l&&h.push(a)}function d(){for(k=this._modelManager.getAllCategoriesInDescendingOrder(g);0<k.length;)m=k.pop().getChildren(),
m.forEach(c,this)}function e(){for(var a=0,b=h.length,c=null;a<b;){if(!0===this._modelManager.get(h[a].getId(),"selected")){c={peerNode:h[a],index:a};break}a+=1}return c}var f,g,h=[],k,m,l;f=this._modelManager.manager.getById(a);g=this._modelManager.manager.getById(f.getProperty("galleryPopupId"));f=f.getProperty("currentColumnCount")*f.getProperty("galleryItemRowCount");var p=g.getProperty("favCategoryId");this._modelManager.exists(p)&&(h=this._modelManager.manager.getById(p).getChildren());b&&(h=
h.filter(function(a){return!0===this._modelManager.get(a.getId(),"enabled")},this));if(this._modelManager.get(a,"scrollToSelection")){d.call(this);if(p=e.call(this)){var n=p.peerNode.getId(),n=this._modelManager.getParentId(n),n=h.indexOf(this._modelManager.manager.getById(this._modelManager.getChildrenIds(n)[0]));p.index>n+f-1&&(n=p.index-f+1);n+f>h.length&&(n=h.length-f);0>n&&(n=0);return h.splice(n,f)}return h.slice(0,f)}h.length<f&&d.call(this);return h.slice(0,f)},cleanup:function(){this._aspects.forEach(function(a){a.remove()})}})})},
"dojo/debounce":function(){define([],function(){return function(g,c){var e;return function(){e&&clearTimeout(e);var a=this,b=arguments;e=setTimeout(function(){g.apply(a,b)},c)}}})},"MW/uiframework/WidgetFactory":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/WidgetClassHash","mw-log/Log"],function(g,c,e){return{create:function(a){var b;c[a.type]?b=new c[a.type](a):e.error("No corresponding constructor found for the given type!");return b}}})},"MW/toolstrip/hashes/WidgetClassHash":function(){define("../constants/TypeConstants ../widgets/Toolstrip ../widgets/QAB ../widgets/QAGroup ../widgets/TabGroup ../widgets/Tab ../widgets/Section ../widgets/Panel ../widgets/Column ../menu/PopupListPanel ../widgets/Footer ../widgets/FooterCell ../widgets/gallery/Gallery ../widgets/gallery/GalleryPopup ../widgets/gallery/GalleryCategory ../form/PushButton ../form/DropDownButton ../form/SplitButton ../form/ToggleButton ../form/ColorPickerButton ../form/GridPickerButton ../qab/QABPushButton ../qab/QABDropDownButton ../qab/QABSplitButton ../qab/QABToggleButton ../qab/QABToggleSplitButton ../widgets/qabcontrols/QABFloatingPaneDock ../form/ToggleSplitButton ../menu/PopupList ../menu/ListItem ../menu/ListItemWithPopup ../menu/ListItemWithCheckBox ../menu/ListItemWithTextField ../menu/ListItemWithRadioButton ../menu/PopupListSeparator ../menu/PopupListHeader ../form/ComboBox ../form/ListBox ../form/Label ../widgets/EmptyControl ../form/TextField ../form/TextArea ../form/Spinner ../widgets/HorizontalSlider ../form/RadioButton ../form/CheckBox ../widgets/ToolbarWrapper ../widgets/MenubarWrapper ../widgets/gallery/GalleryItem ../widgets/gallery/ToggleGalleryItem".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G,J,H,L,I,R,aa,S,X,T,N,$,W,Q,Y,Z,ba){var M={};M[g.TOOLSTRIP]=c;M[g.QAB]=e;M[g.QA_GROUP]=a;M[g.TAB_GROUP]=b;M[g.TAB]=f;M[g.SECTION]=k;M[g.PANEL]=h;M[g.POPUP_LIST_PANEL]=l;M[g.COLUMN]=d;M[g.GALLERY]=q;M[g.GALLERY_POPUP]=s;M[g.GALLERY_CATEGORY]=p;M[g.GALLERY_FAVORITE_CATEGORY]=p;M[g.FOOTER]=m;M[g.FOOTER_CELL]=n;M[g.PUSH_BUTTON]=r;M[g.DROP_DOWN_BUTTON]=t;M[g.SPLIT_BUTTON]=u;M[g.TOGGLE_BUTTON]=x;M[g.COLOR_PICKER_BUTTON]=v;M[g.GRID_PICKER_BUTTON]=
w;M[g.QAB_PUSH_BUTTON]=y;M[g.QAB_DROP_DOWN_BUTTON]=B;M[g.QAB_SPLIT_BUTTON]=D;M[g.QAB_TOGGLE_BUTTON]=A;M[g.QAB_TOGGLE_SPLIT_BUTTON]=z;M[g.QAB_FLOATING_PANE_DOCK]=F;M[g.TOGGLE_SPLIT_BUTTON]=E;M[g.POPUP_LIST]=C;M[g.LIST_ITEM]=P;M[g.LIST_ITEM_WITH_POPUP]=K;M[g.LIST_ITEM_WITH_CHECKBOX]=U;M[g.LIST_ITEM_WITH_TEXTFIELD]=O;M[g.LIST_ITEM_WITH_RADIO_BUTTON]=G;M[g.POPUP_LIST_SEPARATOR]=J;M[g.POPUP_LIST_HEADER]=H;M[g.COMBO_BOX]=L;M[g.LIST]=I;M[g.LABEL]=R;M[g.EMPTY_CONTROL]=aa;M[g.TEXT_FIELD]=S;M[g.TEXT_AREA]=
X;M[g.SPINNER]=T;M[g.HORIZONTAL_SLIDER]=N;M[g.RADIO_BUTTON]=$;M[g.CHECK_BOX]=W;M[g.MENUBAR_WRAPPER]=Y;M[g.TOOLBAR_WRAPPER]=Q;M[g.GALLERY_ITEM]=Z;M[g.TOGGLE_GALLERY_ITEM]=ba;return M})},"MW/toolstrip/widgets/Toolstrip":function(){define("dojo/aspect dojo/on dojo/dom dojo/topic dojo/keys dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/kernel dijit/Viewport dojo/query dojo/dom-geometry ../ToolstripUtils dojo/i18n!l10n/nls/toolstrip dojo/_base/event dijit/registry dijit/popup dojo/text!./templates/Toolstrip.html dijit/_WidgetBase dijit/_Container dijit/_TemplatedMixin ./TabContainer mw-form/PushButton mw-menu/ContextMenu mw-menu/MenuItem mw-menu/MenuSeparator ../hashes/ComponentsEligibleForQAB ../constants/TypeConstants ../constants/DisplayStateConstants ../constants/MiscConstants ./_WidgetMixin mw-event-utils/doubleClickHandler mw-utils/widgetUtils MW/layout/ConfirmationDialog mw-mixins/PreventSelectionMixin MW/uiframework/MnemonicsStates".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U,O,G,J,H){return f([x,v,w,K,J],{templateString:u,constructor:function(){this._shouldSetSelectedTab=!0;this._previousSelectedChild=null;this._tabGroupListeners={};g.before(this,"addChild",this._beforeAddChild)},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","refuse");var b=this;this.tabContainer=new y({"class":"tabContainer"},this.toolstripTabContainer);this.tabContainer.tablist.onkeydown=
function(){};this._supportingWidgets.push(this.tabContainer);this.own(g.after(this,"placeAt",function(){a.publish("/Toolstrip/toolstripPlaced",{toolstripId:this.id});b.toolstripPlaced();b.resize()}));this.collapseButton=(new B({"class":"collapseButton",icon:"smallCollapse",showText:!1,width:20,height:20})).placeAt(this.collapseButtonContainer);this.collapseButton.on("click",h.hitch(this,this._expandCollapse));this.tabContainer.tablist.tablistWrapper.children[0].dojoClick=!1;this._setTooltipforExpandCollapseButton();
this._supportingWidgets.push(this.collapseButton);this.hostId&&(this.placeAt(this.hostId),this.resize(),this.startup());this.connect(this.tabContainer,"selectChild",function(a){this.set("selectedTab",a.id)});this.own(l.on("resize",h.hitch(this,function(){this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null);this._resizeTimeout=setTimeout(h.hitch(this,function(){this.resize()}),500)})));this.own(c(this.domNode,".dijitTab:click",U.createCallback(function(a){var c=r.getEnclosingWidget(a.target);
b.displayState===C.COLLAPSED?b.set("displayState",C.EXPANDED_ON_TOP):b.displayState===C.EXPANDED_ON_TOP&&H.getCurrentMnemonicsState()!==H.CONTROL_TAB&&b._previousSelectedChild&&e.isDescendant(a.target,b._previousSelectedChild.domNode)&&b.set("displayState",C.COLLAPSED);b._previousSelectedChild=c},function(){b._expandCollapse()})),c(document.body,"click",function(a){b.displayState===C.EXPANDED_ON_TOP&&(!O.isDescendant(a.target,b.domNode)&&a.target!==document.body)&&b.set("displayState",C.COLLAPSED)}));
this._setupContextMenu();this._setLocaleOnDomNode()},_setLocaleOnDomNode:function(){-1<["ko","ko-kr","ja-jp","zh-cn"].indexOf(d.locale)&&this.domNode.classList.add("isCJK")},_setupContextMenu:function(){var a='[id\x3d"'+this.id+'"]',b=function(a){var b=a.target||document.activeElement,c;m("[dijitpopupparent]").some(function(a){return"none"!==a.style.display&&b&&a.contains(b)?(c=a,!0):!1});if(b&&c&&this._findParentNode(b,"id",this.id)){if(a=m('[id\x3d"'+c.id+'"] *'),a.push(c),-1<a.indexOf(b))return a}else return null}.bind(this);
this._contextMenu=new D({willOpenCallback:h.hitch(this,this._updateContextMenu),targetNodes:[a,a+" *",b]});this._contextMenu.domNode.classList.add("mwToolstripPopupContextMenu");this.own(this._contextMenu)},_findParentNode:function(a,b,c){var d=null,e;a.domNode&&(a=a.domNode);for(;a&&a!==window.document;){if(c){if(a.hasAttribute(b)&&a.getAttribute(b)===c){d=a;break}}else{if(a.hasAttribute(b)){d=a;break}if(a.classList.contains(b)){d=a;break}}a=(e=a.getAttribute("dijitpopupparent"))?document.getElementById(e):
a.parentNode}return d},_updateContextMenu:function(a){this._contextMenu.getChildren().forEach(function(a){this._contextMenu.removeChild(a);a.destroyRecursive()},this);var b;if(b=a.target.classList.contains("toolstripComponentWrapper")?r.getEnclosingWidget(a.target.children[0]):r.getEnclosingWidget(a.target))if(("GalleryItem"===b.type||"ToggleGalleryItem"===b.type)&&!0===b.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(b),b.page&&"Tab"===b.page.type&&!0===b.page.get("removable"))this._addRemoveWidgetMenuItemToContextMenu(b.page);
else{for(a=b;a&&"Tab"!==a.type;)a=a.domNode&&a.domNode.parentElement&&a.domNode.parentElement.hasAttribute("dijitpopupparent")?r.byId(a.domNode.parentElement.getAttribute("dijitpopupparent")):a.getParent();a&&!0===a.get("removable")&&this._addRemoveWidgetMenuItemToContextMenu(a)}if(this.enableQABCustomization){-1<Object.keys(F).indexOf(b.get("type"))&&!b.get("hasDynamicMenu")&&(a=new A({text:s.addToQAB,tag:"addToQAB",disabled:b.get("isInQAB")}),this._contextMenu.addChild(a),a.on("click",function(){b.set("isInQAB",
!0)}));switch(b.get("type")){case E.QAB_PUSH_BUTTON:case E.QAB_TOGGLE_BUTTON:case E.QAB_SPLIT_BUTTON:case E.QAB_DROP_DOWN_BUTTON:case E.QAB_TOGGLE_SPLIT_BUTTON:!0===b.get("isInQAB")&&(a=new A({text:s.removeFromQAB,tag:"removeFromQAB"}),this._contextMenu.addChild(a),a.on("click",function(){b.set("isInQAB",!1)}));this._setShowHideLabelMenuItem(b);break;case E.QAB_FLOATING_PANE_DOCK:this._setShowHideLabelMenuItem(b)}this._isDescendantOfQAB(b)&&(a=new A({text:s.restoreFactoryControls,tag:"restoreFactoryControls"}),
this._contextMenu.addChild(a),a.on("click",h.hitch(this,function(){var a=new G({title:s.restoreFactoryControlsDialogTitle,message:s.restoreFactoryControlsDialogMessage});a.on("success",h.hitch(this,function(){this._QABWidget.restoreFactoryControls()}));a.open()})))}this._contextMenu.hasChildren()&&this._contextMenu.addChild(new z);a=new A({text:this.get("displayState")!==C.EXPANDED?s.restoreToolstrip:s.minimizeToolstrip,tag:"minimizeRestoreToolstrip"});this._contextMenu.addChild(a);a.on("click",h.hitch(this,
this._expandCollapse))},_setShowHideLabelMenuItem:function(a){var b=new A({text:a.get("showText")?s.hideLabel:s.showLabel,tag:"showHideLabel"});this._contextMenu.addChild(b);b.on("click",function(){a.set("showText",!a.get("showText"))})},_addRemoveWidgetMenuItemToContextMenu:function(a){var c,d=function(c){"keydown"===c.type&&0>[b.ENTER,b.SPACE].indexOf(c.keyCode)||(a._emitRemoveEvent?a._emitRemoveEvent():a.emit("remove"),t.close())};c=a.get("removeMessage");if(!c)switch(a.get("type")){case E.TAB:c=
s.closeWidget.replace(/\$\{0}/g,a.get("title"));break;case E.GALLERY_ITEM:case E.TOGGLE_GALLERY_ITEM:c=s.removeWidget.replace(/\$\{0}/g,a.get("text"))}c=new A({text:c,tag:"removeWidget"});this._contextMenu.addChild(c);c.on("mouseup",d);c.on("keydown",d)},_isDescendantOfQAB:function(a){var b=!1;if(a===this._QABWidget)b=!0;else for(;a&&a.getParent&&a.getParent()!==this;){if(a.getParent()===this._QABWidget){b=!0;break}a=a.getParent()}return b},_getToolstripWidth:function(){return n.getMarginBox(this.domNode).w},
_getTopRightContainerWidth:function(){return n.getMarginBox(this.topRightContainer).w},_getTabsWidth:function(a){var b=0;a.forEach(function(a){b+=n.getMarginBox(a).w});return b},_getTabMargin:function(a){if(0<a.length)return n.getMarginBox(a[0]).w-n.position(a[0]).w},_getTabPadding:function(a){if(0<a.length)return 20},_shrinkTabs:function(a){var b=a.length,c=this,d=this._getTabMargin(a),e=this._getTabPadding(a);a.forEach(function(f,g){a[g].style.width=c._availableWidthForTabs/b-e-d+"px";f.classList.add("noMinWidth")})},
_expandTabs:function(a){var b,c,d=this,e=0,f=a.length,g,h=[],k=this._getTabMargin(a);this._getTabPadding(a);a.forEach(function(b,c){g=q.computeWidth(a[c].textContent);g<P.TAB_WIDTH&&(g=P.TAB_WIDTH);g+=k;e+=g;h.push(g)});e<d._getToolstripWidth()-d._getTopRightContainerWidth()?a.forEach(function(b,c){b.classList.remove("noMinWidth");a[c].style.width="auto"}):a.forEach(function(e,g){b=parseFloat(a[g].style.width);c=b+d._availableWidth/f;c<h[g]?(a[g].style.width=c+"px",e.classList.add("noMinWidth")):
a[g].style.width=h[g]-k+"px"})},_setPreventResizeAttr:function(a){this._ignoreResize=this._doNotResize=a},resize:function(){this.inherited(arguments);if(!this._destroyed&&!this._doNotResize&&(this.tabContainer._started&&this.tabContainer.resize(),this.domNode.parentElement)){var a,b=this,c,d,e=0,f,g,h;a=m("[data-dojo-attach-point\x3d'titleNode,innerDiv,tabContent']",this.domNode);e=this._getTabsWidth(a);h=this._getToolstripWidth();g=this._getTopRightContainerWidth();d={QABContainer:this._getQABWidth(),
logoutContainer:this._getLogoutButtonWidth(),searchContainer:this._getSearchBoxWidth(),tabs:this._getTabsWidth(a)};c=["searchContainer","QABContainer","logoutContainer","tabs"];e+g>h?(f=e+g-h,c.forEach(function(c){g=b._getTopRightContainerWidth();h=b._getToolstripWidth();f=e+g-h;0<f&&("tabs"===c?(b._availableWidthForTabs=h-g,b._shrinkTabs(a)):("searchContainer"===c&&b.searchPopupContainer.classList.remove("dijitOffScreen"),m("."+c,b.domNode)[0].classList.add("dijitOffScreen")))})):(this._availableWidth=
h-(e+g),c.reverse().forEach(function(c){g=b._getTopRightContainerWidth();h=b._getToolstripWidth();e=b._getTabsWidth(a);b._availableWidth=h-(e+g);0<b._availableWidth&&("tabs"===c?b._expandTabs(a):d[c]<b._availableWidth&&(m("."+c,b.domNode)[0].classList.remove("dijitOffScreen"),m("."+c,b.domNode)[0].style.display="inline-block","searchContainer"===c&&b.searchPopupContainer.classList.add("dijitOffScreen")))}))}},_getLogoutButtonWidth:function(){return n.getMarginBox(this.logoutContainer).w},_getQABWidth:function(){return n.getMarginBox(this.QABContainer).w},
_getSearchBoxWidth:function(){return n.getMarginBox(this.searchContainer).w},startup:function(){this.inherited(arguments);this._adjustHostHeight();var a=this.domNode.parentNode;a&&(a.style.zIndex=20);this.tabContainer.startup();this.collapseButton.startup();this._QABWidget&&this._QABWidget.startup()},_expandCollapse:function(){var a=this.displayState;a===C.COLLAPSED||a===C.EXPANDED_ON_TOP?a=C.EXPANDED:a===C.EXPANDED&&(a=C.COLLAPSED);this.set("displayState",a);t.close()},addTab:function(a,b){this._shouldSetSelectedTab=
!1;this.tabContainer.addChild(a,b);this._shouldSetSelectedTab=!0},removeChild:function(a){a.tabs.forEach(function(a){this.removeTab(a)},this);this.inherited(arguments);this.resize();Object.keys(this._tabGroupListeners).forEach(function(a){this._tabGroupListeners[a].forEach(function(a){a.remove()})},this)},_beforeAddChild:function(a,b){var c=b,d=this.getChildren().length;!b&&0!==b&&(c=d);return[a,c]},addChild:function(a,b){var c=0,d=0,e,f;for(e=this.getChildren();c<b;)d+=e[c].tabs.length,c+=1;a.tabs.forEach(function(a,
b){this.addTab(a,d+b)},this);this.inherited(arguments);this.set("selectedTab",a.get("selectedTab"));this.resize();this._removeUnSelectableAttribute();c=a.on("childadded",h.hitch(this,this.resize));e=a.on("childremoved",h.hitch(this,this.resize));f=a.on("childadded",h.hitch(this,this._removeUnSelectableAttribute));this._tabGroupListeners[a.id]=[c,e,f]},_removeUnSelectableAttribute:function(){m(".tabLabel",this.domNode).forEach(function(a){e.setSelectable(a,!0)},this)},_setSelectedTabAttr:function(a){if(this._shouldSetSelectedTab){var b=
r.byId(a.toString());if(b&&(this.selectedTab!==a||!this.tabContainer.selectedChildWidget||this.tabContainer.selectedChildWidget.get("id")!==a))this._set("selectedTab",a),this.selectTab(b),this.getChildren().forEach(function(b){b.tabs.some(function(b){return b.id===a})&&b.set("selectedTab",a)})}},_setDisplayStateAttr:function(a){this._set("displayState",a);this._setTooltipforExpandCollapseButton();this._adjustHostHeight()},_setTooltipforExpandCollapseButton:function(){this.collapseButton&&(this.displayState===
C.COLLAPSED||this.displayState===C.EXPANDED_ON_TOP?this.collapseButton.set("description",s.restoreToolstrip):this.collapseButton.set("description",s.minimizeToolstrip))},_adjustHostHeight:function(){var a,b;if(a=this.domNode.parentElement)switch(b=r.getEnclosingWidget(a.parentElement),this.displayState){case C.COLLAPSED:this.domNode.classList.remove("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="28px";a.style.overflow="hidden";this.collapseButton&&
this.collapseButton.set("icon","smallExpand");break;case C.EXPANDED:this.domNode.classList.add("toolstripNotCollapsed");this.domNode.classList.remove("toolstripExpandedOnTop");a.style.height="121px";a.style.overflow="hidden";this.collapseButton&&this.collapseButton.set("icon","smallCollapse");this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize();break;case C.EXPANDED_ON_TOP:this.domNode.classList.add("toolstripNotCollapsed"),this.domNode.classList.add("toolstripExpandedOnTop"),
a.style.height="28px",a.style.overflow="visible",this.tabContainer&&this.tabContainer.selectedChildWidget&&this.tabContainer.selectedChildWidget.resize()}b&&b.resize&&b.resize()},removeTab:function(a){this._shouldSetSelectedTab=!1;this.tabContainer.removeChild(a);this._shouldSetSelectedTab=!0},selectTab:function(a){this.tabContainer.selectChild(a);this.set("selectedTab",a.id)},_setQABIdAttr:function(a){var b=r.byId(a);b&&(this._QABWidget=b,k.place(b.domNode,this.QABContainer),this._started&&this._QABWidget.startup(),
this.own(b));this._set("QABId",a)},toolstripPlaced:function(){}})})},"MW/toolstrip/widgets/TabContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/layout/TabContainer","dijit/layout/ScrollingTabController"],function(g,c,e,a){return g(e,{postMixInProperties:function(){this.inherited(arguments);this.controllerWidget=g(a,{resize:function(){},onAddChild:function(a,e){var g=new (c.isString(this.buttonWidget)?c.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+a.id,
name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(g,e);a.controlButton=g;if(!this._currentChild)this.onSelectChild(a);g=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+g.id:g.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
g)}})},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}(a=this.selectedChildWidget)&&a.resize()}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(g,c,e,a,b){return c("dijit.layout.TabContainer",e,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(a){var b=this.baseClass+"-tabs"+(this.doLayout?
"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?g.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":b,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},a)},postMixInProperties:function(){this.inherited(arguments);
this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?b:a)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),function(g,c,e,a,b,f,k,h){return g("dijit.layout._TabContainerBase",[b,k],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:h,
postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&a.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||c.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(c.add(this.domNode,"dijitTabContainerNested"),c.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),
c.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),c.add(this.containerNode,"dijitTabPaneWrapperNested")):c.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){c.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=this.selectedChildWidget;if(this.doLayout){var b=this.tabPosition.replace(/-h/,
"");this.tablist.region=b;b=[this.tablist,{domNode:this.tablistSpacer,region:b},{domNode:this.containerNode,region:"center"}];f.layoutChildren(this.domNode,this._contentBox,b);this._containerContentBox=f.marginBox2contentBox(this.containerNode,b[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){b=this.tablist.domNode.style;b.width="0";var c=e.getContentBox(this.domNode).w;b.width="";this.tablist.resize({w:c})}a&&a.resize&&a.resize()}}},destroy:function(a){this.tablist&&
this.tablist.destroy(a);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){f("dijit-legacy-requires")&&d(0,function(){require(["dijit/layout/StackController"])});e=e("dijit.layout.StackContainer",s,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",
buildRendering:function(){this.inherited(arguments);a.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(h(this.domNode,"keydown",k.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();g.forEach(a,this._setupChild,this);this.persist?this.selectedChildWidget=n.byId(c(this.id+"_selectedChild")):g.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var b=this.selectedChildWidget;!b&&
a[0]&&(b=this.selectedChildWidget=a[0],b.selected=!0);l.publish(this.id+"-startup",{children:a,selected:b,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var c=a.domNode,d=b.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),e=a["aria-label"]||a.title||a.label;e&&d.setAttribute("aria-label",
e);b.place(c,d);a._wrapper=d;this.inherited(arguments);"none"==c.style.display&&(c.style.display="block");a.domNode.removeAttribute("title")},addChild:function(a,b){this.inherited(arguments);this._started&&(l.publish(this.id+"-addChild",a,b),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var c=g.indexOf(this.getChildren(),a);this.inherited(arguments);b.destroy(a._wrapper);delete a._wrapper;this._started&&l.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===
a&&(this.selectedChildWidget=void 0,this._started)){var d=this.getChildren();d.length&&this.selectChild(d[Math.max(c-1,0)])}this._started&&this.layout()}},selectChild:function(a,b){var d;a=n.byId(a);this.selectedChildWidget!=a&&(d=this._transition(a,this.selectedChildWidget,b),this._set("selectedChildWidget",a),l.publish(this.id+"-selectChild",a,this._focused),this.persist&&c(this.id+"_selectedChild",this.selectedChildWidget.id));return m(d||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=
this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=g.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(a){l.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;
a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(b){var c=this.getChildren();b.isFirstChild=b==c[0];b.isLastChild=b==c[c.length-1];b._set("selected",!0);b._wrapper&&a.replace(b._wrapper,"dijitVisible","dijitHidden");return b._onShow&&b._onShow()||!0},_hideChild:function(b){b._set("selected",!1);b._wrapper&&a.replace(b._wrapper,"dijitHidden","dijitVisible");b.onHide&&b.onHide()},closeChild:function(a){if(!a.onClose||a.onClose(this,a))this.removeChild(a),
a.destroyRecursive()},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;g.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});e.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};k.extend(q,e.ChildWidgetProperties);return e})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){b=g("dijit.layout._TabButton",h.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:n,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);c.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(b){this._set("closeButton",b);a.toggle(this.domNode,"dijitClosable",
b);this.closeNode.style.display=b?"":"none";b&&(b=f.getLocalization("dijit","common"),this.closeNode&&e.set(this.closeNode,"title",b.itemClose))},_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)e.remove(this.closeNode,"title");else{var b=f.getLocalization("dijit","common");e.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=k.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});g=g("dijit.layout.TabController",h,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:b,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var b=new l({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(b){return a.contains(b,"dijitClosable")&&
!a.contains(b,"dijitTabDisabled")}});this.own(b);var c=f.getLocalization("dijit","common"),e=this;b.addChild(new m({label:c.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=d.byNode(this.getParent().currentTarget);e.onCloseButtonClick(a.page)}}))}});g.TabButton=b;return g})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){a=c("dijit.layout._StackButton",s,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});c=c("dijit.layout.StackController",[m,n,q],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:a,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return l.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(h.subscribe(this.containerId+"-startup",f.hitch(this,"onStartup")),h.subscribe(this.containerId+"-addChild",f.hitch(this,"onAddChild")),h.subscribe(this.containerId+"-removeChild",f.hitch(this,"onRemoveChild")),h.subscribe(this.containerId+"-selectChild",f.hitch(this,"onSelectChild")),h.subscribe(this.containerId+"-containerKeyDown",f.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(k(this.containerNode,"click",
f.hitch(this,function(a){var b=l.getEnclosingWidget(a.target);if(b!=this.containerNode&&!b.disabled&&b.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(e.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(b.page);break}else if(a==b.domNode){this.onButtonClick(b.page);break}})))},onStartup:function(a){this.textDir=a.textDir;g.forEach(a.children,this.onAddChild,this);if(a.selected)this.onSelectChild(a.selected);var b=l.byId(this.containerId).containerNode,c=f.hitch(this,"pane2button");
a={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var d=function(a,d){return k(b,"attrmodified-"+a,function(a){var b=c(a.detail&&a.detail.widget&&a.detail.widget.id);b&&b.set(d,a.detail.newValue)})},e;for(e in a)this.own(d(e,a[e]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var c=new (f.isString(this.buttonWidget)?f.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(c,b);a.controlButton=c;if(!this._currentChild)this.onSelectChild(a);c=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+c.id:c.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
c)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var b=this.pane2button(this._currentChild.id);b.set("checked",!1);b.focusNode.setAttribute("tabIndex","-1")}b=this.pane2button(a.id);b.set("checked",!0);this._currentChild=a;b.focusNode.setAttribute("tabIndex","0");l.byId(this.containerId)}},onButtonClick:function(a){var b=this.pane2button(a.id);
d.focus(b.focusNode);this._currentChild&&this._currentChild.id===a.id&&b.set("checked",!0);l.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){l.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&d.focus(a.focusNode||a.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),c=g.indexOf(b,this.pane2button(this._currentChild.id)),d=b[c],e;do c=
(c+(a?1:b.length-1))%b.length,e=b[c];while(e.disabled&&e!=d);return e},onkeydown:function(a,c){if(!this.disabled&&!a.altKey){var d=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case b.LEFT_ARROW:case b.UP_ARROW:a._djpage||(d=!1);break;case b.PAGE_UP:a.ctrlKey&&(d=!1);break;case b.RIGHT_ARROW:case b.DOWN_ARROW:a._djpage||(d=!0);break;case b.PAGE_DOWN:a.ctrlKey&&(d=!0);break;case b.HOME:for(var e=this.getChildren(),f=0;f<e.length;f++){var g=e[f];if(!g.disabled){this.onButtonClick(g.page);break}}a.stopPropagation();
a.preventDefault();break;case b.END:e=this.getChildren();for(f=e.length-1;0<=f;f--)if(g=e[f],!g.disabled){this.onButtonClick(g.page);break}a.stopPropagation();a.preventDefault();break;case b.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==b.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case b.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==d&&(this.onButtonClick(this.adjacent(d).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});c.StackButton=a;return c})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin","../_mw/utils/deprecation"],function(g,c,e,a,b){b.deprecated({deprecated:{module:"dijit/form/ToggleButton"},replacement:{module:"mw-form/ToggleButton"},geckNumber:1352405});return g("dijit.form.ToggleButton",[e,a],{baseClass:"dijitToggleButton",
setChecked:function(a){c.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../_mw/utils/deprecation ../a11yclick".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){m.deprecated({deprecated:{module:"dijit/form/Button"},replacement:{module:"mw-form/PushButton"},
geckNumber:1352405});a("dijit-legacy-requires")&&k(0,function(){g(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return c("dijit.form.Button",[h,d],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:l,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&
!this.label&&(this.label=f.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(a){this.containerNode&&e.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},onLabelSet:function(){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=f.trim(this.containerNode.innerText||
this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(g,c,e,a,b,f,k,h){c("dijit-legacy-requires")&&a(0,function(){require(["dijit/form/_FormValueWidget"])});return g("dijit.form._FormWidget",[b,k,f,h],{setDisabled:function(a){e.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",
a)},setValue:function(a){e.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!c("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return c("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?e.set(this.focusNode,"disabled",a):this.focusNode.setAttribute("aria-disabled",a?"true":"false");this.valueNode&&
e.set(this.valueNode,"disabled",a);a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",g.forEach(b.isArray(a)?a:[a],function(a){a=this[a];h("webkit")||l.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(k(this.focusNode,
"focus",function(){f.remove();c.remove()}))[0],e=h("pointer-events")?"pointerup":h("MSPointer")?"MSPointerUp":h("touch-events")?"touchend, mouseup":"mouseup",f=this.own(k(this.ownerDocumentBody,e,b.hitch(this,function(a){f.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){d.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=a.get(this.domNode,
"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,
this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},
"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(g,c,e,a){return g("dijit.form._ButtonMixin",null,{label:"",type:"button",__onClick:function(a){a.stopPropagation();a.preventDefault();this.disabled||this.valueNode.click(a);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var c=b.defaultPrevented;if(!c&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var e=
this.domNode;e.parentNode;e=e.parentNode){var g=a.byNode(e);if(g&&"function"==typeof g._onSubmit){g._onSubmit(b);b.preventDefault();c=!0;break}}return!c},postCreate:function(){this.inherited(arguments);c.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a;this.onLabelSet()},onLabelSet:function(){}})})},"dijit/_mw/utils/deprecation":function(){define(["dojo/_base/config"],function(g){var c={warn:function(a){console&&
console.warn&&console.warn(a)},error:function(a){console&&console.error&&console.error(a)}},e={deprecated:function(a){var b,e;if((g.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))e=window.showDeprecationsAsErrors||a.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",a.deprecated&&(b+=a.deprecated.module,a.deprecated.method&&(b+="."+a.deprecated.method+"()"),b+="."),a.replacement&&(b+=" Use "+a.replacement.module,a.replacement.method&&(b+="."+a.replacement.method+
"()"),b+=" instead."),a.removalVersion&&(b+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(b+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),a.additionalInformation&&(b+=" "+a.additionalInformation),c[e](b)},_isConfigValid:function(a){var b=!!a.deprecated&&"object"===typeof a.deprecated&&a.deprecated.hasOwnProperty("module");a.replacement&&(b=b&&"object"===typeof a.replacement&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(b=
b&&"number"===typeof a.geckNumber);b||c.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(e,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return e})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(g,c){return g("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",
_onClick:function(c){var a=this.checked;this._set("checked",!a);var b=this.inherited(arguments);this.set("checked",b?this.checked:a);return b},_setCheckedAttr:function(e,a){this._set("checked",e);var b=this.focusNode||this.domNode;this._created&&c.get(b,"checked")!=!!e&&c.set(b,"checked",!!e);b.setAttribute(this._aria_attr,String(e));this._handleOnChange(e,a)},postCreate:function(){this.inherited(arguments);var c=this.focusNode||this.domNode;this.checked&&c.setAttribute("checked","checked");void 0===
this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v){n=c("dijit.layout.ScrollingTabController",[s,r],{baseClass:"dijitTabController dijitScrollingTabController",templateString:n,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",e.add(a,"tabStrip-disabled"));e.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);b.set(this.domNode,"visibility","");this._postStartup=!0;this.own(h(this.containerNode,"attrmodified-label, attrmodified-iconclass",k.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,c){this.inherited(arguments);b.set(this.containerNode,"width",b.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=d("\x3e .tabStripButton",this.domNode).filter(function(c){if(this.useMenu&&c==this._menuBtn.domNode||this.useSlider&&(c==this._rightBtn.domNode||c==this._leftBtn.domNode))return this._btnWidth+=a.getMarginSize(c).w,!0;b.set(c,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var c=this._getTabsWidth();a=a||b.get(this.scrollNode,"width");return 0<c&&a<c},resize:function(b){this._dim=b;this.scrollNode.style.height="auto";var c=this._contentBox=p.marginBox2contentBox(this.domNode,{h:0,w:b.w});c.h=this.scrollNode.offsetHeight;a.setContentSize(this.domNode,c);c=this._enableBtn(this._contentBox.w);
this._buttons.style("display",c?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:b.w}},_getScroll:function(){return this.isLeftToRight()||8>l("ie")||l("trident")&&l("quirks")||l("webkit")?this.scrollNode.scrollLeft:b.get(this.containerNode,"width")-b.get(this.scrollNode,"width")+(l("trident")||l("edge")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>l("ie")||l("trident")&&l("quirks")||l("webkit"))return a;var c=b.get(this.containerNode,"width")-b.get(this.scrollNode,"width");return(l("trident")||
l("edge")?-1:1)*(a-c)},onSelectChild:function(a,c){var d=this.pane2button(a.id);if(d){var e=d.domNode;if(e!=this._selectedTab&&(this._selectedTab=e,this._postResize)){var f=this._getScroll();f>e.offsetLeft||f+b.get(this.scrollNode,"width")<e.offsetLeft+b.get(e,"width")?(e=this.createSmoothScroll(),c&&(e.onEnd=function(){d.focus()}),e.play()):c&&d.focus()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),c=b.get(this.scrollNode,"width"),d=b.get(this.containerNode,"width")-
c,e=this._getTabsWidth();if(a.length&&e>c)return{min:this.isLeftToRight()?0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-c:d};a=this.isLeftToRight()?0:d;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,c=b.get(this.scrollNode,"width"),d=this._getScrollBounds(),a=a.offsetLeft+b.get(a,"width")/2-c/2;return a=Math.min(Math.max(a,d.min),d.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=
this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var c=this,d=this.scrollNode,e=new f.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=d.scrollLeft,g=c._convertToScrollLeft(a);e.curve=new f._Line(b,g)},onAnimate:function(a){d.scrollLeft=a}});this._anim=e;this._setButtonClass(a);return e},_getBtnNode:function(a){for(a=a.target;a&&!e.contains(a,"tabStripButton");)a=a.parentNode;
return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,c){if(!c||!e.contains(c,"dijitTabDisabled")){var d=0.75*b.get(this.scrollNode,"width")*a,d=this._getScroll()+d;this._setButtonClass(d);this.createSmoothScroll(d).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});q=c("dijit.layout._ScrollingTabControllerButtonMixin",
null,{baseClass:"dijitTab tabStripButton",templateString:q,tabIndex:"",isFocusable:function(){return!1}});c("dijit.layout._ScrollingTabControllerButton",[x,q]);c("dijit.layout._ScrollingTabControllerMenuButton",[x,v,q],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new t({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=m.byId(this.containerId);g.forEach(b.getChildren(),function(a){var c=
new u({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return n})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect",
"dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(g,c,e,a,b){return e("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);b.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,
scope:"dojo"}).then(a.hitch(this,function(a){this._startupWidgets=a;for(var b=0;b<a.length;b++)this._processTemplateNode(a[b],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(a,b,c){return b(a,"dojoType")||b(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){g.forEach(this._startupWidgets,function(a){a&&(!a._started&&a.startup)&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g("dijit._HasDropDown",r,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(m.once(this.ownerDocument,n.release,l.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(a){var c=this.dropDown,d=!1;if(a&&this._opened){var e=f.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w)||!(a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)b.contains(e,"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(c.onItemClick){for(var g;e&&!(g=q.byNode(e));)e=e.parentNode;if(g&&g.onClick&&g.getParent)g.getParent().onItemClick(g,a)}return}}}if(this._opened){if(c.focus&&(!1!==c.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(m(this._buttonNode,n.press,l.hitch(this,"_onDropDownMouseDown")),m(this._buttonNode,"click",l.hitch(this,"_onDropDownClick")),m(a,"keydown",l.hitch(this,"_onKey")),m(a,"keyup",l.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),a.preventDefault();else if(b&&this._opened&&a.keyCode==d.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==d.DOWN_ARROW||(a.keyCode==d.ENTER||a.keyCode==d.SPACE&&(!this._searchTimer||
a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(l.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=
new c,b=l.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var c=this.dropDown,d=c.domNode,e=this._aroundNode||this.domNode,g=this,h=p.open({parent:this,popup:c,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){g.closeDropDown(!0)},onCancel:function(){g.closeDropDown(!0)},
onClose:function(){a.set(g._popupStateNode,"popupActive",!1);b.remove(g._popupStateNode,"dijitHasDropDownOpen");g._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>c._popupWrapper.offsetWidth){var e=e.offsetWidth-c._popupWrapper.offsetWidth,k={w:c.domNode.offsetWidth+e};this._origStyle=d.style.cssText;l.isFunction(c.resize)?c.resize(k):f.setMarginBox(d,k);"R"==h.corner[1]&&(c._popupWrapper.style.left=c._popupWrapper.style.left.replace("px","")-e+"px")}a.set(this._popupStateNode,
"popupActive","true");b.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",c.id);"presentation"!==d.getAttribute("role")&&!d.getAttribute("aria-labelledby")&&d.setAttribute("aria-labelledby",this.id);return h},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded",
"false"),a&&this.focus&&this.focus(),p.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,delete this._origStyle)}})})},"MW/toolstrip/constants/MiscConstants":function(){define([],function(){return{DO_NOT_DISPLAY:"ToolstripDoNotDisplay",TAB_WIDTH:102}})},"MW/toolstrip/widgets/_WidgetMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{postCreate:function(){this.inherited(arguments);this._addDataAttribute("tag");this._addDataAttribute("type")},
_addDataAttribute:function(c,e){e=e||this[c];this.domNode&&this.domNode.setAttribute("data-"+c,e)},_setTagAttr:function(c){this._addDataAttribute("tag",c);this._set("tag",c)},_setTypeAttr:function(c){this._addDataAttribute("type",c);this._set("type",c)}})})},"mw-event-utils/doubleClickHandler":function(){define({createCallback:function(g,c,e){var a=0,b;void 0===e&&(e=200);return function(f){a+=1;1===a?b=setTimeout(function(){a=0;g(f)},e):2===a&&(clearTimeout(b),a=0,f.syntheticEvent||c(f))}}})},"MW/layout/ConfirmationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/has dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ConfirmationDialog.html mw-dialog-utils/DialogUtils dojo/i18n!l10n/nls/confirmationDialog".split(" "),
function(g,c,e,a,b,f,k,h,d){var l=["warning","question"],m=function(a,b){this.emit(a.name);b.onClose()},n={question:{icon:"icon_dialog_question_32",buttons:[{name:"failure",label:d.no},{name:"success",label:d.yes}]},warning:{icon:"icon_dialog_warning_32",buttons:[{name:"failure",label:d.cancel},{name:"success",label:d.ok}]}};a("mac")&&Object.keys(n).forEach(function(a){n[a].buttons.reverse()});return g([b,f],{baseClass:"mwConfirmationDialog",templateString:k,title:"I am the Title",message:"I am the message.",
type:"warning",postCreate:function(){this.inherited(arguments);e.add(this.iconNode,n[this.type].icon);this.messageNode.textContent=this.message},_setTypeAttr:function(a){if(-1===l.indexOf(a))throw Error("The 'type' property can only be one of: "+l);this._checkAndSetProperty("type",a)},_setTitleAttr:function(a){this._checkAndSetProperty("title",a)},_setMessageAttr:function(a){this._checkAndSetProperty("message",a)},_checkAndSetProperty:function(a,b){if(this._created)throw Error("The '"+a+"' can only be set during construction!");
this._set(a,b)},open:function(){var a=n[this.type].buttons;a.forEach(function(a){a.buttonHandler={handler:c.hitch(this,m)}},this);h.displayModalDialog(this,this.title,a,{dialogClass:"mwConfirmationDialogContainer"})}})})},"mw-dialog-utils/DialogUtils":function(){define("dijit/_Widget dijit/form/Button dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on ./DialogDisplayManager mw-log/Log mw-utils/Utils dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){s.deprecated({deprecated:{module:"MW/dialog/DialogUtils"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});var p={dismiss:function(a,b){b.close()}},r=e(g,{constructor:function(b){b=b||{};b.message=b.message||"This space intentionally left blank";b.buttons=b.buttons||{name:"ok",label:this._getLocalizedName("ok"),buttonHandler:{handler:"dismiss"}};b.options=b.options||{};a.isArray(b.buttons)||(b.buttons=[b.buttons])},buildRendering:function(){this.inherited(arguments);
this._setDialogOptions(this.options);this._addMessage(this.message);this._addButtons(this.buttons)},startup:function(){a.isFunction(this.message.startup)&&this.message.startup();this.buttonWidgets.forEach(function(a){a.startup()})},destroy:function(){d.emit(this.domNode,"restorefocus",{bubbles:!0});this.inherited(arguments);if(this.message&&a.isFunction(this.message.onClose))this.message.onClose()},destroyRecursive:function(){this.inherited(arguments);delete this.message;this.buttonWidgets&&delete this.buttonWidgets},
_setDialogOptions:function(a){f.add(this.domNode,a.dialogClass||"messageDialog");a&&a["data-test-id"]&&b.set(this.domNode,"data-test-id",a["data-test-id"])},_addMessage:function(c){a.isString(c)?(b.set(this.domNode,"innerHTML",c),h.set(this.domNode,"whiteSpace","pre-line")):a.isFunction(c.placeAt)?c.placeAt(this.domNode,"first"):k.place(c,this.domNode,"first")},_addButtons:function(a){this.buttonWidgets=[];"none"!==this.buttons.toString().toLowerCase()&&(this.buttonContainer=this._createButtons(a),
k.place(this.buttonContainer,this.domNode,"last"))},_createButtons:function(a){var c=k.create("div",{"class":"buttonContainer"});a=this._convertButtonsToNewFormat(a);a.forEach(function(a){var d=this._createButton(a);a["data-testid"]&&b.set(d.domNode,"data-testid",a["data-testid"]);d.placeAt(c,"last");this.buttonWidgets.push(d)},this);return c},_convertButtonsToNewFormat:function(a){var b=[],c;a.forEach(function(a){var d;if(!a.name||!a.buttonHandler||!a.buttonHandler.handler){m.warn("buttons format is deprecated: "+
a+' expected format: {name: "ok", label: "OK", buttonHandler: {handler: function(){}, scope:}}');c={};for(d in a)a.hasOwnProperty(d)&&(c.name=d,c.buttonHandler={},c.buttonHandler.handler=a[d]);b.push(c)}else b.push(a)});return b},_createButton:function(a){var b=a.label||this._getLocalizedName(a.name);a=this._getHandlerFunction(a);return new c({label:b,onClick:a})},_getLocalizedName:function(b){return a.getObject(b,!1,q)||b},_getHandlerFunction:function(b){var c=b.buttonHandler.handler,d=b.buttonHandler.scope,
e;if(a.isString(c))if(p.hasOwnProperty(c))e=p[c];else throw Error("Unknown button handler: "+e);else e=c;return e=d?a.hitch(d,e,b,this):a.hitch(this,e,b,this)}}),t=e(g,{constructor:function(a){this.message=a},buildRendering:function(){this.inherited(arguments);this._addMessage(this.message)},_addMessage:function(a){b.set(this.domNode,"innerHTML",a);h.set(this.domNode,"whiteSpace","pre-line")}});g=null;return g=new (e([],{constructor:function(a){this.layoutInstance=null},_getLayoutInstance:function(){this.layoutInstance||
(this.layoutInstance=new l);return this.layoutInstance},setLayout:function(a){this.layoutInstance=a},_displayWidget:function(b,c,e){var f,g,h=this;c={title:c};f=e.layoutId||e.type+n.generateUuid();g=e.layoutId||e.type;a.mixin(c,e);if("string"===typeof b||!b)b=new t(b);e.dismissOnClick&&d(b,"click",function(){b.close()});b.onClose=function(){e.closeCallBack&&"function"===typeof e.closeCallBack&&e.closeCallBack();h._getLayoutInstance().removeWidget(f);return!0};b.onCancel=function(){e.cancelCallBack&&
"function"===typeof e.cancelCallBack&&e.cancelCallBack();b.close()};this._getLayoutInstance().addWidget(f,g,b,c);return b},displayModalDialog:function(a,b,c,d){d=d||{};"fault"===d.dialogType?(d.dialogClass=d.dialogClass||"faultMessage",d.layoutId=d.layoutId||"faultDialog"):"warn"===d.dialogType?(d.dialogClass=d.dialogClass||"warnMessage",d.layoutId=d.layoutId||"warnDialog"):d.dialogType=d.dialogType||"messageDialog";a=new r({message:a,buttons:c,options:d});d.isModal=!0;d.type=d.dialogType;return this._displayWidget(a,
b,d)},displayNonModalDialog:function(a,b,c){c=c||{};c.type="floatingPane";return this._displayWidget(b,a,c,c.type)},_getModalDialogWidget:function(){return r}}))})},"mw-dialog-utils/DialogDisplayManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr mw-store-utils/InMemoryStore ./DialogDisplayUtilities mw-deprecation-utils/deprecation".split(" "),function(g,c,e,a,b,f,k){k.deprecated({deprecated:{module:"MW/dialog/DialogDisplayManager"},replacement:{module:"mw-dialogs/Dialogs"},
geckNumber:1471429});return c([f],{constructor:function(a){this.dialogWidgetStore=new b},addWidget:function(a,b,c,e){b={};b.widget=c;b.position=e.position;b.closable=!1===e.closable?!1:!0;b.autofocus=!0;b.title=e.title;b.id=a;b.style=e.style;b.dialogClass=e.dialogClass;b.parentDiv=e.parentDiv;b["data-testid"]=e["data-testid"];e.isModal?this._displayModalDialog(b):(b.resizable=e.resizable,this._displayNonModalDialog(b));this.dialogWidgetStore.newItem(b)},_displayModalDialog:function(a){a.wrapper=this.createModalDialogWrapper(a);
a.wrapper.show();a.widget.startup()},_displayNonModalDialog:function(a){a.wrapper=this.createNonModalDialogWrapper(a);a.widget.close||(a.widget.close=function(){a.wrapper.close()});this.startNonModalDialogAndAddResizeHandlers(a.wrapper)},removeWidget:function(a){var b=null;this.dialogWidgetStore.fetch({query:{id:a},onItem:function(a){b=a}});b&&(b.wrapper.destroyRecursive(),this.dialogWidgetStore.deleteItem(b))},removeWidgetsWithParentId:function(){},removeWidgetsWithLayoutId:function(){},showWidget:function(){},
focusWidget:function(){},disableWidget:function(){},enableWidget:function(){},updateWidget:function(){},updateWidgetsWithLayoutId:function(){},ensureParentExistsInStore:function(){}})})},"mw-store-utils/InMemoryStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/data/util/filter","dojo/data/util/simpleFetch","mw-utils/Utils"],function(g,c,e,a,b){g=g([],{_storeRef:"_S",_timestampProp:"_timestamp",constructor:function(a){a=a||{};this.items=[];a.items&&a.items.forEach(function(a){this.newItem(a)},
this)},_fetchItems:function(a,b){var c=[],d,g,m,n,q,s,p={};if(a.query){g=a.queryOptions?a.queryOptions.ignoreCase:!1;for(d in a.query)a.query.hasOwnProperty(d)&&(s=a.query[d],"string"===typeof s&&/[\*\?]+/.test(s)?p[d]=e.patternToRegExp(s,g):s instanceof RegExp&&(p[d]=s));q=this.items.length;for(g=0;g<q;g+=1){m=!0;n=this.items[g];if(null===n)m=!1;else for(d in a.query)a.query.hasOwnProperty(d)&&(s=a.query[d],this._containsValue(n,d,s,p[d])||(m=!1));m&&c.push(n)}}else this.items&&this.items.forEach(function(a){null!==
a&&c.push(a)});b(c,a)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Write":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Identity":!0}},getAttributes:function(a){this._assertIsItem(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&(c!==this._storeRefPropName&&c!==this._loadedPropName&&c!==this._filePathPropName)&&b.push(c);return b},isItem:function(a){return a&&a[this._storeRef]===this},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(){},getValues:function(a,
b){this._assertIsItem(a);if(!c.isString(b))throw Error("MW.utils.InMemoryStore: invalid attribute");return a.hasOwnProperty(b)?[a[b]]:[]},getValue:function(a,b){var c=this.getValues(a,b);return 0===c.length?void 0:c[0]},hasAttribute:function(a,b){return 0<this.getValues(a,b).length},containsValue:function(a,b,c){var d;"string"===typeof c&&(d=e.patternToRegExp(c,!1));return this._containsValue(a,b,c,d)},_containsValue:function(a,b,e,d){var g=this.getValues(a,b),m=g.length;for(a=0;a<m;a+=1)if(b=g[a],
d&&!c.isObject(b)&&null!==b&&b.toString().match(d)||e===b)return!0;return!1},setValues:function(a,b,e){var d;this._assertIsItem(a);if(!c.isString(b))throw Error("MW.utils.InMemoryStore: invalid attribute");d=a[b];if(d!==e||"store"===b)a[b]=e,this.onSet(a,b,d,e)},setValue:function(a,b,c){this.setValues(a,b,c)},newItem:function(a){var e={id:b.generateUuid()};e[this._timestampProp]=new Date;e[this._storeRef]=this;c.mixin(e,a);this.items.push(e);this.onNew(e);return e},deleteItem:function(a){var b;this._assertIsItem(a);
b=this.items.indexOf(a);0<=b&&this.items.splice(b,1);this.onDelete(a)},getIdentity:function(a){return a.id},save:function(a){},revert:function(){return!1},isDirty:function(a){return!1},onNew:function(){},onDelete:function(){},onSet:function(){},_assertIsItem:function(a){if(!this.isItem(a))throw Error("MW.utils.InMemoryStore: Invalid argument, item is not in the store.");}});c.extend(g,a);return g})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(g){var c={};g.setObject("dojo.data.util.filter",
c);c.patternToRegExp=function(c,a){for(var b="^",f=null,g=0;g<c.length;g++)switch(f=c.charAt(g),f){case "\\":b+=f;g++;b+=c.charAt(g);break;case "*":b+=".*";break;case "?":b+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":b+="\\";default:b+=f}b+="$";return a?RegExp(b,"mi"):RegExp(b,"m")};return c})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(g,c,e){var a={};g.setObject("dojo.data.util.simpleFetch",
a);a.errorHandler=function(a,e){e.onError&&e.onError.call(e.scope||c.global,a,e)};a.fetchHandler=function(a,f){var g=f.abort||null,h=!1,d=f.start?f.start:0,l=f.count&&Infinity!==f.count?d+f.count:a.length;f.abort=function(){h=!0;g&&g.call(f)};var m=f.scope||c.global;f.store||(f.store=this);f.onBegin&&f.onBegin.call(m,a.length,f);f.sort&&a.sort(e.createSortFunction(f.sort,this));if(f.onItem)for(var n=d;n<a.length&&n<l;++n){var q=a[n];h||f.onItem.call(m,q,f)}f.onComplete&&!h&&(n=null,f.onItem||(n=a.slice(d,
l)),f.onComplete.call(m,n,f))};a.fetch=function(a){a=a||{};a.store||(a.store=this);this._fetchItems(a,g.hitch(this,"fetchHandler"),g.hitch(this,"errorHandler"));return a};return a})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(g){var c={};g.setObject("dojo.data.util.sorter",c);c.basicComparator=function(c,a){var b=-1;null===c&&(c=void 0);null===a&&(a=void 0);if(c==a)b=0;else if(c>a||null==c)b=1;return b};c.createSortFunction=function(e,a){function b(a,b,c,d){return function(e,
f){var g=d.getValue(e,a),h=d.getValue(f,a);return b*c(g,h)}}for(var f=[],g,h=a.comparatorMap,d=c.basicComparator,l=0;l<e.length;l++){g=e[l];var m=g.attribute;if(m){g=g.descending?-1:1;var n=d;h&&("string"!==typeof m&&"toString"in m&&(m=m.toString()),n=h[m]||d);f.push(b(m,g,n,a))}}return function(a,b){for(var c=0;c<f.length;){var d=f[c++](a,b);if(0!==d)return d}return 0}};return c})},"mw-dialog-utils/DialogDisplayUtilities":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/keys dojo/on dojo/window ./Dialog ./FloatingPane mw-dnd/BoundedMover mw-deprecation-utils/deprecation".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){s.deprecated({deprecated:{module:"MW/dialog/DialogDisplayUtilities"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return c([],{constructor:function(a){},createModalDialogWrapper:function(a){var c;a.dialogClass&&(a.dialogClass=e.trim(a.dialogClass)+"Box dialog");c=new m({title:a.title||"",id:a.id+"Dialog",style:a.style,"class":(a.dialogClass||"dialog")+(a["class"]?" "+a["class"]:""),closable:a.closable,duration:1,refocus:!1!==a.refocus,autofocus:!1!==
a.autofocus});c._onKey=function(){this.inherited("_onKey",arguments)};c.show=function(){var b;a.position&&(0<=a.position.x&&0<=a.position.y)&&this.placeDialogAt(a.position);k.set(this.domNode,{opacity:0,display:""});b=this.inherited("show",arguments);this.closable||k.set(this.closeButtonNode,{display:"none"});this.dombody=document.body;this.handleBodyKeyPress=d(this.dombody,"click",e.hitch(this,this.handleFocus));this._dialogShowPromise=b;b.then(function(){a.wrapper.closeButtonNode.setAttribute("tabindex",
"0")});return b};a.widget&&(a.widget.close=function(){c._dialogShowPromise&&!c._dialogShowPromise.isResolved()?c._dialogShowPromise.then(function(){c.hide()}):c.hide()});this._addWrapperAndWidgetEvents(c,a.widget);c.set("content",a.widget);a["data-testid"]&&b.set(c.domNode,"data-testid",a["data-testid"]);c.onHide=function(){c.onClose()};return c},createNonModalDialogWrapper:function(c,d,g,h){c.parentDiv=d||c.parentDiv||c.id+"floatingParentDiv";a.byId(c.parentDiv)||f.create("div",{id:c.parentDiv},
document.body);c.dialogClass&&(c.dialogClass=e.trim(c.dialogClass));d=new n({title:c.title||"","class":c.dialogClass||"",id:h||c.id,resizable:!1!==c.resizable,dockable:!1,style:g||c.style},a.byId(c.parentDiv));d.duration=500;this._addWrapperAndWidgetEvents(d,c.widget);d.set("content",c.widget);c["data-testid"]&&b.set(d.domNode,"data-testid",c["data-testid"]);return d},startNonModalDialogAndAddResizeHandlers:function(a){var b;a.startup();a.bringToTop();a.show();b=l.getBox();a._moveable.mover=q;a._resizeHandle&&
(a._resizeHandle.constrainMax=!0,a._resizeHandle.maxSize=b)},_addWrapperAndWidgetEvents:function(a,b){a.onClose=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return b.onClose&&b.onClose(arguments)};a.onCancel=function(){this.handleBodyKeyPress&&this.handleBodyKeyPress.remove();return b.onCancel&&b.onCancel(arguments)};a.onShow=function(){return b.onShow&&b.onShow(arguments)};a.onFocus=function(){return b.onFocus&&b.onFocus(arguments)};a.onBlur=function(){return b.onBlur&&b.onBlur(arguments)}}})})},
"mw-dialog-utils/Dialog":function(){define("dijit/Dialog dijit/focus dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dnd/Moveable dojo/dom-geometry dojo/on dojo/window mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog mw-deprecation-utils/deprecation".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n){n.deprecated({deprecated:{module:"MW/dialog/Dialog"},replacement:{module:"mw-dialogs/Dialogs"},geckNumber:1471429});return e([g],{_userPreferredPosition:null,_setTitleAttr:{node:"titleNode",type:"textContent"},
postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary");this.closeButtonNode.title=m.close},setMover:function(a){this._mover=a},_setup:function(){this.inherited(arguments);this.titleBar&&this.draggable&&(this._moveable.destroy(),this._moveable=new f(this.domNode,{handle:this.titleNode}),b.after(this._moveable,"onMoveStop",a.hitch(this,"_endDrag"),!0))},show:function(){var b=this.inherited(arguments);this._moveable.mover=this._mover||l;this.own(h(this.domNode,
"click",a.hitch(this,this.handleFocus)));return b},isTop:function(){return g._DialogLevelManager.isTop(this)},handleFocus:function(){this.open&&(this.isTop()&&(!this.focused||!c.curNode))&&this.focus()},placeDialogAt:function(a){a&&(this._relativePosition={x:a.x,y:a.y})},resize:function(){var a,b,c=d.getBox(this.ownerDocument);b=k.position(this.domNode);if(this._userPreferredPosition=this._relativePosition?this._relativePosition:this._userPreferredPosition)a=this._userPreferredPosition.x+b.w,b=this._userPreferredPosition.y+
b.h,a>c.w||b>c.h?delete this._relativePosition:this._relativePosition=this._userPreferredPosition;this.inherited("resize",arguments)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P){function K(){}var U=new b;U.resolve(!0);w=a("dijit._DialogBase",[B,A,z,D],{templateString:P,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=m.getLocalization("dijit","common");q.mixin(this,a);this.inherited(arguments)},postCreate:function(){d.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);e.after(this,"onExecute",q.hitch(this,"hide"),!0);e.after(this,"onCancel",q.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&G.isTop(this)&&
(this._getFocusItems(),v.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();v.focus(this._firstFocusItem)},_endDrag:function(){var a=h.position(this.domNode),b=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==r("ie")?x:u)(a,{handle:this.titleBar}),e.after(this._moveable,
"onMoveStop",q.hitch(this,"_endDrag"),!0)):k.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":c.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:q.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!k.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=t.getBox(this.ownerDocument),c=this._relativePosition,e=h.position(a),f=Math.floor(b.l+(c?Math.min(c.x,b.w-e.w):(b.w-
e.w)/2)),b=Math.floor(b.t+(c?Math.min(c.y,b.h-e.h):(b.h-e.h)/2));d.set(a,{left:f+"px",top:b+"px"})}},_onKey:function(a){if(a.keyCode==n.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(v.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(v.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==
n.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return U.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),G.hide(this));var a=t.get(this.ownerDocument);this._modalconnects.push(s(a,"scroll",q.hitch(this,"resize",null)));this._modalconnects.push(s(this.domNode,"keydown",q.hitch(this,"_onKey")));d.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var c;this._fadeInDeferred=new b(q.hitch(this,function(){c.stop();delete this._fadeInDeferred}));this._fadeInDeferred.then(void 0,K);a=this._fadeInDeferred.promise;c=l.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:q.hitch(this,function(){G.show(this,this.underlayAttrs)}),onEnd:q.hitch(this,function(){this.autofocus&&G.isTop(this)&&(this._getFocusItems(),v.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);
delete this._fadeInDeferred})}).play();return a},hide:function(){if(!this._alreadyInitialized||!this.open)return U.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new b(q.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(void 0,K);this._fadeOutDeferred.then(q.hitch(this,"onHide"));var c=this._fadeOutDeferred.promise;a=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:q.hitch(this,function(){this.domNode.style.display=
"none";G.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var d;d=this._modalconnects.pop();)d.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return c},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle),c.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(a){a&&d.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=t.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var e=h.position(this.domNode);e.w>=b.w||e.h>=b.h?(a={w:Math.min(e.w,b.w),h:Math.min(e.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(a){h.setMarginBox(this.domNode,a);b=[];this.titleBar&&b.push({domNode:this.titleBar,
region:"top"});this.actionBarNode&&b.push({domNode:this.actionBarNode,region:"bottom"});e={domNode:this.containerNode,region:"center"};b.push(e);var f=C.marginBox2contentBox(this.domNode,a);C.layoutChildren(this.domNode,f,b);this._singleChild?(b=C.marginBox2contentBox(this.containerNode,e),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!r("touch")&&!a&&this._position()}},_layoutChildren:function(){c.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();G.hide(this);this.inherited(arguments)}});var O=a("dijit.Dialog",[E,w],{});O._DialogBase=w;var G=O._DialogLevelManager={_beginZIndex:950,show:function(a,b){J[J.length-1].focus=v.curNode;var c=J[J.length-1].dialog?J[J.length-1].zIndex+2:O._DialogLevelManager._beginZIndex;
d.set(a.domNode,"zIndex",c);F.show(b,c-1);J.push({dialog:a,underlayAttrs:b,zIndex:c})},hide:function(a){if(J[J.length-1].dialog==a){J.pop();var b=J[J.length-1];1==J.length?F.hide():F.show(b.underlayAttrs,b.zIndex-1);if(a.refocus){a=b.focus;if(b.dialog&&(!a||!f.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(),a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(d){}}}else b=c.indexOf(c.map(J,function(a){return a.dialog}),a),-1!=b&&J.splice(b,1)},isTop:function(a){return J[J.length-1].dialog==
a}},J=O._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];v.watch("curNode",function(a,b,c){a=J[J.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==a.domNode||k.contains(c,"dijitPopup"))return;while(c=c.parentNode);a.focus()}});r("dijit-legacy-requires")&&p(0,function(){g(["dijit/TooltipDialog"])});return O})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){return c("dojo.dnd.Moveable",[f],{handle:"",delay:0,skip:!1,constructor:function(b,c){this.node=a.byId(b);c||(c={});this.handle=c.handle?a.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:m;this.events=[k(this.handle,d.press,e.hitch(this,"onMouseDown")),k(this.handle,"dragstart",e.hitch(this,"onSelectStart")),k(this.handle,"selectstart",e.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,c){return new c(b,a)},destroy:function(){g.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!l.isFormElement(a)){if(this.delay)this.events.push(k(this.handle,d.move,e.hitch(this,"onMouseMove")),k(this.handle.ownerDocument,d.release,e.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-
this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!l.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){h.publish("/dnd/move/start",a);b.add(n.body(),"dojoMove");b.add(this.node,"dojoMoveItem")},onMoveStop:function(a){h.publish("/dnd/move/stop",
a);b.remove(n.body(),"dojoMove");b.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q){return c("dojo.dnd.Mover",
[d],{constructor:function(a,b,c){function d(a){a.preventDefault();a.stopPropagation()}this.node=f.byId(a);this.marginBox={l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[l(a,m.move,e.hitch(this,"onFirstMove")),l(a,m.move,e.hitch(this,"onMouseMove")),l(a,m.release,e.hitch(this,"onMouseUp")),l(a,"dragstart",d),l(a.body,"selectstart",d)];q.autoScrollStart(a);if(b&&b.onMoveStart)b.onMoveStart(this)},onMouseMove:function(a){q.autoScroll(a);var b=this.marginBox;
this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(b){(a("webkit")&&a("mac")&&2==this.mouseButton?0==b.button:this.mouseButton==b.button)&&this.destroy();b.preventDefault();b.stopPropagation()},onFirstMove:function(a){var c=this.node.style,d,e=this.host;switch(c.position){case "relative":case "absolute":d=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=k.getMarginBox(this.node);
d=b.doc.body;var f=h.getComputedStyle(d),g=k.getMarginBox(d,f),f=k.getContentBox(d,f);d=c.l-(f.l-g.l);c=c.t-(f.t-g.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(e&&e.onFirstMove)e.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){g.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(g,c,e,a,b,f){var k={};g.setObject("dojo.dnd.autoscroll",k);k.getViewport=f.getBox;k.V_TRIGGER_AUTOSCROLL=32;k.H_TRIGGER_AUTOSCROLL=32;k.V_AUTOSCROLL_VALUE=16;k.H_AUTOSCROLL_VALUE=16;var h,d=e.doc,l=Infinity,m=Infinity;k.autoScrollStart=function(a){d=a;h=f.getBox(d);a=e.body(d).parentNode;l=Math.max(a.scrollHeight-h.h,0);m=Math.max(a.scrollWidth-h.w,0)};k.autoScroll=function(a){var b=h||f.getBox(d),c=e.body(d).parentNode,g=0,r=0;a.clientX<k.H_TRIGGER_AUTOSCROLL?g=-k.H_AUTOSCROLL_VALUE:a.clientX>
b.w-k.H_TRIGGER_AUTOSCROLL&&(g=Math.min(k.H_AUTOSCROLL_VALUE,m-c.scrollLeft));a.clientY<k.V_TRIGGER_AUTOSCROLL?r=-k.V_AUTOSCROLL_VALUE:a.clientY>b.h-k.V_TRIGGER_AUTOSCROLL&&(r=Math.min(k.V_AUTOSCROLL_VALUE,l-c.scrollTop));window.scrollBy(g,r)};k._validNodes={div:1,p:1,td:1};k._validOverflow={auto:1,scroll:1};k.autoScrollNodes=function(d){for(var f,g,h,m,l,u,x=0,v=0,w=d.target;w;){if(1==w.nodeType&&w.tagName.toLowerCase()in k._validNodes){h=b.getComputedStyle(w);m=h.overflow.toLowerCase()in k._validOverflow;
l=h.overflowX.toLowerCase()in k._validOverflow;u=h.overflowY.toLowerCase()in k._validOverflow;if(m||l||u)f=a.getContentBox(w,h),g=a.position(w,!0);if(m||l){h=Math.min(k.H_TRIGGER_AUTOSCROLL,f.w/2);l=d.pageX-g.x;if(c("webkit")||c("opera"))l+=e.body().scrollLeft;x=0;0<l&&l<f.w&&(l<h?x=-h:l>f.w-h&&(x=h),w.scrollLeft+=x)}if(m||u){m=Math.min(k.V_TRIGGER_AUTOSCROLL,f.h/2);u=d.pageY-g.y;if(c("webkit")||c("opera"))u+=e.body().scrollTop;v=0;0<u&&u<f.h&&(u<m?v=-m:u>f.h-m&&(v=m),w.scrollTop+=v)}if(x||v)return}try{w=
w.parentNode}catch(y){w=null}}k.autoScroll(d)};return k})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(g,c){var e=c.prototype.onMove;return g("dojo.dnd.TimedMoveable",c,{timeout:40,constructor:function(a,b){b||(b={});b.timeout&&("number"==typeof b.timeout&&0<=b.timeout)&&(this.timeout=b.timeout)},onMoveStop:function(a){a._timer&&(clearTimeout(a._timer),e.call(this,a,a._leftTop));c.prototype.onMoveStop.apply(this,arguments)},onMove:function(a,b){a._leftTop=
b;if(!a._timer){var c=this;a._timer=setTimeout(function(){a._timer=null;e.call(c,a,a._leftTop)},this.timeout)}}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(g,c,e,a,b,f){return c("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];g.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},
this);return b},reset:function(){g.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return g.every(g.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var c=b.disabled||!b.validate||b.validate();!c&&!a&&(f.scrollIntoView(b.containerNode||b.domNode),b.focus(),a=!0);return c}),function(a){return a})},setValues:function(a){e.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",a)},_setValueAttr:function(b){var c={};g.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var d in c)if(c.hasOwnProperty(d)){var e=c[d],f=a.getObject(d,!1,b);void 0!==f&&(f=[].concat(f),"boolean"==typeof e[0].checked?g.forEach(e,function(a){a.set("value",-1!=g.indexOf(f,a._get("value")))}):e[0].multiple?e[0].set("value",f):g.forEach(e,function(a,b){a.set("value",f[b])}))}},getValues:function(){e.deprecated(this.declaredClass+
"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};g.forEach(this._getDescendantFormWidgets(),function(c){var d=c.name;if(d&&!c.disabled){var e=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==e?a.setObject(d,e,b):(e=a.getObject(d,!1,b),void 0===e&&a.setObject(d,null,b)):(c=a.getObject(d,!1,b),c||(c=[],a.setObject(d,c,b)),!1!==e&&c.push(e)):(c=a.getObject(d,!1,b),"undefined"!=typeof c?a.isArray(c)?
c.push(e):a.setObject(d,[c,e],b):a.setObject(d,e,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=g.map(this._descendants,function(a){return a.get("state")||""});return 0<=g.indexOf(a,"Error")?"Error":0<=g.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();g.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},
_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(b(this.containerNode,
"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,c){this.onValidStateChange(""==c)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(g,c){return g("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},
_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var e=c._getTabNavigable(this.domNode);this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),function(g,
c,e,a,b,f,k,h,d,l,m,n){var q=g("dijit.DialogUnderlay",[h,d],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(b){a.set(this.node,"id",b+"_underlay");this._set("dialogId",b)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(f(this.domNode,"keydown",c.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=k.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new l(this.domNode);var a=k.get(this.ownerDocument);this._modalConnects=[m.on("resize",c.hitch(this,"layout")),f(a,"scroll",
c.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});q.show=function(a,c){var d=q._singleton;!d||d._destroyed?d=n._underlay=q._singleton=new q(a):a&&d.set(a);b.set(d.domNode,"zIndex",c);d.open||d.show()};q.hide=function(){var a=
q._singleton;a&&!a._destroyed&&a.hide()};return q})},"mw-dnd/BoundedMover":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/dnd/Mover","dojo/dom-geometry","dojo/window"],function(g,c,e,a,b){return g([e],{onMouseMove:function(e){var g=this.marginBox,h=a.position(this.host.node),d=b.getBox(),g={l:g.l+e.pageX,t:g.t+e.pageY};g.l=Math.max(0,Math.min(g.l,d.w-h.w));g.t=Math.max(0,Math.min(g.t,d.h-h.h));this.host.onMove(this,g,e);c.stop(e)}})})},"mw-dialog-utils/FloatingPane":function(){define("dojo/_base/declare dojo/_base/fx dojo/_base/lang dojo/dnd/Moveable dojo/dom-geometry dojo/dom-style dojo/topic dojo/on dojo/Evented dojo/window dojo/touch dojox/layout/FloatingPane dijit/_Widget mw-dnd/BoundedMover dojo/i18n!./l10n/nls/dialog dojo/text!./floatingPaneTemplate.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){d={isOnTop:!1,attributeMap:e.delegate(q.prototype.attributeMap,{title:{type:"textContent",node:"titleNode"}}),startup:function(){this.inherited(arguments);this._checkResizeConstraints();this.resizable&&this.connect(this._resizeHandle.domNode,m.press,"bringToTop");this.connect(this.focusNode,m.press,function(){this.domNode.focus()});this._resizeHandle&&this.connect(this._resizeHandle.domNode,m.press,function(){this.domNode.focus()});this.domNode.focus()},postCreate:function(){this.inherited(arguments);
this.domNode.setAttribute("data-focus","temporary");this._moveable.destroy();this._moveable=new a(this.domNode,{handle:this.titleNode});this._moveable.mover=s;this.dockable&&(this.own(k.subscribe("/floatingPaneDockUpdate",e.hitch(this,function(a){this.dockTo=a.newWidget}))),this.dockTo.addItem(this));this.closeNode.title=p.close;this.closeNode.setAttribute("tabindex","0");this.maxNode.title=p.maximize;this.dockNode.title=p.minimize},templateString:r,hide:function(a){var d,f;"function"===typeof a?
(d=a,f=e.hitch(this,function(){d();this.onClose();this.emit("onClose")}),this.inherited(arguments,[f])):"boolean"===typeof a?(this.paneOriginalPosition=b.position(this.domNode),c.animateProperty({node:this.domNode,properties:{top:b.position(this.dockTo.domNode).y,left:b.position(this.dockTo.domNode).x,height:0,width:b.position(this.dockTo.domNode).w,opacity:0},onEnd:e.hitch(this,function(){this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null)}),duration:this.duration}).play()):
this.inherited(arguments)},close:function(){h.emit(this.domNode,"restorefocus",{bubbles:!0});this.closeAlreadyInvoked||(this.closeAlreadyInvoked=!0,this.inherited(arguments))},show:function(){this.onTop||(this.paneOriginalPosition&&(this.domNode.style.top=this.paneOriginalPosition.y+"px",this.domNode.style.left=this.paneOriginalPosition.x+"px",this.domNode.style.width=this.paneOriginalPosition.w-f.get(this.domNode,"borderLeftWidth")-f.get(this.domNode,"borderRightWidth")+"px",this.domNode.style.height=
this.paneOriginalPosition.h-f.get(this.domNode,"borderLeftWidth")-f.get(this.domNode,"borderRightWidth")+"px"),delete this.closeAlreadyInvoked,this._isMinimized=!1,this.inherited(arguments))},onClose:function(){},resize:function(a){a||(this._naturalState=b.position(this.domNode),this._naturalState.w-=f.get(this.domNode,"borderLeftWidth")+f.get(this.domNode,"borderRightWidth"),this._naturalState.h-=f.get(this.domNode,"borderTopWidth")+f.get(this.domNode,"borderBottomWidth"));this.inherited(arguments)},
minimize:function(){this._isDocked||(this.hide(!0),this.onTop=!1,this.onMinimize())},bringToTop:function(){this._isMinimized||(this.inherited(arguments),this.onTop=!0,this.onBringToTop())},onBringToTop:function(){},onMinimize:function(){this._isMinimized=!0},forceClose:function(){this.dockable&&this.dockTo.removeItem(this);this.inherited("close",arguments)},_dock:function(){!this._isDocked&&this.dockable&&(this.dockTo.addItem(this),this._isDocked=!0)},_checkResizeConstraints:function(){var a;this._resizeHandle&&
(a=e.hitch(this._resizeHandle,this._resizeHandle._checkConstraints),this._resizeHandle._checkConstraints=function(c,d){var e,g,h,k={},m,n;e=a(c,d);g=b.position(this.targetDomNode);m=2*(f.get(this.targetDomNode,"borderTopWidth")+f.get(this.targetDomNode,"borderBottomWidth"));n=2*(f.get(this.targetDomNode,"borderLeftWidth")+f.get(this.targetDomNode,"borderRightWidth"));h=l.getBox();k.w=Math.min(e.w,Math.floor(h.w-(g.x+n)));k.h=Math.min(e.h,Math.floor(h.h-(g.y+m)));return k})}};return g([n],d)})},"dojox/layout/FloatingPane":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/touch dijit/_TemplatedMixin dijit/_Widget dijit/BackgroundIframe dijit/registry dojo/dnd/Moveable ./ContentPane ./ResizeHandle dojo/text!./resources/FloatingPane.html ./Dock".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B){g.experimental("dojox.layout.FloatingPane");return a("dojox.layout.FloatingPane",[v,p],{closable:!0,dockable:!0,resizable:!1,maxable:!1,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:y,attributeMap:c.delegate(r.prototype.attributeMap,{title:{type:"innerHTML",node:"titleNode"}}),postCreate:function(){this.inherited(arguments);
this._moveable=new x(this.domNode,{handle:this.focusNode});this.dockable||(this.dockNode.style.display="none");this.closable||(this.closeNode.style.display="none");this.maxable||(this.maxNode.style.display="none",this.restoreNode.style.display="none");this.resizable?this.domNode.style.width=n.getContentBox(this.domNode).w+"px":this.resizeHandle.style.display="none";this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new t(this.domNode);this._naturalState=n.position(this.domNode)},
startup:function(){if(!this._started){this.inherited(arguments);this.resizable&&(h("ie")?this.canvas.style.overflow="auto":this.containerNode.style.overflow="auto",this._resizeHandle=new w({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle));if(this.dockable){var a=this.dockTo;this.dockTo=this.dockTo?u.byId(this.dockTo):u.byId("dojoxGlobalFloatingDock");if(!this.dockTo){var b;a?(b=a,a=l.byId(a)):(a=q.create("div",null,e.body()),m.add(a,"dojoxFloatingDockDefault"),b="dojoxGlobalFloatingDock");
this.dockTo=new B({id:b,autoPosition:"south"},a);this.dockTo.startup()}("none"==this.domNode.style.display||"hidden"==this.domNode.style.visibility)&&this.minimize()}this.connect(this.focusNode,s.press,"bringToTop");this.connect(this.domNode,s.press,"bringToTop");b=n.getContentBox(this.domNode);this.resize(c.mixin(n.position(this.domNode),{w:b.w,h:b.h}));this._started=!0}},setTitle:function(a){g.deprecated("pane.setTitle","Use pane.set('title', someTitle)","2.0");this.set("title",a)},close:function(){this.closable&&
(f.unsubscribe(this._listener),this.hide(c.hitch(this,function(){this.destroyRecursive()})))},hide:function(a){b.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);a&&a()})}).play()},show:function(a){b.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:c.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility=
"visible";this.dockTo&&this.dockable&&this.dockTo._positionDock(null);"function"==typeof a&&a();this._isDocked=!1;this._dockNode&&(this._dockNode.destroy(),this._dockNode=null)})}).play();var d=n.getContentBox(this.domNode);this.resize(c.mixin(n.position(this.domNode),{w:d.w,h:d.h}));this._onShow()},minimize:function(){this._isDocked||this.hide(c.hitch(this,"_dock"))},maximize:function(){this._maximized||(this._naturalState=n.position(this.domNode),this._isDocked&&(this.show(),setTimeout(c.hitch(this,
"maximize"),this.duration)),m.add(this.focusNode,"floatingPaneMaximized"),this.resize(d.getBox()),this._maximized=!0)},_restore:function(){this._maximized&&(this.resize(this._naturalState),m.remove(this.focusNode,"floatingPaneMaximized"),this._maximized=!1)},_dock:function(){!this._isDocked&&this.dockable&&(this._dockNode=this.dockTo.addNode(this),this._isDocked=!0)},resize:function(a){this._naturalState=a=a||this._naturalState;var b=this.domNode.style;"t"in a?b.top=a.t+"px":"y"in a&&(b.top=a.y+"px");
"l"in a?b.left=a.l+"px":"x"in a&&(b.left=a.x+"px");b.width=a.w+"px";b.height=a.h+"px";a={l:0,t:0,w:a.w,h:a.h-this.focusNode.offsetHeight};n.setMarginBox(this.canvas,a);this._checkIfSingleChild();this._singleChild&&this._singleChild.resize&&this._singleChild.resize(a)},bringToTop:function(){var a=k.filter(this._allFPs,function(a){return a!==this},this);a.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex});a.push(this);k.forEach(a,function(a,b){a.domNode.style.zIndex=this._startZ+
2*b;m.remove(a.domNode,"dojoxFloatingPaneFg")},this);m.add(this.domNode,"dojoxFloatingPaneFg")},destroy:function(){this._allFPs.splice(k.indexOf(this._allFPs,this),1);this._resizeHandle&&this._resizeHandle.destroy();this.inherited(arguments)}})})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(g,c,e,a,b){return b("dojox.layout.ContentPane",e,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,
executeScripts:!0,scriptHasHooks:!1,ioMethod:c.get,ioArgs:{},onExecError:function(a){},_setContent:function(b){var c=this._contentSetter;c&&c instanceof a._ContentSetter||(c=this._contentSetter=new a._ContentSetter({node:this.containerNode,_onError:g.hitch(this,this._onError),onContentError:g.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&
(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments)},destroy:function(){var a=this._contentSetter;a&&a.tearDown();this.inherited(arguments)}})})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){var q=b.getObject("dojox.html",!0);if(h("ie"))var s=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var p=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,r=q._adjustCssPaths=function(a,b){if(b&&a)return s&&(b=b.replace(s,function(b,c,e,f,g){return c+(new d(a,"./"+f)).toString()+g})),b.replace(p,function(b,c,e,f,g,h){return e?'@import "'+(new d(a,"./"+e)).toString()+
'"'+h:"url("+(new d(a,"./"+g)).toString()+")"+h})},t=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,u=q._adjustHtmlPaths=function(a,b){var c=a||"./";return b.replace(t,function(a,b,e,f,g,h,k,m){return b+(e?e+"\x3d"+f+(new d(c,g)).toString()+f:"style\x3d"+h+r(c,k)+h)+m})},x=q._snarfStyles=function(a,b,c){c.attributes=[];b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return b.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(b,d,e,f,g,h){b=(d||f||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");e?e=c.push(a?r(a,e):e):(e=c.push('@import "'+h+'";'),b=b.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(b){b=b.split(/\s+/);h={};f=0;for(g=b.length;f<g;f++)d=b[f].split("\x3d"),h[d[0]]=d[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");c.attributes[e-1]=h}return""})},v=q._snarfScripts=
function(a,b){function c(a){b.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"\x26"+b+";"}}),l.get({url:a,sync:!0,load:function(a){""!==b.code&&(a="\n"+a);b.code+=a+";"},error:b.errBack}))}b.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,d,e,f){e?c(e):(""!==b.code&&(f="\n"+f),b.code+=f+";");return""})},w=q.evalInGlobal=function(a,b){b=b||n.doc.body;var c=b.ownerDocument.createElement("script");c.type="text/javascript";b.appendChild(c);c.text=a};q._ContentSetter=g(a._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var b,c,d,e=this.node.ownerDocument,f=e.getElementsByTagName("head")[0],g=0,h=a.length;g<
h;g++){d=a[g];c=a.attributes[g];b=e.createElement("style");b.setAttribute("type","text/css");for(var k in c)b.setAttribute(k,c[k]);this._styleNodes.push(b);f.appendChild(b);b.styleSheet?b.styleSheet.cssText=d:b.appendChild(e.createTextNode(d))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,b=this._styles;this._code=null;if(f.isString(a)){this.adjustPaths&&this.referencePath&&(a=u(this.referencePath,a));
if(this.renderStyles||this.cleanContent)a=x(this.referencePath,a,b);if(this.executeScripts){var c=this,b={downloadRemote:!0,errBack:function(a){c._onError.call(c,"Exec",'Error downloading remote script in "'+c.id+'"',a)}},a=v(a,b);this._code=b.code}}this.content=a},onEnd:function(){var a=this._code,b=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)e.destroy(this._styleNodes.pop());this.renderStyles&&(b&&b.length)&&this._renderStyles(b);var d=new c,g=this.getInherited(arguments),
h=arguments,b=f.hitch(this,function(){g.apply(this,h);m(this.parseDeferred,function(){d.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{w(a,this.node)}catch(l){this._onError("Exec","Error eval script in "+this.id+", "+l.message,l)}k(b)}else b();return d.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&
this._styleNodes.length)for(;this._styleNodes.length;)e.destroy(this._styleNodes.pop());delete this._styleNodes;f.mixin(this,q._ContentSetter.prototype)}});q.set=function(b,c,d){return d?(new q._ContentSetter(f.mixin(d,{content:c,node:b}))).set():a._setNodeContent(b,c,!0)};return q})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/declare dojo/touch dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){g.experimental("dojox.layout.ResizeHandle");var u=q("dojox.layout._ResizeHelper",r,{show:function(){n.set(this.domNode,"display","")},hide:function(){n.set(this.domNode,"display","none")},resize:function(a){m.setMarginBox(this.domNode,a)}});return q("dojox.layout.ResizeHandle",[r,t],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,s.press,"_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=p.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new u({id:"dojoxGlobalResizeHelper"})).placeAt(k.body()),
l.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var a=c.partial(l.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;a("dojoxResizeNW");break;case "x":this._resizeX=!0;a("dojoxResizeW");break;case "y":this._resizeY=!0,a("dojoxResizeN")}},_beginSizing:function(a){if(!this._isSizing&&
(e.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=p.byId(this.targetId))?this.targetWidget.domNode:d.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var c=m.position(this.targetDomNode,!0);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:c.x,t:c.y})}this._isSizing=!0;this.startPoint={x:a.clientX,y:a.clientY};
var c=n.getComputedStyle(this.targetDomNode),f="border-model"===m.boxModel?{w:0,h:0}:m.getPadBorderExtents(this.targetDomNode,c),g=m.getMarginExtents(this.targetDomNode,c);this.startSize={w:n.get(this.targetDomNode,"width",c),h:n.get(this.targetDomNode,"height",c),pbw:f.w,pbh:f.h,mw:g.w,mh:g.h};!this.isLeftToRight()&&"absolute"==n.get(this.targetDomNode,"position")&&(c=m.position(this.targetDomNode,!0),this.startPosition={l:c.x,t:c.y});this._pconnects=[e.connect(k.doc,s.move,this,"_updateSizing"),
e.connect(k.doc,s.release,this,"_endSizing")];b.stop(a)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(d){return!1}this._activeResizeLastEvent=a;var e=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),f=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
e:0);f=this._checkConstraints(a,this.startSize.h-(this._resizeY?f:0));if((c=c||this.startPosition)&&this._resizeX)f.l=c.l+e,f.w!=a&&(f.l+=a-f.w),f.t=c.t;switch(b){case "margin":f.w+=this.startSize.mw;f.h+=this.startSize.mh;break;case "border":f.w+=this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=
this.startSize.w,d=this.startSize.h,e=c*b-d*a;0>e?a=b*c/d:0<e&&(b=a*d/c)}return{w:a,h:b}},_changeSizing:function(a){var b=this.targetWidget&&c.isFunction(this.targetWidget.resize),d=this._getNewCoords(a,b&&"margin");if(!1!==d&&(b?this.targetWidget.resize(d):this.animateSizing?h[this.animateMethod]([f.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:d.w}},duration:this.animateDuration}),f.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,
end:d.h}},duration:this.animateDuration})]).play():n.set(this.targetDomNode,{width:d.w+"px",height:d.h+"px"}),this.intermediateChanges))this.onResize(a)},_endSizing:function(b){a.forEach(this._pconnects,e.disconnect);var d=c.partial(e.publish,this.endTopic,[this]);this.activeResize?d():(this._resizeHelper.hide(),this._changeSizing(b),setTimeout(d,this.animateDuration+15));this._isSizing=!1;this.onResize(b)},onResize:function(a){}})})},"dojox/layout/Dock":function(){define("dojo/_base/lang dojo/_base/window dojo/_base/declare dojo/_base/fx dojo/on dojo/_base/array dojo/_base/sniff dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){c=e("dojox.layout.Dock",[s,q],{templateString:'\x3cdiv class\x3d"dojoxDock"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"dojoxDockList"\x3e\x3c/ul\x3e\x3c/div\x3e',_docked:[],_inPositioning:!1,autoPosition:!1,addNode:function(a){var b=n.create("li",null,this.containerNode);a=new p({title:a.title,paneRef:a},b);a.startup();return a},startup:function(){if("dojoxGlobalFloatingDock"==this.id||this.isFixedDock)this.own(b(window,"resize",g.hitch(this,
"_positionDock")),b(window,"scroll",g.hitch(this,"_positionDock"))),k("ie")&&this.own(b(this.domNode,"resize",g.hitch(this,"_positionDock")));this._positionDock(null);this.inherited(arguments)},_positionDock:function(a){this._inPositioning||"south"==this.autoPosition&&this.defer(function(){this._inPositiononing=!0;var a=h.getBox(),b=this.domNode.style;b.left=a.l+"px";b.width=a.w-2+"px";b.top=a.h+a.t-this.domNode.offsetHeight+"px";this._inPositioning=!1},125)}});var p=e("dojox.layout._DockNode",[s,
q],{title:"",paneRef:null,templateString:'\x3cli data-dojo-attach-event\x3d"onclick: restore" class\x3d"dojoxDockNode"\x3e\x3cspan data-dojo-attach-point\x3d"restoreNode" class\x3d"dojoxDockRestoreButton" data-dojo-attach-event\x3d"onclick: restore"\x3e\x3c/span\x3e\x3cspan class\x3d"dojoxDockTitleNode" data-dojo-attach-point\x3d"titleNode"\x3e${title}\x3c/span\x3e\x3c/li\x3e',restore:function(){this.paneRef.show();this.paneRef.bringToTop();this.destroy()}});return c})},"MW/uiframework/MnemonicsStates":function(){define(["dojo/dom-class",
"MW/uiframework/FocusManager"],function(g,c){return{_currentMnemonicsState:void 0,_toolstrip:void 0,NULL_NULL:1,NULL_CONTROL:2,NULL_TAB:3,CONTROL_TAB:4,TAB_TAB:5,getCurrentMnemonicsState:function(){return this._currentMnemonicsState},setCurrentMnemonicsState:function(c,a){this._currentMnemonicsState=c;("undefined"!==typeof a?a:1)&&this._manageToolstripFocus(c)},setToolstrip:function(c){this._toolstrip=c},_manageToolstripFocus:function(e){e===this.NULL_NULL?c.refuseFocus(this._toolstrip.domNode):c.temporaryFocus(this._toolstrip.domNode);
g.toggle(document.body,"mnemonicsMode",e!==this.NULL_NULL)}}})},"MW/toolstrip/widgets/QAB":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAB.html ./_WidgetMixin dojo/aspect".split(" "),function(g,c,e,a,b,f,k){return g([c,e,a,f],{templateString:b,constructor:function(){this.own(k.before(this,"addChild",function(a,b){var c=0;0<=b&&(c=b);return[a,c]}),k.after(this,"addChild",function(){this.refresh()}),k.after(this,"removeChild",
function(){this.refresh()}))},postCreate:function(){this.inherited(arguments);this.refresh()},refresh:function(){this.showHideQAB();this.showHideQAGroups();this.showHideSeparators()},showHideQAB:function(){var a=0;this.getChildren().forEach(function(b){a+=b.getChildren().length});this.domNode.style.display=0===a?"none":"block"},showHideQAGroups:function(){this.getChildren().forEach(function(a){0===a.getChildren().length?a.domNode.style.display="none":a.domNode.style.display="inline-block"},this)},
showHideSeparators:function(){this.getChildren().forEach(function(a,b){this._isFirstVisibleQAGroup(a,b)?a.separatorNode.style.display="none":a.separatorNode.style.display="inline-block"},this)},_isFirstVisibleQAGroup:function(a,b){var c=this.getChildren(),e,f=!1;e=0;if(0===b)return!0;for(;e<=b-1;)"none"===c[e].domNode.style.display&&(f=!0),e+=1;return f},restoreFactoryControls:function(){}})})},"MW/toolstrip/widgets/QAGroup":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/QAGroup.html ./_WidgetMixin ./_ChildrenWrapperMixin ../utils/DragSorter dojo/aspect".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return g([e,a,b,k,h],{templateString:f,constructor:function(){var a=this;this.own(l.before(this,"addChild",function(a,b){var c=0;0<=b&&(c=b);return[a,c]}),l.after(this,"addChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}),l.after(this,"removeChild",function(){var b=a.getParent();b&&(b.refresh(),(b=b.getParent())&&b.resize())}))},postCreate:function(){this.inherited(arguments);this.enableQABCustomization&&(this._dragSorter=new d({containerNode:this.containerNode}),
this._dragSorter.on("nodemoved",c.hitch(this,function(a){this.itemMoved({itemId:this.getChildren()[a.oldIndex].id,newIndex:a.newIndex})})))},destroy:function(){this.enableQABCustomization&&this._dragSorter.destroy();this.inherited(arguments)},itemMoved:function(){}})})},"MW/toolstrip/widgets/_ChildrenWrapperMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(g,c){return g(null,{constructor:function(){this._wrappers={};this._childrenWidgets=[]},addChild:function(e,a){var b=
c.create("div",{id:e.id+"_wrapper","class":"toolstripComponentWrapper"},this.containerNode,a);0<=a?this._childrenWidgets.splice(a,0,e):this._childrenWidgets.push(e);this.own(e);c.place(e.domNode,b);this._started&&!e._started&&e.startup();this._wrappers[e.id]=b},removeChild:function(e){var a,b=this._wrappers[e.id];this._childrenWidgets.forEach(function(b,c){e.id===b.id&&(a=c)});this._childrenWidgets.splice(a,1);b&&(e.domNode&&b.removeChild(e.domNode),c.destroy(b),delete this._wrappers[e.id])},getChildren:function(){return this._childrenWidgets}})})},
"MW/toolstrip/utils/DragSorter":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse dojo/Evented dojo/dom-construct dojo/dom-geometry".split(" "),function(g,c,e,a,b,f,k){var h=["-webkit-","-moz-","-ms-",""];return g([b],{constructor:function(a){if(void 0===a.containerNode||1!==a.containerNode.nodeType)throw Error("A containerNode needs to be provided and it should be a DOM Node!");this._dragSorterContainerNode=a.containerNode;this._currentTarget=null;this._previousPageX=0;this._dragSorterContainerNode.classList.add("mwDragSortContainer");
this._dragSortOverlay=f.create("div",{"class":"mwDragSortContainerOverlay"},document.body);this._mouseDownListenerHandle=e(this._dragSorterContainerNode,"mousedown",c.hitch(this,this._mouseDownListener));this._mouseUpListenerHandle=e(window,"mouseup",c.hitch(this,this._mouseUpListener))},_mouseDownListener:function(b){if(a.isLeft(b)&&(this._currentTarget=this._getAncestorWhichIsADirectChildOfContainerNode(b.target),null!==this._currentTarget&&1<this._dragSorterContainerNode.children.length)){var f=
k.position(this._currentTarget);this._mouseMoveListenerHandle=e(document.body,"mousemove",c.hitch(this,this._mouseMoveListener,{index:this._getIndexOfNode(this._currentTarget),position:f,leftOffset:b.pageX-f.x,rightOffset:f.x+f.w-b.pageX,mouseDownCoords:{x:b.pageX,y:b.pageY}}));this._windowSelectStartHandle=e(window,"selectstart",function(a){a.preventDefault()})}},_mouseMoveListener:function(a,b){if(!(5>=Math.abs(a.mouseDownCoords.x-b.pageX)&&5>=Math.abs(a.mouseDownCoords.y-b.pageY))){this._mouseMoveHappened=
!0;var c=k.position(this._dragSorterContainerNode),e=k.getPadBorderExtents(this._dragSorterContainerNode),f=c.x+a.leftOffset+e.l,e=c.x+c.w-a.rightOffset-e.r,g=b.pageX,c=null;this._currentTarget.classList.add("mwDragTarget");document.body.classList.add("mwDragging");g<f?g=f:g>e&&(g=e);this._currentTarget.style.left=g-a.position.x-a.leftOffset+"px";c=b.pageX>this._previousPageX?"r":"l";this._previousPageX=b.pageX;f=this._findNodesOnEitherSide(c);for(e=0;e<this._dragSorterContainerNode.children.length;e++)if(g=
this._dragSorterContainerNode.children[e],g!==this._currentTarget){var h=k.position(g),r=k.position(this._currentTarget);"r"===c?e>=a.index?r.x+r.w>=h.x+h.w/2&&this._applyTranslateX(g,-r.w):-1<f.left.indexOf(g)&&"0"!==g.getAttribute("data-translated")&&this._applyTranslateX(g,0):"l"===c&&(e<=a.index?r.x<=h.x+h.w/2&&this._applyTranslateX(g,r.w):-1<f.right.indexOf(g)&&"0"!==g.getAttribute("data-translated")&&this._applyTranslateX(g,0))}}},_mouseUpListener:function(){this._mouseMoveListenerHandle&&this._mouseMoveListenerHandle.remove();
this._windowSelectStartHandle&&this._windowSelectStartHandle.remove();if(this._mouseMoveHappened){if(null!==this._currentTarget){var a=this._getIndexOfNode(this._currentTarget);this._moveCurrentTargetToNewLocation();this._currentTarget.style.left="";this._currentTarget.classList.remove("mwDragTarget");document.body.classList.remove("mwDragging");this._resetAllSiblingTranslateX();this.emit("nodemoved",{node:this._currentTarget,oldIndex:a,newIndex:this._getIndexOfNode(this._currentTarget)});this._currentTarget=
null}this._mouseMoveHappened=!1}},_findNodesOnEitherSide:function(a){var b={left:[],right:[]},c=k.position(this._dragSorterContainerNode),e=k.getPadBorderExtents(this._dragSorterContainerNode),f=k.position(this._currentTarget);2>=f.x-c.x-e.l?b.right=this._getCurrentTargetSiblings():2>=c.x+c.w-f.x-f.w-e.l?b.left=this._getCurrentTargetSiblings():this._getCurrentTargetSiblings().forEach(function(c){var e=k.position(c);("l"===a?f.x:f.x+f.w)>=e.x+e.w/2?b.left.push(c):b.right.push(c)});return b},_getIndexOfNode:function(a){return Array.prototype.indexOf.call(this._dragSorterContainerNode.children,
a)},_getCurrentTargetSiblings:function(){return[].slice.call(this._dragSorterContainerNode.children).filter(function(a){return a!==this._currentTarget},this)},_getAncestorWhichIsADirectChildOfContainerNode:function(a){var b=null;if(a!==this._dragSorterContainerNode)for(b=a;b.parentNode!==this._dragSorterContainerNode;)b=b.parentNode;return b},_moveCurrentTargetToNewLocation:function(){var a=null,b=k.position(this._dragSorterContainerNode),c=k.getPadBorderExtents(this._dragSorterContainerNode),e=k.position(this._currentTarget),
g=e.x-(b.x+c.l),b=g;this._getCurrentTargetSiblings().forEach(function(b){var c=k.position(b),c=Math.abs(e.x-(c.x+c.w));c<g&&(a=b,g=c)});g===b?f.place(this._currentTarget,this._dragSorterContainerNode,"first"):f.place(this._currentTarget,a,"after")},_applyTranslateX:function(a,b){a.setAttribute("data-translated",b);h.forEach(function(c){a.style[c+"transform"]="translate("+b+"px, 0)"})},_resetAllSiblingTranslateX:function(){this._getCurrentTargetSiblings().forEach(function(a){a.classList.add("mwNoTransition");
this._applyTranslateX(a,0);a.offsetHeight;a.classList.remove("mwNoTransition")},this)},destroy:function(){this._mouseDownListenerHandle.remove();this._mouseUpListenerHandle.remove();this._dragSorterContainerNode.classList.remove("mwDragSortContainer");f.destroy(this._dragSortOverlay)}})})},"MW/toolstrip/widgets/TabGroup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/TabGroup.html dijit/_Contained dijit/registry ./_WidgetMixin".split(" "),function(g,
c,e,a,b,f,k){return g([c,e,b,k],{templateString:a,constructor:function(){this.tabs=[]},addChild:function(a,b){var c=0,e=null,f,g=0,k,p;!b&&0!==b&&(b=this.tabs.length);this.tabs.splice(b,0,a);if(f=this.getParent()){p=f.getChildren();for(k=p.length;g<k;){if(this===p[g]){0<=b&&(e=c+b);break}c+=p[g].tabs.length;g+=1}f.addTab(a,e)}this.emit("childadded")},removeChild:function(a){var b=this.getParent(),c;c=this.tabs.indexOf(a);-1<c&&this.tabs.splice(c,1);0===this.tabs.length&&this.set("selectedTab","");
b&&b.removeTab(a);this.emit("childremoved")},_setSelectedTabAttr:function(a){var b=this.getParent(),c=f.byId(a);b&&a&&(b.selectTab(c),b.getChildren().forEach(function(a){a!==this&&a.set("selectedTab","")},this));this._set("selectedTab",a)}})})},"MW/toolstrip/widgets/Tab":function(){define("dojo/_base/declare dojo/dom-construct dijit/layout/ContentPane dijit/registry dojo/query dojo/dom-geometry MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(g,c,
e,a,b,f,k,h){return g([e,k,h],{constructor:function(){this["class"]="tabContentPane"},postCreate:function(){this.containerNode=c.create("span",{"class":"sectionContainer"},this.domNode)},resize:function(){if(!this.getParent().getParent()._ignoreResize){this.inherited(arguments);var a,b,c,e,g,h,k,r=0;if(!this._destroyed)if(this.inherited(arguments),h=this._getAllDescendantGalleries(),k=h.length,b=this.getChildren(),c=b.length,b.sort(function(a,b){var c=0;a.collapsePriority>b.collapsePriority?c=-1:
a.collapsePriority<b.collapsePriority&&(c=1);return c}),e=this._getWidthOfAllSections(),g=f.position(this.domNode).w,g<e){for(a=k-1;0<=a;){for(;g<e;){if(!h[a].shrink()){r+=1;break}e=this._getWidthOfAllSections();g=f.position(this.domNode).w}a-=1}if(r===k){for(a=c-1;0<=a&&g<e;)b[a].hideDescendantLabels(),e=this._getWidthOfAllSections(),g=f.position(this.domNode).w,a-=1;for(a=c-1;0<=a&&g<e;)b[a].collapse(),e=this._getWidthOfAllSections(),g=f.position(this.domNode).w,a-=1}}else{for(a=0;a<c&&g>e;){b[a].expand();
e=this._getWidthOfAllSections();g=f.position(this.domNode).w;if(g<e){b[a].collapse();break}a+=1}for(a=0;a<c&&g>e;){b[a].showDescendantLabels();e=this._getWidthOfAllSections();g=f.position(this.domNode).w;if(g<e){b[a].hideDescendantLabels();break}a+=1}if(a===c){h=this._getAllDescendantGalleries();k=h.length;for(a=0;a<k;){for(;g>e;)if(h[a].grow()){if(e=this._getWidthOfAllSections(),g=f.position(this.domNode).w,g<e){h[a].shrink();break}}else break;a+=1}}}}},_getAllDescendantGalleries:function(){return b(".gallery",
this.domNode).map(function(b){return a.byNode(b)})},_getWidthOfAllSections:function(){var a,b,c,e=0;a=this.getChildren();b=a.length;for(c=0;c<b;c++)e+=f.position(a[c].domNode).w;return e+20}})})},"MW/toolstrip/mixins/property/RemovableMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_removable:!1,_removeMessage:"",_getRemovableAttr:function(){return this.get("_removable")},_setRemovableAttr:function(c){if("boolean"!==typeof c)throw Error("'removable' property expected a boolean value.");
this._set("_removable",c)},_getRemoveMessageAttr:function(){return this.get("_removeMessage")},_setRemoveMessageAttr:function(c){if("string"!==typeof c)throw Error("'_removeMessage' property expected a string value.");this._set("_removeMessage",c)},_emitRemoveEvent:function(){this.emit("remove");this.remove()},remove:function(){}})})},"MW/toolstrip/widgets/Section":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Section.html ./_WidgetMixin MW/toolstrip/form/SectionDropDownButton ./SectionPopup mw-mixins/ResizeMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){var s=["PushButton","DropDownButton","SplitButton","ToggleButton","ToggleSplitButton"];return g([f,k,h,l,q],{templateString:d,constructor:function(){this._isCollapsed=!1},_createSectionPopup:function(){this._sectionPopup=new n;this.own(this._sectionPopup);this._sectionDropDownButton=new m({menu:this._sectionPopup,label:this.get("title")});this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1");this.own(this._sectionDropDownButton);this.own(e.after(this._sectionDropDownButton,
"openDropDown",c.hitch(this,function(){})));this.own(e.after(this._sectionDropDownButton,"closeDropDown",c.hitch(this,function(){this.emit("restorefocus")})));this._sectionPopup.domNode.setAttribute("data-focus","temporary");this._sectionDropDownButton.placeAt(this.sectionDropDownContainer);this._sectionDropDownButton.startup();this._sectionDropDownButton.set("text",this.title)},_setTitleAttr:function(a){this.titleNode.textContent=a;this._sectionDropDownButton&&this._sectionDropDownButton.set("label",
a);this._set("title",a)},collapse:function(){this._sectionPopup||this._createSectionPopup();var b;this._isCollapsed||-1===this.collapsePriority?b=!1:(this._isCollapsed=b=!0,this.sectionWrapper.style.display="none",this.sectionDropDownContainer.style.display="inline-block",a.place(this.columnContainerWrapper,this._sectionDropDownButton.menu.domNode),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","-1"));return b},expand:function(){var b;this._isCollapsed?(b=!0,this._isCollapsed=!1,this.sectionWrapper.style.display=
"inline-block",this.sectionDropDownContainer.style.display="none",a.place(this.columnContainerWrapper,this.sectionWrapper,"first"),this._sectionDropDownButton.focusNode.setAttribute("tabIndex","0")):b=!1;return b},showDescendantLabels:function(){this.domNode.classList.remove("mwHideDescendantLabels");this._updateDescendantTitle(!0)},hideDescendantLabels:function(){this.domNode.classList.add("mwHideDescendantLabels");this._updateDescendantTitle(!1)},getPopup:function(){return this._sectionPopup},closePopup:function(){this.isPopupOpen()&&
this._sectionDropDownButton.closeMenu()},addChild:function(a){this.inherited(arguments);"Column"===a.type&&a.updateChildrenOrientations()},isPopupOpen:function(){return!this._sectionPopup?!1:this._sectionDropDownButton.menu.domNode.parentNode&&"none"!==this._sectionDropDownButton.menu.domNode.parentNode.style.display},_updateDescendantTitle:function(a){var d,e;s.forEach(c.hitch(this,function(c){e=this.domNode.querySelectorAll("[data-type\x3d"+c+"]");for(d=0;d<e.length;++d)c=b.getEnclosingWidget(e[d]),
"Horizontal"===c.orientation&&(a?c._updateTitle(c.get("description")):c._updateTitle(c.get("text")))}))}})})},"MW/toolstrip/form/SectionDropDownButton":function(){define("dojo/_base/declare MW/toolstrip/form/DropDownButton ../mixins/property/IconOverrideMixin ../mixins/property/OrientationMixin ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/property/ShortcutMixin ../mixins/property/MenuIdMixin mw-mixins/mixinDependencyValidator".split(" "),function(g,c,e,a,b,f,k,h,d){return g(d.validate([c,
e,a,b,f,k,h]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionDropDownButton",type:"SectionDropDownButton",minWidth:38,orientation:"Vertical",verticalHeight:92,doNotSize:!0,postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},_setLabelAttr:function(a){if("string"!==typeof a)throw Error("'label' property must be of type string.");this.set("text",a);this.focusNode.setAttribute("title",a)},_setDescriptionAttr:function(){},_setShortcutAttr:function(){},_setPlatformizeShortcutAttr:function(){},
_getLabelAttr:function(){return this.get("text")},_getTextForDOM:function(a){return a}})})},"MW/toolstrip/form/DropDownButton":function(){define("dojo/_base/declare mw-form/DropDownButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TypeMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t){return g(t.validate([c,e,a,b,f,k,h,d,l,m,n,q,s,p,r]),{visualFamily:"toolstrip",minWidth:38})})},"mw-form/DropDownButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/DropDownButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){return g(A.validate([c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D]),{baseClass:"mwWidget mwDropDownButton",templateString:z})})},"mw-mixins/property/ArrowModeMixin":function(){define(["dojo/_base/declare"],function(g){var c=["auto","inline","block"];return g(null,{arrowMode:"auto",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwArrowModeMixin")},_setArrowModeAttr:function(e){if("string"!==typeof e||-1===c.indexOf(e))throw Error("'arrowMode' property expects one of these values: "+
c);this.domNode.classList.add("mwArrowMode"+this._capitalize(e));c.forEach(function(a){a!==e&&this.domNode.classList.remove("mwArrowMode"+this._capitalize(a))},this);this._set("arrowMode",e)},_capitalize:function(c){return c.charAt(0).toUpperCase()+c.slice(1)}})})},"mw-form/mixins/property/DropDownButtonIconAlignmentMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconAlignmentMixin","mw-mixins/property/ArrowModeMixin","mw-form/mixins/property/DropDownButtonArrowModeMixin"],function(g,
c,e,a){g=g(null,{_supportedValues:["left","top"],_setIconAlignmentAttr:function(){this.inherited(arguments);this.set("arrowMode",this.get("arrowMode"))}});g._dependencies=[{mixin:c,orderDependent:!0},{mixin:e,orderDependent:!1},{mixin:a,orderDependent:!1}];return g})},"mw-form/mixins/property/DropDownButtonArrowModeMixin":function(){define(["dojo/_base/declare","mw-mixins/property/ArrowModeMixin","mw-mixins/property/TextMixin","mw-form/mixins/property/DropDownButtonTextMixin"],function(g,c,e,a){g=
g(null,{_setArrowModeAttr:function(){this.inherited(arguments);this.set("text",this.get("text"))}});g._dependencies=[{mixin:c,orderDependent:!0},{mixin:e,orderDependent:!1},{mixin:a,orderDependent:!1}];return g})},"mw-form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mw-mixins/property/TextMixin","mw-mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(g,c,e,a,b){g=g(null,{_updateTextInDOM:function(a){this.inherited(arguments);
this._placeTextAndResize(a)},_placeTextAndResize:function(a){var b=this._getPeerAndPosition();c.place(this.textNode,b.peer,b.position);this._placeTextInNode(a,this.lastTextLineNode);this.set("width",this.get("width"));this.set("height",this.get("height"))},_getPeerAndPosition:function(){var a={};this._isInline()?(a.peer=this.arrowNode,a.position="before"):(a.peer=this.iconNode,a.position="after");return a},_getSplitTextAtLastNewLineCharacter:function(a){var b={};if(this._isInline()){var c=a.lastIndexOf("\n");
0<=c?(b.mainText=a.substring(0,c),b.lastTextLine=a.substring(c+1,a.length)):"left"===this.get("iconAlignment")?(b.mainText="",b.lastTextLine=a):(b.mainText=a,b.lastTextLine="")}else b.mainText=a,b.lastTextLine="";return b},_isInline:function(){return"inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")&&"top"===this.get("iconAlignment")},_getTextForDOM:function(a,b){a=this.inherited(arguments);var c=this._getSplitTextAtLastNewLineCharacter(a);return b===this.textNode?c.mainText:b===this.lastTextLineNode?
c.lastTextLine:a}});g._dependencies=[{mixin:e,orderDependent:!0},{mixin:a,orderDependent:!1},{mixin:b,orderDependent:!1}];return g})},"mw-form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","mw-mixins/property/SizeMixin"],function(g,c,e){g=g(null,{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,doNotSize:!1,_setSize:function(a,b){this.inherited(arguments);if(this._started&&!this.doNotSize){var e="";if("auto"!==b){var g,h,d;h=c.getMarginBox(this.get("iconNode"));
var l=c.getMarginBox(this.get("textNode"));d=c.getMarginBox(this.get("arrowNode"));e=parseFloat(this._getAdjustedSize(a,b,this.domNode));if("width"===a&&"left"===this.get("iconAlignment")&&"inline"===this.get("arrowMode"))g=h.w+d.w,e<g?(g=e/2,e/=2):(h=g/2-h.w,d=g/2-d.w,g=e/2-h,e=e/2-d),this._setDomStyles("width",g,e);else if("height"===a&&"top"===this.get("iconAlignment")&&("inline"===this.get("arrowMode")||"auto"===this.get("arrowMode")))g=h.h+l.h+d.h+1,0>g&&(g=0),e<g?(g=e/2,e/=2):(h=g/2-h.h,d=g/
2-(l.h+d.h),g=e/2-h+1,e=e/2-d-1),this._setDomStyles("height",g,e);else if("width"===a&&"left"===this.get("iconAlignment")&&("block"===this.get("arrowMode")||"auto"===this.get("arrowMode")))g=e-d.w,e=d.w,this._setDomStyles("width",g,e);else if("height"===a&&"top"===this.get("iconAlignment")&&"block"===this.get("arrowMode"))g=e-d.h-3,e=d.h+1,this._setDomStyles("height",g,e);else if("width"===a)e=(e<this.maxWidth?e:this.maxWidth)>this.minWidth?e:this.minWidth,this._setDomStyles("width",e,e);else if("height"===
a)e=(e<this.maxHeight?e:this.maxHeight)>this.minHeight?e:this.minHeight,this._setDomStyles("height",e,e);else throw Error("Invalid property value. The size type property expects one of these values: {'width', 'height', 'auto'}");}else this.domNode.style["min"+this._capitalize(a)]=this["min"+this._capitalize(a)]+"px";this._set(a,b)}},_setDomStyles:function(a,b,c){this.buttonNode.style[a]=b+"px";this.buttonNode.style["max"+this._capitalize(a)]=b+"px";this.dropDownNode.style[a]=c+"px";this.dropDownNode.style["max"+
this._capitalize(a)]=c+"px"},_capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}});g._dependencies=[{mixin:e,orderDependent:!0}];return g})},"MW/toolstrip/mixins/property/MnemonicMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{mnemonic:"",postCreate:function(){this.inherited(arguments);this._updateMnemonicInDOM(this.get("mnemonic"))},_setMnemonicAttr:function(c){if("string"!==typeof c)throw Error("mnemonic property expects a String!");this._started&&this._updateMnemonicInDOM(c);
this._set("mnemonic",c)},_updateMnemonicInDOM:function(c){if(0<c.length){if(c.split("").some(function(c){return 65>c.charCodeAt(0)||90<c.charCodeAt(0)}))throw Error("mnemonic property should be a String of uppercase characters!");this.focusNode.setAttribute("data-mnemonic",c)}}})})},"MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin":function(){define(["dojo/_base/declare"],function(g){var c=["all","none","horizontal","vertical"];return g(null,{mnemonicKeyNavDirection:"all",postCreate:function(){this.inherited(arguments);
this._updateMnemonicKeyNavDirectionInDOM(this.get("mnemonicKeyNavDirection"))},_setMnemonicKeyNavDirectionAttr:function(e){if(-1===c.indexOf(e))throw Error("'mnemonicKeyNavDirection' property expects one of these values: "+c);this._started&&this._updateMnemonicKeyNavDirectionInDOM(e);this._set("mnemonicKeyNavDirection",e)},_updateMnemonicKeyNavDirectionInDOM:function(c){this.focusNode.setAttribute("data-mnemonic-key-nav-direction",c)}})})},"MW/toolstrip/mixins/property/IconOverrideMixin":function(){define(["dojo/_base/declare",
"mw-mixins/property/IconMixin"],function(g,c){var e=g(null,{iconOverride:"",iconProp:"icon",postCreate:function(){this.inherited(arguments);this.set("iconOverride",this.get("iconOverride"))},_setIconOverrideAttr:function(a){if("string"!==typeof a)throw Error("'iconOverride' property expects a literal string!");this._removeOldIcon(this.get("iconOverride"));this._set("iconOverride",a);this._updateDOM(a)},_updateDOM:function(a){a=""!==this.iconOverride?this.iconOverride:this[this.iconProp]?this[this.iconProp]:
this.icon;arguments[0]=a;this.inherited(arguments)},_setIconPropAttr:function(a){this._set("iconProp",a);this._updateDOM(a)}});e._dependencies=[{mixin:c,orderDependent:!0}];return e})},"MW/toolstrip/mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this._addTextContentClass();this.set("text",this.get("text"))},_addTextContentClass:function(){(this.textNode||
this.domNode).classList.add("mwTextContent")},_getTextForDOM:function(c,e){return c},_placeTextInNode:function(c,e){e=e||this.textNode;this.textNode.setAttribute("data-text-content",this._getTextForDOM(c,e))}})})},"MW/toolstrip/mixins/property/SizeMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{postCreate:function(){this.inherited(arguments);this.height=this.width="auto"},_setHeightAttr:function(c){},_getHeightAttr:function(){return"Horizontal"===this.get("orientation")?
22:72}})})},"MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/SizeMixin"],function(g,c){var e=g(null,{_setSize:function(){}});e._dependencies=[{mixin:c,orderDependent:!0}];return e})},"MW/toolstrip/form/mixins/property/DropDownButtonTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","MW/toolstrip/mixins/property/SizeMixin","mw-form/mixins/property/DropDownButtonSizeMixin"],function(g,
c,e,a){g=g(null,{_addTextContentClass:function(){},_getTextForDOM:function(a,c){var e,g,d=this._getTextNodes();if(c===d.inlineTextElement||c===d.lastTextLineElement){-1<(g=a.lastIndexOf("\n"))?(e=a.substring(0,g),g=a.substring(g+1,a.length)):(e=a,g="");if(c===d.inlineTextElement)return e;if(c===d.lastTextLineElement)return g}else return a},_placeTextInNode:function(a){this._getTextNodes().forEach(function(c){c.setAttribute("data-text-content",this._getTextForDOM(a,c))}.bind(this))},_getTextNodes:function(){var a=
[this.textLine,this.inlineTextLine,this.lastTextLine];a.textElement=a[0];a.inlineTextElement=a[1];a.lastTextLineElement=a[2];return a}});g._dependencies=[{mixin:c,orderDependent:!0},{mixin:e,orderDependent:!1},{mixin:a,orderDependent:!1}];return g})},"MW/toolstrip/mixins/property/OrientationMixin":function(){define(["dojo/_base/declare"],function(g){var c=["Horizontal","Vertical"];return g(null,{orientation:"Horizontal",horizontalHeight:22,verticalHeight:72,_setOrientationAttr:function(e){if(-1===
c.indexOf(e))throw Error("'orientation' property expects one of these values: "+c);this.domNode.classList.remove(this._getClassNameForOrientation(this.get("orientation")));this.domNode.classList.add(this._getClassNameForOrientation(e));"Horizontal"===e?this.set("iconProp","quickAccessIcon"):"Vertical"===e&&this.set("iconProp","icon");this._set("orientation",e)},_getClassNameForOrientation:function(c){return"mw"+c+"Orientation"}})})},"MW/toolstrip/mixins/property/TextOverrideMixin":function(){define(["dojo/_base/declare",
"MW/toolstrip/constants/MiscConstants","MW/toolstrip/mixins/property/TextMixin"],function(g,c,e){g=g(null,{textOverride:"",postCreate:function(){this.inherited(arguments);this.set("textOverride",this.get("textOverride"))},_setTextAttr:function(a){this.inherited(arguments);this._updateNoTextClass()},_setTextOverrideAttr:function(a){if("string"!==typeof a)throw Error("'textOverride' property expects a literal string!");this._placeTextInNode(a,void 0,"textOverride setter");this._set("textOverride",a);
this._updateNoTextClass()},_updateNoTextClass:function(){""===this.get("textOverride")&&""===this.get("text")||this.get("textOverride")===c.DO_NOT_DISPLAY?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(a,b,e){"textOverride setter"===e?a===c.DO_NOT_DISPLAY?a="":""===a&&(a=this.text):""!==this.textOverride&&(a=this.textOverride===c.DO_NOT_DISPLAY?"":this.textOverride);arguments[0]=a;arguments[1]=b;this.inherited(arguments)}});g._dependencies=
[{mixin:e,orderDependent:!0}];return g})},"MW/toolstrip/mixins/property/DescriptionOverrideMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin"],function(g,c){var e=g(null,{descriptionOverride:"",postCreate:function(){this.inherited(arguments);this.set("descriptionOverride",this.get("descriptionOverride"))},_setDescriptionOverrideAttr:function(a){if("string"!==typeof a)throw Error("'description' property expects a literal string!");this._updateDescription(a,!0);this._set("descriptionOverride",
a)},_updateDescription:function(a,b){b?""===a&&(a=this.description):""!==this.descriptionOverride&&(a=this.descriptionOverride);arguments[0]=a;this.inherited(arguments)}});e._dependencies=[{mixin:c,orderDependent:!0}];return e})},"MW/toolstrip/mixins/property/TypeMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{type:"",_setTypeAttr:function(c){if("string"!==typeof c)throw Error("type property expects a 'String'");this.domNode.setAttribute("data-type",c);this._set("type",
c)},postCreate:function(){this.inherited(arguments);this.set("type",this.get("type"))}})})},"MW/toolstrip/mixins/property/MenuIdMixin":function(){define(["dojo/_base/declare","dijit/registry","mw-menu/Menu","MW/toolstrip/widgets/gallery/GalleryPopup"],function(g,c,e,a){return g(null,{menuId:"",_setMenuIdAttr:function(a){this._set("menuId",a);this._syncAttributes()},_setMenuAttr:function(a){this.set("menuId",a.get("id"))},_getMenuIdAttr:function(){this._syncAttributes();return this._get("menuId")},
_getMenuAttr:function(){this._syncAttributes();return this._get("menu")},_syncAttributes:function(){var a=c.byId(this._get("menuId"))||null;this._get("menu")!==a&&(this._validateMenuAttr(a),this._set("menu",a))}})})},"MW/toolstrip/widgets/gallery/GalleryPopup":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/keys dojo/query dojo/dom-geometry dojo/_base/lang dojo/_base/window dojo/aspect dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/i18n!l10n/nls/toolstrip dojo/text!./templates/GalleryPopup.html mw-form/TextField mw-form/ToggleButton mw-form/PushButton MW/toolstrip/widgets/_PopupBase MW/toolstrip/constants/OrientationConstants MW/toolstrip/GalleryFilter MW/toolstrip/constants/TypeConstants MW/toolstrip/constants/gallery/GalleryViewConstants MW/toolstrip/widgets/_WidgetMixin MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin MW/toolstrip/form/SearchTextField MW/toolstrip/ToolstripUtils".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P){return g([q,s,p,w,z,F,E],{templateString:t,showHeader:!0,constructor:function(){this.searchBox=new C({value:""});this.own(this.searchBox);this._searchBoxValue="";this._handleCloseButtonClick=h.hitch(this,function(){n.close(this)})},buildRendering:function(){this.inherited(arguments);this.searchBox.placeAt(this.searchTextFieldContainerNode)},postCreate:function(){var a=this;this.inherited(arguments);this.domNode.setAttribute("data-focus",
"temporary");this.galleryItemFilters={};this._createSearchBoxAndButtons();this.own(l.after(this,"addChild",function(b){b.set("displayState",a.displayState);b.set("userCustomizable",a.userCustomizable);a.galleryStateChanged()},!0));this.own(l.after(this,"removeChild",function(){a.galleryStateChanged()},!0));this._handleFocusChange=function(a){a.target&&(a.target instanceof Element&&this.domNode&&this.domNode.parentElement&&"none"!==this.domNode.parentElement.style.display&&!this.domNode.contains(a.target)&&
this.domNode!==a.target)&&n.close(this);this._handleWindowBlur(a)}.bind(this);this._handleWindowBlur=function(a){(a.target===window||a.target===document.documentElement)&&n.close(this)}.bind(this);this.domNode.style.display="none";c.place(this.domNode,d.body());this.noSearchMatchNode.style.display="none";this.noSearchMatchNode.textContent=r.noSearchMatchNode;this._buildAndAddFilters();this._startupHeaderWidgets()},_buildAndAddFilters:function(){var a=this;this.galleryItemFilters.search=new B({id:"search",
checkerFunction:function(b){var c,d;c=a._searchBoxValue;d=RegExp(a._escapeRegExp(c),"i");return""===c||d.test(b.get("text"))||d.test(b.get("description"))||d.test(b.getParent().get("title"))}});this.galleryItemFilters.onlyShowEnabled=new B({id:"onlyShowEnabled",disabled:!0,checkerFunction:function(a){return!1===a.get("disabled")}})},_checkForPopupListInFooter:function(){var a;if(this.footerContainer&&(a=0<f(".toolstripPopupList",this.footerContainer).length?!0:!1))a=f(".toolstripPopupList",this.footerContainer)[0],
a=a.getAttribute("widgetid"),a=m.byId(a),a.onOpen()},enforceFilters:function(){var a,b;b=this.getChildren();this._favCategoryWidget&&b.push(this._favCategoryWidget);b.forEach(function(b){a=b.getChildren();a.forEach(function(a){e.remove(a.domNode,"hideFromView");Object.keys(this.galleryItemFilters).forEach(function(b){b=this.galleryItemFilters[b];!b.disabled&&!b.checkerFunction(a)&&e.add(a.domNode,"hideFromView")},this)},this);f(".hideFromView",b.domNode).length>=a.length?e.add(b.domNode,"hideFromView"):
e.remove(b.domNode,"hideFromView")},this);this._toggleDisplay(this.noSearchMatchNode,f(".Category.hideFromView",this.domNode).length===b.length)},_setUserCustomizableAttr:function(a){e.remove(this.domNode,"favoritesEnabled");e.remove(this.domNode,"favoritesDisabled");!0===a?e.add(this.domNode,"favoritesEnabled"):e.add(this.domNode,"favoritesDisabled");this._set("userCustomizable",a)},_setShowHeaderAttr:function(a){!1===a?(this.header.style.display="none",this.header.classList.remove("margin")):!0===
a&&(this.header.style.display=null,this.header.classList.add("margin"));this._set("showHeader",a)},_setDisplayStateAttr:function(a){e.remove(this.domNode,A.ICON);e.remove(this.domNode,A.LIST);e.add(this.domNode,a);this._favCategoryWidget&&this._favCategoryWidget.set("displayState",a);this.getChildren().forEach(function(b){b.set("displayState",a)});this._set("displayState",a);this._updateToggleButtons()},_updateToggleButtons:function(){this.displayState===A.ICON?this.iconViewButton&&!this.iconViewButton.checked&&
this.iconViewButton.set("checked",!0):this.listViewButton&&!this.listViewButton.checked&&this.listViewButton.set("checked",!0)},_setFooterIdAttr:function(a){var b=m.byId(a);b?(0===b.getChildren().length&&(b.domNode.style.display="none"),c.place(b.domNode,this.footerContainer),b.startup(),this.footerContainer.style.display="block"):this.footerContainer.style.display="none";this._set("footerId",a)},_setFavCategoryIdAttr:function(a){var b=m.byId(a);b&&(this._favCategoryWidget=b,0===b.getChildren().length&&
e.add(b.domNode,"hideFromView"),b.set("isFavoriteCategory",!0),b.set("galleryPopupId",this.id),c.place(b.domNode,this.favCategoryContainer),this.own(b),b.set("displayState",this.displayState));this._set("favCategoryId",a)},_setPlaceholderTextAttr:function(a){this.searchBox.set("placeholder",a)},_getPlaceholderTextAttr:function(){return this.searchBox.getAttribute("placeholder")},_toggleDisplay:function(a,b){a.style.display=b?"block":"none"},_handleSearchKeyDown:function(a){a.keyCode===b.ESCAPE&&""!==
a.target.value&&(this._resetSearchBoxValue(),a.stopPropagation())},_handleSearchBoxTyping:function(a){this._searchBoxValue=a.mwEventData.currentContent;this.enforceFilters()},_createSearchBoxAndButtons:function(){var b=this;this.searchBox.on("typing",h.hitch(this,this._handleSearchBoxTyping));this.searchBox.on("keydown",h.hitch(this,this._handleSearchKeyDown));this.listViewButton=new x({icon:"icon_view_list_16",tag:"listViewButton",buttonGroup:"galleryPopupView_"+this.id});this.own(this.listViewButton);
this.listViewButton.placeAt(this.listViewButtonContainerNode);this.listViewButton.on("click",h.hitch(this,function(){this.focus()}));this.iconViewButton=new x({icon:"icon_view_icon_16",tag:"iconViewButton",buttonGroup:"galleryPopupView_"+this.id,checked:!0});this.own(this.iconViewButton);this.iconViewButton.placeAt(this.iconViewButtonContainerNode);this.iconViewButton.on("click",h.hitch(this,function(){this.focus()}));a(this.closeButtonNode,"click",this._handleCloseButtonClick);this.listViewButton.on("change",
function(a){"checked"===a.mwEventData.propertyName&&!0===a.mwEventData.newValue&&b.set("displayState",A.LIST)});this.iconViewButton.on("change",function(a){"checked"===a.mwEventData.propertyName&&!0===a.mwEventData.newValue&&b.set("displayState",A.ICON)});this._updateToggleButtons()},_calculateSearchBoxWidth:function(){var a=k.getContentBox(this.domNode),b=k.getMarginBox(this.buttonWrapper),c=k.getMarginExtents(this.searchTextFieldContainerNode);this.searchBox.set("width",a.w-b.w-(c.l+c.r))},_calculateSelfMaxHeight:function(){var a=
window.innerHeight-this.domNode.getBoundingClientRect().top;this.domNode.style.maxHeight=a+"px"},_resetSearchBoxValue:function(){this.searchBox.set("value","");this._searchBoxValue="";this.enforceFilters()},_resizeContainerNode:function(a){this.domNode.style.width=a*this.galleryItemWidth+"px"},focus:function(){this.searchBox.focusNode.focus()},_startupHeaderWidgets:function(){this.searchBox.startup();this.listViewButton.startup();this.iconViewButton.startup()},_setColumnCountAttr:function(a){if("number"!==
typeof a||0>a)throw Error("'columnCount' property expects a positive integer number!");this._set("columnCount",a)},_calculateSelfWidth:function(){var a;a=this.get("columnCount")||7;this._resizeContainerNode(a)},onOpen:function(){this.inherited(arguments);this.domNode.parentNode.classList.add("galleryPopupWrapper");this.domNode.parentNode.style.height="auto";this._calculateSearchBoxWidth();this._calculateSelfMaxHeight();this._invokingGallery||this._calculateSelfWidth();this._checkForPopupListInFooter();
this._toggleDisplay(this.noSearchMatchNode,!1);setTimeout(function(){this.focus();setTimeout(function(){document.addEventListener("mousedown",this._handleFocusChange);document.addEventListener("pointerdown",this._handleFocusChange);window.addEventListener("blur",this._handleWindowBlur);this.globalListenersCreated=!0}.bind(this),0)}.bind(this),0)},onClose:function(){this.inherited(arguments);this._resetSearchBoxValue();document.removeEventListener("mousedown",this._handleFocusChange);document.removeEventListener("pointerdown",
this._handleFocusChange);window.removeEventListener("blur",this._handleWindowBlur);delete this.globalListenersCreated;this.emit("restorefocus")},destroy:function(){this.inherited(arguments);this.globalListenersCreated&&(document.removeEventListener("mousedown",this._handleFocusChange),document.removeEventListener("pointerdown",this._handleFocusChange),window.removeEventListener("blur",this._handleWindowBlur))},galleryStateChanged:function(){},onExecute:function(){},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26")},_qeTyping:function(a){this.searchBox._qeTyping(a)},_qeCloseClick:function(){this._handleCloseButtonClick()}})})},"mw-form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin dojo/text!./templates/TextField.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B){return g(v.validate([a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,w,y]),{baseClass:"mwWidget mwTextField",templateString:B,horizontalAlignment:"left",width:150,height:22,constructor:function(){this._addKeysThatPreventTypingEvent([e.ENTER])},_handleEnterKey:function(){var a,b;a=this.inputNode.value;b=this.get("value");this.set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a);this.domNode.classList.add("mwTextFieldHighlight");this.defer(c.hitch(this,
function(){this.domNode.classList.remove("mwTextFieldHighlight")}),200)},_onKeyUp:function(a){this.inherited(arguments);a.keyCode===e.ENTER&&this._handleEnterKey()},_qeTypeOverWithEnter:function(a){var b=this.get("value");this.set("value",a);this._triggerChangeEvent("value",b,a)},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"mw-mixins/property/EditableMixin":function(){define(["dojo/_base/declare"],
function(g){return g(null,{editable:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"))},_setEditableAttr:function(c){this.inputNode.readOnly=!c;c?this.domNode.classList.remove("mwNonEditable"):this.domNode.classList.add("mwNonEditable");this._set("editable",c)}})})},"mw-mixins/property/TextInputValueMixin":function(){define(["dojo/_base/declare","dojo/on"],function(g,c){return g(null,{value:"",postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwTextInputValueMixin");this._setValueAttr(this.get("value"));this._stopChangeEventBubbling()},_setValueAttr:function(c){this.setValueInDom(c);this._set("value",c)},_stopChangeEventBubbling:function(){this.own(c(this.inputNode,"change",function(c){c.stopPropagation()}))},setValueInDom:function(c){this.inputNode.value=c}})})},"mw-form/mixins/SharedTextInputMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dijit/_FocusMixin mw-mixins/property/PlaceholderMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin".split(" "),
function(g,c,e,a,b,f,k){93;e.TAB;return g([a,b,f,k],{constructor:function(){this._preventTypingEventForKeys=[e.UP_ARROW,e.DOWN_ARROW,e.RIGHT_ARROW,e.LEFT_ARROW,e.PAGE_DOWN,e.PAGE_UP,e.HOME,e.END,e.ESCAPE,e.CAPS_LOCK,16,17,18,91,92,93]},_addKeysThatPreventTypingEvent:function(a){if(!Array.isArray(a))throw"Input to _addKeysThatPreventTypingEvent was not an array";this._preventTypingEventForKeys=this._preventTypingEventForKeys.concat(a)},postCreate:function(){this.inherited(arguments);this.on("keyup",
c.hitch(this,"_onKeyUp"))},_onKeyUp:function(a){0<=this._preventTypingEventForKeys.indexOf(a.keyCode)||this._triggerTypingEvent(this.inputNode.value)},_onBlur:function(){var a,b;a=this.inputNode.value;b=this.get("value");this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a);this.inherited(arguments)}})})},"mw-mixins/property/PlaceholderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on dijit/focus mw-mixins/property/TextInputValueMixin".split(" "),
function(g,c,e,a,b,f,k){g=g(null,{placeholder:"",_setPlaceholderAttr:function(a){if("string"!==typeof a)throw Error("'placeholder' property expects a literal string!");this.inputNode.placeholder=a;this._set("placeholder",a)}});g._dependencies=[{mixin:k,orderDependent:!1}];return g})},"mw-mixins/event/TypingEventMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_triggerTypingEvent:function(c){this.emit("typing",{mwEventData:{currentContent:c}})},_qeTyping:function(c){this.inputNode.value=
c;this._triggerTypingEvent(c)}})})},"MW/toolstrip/widgets/_PopupBase":function(){define(["dojo/_base/declare"],function(g){return g(null,{onOpen:function(){this.isShowingNow=!0},onClose:function(){this.isShowingNow=!1}})})},"MW/toolstrip/constants/OrientationConstants":function(){define([],function(){return{VERTICAL:"Vertical",HORIZONTAL:"Horizontal"}})},"MW/toolstrip/GalleryFilter":function(){define(["dojo/_base/declare","mw-log/Log"],function(g,c){return g(null,{constructor:function(e){e=e||{};
c.assert(e.id,"An id is required for a filter!");c.assert(e.checkerFunction,"A checker function is required for a filter!");this.id=e.id;this.disabled=!!e.disabled;this.checkerFunction=e.checkerFunction}})})},"MW/toolstrip/widgets/gallery/GalleryItemRowCountMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(g,c){return g(null,{_setGalleryItemRowCountAttr:function(e){c.remove(this.domNode,"oneRow");c.remove(this.domNode,"twoRow");c.remove(this.domNode,"threeRow");1===e?c.add(this.domNode,
"oneRow"):2===e?c.add(this.domNode,"twoRow"):3===e&&c.add(this.domNode,"threeRow");this._set("galleryItemRowCount",e)}})})},"MW/toolstrip/widgets/gallery/GalleryItemTextLineCountMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(g,c){return g(null,{_setGalleryItemTextLineCountAttr:function(e){c.remove(this.domNode,"zeroLine");c.remove(this.domNode,"oneLine");c.remove(this.domNode,"twoLine");0===e?c.add(this.domNode,"zeroLine"):1===e?c.add(this.domNode,"oneLine"):2===e&&c.add(this.domNode,
"twoLine");this._set("galleryItemTextLineCount",e)}})})},"MW/toolstrip/form/SearchTextField":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","mw-form/TextField"],function(g,c,e,a,b){return g(b,{baseClass:"mwWidget mwTextField mwSearchTextField",postCreate:function(){this.inherited(arguments);this.clearLink=c.create("div",{"class":"clearTextContainerNode"},this.domNode,"first");this._toggleSearchBoxIcon();this.on("typing",e.hitch(this,this._toggleSearchBoxIcon));
this.watch("value",e.hitch(this,this._toggleSearchBoxIcon));this.own(a(this.clearLink,"click",e.hitch(this,this._onClickClearButtonHandler)))},_toggleSearchBoxIcon:function(){""!==this.inputNode.value?this.clearLink.classList.add("clearTextIconVisible"):this.clearLink.classList.remove("clearTextIconVisible")},_onClickClearButtonHandler:function(){this.set("value","");this._triggerTypingEvent("");this._toggleSearchBoxIcon()}})})},"MW/toolstrip/mixins/property/MenuMixin":function(){define(["dojo/_base/declare",
"dijit/focus","MW/uiframework/FocusManager","mw-dom-utils/domUtils"],function(g,c,e,a){return g(null,{postCreate:function(){this.inherited(arguments);this.set("menuOrientation","below")},closeMenu:function(b){this.domNode.classList.contains("mwPopupMenuItem")||(e.isAvailable()&&!a.findParentNode(this.domNode,"mwSectionPopup")?(this.emit("restorefocus"),this._handleClosingPopup(b)):this.inherited(arguments))}})})},"MW/toolstrip/widgets/SectionPopup":function(){define("dojo/_base/declare mw-menu/Menu mw-mixins/ResizeMixin ../mixins/property/TypeMixin ../mixins/ScrollbarMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f){return g(f.validate([c,e,a,b]),{visualFamily:"toolstrip",baseClass:"toolstrip mwSectionPopup"})})},"mw-mixins/ResizeMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_isResized:!1,startup:function(){this.inherited(arguments);if(!this._isResized){for(var c={parentNode:this.domNode},e=!0;(c=c.parentNode)&&c!==document;)if("none"===c.style.display){e=!1;break}e&&this.resize()}},resize:function(){this.inherited(arguments);this.getChildren&&this.getChildren().forEach(function(c){c.resize&&
c.resize()},this);this._isResized=!0}})})},"MW/toolstrip/mixins/ScrollbarMixin":function(){define(["dojo/_base/declare","dojo/sniff"],function(g,c){return g(null,{postCreate:function(){this.inherited(arguments);c("mac")||this.domNode.classList.add("mwScrollbarMixin")}})})},"MW/toolstrip/widgets/Panel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/Panel.html ./_WidgetMixin mw-mixins/ResizeMixin".split(" "),function(g,c,e,a,b,f,
k){return g([c,e,a,f,k],{templateString:b,addChild:function(a){this.inherited(arguments);var b=this.getParent();b&&"Column"===b.type&&b.updateChildrenOrientations()}})})},"MW/toolstrip/widgets/Column":function(){define("dojo/aspect dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/Column.html ./_WidgetMixin ./_ChildrenWrapperMixin mw-mixins/ResizeMixin MW/toolstrip/hashes/listOfNewWidgets MW/toolstrip/constants/OrientationConstants".split(" "),function(g,c,e,a,b,f,k,
h,d,l){return c([e,a,f,k,h],{templateString:b,constructor:function(){var a=this;this._wrappers={};this.own(g.after(this,"addChild",function(b){a._wrappers[b.id].style.textAlign=a.horizontalAlignment;a.get("width")&&(-1!==d.indexOf(b.type)?b._allowedValues&&-1!==b._allowedValues.indexOf("100%")&&b.set("width","100%"):b.set("width","100%"))},!0))},_setHorizontalAlignmentAttr:function(a){Object.keys(this._wrappers).forEach(function(b){this._wrappers[b].style.textAlign=a},this);this._set("horizontalAlignment",
a)},_setWidthAttr:function(a){0<a&&(this.domNode.style.width=a+"px",this._set("width",a),this.getChildren().forEach(function(a){a.set("width","100%")}))},_setExtraColumnGapAttr:function(a){this._set("extraColumnGap",a);a?this.domNode.classList.add("extraColumnGap"):this.domNode.classList.remove("extraColumnGap")},resize:function(){this.inherited(arguments);var a=this.getChildren();a&&a.forEach(function(a){a.resize?a.resize():a.set("height",a.get("height"))},this)},addChild:function(a){this.inherited(arguments);
this.updateChildrenOrientations()},removeChild:function(a){this.inherited(arguments);this.updateChildrenOrientations()},updateChildrenOrientations:function(){var a=this.getParent();a&&("Section"===a.type?this._updateChildrenOrientations():"Panel"===a.type&&(a=a.getParent())&&"Column"===a.type&&a.updateChildrenOrientations())},_updateChildrenOrientations:function(){var a=this.getChildren();1===a.length?"Panel"===a[0].type?a[0].getChildren().forEach(function(a){a=a.getChildren();var b=1===a.length?
l.VERTICAL:l.HORIZONTAL;a.forEach(function(a){a.get("orientation")&&a.set("orientation",b)})}):a[0].set("orientation",l.VERTICAL):a.forEach(function(a){"Panel"===a.type?a.getChildren().forEach(function(a){a.getChildren().forEach(function(a){a.get("orientation")&&a.set("orientation",l.HORIZONTAL)})}):a.get("orientation")&&a.set("orientation",l.HORIZONTAL)})}})})},"MW/toolstrip/menu/PopupListPanel":function(){define(["dojo/_base/declare","mw-menu/MenuPanel","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],
function(g,c,e,a){return g(a.validate([c,e]),{visualFamily:"toolstrip"})})},"mw-menu/MenuPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/registry mw-menu/mixins/KeyNavMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-mixins/PreventFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuPanel.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){return g(q.validate([c,a,f,k,h,d,e,m,l,n]),{baseClass:"mwWidget mwMenuPanel",templateString:s,maxHeight:100,closeRequest:function(a){var b=this._getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},_focusChange:function(a){var b=this._getParentWidget();null!=b&&b._focusChange&&(b._closeEventData={mwEventData:{gainedFocusWidget:a}},b._focusChange(a))},_getParentWidget:function(){return b.getEnclosingWidget(this.domNode.parentNode)}})})},
"MW/toolstrip/widgets/Footer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/Footer.html".split(" "),function(g,c,e,a,b,f){return g([c,e,a,b],{templateString:f,baseClass:"footer"})})},"MW/toolstrip/widgets/FooterCell":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container ./_WidgetMixin dojo/text!./templates/FooterCell.html ./_ChildrenWrapperMixin".split(" "),function(g,c,e,
a,b,f,k){return g([c,e,a,k,b],{templateString:f,baseClass:"footerCell"})})},"MW/toolstrip/widgets/gallery/Gallery":function(){define("dojo/_base/declare dojo/debounce dojo/dom-geometry dojo/aspect dojo/touch dojo/_base/lang dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/_HasDropDown dijit/registry dijit/_CssStateMixin dojo/text!./templates/Gallery.html ../../constants/gallery/GalleryViewConstants ../_WidgetMixin ./GalleryItemRowCountMixin ./GalleryItemTextLineCountMixin ./ScrollToSelectionMixin ./HideDisabledItemsMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/uiframework/FocusManager dojo/i18n!l10n/nls/toolstrip".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F){return g([d,l,m,s,n,t,u,x,v,w,y,B,D,A],{templateString:p,baseClass:"mwWidget mwGallery",visualFamily:"toolstrip",dropDownPosition:["below"],openIfEmpty:!0,postCreate:function(){this.inherited(arguments);this._focusManager={};this.own(a.after(this,"addChild",function(a){a.set("displayState",r.ICON)},!0),k(this.openPopupDiv,"click",function(a){this.isDropDownOpen()||this._onDropDownMouseDown(a)}.bind(this)),k(this.domNode,"keyup",function(a){(a.keyCode===
h.ENTER||a.keyCode===h.SPACE)&&this.openDropDown()}.bind(this)));var b=q.byId(this.galleryPopupId);b&&this.setupGalleryPopupListener(b);this.openPopupDiv.setAttribute("title",F.showMore)},openDropDown:function(){var a,b=q.byId(this.galleryPopupId);if(this.openIfEmpty||!(b.domNode.querySelectorAll(".Category.hideFromView").length>b.getChildren().length))a=b.columnCount?Math.max(b.columnCount,this.currentColumnCount):this.currentColumnCount,a=3>a?3*this.galleryItemWidth:a*this.galleryItemWidth,b.domNode.style.width=
a+30+"px",this.set("dropDown",b),this.setupGalleryPopupListener(b),this.inherited(arguments),this._handleWindowResizeHandler=f.hitch(this,"_handleWindowResize"),window.addEventListener("resize",this._handleWindowResizeHandler)},_shouldCloseDropDown:function(a,b){return a===window?!0:this.domNode&&this.domNode.contains(a)&&a.classList.contains("dijitDownArrowButton")&&(!b.domNode||!b.domNode.parentElement||"none"!==b.domNode.parentElement.style.display)||b.domNode&&b.domNode.contains(a)?!1:a.matches?
!a.matches(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.matchesSelector?!a.matchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.webkitMatchesSelector?!a.webkitMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.mozMatchesSelector?!a.mozMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):a.msMatchesSelector?!a.msMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):
a.oMatchesSelector?!a.oMatchesSelector(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu  *"):!0},closeDropDown:function(){window.removeEventListener("resize",this._handleWindowResizeHandler);if(!this.dropDown&&(this.dropDown=q.byId(this.galleryPopupId),!this.dropDown))return;this.inherited(arguments)},_handleWindowResize:function(){this.closeDropDown()},_qeDropDownClick:function(){this.toggleDropDown()},_onDropDownMouseDown:function(a){a instanceof MouseEvent&&0!==a.button||this.inherited(arguments)},
setupGalleryPopupListener:function(b){b._invokingGallery=this;var c=this;this._galleryPopupListener&&(this._galleryPopupListener.remove(),this._galleryPopupListener=null);this._galleryPopupListener=a.after(b,"galleryStateChanged",function(){c.refresh()})},shrink:function(){var a;this.currentColumnCount>this.minColumnCount?(this.set("currentColumnCount",this.currentColumnCount-1),a=!0):a=!1;return a},grow:function(){var a;this.currentColumnCount<this.maxColumnCount?(this.set("currentColumnCount",this.currentColumnCount+
1),a=!0):a=!1;return a},_setCurrentColumnCountAttr:function(a){this._set("currentColumnCount",a);this._resizeContainerNode();this.refresh()},_setOpenIfEmptyAttr:function(a){if("boolean"!==typeof a)throw Error("'openIfEmpty' property expected a boolean value");this._set("openIfEmpty",a)},_resizeContainerNode:function(){var a=this.currentColumnCount*this.galleryItemWidth+"px";this.containerNode.style.width=a;this.textOverlayWrapperNode.style.width=a},_setGalleryItemWidthAttr:function(a){0<a&&(this._set("galleryItemWidth",
a),this._resizeContainerNode())},_setDisplayStateAttr:function(a){var b=e.position(this.domNode);this._set("displayState",a);this.domNode.classList.remove("busy");this.set("disabled",!1);"busy"===a?(this.busyLayer.style.height=b.h+"px",this.busyLayer.style.width=b.w+"px",this.domNode.classList.add("busy")):"blocked"===a&&this.set("disabled",!0)},_setTextOverlayAttr:function(a){this._set("textOverlay",a);a?(this.textOverlayWrapperNode.style.display="table",this.textOverlayNode.textContent=a):(this.textOverlayWrapperNode.style.display=
"none",this.textOverlayNode.textContent="")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},refresh:function(){},destroy:function(){this._galleryPopupListener.remove();this.inherited(arguments)},isDropDownOpen:function(){var a=q.byId(this.galleryPopupId);return!(a&&a.domNode&&(!a.domNode.parentElement.classList.contains("dijitPopup")&&"none"===a.domNode.style.display||a.domNode.parentElement&&"none"===a.domNode.parentElement.style.display))}})})},"MW/toolstrip/widgets/gallery/ScrollToSelectionMixin":function(){define(["dojo/_base/declare"],
function(g){return g(null,{scrollToSelection:!1})})},"MW/toolstrip/widgets/gallery/HideDisabledItemsMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{hideDisabledItems:!0})})},"MW/toolstrip/widgets/gallery/GalleryCategory":function(){define("dojo/_base/declare dojo/aspect dojo/dom-construct dojo/on dojo/dnd/Source dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/dnd/Manager mw-dnd/DnDUtils dojo/text!./templates/GalleryCategory.html ../../constants/gallery/GalleryViewConstants ./_GalleryCategoryAnimationMixin ../_WidgetMixin ./GalleryItemAvatar".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g([k,h,d,s,p],{templateString:n,userCustomizable:!0,postCreate:function(){var b=this;this.inherited(arguments);this.own(a(this.moveTopButtonNode,"click",function(){b.categoryMoved()}));this.own(c.after(this,"addChild",function(a,c){var d=this.getParent();c=0<=c?c:this.getChildren().length-1;d&&d.galleryStateChanged();a.set("displayState",b.displayState);b.dndSource&&b.dndSource.insertNodes(!1,[a.domNode],!1,this.getChildren()[c].domNode);this.showHideCategory()},
!0));this.own(c.after(this,"removeChild",function(a){(a=this.getParent())&&a.galleryStateChanged();this.showHideCategory()},!0));this.showHideCategory()},showHideCategory:function(){0===this.getChildren().length?this.domNode.classList.add("hideFromView"):this.domNode.classList.remove("hideFromView")},_setIsFavoriteCategoryAttr:function(a){a?this.titleIconNode.classList.add("starTitle"):this.titleIconNode.classList.remove("starTitle");this._set("isFavoriteCategory",a);this._createDndSource(this.displayState)},
_setDisplayStateAttr:function(a){this.getChildren().forEach(function(b){b.set("displayState",a)});this._createDndSource(a);this._set("displayState",a)},_setTitleAttr:function(a){""===a&&(this.header.style.display="none");this.titleNode.textContent=a;this._set("title",a)},_setUserCustomizableAttr:function(a){!1===a?this.moveTopNode.style.display="none":!0===a&&(this.moveTopNode.style.display=null);this._set("userCustomizable",a)},_createDndSource:function(a){var d=this,e={};this.isFavoriteCategory&&
(a===q.ICON&&(e={horizontal:!0}),this.dndSource&&(m.unregisterMakeAvatar(this.dndSource),this.dndSource.destroy()),this.dndSource=new b(this.containerNode,e),m.registerMakeAvatar(d.dndSource,function(){return new r(this)}),this.own(c.after(this.dndSource,"onDrop",function(a,b){d._onDropHandler(a,b)},!0)))},_onDropHandler:function(a,b){var c,d;d=f.byNode(b[0]);c=this.getIndexOfChild(d);this.itemMoved({itemId:d.id,newIndex:c})},_qeMoveToTopClick:function(){this.categoryMoved()},categoryMoved:function(){},
itemMoved:function(){}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n){e.isAsync||h(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var q=c("dojo.dnd.Source",m,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,
constructor:function(c,e){a.mixin(this,a.mixin({},e));var f=this.accept;if(f.length){this.accept={};for(var g=0;g<f.length;++g)this.accept[f[g]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&b.add(this.node,"dojoDndSource");this.targetState="";this.accept&&b.add(this.node,"dojoDndTarget");this.horizontal&&b.add(this.node,"dojoDndHorizontal");this.topics=[d.subscribe("/dnd/source/over",a.hitch(this,
"onDndSourceOver")),d.subscribe("/dnd/start",a.hitch(this,"onDndStart")),d.subscribe("/dnd/drop",a.hitch(this,"onDndDrop")),d.subscribe("/dnd/cancel",a.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,f=0;f<d.length;++f)if(d[f]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==n.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;
return!1},destroy:function(){q.superclass.destroy.call(this);g.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&"Disabled"==this.targetState)){q.superclass.onMouseMove.call(this,a);var b=n.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var c=this.getSelectedNodes();c.length&&b.startDrag(this,c,this.copyState(l.getCopyKeyState(a),!0))}if(this.isDragging){c=
!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=f.position(this.current,!0);c=this.horizontal?a.pageX-this.targetBox.x<this.targetBox.w/2==f.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||c!=this.before)this._markTargetAnchor(c),b.canDrop(!this.current||b.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||
!l.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,q.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,q.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=n.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&
this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&n.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target",
"")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,b,c){var d=this._normalizedCreator;this._normalizedCreator=this.creator?function(b,c){return d.call(this,a.getItem(b.id).data,c)}:c?function(b){var c=a.getItem(b.id);b=b.cloneNode(!0);b.id=l.getUniqueId();return{node:b,data:c.data,type:c.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,data:c.data,type:c.type}};this.selectNone();!c&&!this.creator&&a.selectNone();
this.insertNodes(!0,b,this.before,this.current);!c&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=d},onDropInternal:function(a,b){var c=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return c.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=l.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=
function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=c}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){q.superclass.onOverEvent.call(this);n.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){q.superclass.onOutEvent.call(this);n.manager().outSource(this);if(this.isDragging&&"Disabled"!=
this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=
null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!k.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(b.contains(a,"dojoDndHandle"))return!0;if(b.contains(a,"dojoDndItem")||b.contains(a,"dojoDndIgnore"))break}return!1}});return q})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){var q=c("dojo.dnd.Selector",n,{constructor:function(b,c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(d(this.node,l.press,a.hitch(this,"onMouseDown")),d(this.node,l.release,a.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new h,c=m._empty,d;for(d in this.selection)d in c||a.push(b.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,c){this._addItemClass(b.byId(c),"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=m._empty,c;for(c in this.selection)if(!(c in a)){var d=b.byId(c);this.delItem(c);f.destroy(d)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||e.global;var c=this.selection,d=m._empty,f;for(f in c)f in d||a.call(b,this.getItem(f),f,this)},sync:function(){q.superclass.sync.call(this);
this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=m._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);g.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,d){var e=this._normalizedCreator;this._normalizedCreator=function(b,c){var d=e.call(this,b,c);a?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,"Selected"),this._removeItemClass(d.node,"Anchor"));return d};q.superclass.insertNodes.call(this,b,c,d);this._normalizedCreator=e;return this},destroy:function(){q.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!m.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,k.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){m.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,d;c<b.length&&!(d=b[c],d==this.anchor||d==this.current);++c);for(++c;c<b.length;++c){d=b[c];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=
1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?m.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):m.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):
(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&
(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=d(this.node,l.move,a.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=m._empty,c;for(c in this.selection)if(!(c in a)){var d=b.byId(c);d&&this._removeItemClass(d,"Selected")}this.selection=
{};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return q})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){c=c("dojo.dnd.Container",d,{skipForm:!1,allowNested:!1,constructor:function(b,c){this.node=f.byId(b);
c||(c={});this.creator=c.creator||null;this.skipForm=c.skipForm;this.parent=c.dropParent&&f.byId(c.dropParent);this.map={};this.current=null;this.containerState="";k.add(this.node,"dojoDndContainer");(!c||!c._skipStartup)&&this.startup();this.events=[m(this.node,q.over,a.hitch(this,"onMouseOver")),m(this.node,q.out,a.hitch(this,"onMouseOut")),m(this.node,"dragstart",a.hitch(this,"onSelectStart")),m(this.node,"selectstart",a.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},
setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||e.global;var c=this.map,d=s._empty,f;for(f in c)f in d||a.call(b,c[f],f,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return n((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=s.getUniqueId();var c=b.getAttribute("dndType"),
d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);
return this},destroy:function(){g.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=s._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&
b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||
!s.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";k.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){k.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){k.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&k.contains(a,"dojoDndItem"))return a;
return null},_normalizedCreator:function(b,c){var d=(this.creator||this.defaultCreator).call(this,b,c);a.isArray(d.type)||(d.type=["text"]);d.node.id||(d.node.id=s.getUniqueId());k.add(d.node,"dojoDndItem");return d}});s._createNode=function(a){return!a?s._createSpan:function(b){return h.create(a,{innerHTML:b})}};s._createTrTd=function(a){var b=h.create("tr");h.create("td",{innerHTML:a},b);return b};s._createSpan=function(a){return h.create("span",{innerHTML:a})};s._defaultCreatorNodes={ul:"li",ol:"li",
div:"div",p:"div"};s._defaultCreator=function(b){b=b.tagName.toLowerCase();var c="tbody"==b||"thead"==b?s._createTrTd:s._createNode(s._defaultCreatorNodes[b]);return function(b,d){var e=b&&a.isObject(b),f,g;e&&b.tagName&&b.nodeType&&b.getAttribute?(f=b.getAttribute("dndData")||b.innerHTML,e=(e=b.getAttribute("dndType"))?e.split(/\s*,\s*/):["text"],g=b):(f=e&&b.data?b.data:b,e=e&&b.type?b.type:["text"],g=("avatar"==d?s._createSpan:c)(String(f)));g.id||(g.id=s.getUniqueId());return{node:g,data:f,type:e}}};
return c})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){var p=c("dojo.dnd.Manager",[f],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:k("touch")?4:16,OFFSET_Y:k("touch")?4:16,overSource:function(a){this.avatar&&
(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());l.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),l.publish("/dnd/source/over",null)):l.publish("/dnd/source/over",null)},startDrag:function(c,f,g){function h(a){a.preventDefault();a.stopPropagation()}q.autoScrollStart(a.doc);this.source=c;this.nodes=f;this.copy=Boolean(g);this.avatar=this.makeAvatar();
a.body().appendChild(this.avatar.node);l.publish("/dnd/start",c,f,this.copy);this.events=[d(a.doc,m.move,e.hitch(this,"onMouseMove")),d(a.doc,m.release,e.hitch(this,"onMouseUp")),d(a.doc,"keydown",e.hitch(this,"onKeyDown")),d(a.doc,"keyup",e.hitch(this,"onKeyUp")),d(a.doc,"dragstart",h),d(a.body(),"selectstart",h)];b.add(a.body(),"dojoDnd"+(g?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){b.remove(a.body(),
["dojoDndCopy","dojoDndMove"]);g.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new s(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;b&&(q.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(n.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));
k("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(n.getCopyKeyState(a)));l.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);l.publish("/dnd/drop",this.source,this.nodes,b,this.target,a)}else l.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case h.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case h.ESCAPE:l.publish("/dnd/cancel"),
this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==h.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(c){this.copy=c;this.source._markDndStatus(this.copy);this.updateAvatar();b.replace(a.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});n._manager=null;p.manager=n.manager=function(){n._manager||(n._manager=new p);return n._manager};return p})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(g,c,e,a,b,f,k,h){return g("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var b=f.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),c=this.manager.source,e,g=f.create("tbody",null,b),h=f.create("tr",null,g),s=f.create("td",null,h),p=Math.min(5,this.manager.nodes.length),r=0;k("highcontrast")&&f.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},s);f.create("span",{innerHTML:c.generateText?
this._generateText():""},s);for(a.set(h,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});r<p;++r)c.creator?e=c._normalizedCreator(c.getItem(this.manager.nodes[r].id).data,"avatar").node:(e=this.manager.nodes[r].cloneNode(!0),"tr"==e.tagName.toLowerCase()&&(h=f.create("table"),f.create("tbody",null,h).appendChild(e),e=h)),e.id="",h=f.create("tr",null,g),s=f.create("td",null,h),s.appendChild(e),a.set(h,{"class":"dojoDndAvatarItem",style:{opacity:(9-r)/10}});this.node=b},destroy:function(){f.destroy(this.node);
this.node=!1},update:function(){b.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(k("highcontrast")){var a=e.byId("a11yIcon"),c="+";this.manager.canDropFlag&&!this.manager.copy?c="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?c="o":this.manager.canDropFlag||(c="x");a.innerHTML=c}h("tr.dojoDndAvatarHeader td span"+(k("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"mw-dnd/DnDUtils":function(){define(["dojo/_base/declare","dojo/aspect","dojo/dnd/Manager","mw-utils/Utils"],function(g,c,e,a){var b={},f=function(a){var c=-1;Object.keys(b).some(function(d,e,f){return b[d].dndSource===a?(c=d,!0):!1});return c};c.around(e.manager(),"makeAvatar",function(a){return function(){var c=e.manager(),d;!1===Object.keys(b).some(function(a,e,f){return b[a].dndSource===c.source?(d=b[a].makeAvatarFunc.call(c),!0):!1})&&(d=a.call(c));return d}});return{registerMakeAvatar:function(c,
e){var d=f(c);-1===d&&(d=a.generateUuid());b[d]={dndSource:c,makeAvatarFunc:e}},unregisterMakeAvatar:function(a){a=f(a);-1!==a&&delete b[a]},destroy:function(a){a&&a.remove()}}})},"MW/toolstrip/widgets/gallery/_GalleryCategoryAnimationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/_base/fx dojo/fx dojo/query dijit/registry ../../constants/gallery/GalleryViewConstants".split(" "),function(g,c,e,a,b,f,k,h,d,l){return g(null,{animate:function(a){switch(a.type){case "move":this._animateCategoryMove(a);
break;case "childAdd":if(this.get("isFavoriteCategory"))this._animateFavoriteItemAdd(a);else a.onEnd();break;case "childRemove":if(this.get("isFavoriteCategory"))this._animateFavoriteItemRemove(a);else a.onEnd()}},_animateCategoryMove:function(a){var c,d,f,g;d=b.position(this.domNode);g=this._createCategoryClone(this);c=b.position(this._getGalleryPopupWidget().getChildren()[0].domNode).y;f=this._getGalleryPopupPos();c-=f.y;d.x-=f.x;d.y-=f.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&
(c=0);k.slideTo({node:g,duration:this._calculateDuration(0,d.y,0,c),left:d.x,top:c,onEnd:function(){e.destroy(g);a.onEnd()}}).play()},_animateFavoriteItemAdd:function(a){var c,f=this,g,h,r,t,u=0,x=0,v,w,y=!0;v=this._getGalleryPopupPos();w=b.position(this.domNode);g=d.byId(a.startId);h=b.position(g.domNode);c=this._createItemClone(g);g=this.getChildren().filter(function(a){return!a.domNode.classList.contains("hideFromView")});t=g.length;0===t?r=h:(g=g[t-1],g=b.position(g.domNode),this.displayState===
l.ICON?(v.w-(g.x-v.x+g.w)<g.w&&(y=!1),y?(r=g,u=g.w):(r=w,x=w.h)):this.displayState===l.LIST&&(r=g,x=g.h));this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});r.x-=v.x;r.y-=v.y;h.x-=v.x;h.y-=v.y;0<this._getGalleryPopupWidget().categoryContainer.scrollTop&&(x=r.y=0);h=this._calculateDuration(h.x,h.y,r.x,r.y);k.slideTo({node:c,duration:h,left:r.x+u,top:r.y+x,onEnd:function(){e.destroy(c);a.onEnd();f._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},
_animateFavoriteItemRemove:function(a){var c,f,g=this,h,l;l=this._getGalleryPopupPos();c=a.childWidget;h=b.position(c.domNode);f=this._createItemClone(c);c=d.byId(a.endId);c=b.position(c.domNode);c.x-=l.x;c.y-=l.y;h.x-=l.x;h.y-=l.y;c.y+c.h>l.h+this._getGalleryPopupWidget().categoryContainer.scrollTop&&(c.y=l.h-c.h);this._getAllItemWidgets().forEach(function(a){a.detachFavButtonClickHandler()});h=this._calculateDuration(h.x,h.y,c.x,c.y);k.slideTo({node:f,duration:h,left:c.x+0,top:c.y+0,onEnd:function(){e.destroy(f);
a.onEnd();g._getAllItemWidgets().forEach(function(a){a.attachFavButtonClickHandler()})}}).play()},_getAllItemWidgets:function(){var a=[];d.byId(this.galleryPopupId).getChildren().forEach(function(b){a=a.concat(b.getChildren())});return a},_calculateDuration:function(a,b,c,d){return Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2))/0.7},_getGalleryPopupWidget:function(){return this.get("isFavoriteCategory")?d.byId(this.get("galleryPopupId")):this.getParent()},_getGalleryPopupPos:function(){return b.position(this._getGalleryPopupWidget().domNode)},
_createCategoryClone:function(a){a=this._createClone(a);h(".moveTopNode",a)[0].style.display="none";return a},_createItemClone:function(b){b=this._createClone(b);h(".favButton",b)[0].style.display="none";a.remove(b,"dojoDndItemAnchor");a.remove(b,"dojoDndItemOver");return b},_createClone:function(a){var d,f,g;g=this._getGalleryPopupPos();d=c.clone(a.domNode);f=b.position(a.domNode);a=b.getContentBox(a.domNode);f.x-=g.x;f.y-=g.y;e.place(d,this._getGalleryPopupWidget().domNode);d.style.position="absolute";
d.style.top=f.y+"px";d.style.left=f.x+"px";d.style.width=a.w+"px";d.style.height=a.h+"px";d.style.zIndex=5;return d}})})},"MW/toolstrip/widgets/gallery/GalleryItemAvatar":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/query dijit/registry".split(" "),function(g,c,e,a,b,f){return g([],{constructor:function(a){this.manager=a;this.construct()},construct:function(){var g,h,d;g=this.manager.nodes[0];h=g.cloneNode(!0);d=e.position(g);h.style.width=d.w+"px";
h.style.height=d.h+"px";d=b(".itemWrapper",h)[0];g=f.getEnclosingWidget(g).getParent();g=f.byId(g.get("galleryPopupId"));g=a.create("div",{"class":g.domNode.getAttribute("class")});c.remove(g,"galleryPopup");g.style.position="absolute";g.style.zIndex="1999";g.opacity=0.7;c.remove(h,"dojoDndItemOver dojoDndItem dojoDndItemAnchor");c.add(h,"galleryItemAvatar");c.remove(d);c.add(d,"itemWrapper");a.place(h,g);this.node=g},destroy:function(){a.destroy(this.node);this.node=!1},update:function(){c.toggle(this.node,
"dojoDndAvatarCanDrop",this.manager.canDropFlag)}})})},"MW/toolstrip/form/PushButton":function(){define("dojo/_base/declare mw-form/PushButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/QuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){return g(s.validate([c,e,a,b,f,k,h,d,l,m,n,q]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/QuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(g,c){var e=g(null,{quickAccessIcon:"",postCreate:function(){this.inherited(arguments);this.set("quickAccessIcon",this.get("quickAccessIcon"))},_setQuickAccessIconAttr:function(a){if("string"!==typeof a)throw Error("'quickAccessIcon' property expects a literal string!");
this._set("quickAccessIcon",a);this._updateDOM(a)},_updateDOM:function(a){""===a?a=this.icon:""!==this.quickAccessIcon&&(a=this.quickAccessIcon);this._removeOldIcon(this.get("quickAccessIcon"));arguments[0]=a;this.inherited(arguments)}});e._dependencies=[{mixin:c,orderDependent:!0}];return e})},"MW/toolstrip/form/SplitButton":function(){define("dojo/_base/declare mw-form/SplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){return g(u.validate([c,e,a,b,f,k,h,d,l,m,n,q,t,s,p,r]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/SplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-mixins/ResizeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P){return g(C.validate([c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E]),{baseClass:"mwWidget mwSplitButton",templateString:P,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},_qeClick:function(){this.emit("click")}})})},"mw-mixins/property/TabIndexNodesMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/DisabledMixin"],function(g,c,e){var a=function(a){if(("object"!==typeof a||
a.constructor!==Array)&&0<a.length&&a[0].constructor!==HTMLDivElement)throw Error("'tabIndexNodes' property expects an array of DOM nodes as input.");};g=g(null,{tabIndexNodes:[],addTabIndexNodes:function(b){a(b);this.set("tabIndexNodes",this.get("tabIndexNodes").concat(b))},removeTabIndexNodes:function(b){a(b);var c,e,g,d=this.get("tabIndexNodes");b.forEach(function(a){g=d.indexOf(a);-1===g?(c=d,e=[]):(c=d.slice(0,g),e=d.slice(g+1,g+1+(d.length-g)));d=c.concat(e);a.removeAttribute("tabIndex")});
this.set("tabIndexNodes",d)},_setTabIndexNodesAttr:function(b){a(b);this._set("tabIndexNodes",b);this._updateTabIndices()},_setDisabledAttr:function(a){this.inherited(arguments);this._updateTabIndices()},_updateTabIndices:function(){this.get("tabIndexNodes").forEach(c.hitch(this,function(a){this._setTabIndexOnNode(a)}))}});g._dependencies=[{mixin:e,orderDependent:!0}];return g})},"mw-form/mixins/property/DropDownNeverDisabledMixin":function(){define("dojo/_base/declare dojo/dom-geometry mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-mixins/property/TextMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonSizeMixin".split(" "),
function(g,c,e,a,b,f,k,h){g=g(null,{dropDownNeverDisabled:!1,_laskKnownDisabledNode:null,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDropDownNeverDisabledMixin");this.set("dropDownNeverDisabled",this.get("dropDownNeverDisabled"))},_setDropDownNeverDisabledAttr:function(a){if("boolean"!==typeof a)throw Error("'dropDownNeverDisabled' property expects a boolean!");this._set("dropDownNeverDisabled",a);a?this.domNode.classList.add("mwDropDownNeverDisabledTrue"):this.domNode.classList.remove("mwDropDownNeverDisabledTrue");
this._updateInteractions(a);this._setAriaDisabled();this._setTabIndexOnNode(this.focusNode)},_updateInteractions:function(a){a=this._getDisabledNode();this._removeDisableInteractions(this._laskKnownDisabledNode);this._addDisableInteractions(a);this._updateLastKnownDisabledNode(a)},_updateDisableNode:function(a){a?(this.domNode.classList.add("mwDisabled"),this.domNode.classList.remove("mwEnabled")):(this.domNode.classList.add("mwEnabled"),this.domNode.classList.remove("mwDisabled"));this._updateInteractions(a)},
_updateLastKnownDisabledNode:function(a){this._laskKnownDisabledNode=a},_getDisabledNode:function(){var a;this.get("disabled")?this.dropDownNeverDisabled?a=this.buttonNode:this.dropDownNeverDisabled||(a=this.domNode):a=null;return a},_getOverlayPositionExtents:function(){var a=c.getBorderExtents(this.domNode);if(this.get("dropDownNeverDisabled")){var b=c.getMarginBox(this.focusNode);"left"===this.get("iconAlignment")?a.r=-b.w:"top"===this.get("iconAlignment")&&(a.b=-b.h)}return{t:-a.t+"px",r:-a.r+
"px",b:-a.b+"px",l:-a.l+"px"}}});g._dependencies=[{mixin:e,orderDependent:!0},{mixin:a,orderDependent:!0},{mixin:b,orderDependent:!0},{mixin:f,orderDependent:!0},{mixin:k,orderDependent:!0},{mixin:h,orderDependent:!0}];return g})},"mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/on mw-dom-utils/domUtils mw-utils/widgetUtils mw-mixins/property/MenuMixin".split(" "),function(g,c,e,a,b,f,k,h){g=g(null,{buildRendering:function(){this.inherited(arguments);
a.place(this.buttonNode,this.focusNode,"before")},_onMouseClick:function(a){this.inherited(arguments);e.isDescendant(a.target,this.buttonNode)&&this.isMenuOpen()&&this.closeMenu(!1)}});g._dependencies=[{mixin:h,orderDependent:!0}];return g})},"mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-dom-utils/domUtils"],function(g,c,e,a){return g(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"mousedown",
c.hitch(this,function(a){this.buttonNode.contains(a.target)&&setTimeout(c.hitch(this,function(){this.focusNode.focus()}),0)})),e(this.focusNode,"focus",c.hitch(this,"_handleFocus")),e(this.focusNode,"blur",c.hitch(this,"_handleBlur")))},_handleFocus:function(){this.baseClass.split(" ").forEach(c.hitch(this,function(b){a.toggleClass(this.domNode,b+"Focused",!0)}))},_handleBlur:function(){this.baseClass.split(" ").forEach(c.hitch(this,function(b){a.toggleClass(this.domNode,b+"Focused",!1)}))}})})},
"MW/toolstrip/form/ToggleButton":function(){define("dojo/_base/declare mw-form/ToggleButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/IconOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){return g(s.validate([c,e,a,b,f,k,h,d,l,m,n,q]),{visualFamily:"toolstrip"})})},"MW/toolstrip/mixins/property/ButtonGroupMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_shouldUncheckWidget:function(c){return c.get("buttonGroup")===this.get("buttonGroup")&&c!==this&&c.get("checked")&&(!c.get("actionId")||c.get("actionId")!==this.get("actionId"))}})})},"MW/toolstrip/form/ColorPickerButton":function(){define("dijit/focus dojo/aspect dojo/_base/declare dojo/_base/lang dojo/keys dojo/query MW/toolstrip/form/SplitButton mw-menu/Menu mw-mixins/event/ChangeEventMixin mw-colorpicker/ColorPicker mw-colorpicker/ColorPalette mw-colorpicker/MColor mw-dom-utils/domUtils".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){return e([k,d],{baseClass:"mwWidget mwSplitButton mwColorPickerButton",visualFamily:"toolstrip",selectedColor:"#ff0000",closeOnColorSelection:!0,showPreview:!0,showRecentColors:!0,showCustomPicker:!0,constructor:function(){this.standardColors=n.getStandardLightThemeColors();this._colorPickerMenu=new h;this._colorPicker=new l({showPreview:!0,showCustomPicker:!0,showRecentColors:!0,standardColors:this.standardColors});this.recentColors=this._colorPicker.get("recentlyUsedColors");
this._swatchNode=document.createElement("div");this.own(this._colorPickerMenu);this.own(this._colorPicker)},buildRendering:function(){this.inherited(arguments);this._colorPickerMenu.addChild(this._colorPicker);this._swatchNode.classList.add("mwColorSwatchNode");this.iconNode.appendChild(this._swatchNode);this.set("menu",this._colorPickerMenu)},_setSelectedColorAttr:function(a){if("string"!==typeof a)throw Error("'selectedColor' property expects a literal string!");this._validateColor(a);this._swatchNode.style.backgroundColor=
a;this._set("selectedColor",a);this._updatePreview()},_getSelectedColorAttr:function(){return this._get("selectedColor")},_setShowPreviewAttr:function(a){this._colorPicker.set("showPreview",a);this._set("showPreview",a)},_getShowPreviewAttr:function(){return this._colorPicker.get("showPreview")},_setShowRecentColorsAttr:function(a){this._colorPicker.set("showRecentColors",a);this._set("showRecentColors",a)},_getShowRecentColorsAttr:function(){return this._colorPicker.get("showRecentColors")},_setShowCustomPickerAttr:function(a){this._colorPicker.set("showCustomPicker",
a);this._set("showCustomPicker",a)},_getShowCustomPickerAttr:function(){return this._colorPicker.get("showCustomPicker")},_setRecentColorsAttr:function(a){this._validateRecentColors(a);this._colorPicker.set("recentlyUsedColors",a);this._set("recentColors",a)},_getRecentColorsAttr:function(){return this._colorPicker.get("recentlyUsedColors")},_setStandardColorsAttr:function(b){this._validateStandardColors(b);this._set("standardColors",b);this._colorPicker.paletteNode.destroyRecursive();this._colorPicker.paletteNode=
new m({palette:[this.standardColors[0],this.standardColors[1],this.standardColors[2]]});this._colorPicker.paletteNode.domNode.classList.add(this._colorPicker.baseClass+"Palette");this._colorPicker.paletteNode.placeAt(this._colorPicker,"first").startup();this.own(this._colorPicker.paletteNode.set("onChange",a.hitch(this._colorPicker,"_updateWidgetValues",!1,!0,!0,!0)))},_getStandardColorsAttr:function(){return this._colorPicker.get("standardColors")},postCreate:function(){this.inherited(arguments);
this.own(c.after(this._colorPicker.paletteNode,"_onCellClick",a.hitch(this,"_updateSelectedColor")));this.own(c.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",a.hitch(this,"_updateSelectedColor")));this.menu.domNode.addEventListener("open",this._handleMenuCloseOnFocusOut.bind(this));this.menu.domNode.addEventListener("keydown",this._handleMenuKeyDown.bind(this));this._colorPicker.domNode.addEventListener("keydown",this._handleColorPickerKeyDown.bind(this));this.buttonNode.addEventListener("click",
this._handleButtonClick.bind(this))},_handleButtonClick:function(){var a=this.get("selectedColor");this._triggerChangeEvent("selectedColor",a,a)},_handleMenuCloseOnFocusOut:function(){var b=g.watch("curNode",a.hitch(this,function(a,c,d){if(null===d||!q.findParentNode(d,"mwMenu"))b.unwatch(),this._updatePreview(),this.closeMenu()}));this.own(b)},_handleMenuKeyDown:function(a){a.keyCode===b.DOWN_ARROW||a.keyCode===b.UP_ARROW?this._colorPicker.paletteNode.focus():a.keyCode===b.TAB&&a.stopPropagation()},
_closeMenuOnColorSelection:function(){this.closeOnColorSelection&&this.closeMenu()},_handleColorPickerKeyDown:function(a){"INPUT"===a.target.tagName&&(a.keyCode===b.ENTER?this._updateSelectedColor():a.keyCode===b.ESCAPE&&this.set("selectedColor",this.get("selectedColor")))},_updatePreview:function(){this.get("selectedColor")!==this._colorPicker.value&&this._colorPicker.set("value",this.get("selectedColor"),!1)},_updateRecentColors:function(){var b=this.get("selectedColor"),d=this._colorPicker.recentlyUsedColors,
e=d.indexOf(b);-1!==e&&8>e&&d.splice(e,1);d.unshift(b);this._colorPicker.set("recentlyUsedColors",d);this.own(c.after(this._colorPicker.recentColorsWidgetNode,"_onCellClick",a.hitch(this,"_updateSelectedColor")))},_updateSelectedColor:function(){var a=this.get("selectedColor");this.set("selectedColor",this._colorPicker.value);var b=this.get("selectedColor");this._updateRecentColors();this._closeMenuOnColorSelection();this._triggerChangeEvent("selectedColor",a,b)},_validateStandardColors:function(a){var b=
a.length;if(3<b)throw Error("StandardColors can consist of maximum 3 rows of colors");for(var c=0;c<b;c++)for(var d=a[c],e=0;e<d.length;e++){if("hex"!==this._isRGBOrHex(d[e]))throw Error("Color type invalid. Only hex color values allowed!");this._validateColor(d[e])}},_validateRecentColors:function(a){var b=a.length;if(8<b)throw Error("RecentColors should be 1x8 array");for(var c=0;c<b;c++){var d=a[c];if("hex"!==this._isRGBOrHex(d))throw Error("Color type invalid. Only hex color values allowed!");
this._validateColor(d)}},_validateColor:function(a){var b=this._isRGBOrHex(a);if("invalid"===b)throw Error("'color' invalid value!");if("hex"===b){if(!/[0-9a-f]{6}/i.test(a))throw Error("'color' invalid value!");}else if("rgb"===b){var c;a=a.substring(4,a.length-1);a=a.split(",");if(3!==a.length)throw Error("'color' invalid value!");a.forEach(function(a){a=parseFloat(a);0!==a%1&&(c=!0)});if(c){if(this._checkRGBDouble(a))throw Error("'color' invalid value!");}else if(this._checkRGBInt(a))throw Error("''color' invalid value!");
}},_isRGBOrHex:function(a){return 0===a.indexOf("#")?"hex":0===a.indexOf("rgb")?"rgb":"invalid"},_checkRGBDouble:function(a){for(var b=0;3>b;b++){var c=parseFloat(a[b]);if(0>c||1<c)return!0}},_checkRGBInt:function(a){for(var b=0;3>b;b++){var c=parseInt(a[b]);if(0>c||255<c)return!0}}})})},"mw-colorpicker/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ColorPalette ./ColorSpinner ./MColor dojo/text!./templates/ColorPicker.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){return g([b,f,k],{value:"#ff0000",showRecentColors:!0,showPreview:!0,showCustomPicker:!0,recentlyUsedColors:[],standardColors:[],_parsedStandardColors:"",_previewTitle:n.preview,templateString:m,baseClass:"mwColorPicker",constructor:function(){this._set("recentlyUsedColors","#ff0000 #ff00ff #ffff00 #00ff00 #ffffff #00ffff #0000ff #000000".split(" "));this._set("standardColors",l.getStandardLightThemeColors());this.inherited(arguments)},postMixInProperties:function(){this._set("_parsedStandardColors",
JSON.stringify(this.get("standardColors")));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.paletteNode.set("onChange",c.hitch(this,this._updateWidgetValues,!1,!0,!0,!0));this.spinnerNode.set("onChange",c.hitch(this,this._updateWidgetValues,!0,!1,!0,!0))},_setValueAttr:function(a,b){this._updateWidgetValues(!0,!0,!0,b,a)},_updateWidgetValues:function(a,b,c,d,e){var f=this.get("value");this._set("value",e);this._setPreviewColor(e);a&&this.paletteNode.set("value",e,!1);
b&&this.spinnerNode.set("value",e,!1);c&&this.recentColorsWidgetNode&&this.recentColorsWidgetNode.set("value",e,!1);(d||void 0===d)&&this.emit("change",{mwEventData:{propertyName:"value",oldValue:f,newValue:this.get("value")}})},_setPreviewColor:function(b){a.set(this.previewColorNode,"background",b)},_updateRecentColorsWidget:function(){this.recentColorsWidgetNode&&(this.recentColorsWidgetNode.destroy(),e.empty(this.recentColorsNode));this.recentColorsWidgetNode=new h({palette:[this.recentlyUsedColors.slice(0,
4),this.recentlyUsedColors.slice(4,8)],title:n.recentColors,value:this.value});this.recentColorsWidgetNode.set("onChange",c.hitch(this,this._updateWidgetValues,!0,!0,!1,!0));this.recentColorsWidgetNode.placeAt(this.recentColorsNode).startup()},_setRecentlyUsedColorsAttr:function(a){this._set("recentlyUsedColors",a);this._updateRecentColorsWidget()},_setShowRecentColorsAttr:function(b){this._set("showRecentColors",b);!1===b?(a.set(this.recentColorsNode,"display","none"),a.set(this.previewNode,"padding-left",
"10px"),a.set(this.previewColorNode,"width","202px")):(a.set(this.recentColorsNode,"display",""),a.set(this.previewNode,"padding-left",""),a.set(this.previewColorNode,"width",""))},_setShowPreviewAttr:function(b){this._set("showPreview",b);!1===b?a.set(this.previewNode,"display","none"):a.set(this.previewNode,"display","")},_setShowCustomPickerAttr:function(b){this._set("showCustomPicker",b);!1===b?a.set(this.spinnerNode.domNode,"display","none"):a.set(this.spinnerNode.domNode,"display","")}})})},
"mw-colorpicker/ColorPalette":function(){define("dojo/_base/declare dojo/dom-construct dojo/string dojo/dom-attr dijit/_PaletteMixin dijit/_TemplatedMixin dijit/_WidgetBase ./MColor dojo/text!./templates/ColorPalette.html dojo/text!./templates/ColorPaletteSwatch.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),function(g,c,e,a,b,f,k,h,d,l,m){var n=g([k,f,b],{palette:[],title:m.standardColors,_setTitleAttr:{node:"titleNode",type:"innerText"},baseClass:"mwColorPalette",templateString:d,constructor:function(){this._set("palette",
h.getStandardLightThemeColors());this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.dyeClass=n._Color;this._preparePalette(this.palette,{})}});n._Color=g([h],{template:l,getValue:function(){return this.toHex()},fillCell:function(b){var d=e.substitute(this.template,{color:this.toHex(),title:this.toMATLABFriendlyName()});a.set(b,"title",this.toMATLABFriendlyName());c.place(d,b)}});return n})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m){return g("dijit._PaletteMixin",h,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(a){return new ("string"==typeof this.dyeClass?f.getObject(this.dyeClass):this.dyeClass)(a)},_preparePalette:function(c,e){this._cells=[];var g=this._blankGif;this.own(k(this.gridNode,d,f.hitch(this,"_onCellClick")));for(var h=0;h<c.length;h++)for(var l=a.create("tr",{tabIndex:"-1",role:"row"},
this.gridNode),t=0;t<c[h].length;t++){var u=c[h][t];if(u){var x=this._dyeFactory(u,h,t,e[u]),u=a.create("td",{"class":this.cellClass,tabIndex:"-1",title:e[u],role:"gridcell"},l);x.fillCell(u,g);u.idx=this._cells.length;this._cells.push({node:u,dye:x})}}this._xDim=c[0].length;this._yDim=c.length;var v={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},w;for(w in v)this.own(m.addKeyListener(this.domNode,{keyCode:b[w],ctrlKey:!1,altKey:!1,
shiftKey:!1},this,function(){var a=v[w];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){l.focus(this._currentFocus)},_onCellClick:function(a){for(var b=a.target;"TD"!=b.tagName;){if(!b.parentNode||b==this.gridNode)return;b=b.parentNode}var c=this._getDye(b).getValue();this._setCurrent(b);l.focus(b);this._setValueAttr(c,!0);a.stopPropagation();a.preventDefault()},
_setCurrent:function(a){"_currentFocus"in this&&c.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=a)&&c.set(a,"tabIndex",this.tabIndex)},_setValueAttr:function(a,b){0<=this._selectedCell&&e.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");this._selectedCell=-1;if(a)for(var c=0;c<this._cells.length;c++)if(a==this._cells[c].dye.getValue()){this._selectedCell=c;e.add(this._cells[c].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);
if(b||void 0===b)this.onChange(a)},onChange:function(){},_navigateByKey:function(a,b){if(-1!=b){var c=this._currentFocus.idx+a;c<this._cells.length&&-1<c&&(c=this._cells[c].node,this._setCurrent(c),this.defer(f.hitch(l,"focus",c)))}},_getDye:function(a){return this._cells[a.idx].dye}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(g,c,e,a,b,f){var k=f.typematic={_fireEventAndReload:function(){this._timer=
null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(e.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,c,f,g,k,s,p){if(g!=this._obj){this.stop();this._initialDelay=s||500;this._subsequentDelay=k||0.9;this._minDelay=p||10;this._obj=g;this._node=c;this._count=
this._currentTimeout=-1;this._callback=e.hitch(b,f);this._evt={faux:!0};for(var r in a)"layerX"!=r&&"layerY"!=r&&(b=a[r],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[r]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,d,f,m,n,q,s){var p="keyCode"in d?"keyCode":"charCode"in d?"charCode":"charOrCode",r=[a(b,"keyCode"in d?"keydown":"charCode"in
d?"keypress":c._keypress,e.hitch(this,function(a){a[p]==d[p]&&(void 0===d.ctrlKey||d.ctrlKey==a.ctrlKey)&&(void 0===d.altKey||d.altKey==a.altKey)&&(void 0===d.metaKey||d.metaKey==(a.metaKey||!1))&&(void 0===d.shiftKey||d.shiftKey==a.shiftKey)?(a.stopPropagation(),a.preventDefault(),k.trigger(a,f,b,m,d,n,q,s)):k._obj==d&&k.stop()})),a(b,"keyup",e.hitch(this,function(){k._obj==d&&k.stop()}))];return{remove:function(){g.forEach(r,function(a){a.remove()})}}},addMouseListener:function(c,d,f,m,n,q){var s=
[a(c,"mousedown",e.hitch(this,function(a){a.preventDefault();k.trigger(a,d,c,f,c,m,n,q)})),a(c,"mouseup",e.hitch(this,function(a){this._obj&&a.preventDefault();k.stop()})),a(c,"mouseout",e.hitch(this,function(a){this._obj&&a.preventDefault();k.stop()})),a(c,"dblclick",e.hitch(this,function(a){a.preventDefault();9>b("ie")&&(k.trigger(a,d,c,f,c,m,n,q),setTimeout(e.hitch(this,k.stop),50))}))];return{remove:function(){g.forEach(s,function(a){a.remove()})}}},addListener:function(a,b,c,e,f,k,s,p){var r=
[this.addKeyListener(b,c,e,f,k,s,p),this.addMouseListener(a,e,f,k,s,p)];return{remove:function(){g.forEach(r,function(a){a.remove()})}}}};return k})},"mw-colorpicker/MColor":function(){define(["dojo/_base/declare","dojo/_base/Color"],function(g,c){var e=g([c],{toDoubleRGBString:function(){var a=this.toDoubleRGB();return"["+a[0].toFixed(2)+" "+a[1].toFixed(2)+" "+a[2].toFixed(2)+"]"},toMATLABFriendlyName:function(){var a=e.namedMATLABColors[this.toHex().toLowerCase()];return a?this.toDoubleRGBString()+
" - "+a:this.toDoubleRGBString()},toDoubleRGB:function(){return[this.r/255,this.g/255,this.b/255]}});e.fromDoubleRGB=function(a){a=a.map(function(a){return Math.round(255*a)});return new e(a)};e.namedMATLABColors={"#ff0000":"red (r)","#ff00ff":"magenta (m)","#ffff00":"yellow (y)","#00ff00":"green (g)","#00ffff":"cyan (c)","#0000ff":"blue (b)","#000000":"black (k)","#ffffff":"white (w)"};e.getStandardLightThemeColors=function(){return["#0073bd #d9541a #edb021 #7d2e8f #78ab30 #4dbfed #a3142e".split(" "),
"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};e.getStandardDarkThemeColors=function(){return["#ffff11 #139fff #ff6929 #64d413 #b746ff #0fffff #ff13a6".split(" "),"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};return e})},"mw-colorpicker/ColorSpinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/NumberSpinner dijit/form/ValidationTextBox ./MColor ./ToggleButtonGroup dojo/text!./templates/ColorSpinner.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){var s={value:0,smallDelta:0.01,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:1,strict:!0,places:"0,2"}},p={value:0,smallDelta:1,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:255,fractional:!1,strict:!0,places:"0"}},r={pattern:"^#[0-9a-f]{6}",required:!0,selectOnClick:!0,
intermediateChanges:!0,style:"width: 120px; height: 20px; font-size: 13px;"};return g([b,f,k],{onChange:function(){},value:"#000000",baseClass:"mwColorSpinner",templateString:n,_redTitle:q.redTitle,_greenTitle:q.greenTitle,_blueTitle:q.blueTitle,_hexTitle:q.hexTitle,postCreate:function(){this.inherited(arguments);this.redDoubleSpinner.set(s);this.greenDoubleSpinner.set(s);this.blueDoubleSpinner.set(s);this.redDoubleSpinner.set("onChange",c.hitch(this,this._doubleSpinnerChange));this.greenDoubleSpinner.set("onChange",
c.hitch(this,this._doubleSpinnerChange));this.blueDoubleSpinner.set("onChange",c.hitch(this,this._doubleSpinnerChange));this.redIntSpinner.set(p);this.greenIntSpinner.set(p);this.blueIntSpinner.set(p);this.redIntSpinner.set("onChange",c.hitch(this,this._intSpinnerChange));this.greenIntSpinner.set("onChange",c.hitch(this,this._intSpinnerChange));this.blueIntSpinner.set("onChange",c.hitch(this,this._intSpinnerChange));this.hexSpinner.set(r);this.hexSpinner.set("onChange",c.hitch(this,this._hexSpinnerChange));
this.toggleButton.onChange=c.hitch(this,this._handleToggleChange);this.toggleButton.set("buttonText",["[0-1]","[0-255]",q.hexTitle]);this.toggleButton.set("value",2);this.toggleButton.set("value",1);this._updateSpinnerValues(new l(this.value),!0,!0,!0,!1)},_setValueAttr:function(a,b){var c=new l(a);this._updateSpinnerValues(c,!0,!0,!0,b)},_updateSpinnerValues:function(a,b,c,d,e){this._set("value",a.toHex());b&&(b=a.toDoubleRGB(),this._setSpinnerValueWithoutFiringEvent(this.redDoubleSpinner,b[0]),
this._setSpinnerValueWithoutFiringEvent(this.greenDoubleSpinner,b[1]),this._setSpinnerValueWithoutFiringEvent(this.blueDoubleSpinner,b[2]));c&&(c=a.toRgb(),this._setSpinnerValueWithoutFiringEvent(this.redIntSpinner,c[0]),this._setSpinnerValueWithoutFiringEvent(this.greenIntSpinner,c[1]),this._setSpinnerValueWithoutFiringEvent(this.blueIntSpinner,c[2]));d&&this._setSpinnerValueWithoutFiringEvent(this.hexSpinner,a.toHex());if(e||void 0===e)this.onChange(this.get("value"))},_isSpinnerValid:function(a,
b,c){if(!0===a._beingDestroyed||!0===b._beingDestroyed||!0===c._beingDestroyed||!0===a._destroyed||!0===b._destroyed||!0===c._destroyed||!a.isValid()||!b.isValid()||!c.isValid())return!1;a=a.get("value");b=b.get("value");c=c.get("value");return isNaN(a)||void 0===a||isNaN(b)||void 0===b||isNaN(c)||void 0===c?!1:[a,b,c]},_doubleSpinnerChange:function(){var a=this._isSpinnerValid(this.redDoubleSpinner,this.greenDoubleSpinner,this.blueDoubleSpinner);!1!==a&&(a=l.fromDoubleRGB(a),this._updateSpinnerValues(a,
!1,!0,!0,!0))},_intSpinnerChange:function(){var a=this._isSpinnerValid(this.redIntSpinner,this.greenIntSpinner,this.blueIntSpinner);if(!1!==a){var b=new l;b.setColor(a);this._updateSpinnerValues(b,!0,!1,!0,!0)}},_hexSpinnerChange:function(a){this.hexSpinner.isValid()&&(a=new l(a),this._updateSpinnerValues(a,!0,!0,!1,!0))},_handleToggleChange:function(b){var c=[this.doubleSpinners,this.intSpinners,this.hexSpinners];c.forEach(function(b){a.set(b,"display","none")});a.set(c[b-1],"display","")},_setSpinnerValueWithoutFiringEvent:function(a,
b){a.set("intermediateChanges",!1);a.set("value",b,!1);a.set("intermediateChanges",!0)}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(g,c,e,a){return g("dijit.form.NumberSpinner",[e,a.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(a,c){var e=this.constraints,g=isNaN(a),d=!isNaN(e.max),l=!isNaN(e.min);g&&0!=c&&(a=0<c?l?e.min:d?e.max:0:d?this.constraints.max:l?e.min:0);var m=a+c;if(g||isNaN(m))return a;
d&&m>e.max&&(m=e.max);l&&m<e.min&&(m=e.min);return m},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&(a.keyCode==c.HOME||a.keyCode==c.END)&&!a.ctrlKey&&(!a.altKey&&!a.metaKey)&&"undefined"!=typeof this.get("value")){var e=this.constraints[a.keyCode==c.HOME?"min":"max"];"number"==typeof e&&this._setValueAttr(e,!1);a.stopPropagation();a.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return g("dijit.form._Spinner",h,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:d,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(a){return a},_arrowPressed:function(a,b,c){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),b*c),!1),l.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(a,b,d){var e=this.smallDelta;b==this.textbox&&(b=d.keyCode,e=b==c.PAGE_UP||b==c.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==c.UP_ARROW||b==c.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==a?this._arrowReleased(b):this._arrowPressed(b,b==this.upArrowNode?1:-1,e)},_wheelTimer:null,_mouseWheeled:function(a){if(this.focused){a.stopPropagation();a.preventDefault();var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?
1:-1);a=a.detail?-1*a.detail:b;if(0!==a){var c=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(c,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(c)},50)}}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,b.wheel,e.hitch(this,"_mouseWheeled")),k.addListener(this.upArrowNode,this.textbox,{keyCode:c.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),k.addListener(this.downArrowNode,
this.textbox,{keyCode:c.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),k.addListener(this.upArrowNode,this.textbox,{keyCode:c.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),k.addListener(this.downArrowNode,this.textbox,{keyCode:c.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(g,c,e){return g("dijit.form.RangeBoundTextBox",e,{rangeMessage:"",rangeCheck:function(a,b){return("min"in b?0<=this.compare(a,b.min):!0)&&("max"in b?0>=this.compare(a,b.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var a=
this.get("value");if(null==a)return!1;var b=!1;"min"in this.constraints&&(b=this.constraints.min,b=0>this.compare(a,"number"==typeof b&&0<=b&&0!=a?0:b));!b&&"max"in this.constraints&&(b=this.constraints.max,b=0<this.compare(a,"number"!=typeof b||0<b?b:0));return b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(a){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(a))},getErrorMessage:function(a){var b=
this.get("value");return null!=b&&""!==b&&("number"!=typeof b||!isNaN(b))&&!this.isInRange(a)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=c.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(g,c,e,a){return g("dijit.form.MappedTextBox",
a,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(a){return a.toString?a.toString():""},toString:function(){var a=this.filter(this.get("value"));return null!=a?"string"==typeof a?a:this.serialize(a,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=e.place("\x3cinput type\x3d'hidden'"+(this.name&&
!c("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(g,c,e,a,b,f,k){var h=g("dijit.form.ValidationTextBox",b,{templateString:k,required:!1,promptMessage:"",
invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=h.prototype[a]&&(c.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",
a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a=
"$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var e=this._isEmpty(this.textbox.value),
f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&e||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):e&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&
this.focused?f.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):f.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=e.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",
a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(e){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre=
"^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=a.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=
!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){f.hide(this.domNode);this.inherited(arguments)}});return h})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main ../_mw/utils/deprecation".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n){n.deprecated({deprecated:{module:"dijit/form/TextBox"},
replacement:{module:"mw-form/TextField"},geckNumber:1352405});g=g("dijit.form.TextBox",[h,d],{templateString:l,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:k("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>k("ie")&&this.defer(function(){try{var a=e.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=c.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(f(this._phspan,"mousedown",function(a){a.preventDefault()}),f(this._phspan,"touchend, pointerup, MSPointerUp",b.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){a.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(b){a.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
b)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),k("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>k("ie")&&(g.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},m._setSelectionRange=d._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});return g})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(g,c,e,a){return g("dijit.form._FormValueWidget",[e,a],{_layoutHackIE7:function(){if(7==c("ie"))for(var a=this.domNode,e=a.parentNode,g=a.firstChild||a,h=g.style.filter,d=this;e&&0==e.clientHeight;)(function(){var a=
d.connect(e,"onscroll",function(){d.disconnect(a);g.style.filter=(new Date).getMilliseconds();d.defer(function(){g.style.filter=h})})})(),e=e.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(g,c,e,a,b,f){return g("dijit.form._FormValueMixin",f,{readOnly:!1,_setReadOnlyAttr:function(a){c.set(this.focusNode,"readOnly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);
void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(g,c,e,a,b,f,k,h){var d=c("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):"",0!=this.compare(d,this.filter(this.parse(c,this.constraints)))&&(c=null)));
if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},_onInput:function(a){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||a);delete this._lastInputProducingEvent;this.intermediateChanges&&this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);this.own(k(this.textbox,"keydown, keypress, paste, cut, compositionend",f.hitch(this,function(c){var d;if("keydown"==c.type&&229!=c.keyCode){d=c.keyCode;switch(d){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!c.ctrlKey&&!c.metaKey&&!c.altKey){switch(d){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==b.SPACE)return;d=!1;for(var e in b)if(b[e]===c.keyCode){d=!0;break}if(!d)return}}(d=32<=c.charCode?String.fromCharCode(c.charCode):c.charCode)||(d=65<=c.keyCode&&90>=c.keyCode||48<=c.keyCode&&57>=c.keyCode||c.keyCode==b.SPACE?String.fromCharCode(c.keyCode):c.keyCode);d||(d=229);if("keypress"==c.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(c.ctrlKey||c.metaKey||c.altKey)return}var g={faux:!0},h;for(h in c)/^(layer[XY]|returnValue|keyLocation)$/.test(h)||
(e=c[h],"function"!=typeof e&&"undefined"!=typeof e&&(g[h]=e));f.mixin(g,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){g._wasConsumed=!0;c.preventDefault()},stopPropagation:function(){c.stopPropagation()}});this._lastInputProducingEvent=g;!1===this.onInput(g)&&(g.preventDefault(),g.stopPropagation());if(!g._wasConsumed&&9>=a("ie"))switch(c.keyCode){case b.TAB:case b.ESCAPE:case b.DOWN_ARROW:case b.UP_ARROW:case b.LEFT_ARROW:case b.RIGHT_ARROW:break;default:if(c.keyCode==b.ENTER&&"textarea"!=
this.textbox.tagName.toLowerCase())break;this.defer(function(){this.textbox.value!==this._lastInputEventValue&&k.emit(this.textbox,"input",{bubbles:!0})})}})),k(this.textbox,"input",f.hitch(this,"_onInput")),k(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=f.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,
function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=k.once(this.domNode,"mouseup, touchend",f.hitch(this,function(a){this._isTextSelected()||
d.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});d._setSelectionRange=h._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};d.selectInputText=h.selectInputText=function(a,b,c){a=e.byId(a);isNaN(b)&&(b=0);isNaN(c)&&
(c=a.value?a.value.length:0);try{a.focus(),d._setSelectionRange(a,b,c)}catch(f){}};return d})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){function x(){}var v=c("dijit._MasterTooltip",[s,
p],{duration:n.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new r(this.domNode);this.fadeIn=e.fadeIn({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onShow")});this.fadeOut=e.fadeOut({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onHide")})},show:function(a,b,c,d,e,f,g){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=
arguments;else{this.containerNode.innerHTML=a;e&&this.set("textDir",e);this.containerNode.align=d?"right":"left";var m=q.around(this.domNode,b,c&&c.length?c:w.defaultPosition,!d,h.hitch(this,"orient")),l=m.aroundNodePos;"M"==m.corner.charAt(0)&&"M"==m.aroundCorner.charAt(0)?(this.connectorNode.style.top=l.y+(l.h-this.connectorNode.offsetHeight>>1)-m.y+"px",this.connectorNode.style.left=""):"M"==m.corner.charAt(1)&&"M"==m.aroundCorner.charAt(1)?this.connectorNode.style.left=l.x+(l.w-this.connectorNode.offsetWidth>>
1)-m.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");k.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=f||x;this.onMouseLeave=g||x}},orient:function(a,b,c,d,e){this.connectorNode.style.top="";var g=d.h;d=d.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var h=f.position(this.domNode);if(m("ie")||m("trident"))h.w+=2;var k=Math.min(Math.max(d,1),h.w);f.setMarginBox(this.domNode,{w:k});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=f.position(a),b=this.connectorNode.offsetHeight,a.h>g?(this.connectorNode.style.top=g-(e.h+b>>1)+"px",this.connectorNode.style.bottom=""):
(this.connectorNode.style.bottom=Math.min(Math.max(e.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,h.w-d)},_onShow:function(){m("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=x},_onHide:function(){this.domNode.style.cssText=
"";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});u.showTooltip=function(a,b,c,d,e,f,h){c&&(c=g.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));w._masterTT||(u._masterTT=w._masterTT=new v);return w._masterTT.show(a,b,c,d,e,f,h)};u.hideTooltip=function(a){return w._masterTT&&w._masterTT.hide(a)};var w=c("dijit.Tooltip",s,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){g.forEach(this._connections||
[],function(a){g.forEach(a,function(a){a.remove()})},this);this._connectIds=g.filter(h.isArrayLike(b)?b:b?[b]:[],function(b){return a.byId(b,this.ownerDocument)},this);this._connections=g.map(this._connectIds,function(b){b=a.byId(b,this.ownerDocument);var c=this.selector,e=c?function(a){return l.selector(c,a)}:function(a){return a},f=this;return[l(b,e(d.enter),function(){f._onHover(this)}),l(b,e("focusin"),function(){f._onHover(this)}),l(b,e(d.leave),h.hitch(f,"_onUnHover")),l(b,e("focusout"),h.hitch(f,
"set","state","DORMANT"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==g.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=g.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;g.forEach(h.isArrayLike(a)?
a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(w.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=
this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}w.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,h.hitch(this,"set","state","SHOWING"),h.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",
a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");g.forEach(this._connections||[],function(a){g.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});w._MasterTooltip=v;w.show=u.showTooltip;w.hide=u.hideTooltip;w.defaultPosition=["after-centered","before-centered"];return w})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(g,c,e,a,b,f){var k=function(a){a=a||{};var b=e.getLocalization("dojo.cldr","number",e.normalizeLocale(a.locale)),c=a.pattern?a.pattern:b[(a.type||"decimal")+"Format"];a="number"==typeof a.places?
a.places:"string"===typeof a.places&&0<a.places.length?a.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:b.decimal,places:a}},h=g("dijit.form.NumberTextBoxMixin",null,{pattern:function(a){return"("+(this.focused&&this.editOptions?this._regExpGenerator(c.delegate(a,this.editOptions))+"|":"")+this._regExpGenerator(a)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:b.format,_regExpGenerator:b.regexp,_decimalInfo:k(),postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},_setConstraintsAttr:function(a){var b="number"==typeof a.places?a.places:0;b&&b++;"number"!=typeof a.max&&(a.max=9*Math.pow(10,15-b));"number"!=typeof a.min&&(a.min=-9*Math.pow(10,15-b));this.inherited(arguments,[a]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=k(a)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var a=this.get("value");"number"==typeof a&&!isNaN(a)&&(a=this.format(a,this.constraints),
void 0!==a&&(this.textbox.value=a));this.inherited(arguments)}},format:function(a,b){var e=String(a);if("number"!=typeof a)return e;if(isNaN(a))return"";if(!("rangeCheck"in this&&this.rangeCheck(a,b))&&!1!==b.exponent&&/\de[-+]?\d/i.test(e))return e;this.editOptions&&this.focused&&(b=c.mixin({},b,this.editOptions));return this._formatter(a,b)},_parser:b.parse,parse:function(a,b){var e=c.mixin({},b,this.editOptions&&this.focused?this.editOptions:{});if(this.focused&&null!=e.places){var f=e.places,
f="number"===typeof f?f:Number(f.split(",").pop());e.places="0,"+f}e=this._parser(a,e);this.editOptions&&(this.focused&&isNaN(e))&&(e=this._parser(a,b));return e},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(a){if(null==a||"string"==typeof a&&""==a)return NaN;"number"==typeof a&&(!isNaN(a)&&0!=a)&&(a=b.round(a,this._decimalInfo.places));return this.inherited(arguments,[a])},serialize:function(a,b){return"number"!=typeof a||
isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var a=c.hitch(c.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(a,!0)},_setValueAttr:function(a,b,c){if(void 0!==a&&void 0===c)if(c=String(a),"number"==typeof a)if(isNaN(a))c="";else{if("rangeCheck"in this&&this.rangeCheck(a,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else a?a=void 0:(c="",a=NaN);this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var a=this.inherited(arguments);
if(isNaN(a)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+b._realNumberRegexp(c.delegate(this.constraints))+"$").test(this.textbox.value))return a=Number(this.textbox.value),isNaN(a)?void 0:a}else return a},isValid:function(a){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&this.rangeCheck(b,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?
!0:this.inherited(arguments):!1},_isValidSubset:function(){var b="number"==typeof this.constraints.min,c="number"==typeof this.constraints.max,e=this.get("value");if(isNaN(e)||!b&&!c)return this.inherited(arguments);var f=e|0,g=0>e,h=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),k=(this.maxLength||20)-this.textbox.value.length,r=h?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",f=h?f+"."+r:f+"",k=a.rep("9",k),h=e;g?h=Number(f+k):e=Number(f+k);return!(b&&e<this.constraints.min||
c&&h>this.constraints.max)}});g=g("dijit.form.NumberTextBox",[f,h],{baseClass:"dijitTextBox dijitNumberTextBox"});g.Mixin=h;return g})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(g,c,e,a,b){var f={};g.setObject("dojo.number",f);f.format=function(a,b){b=g.mixin({},b||{});var e=c.normalizeLocale(b.locale),e=c.getLocalization("dojo.cldr","number",e);b.customs=e;e=b.pattern||e[(b.type||"decimal")+"Format"];return isNaN(a)||Infinity==
Math.abs(a)?null:f._applyPattern(a,e,b)};f._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;f._applyPattern=function(a,b,c){c=c||{};var e=c.customs.group,g=c.customs.decimal;b=b.split(";");var k=b[0];b=b[0>a?1:0]||"-"+k;if(-1!=b.indexOf("%"))a*=100;else if(-1!=b.indexOf("\u2030"))a*=1E3;else if(-1!=b.indexOf("\u00a4"))e=c.customs.currencyGroup||e,g=c.customs.currencyDecimal||g,b=b.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,b,d,e){a=c[["symbol","currency","displayName"][d.length-1]]||c.currency||
"";return!a?"":b+a+e});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var s=f._numberPatternRE,k=k.match(s);if(!k)throw Error("unable to find a number expression in pattern: "+b);!1===c.fractional&&(c.places=0);return b.replace(s,f._formatAbsolute(a,k[0],{decimal:g,group:e,places:c.places,round:c.round}))};f.round=function(a,b,c){c=10/(c||10);return(c*+a).toFixed(b)/c};if(0==(0.9).toFixed()){var k=f.round;f.round=function(a,b,c){var e=Math.pow(10,-b||0),f=Math.abs(a);
if(!a||f>=e)e=0;else if(f/=e,0.5>f||0.95<=f)e=0;return k(a,b,c)+(0<a?e:-e)}}f._formatAbsolute=function(b,c,e){e=e||{};!0===e.places&&(e.places=0);Infinity===e.places&&(e.places=6);c=c.split(".");var g="string"==typeof e.places&&e.places.indexOf(","),k=e.places;g?k=e.places.substring(g+1):0<=k||(k=(c[1]||[]).length);0>e.round||(b=f.round(b,k,e.round));b=String(Math.abs(b)).split(".");var q=b[1]||"";c[1]||e.places?(g&&(e.places=e.places.substring(0,g)),g=void 0!==e.places?e.places:c[1]&&c[1].lastIndexOf("0")+
1,g>q.length&&(b[1]=a.pad(q,g,"0",!0)),k<q.length&&(b[1]=q.substr(0,k))):b[1]&&b.pop();k=c[0].replace(",","");g=k.indexOf("0");-1!=g&&(g=k.length-g,g>b[0].length&&(b[0]=a.pad(b[0],g)),-1==k.indexOf("#")&&(b[0]=b[0].substr(b[0].length-g)));var k=c[0].lastIndexOf(","),s,p;-1!=k&&(s=c[0].length-k-1,c=c[0].substr(0,k),k=c.lastIndexOf(","),-1!=k&&(p=c.length-k-1));c=[];for(k=b[0];k;)g=k.length-s,c.push(0<g?k.substr(g):k),k=0<g?k.slice(0,g):"",p&&(s=p,delete p);b[0]=c.reverse().join(e.group||",");return b.join(e.decimal||
".")};f.regexp=function(a){return f._parseInfo(a).regexp};f._parseInfo=function(a){a=a||{};var d=c.normalizeLocale(a.locale),d=c.getLocalization("dojo.cldr","number",d),e=a.pattern||d[(a.type||"decimal")+"Format"],g=d.group,k=d.decimal,q=1;if(-1!=e.indexOf("%"))q/=100;else if(-1!=e.indexOf("\u2030"))q/=1E3;else{var s=-1!=e.indexOf("\u00a4");s&&(g=d.currencyGroup||g,k=d.currencyDecimal||k)}d=e.split(";");1==d.length&&d.push("-"+d[0]);d=b.buildGroupRE(d,function(c){c="(?:"+b.escapeString(c,".")+")";
return c.replace(f._numberPatternRE,function(b){var c={signed:!1,separator:a.strict?g:[g,""],fractional:a.fractional,decimal:k,exponent:!1};b=b.split(".");var d=a.places;1==b.length&&1!=q&&(b[1]="###");1==b.length||0===d?c.fractional=!1:(void 0===d&&(d=a.pattern?b[1].lastIndexOf("0")+1:Infinity),d&&void 0==a.fractional&&(c.fractional=!0),!a.places&&d<b[1].length&&(d+=","+b[1].length),c.places=d);b=b[0].split(",");1<b.length&&(c.groupSize=b.pop().length,1<b.length&&(c.groupSize2=b.pop().length));return"("+
f._realNumberRegexp(c)+")"})},!0);s&&(d=d.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(c,d,e,f){c=b.escapeString(a[["symbol","currency","displayName"][e.length-1]]||a.currency||"");if(!c)return"";d=d?"[\\s\\xa0]":"";f=f?"[\\s\\xa0]":"";return!a.strict?(d&&(d+="*"),f&&(f+="*"),"(?:"+d+c+f+")?"):d+c+f}));return{regexp:d.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:g,decimal:k,factor:q}};f.parse=function(a,b){var c=f._parseInfo(b),e=RegExp("^"+c.regexp+"$").exec(a);if(!e)return NaN;var g=e[1];if(!e[1]){if(!e[2])return NaN;
g=e[2];c.factor*=-1}g=g.replace(RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return g*c.factor};f._realNumberRegexp=function(a){a=a||{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");if(!("fractional"in a)||/^0/.test(a.places))a.fractional=[!0,!1];"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var c=f._integerRegexp(a),e=b.buildGroupRE(a.fractional,function(b){var c="";b&&0!==a.places&&(c="\\"+a.decimal,c=Infinity==a.places?
"(?:"+c+"\\d+)?":c+("\\d{"+a.places+"}"));return c},!0),g=b.buildGroupRE(a.exponent,function(b){return b?"([eE]"+f._integerRegexp({signed:a.eSigned})+")":""}),c=c+e;e&&(c="(?:(?:"+c+")|(?:"+e+"))");return c+g};f._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var c=b.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),e=b.buildGroupRE(a.separator,function(c){if(!c)return"(?:\\d+)";c=b.escapeString(c);" "==c?
c="\\s":"\u00a0"==c&&(c="\\s\\xa0");var d=a.groupSize,e=a.groupSize2;return e?(c="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+c+"]\\d{"+e+"})*["+c+"]\\d{"+d+"})",0<d-e?"(?:"+c+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":c):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+c+"]\\d{"+d+"})*)"},!0);return c+e};return f})},"mw-colorpicker/ToggleButtonGroup":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ToggleButton".split(" "),function(g,c,e,
a,b,f,k){return g([a,b,f],{onChange:function(){},value:1,buttonText:["Option1","Option2"],baseClass:"mwToggleButtonGroup",postMixInProperties:function(){this.inherited(arguments);var a="";this.buttonText.forEach(function(b,c,f){var g="";0===c?g="firstToggle":c===f.length-1&&(g="lastToggle");a+=e.substitute('\x3ctd\x3e\x3cbutton class\x3d"${className}" data-dojo-type\x3d"dijit/form/ToggleButton" data-dojo-attach-point\x3d"${attachPoint}" data-test-id\x3d"${dataTestId}"\x3e${buttonText}\x3c/button\x3e\x3c/td\x3e',
{className:g,attachPoint:"button"+(c+1),buttonText:b,dataTestId:"toggleGroup_button"+(c+1)})});this.templateString='\x3ctable class\x3d"${baseClass}"\x3e\x3ctr class\x3d"${baseClass}Buttons"\x3e'+a+"\x3c/tr\x3e\x3c/table\x3e"},buildRendering:function(){this.inherited(arguments);this.buttonWidgets=[];this.buttonText.forEach(c.hitch(this,function(a,b,e){a=this["button"+(b+1)];this.buttonWidgets.push(a);a.set("onChange",c.hitch(this,this._handleToggleChange,b+1))}))},postCreate:function(){this.inherited(arguments)},
_setValueAttr:function(a,b){this.buttonWidgets.forEach(function(a){a.set("checked",!1,!1)});this.buttonWidgets[a-1].set("checked",!0,!1);if(this.get("value")!==a&&(this._set("value",a),b||void 0===b))this.onChange(this.get("value"))},_handleToggleChange:function(a){this.set("value",a)},_setButtonTextAttr:function(a){a.forEach(c.hitch(this,function(a,b){this.buttonWidgets[b].set("label",a)}))}})})},"MW/toolstrip/form/GridPickerButton":function(){define("dijit/focus dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dojo/keys MW/GridPicker MW/toolstrip/form/DropDownButton mw-menu/Menu mw-dom-utils/domUtils".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return c([h,b],{baseClass:"mwWidget mwDropDownButton mwGridPickerButton",visualFamily:"toolstrip",maxRows:5,maxColumns:5,occupancy:0,fillOrder:"rowMajor",constructor:function(a){a=a||{};this.maxRows=a.maxRows?a.maxRows:this.maxRows;this.maxColumns=a.maxColumns?a.maxColumns:this.maxColumns;this.occupancy=a.occupancy?a.occupancy:this.occupancy;this.fillOrder=a.fillOrder?a.fillOrder:this.fillOrder;this._gridPicker=new k({maxRows:this.maxRows,maxColumns:this.maxColumns,occupancy:this.occupancy,
fillOrder:this.fillOrder});this._gridPickerMenu=new d;this.selection={};this.own(this._gridPicker);this.own(this._gridPickerMenu)},buildRendering:function(){this.inherited(arguments);this._gridPickerMenu.addChild(this._gridPicker);this.set("menu",this._gridPickerMenu)},_setSelectionAttr:function(a){0!==Object.keys(a).length&&this._gridPicker.getLastSelectedRowCount()!==a.row&&this._gridPicker.getLastSelectedColumnCount()!==a.column&&this._gridPicker.highlightCells(a.row-1,a.column-1);this._set("selection",
a)},_setMaxRowsAttr:function(a){if(this._created)throw Error("Max Rows can only be set at construction time");this._set("maxRows",a)},_setMaxColumnsAttr:function(a){if(this._created)throw Error("Max Columns can only be set at construction time");this._set("maxColumns",a)},_setOccupancyAttr:function(a){this._gridPicker.set("occupancy",a);this._set("occupancy",a)},_setFillOrderAttr:function(a){this._gridPicker.set("fillOrder",a);this._set("fillOrder",a)},postCreate:function(){this.inherited(arguments);
this._gridPicker.on(k.SELECTION_CHANGED,this._handleGridSelection.bind(this));this.menu.on("keydown",this._handleMenuKeyDown.bind(this));this.menu.on("open",this._handleMenuCloseOnFocusOut.bind(this))},_handleGridSelection:function(a){var b={};b.row=a.rows;b.column=a.columns;this.set("selection",b);this.closeMenu()},_handleMenuCloseOnFocusOut:function(){var a=g.watch("curNode",e.hitch(this,function(b,c,d){if(null===d||!l.findParentNode(d,"mwMenu"))a.unwatch(),this.closeMenu()}));this.own(a)},_handleMenuKeyDown:function(a){a.keyCode===
f.TAB&&a.stopPropagation();this._gridPicker.navigate(a)}})})},"MW/toolstrip/qab/QABPushButton":function(){define(["dojo/_base/declare","../form/PushButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(g,c,e,a){return g([c,e,a],{})})},"MW/toolstrip/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare","MW/toolstrip/mixins/property/TextMixin","mw-mixins/property/DescriptionMixin","mw-mixins/property/ShortcutMixin"],function(g,c,e,a){g=g(null,
{showText:!0,_setShowTextAttr:function(a){if("boolean"!==typeof a)throw Error("'showText' property expects a boolean!");this._set("showText",a);this._updateTooltip(a)},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setDescriptionAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_setShortcutAttr:function(){this.inherited(arguments);this._updateTooltip(this.get("showText"))},_updateTooltip:function(a){var c=this.get("text");
c&&(c=c.replace(/\n/g," "));a=a?this.get("description"):c;this.get("shortcut")&&(a=a?a+" ("+this._getPlatformizedShortcut(this.get("shortcut"))+")":this._getPlatformizedShortcut(this.get("shortcut")));this.domNode.setAttribute("title",a);this._updateTextInDOM(this.get("text"))},_getTextForDOM:function(){return this.get("showText")?this.inherited(arguments):""}});g._dependencies=[{mixin:c,orderDependent:!0},{mixin:e,orderDependent:!0},{mixin:a,orderDependent:!0}];return g})},"MW/toolstrip/qab/QABDropDownButton":function(){define(["dojo/_base/declare",
"../form/DropDownButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(g,c,e,a){return g([c,e,a],{})})},"MW/toolstrip/qab/QABSplitButton":function(){define(["dojo/_base/declare","../form/SplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(g,c,e,a){return g([c,e,a],{})})},"MW/toolstrip/qab/QABToggleButton":function(){define(["dojo/_base/declare","../form/ToggleButton","../mixins/property/QuickAccessIconMixin",
"../mixins/property/ShowTextMixin"],function(g,c,e,a){return g([c,e,a],{})})},"MW/toolstrip/qab/QABToggleSplitButton":function(){define(["dojo/_base/declare","../form/ToggleSplitButton","../mixins/property/QuickAccessIconMixin","../mixins/property/ShowTextMixin"],function(g,c,e,a){return g([c,e,a],{})})},"MW/toolstrip/form/ToggleSplitButton":function(){define("dojo/_base/declare mw-form/ToggleSplitButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/SizeMixin MW/toolstrip/form/mixins/property/DropDownButtonSizeMixin MW/toolstrip/form/mixins/property/DropDownButtonTextMixin MW/toolstrip/mixins/property/OrientationMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/MenuMixin mw-mixins/ResizeMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u){return g(u.validate([c,e,a,f,k,h,d,l,m,b,n,q,t,s,p,r]),{visualFamily:"toolstrip",minWidth:38,resize:function(){this.inherited(arguments);if("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1<navigator.appVersion.indexOf("Edge"))this._updateTextNodeWidth(),this.own(this.watch("text",this._updateTextNodeWidth))},_updateTextNodeWidth:function(){this.textNode&&(!this.textNode.classList.contains("mwEmptyNode")&&this.domNode.classList.contains("mwHorizontalOrientation"))&&
setTimeout(function(){this.textNode&&(this.textNode.style.width="",this.textNode.style.width=Math.ceil(parseFloat(window.getComputedStyle(this.textNode,null).width))+"px")}.bind(this),0)}})})},"mw-form/ToggleSplitButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/ArrowModeMixin mw-mixins/property/SizeMixin mw-mixins/property/TabIndexNodesMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-form/mixins/property/DropDownButtonIconAlignmentMixin mw-form/mixins/property/DropDownButtonArrowModeMixin mw-form/mixins/property/DropDownButtonTextMixin mw-form/mixins/property/DropDownButtonSizeMixin mw-form/mixins/property/DropDownNeverDisabledMixin mw-form/mixins/SplitButtonToggleSplitButtonMenuMixin mw-form/mixins/SplitButtonToggleSplitButtonFocusMixin mw-mixins/mixinDependencyValidator dojo/text!mw-form/templates/DropDownButton.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P,K,U){return g(K.validate([c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C,P]),{baseClass:"mwWidget mwToggleSplitButton",templateString:U,cssStateNodes:{buttonNode:"mwButtonNode",dropDownNode:"mwDropDownNode"},postCreate:function(){this.set("checkableNode",this.buttonNode);this.inherited(arguments)}})})},"MW/toolstrip/widgets/qabcontrols/QABFloatingPaneDock":function(){define("dojo/_base/declare dojo/topic dijit/registry MW/toolstrip/constants/TypeConstants MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash MW/toolstrip/menu/PopupList MW/toolstrip/menu/ListItem MW/toolstrip/qab/QABDropDownButton".split(" "),
function(g,c,e,a,b,f,k,h){return g([h],{postCreate:function(){this.text=this[b[a.QAB_FLOATING_PANE_DOCK].text];this.inherited(arguments);c.publish("/floatingPaneDockUpdate",{newWidget:this});e.byId("dockDropDownMenu")?this._popupList=e.byId("dockDropDownMenu"):this._popupList=new f({id:"dockDropDownMenu"});this.set("menuId","dockDropDownMenu")},addItem:function(a){var b=new k({guiId:a.id,text:a.title});a.watch("title",function(){b.set("text",a.title)});b.on("click",function(){a.show();a.bringToTop()});
this._popupList.addChild(b);this._toggleSelectDisplayAndReset()},_findMenuItemForGuiId:function(a){var b=null;this._popupList.getChildren().some(function(c){b=c;return c.guiId===a});return b},removeItem:function(a){a=this._findMenuItemForGuiId(a.id);this._popupList.removeChild(a);a.destroyRecursive();this._destroyed||this._toggleSelectDisplayAndReset()},startup:function(){this.inherited(arguments);this._toggleSelectDisplayAndReset()},_toggleSelectDisplayAndReset:function(){0<this._popupList.getChildren().length?
this.set("disabled",!1):this.set("disabled",!0)},_positionDock:function(){}})})},"MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","../constants/TypeConstants","MW/toolstrip/hashes/listOfNewWidgets"],function(g,c,e){var a={},b,f,k,h;f={enabled:"disabled"};b=g.mixin({text:"label"},f);k=g.mixin({text:"label",showText:"showLabel",shortcut:"accelKey"},f);h=g.mixin({popupId:"menuId",hasDynamicPopup:"hasDynamicMenu"},f);a[c.PUSH_BUTTON]=-1===e.indexOf(c.PUSH_BUTTON)?
b:f;a[c.TOGGLE_BUTTON]=g.mixin({selected:"checked"},-1===e.indexOf(c.TOGGLE_BUTTON)?b:f,-1===e.indexOf(c.TOGGLE_BUTTON)?{}:{buttonGroupName:"buttonGroup"});a[c.TOGGLE_SPLIT_BUTTON]=g.mixin({selected:"checked"},-1===e.indexOf(c.TOGGLE_SPLIT_BUTTON)?f:h,-1===e.indexOf(c.TOGGLE_SPLIT_BUTTON)?{}:{buttonGroupName:"buttonGroup"},-1===e.indexOf(c.TOGGLE_SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});a[c.DROP_DOWN_BUTTON]=-1===e.indexOf(c.DROP_DOWN_BUTTON)?b:h;a[c.SPLIT_BUTTON]=g.mixin(-1===
e.indexOf(c.SPLIT_BUTTON)?b:h,-1===e.indexOf(c.SPLIT_BUTTON)?{}:{dropDownAlwaysEnabled:"dropDownNeverDisabled"});a[c.COLOR_PICKER_BUTTON]=f;a[c.GRID_PICKER_BUTTON]=f;a[c.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=b;a[c.LIST_ITEM]=-1===e.indexOf(c.LIST_ITEM)?k:f;a[c.LIST_ITEM_WITH_CHECKBOX]=g.mixin({selected:"checked"},-1===e.indexOf(c.LIST_ITEM_WITH_CHECKBOX)?k:f,-1===e.indexOf(c.LIST_ITEM_WITH_CHECKBOX)?{}:{closePopupOnClick:"closeMenuOnClick"});a[c.LIST_ITEM_WITH_RADIO_BUTTON]=g.mixin({selected:"checked"},
-1===e.indexOf(c.LIST_ITEM_WITH_RADIO_BUTTON)?k:f,-1===e.indexOf(c.LIST_ITEM_WITH_RADIO_BUTTON)?{}:{closePopupOnClick:"closeMenuOnClick",buttonGroupName:"buttonGroup"});a[c.LIST_ITEM_WITH_TEXTFIELD]=g.mixin(-1===e.indexOf(c.LIST_ITEM_WITH_TEXTFIELD)?{editable:"readOnly"}:{placeholderText:"placeholder"},{text:"value"},f);a[c.LIST_ITEM_WITH_POPUP]=-1===e.indexOf(c.LIST_ITEM_WITH_POPUP)?k:h;a[c.POPUP_LIST_HEADER]=g.mixin({title:-1===e.indexOf(c.POPUP_LIST_HEADER)?"label":"text"});a[c.SPINNER]=g.mixin({minorStepSize:-1===
e.indexOf(c.SPINNER)?"smallDelta":"step",majorStepSize:-1===e.indexOf(c.SPINNER)?"largeDelta":"step"},-1===e.indexOf(c.SPINNER)?{editable:"readOnly"}:{},f);a[c.TEXT_FIELD]=g.mixin({text:"value"},-1===e.indexOf(c.TEXT_FIELD)?{placeholderText:"placeHolder_asdfasdf",editable:"readOnly"}:{placeholderText:"placeholder"},f);a[c.TEXT_AREA]=g.mixin({text:"value"},-1===e.indexOf(c.TEXT_AREA)?{editable:"readOnly"}:{},f);a[c.RADIO_BUTTON]=g.mixin(-1===e.indexOf(c.RADIO_BUTTON)?{text:"label"}:{buttonGroupName:"buttonGroup"},
{selected:"checked"},f);a[c.LABEL]=g.mixin({},f);a[c.CHECK_BOX]=g.mixin(-1===e.indexOf(c.CHECK_BOX)?{text:"label"}:{},{selected:"checked"},f);a[c.COMBO_BOX]=g.mixin(-1===e.indexOf(c.COMBO_BOX)?{editable:"readOnly"}:{selectedItem:"value",placeholderText:"placeholder"},f);a[c.LIST]=g.mixin(-1===e.indexOf(c.LIST)?{}:{selectedItems:"value"},f);a[c.HORIZONTAL_SLIDER]=f;a[c.GALLERY]=f;a[c.GALLERY_ITEM]=f;a[c.TOGGLE_GALLERY_ITEM]=g.mixin({selected:"checked",buttonGroupName:"buttonGroup"},f);a[c.QAB_PUSH_BUTTON]=
a[c.PUSH_BUTTON];a[c.QAB_DROP_DOWN_BUTTON]=a[c.DROP_DOWN_BUTTON];a[c.QAB_FLOATING_PANE_DOCK]=b;a[c.QAB_SPLIT_BUTTON]=a[c.SPLIT_BUTTON];a[c.QAB_TOGGLE_BUTTON]=a[c.TOGGLE_BUTTON];a[c.QAB_TOGGLE_SPLIT_BUTTON]=a[c.TOGGLE_SPLIT_BUTTON];Object.keys(a).forEach(function(b){Object.keys(a[b]).forEach(function(c){a[b][a[b][c]]=c})});return a})},"MW/toolstrip/menu/PopupList":function(){define(["dojo/_base/declare","mw-menu/Menu","../mixins/property/TypeMixin","../mixins/ScrollbarMixin","mw-mixins/mixinDependencyValidator"],
function(g,c,e,a,b){return g(b.validate([c,e,a]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","temporary")}})})},"MW/toolstrip/menu/ListItem":function(){define("dojo/_base/declare mw-menu/MenuItem MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin MW/toolstrip/mixins/property/QuickAccessIconMixin MW/toolstrip/mixins/property/RemovableMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return g(l.validate([c,e,a,b,f,k,h,d]),{visualFamily:"toolstrip",_setRemovableAttr:function(a){this.inherited(arguments);if(a){this.domNode.classList.add("removableTrue");this._removeNode=document.createElement("div");this._removeNode.classList.add("mwRemoveNode");var b=document.createElement("div");b.classList.add("clear_all");this._removeNode.appendChild(b);this.domNode.appendChild(this._removeNode);this._handleKeyupForRemove=function(a){46===a.keyCode&&(this._emitRemoveEvent(),
a.stopPropagation())}.bind(this);this.domNode.addEventListener("keyup",this._handleKeyupForRemove);this._removeNode.addEventListener("click",this._handleRemoveNodeClick.bind(this));this._removeNode.addEventListener("mouseup",this._handleRemoveNodeMouseup)}else this._removeNode&&(this.domNode.classList.remove("removableTrue"),this.domNode.removeChild(this._removeNode),this._removeNode=null,this.domNode.removeEventListener("keyup",this._handleKeyupForRemove));this._set("removable",a)},_handleRemoveNodeClick:function(a){this._emitRemoveEvent();
a.stopPropagation()},_handleRemoveNodeMouseup:function(a){a.stopPropagation()}})})},"MW/toolstrip/mixins/property/UseQuickAccessIconMixin":function(){define(["dojo/_base/declare","mw-mixins/property/IconMixin"],function(g,c){var e=g(null,{useQuickAccessIcon:!1,postCreate:function(){this.inherited(arguments);this.set("useQuickAccessIcon",this.get("useQuickAccessIcon"))},_setUseQuickAccessIconAttr:function(a){if("boolean"!==typeof a)throw Error("'useQuickAccessIcon' property expects a boolean!");this._set("useQuickAccessIcon",
a);a?this.set("iconProp","quickAccessIcon"):this.set("iconProp","icon")}});e._dependencies=[{mixin:c,orderDependent:!1}];return e})},"MW/toolstrip/menu/ListItemWithPopup":function(){define("dojo/_base/declare mw-menu/PopupMenuItem MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextOverrideMixin MW/toolstrip/mixins/property/MenuIdMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/UseQuickAccessIconMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d){return g(d.validate([c,e,a,b,f,k,h]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/ListItemWithCheckBox":function(){define("dojo/_base/declare mw-menu/CheckBoxMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin mw-mixins/mixinDependencyValidator".split(" "),function(g,c,e,a,b,f){return g(f.validate([c,e,a,b]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.checkBox.set("visualFamily",
"toolstrip")}})})},"MW/toolstrip/menu/ListItemWithTextField":function(){define("dojo/_base/declare dojo/_base/lang mw-menu/TextFieldMenuItem ../mixins/property/TextOverrideMixin ../mixins/property/TypeMixin mw-mixins/mixinDependencyValidator".split(" "),function(g,c,e,a,b,f){return g(f.validate([e,a,b]),{visualFamily:"toolstrip",constructor:function(){this.textField._triggerTypingEvent=function(a){this.emit("typing",{mwEventData:{text:a}})}},_setLabelAttr:function(a){this.set("text",a);this._set("label",
a)},getLabelAttr:function(){this.get("text")},postCreate:function(){this.inherited(arguments);this.textField.set("visualFamily","toolstrip");this.watch("text",c.hitch(this,"_updateLabel"))},_updateLabel:function(a,b,c){this.set("label",c)},_onFocus:function(){this.inherited(arguments);this.emit("focusgained",{mwEventData:{text:this.textField.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.textField.inputNode.value}})}})})},"mw-menu/TextFieldMenuItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-dom-utils/domUtils mw-form/TextField mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-mixins/property/ValidationMixin dojo/text!./templates/TextFieldMenuItem.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F){return g(A.validate([f,k,h,d,l,r,t,x,u,v,q,s,p,w,y,B,D,z]),{baseClass:"mwWidget mwSharedMenuItem mwTextFieldMenuItem",templateString:F,closeOnEnter:!0,editable:!0,placeholder:"",constructor:function(){this.textField=new n({value:""});this.own(this.textField)},_setPlaceholderAttr:function(a){this.textField.set("placeholder",a);this._set("placeholder",a)},_getPlaceholderAttr:function(a){return this.textField.get("placeholder")},_setValueAttr:function(a){this.textField.set("value",
a);this._set("value",a)},_setEditableAttr:function(a){this.textField.set("editable",a);this._set("editable",a)},_getValueAttr:function(){return this.textField.get("value")},_getEditableAttr:function(){return this.textField.get("editable")},buildRendering:function(){this.inherited(arguments);this.textField.placeAt(this.shortcutKeyNode,"before");this.inputNode=this.textField.inputNode},postCreate:function(){this.inherited(arguments);this.textField.on("change",c.hitch(this,function(a){this.get("value")!==
a.mwEventData.newValue&&this.set("value",a.mwEventData.newValue)}));this.own(e(this.textField.focusNode,"change",c.hitch(this,"_onChange")),e(this.textField.focusNode,"keydown",c.hitch(this,"_onKeyDown")),e(this.domNode,"focus",c.hitch(this,"_focusGained")));this.domNode.classList.add("mwEditableMixin");this._setEditableAttr(this.get("editable"));this._setPlaceholderAttr(this.get("placeholder"));this.domNode.setAttribute("data-composite-primary","");this.domNode.setAttribute("spellcheck","false");
(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-child","");(this.textField.focusNode||this.textField.domNode).setAttribute("data-composite-primary-id",this.get("id"));this.textField.domNode.setAttribute("data-composite-child","");this.textField.domNode.setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.textField.startup()},_getDomNodeForValidationClasses:function(){return this.textField.domNode},_focusGained:function(a){this.focus&&
m.isFocusable(this.focusNode||this.domNode)&&this.focus()},focus:function(){var a=this.focusNode||this.domNode;a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));m.isFocusable(a)&&b.focus(this.getFocusNode())},getFocusNode:function(){return this.textField.focusNode},_onKeyDown:function(b){if(b.keyCode===a.TAB)b.preventDefault(),b.stopPropagation(),this.emit("synkeydown",{keyCode:a.TAB});else if(b.keyCode===a.ESCAPE)this.textField.inputNode.value=
this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),b.preventDefault(),b.stopPropagation(),this._requestClose(!1);else if(b.keyCode===a.ENTER){b=this.get("value");var c=this.textField.inputNode.value;b===c?this.emit("recommit",{mwEventData:{propertyName:"value",value:c}}):(this.emit("commit",{mwEventData:{propertyName:"value",value:c}}),this.set("value",c),this.textField._triggerChangeEvent("value",b,c));this.closeOnEnter&&!0===this.closeOnEnter&&this._requestClose(!1)}else(b.keyCode===
a.HOME||b.keyCode===a.END)&&b.stopPropagation()},_handleInputNodeClick:function(){!1!==this.textField.get("editable")&&this.textField.inputNode.select()},_emitClickEvent:function(a){this.emit("click",{mwEventData:{value:this.get("value")},_dojo_click:!0});a.target!==this.inputNode&&this.emit("itempushed")},_qeTypeOverWithEnter:function(a){this.textField._qeTypeOverWithEnter(a)},_qeTyping:function(a){this.textField._qeTyping(a)}})})},"MW/toolstrip/menu/ListItemWithRadioButton":function(){define("dojo/_base/declare mw-menu/RadioButtonMenuItem ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/TextOverrideMixin ../mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k){return g(k.validate([c,e,a,b,f]),{visualFamily:"toolstrip",postCreate:function(){this.inherited(arguments);this.radioButton.set("visualFamily","toolstrip")}})})},"MW/toolstrip/menu/PopupListSeparator":function(){define(["dojo/_base/declare","mw-menu/MenuSeparator","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(g,c,e,a){return g(a.validate([c,e]),{visualFamily:"toolstrip"})})},"MW/toolstrip/menu/PopupListHeader":function(){define(["dojo/_base/declare",
"mw-menu/MenuHeader","../mixins/property/TypeMixin","mw-mixins/mixinDependencyValidator"],function(g,c,e,a){return g(a.validate([c,e]),{visualFamily:"toolstrip"})})},"mw-menu/MenuHeader":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/PreventFocusMixin mw-mixins/PreventSelectionMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuHeader.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m){return g(l.validate([c,e,a,b,f,k,h,d]),{baseClass:"mwWidget mwMenuHeader",templateString:m})})},"MW/toolstrip/form/ComboBox":function(){define("dojo/_base/declare dojo/keys mw-form/ComboBox dijit/registry ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n){return g([e,b,f,k,h,d,l,m,n],{visualFamily:"toolstrip",height:22,mnemonicKeyNavDirection:"none",_setEditableAttr:function(a){this.inherited(arguments);!1===a?this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.arrowNode.setAttribute("data-focus","refuse"))},postCreate:function(){this._textField.set("visualFamily","toolstrip");this.menu.set("visualFamily","toolstrip");this.inherited(arguments);!1===this.get("editable")?
this.domNode.setAttribute("data-focus","refuse"):(this.domNode.setAttribute("data-focus","accept"),this.get("menu").domNode.setAttribute("data-focus","refuse"));this.get("menu").domNode.setAttribute("data-focus","temporary")},_handleTextFieldKeyDown:function(a){a.keyCode===c.ESCAPE&&(this.emit("textcancelled",{mwEventData:{text:this.inputNode.value}}),this.emit("restorefocustolastnonrefuseelement"));if(a.keyCode===c.ENTER){if(this.get("value")===this.inputNode.value){var b=this._getSelectedItemFromValue(this.get("value"));
b&&b.label===this.inputNode.value&&void 0!==b.value?this.emit("recommit",{mwEventData:{value:b.value}}):this.emit("recommit",{mwEventData:{text:this.get("value")}})}this.emit("restorefocustolastnonrefuseelement")}this.inherited(arguments)},_handleMenuClick:function(a){var b=this._getSelectedItemFromLabel(a.target.textContent);this.get("value")===b.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}});this.inherited(arguments)},_initMenuItems:function(a){this.inherited(arguments);this._started&&
a.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},resize:function(){var a=this.get("width"),b=2;"100%"===a&&(a=this.domNode.getBoundingClientRect().width-b,b=0);this._textField.domNode.style.width="calc("+a+"px - 22px - 2px - 1px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+b+"px)"},startup:function(){this.inherited(arguments);this.items.forEach(function(a){!0===a.selected&&this.set("value",a.value)},this)},_openComboBoxMenu:function(){this.inherited(arguments);this.emit("dropdownclick",
{})},closeMenu:function(){this.inherited(arguments);this.emit("restorefocustolastnonrefuseelement")},_setItemsAttr:function(){this.inherited(arguments);this.menu.getChildren().forEach(function(a){a.classList.remove("mwDefaultVisualFamily");a.classList.add("mwToolstripVisualFamily")})},_setFooterIdAttr:function(b){var c=a.byId(b);c&&(this._createFooterNode(),c.placeAt(this.footerNode),c.startup());this._set("footerId",b)},_createFooterNode:function(){if(this.footerNode){var b=a.byId(this.get("footerId"));
b&&b.destroyRecursive()}else this.footerNode=document.createElement("div"),this.get("menu").domNode.appendChild(this.footerNode)}})})},"mw-form/ComboBox":function(){define("dojo/_base/declare dojo/on dojo/_base/lang dojo/keys dijit/popup dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin dijit/focus dojo/mouse mw-mixins/AccessibilityClickMixin mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-mixins/property/VisualFamilyMixin mw-mixins/ResizeMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-form/TextField dijit/_Container mw-mixins/KeyNavMixin mw-dom-utils/domUtils mw-mixins/mixinDependencyValidator dojo/text!./templates/ComboBox.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z,F,E,C){var P=g([f,l,h,A,z,v],{baseClass:"mwWidget mwComboBoxPopup",templateString:'\x3cdiv tabindex\x3d"0"\x3e\x3cdiv data-dojo-attach-point\x3d"menuItemsNode"\x3e\x3c/div\x3e\x3c/div\x3e',getChildren:function(){return Array.prototype.slice.call(this.menuItemsNode.childNodes)}});return g(E.validate([f,k,h,d,l,q,s,p,r,t,u,x,v,w,y,B]),{baseClass:"mwWidget mwComboBox",templateString:C,editable:!1,text:"",height:22,width:150,maxHeight:500,ORIENTATION_VALUES:{below:["below",
"below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]},constructor:function(a){a=a||{};this._textField=new D({editable:!1,disabled:!0});this.own(this._textField);this.own(c(this._textField,"typing",e.hitch(this,"_handleTextFieldTyping")),c(this._textField,"keydown",e.hitch(this,"_handleTextFieldKeyDown")));this.menu=new P({});this.own(this.get("menu"));this._isTextEmpty=!0;this._pendingValue=null;if(a&&!1===this.get("editable")&&a.value&&!a.items)throw Error("Value cannot be set on a non-editable combo box without having items");
},postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"mousedown",e.hitch(this,"focus")),c(this._textField.inputNode,"blur",e.hitch(this,"_handleTextFieldBlur"),!0),c(this.domNode,"blur",e.hitch(this,"_handleDomNodeBlur"),!0),c(this.domNode,"keydown",e.hitch(this,"_handleDomNodeKeyDown")),c(this.get("menu").menuItemsNode,"click",e.hitch(this,"_handleMenuClick")),c(this.get("menu").menuItemsNode,"keydown",e.hitch(this,"_handleMenuKeyDown")));this._menuNodeMouseDownHandler||(this._menuNodeMouseDownHandler=
e.hitch(this,"_handleArrowNodeMouseDown"),this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("disabled")&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null);this.menu.domNode.addEventListener("blur",e.hitch(this,"_handleMenuBlur"),!0);(void 0===this.get("items")||0===this.get("items").length)&&this.set("items",[]);this.set("menuOrientation","vertical")},startup:function(){this.inherited(arguments);
this.menu.startup();this._textField.startup();this._isResized||this.resize()},destroy:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.textFieldContainerNode);this.inputNode=this._textField.inputNode;this.focusNode=this.domNode},_isDescendant:function(a,b){if(a===b)return!0;for(var c=b.parentNode;null!=c;){if(c===a)return!0;c=c.parentNode}return!1},_handleArrowNodeMouseDown:function(a){!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():
this.closeMenu()},closeMenu:function(){!0===!this._destroyed&&this.domNode.classList.remove("mwHasMenuOpened");b.close(this.menu);this._comboBoxMenuOpened=!1;this.menu&&(this.menu.domNode&&this.menu.domNode.parentNode)&&(this.menu.domNode.parentNode.style.overflowX="visible",this.menu.domNode.parentNode.style.overflowY="visible")},_closeMenuOnBlur:function(a){setTimeout(e.hitch(this,function(){if(!this._isDescendant(this.domNode,document.activeElement)&&!this._isDescendant(this.menu.domNode,document.activeElement)){this.closeMenu();
var a=this._getSelectedItemFromLabel(this.inputNode.value);a||(a={label:"",value:""});!0===this.get("editable")&&""!==this.inputNode.value&&this.inputNode.value!==a.label&&this.inputNode.value!==this.get("value")?a&&void 0!==a.index?this.set("value",a.value):this.set("value",this.inputNode.value):""===this.inputNode.value&&(""!==this.get("value")&&!0===this.get("editable"))&&this.set("value","")}},0))},_handleMenuBlur:function(a){this._closeMenuOnBlur(a)},_handleMenuItemMouseEnter:function(a){F.isFocusable(a.target)&&
m.focus(a.target)},_handleTextFieldBlur:function(a){!0===this.get("editable")&&this._closeMenuOnBlur(a)},_handleDomNodeBlur:function(a){!1===this.get("editable")&&this._closeMenuOnBlur(a)},_handleUpAndDownArrow:function(b){var c=this.get("menu").getChildren(),d=void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;if(b.keyCode===a.DOWN_ARROW){for(d=d&&void 0!==d.index?(d.index+1)%c.length:0;d<c.length;d++)if(this._isKeyboardNav(c[d])){m.focus(c[d]);break}this._comboBoxMenuOpened||
this._openComboBoxMenu();b.preventDefault()}else if(b.keyCode===a.UP_ARROW){for(d=d&&void 0!==d.index?(d.index-1)%c.length:c.length-1;0<=d;d--)if(this._isKeyboardNav(c[d])){m.focus(c[d]);break}this._comboBoxMenuOpened||this._openComboBoxMenu();b.preventDefault()}},_handleDomNodeKeyDown:function(b){if(!1===this.get("editable")&&!0===!this.get("disabled")&&(this._handleUpAndDownArrow(b),b.keyCode===a.SPACE||b.keyCode===a.ENTER))!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():this.closeMenu(),
b.stopPropagation(),b.preventDefault();b.keyCode===a.ESCAPE&&(!0===this._comboBoxMenuOpened&&(b.stopPropagation(),b.preventDefault()),this.closeMenu())},_setDisabledAttr:function(a){this.inherited(arguments);!0===a?(this._menuNodeMouseDownHandler&&(this.menuNode.removeEventListener("mousedown",this._menuNodeMouseDownHandler,!0),this._menuNodeMouseDownHandler=null),this.closeMenu()):this.menuNode&&null===this._menuNodeMouseDownHandler&&(this._menuNodeMouseDownHandler=e.hitch(this,"_handleArrowNodeMouseDown"),
this.menuNode.addEventListener("mousedown",this._menuNodeMouseDownHandler,!0));!0===this.get("editable")&&this._textField.set("disabled",a)},_handleTextFieldKeyDown:function(b){!0===this.get("editable")&&this._handleUpAndDownArrow(b);!0===this.get("editable")&&b.keyCode===a.ENTER&&(b=this.inputNode.value,this._isTextEmpty=!0,(b=this._getSelectedItemFromLabel(b))&&void 0!==b.index?this.set("value",b.value):this.set("value",this.inputNode.value),this.closeMenu())},_openComboBoxMenu:function(a){var c=
void 0!==this._get("value")?this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==c&&0<this.get("menu").getChildren().length&&(this.get("menu").getChildren()[c.index].classList.add("mwComboBoxSelectedMenuItem"),this.get("menu").getChildren()[c.index].focus());(!a||!a.typing)&&this.get("menu").getChildren().forEach(function(a,b){"none"===a.style.display&&(a.style.display="")});b.open({parent:this,popup:this.menu,around:this.domNode,orient:this.menuOrientation});this.domNode.classList.add("mwHasMenuOpened");
this._comboBoxMenuOpened=!0;this.menu.domNode.parentElement.classList.contains("mwComboBoxPopupParent")||this.menu.domNode.parentElement.classList.add("mwComboBoxPopupParent")},_handleTextFieldTyping:function(a){var b=a.mwEventData.currentContent,c=RegExp(this._escapeRegExp(b),"i");this.get("menu").getChildren().forEach(e.hitch(this,function(a,d){if(this._isSeparator(a))a.style.display="none";else{var e=a.textContent;if(0===e.toLowerCase().indexOf(b.toLowerCase())){if(""!==b||c.test(e))a.style.display=
""}else a.style.display="none"}}));var d=0;this.get("menu").getChildren().forEach(e.hitch(this,function(a){this._isSeparator(a)&&0<d?(a.style.display="block",d=0):!this._isSeparator(a)&&"none"!==a.style.display&&d++}));this._comboBoxMenuOpened||this._openComboBoxMenu({typing:!0})},_handleMenuKeyDown:function(b){b.keyCode===a.BACKSPACE&&(b.preventDefault(),m.focus(this._textField.focusNode));(b.keyCode===a.ENTER||b.keyCode===a.SPACE)&&!this.get("disabled")&&c.emit(b.target,"click",{bubbles:!0,cancelable:!0,
mwEventData:{keyCode:b.keyCode},_dojo_click:!0});(b.keyCode===a.LEFT_ARROW||b.keyCode===a.RIGHT_ARROW)&&this.editable&&m.focus(this._textField.focusNode);b.keyCode===a.ESCAPE&&(this.closeMenu(),m.focus(this.focusNode),b.stopPropagation(),b.preventDefault())},_handleMenuClick:function(a){this._isSeparator(a.target)?a.preventDefault():(a=this._getSelectedItemFromLabel(a.target.textContent).value,this.set("value",a),this.closeMenu())},_removeSelectedMenuItemColor:function(){var a=void 0!==this._get("value")?
this._getSelectedItemFromValue(this._get("value")):void 0;void 0!==a&&0<this.get("menu").getChildren().length&&this.get("menu").getChildren()[a.index].classList.remove("mwComboBoxSelectedMenuItem")},_onMouseDown:function(){this.inherited(arguments);m.focus(this.get("menu").focusNode)},_getParentPopup:function(a){for(;a;){if(a.classList&&a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=this.get("width"),b=2;"auto"===a&&(a=this.domNode.getBoundingClientRect().width,
b=0);this._textField.domNode.style.width="calc("+a+"px - 22px)";this.menu.domNode.style.minWidth="calc("+a+"px - "+b+"px)"},focus:function(){if(!this.disabled&&this.focusNode.focus)try{setTimeout(e.hitch(this,function(){m.focus(this.focusNode)}),0)}catch(a){}},_setMaxHeightAttr:function(a){if("number"!==typeof a)throw Error("'MaxHeight' property expects a Number!");this.menu.domNode.style.maxHeight=a+"px";this._set("maxHeight",a)},_setValueAttr:function(a){var b=this._getSelectedItemFromValue(a);
if(("number"===typeof a?a.toString():a)&&b&&void 0!==b.index)this._textField.set("value",b.label),this._isTextEmpty=!0,this._removeSelectedMenuItemColor(),0<this.get("menu").getChildren().length&&void 0!==b.index&&this.get("menu").getChildren()[b.index].classList.add("mwComboBoxSelectedMenuItem");else if(("number"===typeof a?a.toString():a)&&!b)if(this.get("editable"))this._removeSelectedMenuItemColor(),this._textField.set("value",a),this._isTextEmpty=!1;else{if(!this.get("items")||0===this.get("items").length){this._pendingValue=
a;return}throw Error("Value must match an existing item for non-editable combo box");}else""===a&&(this._textField.set("value",""),void 0!==this._get("value")&&(this._removeSelectedMenuItemColor(),this._isTextEmpty=!0),""!==this.get("text")&&(this._isTextEmpty=!1));!0===this._isTextEmpty?this.set("text",""):this.set("text",a);b=this.get("value");this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a)},_getValueAttr:function(){return this._get("value")},_setItemsAttr:function(a){a&&
0<a.length?(this.set("value",""),this._initMenuItems(a)):(this.set("value",""),this._destroyMenuItems());this._set("items",a);!1===this.get("editable")&&null!=this._pendingValue&&(this.set("value",this._pendingValue),this._pendingValue=null)},_initMenuItems:function(a){0<this.get("menu").getChildren().length&&this._destroyMenuItems();a.forEach(function(a,b){var c=document.createElement("div");if(a.type&&"separator"===a.type)c.setAttribute("data-refuse-key-nav",!0),c.setAttribute("data-menu-item-type",
"separator"),c.classList.add("mwMenuSeparator"),this.get("menu").menuItemsNode.appendChild(c);else{c.setAttribute("tabIndex","0");"mwDefaultVisualFamily mwTextMixin mwTextMixin mwWidget mwSharedMenuItem mwMenuItem".split(" ").forEach(function(a){c.classList.add(a)});var d=document.createElement("div");d.textContent=a.label;d.classList.add("mwTextNode");c.appendChild(d);this.get("menu").menuItemsNode.appendChild(c);c.addEventListener("mouseover",e.hitch(this,"_handleMenuItemMouseEnter"))}},this)},
_getItemsAttr:function(){return this._get("items")},_setEditableAttr:function(a){a?(this.domNode.classList.add("mwEditableComboBox"),this.domNode.classList.remove("mwNonEditable"),this.focusNode=this._textField.focusNode,this._toggleTextField(!0),this._textField.focusNode.setAttribute("tabIndex","0"),this.menuNode=this.arrowNode,this._set("editable",!0)):(this.domNode.classList.add("mwNonEditable"),this.domNode.classList.remove("mwEditableComboBox"),this.focusNode=this.domNode,this._toggleTextField(!1),
this._textField.focusNode.setAttribute("tabIndex","-1"),this.menuNode=this.domNode,this._set("editable",!1))},_setTextAttr:function(a){!1===this._isTextEmpty||(""===this.get("value")||void 0===this.get("value"))&&""!==a?(this.get("editable")&&void 0===this._getSelectedItemFromValue(a)?(this._set("text",a),this._isTextEmpty=!1):(this._isTextEmpty=!0,this._set("text","")),this._textField.set("value",a)):this._set("text","")},_getTextAttr:function(a){return this._get("text")},_toggleTextField:function(a){this._textField.set("editable",
a);this._textField.set("disabled",!a)},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===this.ORIENTATION_VALUES.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+Object.keys(this.ORIENTATION_VALUES));this._set("menuOrientation",this.ORIENTATION_VALUES[a])},_setWidthAttr:function(a){this.inherited(arguments);(void 0!==this._started||!0===this._started)&&this.resize()},_setPlaceholderAttr:function(a){this._textField.set("placeholder",a);this._set("placeholder",
a)},_getPlaceholderAttr:function(){return this._textField.get("placeholder")},_destroyMenuItems:function(){for(;this.get("menu").menuItemsNode.firstChild;)this.get("menu").menuItemsNode.firstChild.removeEventListener("mouseover",e.hitch(this,"_handleMenuItemMouseEnter")),this.get("menu").menuItemsNode.removeChild(this.get("menu").menuItemsNode.firstChild)},_escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")},_getSelectedItemFromLabel:function(a){var b={};if(this.get("items")&&
0<this.get("items").length)for(var c=0;c<this.get("items").length;c++){var d=this.get("items")[c];if(void 0!==d.label&&d.label===a){b.label=d.label;b.value=d.value;b.index=c;break}}return void 0!==b.index?b:void 0},_getSelectedItemFromValue:function(a){var b={};if(this.get("items")&&0<this.get("items").length)for(var c=0;c<this.get("items").length;c++){var d=this.get("items")[c];if(void 0!==d.value&&(d.value===a||"object"===typeof d.value&&JSON.stringify(d.value)===JSON.stringify(a))){b.label=d.label;
b.value=d.value;b.index=c;break}}return void 0!==b.index?b:void 0},_isSeparator:function(a){return a&&a.getAttribute("data-menu-item-type")&&"separator"===a.getAttribute("data-menu-item-type")},_isKeyboardNav:function(a){return"none"!==a.style.display&&!this._isSeparator(a)},_qeSelectItemByLabel:function(a){a=this._getSelectedItemFromLabel(a).value;this.set("value",a)},_qeSelectItemByIndex:function(a){a=this.get("items")[a].value;this.set("value",a)}})})},"mw-mixins/KeyNavMixin":function(){define("dojo/_base/declare dijit/registry dijit/focus dojo/_base/lang dojo/on dojo/keys".split(" "),
function(g,c,e,a,b,f){return g(null,{postCreate:function(){this.inherited(arguments);this.own(b(this,"keydown",a.hitch(this,"_handleKeyBoardNavigation")))},_handleKeyBoardNavigation:function(a){var b=e.curNode;if(a.keyCode===f.DOWN_ARROW)this._handleDownArrow(b),a.preventDefault();else if(a.keyCode===f.UP_ARROW)this._handleUpArrow(b),a.preventDefault();else if(a.keyCode===f.PAGE_UP||a.keyCode===f.HOME)this._moveToFirstChild(b),a.preventDefault();else if(a.keyCode===f.PAGE_DOWN||a.keyCode===f.END)this._moveToLastChild(b),
a.preventDefault()},_handleDownArrow:function(a){a=a.parentElement.lastChild===a?a.parentElement.firstChild:a.nextSibling;a=this._moveToNextFocusableNode(a);a.focus()},_handleUpArrow:function(a){a=a.parentElement.firstChild===a?a.parentElement.lastChild:a.previousSibling;a=this._moveToPreviousFocusableNode(a);a.focus()},_moveToNextFocusableNode:function(a){for(var b;a;)if(b=c.getEnclosingWidget(a),a.getAttribute("data-refuse-key-nav")||b&&b.get("disabled")||"none"===a.style.display)a=a.nextSibling?
a.nextSibling:this._moveToFirstChild(a);else break;return a},_moveToPreviousFocusableNode:function(a){for(var b;a;)if(b=c.getEnclosingWidget(a),a.getAttribute("data-refuse-key-nav")||b&&b.get("disabled")||"none"===a.style.display)a=a.previousSibling?a.previousSibling:this._moveToLastChild(a);else break;return a},_moveToFirstChild:function(a){for(a=a.parentElement.firstChild;a;)if(a.getAttribute("data-refuse-key-nav"))a=a.nextSibling;else break;return a},_moveToLastChild:function(a){for(a=a.parentElement.lastChild;a;)if(a.getAttribute("data-refuse-key-nav"))a=
a.previousSibling;else break;return a}})})},"MW/toolstrip/mixins/AcceptFocusMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("data-focus","accept")}})})},"MW/toolstrip/mixins/ColumnWidthMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_allowedValues:["auto","100%"],_validateSizeInput:function(c){"100%"!==c&&this.inherited(arguments)},_setSize:function(c,e){this._validateSizeInput(e);
this._set(c,e);if(this._started){"100%"===e&&this.getParent()&&(e=this.getParent().get("width"));var a="",a=0<=this._allowedValues.indexOf(e)?e:this._getAdjustedSize(c,e,this.domNode);this.domNode.style[c]=a}}})})},"MW/toolstrip/form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dojo/on mw-form/ListBox ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/AcceptFocusMixin ../mixins/ScrollbarMixin ../widgets/_ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g(r.validate([b,f,k,h,d,l,m,n,q,s,p]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"horizontal",_setItemsAttr:function(a){this.inherited(arguments);this._started&&this._handleSelection(a)},_handleSelection:function(a){var b=[];a.forEach(function(a){!0===a.selected&&b.push(a.value)},this);0<b.length&&("single"===this.get("selectionMode")?this.set("value",[b[b.length-1]]):this.set("value",b))},postCreate:function(b){this.inherited(arguments);
this.own(a(this.containerNode,"keydown",c.hitch(this,"_handleKeyDownEvent")))},startup:function(){this.inherited(arguments);this._handleSelection(this.get("items"))},_handleKeyDownEvent:function(a){this.inherited(arguments);a.keyCode===e.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):a.keyCode===e.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))}})})},"mw-form/ListBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/query dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/Destroyable dijit/Tooltip mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/DescriptionMixin mw-mixins/property/SizeMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator mw-html-utils/HtmlUtils dojo/text!./templates/ListBox.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y){l=g(l,{constructor:function(a){this.widget=a;this.own(b(a.containerNode,"mousedown",c.hitch(this,"_handleMouseDown")),b(a.containerNode,"keydown",c.hitch(this,"_handleKeyDown")))},_handleMouseDown:function(a){if(a.target.classList.contains("mwListItem")){var b=Number(a.target.getAttribute("data-mw-index")),c=this.widget._selectedIndices.indexOf(b);a=this._getNewSelectedIndexOnMouseDown(a,b,c);this._setSelectedItems(a)}},_handleKeyDown:function(a){a=
this._getNewSelectedIndexOnKeyDown(a);-1!==a&&(this._setSelectedItems(a),this.widget.scrollToIndex(a[0]))},_setSelectedItems:function(a){if(-1!==a){var b=[],c=this.widget.get("value");a.forEach(function(a){b.push(this.widget._indexValueMap[a])},this);this.widget.set("value",b);this.widget._triggerChangeEvent("value",c,b)}},_getNewSelectedIndexOnKeyDown:function(a){if(0===this.widget.items.length)return-1;var b=this.widget._selectedIndices[0],c=this.widget._getIndexes(),d=Math.min.apply(null,c),c=
Math.max.apply(null,c),e=[];switch(a.keyCode){case f.UP_ARROW:e=b===d||void 0===b&&this._anchorIndex===d?[d]:void 0===b&&void 0===this._anchorIndex?[c]:void 0===b&&void 0!==this._anchorIndex?[this._anchorIndex-1]:[b-1];a.stopPropagation();a.preventDefault();break;case f.DOWN_ARROW:e=b===c||void 0===b&&this._anchorIndex===c?[c]:void 0===b&&void 0===this._anchorIndex?[d]:void 0===b&&void 0!==this._anchorIndex?[this._anchorIndex+1]:[b+1];a.stopPropagation();a.preventDefault();break;default:e=-1}return e}});
var B=g(l,{_getNewSelectedIndexOnMouseDown:function(a,b,c){var d=[b];0<=c&&(d=a.ctrlKey||a.metaKey?[]:-1);this._anchorIndex=b;return d}}),D=g(l,{constructor:function(){this._anchorIndex=this.widget._selectedIndices[0]||1},_getNewSelectedIndexOnMouseDown:function(a,b,c){var d=[b],e;if(0<=c)a.shiftKey?d=this._getRangeOfIndices(b):(a.ctrlKey||a.metaKey?(d=this.widget._selectedIndices.slice(0),d.splice(c,1)):1===this.widget._selectedIndices.length&&(d=-1),e=!1);else if(a.shiftKey)d=this._getRangeOfIndices(b);
else if(e=!1,a.ctrlKey||a.metaKey)d=this.widget._selectedIndices.slice(0),d.push(b);!1===e&&(this._anchorIndex=b);return d},_getRangeOfIndices:function(a){var b,c=[],d=this._anchorIndex;if(a<=d)for(b=a;b<=d;b+=1)c.push(b);else for(b=d;b<=a;b+=1)c.push(b);return c}});return g(v.validate([k,h,d,n,q,s,p,r,t,u,x]),{templateString:y,baseClass:"mwWidget mwListBox",selectionMode:"single",constructor:function(){this._indexValueMap={};this._valueIndexMap={};this.items=[];this.value=[];this._selectedIndices=
[]},scrollToValue:function(a){this.scrollToIndex(this._valueIndexMap[a])},scrollToIndex:function(a){var b=this._getItemNodes().filter(function(b){return Number(b.getAttribute("data-mw-index"))===a},this)[0];if(b){var c=this.domNode;b.offsetTop+b.offsetHeight>c.offsetHeight+c.scrollTop?this.domNode.scrollTop=b.offsetTop+b.offsetHeight-this.domNode.offsetHeight:b.offsetTop<c.scrollTop&&(this.domNode.scrollTop=b.offsetTop)}},postCreate:function(){this.inherited(arguments);this.set("items",this.get("items"));
this.set("value",this.get("value"));this.own(b(this.containerNode,"mouseover",c.hitch(this,function(a){var b=this._getEscapedToolTipString(a);b&&0<b.length&&m.show(b,a.srcElement)})),b(this.containerNode,"mouseout",function(a){m.hide(a.srcElement)}));this._selectionStrategy=new this._selectionStrategyModule(this)},_getEscapedToolTipString:function(a){var b="";a=a.srcElement.getAttribute("data-mw-tooltiptext");null!==a&&(b=w.escapeHtml(a));return b},startup:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},
_setSelectionModeAttr:function(a){if(0===a.toLowerCase().indexOf("single"))this._selectionStrategyModule=B;else if(0===a.toLowerCase().indexOf("multiple"))this._selectionStrategyModule=D;else throw Error("Selection Mode should be one of: single, multiple");this._created&&(this._selectionStrategy.destroy(),this._selectionStrategy=new this._selectionStrategyModule(this));this._set("selectionMode",a)},_setItemsAttr:function(a){this._validateItemsArray(a);var b=this._getItemsListAndInitInternalDs(a);
this._updateDom(b);this._created&&this.set("value",[]);this._set("items",a);this._updateTooltipForClippedItems()},_setWidthAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_setHeightAttr:function(){this.inherited(arguments);this._updateTooltipForClippedItems()},_validateItemsArray:function(a){if(Array.isArray(a))a.forEach(function(a){if(void 0===a.label||void 0===a.value)throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');
});else throw Error('The "items" must be an array of objects, where each object should consist of a label and a value property. Like: [ {label: "Item 1", value: 1}, {label: "Item 2", value: 2}, {label: "Item 3", value: 3}, {label: "Item 4", value: 4} ]');},_setValueAttr:function(a){this._validateValueArray(a);this._set("value",a);var b=[];a.forEach(function(a){b.push(this._valueIndexMap[a])},this);this._setSelectedIndex(b)},_validateValueArray:function(a){if(Array.isArray(a)){if("single"===this.get("selectionMode")&&
1<a.length)throw Error("'value' property must be a single element array in single selection mode.");a.forEach(function(a){if(!this.items.some(function(b){return b.value===a}))throw Error("'value' must be a subset of the items' values.");},this)}else throw Error("'value' property expects an array.");},_setSelectedIndex:function(a){var b=this._getItemNodes();b.forEach(function(a){a.classList.remove("mwListItemSelected")});this._selectedIndices=a;0!==a.length&&b.forEach(function(b){var c=Number(b.getAttribute("data-mw-index"));
a.forEach(function(a){a===c&&b.classList.add("mwListItemSelected")})})},_getItemsListAndInitInternalDs:function(a){var b=[],c=a.length,d;this._indexValueMap={};this._valueIndexMap={};if(0<c)for(d=0;d<c;d+=1){var e=d+1;b[d]={index:e,label:a[d].label,value:a[d].value};this._indexValueMap[e]=a[d].value;this._valueIndexMap[a[d].value]=e}else b=[];return b},_updateDom:function(a){e.empty(this.containerNode);0<a.length&&a.forEach(function(a){e.create("li",{textContent:a.label,"data-mw-index":a.index,"data-mw-tooltiptext":"",
"class":"mwListItem"},this.containerNode)},this)},_updateTooltipForClippedItems:function(){this._getItemNodes().forEach(function(a){a.offsetWidth<a.scrollWidth?a.setAttribute("data-mw-tooltiptext",a.textContent):a.setAttribute("data-mw-tooltiptext","")})},_getIndexes:function(){var a=[];this._getItemNodes().forEach(function(b){a.push(Number(b.getAttribute("data-mw-index")))});return a},_getItemNodes:function(){return a("li",this.containerNode)},_qeSelectItemsByLabel:function(a){var b=this.get("items").filter(function(b){return-1<
a.indexOf(b.label)}).map(function(a){return a.value});this.set("value",b)},_qeSelectItemsByIndex:function(a){var b=this.get("items").filter(function(b,c){return-1<a.indexOf(c)}).map(function(a){return a.value});this.set("value",b)}})})},"mw-html-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query","mw-deprecation-utils/deprecation"],function(g,c,e,a){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,
STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var a=g.global.location.search.substr(1,g.global.location.search.length);return this._parseQueryString(a)},_parseQueryString:function(a){return e.queryToObject(a)},parseUrl:function(a){var c=document.createElement("a");c.display="none";c.href=a||window.location.href;c.href=c.href;c={protocol:c.protocol,hostname:c.hostname,port:c.port,pathname:c.pathname,
search:c.search,hash:c.hash};if(("https:"===c.protocol||"http:"===c.protocol)&&0!==c.pathname.indexOf("/"))c.pathname="/"+c.pathname;"https:"===c.protocol&&("443"===c.port&&0!==a.indexOf("https://"+c.hostname+":443"))&&(c.port="");return c},escapeHtml:function(a){var c=g.global.document.createElement("div");a=g.global.document.createTextNode(a);c.appendChild(a);c=c.innerHTML;a="";for(var e=0;e<c.length;e+=1){var h=c.charCodeAt(e);a=128<h?a+"\x26#"+h+";":a+c.charAt(e)}return a},escapeLinksAndHtml:function(b,
c){a.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var e="",g=b.split(this.HYPERLINK_ESCAPE_REGEXP),d=b.match(this.HYPERLINK_ESCAPE_REGEXP),l="",m=this,n=0,q=function(a,b,c,d){a=m.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=m.escapeHtml(b);d=m._strongNotEscaped(d,!0);l='\x3ca href\x3d"'+b+'"\x3e'+d+"\x3c/a\x3e"};if(c)e=this.escapeHtml(b),e=this.escapeWhitespace(e);
else if(""!==g[0]&&(e=this._strongNotEscaped(g[0],!0)),null!==d&&0!==d.length)for(n=0;n<d.length;n+=1)d[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,q),""!==g[n+1]&&(g[n+1]=this._strongNotEscaped(g[n+1],!0)),e+=l+g[n+1];return e},treatHtmlLikeCommandWindow:function(a,c,e){if("string"!==typeof a)return"";var g="",d=a.split(this.HYPERLINK_ESCAPE_REGEXP),l=a.match(this.HYPERLINK_ESCAPE_REGEXP),m="",n=this,q=0;e=e?e:{};var s=function(a,b,c,d){a=n.parseUrl(b).protocol;var e="";"http:"!==a&&
("https:"!==a&&"matlab:"!==a)&&(b="#");b=n.escapeHtml(b);d=n._strongNotEscaped(d,!1);n.BOLD_LINK_ATTRIBUTE_REGEX.test(c)&&(e=' style\x3d"font-weight:bold"');m='\x3ca href\x3d"'+b+'"'+e+"\x3e"+d+"\x3c/a\x3e"};if(c)g=this.escapeHtml(a);else if(""!==d[0]&&(g=this._strongNotEscaped(d[0],!1)),null!==l&&0!==l.length)for(q=0;q<l.length;q+=1)l[q].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,s),""!==d[q+1]&&(d[q+1]=this._strongNotEscaped(d[q+1],!1)),g+=m+d[q+1];e.addPreTagToPreserveWhiteSpace&&(g=
'\x3cspan style\x3d"white-space: pre"\x3e'+g+"\x3c/span\x3e");return g},_strongNotEscaped:function(a,c){var e="",g=a.match(this.STRONG_ESCAPE_REGEXP),d=a.split(this.STRONG_ESCAPE_REGEXP),l=function(a){return a};c&&(l=this.escapeWhitespace);var m=0;if(null!==g&&0!==g.length){e=l(this.escapeHtml(d[0]));for(m=0;m<g.length;m+=1)e+=g[m]+l(this.escapeHtml(d[m+1]))}else e=l(this.escapeHtml(a));return e},escapeWhitespace:function(b){a.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},
replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(b||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(a,e){if(e.target.href){c.stop(e);var k=e.target.href;-1!==k.indexOf("matlab:")?"matlab:"===k.substring(0,7)&&(k=e.target.href.substring(7),a(g.global.unescape(k))):g.global.open(e.target.href)}},isElementOverflown:function(a){return a.scrollHeight>a.clientHeight||
a.scrollWidth>a.clientWidth}}})},"MW/toolstrip/mixins/property/CompactMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_setCompactAttr:function(c){var e=!0===c?42:66;this.get("height")!==e&&this.set("height",e);this._set("compact",c)}})})},"MW/toolstrip/widgets/_ValidationMixin":function(){define("dojo/_base/declare dojo/dom-class dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window ./Tooltip".split(" "),function(g,c,e,a,b,f,k,h){return g(null,{_createValidationtooltip:function(){this.validationTooltip||
(this.validationTooltip=new h({}),this.own(this.validationTooltip),b.place(this.validationTooltip.domNode,k.body()),this._addTooltipEvents())},_setErrorTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("errorText",a)},_setWarningTextAttr:function(a){this.validationTooltip&&(this.validationTooltip.textNode.textContent=a);this._set("warningText",a)},_setValidationStateAttr:function(a){var b=!1,e=!1;"error"===a.toLowerCase()?(e=!0,this._createValidationtooltip(),
this.validationTooltip.textNode.textContent=this.errorText):"warning"===a.toLowerCase()&&(b=!0,this._createValidationtooltip(),this.validationTooltip.textNode.textContent=this.warningText);this.validationTooltip&&(c.toggle(this._getDomNodeForValidationClasses(),"has-error",e),c.toggle(this.validationTooltip.domNode,"error-tooltip",e),c.toggle(this.validationTooltip.domNode,"warning-tooltip",b),this.validationTooltip.domNode.style.visibility="hidden");this._set("validationState",a)},_flipDomOrder:function(a){var c=
a.children[1];b.place(a.children[0],b.place(c,a),"after");b.place(c.children[0],b.place(c.children[1],c),"after")},_tooltipOrientation:function(){return c.contains(this.validationTooltip.domNode,"dijitTooltipLeft")?"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_getFocusWidget:function(){return this},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){var b=a.position(this.domNode),e,f,g,h,s,p,r,t=
!1;e=b.x;f=b.y;g=b.w;"error"===this.validationState?(c.add(this._getDomNodeForValidationClasses(),"has-error"),this.validationTooltip.textNode.textContent=this.errorText,c.add(this.validationTooltip.domNode,"error-tooltip")):"warning"===this.validationState&&(this.validationTooltip.textNode.textContent=this.warningText,c.add(this.validationTooltip.domNode,"warning-tooltip"));this.validationTooltip.domNode.style.visibility="visible";p=a.position(this.validationTooltip.domNode).h/2;s=a.position(this.domNode).h/
2;b=this.validationTooltip.domNode;r=a.position(k.body()).w;h=this._calculateTooltipWidth();e+g+h>r?(t=!0,e=e-h+"px",f=f+s-p+document.body.scrollTop+"px",c.contains(b.children[0],"tooltipConnector")&&this._flipDomOrder(b)):(e=e+g+"px",f=f+s-p+document.body.scrollTop+"px");c.toggle(this.validationTooltip.domNode,"tooltipLeft",t);c.toggle(this.validationTooltip.domNode,"tooltipRight",!t);this.validationTooltip.domNode.style.left=e;this.validationTooltip.domNode.style.top=f}},_calculateTooltipWidth:function(){c.add(this.validationTooltip.domNode,
"tooltipLeft");var b=a.position(this.validationTooltip.domNode).w;c.remove(this.validationTooltip.domNode,"tooltipLeft");return b},_addTooltipEvents:function(){var a=this;this.own(f(this,e.enter,function(){a._placeTooltip()}),f(this,e.leave,function(){a.validationTooltip&&(a.validationTooltip.domNode.style.visibility="hidden")}),f(this._getFocusWidget(),"focus",function(){a._placeTooltip();a.validationTooltip&&("error"===a.get("validationState")||"warning"===a.get("validationState"))&&c.add(a.validationTooltip.domNode,
"validationFocused")}),f(this._getFocusWidget(),"blur",function(){a.validationTooltip&&(c.remove(a.validationTooltip.domNode,"validationFocused"),a.validationTooltip.domNode.style.visibility="hidden")}))}})})},"MW/toolstrip/widgets/Tooltip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","./_TooltipMixin","dijit/_TemplatedMixin","dojo/text!./templates/Tooltip.html"],function(g,c,e,a,b){return g([c,a,e],{templateString:b})})},"MW/toolstrip/widgets/_TooltipMixin":function(){define(["dojo/_base/declare",
"dojo/aspect","./_DescriptionMixin","mw-event-utils/platformize"],function(g,c,e,a){return g([e],{_updateDescription:function(){this.inherited(arguments);this._updateTooltip()},_setTextAttr:function(){this.inherited(arguments);this._updateTooltip()},_setShortcutAttr:function(a){this._set("shortcut",a);this._updateTooltip()},_updateTooltip:function(){var a="",c="",e="",g="",d="";this.textOverride?a=this.textOverride.replace(/\n/g," "):this.text&&(a=this.text.replace(/\n/g," "));this.shortcut&&(c=this._getPlatformSpecificShortcutString());
this.descriptionOverride?e=this.descriptionOverride:this.description&&(e=this.description);!a&&c&&e?(a=e,e="",g=" "):a&&(c&&(g=" "),e&&(d=" - "));this.domNode.setAttribute("title",a+g+c+d+e)},_getPlatformSpecificShortcutString:function(){return"("+a.getPlatformSpecificString(this.shortcut)+")"}})})},"MW/toolstrip/widgets/_DescriptionMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_setDescriptionAttr:function(c){this._set("description",c);this._updateDescription()},_setDescriptionOverrideAttr:function(c){this._set("descriptionOverride",
c);this._updateDescription()},_updateDescription:function(){var c="";this.descriptionOverride?c=this.descriptionOverride:this.description&&(c=this.description);this.descriptionNode&&(this.descriptionNode.textContent=c)}})})},"MW/toolstrip/form/Label":function(){define("dojo/_base/declare mw-form/Label MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/IconOverrideMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d){return g(d.validate([c,e,a,b,f,k,h]),{visualFamily:"toolstrip",height:22,_setTabIndexOnNode:function(){}})})},"mw-form/Label":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/IconAlignmentMixin mw-mixins/property/IconMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/VerticalAlignmentMixin mw-mixins/IconAndTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/AccessibilityClickMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Label.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){return g(v.validate([c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x]),{baseClass:"mwWidget mwLabel",templateString:w,_paddingAndBorder:0,_setTabIndexOnNode:function(){}})})},"MW/toolstrip/widgets/EmptyControl":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/EmptyControl.html","./_WidgetMixin"],function(g,c,e,a,b){return g([c,e,b],{templateString:a})})},"MW/toolstrip/form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/on dojo/keys mw-form/TextField MW/uiframework/utils ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g(r.validate([f,h,d,l,m,n,q,s,p]),{visualFamily:"toolstrip",width:150,height:22,mnemonicKeyNavDirection:"vertical",_onKeyUp:function(a){a.keyCode===b.ESCAPE?(this.inputNode.value=this.get("value"),this.emit("textcancelled",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement")):a.keyCode===b.ENTER&&(this.get("value")===this.inputNode.value&&this.emit("recommit",{mwEventData:{text:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),
this.emit("commit",{}));this.inherited(arguments)},_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},postCreate:function(){this.inherited(arguments);this.domNode.setAttribute("spellcheck","false");this.own(a(this.inputNode,"focus",c.hitch(this,"_handleInputNodeFocus")))},_handleInputNodeFocus:function(a){!1!==this.get("editable")&&(k.detectIE()?setTimeout(c.hitch(this,function(){this.inputNode.select();return!1},0)):this.inputNode.select())},_onFocus:function(){this.inherited(arguments);
this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})}})})},"MW/uiframework/utils":function(){define([],function(){return{detectIE:function(){var g=window.navigator.userAgent,c=g.indexOf("MSIE ");if(0<c)return parseInt(g.substring(c+5,g.indexOf(".",c)),10);if(0<g.indexOf("Trident/"))return c=g.indexOf("rv:"),parseInt(g.substring(c+3,g.indexOf(".",c)),10);c=g.indexOf("Edge/");
return 0<c?parseInt(g.substring(c+5,g.indexOf(".",c)),10):!1}}})},"MW/toolstrip/form/TextArea":function(){define("dojo/_base/declare dojo/keys mw-form/TextArea ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin ../mixins/property/DescriptionOverrideMixin ../mixins/property/CompactMixin mw-mixins/property/ShortcutMixin ../mixins/ScrollbarMixin mw-mixins/property/ValidationMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){return g(s.validate([e,a,b,f,k,h,d,l,m,n,q]),{visualFamily:"toolstrip",width:150,height:66,mnemonicKeyNavDirection:"none",_triggerTypingEvent:function(a){this.emit("typing",{mwEventData:{text:a}})},_onFocus:function(){this.inherited(arguments);this.emit("focusgained",{mwEventData:{text:this.inputNode.value}})},_onBlur:function(){this.inherited(arguments);this.emit("focuslost",{mwEventData:{text:this.inputNode.value}})},_onKeyUp:function(a){a.keyCode===c.ESCAPE&&
this.emit("restorefocustolastnonrefuseelement");this.inherited(arguments)}})})},"mw-form/TextArea":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/property/EditableMixin mw-mixins/property/SizeMixin mw-mixins/property/TextInputValueMixin mw-form/mixins/SharedTextInputMixin mw-mixins/property/PlaceholderMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/TextArea.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w){return g(v.validate([c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x]),{baseClass:"mwWidget mwTextArea",templateString:w,horizontalAlignment:"left",width:150,height:66,_setDisabledAttr:function(a){this.inherited(arguments);!0===a?this.inputNode.setAttribute("disabled",""):this.inputNode.removeAttribute("disabled")}})})},"MW/toolstrip/form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys mw-form/Spinner ../mixins/property/MnemonicMixin ../mixins/property/MnemonicKeyNavDirectionMixin ../mixins/ColumnWidthMixin ../mixins/property/TypeMixin mw-mixins/property/DescriptionMixin ../mixins/property/DescriptionOverrideMixin ../mixins/AcceptFocusMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q){return g(q.validate([a,b,f,k,h,d,l,m,n]),{visualFamily:"toolstrip",width:70,mnemonicKeyNavDirection:"none",postCreate:function(){this.inherited(arguments);this._textField.set("visualFamily","toolstrip")},_setMinimumAttr:function(a){this.set("limits",{minimum:a,maximum:this.limits.maximum});this._set("minimum",a)},_setMaximumAttr:function(a){this.set("limits",{minimum:this.limits.minimum,maximum:a});this._set("maximum",a)},_setValueAttr:function(a){a<this.get("limits").minimum||
a>this.get("limits").maximum||(this._checkValueInLimits(a),this._textField.set("value",a+""),this._set("value",a))},_onKeyDown:function(a){this.inherited(arguments);a.keyCode===e.ENTER?(this.get("value")+""===this._textField.inputNode.value&&this.emit("recommit",{mwEventData:{value:this.get("value")}}),this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{})):a.keyCode===e.ESCAPE&&this.emit("restorefocustolastnonrefuseelement")},resize:function(){this.containerNode.style.width="calc(100% -  21px)";
this._textField.domNode.style.width="100%"}})})},"mw-form/Spinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/keys dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-form/TextField mw-mixins/property/TagMixin mw-mixins/property/DisabledMixin mw-mixins/property/EditableMixin mw-mixins/property/FormatMixin mw-mixins/property/SizeMixin mw-mixins/property/ValidationMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/HorizontalAlignmentMixin mw-mixins/event/ChangeEventMixin mw-mixins/event/TypingEventMixin mw-mixins/ResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Spinner.html".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){var F=Number.MAX_VALUE,E=Number.NEGATIVE_INFINITY;return g(A.validate([h,d,l,m,n,s,p,r,t,u,x,v,w,y,B,D]),{baseClass:"mwWidget mwSpinner",templateString:z,width:150,height:22,value:100,step:1,errorText:"",horizontalAlignment:"right",_preventClick:!1,includeMinimum:!0,includeMaximum:!0,constructor:function(){this._textField=new q({horizontalAlignment:"right"});this.focusNode=this._textField.focusNode;this.inputNode=this._textField.inputNode;
this.own(this._textField);this.limits={minimum:0,maximum:Number.POSITIVE_INFINITY};this.own(this._textField.watch("value",c.hitch(this,function(a,b,c){isNaN(parseFloat(c))||this._set("value",parseFloat(c))})))},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.containerNode,"first")},_setEditableAttr:function(a){if("boolean"!==typeof a)throw Error("Editable property expects a boolean");this._textField.set("editable",a);a?this.domNode.classList.remove("mwNonEditable"):
this.domNode.classList.add("mwNonEditable");this._set("editable",a)},_setDisabledAttr:function(a){this.inherited(arguments);this._textField.set("disabled",a)},_setHorizontalAlignmentAttr:function(a){this.inherited(arguments);this._textField.set("horizontalAlignment",a)},_setStepAttr:function(a){if("number"!==typeof a)throw Error("'step' property expects a Number!");this._set("step",a)},_setValueAttr:function(a){if(a<this.get("limits").minimum||a>this.get("limits").maximum)throw Error("'Value' must be numeric and fall within the range of 'Limits'.");
this._checkValueInLimits(a);this._textField.set("value",a+"");this._set("value",a)},_checkValueInLimits:function(a){if(this._rangeCheck(a)){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");if(this.get("includeMaximum"))parseFloat(a)===this.get("limits").maximum&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled");else{var b=this._calculateIncrement(this.get("limits").maximum,-0.1);parseFloat(a)===
this.get("limits").maximum+b&&this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")}this.get("includeMinimum")?parseFloat(a)===this.get("limits").minimum&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):(b=this._calculateIncrement(this.get("limits").minimum,0.1),parseFloat(a)===this.get("limits").minimum+b&&this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"))}else if(this.get("includeMaximum")&&parseFloat(a)===this.get("limits").maximum||!this.get("includeMaximum")&&
parseFloat(a)<=this.get("limits").maximum)this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");else if(this.get("includeMinimum")&&parseFloat(a)===this.get("limits").minimum||!this.get("includeMinimum")&&parseFloat(a)>=this.get("limits").minimum)this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")},_getValueAttr:function(){return parseFloat(this._textField.get("value"))},
_setWidthAttr:function(a){this.inherited(arguments);this.resize()},_setLimitsAttr:function(a){if("object"!==typeof a)throw Error("'IncludeMinimum' property expects an 'Object'!");this._validateLimits(a);this._set("limits",a);this._applyConstraintsToValue()},_validateLimits:function(a){if("number"!==typeof a.maximum||"number"!==typeof a.minimum)throw Error("'Limits' expects an Object of numbers!");if(a.minimum>a.maximum)throw Error("'Minimum' should be less than maximum");},_setIncludeMinimumAttr:function(a){if("boolean"!==
typeof a)throw Error("'IncludeMinimum' property expects a 'Boolean'!");this._set("includeMinimum",a);this._applyConstraintsToValue()},_setIncludeMaximumAttr:function(a){if("boolean"!==typeof a)throw Error("'IncludeMaximum' property expects a 'Boolean'!");this._set("includeMaximum",a);this._applyConstraintsToValue()},_applyConstraintsToValue:function(){var a=this.get("includeMaximum")?this.get("limits").maximum:this.get("limits").maximum-this.get("step"),b=this.get("includeMinimum")?this.get("limits").minimum:
this.get("limits").minimum+this.get("step");this.get("limits").maximum<this.get("value")&&this.set("value",a);this.get("limits").minimum>this.get("value")&&this.set("value",b)},_getDomNodeForValidationClasses:function(){return this.domNode},postCreate:function(){this.inherited(arguments);this.set("value",this.value);this.own(f(this.domNode,"keydown",c.hitch(this,"_onKeyDown")),f(this.incrementButtonNodeWrapper,"click",c.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));
this._handleIncrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,b)}})),f(this.decrementButtonNodeWrapper,"click",c.hitch(this,function(){if(!this._preventClick){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangeEvent("value",a,b)}})),f(this.incrementButtonNodeWrapper,"mousedown",c.hitch(this,this._onIncrementButtonMouseDown)),f(this.decrementButtonNodeWrapper,
"mousedown",c.hitch(this,this._onDecrementButtonMouseDown)),f(this.incrementButtonNodeWrapper,"mouseup, mouseout",c.hitch(this,this._onButtonMouseUp)),f(this.decrementButtonNodeWrapper,"mouseup, mouseout",c.hitch(this,this._onButtonMouseUp)),f(this._textField,"focusin",c.hitch(this._textField,function(){this.inputNode.select()})));this._textField.on("change",c.hitch(this,function(a){this._onChangeHandler(a)}));this._textField.on("typing",c.hitch(this,function(a){this._handleValidation(a.mwEventData.currentContent)}))},
_onChangeHandler:function(a){var b;a.preventDefault();a.stopPropagation();"normal"!==this.get("validationState")?this._revertToOldValue(a.mwEventData.oldValue):(b=a.mwEventData.oldValue,a=a.mwEventData.newValue,this._triggerChangeEvent("value",this._isNumeric(b)?parseFloat(b):b,this._isNumeric(a)?parseFloat(a):a),this._checkValueInLimits(a),this.set("value",this._isNumeric(a)?parseFloat(a):a))},startup:function(){this._textField.startup();this.inherited(arguments)},_getParentPopup:function(a){for(;a;){if(a.classList&&
a.classList.contains("dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var b=a.position(this.domNode).w,c=a.position(this.buttonsContainerNode).w;if(0===c){var d=this._getParentPopup(this.buttonsContainerNode);if(null!==d){d.classList.add("dijitOffScreen");var f=e.get(d,"display");d.style.display="block";c=a.position(this.buttonsContainerNode).w;d.style.display=f}}a.getPadBorderExtents(this._textField.domNode);d=a.getPadBorderExtents(this.buttonsContainerNode);d=d.l+d.r;this.containerNode.style.width=
b-c+"px";this._textField.domNode.style.width=b-c-d+"px";this.inherited(arguments)},_onIncrementButtonMouseDown:function(){this._delayStart=setTimeout(c.hitch(this,function(){this._valueChangeTimer=setInterval(c.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleIncrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,b)}),100);this._preventClick=!0}),300)},_triggerChangingEvent:function(a,b,c){this.emit("changing",
{mwEventData:{propertyName:a,oldValue:b,newValue:c}})},_onDecrementButtonMouseDown:function(){this._delayStart=setTimeout(c.hitch(this,function(){this._valueChangeTimer=setInterval(c.hitch(this,function(){var a=parseFloat(this._textField.get("value"));this._handleDecrement(this.get("step"));var b=parseFloat(this._textField.get("value"));this._triggerChangingEvent("value",a,b)}),100);this._preventClick=!0}),300)},_onButtonMouseUp:function(){clearInterval(this._valueChangeTimer);clearTimeout(this._delayStart);
this._preventClick=!1},_onKeyDown:function(a){a.keyCode===k.UP_ARROW?(a.preventDefault(),this._handleIncrement(this.get("step"))):a.keyCode===k.DOWN_ARROW?(a.preventDefault(),this._handleDecrement(this.get("step"))):a.keyCode===k.PAGE_UP?a.preventDefault():a.keyCode===k.PAGE_DOWN&&a.preventDefault()},_handleIncrement:function(a){var b;b=parseFloat(this._textField.get("value"))+a;this._rangeCheck(b)?(this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMaximum")?this.get("limits").maximum===b?this.incrementButtonNode.classList.add("mwIncrementButtonDisabled"):this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMaximum")?(this._textField.set("value",this.get("limits").maximum),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").maximum))):
(b=this._calculateIncrement(this.get("limits").maximum,-0.1),b=this.get("limits").maximum+b,this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(b))),this._disableIncrementButton(b,a))},_handleDecrement:function(a){var b;b=parseFloat(this._textField.get("value"))-a;this._rangeCheck(b)?(this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("value"))),
this.get("includeMinimum")?this.get("limits").minimum===b?this.decrementButtonNode.classList.add("mwDecrementButtonDisabled"):this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"):(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"))):(this.get("includeMinimum")?(this._textField.set("value",this.get("limits").minimum),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(this.get("limits").minimum))):
(b=this._calculateIncrement(this.get("limits").minimum,0.1),b=this.get("limits").minimum+b,this._textField.set("value",b),!this._isInt(b)&&!this._isInt(this.get("step"))&&this._textField.setValueInDom(this._formatShort(b))),this._disableDecrementButton(b,a))},_calculateIncrement:function(a,b){var c=b;if(a===F||a===E||Infinity===a)return 0;for(;!1===this._rangeCheck(a+c,this.constraints);)c/=10;return c},_disableIncrementButton:function(a,b){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");
this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a+b)?(this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled"),this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled")):this.incrementButtonNode.classList.add("mwIncrementButtonDisabled")},_disableDecrementButton:function(a,b){this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled");this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled");this._rangeCheck(a-
b)?(this.decrementButtonNode.classList.remove("mwDecrementButtonDisabled"),this.incrementButtonNode.classList.remove("mwIncrementButtonDisabled")):this.decrementButtonNode.classList.add("mwDecrementButtonDisabled")},_rangeCheck:function(a){a=parseFloat(a);var b=!1===this.get("includeMinimum")?a>this.get("limits").minimum:a>=this.get("limits").minimum;a=!1===this.get("includeMaximum")?a<this.get("limits").maximum:a<=this.get("limits").maximum;return b&&a},_setRevertTimeout:function(a){return a||2E3},
_revertToOldValue:function(d){this._hiddenDiv=b.create("div",{},this.domNode);var e=a.getBorderExtents(this.domNode);this._hiddenDiv.style.top=-e.t+"px";this._hiddenDiv.style.right=-e.r+"px";this._hiddenDiv.style.bottom=-e.b+"px";this._hiddenDiv.style.left=-e.l+"px";this._hiddenDiv.style.position="absolute";this._hiddenDiv.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation()});setTimeout(c.hitch(this,function(){!0!==this._destroyed&&(this._textField.set("value",d),this._handleDisplayFormat(),
this.set("validationState","normal"),b.destroy(this._hiddenDiv))}),this._setRevertTimeout())},_handleValidation:function(a){parseFloat(a)<=this.get("limits").minimum&&!this.get("includeMinimum")||parseFloat(a)<this.get("limits").minimum&&this.get("includeMinimum")||parseFloat(a)>this.get("limits").maximum&&this.get("includeMaximum")||parseFloat(a)>=this.get("limits").maximum&&!this.get("includeMaximum")||this._containsNonNumericCharacter(a)||isNaN(parseFloat(a))?this.set("validationState","error"):
(this.set("validationState","normal"),this.validationTooltip&&this.validationTooltip.domNode.classList.remove("mwValidationFocused"))},_containsNonNumericCharacter:function(a){return a.split("").some(function(a){return-1==="0123456789.".indexOf(a)})},_isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},_isInt:function(a){return Number(a)===a&&0===a%1},_formatShort:function(a){return a.toFixed(4)},_qeTypeOverWithEnter:function(a){var b=this.get("value");this.set("value",a);this._triggerChangeEvent("value",
b,a)}})})},"mw-mixins/property/FormatMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_FocusMixin"],function(g,c,e){g=g(null,{format:"",constructor:function(){this.displayValueFormatter=null},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwFormatMixin");this.set("format",this.get("format"))},startup:function(){this.inherited(arguments);this._handleDisplayFormat()},_setFormatAttr:function(a){if("string"!==typeof a)return Error("Format property expects a ''string");
this._set("format",a);this._handleDisplayFormat()},_handleDisplayFormat:function(){var a=this.get("format"),b=parseFloat(this._textField.get("value"));if(b||0===b)if(a.match("%*[0-9|.]d")||0<=a.indexOf("%i"))this._textField.setValueInDom(parseFloat(b).toFixed(4)+a.substr(a.indexOf("d")+1,a.length));else if(a.match("%*[0-9|.]f")){var e=parseFloat(a.replace(/(.*\.)(.*)(f.*)/,"$2"));e&&this._textField.setValueInDom(b.toFixed(e)+a.substr(a.indexOf("f")+1,a.length))}else this.displayValueFormatter&&this.displayValueFormatter(this.get("value")).then(c.hitch(this,
function(a){this._textField.setValueInDom(a)}))},_onBlur:function(){this.inherited(arguments);"normal"===this.get("validationState")&&this._handleDisplayFormat();this._formattedValueSet=!0},_onFocus:function(){this.inherited(arguments);this.get("disabled")||(!this._isInt(this.get("value"))||!this._isInt(this.get("step")))&&"normal"===this.get("validationState")&&this._textField.setValueInDom(this.get("value").toFixed(4));this._formattedValueSet=!1}});g._dependencies=[{mixin:e,orderDependent:!1}];
return g})},"MW/toolstrip/widgets/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dojo/query ./_SliderPropertyMixin ./_SliderKeyBoardEventMixin ../ToolstripUtils ./external/HorizontalSlider ./_TooltipMixin ./_WidgetMixin ./_ValidationMixin mw-mixins/property/DisabledMixin MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin ../mixins/AcceptFocusMixin MW/uiframework/FocusManager".split(" "),function(g,c,e,a,b,
f,k,h,d,l,m,n,q,s,p,r,t){return g([d,f,k,l,m,n,q,s,p,r],{width:150,mnemonicKeyNavDirection:"vertical",_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=(this.maximum-this.minimum)/this.steps,e=[];a=Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum);for(b=this.minimum;b<=this.maximum;b+=d)e.push(b);d=h.getClosestValue(e,a);a=a-d[0]>d[1]-a?d[1]:d[0];this._setValueAttr(a,c)}},_setWidthAttr:function(a){this._set("width",a);this._sliderResize()},
_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._sliderResize()},_sliderResize:function(){var a,c,d;d=this.get("width");"100%"===d?void 0===this.majorTickLabels?this.getParent()&&(c=this.getParent().get("width"),this._setWidthOnChildren(c)):0<this.majorTickLabels.length?(a=b(".vc-MajorTickLabels",this.containerNode)[0],c=a.childElementCount,d=a.children[0],a=a.children[c-1],d=h.computeWidth(d.textContent),a=h.computeWidth(a.textContent),d/=2,a/=2,c=this.getParent().get("width"),
this.domNode.style.marginLeft=d+"px",this.domNode.style.marginRight=a+"px",this.domNode.style.width=c+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%",this._set("width",c)):(c=this.getParent().get("width"),this.domNode.style.marginLeft="5px",this.domNode.style.marginRight="5px",this.domNode.style.width=c+"px",this.sliderTrackNode.style.width="100%",this.containerNode.style.width="100%"):this._setWidthOnChildren(d)},_setWidthOnChildren:function(a){this.sliderTrackNode.style.width=
a-5+"px";this.containerNode.style.width=a-5+"px";this.domNode.style.marginLeft="5px";this.domNode.style.marginRight="5px"},_getDomNodeForValidationClasses:function(){return this.sliderTrackNode},constrainTicksToScaleLimits:function(a,b,c){var d=[],e=[],f;void 0===a.length&&(a=[a]);for(f=0;f<a.length;f+=1)a[f]>=b[0]&&a[f]<=b[1]&&(d[d.length]=a[f],void 0!==c&&(e[e.length]=c[f]));return void 0!==c?{ticks:d,labels:e}:{ticks:d}},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&b(".dijitRuleLabelContainerH",
this.majorTickLabelDijit.domNode).forEach(function(a){var b=-1*(h.computeWidth(a.children[0].innerHTML)/2);a.style.marginLeft=b+"px"})},postCreate:function(){this.inherited(arguments);this.own(e(this,"mouseup",c.hitch(this,function(){this.valueChanged({value:this.value});this._mouseUp=!0})));this.own(e(this,"mouseout",c.hitch(this,function(){this._mouseUp=!1})));this.own(e(this,"mousedragreleased",c.hitch(this,function(){this._emittedValue!==this.value&&!this._mouseUp&&(this.valueChanged({value:this.value}),
this._emittedValue=this.value)})));this.own(e(this,"keydown",c.hitch(this,this._handleKeyDown)))},_handleKeyDown:function(b){this.inherited(arguments);b.keyCode===a.ESCAPE?this.emit("restorefocustolastnonrefuseelement"):b.keyCode===a.ENTER&&(this.emit("restorefocustolastnonrefuseelement"),this.emit("commit",{}))},valueChanged:function(a){}})})},"MW/toolstrip/widgets/_SliderPropertyMixin":function(){define(["dojo/_base/declare"],function(g){return g(null,{_setStepsAttr:function(c){this._set("steps",
c)},_setNumberOfTicksAttr:function(c){this._set("numberOfTicks",c);var e=this.minimum,a=[];if(1<c){for(;a.length<c-1;)a.push(e),e+=(this.maximum-this.minimum)/(this.numberOfTicks-1);a.push(this.maximum);this.set("minorTicks",a)}else 1===c?(a.push((this.maximum+this.minimum)/2),this.set("minorTicks",a)):this.set("minorTicks",[])},_setLabelsAttr:function(c){var e=this.minimum,a=[];this._set("labels",c);if(0<c.length){if(1===c.length)a.push((this.minimum+this.maximum)/2);else for(;e<=this.maximum;)a.push(e),
e+=(this.maximum-this.minimum)/(this.labels.length-1);this.set("majorTicks",a);this.set("majorTickLabels",c)}else this.set("majorTicks",[]),this.set("majorTickLabels",[])}})})},"MW/toolstrip/widgets/_SliderKeyBoardEventMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/aspect","dojo/keys","../ToolstripUtils"],function(g,c,e,a,b){return g(null,{constructor:function(){this.own(e.after(this,"postCreate",this._attachKeyBoardEvent,!0))},_attachKeyBoardEvent:function(){var e;this.own(c(this,
"keyup",function(c){if(!this.get("disabled")){var g=[],d;d=[];g=(this.maximum-this.minimum)/this.steps;for(e=this.minimum;e<=this.maximum;e+=g)d.push(e);c.keyCode===a.LEFT_ARROW||c.keyCode===a.PAGE_DOWN?(g=b.getClosestValue(d,this.get("value"))[0],c=d.indexOf(g),d=0===c?d[0]:d[c-1],this.set("value",d)):c.keyCode===a.RIGHT_ARROW||c.keyCode===a.PAGE_UP?(g=b.getClosestValue(d,this.get("value"))[1],c=d.indexOf(g),d=0===c?d[1]:c===d.length-1?d[d.length-1]:d[c+1],this.set("value",d)):c.keyCode===a.END?
(d=d[d.length-1],this.set("value",d)):c.keyCode===a.HOME&&(d=d[0],this.set("value",d))}}))}})})},"MW/toolstrip/widgets/external/HorizontalSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/query ./_AbstractSlider ./HorizontalRule ./HorizontalRuleLabels".split(" "),function(g,c,e,a,b,f,k){return g(b,{baseClass:"vc-slider vc-horizontalSlider",width:200,height:6,_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_thumbPositionParam1:"width",_thumbPositionParam2:"left",
_isScaleDirectionReverse:!1,orientation:"horizontal",getRuleLabelConstructor:function(){return k},_setWidthAttr:function(a){this.sliderTrackNode.style.width=a+"px";this.containerNode.style.width=a+"px";this._set("width",a)},getRuleConstructor:function(){return f},postCreate:function(){this.inherited(arguments);this.own(this.watch("width",c.hitch(this,"_adjustThumbPosition")),this.watch("fontSize",c.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontWeight",c.hitch(this,"_adjustLabelContainerPositioning")),
this.watch("fontFamily",c.hitch(this,"_adjustLabelContainerPositioning")),this.watch("fontStyle",c.hitch(this,"_adjustLabelContainerPositioning")))},_setMajorTickLabelsAttr:function(a){this.inherited(arguments);this._adjustLabelContainerPositioning()},_adjustLabelContainerPositioning:function(){this.majorTickLabelDijit&&a(".dijitRuleLabelContainerH",this.majorTickLabelDijit.domNode).forEach(function(a){var b=-1*(e.position(a).w/2);a.style.marginLeft=b+"px"})},_computePreferredWidth:function(){var a,
b;a=this.width+this.sliderThumbSize.w;b=this._computePreferredWidthOfMajorTickLabels();return Math.max(a,b)},_computePreferredX:function(){var a=this._adjustTrackAndContainerOffset();return this.location[0]-a},_computePreferredHeight:function(){var a=this._getDomNodeOfWidgetAtEnd();a&&(this._bottomWidgetPosition=e.position(a));return(a?this._bottomWidgetPosition.y+this._bottomWidgetPosition.h:this.sliderThumbSize.y+this.sliderThumbSize.h)-this.sliderThumbSize.y},_computePreferredY:function(){var a;
a=e.position(this.sliderTrackNode);this._bottomWidgetPosition?(a=this._bottomWidgetPosition.y-a.y-a.h+this._bottomWidgetPosition.h,this._bottomWidgetPosition=null):a=this.sliderThumbSize.h/3;return this.location[1]-a},_computePreferredWidthOfMajorTickLabels:function(){var b=0;if(this.majorTickLabelDijit)var b=a(".dijitRuleLabel",this.containerNode),c=0,c=e.position(b[0]),f=e.position(this.sliderTrackNode),c=c.x<f.x-this.sliderThumbSize.w/2?c.x:f.x-this.sliderThumbSize.w/2,b=e.position(b[b.length-
1]),b=b.x-c+b.w;return b},_adjustTrackAndContainerOffset:function(){var b=a(".dijitRuleLabel",this.containerNode),c=this.sliderThumbSize.w/2;if(0===b.length)c=this.sliderThumbSize.w/2;else{for(var f=[],g=0;g<b.length;g+=1)f[g]=e.position(b[g]).x;f=Math.min.apply(null,f);b=e.position(this.sliderTrackNode);f<b.x-this.sliderThumbSize.w/2&&(c=b.x-f)}this.sliderTrackNode.style.left=c+"px";this.containerNode.style.left=c+"px";return c}})})},"MW/toolstrip/widgets/external/_AbstractSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/_base/event dijit/focus dijit/form/_FormValueWidget dijit/_Container dojo/text!./templates/Slider.html dojo/dnd/Moveable ./_SliderThumbMover".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return g([f,k],{templateString:h,sliderTrackNode:null,sliderThumbNode:null,value:0,maximum:100,minimum:0,THUMB_WIDTH:14,preferredSize:{width:0,height:0,left:0,bottom:0},_setHeightAttr:function(a){this.sliderTrackNode.style.height=a+"px";this._set("height",a)},_setOuterWidthAttr:function(a){this.domNode.style.width=a+"px"},_setOuterHeightAttr:function(a){this.domNode.height=a+"px"},_setLocationAttr:function(a){this._set("location",a)},_setPixelValue:function(a,b,c){!this.disabled&&
!this.readOnly&&this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum),c)},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.inherited(arguments)},_setMinimumAttr:function(a){this._set("minimum",a)},_setMaximumAttr:function(a){this._set("maximum",a)},_setMajorTicksAttr:function(a){if(this.majorTickDijit&&(this.majorTickDijit.destroy(),this.majorTickDijit=null,0===a.length)){this._set("majorTicks",a);return}var b=this.constrainTicksToScaleLimits(a,
[this.get("minimum"),this.get("maximum")]),c=this.getRuleConstructor();0===b.ticks.length?this._set("majorTicks",a):(this._set("majorTicks",b.ticks.slice(0)),this.majorTickDijit=new c({"class":"vc-MajorTickMarks",ticks:this.majorTicks,minimum:this.minimum,maximum:this.maximum,count:this.majorTicks.length}),this.majorTickDijit.placeAt(this.containerNode))},_setMinorTicksAttr:function(a){if(this.minorTickDijit&&(this.minorTickDijit.destroy(),this.minorTickDijit=null,0===a.length)){this._set("minorTicks",
a);return}var b=this.constrainTicksToScaleLimits(a,[this.get("minimum"),this.get("maximum")]),c=this.getRuleConstructor();0===b.ticks.length?this._set("minorTicks",a):(this._set("minorTicks",b.ticks.slice(0)),this.minorTickDijit=new c({"class":"vc-MinorTickMarks",count:this.minorTicks.length,ticks:this.minorTicks,minimum:this.minimum,maximum:this.maximum}),this.minorTickDijit.placeAt(this.containerNode))},_setMajorTickLabelsAttr:function(a){this.majorTickLabelDijit&&(this.majorTickLabelDijit.destroy(),
this.majorTickLabelDijit=null);if(0===a.length||0===a.join("").trim().length)this._set("majorTickLabels",a);else{var b=this.constrainTicksToScaleLimits(this.get("majorTicks"),[this.get("minimum"),this.get("maximum")],a),c=this.getRuleLabelConstructor();0===b.labels.length?this._set("majorTickLabels",a):(this._set("majorTickLabels",b.labels.slice(0)),this.majorTickLabelDijit=new c({"class":"vc-MajorTickLabels",minimum:this.minimum,maximum:this.maximum,labels:this.majorTickLabels,count:this.majorTickLabels.length,
ticks:this.majorTicks}),this.majorTickLabelDijit.placeAt(this.containerNode))}},_onTrackClick:function(c){if(!this.disabled&&!(this.readOnly||c.target===this.sliderThumbNode)){b.focus(this.sliderThumbNode);a.stop(c);var d=e.position(this.sliderTrackNode),f=c[this._mousePixelCoord]-d[this._startingPixelCoord];this._isScaleDirectionReverse&&(f=d[this._pixelCount]-f);this._setPixelValue(f,d[this._pixelCount],!0);this.emit("mouseclicked");this._thumbMoveable.onMouseDown(c)}},postCreate:function(){this.inherited(arguments);
var a=g(l,{widget:this});this._thumbMoveable=new d(this.sliderThumbNode,{mover:a});this.own(this.watch("value",c.hitch(this,"_adjustThumbPosition")));this.own(this.watch("minimum",c.hitch(this,"_adjustThumbPosition")));this.own(this.watch("maximum",c.hitch(this,"_adjustThumbPosition")));this._adjustThumbPosition()},_adjustThumbPosition:function(){var a=(this.value-this.minimum)/(this.maximum-this.minimum),a=100*a-100*(this.THUMB_WIDTH/this[this._thumbPositionParam1]/2);this.sliderThumbNode.style[this._thumbPositionParam2]=
a+"%"},computePreferredSize:function(){var a,b,c,d;this.sliderThumbSize=e.position(this.sliderThumbNode);c=this._computePreferredWidth();a=this._computePreferredX();d=this._computePreferredHeight();b=this._computePreferredY();this.set("preferredSize",{width:c,height:d,left:a,bottom:b})},_getDomNodeOfWidgetAtEnd:function(){var a;this.majorTickLabelDijit?a=this.majorTickLabelDijit.domNode:this.majorTickDijit?a=this.majorTickDijit.domNode:this.minorTickDijit&&(a=this.minorTickDijit.domNode);return a}})})},
"MW/toolstrip/widgets/external/_SliderThumbMover":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dnd/Mover"],function(g,c,e){return g(e,{onMouseMove:function(a){var b=this.widget,e=b._sliderTrackDimensions;e||(e=b._sliderTrackDimensions=c.position(b.sliderTrackNode,!0));a=a[b._mousePixelCoord]-e[b._startingPixelCoord];b._isScaleDirectionReverse&&(a=e[b._pixelCount]-a);b._setPixelValue(a,e[b._pixelCount],!1);this._wasDragged=!0;b.emit("mousedragging")},onMouseUp:function(){var a=
this.widget;this._wasDragged?(a.emit("mousedragreleased"),this._wasDragged=!1):a.emit("mouseclicked");this.inherited(arguments)},destroy:function(){this.widget._sliderTrackDimensions=null;this.inherited(arguments)}})})},"MW/toolstrip/widgets/external/HorizontalRule":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(g,c,e){return g("dijit.form.HorizontalRule",[c,e],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,
container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',ticks:null,minimum:0,maximum:100,_isHorizontal:!0,isAddQeIdForTickBased:!0,_qeIdSuffix:"id\x3d",_genHTML:function(a,b){var c="";this.isAddQeIdForTickBased&&this.ticks&&(c='"'+this._qeIdSuffix+'"'+this["class"]+"_"+this.ticks[b]);return this._positionPrefix+a+this._positionSuffix+this.ruleStyle+c+this._suffix},buildRendering:function(){this.inherited(arguments);
var a="",b,c;if(this.ticks){c=this.maximum-this.minimum;for(b=0;b<this.count;b+=1)a+=this._genHTML(100*((this.ticks[b]-this.minimum)/c),b)}else{a=this._genHTML(0,0);c=100/(this.count-1);for(b=1;b<this.count-1;b+=1)a+=this._genHTML(c*b,b);a+=this._genHTML(100,this.count-1)}this.domNode.innerHTML=a}})})},"MW/toolstrip/widgets/external/HorizontalRuleLabels":function(){define(["dojo/_base/declare","dojo/number","dojo/query","./HorizontalRule"],function(g,c,e,a){return g("dijit.form.HorizontalRuleLabels",
a,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"',_suffix:"\x3c/div\x3e\x3c/div\x3e",_qeIdSuffix:"id\x3d",_calcPosition:function(a){return a},_genHTML:function(a,
c){var e=this._qeIdSuffix+'"'+this["class"]+"_"+this.labels[c]+'"\x3e';return this._positionPrefix+this._calcPosition(a)+this._positionSuffix+this.labelStyle+this._labelPrefix+e+this.labels[c]+this._suffix},getLabels:function(){var a=this.labels,f,g,h;!a.length&&this.srcNodeRef&&(a=e("\x3e li",this.srcNodeRef).map(function(a){return String(a.innerHTML)}));if(!a.length&&1<this.count){f=this.minimum;g=(this.maximum-f)/(this.count-1);for(h=0;h<this.count;h+=1)a.push(h<this.numericMargin||h>=this.count-
this.numericMargin?"":c.format(f,this.constraints)),f+=g}return a},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length}})})},"MW/toolstrip/form/RadioButton":function(){define("dojo/_base/declare mw-form/RadioButton MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin MW/toolstrip/mixins/property/ButtonGroupMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m){return g(m.validate([c,e,a,b,f,k,h,d,l]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/form/CheckBox":function(){define("dojo/_base/declare mw-form/CheckBox MW/toolstrip/mixins/property/MnemonicMixin MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/TypeMixin MW/toolstrip/mixins/property/DescriptionOverrideMixin MW/toolstrip/mixins/property/TextMixin MW/toolstrip/mixins/property/TextOverrideMixin mw-mixins/property/ShortcutMixin mw-mixins/mixinDependencyValidator".split(" "),
function(g,c,e,a,b,f,k,h,d,l){return g(l.validate([c,e,a,b,f,k,h,d]),{visualFamily:"toolstrip",height:22})})},"MW/toolstrip/widgets/ToolbarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/ToolbarWrapper.html ./_WidgetMixin".split(" "),function(g,c,e,a,b,f){return g([c,e,a,f],{templateString:b})})},"MW/toolstrip/widgets/MenubarWrapper":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/MenubarWrapper.html ./_WidgetMixin".split(" "),
function(g,c,e,a,b,f){return g([c,e,a,f],{templateString:b})})},"MW/toolstrip/widgets/gallery/GalleryItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-geometry dojo/dom-construct dojo/_base/window dojo/on dojo/mouse dojo/touch dijit/popup dijit/_WidgetBase dijit/_CssStateMixin dijit/_TemplatedMixin dojo/text!./templates/GalleryItem.html ../../constants/gallery/GalleryViewConstants ../../constants/gallery/ItemLocationConstants ../../constants/TypeConstants mw-mixins/property/IconMixin ../_TooltipMixin ../_WidgetMixin mw-mixins/event/ChangeEventMixin mw-mixins/property/DisabledMixin mw-mixins/AccessibilityClickMixin MW/toolstrip/ToolstripUtils MW/toolstrip/mixins/property/MnemonicKeyNavDirectionMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r,t,u,x,v,w,y,B,D,A,z){return g([m,n,q,u,x,v,w,y,B,A,z],{baseClass:"mwWidget mwGalleryItem",templateString:s,constructor:function(a){a=a||{};this.disabled=!!a.disabled;this._favButtonClickConnection=null;this._handleFavButtonClick=c.hitch(this,function(){this.favButtonPushed()})},postCreate:function(){var a=this;this.own(k(this.itemWrapperNode,"click",function(){a.disabled||a.itemPushed()}));this.inherited(arguments);this.attachFavButtonClickHandler()},_setIsFavoriteAttr:function(a){a?
this.domNode.classList.add("isFavorite"):this.domNode.classList.remove("isFavorite");this._set("isFavorite",a)},_setDisplayStateAttr:function(a){var b=this.getParent(),b=b&&b.getParent();if(!b||!(b.get("type")===t.GALLERY_POPUP&&b.get("displayState")!==a))this._set("displayState",a),this._updateItemDimensions(),this._updateText(),"DATA_URI"===this._getIconType(this.icon)&&this._updateIconNodeSize()},_updateItemDimensions:function(){this.displayState===p.LIST?this.domNode.style.width="auto":this._getPropertyFromAncestor("galleryItemWidth")&&
(this.domNode.style.width=this._getPropertyFromAncestor("galleryItemWidth")+"px")},attachFavButtonClickHandler:function(){this._favButtonClickConnection=k(this.favButtonNode,"click",this._handleFavButtonClick)},detachFavButtonClickHandler:function(){this._favButtonClickConnection&&(this._favButtonClickConnection.remove(),this._favButtonClickConnection=null)},_setTextAttr:function(a){this._set("text",a);this._updateText()},_setTextOverrideAttr:function(a){this._set("textOverride",a);this._updateText()},
_updateText:function(){var a;this.textOverride?a=this.textOverride:this.text&&(a=this.text);a&&(this.displayState===p.LIST&&(a=a.replace(/\n/g," "),this.shortcut&&(a=a+" "+this.shortcut)),this.labelNode.textContent=a,this._updateTooltip())},_getLocation:function(){var a=this.getParent(),b=!1;if(a)switch(a.type){case t.GALLERY_CATEGORY:b=r.CATEGORY;break;case t.GALLERY_FAVORITE_CATEGORY:b=r.FAVORITES;break;case t.GALLERY:b=r.GALLERY}return b},_getPropertyFromAncestor:function(a){var b=!1,c=this._getLocation();
if(c===r.GALLERY)b=this.getParent()[a];else if(c===r.CATEGORY||c===r.FAVORITES)this.getParent().getParent()&&(b=this.getParent().getParent()[a]);return b},itemPushed:function(){!1!==this.get("closePopupOnClick")&&l.close()},favButtonPushed:function(){},_setIconAttr:function(a){this.inherited(arguments);this.iconNode.classList.remove("dijitInline");"DATA_URI"===this._getIconType(a)&&this._updateIconNodeSize()},_updateIconNodeSize:function(){var a,c,d,f;this.icon&&1===this._getPropertyFromAncestor("galleryItemRowCount")&&
(f=this.iconNode,a=b.create("img",{src:this.icon.replace(/"/g,"").replace(/url\(|\)$/ig,"")}),c=this._getPropertyFromAncestor("galleryItemWidth"),e.after(a,"onload",function(){d=a.width>c-4?c-4:a.width;f.style.width=d+"px";f.style.height=a.height+"px"}))},_qeClick:function(){this.itemPushed()},_qeFavoriteClick:function(){this._handleFavButtonClick()}})})},"MW/toolstrip/constants/gallery/ItemLocationConstants":function(){define([],function(){return{GALLERY:"Gallery",FAVORITES:"Favorites",CATEGORY:"Category"}})},
"MW/toolstrip/widgets/gallery/ToggleGalleryItem":function(){define("dojo/_base/declare ./GalleryItem ../../constants/TypeConstants mw-mixins/event/ChangeEventMixin mw-mixins/property/CheckedMixin mw-mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/ButtonGroupMixin MW/toolstrip/mixins/property/RemovableMixin".split(" "),function(g,c,e,a,b,f,k,h){return g([c,a,b,f,k,h],{baseClass:"mwWidget mwToggleGalleryItem",postCreate:function(){this.set("checkableNode",this.itemWrapperNode);this.inherited(arguments)},
_setCheckedAttr:function(){this.inherited(arguments);if(!this._destroyed){var a=this.getParent(),b=null;a&&(a.type===e.GALLERY&&a.scrollToSelection?a.getChildren().some(function(a){return!0===a.get("checked")},this)||a.refresh():(b=a.getParent())&&b.type===e.GALLERY_POPUP&&b.scrollToSelection&&this.checked&&!b._invokingGallery.getChildren().some(function(a){return a.get("actionId")===this.get("actionId")},this)&&b.galleryStateChanged())}}})})},"MW/uiframework/hashes/ControlEventsHash":function(){define(["dojo/_base/lang",
"MW/toolstrip/hashes/ControlEventsHash"],function(g,c){var e={};g.mixin(e,c);return e})},"MW/toolstrip/hashes/ControlEventsHash":function(){define(["../constants/TypeConstants"],function(g){var c={};c[g.TOOLSTRIP]={actionEvents:[],componentEvents:["toolstripPlaced"]};c[g.TAB]={actionEvents:[],componentEvents:["remove"]};c[g.PUSH_BUTTON]={actionEvents:["buttonPushed"],componentEvents:[]};c[g.QAB]={actionEvents:[],componentEvents:["restoreFactoryControls"]};c[g.QAB_PUSH_BUTTON]=c[g.PUSH_BUTTON];c[g.TOGGLE_BUTTON]=
{actionEvents:[],componentEvents:[]};c[g.QAB_TOGGLE_BUTTON]=c[g.TOGGLE_BUTTON];c[g.DROP_DOWN_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};c[g.QAB_DROP_DOWN_BUTTON]=c[g.DROP_DOWN_BUTTON];c[g.SPLIT_BUTTON]={actionEvents:["buttonPushed"],componentEvents:["dropDownPerformed"]};c[g.COLOR_PICKER_BUTTON]={actionEvents:["valueChanged"],componentEvents:[]};c[g.QAB_SPLIT_BUTTON]=c[g.SPLIT_BUTTON];c[g.TOGGLE_SPLIT_BUTTON]={actionEvents:[],componentEvents:["dropDownPerformed"]};c[g.QAB_TOGGLE_SPLIT_BUTTON]=
c[g.TOGGLE_SPLIT_BUTTON];c[g.COMBO_BOX]={actionEvents:"dropDownPerformed focusGained focusLost typing textCancelled recommit".split(" "),componentEvents:[]};c[g.POPUP_LIST]={actionEvents:[],componentEvents:["onOpen","onClose"]};c[g.LIST_ITEM]={actionEvents:["itemPushed"],componentEvents:["remove"]};c[g.LIST_ITEM_WITH_POPUP]={actionEvents:[],componentEvents:["dropDownPerformed"]};c[g.LIST_ITEM_WITH_CHECKBOX]={actionEvents:[],componentEvents:["closeRequest"]};c[g.TEXT_FIELD]={actionEvents:["focusGained",
"focusLost","typing","textCancelled","recommit"],componentEvents:[]};c[g.TEXT_AREA]={actionEvents:["focusGained","focusLost"],componentEvents:[]};c[g.LIST_ITEM_WITH_TEXTFIELD]={actionEvents:"focusGained focusLost typing commit recommit textCancelled itemPushed".split(" "),componentEvents:[]};c[g.HORIZONTAL_SLIDER]={actionEvents:["valueChanged"],componentEvents:[]};c[g.SPINNER]={actionEvents:["valueChanged","recommit"],componentEvents:[]};c[g.GALLERY]={actionEvents:[],componentEvents:["refresh"]};
c[g.GALLERY_POPUP]={actionEvents:[],componentEvents:["galleryStateChanged"]};c[g.GALLERY_CATEGORY]={actionEvents:[],componentEvents:["categoryMoved"]};c[g.GALLERY_FAVORITE_CATEGORY]={actionEvents:[],componentEvents:["itemMoved"]};c[g.GALLERY_ITEM]={actionEvents:["itemPushed"],componentEvents:["favButtonPushed","remove"]};c[g.TOGGLE_GALLERY_ITEM]={actionEvents:[],componentEvents:["favButtonPushed","remove"]};c[g.QA_GROUP]={actionEvents:[],componentEvents:["itemMoved"]};c[g.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]=
c[g.SPLIT_BUTTON];return c})},"MW/uiframework/hashes/PeerNodeWidgetPropertiesHash":function(){define(["dojo/_base/lang","MW/toolstrip/hashes/PeerNodeWidgetPropertiesHash"],function(g,c){var e={};g.mixin(e,c);Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(b){e[a][e[a][b]]=b})});return e})},"MW/toolstrip/hashes/PeerNodeWidgetEventsHash":function(){define(["../constants/TypeConstants"],function(g){var c={};c[g.PUSH_BUTTON]={buttonPushed:"click"};c[g.DROP_DOWN_BUTTON]={dropDownPerformed:"dropdownclick"};
c[g.SPLIT_BUTTON]={dropDownPerformed:"dropdownclick",buttonPushed:"click"};c[g.COLOR_PICKER_BUTTON]={valueChanged:"change"};c[g.TOGGLE_SPLIT_BUTTON]={dropDownPerformed:"dropdownclick"};c[g.QAB_PUSH_BUTTON]=c[g.PUSH_BUTTON];c[g.QAB_DROP_DOWN_BUTTON]=c[g.DROP_DOWN_BUTTON];c[g.QAB_SPLIT_BUTTON]=c[g.SPLIT_BUTTON];c[g.QAB_TOGGLE_SPLIT_BUTTON]=c[g.TOGGLE_SPLIT_BUTTON];c[g.TEXT_FIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",textCancelled:"textcancelled"};c[g.TEXT_AREA]={focusGained:"focusgained",
focusLost:"focuslost"};c[g.COMBO_BOX]={focusGained:"focus",focusLost:"blur",typing:"typing",textCancelled:"textcancelled",dropDownPerformed:"dropdownclick"};c[g.POPUP_LIST]={onOpen:"open",onClose:"close"};c[g.SPINNER]={valueChanged:"change"};c[g.LIST_ITEM]={itemPushed:"click"};c[g.LIST_ITEM_WITH_TEXTFIELD]={focusGained:"focusgained",focusLost:"focuslost",typing:"typing",commit:"commit",recommit:"recommit",textCancelled:"textcancelled",itemPushed:"itempushed"};c[g.LIST_ITEM_WITH_POPUP]={dropDownPerformed:"dropdownclick"};
c[g.LIST_ITEM_WITH_CHECKBOX]={closeRequest:"closeRequest"};return c})},"MW/toolstrip/hashes/ToolstripCollapseTriggers":function(){define(["../constants/TypeConstants"],function(g){var c={};c[g.PUSH_BUTTON]={events:["buttonPushed"],properties:[]};c[g.SPLIT_BUTTON]={events:["buttonPushed"],properties:[]};c[g.TOGGLE_BUTTON]={events:[],properties:["checked"]};c[g.LIST_ITEM]={events:["itemPushed"],properties:[]};c[g.LIST_ITEM_WITH_CHECKBOX]={events:["closeRequest"],properties:[]};c[g.COMBO_BOX]={events:[],
properties:["value"]};c[g.CHECK_BOX]={events:[],properties:["checked"]};c[g.RADIO_BUTTON]={events:[],properties:["checked"]};c[g.SPLIT_BUTTON_WITH_DISABLE_OVERRIDE]={events:["buttonPushed"],properties:[]};c[g.GALLERY_ITEM]={events:["itemPushed"],properties:[]};c[g.TOGGLE_GALLERY_ITEM]={events:[],properties:["checked"]};return c})},"MW/uiframework/supportedUIBuilderFunctions":function(){define({fromModelManager:"create destroy add remove get set exists indexOf getChildrenIds getParentId isAnOrphan addEventCallback addPropertySetCallback createPopupsFromConfig addTabGroupFromConfig createGalleryPopupFromConfig addGalleryItemToFavorites removeGalleryItemFromFavorites getGalleryState setGalleryState getQABState setQABState widgetByTag tagToId showPopup addToolstripFromConfig placeToolstripAt selectTab selectFirstTabInTabGroup getMenubarWrapperWidget getToolbarWrapperWidget".split(" "),
fromWidgetManager:["refreshGallery","isAnyPopupOpen","closeAllOpenPopups"]})},"MW/uiframework/contextmanager/ContextManagerFactory":function(){define(["./ContextManager"],function(g){var c=null;return{getInstance:function(e){c||(c=new g(e));return c},destroy:function(){c&&(c.cleanup(),c=null)}}})},"MW/uiframework/contextmanager/ContextManager":function(){define("dojo/_base/declare dojo/Stateful ./PanelManager ./QuickAccessActionManager ./TabGroupManager MW/uiframework/UIBuilderFactory".split(" "),
function(g,c,e,a,b,f){return g([c],{currentContext:null,constructor:function(c){this.parentAppId=c.parentAppId;this.alternativeContextMemory=!!c.alternativeContextMemory;this._uiBuilder=c.uiBuilder||f.getInstance();this.toolstripId=this._uiBuilder.tagToId(c.toolstripTag);if(!this.toolstripId)throw Error('No toolstrip with tag "'+c.toolstripTag+'" exists!');this._panelManager=new e({contextManagerImpl:this,uiContainer:c.uiContainer});this._quickAccessActionManager=new a({contextManagerImpl:this,uiBuilder:this._uiBuilder,
qabContextualControlsActionMap:c.qabContextualControlsActionMap});this._tabGroupManager=new b({contextManagerImpl:this,uiBuilder:this._uiBuilder})},register:function(a,b){switch(a){case "TabGroups":this._tabGroupManager.registerTabGroups(b);break;case "QuickAccessAction":this._quickAccessActionManager.registerQuickAccessAction(b);break;case "Panels":this._panelManager.registerPanels(b);break;default:throw Error("This is not a valid type to register!");}},unregister:function(a,b){switch(a){case "TabGroups":this._tabGroupManager.unregisterTabGroups(b);
break;case "QuickAccessAction":this._quickAccessActionManager.unregisterQuickAccessAction(b);break;case "Panels":this._panelManager.unregisterPanels(b);break;default:throw Error("This is not a valid type to unregister!");}},resetLastSelectedTab:function(a){this._tabGroupManager.resetLastSelectedTab(a)},removeAllContextualTabGroups:function(){this._tabGroupManager.removeAllContextualTabGroups()},removeContextualTabGroupsOfAppId:function(a){this._tabGroupManager.removeContextualTabGroupsOfAppId(a)},
cleanup:function(){this._quickAccessActionManager.cleanup();this._tabGroupManager.cleanup();this._panelManager.cleanup()},_currentContextSetter:function(a){a&&a.appId&&(!a.contextIdList||0===a.contextIdList.length?a.contextIdList=["global"]:0<a.contextIdList.length&&-1===a.contextIdList.indexOf("global")&&a.contextIdList.splice(0,0,"global"));this.currentContext=a}})})},"MW/uiframework/contextmanager/PanelManager":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(g,c){return g(null,
{constructor:function(e){this._contextManager=e.contextManagerImpl;this._uiContainer=e.uiContainer;this._registeredPanels={};this._currentContextualPanelIds=[];this._stateForContext={};this._handles=[];this._handles.push(this._contextManager.watch("currentContext",c.hitch(this,this._currentContextChangedCallback)))},registerPanels:function(c){this._registeredPanels[c.appId]||(this._registeredPanels[c.appId]={});this._registeredPanels[c.appId][c.contextId]||(this._registeredPanels[c.appId][c.contextId]=
{});c.panelIds&&(this._registeredPanels[c.appId][c.contextId].panels=c.panelIds)},unregisterPanels:function(c){this._registeredPanels[c.appId]&&(this._registeredPanels[c.appId][c.contextId]?delete this._registeredPanels[c.appId][c.contextId]:delete this._registeredPanels[c.appId])},getContextualStates:function(){var c=this._contextManager.get("currentContext");c&&!this._isAppContext(c)&&(this._stateForContext[this._generateContextKey(c)]=this._uiContainer._getContextualState(c.appId));return this._stateForContext},
setContextualStates:function(e){c.mixin(this._stateForContext,e)},_currentContextChangedCallback:function(e,a,b){if(this._uiContainer&&!(null===b||void 0===b||JSON.stringify(a)===JSON.stringify(b))){var f=this;this._isAppContext(a)||(this._stateForContext[this._generateContextKey(a)]=this._uiContainer._getContextualState(a.appId));var g=this._getPanelIdsForContext(b);e=this._uiContainer.getOccupiedBorders();var h=this._stateForContext[this._generateContextKey(b)];h&&e.length&&(h=c.clone(h),e.forEach(function(a){h[a]&&
h[a].border&&delete h[a].border}));var d=a&&b&&a.appId!==b.appId;this._currentContextualPanelIds.forEach(function(a){(d||0>g.indexOf(a))&&f._uiContainer._removeFromLayout(a)});g.forEach(function(a){(d||0>f._currentContextualPanelIds.indexOf(a))&&f._uiContainer._addToLayout(a,b.appId)});h&&this._uiContainer._setContextualState(h,b.appId);this._currentContextualPanelIds=g}},_isAppContext:function(c){return!c||c.appId===this._contextManager.parentAppId},_getPanelIdsForContext:function(c){var a=[],b=
this._registeredPanels[c.appId];b&&c.contextIdList.forEach(function(c){(c=b[c].panels)&&(a=a.concat(c))});return a},_generateContextKey:function(c){var a="null";c&&(a=c.appId,c.contextIdList.forEach(function(b){"global"!==b&&(a+="_"+b)}));return a},cleanup:function(){this._handles.forEach(function(c){c.remove()})}})})},"MW/uiframework/contextmanager/QuickAccessActionManager":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/uiframework/UIBuilderFactory"],function(g,c,e){return g(null,
{constructor:function(a){this._contextManagerImpl=a.contextManagerImpl;this._qabContextualControlsActionMap=a.qabContextualControlsActionMap;this._registeredQuickAccessActions={};this._uiBuilder=a.uiBuilder||e.getInstance();this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",c.hitch(this,this._currentContextChangedCallback)))},registerQuickAccessAction:function(a){this._registeredQuickAccessActions[a.appId]||(this._registeredQuickAccessActions[a.appId]={});this._registeredQuickAccessActions[a.appId][a.contextId]||
(this._registeredQuickAccessActions[a.appId][a.contextId]={});a.quickAccessControlTag&&a.actionId&&(this._registeredQuickAccessActions[a.appId][a.contextId][a.quickAccessControlTag]=a.actionId)},unregisterQuickAccessAction:function(a){this._registeredQuickAccessActions[a.appId]&&this._registeredQuickAccessActions[a.appId][a.contextId]&&(this._registeredQuickAccessActions[a.appId][a.contextId][a.quickAccessControlTag]?delete this._registeredQuickAccessActions[a.appId][a.contextId][a.quickAccessControlTag]:
delete this._registeredQuickAccessActions[a.appId][a.contextId])},_currentContextChangedCallback:function(a,b,c){null===c||(void 0===c||JSON.stringify(b)===JSON.stringify(c))||(Object.keys(this._qabContextualControlsActionMap).forEach(function(a){var b=this._uiBuilder.tagToId(a);this._uiBuilder.exists(b)&&this._uiBuilder.set(b,"actionId",this._qabContextualControlsActionMap[a])},this),this._contextManagerImpl.parentAppId&&this._applyQuickAccessActions(this._contextManagerImpl.parentAppId,"global"),
this._registeredQuickAccessActions[c.appId]&&(c.appId!==this._contextManagerImpl.parentAppId&&this._applyQuickAccessActions(c.appId,"global"),c.contextIdList&&c.contextIdList.forEach(function(a){"global"!==a&&this._applyQuickAccessActions(c.appId,a)},this)))},_applyQuickAccessActions:function(a,b){this._registeredQuickAccessActions[a]&&this._registeredQuickAccessActions[a][b]&&Object.keys(this._registeredQuickAccessActions[a][b]).forEach(function(c){var e=this._uiBuilder.tagToId(c);this._uiBuilder.exists(e)&&
this._uiBuilder.set(e,"actionId",this._registeredQuickAccessActions[a][b][c])},this)},cleanup:function(){this._handles.forEach(function(a){a.remove()})}})})},"MW/uiframework/contextmanager/TabGroupManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/dom-class","MW/uiframework/UIBuilderFactory"],function(g,c,e,a,b){return g(null,{constructor:function(a){this._contextManagerImpl=a.contextManagerImpl;this._toolstripId=a.contextManagerImpl.toolstripId;this._toolstripWidget=
e.byId(this._toolstripId);this._uiBuilder=a.uiBuilder||b.getInstance();this._registeredTabGroups={};this._lastSelectedTabId=this._lastValidContext=null;this._handles=[];this._handles.push(this._contextManagerImpl.watch("currentContext",c.hitch(this,this._currentContextChangedCallback)));this._handles.push(this._uiBuilder.addPropertySetCallback(this._toolstripId,c.hitch(this,this._selectedTabChangedCallback)))},registerTabGroups:function(a){this._registeredTabGroups[a.appId]||(this._registeredTabGroups[a.appId]=
{});this._registeredTabGroups[a.appId][a.contextId]||(this._registeredTabGroups[a.appId][a.contextId]={});this._registeredTabGroups[a.appId][a.contextId].tabGroupTags=a.tabGroupTags;a.appId===this._contextManagerImpl.parentAppId&&"global"===a.contextId&&this._addTabGroups(a.appId,a.contextId)},unregisterTabGroups:function(a){this._registeredTabGroups[a.appId]&&(this._registeredTabGroups[a.appId][a.contextId]?delete this._registeredTabGroups[a.appId][a.contextId]:delete this._registeredTabGroups[a.appId])},
resetLastSelectedTab:function(a){this._registeredTabGroups[a.appId]&&(this._registeredTabGroups[a.appId][a.contextId]?this._registeredTabGroups[a.appId][a.contextId].lastSelectedTabId=null:Object.keys(this._registeredTabGroups[a.appId]).forEach(function(b){this._registeredTabGroups[a.appId][b].lastSelectedTabId=null},this))},_currentContextChangedCallback:function(a,b,e){this._previouslySelectedTabId=this._uiBuilder.get(this._toolstripId,"selectedTab");if(!(JSON.stringify(b)===JSON.stringify(e)||
null===e||void 0===e)&&this._registeredTabGroups[e.appId])this._lastValidContext=this._contextManagerImpl.get("currentContext"),this._registeredTabGroupsForNewApp=c.clone(this._registeredTabGroups[e.appId]),this.removeAllContextualTabGroups(),e.contextIdList&&e.contextIdList.forEach(function(a){e.appId===this._contextManagerImpl.parentAppId&&"global"===a||this._addTabGroups(e.appId,a);this._contextManagerImpl.alternativeContextMemory||this._selectAppropriateTab(e.appId,a)},this),this._contextManagerImpl.alternativeContextMemory&&
this._selectAppropriateTab(e.appId)},removeAllContextualTabGroups:function(){this._ignoreSelectedTabChange=!0;this._toolstripWidget._ignoreResize=!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(a){this._isAGlobalTabGroupOfParentApp(a)||this._uiBuilder.remove(a)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,
"global")},removeContextualTabGroupsOfAppId:function(a){this._ignoreSelectedTabChange=!0;this._toolstripWidget._ignoreResize=!0;this._uiBuilder.getChildrenIds(this._toolstripId).forEach(function(b){-1<this._getAllRegisteredTabGroupTags(a).indexOf(this._uiBuilder.get(b,"tag"))&&this._uiBuilder.remove(b)},this);this._ignoreSelectedTabChange=!1;this._toolstripWidget._ignoreResize=!1;this._contextManagerImpl.parentAppId&&!this._contextManagerImpl.alternativeContextMemory&&this._selectAppropriateTab(this._contextManagerImpl.parentAppId,
"global")},_getAllRegisteredTabGroupTags:function(a){var b=[];this._registeredTabGroups[a]&&Object.keys(this._registeredTabGroups[a]).forEach(function(c){b=b.concat(this._registeredTabGroups[a][c].tabGroupTags)},this);return b},_addTabGroups:function(b,g){this._registeredTabGroups[b]&&this._registeredTabGroups[b][g]&&(this._ignoreSelectedTabChange=!0,this._toolstripWidget._ignoreResize=!0,this._registeredTabGroups[b][g].tabGroupTags.forEach(function(a){this._uiBuilder.add(this._uiBuilder.tagToId(a),
this._toolstripId)},this),this._ignoreSelectedTabChange=!1,this._toolstripWidget._ignoreResize=!1,b===this._contextManagerImpl.parentAppId&&"global"===g||this._registeredTabGroups[b][g].tabGroupTags.forEach(c.hitch(this,function(b){b=this._uiBuilder.tagToId(b);this._uiBuilder.getChildrenIds(b).forEach(function(b){a.add(e.byId(b).controlButton.domNode,"toolstripContextualTab")})})))},_selectAppropriateTab:function(a,b){if(this._registeredTabGroups[a])if(this._contextManagerImpl.alternativeContextMemory)this._lastSelectedTabId&&
!this._uiBuilder.isAnOrphan(this._lastSelectedTabId)?(this._uiBuilder.set(this._toolstripId,"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",this._lastSelectedTabId)):this._registeredTabGroups[a].global&&(this._registeredTabGroups[a].global.tabGroupTags&&0<this._registeredTabGroups[a].global.tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[a].global.tabGroupTags[0],this._toolstripId);else if(this._registeredTabGroups[a][b]){var c=this._registeredTabGroupsForNewApp&&
this._registeredTabGroupsForNewApp[b].lastSelectedTabId;!c||this._uiBuilder.isAnOrphan(c)?this._registeredTabGroups[a]&&(this._registeredTabGroups[a][b]&&this._registeredTabGroups[a][b].tabGroupTags&&0<this._registeredTabGroups[a][b].tabGroupTags.length)&&this._uiBuilder.selectFirstTabInTabGroup(this._registeredTabGroups[a][b].tabGroupTags[0],this._toolstripId):this._isAGlobalTab(this._previouslySelectedTabId,a)?this._isAGlobalTab(c,a)?this._uiBuilder.set(this._toolstripId,"selectedTab",this._previouslySelectedTabId):
this._uiBuilder.set(this._toolstripId,"selectedTab",c):(this._uiBuilder.set(this._toolstripId,"selectedTab",""),this._uiBuilder.set(this._toolstripId,"selectedTab",c))}},_selectedTabChangedCallback:function(a){!this._ignoreSelectedTabChange&&"selectedTab"===a.property&&(this._contextManagerImpl.alternativeContextMemory?this._lastSelectedTabId=a.newValue:this._lastValidContext&&(this._registeredTabGroups[this._lastValidContext.appId]&&this._lastValidContext.contextIdList)&&this._lastValidContext.contextIdList.forEach(function(b){this._registeredTabGroups[this._lastValidContext.appId][b]&&
this._registeredTabGroups[this._lastValidContext.appId][b].tabGroupTags&&(this._registeredTabGroups[this._lastValidContext.appId][b].lastSelectedTabId=a.newValue)},this))},_isAGlobalTabGroupOfParentApp:function(a){var b=!1;a=this._uiBuilder.get(a,"tag");this._contextManagerImpl.parentAppId&&this._registeredTabGroups[this._contextManagerImpl.parentAppId]&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global&&this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags&&
(b=-1<this._registeredTabGroups[this._contextManagerImpl.parentAppId].global.tabGroupTags.indexOf(a));return b},_isAGlobalTab:function(a,b){var c=!1;return c=this._contextManagerImpl.parentAppId?this._isAChildOfRegisteredTabGroups(a,this._contextManagerImpl.parentAppId,"global"):this._isAChildOfRegisteredTabGroups(a,b,"global")},_isAChildOfRegisteredTabGroups:function(a,b,c){var d=!1;this._registeredTabGroups[b][c].tabGroupTags&&(a=this._uiBuilder.getParentId(a),a=this._uiBuilder.get(a,"tag"),-1<
this._registeredTabGroups[b][c].tabGroupTags.indexOf(a)&&(d=!0));return d},cleanup:function(){this._handles.forEach(function(a){a.remove()})}})})},"MW/uiframework/MnemonicsManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/keys dojo/on dojo/query dijit/popup dijit/registry MW/layout/LayoutUtils MW/toolstrip/constants/DisplayStateConstants MW/uiframework/MnemonicsStates MW/uiframework/FocusManager".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q){function s(a,
b,c,d){d=!!d;a.addEventListener(b,c,d);return{remove:function(){a.removeEventListener(b,c,d)}}}function p(a){a=k(a);for(var b=document.activeElement.parentNode;null!==b&&-1===a.indexOf(b);)b=b.parentNode;return b}function r(){return k("[tabindex\x3d'0']",p(".sectionContainer")).filter(function(a){return!a.parentNode.classList.contains("mwSectionDropDownButton")})}function t(a){var b=!1;return b=p('[data-type\x3d"Gallery"]')?!1:p('[data-type\x3d"Column"]').contains(a)}function u(a,b,c){b=b.length;
return"next"===c?a===b-1?0:a+1:0===a?b-1:a-1}function x(a,b){n.setCurrentMnemonicsState(n.getCurrentMnemonicsState());F(a);E(a);var c=a.tabContainer.tablist,d=c.getChildren(),e=a.topRightContainer.querySelectorAll("[data-mnemonic]"),f=[];d.forEach(function(a){a.domNode&&a.domNode.querySelector("[data-mnemonic]")&&f.push(a.domNode.querySelector("[data-mnemonic]"))});Array.prototype.slice.call(e).forEach(function(a){f.push(a)});e=f.indexOf(document.activeElement);v(f,a,c,d,e,b)}function v(a,b,c,d,e,
f){switch(f){case "next":if(e<d.length-1)c.onButtonClick(b.tabContainer.tablist.adjacent("next"===f).page);else if(e===a.length-1)c.onButtonClick(d[0].page);else!U(a[e+1])&&!K(a[e+1],"dijitOffScreen")?a[e+1].focus():v(a,b,c,d,e+1,f);break;case "previous":if(0<e&&e<d.length)c.onButtonClick(b.tabContainer.tablist.adjacent("next"===f).page);else if(e===d.length)c.onButtonClick(d[d.length-1].page);else 0===e?v(a,b,c,d,a.length,f):!U(a[e-1])&&!K(a[e-1],"dijitOffScreen")?a[e-1].focus():v(a,b,c,d,e-1,f)}}
function w(a){return e.get(a,"data-mnemonic-key-nav-direction")}function y(a){a._destroyed||a.tabContainer.tablist.pane2button(a.tabContainer.selectedChildWidget.id).domNode.querySelector(".tabLabel").focus()}function B(a){var b=k("[tabindex\x3d'0']",p('[data-type\x3d"Column"]'));p('[data-type\x3d"Gallery"]')&&(b=[]);var c=b.indexOf(document.activeElement);return(a=b[c+("next"===a?1:-1)])?(a.focus(),!0):!1}function D(a){return(a=k("[tabindex\x3d'0']",a.tabContainer.selectedChildWidget.domNode).filter(function(a){return!a.parentNode.classList.contains("mwSectionDropDownButton")})[0])?
(a.focus(),!0):!1}function A(a){for(var b=r(),c=b.indexOf(document.activeElement),d=u(c,b,a);t(b[d])&&d!==c;)d=u(d,b,a);b[d].focus()}function z(a,b){return"control"===b?a.tabContainer.selectedChildWidget.domNode:a.domNode}function F(a){a.tabContainer.getChildren().forEach(function(b){var c=a.tabContainer.tablist.pane2button(b.id);b.get("mnemonic")&&(e.set(c.focusNode,"data-mnemonic",b.get("mnemonic")),e.set(c.focusNode,"data-mnemonic-key-nav-direction","all"))},this)}function E(a){var b=[],c;a._QABWidget.getChildren().forEach(function(a){c=
a.getChildren();c.forEach(function(a){b.push(a)})});b.forEach(function(a,b){a.focusNode.setAttribute("data-mnemonic",9>b?(b+1).toString():18>b?"0"+(b-8):44>b?"0"+String.fromCharCode(47+b).toUpperCase():null)})}function C(a,b,c){a=O.NUM_0<=a&&a<=O.NUM_9?a-O.KEY_0:a;for(var d=b.querySelectorAll("[data-mnemonic]"),e=0;e<d.length;e++)if(b=d[e].getAttribute("data-mnemonic"),a===b.charCodeAt(0)||1===c.length&&c[0]===b.charCodeAt(0)&&a===b.charCodeAt(1))return!0;return!1}function P(a,b){var c;c=a.querySelectorAll(b);
return 1===c.length?a.querySelectorAll(b)[0]:K(c[0],"dijitOffScreen")?a.querySelectorAll(b)[1]:a.querySelectorAll(b)[0]}function K(a,b){for(;a;){if(a.classList&&a.classList.contains(b))return!0;a=a.parentNode}return!1}function U(a){for(;a;){if(a.hasAttribute("aria-disabled"))return"true"===a.getAttribute("aria-disabled");a=a.parentNode}return!0}var O={A:65,Z:90,KEY_0:48,KEY_9:57,NUM_0:96,NUM_9:105};return g(null,{constructor:function(a){if(!a.toolstripId)throw Error("A toolstripId needs to be provided!");
this._toolstrip=d.byId(a.toolstripId);n.setToolstrip(this._toolstrip);n.setCurrentMnemonicsState(n.NULL_NULL);this._previousKeyCodes=[];this._setupEventListeners()},_setupEventListeners:function(){this._listeners=[s(document.body,"keydown",c.hitch(this,this._handleKeyDown),!0),s(document.body,"keyup",c.hitch(this,this._handleKeyUp),!0),s(document.body,"mousedown",c.hitch(this,this._handleMouseDown),!0),s(document.body,"click",c.hitch(this,this._handleClick),!0),s(document.body,"commit",c.hitch(this,
this._handleCommit),!0),s(window,"blur",c.hitch(this,this._handleBlur),!1)]},_handleCommit:function(){this._handleExitMnemonicsMode()},_handleBlur:function(){this._altKeyDownTimeout&&(clearTimeout(this._altKeyDownTimeout),this._altKeyDownTimeout=null);this._handleExitMnemonicsMode()},_handleClick:function(b){var c;if(c=!b.syntheticEvent)c=!0,(b=d.getEnclosingWidget(b.target))&&(c=!a.contains(b.domNode,"mwMenuMixin"));c&&this._handleExitMnemonicsMode()},_handleMouseDown:function(a){a.syntheticEvent||
this._handleExitMnemonicsMode()},_handleKeyUp:function(a){a.keyCode===b.ALT&&(this._altKeyDownTimeout&&(clearTimeout(this._altKeyDownTimeout),this._altKeyDownTimeout=null),this._handleAltKeyUp())},_handleKeyDown:function(a){var d=a.keyCode;a.altKey&&d!==b.ALT&&(this._ignoreAltKeyUp=!0,this._altKeyDownTimeout&&(clearTimeout(this._altKeyDownTimeout),this._altKeyDownTimeout=null));switch(!0){case d===b.ALT:if(a.ctrlKey){this._ignoreAltKeyUp=!0;return}if(a.metaKey){this._ignoreAltKeyUp=!0;return}a.preventDefault();
this._altKeyDownTimeout||(this._altKeyDownTimeout=setTimeout(c.hitch(this,function(){this._handleAltKeyDownTimeout();this._ignoreAltKeyUp=!0}),1500));return!1;case d===b.ESCAPE:this._handleEscapeKey();this._previousKeyCodes=[];break;case d===b.ENTER:case d===b.SPACE:this._handleEnterOrSpaceKey();break;case d>=O.A&&d<=O.Z:case d>=O.KEY_0&&d<=O.KEY_9:case d>=O.NUM_0&&d<=O.NUM_9:a.altKey&&!a.ctrlKey&&!a.metaKey?(this._ignoreAltKeyUp=!0,setTimeout(c.hitch(this,function(){this._ignoreAltKeyUp=!1}),1E3),
this._handleAltPlusCharacterKey(a)):this._handleCharacterKey(a)}if(a.altKey||n.getCurrentMnemonicsState()===n.NULL_NULL)return!0;switch(!0){case d===b.TAB:a.preventDefault();a.shiftKey?this._handleTabNavigation("previous"):this._handleTabNavigation("next");break;case d===b.LEFT_ARROW:-1<["all","horizontal"].indexOf(w(a.target))&&this._handleHorizontalNavigation("previous");break;case d===b.UP_ARROW:-1<["all","vertical"].indexOf(w(a.target))&&this._handleUpKey();break;case d===b.RIGHT_ARROW:-1<["all",
"horizontal"].indexOf(w(a.target))&&this._handleHorizontalNavigation("next");break;case d===b.DOWN_ARROW:-1<["all","vertical"].indexOf(w(a.target))&&this._handleDownKey()}},_handleAltKeyUp:function(){if(this._ignoreAltKeyUp)this._ignoreAltKeyUp=!1;else switch(n.getCurrentMnemonicsState()){case n.NULL_NULL:l.isPopupShowing()?(h.close(),this._toolstrip.get("displayState")===m.EXPANDED_ON_TOP&&this._toolstrip.set("displayState",m.COLLAPSED)):(n.setCurrentMnemonicsState(n.TAB_TAB),this._showMnemonics("tab"),
y(this._toolstrip));break;case n.NULL_CONTROL:case n.NULL_TAB:case n.CONTROL_TAB:case n.TAB_TAB:this._hideMnemonics(),q.restoreFocus(!0),n.setCurrentMnemonicsState(n.NULL_NULL),this._toolstrip.get("displayState")===m.EXPANDED_ON_TOP&&this._toolstrip.set("displayState",m.COLLAPSED)}},_handleAltKeyDownTimeout:function(){switch(n.getCurrentMnemonicsState()){case n.NULL_NULL:n.setCurrentMnemonicsState(n.TAB_TAB),this._showMnemonics("tab"),y(this._toolstrip)}},_handleCharacterKey:function(a){var b;switch(n.getCurrentMnemonicsState()){case n.CONTROL_TAB:q.refuseFocus(this._toolstrip.domNode);
b=this._executeMnemonic("control",a);"fullMatch"===b&&(this._hideMnemonics(),n.setCurrentMnemonicsState(n.NULL_NULL));break;case n.TAB_TAB:b=this._executeMnemonic("tab",a),"fullMatch"===b?C(a.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?(this._hideMnemonics(),this._updateMnemonicsStateBasedOnSearchContainer(a.keyCode)):(this._toolstrip.get("displayState")===m.COLLAPSED&&this._toolstrip.set("displayState",m.EXPANDED_ON_TOP),this._hideMnemonics(),this._showMnemonics("control"),
n.setCurrentMnemonicsState(n.CONTROL_TAB)):"noMatch"===b&&C(a.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)&&(this._hideMnemonics(),n.setCurrentMnemonicsState(n.NULL_NULL))}},_handleAltPlusCharacterKey:function(a){var b;switch(n.getCurrentMnemonicsState()){case n.NULL_NULL:b=this._executeMnemonic("tab",a);"fullMatch"===b?C(a.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?(this._hideMnemonics(),this._updateMnemonicsStateBasedOnSearchContainer(a.keyCode)):(this._toolstrip.get("displayState")===
m.COLLAPSED&&this._toolstrip.set("displayState",m.EXPANDED_ON_TOP),this._hideMnemonics(),this._showMnemonics("control"),setTimeout(c.hitch(this,function(){y(this._toolstrip)}),0),n.setCurrentMnemonicsState(n.CONTROL_TAB)):"partialMatch"===b?n.setCurrentMnemonicsState(n.TAB_TAB):"noMatch"===b&&(C(a.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?(this._hideMnemonics(),n.setCurrentMnemonicsState(n.NULL_NULL)):(this._hideMnemonics(),this._showMnemonics("tab"),setTimeout(c.hitch(this,
function(){y(this._toolstrip)}),0),n.setCurrentMnemonicsState(n.TAB_TAB)));break;case n.CONTROL_TAB:b=this._executeMnemonic("control",a);"fullMatch"===b&&(this._hideMnemonics(),n.setCurrentMnemonicsState(n.NULL_NULL));break;case n.TAB_TAB:b=this._executeMnemonic("tab",a),"fullMatch"===b&&(C(a.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?(this._hideMnemonics(),this._updateMnemonicsStateBasedOnSearchContainer(a.keyCode)):(this._toolstrip.get("displayState")===m.COLLAPSED&&this._toolstrip.set("displayState",
m.EXPANDED_ON_TOP),this._hideMnemonics(),this._showMnemonics("control"),n.setCurrentMnemonicsState(n.CONTROL_TAB)))}},_handleUpKey:function(){switch(n.getCurrentMnemonicsState()){case n.NULL_CONTROL:B("previous")||(y(this._toolstrip),n.setCurrentMnemonicsState(n.NULL_TAB));break;case n.CONTROL_TAB:case n.TAB_TAB:this._hideMnemonics(),n.setCurrentMnemonicsState(n.NULL_TAB)}},_handleDownKey:function(){switch(n.getCurrentMnemonicsState()){case n.NULL_CONTROL:B("next");break;case n.NULL_TAB:this._toolstrip.get("displayState")!==
m.COLLAPSED&&D(this._toolstrip)&&n.setCurrentMnemonicsState(n.NULL_CONTROL);break;case n.CONTROL_TAB:case n.TAB_TAB:this._hideMnemonics(),this._toolstrip.get("displayState")!==m.COLLAPSED&&D(this._toolstrip)?n.setCurrentMnemonicsState(n.NULL_CONTROL):n.setCurrentMnemonicsState(n.NULL_TAB)}},_handleHorizontalNavigation:function(a){switch(n.getCurrentMnemonicsState()){case n.NULL_CONTROL:A(a);break;case n.NULL_TAB:x(this._toolstrip,a);break;case n.CONTROL_TAB:case n.TAB_TAB:this._hideMnemonics(),x(this._toolstrip,
a),n.setCurrentMnemonicsState(n.NULL_TAB)}},_handleTabNavigation:function(a){switch(n.getCurrentMnemonicsState()){case n.NULL_CONTROL:B(a)||A(a);break;case n.NULL_TAB:x(this._toolstrip,a);break;case n.CONTROL_TAB:case n.TAB_TAB:this._hideMnemonics(),x(this._toolstrip,a),n.setCurrentMnemonicsState(n.NULL_TAB)}},_handleEnterOrSpaceKey:function(){switch(n.getCurrentMnemonicsState()){case n.TAB_TAB:this._hideMnemonics();this._toolstrip.get("displayState")===m.COLLAPSED&&this._toolstrip.set("displayState",
m.EXPANDED_ON_TOP);n.setCurrentMnemonicsState(n.NULL_TAB);break;case n.NULL_TAB:this._toolstrip.get("displayState")===m.COLLAPSED&&this._toolstrip.set("displayState",m.EXPANDED_ON_TOP)}},_handleEscapeKey:function(){switch(n.getCurrentMnemonicsState()){case n.NULL_CONTROL:l.isPopupShowing()||(q.restoreFocus(!0),this._toolstrip.get("displayState")===m.EXPANDED_ON_TOP&&this._toolstrip.set("displayState",m.COLLAPSED));n.setCurrentMnemonicsState(n.NULL_NULL);break;case n.NULL_TAB:this._toolstrip.get("displayState")===
m.EXPANDED_ON_TOP&&this._toolstrip.set("displayState",m.COLLAPSED);q.restoreFocus(!0);n.setCurrentMnemonicsState(n.NULL_NULL);break;case n.CONTROL_TAB:this._toolstrip.get("displayState")===m.EXPANDED_ON_TOP&&this._toolstrip.set("displayState",m.COLLAPSED);this._hideMnemonics();this._showMnemonics("tab");n.setCurrentMnemonicsState(n.TAB_TAB);break;case n.TAB_TAB:q.restoreFocus(!0);this._hideMnemonics();n.setCurrentMnemonicsState(n.NULL_NULL);break;case n.NULL_NULL:!l.isPopupShowing()&&this._toolstrip.get("displayState")===
m.EXPANDED_ON_TOP&&this._toolstrip.set("displayState",m.COLLAPSED)}},_handleExitMnemonicsMode:function(){switch(n.getCurrentMnemonicsState()){case n.NULL_CONTROL:case n.NULL_TAB:case n.CONTROL_TAB:case n.TAB_TAB:this._hideMnemonics(),q.restoreFocus(!0),n.setCurrentMnemonicsState(n.NULL_NULL)}},_showMnemonics:function(b,c){"tab"===b&&(F(this._toolstrip),E(this._toolstrip));var e="control"===b?"[tabindex\x3d'0']":".tabLabel";c=c||"[data-mnemonic]";e=k(e+c+", "+e+" "+c,z(this._toolstrip,b));"tab"==b&&
(e=e.concat(this._toolstrip.topRightContainer.querySelectorAll(c)));0<e.length&&(this._mnemonicNodesContainer=document.createElement("div"),e.forEach(function(b){var c=document.createElement("div");c.classList.add("mnemonicNode");c.textContent=b.getAttribute("data-mnemonic");this._mnemonicNodesContainer.appendChild(c);document.body.appendChild(this._mnemonicNodesContainer);var e=b.getBoundingClientRect(),f=c.getBoundingClientRect(),g=d.getEnclosingWidget(b);g.get("orientation")&&"Vertical"===g.get("orientation")||
a.contains(b,"tabLabel")?c.style.left=e.left+e.width/2-f.width/2+"px":c.style.left=e.left+12+"px";c.style.top=e.bottom-5+"px"},this))},_hideMnemonics:function(a){a||(this._previousKeyCodes=[]);this._mnemonicNodesContainer&&this._mnemonicNodesContainer.parentNode&&(this._mnemonicNodesContainer.parentNode.removeChild(this._mnemonicNodesContainer),this._mnemonicNodesContainer=null)},_executeMnemonic:function(a,b){"tab"===a&&this._toolstrip.tabContainer.getChildren().forEach(function(a){var b=this._toolstrip.tabContainer.tablist.pane2button(a.id);
a.get("mnemonic")&&e.set(b.focusNode,"data-mnemonic",a.get("mnemonic"))},this);var c="'"+this._previousKeyCodes.map(function(a){return String.fromCharCode(a)},this).join("")+String.fromCharCode(O.NUM_0<=b.keyCode&&b.keyCode<=O.NUM_9?b.keyCode-O.KEY_0:b.keyCode)+"'",d;d="control"===a?"[tabindex\x3d'0']":"tab"===a&&C(b.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?"[tabindex\x3d'0']":".tabLabel";var g="[data-mnemonic\x3d"+c+"]",g=d+g+", "+d+" "+g;(g="control"===a?z(this._toolstrip,
a).querySelector(g):"tab"===a&&C(b.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?P(this._toolstrip.topRightContainer,g):z(this._toolstrip,a).querySelector(g))?("control"===a?(f.emit(g,"mousedown",{bubbles:!0,cancelable:!0,syntheticEvent:!0,target:g,button:0}),f.emit(g,"mouseup",{bubbles:!0,cancelable:!0,syntheticEvent:!0,target:g,button:0}),g.focus()):"tab"===a&&C(b.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?(f.emit(g,"mousedown",{bubbles:!0,cancelable:!0,
syntheticEvent:!0,target:g,button:0}),f.emit(g,"mouseup",{bubbles:!0,cancelable:!0,syntheticEvent:!0,target:g,button:0}),f.emit(g,"input",{bubbles:!0,cancelable:!0,syntheticEvent:!0,target:g}),g.focus()):F(this._toolstrip),f.emit(g,"click",{bubbles:!0,cancelable:!0,syntheticEvent:!0,target:g}),b.preventDefault(),c="fullMatch"):0<("tab"===a&&C(b.keyCode,this._toolstrip.topRightContainer,this._previousKeyCodes)?k(d+"[data-mnemonic^\x3d"+c+"]",z(this._toolstrip.topRightContainer,a)):k(d+"[data-mnemonic^\x3d"+
c+"]",z(this._toolstrip,a))).length?(this._hideMnemonics(!0),this._showMnemonics(a,"[data-mnemonic^\x3d"+c+"]"),O.NUM_0<=b.keyCode&&b.keyCode<=O.NUM_9?this._previousKeyCodes.push(b.keyCode-O.KEY_0):this._previousKeyCodes.push(b.keyCode),c="partialMatch"):c="noMatch";return c},_updateMnemonicsStateBasedOnSearchContainer:function(b){if(this._toolstrip.searchContainer&&!a.contains(this._toolstrip.searchContainer,"dijitOffScreen")){var c=this._toolstrip.searchContainer.querySelector("input[data-mnemonic]");
c&&String.fromCharCode(b)===c.getAttribute("data-mnemonic")?n.setCurrentMnemonicsState(n.NULL_TAB):n.setCurrentMnemonicsState(n.NULL_NULL)}else n.setCurrentMnemonicsState(n.NULL_NULL)},destroy:function(){this._listeners.forEach(function(a){a.remove()});this._hideMnemonics()},getToolstrip:function(){return this._toolstrip},setFocusOnCurrentToolstripTab:function(){n.setCurrentMnemonicsState(n.TAB_TAB);this._showMnemonics("tab");y(this._toolstrip)},removeFocusFromToolstrip:function(){this._hideMnemonics();
n.setCurrentMnemonicsState(n.NULL_NULL)}})})},"MW/uiframework/uicontainer/ChildProperties":function(){define("dojo/_base/declare dojo/_base/lang MW/layout/LayoutChildProperty MW/layout/PerWindowStateful MW/layout/StatefulExtension mw-log/Log".split(" "),function(g,c,e,a,b,f){c=g([a,b],{Fixed:void 0,Dynamic:void 0,constructor:function(a){g.safeMixin(this,a);f.assert(this.title,"No title specified");delete this.Fixed;delete this.Dynamic}});c.ACTIONS=e.ACTIONS;c.ACTIVE_CONTEXTS="activeContexts";c.INDEX=
e.INDEX;c.DESCRIPTION=e.DESCRIPTION;c.DESTROY_ON_CLOSE=e.DESTROY_ON_CLOSE;c.IS_COLLAPSED=e.IS_COLLAPSED;c.IS_COLLAPSIBLE=e.IS_COLLAPSIBLE;c.IS_DOCKED="isDocked";c.IS_MAXIMIZED=e.IS_MAXIMIZED;c.IS_OPEN=e.IS_OPEN;c.IS_RESIZABLE=e.IS_RESIZABLE;c.IS_SHOWING=e.IS_SHOWING;c.IS_SELECTED=e.IS_SELECTED;c.PERMISSIBLE_REGIONS=e.PERMISSIBLE_REGIONS;c.PREFERRED_WIDTH=e.PREFERRED_WIDTH;c.PREFERRED_HEIGHT=e.PREFERRED_HEIGHT;c.REGION=e.REGION;c.TILE=e.TILE;c.TITLE=e.TITLE;c.WINDOW_BOUNDS="windowBounds";return c})},
"MW/uiframework/uicontainer/ContextDriver":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom MW/layout/LayoutContainerEvent MW/layout/SelectionManager MW/uiframework/uicontainer/ChildProperties".split(" "),function(g,c,e,a,b,f){return g(null,{constructor:function(a,b){var c=this;this._appId=a;this._contextManager=b._contextManager;this._uiContainer=b;b.watch("selectedChild",function(a,e,f){f&&(a=b.getChildProperties(f),a.qabControlToActionMap&&a.panelId&&c._setSecondaryContext(a.panelId))});
if(!b._started)b.on("started",function(){c._pendingContext&&(this._contextManager.set("currentContext",c._pendingContext),delete c._pendingContext)})},setDocumentContainer:function(b){var c=this;b!==this._documentContainer&&(b?(b.on(a.CHILD_REMOVED,function(a,b){b&&(b.contextDriverSelectWatch.unwatch(),b.contextDriverShowWatch.unwatch(),b.contextDriverContextWatch.unwatch());c._setContextForShowingDocument()}),b.on(a.CHILD_ADDED,function(a,e){(!c._documentContainer||1===c._documentContainer.getDocumentCount(e.documentType))&&
c._contextManager.resetLastSelectedTab({appId:e.documentType});(e.get(f.IS_SELECTED)||!c._documentContainer||!c._isAnyDocumentSelected())&&c._setContext(e);e.contextDriverSelectWatch=e.watch(f.IS_SELECTED,function(a,b,d){d&&c._setContext(e)});e.contextDriverShowWatch=e.watch(f.IS_SHOWING,function(a,d,e){!e&&(!b.isRestoringState()&&!b.isChangingTiling())&&c._setContextForShowingDocument()});e.contextDriverContextWatch=e.watch(f.ACTIVE_CONTEXTS,function(a,b,d){e.get(f.IS_SELECTED)&&c._setContext(e,
d)})})):this._clearContext(),this._documentContainer=b)},_setContextForShowingDocument:function(){var a=!1,b,c;if(this._documentContainer){c=this._documentContainer.getDocuments();for(b=0;b<c.length&&!a;b++){var e=this._uiContainer.getChildProperties(c[b]);e.get(f.IS_SHOWING)&&(this._setContext(e),a=!0)}}a||(this._clearContext(),this._secondaryContextId&&this._setSecondaryContext(this._secondaryContextId))},_setContext:function(a,b){var c={appId:a.documentType,contextIdList:b||a.get(f.ACTIVE_CONTEXTS)};
this._uiContainer._started?this._contextManager.set("currentContext",c):this._pendingContext=c},_clearContext:function(){this._uiContainer._started&&this._contextManager.set("currentContext",{appId:this._appId})},_setSecondaryContext:function(a){this._secondaryContextId=a;this._uiContainer._started&&a&&this._contextManager.set("currentContext",{appId:a})},_isAnyDocumentSelected:function(){var a=this._uiContainer.get(b.SELECTED_CHILD);return this._documentContainer&&a&&e.isDescendant(a.domNode,this._documentContainer.domNode)}})})},
"MW/uiframework/uicontainer/DockingManager":function(){define("dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/on dojo/when mw-log/Log MW/uiframework/uicontainer/ChildProperties MW/uiframework/uicontainer/DocumentTypeProperties MW/uiframework/uicontainer/WindowBoundsUtils".split(" "),function(g,c,e,a,b,f,k,h,d){var l={},m=[],n={},q={},s=[];window.DockingManager={_windowPoller:{},loadCss:function(a){c.create("link",{rel:"stylesheet",type:"text/css",href:a},document.getElementsByTagName("head")[0])},
createPackingList:function(a,b){var c,d,e,f={cssFiles:a.cssFiles||[],types:[],tabGroups:[],panels:[],documents:[]};b&&b.types&&(f.types=b.types,b.types.forEach(function(b){c=a._getPropertiesForType(b);for(d in c.tabGroupFactories)e=c.tabGroupFactories[d],f.tabGroups.push({tag:d,type:b,state:e.getState(),factoryPath:e.modulePath})}));b&&b.panels&&b.panels.forEach(function(a){f.panels.push({region:a.properties.region,state:a.factory.getState(a.widget,a.properties),factoryPath:a.factory.modulePath})});
b&&b.documents&&b.documents.forEach(function(a){f.documents.push({isSelected:a.properties.isSelected,properties:a.properties===a.widget?null:a.properties,state:a.factory.getState(a.widget,a.properties),factoryPath:a.factory.modulePath})});return f},savePackingList:function(a){var b=this._randomString(32),b="_"+b;this._isUndocked?window.opener.DockingManager[b]=a:window.DockingManager[b]=a;return b},retrievePackingList:function(a){return this._isUndocked?window.opener.DockingManager[a]:window.DockingManager[a]},
discardPackingList:function(a){delete (this._isUndocked?window.opener:window).DockingManager[a]},setContainer:function(a){this._container=a},getContainer:function(){return this._container},setIsUndockedWindow:function(a){this._isUndocked=a},isUndockedWindow:function(){return!!this._isUndocked},spawnContainer:function(a,b,c,e,f){var h=this;a=window.location.origin+(b||"/ui/webwidgets/src/js/MW/uiframework/uicontainer/undocked.html");f||(f={x:-1,y:-1,w:-1,h:-1});d.applyDefaultBounds(f,"_singleDocument_"==
c);d.convertBoundsToPixels(f);window.cefclient&&(f=g.clone(f),d.convertForCEF(window,f));var k=window.open(a,e,"location\x3dno,menubar\x3dno,toolbar\x3dno,status\x3dno,"+this._formatBounds(f));if(!k)throw Error("Unable to spawn child window");window.cefclient?setTimeout(function(){d.setWindowBounds(k,f)},0):d.setWindowBounds(k,f);this._windowPoller[e]=setInterval(function(){k.closed&&(h._closePackedDocuments(h.retrievePackingList(e)),h._childClosed(k,c),h.discardPackingList(e),clearInterval(h._windowPoller[e]),
delete h._windowPoller[e])},1E3);m.push(k.name);c&&("_childUI_"!==c&&"_singleDocument_"!==c)&&this._setWindowForType(c,k);return k},returnToOriginalContainer:function(a,b){window.opener.DockingManager.dockChild(b)},sendToUndockedContainer:function(a,b,c,d){this._windowForTypeExists(c)?(a=this._getWindowForType(c),a.DockingManager.addToContainer(a.DockingManager._container,this.retrievePackingList(d)),this.discardPackingList(d),a.focus()):this.spawnContainer(a,b,c,d)},sendOpenNotification:function(){this.discardPackingList(window.name);
this._cancelPolling()},sendCloseNotification:function(a){window.opener.DockingManager._childClosed(window,a.contentType)},_cancelPolling:function(){var a=window.name,b=window.opener.DockingManager._windowPoller;b[a]&&(window.opener.clearInterval(b[a]),delete b[a])},buildContainer:function(a,b){var c=this;b.cssFiles&&b.cssFiles.forEach(function(a){c.loadCss(a)});var d=new e;if(b.containerFactoryPath)require([b.containerFactoryPath],function(a){a=(new a).createContainer({parentContainer:b.parent,contentType:"_childUI_",
isDocked:b.isDocked});n[a.id]=a.isDocked;q[a.id]=b.containerFactoryPath;a.isDocked||c._prepareContainer(a);d.resolve(a)});else{var f=c.requiresToolstrip(b),f=new a(b.contentType,{title:b.title,reserveDocumentSpace:!0,showSingleDocumentTab:"_singleDocument_"!==b.contentType,offerDocumentMaximizeButton:!1,parentContainer:b.parent,enableQABCustomization:b.parent.enableQABCustomization,contentType:b.contentType,hasToolstrip:f,hasMnemonics:b.parent.hasMnemonics&&f,isDockable:c.isDockable(b)});c._prepareContainer(f);
c.addToContainer(f,b);d.resolve(f)}return d.promise},isDockable:function(a){var b=!0;"_singleDocument_"===a.contentType?a.documents&&1==a.documents.length&&(b=!1!==a.documents[0].properties.isDockable):"_childUI_"!==a.contentType&&a.types&&1==a.types.length&&(b=!1!==a.parent.getDocumentTypeProperties(a.types[0]).isDockable);return b},requiresToolstrip:function(a){return a.tabGroups&&0<a.tabGroups.length},addToContainer:function(a,b){var c;this._addTypesToContainer(a,b);delete b.types;b.documentContainerState&&
(a._documentContainer?a._documentContainer.isEmpty()&&(c=!0,a._documentContainer.setState(b.documentContainerState)):a._documentContainerState=b.documentContainerState);this._addTabGroupsToContainer(a,b);this._addPanelsToContainer(a,b);this._addDocumentsToContainer(a,b).then(function(){c&&a._documentContainer.endStateRestore()})},_closePackedDocuments:function(a){a.documents&&a.documents.forEach(function(a){a.properties.set(k.IS_OPEN,!1)})},dockChild:function(a,b){b=b||this._container;this.addToContainer(b,
this.retrievePackingList(a));this.discardPackingList(a)},closeUndockedWindows:function(){var a=this;m.forEach(function(b){(b=a._getWindowByName(b))&&b.close()});m.length=0},shouldDockUI:function(a){return!!n[a]},getUIFactoryPath:function(a){return q[a]},_prepareContainer:function(b){var c=this;a(window,"beforeunload",function(){c._cancelPolling();b.destroyRecursive();s.forEach(function(a){a.destroyWidget()});c.sendCloseNotification(b)})},_addTypesToContainer:function(a,b){var c;b.types&&b.types.forEach(function(d){c=
a._getPropertiesForType(d);b.contentType===d&&c.set(h.IS_DOCKED,!a.parentContainer);a._addDocumentType(d)});!a.parentContainer&&"_singleDocument_"!==b.contentType&&a._getPropertiesForType(b.contentType).set("isDocked",!0)},_addTabGroupsToContainer:function(a,b){b.tabGroups&&b.tabGroups.forEach(function(b){a.uiBuilder.tagToId(b.tag)||require([b.factoryPath],function(c){c=new c;s.push(c);c.createWidget(a,b.state,a._getPropertiesForType(b.type))})})},_addPanelsToContainer:function(a,b){b.panels&&b.panels.forEach(function(b){require([b.factoryPath],
function(c){c=new c;var d=c.createProperties(a,b.state);d.region=b.region;a.addPanel(null,d,c,b.state)})})},_addDocumentsToContainer:function(a,c){var d=new e,f=0;c.documents?c.documents.forEach(function(e){require([e.factoryPath],function(g){g=new g;e.properties.region=e.region;b(g.createWidget(a,e.state,e.properties),function(b){a.addDocument(b,e.properties);a.own(e.properties.watch(k.IS_SELECTED,function(){e.properties.isDocked||window.focus()}));f++;f===c.documents.length&&d.resolve()})})}):d.resolve();
return d.promise},_childClosed:function(a,b){var c=m.indexOf(a.name);0<=c&&m.splice(c,1);b&&("_singleDocument_"!==b&&l[b])&&delete l[b]},_setWindowForType:function(a,b){l[a]=b.name},_getWindowForType:function(a){return(a=l[a])?this._getWindowByName(a):null},_windowForTypeExists:function(a){return!!this._getWindowForType(a)},_getWindowByName:function(a){return window.open("",a)},_randomString:function(a){for(var b="",c=0;c<a;c++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*
Math.random()));return b},_formatBounds:function(a){return"left\x3d"+a.x+",top\x3d"+a.y+",width\x3d"+a.w+",height\x3d"+a.h}};window.DockingManager.SINGLE_DOCUMENT_CONTENT="_singleDocument_";window.DockingManager.CHILD_UI_CONTENT="_childUI_";return window.DockingManager})},"MW/uiframework/uicontainer/DocumentTypeProperties":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/layout/DocumentGroupProperties","mw-log/Log"],function(g,c,e,a){g=g([e],{Fixed:void 0,Dynamic:void 0,isDocked:!0,constructor:function(a){delete this.Fixed},
isUndockable:function(){var a,c;if(!this.documentFactory)return!1;if(this.tabGroupTags){if(!this.tabGroupFactories)return!1;for(a=0;a<this.tabGroupTags.length;a++)if(c=this.tabGroupTags[a],!this.tabGroupFactories[c])return!1}return!0}});g.DOCUMENT_COUNT=e.DOCUMENT_COUNT;g.FACET="documentType";g.IS_DOCKED="isDocked";g.WINDOW_BOUNDS="windowBounds";g.IS_MAXIMIZED=e.IS_MAXIMIZED;g.LAST_SELECTED=e.LAST_SELECTED;g.TILE=e.TILE;g.SUB_GRID_SIZE=e.SUB_GRID_SIZE;g.SHRINK_TABS_TO_FIT=e.SHRINK_TABS_TO_FIT;return g})},
"MW/uiframework/uicontainer/WindowBoundsUtils":function(){define(["dojo/_base/lang","dojo/on"],function(g,c){var e=0.1,a=0.1;return{applyDefaultBounds:function(b,c){if(!b.x||0>b.x)b.x=e,e+=0.015,0.5<e&&(e=0.1);if(!b.y||0>b.y)b.y=a,a+=0.02,0.5<a&&(a=0.1);if(!b.w||0>b.w)b.w=c?0.667:0.8;if(!b.h||0>b.h)b.h=0.8},convertBoundsToPixels:function(a){0<a.x&&1>a.x&&(a.x=Math.floor(a.x*window.screen.width));0<a.y&&1>a.y&&(a.y=Math.floor(a.y*window.screen.height));0<a.w&&1>a.w&&(a.w=Math.floor(a.w*window.screen.width));
0<a.h&&1>a.h&&(a.h=Math.floor(a.h*window.screen.height))},addWindowBoundsListener:function(a,e){if(a.cefclient){var g=this,h=a.cefclient.handleWindowResized;a.cefclient.handleWindowResized=function(c){h&&h(c);var d=c.split(",");c={x:parseInt(d[0]),y:parseInt(d[1]),w:parseInt(d[2]),h:parseInt(d[3])};g.convertForCEF(a,c);d=5<=d.length&&0<parseInt(d[4]);e(c,d)}}else{g=this;c(a,"resize",function(){e(g.getWindowBounds(a),!1)});var d=this.getWindowBounds(a),l=setInterval(function(){var c=g.getWindowBounds(a);
if(c.x!==d.x||c.y!=d.y)d.x=c.x,d.y=c.y,e(c,!1)},250);c(a,"load",function(){c(a,"unload",function(){clearInterval(l)})})}},setWindowBounds:function(a,c){if(a.cefclient){var e=g.clone(c);this.convertForCEF(a,e);a.cefclient.sendMessage("setPosition",[e.x,e.y,e.w,e.h])}else a.moveTo(c.x,c.y),a.resizeTo(c.w,c.h)},getWindowBounds:function(a){if(a.cefclient)throw Error("Unsupported");return{x:"number"===typeof a.screenX?a.screenX:"number"===typeof a.screenLeft?a.screenLeft:0,y:"number"===typeof a.screenY?
a.screenY:"number"===typeof a.screenTop?a.screenTop:0,w:a.outerWidth,h:a.outerHeight}},convertForCEF:function(a,c){c.y=a.screen.height-c.y-c.h}}})},"MW/uiframework/uicontainer/LocalSessionDataService":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred MW/uiframework/FeatureDetectionService MW/uiframework/PreferenceDirectoryService MW/uiframework/uicontainer/SessionDataService".split(" "),function(g,c,e,a,b,f){return g([f],{constructor:function(){this._saveInfo={};this._saveToPreferences=
!!window.cefclient},setMinimumSaveInterval:function(a,b){var c=this._saveInfo[a];c||(c={},this._saveInfo[a]=c);c.minSaveInterval=b},save:function(a,b,d){var e=this;if(d)this._saveNow(a,b);else{var f=this._saveInfo[a];f?(f.pendingSaveData=b,f.waitingForTimeout||(f.waitingForTimeout=!0,setTimeout(c.hitch(this,function(){f.pendingSaveData&&(e._saveNow(a,f.pendingSaveData),f.waitingForTimeout=!1,f.pendingSaveData=null)}),f.minSaveInterval))):this._saveNow(a,b)}},flush:function(){Object.keys(this._saveInfo).forEach(function(a){var b=
this._saveInfo[a];b.pendingSaveData&&(this._saveNow(a,b.pendingSaveData),b.waitingForTimeout=!1,b.pendingSaveData=null)},this)},retrieve:function(a){var c=new e;if(this._saveToPreferences)b.readFileFromPreferenceDirectory(a+".json").then(function(a){c.resolve(JSON.parse(a))},function(a){c.reject(a)});else{var d=localStorage.getItem(a);d?c.resolve(JSON.parse(d)):c.reject(a+" not found in local storage")}return c.promise},_saveNow:function(a,c){var d=JSON.stringify(c);this._saveToPreferences?b.writeFileToPreferenceDirectory(a+
".json",d):localStorage.setItem(a,d)}})})},"MW/uiframework/FeatureDetectionService":function(){define(["dojo/_base/declare","./featuredetection/Feature","./featuredetection/DefaultFeatures","dojo/text!./featuredetection/FeatureNames.json"],function(g,c,e,a){var b={},f={};return new (g(null,{FeatureNames:JSON.parse(a).reduce(function(a,b){a[b]=b;return a},{}),constructor:function(){this._registerDefaultFeatures()},_registerDefaultFeatures:function(){e.forEach(function(a){this.registerFeature(a)},this)},
registerFeature:function(a){if(!(a instanceof c))throw Error("Only an instance of MW/uiframework/featuredetection/Feature can be registered with the Feature Detection Service!");this._verifyFeatureName(a.name);if(b[a.name])throw Error("A feature with this name has already been registered!");b[a.name]=a;this._triggerFeatureRegistrationCallbacks(a.name,!0)},unregisterFeature:function(a){this._verifyFeatureExistence(a);this._triggerFeatureRegistrationCallbacks(a,!1);delete b[a]},_verifyFeatureExistence:function(a){if(!b[a])throw Error("No registered feature with this name found! Use 'listRegisteredFeatures' to see a list of all the registered feature names and 'registerFeature' to register one.");
},_verifyFeatureName:function(a){if(-1===Object.keys(this.FeatureNames).map(function(a){return this.FeatureNames[a]},this).indexOf(a))throw Error("The feature's name is not valid! Only the names present in the MW/uiframework/featuredetection/FeatureNames.json are valid.");},_triggerFeatureRegistrationCallbacks:function(a,b){void 0!==f[a]&&f[a].forEach(function(a){a(b)})},listRegisteredFeatures:function(){return Object.keys(b)},isFeatureRegistered:function(a){this._verifyFeatureName(a);return!!b[a]},
getFeatureStatus:function(a){this._verifyFeatureExistence(a);try{return b[a].get("status")}catch(c){throw Error("An error occurred while running the detection function for the feature named: '"+a+"'. The error was: "+c.message);}},watchFeatureStatus:function(a,c){var d=!1;this._verifyFeatureExistence(a);return{remove:b[a].watch("status",function(a,b,e){d||c(e)}).remove,pause:function(){d=!0},resume:function(){d=!1}}},watchFeatureRegistration:function(a,b){var c=!1,e;this._verifyFeatureName(a);e=function(a){c||
b(a)};void 0===f[a]?f[a]=[e]:f[a].push(e);return{remove:function(){var b=f[a].indexOf(e);-1<b&&f[a].splice(b,1)},pause:function(){c=!0},resume:function(){c=!1}}},destroy:function(){b={};f={}}}))})},"MW/uiframework/featuredetection/Feature":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/Deferred","dojo/promise/Promise"],function(g,c,e,a,b){return g([e],{_isAsync:null,constructor:function(a){void 0===a&&(a={});this.status=null;if("string"!==typeof a.name||0===a.name.length)throw Error("A valid 'name' must be provided!");
this.name=a.name;if(!c.isFunction(a.detectionFunction))throw Error("A 'detectionFunction' must be provided!");this.detectionFunction=a.detectionFunction},refreshStatus:function(){this._runDetectionFunction(!0)},_statusGetter:function(){var b;null===this.status?b=this._runDetectionFunction():this._isAsync?(b=new a,b.resolve(this.status),b=b.promise):b=this.status;return b},_runDetectionFunction:function(a){var e=this.detectionFunction();e instanceof b?(this._isAsync=!0,e.then(c.hitch(this,function(b){a?
this.set("status",b):this.status=b}))):(this._isAsync=!1,a?this.set("status",e):this.status=e);return e}})})},"MW/uiframework/featuredetection/DefaultFeatures":function(){define(["./CEFFeature"],function(g){return[g]})},"MW/uiframework/featuredetection/CEFFeature":function(){define(["MW/uiframework/featuredetection/Feature"],function(g){return new g({name:"CEF",detectionFunction:function(){return!!window.cefclient}})})},"MW/uiframework/PreferenceDirectoryService":function(){define(["mw-remote/Remote",
"dojo/Deferred","mw-filename-utils/FileNameUtil"],function(g,c,e){var a=null;g.registerResponseHandler("FEvalResponse:GetPreferenceDirectory",function(b,c){1===b.length?b[0].isError?c.reject(b[0]):(a=b[0].results[0],c.resolve(a)):c.reject("Error while getting prefdir: Expected 1 result message back, received: "+b.length)},this);g.registerFaultHandler("FEval:GetPreferenceDirectory",function(a,c){c.reject(a)},this);g.registerResponseHandler("CreateFileResponse:WriteFileToPreferenceDirectory",function(a,
c){1===a.length?a[0].messageFaults&&0<a[0].messageFaults.length?c.reject(a[0].messageFaults):c.resolve("File Created"):c.reject("Error while writing file to prefdir: Expected 1 result message back, received: "+a.length)},this);g.registerFaultHandler("CreateFileResponse:WriteFileToPreferenceDirectory",function(a,c){c.reject(a)},this);g.registerResponseHandler("OpenFileResponse:ReadFileFromPreferenceDirectory",function(a,c){1===a.length?a[0].messageFaults&&0<a[0].messageFaults.length?c.reject(a[0].messageFaults):
c.resolve(a[0].file.content):c.reject("Error while reading file from prefdir: Expected 1 result message back, received: "+a.length)},this);g.registerFaultHandler("OpenFileResponse:ReadFileFromPreferenceDirectory",function(a,c){c.reject(a)},this);return{getPreferenceDirectoryPath:function(){var b=new c;null===a?g.sendMessage({FEval:{"function":"prefdir",arguments:[],nargout:1,priority:1}},b,"GetPreferenceDirectory"):b.resolve(a);return b.promise},writeFileToPreferenceDirectory:function(a,f){var k=
new c;this.getPreferenceDirectoryPath().then(function(c){c=e.createEmptyFileObject(c,a);c.content=f;g.sendMessage({CreateFile:{file:c,updateIfExists:!0}},k,"WriteFileToPreferenceDirectory")});return k.promise},readFileFromPreferenceDirectory:function(a){var f=new c;this.getPreferenceDirectoryPath().then(function(c){g.sendMessage({OpenFile:{path:e.createFilePath(c,a)}},f,"ReadFileFromPreferenceDirectory")});return f.promise}}})},"mw-filename-utils/FileNameUtil":function(){define(["dojo/_base/array"],
function(g){return{MATLAB_FILE_PATTERN:/^[a-z][a-z0-9_]*\.m$/i,USER_DIR_PATH:"users/",USERS_DIR_PATH:"/users/",USER_PUBLISHED_DIR:"Published",USER_PUBLISHED_DIR_PATH_PATTERN:"^/MATLAB Drive/Published$",USER_SHARED_DIR_PATH_PATTERN:"^/MATLAB Drive/Shared$",IN_USER_SHARED_DIR_PATTERN:"^/MATLAB Drive/Shared/*",BROWSER_TYPES:"htm html pdf doc docx dot dotx rtf docm dotm xls asv dat exe dll zip".split(" "),LOAD_TYPES:["mat"],MATLAB_OPEN_TYPES:"fig tif png jpg jpeg gif au bmp mlx xlsx".split(" "),LIVE_SCRIPT_EXTENSION:"mlx",
MATLAB_CODE_FILE_EXTENSION:"m",FILENAME_PATTERN:/^[^\"\/\*:><\?\\|]+$/,MATLAB_EXTENSION_PATTERN:/\.(m|mln|mlx)$/i,SUPPORTED_EXTENSION_PATTERN:/\.(pdf|html|htm)$/i,SUPPORTED_FILENAME_PATTERN:/^[a-z][a-z0-9_]*\.(m|mln|mlx|pdf|html|htm)$/i,MATLAB_FILENAME_PATTERN:/^[a-z][a-z0-9_]*\.(m|mln|mlx)$/i,MATLAB_NAME_LENGTH:63,FILE_NAME_LENGTH:128,isMatlabFileInfo:function(c){return this._fileInfoNameMatchesRegExp(c,this.MATLAB_FILE_PATTERN)},isMatlabFileName:function(c){return this._fileNameMatchesRegExp(c,
this.MATLAB_FILE_PATTERN)},isValidFileName:function(c){return this._fileNameMatchesRegExp(c,this.FILENAME_PATTERN)},checkFileInfoExtension:function(c,e){return c&&c.name&&this.checkFileNameExtension(c.name,e)},checkFileNameExtension:function(c,e){e instanceof Array||(e=[e]);return g.some(e,function(a){return this.getFileNameExtension(c).toLocaleLowerCase()===a.toLocaleLowerCase()},this)},constructMatlabFilePath:function(c){return"'"+this.pathFromFileInfo(c).replace(/'/g,"''")+"'"},constructUrlFromFileInfo:function(c,
e){var a="/"+c.location.substring(Math.min(c.location.indexOf("/MATLAB Drive/")+14,c.location.length));return this.USER_DIR_PATH+e+a+c.name},constructPathFromUserName:function(c){if(c)return this.USERS_DIR_PATH+c+"/"},getFileSeparator:function(c){return-1!==c.search(/^[a-z]:/i)||-1!==c.search(/^\\\\/i)?"\\":"/"},getFileNameNoExtension:function(c){if(!c||"string"!==typeof c)return c;var e=-1!==c.lastIndexOf(".")?c.lastIndexOf("."):c.length;return c.slice(0,e)},getFileNameExtension:function(c){if(!c||
"string"!==typeof c)return c;var e=-1!==c.lastIndexOf(".")?c.lastIndexOf(".")+1:c.length;return c.substring(e,c.length)},normalizePath:function(c){var e=this.getFileSeparator(c);return c.replace(/[\/\\]*$/,e)},parseHomeFolderFromPath:function(c,e){var a=c.indexOf(e),b="";0<a&&(b=c.substring(0,a+e.length)+this.getFileSeparator(c));return b},getPackageStartFromLocation:function(c){c=this.normalizeLocation(c);var e=this.getFileSeparator(c);"\\"===e&&(e+=e);return c.search("(\\"+e+"\\+[a-zA-Z][a-zA-Z0-9_]*)+\\"+
e+"$")},getFullyQualifiedMatlabName:function(c){var e=this.convertLocationToPackage(c.location);c=this.getFileNameNoExtension(c.name);return e+c},getPathForPublish:function(c,e){var a;-1<c.location.indexOf("+")?a=this.getFullyQualifiedMatlabName(c):(a=e?c.location.replace("/MATLAB Drive/",e):c.location,a+=c.name);return a},convertToPublishURLFromMATLABDriveURL:function(c,e){if(0===c.indexOf("/MATLAB Drive/"+this.USER_PUBLISHED_DIR))return c.replace("/MATLAB Drive/",e)},areFilesEqual:function(c,e){return this.pathFromFileInfo(c)===
this.pathFromFileInfo(e)},convertPathToRowClass:function(c){return c.replace(/[\/\.]/g,"_")},convertLocationToPackage:function(c){c=this.normalizeLocation(c);var e=this.getPackageStartFromLocation(c);if(0>e)return"";var a=this.getFileSeparator(c);"\\"===a&&(a+=a);return c.substring(e+1,c.length).replace(/\+/g,"").replace(RegExp("\\"+a,"g"),".")},isShareable:function(c){return c.location===this.USERS_DIR_PATH||this.isUserPublishedDirectoryPath(c.path)?!1:c.shareAttributes&&void 0!==c.shareAttributes.canProduceShare?
c.shareAttributes.canProduceShare:c.isDirectory&&!(c.parent&&"ROOT"===c.parent.pathId)},isUserSharedDirectoryPath:function(c){return c.match(this.USER_SHARED_DIR_PATH_PATTERN)},isInUsersSharedDirectory:function(c){return-1!==c.search(this.IN_USER_SHARED_DIR_PATTERN)},isCurrentFolderInPath:function(c,e){return-1!==e.search(c)},isUserPublishedDirectoryPath:function(c){return c.match(this.USER_PUBLISHED_DIR_PATH_PATTERN)},isVersioned:function(c){return!c.isDirectory&&this.isWritable(c)&&this.isMatlabEditorOpenType(c)},
isWritable:function(c){return c&&c.filePermissions&&c.filePermissions.canWrite},isLiveScriptFile:function(c){return this.getFileNameExtension(c)===this.LIVE_SCRIPT_EXTENSION},isPlainCodeFile:function(c){return this.getFileNameExtension(c)===this.MATLAB_CODE_FILE_EXTENSION},canRename:function(c){return!c||c.parent&&"ROOT"===c.parent.pathId||c.parent&&c.name===this.USER_PUBLISHED_DIR&&"ROOT"===c.parent.parent.pathId?!1:this.isWritable(c)},canDelete:function(c){return this.canRename(c)},canDownload:function(c){return!c||
c.name&&"mln"===this.getFileNameExtension(c.name).toLocaleLowerCase()?!1:!c.isDirectory},_fileInfoNameMatchesRegExp:function(c,e){var a=!1;c&&c.name&&(a=this._fileNameMatchesRegExp(c.name,e));return a},_fileNameMatchesRegExp:function(c,e){var a=!1,b=this._getCaseInsensitiveRegExp(e);c&&("string"===typeof c&&-1!==c.search(b))&&(a=!0);return a},_getCaseInsensitiveRegExp:function(c){return c instanceof RegExp?RegExp(c.source,"i"):RegExp(c,"i")},assertIsFile:function(c){if(!this.isFile(c))throw Error("MW.utils.FileNameUtil: the object is not a 'File'. "+
JSON.stringify(c));},isFile:function(c){return c&&c.hasOwnProperty("content")&&c.hasOwnProperty("fileInfo")&&this.isFileInfo(c.fileInfo)},assertIsFileInfo:function(c){if(!this.isFileInfo(c))throw Error("MW.utils.FileNameUtil: the object is not a 'FileInfo'. "+JSON.stringify(c));},isFileInfo:function(c){return c&&c.hasOwnProperty("location")&&c.hasOwnProperty("name")&&c.hasOwnProperty("isDirectory")},normalizeLocation:function(c){if("string"===typeof c&&(0===c.length||c.lastIndexOf(this.getFileSeparator(c))!==
c.length-1))c+=this.getFileSeparator(c);return c},createFilePath:function(c,e){return this.normalizeLocation(c)+e},folderInfoFromPath:function(c){c=this.fileInfoFromPath(c);c.isDirectory=!0;return c},fileInfoFromPath:function(c){return{location:this.locationFromPath(c),name:this.nameFromPath(c),filePermissions:{canWrite:!0},isDirectory:!1,separator:this.getFileSeparator(c)}},pathFromFileInfo:function(c){this.assertIsFileInfo(c);return c.location+c.name},locationFromPath:function(c){var e,a=this.getFileSeparator(c),
b=c.split(a);b[b.length-1]?(e=b[b.length-1],e=c.slice(0,c.length-e.length)):b[b.length-2]&&(e=b[b.length-2],e=c.slice(0,c.length-e.length-1));!e&&c===a&&(e=a);return e},getParentPath:function(c){c=this.locationFromPath(c);return this._getPath(c)},_getPath:function(c){if(0===c.length)return c;var e=this.getFileSeparator(c);return c.charAt(c.length-1)!==e||3===c.length&&c.charAt(0).match(/[a-z]/i)&&":"===c.charAt(1)&&"\\"===c.charAt(2)||"/"===c?c:c.slice(0,c.length-1)},nameFromPath:function(c){var e=
"",a=this.getFileSeparator(c);c=c.replace(a+a,a);c=c.split(a);c[c.length-1]?e=c[c.length-1]:c[c.length-2]&&(e=c[c.length-2]);return e},createEmptyFileObject:function(c,e){return{content:"",fileInfo:this.fileInfoFromPath(this.createFilePath(c,e))}},remoteFile:function(c){var e=c;this.isFile(c)&&this.isFileInfo(c.fileInfo)&&(e={content:c.content,fileInfo:this.remoteFileInfo(c.fileInfo)});return e},remoteFileInfo:function(c){var e=c;this.isFileInfo(c)&&(e={location:c.location,name:c.name,isDirectory:c.isDirectory});
return e},extractSelectedFileName:function(c){if(!c||""===c||1>c.length)return"";var e=this.getFileSeparator(c);return 0>c.lastIndexOf(e)?c:c.substring(c.lastIndexOf(e)+1,c.length)},isBrowserType:function(c){return this.checkFileInfoExtension(c,this.BROWSER_TYPES)?!0:!1},isLoadType:function(c){return this.checkFileInfoExtension(c,this.LOAD_TYPES)?!0:!1},isMatlabOpenType:function(c){return this.checkFileInfoExtension(c,this.MATLAB_OPEN_TYPES)?!0:!1},isMatlabEditorOpenType:function(c){return!(this.checkFileInfoExtension(c,
this.BROWSER_TYPES)||this.checkFileInfoExtension(c,this.LOAD_TYPES)||this.checkFileInfoExtension(c,this.MATLAB_OPEN_TYPES))}}})},"MW/uiframework/uicontainer/SessionDataService":function(){define(["dojo/_base/declare"],function(g){return g([],{save:function(c,e,a){throw Error("not implemented");},flush:function(){throw Error("not implemented");},retrieve:function(c){throw Error("not implemented");}})})},"MW/uiframework/uicontainer/peer/UIContainerPeer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-construct dojo/on dijit/layout/ContentPane mw-messageservice/MessageService mw-peermodel/PeerModelManager MW/uiframework/constants/TypeConstants MW/uiframework/UIBuilderFactory MW/uiframework/UIContainer MW/uiframework/uicontainer/peer/PeerNodeStatefulBridge mw-actiondataservice/ActionDataService mw-log/Log exports".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p){g=g(null,{constructor:function(a){var c=this;this.id=a.id;this.serverChannel=a.serverChannel;this.clientChannel=a.clientChannel;this.toolstripChannel=a.toolstripChannel;this._uiContainer=a.uiContainer;this._deferredEvents=[];k.isRunning()||k.start();this._serverModelManager=h.getInstance(this.serverChannel);this._serverModelManager.setSyncEnabled(!0);this._serverModelManager.addEventListener("rootSet",this._handleServerRootSet,this);this.clientChannel&&(this._clientModelManager=
h.getServerInstance(this.clientChannel),this._clientModelManager.setSyncEnabled(!0));this._uiContainer||(this._uiBuilder=l.getInstance({isMATLABDriven:!!this.toolstripChannel,channel:this.toolstripChannel,manageTabGroupsOutsidePeerModel:!0}));this.toolstripChannel&&(a=h.getInstance(this.toolstripChannel),a.setSyncEnabled(!0),a.addEventListener("rootSet",this._handleToolstripRootSet,this));this._uiContainer&&(this._buildContainerModel(this._uiContainer),this._listenForContainerChanges(this._uiContainer));
this._unloadListener=b(window,"beforeunload",function(){c.destroy()})},destroy:function(){this._isDestroying||(this._isDestroying=!0,h.cleanup(this.channel),this._uiContainer&&this._builtContainer&&this._uiContainer.shutdown(),this._isDestroying=!1)},detachFromContainer:function(){this._clientRoot&&this._clientRoot.getChildren().forEach(function(a){var b=a.getType();if("panel"===b||"documentType"===b||"document"===b)n.unlink(a),a.destroy()});this._unloadListener&&(this._unloadListener.remove(),delete this._unloadListener);
h.cleanup(this.clientChannel)},_handleServerRootSet:function(a){this._serverRoot=a.target;this._serverRoot.addEventListener("peerEvent",this._getSafeHandler(this._handleServerPeerEvent),this);this._serverRoot.addEventListener("propertySet",this._getSafeHandler(this._handleServerPropertySet),this);this._serverRoot.addEventListener("childAdded",this._getSafeHandler(this._handleServerChildAdd),this);this._serverRoot.addEventListener("childRemoved",this._getSafeHandler(this._handleServerChildRemove),
this);this._buildContainerWhenReady()},_handleToolstripRootSet:function(a){var b=this;a.target.addEventListener("childAdded",function(a){a.data.child.getType()===d.ORPHAN_ROOT&&(b._isToolstripRootReady=!0,b._buildContainerWhenReady())})},_buildContainerWhenReady:function(){!this._uiContainer&&(this._serverRoot&&(this._isToolstripRootReady||!this.toolstripChannel))&&this._buildContainerAfterDelay(0)},_buildContainerAfterDelay:function(a){var b=this;setTimeout(function(){b._uiContainer||b._buildContainer()},
a)},_buildContainer:function(){var a={appId:this.id,uiBuilder:this._uiBuilder},b=this._createContainerPropertyTranslators(),d=this._serverRoot.getProperties();Object.keys(d).forEach(function(a){var c=b[a];c&&(d[a]=c.fromPeer(d[a]))});c.mixin(a,d);this._uiContainer=new m("uiroot",a);this._builtContainer=!0;n.link(this._serverRoot,this._uiContainer,b);this._setupContainerCloseApproval(this._serverRoot.getProperty("hasCloseApprover"));this._deferredEvents.forEach(function(a){a()})},_getSafeHandler:function(a){return c.partial(this._handleContainerEvent,
a)},_handleContainerEvent:function(a,b){this._uiContainer?c.hitch(this,a)(b):this._deferredEvents.push(c.hitch(this,a,b))},_handleServerPeerEvent:function(a){"start"===a.data.type?this._uiContainer.startup():"closeReply"===a.data.type&&(this._pendingCloseQuery&&this._pendingCloseQuery.id===a.data.id)&&(a.data.approve?this._pendingCloseQuery.resolve(!0):this._pendingCloseQuery.reject(),delete this._pendingCloseQuery)},_handleServerPropertySet:function(a){"hasCloseApprover"===a.data.key&&this._setupContainerCloseApproval(a.data.newValue)},
_setupContainerCloseApproval:function(a){var b=this;a?(this._containerCloseApprover=function(){b._pendingCloseQuery=new e;b._pendingCloseQuery.id=String(Date.now());b._serverRoot.dispatchPeerEvent("closeQuery",null,{id:b._pendingCloseQuery.id});return b._pendingCloseQuery.promise},this._uiContainer.addCloseApprover(this._containerCloseApprover)):this._containerCloseApprover&&(this._uiContainer.removeCloseAppover(this._containerCloseApprover),delete this._containerCloseApprover)},_handleServerChildAdd:function(a){var b,
d,e;a=a.data.child;var g=this;if(a)switch(a.getType()){case "panel":b=n.createChildPropertiesFromPeerNode(a);b.factoryPath?require([b.factoryPath],function(a){a=new a;g._loadCssFiles(a.getCssFiles());d=a.createWidget(g,n.convertToObjectIfJson(b.content));g._uiContainer.addPanel(d,b,a,b.content)}):(d=new f({content:b.content}),this._uiContainer.addPanel(d,b));break;case "documentType":b=n.createDocumentTypePropertiesFromPeerNode(a);b.tabGroupTags||(b.tabGroupTags=[]);this._uiContainer.registerDocumentType(b.typeId,
b);break;case "document":b=n.createChildPropertiesFromPeerNode(a),e=this._uiContainer.getDocumentTypeProperties(b.documentType),e.documentFactory||e.factoryPath?e.documentFactory?this._createAndAddDocument(b,e.documentFactory):require([e.factoryPath],function(a){e.documentFactory=new a;g._createAndAddDocument(b,e.documentFactory)}):(d=new f({content:b.content}),this._uiContainer.addDocument(d,b)),this._setupDocumentCloseApproval(a,b),b.watch("hasCloseApprover",c.hitch(this,"setupDocumentCloseApproval",
a,b))}},_createAndAddDocument:function(a,b){this._loadCssFiles(b.getCssFiles());var c=b.createWidget(this,n.convertToObjectIfJson(a.content));this._uiContainer.addDocument(c,a)},_handleServerChildRemove:function(a){if(a=a.data.child){switch(a.getType()){case "panel":var b=this._uiContainer.removePanel(a.getProperty("panelId"));b&&b.destroyRecursive();break;case "documentType":this._uiContainer.unregisterDocumentType(a.getProperty("typeId"));break;case "document":b=a.getProperty("documentId")||a.getProperty("title"),
(b=this._uiContainer.getChildProperties(b,a.getProperty("documentType")))&&b.set("isOpen",!1)}n.unlink(a)}},_setupDocumentCloseApproval:function(a,b){void 0!==b.hasCloseApprover&&(b.hasCloseApprover?(b.canClose=function(){b._pendingCloseQuery=new e;b._pendingCloseQuery.id=String(Date.now());a.dispatchPeerEvent("closeQuery",null,{id:b._pendingCloseQuery.id});return b._pendingCloseQuery.promise},a.addEventListener("peerEvent",c.hitch(this,"_handleDocumentPeerEvent",b))):b.canClose&&delete b.canClose)},
_handleDocumentPeerEvent:function(a,b){"closeReply"===b.data.type&&(a._pendingCloseQuery&&a._pendingCloseQuery.id===b.data.id)&&(b.data.approve?a._pendingCloseQuery.resolve(!0):a._pendingCloseQuery.reject(),delete a._pendingCloseQuery)},_buildContainerModel:function(a){this._clientRoot=n.createPeerNodeFromUIContainer(this._clientModelManager,a,this._createContainerPropertyTranslators());var b=this;a.getPanels().forEach(function(a){n.createPeerNodeFromChildProperties(b._clientRoot,"panel",a.properties)});
a.getDocuments().forEach(function(a){n.createPeerNodeFromChildProperties(b._clientRoot,"document",a.properties)});a.getDocumentTypes().forEach(function(a){n.createPeerNodeFromDocumentTypeProperties(b._clientRoot,a.type,a.properties)})},_listenForContainerChanges:function(a){var b=this;a.on(m.CHILD_ADDED,function(a){switch(a.childType){case "panel":case "document":a.properties.isDocking||n.createPeerNodeFromChildProperties(b._clientRoot,a.childType,a.properties);break;case "documentType":n.createPeerNodeFromDocumentTypeProperties(b._clientRoot,
a.typeId,a.properties)}});a.on(m.CHILD_REMOVED,function(a){var c;switch(a.childType){case "panel":c=function(b){return b.getProperty("panelId")===a.properties.panelId};break;case "document":a.properties.isUndocking||(c=function(b){return b.getProperty("documentId")===a.properties.documentId||b.getProperty("title")===a.properties.title});break;case "documentType":c=function(b){return b.getProperty("typeId")===a.properties.typeId}}c&&(c=b._findClientModelChild(a.childType,c))&&c.destroy()})},_findClientModelChild:function(a,
b){var c=this._clientRoot.getChildren(),d,e;for(d=0;d<c.length;d++)if(e=c[d],e.getType()===a&&b(e))return e;return null},_createContainerPropertyTranslators:function(){var a=this;return{selectedChild:{toPeer:function(b){if(!b)return{id:"",title:"",documentTypeId:""};b=a._uiContainer.getChildProperties(b);return{Id:b.panelId||b.documentId,Title:b.title,DocumentTypeId:b.documentType}},fromPeer:function(a){return this._uiContainer.getChildWidget(a.Id||a.Title)}}}},_loadCssFiles:function(a){var b=this;
a.forEach(function(a){b._loadCssFile(a)})},_loadCssFile:function(b){if(this._cssFilesLoaded){if(this._cssFilesLoaded[b])return}else this._cssFilesLoaded={};a.create("link",{rel:"stylesheet",type:"text/css",href:b},document.getElementsByTagName("head")[0]);this._cssFilesLoaded[b]=!0}});return p.UIContainerPeer=g})},"MW/uiframework/uicontainer/peer/PeerNodeStatefulBridge":function(){define(["MW/uiframework/UIContainer","MW/uiframework/uicontainer/ChildProperties","MW/uiframework/uicontainer/DocumentTypeProperties"],
function(g,c,e){var a=["panelId","documentId","documentType",c.ACTIVE_CONTEXTS,c.INDEX,c.DESCRIPTION,c.IS_COLLAPSED,c.IS_COLLAPSIBLE,c.IS_DOCKED,c.IS_MAXIMIZED,c.IS_OPEN,c.IS_RESIZABLE,c.IS_SHOWING,c.IS_SELECTED,c.PERMISSIBLE_REGIONS,c.PREFERRED_WIDTH,c.PREFERRED_HEIGHT,c.REGION,c.TILE,c.TITLE,c.WINDOW_BOUNDS],b=["title","collectiveLabel",e.DOCUMENT_COUNT,e.IS_DOCKED,e.IS_MAXIMIZED,e.TILE,e.SUB_GRID_SIZE,e.SHRINK_TABS_TO_FIT,e.WINDOW_BOUNDS],f=["title",g.WINDOW_BOUNDS,g.IS_VISIBLE,g.LAYOUT,g.DOCUMENT_TAB_POSITION,
g.DOCUMENT_GRID_SIZE,g.DOCUMENT_ROW_WEIGHTS,g.DOCUMENT_COLUMN_WEIGHTS,g.DOCUMENT_TILE_COVERAGE,g.IS_LEFT_COLLAPSED,g.IS_RIGHT_COLLAPSED,g.IS_BOTTOM_COLLAPSED,g.LEFT_WIDTH,g.RIGHT_WIDTH,g.BOTTOM_HEIGHT];return{link:function(a,b,c){var e=this,f,g,q=function(a){var k;g||(k=a.data.key,a=e.convertToObjectIfJson(a.data.newValue),c&&c[k]&&(a=c[k].fromPeer(a)),f=!0,b.set(k,a),f=!1)};a.addEventListener("propertySet",q);var s=b.watch(function(b,h,q){!f&&"string"===typeof b&&(c&&c[b]?(q=c[b].toPeer(q),h=!0):
h=e.isValueTransferrable(q),h&&(g=!0,a.setProperty(b,e.convertToJsonIfObject(q)),g=!1))});a._removeBridgePropertiesLink=function(){a.removeEventListener("propertySet",q);s.remove()}},unlink:function(a){a._removeBridgePropertiesLink&&(a._removeBridgePropertiesLink(),delete a._removeBridgePropertiesLink)},isValueTransferrable:function(a){var b,c;b=typeof a;if("string"===b||"number"===b||"boolean"===b)return!0;if("array"===b){for(b=0;b<a.length;b++)if(!this.isValueTransferrable(a[b]))return!1;return!0}if(a&&
"object"===b){c=Object.keys(a);for(b=0;b<c.length;b++)if(!this.isValueTransferrable(a[c[b]]))return!1;return!0}return!1},createChildPropertiesFromPeerNode:function(a){var b=new c(a.getProperties());this.link(a,b);return b},createPeerNodeFromChildProperties:function(b,c,d){var e=this._filter(d,a);b=b.addChild(c,e);this.link(b,d);return b},createDocumentTypePropertiesFromPeerNode:function(a){var b=e(a.getProperties());this.link(a,b);return b},createPeerNodeFromDocumentTypeProperties:function(a,c,d){var e=
this._filter(d,b);e.typeId=c;a=a.addChild("documentType",e);this.link(a,d);return a},createPeerNodeFromUIContainer:function(a,b,c){var e=this._filter(b,f);a=a.setRoot("containerRoot",e);this.link(a,b,c);return a},_filter:function(a,b){var c={},e,f;for(e=0;e<b.length;e++)f=b[e],void 0!==a[f]&&(c[f]=a[f]);return c},convertToObjectIfJson:function(a){return"string"===typeof a&&"**JSON**"===a.substr(0,8)?JSON.parse(a.substr(8)):a},convertToJsonIfObject:function(a){return"object"===typeof a?"**JSON**"+
JSON.stringify(a):a}}})},"FPTToolstrip/configs/SUDConfig":function(){define(["MW/toolstrip/constants/TypeConstants","dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool","dojo/i18n!Resources/FixedPointTool/nls/toolstrip"],function(g,c,e){return{getID:function(){return"fpttoolstrip.prepare_phase.SUD"},getConfig:function(){return[{tag:"fpttoolstrip.prepare_phase.SUD_label",type:g.LABEL,text:c.SUDLabel,description:c.SUDSummary},{tag:"fpttoolstrip.prepare_phase.SUD",type:g.COMBO_BOX,description:c.SUDSummary}]}}})},
"FPTToolstrip/js/SUDWidgetHandler":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dijit/registry dijit/popup dijit/TooltipDialog MW/uiframework/UIBuilderFactory FPTDispatcher/Dispatcher Startup/Startup".split(" "),function(g,c,e,a,b,f,k,h,d,l){return g(null,{constructor:function(a){var c=this;this._UUID="";this._createStartupWidget();this._uiBuilder=h.getInstance();this._sudSelectionChannel="/fpt/sud_selection/"+this.getUUID();this._sudComboBoxID=this._uiBuilder.tagToId(a);
this._sudSubscription=d.subscribe(this._sudSelectionChannel,this.updateSUDWidget,c);this._sudComboBox=b.byId(this._sudComboBoxID);this._uiBuilder.addEventCallback(this._sudComboBoxID,function(a){var b,d=!1,e;"dropDownPerformed"===a.eventType&&(a=function(){b=c._sudSysInfo.path.split("/");var a=b.length-1?b.length-1:2;e=function(){c._startup.tree.selectTreeNode(c._sudSysInfo.identifier)};c._selectedItem?e():c._startup.tree._modelHierarchy.query({path:b[0]})[0]&&c._startup.fetchDataForTreeNode(b[0],
a,c._sudSysInfo,e)},c._startup.domNode?c._selectedItem=c._startup.getDataForTreeID(c._sudSysInfo.identifier):(c._startup.destroy(),c._createStartupWidget(a),d=!0),c._startup._started||c._startup.startup(),d||a(),c._sudComboBox.get("menu").getChildren().forEach(function(a){a.id!==c._startup.id&&c._sudComboBox.get("menu").menuItemsNode.removeChild(a)}),c._sudComboBox.get("menu").menuItemsNode.appendChild(c._startup.domNode))})},getUUID:function(){return this._startup.getUUID()},getTreeDepth:function(){return this._startup.getTreeDepth()},
updateSUDWidget:function(b){var c=this,d=[{label:b.data.name,value:"0",selected:!0}];this._selectedSystem=d;this._sudSysInfo=b.data;this._sudComboBox._comboBoxMenuOpened?(this._sudComboBox.get("menu").onClose=function(){var d=c._selectedSystem;c._selectedItem=c._startup.getSelectedItem();c._uiBuilder.set(c._sudComboBoxID,"items",d);a.publish("SUDSelected",b.data)},this._sudComboBox.closeMenu()):(this._uiBuilder.set(this._sudComboBoxID,"items",d),a.publish("SUDSelected",b.data))},_createStartupWidget:function(a){var b=
this._UUID;this._startup=new l;this._startup.attachOnDataAvailable(a);this._UUID=this.getUUID();this._sudSubscription&&d.unsubscribe(this._sudSelectionChannel,this.updateSUDWidget,this);this._sudSubscription=null;this._sudSelectionChannel="/fpt/sud_selection/"+this.getUUID();this._sudSubscription=d.subscribe(this._sudSelectionChannel,this.updateSUDWidget,this);a={startupTreeUniqueID:this.getUUID(),oldUniqueID:b,treeDepth:this.getTreeDepth()};d.publish("/fxp/SUD/refreshID",a)},destroyRecursive:function(){d.unsubscribe(this._sudSelectionChannel,
this.updateSUDWidget,this);this._startup.destroy();this._startup=null}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(g,c,e,a,b,f,k,h,d,l,m,n,q){return g("dijit.TooltipDialog",[h,m,l,d],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,
templateString:n,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,"keydown",b.hitch(this,"_onKey")))},orient:function(a,b,d){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight",
"BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+d];c.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();k.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==
a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(b){if(b.keyCode==a.ESCAPE)this.defer("onCancel"),b.stopPropagation(),b.preventDefault();else if(b.keyCode==a.TAB){var c=b.target;this._getFocusItems();
this._firstFocusItem==this._lastFocusItem?(b.stopPropagation(),b.preventDefault()):c==this._firstFocusItem&&b.shiftKey?(k.focus(this._lastFocusItem),b.stopPropagation(),b.preventDefault()):c==this._lastFocusItem&&!b.shiftKey?(k.focus(this._firstFocusItem),b.stopPropagation(),b.preventDefault()):b.stopPropagation()}}})})},"Startup/Startup":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom dojo/dom-construct dojo/topic dijit/Tree dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!Startup/templates/startup.html FPTTree/js/Tree FPTUtils/js/TreeHandler dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool mw-utils/Utils FPTDispatcher/Dispatcher dojo/domReady!".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s,p,r){return g([d,l],{templateString:m,constructor:function(){g.safeMixin(this,{});if(""===this._UUID||"undefined"===typeof this._UUID||null===this._UUID)this._UUID=p.generateUuid().toLowerCase();this._sudPublishChannel="/fpt/model/sud/"+this._UUID;this._closeChannel="/fpt/startup/close/"+this._UUID;this._treeRefreshChannel="/fpt/sud_refresh/"+this._UUID;this._enableCodeViewChannel="/fpt/enableCodeView/"+this._UUID},buildRendering:function(){this.inherited(arguments);
this.tree=new n({AutoExpand:!1,ShowRoot:!0,fptTreeWidgetID:"startupTree",treeBusyNodeID:"startupBusy"});var a=b.create("span",{id:"sudSummary",innerHTML:s.SUDSummary});this.startupText.appendChild(a);this.tree.placeAt(this.startupDialog)},postCreate:function(){this.inherited(arguments);this._treeHandler=new q(this.tree,"_startup_".concat(this._UUID));this._treeHandler.attachOnClickCallback(this,"setSelectedSystem");this._enableCodeViewSubscription=r.subscribe(this._enableCodeViewChannel,c.hitch(this,
"_enableCodeViewLaunch"));this._closeSubscription=r.subscribe(this._closeChannel,c.hitch(this,"_sendSelectedSystem"))},setSelectedSystem:function(a){"FPTRoot"!==a.identifier&&(this._SelectedSystem=a,this._ObjectClass=a["class"],this._sendSelectedSystem())},syncTreeInformation:function(){r.publish(this._treeRefreshChannel,{treeDepth:2})},destroy:function(){this.inherited(arguments);this._closeSubscription&&r.unsubscribe(this._closeSubscription,this._sendSelectedSystem,this);this._enableCodeViewSubscription&&
r.unsubscribe(this._enableCodeViewSubscription,this._enableCodeViewLaunch,this);this._treeHandler.destroy();this._deleteWidgets()},_sendSelectedSystem:function(){r.publish(this._sudPublishChannel,{SUD:this._SelectedSystem,ObjectClass:this._ObjectClass})},_enableCodeViewLaunch:function(a){f.publish("notifyEnableCodeview",a.data.enableCodeView)},_deleteWidgets:function(){var b=a.byId(this.startupText);if(b){var c=b.childNodes[0];c&&b.removeChild(c)}this.tree&&this.tree.destroyRecursive();this.tree=
null},refreshTree:function(){this.tree.showTree()},expandDefaultNodes:function(){this._treeHandler._expandDefaultNodes()},getTreeWidget:function(){return this.tree.getTreeWidget()},getSpinnerWidget:function(){return this.tree.getSpinnerWidget()},getUUID:function(){return this._UUID},getTreeDepth:function(){return this._treeHandler.getTreeDepth()},getSelectedItem:function(){return this.tree.getSelectedItem()},getDataForTreeID:function(a){return this.tree.getDataForTreeID(a)},fetchDataForTreeNode:function(a,
b,c,d){a=this.tree._modelHierarchy.query({path:a});a[0]&&this._treeHandler.fetchDataForTreeNode(a[0],b,c,d)},attachOnDataAvailable:function(a){this._treeHandler.attachOnDataAvailable(a)}})})},"DoubleToSingleConverter/toolstrip/configs/WorkflowConfig":function(){define(["MW/toolstrip/constants/TypeConstants","DoubleToSingleConverter/toolstrip/configs/PrepareConfig","DoubleToSingleConverter/toolstrip/configs/ConvertConfig","dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter"],function(g,c,e,
a){return{tag:"singletoolstrip.tabgroup",type:g.TAB_GROUP,children:[{tag:"singletoolstrip.workflowtab",type:g.TAB,title:a.workflowTabTitle,children:[c,e]}]}})},"DoubleToSingleConverter/toolstrip/configs/PrepareConfig":function(){define(["MW/toolstrip/constants/TypeConstants","FPTToolstrip/configs/SUDConfig","dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter"],function(g,c,e){c=c.getConfig();for(var a=[],b=0;b<c.length;b++)a[b]=c[b];return{tag:"singletoolstrip.prepare_phase",type:g.SECTION,
title:e.systemSectionTitle,children:[{tag:"singletoolstrip.prepare_phase.column1",type:g.COLUMN,children:a,width:300}]}})},"DoubleToSingleConverter/toolstrip/configs/ConvertConfig":function(){define(["MW/toolstrip/constants/TypeConstants","dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter"],function(g,c){return{tag:"singletoolstrip.convert_phase",type:g.SECTION,title:c.convertSectionTitle,children:[{tag:"singletoolstrip.convert_phase.column1",type:g.COLUMN,children:[{tag:"singletoolstrip.convert_phase.convert",
icon:"run_24",type:g.PUSH_BUTTON,enabled:!1,text:c.convertButtonText}]}]}})},"DoubleToSingleConverter/toolstrip/configs/HelpConfig":function(){define(["MW/toolstrip/constants/TypeConstants","dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter"],function(g,c){return{toolstripDescriptor:{tag:"singletoolstrip.help",type:g.SECTION,title:c.helpSectionTitle,children:[{tag:"singletoolstrip.help.column1",type:g.COLUMN,children:[{tag:"singletoolstrip.help.button",icon:"help_24",type:g.SPLIT_BUTTON,
text:c.helpButtonText,popupTag:"help_list"}]}]},QABOnlyDescriptor:{type:g.QAB_SPLIT_BUTTON,tag:"singletoolstrip.qab.help.button",quickAccessIcon:"help_16",text:c.helpButtonText,popupTag:"help_list",tabGroupTag:"singletoolstrip.tabgroup"}}})},"DoubleToSingleConverter/toolstrip/configs/HelpPopupList":function(){define(["MW/toolstrip/constants/TypeConstants","dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter"],function(g,c){return{popups:[{tag:"help_list",type:g.POPUP_LIST,children:[{tag:"singletoolstrip.help.gettingstarted",
text:c.gettingStartedText,type:g.LIST_ITEM},{tag:"singletoolstrip.help.converter",text:c.appHelpText,type:g.LIST_ITEM},{tag:"singletoolstrip.help.product",text:c.productHelpText,type:g.LIST_ITEM}]}]}})},"DoubleToSingleConverter/toolstrip/widgetCallbackManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","FPTDispatcher/Dispatcher"],function(g,c,e,a){return g(null,{_widgetCallbackMap:{},constructor:function(){this._widgetCallbackMap=[{tag:"singletoolstrip.convert_phase.convert",
callback:"DoubleToSingleConverter.convertSystem",inputArgs:"",classifierString:"Single_convert_classifier",preActionCallback:"initiateConversion"},{tag:"singletoolstrip.help.product",callback:"single.cb_launchhelp",inputArgs:["fixedpoint"],classifierString:"Single_product_help_classifier"},{tag:"singletoolstrip.help.gettingstarted",callback:"single.cb_launchhelp",inputArgs:["gettingstarted"],classifierString:"Single_gettingstarted_help_classifier"},{tag:"singletoolstrip.help.converter",callback:"single.cb_launchhelp",
inputArgs:["converter"],classifierString:"Single_converter_help_classifier"},{tag:"singletoolstrip.qab.help.button",callback:"single.cb_launchhelp",inputArgs:["converter"],classifierString:"Single_mainapp_help_classifier"}]},getCallbackMap:function(){return this._widgetCallbackMap}})})},"DoubleToSingleConverter/View":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-style FPTDispatcher/Dispatcher FPTUtils/js/Spinner FPTUtils/js/listNodeGenerator DoubleToSingleConverter/widgets/CompatibilityReport DoubleToSingleConverter/widgets/ConversionReport DoubleToSingleConverter/widgets/VerificationReport DoubleToSingleConverter/widgets/utils/Utils dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter StepBar/js/StepBar".split(" "),
function(g,c,e,a,b,f,k,h,d,l,m,n,q,s){return g(null,{constructor:function(a){f.startMessageService();this._parentNode=a.parentContainer;this._stepNameArray=[q.phaseCompatibility,q.phaseConvert,q.phaseVerify];this._stepBar=new s({stepNameArray:this._stepNameArray,id:"singleStepBar","class":"disabledEffect"});this._sudText=e.create("p",{id:"SUDLabel"});this._parentNode.domNode.appendChild(this._sudText);this._stepBar.placeAt(this._parentNode);this._stepBar.startup();this._placeholderSummary=this.createInitialSummary(this._parentNode.domNode);
this._spinner=k.createSpinner(a.rootContainer);this._spinner.hide();f.subscribe("/singleconverter/compatibilityresults","updateCompatibilityResults",this);f.subscribe("/singleconverter/convertresults","updateConversionResults",this);f.subscribe("/singleconverter/verifyresults","updateVerificationResults",this)},createInitialSummary:function(a){var b=e.create("div");e.create("p",{id:"placeholderText","class":"disabledEffect",innerHTML:q.toolIntroWatermark},b);e.place(b,a);return b},updateCompatibilityResults:function(b){this._compatibilitySection=
new d({store:b.data,id:"compatibility"});a.remove(this._stepBar.domNode,"disabledEffect");this._compatibilitySection.hasFailures()?(this._markStepAsFailed(this._stepNameArray[0]),this._spinner.hide()):this._markStepAsPassed(this._stepNameArray[0]);this._compatibilitySection.placeAt(this._parentNode)},updateConversionResults:function(a){this._conversionSection=new l({store:a.data,id:"conversion"});this._conversionSection.hasFailures()?(this._markStepAsFailed(this._stepNameArray[1]),this._spinner.hide()):
this._markStepAsPassed(this._stepNameArray[1]);this._conversionSection.placeAt(this._parentNode)},updateVerificationResults:function(a){this._spinner.hide();this._verifySection=new m({store:a.data,id:"verification"});this._verifySection.hasFailures()?this._markStepAsFailed(this._stepNameArray[2]):this._markStepAsPassed(this._stepNameArray[2]);this._verifySection.placeAt(this._parentNode)},initiateConversion:function(){this.hideInitialSummary();this.clearReport();this._stepBar.resetBar();this._spinner.show()},
clearReport:function(){this._compatibilitySection&&(this._compatibilitySection.destroy(),this._compatibilitySection=null);this._conversionSection&&(this._conversionSection.destroy(),this._conversionSection=null);this._verifySection&&(this._verifySection.destroy(),this._verifySection=null)},hideInitialSummary:function(){this._placeholderSummary.classList.add("hidden")},showInitialSummary:function(){this._placeholderSummary.classList.remove("hidden")},displaySUD:function(a){this._sudLink&&(this._sudText.removeChild(this._sudLink),
this._sudLink=void 0);this._sudLink=h.createListNodeWithHyperlink({content:a.name,objectClass:a.ObjectClass,identifier:a.identifier,id:"sudLink",classLabel:a.identifier+"hyperlinklist",hyperLinkCallback:n.highlightBlock,refNode:this._sudText})},destroyRecursive:function(){f.unsubscribe("/singleconverter/compatibility","updateCompatibilityResults",this);f.unsubscribe("/singleconverter/convert","updateConversionResults",this);f.unsubscribe("/singleconverter/verify","updateVerificationResults",this)},
_markStepAsFailed:function(a){this._stepBar.markStepAsFailed(a)},_markStepAsPassed:function(a){this._stepBar.markStepAsPassed(a)}})})},"FPTUtils/js/Spinner":function(){define(["dojo/dom-construct","mw-overlay-utils/BusyOverlay","dojo/query","dijit/registry"],function(g,c,e,a){return{createSpinner:function(b){var f=e(".mw-busyIndicator")[0],g;f&&f.parentNode===b&&(g=a.byNode(f));if(!f||!g)g=new c;g.set("target",b);return g}}})},"FPTUtils/js/listNodeGenerator":function(){define(["dojo/dom-construct",
"dojo/on","mw-log/Log"],function(g,c,e){return{createUnorderedList:function(a){if(a&&a.id&&a.appendID)return g.create("ul",{id:a.id},a.appendID,"last");e.error("createUnorderedList() expects an object with an id and appendID property to create a ul node successfully")},createListNodeWithHyperlink:function(a){if(a&&a.identifier&&a.classLabel&&a.refNode&&a.content&&a.hyperLinkCallback){var b=g.create("li",{},a.refNode),f=g.create("a",{"class":a.classLabel,id:a.id,innerHTML:a.content},b);a&&a.identifier&&
f.setAttribute("identifier",a.identifier);a&&a.objectClass&&f.setAttribute("objectClass",a.objectClass);c(f,"click",a.hyperLinkCallback);return b}e.error("createListNodeWithHyperlink() expects an object with content, classLabel and refNode property to create a li node successfully")},createListNode:function(a){if(a&&a.content&&a.classLabel&&a.refNode)return g.create("li",{innerHTML:a.content,"class":a.classLabel},a.refNode);e.error("createListNode() expects an object with content, classLabel and refNode property to create a li node successfully")}}})},
"DoubleToSingleConverter/widgets/CompatibilityReport":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!DoubleToSingleConverter/widgets/templates/CompatibilityReport.html dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter dojo/dom-construct DoubleToSingleConverter/widgets/utils/Utils FPTDispatcher/Dispatcher FPTUtils/js/listNodeGenerator".split(" "),function(g,c,e,a,b,f,k,h,d){return g([c,e],{sectionTitle:b.CompatibilitySectionSummary,templateString:a,
store:null,widgetsInTemplate:!0,constructor:function(a){g.safeMixin(this,a);g.safeMixin(this,{_failed:!1})},buildRendering:function(){this.inherited(arguments);f.create("p",{innerHTML:b.NoIssuesCompatibility},this.statuscompatibility);this._populateErrors(this.store);this._populateModelChanges(this.store);this._populateIncompatibleBlocks(this.store);this._populateUnsupportedBlocks(this.store);this._populateLockedBlocks(this.store)},startup:function(){this.inherited(arguments);this._solverGrid&&this._solverGrid.startup();
this._incompatGrid&&this._incompatGrid.startup();this._unsupportedGrid&&this._unsupportedGrid.startup();this._lockedGrid&&this._lockedGrid.startup()},destroy:function(){this.inherited(arguments);this._solverGrid&&(this._solverGrid.destroyRecursive(),this._solverGrid=null);this._incompatGrid&&(this._incompatGrid.destroyRecursive(),this._incompatGrid=null);this._unsupportedGrid&&(this._unsupportedGrid.destroyRecursive(),this._unsupportedGrid=null);this._lockedGrid&&(this._lockedGrid.destroyRecursive(),
this._lockedGrid=null)},_populateModelChanges:function(a){(!k.isEmptyArray(a.DTOSettings)||!k.isEmptyArray(a.SolverSettings)||!k.isEmptyArray(a.TLSSettings))&&f.create("h5",{innerHTML:b.ModelChangeSummary},this.modelchangessummary);this._populateDTOSettings(a);this._populateSolverSettings(a);this._populateC99Settings(a)},_populateDTOSettings:function(a){var c=null,e=this;if(c=k.getValueAsArray(a.DTOSettings))f.create("p",{innerHTML:b.DTOChangeText},this.dtochanges),this._dtoUnorderedList=d.createUnorderedList({id:"dtolist",
appendID:this.dtochanges}),c.forEach(function(a,b){d.createListNode({content:a.System,classLabel:"dtochanges",refNode:e._dtoUnorderedList})})},_populateSolverSettings:function(a){var c=null;if(c=k.getValueAsArray(a.SolverSettings)){var d=[{field:"System",label:b.SolverSystemLabel},{field:"Original",label:b.SolverOriginalLabel},{field:"Current",label:b.SolverCurrentLabel}];f.create("p",{innerHTML:b.SolverChangeSummary},this.solverchange);a=f.create("div",{},this.solverchange);c=k.createSpreadsheetStore(c,
"solverStore");this._solverGrid=k.createSpreadsheetGrid({storeData:c,columns:d,gridID:"solverGrid",maxRowsPerPage:3,parentNode:a})}},_populateC99Settings:function(a){var c=null,e=this;if(c=k.getValueAsArray(a.TLSSettings))f.create("p",{innerHTML:b.c99ChangeSummary},this.c99change),this._c99UnorderedList=d.createUnorderedList({id:"c99list",appendID:this.c99change}),c.forEach(function(a,b){d.createListNode({content:a.Model,classLabel:"c99changes",refNode:e._c99UnorderedList})})},_populateErrors:function(a){a.Message&&
(this._failed=!0,this._removeNoIssueStatus(),f.create("p",{innerHTML:a.Message,id:"errorMsg","class":"errors"},this.errors))},_populateIncompatibleBlocks:function(a){var c=null,d=[{field:"Name",label:b.PathLabel,renderCell:this._makeHyperlink}];if(c=k.getValueAsArray(a.IncompatibleBlks))this._failed=!0,this._removeNoIssueStatus(),a=this._gatherBlkListData(c),this._incompatGrid=k.createListOrGridWithHyperlinks({data:a,parentNode:this.incompatibleresults,sectionSummary:b.IncompatibleBlockSummary,columns:d,
idBase:"incompatibleBlk"})},_populateUnsupportedBlocks:function(a){var c=null,d=[{field:"Name",label:b.PathLabel,renderCell:this._makeHyperlink}];if(c=k.getValueAsArray(a.UnsupportedBlks))this._failed=!0,this._removeNoIssueStatus(),a=this._gatherBlkListData(c),this._unsupportedGrid=k.createListOrGridWithHyperlinks({data:a,parentNode:this.unsupportedresults,sectionSummary:b.UnsupportedBlockSummary,columns:d,idBase:"unsupportedBlk"})},_populateLockedBlocks:function(a){var c=null,d=[{field:"Name",label:b.PathLabel,
renderCell:this._makeHyperlink}];if(c=k.getValueAsArray(a.DTLockedDblBlks))this._removeNoIssueStatus(),a=this._gatherBlkListData(c),this._lockedGrid=k.createListOrGridWithHyperlinks({data:a,parentNode:this.lockedresults,sectionSummary:b.LockedBlocksSummary,columns:d,idBase:"lockedBlk"})},_removeNoIssueStatus:function(){var a=this.statuscompatibility.childNodes;a&&0<a.length&&this.statuscompatibility.removeChild(a[0])},_gatherBlkListData:function(a){var b=[];a.forEach(function(a,c){b.push({Name:a.Name,
UniqueID:a.UniqueID,id:a.UniqueID+"_"+c,objectClass:a.objectClass})});return b},_makeHyperlink:function(a,b,c,d){return f.create("a",{innerHTML:a.Name,id:a.id,identifier:a.UniqueID,objectClass:a.objectClass})},hasFailures:function(){return this._failed}})})},"DoubleToSingleConverter/widgets/utils/Utils":function(){define("DoubleToSingleConverter/widgets/utils/SimpleMemoryStore DoubleToSingleConverter/widgets/utils/SimpleGrid FPTUtils/js/listNodeGenerator FPTDispatcher/Dispatcher dojo/on dojo/dom-construct".split(" "),
function(g,c,e,a,b,f){return{isEmptyArray:function(a){return Array.isArray(a)&&0===a.length},createSpreadsheetStore:function(a,b){var c=g.createMemoryStore(a,b);this.createIDForElementsInStore(c);return c},createSpreadsheetGrid:function(a){return c.createSpreadsheetGrid(a)},getValueAsArray:function(a){var b=null;Array.isArray(a)&&0<a.length?b=a:Array.isArray(a)||(b=[a]);return b},createIDForElementsInStore:function(a){a.data.forEach(function(a,b){a.id||(a.id=a.UniqueID+"_"+b)})},highlightBlock:function(b){b.preventDefault();
var c=b.srcElement.querySelector("a");c||(c=b.srcElement);b=c.getAttribute("identifier");c=c.getAttribute("objectClass");a.remoteSendMessage({matlabFunctionName:"DoubleToSingleConverter.highlightBlockWithIdentifier",inputArgs:[b,c],outputArgs:0,priority:1,classifierString:"highlightBlock",contextObject:{}})},createListOrGrid:function(a){var b=null,c,g;a.data&&0<a.data.length&&(f.create("p",{innerHTML:a.sectionSummary},a.parentNode),5<a.data.length?(b=f.create("div",{},a.parentNode),g=this.createSpreadsheetStore(a.data,
a.idBase+"Store"),b=this.createSpreadsheetGrid({storeData:g,gridID:a.idBase+"Grid",columns:a.columns,parentNode:b})):(c=e.createUnorderedList({id:a.idBase+"unorderedlist",appendID:a.parentNode}),a.data.forEach(function(b,f){e.createListNode({content:b.Name,classLabel:a.idBase+"list",refNode:c})})));return b},createListOrGridWithHyperlinks:function(a){var c=null,d=this,g,m;a.data&&0<a.data.length&&(f.create("p",{innerHTML:a.sectionSummary},a.parentNode),5<a.data.length?(c=f.create("div",{},a.parentNode),
m=this.createSpreadsheetStore(a.data,a.idBase+"Store"),c=this.createSpreadsheetGrid({storeData:m,gridID:a.idBase+"Grid",columns:a.columns,parentNode:c}),b(c,".dgrid-cell:click",d.highlightBlock)):(g=e.createUnorderedList({id:a.idBase+"unorderedlist",appendID:a.parentNode}),a.data.forEach(function(b,c){e.createListNodeWithHyperlink({content:b.Name,id:b.id,identifier:b.UniqueID,objectClass:b.objectClass,hyperLinkCallback:d.highlightBlock,classLabel:a.idBase+"hyperlinklist",refNode:g})})));return c}}})},
"DoubleToSingleConverter/widgets/utils/SimpleMemoryStore":function(){define(["dojo/store/Memory"],function(g){return{createMemoryStore:function(c,e){return new g({id:e,data:c})}}})},"DoubleToSingleConverter/widgets/utils/SimpleGrid":function(){define(["dojo/_base/declare","dgrid/extensions/DijitRegistry","dgrid/extensions/ColumnResizer","dgrid/OnDemandGrid"],function(g,c,e,a){return{createSpreadsheetGrid:function(b){var f="autoHeightGrid";15<b.storeData.data.length&&(f="fixedHeightGrid");return new (g([a,
c,e]))({id:b.gridID,"class":f,store:b.storeData,columns:b.columns},b.parentNode)}}})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(g,c,e){return g(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){e.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var a=e.getEnclosingWidget(this.domNode.parentNode);
a&&a.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);e.remove(this.id)},getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},resize:function(a){a&&c.setMarginBox(this.domNode,a);this.inherited(arguments)},_set:function(a,b){this[a]=b},watch:function(){},getParent:function(){return e.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),
function(g,c,e,a,b,f,k,h,d,l){function m(a){for(var b=a.length,c=b,d=a[0].length,e=Array(b);b--;)e[b]=Array(d);for(var f={},b=0;b<c;b++)for(var g=e[b],h=a[b],k=0,l=0;k<d;k++){var m=h[l],n;if("undefined"==typeof g[k]){g[k]=m.id;if(m.rowSpan&&1<m.rowSpan){n=e;for(var p=m.rowSpan,q=b,r=k,s=m.id,O=1;O<p;O++)n[q+O][r]=s}if(0<b&&m.colSpan&&1<m.colSpan)for(n=1;n<m.colSpan;n++)if(g[++k]=m.id,m.rowSpan&&1<m.rowSpan)for(var p=e,q=m.rowSpan,r=b,s=k,O=m.id,G=1;G<q;G++)p[r+G][s]=O;f[m.id]=a[0][k].id;l++}}return f}
function n(a,b,e,f,g){if(!(0>=e)){var h=a.columns[b],k;if(h&&(k={grid:a,columnId:b,width:e,bubbles:!0,cancelable:!0},f&&(k.parentType=f),!a._resizedColumns||c.emit(a.headerNode,"dgrid-columnresize",k)))return"auto"===e?delete h.width:(h.width=e,e+="px"),(f=a._columnSizes[b])?f.set("width",e):f=d.addCssRule("#"+d.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+d.escapeCssIdentifier(b,"-"),"width: "+e+";"),a._columnSizes[b]=f,!1!==g&&a.resize(),!0}}var q,s,p=0,r={create:function(){q=l("div.dgrid-column-resizer");
s=f.create("div",{className:"dgrid-resize-guard"})},destroy:function(){l(q,"!");f.destroy(s);q=s=null},show:function(a){var b=k.position(a.domNode,!0);q.style.top=b.y+"px";q.style.height=b.h+"px";l(document.body,q);a.domNode.appendChild(s)},move:function(a){q.style.left=a+"px"},hide:function(){q.parentNode.removeChild(q);s.parentNode.removeChild(s)}};return g(null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);p++||r.create()},
destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--p||r.destroy()},resizeColumnWidth:function(a,b){return n(this,a,b)},configStructure:function(){var b=this._oldColumnSizes=a.mixin({},this._columnSizes),c;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(c in b)c in this._columnSizes||b[c].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var b=a.id,c;"width"in a&&((c=this._oldColumnSizes[b])?
c.set("width",a.width+"px"):c=d.addCssRule("#"+d.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+d.escapeCssIdentifier(b,"-"),"width: "+a.width+"px;"),this._columnSizes[b]=c)},renderHeader:function(){this.inherited(arguments);var b=this,f;if(this.columnSets&&this.columnSets.length)for(var g=this.columnSets.length;g--;)f=a.mixin(f||{},m(this.columnSets[g]));else this.subRows&&1<this.subRows.length&&(f=m(this.subRows));for(var g=e(".dgrid-cell",b.headerNode),k=g.length;k--;){var n=g[k],p=n.columnId,
q=b.columns[p],r=n.childNodes;if(q&&!1!==q.resizable){q=l("div.dgrid-resize-header-container");for(n.contents=q;0<r.length;)l(q,r[0]);n=l(n,q,"div.dgrid-resize-handle.resizeNode-"+d.escapeCssIdentifier(p,"-"));n.columnId=f&&f[p]||p}}b.mouseMoveListen||(c(b.headerNode,".dgrid-resize-handle:mousedown"+(h("touch")?",.dgrid-resize-handle:touchstart":""),function(a){b._resizeMouseDown(a,this);b.mouseMoveListen.resume();b.mouseUpListen.resume()}),b._listeners.push(b.mouseMoveListen=c.pausable(document,
"mousemove"+(h("touch")?",touchmove":""),d.throttleDelayed(function(a){b._updateResizerPosition(a)}))),b._listeners.push(b.mouseUpListen=c.pausable(document,"mouseup"+(h("touch")?",touchend":""),function(a){b._resizeMouseUp(a);b.mouseMoveListen.pause();b.mouseUpListen.pause()})),b.mouseMoveListen.pause(),b.mouseUpListen.pause())},_resizeMouseDown:function(a,c){a.preventDefault();b.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=e(".dgrid-column-"+d.escapeCssIdentifier(c.columnId,
"-"),this.headerNode)[0];this._updateResizerPosition(a);r.show(this)},_resizeMouseUp:function(a){var c=this._columnSizes,f,g,h;this.adjustLastColumn&&(h=this.headerNode.clientWidth-1);this._resizedColumns||(f=e(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?f=f.filter(function(a){return"0"==a.columnId.split("-")[0]&&!(a.columnId in c)}):this.subRows&&1<this.subRows.length&&(f=f.filter(function(a){return"0"==a.columnId.charAt(0)&&!(a.columnId in c)})),g=f.map(function(a){return a.offsetWidth}),
f.forEach(function(a,b){n(this,a.columnId,g[b],null,!1)},this),this._resizedColumns=!0);b.setSelectable(this.domNode,!0);f=this._targetCell;var k=this._getResizeMouseLocation(a)-this._startX,l=f.offsetWidth+k,m=this._getResizedColumnWidths(),p=m.totalWidth,m=m.lastColId,q=e(".dgrid-column-"+d.escapeCssIdentifier(m,"-"),this.headerNode)[0].offsetWidth;l<this.minWidth&&(l=this.minWidth);n(this,f.columnId,l,a.type)&&f.columnId!=m&&this.adjustLastColumn&&(p+k<h?n(this,m,"auto",a.type):q-k<=this.minWidth&&
n(this,m,this.minWidth,a.type));r.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));r.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=e((this.columnSets?
".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var d=b[c-1].columnId;c--;)a+=b[c].offsetWidth;return{totalWidth:a,lastColId:d}}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(g,c){g.add("dom-contains",function(a,b,c){return!!c.contains});var e=[],a,b,f,k=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,h={defaultDelay:15,throttle:function(a,b,c){var e=!1;c=c||h.defaultDelay;return function(){e||(e=!0,a.apply(b,arguments),
setTimeout(function(){e=!1},c))}},throttleDelayed:function(a,b,c){var e=!1;c=c||h.defaultDelay;return function(){if(!e){e=!0;var f=arguments;setTimeout(function(){e=!1;a.apply(b,f)},c)}}},debounce:function(a,b,c){var e;c=c||h.defaultDelay;return function(){e&&(clearTimeout(e),e=null);var f=arguments;e=setTimeout(function(){a.apply(b,f)},c)}},each:function(a,b,c){var e,f;if(a)if("number"===typeof a.length){e=0;for(f=a.length;e<f;e++)b.call(c,a[e],e,a)}else for(e in a)b.call(c,a[e],e,a)},contains:function(a,
b){return g("dom-contains")?a.contains(b):a.compareDocumentPosition(b)&8},addCssRule:function(d,g){a||(a=c(document.getElementsByTagName("head")[0],"style"),a=a.sheet||a.styleSheet,b=a.deleteRule?"deleteRule":"removeRule",f=a.cssRules?"cssRules":"rules");var h=e.length;e[h]=(a.cssRules||a.rules).length;a.addRule?a.addRule(d,g):a.insertRule(d+"{"+g+"}",e[h]);return{get:function(b){return a[f][e[h]].style[b]},set:function(b,c){"undefined"!==typeof e[h]&&(a[f][e[h]].style[b]=c)},remove:function(){var c=
e[h],d,f;if(void 0!==c){a[b](c);e[h]=void 0;d=h+1;for(f=e.length;d<f;d++)e[d]>c&&e[d]--}}}},escapeCssIdentifier:function(a,b){return"string"===typeof a?a.replace(k,b||"\\$1"):a}};return h})},"put-selector/put":function(){(function(g){var c,e=/[-+,> ]/;g([],c=function(a,b){function f(b){function c(){t&&(r&&t!=r)&&(r==b&&(q||(q=e.test(w)&&a.createDocumentFragment()))?q:r).insertBefore(t,p||null)}for(var q,s,p,r,t,u=arguments,x=u[0],v=0;v<u.length;v++){var w=u[v];if("object"==typeof w){s=!1;if(w instanceof
Array){t=a.createDocumentFragment();for(var y=0;y<w.length;y++)t.appendChild(f(w[y]));w=t}if(w.nodeType)t=w,c(),r=w,p=0;else for(y in w)t[y]=w[y]}else if(s)s=!1,t.appendChild(a.createTextNode(w));else{1>v&&(b=null);s=!0;if(x=w.replace(g,function(e,g,k,q,s,x){g&&(c(),"-"==g||"+"==g?(r=(p=t||r).parentNode,t=null,"+"==g&&(p=p.nextSibling)):("\x3c"==g?r=t=(t||r).parentNode:(","==g?r=b:t&&(r=t),t=null),p=0),t&&(r=t));if((e=!k&&q)||!t&&(k||s))"$"==e?(e=u[++v],r.appendChild(a.createTextNode(e))):(e=e||f.defaultTag,
(g=l&&u[v+1]&&u[v+1].name)&&(e="\x3c"+e+' name\x3d"'+g+'"\x3e'),t=d&&~(h=e.indexOf("|"))?a.createElementNS(d[e.slice(0,h)],e.slice(h+1)):a.createElement(e));if(k)if("$"==q&&(q=u[++v]),"#"==k)t.id=q;else if(g=(e=t.className)&&(" "+e+" ").replace(" "+q+" "," "),"."==k)t.className=e?(g+q).substring(1):q;else if("!"==w){var y;l?f("div",t,"\x3c").innerHTML="":(y=t.parentNode)&&y.removeChild(t)}else g=g.substring(1,g.length-1),g!=e&&(t.className=g);s&&("$"==x&&(x=u[++v]),"style"==s?t.style.cssText=x:(k=
"!"==s.charAt(0)?(s=s.substring(1))&&"removeAttribute":"setAttribute",x=""===x?s:x,d&&~(h=s.indexOf("|"))?t[k+"NS"](d[s.slice(0,h)],s.slice(h+1),x):t[k](s,x)));return""}))throw new SyntaxError("Unexpected char "+x+" in "+w);c();r=x=t||r}}b&&q&&b.appendChild(q);return x}e=b||e;var g=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,h,d=!1;a=a||document;var l="object"==typeof a.createElement;f.addNamespace=function(b,c){a.createElementNS?(d||(d={}))[b]=
c:a.namespaces.add(b,c)};f.defaultTag="div";f.forDocument=c;return f})})(function(g,c,e){e=e||c;"function"===typeof define?define([],function(){return e()}):"undefined"==typeof window?require("./node-html")(module,e):put=e()})},"xstyle/css":function(){define(["require"],function(g){function c(c,a,b){var f=document.documentElement;c=f.insertBefore(document.createElement(c),f.firstChild);c.id=a;a=(c.currentStyle||getComputedStyle(c,null))[b];f.removeChild(c);return a}return{load:function(e,a,b,f){function k(d){var e=
c("x-parse",null,"content"),f=d&&(d.sheet||d.styleSheet);e&&"none"!=e&&"normal"!=e?a([eval(e)],function(a){d?a.process(d,b):(a.processAll(),b(f))}):b(f)}var h=a.toUrl(e),d;h.match(/!$/)&&(d={wait:!1},h=h.slice(0,-1));var l=a.cache&&a.cache["url:"+h];if(l)l.xCss&&(l=l.cssText),g(["./core/load-css"],function(a){k(a.insertCss(l))});else{if("none"==c("div",e.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return k();g(["./core/load-css"],function(a){a(h,k,d)})}}}})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare",
"./Grid","./OnDemandList"],function(g,c,e){return g([c,e],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(g,c,e,a,b,f,k){function h(a,b){b&&b.nodeType&&a.appendChild(b)}function d(a,b,c,d){if(this.formatter){d=this.formatter;var e=this.grid.formatterScope;c.innerHTML="string"===typeof d&&e?e[d](b,a):this.formatter(b,a)}else null!=b&&c.appendChild(document.createTextNode(b))}var l=
8>a("ie")&&!a("quirks");c=c(f,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!=typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var d=a.columnId;if(d){b=d;c=a;break}a=a.parentNode}while(a&&a!=this.domNode)}if(!c&&"undefined"!=typeof b){var e=this.row(a);if(d=e&&e.element)for(var d=d.getElementsByTagName("td"),
f=0;f<d.length;f++)if(d[f].columnId==b){c=d[f];break}}if(null!=a)return{row:e||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(c,d,e,f){var g=b("table.dgrid-row-table[role\x3dpresentation]"),h=9>a("ie")||a("quirks")?b(g,"tbody"):g,t,u,x,v,w,y,B,D,A,z;e=e||this.subRows;u=0;for(x=e.length;u<x;u++){y=e[u];t=b(h,"tr");y.className&&b(t,"."+y.className);v=0;for(w=y.length;v<w;v++){B=y[v];D=B.id;A=B.field?".field-"+k.escapeCssIdentifier(B.field,"-"):"";(z="function"===typeof B.className?
B.className(f):B.className)&&(A+="."+z);A=b(c+(".dgrid-cell.dgrid-cell-padding"+(D?".dgrid-column-"+k.escapeCssIdentifier(D,"-"):"")+A.replace(/ +/g,"."))+"[role\x3d"+("th"===c?"columnheader":"gridcell")+"]");A.columnId=D;l?(D=b(A,"!dgrid-cell-padding div.dgrid-cell-padding"),A.contents=D):D=A;if(z=B.colSpan)A.colSpan=z;if(z=B.rowSpan)A.rowSpan=z;d(D,B);t.appendChild(A)}}return g},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,
b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},renderRow:function(a,c){var e=this.createRowCells("td",function(b,e){var f=a;e.get?f=e.get(a):"field"in e&&"_item"!=e.field&&(f=f[e.field]);e.renderCell?h(b,e.renderCell(a,f,b,c)):d.call(e,a,f,b,c)},c&&c.subRows,a);return b("div[role\x3drow]\x3e",e)},renderHeader:function(){var c=this,d=this.headerNode,f=d.childNodes.length;for(d.setAttribute("role","row");f--;)b(d.childNodes[f],"!");f=this.createRowCells("th",function(a,
b){var c=b.headerNode=a;l&&(a=a.parentNode);var d=b.field;d&&(a.field=d);if(b.renderHeaderCell)h(c,b.renderHeaderCell(c));else if("label"in b||b.field)c.appendChild(document.createTextNode("label"in b?b.label:b.field));!1!==b.sortable&&(d&&"_item"!=d)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[f.id=this.id+"-header"]=this.columns;d.appendChild(f);this._sortListener&&this._sortListener.remove();this._sortListener=e(f,"click,keydown",
function(b){if("click"==b.type||32==b.keyCode||!a("opera")&&13==b.keyCode){var f=b.target,g,h,k;do if(f.sortable){k=[{attribute:g=f.field||f.columnId,descending:(h=c._sort[0])&&h.attribute==g&&!h.descending}];g={bubbles:!0,cancelable:!0,grid:c,parentType:b.type,sort:k};e.emit(b.target,"dgrid-sort",g)&&(c._sortNode=f,c.set("sort",k));break}while((f=f.parentNode)&&f!=d)}})},resize:function(){var b=this.headerNode.firstChild,c=this.contentNode,d;this.inherited(arguments);if(!a("ie")||7<a("ie")&&!a("quirks"))if(c.style.width=
"",c&&b&&(d=b.offsetWidth)!=c.offsetWidth)c.style.width=d+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(a,b){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(a){var b=this.columns,c;for(c in b){var d=b[c];if(d.field==a)return d.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(b(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),b(this._lastSortedArrow,
"!"),delete this._lastSortedArrow);c&&(this._sort=a);if(a[0]){var d=a[0].attribute,e=a[0].descending,d=this._sortNode||this._findSortArrowParent(d),f;delete this._sortNode;d&&(d=d.contents||d,f=this._lastSortedArrow=b("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),f.innerHTML="\x26nbsp;",d.insertBefore(f,d.firstChild),b(d,e?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+k.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+k.escapeCssIdentifier(a,
"-"),b)},_configColumns:function(a,b){var c=[],d=b instanceof Array;k.each(b,function(e,f){"string"==typeof e&&(b[f]=e={label:e});!d&&!e.field&&(e.field=f);f=e.id=e.id||(isNaN(f)?f:a+f);this._configColumn&&(this._configColumn(e,f,b,a),f=e.id);d&&(this.columns[f]=e);e.grid=this;"function"===typeof e.init&&e.init();c.push(e)},this);return d?b:c},_destroyColumns:function(){var a=this.subRows,b=a&&a.length,c,d,e,f;this.cleanup();for(c=0;c<b;c++){d=0;for(f=a[c].length;d<f;d++)e=a[c][d],"function"===typeof e.destroy&&
e.destroy()}},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){g.deprecated("setColumns(...)",
'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",a)},setSubRows:function(a){g.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});c.appendIfNode=h;c.defaultRenderCell=d;return c})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc ./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(g,c,e,a,b,f,k,h,d){function l(a,b){d(document.body,a,".dgrid-scrollbar-measure");var c=a["offset"+b]-a["client"+b];a.className="";document.body.removeChild(a);return c}function m(a){var b=a?"."+a.replace(u,"."):"";this._class&&(b="!"+this._class.replace(u,"!")+b);d(this.domNode,b);this._class=a}function n(){return this._class}function q(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function s(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&
(this.bodyNode.scrollTop=a.y)}h("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var p,r;b.add("dom-scrollbar-width",function(a,b,c){return l(c,"Width")});b.add("dom-scrollbar-height",function(a,b,c){return l(c,"Height")});b.add("dom-rtl-scrollbar-left",function(a,c,e){a=d("div");d(document.body,e,".dgrid-scrollbar-measure[dir\x3drtl]");d(e,a);c=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");e.className="";document.body.removeChild(e);d(a,"!");e.removeAttribute("dir");
return c});var t=0,u=/ +/g,x=7>b("ie")&&!b("quirks")?function(){var a,b,c;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||[],c[0]!==b||c[1]!==a))this.resize(),this._prevWinDims=[b,a]}:function(){this._started&&this.resize()};return c(b("touch")?k:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,b){var c=this;
(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,e){var f=this.domNode=e||d("div"),g;a?(this.params=a,c.safeMixin(this,a),g=a["class"]||a.className||f.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&
this.postMixInProperties();this.id=f.id=f.id||this.id||"dgrid_"+t++;null===this.useTouchScroll&&(this.useTouchScroll=!b("dom-scrollbar-width"));this.buildRendering();g&&m.call(this,g);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var c=this.domNode,e=this.addUiClasses,g=this,h,k,l,m;m=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();c.className="";d(c,"[role\x3dgrid].dgrid.dgrid-"+
this.listType+(e?".ui-widget":""));h=this.headerNode=d(c,"div.dgrid-header.dgrid-header-row"+(e?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(b("quirks")||8>b("ie"))&&d(c,"div.dgrid-spacer");k=this.bodyNode=d(c,"div.dgrid-scroller");b("ff")&&(k.tabIndex=-1);this.headerScrollNode=d(c,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(e?".ui-widget-header":""));l=this.footerNode=d("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));d(c,l);m&&(c.className+=
" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));a(k,"scroll",function(b){g.showHeader&&(h.scrollLeft=b.scrollLeft||k.scrollLeft);b.stopPropagation();a.emit(c,"scroll",{scrollTarget:k})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=d(this.bodyNode,"div.dgrid-content"+(e?".ui-widget-content":""));this._listeners.push(this._resizeHandle=a(window,"resize",f.throttleDelayed(x,this)))},postCreate:b("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:
function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,c=this.headerNode,d=this.footerNode,e=c.offsetHeight,g=this.showFooter?d.offsetHeight:0,h=b("quirks")||7>b("ie");this.headerScrollNode.style.height=a.style.marginTop=e+"px";a.style.marginBottom=g+"px";h&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-e-g,0)+"px",g&&(d.style.bottom=
"1px",setTimeout(function(){d.style.bottom=""},0)));p||(p=b("dom-scrollbar-width"),r=b("dom-scrollbar-height"),b("ie")&&(p++,r++),f.addCssRule(".dgrid-scrollbar-width","width: "+p+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+r+"px"),17!=p&&!h&&(f.addCssRule(".dgrid-header-row","right: "+p+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+p+"px")));h&&(c.style.width=a.clientWidth+"px",setTimeout(function(){c.scrollLeft=a.scrollLeft},0))},addCssRule:function(a,b){var c=f.addCssRule(a,
b);this.cleanAddedRules&&this._listeners.push(c);return c},on:function(c,d){var e=a(this.domNode,c,d);b("dom-addeventlistener")||this._listeners.push(e);return e},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners}this._started=!1;this.cleanup();d(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,b,c,e,f){if(b){var g=this.insertRow(a,b,c,e,f);d(g,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){d(g,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return g}},adjustRowIndices:function(a){var b=
a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&d(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,c){function d(){var b=arguments;if(-1<q)for(var e=0;e<b.length;e++){var g=b[e],h=n[g?0:n.length-1];if(h=h&&f(h)){var l=h[g?"previousSibling":"nextSibling"];l&&(l=k.row(l));l&&l.element!=h&&(g=g?"unshift":"push",a[g](l.data),
n[g](l.element),c.count++)}}}function f(a){return!e.isDescendant(a,k.domNode)&&document.getElementById(a.id)?k.row(a.id.slice(k.id.length+5)).element:a}function g(a){t=k.insertRow(a,s,null,l++,c);t.observerIndex=q;return t}function h(a){u=a.slice(0);(p=b?b.parentNode:k.contentNode)&&p.parentNode&&(p!==k.contentNode||a.length)?(p.insertBefore(s,b||null),(t=a[a.length-1])&&k.adjustRowIndices(t)):m[q]&&k.cleanEmptyObservers&&"undefined"!==typeof q&&(m[q].cancel(),m[q]=0,k._numObservers--);n=a;r&&(r.rows=
n)}c=c||{};var k=this,l=c.start||0,m=this.observers,n,p,q;b||(this._lastCollection=a);if(a.observe){k._numObservers++;var r=a.observe(function(e,g,h){var l,m,r;-1<g&&n[g]&&(l=n.splice(g,1)[0],l.parentNode==p&&((m=l.nextSibling)&&g!=h&&m.rowIndex--,k.removeRow(l)),c.count--,k._processScroll&&k._processScroll());if(-1<h){if(n.length)if(0===h)r=(r=n[h])&&f(r);else{if(r=n[h-1])r=f(r),r=(r.connected||r).nextSibling}else r=k._getFirstRowSibling&&k._getFirstRowSibling(p);l&&(r&&l.id===r.id)&&(r=(r.connected||
r).nextSibling);r&&!r.parentNode&&(r=document.getElementById(r.id));l=b&&b.parentNode||r&&r.parentNode||k.contentNode;if(l=k.newRow(e,l,r,c.start+h,c))if(l.observerIndex=q,n.splice(h,0,l),!m||h<g)m=l.previousSibling,m=!m||m.rowIndex+1==l.rowIndex||0==l.rowIndex?l:m;c.count++}0===g?d(1,1):g===a.length-(-1===h?0:1)&&d(0,0);g!=h&&m&&k.adjustRowIndices(m);k._onNotification(n,e,g,h)},!0);q=m.push(r)-1}var s=document.createDocumentFragment(),t,u;if(a.map){if(n=a.map(g,console.error),n.then)return a.then(function(b){a=
b;return n.then(function(a){h(a);d(1,1,0,0);return u})})}else{n=[];for(var x=0,I=a.length;x<I;x++)n[x]=g(a[x])}h(n);d(1,1,0,0);return u},_onNotification:function(a,b,c,d){},renderHeader:function(){},_autoId:0,insertRow:function(a,b,c,d,e){var f=e.parentId,f=this.id+"-row-"+(f?f+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),g=document.getElementById(f),h=g&&g.previousSibling;g&&(g===c&&(c=(c.connected||c).nextSibling),this.removeRow(g));g=this.renderRow(a,e);
g.className=(g.className||"")+" dgrid-row "+(1==d%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[g.id=f]=a;b.insertBefore(g,c||null);h&&this.adjustRowIndices(h);g.rowIndex=d;return g},renderRow:function(a,b){return d("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||d(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+
5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,d){var e,f;f=e=a.element;b=b||1;do if(a=e[0>b?"previousSibling":"nextSibling"]){do if((e=a)&&-1<(e.className+" ").indexOf(c+" ")){f=e;b+=0>b?1:-1;break}while(a=(!d||!e.hidden)&&e[0>b?"lastChild":"firstChild"])}else if(e=e.parentNode,
!e||e===this.bodyNode||e===this.headerNode)break;while(b);return f},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:b("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):s.call(this,a)}:s,getScrollPosition:b("touch")?function(){return this.useTouchScroll?this.inherited(arguments):q.call(this)}:q,get:function(a){var b=
"_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:n,_setClass:m,_getClassName:n,_setClassName:m,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();
this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(c,d){var e=c[a],f=d[a];void 0===e&&(e="");void 0===f&&(f="");return e==f?0:e>f==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){g.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;d(b,(a?"!":".")+"dgrid-header-hidden");
this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){g.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;d(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/TouchScroll":function(){define("dojo/_base/declare dojo/on ./util/touch ./util/has-css3 put-selector/put xstyle/css!./css/TouchScroll.css".split(" "),function(g,
c,e,a,b){function f(a,b,d,e){e=a.touchNode;var f=r[a.id],g,h,k;if("object"!==typeof b)k=b,b=d,d=h=!0;else{d="x"in b;h="y"in b;if(!d||!h)g=a.getScrollPosition();k=d?b.x:g.x;b=h?b.y:g.y}e.style[F]=E+-k+"px,"+-b+"px"+C;f&&(d&&a._scrollbarXNode)&&(a._scrollbarXNode.style[F]=E+k*f.parentWidth/f.scrollWidth+"px,0"+C);f&&(h&&a._scrollbarYNode)&&(a._scrollbarYNode.style[F]=E+"0,"+b*f.parentHeight/f.scrollHeight+"px"+C);c.emit(a.touchNode.parentNode,"scroll",{scrollLeft:k,scrollTop:b})}function k(a){return r[a.id]?
w.exec(window.getComputedStyle(a.touchNode)[F]):v.exec(a.touchNode.style[F])}function h(a){var c=this.widget,c=[this.node,c._scrollbarXNode,c._scrollbarYNode],d=c.length;this.timer&&(clearTimeout(this.timer),this.timer=null);for(this.transitionHandler&&this.transitionHandler.remove();d--;)c[d]&&(c[d].style[z+"Duration"]="0");(!a||!a.preserveScrollbars)&&b(this.node.parentNode,".touchscroll-fadeout");delete this.resetEffects}function d(a){var b=a.widget,c=b.touchNode,d=b.id,f=0,g=0,h;if(e.countCurrentTouches(a,
c)===b.touchesToScroll){if(h=k(b))f=+h[1],g=+h[2];if(h=r[d])h.resetEffects&&h.resetEffects({preserveScrollbars:!0}),c.style[F]=E+f+"px,"+g+"px"+C,t[d]=h;a=a.targetTouches[0];h=r[d]={widget:b,node:c,startX:f-a.pageX,startY:g-a.pageY,lastX:f,lastY:g,pageX:a.pageX,pageY:a.pageY,tickFunc:function(){var a=r[d],b,c;a&&(b=a.node,(c=v.exec(b.style[F]))?(b=+c[1],c=+c[2],a.velX=b-a.lastX,a.velY=c-a.lastY,a.lastX=b,a.lastY=c):a.lastX=a.lastY=0,a.timer=setTimeout(a.tickFunc,s))}};h.timer=setTimeout(h.tickFunc,
s)}}function l(a){var c=a.widget,d=c.id,g=c.touchesToScroll,h=r[d],k,l;if(!h||(k=e.countCurrentTouches(a,c.touchNode))!==g)k>g&&c.cancelTouchScroll();else{k=a.targetTouches;g=k[0];if(!h.scrollbarsShown&&(t[d]||Math.abs(g.pageX-h.pageX)>c.scrollThreshold||Math.abs(g.pageY-h.pageY)>c.scrollThreshold)){var d=c.touchNode,m=d.parentNode,n=m.offsetWidth-x,p=m.offsetHeight-x,q=h.scrollWidth=d.scrollWidth,s=h.scrollHeight=d.scrollHeight,u=h.parentWidth=m.offsetWidth,v=h.parentHeight=m.offsetHeight;q>u?(c._scrollbarXNode||
(l=b(m,"div.touchscroll-x")),l=c._scrollbarXNode=c._scrollbarXNode||b(l,"div.touchscroll-bar"),l.style.width=n*n/q+"px",l.style.left=d.offsetLeft+"px",b(m,".touchscroll-scrollable-x"),h.scrollableX=!0):b(m,"!touchscroll-scrollable-x");s>v?(c._scrollbarYNode||(l=b(m,"div.touchscroll-y")),l=c._scrollbarYNode=c._scrollbarYNode||b(l,"div.touchscroll-bar"),l.style.height=p*p/s+"px",l.style.top=d.offsetTop+"px",b(m,".touchscroll-scrollable-y"),h.scrollableY=!0):b(m,"!touchscroll-scrollable-y");b(m,"!touchscroll-fadeout");
h.scrollbarsShown=!0;for(l=k.length;l--;)k[l].touchScrolled=!0}if(h.scrollbarsShown&&(h.scrollableX||h.scrollableY))a.preventDefault(),a=h.scrollableX?h.startX+g.pageX:0,g=h.scrollableY?h.startY+g.pageY:0,l=h.scrollableX?-(h.scrollWidth-h.parentWidth):0,h=h.scrollableY?-(h.scrollHeight-h.parentHeight):0,0<a?a/=2:a<l&&(a=l-(l-a)/2),0<g?g/=2:g<h&&(g=h-(h-g)/2),f(c,-a,-g)}}function m(a){var b=a.widget,c=b.id;r[c]&&e.countCurrentTouches(a,b.touchNode)==b.touchesToScroll-1&&q(c)}function n(a,b,d){function e(){delete f.transitionHandler;
f.resetEffects();delete r[a]}var f=r[a],g=f.widget,h=f.node,k=f.scrollableX?Math.max(Math.min(0,b),-(f.scrollWidth-f.parentWidth)):b,l=f.scrollableY?Math.max(Math.min(0,d),-(f.scrollHeight-f.parentHeight)):d;delete f.timer;k!=b||l!=d?(f.transitionHandler=c.once(h,B,e),h.style[z+"Duration"]=g.bounceDuration+"ms",h.style[F]=E+k+"px,"+l+"px"+C,k!=b&&f.scrollableX&&(h=f.widget._scrollbarXNode,h.style[z+"Duration"]=g.bounceDuration+"ms",h.style[F]=b>k?E+"0,0"+C:E+(h.parentNode.offsetWidth-h.offsetWidth)+
"px,0"+C),l!=d&&f.scrollableY&&(h=f.widget._scrollbarYNode,h.style[z+"Duration"]=g.bounceDuration+"ms",h.style[F]=d>l?E+"0,0"+C:E+"0,"+(h.parentNode.offsetHeight-h.offsetHeight)+"px"+C)):e()}function q(a){var b=r[a],c=t[a],d,e;delete t[a];b.timer&&clearTimeout(b.timer);b.resetEffects=h;(d=v.exec(b.node.style[F]))?(e=+d[1],d=+d[2]):e=d=0;if(!b.velX&&!b.velY||(0<=e||e<=-(b.scrollWidth-b.parentWidth))&&(0<=d||d<=-(b.scrollHeight-b.parentHeight)))n(a,e,d);else{if(c&&(c.velX||c.velY)&&(0>=b.velX&&0>=c.velX||
0<=b.velX&&0<=c.velX)&&(0>=b.velY&&0>=c.velY||0<=b.velY&&0<=c.velY))b.velX=1.15*(b.velX+c.velX),b.velY=1.15*(b.velY+c.velY);b.lastX=e;b.lastY=d;b.calcFunc=function(){var b=r[a],c,d,e,g,h,k;if(b)if(c=b.widget,h=c.glideDecel(b.velX),k=c.glideDecel(b.velY),Math.abs(h)>=u||Math.abs(k)>=u){e=b.lastX+h;g=b.lastY+k;if(0<e||e<-(b.scrollWidth-b.parentWidth))for(d=6;d--;)h=c.glideDecel(h);if(0<g||g<-(b.scrollHeight-b.parentHeight))for(d=6;d--;)k=c.glideDecel(k);f(c,-e,-g);b.lastX=e;b.lastY=g;b.velX=h;b.velY=
k;b.timer=setTimeout(b.calcFunc,p)}else n(a,b.lastX,b.lastY)};b.timer=setTimeout(b.calcFunc,p)}}var s=50,p=30,r={},t={},u=1,x=8,v=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,w=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,y=a("css-transitions"),B=a("transitionend"),D=a("css-transforms");a=a("css-transforms3d");var A,z,F,E,C;a?(E="translate3d(",C=",0)"):D&&(E="translate(",C=")");if(!y||!E)return console.warn("CSS3 features unavailable for touch scroll effects."),function(){};
F=a||D;F=!0===F?"transform":F+"Transform";z=!0===y?"transition":y+"Transition";A=!0===D?"":"-"+D.toLowerCase()+"-";return g(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments)},_initTouch:function(){function a(){f.cancelTouchScroll()}function b(c){return function(b){b.widget=f;b.cancelTouchScroll=a;c.call(this,b)}}var e=this.touchNode=this.touchNode||this.containerNode,f=this,g;!e||!e.parentNode?console.warn("TouchScroll requires a nested node upon which to operate."):
(g=e.parentNode,g.style.overflow="hidden",e.style[z+"Property"]=A+"transform",e.style[z+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)",this._touchScrollListeners=[c(g,"touchstart",b(d)),c(g,"touchmove",b(l)),c(g,"touchend,touchcancel",b(m))])},destroy:function(){for(var a=this._touchScrollListeners.length;a--;)this._touchScrollListeners[a].remove();delete r[this.id];this.inherited(arguments)},scrollTo:function(a){var b=r[this.id],c=this.touchNode,d=c.parentNode;!a.preserveMomentum&&(b&&b.resetEffects)&&
b.resetEffects();a.x&&(a.x=Math.max(0,Math.min(a.x,c.scrollWidth-d.offsetWidth)));a.y&&(a.y=Math.max(0,Math.min(a.y,c.scrollHeight-d.offsetHeight)));f(this,a)},getScrollPosition:function(){var a=k(this);return a?{x:-a[1],y:-a[2]}:{x:0,y:0}},cancelTouchScroll:function(){var a=r[this.id];a&&(a.resetEffects?a.resetEffects():(a.timer&&clearTimeout(a.timer),b(a.node.parentNode,".touchscroll-fadeout")),delete r[this.id])},glideDecel:function(a){return 0.9*a}})})},"dgrid/util/touch":function(){define(["dojo/on",
"dojo/query"],function(g,c){function e(b,c,e,h){if(!(1<e.targetTouches.length)){var d=e.changedTouches[0],l=d.screenX,m=d.screenY;h&&e.preventDefault();var n=g(b,"touchend",function(b){var d=b.changedTouches[0];b.targetTouches.length||(Math.abs(d.screenX-l)<a.tapRadius&&Math.abs(d.screenY-m)<a.tapRadius&&(h&&b.preventDefault(),c.call(this,b)),n.remove())})}}var a={tapRadius:10,dbltapTime:250,selector:function(a,e,k){return function(h,d){var l=e.bubble;l?e=l:!1!==k&&(k=!0);return g(h,e,function(e){var f=
e.target;3==f.nodeType&&(f=f.parentNode);for(;!c.matches(f,a,h);)if(f==h||!k||!(f=f.parentNode))return;return d.call(f,e)})}},countCurrentTouches:function(a,c){if(!("touches"in a))return-1;var e,g,d;for(g=e=0;d=a.touches[e];++e)c.contains(d.target)&&++g;return g},tap:function(a,c){return g(a,"touchstart",function(g){e(a,c,g)})},dbltap:function(b,c){var k,h;return g(b,"touchstart",function(d){k?e(b,function(b){if(k){var d=b.changedTouches[0];Math.abs(d.screenX-k.screenX)<a.tapRadius&&Math.abs(d.screenY-
k.screenY)<a.tapRadius&&(h&&clearTimeout(h),k=h=null,c.call(this,b))}},d,!0):e(b,function(b){k=b.changedTouches[0];h=setTimeout(function(){k=h=null},a.dbltapTime)},d)})}};return a})},"dgrid/util/has-css3":function(){define(["dojo/has"],function(g){function c(a,b){var c=a.style,g;if(b in c)return!0;b=b.slice(0,1).toUpperCase()+b.slice(1);for(g=e.length;g--;)if(e[g]+b in c)return e[g];return!1}var e=["ms","O","Moz","Webkit"];g.add("css-transitions",function(a,b,e){return c(e,"transitionProperty")});
g.add("css-transforms",function(a,b,e){return c(e,"transform")});g.add("css-transforms3d",function(a,b,e){return c(e,"perspective")});g.add("transitionend",function(){var a=g("css-transitions");return!a?!1:!0===a?"transitionend":{ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[a]});return g})},"xstyle/has-class":function(){define(["dojo/has"],function(g){var c={};return function(){for(var e,a=arguments,b=0;b<a.length;b++)if(e=a[b],!c[e]){c[e]=!0;var f=e.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),
k=g(f[2]),h=-f[4];if((0<h?h<=k&&(-f[5]||h)>=k:!!k)==!f[1])document.documentElement.className+=" has-"+e}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(g,c,e,a,b,f,k,h,d){return e([g,c],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:h.defaultDelay,keepScrollPosition:!1,
rowHeight:22,postCreate:function(){this.inherited(arguments);var a=this;k(this.bodyNode,"scroll",h[this.pagingMethod](function(b){a._processScroll(b)},null,this.pagingDelay))},renderQuery:function(c,e){function f(a){d(v,"!");if(a)throw g._refreshDeferred&&(g._refreshDeferred.reject(a),delete g._refreshDeferred),a;}var g=this,h=e&&e.container||this.contentNode,k={query:c,count:0,options:e},r,t=this.preload,u,x={node:d(h,"div.dgrid-preload",{rowIndex:0}),count:0,query:c,next:k,options:e};x.node.style.height=
"0";k.node=r=d(h,"div.dgrid-preload");k.previous=x;r.rowIndex=this.minRowsPerPage;t?((k.next=t.next)&&r.offsetTop>=t.node.offsetTop?k.previous=t:(k.next=t,k.previous=t.previous),k.previous.next=k,k.next.previous=k):this.preload=k;var v=d(r,"-div.dgrid-loading");d(v,"div.dgrid-below").innerHTML=this.loadingMessage;e=a.mixin(this.get("queryOptions"),e,{start:0,count:this.minRowsPerPage},"level"in c?{queryLevel:c.level}:null);this._trackError(function(){return u=c(e)});if("undefined"===typeof u)f();
else return b.when(g.renderArray(u,r,e),function(a){return b.when("undefined"===typeof u.total?u.length:u.total,function(b){var c=a.length,f=r.parentNode,h=g.noDataNode;d(v,"!");"queryLevel"in e||(g._total=b);0===b&&(h&&(d(h,"!"),delete g.noDataNode),g.noDataNode=h=d("div.dgrid-no-data"),f.insertBefore(h,g._getFirstRowSibling(f)),h.innerHTML=g.noDataMessage);for(h=f=0;h<c;h++)f+=g._calcRowHeight(a[h]);c&&f&&(g.rowHeight=f/c);b-=c;k.count=b;r.rowIndex=c;b?r.style.height=Math.min(b*g.rowHeight,g.maxEmptySpace)+
"px":(r.style.display="none",e.count++);g._previousScrollPosition&&(g.scrollTo(g._previousScrollPosition),delete g._previousScrollPosition);g._processScroll();g._refreshDeferred&&(g._refreshDeferred.resolve(u),delete g._refreshDeferred);return a},f)},f),u},refresh:function(a){var c=this,d=a&&a.keepScrollPosition,e;"undefined"===typeof d&&(d=this.keepScrollPosition);d&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return d=this._refreshDeferred=new b,
e=c.renderQuery(function(a){return c.store.query(c.query,a)}),"undefined"===typeof e&&d.reject(),d.then(function(a){setTimeout(function(){k.emit(c.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:c,results:a})},0);delete c._refreshDeferred;return a},function(a){delete c._refreshDeferred;throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var b=a.nextSibling;return b&&!/\bdgrid-preload\b/.test(b.className)?
b.offsetTop-a.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(c){function e(a,b,c,g){var k=h.farOffRemoval,l=a.node;if(b>2*k){for(var m,p=l[c],q=0,r=0,t=[];m=p;){var u=h._calcRowHeight(m);if(q+u+k>b||0>p.className.indexOf("dgrid-row")&&0>p.className.indexOf("dgrid-loading"))break;p=m[c];q+=u;r+=m.count||1;h.removeRow(m,!0);t.push(m)}a.count+=r;g?(l.rowIndex-=r,f(a)):l.style.height=l.offsetHeight+q+"px";var v=d("div",t);setTimeout(function(){d(v,"!")},1)}}function f(a,b){a.node.style.height=
Math.min(a.count*h.rowHeight,b?Infinity:h.maxEmptySpace)+"px"}function g(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var h=this,k=h.bodyNode;c=c&&c.scrollTop||this.getScrollPosition().y;var k=k.offsetHeight+c,r,t,u=h.preload,x=h.lastScrollTop,v=h.bufferRows*h.rowHeight,w=v-h.rowHeight,y,B,D,A=!0;for(h.lastScrollTop=c;u&&!u.node.offsetWidth;)u=u.previous;for(;u&&u!=r;){r=h.preload;h.preload=u;t=u.node;var z=t.offsetTop;if(k+1+w<z)u=g(u,A=!1);else if(c-1-w>z+t.offsetHeight)u=
g(u,A=!0);else{var F=((t.rowIndex?c-v:k)-z)/h.rowHeight,z=(k-c+2*v)/h.rowHeight,E=Math.max(Math.min((c-x)*h.rowHeight,h.maxRowsPerPage/2),h.maxRowsPerPage/-2),z=z+Math.min(Math.abs(E),10);0==t.rowIndex&&(F-=z);F=Math.max(F,0);10>F&&(0<F&&z+F<h.maxRowsPerPage)&&(z+=Math.max(0,F),F=0);z=Math.min(Math.max(z,h.minRowsPerPage),h.maxRowsPerPage,u.count);if(0==z)u=g(u,A);else{var z=Math.ceil(z),F=Math.min(Math.floor(F),u.count-z),C=a.mixin(h.get("queryOptions"),u.options);u.count-=z;var P=t,K,U=h.queryRowsOverlap;
if(E=(0<t.rowIndex||t.offsetTop>c)&&u){var O=u.previous;O&&(e(O,c-(O.node.offsetTop+O.node.offsetHeight),"nextSibling"),0<F&&O.node==t.previousSibling?(F=Math.min(u.count,F),u.previous.count+=F,f(u.previous,!0),t.rowIndex+=F,U=0):z+=F,u.count-=F);C.start=t.rowIndex-U;C.count=Math.min(z+U,h.maxRowsPerPage);t.rowIndex=C.start+C.count}else u.next&&(e(u.next,u.next.node.offsetTop-k,"previousSibling",!0),P=t.nextSibling,P==u.next.node?(u.next.count+=u.count-F,u.next.node.rowIndex=F+z,f(u.next),u.count=
F,U=0):K=!0),C.start=u.count,C.count=Math.min(z+U,h.maxRowsPerPage);K&&(P&&P.offsetWidth)&&(K=P.offsetTop);f(u);"level"in u.query&&(C.queryLevel=u.query.level);if("queryLevel"in C||!(C.start>h._total||0>C.count)){t=d(P,"-div.dgrid-loading[style\x3dheight:"+z*h.rowHeight+"px]");d(t,"div.dgrid-"+(E?"below":"above")).innerHTML=h.loadingMessage;t.count=z;var G=u.query(C);if(void 0===h._trackError(function(){return G})){d(t,"!");return}(function(a,c,e,g){D=b.when(h.renderArray(g,a,C),function(k){B=g;P=
a.nextSibling;d(a,"!");if(e&&P&&P.offsetWidth){var l=h.getScrollPosition();h.scrollTo({x:l.x,y:l.y+P.offsetTop-e,preserveMomentum:!0})}b.when(g.total||g.length,function(a){"queryLevel"in C||(h._total=a);c&&(c.count=a-c.node.rowIndex,0===c.count&&C.count++,f(c))});h._processScroll();return k},function(b){d(a,"!");throw b;})}).call(this,t,E,K,G);u=u.previous}}}}if(D&&(y=this._refreshDeferred))delete this._refreshDeferred,b.when(D,function(){y.resolve(B)})},removeRow:function(a,b){if(a){var c=a.previousSibling,
d=a.nextSibling,c=c&&(null!=c.observerIndex?c.observerIndex:c.previousObserverIndex),e=d&&(null!=d.observerIndex?d.observerIndex:d.nextObserverIndex),d=a.observerIndex;a.observerIndex=void 0;b&&(a.nextObserverIndex=e,a.previousObserverIndex=c);if(this.cleanEmptyObservers&&(-1<d&&d!==c&&d!==e)&&(c=this.observers,e=c[d])){if(!b)for(var g=e.rows,h=0;h<g.length;h++)if(g[h]!=a&&f.isDescendant(g[h],this.domNode))return this.inherited(arguments);e.cancel();this._numObservers--;c[d]=0}}this.inherited(arguments)}})})},
"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(g,c,e,a,b,f,k){function h(a){return a}function d(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;a.grid=this;b.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return c(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",
constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};f.before(this,"configStructure",e.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_updateNotifyHandle:function(a){this._notifyHandle&&
(this._notifyHandle.remove(),delete this._notifyHandle);a&&"function"===typeof a.notify&&(this._notifyHandle=f.after(a,"notify",e.hitch(this,"_onNotify"),!0),a=this.get("sort"),(!a||!a.length)&&console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},_setStore:function(a,b,c){this._updateNotifyHandle(a);this.store=a;this.dirty={};this.set("query",b,c)},_setQuery:function(a,
b){var c=b&&b.sort;this.query=void 0!==a?a:this.query;this.queryOptions=b||this.queryOptions;c?this.set("sort",c):this.refresh()},setStore:function(a,b,c){g.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",a,b,c)},setQuery:function(a,b){g.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",a,b)},_getQueryOptions:function(){var a=e.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)a.sort=
this._sort;return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?e.delegate(a,{}):a},_setSort:function(a,b){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(a,b){this.inherited(arguments);a&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var a=this.inherited(arguments);this.store||(this.noDataNode=k(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return a},renderArray:function(){var b=
this,c=this.inherited(arguments);this.store||a.when(c,function(a){a.length&&b.noDataNode&&k(b.noDataNode,"!")});return c},insertRow:function(a,b,c,d,f){var g=this.store,h=this.dirty,g=g&&g.getIdentity(a),k;g in h&&!(g in this._updating)&&(k=h[g]);k&&(a=e.delegate(a,k));return this.inherited(arguments)},updateDirty:function(a,b,c){var d=this.dirty,e=d[a];e||(e=d[a]={});e[b]=c},setDirty:function(a,b,c){g.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(a,b,c)},save:function(){function b(f,
g){return function(b){var h=c._columnsWithSet,k=c._updating,l,p;if("function"===typeof b.set)b.set(g);else for(l in g)b[l]=g[l];for(l in h)p=h[l].set(b),void 0!==p&&(b[l]=p);k[f]=!0;return a.when(d.put(b),function(){delete e[f];delete k[f]})}}var c=this,d=this.store,e=this.dirty,f=new a,g=f.promise,h=function(a){var b;return c.getBeforePut||!(b=c.row(a).data)?function(){return d.get(a)}:function(){return b}},k;for(k in e)var u=b(k,e[k]),g=g.then(h(k)).then(u);f.resolve();return g},revert:function(){this.dirty=
{};this.refresh()},_trackError:function(b){var c;"string"==typeof b&&(b=e.hitch(this,b));try{c=b()}catch(f){d.call(this,f)}return a.when(c,h,e.hitch(this,d))},newRow:function(){var a=this.inherited(arguments);this.noDataNode&&(k(this.noDataNode,"!"),delete this.noDataNode);return a},removeRow:function(a,b){var c={element:a};!b&&(this.noDataMessage&&this.up(c).element===a&&this.down(c).element===a)&&(this.noDataNode=k(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);
return this.inherited(arguments)}})})},"DoubleToSingleConverter/widgets/ConversionReport":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!DoubleToSingleConverter/widgets/templates/ConversionReport.html dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter DoubleToSingleConverter/widgets/utils/Utils dojo/dom-construct".split(" "),function(g,c,e,a,b,f,k){return g([c,e],{sectionTitle:b.ConversionSectionSummary,templateString:a,widgetsInTemplate:!0,constructor:function(a){g.safeMixin(this,
a);g.safeMixin(this,{_failed:!1})},buildRendering:function(){this.inherited(arguments);this._populateResults(this.store)},startup:function(){this.inherited(arguments);this._conversionGrid&&this._conversionGrid.startup()},_populateResults:function(a){var c,e=[{field:"Icon",label:"",renderCell:function(a,b,c,d){c.className+=" "+a.Class}},{field:"Path",label:b.PathLabel},{field:"CompiledDT",label:b.CompiledDTLabel},{field:"ProposedDT",label:b.ProposedDTLabel}];f.isEmptyArray(a)?k.create("p",{innerHTML:b.NoResultsSummary},
this.statusconversion):(c=f.getValueAsArray(a),a=k.create("div",{},this.results),c=f.createSpreadsheetStore(c,"conversionStore"),this._conversionGrid=f.createSpreadsheetGrid({storeData:c,gridID:"conversionGrid",columns:e,parentNode:a}))},destroy:function(){this.inherited(arguments);this._conversionGrid&&(this._conversionGrid.destroyRecursive(),this._conversionGrid=null)},hasFailures:function(){return this._failed}})})},"DoubleToSingleConverter/widgets/VerificationReport":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!DoubleToSingleConverter/widgets/templates/VerificationReport.html dojo/i18n!Resources/SimulinkFixedPoint/nls/singleconverter dojo/dom-construct DoubleToSingleConverter/widgets/utils/Utils".split(" "),
function(g,c,e,a,b,f,k){return g([c,e],{sectionTitle:b.VerificationSectionSummary,templateString:a,widgetsInTemplate:!0,constructor:function(a){g.safeMixin(this,a);g.safeMixin(this,{_failed:!1})},buildRendering:function(){this.inherited(arguments);!this.store.Message&&k.isEmptyArray(this.store.StowawayDblBlks)?f.create("p",{innerHTML:b.NoResultsVerification},this.statusverification):(this._populateErrors(this.store),this._populateStowawayDoubleBlocks(this.store))},startup:function(){this.inherited(arguments);
this._stowawayGrid&&this._stowawayGrid.startup()},_populateErrors:function(a){a.Message&&(f.create("p",{innerHTML:a.Message,id:"errorMsgVerify","class":"errors"},this.errorsinverify),this._failed=!0)},_populateStowawayDoubleBlocks:function(a){var c=a.StowawayDblBlks,e=[{field:"Name",label:b.PathLabel,renderCell:this._makeHyperlink}];if(c=k.getValueAsArray(a.StowawayDblBlks))this._failed=!0,a=this._gatherBlkListData(c),this._stowawayGrid=k.createListOrGridWithHyperlinks({data:a,parentNode:this.stowawayresultsinverify,
sectionSummary:b.StowawayDoubleSummary,columns:e,idBase:"stowawayBlkAfterConversion"})},destroy:function(){this.inherited(arguments);this._stowawayGrid&&(this._stowawayGrid.destroyRecursive(),this._stowawayGrid=null)},_gatherBlkListData:function(a){var b=[];a.forEach(function(a,c){b.push({Name:a.Name,UniqueID:a.UniqueID,id:a.UniqueID+"_"+c,objectClass:a.objectClass})});return b},_makeHyperlink:function(a,b,c,e){return f.create("a",{innerHTML:a.Name,id:a.id,identifier:a.UniqueID,objectClass:a.objectClass})},
hasFailures:function(){return this._failed}})})},"StepBar/js/StepBar":function(){define("dojo/_base/declare dojo/query dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!StepBar/js/templates/stepprogressbar.html".split(" "),function(g,c,e,a,b,f){return g([a,b],{templateString:f,widgetsInTemplate:!1,constructor:function(a){g.safeMixin(this,a)},buildRendering:function(){this.inherited(arguments);this._progressNode=e.create("div",{"class":"progress"},this.stepBarContent);this._populateSteps()},
destroy:function(){this.inherited(arguments)},_populateSteps:function(){var a=this,b,c,e;this._svgNode=document.createElementNS("http://www.w3.org/2000/svg","svg");this._svgNode.setAttribute("class","svgContainerNode");this._progressNode.appendChild(this._svgNode);var f=[10,0,0,10,22,32,32,22],g=[62,52,40,30,30,40,52,62];this.stepNameArray.forEach(function(q,s,p){c=document.createElementNS("http://www.w3.org/2000/svg","line");x1=130*s+16;s<p.length-1&&(c.setAttribute("id","line"+s),c.setAttribute("x1",
x1),c.setAttribute("y1",46),c.setAttribute("x2",130*(s+1)+16),c.setAttribute("y2",46),c.setAttribute("class","initialLineEffect"),a._svgNode.appendChild(c));b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("id","circle"+s);b.setAttribute("r",16);b.setAttribute("cx",130*s+16);b.setAttribute("cy",46);b.setAttribute("class","initialCircleEffect");a._svgNode.appendChild(b);for(var r="",t=0;t<f.length;t++)r=r.concat(f[t],",",g[t]," ");svgPolygon=document.createElementNS("http://www.w3.org/2000/svg",
"polygon");svgPolygon.setAttribute("id","polygon"+s);svgPolygon.setAttribute("points",r+" ");svgPolygon.setAttribute("class","hideElement");a._svgNode.appendChild(svgPolygon);for(r=0;r<f.length;r++)f[r]+=130;e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("id","text"+s);e.setAttribute("x",b.getAttribute("cx"));e.setAttribute("y",82);e.textContent=q;e.setAttribute("class","initialTextEffect");a._svgNode.appendChild(e);s===p.length-2&&(a._containerWidth=parseInt(c.getAttribute("x2"))+
40)})},postCreate:function(){this.inherited(arguments);this._containerWidth&&this._svgNode.setAttribute("width",this._containerWidth)},markStepAsPassed:function(a){for(var b,c=0;c<this.stepNameArray.length;c++)if(this.stepNameArray[c]===a&&(b=this._getDomElement(c,"text"),b.setAttribute("class","successTextEffect"),b.classList.remove("initialTextEffect"),b.classList.remove("errorTextEffect"),b=this._getDomElement(c,"circle"),b.classList.remove("initialCircleEffect"),b.classList.remove("errorCircleEffect"),
b.setAttribute("fill","url(#success_32)"),b=this._getDomElement(c,"polygon"),b.setAttribute("class","hideElement"),b=this._getDomElement(c-1,"line")))b.setAttribute("class","successLineEffect"),b.classList.remove("initialLineEffect"),b.classList.remove("errorLineEffect")},markStepAsFailed:function(a){for(var b=0;b<this.stepNameArray.length;b++)if(this.stepNameArray[b]===a&&(tempNode=this._getDomElement(b,"text"),tempNode.classList.remove("initialTextEffect"),tempNode.classList.remove("successTextEffect"),
tempNode.setAttribute("class","errorTextEffect"),tempNode=this._getDomElement(b,"circle"),tempNode.setAttribute("class","hideElement"),tempNode.classList.remove("initialCircleEffect"),tempNode.classList.remove("successCircleEffect"),tempNode=this._getDomElement(b,"polygon"),tempNode.classList.remove("hideElement"),tempNode.classList.remove("errorPolygonEffect"),tempNode.setAttribute("fill","url(#error_32)"),tempNode=this._getDomElement(b-1,"line")))tempNode.setAttribute("class","errorLineEffect"),
tempNode.classList.remove("initialLineEffect"),tempNode.classList.remove("successLineEffect")},resetBar:function(){for(var a=0;a<this.stepNameArray.length;a++){tempNode=this._getDomElement(a,"text");tempNode.classList.remove("errorTextEffect");tempNode.classList.remove("successTextEffect");tempNode.setAttribute("class","initialTextEffect");tempNode=this._getDomElement(a,"circle");tempNode.classList.remove("errorCircleEffect");tempNode.classList.remove("hideElement");tempNode.classList.remove("successCircleEffect");
tempNode.setAttribute("class","initialCircleEffect");tempNode.removeAttribute("fill");if(tempNode=this._getDomElement(a,"line"))tempNode.classList.remove("errorLineEffect"),tempNode.classList.remove("successLineEffect"),tempNode.setAttribute("class","initialLineEffect");if(tempNode=this._getDomElement(a,"polygon"))tempNode.classList.remove("errorPolygonEffect"),tempNode.classList.remove("successPolygonEffect"),tempNode.classList.remove("initialCircleEffect"),tempNode.setAttribute("class","hideElement"),
tempNode.removeAttribute("fill")}},_getDomElement:function(a,b){var d=c(".progress .svgContainerNode "+b);return d=d.length?d[a]:void 0}})})},"dgrid/extensions/_DnD-touch-autoscroll":function(){define(["dojo/aspect","dojo/dom-geometry","dojo/dnd/autoscroll","../List"],function(g,c,e,a){var b=e.autoScrollNodes,f,k;f={};g.after(a.prototype,"postCreate",function(a){var b=this.id;f[b]&&console.warn("dgrid instance registered with duplicate id '"+b+"'");f[b]=this;return a});g.after(a.prototype,"destroy",
function(a){delete f[this.id];return a});k=function(a){for(var b,c;a;){if((b=a.id)&&(c=f[b]))return c;a=a.parentNode}};e.autoScrollNodes=function(a){var d=a.target,f=k(d),g,n,q,s,p,r;if(f&&(d=f.touchNode.parentNode,d=c.position(d,!0),g=a.pageX-d.x,n=a.pageY-d.y,q=Math.min(e.H_TRIGGER_AUTOSCROLL,d.w/2),s=Math.min(e.V_TRIGGER_AUTOSCROLL,d.h/2),g<q?p=-q:g>d.w-q&&(p=q),n<s?r=-s:n>d.h-s&&(r=s),p||r)){a=f.getScrollPosition();d={};p&&(d.x=a.x+p);r&&(d.y=a.y+r);f.scrollTo(d);return}b.call(this,a)};return e})},
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\n\t\t\x3c/span\n\t\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:FPTTree/js/templates/Tree.html":'\x3cdiv\x3e\n\t\x3cdiv id \x3d "${fptTreeWidgetID}" data-dojo-attach-point\x3d"${fptTreeWidgetID}"\x3e\x3c/div\x3e\n\t\x3cdiv id\x3d"${treeBusyNodeID}" data-dojo-attach-point\x3d"${treeBusyNodeID}"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-overlay-utils/templates/busyOverlayTemplate.html":'\x3cdiv class\x3d"mw-busyIndicator" data-dojo-attach-point\x3d"_busyOverlayNode"\x3e\n\t\x3cdiv class\x3d"underlayNode" data-dojo-attach-point\x3d"_underlayNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"spinnerNode" data-dojo-attach-point\x3d"_spinnerNode" \x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mw-keybindings/browserconflicts.json":'{\n    "Ctrl+N" : {\n        "keys" : ["CTRL","N"],\n        "platform" : {\n            "Windows" : ["Chrome(v43.0)", "Firefox(v40.0)", "IE(v10.10)" ]\n        }\n    },\n\n    "Ctrl+T":  {\n        "keys" : ["CTRL","T"],\n        "platform" : {\n            "Windows" : ["Chrome(v43.0)", "Firefox(v40.0)", "IE(v10.10)" ],\n            "Linux" : ["Chrome(v43.0)", "Firefox(v40.0)" ]\n        }\n    },\n\n    "F11" :    {\n        "keys" : ["F11"],\n        "platform" : {\n            "Mac" : ["Chrome(v43.0)", "Safari(v7.0"]\n        }\n    },\n\n    "F5" :  {\n        "keys" : ["F5"],\n        "platform" : {\n            "Windows" : ["IE(v10.10)" ]\n        }\n\n    }\n}',
"url:mw-form/templates/PushButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mw-form/templates/ToggleButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"button" aria-pressed\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mw-menu/templates/Menu.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" tabindex\x3d"0" data-focus\x3d"temporary"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/MenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n        \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-form/templates/CheckBox.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"checkbox" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',"url:mw-menu/templates/CheckBoxRadioButtonMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwOverlayNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-menu/templates/MenuSeparator.html":'\x3cdiv data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/PopupMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n    \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutAndArrowWrapperNode"\n        \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwMenuArrowNode"  data-dojo-attach-point\x3d"menuArrowNode"\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:MW/layout/templates/Tab.html":'\x3cdiv class\x3d"tab"\x3e\n    \x3cspan class\x3d"mwTabHeader" data-dojo-attach-point\x3d"headerNode"\n    \x3e\x3c/span\x3e\x3cspan class\x3d"tabIcon" data-dojo-attach-point\x3d"iconNode"\n    \x3e\x3c/span\x3e\x3cspan class\x3d"mwTabLabel" data-dojo-attach-point\x3d"labelNode,containerNode"\n    \x3e\x3c/span\x3e\x3cspan class\x3d"tabCloseIcon" data-dojo-attach-point\x3d"closeNode"\n    \x3e\x3c/span\x3e\n\x3c/div\x3e\n',"url:MW/layout/templates/TitleBar.html":'\x3cdiv class\x3d"titleBar"\x3e\n    \x3cspan class\x3d"toggle" data-dojo-attach-point\x3d"toggleNode"\n    \x3e\x3c/span\x3e\x3cspan class\x3d"title" data-dojo-attach-point\x3d"titleNode"\n    \x3e\x3c/span\x3e\x3cspan class\x3d"actionsButton" data-dojo-attach-point\x3d"actionsNode"\n    \x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:MW/layout/templates/CollapsedBorderChildH.html":'\x3cdiv class\x3d"gripH"\x3e\x3c/div\x3e',"url:MW/layout/templates/CollapsedBorderChildV.html":'\x3cdiv class\x3d"gripV"\x3e\x3c/div\x3e',"url:mw-form/templates/RadioButton.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"radio" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:MW/layout/templates/TabPlusButton.html":'\x3cdiv class\x3d"tabPlusButton"\x3e\n    \x3cdiv class\x3d"tabPlusIcon" data-dojo-attach-point\x3d"plusNode"\n    \x3e\x3c/div\x3e\x3cdiv class\x3d"tabDropDownIcon" data-dojo-attach-point\x3d"dropDownNode"\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',"url:MW/layout/templates/TabGroupHeader.html":'\x3cdiv class\x3d"mwTabGroupHeader"\x3e\n    \x3cspan class\x3d"label" data-dojo-attach-point\x3d"labelNode"\n    \x3e\x3c/span\x3e\x3cspan class\x3d"actionsButton" data-dojo-attach-point\x3d"actionsNode"\n    \x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/Toolstrip.html":'\x3cdiv id\x3d${id} class\x3d"toolstrip toolstripNode" data-focus\x3d"refuse"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"tabGroupContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"toolstripTabContainer"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"topRightContainer" data-dojo-attach-point\x3d"topRightContainer"\x3e\n        \x3cdiv class\x3d"QABContainer" data-dojo-attach-point\x3d"QABContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchContainer" data-dojo-attach-point\x3d"searchContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"searchPopupContainer dijitOffScreen" data-dojo-attach-point\x3d"searchPopupContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"logoutContainer" data-dojo-attach-point\x3d"logoutContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"collapseButtonContainer" data-dojo-attach-point\x3d"collapseButtonContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:MW/layout/templates/ConfirmationDialog.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"messageNode" class\x3d"mwMessageNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dojox/layout/resources/FloatingPane.html":'\x3cdiv class\x3d"dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv tabindex\x3d"0" role\x3d"button" class\x3d"dojoxFloatingPaneTitle" dojoAttachPoint\x3d"focusNode"\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"onclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"onclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"onclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\t\n\t\t\x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"onclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mw-dialog-utils/floatingPaneTemplate.html":'\x3cdiv tabindex\x3d"0" class\x3d"mwNonModalDialog dojoxFloatingPane" id\x3d"${id}"\x3e\n\t\x3cdiv role\x3d"button" class\x3d"dojoxFloatingPaneTitle dijitDialogTitleBar" dojoAttachPoint\x3d"focusNode"\x3e\n        \x3c!--\n         This template is required because the dojox Floating pane template uses onClick Event instead of ondijitclick,\n         which causes some issues with Ipad. Dojo ticket for dialogs not closing on touch devices: http://bugs.dojotoolkit.org/ticket/13488\n         the fix was implemented in _onDijitClickMixin() so using ondijitclick solves the problem.\n\n         This template also groups the icons into a div so that it can be absolute positioned which\n         allows it to be stacked on top of the title node. Previously long titles were overlapping\n         the icons making them unclickable, z-index does not work because the buttons are floats.\n         g985154\n        --\x3e\n\t\t\x3cspan style\x3d"float:left" dojoAttachPoint\x3d"titleNode" class\x3d"dijitInline dijitTitleNode dijitDialogTitle"\x3e\x3c/span\x3e\n\n        \x3cdiv class\x3d"dojoxFloatingIconContainer"\x3e\n            \x3cspan dojoAttachPoint\x3d"closeNode" dojoAttachEvent\x3d"ondijitclick: close" class\x3d"dojoxFloatingCloseIcon"\x3e\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"maxNode" dojoAttachEvent\x3d"ondijitclick: maximize" class\x3d"dojoxFloatingMaximizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"restoreNode" dojoAttachEvent\x3d"ondijitclick: _restore" class\x3d"dojoxFloatingRestoreIcon"\x3e\x26thinsp;\x3c/span\x3e\n            \x3cspan dojoAttachPoint\x3d"dockNode" dojoAttachEvent\x3d"ondijitclick: minimize" class\x3d"dojoxFloatingMinimizeIcon"\x3e\x26thinsp;\x3c/span\x3e\n        \x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv dojoAttachPoint\x3d"canvas" class\x3d"dojoxFloatingPaneCanvas"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" role\x3d"region" tabindex\x3d"-1" class\x3d"${contentClass}"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cspan dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxFloatingResizeHandle"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/QAB.html":'\x3cdiv id\x3d${id} class\x3d"qab"\x3e\n    \x3cdiv class\x3d"leftArrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"mainArea" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/QAGroup.html":'\x3cdiv id\x3d${id} class\x3d"qaGroup"\x3e\n\x3cdiv data-dojo-attach-point\x3d"separatorNode" class\x3d"quickAccessGroupSeparator"\x3e\x3c/div\x3e\x3cdiv class\x3d"qaGroupContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/TabGroup.html":'\x3cdiv class\x3d"tabGroup"\x3e\n\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Section.html":"\x3cdiv id\x3d${id} class\x3d'section'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'sectionWrapper' class\x3d'sectionWrapper'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'columnContainerWrapper' class\x3d'columnContainerWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d'columnContainer'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'title'\x3e\x3c/div\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'sectionDropDownContainer' class\x3d'sectionDropDownContainer'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionDivider'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/DropDownButton.html":'\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"buttonNode" class\x3d"mwButtonNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonAlignmentNode" class\x3d"mwButtonAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"buttonContainerNode" class\x3d"mwButtonContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode mwBlockTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"textLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownNode" class\x3d"mwDropDownNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownAlignmentNode" class\x3d"mwDropDownAlignmentNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"dropDownContainerNode" class\x3d"mwDropDownContainerNode"\n                \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextNode" class\x3d"mwTextNode mwInlineTextNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"inlineTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                \x3e\x3c/div\n                \x3e\x3cdiv data-dojo-attach-point\x3d"arrowNode" class\x3d"mwArrowNode"\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLineNode" class\x3d"mwLastTextLineNode"\n                        \x3e\x3cdiv data-dojo-attach-point\x3d"lastTextLine" class\x3d"mwTextContentNode"\x3e\x3c/div\n                    \x3e\x3c/div\n                    \x3e\x3cdiv data-dojo-attach-point\x3d"arrowIconNode" class\x3d"mwArrowIconNode"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryPopup.html":"\x3cdiv id\x3d${id} class\x3d'toolstrip galleryPopup'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d'header'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'searchTextFieldContainerNode' class\x3d\"mwSearchTextFieldContainerNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'buttonWrapper' class\x3d'ButtonWrapper'\x3e\n            \x3cdiv data-dojo-attach-point\x3d'listViewButtonContainerNode' class\x3d\"mwListViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'iconViewButtonContainerNode' class\x3d\"mwIconViewButtonContainerNode\"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'closeButtonNode' class\x3d\"mwCloseButtonNode\" data-tag\x3d\"closeButton\"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"categoryContainer\" class\x3d'categoryContainer'\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"noSearchMatchNode\" class\x3d\"noSearchMatchNode\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d\"favCategoryContainer\" class\x3d\"favCategoryContainer\"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'containerNode' class\x3d\"otherCategoriesContainer\"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"footerContainer\" class\x3d'footerContainer'\x3e\x3c/div\x3e\n\x3c/div\x3e",
"url:mw-form/templates/TextField.html":'\x3cdiv\x3e\x3cinput class\x3d "mwInputNode mwAlignmentNode" spellcheck\x3d"false" type\x3d"text" data-dojo-attach-point\x3d"inputNode,focusNode"\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Panel.html":"\x3cdiv id\x3d${id} class\x3d'panel'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/Column.html":"\x3cdiv id\x3d${id} class\x3d'column' data-dojo-attach-point\x3d\"containerNode\"\x3e\x3c/div\x3e","url:mw-menu/templates/MenuPanel.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',
"url:MW/toolstrip/widgets/templates/Footer.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/FooterCell.html":'\x3cdiv data-dojo-attach-point\x3d"footerCellNode"\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/gallery/templates/Gallery.html":'\x3cspan id\x3d${id} class\x3d\'gallery icon_view\' \x3e\n    \x3cdiv data-dojo-attach-point\x3d"_aroundNode" class\x3d"aroundNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\'containerNode\' class\x3d\'mainArea\'\x3e\n    \x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d\'openPopupDiv, focusNode, _buttonNode\' class\x3d\'openPopupDiv\'\x3e\n        \x3cdiv class\x3d"buttonDownArrow"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyLayer" class\x3d"busyLayer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"busyNode" class\x3d"busyIndicator"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"textOverlayWrapperNode" class\x3d"textOverlayWrapper"\x3e\n        \x3cdiv class\x3d"textOverlayCell"\x3e\n            \x3cspan data-dojo-attach-point\x3d"textOverlayNode" class\x3d"textOverlay"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/span\x3e',
"url:MW/toolstrip/widgets/gallery/templates/GalleryCategory.html":"\x3cdiv id\x3d${id} class\x3d\"Category\"\x3e\n    \x3cdiv data-dojo-attach-point\x3d'header' class\x3d\"categoryHeader\"\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleIconNode' class\x3d'titleIcon'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'titleNode' class\x3d'categoryTitle'\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d'moveTopNode' class\x3d'moveTopNode'\x3e\n            \x3cdiv class\x3d'moveTopLabel'\x3eTOP\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d'moveTopButtonNode' class\x3d'moveTopButton'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d\"containerNode\" class\x3d'gridWrapperNode'\x3e\n    \x3c/div\x3e\n\x3c/div\x3e",
"url:mw-colorpicker/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline mwDisableSelection"\n    \x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"${baseClass}Title"\x3e${!title}\x3c/span\n    \x3e\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0"\n        \x3e\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',"url:mw-colorpicker/templates/ColorPaletteSwatch.html":'\x3cdiv class\x3d"dijitInline mwPaletteDiv"\n    \x3e\x3cdiv title\x3d"${title}" class\x3d"mwColorPaletteSwatch" style\x3d"background-color: ${color}" data-test-id\x3d"${color}"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-colorpicker/templates/ColorSpinner.html":'\x3cdiv class\x3d"mwDisableSelection"\n    \x3e\x3ctable\n        \x3e\x3ctr\n            \x3e\x3ctd colspan\x3d"3"\n            \x3e\x3cdiv data-dojo-type\x3d"mw-colorpicker/ToggleButtonGroup" data-dojo-attach-point\x3d"toggleButton" data-dojo-props\x3d"buttonText:[\'1\', \'2\', \'3\']"\x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Double" data-dojo-attach-point\x3d"doubleSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redDoubleSpinner" data-dojo-attach-point\x3d"redDoubleSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenDoubleSpinner" data-dojo-attach-point\x3d"greenDoubleSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueDoubleSpinner" data-dojo-attach-point\x3d"blueDoubleSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Int"  data-dojo-attach-point\x3d"intSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redIntSpinner" data-dojo-attach-point\x3d"redIntSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenIntSpinner" data-dojo-attach-point\x3d"greenIntSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueIntSpinner" data-dojo-attach-point\x3d"blueIntSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Hex" data-dojo-attach-point\x3d"hexSpinners"\n            \x3e\x3ctd colspan\x3d"3"\x3e${_hexTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/ValidationTextBox" data-test-id\x3d"hexSpinner" data-dojo-attach-point\x3d"hexSpinner" class\x3d"${baseClass}HexSpinner"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',
"url:mw-colorpicker/templates/ColorPicker.html":'\x3cdiv class\x3d"mwDisableSelection" data-test-id\x3d"mwColorPicker"\n    \x3e\x3cdiv class\x3d"${baseClass}Palette" data-dojo-type\x3d"mw-colorpicker/ColorPalette" data-dojo-attach-point\x3d"paletteNode" data-test-id\x3d"palette" data-dojo-props\x3d"palette: ${_parsedStandardColors}"\x3e\x3c/div\n    \x3e\x3ctable class\x3d"${baseClass}Middle"\n        \x3e\x3ctr\n            \x3e\x3ctd class\x3d"${baseClass}Recent" data-dojo-attach-point\x3d"recentColorsNode" data-test-id\x3d"recentColors"\x3e\x3c/td\n            \x3e\x3ctd\n                \x3e\x3cdiv data-dojo-attach-point\x3d"previewNode" class\x3d"${baseClass}Preview"\n                    \x3e\x3cspan data-dojo-attach-point\x3d"previewTitleNode"\x3e${_previewTitle}\x3c/span\n                    \x3e\x3cdiv class\x3d"${baseClass}PreviewColor" data-dojo-attach-point\x3d"previewColorNode" data-test-id\x3d"previewColor"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n    \x3e\x3cdiv class\x3d"${baseClass}Spinner" data-dojo-type\x3d"mw-colorpicker/ColorSpinner" data-dojo-attach-point\x3d"spinnerNode" data-test-id\x3d"spinner"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/TextFieldMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextContainer" data-dojo-attach-point\x3d"textContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:mw-menu/templates/MenuHeader.html":'\x3cdiv data-dojo-attach-point\x3d"textNode" data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',
"url:mw-form/templates/ComboBox.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"mwTextFieldContainerNode" data-dojo-attach-point\x3d"textFieldContainerNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwArrowContainerNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3cdiv class\x3d"mwArrowNode"\x3e\x3c/div\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/ListBox.html":'\x3cdiv\x3e\x3cul tabindex \x3d "0" data-dojo-attach-point\x3d "containerNode, focusNode"\x3e\x3c/ul\x3e\x3c/div\x3e',"url:MW/toolstrip/widgets/templates/Tooltip.html":'\x3cdiv class\x3d"validation-tooltip-dialog"\x3e\n        \x3cdiv class\x3d"tooltipConnector" data-dojo-attach-point\x3d"arrowNode" style\x3d"display:inline-block"\x3e\x3c/div\n                \x3e\x3cdiv  style\x3d"display:inline-block" class\x3d"validationContents" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"validationImage" style\x3d"display:inline-block"\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"validationText" style\x3d"display:inline-block"\x3e\x3c/div\x3e\x3c/div\x3e\n\n\x3c/div\x3e\n\n',
"url:mw-form/templates/Label.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/EmptyControl.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d "emptyControl"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mw-form/templates/TextArea.html":'\x3cdiv\x3e\x3ctextarea class\x3d"mwInputNode mwAlignmentNode" data-dojo-attach-point\x3d"inputNode,focusNode" spellcheck\x3d"false"\x3e\x3c/textarea\x3e\x3c/div\x3e',"url:mw-form/templates/Spinner.html":'\x3cdiv\n    \x3e\x3cdiv class \x3d "mwContainerNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\n    \x3e\x3cdiv class \x3d "mwButtonsContainer" data-dojo-attach-point\x3d"buttonsContainerNode"\n        \x3e\x3cdiv class \x3d "mwIncrementButtonWrapper" data-dojo-attach-point\x3d"incrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwIncrementButton" data-dojo-attach-point\x3d"incrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv class \x3d "mwDecrementButtonWrapper" data-dojo-attach-point\x3d"decrementButtonNodeWrapper"\n            \x3e\x3cdiv class \x3d "mwDecrementButton" data-dojo-attach-point\x3d"decrementButtonNode"\n            \x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:MW/toolstrip/widgets/external/templates/Slider.html":'\x3cdiv class\x3d"vc-userSelectNone vc-defaultFontRules" data-dojo-attach-event\x3d"press:_onTrackClick"\x3e\n    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"valueNode"\x3e\n    \x3cdiv class\x3d"vc-sliderTrack" data-dojo-attach-point\x3d"sliderTrackNode"\x3e\n        \x3cdiv class\x3d"vc-sliderThumb" data-dojo-attach-point\x3d"sliderThumbNode, focusNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"vc-sliderRuleAndLabelContainer" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/toolstrip/widgets/templates/ToolbarWrapper.html":"\x3cdiv class\x3d'toolbarWrapper'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/templates/MenubarWrapper.html":"\x3cdiv class\x3d'menubarWrapper' data-focus\x3d'accept'\x3e\n\x3c/div\x3e","url:MW/toolstrip/widgets/gallery/templates/GalleryItem.html":'\x3cdiv id\x3d${id} class\x3d"Item"\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'itemWrapperNode, focusNode\' class\x3d"itemWrapper"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconWrapper" class\x3d"iconWrapper"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"labelWrapper" class\x3d\'labelWrapper\'\n            \x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"label"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d"description"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonWrapperNode\' class\x3d\'favButtonWrapper\'\n        \x3e\x3cdiv data-dojo-attach-point\x3d\'favButtonNode\' class\x3d\'favButton\'\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:MW/uiframework/featuredetection/FeatureNames.json":'[\n    "CEF",\n    "GDS",\n    "MGG",\n    "LOGIN",\n    "SIMULINK",\n    "NATIVE_IMPORT_DATA",\n    "MATLAB_LOCAL",\n    "NATIVE_PUBLISH",\n    "UDC_FEEDBACK",\n    "SET_PATH",\n    "GECKO",\n    "GDS_NOTIFICATIONS"\n]',"url:FPTUtils/js/DefaultLayoutWithTree.json":'{\n    "majorVersion": 1,\n    "minorVersion": 1,\n    "main": {\n        "isCenterExpanded": true,\n        "left": {\n            "proportion": 0.15,\n            "isCollapsed": false,\n            "panels": [\n                {\n                    "panelId": "TreeHierarchyPanel",\n                    "collapsed": false\n                }\n            ]\n        }\n    },\n    "center": {\n        "documents": []\n    }\n}\n',
"url:FPTUtils/js/DefaultLayoutWithoutTree.json":'{\n    "majorVersion": 1,\n    "minorVersion": 1,\n    "main": {\n        "isCenterExpanded": true\n    },\n    "center": {\n        "documents": []\n    }\n}\n',"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:Startup/templates/startup.html":'\x3cdiv\x3e\n\t\x3cdiv\x3e\x3clabel class \x3d "fptStartupText" data-dojo-attach-point\x3d"startupText"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\x3cdiv id \x3d "startupDialog" data-dojo-attach-point\x3d"startupDialog"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:DoubleToSingleConverter/widgets/templates/CompatibilityReport.html":'\x3cdiv\x3e\n  \x3ch1 class\x3d"sectionHeading"\x3e${sectionTitle}\x3c/h1\x3e\n  \x3cdiv data-dojo-attach-point\x3d"statuscompatibility"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"errors"\x3e\x3c/div\x3e\n  \x3cdiv id \x3d "incompatible" data-dojo-attach-point\x3d"incompatibleresults"\x3e\x3c/div\x3e\n  \x3cdiv id\x3d "unsupported" data-dojo-attach-point\x3d"unsupportedresults"\x3e\x3c/div\x3e\n  \x3cdiv id\x3d "stowawaydouble" data-dojo-attach-point\x3d"stowawayresults"\x3e\x3c/div\x3e\n  \x3cdiv id \x3d "locked" data-dojo-attach-point\x3d"lockedresults"\x3e\x3c/div\x3e\n  \x3cdiv id\x3d"modelChangeHeading" data-dojo-attach-point\x3d"modelchangessummary"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"nochange"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"dtochanges"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"c99change"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"solverchange"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:DoubleToSingleConverter/widgets/templates/ConversionReport.html":'\x3cdiv\x3e\n  \x3ch1 class\x3d"sectionHeading"\x3e${sectionTitle}\x3c/h1\x3e\n  \x3cdiv data-dojo-attach-point\x3d"statusconversion"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"results"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:DoubleToSingleConverter/widgets/templates/VerificationReport.html":'\x3cdiv\x3e\n  \x3ch1 class\x3d"sectionHeading"\x3e${sectionTitle}\x3c/h1\x3e\n  \x3cdiv data-dojo-attach-point\x3d"statusverification"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"errorsinverify"\x3e\x3c/div\x3e\n  \x3cdiv id\x3d "stowawaydoubleinverify" data-dojo-attach-point\x3d"stowawayresultsinverify"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:StepBar/js/templates/stepprogressbar.html":'\x3cdiv\x3e\n    \x3cdiv id\x3d"stepBarContent" data-dojo-attach-point\x3d"stepBarContent"\x3e\x3c/div\x3e\n\t\t\x3csvg width\x3d0px height\x3d0px\x3e\n\t\t\t\x3cdefs\x3e\n\t\t\t\t\x3cpattern id\x3d"success_32" x\x3d"0" y\x3d"0" width\x3d"32" height\x3d"32" patternUnits\x3d"objectBoundingBox"\x3e\n\t\t\t\t\t\x3cg id\x3d"success_x5F_32"\x3e\n\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\t\x3clinearGradient id\x3d"SVGID_1_" gradientUnits\x3d"userSpaceOnUse" x1\x3d"16" y1\x3d"0" x2\x3d"16" y2\x3d"32"\x3e\n\t\t\t\t\t\t\t\t\t\x3cstop  offset\x3d"0" style\x3d"stop-color:#68C42D"/\x3e\n\t\t\t\t\t\t\t\t\t\x3cstop  offset\x3d"0.9949" style\x3d"stop-color:#5BAD28"/\x3e\n\t\t\t\t\t\t\t\t\x3c/linearGradient\x3e\n\t\t\t\t\t\t\t\t\x3ccircle style\x3d"fill:url(#SVGID_1_);" cx\x3d"16" cy\x3d"16" r\x3d"16"/\x3e\n\t\t\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cpath style\x3d"fill:#57AA26;" d\x3d"M24.333,9L13.667,19.667l-4-4L7,18.333L13.667,25L27,11.667L24.333,9z"/\x3e\n\t\t\t\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\t\t\x3cpath style\x3d"fill:#FFFFFF;" d\x3d"M24,8L13.333,18.667l-4-4l-2.667,2.667L13.333,24l13.333-13.333L24,8z"/\x3e\n\t\t\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\x3cg id\x3d"Layer_1"\x3e\n\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\x3c!-- \x3cimage xlink:href\x3d"../stepprogressbar/images/success_32.svg" x\x3d"0" y\x3d"0" width\x3d"32" height\x3d"32" /\x3e --\x3e\n\t\t\t\t\t\x3c!-- \x3cimage src\x3d"" x\x3d"0" y\x3d"0" width\x3d"32" height\x3d"32" data-dojo-attach-point\x3d"success_32" /\x3e --\x3e\n\t\t\t\t\x3c/pattern\x3e\n\t\t\t\t\x3cpattern id\x3d"error_32" x\x3d"0" y\x3d"0" width\x3d"32" height\x3d"32" patternUnits\x3d"objectBoundingBox"\x3e\n\t\t\t\t\t\x3cg id\x3d"error_x5F_32"\x3e\n\t\t\t\t\t\t\x3clinearGradient id\x3d"SVGID_2_" gradientUnits\x3d"userSpaceOnUse" x1\x3d"16" y1\x3d"-2.692104e-10" x2\x3d"16" y2\x3d"32"\x3e\n\t\t\t\t\t\t\t\x3cstop  offset\x3d"0" style\x3d"stop-color:#E23D2D"/\x3e\n\t\t\t\t\t\t\t\x3cstop  offset\x3d"0.9949" style\x3d"stop-color:#CC3729"/\x3e\n\t\t\t\t\t\t\x3c/linearGradient\x3e\n\t\t\t\t\t\t\x3cpolygon style\x3d"fill:url(#SVGID_2_);" points\x3d"10,32 0,22 0,10 10,0 22,0 32,10 32,22 22,32 \t"/\x3e\n\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\x3crect x\x3d"15" y\x3d"7" style\x3d"fill:#CC3729;" width\x3d"4" height\x3d"13"/\x3e\n\t\t\t\t\t\t\t\x3crect x\x3d"15" y\x3d"23" style\x3d"fill:#CC3729;" width\x3d"4" height\x3d"4"/\x3e\n\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\t\x3cg\x3e\n\t\t\t\t\t\t\t\x3crect x\x3d"14" y\x3d"6" style\x3d"fill:#FFFFFF;" width\x3d"4" height\x3d"13"/\x3e\n\t\t\t\t\t\t\t\x3crect x\x3d"14" y\x3d"22" style\x3d"fill:#FFFFFF;" width\x3d"4" height\x3d"4"/\x3e\n\t\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\x3cg id\x3d"Layer_2"\x3e\n\t\t\t\t\t\x3c/g\x3e\n\t\t\t\t\t\x3c!-- \x3cimage xlink:href\x3d"../stepprogressbar/images/error_32.svg" x\x3d"0" y\x3d"0" width\x3d"32" height\x3d"32" /\x3e --\x3e\n\t\t\t\t\x3c/pattern\x3e\n\t\t\t\x3c/defs\x3e\n\t\t\x3c/svg\x3e\n  \t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"*now":function(g){g(['dojo/i18n!*preload*DoubleToSingleConverter/nls/DoubleToSingleConverter*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("DoubleToSingleConverter/DoubleToSingleConverter",[],1);
//# sourceMappingURL=DoubleToSingleConverter.js.map