//>>built
/*
 Copyright 2013 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
*/
require({cache:{"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(e,k,h,b,a,c,d,f,g,l,n,p,m,t,q,r,s,u,w,x,y,E,A,K,L,M,F,G,S,U,V,W,Y,v,Z){function B(a){return r.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var H=b("dijit._TreeNode",[L,M,F,G,S],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:V,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var c=Math.max(a,0)*this.tree._nodePixelIndent+"px";l.set(this.domNode,"backgroundPosition",c+" 0px");l.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",c);e.forEach(this.getChildren(),function(c){c.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var c=this.tree,b=c.model;c._v10Compat&&a===b.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(a,c,b){var d="_"+c+"Class";c+="Node";var g=this[d];this[d]=this.tree["get"+b+"Class"](a,this.isExpanded);f.replace(this[c],this[d]||"",g||"");l.set(this[c],this.tree["get"+b+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;f.toggle(this.domNode,"dijitTreeIsRoot",a);f.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var c=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;f.replace(this.expandoNode,c[a],c);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return B(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");f.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var c=p.wipeIn({node:this.containerNode,duration:K.defaultDuration}),b=this._expandDeferred=new a(function(){c.stop()});k.after(c,"onEnd",function(){b.resolve(!0)},!0);c.play();return B(b)},collapse:function(){if(this._collapseDeferred)return B(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");f.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var c=p.wipeOut({node:this.containerNode,duration:K.defaultDuration}),b=this._collapseDeferred=new a(function(){c.stop()});k.after(c,"onEnd",function(){b.resolve(!0)},
!0);c.play();return B(b)},indent:0,setChildItems:function(a){var b=this.tree,g=b.model,f=[],m=b.focusedChild,l=this.getChildren();e.forEach(l,function(a){F.prototype.removeChild.call(this,a)},this);this.defer(function(){e.forEach(l,function(a){if(!a._destroyed&&!a.getParent()){b.dndController.removeTreeNode(a);var c=function(a){var d=g.getIdentity(a.item),f=b._itemNodesMap[d];1==f.length?delete b._itemNodesMap[d]:(d=e.indexOf(f,a),-1!=d&&f.splice(d,1));e.forEach(a.getChildren(),c)};c(a);if(b.persist){var f=
e.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),l;for(l in b._openedNodes)l.substr(0,f.length)==f&&delete b._openedNodes[l];b._saveExpandedNodes()}b.lastFocusedChild&&!d.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;m&&!d.isDescendant(m,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,e.forEach(a,function(a){var c=g.getIdentity(a),d=b._itemNodesMap[c],m;if(d)for(var l=0;l<d.length;l++)if(d[l]&&
!d[l].getParent()){m=d[l];m.set("indent",this.indent+1);break}m||(m=this.tree._createTreeNode({item:a,tree:b,isExpandable:g.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),d?d.push(m):b._itemNodesMap[c]=[m]);this.addChild(m);(this.tree.autoExpand||this.tree._state(m))&&f.push(b._expandNode(m))},this),e.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=c(f);this.tree._startPaint(a);return B(a)},getTreePath:function(){for(var a=this,c=[];a&&a!==this.tree.rootNode;)c.unshift(a.item),a=a.getParent();c.unshift(this.tree.rootNode.item);return c},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var c=this.getChildren();0==c.length&&(this.isExpandable=!1,this.collapse());e.forEach(c,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");f.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){E.focus(this.focusNode)}}),D=b("dijit.Tree",[L,U,M,S],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:W,persist:!1,autoExpand:!1,
dndController:Z,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,c){u.publish(this.id,r.mixin({tree:this,event:a},c||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=
this.id+"SaveStateCookie");this.expandChildrenDeferred=new a;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(s(this.containerNode,s.selector(".dijitTreeNode",w.enter),function(c){a._onNodeMouseEnter(A.byNode(this),c)}),s(this.containerNode,s.selector(".dijitTreeNode",w.leave),function(c){a._onNodeMouseLeave(A.byNode(this),c)}),s(this.containerNode,s.selector(".dijitTreeRow",y.press),function(c){a._onNodePress(A.getEnclosingWidget(this),
c)}),s(this.containerNode,s.selector(".dijitTreeRow",y),function(c){a._onClick(A.getEnclosingWidget(this),c)}),s(this.containerNode,s.selector(".dijitTreeRow","dblclick"),function(c){a._onDblClick(A.getEnclosingWidget(this),c)}));this.model||this._store2model();this.own(k.after(this.model,"onChange",r.hitch(this,"_onItemChange"),!0),k.after(this.model,"onChildrenChange",r.hitch(this,"_onItemChildrenChange"),!0),k.after(this.model,"onDelete",r.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);
if(this.dndController){r.isString(this.dndController)&&(this.dndController=r.getObject(this.dndController));for(var c={},b=0;b<this.dndParams.length;b++)this[this.dndParams[b]]&&(c[this.dndParams[b]]=this[this.dndParams[b]]);this.dndController=new this.dndController(this,c)}this._load();this.onLoadDeferred=B(this.pendingCommandsPromise);this.onLoadDeferred.then(r.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;t.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");
var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=r.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=r.hitch(this,function(a,c,b){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,c,b)}));this.model=new v(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(r.hitch(this,function(a){var c=this.rootNode=this.tree._createTreeNode({item:a,
tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(c.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(c.containerNode.setAttribute("aria-label",
this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(c.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),c.labelNode.setAttribute("role","presentation"),c.labelNode.removeAttribute("aria-selected"),c.containerNode.setAttribute("role","tree"),c.containerNode.setAttribute("aria-expanded","true"),c.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(c.domNode);
a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(c):this._itemNodesMap[a]=[c];c._updateLayout();this._expandNode(c).then(r.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),r.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=r.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",
[a])},_setSelectedItemsAttr:function(a){var c=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(r.hitch(this,function(){var b=e.map(a,function(a){return!a||r.isString(a)?a:c.model.getIdentity(a)}),d=[];e.forEach(b,function(a){d=d.concat(c._itemNodesMap[a]||[])});this.set("selectedNodes",d)}))},_setPathAttr:function(a){return a.length?B(this.set("paths",[a]).then(function(a){return a[0]})):B(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,
c){var g=a.shift(),f=e.filter(c,function(a){return a.getIdentity()==g})[0];if(f)return a.length?d._expandNode(f).then(function(){return b(a,f.getChildren())}):f;throw new D.PathError("Could not expand path at "+g);}var d=this;return B(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return c(e.map(a,function(a){a=e.map(a,function(a){return a&&r.isObject(a)?d.model.getIdentity(a):a});if(a.length)return b(a,[d.rootNode]);throw new D.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",
a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(d){return b._expandNode(d).then(function(){var b=e.filter(d.getChildren()||[],function(a){return a.isExpandable});return c(e.map(b,a))})}var b=this;return B(a(this.rootNode))},collapseAll:function(){function a(d){var g=e.filter(d.getChildren()||[],function(a){return a.isExpandable}),g=c(e.map(g,a));return!d.isExpanded||
d==b.rootNode&&!b.showRoot?g:g.then(function(){return b._collapseNode(d)})}var b=this;return B(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,c){return!a||this.model.mayHaveChildren(a)?c?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},
_onDownArrow:function(a,c){var b=this._getNext(c);b&&b.isTreeNode&&this.focusNode(b)},_onUpArrow:function(a,c){var b=c.getPreviousSibling();if(b)for(c=b;c.isExpandable&&c.isExpanded&&c.hasChildren();)b=c.getChildren(),c=b[b.length-1];else if(b=c.getParent(),this.showRoot||b!==this.rootNode)c=b;c&&c.isTreeNode&&this.focusNode(c)},_onRightArrow:function(a,c){c.isExpandable&&!c.isExpanded?this._expandNode(c):c.hasChildren()&&(c=c.getChildren()[0])&&c.isTreeNode&&this.focusNode(c)},_onLeftArrow:function(a,
c){if(c.isExpandable&&c.isExpanded)this._collapseNode(c);else{var b=c.getParent();b&&(b.isTreeNode&&(this.showRoot||b!==this.rootNode))&&this.focusNode(b)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var c=a.getChildren();if(!c.length)break;a=c[c.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&
a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var c=a.getNextSibling();if(c)return c;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,c){return d.isDescendant(a,c.expandoNode)||d.isDescendant(a,c.expandoNodeText)},_onNodePress:function(a,c){this.focusNode(a)},__click:function(a,c,b,d){var g=this.isExpandoNode(c.target,a);a.isExpandable&&(b||g)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:c}),this[d](a.item,a,
c),this.focusNode(a));c.stopPropagation();c.preventDefault()},_onClick:function(a,c){this.__click(a,c,this.openOnClick,"onClick")},_onDblClick:function(a,c){this.__click(a,c,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){t.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.",
"","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){t.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var c=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(c);return c}},_expandNode:function(c){if(c._expandNodeDeferred)return c._expandNodeDeferred;var b=this.model,d=
c.item,g=this;c._loadDeferred||(c.markProcessing(),c._loadDeferred=new a,b.getChildren(d,function(a){c.unmarkProcessing();c.setChildItems(a).then(function(){c._loadDeferred.resolve(a)})},function(a){console.error(g,": error loading "+c.label+" children: ",a);c._loadDeferred.reject(a)}));b=c._loadDeferred.then(r.hitch(this,function(){var a=c.expand();this.onOpen(c.item,c);this._state(c,!0);return a}));this._startPaint(b);return b},focusNode:function(a){var c=this.domNode.scrollLeft;this.focusChild(a);
this.domNode.scrollLeft=c},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var c=this.model.getIdentity(a);if(c=this._itemNodesMap[c]){var b=this.getLabel(a),d=this.getTooltip(a);e.forEach(c,function(c){c.set({item:a,label:b,tooltip:d});c._updateItemClasses(a)})}},_onItemChildrenChange:function(a,c){var b=this.model.getIdentity(a);(b=this._itemNodesMap[b])&&e.forEach(b,function(a){a.setChildItems(c)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var c=
this._itemNodesMap[a];c&&(e.forEach(c,function(a){this.dndController.removeTreeNode(a);var c=a.getParent();c&&c.removeChild(a);this.lastFocusedChild&&!d.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!d.isDescendant(this.focusedChild,this.domNode)&&this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=h(this.cookieName);a&&e.forEach(a.split(","),function(a){this._openedNodes[a]=
!0},this)}},_state:function(a,c){if(!this.persist)return!1;var b=e.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[b];c?this._openedNodes[b]=!0:delete this._openedNodes[b];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],c;for(c in this._openedNodes)a.push(c);h(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),
delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!r.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&g.setMarginBox(this.domNode,a);this._nodePixelIndent=g.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(r.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},
_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var c=r.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});x(a,c,c)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);
this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new H(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});D.PathError=n("TreePathError");D._TreeNode=H;return D})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(e,k){e.cookie=function(e,b,a){var c=document.cookie,d;if(1==arguments.length)d=(d=c.match(RegExp("(?:^|; )"+
k.escapeString(e)+"\x3d([^;]*)")))?decodeURIComponent(d[1]):void 0;else{a=a||{};c=a.expires;if("number"==typeof c){var f=new Date;f.setTime(f.getTime()+864E5*c);c=a.expires=f}c&&c.toUTCString&&(a.expires=c.toUTCString());b=encodeURIComponent(b);var c=e+"\x3d"+b,g;for(g in a)c+="; "+g,f=a[g],!0!==f&&(c+="\x3d"+f);document.cookie=c}return d};e.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),
navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return e.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(e,k){var h={};k.setObject("dojo.regexp",h);h.escapeString=function(b,a){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(c){return a&&-1!=a.indexOf(c)?c:"\\"+c})};h.buildGroupRE=function(b,a,c){if(!(b instanceof Array))return a(b);for(var d=[],f=0;f<b.length;f++)d.push(a(b[f]));return h.group(d.join("|"),
c)};h.group=function(b,a){return"("+(a?"?:":"")+b+")"};return h})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(e,k,h){var b=e.some;return function(a){var c,d;a instanceof Array?d=a:a&&"object"===typeof a&&(c=a);var f,g=[];if(c){d=[];for(var l in c)Object.hasOwnProperty.call(c,l)&&(g.push(l),d.push(c[l]));f={}}else d&&(f=[]);if(!d||!d.length)return(new k).resolve(f);var n=new k;n.promise.always(function(){f=g=null});var p=d.length;b(d,function(a,b){c||g.push(b);
h(a,function(a){n.isFulfilled()||(f[g[b]]=a,0===--p&&n.resolve(f))},n.reject);return n.isFulfilled()});return n.promise}})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(e,k,h,b,a,c,d,f,g,l,n){h.isAsync||l(0,function(){n(["./fx/Toggler"])});h=h.fx={};l={_fire:function(a,c){this[a]&&this[a].apply(this,c||[]);return this}};var p=function(a){this._index=-1;this._animations=a||
[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;b.forEach(this._animations,function(a){a&&("undefined"!=typeof a.duration&&(this.duration+=a.duration),a.delay&&(this.duration+=a.delay))},this)};p.prototype=new k;e.extend(p,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=a.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),this._onEndCtx=a.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(c,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var d=a.after(this._current,"beforeBegin",e.hitch(this,function(){this._fire("beforeBegin")}),!0),g=a.after(this._current,"onBegin",e.hitch(this,function(a){this._fire("onBegin",arguments)}),
!0),f=a.after(this._current,"onPlay",e.hitch(this,function(a){this._fire("onPlay",arguments);d.remove();g.remove();f.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=a.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=a.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var c=a.after(this._current,"onPause",
e.hitch(this,function(a){this._fire("onPause",arguments);c.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,c){this.pause();var d=this.duration*a;this._current=null;b.some(this._animations,function(a,c){if(d<=a.duration)return this._current=a,this._index=c,!0;d-=a.duration;return!1},this);this._current&&this._current.gotoPercent(d/this._current.duration);c&&this.play();return this},stop:function(c){if(this._current){if(c){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var b=a.after(this._current,"onStop",e.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});e.extend(p,l);h.chain=function(a){return new p(e.isArray(a)?a:Array.prototype.slice.call(a,0))};var m=function(d){this._animations=
d||[];this._connects=[];this.duration=this._finished=0;b.forEach(d,function(c){var b=c.duration;c.delay&&(b+=c.delay);this.duration<b&&(this.duration=b);this._connects.push(a.after(c,"onEnd",e.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var g=this;b.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(c){g._connects.push(a.after(g._pseudoAnimation,c,function(){g._fire(c,arguments)},!0))})};e.extend(m,
{_doAction:function(a,c){b.forEach(this._animations,function(b){b[a].apply(b,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,c){var b=this._pseudoAnimation;b[a].apply(b,c)},play:function(a,c){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,c){var d=this.duration*a;b.forEach(this._animations,
function(a){a.gotoPercent(a.duration<d?1:d/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();b.forEach(this._connects,function(a){a.remove()})}});e.extend(m,l);h.combine=function(a){return new m(e.isArray(a)?a:Array.prototype.slice.call(a,0))};h.wipeIn=function(b){var g=b.node=d.byId(b.node),m=g.style,l;b=
c.animateProperty(e.mixin({properties:{height:{start:function(){l=m.overflow;m.overflow="hidden";if("hidden"==m.visibility||"none"==m.display)return m.height="1px",m.display="",m.visibility="",1;var a=f.get(g,"height");return Math.max(a,1)},end:function(){return g.scrollHeight}}}},b));var n=function(){m.height="auto";m.overflow=l};a.after(b,"onStop",n,!0);a.after(b,"onEnd",n,!0);return b};h.wipeOut=function(b){var g=(b.node=d.byId(b.node)).style,f;b=c.animateProperty(e.mixin({properties:{height:{end:1}}},
b));a.after(b,"beforeBegin",function(){f=g.overflow;g.overflow="hidden";g.display=""},!0);var m=function(){g.overflow=f;g.height="auto";g.display="none"};a.after(b,"onStop",m,!0);a.after(b,"onEnd",m,!0);return b};h.slideTo=function(b){var m=null,l=null,s=function(a){return function(){var c=f.getComputedStyle(a),b=c.position;m="absolute"==b?a.offsetTop:parseInt(c.top)||0;l="absolute"==b?a.offsetLeft:parseInt(c.left)||0;"absolute"!=b&&"relative"!=b&&(c=g.position(a,!0),m=c.y,l=c.x,a.style.position=
"absolute",a.style.top=m+"px",a.style.left=l+"px")}}(b.node=d.byId(b.node));s();b=c.animateProperty(e.mixin({properties:{top:b.top||0,left:b.left||0}},b));a.after(b,"beforeBegin",s,!0);return b};return h})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(e,k,h,b,a,c,d,f,g,l){function n(a,b,d){return q&&d?function(a,b){return c(a,d,b)}:s?function(d,g){var f=c(d,b,function(a){g.call(this,a);F=(new Date).getTime()}),
m=c(d,a,function(a){(!F||(new Date).getTime()>F+1E3)&&g.call(this,a)});return{remove:function(){f.remove();m.remove()}}}:function(b,d){return c(b,a,d)}}function p(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function m(a,d,g){if(!f.isRight(a)){var m=p(a.target);if(w=!a.target.disabled&&m&&m.dojoClick)if(y=(x="useTarget"==w)?m:a.target,x&&a.preventDefault(),E=a.changedTouches?a.changedTouches[0].pageX-l.global.pageXOffset:a.clientX,A=a.changedTouches?a.changedTouches[0].pageY-l.global.pageYOffset:
a.clientY,K=("object"==typeof w?w.x:"number"==typeof w?w:0)||4,L=("object"==typeof w?w.y:"number"==typeof w?w:0)||4,!u){u=!0;var r=function(a){w=x?h.isDescendant(l.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-l.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-l.global.pageYOffset:a.clientY),y):w&&(a.changedTouches?a.changedTouches[0].target:a.target)==y&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-l.global.pageXOffset:a.clientX)-E)<=K&&Math.abs((a.changedTouches?
a.changedTouches[0].pageY-l.global.pageYOffset:a.clientY)-A)<=L};l.doc.addEventListener(d,function(a){f.isRight(a)||(r(a),x&&a.preventDefault())},!0);l.doc.addEventListener(g,function(a){if(!f.isRight(a)&&(r(a),w)){M=(new Date).getTime();var b=x?y:a.target;"LABEL"===b.tagName&&(b=h.byId(b.getAttribute("for"))||b);var d=a.changedTouches?a.changedTouches[0]:a,g=function(c){var b=document.createEvent("MouseEvents");b._dojo_click=!0;b.initMouseEvent(c,!0,!0,a.view,a.detail,d.screenX,d.screenY,d.clientX,
d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return b},m=g("mousedown"),l=g("mouseup"),s=g("click");setTimeout(function(){c.emit(b,"mousedown",m);c.emit(b,"mouseup",l);c.emit(b,"click",s);M=(new Date).getTime()},0)}},!0);a=function(a){l.doc.addEventListener(a,function(c){var d=c.target;w&&(!c._dojo_click&&(new Date).getTime()<=M+1E3&&!("INPUT"==d.tagName&&b.contains(d,"dijitOffScreen")))&&(c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),"click"==a&&(("INPUT"!=
d.tagName||"radio"==d.type&&(b.contains(d,"dijitCheckBoxInput")||b.contains(d,"mblRadioButton"))||"checkbox"==d.type&&(b.contains(d,"dijitCheckBoxInput")||b.contains(d,"mblCheckBox")))&&"TEXTAREA"!=d.tagName&&"AUDIO"!=d.tagName&&"VIDEO"!=d.tagName)&&c.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}}var t=5>d("ios"),q=d("pointer-events")||d("MSPointer"),r=function(){var a={},c;for(c in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[c]=d("MSPointer")?"MSPointer"+c.charAt(0).toUpperCase()+
c.slice(1):"pointer"+c;return a}(),s=d("touch-events"),u,w,x=!1,y,E,A,K,L,M,F,G;d("touch")&&(q?g(function(){l.doc.addEventListener(r.down,function(a){m(a,r.move,r.up)},!0)}):g(function(){function b(c){var g=a.delegate(c,{bubbles:!0});6<=d("ios")&&(g.touches=c.touches,g.altKey=c.altKey,g.changedTouches=c.changedTouches,g.ctrlKey=c.ctrlKey,g.metaKey=c.metaKey,g.shiftKey=c.shiftKey,g.targetTouches=c.targetTouches);return g}G=l.body();l.doc.addEventListener("touchstart",function(a){F=(new Date).getTime();
var b=G;G=a.target;c.emit(b,"dojotouchout",{relatedTarget:G,bubbles:!0});c.emit(G,"dojotouchover",{relatedTarget:b,bubbles:!0});m(a,"touchmove","touchend")},!0);c(l.doc,"touchmove",function(a){F=(new Date).getTime();var d=l.doc.elementFromPoint(a.pageX-(t?0:l.global.pageXOffset),a.pageY-(t?0:l.global.pageYOffset));d&&(G!==d&&(c.emit(G,"dojotouchout",{relatedTarget:d,bubbles:!0}),c.emit(d,"dojotouchover",{relatedTarget:G,bubbles:!0}),G=d),c.emit(d,"dojotouchmove",b(a))||a.preventDefault())});c(l.doc,
"touchend",function(a){F=(new Date).getTime();var d=l.doc.elementFromPoint(a.pageX-(t?0:l.global.pageXOffset),a.pageY-(t?0:l.global.pageYOffset))||l.body();c.emit(d,"dojotouchend",b(a))})}));k={press:n("mousedown","touchstart",r.down),move:n("mousemove","dojotouchmove",r.move),release:n("mouseup","dojotouchend",r.up),cancel:n(f.leave,"touchcancel",q?r.cancel:null),over:n("mouseover","dojotouchover",r.over),out:n("mouseout","dojotouchout",r.out),enter:f._eventHandler(n("mouseover","dojotouchover",
r.over)),leave:f._eventHandler(n("mouseout","dojotouchout",r.out))};return e.touch=k})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(e,k,h,b){function a(a){if((a.keyCode===e.ENTER||a.keyCode===e.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var c;h(document,"keydown",function(b){a(b)?(c=b.target,b.preventDefault()):c=null});h(document,"keyup",function(b){a(b)&&b.target==c&&(c=null,
h.emit(b.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,metaKey:b.metaKey,altKey:b.altKey,_origType:b.type}))});var d=function(a,c){a.dojoClick=!0;return h(a,"click",c)};d.click=d;d.press=function(a,c){var d=h(a,b.press,function(a){("mousedown"!=a.type||k.isLeft(a))&&c(a)}),n=h(a,"keydown",function(a){(a.keyCode===e.ENTER||a.keyCode===e.SPACE)&&c(a)});return{remove:function(){d.remove();n.remove()}}};d.release=function(a,c){var d=h(a,b.release,function(a){("mouseup"!=
a.type||k.isLeft(a))&&c(a)}),n=h(a,"keyup",function(a){(a.keyCode===e.ENTER||a.keyCode===e.SPACE)&&c(a)});return{remove:function(){d.remove();n.remove()}}};d.move=b.move;return d})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(e,k,h,b,a,c,d,f,g,l,n,p,m,t,q,r,s){var u,w,x=new (k([p,
d],{curNode:null,activeStack:[],constructor:function(){var a=f.hitch(this,function(a){h.isDescendant(this.curNode,a)&&this.set("curNode",null);h.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});e.before(c,"empty",a);e.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,c){var b=this,d=a.document&&a.document.body;if(d){var m=n("pointer-events")?"pointerdown":n("MSPointer")?"MSPointerDown":n("touch-events")?"mousedown, touchstart":
"mousedown",f=g(a.document,m,function(a){if(!a||!(a.target&&null==a.target.parentNode))b._onTouchNode(c||a.target,"mouse")}),l=g(d,"focusin",function(a){if(a.target.tagName){var d=a.target.tagName.toLowerCase();"#document"==d||"body"==d||(q.isFocusable(a.target)?b._onFocusNode(c||a.target):b._onTouchNode(c||a.target))}}),r=g(d,"focusout",function(a){b._onBlurNode(c||a.target)});return{remove:function(){f.remove();l.remove();r.remove();d=f=l=r=null}}}},_onBlurNode:function(a){a=(new Date).getTime();
a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(f.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<w+100||(this._clearActiveWidgetsTimer=setTimeout(f.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(c,d){w=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer);a.contains(c,"dijitPopup")&&(c=c.firstChild);var g=[];try{for(;c;){var f=b.get(c,"dijitPopupParent");if(f)c=r.byId(f).domNode;else if(c.tagName&&"body"==c.tagName.toLowerCase()){if(c===m.body())break;c=t.get(c.ownerDocument).frameElement}else{var l=c.getAttribute&&c.getAttribute("widgetId"),s=l&&r.byId(l);s&&!("mouse"==d&&s.get("disabled"))&&g.unshift(l);c=c.parentNode}}}catch(n){}this._setStack(g,d)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),
this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,c){var b=this.activeStack,d=b.length-1,g=a.length-1;if(a[g]!=b[d]){this.set("activeStack",a);var m;for(m=d;0<=m&&b[m]!=a[m];m--)if(d=r.byId(b[m]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(c),this.emit("widget-blur",d,c);for(m++;m<=g;m++)if(d=r.byId(a[m]))d.set("focused",
!0),d._focusManager==this&&d._onFocus(c),this.emit("widget-focus",d,c)}},focus:function(a){if(a)try{a.focus()}catch(c){}}}));l(function(){var a=x.registerWin(t.get(document));n("ie")&&g(window,"unload",function(){a&&(a.remove(),a=null)})});s.focus=function(a){x.focus(a)};for(var y in x)/^_/.test(y)||(s.focus[y]="function"==typeof x[y]?f.hitch(x,y):x[y]);x.watch(function(a,c,b){s.focus[a]=b});return x})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],
function(e,k,h,b){return e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var c=this._attrPairNames;return c[a]?c[a]:c[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,c){return"function"===typeof this[c.g]?this[c.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,c){if("object"===typeof a){for(var d in a)a.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,a[d]);return this}d=this._getAttrNames(a);
var f=this._get(a,d);d=this[d.s];var g;"function"===typeof d?g=d.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=c;if(this._watchCallbacks){var l=this;b(g,function(){l._watchCallbacks(a,f,c)})}return this},_changeAttrValue:function(a,c){var b=this.get(a);this[a]=c;this._watchCallbacks&&this._watchCallbacks(a,b,c);return this},watch:function(a,c){var b=this._watchCallbacks;if(!b)var f=this,b=this._watchCallbacks=function(a,c,g,l){var q=function(b){if(b){b=b.slice();for(var d=0,l=b.length;d<
l;d++)b[d].call(f,a,c,g)}};q(b["_"+a]);l||q(b["*"])};!c&&"function"===typeof a?(c=a,a="*"):a="_"+a;var g=b[a];"object"!==typeof g&&(g=b[a]=[]);g.push(c);var l={};l.unwatch=l.remove=function(){var a=h.indexOf(g,c);-1<a&&g.splice(a,1)};return l}})})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(e,k,h,b,a,c,d){var f={_isElementShown:function(a){var c=b.get(a);return"hidden"!=c.visibility&&"collapsed"!=c.visibility&&
"none"!=c.display&&"hidden"!=h.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return h.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var c;try{var b=a.contentDocument;if("designMode"in b&&"on"==b.designMode)return!0;c=b.body}catch(d){try{c=a.contentWindow.document.body}catch(m){return!1}}return c&&("true"==c.contentEditable||c.firstChild&&"true"==c.firstChild.contentEditable);default:return"true"==
a.contentEditable}},effectiveTabIndex:function(a){return h.get(a,"disabled")?void 0:h.has(a,"tabIndex")?+h.get(a,"tabIndex"):f.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=f.effectiveTabIndex(a)},isFocusable:function(a){return-1<=f.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var d,p,m,e,q,r,s={},k=f._isElementShown,w=f.effectiveTabIndex,x=function(a){for(a=
a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=c("ie")&&"HTML"!==a.scopeName||!k(a))){var g=w(a);if(0<=g){if(0==g)d||(d=a),p=a;else if(0<g){if(!m||g<e)e=g,m=a;if(!q||g>=r)r=g,q=a}g=b(a);h.get(a,"checked")&&g&&(s[g]=a)}"SELECT"!=a.nodeName.toUpperCase()&&x(a)}};k(a)&&x(a);return{first:s[b(d)]||d,last:s[b(p)]||p,lowest:s[b(m)]||m,highest:s[b(q)]||q}},getFirstInTabbingOrder:function(a,c){var b=f._getTabNavigable(k.byId(a,c));return b.lowest?b.lowest:b.first},getLastInTabbingOrder:function(a,c){var b=
f._getTabNavigable(k.byId(a,c));return b.last?b.last:b.highest}};a.mixin(d,f);return f})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(e,k,h){var b={},a={},c={length:0,add:function(c){if(a[c.id])throw Error("Tried to register widget with id\x3d\x3d"+c.id+" but that id is already registered");a[c.id]=c;this.length++},remove:function(c){a[c]&&(delete a[c],this.length--)},byId:function(c){return"string"==typeof c?a[c]:c},byNode:function(c){return a[c.getAttribute("widgetId")]},
toArray:function(){var c=[],b;for(b in a)c.push(a[b]);return c},getUniqueId:function(c){var f;do f=c+"_"+(c in b?++b[c]:b[c]=0);while(a[f]);return"dijit"==h._scopeName?f:h._scopeName+"_"+f},findWidgets:function(c,b){function g(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var d=c.getAttribute("widgetId");d?(d=a[d])&&l.push(d):c!==b&&g(c)}}var l=[];g(c);return l},_destroyAll:function(){h._curFocus=null;h._prevFocus=null;h._activeStack=[];e.forEach(c.findWidgets(k.body()),function(a){a._destroyed||
(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(c){for(;c;){var b=1==c.nodeType&&c.getAttribute("widgetId");if(b)return a[b];c=c.parentNode}return null},_hash:a};return h.registry=c})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(e,k,h,b,a){var c={};e.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(a){c[a]=b[a]});h.mixin(c,
{defaultDuration:k.defaultDuration||200});h.mixin(a,c);return a})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(e,k,h,b,a,c,d,f,g,l,n,p,m){function t(){}function q(a){return function(c,b,g,m){return c&&"string"==typeof b&&c[b]==t?c.on(b.substring(2).toLowerCase(),d.hitch(g,m)):
a.apply(h,arguments)}}e.around(h,"connect",q);c.connect&&e.around(c,"connect",q);e=b("dijit._Widget",[n,p,m],{onClick:t,onDblClick:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseOut:t,onMouseOver:t,onMouseLeave:t,onMouseEnter:t,onMouseUp:t,constructor:function(a){this._toConnect={};for(var c in a)this[c]===t&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);
delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===t?h.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){c.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){c.deprecated(this.declaredClass+
"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(l.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});a("dijit-legacy-requires")&&g(0,function(){require(["dijit/_base"])});return e})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(e,k,h,b,a,c,d,f,g,l,n,p,m,t,q,r,s,u,w,x,y,E,A){function K(a){return function(c){f[c?"set":"remove"](this.domNode,a,c);this._set(a,c)}}m.add("dijit-legacy-requires",!t.isAsync);m("dijit-legacy-requires")&&s(0,function(){e(["dijit/_base/manager"])});var L={};return c("dijit._WidgetBase",[u,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:K("lang"),dir:"",_setDirAttr:K("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:b.blankGif||e.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var c=a.prototype,b=a._setterAttrs=[],a=a._onMap={},d;for(d in c.attributeMap)b.push(d);for(d in c)/^on/.test(d)&&(a[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,
d.length-9),(!c.attributeMap||!(d in c.attributeMap))&&b.push(d))}},postscript:function(a,c){this.create(a,c)},create:function(a,c){this._introspect();this.srcNodeRef=d.byId(c);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);a&&(this.params=a,q.mixin(this,a));this.postMixInProperties();this.id||(this.id=A.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=
this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=x.body(this.ownerDocument);A.add(this);this.buildRendering();var b;if(this.domNode){this._applyAttributes();var g=this.srcNodeRef;g&&(g.parentNode&&this.domNode!==g)&&(g.parentNode.replaceChild(this.domNode,g),b=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();b&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},c;for(c in this.params||{})a[c]=this._get(c);
k.forEach(this.constructor._setterAttrs,function(c){if(!(c in a)){var b=this._get(c);b&&this.set(c,b)}},this);for(c in a)this.set(c,a[c])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(k.map(a,function(a){return a+"Rtl"})));g.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=
!0,k.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&q.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function c(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,q.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,c);this.domNode&&k.forEach(A.findWidgets(this.domNode,
this.containerNode),c);this.destroyRendering(a);A.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?f.remove(this.domNode,"widgetId"):l.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||l.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){k.forEach(this.getChildren(),function(c){c.destroyRecursive&&c.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var c=
this.domNode;q.isObject(a)?p.set(c,a):c.style.cssText=c.style.cssText?c.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,b){b=3<=arguments.length?b:this.attributeMap[a];k.forEach(q.isArray(b)?b:[b],function(b){var d=this[b.node||b||"domNode"];switch(b.type||"attribute"){case "attribute":q.isFunction(c)&&(c=q.hitch(this,c));b=b.attribute?b.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?f.set(d,b,c):d.set(b,c);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(c));
break;case "textContent":d.textContent=c;break;case "innerHTML":d.innerHTML=c;break;case "class":g.replace(d,c,this[a]);break;case "toggleClass":g.toggle(d,b.className||a,c)}},this)},get:function(a){var c=this._getAttrNames(a);return this[c.g]?this[c.g]():this._get(a)},set:function(a,c){if("object"===typeof a){for(var b in a)this.set(b,a[b]);return this}b=this._getAttrNames(a);var d=this[b.s];if(q.isFunction(d))var g=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&
!q.isFunction(this.focusNode)?"focusNode":"domNode",m=this[d]&&this[d].tagName,f;if(f=m)if(!(f=L[m])){f=this[d];var l={},r;for(r in f)l[r.toLowerCase()]=!0;f=L[m]=l}r=f;b=a in this.attributeMap?this.attributeMap[a]:b.s in this?this[b.s]:r&&b.l in r&&"function"!=typeof c||/^aria-|^data-|^role$/.test(a)?d:null;null!=b&&this._attrToDom(a,c,b);this._set(a,c)}return g||this},_attrPairNames:{},_getAttrNames:function(a){var c=this._attrPairNames;if(c[a])return c[a];var b=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-
1).toUpperCase()});return c[a]={n:a+"Node",s:"_set"+b+"Attr",g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(a,c){var b=this[a];this[a]=c;if(this._created&&!(b===c||b!==b&&c!==c))this._watchCallbacks&&this._watchCallbacks(a,b,c),this.emit("attrmodified-"+a,{detail:{prevValue:b,newValue:c}})},_get:function(a){return this[a]},emit:function(a,c,b){c=c||{};void 0===c.bubbles&&(c.bubbles=!0);void 0===c.cancelable&&(c.cancelable=!0);c.detail||(c.detail={});c.detail.widget=this;var d,g=this["on"+a];
g&&(d=g.apply(this,b?b:[c]));this._started&&!this._beingDestroyed&&r.emit(this.domNode,a.toLowerCase(),c);return d},on:function(a,c){var b=this._onMap(a);return b?h.after(this,b,c,!0):this.own(r(this.domNode,a,c))[0]},_onMap:function(a){var c=this.constructor,b=c._onMap;if(!b){var b=c._onMap={},d;for(d in c.prototype)/^on/.test(d)&&(b[d.replace(/^on/,"").toLowerCase()]=d)}return b["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+
"]"},getChildren:function(){return this.containerNode?A.findWidgets(this.containerNode):[]},getParent:function(){return A.getEnclosingWidget(this.domNode.parentNode)},connect:function(c,b,d){return this.own(a.connect(c,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,c){return this.own(w.subscribe(a,q.hitch(this,c)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():n.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&
"none"!=p.get(this.domNode,"display")},placeAt:function(a,c){var b=!a.tagName&&A.byId(a);b&&b.addChild&&(!c||"number"===typeof c)?b.addChild(this,c):(b=b&&"domNode"in b?b.containerNode&&!/after|before|replace/.test(c||"")?b.containerNode:b.domNode:d.byId(a,this.ownerDocument),l.place(this.domNode,b,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,c){var b=setTimeout(q.hitch(this,function(){b&&(b=null,this._destroyed||q.hitch(this,a)())}),c||0);return{remove:function(){b&&
(clearTimeout(b),b=null);return null}}}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(e,k,h){return h("dijit.Destroyable",null,{destroy:function(b){this._destroyed=!0},own:function(){var b=["destroyRecursive","destroy","remove"];e.forEach(arguments,function(a){function c(){f.remove();e.forEach(g,function(a){a.remove()})}var d,f=k.before(this,"destroy",function(c){a[d](c)}),g=[];a.then?(d="cancel",a.then(c,c)):e.forEach(b,function(b){"function"===
typeof a[b]&&(d||(d=b),g.push(k.after(a,b,c,!0)))})},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(e,k,h,b,a,c){e=b("dijit._OnDijitClickMixin",null,{connect:function(a,b,g){return this.inherited(arguments,[a,"ondijitclick"==b?c:b,g])}});e.a11yclick=c;return e})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(e,
k,h,b){b.extend(k,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return h("dijit._FocusMixin",null,{_focusManager:e})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(e,k,h,b,a){var c=a.doc.documentElement;a=b("ie");var d=b("trident"),f=b("opera"),g=Math.floor,l=b("ff"),n=e.boxModel.replace(/-/,""),f={dj_quirks:b("quirks"),dj_opera:f,dj_khtml:b("khtml"),
dj_webkit:b("webkit"),dj_safari:b("safari"),dj_chrome:b("chrome"),dj_edge:b("edge"),dj_gecko:b("mozilla"),dj_ios:b("ios"),dj_android:b("android")};a&&(f.dj_ie=!0,f["dj_ie"+g(a)]=!0,f.dj_iequirks=b("quirks"));d&&(f.dj_trident=!0,f["dj_trident"+g(d)]=!0);l&&(f["dj_ff"+g(l)]=!0);f["dj_"+n]=!0;var p="",m;for(m in f)f[m]&&(p+=m+" ");c.className=k.trim(c.className+" "+p);h(function(){if(!e.isBodyLtr()){var a="dj_rtl dijitRtl "+p.replace(/ /g,"-rtl ");c.className=k.trim(c.className+" "+a+"dj_rtl dijitRtl "+
p.replace(/ /g,"-rtl "))}});return b})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(e,k,h,b){h(function(){k("highcontrast")&&e.add(b.body(),"dijit_a11y")});return k})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(e,k,h,b,a,c,d){a.add("highcontrast",function(){var c=d.doc.createElement("div");try{c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(k.blankGif||e.toUrl("./resources/blank.gif"))+'");';d.body().appendChild(c);var g=b.getComputedStyle(c),l=g.backgroundImage;return g.borderTopColor==g.borderRightColor||l&&("none"==l||"url(invalid-url:)"==l)}catch(n){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+n.toString()),!1}finally{8>=a("ie")?c.outerHTML="":d.body().removeChild(c)}});c(function(){a("highcontrast")&&h.add(d.body(),"dj_a11y")});return a})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(e,k,h,b,a,c,d,f){var g=k("dijit._TemplatedMixin",f,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var c=this.declaredClass,g=this;return d.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=b.getObject(d.substr(1),!1,g));if("undefined"==typeof a)throw Error(c+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=e(this.templatePath,{sanitize:!0}));var a=g.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(b.isString(a)){if(c=h.toDom(this._stringRepl(a),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});g._templateCache={};g.getCachedTemplate=function(a,c,b){var m=g._templateCache,f=a,q=m[f];if(q){try{if(!q.ownerDocument||q.ownerDocument==(b||document))return q}catch(r){}h.destroy(q)}a=d.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return m[f]=a;c=h.toDom(a,b);if(1!=c.nodeType)throw Error("Invalid template: "+a);return m[f]=c};c("ie")&&a(window,"unload",function(){var a=
g._templateCache,c;for(c in a){var b=a[c];"object"==typeof b&&h.destroy(b);delete a[c]}});return g})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(e){return e.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(e,k,h,b){var a;a=function(a,c,d){b(a,{sync:!!c,headers:{"X-Requested-With":null}}).then(d)};var c={},d=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
c&&(a=c[1])}else a="";return a},f={},g={};e.cache=function(b,g,f){var m;"string"==typeof b?/\//.test(b)?(m=b,f=g):m=k.toUrl(b.replace(/\./g,"/")+(g?"/"+g:"")):(m=b+"",f=g);b=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof b)return c[m]=b,f?d(b):b;if(null===b)return delete c[m],null;m in c||a(m,!0,function(a){c[m]=a});return f?d(c[m]):c[m]};return{dynamic:!0,normalize:function(a,c){var b=a.split("!"),d=b[0];return(/^\./.test(d)?c(d):d)+(b[1]?"!"+b[1]:"")},load:function(b,
n,p){b=b.split("!");var m=1<b.length,e=b[0],q=n.toUrl(b[0]);b="url:"+q;var r=f,s=function(a){p(m?d(a):a)};e in c?r=c[e]:n.cache&&b in n.cache?r=n.cache[b]:q in c&&(r=c[q]);if(r===f)if(g[q])g[q].push(s);else{var k=g[q]=[s];a(q,!n.async,function(a){c[e]=c[q]=a;for(var b=0;b<k.length;)k[b++](a);delete g[q]})}else s(r)}}})},"dojo/request":function(){define(["./request/default!"],function(e){return e})},"dojo/request/default":function(){define(["exports","require","../has"],function(e,k,h){var b=h("config-requestProvider");
b||(b="./xhr");e.getPlatformDefaultId=function(){return"./xhr"};e.load=function(a,c,d,f){k(["platform"==a?"./xhr":b],function(a){d(a)})}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(e,k){var h=/[&<>'"\/]/g,b={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},a={};k.setObject("dojo.string",a);a.escape=function(a){return!a?"":a.replace(h,function(a){return b[a]})};a.rep=function(a,b){if(0>=b||!a)return"";for(var f=[];;){b&
1&&f.push(a);if(!(b>>=1))break;a+=a}return f.join("")};a.pad=function(c,b,f,g){f||(f="0");c=String(c);b=a.rep(f,Math.ceil((b-c.length)/f.length));return g?c+b:b+c};a.substitute=function(a,b,f,g){g=g||e.global;f=f?k.hitch(g,f):function(a){return a};return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,c,p){if(""==c)return"$";a=k.getObject(c,!1,b);p&&(a=k.getObject(p,!1,g).call(g,a,c));return f(a,c).toString()})};a.trim=String.prototype.trim?k.trim:function(a){a=a.replace(/^\s+/,"");
for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return a})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(e,k,h,b,a,c,d,f,g){var l=a.delegate(f,{mouseenter:c.enter,mouseleave:c.leave,keypress:h._keypress}),n;h=b("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);
this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var c=a;;)if(1==c.nodeType&&(this._processTemplateNode(c,function(a,c){return a.getAttribute(c)},this._attach)||this.searchContainerNode)&&c.firstChild)c=c.firstChild;else{if(c==a)break;for(;!c.nextSibling;)if(c=c.parentNode,c==a)return;c=c.nextSibling}},_processTemplateNode:function(c,b,d){var g=!0,f=this.attachScope||this,l=b(c,"dojoAttachPoint")||b(c,"data-dojo-attach-point");
if(l)for(var e=l.split(/\s*,\s*/);l=e.shift();)a.isArray(f[l])?f[l].push(c):f[l]=c,g="containerNode"!=l,this._attachPoints.push(l);if(b=b(c,"dojoAttachEvent")||b(c,"data-dojo-attach-event")){l=b.split(/\s*,\s*/);for(e=a.trim;b=l.shift();)if(b){var n=null;-1!=b.indexOf(":")?(n=b.split(":"),b=e(n[0]),n=e(n[1])):b=e(b);n||(n=b);this._attachEvents.push(d(c,b,a.hitch(f,n)))}}return g},_attach:function(a,c,b){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?n||(n=e("./a11yclick")):l[c]||c;return d(a,
c,b)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(c){delete a[c]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});a.extend(g,{dojoAttachEvent:"",dojoAttachPoint:""});return h})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(e,
k,h,b){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,c){var b=this.containerNode;if(0<c){for(b=b.firstChild;0<c;)1==b.nodeType&&c--,b=b.nextSibling;b?c="before":(b=this.containerNode,c="last")}h.place(a.domNode,b,c);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},
hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,c){var b=this.getChildren(),f=e.indexOf(b,a);return b[f+c]},getIndexOfChild:function(a){return e.indexOf(this.getChildren(),a)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(e,k){return e("dijit._Contained",null,{_getSibling:function(e){var b=this.getParent();return b&&b._getSiblingOfChild&&b._getSiblingOfChild(this,"previous"==e?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},
getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var e=this.getParent();return!e||!e.getIndexOfChild?-1:e.getIndexOfChild(this)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(e,k,h,b,a,c,d,f,g,l,n,p){k=k("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
e.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,c.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(b){c=c.concat(e.map(c,function(a){return a+b}),"dijit"+b)}var c=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var b=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(b);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var b=this.stateNode||this.domNode,d={};e.forEach(b.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&e.forEach(this._stateClasses,function(a){delete d[a]});e.forEach(c,function(a){d[a]=!0});var g=
[],f;for(f in d)g.push(f);b.className=g.join(" ");this._stateClasses=c},_subnodeCssMouseEvent:function(a,c,d){function g(d){b.toggle(a,c+"Active",d)}if(!this.disabled&&!this.readOnly)switch(d.type){case "mouseover":case "MSPointerOver":case "pointerover":b.toggle(a,c+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":b.toggle(a,c+"Hover",!1);g(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":g(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":g(!1);
break;case "focus":case "focusin":b.toggle(a,c+"Focused",!0);break;case "blur":case "focusout":b.toggle(a,c+"Focused",!1)}},_trackMouseState:function(a,c){a._cssState=c}});f(function(){function a(c,b,d){if(!d||!h.isDescendant(d,b))for(;b&&b!=d;b=b.parentNode)if(b._cssState){var g=p.getEnclosingWidget(b);g&&(b==g.domNode?g._cssMouseEvent(c):g._subnodeCssMouseEvent(b,b._cssState,c))}}var c=l.body(),b;d(c,g.over,function(c){a(c,c.target,c.relatedTarget)});d(c,g.out,function(c){a(c,c.target,c.relatedTarget)});
d(c,n.press,function(c){b=c.target;a(c,b)});d(c,n.release,function(c){a(c,b);b=null});d(c,"focusin, focusout",function(a){var c=a.target;if(c._cssState&&!c.getAttribute("widgetId")){var b=p.getEnclosingWidget(c);b&&b._subnodeCssMouseEvent(c,c._cssState,a)}})});return k})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(e,k,h,b,a,c,d,f){return k("dijit._KeyNavMixin",f,{tabIndex:"0",
childSelector:null,postCreate:function(){this.inherited(arguments);h.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var g=this._keyNavCodes={};g[b.HOME]=a.hitch(this,"focusFirstChild");g[b.END]=a.hitch(this,"focusLastChild");g[this.isLeftToRight()?b.LEFT_ARROW:b.RIGHT_ARROW]=a.hitch(this,"_onLeftArrow");g[this.isLeftToRight()?b.RIGHT_ARROW:b.LEFT_ARROW]=a.hitch(this,"_onRightArrow");g[b.UP_ARROW]=a.hitch(this,"_onUpArrow");g[b.DOWN_ARROW]=a.hitch(this,"_onDownArrow")}var f=this,
g="string"==typeof this.childSelector?this.childSelector:a.hitch(this,"childSelector");this.own(c(this.domNode,"keypress",a.hitch(this,"_onContainerKeypress")),c(this.domNode,"keydown",a.hitch(this,"_onContainerKeydown")),c(this.domNode,"focus",a.hitch(this,"_onContainerFocus")),c(this.containerNode,c.selector(g,"focusin"),function(a){f._onChildFocus(d.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},
_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,c){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(c?"end":"start"))},_onContainerFocus:function(a){a.target!==
this.domNode||this.focusedChild||this.focus()},_onFocus:function(){h.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){h.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",
this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,c,b,d){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,c){var b=a.domNode,b=(a.label||(b.focusNode?b.focusNode.label:"")||b.innerText||b.textContent||"").replace(/^\s+/,"").substr(0,c.length).toLowerCase();return c.length&&b==c?-1:0},_onContainerKeydown:function(a){var c=this._keyNavCodes[a.keyCode];c?(c(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),
this._searchString=""):a.keyCode==b.SPACE&&(this._searchTimer&&!a.ctrlKey&&!a.altKey&&!a.metaKey)&&(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))},_onContainerKeypress:function(a){a.charCode<=b.SPACE||(a.ctrlKey||a.altKey||a.metaKey)||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase()))},_keyboardSearch:function(c,b){var d=null,f,m=0;a.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=
b;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;f=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var c=this.focusedChild||null;if(1==a||!c)if(c=this._getNextFocusableChild(c,1),!c)return;a=c;do{var g=this._keyboardSearchCompare(c,f);g&&0==m++&&(d=c);if(-1==g){m=-1;break}c=this._getNextFocusableChild(c,1)}while(c&&c!=a)})();this.onKeyboardSearch(d,c,f,m)},_onChildBlur:function(){},
_getNextFocusableChild:function(a,c){var b=a;do{if(a)a=this._getNext(a,c);else if(a=this[0<c?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=b&&a.isFocusable())return a}while(a!=b);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(a,c){if(a)for(a=a.domNode;a;)if((a=a[0>c?"previousSibling":"nextSibling"])&&"getAttribute"in a){var b=d.byNode(a);if(b)return b}return null}})})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect",
"dojo/_base/declare","dojo/_base/lang"],function(e,k,h,b){return h("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(a){b.mixin(this,a);this.connects=[];a=this.store;if(!a.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");a.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([k.after(a,
"onNew",b.hitch(this,"onNewItem"),!0),k.after(a,"onDelete",b.hitch(this,"onDeleteItem"),!0),k.after(a,"onSet",b.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var a;a=this.connects.pop();)a.remove()},getRoot:function(a,c){this.root?a(this.root):this.store.fetch({query:this.query,onComplete:b.hitch(this,function(c){if(1!=c.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+c.length+" items, but must return exactly one");this.root=c[0];a(this.root)}),onError:c})},mayHaveChildren:function(a){return e.some(this.childrenAttrs,
function(c){return this.store.hasAttribute(a,c)},this)},getChildren:function(a,c,d){var f=this.store;if(f.isItemLoaded(a)){for(var g=[],l=0;l<this.childrenAttrs.length;l++)var n=f.getValues(a,this.childrenAttrs[l]),g=g.concat(n);var p=0;this.deferItemLoadingUntilExpand||e.forEach(g,function(a){f.isItemLoaded(a)||p++});0==p?c(g):e.forEach(g,function(a,b){f.isItemLoaded(a)||f.loadItem({item:a,onItem:function(a){g[b]=a;0==--p&&c(g)},onError:d})})}else{var m=b.hitch(this,arguments.callee);f.loadItem({item:a,
onItem:function(a){m(a,c,d)},onError:d})}},isItem:function(a){return this.store.isItem(a)},fetchItemByIdentity:function(a){this.store.fetchItemByIdentity(a)},getIdentity:function(a){return this.store.getIdentity(a)},getLabel:function(a){return this.labelAttr?this.store.getValue(a,this.labelAttr):this.store.getLabel(a)},newItem:function(a,c,b){var f={parent:c,attribute:this.childrenAttrs[0]},g;this.newItemIdAttr&&a[this.newItemIdAttr]?this.fetchItemByIdentity({identity:a[this.newItemIdAttr],scope:this,
onItem:function(l){l?this.pasteItem(l,null,c,!0,b):(g=this.store.newItem(a,f))&&void 0!=b&&this.pasteItem(g,c,c,!1,b)}}):(g=this.store.newItem(a,f))&&void 0!=b&&this.pasteItem(g,c,c,!1,b)},pasteItem:function(a,c,b,f,g){var l=this.store,n=this.childrenAttrs[0];c&&e.forEach(this.childrenAttrs,function(b){if(l.containsValue(c,b,a)){if(!f){var d=e.filter(l.getValues(c,b),function(c){return c!=a});l.setValues(c,b,d)}n=b}});if(b)if("number"==typeof g){var p=l.getValues(b,n).slice();p.splice(g,0,a);l.setValues(b,
n,p)}else l.setValues(b,n,l.getValues(b,n).concat(a))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(a,c){c&&this.getChildren(c.item,b.hitch(this,function(a){this.onChildrenChange(c.item,a)}))},onDeleteItem:function(a){this.onDelete(a)},onSetItem:function(a,c){if(-1!=e.indexOf(this.childrenAttrs,c))this.getChildren(a,b.hitch(this,function(c){this.onChildrenChange(a,c)}));else this.onChange(a)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(e,k,h,b,a){return k("dijit.tree.ForestStoreModel",a,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(a){this.root={store:this,root:!0,id:a.rootId,label:a.rootLabel,children:a.rootChildren}},mayHaveChildren:function(a){return a===this.root||this.inherited(arguments)},getChildren:function(a,d,f){a===this.root?this.root.children?d(this.root.children):this.store.fetch({query:this.query,onComplete:b.hitch(this,
function(a){this.root.children=a;d(a)}),onError:f}):this.inherited(arguments)},isItem:function(a){return a===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(a){if(a.identity==this.root.id){var b=a.scope||h.global;a.onItem&&a.onItem.call(b,this.root)}else this.inherited(arguments)},getIdentity:function(a){return a===this.root?this.root.id:this.inherited(arguments)},getLabel:function(a){return a===this.root?this.root.label:this.inherited(arguments)},newItem:function(a,b,f){return b===
this.root?(this.onNewRootItem(a),this.store.newItem(a)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(a,b,f,g,l){if(b===this.root&&!g)this.onLeaveRoot(a);this.inherited(arguments,[a,b===this.root?null:b,f===this.root?null:f,g,l]);if(f===this.root)this.onAddToRoot(a)},onAddToRoot:function(a){},onLeaveRoot:function(a){},_requeryTop:function(){var a=this.root.children||[];this.store.fetch({query:this.query,onComplete:b.hitch(this,function(b){this.root.children=b;if(a.length!=
b.length||e.some(a,function(a,c){return b[c]!=a}))this.onChildrenChange(this.root,b)})})},onNewItem:function(a,b){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(a){-1!=e.indexOf(this.root.children,a)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(a,b,f,g){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(e,k,h,b,a,c,d,f,g,l,n){return k("dijit.tree._dndSelector",n,{constructor:function(){this.selection={};this.anchor=null;this.events.push(f(this.tree.domNode,g.press,b.hitch(this,"onMouseDown")),f(this.tree.domNode,g.release,b.hitch(this,"onMouseUp")),f(this.tree.domNode,g.move,b.hitch(this,"onMouseMove")),f(this.tree.domNode,l.press,b.hitch(this,"onClickPress")),f(this.tree.domNode,l.release,b.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],c=this.selection,
b;for(b in c)a.push(c[b]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,c){this.setSelection(this.getSelectedTreeNodes().concat([a]));c&&(this.anchor=a);return a},removeTreeNode:function(a){var b=e.filter(this.getSelectedTreeNodes(),function(b){return!c.isDescendant(b.domNode,a.domNode)});this.setSelection(b);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},
setSelection:function(a){var c=this.getSelectedTreeNodes();e.forEach(this._setDifference(c,a),b.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));e.forEach(this._setDifference(a,c),b.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,c){e.forEach(c,function(a){a.__exclude__=!0});var b=e.filter(a,function(a){return!a.__exclude__});e.forEach(c,function(a){delete a.__exclude__});
return b},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),c=[],b=[];e.forEach(a,function(a){var d=a.getTreePath();b.push(a);c.push(d)},this);a=e.map(b,function(a){return a.item});this.tree._set("paths",c);this.tree._set("path",c[0]||[]);this.tree._set("selectedNodes",b);this.tree._set("selectedNode",b[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(c){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(c.target,
this.current)){"mousedown"==c.type&&d.isLeft(c)&&c.preventDefault();var b="keydown"==c.type?this.tree.focusedChild:this.current;if(b){var g=a.getCopyKeyState(c),f=b.id;!this.singular&&!c.shiftKey&&this.selection[f]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(b,g,c.shiftKey))}}},onClickRelease:function(c){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==c.type?this.tree.focusedChild:this.current,a.getCopyKeyState(c),c.shiftKey))},onMouseMove:function(){this._doDeselect=
!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,c){if(a===c)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-c.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(c)&2?1:-1;if(document.createRange){var b=doc.createRange();b.setStartBefore(a);var d=doc.createRange();d.setStartBefore(c);return b.compareBoundaryPoints(b.END_TO_END,d)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
},userSelect:function(a,c,b){if(this.singular)this.anchor==a&&c?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(b&&this.anchor){c=this._compareNodes(this.anchor.rowNode,a.rowNode);b=this.anchor;0>c?c=b:(c=a,a=b);for(b=[];c!=a;)b.push(c),c=this.tree._getNext(c);b.push(a);this.setSelection(b)}else this.selection[a.id]&&c?this.removeTreeNode(a):c?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
c){c=c||h.global;for(var b in this.selection)a.call(c,this.getItem(b),b,this)}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(e,k,h,b){var a=h.getObject("dojo.dnd",!0);a.getCopyKeyState=function(a){return a[e("mac")?"metaKey":"ctrlKey"]};a._uniqueId=0;a.getUniqueId=function(){var c;do c=k._scopeName+"Unique"+ ++a._uniqueId;while(b.byId(c));return c};a._empty={};a.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=
" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return a})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(e,k,h,b,a,c){return k("dijit.tree._dndContainer",null,{constructor:function(d,f){this.tree=d;this.node=d.domNode;b.mixin(this,f);this.containerState="";h.add(this.node,"dojoDndContainer");this.events=[a(this.node,c.enter,b.hitch(this,"onOverEvent")),a(this.node,
c.leave,b.hitch(this,"onOutEvent")),e.after(this.tree,"_onNodeMouseEnter",b.hitch(this,"onMouseOver"),!0),e.after(this.tree,"_onNodeMouseLeave",b.hitch(this,"onMouseOut"),!0),a(this.node,"dragstart, selectstart",function(a){a.preventDefault()})]},destroy:function(){for(var a;a=this.events.pop();)a.remove();this.node=this.parent=null},onMouseOver:function(a){this.current=a},onMouseOut:function(){this.current=null},_changeState:function(a,c){var b="dojoDnd"+a,l=a.toLowerCase()+"State";h.replace(this.node,
b+c,b+this[l]);this[l]=c},_addItemClass:function(a,c){h.add(a,"dojoDndItem"+c)},_removeItemClass:function(a,c){h.remove(a,"dojoDndItem"+c)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"FPTTree/js/Tree":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/on dojo/dom dojo/topic dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tree dijit/registry ./TreeStore dojo/text!FPTTree/js/templates/Tree.html mw-overlay-utils/BusyOverlay mw-log/Log".split(" "),
function(e,k,h,b,a,c,d,f,g,l,n,p,m,t,q){return e([f,g],{templateString:m,constructor:function(a){"object"!==typeof a&&q.error("Expected an object with 4 properties: AutoExpand, ShowRoot, tree and spinner IDs");e.safeMixin(this,a);this._modelHierarchy=new p(this.ShowObjectNode);this._selectedNodeID=""},buildRendering:function(){this.inherited(arguments);this._busyIndicator||(this._busyIndicator=new t,this._busyIndicator.set("target",this._get(this.treeBusyNodeID)));this.tree=new l({model:this._modelHierarchy.treeStore,
autoExpand:this.AutoExpand,showRoot:this.ShowRoot,persist:!0,getIconClass:function(a,c){return a.iconClass},getRowClass:function(a,c){var b=a["class"];"FPTRoot"!==a.identifier&&"DataObjects"!==a.identifier&&(b=b.concat(" ","settingControl"));return b}},this._get(this.fptTreeWidgetID))},postCreate:function(){this.inherited(arguments);this._busyIndicator.show();this.tree.startup()},attachOnClickCallback:function(a,c){this.tree.own(b(this.tree,"click",k.hitch(a,c)))},attachOnOpenCallback:function(a,
c){this.tree.own(b(this.tree,"open",k.hitch(a,c)))},updateHierarchy:function(a,c){this._busyIndicator.isVisible()||this._busyIndicator.show();var b=this,g=new d;g.then(function(){c&&c.resolve();b.showTree()});this._modelHierarchy.clearAndUpdateStore(a,g)},updateTreeNodeChildren:function(a,c){this._modelHierarchy.addToStore(a);c&&this._modelHierarchy.query({identifier:c.toLoadIdentifier})[0]&&c.resolve();this.hideSpinner()},getRoot:function(){return this.tree.rootNode},selectTreeNode:function(a){a=
this._modelHierarchy.query({identifier:a})[0];var c=!1;a&&(a=this.buildPathArray(a),this.tree.set("paths",[a]),c=!0);return c},_refreshTree:function(){this.tree.dndController.selectNone();this.tree._itemNodeMap={};this.tree.model.root.children=null;this.tree.rootNode&&this.tree.rootNode.destroyRecursive();this.tree.postMixInProperties();this.tree._load()},showTree:function(){this._refreshTree();this._busyIndicator&&this._busyIndicator.hide()},buildPathArray:function(a){var c,b="";c=this.tree.model.store.query({identifier:a.parent});
if(!c||Array.isArray(c)&&0===c.length)b=[a.identifier];else{for(b=[c[0].identifier];Array.isArray(c)&&0!==c.length;)c=this.tree.model.store.query({identifier:c[0].parent}),Array.isArray(c)&&0<c.length&&b.push(c[0].identifier);Array.isArray(b)||(b=[b]);b=b.reverse();b.push(a.identifier)}return b},destroyRecursive:function(){this.inherited(arguments);this._busyIndicator&&(this._busyIndicator.destroy(),this._busyIndicator=null);this.tree&&(this.tree.destroyRecursive(),this.tree=null);this._modelHierarchy.clearStore();
this.destroy()},expandNodes:function(a,c){var b=a.getChildren();if(0<c&&a.item.itemFullyLoaded)for(var d=0;d<b.length;d+=1)b[d].item.itemFullyLoaded&&(b[d].isExpanded||this.tree._expandNode(b[d]),this.expandNodes(b[d],c-1))},saveCurrentSelection:function(){this.tree.selectedItem&&(this._selectedNodeID=this.tree.selectedItem.identifier)},restorePreviousSelection:function(){if(this._selectedNodeID){var a=this._modelHierarchy.query({identifier:this._selectedNodeID})[0],a=this.buildPathArray(a);this.tree.set("path",
a)}},getTreeWidget:function(){return this.tree},getSelectedNode:function(){return this.tree.selectedNode},getSelectedItem:function(){return this.tree.selectedItem},getSpinnerWidget:function(){return this._busyIndicator},getDataForTreeID:function(a){return this._modelHierarchy.query({identifier:a})[0]},getTopModelName:function(){return this._modelHierarchy.treeStore.topModel},showSpinner:function(){this._busyIndicator.show()},hideSpinner:function(){this._busyIndicator.hide()}})})},"FPTTree/js/TreeStore":function(){define(["dojo/_base/declare",
"dojo/store/Memory","dojo/store/Observable","dijit/tree/ObjectStoreModel","dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool"],function(e,k,h,b,a){return e(null,{constructor:function(c){this.MemoryStore=new k({data:[{identifier:"FPTRoot",name:a.titleFPTRoot,path:"FPTRoot",iconClass:"SimulinkRoot",itemFullyLoaded:!0,hasChildren:!0,id:"FPTRoot"}],getChildren:function(a){return this.query({parent:a.identifier})}});this.dataStore=new h(this.MemoryStore);this.treeStore=new b({store:this.dataStore,
topModel:"",query:{},mayHaveChildren:function(a){a=this.store.query({identifier:a.identifier});return 0!==a.length?a[0].hasChildren:!1}});this._showObjectNode=c;this._timeoutIDArray=[]},clearAndUpdateStore:function(c,b){var f=c.data,g={identifier:"FPTRoot",name:a.titleFPTRoot,path:"FPTRoot",iconClass:"SimulinkRoot",itemFullyLoaded:!0,hasChildren:!0,id:"FPTRoot"};this.clearStore();this.treeStore.query={identifier:"FPTRoot"};this.dataStore.put(g);this._showObjectNode&&this._addObjectNodeToTree();Array.isArray(f)||
(f=[f]);this.treeStore.topModel=f[0].TopModel;for(g=0;g<f.length;g+=1){f[g].Models.id=f[g].Models.identifier;this.dataStore.put(f[g].Models);var l=f[g].children;Array.isArray(l)||(l=[l]);250>=l.length?this.updateStore(l,b):this.updateStoreWithTimeout(l,b)}},updateStore:function(a,b){for(var f=0;f<a.length;f+=1)a[f].id=a[f].identifier,this.dataStore.put(a[f]);b.resolve()},updateStoreWithTimeout:function(a,b){for(var f=parseInt(a.length/100),g=0;g<=f;g+=1){var l=a.slice(100*g,100*g+99),l=this._createSetTimeout(l,
b,g);this._timeoutIDArray.push(l)}},_createSetTimeout:function(a,b,f){var g=this;return setTimeout(function(a,c){return function(){for(var b=0;b<a.length;b+=1)a[b].id=a[b].identifier,g.dataStore.put(a[b]);g.decrementDataAddCount(c)}}(a,b),10*f)},decrementDataAddCount:function(a){clearTimeout(this._timeoutIDArray[0]);this._timeoutIDArray.shift();0===this._timeoutIDArray.length&&a.resolve()},addToStore:function(a){a=a.data;Array.isArray(a)||(a=[a]);for(var b=0;b<a.length;b+=1){a[b].id=a[b].identifier;
this.query({identifier:a[b].id})[0]&&this.dataStore.remove(a[b].id);var f=this.query({name:a[b].name})[0];f&&(f.parent===a[b].parent&&-1===f.identifier.indexOf("_dummy"))&&this.dataStore.remove(f.id);this.query({parent:a[b].id})[0]&&(a[b].hasChildren=!0,a[b].itemFullyLoaded=!0);if(f=this.query({identifier:a[b].parent})[0])f.hasChildren=!0,f.itemFullyLoaded=!0,this.dataStore.put(f);this.dataStore.put(a[b])}},clearStore:function(){var a=this.dataStore.data;if(a)for(;0<a.length;)this.dataStore.remove(a[0].id)},
query:function(a){return this.dataStore.query(a)},_addObjectNodeToTree:function(){this.dataStore.put({identifier:"DataObjects",name:a.titleDataObjects,path:"FPTRoot/DataObjects",iconClass:"DataRoot",id:"DataObjects",parent:"FPTRoot",itemFullyLoaded:!0,hasChildren:!1})}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(e,k,h){return e("dojo.store.Memory",null,{constructor:function(b){for(var a in b)this[a]=b[a];this.setData(this.data||
[])},data:null,idProperty:"id",index:null,queryEngine:h,get:function(b){return this.data[this.index[b]]},getIdentity:function(b){return b[this.idProperty]},put:function(b,a){var c=this.data,d=this.index,f=this.idProperty,f=b[f]=a&&"id"in a?a.id:f in b?b[f]:Math.random();if(f in d){if(a&&!1===a.overwrite)throw Error("Object already exists");c[d[f]]=b}else d[f]=c.push(b)-1;return f},add:function(b,a){(a=a||{}).overwrite=!1;return this.put(b,a)},remove:function(b){var a=this.index,c=this.data;if(b in
a)return c.splice(a[b],1),this.setData(c),!0},query:function(b,a){return k(this.queryEngine(b,a)(this.data))},setData:function(b){b.items?(this.idProperty=b.identifier||this.idProperty,b=this.data=b.items):this.data=b;this.index={};for(var a=0,c=b.length;a<c;a++)this.index[b[a][this.idProperty]]=a}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(e,k,h){var b=function(a){function c(c){a[c]=function(){var g=arguments,l=h(a,function(a){Array.prototype.unshift.call(g,
a);return b(e[c].apply(e,g))});if("forEach"!==c||d)return l}}if(!a)return a;var d=!!a.then;d&&(a=k.delegate(a));c("forEach");c("filter");c("map");null==a.total&&(a.total=h(a,function(a){return a.length}));return a};k.setObject("dojo.store.util.QueryResults",b);return b})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(e){return function(k,h){function b(a){a=e.filter(a,k);var b=h&&h.sort;b&&a.sort("function"==typeof b?b:function(a,c){for(var f,e=0;f=b[e];e++){var m=
a[f.attribute],k=c[f.attribute],m=null!=m?m.valueOf():m,k=null!=k?k.valueOf():k;if(m!=k)return!!f.descending==(null==m||m>k)?-1:1}return 0});if(h&&(h.start||h.count)){var f=a.length;a=a.slice(h.start||0,(h.start||0)+(h.count||Infinity));a.total=f}return a}switch(typeof k){default:throw Error("Can not query with a "+typeof k);case "object":case "undefined":var a=k;k=function(c){for(var b in a){var f=a[b];if(f&&f.test){if(!f.test(c[b],c))return!1}else if(f!=c[b])return!1}return!0};break;case "string":if(!this[k])throw Error("No filter function "+
k+" was found in store");k=this[k];case "function":}b.matches=k;return b}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(e,k,h,b){e=function(a){function c(c,b){var d=a[c];d&&(a[c]=function(g){var f;"put"===c&&(f=a.getIdentity(g));if(l)return d.apply(this,arguments);l=!0;try{var r=d.apply(this,arguments);h(r,function(a){b("object"==typeof a&&a||g,f)});return r}finally{l=!1}})}var d=[],f=0;a=k.delegate(a);a.notify=function(a,c){f++;
for(var b=d.slice(),g=0,l=b.length;g<l;g++)b[g](a,c)};var g=a.query;a.query=function(c,l){l=l||{};var m=g.apply(this,arguments);if(m&&m.forEach){var e=k.mixin({},l);delete e.start;delete e.count;var q=a.queryEngine&&a.queryEngine(c,e),r=f,s=[],u;m.observe=function(c,g){1==s.push(c)&&d.push(u=function(c,d){h(m,function(m){var e=m.length!=l.count,k,n;if(++r!=f)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var h,w=-1,u=-1;if(void 0!==d){var t=[].concat(m);
q&&!c&&(t=q(m));k=0;for(n=m.length;k<n;k++){var y=m[k];if(a.getIdentity(y)==d&&!(0>t.indexOf(y))){h=y;w=k;(q||!c)&&m.splice(k,1);break}}}if(q){if(c&&(q.matches?q.matches(c):q([c]).length))k=-1<w?w:m.length,m.splice(k,0,c),u=b.indexOf(q(m),c),m.splice(k,1),l.start&&0==u||!e&&u==m.length?u=-1:m.splice(u,0,c)}else c&&(void 0!==d?u=w:l.start||(u=a.defaultIndex||0,m.splice(u,0,c)));if((-1<w||-1<u)&&(g||!q||w!=u)){e=s.slice();for(k=0;m=e[k];k++)m(c||h,w,u)}})});var e={};e.remove=e.cancel=function(){var a=
b.indexOf(s,c);-1<a&&(s.splice(a,1),s.length||d.splice(b.indexOf(d,u),1))};return e}}return m};var l;c("put",function(c,b){a.notify(c,b)});c("add",function(c){a.notify(c)});c("remove",function(c){a.notify(void 0,c)});return a};k.setObject("dojo.store.Observable",e);return e})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(e,k,h,b,a,c,d){return h("dijit.tree.ObjectStoreModel",
d,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(c){a.mixin(this,c);this.childrenCache={}},getRoot:function(b,d){if(this.root)b(this.root);else{var l=this.store.query(this.query);l.then&&this.own(l);c(l,a.hitch(this,function(c){if(1!=c.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+c.length+" items, but must return exactly one");this.root=c[0];b(this.root);l.observe&&l.observe(a.hitch(this,function(a){this.onChange(a)}),!0)}),d)}},mayHaveChildren:function(){return!0},
getChildren:function(b,d,l){var e=this.store.getIdentity(b);if(this.childrenCache[e])c(this.childrenCache[e],d,l);else{var k=this.childrenCache[e]=this.store.getChildren(b);k.then&&this.own(k);k.observe&&this.own(k.observe(a.hitch(this,function(d,g,l){this.onChange(d);g!=l&&c(k,a.hitch(this,"onChildrenChange",b))}),!0));c(k,d,l)}},isItem:function(){return!0},getIdentity:function(a){return this.store.getIdentity(a)},getLabel:function(a){return a[this.labelAttr]},newItem:function(a,c,b,d){return this.store.put(a,
{parent:c,before:d})},pasteItem:function(c,d,l,k,h,m){var t=new b;if(d===l&&!k&&!m)return t.resolve(!0),t;d&&!k?this.getChildren(d,a.hitch(this,function(a){a=[].concat(a);var b=e.indexOf(a,c);a.splice(b,1);this.onChildrenChange(d,a);t.resolve(this.store.put(c,{overwrite:!0,parent:l,oldParent:d,before:m}))})):t.resolve(this.store.put(c,{overwrite:!0,parent:l,oldParent:d,before:m}));return t},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"mw-overlay-utils/BusyOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/query dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin spinner/spin mw-log/Log dojo/text!./templates/busyOverlayTemplate.html".split(" "),
function(e,k,h,b,a,c,d,f,g,l,n,p,m,t,q,r){var s={rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9,top:"50%",left:"50%"},u={lines:11,length:8,width:4,radius:12,corners:0.5,className:"spinner spinnerLarge"},w={lines:11,length:5,width:3,radius:8,corners:1,className:"spinner spinnerMedium"},x={lines:11,length:4,width:2,radius:6,corners:1,className:"spinner spinnerSmall"},y={lines:9,length:2,width:2,radius:4,corners:0,className:"spinner spinnerXSmall"};k.mixin(u,s);k.mixin(w,
s);k.mixin(x,s);k.mixin(y,s);e=e("MW.utils.BusyOverlay",[p,m],{_displayed:!1,_started:!1,_spinner:null,_size:null,target:null,_text:"",_textSpan:null,_spinnerTextNode:null,templateString:r,constructor:function(a){this._textSpan=f.create("span");this._spinnerTextNode=f.create("div");Object.defineProperty(this,"text",{set:function(a){this._text=a;this._text&&"string"===typeof this._text||(this._text="");this._textSpan.textContent=this._text;this._started&&this._updateTitle()},get:function(){return this._text},
enumerable:!0,configurable:!0});this._setSpinnerSize(a);d.add(this._spinnerTextNode,"spinnerText");a&&a.text&&this.set("text",a.text)},_setSpinnerSize:function(a){try{if(null===a||void 0===a||a.text&&!a.size)this._size=k.clone(u);else if("object"===typeof a)this._size=a.size?k.clone(a.size):k.clone(a);else throw Error("Incorrect argument passed to BusyOverlay Object.");}catch(c){q.error(c.message)}},_updateTitle:function(){d.remove(this._textSpan,"spinnerCenter");this._textSpan.offsetWidth>=this._spinnerTextNode.offsetWidth?
a.set(this._spinnerTextNode,"title",this._text):a.set(this._spinnerTextNode,"title","");d.add(this._textSpan,"spinnerCenter")},_updateTextStyle:function(){var a=g.position(this._underlayNode).h/2+2*this._size.radius+15+"px";b.set(this._spinnerTextNode,"top",a)},startup:function(){if(!this._started){this._spinner=new t(this._size);if(this.target){if("string"===typeof this.target){var a=n.byId(this.target);this.target=a?a.domNode:h.byId(this.target)}f.place(this.domNode,this.target);f.place(this._textSpan,
this._spinnerTextNode);f.place(this._spinnerTextNode,this._busyOverlayNode)}this._text&&(this._updateTitle(),this.own(l(window,"resize",this._updateTextStyle.bind(this))));this._started=!0;this.inherited(arguments)}},postCreate:function(){this._underlayNode.style.zIndex=2E9-1;this.inherited(arguments)},show:function(){this._displayed||(this._started||this.startup(),this._displayed=!0,this._busyOverlayNode.style.display="inline",this._busyOverlayNode.className="mw-busyIndicator",this._updateTextStyle(),
b.set(this._spinnerTextNode,"display","block"),this._spinner.spin(this._spinnerNode),this.onShow())},hide:function(){this._displayed&&(this._displayed=!1,this._busyOverlayNode.style.display="none",this._spinner.stop(),this._spinnerTextNode.style.display="none",this.onHide())},uninitialize:function(){this.hide();this._spinner=this.target=null;this._displayed=!1;c(".spinnerText").forEach(f.destroy);this._spinnerTextNode=this._textSpan=null;this.inherited(arguments)},isVisible:function(){return this._displayed},
onShow:function(){},onHide:function(){this.inherited(arguments)}});e.SIZE={LARGE:u,MEDIUM:w,SMALL:x,XSMALL:y};Object.freeze(e.SIZE);Object.freeze(e.SIZE.LARGE);Object.freeze(e.SIZE.MEDIUM);Object.freeze(e.SIZE.SMALL);Object.freeze(e.SIZE.XSMALL);return e})},"spinner/spin":function(){define([],function(){function e(a,c){var b=document.createElement(a||"div"),d;for(d in c)b[d]=c[d];return b}function k(a){for(var c=1,b=arguments.length;c<b;c++)a.appendChild(arguments[c]);return a}function h(a,c,b,d){var g=
["opacity",c,~~(100*a),b,d].join("-");b=0.01+100*(b/d);d=Math.max(1-(1-a)/c*(100-b),a);var f=n.substring(0,n.indexOf("Animation")).toLowerCase();l[g]||(p.insertRule("@"+(f&&"-"+f+"-"||"")+"keyframes "+g+"{0%{opacity:"+d+"}"+b+"%{opacity:"+a+"}"+(b+0.01)+"%{opacity:1}"+(b+c)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",p.cssRules.length),l[g]=1);return g}function b(a,c){var b=a.style,d,f;c=c.charAt(0).toUpperCase()+c.slice(1);for(f=0;f<g.length;f++)if(d=g[f]+c,void 0!==b[d])return d;if(void 0!==b[c])return c}
function a(a,c){for(var d in c)a.style[b(a,d)||d]=c[d];return a}function c(a){for(var c=1;c<arguments.length;c++){var b=arguments[c],d;for(d in b)void 0===a[d]&&(a[d]=b[d])}return a}function d(a){this.opts=c(a||{},d.defaults,m)}function f(){function c(a,b){return e("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"spin-vml"\x3e',b)}p.addRule(".spin-vml","behavior:url(#default#VML)");d.prototype.lines=function(b,d){function g(){return a(c("group",{coordsize:l+" "+l,coordorigin:-m+" "+-m}),
{width:l,height:l})}function f(b,l,e){k(h,k(a(g(),{rotation:360/d.lines*b+"deg",left:~~l}),k(a(c("roundrect",{arcsize:d.corners}),{width:m,height:d.width,left:d.radius,top:-d.width>>1,filter:e}),c("fill",{color:"string"==typeof d.color?d.color:d.color[b%d.color.length],opacity:d.opacity}),c("stroke",{opacity:0}))))}var m=d.length+d.width,l=2*m,e=2*-(d.width+d.length)+"px",h=a(g(),{position:"absolute",top:e,left:e});if(d.shadow)for(e=1;e<=d.lines;e++)f(e,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d2,makeshadow\x3d1,shadowopacity\x3d.3)");
for(e=1;e<=d.lines;e++)f(e);return k(b,h)};d.prototype.opacity=function(a,c,b,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&c+d<a.childNodes.length&&(a=(a=(a=a.childNodes[c+d])&&a.firstChild)&&a.firstChild))a.opacity=b}}var g=["webkit","Moz","ms","O"],l={},n,p=function(){var a=e("style",{type:"text/css"});k(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,
zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};d.defaults={};c(d.prototype,{spin:function(c){this.stop();var b=this,d=b.opts,g=b.el=a(e(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});a(g,{left:d.left,top:d.top});c&&c.insertBefore(g,c.firstChild||null);g.setAttribute("role","progressbar");b.lines(g,b.opts);if(!n){var f=0,m=(d.lines-1)*(1-d.direction)/2,l,k=d.fps,h=k/d.speed,p=(1-d.opacity)/(h*d.trail/100),t=h/d.lines;(function F(){f++;for(var a=
0;a<d.lines;a++)l=Math.max(1-(f+(d.lines-a)*t)%h*p,d.opacity),b.opacity(g,a*d.direction+m,l,d);b.timeout=b.el&&setTimeout(F,~~(1E3/k))})()}return b},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(c,b){function d(c,f){return a(e(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:c,boxShadow:f,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*g+b.rotate)+"deg) translate("+
b.radius+"px,0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var g=0,f=(b.lines-1)*(1-b.direction)/2,m;g<b.lines;g++)m=a(e(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:n&&h(b.opacity,b.trail,f+g*b.direction,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&k(m,a(d("#000","0 0 4px #000"),{top:"2px"})),k(c,k(m,d("string"==typeof b.color?b.color:b.color[g%b.color.length],"0 0 1px rgba(0,0,0,.1)")));return c},opacity:function(a,
c,b){c<a.childNodes.length&&(a.childNodes[c].style.opacity=b)}});var t=a(e("group"),{behavior:"url(#default#VML)"});!b(t,"transform")&&t.adj?f():n=b(t,"animation");return d})},"mw-log/Log":function(){define(["dojo/date/locale"],function(e){return function(){function k(b){f&&(g||!c||!c.log)&&f.apply(a,b)}function h(b){d[b]=function(){if(0!==l&&c&&c[b])if("assert"===b){if(!arguments[0])if(a.ScriptEngine){var d=Array.prototype.slice.call(arguments);d.shift();c[b](!1,d)}else c[b].apply(c,arguments)}else if(a.ScriptEngine)if(-1!==
b.indexOf("profile"))c[b]();else c[b](arguments[0]);else c[b].apply(c,arguments)}}function b(b,g){d[g]=function(){var d=Array.prototype.slice.call(arguments),f=e.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),h=[g].concat(d),d=[f].concat(d);n.push(h);n.length>p&&n.shift();k(h);if(c&&(0<l?l>b:m.length+l<=b))if(c.firebug&&"error"!==g)c[g].apply(a,d);else if(c[g])c[g](d);else c.log(d)}}var a=this,c=a.console,d={},f,g,l=9,n=[],p=25,m=["error","warn","info","debug","log"],t="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),
q;for(q=t.length;0<=(q-=1);)h(t[q]);for(q=m.length;0<=(q-=1);)b(q,m[q]);d.setLevel=function(a){l="number"===typeof a?a:9};d.setCallback=function(a,c,b){var d=n.length;f=a||null;g="boolean"===typeof c?c:!1;for(a=d-("number"===b?b:d);a<d;)k(n[a+=1])};return d}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(e,k,h,b,a,c,d,f,g){function l(a,c,g,f){return f.replace(/([a-z])\1*/ig,
function(l){var e,k,h=l.charAt(0);l=l.length;var n=["abbr","wide","narrow"];switch(h){case "G":e=c[4>l?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":e=a.getFullYear();switch(l){case 1:break;case 2:if(!g.fullYear){e=String(e);e=e.substr(e.length-2);break}default:k=!0}break;case "Q":case "q":e=Math.ceil((a.getMonth()+1)/3);k=!0;break;case "M":case "L":e=a.getMonth();3>l?(e+=1,k=!0):(h=["months","L"==h?"standAlone":"format",n[l-3]].join("-"),e=c[h][e]);break;case "w":e=m._getWeekOfYear(a,
0);k=!0;break;case "d":e=a.getDate();k=!0;break;case "D":e=m._getDayOfYear(a);k=!0;break;case "e":case "c":if(e=a.getDay(),2>l){e=(e-b.getFirstDayOfWeek(g.locale)+8)%7;break}case "E":e=a.getDay();3>l?(e+=1,k=!0):(h=["days","c"==h?"standAlone":"format",n[l-3]].join("-"),e=c[h][e]);break;case "a":h=12>a.getHours()?"am":"pm";e=g[h]||c["dayPeriods-format-wide-"+h];break;case "h":case "H":case "K":case "k":k=a.getHours();switch(h){case "h":e=k%12||12;break;case "H":e=k;break;case "K":e=k%12;break;case "k":e=
k||24}k=!0;break;case "m":e=a.getMinutes();k=!0;break;case "s":e=a.getSeconds();k=!0;break;case "S":e=Math.round(a.getMilliseconds()*Math.pow(10,l-3));k=!0;break;case "v":case "z":if(e=m._getZone(a,!0,g))break;l=4;case "Z":h=m._getZone(a,!1,g);h=[0>=h?"+":"-",d.pad(Math.floor(Math.abs(h)/60),2),d.pad(Math.abs(h)%60,2)];4==l&&(h.splice(0,0,"GMT"),h.splice(3,0,":"));e=h.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+f);}k&&(e=d.pad(e,l));return e})}function n(a,
c,b,d){var g=function(a){return a};c=c||g;b=b||g;d=d||g;var f=a.match(/(''|[^'])+/g),m="'"==a.charAt(0);k.forEach(f,function(a,d){a?(f[d]=(m?b:c)(a.replace(/''/g,"'")),m=!m):f[d]=""});return d(f.join(""))}function p(a,b,d,g){g=c.escapeString(g);d.strict||(g=g.replace(" a"," ?a"));return g.replace(/([a-z])\1*/ig,function(c){var g;g=c.charAt(0);var f=c.length,m="",l="";d.strict?(1<f&&(m="0{"+(f-1)+"}"),2<f&&(l="0{"+(f-2)+"}")):(m="0?",l="0{0,2}");switch(g){case "y":g="\\d{2,4}";break;case "M":case "L":g=
2<f?"\\S+?":"1[0-2]|"+m+"[1-9]";break;case "D":g="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+m+"[1-9][0-9]|"+l+"[1-9]";break;case "d":g="3[01]|[12]\\d|"+m+"[1-9]";break;case "w":g="[1-4][0-9]|5[0-3]|"+m+"[1-9]";break;case "E":case "e":case "c":g=".+?";break;case "h":g="1[0-2]|"+m+"[1-9]";break;case "k":g="1[01]|"+m+"\\d";break;case "H":g="1\\d|2[0-3]|"+m+"\\d";break;case "K":g="1\\d|2[0-4]|"+m+"[1-9]";break;case "m":case "s":g="[0-5]\\d";break;case "S":g="\\d{"+f+"}";break;case "a":f=d.am||b["dayPeriods-format-wide-am"];
m=d.pm||b["dayPeriods-format-wide-pm"];g=f+"|"+m;d.strict||(f!=f.toLowerCase()&&(g+="|"+f.toLowerCase()),m!=m.toLowerCase()&&(g+="|"+m.toLowerCase()),-1!=g.indexOf(".")&&(g+="|"+g.replace(/\./g,"")));g=g.replace(/\./g,"\\.");break;default:g=".*"}a&&a.push(c);return"("+g+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var m={};e.setObject(g.id.replace(/\//g,"."),m);m._getZone=function(a,c,b){return c?h.getTimezoneName(a):a.getTimezoneOffset()};m.format=function(c,b){b=b||{};var d=a.normalizeLocale(b.locale),
g=b.formatLength||"short",d=m._getGregorianBundle(d),f=[],k=e.hitch(this,l,c,d,b);if("year"==b.selector)return n(d["dateFormatItem-yyyy"]||"yyyy",k);var h;"date"!=b.selector&&(h=b.timePattern||d["timeFormat-"+g])&&f.push(n(h,k));"time"!=b.selector&&(h=b.datePattern||d["dateFormat-"+g])&&f.push(n(h,k));return 1==f.length?f[0]:d["dateTimeFormat-"+g].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,c){return f[c]})};m.regexp=function(a){return m._parseInfo(a).regexp};m._parseInfo=function(c){c=c||{};
var b=a.normalizeLocale(c.locale),b=m._getGregorianBundle(b),d=c.formatLength||"short",g=c.datePattern||b["dateFormat-"+d],f=c.timePattern||b["timeFormat-"+d],d="date"==c.selector?g:"time"==c.selector?f:b["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,c){return[f,g][c]}),l=[];return{regexp:n(d,e.hitch(this,p,l,b,c)),tokens:l,bundle:b}};m.parse=function(a,c){var b=/[\u200E\u200F\u202A\u202E]/g,d=m._parseInfo(c),g=d.tokens,f=d.bundle,b=RegExp("^"+d.regexp.replace(b,"")+"$",d.strict?"":"i").exec(a&&
a.replace(b,""));if(!b)return null;var l=["abbr","wide","narrow"],e=[1970,0,1,0,0,0,0],n="",b=k.every(b,function(a,b){if(!b)return!0;var d=g[b-1],m=d.length,d=d.charAt(0);switch(d){case "y":if(2!=m&&c.strict)e[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),m=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),e[0]=a<d?m+a:m-100+a;else{if(c.strict)return!1;e[0]=a}break;case "M":case "L":if(2<m){if(m=f["months-"+("L"==d?"standAlone":"format")+"-"+l[m-3]].concat(),c.strict||
(a=a.replace(".","").toLowerCase(),m=k.map(m,function(a){return a.replace(".","").toLowerCase()})),a=k.indexOf(m,a),-1==a)return!1}else a--;e[1]=a;break;case "E":case "e":case "c":m=f["days-"+("c"==d?"standAlone":"format")+"-"+l[m-3]].concat();c.strict||(a=a.toLowerCase(),m=k.map(m,function(a){return a.toLowerCase()}));a=k.indexOf(m,a);if(-1==a)return!1;break;case "D":e[1]=0;case "d":e[2]=a;break;case "a":m=c.am||f["dayPeriods-format-wide-am"];d=c.pm||f["dayPeriods-format-wide-pm"];if(!c.strict){var h=
/\./g;a=a.replace(h,"").toLowerCase();m=m.replace(h,"").toLowerCase();d=d.replace(h,"").toLowerCase()}if(c.strict&&a!=m&&a!=d)return!1;n=a==d?"p":a==m?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;e[3]=a;break;case "m":e[4]=a;break;case "s":e[5]=a;break;case "S":e[6]=a}return!0}),d=+e[3];"p"===n&&12>d?e[3]=d+12:"a"===n&&12==d&&(e[3]=0);d=new Date(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);c.strict&&d.setFullYear(e[0]);var p=g.join(""),q=-1!=p.indexOf("d"),p=-1!=p.indexOf("M");
if(!b||p&&d.getMonth()>e[1]||q&&d.getDate()>e[2])return null;if(p&&d.getMonth()<e[1]||q&&d.getDate()<e[2])d=h.add(d,"hour",1);return d};var t=[],q={};m.addCustomFormats=function(a,c){t.push({pkg:a,name:c});q={}};m._getGregorianBundle=function(c){if(q[c])return q[c];var b={};k.forEach(t,function(d){d=a.getLocalization(d.pkg,d.name,c);b=e.mixin(b,d)},this);return q[c]=b};m.addCustomFormats(g.id.replace(/\/date\/locale$/,".cldr"),"gregorian");m.getNames=function(a,c,b,d){var g;d=m._getGregorianBundle(d);
a=[a,b,c];"standAlone"==b&&(b=a.join("-"),g=d[b],1==g[0]&&(g=void 0));a[1]="format";return(g||d[a.join("-")]).concat()};m.isWeekend=function(a,c){var d=b.getWeekend(c),g=(a||new Date).getDay();d.end<d.start&&(d.end+=7,g<d.start&&(g+=7));return g>=d.start&&g<=d.end};m._getDayOfYear=function(a){return h.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};m._getWeekOfYear=function(a,c){1==arguments.length&&(c=0);var b=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((m._getDayOfYear(a)+
(b-c+7)%7-1)/7);b==c&&d++;return d};return m})},"dojo/date":function(){define(["./has","./_base/lang"],function(e,k){var h={getDaysInMonth:function(b){var a=b.getMonth();return 1==a&&h.isLeapYear(b)?29:[31,28,31,30,31,30,31,31,30,31,30,31][a]},isLeapYear:function(b){b=b.getFullYear();return!(b%400)||!(b%4)&&!!(b%100)},getTimezoneName:function(b){var a=b.toString(),c="",d=a.indexOf("(");if(-1<d)c=a.substring(++d,a.indexOf(")"));else if(d=/([A-Z\/]+) \d{4}$/,a=a.match(d))c=a[1];else if(a=b.toLocaleString(),
d=/ ([A-Z\/]+)$/,a=a.match(d))c=a[1];return"AM"==c||"PM"==c?"":c},compare:function(b,a,c){b=new Date(+b);a=new Date(+(a||new Date));"date"==c?(b.setHours(0,0,0,0),a.setHours(0,0,0,0)):"time"==c&&(b.setFullYear(0,0,0),a.setFullYear(0,0,0));return b>a?1:b<a?-1:0},add:function(b,a,c){var d=new Date(+b),f=!1,g="Date";switch(a){case "day":break;case "weekday":var l;(a=c%5)?l=parseInt(c/5):(a=0<c?5:-5,l=0<c?(c-5)/5:(c+5)/5);var e=b.getDay(),k=0;6==e&&0<c?k=1:0==e&&0>c&&(k=-1);e+=a;if(0==e||6==e)k=0<c?2:
-2;c=7*l+a+k;break;case "year":g="FullYear";f=!0;break;case "week":c*=7;break;case "quarter":c*=3;case "month":f=!0;g="Month";break;default:g="UTC"+a.charAt(0).toUpperCase()+a.substring(1)+"s"}if(g)d["set"+g](d["get"+g]()+c);f&&d.getDate()<b.getDate()&&d.setDate(0);return d},difference:function(b,a,c){a=a||new Date;c=c||"day";var d=a.getFullYear()-b.getFullYear(),f=1;switch(c){case "quarter":b=b.getMonth();a=a.getMonth();b=Math.floor(b/3)+1;a=Math.floor(a/3)+1;f=a+4*d-b;break;case "weekday":d=Math.round(h.difference(b,
a,"day"));c=parseInt(h.difference(b,a,"week"));f=d%7;if(0==f)d=5*c;else{var g=0,l=b.getDay();a=a.getDay();c=parseInt(d/7);f=d%7;b=new Date(b);b.setDate(b.getDate()+7*c);b=b.getDay();if(0<d)switch(!0){case 6==l:g=-1;break;case 0==l:g=0;break;case 6==a:g=-1;break;case 0==a:g=-2;break;case 5<b+f:g=-2}else if(0>d)switch(!0){case 6==l:g=0;break;case 0==l:g=1;break;case 6==a:g=2;break;case 0==a:g=1;break;case 0>b+f:g=2}d=d+g-2*c}f=d;break;case "year":f=d;break;case "month":f=a.getMonth()-b.getMonth()+12*
d;break;case "week":f=parseInt(h.difference(b,a,"day")/7);break;case "day":f/=24;case "hour":f/=60;case "minute":f/=60;case "second":f/=1E3;case "millisecond":f*=a.getTime()-b.getTime()}return Math.round(f)}};k.mixin(k.getObject("dojo.date",!0),h);return h})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(e,k){var h={};e.setObject("dojo.cldr.supplemental",h);h.getFirstDayOfWeek=function(b){b={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,
qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[h._region(b)];return void 0===b?1:b};h._region=function(b){b=k.normalizeLocale(b);b=b.split("-");var a=b[1];a?4==a.length&&(a=b[2]):a={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",
as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",
ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",
sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",
bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",
guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",
luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",
sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",
yav:"cm",zza:"tr"}[b[0]];return a};h.getWeekend=function(b){var a=h._region(b);b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[a];a={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[a];void 0===b&&(b=6);void 0===a&&(a=0);return{start:b,end:a}};return h})},"FPTUtils/js/TreeHandler":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/Deferred dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool FPTDispatcher/Dispatcher dojo/domReady!".split(" "),
function(e,k,h,b,a,c){return e(null,{constructor:function(a,b,g){this.uiTree=a;this.treeLevel=2;this._hierarchyUpdateChannel="/fpt/model/hierarchy/"+b;this._treeUpdateChannel="/fpt/model/treeupdate/"+b;this._treeReadyChannel="/fpt/treedata/ready/"+b;this._childrenUpdateChannel="/fpt/treedata/getTreeNodeChildren/"+b;this._treeSelectionChannel="/fpt/treedata/currentSelection/"+b;this._treeSelectNodeChannel="/fpt/treedata/makeSelection/"+b;this._treeNotSelectableChannel="/fpt/treedata/treeSelectionFailed/"+
b;g&&(this.treeLevel=g);this.uiTree.attachOnOpenCallback(this,"_getChildren");this._modelSubscription=c.subscribe(this._hierarchyUpdateChannel,"_updateHierarchy",this);this._treeUpdateSubscription=c.subscribe(this._treeUpdateChannel,"_updateTreeNodeChildren",this);this._selectTreeNodeSubscription=c.subscribe(this._treeSelectNodeChannel,"_selectTreeNode",this);h.subscribe("notifyTreeSelectionChanged",k.hitch(this,this._publishTreeSelection))},destroy:function(){c.unsubscribe(this._hierarchyUpdateChannel,
"_updateHierarchy",this);c.unsubscribe(this._treeUpdateChannel,"_updateTreeNodeChildren",this);c.unsubscribe(this._treeSelectNodeChannel,"_selectTreeNode",this);this._selectTreeNodeSubscription=this._treeUpdateSubscription=this._modelSubscription=null},_getChildren:function(a){if(!a.itemFullyLoaded&&a.hasChildren){var b={identifier:a.identifier,"class":a["class"],level:this.treeLevel};this.uiTree.showSpinner();c.publish(this._childrenUpdateChannel,b);a.itemFullyLoaded=!0}},attachOnClickCallback:function(a,
c){this.uiTree.attachOnClickCallback(a,c)},getTreeDepth:function(){return this.treeLevel},_updateHierarchy:function(a){this.uiTree.updateHierarchy(a,this._initDataDeferredFcn);this._expandDefaultNodes();this._initDataDeferredFcn=void 0},_expandDefaultNodes:function(){this.uiTree.expandNodes(this.uiTree.getRoot(),1)},_updateTreeNodeChildren:function(a){this.uiTree.updateTreeNodeChildren(a,this._treeUpdateDeferredFcn);this._treeUpdateDeferredFcn&&this._treeUpdateDeferredFcn.isResolved()&&(this._treeUpdateDeferredFcn=
void 0)},fetchDataForTreeNode:function(a,f,g,l){l&&(this._treeUpdateDeferredFcn=new b,this._treeUpdateDeferredFcn.then(l),this._treeUpdateDeferredFcn.toLoadIdentifier=g.identifier);a={identifier:a.identifier,"class":a["class"],level:f,targetNode:g};this.uiTree.showSpinner();c.publish(this._childrenUpdateChannel,a)},attachOnDataAvailable:function(a){a&&(this._initDataDeferredFcn=new b,this._initDataDeferredFcn.then(a))},_selectTreeNode:function(a){this.uiTree.selectTreeNode(a.data.identifier)||c.publish(this._treeNotSelectableChannel,
{id:a.data.identifier,selectable:!1})},_publishTreeSelection:function(a){c.publish(this._treeSelectionChannel,a)}})})},"FPTDispatcher/Dispatcher":function(){define(["dojo/_base/lang","mw-log/Log","mw-facade/MatlabFacade","mw-messageservice/MessageService","mw-remote/Remote"],function(e,k,h,b,a){return{Instance:null,facade:null,channelSubscription:null,_publishChannel:"/slfxp_testchannel_",startMessageService:function(a){b.isStarted()||b.start()},publish:function(a,d){b.publish(a,d)},subscribe:function(a,
d,f){this.channelSubscription=b.subscribe(a,d,f)},unsubscribe:function(a,d,f){b.unsubscribe(a,d,f)},destroy:function(a){b.stop()},registerSuccessFailureHandlers:function(c){c&&c.scope&&(a.registerResponseHandler("FEvalResponse:"+c.classifierStr,c.successCallback,c.scope),a.registerFaultHandler("FEval:"+c.classifierStr,c.failureCallback,c.scope))},remoteSendMessage:function(c){c&&(c.matlabFunctionName&&c.classifierString)&&a.sendMessage({FEval:{"function":c.matlabFunctionName,arguments:c.inputArgs?
c.inputArgs:[],nargout:c.outputArgs?c.outputArgs:0,priority:c.priority?c.priority:1,dequeMode:"ppe"}},c.contextObject?c.contextObject:{},c.classifierString)}}})},"mw-facade/MatlabFacade":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-remote/Remote mw-messageservice/MessageService mw-deprecation-utils/deprecation".split(" "),function(e,k,h,b,a,c){c.deprecated({deprecated:{module:"mw-facade/MatlabFacade"},replacement:{module:"mw-remote/Remote"}});return e(null,{constructor:function(c){a.start();
this._config=c||{};this._registerHandlers()},_config:{},_registerHandlers:function(){var a=this._config;b.registerFaultHandler("Eval",function(c,b){h.error("Error: "+c.code+", "+c.message);b&&k.isFunction(b.errorCallback)?b.errorCallback(c):k.isFunction(a.errorCallback)&&a.errorCallback(c)});b.registerResponseHandler("EvalResponse",function(c,b){h.info("eval response");b&&k.isFunction(b.evalCallback)?b.evalCallback(c):k.isFunction(a.evalCallback)&&a.evalCallback(c)});b.registerFaultHandler("FEval",
function(c,b){h.error("Error: "+c.code+", "+c.message);b&&k.isFunction(b.errorCallback)?b.errorCallback(c):k.isFunction(a.errorCallback)&&a.errorCallback(c)});b.registerResponseHandler("FEvalResponse",function(c,b){h.info("feval response");b&&k.isFunction(b.fevalCallback)?b.fevalCallback(c):k.isFunction(a.evalCallback)&&a.evalCallback(c)})},executionEval:function(a){k.isString(a)&&(a={matlabcode:a});b.sendMessage({Eval:{mcode:a.matlabcode}},a)},feval:function(a){a.arguments=a.arguments||[];a.nargout=
a.nargout||0;b.sendMessage({FEval:{"function":a["function"],arguments:a.arguments,nargout:a.nargout}},a)},publish:a.publish,subscribe:a.subscribe,unsubscribe:a.unsubscribe})})},"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),function(e,k,h,b,a,c,d,f,g,l,n){var p=
this,m;m={reset:function(){var t=[],q=new a,r=new d({faultManager:q}),s=new c({responseManager:r});m.faultManager=q;m.responseManager=r;m.requestManager=s;m._serviceRegistryLookup=n;m._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var u=m.proxyClient=new h;m.createUploadIframeTarget=e.hitch(u,u.createUploadIframeTarget);m.cancelUpload=e.hitch(u,u.cancelUpload);g.setIframeProxyClientForEndPoint(g.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,u);g.setIframeProxyClientForEndPoint(g.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,
u);f.construct=function(a){a=a||{};g.getRoutingHost(g.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||m.setEndpoint();a.allowedMessages=t;a.sendMessage=m.sendMessage;a.computeSessionId=m.getComputeSessionId;return new b(a)};m.registerEndpointLevelFaultHandler=e.hitch(q,q.registerEndpointLevelFaultHandler);m.sendMessage=e.hitch(s,s.sendMessage);m.registerDefaultMessageFactory=e.hitch(s,s.registerDefaultMessageFactory);m.deregisterDefaultMessageFactory=e.hitch(s,s.deregisterDefaultMessageFactory);
m.registerResponseHandler=e.hitch(r,r.registerResponseHandler);m.deregisterResponseHandler=e.hitch(r,r.deregisterResponseHandler);m.registerFaultHandler=e.hitch(q,q.registerFaultHandler);m.deregisterFaultHandler=e.hitch(q,q.deregisterFaultHandler);m.registerTopLevelFaultHandler=e.hitch(q,q.registerTopLevelFaultHandler);m.deregisterTopLevelFaultHandler=e.hitch(q,q.deregisterTopLevelFaultHandler);m.setServiceEndPoint=function(a,c,b){g.setRoutingHostAndRoutingKey(a,c,b)};m.setServicePathSuffixForEndPoint=
function(a,c){g.setPathSuffixForEndPoint(a,c)};m.ignoreTopLevelFault=m.registerTopLevelFaultHandler;m.setComputeToken=function(a){m._uploadIframeProxyUrlParameters[1]=a.computeSessionId;s.computeToken=a};m.setWorkerEndpoint=function(a,c){m._uploadIframeProxyUrlParameters[3]=c;g.setRoutingHostAndRoutingKey(g.getEndPointNames().WORKER_ENDPOINT,a,c)};m.setEndpoint=function(a){a||(a=m._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(l.info("ServiceRegistryLookup is empty, falling back to localhost"),
a="/"));if(!a||"/"===a)a=p.location.protocol+"//"+p.location.host+"/";g.setRoutingHostAndRoutingKey(g.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,a);g.setRoutingHostAndRoutingKey(g.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);u.setRemotePageHost(a)};m.setAllowedMessages=function(a){t=a};m.allowAllMessages=function(){t=[]};m.getEndPoint=function(){return g.getRoutingHost(g.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};m.getUploadIframeProxyUrl=function(){var a=m.getWorkerRoutingHost();
"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+u.getUploadIframeProxyUrlPath()+m._uploadIframeProxyUrlParameters.join("")};m.getComputeSessionId=function(){return s.computeToken?s.computeToken.computeSessionId:12345};m.getWorkerRoutingHost=function(){var a=g.getRoutingHost(g.getEndPointNames().WORKER_ENDPOINT);return a?a:location.protocol+"//"+location.host+"/"};m.getWorkerRoutingKey=function(){return g.getRoutingKey(g.getEndPointNames().WORKER_ENDPOINT)};m.getServiceRegistryEndpoint=function(a){return m._serviceRegistryLookup.getServiceRegistryEndpoint(a)};
m.enableServerOnWorkerAsync=function(){g.enableEndPoint(g.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.disableServerOnWorkerAsync=function(){g.disableEndPoint(g.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.isServerOnWorkerAsyncEnabled=function(){return g.isEndPointEnabled(g.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.enableServerOnWorker=function(){g.enableEndPoint(g.getEndPointNames().WORKER_ENDPOINT)};m.disableServerOnWorker=function(){g.disableEndPoint(g.getEndPointNames().WORKER_ENDPOINT)};m.isWorkerEndpointEnabled=
function(){return g.isEndPointEnabled(g.getEndPointNames().WORKER_ENDPOINT)};m.setWorkerOnlyMessageTypes=function(a){g.setMessageTypesToEndPoint(g.getEndPointNames().WORKER_ENDPOINT,a)};k.after(u,"onError",function(a){a&&q.handleNonTransactionFault(a)},!0)}};m.reset();return m})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),
function(e,k,h,b,a,c,d,f,g,l){var n=this,p=k([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,c,b,d,g){a=this._combineUriPaths(a||"","/");c=c||"";g=g||this.LATEST_VERSION;d=d||"";this.computeToken=b;a===this._host&&c===
this._key&&d===this._proxyUrl&&g===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=c,this._version=g,this._proxyUrl=d,a=this._calculateUrls(a,c,g,d),this._createIframe(a))},_calculateUrls:function(a,c,b,d){var g=this.REMOTE_PROXY+b+"/iframeProxyRelease.html";b=this.REMOTE_PROXY+b+"/CheckJsFile.js";d&&(g=d);g=this._combineUriPaths(a,g).split("?")[0];g+=c?"?routingkey\x3d"+c:"";b=this._combineUriPaths(a,b);b=c?b+("?routingkey\x3d"+c):b+("?time\x3d"+(new Date).getTime());return{fastFailUrl:b,
iFrameUrl:g}},_createIframe:function(c){var b=c.fastFailUrl,f=this;this._url=c.iFrameUrl;this.remoteIframe&&d.destroy(this.remoteIframe);g.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=d.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});this._checkUrl=(new l(b)).then(function(){},a.hitch(f,"_handleLoadTimeoutHitch"));this._loadTimeoutHandle=setTimeout(function(){f._handleLoadTimeoutHitch()},
this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=e.connect(n,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{clearTimeout(this._loadTimeoutHandle);var a=(parseFloat(this._version)-0.1).toFixed(1).toString();g.info("Unable to load proxy version "+this._version+", trying "+a+".");this.setRemotePageHost(this._host,this._key,this.computeToken,
this._proxyUrl,a)}},createUploadIframeTarget:function(c,b,d){this._uploadTargetCallbacks[c]=a.hitch(d||this,b);this._postMessage("createUploadIframe;"+c)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(a,c,d){var f=this,l;this.computeToken&&(d=d||{},d.headers=d.headers||{},d.headers.computeToken=this.computeToken);l=this._getNewMessageId();c="sendMessage;"+
l+";"+c+";"+(d?b.toJson(d):"{}");c+=";"+a;a={deferred:new h(function(){"1.0"===f._version?g.warn("Cancelling is not supported by the 1.0 remote proxy."):f._postMessage("abort;"+l)}),id:l};this._errorLoading?a.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[l]=a,this._postMessage(c));return a.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},
_handleMessage:function(a){var c,b;if(a.source===this.remoteIframe.contentWindow){b=a.data.indexOf(";");c=a.data.substring(0,b);if(!c)throw Error("Client unable to parse message, no action specified: "+a.data);switch(c){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,b);break;case "uploadIframeMessage":c=a.data.indexOf(";",b+1);b=a.data.substring(b+1,c);a=a.data.substring(c+1,a.data.length);this._uploadTargetCallbacks[b](a);
break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+c+", data: "+a.data);}}},_sendMessageResponse:function(a,c){var d,g,f=a.data.indexOf(";",c+1);d=a.data.indexOf(";",f+1);var l=a.data.substring(c+
1,f),e=a.data.substring(f+1,d),f=a.data.substring(d+1,a.data.length);if(!l||!e)throw Error("Invalid message from remote iframe: "+a.data);d=this._transactions[l];if(!d)throw Error("Unknown transaction id: "+l+", from remote iframe: "+a.data);delete this._transactions[l];if(!d.deferred.isCanceled())if("success"===e){try{g=f&&b.fromJson(f)}catch(k){g=f}g=""===g?{}:g;d.deferred.resolve(g)}else"fault"===e&&f&&(g=f.split(";"),l=g.length-1,1<=l&&(f.statusCode=g[l])),this.onError(f),d.deferred.reject(f)},
_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,c;this._cleanupFailureChecks();if(!this._loaded)for(c in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,
this._transactions={},a)a.hasOwnProperty(c)&&a[c].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(a){function c(){if(0<b._errorRate&&Math.random()<b._errorRate&&0===a.indexOf("sendMessage;")){if(d=a.split(";",2)[1],f=b._transactions[d])delete b._transactions[d],g.error("Generating simulated error. Request was: ",a),b.onError("403 Forbidden;403"),f.deferred.reject("403 Forbidden;403")}else b.remoteIframe.contentWindow.postMessage(a,b._url)}var b=
this,d,f;this._latency?setTimeout(c,this._latency):c()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,c){if(0===a.length)return c;0<c.length&&
("/"===c[0]&&a.lastIndexOf("/")===a.length-1?c=c.substring(1):"/"!==c[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+c})}});p.WebSocket=k([],{constructor:function(a){var b=this;this.proxyClient=p.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+a);c.after(this.proxyClient,"onWebsocketOpen",function(){b.onopen.apply(b,arguments)},!0);c.after(this.proxyClient,
"onWebsocketMsg",function(){b.onmessage.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketClose",function(){b.onclose.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketError",function(){b.onerror.apply(b,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return p})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(e,k,h,b,a){return function(c){var d,f,g;if(!c)throw Error("Expected a valid url in urlToEmptyJsFile");d={framedoc:null};f=b.get(c,d,!0);d=k.byId(f.id,d.frameDoc);g=h(d,"error",function(b){a.info("CheckUrlService detected an error accessing url: "+c);f.handleResponse(null,b);g.remove()});return f.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(e,k,h,b,a,c,d,f,g,l,n){function p(a,c){a.canDelete&&s._remove(a.id,c.options.frameDoc,!0)}function m(c){A&&A.length&&(a.forEach(A,function(a){s._remove(a.id,a.frameDoc);a.frameDoc=null}),A=[]);return c.options.jsonp?!c.data:!0}function t(a){return!!this.scriptLoaded}function q(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function r(a,c){if(this.canDelete){var b=this.response.options;A.push({id:this.id,frameDoc:b.ioArgs?b.ioArgs.frameDoc:b.frameDoc});b.ioArgs&&
(b.ioArgs.frameDoc=null);b.frameDoc=null}c?this.reject(c):this.resolve(a)}function s(a,b,g){var f=h.parseArgs(a,h.deepCopy({},b));a=f.url;b=f.options;var l=h.deferred(f,p,m,b.jsonp?null:b.checkString?q:t,r);c.mixin(l,{id:u+w++,canDelete:!1});b.jsonp&&(RegExp("[?\x26]"+b.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+u+"_callbacks."+l.id),l.canDelete=!0,E[l.id]=function(a){f.data=a;l.handleResponse(f)});h.notify&&h.notify.emit("send",f,l.promise.cancel);
if(!b.canAttach||b.canAttach(l)){var e=s._attach(l.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var n=d(e,x,function(a){if("load"===a.type||y.test(e.readyState))n.remove(),l.scriptLoaded=a})}d.once(e,"error",function(a){l.reject(a);s._remove(l.id,b.frameDoc,!0)});k(l);return g?l:l.promise}l.add("script-readystatechange",function(a,c){return"undefined"!==typeof c.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=e.id.replace(/[\/\.\-]/g,
"_"),w=0,x=l("script-readystatechange")?"readystatechange":"load",y=/complete|loaded/,E=b.global[u+"_callbacks"]={},A=[];s.get=s;s._attach=function(a,c,b){b=b||n.doc;var d=b.createElement("script");d.type="text/javascript";d.src=c;d.id=a;d.async=!0;d.charset="utf-8";return b.getElementsByTagName("head")[0].appendChild(d)};s._remove=function(a,c,b){g.destroy(f.byId(a,c));E[a]&&(b?E[a]=function(){delete E[a]}:delete E[a])};s._callbacksProperty=u+"_callbacks";return s})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare",
"mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(e,k,h){return e([k],{constructor:function(b){b=b||{};this.proxyClient=b.proxyClient;this.workerProxyClient=b.workerProxyClient;this.routingHost=b.routingHost;this.routingKey=b.routingKey;this.computeSessionId=b.computeSessionId},_doSend:function(b){return h.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(b,h.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),
function(e,k,h,b,a,c){return e(c,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(c){var b=null;a.isEndpointMessageContainerBased(this.endPointName)?(b={uuid:this.uuid,messages:c},this.computeToken&&(b.computeToken=this.computeToken)):Object.keys(c).forEach(function(a){b=c[a]});this._sanitizeForJson(b);return h.toJson(b)},_sanitizeForJson:function(a){var c;if(b.isArray(a))a.forEach(this._sanitizeForJson,this);else if(b.isObject(a))for(c in a)a.hasOwnProperty(c)&&
(void 0===a[c]?delete a[c]:(b.isObject(a[c])||b.isArray(a[c]))&&this._sanitizeForJson(a[c]))},_doSend:function(a){return k.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();
this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],function(e){var k=null;null===k&&(k=new e);return k})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(e,k,h){return e([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},
WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",
pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(b,a,c,d,f){this.endPointsCollection[b]={routingHost:"",
routingKey:"",pathSuffix:c,enabled:a,messages:[],iframeProxy:null,iframeProxyName:d,acceptsMessageContainerMessages:f}},getPathSuffixForEndPoint:function(b){return this.endPointsCollection[b].pathSuffix},setPathSuffixForEndPoint:function(b,a){this.endPointsCollection[b].pathSuffix=a},getEndPointNames:function(){var b={},a;for(a in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(a)&&(b[a]=a);return b},setRoutingHostAndRoutingKey:function(b,a,c){a&&a.lastIndexOf("/")!==a.length-1&&
(a+="/");this.endPointsCollection[b].routingHost=a;c&&(this.endPointsCollection[b].routingKey=c);a&&this._setIframeRoutingHostAndRoutingkey(b)},_setIframeRoutingHostAndRoutingkey:function(b){var a=this.getIframeProxyClientForEndPoint(b);a&&a.setRemotePageHost(this.endPointsCollection[b].routingHost,this.endPointsCollection[b].routingKey,null,this.endPointsCollection[b].iframeProxyUrl)},getRoutingHost:function(b){return this.endPointsCollection[b].routingHost},getRoutingKey:function(b){return this.endPointsCollection[b].routingKey},
getMessageTypesMappedToEndPoint:function(b){return this.endPointsCollection[b].messages},isEndPointEnabled:function(b){return this.endPointsCollection[b].enabled},setMessageTypesToEndPoint:function(b,a){this.endPointsCollection[b].messages=a},enableEndPoint:function(b){this.endPointsCollection[b].enabled=!0},disableEndPoint:function(b){this.endPointsCollection[b].enabled=!1},getEndPointForMessageType:function(b){var a=null,c;for(c in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(c)&&
(a=-1<k.lastIndexOf(this.endPointsCollection[c].messages,b)?c:a))if(this.isEndPointEnabled(a))break;else a=null;return a?a:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(b){var a=this.endPointsCollection[b].routingHost+this.endPointsCollection[b].pathSuffix;this.endPointsCollection[b].routingKey&&(a=a+"?routingkey\x3d"+this.endPointsCollection[b].routingKey);return a},setIframeProxyClientForEndPoint:function(b,a){this.endPointsCollection[b].iframeProxy=a},getIframeProxyClientForEndPoint:function(b){var a=
this.endPointsCollection[b].iframeProxy;a||(a=new h(this.endPointsCollection[b].iframeProxyName),this.endPointsCollection[b].iframeProxy=a);return a},isEndpointMessageContainerBased:function(b){return b&&this.endPointsCollection[b]?this.endPointsCollection[b].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(b,a){this.endPointsCollection[b]&&-1===this.endPointsCollection[b].messages.indexOf(a)&&this.endPointsCollection[b].messages.push(a)},removeMessageTypesFromEndPoint:function(b,
a){if(this.endPointsCollection[b]){var c=this.endPointsCollection[b].messages.indexOf(a);-1<c&&this.endPointsCollection[b].messages.splice(c,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","mw-remote/RemoteEndPointsManager","mw-utils/Utils"],function(e,k,h,b,a){return e([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=
a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(a,d,f){if(d){var g=b.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[a]||(this.requestMessages[a]=[]);h.isArray(d)?d.forEach(function(b){this.addRequestMessage(a,b,f)},this):g?(d.uuid=d.uuid||this._generateUuid(),f&&(this.uuidClassifierMap[d.uuid]=
f),this.requestMessages[a].push(d)):this.requestMessages[a]=d;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(f){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(f))b[f]=a[f]},this);return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&
b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=new k,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,
b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var f in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(f)&&(b&&this.uuidClassifierMap[f]===b)&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var b in this.requestMessages)this.requestMessages.hasOwnProperty(b)&&h.isArray(this.requestMessages[b])&&0===a.getArrayLength(this.requestMessages[b])&&delete this.requestMessages[b]},
_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return a.generateUuid()}})})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(e,k,h){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"===b?a:a&3|8).toString(16)}).toUpperCase()},isImageData:function(b){return!!b&&(k.global.ImageData&&b instanceof k.global.ImageData||b.hasOwnProperty("width")&&
b.hasOwnProperty("height")&&b.hasOwnProperty("data"))},isArray:function(b){h.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(b)},getArrayLength:function(b){var a=0;if(!e.isArray(b))return!1;b.forEach(function(b){b&&(a+=1)});return a},isWhitespace:function(b){return/^\s+$/.test(b)},removeSurroundingNewLines:function(b){for(;"\n"===b.charAt(0);)b=b.substring(1);for(;"\n"===b.charAt(b.length-1);)b=b.substring(0,b.length-1);return b},getFirstUniqueElement:function(b,
a){var c=null;a.some(function(a){if(-1===b.indexOf(a))return c=a,!0});return c},unionOfWordSets:function(b,a,c){b=this._stringToArray(b);a=this._stringToArray(a);b=this.unionOfArrays(b,a);return c?b.join(" "):b},intersectionOfWordSets:function(b,a,c){b=this._stringToArray(b);a=this._stringToArray(a);b=this.intersectionOfArrays(b,a);return c?b.join(" "):b},differenceOfWordSets:function(b,a,c){b=this._stringToArray(b);a=this._stringToArray(a);b=this.unique(this.differenceOfArrays(b,a));return c?b.join(" "):
b},unionOfArrays:function(b,a){return this.unique(b.concat(a))},intersectionOfArrays:function(b,a){return this.nonunique(b.concat(a))},differenceOfArrays:function(b,a){if(void 0===window.Map)return this._legacyDifferenceOfArrays(b,a);var c,d,f,g=new Map,l=[];for(f=0;f<a.length;f++)g.set(a[f],null);for(f=0;f<b.length;f++)d=b[f],(c=g.has(d))||l.push(d);return l},_legacyDifferenceOfArrays:function(b,a){return this.unique(b.filter(function(b){return-1===a.indexOf(b)}))},unique:function(b){return b.filter(function(a,
c){return b.indexOf(a)===c})},nonunique:function(b){return this.unique(b.filter(function(a,c){return b.indexOf(a)!==c}))},arrayEquals:function(b,a,c){if(b===a)return!0;if(b.length!==a.length)return!1;c||(c=function(a,b){return a===b});for(var d=0,f=b.length;d<f;d++)if(!c(b[d],a[d]))return!1;return!0},removeEmptyElements:function(b){return b.filter(function(a){return!(""===a||null===a||void 0===a)})},_stringToArray:function(b){return!this._isString(b)?b:this.removeEmptyElements(b.split(" "))},_isString:function(b){return"string"===
typeof b||b instanceof String}}})},"mw-utils/deprecation":function(){var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define(["dojo/_base/config","mw-log/Log"],function(k,h){var b={deprecated:function(a){var b,d;if((k.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))d=window.showDeprecationsAsErrors||a.deprecationLevel===
this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",a.deprecated&&(b+=a.deprecated.module,a.deprecated.method&&(b+="."+a.deprecated.method+"()"),b+="."),a.replacement&&(b+=" Use "+a.replacement.module,a.replacement.method&&(b+="."+a.replacement.method+"()"),b+=" instead."),a.removalVersion&&(b+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(b+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),a.additionalInformation&&(b+=" "+a.additionalInformation),
h[d](b)},_isConfigValid:function(a){var b=!!a.deprecated&&"object"===e(a.deprecated)&&a.deprecated.hasOwnProperty("module");a.replacement&&(b=b&&"object"===e(a.replacement)&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(b=b&&"number"===typeof a.geckNumber);b||h.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(b,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",
enumerable:!0}});return b})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(e,k,h,b){return k([],{constructor:function(a){a=a||{};this.faultHandlers=a.faultHandlers||{};this.topLevelHandlers=a.topLevelHandlers||[];this.endPointLevelHandlers=a.endPointLevelHandlers||{}},registerFaultHandler:function(a,b,d){d&&(b=h.hitch(d,b));this.faultHandlers[a]=b},deregisterFaultHandler:function(a){delete this.faultHandlers[a]},
registerTopLevelFaultHandler:function(a,b,d){d&&(b=h.hitch(d,b));if(h.isString(a)){if("*"===a)return a={matcher:a,handler:b},this.defaultTopLevelHandler=b,a;a=this._constructMatcherFromQuery(a)}a={matcher:a,handler:b};this.topLevelHandlers.push(a);return a},registerEndpointLevelFaultHandler:function(a,b,d,f){f&&(d=h.hitch(f,d));h.isString(b)&&(b=this._constructMatcherFromQuery(b));b={matcher:b,handler:d};this.endPointLevelHandlers[a]||(this.endPointLevelHandlers[a]=[]);this.endPointLevelHandlers[a].push(b);
return b},deregisterTopLevelFaultHandler:function(a){var b=this.topLevelHandlers.indexOf(a);-1<b?this.topLevelHandlers.splice(b,1):"*"===a.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(a){var b=[];a.split("||").forEach(function(a){a=h.trim(a);a=a.replace(/([\.])/g,"\\$1");a=a.replace(/\*/g,".*");b.push(RegExp("^"+a+"$"))});return function(a){return e.some(b,function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(a){var b,d=function(b,c){var d;
if(d=a.getMessageClassifier(c))if(d=[b,d].join(":"),this.faultHandlers[d])this.faultHandlers[d](a.fault,a.context)};for(b in a.requestMessages)if(a.requestMessages.hasOwnProperty(b)){if(this.faultHandlers[b])this.faultHandlers[b](a.fault,a.context);var f=a.requestMessages[b];Array.isArray(f)&&f.forEach(h.hitch(this,d,b))}if(this.faultHandlers["*"])this.faultHandlers["*"](a.fault,a.context);this.endPointLevelHandlers[a.endPointName]?this._handleEndpointLevelFault(a):this._handleTopLevelFault(a)},_handleEndpointLevelFault:function(a){var b=
!1,d=e.filter(this.endPointLevelHandlers[a.endPointName],function(b){return b.matcher.call(this,a.fault,a.context)},this);0<d.length&&d[0].handler&&(b=!0,d[0].handler.call(this,a.fault,a.context,a));return b},_handleTopLevelFault:function(a){var b=e.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,a.fault,a.context)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,a.fault,a.context,a)},handleNonTransactionFault:function(a){var b=e.filter(this.topLevelHandlers,
function(b){return b.matcher.call(this,a)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,a)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),function(e,k,h,b,a,c,d){return k([],{defaultMapping:c,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||
{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(a,c,d){d&&(c=b.hitch(d,c));this.defaultFactories[a]=c},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(a,c,l){var e=this;c=b.hitch(l||this,c);this.mockHandlers[a]=function(a,b){var f,l=d.construct(b);f=c(a,l);f||(f=new h,f.callback());f.addCallback(function(){e.responseManager._processResult(l)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},
sendMessage:function(a,b,c){var d={},e={};b=b||{};this._createAndFillTransactions(a,b,c,d,e);a=Object.keys(d);for(b=0;b<a.length;b+=1)c=a[b],this._callMocks(e[c]),d[c].send(),this.responseManager.handleTransaction(d[c])},_getTransaction:function(a,b){return d.construct({context:b,computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,b,c){return d.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:c})},_createAndFillTransactions:function(b,c,d,e,k){var m,
h,q=function(b){var d,f,l,m,h;d=a.getEndPointForMessageType(b);m=e[d];h=k[d];m||(m=this._getTransaction(d,c),h=this._getMockTransaction(d,c,m.uuid),e[d]=m,k[d]=h);if(this.defaultFactories[b]&&(d=this.defaultFactories[b](m.context)))f=b.split(":"),l=f[0],f=f.slice(1,f.length).join(":"),this.mockHandlers[b]||m.addRequestMessage(l,d,f),h.addRequestMessage(l,d,f)},r,s;for(m in b)b.hasOwnProperty(m)&&(h=a.getEndPointForMessageType(m),r=k[h],s=e[h],e[h]||(s=this._getTransaction(h,c),r=this._getMockTransaction(h,
c,s.uuid),e[h]=s,k[h]=r),h=[m,d].join(":"),!this.mockHandlers[m]&&!this.mockHandlers[h]&&s.addRequestMessage(m,b[m],d),r.addRequestMessage(m,b[m],d),this.mapping[h]?this.mapping[h].forEach(q,this):this.mapping[m]&&this.mapping[m].forEach(q,this))},_callMocks:function(a){var c,d,e=a.context;delete a.context;var k=function(a,b){var d;if(d=c.getMessageClassifier(b))if(d=[a,d].join(":"),this.mockHandlers[d])this.mockHandlers[d]([b],c)};for(d in a.requestMessages)if(a.requestMessages.hasOwnProperty(d)){c=
b.mixin({},a);c.context=e;if(this.mockHandlers.hasOwnProperty(d))this.mockHandlers[d](c.requestMessages[d],c);Array.isArray(c.requestMessages[d])?c.requestMessages[d].forEach(b.hitch(this,k,d)):k(d,c.requestMessages[d])}if(this.mockHandlers["*"])this.mockHandlers["*"](d,c.requestMessages[d],c)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],
"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],
UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),function(e,k,h,b,a,c,d){return k([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(b,
c,d){d&&(c=a.hitch(d,c));this.responseHandlers[b]=c},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},handleTransaction:function(b){this.transactions.push(b);b.deferred.addCallback(a.hitch(this,this._processAll,b));b.deferred.addCallback(a.hitch(this,this._processResult,b));b.deferred.addErrback(a.hitch(this,this._processAll,b));b.deferred.addErrback(a.hitch(this,this._processFault,b))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},
_processResult:function(a){a.getResponseMessageTypes().forEach(function(d){var e=a.responseMessages[d],k=[];try{if(Array.isArray(e)){e.forEach(function(b){var c,e=a.getMessageClassifier(b);if(e){c=[d,e].join(":");var l=this,h=!1;a.getRequestMessageTypes().forEach(function(d){d=a.requestMessages[d];Array.isArray(d)?d.forEach(function(d){l.responseHandlers[c]&&d.uuid===b.uuid&&(l.responseHandlers[c]([b],a.context),h=!0)}):l.responseHandlers[c]&&d.uuid===b.uuid&&(l.responseHandlers[c]([b],a.context),
h=!0)});h||k.push(b)}else k.push(b)},this);if(0<k.length&&this.responseHandlers[d])this.responseHandlers[d](k,a.context);if(this.responseHandlers["*"])this.responseHandlers["*"](d,a.responseMessages[d],a.context)}}catch(h){c.error("Remote: Fault occurred while processing response.\nMessage: "+h.message+"\nType: "+d+"\nResponse: "+b.toJson(e))}},this);this._processUdcResponses(a);a.fault&&this.faultManager.handleFault(a)},_processUdcResponses:function(a){if(!d.isEndpointMessageContainerBased(a.endPointName)){var b=
Object.keys(a.requestMessages)[0];if(this.responseHandlers[b])this.responseHandlers[b](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)}})})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(e,k){var h=!1,b={_serviceData:{},getServiceRegistryEndpoint:function(a){if(b._serviceData.serviceregistry){var c,d;c=b._serviceData.serviceregistry.length;for(d=0;d<c;d+=1)if(b._serviceData.serviceregistry[d].name===a)return b._serviceData.serviceregistry[d].endpoint}return""}};
return{load:function(a,c,d){h?d(b):e("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!c.async}).then(function(a){b._serviceData=a;h=!0;d(b)},function(a){b._serviceData={};h=!0;d(b)})}}})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),function(e,k,h,b,a,c){var d=new b;
b={messageService:d,subscribe:e.hitch(d,"subscribe"),unsubscribe:e.hitch(d,"unsubscribe"),publish:e.hitch(d,"publish"),start:e.hitch(d,"start"),stop:e.hitch(d,"stop"),isRunning:e.hitch(d,"isStarted"),isStarted:e.hitch(d,"isStarted"),isConnected:e.hitch(d,"isConnected"),isFatallyDisconnected:e.hitch(d,"isFatallyDisconnected"),isDisconnected:e.hitch(d,"isDisconnected"),setLatency:e.hitch(d,"setLatency"),setErrorRate:e.hitch(d,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},
onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:e.hitch(d,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};k.after(d,"onConnected",e.hitch(b,"onConnected"),!0);k.after(d,"onDisconnected",e.hitch(b,"onDisconnected"),!0);k.after(d,"onReconnected",e.hitch(b,"onReconnected"),!0);k.after(d,"onFatallyDisconnected",
e.hitch(b,"onFatallyDisconnected"),!0);k.after(d,"onNotConnected",e.hitch(b,"onNotConnected"),!0);var f=c.enableServerOnWorkerAsync;c.enableServerOnWorkerAsync=function(){f();d.setDelegate(new h(c))};var g=c.disableServerOnWorkerAsync;c.disableServerOnWorkerAsync=function(){g();d.setDelegate(new a(c,d))};c.isServerOnWorkerAsyncEnabled()?c.enableServerOnWorkerAsync():c.disableServerOnWorkerAsync();return b})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(e,k,h,b,a,c,d,f,g){var l;c.JSON.toJSON=b.stringify;c.JSON.fromJSON=b.parse;var n=0,p=0,m={};setInterval(function(){n+=200;Object.keys(m).forEach(function(a){var b=m[a];b.execTime<=n&&(b.func(),delete m[a])})},200);var t=function(a,b,f){var e=new c.LongPollingTransport,e=c.Transport.derive(e);e.xhrSend=function(a){var c=b.sendMessage(a.body,a.url,{headers:a.headers});c.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){c.cancel()}}};var l=new c.Cometd(a),k=c.Utils.setTimeout;
c.Utils.setTimeout=function(a,b,c){if(0===c)return k(a,b,c);p+=1;m[p]={func:function(){try{b()}catch(a){l._debug("Exception invoking timed function",b,a)}},execTime:n+c};return p};c.Utils.clearTimeout=function(a){delete m[a]};c.WebSocket=g.WebSocket;g.WebSocket.proxyClient=b;l.registerExtension("ack",new d);f.websocket&&l.registerTransport("websocket",new c.WebSocketTransport,0);l.registerTransport("long-polling",e,1);return l};l=e([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(a,b,c,d){this.remote=a;this.constructCometD=b||t;this.cometdProperties=d||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};a=["maxNetworkDelay","connectTimeout","logLevel"];if(b=k.cometdProperties)for(d=0;d<a.length;d+=1){var e=a[d];void 0!==b[e]&&(this.cometdProperties[e]=b[e])}this.workerProxyAsyncClient=c||new g("remoteWorkerAsyncProducer");
var l=this;h.after(this.workerProxyAsyncClient,"onError",function(a){l.cometd&&(l.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to IFrame error."),l.cometd.disconnect());l.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){l._deferredCleanup=!1;l.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=l.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var b={};l.enableWebsocket&&this._webSocket.try?b.websocket=!0:(b.websocket=!1,this._webSocket.try=!1);var c=this.constructCometD("messageService",this.workerProxyAsyncClient,b);this.cometd=c;this.logCometdLifecycle&&f.info("MessageServiceAsync constructing new cometd instance.");b=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var d=this,g=new a;b.then(function(a){d.logCometdLifecycle&&f.info("MessageServiceAsync cometd handshake successful.",a,c.getClientId(),c);c.isDisconnected()?(f.error("MessageServiceAsync cometd handshake successful but still disconnected!"),c.disconnect(),g.reject(a)):("websocket"===c.getTransport().getType()&&(d._webSocket.connectedAtLeastOnce=!0),g.resolve(a))},function(a){d.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
a,c.getClientId(),c);c.disconnect();if(a.request&&a.request.supportedConnectionTypes){var b=a.request.supportedConnectionTypes;1<b.length&&("websocket"===b[0]&&!d._webSocket.connectedAtLeastOnce)&&(d._webSocket.try=!1)}g.reject(a)});this.cometdProperties.url=this._getEndpoint();c.init(this.cometdProperties);return g.promise},disconnect:function(){this.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var c=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return c},doSubscribe:function(a){this.logCometdSubscriptions&&
f.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(b){if(this.subscriptions[b]){this.logCometdSubscriptions&&f.info("MessageServiceAsync unsubscribing cometd from channel: "+b);var c=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[b]);delete this.subscriptions[b];
return c}return(new a).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(b){var c=new a;this._addOneShotListener(b,function(a){a.successful?c.resolve(a):(f.warn("Message failed: ",a),c.reject(a))});return c.promise},_addOneShotListener:function(a,b){var c=this,d=this.cometd,g;g=this.cometd.addListener(a,function(a){d.removeListener(g);b.apply(c,arguments)})},_createListenerForUnknownClient:function(){var a=
this.cometd,b=this;a.addListener("/meta/connect",function(c){!c.successful&&(c.advice&&"handshake"===c.advice.reconnect)&&(a.disconnect(),b.onConnectionError(c.error))})},_getEndpoint:function(){return this.routingHost+this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});l.enableWebsocket=!1;l.workerHostOverride=!1;0<=
location.search.indexOf("websocket\x3don")&&(l.enableWebsocket=!0);return l})},"dojox/cometd/cometd":function(){define(function(){var e=this.org=this.org||{};e.cometd={};e.cometd.JSON={};e.cometd.JSON.toJSON=e.cometd.JSON.fromJSON=function(e){throw"Abstract";};e.cometd.Utils={};e.cometd.Utils.isString=function(e){return void 0===e||null===e?!1:"string"===typeof e||e instanceof String};e.cometd.Utils.isArray=function(e){return void 0===e||null===e?!1:e instanceof Array};e.cometd.Utils.inArray=function(e,
h){for(var b=0;b<h.length;++b)if(e===h[b])return b;return-1};e.cometd.Utils.setTimeout=function(e,h,b){return window.setTimeout(function(){try{h()}catch(a){e._debug("Exception invoking timed function",h,a)}},b)};e.cometd.Utils.clearTimeout=function(e){window.clearTimeout(e)};e.cometd.TransportRegistry=function(){var e=[],h={};this.getTransportTypes=function(){return e.slice(0)};this.findTransportTypes=function(b,a,c){for(var d=[],f=0;f<e.length;++f){var g=e[f];!0===h[g].accept(b,a,c)&&d.push(g)}return d};
this.negotiateTransport=function(b,a,c,d){for(var f=0;f<e.length;++f)for(var g=e[f],l=0;l<b.length;++l)if(g===b[l]){var n=h[g];if(!0===n.accept(a,c,d))return n}return null};this.add=function(b,a,c){for(var d=!1,f=0;f<e.length;++f)if(e[f]===b){d=!0;break}d||("number"!==typeof c?e.push(b):e.splice(c,0,b),h[b]=a);return!d};this.find=function(b){for(var a=0;a<e.length;++a)if(e[a]===b)return h[b];return null};this.remove=function(b){for(var a=0;a<e.length;++a)if(e[a]===b)return e.splice(a,1),a=h[b],delete h[b],
a;return null};this.clear=function(){e=[];h={}};this.reset=function(){for(var b=0;b<e.length;++b)h[e[b]].reset()}};e.cometd.Transport=function(){var k,h;this.registered=function(b,a){k=b;h=a};this.unregistered=function(){h=k=null};this._debug=function(){h._debug.apply(h,arguments)};this._mixin=function(){return h._mixin.apply(h,arguments)};this.getConfiguration=function(){return h.getConfiguration()};this.getAdvice=function(){return h.getAdvice()};this.setTimeout=function(b,a){return e.cometd.Utils.setTimeout(h,
b,a)};this.clearTimeout=function(b){e.cometd.Utils.clearTimeout(b)};this.convertToMessages=function(b){if(e.cometd.Utils.isString(b))try{return e.cometd.JSON.fromJSON(b)}catch(a){throw this._debug("Could not convert to JSON the following string",'"'+b+'"'),a;}if(e.cometd.Utils.isArray(b))return b;if(void 0===b||null===b)return[];if(b instanceof Object)return[b];throw"Conversion Error "+b+", typeof "+typeof b;};this.accept=function(b,a,c){throw"Abstract";};this.getType=function(){return k};this.send=
function(b,a){throw"Abstract";};this.reset=function(){this._debug("Transport",k,"reset")};this.abort=function(){this._debug("Transport",k,"aborted")};this.toString=function(){return this.getType()}};e.cometd.Transport.derive=function(e){function h(){}h.prototype=e;return new h};e.cometd.RequestTransport=function(){function k(a){for(;0<n.length;){var b=n[0],c=b[0],b=b[1];if(c.url===a.url&&c.sync===a.sync)n.shift(),a.messages=a.messages.concat(c.messages),this._debug("Coalesced",c.messages.length,"messages from request",
b.id);else break}}function h(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var c=this.getConfiguration().maxNetworkDelay,d=c;!0===b.metaConnect&&(d+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",d,"ms for the response, maxNetworkDelay",c);var g=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var c="Request "+b.id+" of transport "+g.getType()+" exceeded "+d+" ms max network delay";g._debug(c);g.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,
a.messages,"timeout",c)},d)}}function b(a){var b=++f,c={id:b,metaConnect:!1};l.length<this.getConfiguration().maxConnections-1?(l.push(c),h.call(this,a,c)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),n.push([a,c]))}function a(a,c){var d=e.cometd.Utils.inArray(a,l);0<=d&&l.splice(d,1);if(0<n.length){var d=n.shift(),g=d[0],f=d[1];this._debug("Transport dequeued request",f.id);if(c)this.getConfiguration().autoBatch&&k.call(this,g),b.call(this,g),this._debug("Transport completed request",
a.id,g);else{var h=this;this.setTimeout(function(){h.complete(f,!1,f.metaConnect);g.onFailure(f.xhr,g.messages,"error","Previous request failed")},0)}}}var c=new e.cometd.Transport,d=e.cometd.Transport.derive(c),f=0,g=null,l=[],n=[];d.complete=function(b,c,d){if(d){b=b.id;this._debug("Transport",this.getType(),"metaConnect complete, request",b);if(null!==g&&g.id!==b)throw"Longpoll request mismatch, completing request "+b;g=null}else a.call(this,b,c)};d.transportSend=function(a,b){throw"Abstract";
};d.transportSuccess=function(a,b,c){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),c&&0<c.length)a.onSuccess(c);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};d.transportFailure=function(a,b,c,d){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,c,d))};d.send=function(a,c){if(c){if(null!==g)throw"Concurrent metaConnect requests not allowed, request id\x3d"+g.id+" not yet completed";var d=++f;this._debug("Transport",
this.getType(),"metaConnect send, request",d,"envelope",a);d={id:d,metaConnect:!0};h.call(this,a,d);g=d}else b.call(this,a)};d.abort=function(){c.abort();for(var a=0;a<l.length;++a){var b=l[a];this._debug("Aborting request",b);b.xhr&&b.xhr.abort()}g&&(this._debug("Aborting metaConnect request",g),g.xhr&&g.xhr.abort());this.reset()};d.reset=function(){c.reset();g=null;l=[];n=[]};return d};e.cometd.LongPollingTransport=function(){var k=new e.cometd.RequestTransport,h=e.cometd.Transport.derive(k),b=
!0;h.accept=function(a,c,d){return b||!c};h.xhrSend=function(a){throw"Abstract";};h.transportSend=function(a,c){this._debug("Transport",this.getType(),"sending request",c.id,"envelope",a);var d=this;try{var f=!0;c.xhr=this.xhrSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(a.messages),onSuccess:function(g){d._debug("Transport",d.getType(),"received response",g);var e=!1;try{var f=d.convertToMessages(g);0===f.length?(b=!1,d.transportFailure(a,
c,"no response",null)):(e=!0,d.transportSuccess(a,c,f))}catch(h){d._debug(h),e||(b=!1,d.transportFailure(a,c,"bad response",h))}},onError:function(g,e){b=!1;f?d.setTimeout(function(){d.transportFailure(a,c,g,e)},0):d.transportFailure(a,c,g,e)}});f=!1}catch(g){b=!1,this.setTimeout(function(){d.transportFailure(a,c,"error",g)},0)}};h.reset=function(){k.reset();b=!0};return h};e.cometd.CallbackPollingTransport=function(){var k=new e.cometd.RequestTransport,k=e.cometd.Transport.derive(k);k.accept=function(e,
b,a){return!0};k.jsonpSend=function(e){throw"Abstract";};k.transportSend=function(h,b){for(var a=this,c=0,d=h.messages.length,f=[];0<d;){var g=e.cometd.JSON.toJSON(h.messages.slice(c,c+d)),g=h.url.length+encodeURI(g).length;if(2E3<g){if(1===d){var l="Bayeux message too big ("+g+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){a.transportFailure(h,b,"error",l)},0);return}--d}else f.push(d),c+=d,d=h.messages.length-c}var k=h;if(1<f.length){c=0;d=f[0];this._debug("Transport",
this.getType(),"split",h.messages.length,"messages into",f.join(" + "));k=this._mixin(!1,{},h);k.messages=h.messages.slice(c,d);k.onSuccess=h.onSuccess;k.onFailure=h.onFailure;for(g=1;g<f.length;++g){var p=this._mixin(!1,{},h),c=d,d=d+f[g];p.messages=h.messages.slice(c,d);p.onSuccess=h.onSuccess;p.onFailure=h.onFailure;this.send(p,b.metaConnect)}}this._debug("Transport",this.getType(),"sending request",b.id,"envelope",k);try{var m=!0;this.jsonpSend({transport:this,url:k.url,sync:k.sync,headers:this.getConfiguration().requestHeaders,
body:e.cometd.JSON.toJSON(k.messages),onSuccess:function(c){var d=!1;try{var g=a.convertToMessages(c);0===g.length?a.transportFailure(k,b,"no response"):(d=!0,a.transportSuccess(k,b,g))}catch(e){a._debug(e),d||a.transportFailure(k,b,"bad response",e)}},onError:function(c,d){m?a.setTimeout(function(){a.transportFailure(k,b,c,d)},0):a.transportFailure(k,b,c,d)}});m=!1}catch(t){this.setTimeout(function(){a.transportFailure(k,b,"error",t)},0)}};return k};e.cometd.WebSocketTransport=function(){function k(){var a=
d.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,c=null,g=d.getConfiguration().connectTimeout;0<g&&(c=this.setTimeout(function(){c=null;m||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",g,"ms"),b.onClose(1002,"Connect Timeout"))},g));var f=new e.cometd.WebSocket(a),l=function(a){var d=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",d,"/",a,f);c&&(b.clearTimeout(c),c=null);if(f!==p)b._debug("Ignoring close event, WebSocket",
p);else b.onClose(d,a)};f.onopen=function(){b._debug("WebSocket opened",f);c&&(b.clearTimeout(c),c=null);if(f!==p)b._debug("Ignoring open event, WebSocket",p);else b.onOpen()};f.onclose=l;f.onerror=function(){l({code:1002})};f.onmessage=function(a){b._debug("WebSocket message",a,f);if(f!==p)b._debug("Ignoring message event, WebSocket",p);else b.onMessage(a)};p=f;this._debug("Transport",this.getType(),"configured callbacks on",f)}function h(a,b){var c=e.cometd.JSON.toJSON(a.messages);p.send(c);this._debug("Transport",
this.getType(),"sent",a,"metaConnect \x3d",b);var d=c=this.getConfiguration().maxNetworkDelay;b&&(d+=this.getAdvice().timeout,t=!0);for(var g=[],f=0;f<a.messages.length;++f){var l=a.messages[f];if(l.id){g.push(l.id);var h=p;n[l.id]=this.setTimeout(function(){h&&h.close(1E3,"Timeout")},d)}}this._debug("Transport",this.getType(),"waiting at most",d,"ms for messages",g,"maxNetworkDelay",c,", timeouts:",n)}function b(a,b){try{null===p?k.call(this):m&&h.call(this,a,b)}catch(c){var d=p;this.setTimeout(function(){a.onFailure(d,
a.messages,"error",c)},0)}}var a=new e.cometd.Transport,c=e.cometd.Transport.derive(a),d,f=!0,g=!1,l={},n={},p=null,m=!1,t=!1,q;c.onOpen=function(){this._debug("Transport",this.getType(),"opened",p);g=m=!0;this._debug("Sending pending messages",l);for(var a in l){var b=l[a],c=b[0],b=b[1];q=c.onSuccess;h.call(this,c,b)}};c.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,p);var b=!1;a=this.convertToMessages(a.data);for(var c=[],d=0;d<a.length;++d){var g=a[d];
if((/^\/meta\//.test(g.channel)||void 0===g.data)&&g.id){c.push(g.id);var f=n[g.id];f&&(this.clearTimeout(f),delete n[g.id],this._debug("Transport",this.getType(),"removed timeout for message",g.id,", timeouts",n))}"/meta/connect"===g.channel&&(t=!1);"/meta/disconnect"===g.channel&&!t&&(b=!0)}d=!1;for(g=0;g<c.length;++g){var h=c[g],k;for(k in l){var f=k.split(","),m=e.cometd.Utils.inArray(h,f);if(0<=m){d=!0;f.splice(m,1);h=l[k][0];m=l[k][1];delete l[k];0<f.length&&(l[f.join(",")]=[h,m]);break}}}d&&
this._debug("Transport",this.getType(),"removed envelope, envelopes",l);q.call(this,a);b&&p.close(1E3,"Disconnect")};c.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,p);f=g;for(var c in n)this.clearTimeout(n[c]);n={};for(var d in l)c=l[d][0],l[d][1]&&(t=!1),c.onFailure(p,c.messages,"closed "+a+"/"+b);l={};null!==p&&m&&p.close(1E3,"Close");m=!1;p=null};c.registered=function(b,c){a.registered(b,c);d=c};c.accept=function(a,b,c){return f&&!!e.cometd.WebSocket&&!1!==d.websocketEnabled};
c.send=function(a,c){this._debug("Transport",this.getType(),"sending",a,"metaConnect \x3d",c);for(var d=[],g=0;g<a.messages.length;++g){var f=a.messages[g];f.id&&d.push(f.id)}l[d.join(",")]=[a,c];this._debug("Transport",this.getType(),"stored envelope, envelopes",l);b.call(this,a,c)};c.abort=function(){a.abort();if(null!==p)try{p.close(1001)}catch(b){this._debug(b)}this.reset()};c.reset=function(){a.reset();null!==p&&m&&p.close(1E3,"Reset");f=!0;g=!1;n={};l={};p=null;m=!1;q=null};return c};e.cometd.Cometd=
function(k){function h(a){return e.cometd.Utils.isString(a)}function b(a){return void 0===a||null===a?!1:"function"===typeof a}function a(a,c){if(window.console){var d=window.console[a];b(d)&&d.apply(window.console,c)}}function c(){for(var a in N)for(var b=N[a],c=b.length-1;0<=c;--c){var d=b[c];d&&!d.listener&&(b.splice(c,1),v._debug("Removed subscription",d,"for channel",a))}}function d(a){P!==a&&(v._debug("Status",P,"-\x3e",a),P=a)}function f(){return"disconnecting"===P||"disconnected"===P}function g(a,
c,d,g,f){try{return c.call(a,g)}catch(e){v._debug("Exception during execution of extension",d,e);a=v.onExtensionException;if(b(a)){v._debug("Invoking extension exception callback",d,e);try{a.call(v,e,d,f,g)}catch(l){v._info("Exception during execution of exception callback in extension",d,l)}}return g}}function l(a){for(var c=0;c<I.length&&!(void 0===a||null===a);++c){var d=I[c],f=d.extension.outgoing;b(f)&&(d=g(d.extension,f,d.name,a,!0),a=void 0===d?a:d)}return a}function n(a,c){var d=N[a];if(d&&
0<d.length)for(var g=d.length-1;0<=g;--g){var f=d[g];try{f.callback.call(f.scope,c)}catch(e){v._debug("Exception during notification",f,c,e);var l=v.onListenerException;if(b(l)){v._debug("Invoking listener exception callback",f,e);try{l.call(v,e,f.handle,f.listener,c)}catch(h){v._info("Exception during execution of listener callback",f,h)}}}}}function p(a,b){n(a,b);for(var c=a.split("/"),d=c.length-1,g=d;0<g;--g){var f=c.slice(0,g).join("/")+"/*";g===d&&n(f,b);f+="*";n(f,b)}}function m(){null!==X&&
e.cometd.Utils.clearTimeout(X);X=null}function t(a){m();var b=J.interval+C;v._debug("Function scheduled in",b,"ms, interval \x3d",J.interval,"backoff \x3d",C,a);X=e.cometd.Utils.setTimeout(v,a,b)}function q(a,c,d,g){for(var f=0;f<c.length;++f){var e=c[f];e.id=""+ ++fa;Q&&(e.clientId=Q);var h=void 0;b(e._callback)&&(h=e._callback,delete e._callback);e=l(e);void 0!==e&&null!==e?(c[f]=e,h&&(aa[e.id]=h)):c.splice(f--,1)}0!==c.length&&(f=z.url,z.appendMessageTypeToURL&&(f.match(/\/$/)||(f+="/"),g&&(f+=
g)),a={url:f,sync:a,messages:c,onSuccess:function(a){try{ea.call(v,a)}catch(b){v._debug("Exception during handling of messages",b)}},onFailure:function(a,b,c,d){try{ba.call(v,a,b,c,d)}catch(g){v._debug("Exception during handling of failure",g)}}},v._debug("Send",a),D.send(a,d))}function r(a){0<O||!0===T?R.push(a):q(!1,[a],!1)}function s(){var a=R;R=[];0<a.length&&q(!1,a,!1)}function u(){d("connecting");t(function(){if(!f()){var a={channel:"/meta/connect",connectionType:D.getType()};ca||(a.advice=
{timeout:0});d("connecting");v._debug("Connect sent",a);q(!1,[a],!0,"connect");d("connected")}})}function w(a){a&&(J=v._mixin(!1,{},z.advice,a),v._debug("New advice",J))}function x(a){m();a&&D.abort();Q=null;d("disconnected");C=O=0;0<R.length&&(ba.call(v,void 0,R,"error","Disconnected"),R=[])}function y(a){Q=null;c();f()?(H.reset(),w(z.advice)):w(v._mixin(!1,J,{reconnect:"retry"}));O=0;T=!0;$=a;a=H.findTransportTypes("1.0",B,z.url);var b=v._mixin(!1,{},$,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",
supportedConnectionTypes:a,advice:{timeout:J.timeout,interval:J.interval}});D=H.negotiateTransport(a,"1.0",B,z.url);v._debug("Initial transport is",D.getType());d("handshaking");v._debug("Handshake sent",b);q(!1,[b],!1,"handshake")}function E(){d("handshaking");T=!0;t(function(){y($)})}function A(a){p("/meta/handshake",a);p("/meta/unsuccessful",a);!f()&&"none"!==J.reconnect?(C<z.maxBackoff&&(C+=z.backoffIncrement),E()):x(!1)}function K(a){p("/meta/connect",a);p("/meta/unsuccessful",a);a=f()?"none":
J.reconnect;switch(a){case "retry":u();C<z.maxBackoff&&(C+=z.backoffIncrement);break;case "handshake":H.reset();C=0;E();break;case "none":x(!1);break;default:throw"Unrecognized advice action"+a;}}function L(a){x(!0);p("/meta/disconnect",a);p("/meta/unsuccessful",a)}function M(a){p("/meta/subscribe",a);p("/meta/unsuccessful",a)}function F(a){p("/meta/unsubscribe",a);p("/meta/unsuccessful",a)}function G(a){var c=aa[a.id];b(c)&&(delete aa[a.id],c.call(v,a))}function S(a){G(a);p("/meta/publish",a);p("/meta/unsuccessful",
a)}function U(a){for(var c=0;c<I.length&&!(void 0===a||null===a);++c){var d=I[z.reverseIncomingExtensions?I.length-1-c:c],e=d.extension.incoming;b(e)&&(d=g(d.extension,e,d.name,a,!1),a=void 0===d?a:d)}if(!(void 0===a||null===a))switch(w(a.advice),a.channel){case "/meta/handshake":if(a.successful){Q=a.clientId;c=H.negotiateTransport(a.supportedConnectionTypes,a.version,B,z.url);if(null===c)throw"Could not negotiate transport with server; client "+H.findTransportTypes(a.version,B,z.url)+", server "+
a.supportedConnectionTypes;D!==c&&(v._debug("Transport",D,"-\x3e",c),D=c);T=!1;s();a.reestablish=da;da=!0;p("/meta/handshake",a);a=f()?"none":J.reconnect;switch(a){case "retry":C=0;u();break;case "none":x(!1);break;default:throw"Unrecognized advice action "+a;}}else A(a);break;case "/meta/connect":if(ca=a.successful)switch(p("/meta/connect",a),a=f()?"none":J.reconnect,a){case "retry":C=0;u();break;case "none":x(!1);break;default:throw"Unrecognized advice action "+a;}else K(a);break;case "/meta/disconnect":a.successful?
(x(!1),p("/meta/disconnect",a)):L(a);break;case "/meta/subscribe":a.successful?p("/meta/subscribe",a):M(a);break;case "/meta/unsubscribe":a.successful?p("/meta/unsubscribe",a):F(a);break;default:void 0===a.successful?void 0!==a.data&&null!==a.data?p(a.channel,a):v._debug("Unknown message",a):a.successful?(G(a),p("/meta/publish",a)):S(a)}}function V(a){if(a=N[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function W(a,c){var d={scope:a,method:c};if(b(a))d.scope=void 0,d.method=a;else if(h(c)){if(!a)throw"Invalid scope "+
a;d.method=a[c];if(!b(d.method))throw"Invalid callback "+c+" for scope "+a;}else if(!b(c))throw"Invalid callback "+c;return d}function Y(a,b,c,d){b=W(b,c);v._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);d={channel:a,scope:b.scope,callback:b.method,listener:d};b=N[a];b||(b=[],b.subscriptionCounter=0,N[a]=b);b.push(d);c=b.subscriptionCounter;b.subscriptionCounter+=1;d.id=c;d.handle=[a,c];v._debug("Added listener",d,"for channel",a,"having id \x3d",c);return d.handle}var v=
this,Z=k||"default",B=!1,H=new e.cometd.TransportRegistry,D,P="disconnected",fa=0,Q=null,O=0,R=[],T=!1,N={},C=0,X=null,I=[],J={},$,aa={},da=!1,ca=!1,z={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,b,c){for(var d=b||{},g=2;g<arguments.length;++g){var f=arguments[g];if(!(void 0===f||
null===f))for(var e in f){var l=f[e],h=d[e];l!==b&&void 0!==l&&(d[e]=a&&"object"===typeof l&&null!==l?l instanceof Array?this._mixin(a,h instanceof Array?h:[],l):this._mixin(a,"object"===typeof h&&!(h instanceof Array)?h:{},l):l)}}return d};this._warn=function(){a("warn",arguments)};this._info=function(){"warn"!==z.logLevel&&a("info",arguments)};this._debug=function(){"debug"===z.logLevel&&a("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var ea,ba;this.send=
r;this.receive=U;ea=function(a){v._debug("Received",a);for(var b=0;b<a.length;++b)U(a[b])};ba=function(a,b,c,d){v._debug("handleFailure",a,b,c,d);for(c=0;c<b.length;++c){var g=b[c];switch(g.channel){case "/meta/handshake":A({successful:!1,failure:!0,channel:"/meta/handshake",request:g,xhr:a,advice:{reconnect:"retry",interval:C}});break;case "/meta/connect":d=a;ca=!1;K({successful:!1,failure:!0,channel:"/meta/connect",request:g,xhr:d,advice:{reconnect:"retry",interval:C}});break;case "/meta/disconnect":L({successful:!1,
failure:!0,channel:"/meta/disconnect",request:g,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":M({successful:!1,failure:!0,channel:"/meta/subscribe",request:g,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":F({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:g,xhr:a,advice:{reconnect:"none",interval:0}});break;default:S({successful:!1,failure:!0,channel:g.channel,request:g,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=
function(a,c,d){if(d=H.add(a,c,d))this._debug("Registered transport",a),b(c.registered)&&c.registered(a,this);return d};this.getTransportTypes=function(){return H.getTransportTypes()};this.unregisterTransport=function(a){var c=H.remove(a);null!==c&&(this._debug("Unregistered transport",a),b(c.unregistered)&&c.unregistered());return c};this.unregisterTransports=function(){H.clear()};this.findTransport=function(a){return H.find(a)};this.configure=function(a){v._debug("Configuring cometd object with",
a);h(a)&&(a={url:a});a||(a={});z=v._mixin(!1,z,a);if(!z.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(z.url);a=b[8];var c=b[9];B=v._isCrossDomain(b[2]);z.appendMessageTypeToURL&&(void 0!==c&&0<c.length?(v._info("Appending message type to URI "+a+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),z.appendMessageTypeToURL=!1):(b=a.split("/"),c=b.length-
1,a.match(/\/$/)&&(c-=1),0<=b[c].indexOf(".")&&(v._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),z.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){d("disconnected");da=!1;y(a)};this.disconnect=function(a,b){if(!f()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});d("disconnecting");q(!0===a,[c],!1,"disconnect")}};
this.startBatch=function(){++O};this.endBatch=function(){--O;if(0>O)throw"Calls to startBatch() and endBatch() are not paired";0===O&&(!f()&&!T)&&s()};this.batch=function(a,b){var c=W(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),d;}};this.addListener=function(a,b,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!h(a))throw"Illegal argument type: channel must be a string";
return Y(a,b,c,!0)};this.removeListener=function(a){if(!e.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=N[a[0]],c;if(0<b.length){c=a[1];a:{for(var d=0;d<b.length;){if(b[d].id===c){c=d;break a}d+=1}c=-1}-1!==c&&(b.splice(c,1),v._debug("Removed listener",a))}};this.clearListeners=function(){N={}};this.subscribe=function(a,c,d,g){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!h(a))throw"Illegal argument type: channel must be a string";
if(f())throw"Illegal state: already disconnected";b(c)&&(g=d,d=c,c=void 0);var e=!V(a),l=Y(a,c,d,!1);e&&(e=this._mixin(!1,{},g,{channel:"/meta/subscribe",subscription:a}),r(e));return l};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(f())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];V(c)||(c=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:c}),r(c))};this.clearSubscriptions=function(){c()};
this.publish=function(a,c,d,g){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!h(a))throw"Illegal argument type: channel must be a string";if(f())throw"Illegal state: already disconnected";b(c)?(g=c,c=d={}):b(d)&&(g=d,d={});var e=this._mixin(!1,{},d,{channel:a,data:c,_callback:g});r(e)};this.getStatus=function(){return P};this.isDisconnected=f;this.setBackoffIncrement=function(a){z.backoffIncrement=a};this.getBackoffIncrement=function(){return z.backoffIncrement};
this.getBackoffPeriod=function(){return C};this.setLogLevel=function(a){z.logLevel=a};this.registerExtension=function(a,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!h(a))throw"Illegal argument type: extension name must be a string";for(var d=!1,g=0;g<I.length;++g)if(I[g].name===a){d=!0;break}if(d)return this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1;I.push({name:a,extension:c});
this._debug("Registered extension",a);b(c.registered)&&c.registered(a,this);return!0};this.unregisterExtension=function(a){if(!h(a))throw"Illegal argument type: extension name must be a string";for(var c=!1,d=0;d<I.length;++d){var g=I[d];if(g.name===a){I.splice(d,1);c=!0;this._debug("Unregistered extension",a);a=g.extension;b(a.unregistered)&&a.unregistered();break}}return c};this.getExtension=function(a){for(var b=0;b<I.length;++b){var c=I[b];if(c.name===a)return c.extension}return null};this.getName=
function(){return Z};this.getClientId=function(){return Q};this.getURL=function(){return z.url};this.getTransport=function(){return D};this.getConfiguration=function(){return this._mixin(!0,{},z)};this.getAdvice=function(){return this._mixin(!0,{},J)};e.cometd.WebSocket=window.WebSocket;e.cometd.WebSocket||(e.cometd.WebSocket=window.MozWebSocket)};return e.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(e){return e.AckExtension=function(){var e,h=!1,b=-1;this.registered=
function(a,b){e=b;e._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){e._debug("AckExtension: executing unregistration callback",void 0);e=null};this.incoming=function(a){var c=a.channel;if("/meta/handshake"==c)h=a.ext&&a.ext.ack,e._debug("AckExtension: server supports acks",h);else if(h&&"/meta/connect"==c&&a.successful&&(c=a.ext)&&"number"===typeof c.ack)b=c.ack,e._debug("AckExtension: server sent ack id",b);return a};this.outgoing=function(a){var c=a.channel;
"/meta/handshake"==c?(a.ext||(a.ext={}),a.ext.ack=e&&!1!==e.ackEnabled,b=-1):h&&"/meta/connect"==c&&(a.ext||(a.ext={}),a.ext.ack=b,e._debug("AckExtension: client sending ack id",b));return a}}})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),function(e,k,h,b,a,c,d,f){return e([f],{logSubscriptions:!1,constructor:function(){this.batching=
!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(a){this.inherited(arguments);b.after(this._delegate,"onMessage",h.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,b,c){this.logSubscriptions&&d.info("MessageService subscribe: "+
a,b,c);this._addHandler(this.channelSubscriptions,a,b,c);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,b,c),this._deferProcessQueue(),a):this._queueSubscribe(a,b,c)},unsubscribe:function(b,c,f){this.logSubscriptions&&d.info("MessageService unsubscribe: "+b,c,f);if(this._removeHandler(this.channelSubscriptions,b,c,f))return this.isConnected()||"resubscribing"===this._currentState?(b=this._queueUnsubscribe(b,c,f),this._deferProcessQueue(),b):(new a).resolve();
d.error("Not subscribed to channel: "+b+", can't unsubscribe.");return(new a).reject("Not subscribed to channel: "+b+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",
arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(b,c){var d=new a;this._queuedOps.push({type:"publish",channel:b,data:c,deferred:d});return d.promise},
_queueSubscribe:function(b,c,d){var f=new a;this._queuedOps.push({type:"subscribe",channel:b,handler:c,scope:d,deferred:f});return f.promise},_queueUnsubscribe:function(b,c,d){for(var f=new a,e,h=0;h<this._queuedOps.length;h++)if(e=this._queuedOps[h],"subscribe"===e.type&&e.channel===b&&e.handler===c&&e.scope===d)return this._queuedOps.splice(h,1),e.deferred.resolve(),(new a).resolve();this._queuedOps.push({type:"unsubscribe",channel:b,handler:c,scope:d,deferred:f});return f.promise},_processQueue:function(){var a=
this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,a.scope));b.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},
_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(b){if(this.channelSubscriptions[b].subscribed)return(new a).resolve();var c=this._delegate.doSubscribe(b);this.channelSubscriptions[b].subscribed=!0;return c},_doUnsubscribe:function(b){return this.channelSubscriptions[b]?(new a).resolve():this._delegate.doUnsubscribe(b)},
handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},registerMessageHandler:function(a,b,c){d.error("registerMessageHandler is not supported any more.")},
deregisterMessageHandler:function(a,b,c){d.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return h.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||h.isString(a)?a:this._serializeObject(a)},deserialize:function(a){return h.isArray(a)?this._deserializeArray(a):a instanceof
Number||a instanceof Boolean||h.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,f){var e;f=f||this;"string"===typeof c&&"function"!==typeof f[c]?d.warn("Not adding invalid handler: "+c):(e=a[b],e||(e=[],a[b]=e),a={channel:b,handler:c,scope:f},e.push(a),e.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,d){var f;f=a[b];c=this._getHandlerIndex(f,{handler:c,scope:d||this});0<=c&&f.splice(c,1);(!f||0===f.length)&&delete a[b];return 0<=c},_callHandlers:function(a,
b,c){var f;if(a.hasOwnProperty(b)){a=a[b];for(f=0;f<a.length;f+=1)try{"string"===typeof a[f].handler?a[f].scope[a[f].handler].call(a[f].scope,c):a[f].handler.call(a[f].scope,c)}catch(e){d.error("Error while executing message handler on channel: "+b+", message: "+k.toJson(c)+", error: "+e)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=
1){var d=this.typeSerializers[c];if(d.typeMatcher(a))return{__type__:d.type,__value__:d.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,
a.__value__)}catch(c){d.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],function(e,k){return e([],{constructor:function(e){e.stateMachine=this;this.state=new k(e)},start:function(){this.state.enter()},
stop:function(){this.state.exit()},_changeState:function(e,b){this.state.enter(e,b)},onEnterState:function(e){},onExitState:function(e){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(e,k,h,b,a,c,d,f){var g;return g=e([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};
this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?(a=this.namespace.split("."),a=a.pop()):h.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var b=
{},c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],d.name&&d.name!==c&&h.error("State: error constructing substate: "+c+", the specified names don't match: "+d.name),d.name=c,d.namespace=d.namespace||[this.namespace,this.name].join("."),d.stateMachine=d.stateMachine||this.stateMachine,d.context=d.context||this.context,b[d.name]=new g(d));this.substates=b},constructTriggersAndTransitions:function(a){var b,c={},d=[],f;for(b in a)a.hasOwnProperty(b)&&((f=this.constructTrigger(b))&&d.push(f),c[b]=this.constructTransition(b,
a[b]));this.transitions=c;this.triggers=d},constructTrigger:function(f){var e,g,h;e=f.split(" ");if(2===e.length)"subscribe"===e[0]?h=a:"response"===e[0]||"fault"===e[0]?h=c:"timeout"===e[0]&&(h=d);else if("onEnterState"!==f||"onExitState"!==f)h=b;h&&(g=new h({name:f,context:this.context,triggerHandler:k.hitch(this,this.handleTrigger)}));return g},constructTransition:function(a,b){var c;if(k.isFunction(b)||k.isString(b)||k.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=
""):(c=b,b={},b.target=c);b.state=this;return new f(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},
disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))k.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===
this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(e,k,h,b,a){return e(a,{constructor:function(){this.connection=
{}},enable:function(){k.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=h.after(this.context,this.name,k.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],function(e){return e([],{constructor:function(k){this.name="";this.context={};this.triggerHandler=
k.triggerHandler||function(){};e.safeMixin(this,k)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(e,k,h,b,a){return e(a,{constructor:function(){var a=this.name.split(" ");(2>a.length||"subscribe"!==a[0])&&b.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");this.messageId=a[1]||"";this.subscrition={}},enable:function(){this.subscription=
h.subscribe(this.messageId,k.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(e,k,h,b,a){return e(a,{constructor:function(){var a=this.name.split(" ");(2>a.length||"response"!==a[0]&&"fault"!==a[0])&&h.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!b.registerResponseHandler||!b.registerFaultHandler)&&h.error("The remote package is not available, this type of trigger will not work.");this.messageId=a[1]||"";this.handlerType=a[0]},enable:function(){"response"===this.handlerType?b.registerResponseHandler(this.messageId,k.hitch(null,this.triggerHandler,this.name)):b.registerFaultHandler(this.messageId,k.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?b.deregisterResponseHandler(this.messageId):b.deregisterFaultHandler(this.messageId)}})})},
"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(e,k,h,b){return e(b,{constructor:function(){var a=this.name.split(" ");(2>a.length||"timeout"!==a[0])&&h.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(a[1]);this.handlerType=a[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(k.hitch(null,this.triggerHandler,this.name),
1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(e,k,h){return e([],{constructor:function(b){this.state={};this.target="";this.action=this.condition=null;e.safeMixin(this,b)},handleTrigger:function(b,a){var c="";this.checkCondition(b,a)&&(this.runAction(b,a),c=this.getTarget(b,this.target,a));
return c},checkCondition:function(b,a){return!this.condition?!0:k.hitch(this.state.context,this.condition).apply(null,[b,this.state.data].concat(a))},runAction:function(b,a){var c;this.action&&(c=k.hitch(this.state.context,this.action),c.apply(null,[b,this.state.data].concat(a)))},getTarget:function(b,a,c){var d,f,e;if(k.isString(a))f=a;else if(k.isFunction(a))a=k.hitch(this.state.context,a),f=a.apply(null,[b,this.state.data].concat(c));else if(k.isArray(a))for(d=0;d<a.length;d+=1){f=this.getTarget(b,
a[d],c);if(k.isString(f)){f={target:f};k.mixin(f,e);break}if(f&&f.target){k.mixin(f,e);break}e=f||{}}else h.warn("Transition: improper target: ",a);return f}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(e,k,h,b,a,c,d){return e([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",
namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",
_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,
stop:"disconnected"}}}}},setDelegate:function(a){if(this._delegate!==a){this._delegate=a;var b=this;h.after(a,"onConnectionError",function(){d.warn("MessageService received connection error, reconnecting");b._reconnect()},!0);this._states=new c(this._stateOptions);h.after(this._states,"onEnterState",k.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var b=this._currentState;this._currentState=a;this.logStateChanges&&d.info("MessageService state change: "+
b+" -\x3e "+a);if("connected"===b)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;d.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&d.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(d.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function b(a){e.push(this._delegate.doSubscribe(a.channel))}
var c,d,e=[];this._delegate.doStartBatch();for(c in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(c)&&(d=this.channelSubscriptions[c],d.forEach(b,this),this.channelSubscriptions[c].subscribed=!0);this._delegate.doEndBatch();a(e).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&d.info("Successfully connected."),
this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","mw-log/Log"],function(e,k,h){return e([],{pollDelay:50,constructor:function(b,
a){this.remote=b;this.messageService=a;this.pending=0;b.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);b.registerResponseHandler("OpaqueMessageResponse",function(b){this.pending-=1;b.forEach(function(b){try{b.opaqueMessageDOs&&b.opaqueMessageDOs.forEach(a.handleMessage,a)}catch(c){h.error("Error while handling message: "+c)}});this.poll()},this)},onMessage:function(b){},onConnectionError:function(b){},connect:function(){this.enabled=!0;
this.poll();return(new k).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new k).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var b=this;this.timeout=setTimeout(function(){b.pending+=1;b.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});b.timeout=null},this.pollDelay)}},doPublish:function(b,a){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:b,
data:a}]}})},doSubscribe:function(b){},doUnsubscribe:function(b){},doStartBatch:function(){},doEndBatch:function(){}})})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],function(e,k){var h={deprecated:function(b){var a,c;if((e.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(b))c=window.showDeprecationsAsErrors||b.deprecationLevel===this.ERROR?this.ERROR:this.WARN,a="DEPRECATED: ",b.deprecated&&(a+=b.deprecated.module,b.deprecated.method&&(a+=
"."+b.deprecated.method+"()"),a+="."),b.replacement&&(a+=" Use "+b.replacement.module,b.replacement.method&&(a+="."+b.replacement.method+"()"),a+=" instead."),b.removalVersion&&(a+=" Will be removed in version: "+b.removalVersion+"."),b.geckNumber&&(a+=" Please use g"+b.geckNumber+" to track latest information regarding this deprecation"),b.additionalInformation&&(a+=" "+b.additionalInformation),k[c](a)},_isConfigValid:function(b){var a=!!b.deprecated&&"object"===typeof b.deprecated&&b.deprecated.hasOwnProperty("module");
b.replacement&&(a=a&&"object"===typeof b.replacement&&b.replacement.hasOwnProperty("module"));b.geckNumber&&(a=a&&"number"===typeof b.geckNumber);a||k.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return a}};Object.defineProperties(h,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return h})},"Startup/View":function(){define(["dojo/_base/declare","dojo/_base/lang","Startup/Startup",
"FPTDispatcher/Dispatcher","dojo/domReady!"],function(e,k,h,b){return e(null,{constructor:function(a){b.startMessageService();this._startupApp=new h;this._startupApp.startup();this._startupApp.placeAt(a);b.publish("/fpt/startup/ready",{UUID:this._startupApp.getUUID(),treeDepth:this._startupApp.getTreeDepth()})},destroy:function(){this._startupApp.destroy();b.destroy();this._startupApp=null}})})},"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\n\t\t\x3c/span\n\t\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:Startup/templates/startup.html":'\x3cdiv\x3e\n\t\x3cdiv\x3e\x3clabel class \x3d "fptStartupText" data-dojo-attach-point\x3d"startupText"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\x3cdiv id \x3d "startupDialog" data-dojo-attach-point\x3d"startupDialog"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:FPTTree/js/templates/Tree.html":'\x3cdiv\x3e\n\t\x3cdiv id \x3d "${fptTreeWidgetID}" data-dojo-attach-point\x3d"${fptTreeWidgetID}"\x3e\x3c/div\x3e\n\t\x3cdiv id\x3d"${treeBusyNodeID}" data-dojo-attach-point\x3d"${treeBusyNodeID}"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mw-overlay-utils/templates/busyOverlayTemplate.html":'\x3cdiv class\x3d"mw-busyIndicator" data-dojo-attach-point\x3d"_busyOverlayNode"\x3e\n\t\x3cdiv class\x3d"underlayNode" data-dojo-attach-point\x3d"_underlayNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"spinnerNode" data-dojo-attach-point\x3d"_spinnerNode" \x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"*now":function(e){e(['dojo/i18n!*preload*Startup/nls/Startup*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("Startup/Startup","dojo/_base/declare dojo/_base/lang dojo/query dojo/dom dojo/dom-construct dojo/topic dijit/Tree dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!Startup/templates/startup.html FPTTree/js/Tree FPTUtils/js/TreeHandler dojo/i18n!Resources/FixedPointTool/nls/fixedPointTool mw-utils/Utils FPTDispatcher/Dispatcher dojo/domReady!".split(" "),function(e,k,h,b,a,c,d,f,g,l,n,p,m,t,q,r){return e([g,l],{templateString:n,constructor:function(){e.safeMixin(this,{});if(""===
this._UUID||"undefined"===typeof this._UUID||null===this._UUID)this._UUID=q.generateUuid().toLowerCase();this._sudPublishChannel="/fpt/model/sud/"+this._UUID;this._closeChannel="/fpt/startup/close/"+this._UUID;this._treeRefreshChannel="/fpt/sud_refresh/"+this._UUID;this._enableCodeViewChannel="/fpt/enableCodeView/"+this._UUID},buildRendering:function(){this.inherited(arguments);this.tree=new p({AutoExpand:!1,ShowRoot:!0,fptTreeWidgetID:"startupTree",treeBusyNodeID:"startupBusy"});var b=a.create("span",
{id:"sudSummary",innerHTML:t.SUDSummary});this.startupText.appendChild(b);this.tree.placeAt(this.startupDialog)},postCreate:function(){this.inherited(arguments);this._treeHandler=new m(this.tree,"_startup_".concat(this._UUID));this._treeHandler.attachOnClickCallback(this,"setSelectedSystem");this._enableCodeViewSubscription=r.subscribe(this._enableCodeViewChannel,k.hitch(this,"_enableCodeViewLaunch"));this._closeSubscription=r.subscribe(this._closeChannel,k.hitch(this,"_sendSelectedSystem"))},setSelectedSystem:function(a){"FPTRoot"!==
a.identifier&&(this._SelectedSystem=a,this._ObjectClass=a["class"],this._sendSelectedSystem())},syncTreeInformation:function(){r.publish(this._treeRefreshChannel,{treeDepth:2})},destroy:function(){this.inherited(arguments);this._closeSubscription&&r.unsubscribe(this._closeSubscription,this._sendSelectedSystem,this);this._enableCodeViewSubscription&&r.unsubscribe(this._enableCodeViewSubscription,this._enableCodeViewLaunch,this);this._treeHandler.destroy();this._deleteWidgets()},_sendSelectedSystem:function(){r.publish(this._sudPublishChannel,
{SUD:this._SelectedSystem,ObjectClass:this._ObjectClass})},_enableCodeViewLaunch:function(a){c.publish("notifyEnableCodeview",a.data.enableCodeView)},_deleteWidgets:function(){var a=b.byId(this.startupText);if(a){var c=a.childNodes[0];c&&a.removeChild(c)}this.tree&&this.tree.destroyRecursive();this.tree=null},refreshTree:function(){this.tree.showTree()},expandDefaultNodes:function(){this._treeHandler._expandDefaultNodes()},getTreeWidget:function(){return this.tree.getTreeWidget()},getSpinnerWidget:function(){return this.tree.getSpinnerWidget()},
getUUID:function(){return this._UUID},getTreeDepth:function(){return this._treeHandler.getTreeDepth()},getSelectedItem:function(){return this.tree.getSelectedItem()},getDataForTreeID:function(a){return this.tree.getDataForTreeID(a)},fetchDataForTreeNode:function(a,b,c,d){a=this.tree._modelHierarchy.query({path:a});a[0]&&this._treeHandler.fetchDataForTreeNode(a[0],b,c,d)},attachOnDataAvailable:function(a){this._treeHandler.attachOnDataAvailable(a)}})});
//# sourceMappingURL=Startup.js.map